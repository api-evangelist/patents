---
title: Apparatus and method for integrating variable subsidiary information with main office information in an enterprise system
abstract: The present invention pertains to an enterprise-wide enterprise resource planning (ERP) system, and in particular, to methods and systems for interfacing the enterprise-wide ERP system with ERP systems at subsidiary organizations. In accordance with an embodiment of the present invention, a method includes connecting to an enterprise data management system through a data base server, a web service and a data interface application programming interface (API) in a remote data system and through a data mapping component and an intermediate documents (IDOC) adapter in a data exchange interface using simple object address protocol (SOAP) messages and extensible markup language (XML) messages.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07590987&OS=07590987&RS=07590987
owner: SAP AG
number: 07590987
owner_city: Walldorf
owner_country: DE
publication_date: 20030604
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATION ","FIELD OF THE INVENTION ","BACKGROUND ","DETAILED DESCRIPTION "],"p":["This application claims benefit of priority of U.S. patent application Ser. No. 60\/386,370, filed Jun. 5, 2002.","The present invention pertains to an enterprise-wide enterprise resource planning (ERP) management system, and in particular, to methods and systems for interfacing the enterprise-wide ERP management system with information systems at subsidiary organizations.","In today's large national and multi-national corporations, which frequently have numerous diverse small and middle-sized business subsidiaries, data integration between a corporate headquarters ERP management system and the ERP systems at each subsidiary can be an almost impossible task. In fact, up to 40% of all small and middle-sized businesses are subsidiaries of large corporations. It is common for subsidiaries to have implemented different solutions that are not completely compatible with the solutions at the corporate headquarters. It is also common for the subsidiaries to have access to fewer information technology resources than what is available at the corporate headquarters. This may occur for many reasons including: not using centralized planning and control to design the individual systems at each of the locations to be compatible; disparities in computing capabilities between the locations; or a subsidiary being purchased with a different existing information system. In addition, ERP systems at subsidiaries are often by design smaller and less capable, since the subsidiary system does not have the same data processing requirements as at the corporate headquarters.","Because of this system diversity, it can be extremely difficult, time consuming and expensive even to connect to all of the different ERP systems at diverse corporation's locations. In fact, it can be even more difficult, time consuming and expensive to enable all of the locations to be able to coherently share and use the information from each other location. Therefore, it would be desirable to be able to connect, easily and efficiently, a corporate headquarters ERP management system to all subsidiary ERP systems to enable the sharing of the information in each of the separate ERP systems.","Embodiments of the present invention provide improved methods and systems for seamlessly interfacing and scaling an enterprise-wide management information system, for example, an enterprise resource planning (ERP) management system at a headquarters location with ERP systems at subsidiary and\/or supplier organizations. For example, the functional systems with each ERP may include logistics\/supply, human resources, finance and the like. The ERP systems at the subsidiary and supplier organizations frequently are not similar and\/or directly compatible with the ERP system at the headquarters location. According to an embodiment of the present invention, an information exchange component may serve to integrate the headquarters ERP system with the subsidiary and\/or supplier ERP systems using standardized, predetermined query and response interfaces and\/or a data mapping tool. This information exchange component may also be referred to as an integration server. Thus, a user at a remote location may connect to the ERP using a data base server, a web server and a data interface application programming interface (API) at the remote location through a data mapping component and an intermediate documents (IDOC) adapter in a data exchange interface (XI). To enable this ease of connectivity, the present invention takes advantage of a significant level of information being relatively universal in ERP systems and to provide the standardized, predetermined query and response interfaces with which to facilitate the connection and request for and receipt of information. For example, the interfaces may make use of predetermined formats and\/or data mappings to make most user queries from the remote location and to display the results from the queries at the remote location. Therefore, embodiments of the present invention may be easily customized, are easy to implement, and help lower system costs for implementation and maintenance.","Similarly, according to the embodiment, a supply chain manager at the headquarters ERP system may use the connection to the subsidiary and\/or supplier systems to request information. In fact, the supply chain manager may use similar standardized, predetermined query and response interface formats specific to the type and\/or source of information being requested from the subsidiary and\/or supplier systems and to view the responses at the headquarters ERP system.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 1","FIG. 1"],"b":["100","100","110","120","130","120","120","130","140","130","130","140"]},"For example, in , in accordance with an embodiment of the present invention, data warehouse application  may include a mySAP Business Warehouse (BW) and interface application  may include an Exchange Infrastructure, both from SAP Aktiengesellschaft. User workstation  may be running an Internet browser program, for example, Internet Explorer\u00ae from Microsoft Corporation and\/or Netscape Communicator from Netscape Communications, and may be \u201clogged-on\u201d, that is, connected to, a web page (not shown) on a portal  via a network . A user may logon to the web page by entering a universal resource locator (URL) in an address field of the browser program. In accordance with an embodiment of the present invention, network  may be a communications network, such as, for example, an Intranet and\/or an Internet, and portal  may permit a user at workstation  to view information stored in ERP systems distributed at subsidiaries of the headquarters office. Portal  also may be connected to data warehouse application  and, in accordance with an embodiment of the present invention, may include an Enterprise Portal from SAP Aktiengesellschaft. In accordance with an embodiment of the present invention, user workstation , information management application , data warehouse application , interface application , network  and portal  may all be located at a single site, for example, a company's headquarters location.","In addition, embodiments of the present invention are contemplated in which the above-listed components may be located at multiple sites, generally, within the headquarter company's location. For example, the components may either be physically closely located, that is, within the same room or building, or separated, that is, in separate rooms, buildings, etc. within the headquarter company's location. However, it may also be possible to have the system components located in separate locations, for example, different cities, if the company has a decentralized structure.","In , in accordance with an embodiment of the present invention, interface application , network  and portal  may each be separately connected to one or more remote information management systems at subsidiary- . . . subsidiary-N - . . . -n. Each of the remote information management systems located at a regional office and\/or a subsidiary company may include, for example, a SAP Business One resource planning solution from SAP Aktiengesellschaft. In general, the data in each subsidiary's remote information management system may also be contained in data warehouse application . However, the data in data warehouse application  may not be the most current and may not be in exactly the same format as at each subsidiary. For example, the same data may be identified by different field names in a database at each subsidiary, and\/or may be stored in fields with different sizes. The use of different field names may occur when existing systems that were not originally developed to be compatible with each other are combined. The different sizes may also result from combining data from two or more fields at one subsidiary that are contained in separate fields at another subsidiary. Therefore, it may be necessary to \u201cmap\u201d, that is, convert the data from one format to another or to map fields with the same data but different field names when performing data reconciliation\/consolidation functions.",{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 2","FIG. 1","FIG. 2"],"b":["130","1","170","1","170","130","1","170","1","170","130","130"]},"An example of when a data transformation may occur, in , is during an inventory reconciliation\/consolidation between subsidiary- - and data warehouse application . Specifically, the data base at subsidiary- - may have stock items identified by a 20 character field named \u201cItem No.\u201d, while the data base at data warehouse application  may have stock items identified by an 18-character field named \u201cMaterial No.\u201d. For example, in such a situation the 20-character Item No. may contain the 18 characters contained in the Material No. field in the first 18 characters and a 2-character code in the last 2 characters to identify the specific supplier of that particular item may be contained in the last two characters in the field. Therefore, during a data reconciliation of the data at subsidiary- - with the data in data warehouse application , each 20-character Item No. from subsidiary- - may be mapped to the correct 18 character Material No. at data warehouse application . In addition, if tracked at data warehouse application , the 2 character supplier code may be stored in an appropriate location in data warehouse application , for example, a supplier code field that may be associated with each Material No. in data warehouse application .","Alternatively, the fields may have the same character length but only have different names, which may only require that the fields be mapped to each other during the data reconciliation\/consolidation. Likewise, the fields may have the same names but different character lengths, which, in addition to the mapping process, may need the data to be converted\/truncated to fit into the available space during the data reconciliation\/consolidation.","In accordance with another embodiment of the present invention, data requests may be sent from at least one of subsidiary- . . . subsidiary-N - . . . -n, for example, subsidiary- -, to data warehouse application . In this embodiment, subsidiary- - may send (-) to data warehouse application  an order for a number of a specific supply item. Data warehouse application  may identify a source, for example, subsidiary-N -n, for the number of the specific supply item and send (-n) an order to subsidiary-N -n to ship the desired number of the specific supply item to subsidiary- -. Subsidiary-N -n may send (-n) a verification of the order back to data warehouse application  which may send (-) the notification to subsidiary- -. Subsidiary-N -n may subsequently send (-n) a notification to data warehouse application  that the order has been shipped out, and data warehouse application  may send (-) the shipping notification to subsidiary- -. Although, the above embodiment is directed to a simplified, successful scenario for reasons of clarity, numerous other scenarios may exist. For example, the data warehouse application  may determine that the requested number of the specific supply item is not available at any of the other subsidiaries, either individually or in combination, and may send a message back to subsidiary- - to that effect, whereupon subsidiary- - may send back to data warehouse application  a cancellation or an order for whatever quantity of the specific supply item is available.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 3","FIG. 1","FIG. 3"]},"In , a user at workstation , for example, a supply chain manager in a company's headquarters office, may need to view, in real-time, the current stock on-hand inventory information at his subsidiaries to determine if and where he has the inventory to supply a manufacturing location. In accordance with embodiments of the present invention, and as described above in relation to , the supply chain manager may logon (, ) to a web page application at portal  to request information from several sources, for example, data warehouse application  and one or more of subsidiary- . . . subsidiary-N - . . . -n.","In , in accordance with an embodiment of the present invention, if the supply chain manager wants to see all of the available inventory at each subsidiary, he or she may send (- . . . -N) the request to one or more of subsidiary- . . . subsidiary-N - . . . -n from portal  to determine the current stock levels. To do this the supply chain manager may access portal  using an Internet browser program, for example, Internet Explorer from Microsoft Corporation and\/or Netscape from Netscape Communications, to connect to a web page\/application running on the portal. Once connected to portal , the supply chain manager may request information from one or more of subsidiary- . . . subsidiary-N - . . . -n. For example, the supply chain manager may request the information from subsidiary- - using one or more predetermined query formats. Each query format may be implemented as a program to retrieve and display pertinent data from internal and\/or external company resources on portal . Similarly, multiple web pages may be used to contain multiple query formats. For example, internal resources may include one or more of subsidiary- . . . subsidiary-N - . . . -n and external resources may include one or more of supplier- . . . supplier-M - . . . -M within the web page at portal . In general, each of the one or more predetermined query formats may be pre-configured with which of subsidiary- . . . subsidiary-N - . . . -n are to receive the request and send (- . . . -n) the request to the determined subsidiaries. Each of the receiving subsidiaries may respond to the request by sending (- . . . -n) a reply back to portal . The predetermined query format selected at portal  may either display () each subsidiaries response separately or it may consolidate the replies and display () the consolidated response in a predetermined response format inside the web page of portal . Once displayed, the user at workstation  may view the predetermined response format. According to the embodiment of the present invention, between workstation  and portal  there may only be web or Internet access of the web page at portal  using the URL of the web page. The predetermined response formats may each be implemented as a \u201csub window\u201d of the web page of portal . In general, the predetermined query and response formats are considered permanent and are not subject to change by the user. However, embodiments of the present invention are contemplated in which \u201ceditable\u201d, that is changeable by the user, versions of the predetermined query and response formats may be available.","A benefit of being able to make this request is that the supply chain manager may receive the most current consolidated inventory information from his or her subsidiaries, which may be more detailed and provide more up-to-date information than what is contained at either information management application  and\/or data warehouse application . This, of course, may depend directly on the amount of time that has elapsed since the last time the data at information management application  and\/or data warehouse application  was reconciled with data from subsidiary- . . . subsidiary-N - . . . -n.","In accordance with other embodiments of the present invention, data and\/or information requests may be sent to the supply chain manager at workstation  from at least one of subsidiary- . . . subsidiary-N - . . . -n. For example, subsidiary- - may send (-) to portal  a query for information on a specific supply item. Portal  may display () the query for the supply chain manager at workstation . The supply chain manager at workstation  may obtain the information and enter () the information into the web page format at portal . Portal  may send (-) the information back to subsidiary- -. Although, the above embodiment is directed to a simplified, successful scenario for reasons of clarity, numerous other scenarios may exist. For example, scenarios similar to those discussed above for , as well as others described herein, may also be possible.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 4","FIG. 1","FIG. 4"],"b":["140","140","140"]},"In , in accordance with an embodiment of the present invention, data requests may flow from the subsidiaries up to the corporate headquarters supply chain manager. For example, in an order fulfillment scenario, a salesperson at subsidiary- - may create an order (not shown) for a product to be sent to a customer and may send (-, ) the order to information management application  via interface application . The supply chain manager at workstation  may view the order on information management application , may ship out (not shown) the ordered product, and may send (, -) a message indicating that that the product was shipped to the salesperson at subsidiary- - from information management application  via interface application . The salesperson at subsidiary - may receive the message, generate an invoice to bill the customer and may send the bill out to the customer for payment.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 5","FIG. 4","FIG. 4","FIG. 5"],"b":["1","170","1","520","1","170","1","510","520","522","120","520","140","110","410","445","120"]},"In , in accordance with an embodiment of the present invention, application  may connect to data base server  by establishing a link with one or more objects in data base server . More specifically, application  may be used to send (, -) the order from data base server  through a web service component  in data base management system  using () a data interface (DI) application programming interface (API)  to interface application . More specifically, the order may be sent (, -) to an Extensible Stylesheet Language Transformations (XSLT) mapping component , which may be a part of a routing client  in an exchange infrastructure (XI)  in interface application . According to the embodiment, web service component  may enable communication between data base management system  and interface component  using, for example, simple object access protocol (SOAP) and extensible markup language (XML) messages. XSLT mapping component  may perform data mapping functions to ensure the format of the order is compatible with the format of the data in information management application , if necessary, and may send () the order, either the original or reformatted order, to an intermediate documents (IDOC) adapter  within interface application . IDOC adapter  may be used to connect components (or external systems) to interface application  using an IDOC communication format and may send () the order to a client application  running on an enterprise data base system  in information management application  where the supply chain manager may access the order from workstation  by viewing (, ) the order on information management application  through enterprise data base system . The supply chain manager may ship out (not shown) the ordered product, if available stock levels permit.","The supply chain manager may also send (, -) a message back to the salesperson at subsidiary- - on whether the product shipped, from information management application  via interface application . Specifically, the supply chain manager may send () the message from enterprise data base system  through client application  to IDOC adapter  in interface application . IDOC adapter  may send () the message to XI system , where XSLT mapping component  may send (-) the message to web service  in data base management system . Web service  may send () the message to data base server  via data interface API , where the message in data base server  may be viewed (, ) using application . The salesperson at subsidiary- - may view the message, generate an invoice to bill the customer and send the invoice out for payment and\/or to notify the customer that the order was placed, back-ordered and\/or shipped.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 6","FIG. 3","FIG. 3","FIG. 1","FIG. 6"],"b":["1","170","1","170","1","170","1","110","613","621","320","1","160","610","1","170","1","160","622","624","622","620","610","160","160","160","110","610","110","325","310","160","310","325","610"]},"In , the supply chain manager may use workstation  to obtain the information requested in the query from an external source, for example, information management application , and enter the information in the web page at portal . For example, although the  connection to information management application  is not shown here for reasons of clarity, in , if the information is not local to workstation , the supply chain manager may request the information from information management application . Portal  may display the information on the web page for application  to access (, , , -, -, ) via data base server  and\/or web service . The information may be displayed in the web page in a predetermined output format associated with the predetermined query. Although, the above embodiment is directed to a simplified, successful information request scenario, for reasons of clarity, numerous other scenarios may exist. For example, scenarios similar to those discussed above for , as well as others described herein, may also be possible.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 7","FIG. 2","FIG. 2","FIG. 7","FIG. 1"],"b":["1","170","1","170","1","170","1","130","710","713","722","720","722","721","724","215","1","135","130","724","723","726","720","130","135","210","1","724","720","723","726","722","726","725","722","722","714","710","130","1","170","1","1","170","1","130","710","720"]},{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 8","FIG. 8"]},"In , in accordance with an embodiment of the present invention, a subsidiary and\/or supplier sales system  may be connected to an exchange interface , which may be connected to a central planning system  and a central supply system  located at, for example, a company's headquarters office. Subsidiary sales system  may transfer () historical sales data  to central planning system  via exchange interface  where it may be used to generate () a revised demand plan estimate of future sales figures. Demand data  from the revised demand plan estimate may be accessed by a user at subsidiary sales system , who has logged-on to central planning system  via a web service and may be used to change () the revised demand plan kept at central planning system . Revised demand data  from the demand plan may be sent () back to central planning system  via exchange interface  where the revised demand plan may be updated (). The revised demand plan may be used to generate () a central demand plan at the corporate head office. It should be noted that the central demand plan in central planning system  may include data from more than just the single subsidiary described above. For example, the entire process may be repeated for each subsidiary and\/or supplier connected to the corporate head office before generating () the central demand plan.","In , in accordance with an embodiment of the present invention, subsidiary sales system  may also transfer () inventory and in-transit data, specifically, stock and stock in-transit data , to central planning system  via exchange interface  where the data can be combined with the central demand plan to perform () supply chain planning. As an output of the supply chain planning, a materials list  may be sent to central supply system  for use in generating () individual customer orders, from which sales data  may be sent back to subsidiary sales system  via exchange interface . Materials list  may include, but is not limited to, for example, a material item number, a quantity and a need-by\/demand date. Sales data  may be used by subsidiary sales system  to generate () a purchase order for items specified in sales data . The individual customer orders may also be used to create an outbound delivery advance(d) shipping notice (ASN) confirmation for each order, from which delivery data  may be sent to subsidiary sales system  via exchange interface . Delivery data  may be used to create () an inbound delivery ASN. The inbound delivery ASN may also be used to create () a goods receipt for the inbound delivery, which, in turn, may be used to create () an inbound invoice containing invoice data  at subsidiary sales system . The inbound invoice and invoice data  may be sent to central supply system  via exchange interface , and central supply system  may use invoice data  and information from created () outbound delivery ASN to create () an outbound invoice.","Several embodiments of the present invention are specifically illustrated and described herein. However, it should be appreciated that modifications and variations of the present invention are covered by the above teachings and come within the purview of the appended claims without departing from the spirit and intended scope of the invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS ","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0008","num":"0007"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 6","FIG. 3"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 7","FIG. 2"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
