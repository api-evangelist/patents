---
title: Quality of service packet processing without explicit control negotiations
abstract: Apparatuses, methods, systems, and computer program products to process QoS packets of wireless traffic without explicit control negotiations are disclosed. An embodiment may comprise a mobile computing device with wireless communications capabilities. The mobile computing device may be a client that associates or connects with an access point or communicates another client device, such as a peripheral device with wireless capabilities. The mobile computing device may monitor wireless packet traffic being transmitted from the mobile computing device. For example, the mobile computing device may monitor the packets being transmitted from a video streaming application to the peripheral device, which may comprise an LCD monitor that has wireless communications capabilities. The mobile computing device may mark the packets of the video stream as QoS packets even though the video streaming application may not do so, and place the marked packets in a QoS queue for priority processing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08274908&OS=08274908&RS=08274908
owner: Intel Corporation
number: 08274908
owner_city: Santa Clara
owner_country: US
publication_date: 20090724
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD","DETAILED DESCRIPTION OF EMBODIMENTS"],"p":["The present disclosure relates generally to the field of communications. More particularly, the present disclosure relates to quality of service (QoS) processing of wireless traffic without explicit control negotiations.","The following is a detailed description of novel embodiments depicted in the accompanying drawings. However, the amount of detail offered is not intended to limit anticipated variations of the described embodiments; on the contrary, the claims and detailed description are to cover all modifications, equivalents, and alternatives falling within the spirit and scope of the present teachings as defined by the appended claims. The detailed descriptions below are designed to make such embodiments understandable to a person having ordinary skill in the art.","Generally speaking, systems, apparatuses, methods, and computer program products to process QoS packets of wireless traffic without explicit control negotiations are contemplated. An apparatus embodiment may be a mobile computing device with wireless communications capabilities. The mobile computing device may be a client that associates or connects with an access point and communicates with the access point. Alternatively, or additionally, the mobile computing device may be a client device that communicates with another client device, such as a peripheral device with wireless capabilities.","After establishing a communications link with the access point or the other client device, the mobile computing device may monitor wireless packet traffic being transmitted from the mobile computing device. For example, the mobile computing device may monitor the packets being transmitted from a video streaming application to the peripheral device, which may comprise a liquid crystal display (LCD) monitor that has wireless communications capabilities. The mobile computing device may identify the stream from the video streaming application as a QoS data traffic stream, mark the packets of the video stream as QoS packets even though the video streaming application may not do so, and place the marked packets in a QoS queue for priority processing.","Various embodiments disclosed herein may be used in a variety of applications. Some embodiments may be used in conjunction with various devices and systems, for example, a transmitter, a receiver, a transceiver, a transmitter-receiver, a wireless communication station, a wireless communication device, a wireless Access Point (AP), a modem, a wireless modem, a Personal Computer (PC), a desktop computer, a mobile computer, a laptop computer, a notebook computer, a tablet computer, a server computer, a handheld computer, a handheld device, a Personal Digital Assistant (PDA) device, a handheld PDA device, a network, a wireless network, a Local Area Network (LAN), a Wireless LAN (WLAN), a Metropolitan Area Network (MAN), a Wireless MAN (WMAN), a Wide Area Network (WAN), a Wireless WAN (WWAN), devices and\/or networks operating in accordance with existing IEEE 802.16e, 802.20, 3 GPP Long Term Evolution (LTE) etc. and\/or future versions and\/or derivatives and\/or Long Term Evolution (LTE) of the above standards, a Personal Area Network (PAN), a Wireless PAN (WPAN), units and\/or devices which are part of the above WLAN and\/or PAN and\/or WPAN networks, one way and\/or two-way radio communication systems, cellular radio-telephone communication systems, a cellular telephone, a wireless telephone, a Personal Communication Systems (PCS) device, a PDA device which incorporates a wireless communication device, a Multiple Input Multiple Output (MIMO) transceiver or device, a Single Input Multiple Output (SIMO) transceiver or device, a Multiple Input Single Output (MISO) transceiver or device, a Multi Receiver Chain (MRC) transceiver or device, a transceiver or device having \u201csmart antenna\u201d technology or multiple antenna technology, or the like.","Some embodiments may be used in conjunction with one or more types of wireless communication signals and\/or systems, for example, Radio Frequency (RF), Infra Red (IR), Frequency-Division Multiplexing (FDM), Orthogonal FDM (OFDM), Orthogonal Frequency-Division Multiple Access (OFDMA), Time-Division Multiplexing (TDM), Time-Division Multiple Access (TDMA), Extended TDMA (E-TDMA), Code-Division Multiple Access (CDMA), Multi-Carrier Modulation (MDM), Discrete Multi-Tone (DMT), Bluetooth\u00ae, ZigBee\u2122, or the like. Embodiments may be used in various other apparatuses, devices, systems and\/or networks.","While some of the specific embodiments described below will reference the embodiments with specific configurations, those of skill in the art will realize that embodiments of the present disclosure may advantageously be implemented with other configurations with similar issues or problems.","Turning now to , there is shown an embodiment of a system  with a processor , a memory controller hub (MCH) , memory , and an I\/O controller hub (ICH) . In some embodiments system  may comprise a computer system, such as a notebook or a desktop computer. In other embodiments system  may comprise a different type of computing apparatus, such as a palmtop computer, a personal digital assistant (PDA), or a mobile computing device, as examples. System  may process QoS packets for wireless traffic without explicit control negotiations via, e.g., communications device .","Processor  may have one or more cores  coupled with cache . For example, processor  may have four cores coupled with internal processor cache memory. Processor  may execute operating instructions for programs and applications executed by users of system , such as instructions of a word processing application, a computer aided design (CAD) application, a file-transfer protocol (FTP) application, or a web browser, as just a few examples. Such software programs and related instructions may be stored in memory . The software programs may generate packets of data to be transmitted wirelessly. Some of the packets for one or more of the programs may need priority handling, in order to provide an acceptable experience by a user of system , such as an audio or video streaming application. In other words, if the data of the streaming applications are not wirelessly transmitted before the traffic of other applications that processor  may be executing, the result may be choppy video and\/or audio.","Processor  may execute the instructions in memory  by interacting with MCH . The types of memory devices comprising memory  may vary in different embodiments. In some embodiments, memory  may comprise volatile memory elements, such as two 1-gigabyte (GB) dynamic random access memory (DRAM) sticks. In other embodiments, memory  may comprise nonvolatile memory. For example in some embodiments memory  may comprise a flash memory module, such as a 4 GB flash memory card.","ICH  may allow processor  to interact with locally coupled external peripheral devices, such as keyboards, scanners, and data storage devices. Programs and applications being executed by processor  may interact with the external peripheral devices. Processor , memory , and the various devices coupled to ICH  may all consume various amounts of power. To conserve power, system  may perform various platform-level power management activities, based on the NNQ traffic, and enter one or more various modes to save or conserve power. For example, in at least one embodiment, system  may shut down three cores of cores  and only run on one core of processor  to conserve power. System  may be able to conserver power based on the activities of applications being executed and\/or the activities of devices, such as communications device .","System  may conserve power by switching one or more cores of cores  to different power levels, based on the activities of the applications and\/or communications device . For example, in one embodiment each core of cores  may be operated within six different power levels. A first power level may be referred to as \u201cPower Level 0\u201d, a second power level referred to as \u201cPower Level 1\u201d, and so on up to \u201cPower Level 5\u201d for a sixth power level. These different power levels are for one embodiment.","Other embodiments may have more or fewer predefined power levels and\/or power saving modes. In some embodiments, the power switching may be accomplished via interactions of processor  and communications device . For example a pattern classification algorithm executed by processor  in a driver of communications device  may enable processor  and other chipsets of system  to switch to other sleep states, such as advanced configuration and power interface (ACPI) \u201cCx\u201d states, and\/or to change power-adjusted frequency states, which may be referred to as \u201cP-states\u201d.","When operating at one power level, such as Power Level 5, a core may be operating in a relatively unrestricted fashion. In other words, the power level may provide the core with all the power that it needs to process instructions and prepare data for wireless transmission as rapidly as the core is able. Operating unrestricted in such a manner, however, may result in the core consuming large quantities of current and associated power. Conversely, when a core operates at a different power level, such as Power Level 0, it may operate much more slowly and process far fewer instructions than Power Level 5. Operating in this more restricted mode may allow the core to operate using a much smaller current. However, operating more slowly may result in the performance of the core being reduced. For example, if all cores of cores  operate at Power Level 1 or lower, system  may not be able to support certain operations of system , such as the continual operation of communication device . System  may, however, buffer data which may later be transferred to another device when system  switches to a different power level and provides data to communications device  for transmission. System  may buffer the data when, e.g., communications device  processes lower priority, non-QoS, data traffic.","Processor  may present information to a user via a display device coupled to Advanced Graphics Port (AGP) video card . For example, the type of display device may be a cathode-ray tube (CRT) monitor, an LCD screen, or a thin-film transistor flat panel monitor. To conserve power in one or more embodiments, system  may disable or otherwise switch video card  and\/or the display device into a low power mode based on the activities of applications and\/or communications of communications device . Worth emphasizing, in various embodiments, system  may conserve power by selectively shutting some down devices while leaving other devices operating. For example, communications device  may comprise a wireless network interface card (WNIC), with system  comprising a notebook computer. The notebook computer may disable or switch communications device  into a power saving mode, yet still execute an application and display results of the application to a user via video card . The form of communications device  may vary in different embodiments. For example, instead of comprising a WNIC, communication device  may comprise a network interface card (NIC).","As alluded to above, ICH  may allow processor  to store and retrieve data from USB device  via a Peripheral Component Interconnect (PCI) controller . For example, processor  may transmit and retrieve data via USB device  while running an application, such as when USB device  comprises a wireless communications card coupled to system  via a USB port. To conserve power, system  may enter a doze state, or alternatively a lower power level mode, which disables the wireless communications card of USB device .","In addition to USB device  and communications device , ICH  may also interact with Advanced Technology Attachment (ATA) devices, such as ATA hard drives, compact disc (CD) drives, and digital versatile disc (DVD) drives. As shown in , system  may have a serial ATA (SATA) hard drive  coupled to ICH . SATA hard drive  may be used to store an operating system, device drivers, and application software for system . For example, in some embodiments SATA hard drive  may store a Linux\u00ae, a Unix\u00ae, a Macintosh\u00ae OS X, a Windows\u00ae or some other operating system. Additionally, when system  enters a power saving mode, SATA hard drive  may store state data so that system  may restore machine state using the saved data upon exiting the power saving mode. For example, SATA hard drive  may store state data comprising register values, cache data, contents of memory , and data pertaining to previously established links with one or more stations of a peer-to-peer network.","ICH  may store and retrieve information in nonvolatile memory , as well as interact with an application specific integrated circuit (ASIC) . For example, nonvolatile memory  may comprise flash memory in some embodiments while comprising programmable read-only memory (PROM) or another type of memory in other embodiments. In embodiments where nonvolatile memory  comprises flash memory, system  may store state information before entering a power saving mode and load the state information upon exiting the power saving mode. In embodiments where nonvolatile memory  comprises PROM, nonvolatile memory may be used, e.g., to store operating instructions for system . For example, nonvolatile memory  may store operating instructions when system  comprises, e.g., a mobile device such as a cellular telephone.","In one or more embodiments, ASIC  may work in conjunction with processor  and\/or communication device . For example, system  may comprise a secure communication device, wherein ASIC  performs such functions as encryption and decryption of data transmitted and received via system . Upon entering a power saving mode, ASIC  may retain current state information of a communications link which system  may have established with another system or client device, such as a current set of encryption keys, by saving the information in a nonvolatile memory section of ASIC , in nonvolatile memory , or SATA hard drive , as examples. Upon exiting the power saving mode, ASIC  may retrieve the state information and use it to communicate with the other system or client device over the communications link.","In some embodiments ICH  may store and retrieve data using a Small Computer Systems Interface (SCSI) device . In such embodiments, system  may retain current state information for a communications link which system  may have established with another system, such as state information of processor  and memory , by saving the information in to a storage device coupled to SCSI device  before entering a power saving mode. Upon exiting the power saving mode, system  may retrieve the state information from the storage device of SCSI device  and use the state information to continue communicating with the other system over the communications link. In even further alternative embodiments, SCSI device  may comprise a communication device, such as a wireless communications card. In such embodiments, system  may use the wireless communications card to establish a communications link with, e.g., an access point or other station.","System , in other alternative embodiments, may comprise other types of hardware not depicted in , such as a sound card, a scanner, and a printer, as examples. Conversely, in different embodiments, system  may not comprise all of the elements of the embodiment shown in . For example, numerous embodiments of system  may not comprise SCSI device , SATA hard drive , USB , and ASIC . Additionally, the embodiment of system  employing MCH  and ICH  may differ in other alternative embodiments. That is to say, alternative embodiments may employ other types of bus and\/or hub arrangements.","System  may comprise a client in a wireless network. For example, system  may comprise a laptop  in a communications network , depicted in , wherein communications network  comprises a WLAN that conforms to an IEEE 802.11 standard, such as the 2007 version (see http:\/\/standards.ieee.org\/getieee802\/download\/802.11-2007.pdf). Embodiments described herein may enable two IEEE 802.11-2007 devices, such as laptop  and access point , to apply Quality of Service channel priority to egress traffic, traffic leaving the device, without performing any explicit QoS negotiations and counter negotiations. An embodiment may employ a scheme that classifies egress packets based on a number of criteria, described herein, to transmit the packets via different WLAN QoS queues. As a result, the scheme may extend the IEEE 802.11-2007 standard.","Laptop  may communicate with wireless display  and\/or access point . Access point  may be coupled with the Internet  via communications link . Using communications link  and the connectivity provided by access point , laptop  may access the Internet . The type of data content laptop  transfers between access point , wireless display , or other networking devices may vary greatly in different embodiments as well as in the same embodiment.","Laptop  and wireless display  may also be communicating in a peer-to-peer mode, with wireless display  and laptop  communicating with each other over direct link . That is to say, laptop  may transmit data directly to wireless display , without relying on access point . For example, a user of laptop  may want to play a Blu-ray\u2122 disc movie via wireless display . Laptop  may transmit the video and audio information of the movie from a multimedia application directly to wireless display , without the need for routing the video information through access point . Additionally, while playing the movie, the user of laptop  may call someone by way of voice over IP (VoIP) through access point . Additionally, the user of laptop  may concurrently send an e-mail or download a file by way of access point .","As one skilled in the art will appreciate, different applications have different requirements on the networking traffic data rate, delay, jitters, and other network communication specifications. To provide quality of service packet processing, networking traffic of communications network  could be classified and given different priorities to access the shared transmission medium. For example, the video and audio traffic between laptop  and wireless display  may generally need a higher priority than file-download traffic between laptop  and access point . Otherwise, if the file-download traffic consumes too much of the wireless bandwidth, the user may experience choppy or otherwise distorted audio\/video playback from wireless display .","In WLAN standards, 802.11e and Wi-Fi Multimedia\u2122 (WMM\u00ae) have been established to satisfy demanding wireless communication requirements. To enable QoS packet processing in the 802.11e and WMM\u00ae schemes, a networking application running at a wireless station generally needs to mark the time-sensitive networking packets as QoS packets. The 2007 standard defines explicit QoS features for bi-directional wireless traffic, such as data transmitted wirelessly between laptop  and access point . For example, a networking application of laptop  may mark audio-video packets to be transmitted to wireless display  as video packets.","However, to process QoS traffic according to the 2007 standard, laptop  and access point  may generally need to conduct complex negotiations to establish various QoS parameters, such as various traffic specification\/traffic classification (TSPEC\/TCLAS) parameters. Additionally, laptop  generally must configure the WLAN driver(s) to give effect to the negotiated parameters via application and operating system (OS) APIs (application programming interfaces). Establishing the QoS connection will help ensure the audio-video packets transmitted to wireless display  receive priority over other network traffic, such as the file-download traffic between laptop  and access point .","The QoS scheme according to the 2007 standard for 802.11 has not been widely accepted in commercial products. Video and voice applications, such as Skype\u2122, YouTube, and Cisco\u2122 softphone are generally configured to be generic and work independently across QoS and non-QoS WLAN drivers, so the applications do not incorporate the QoS API for negotiation. In other words, most networking applications do not mark packets for QoS. Therefore, all the networking packets originating from multiple web, audio, video, and voice applications on the same client are most often treated the same, which are treated as WLAN \u201cbest effort\u201d (BE) packets by default. As a result, applications may experience poor conditions on wireless networks, causing poor user experience on general purpose clients. Further, the WLAN QoS standard definition only applies to communications between an access point and a client. The WLAN QoS standard does not address client-to-client communications. In other words, the standard does not address communications like direct link  between laptop  and wireless display .","Another reason the QoS scheme according to the 2007 standard has not been widely accepted is due to excessive channel bandwidth usage related to the QoS negotiations. Usage data shows that WLAN channels frequently experience excessive QoS negotiations and counter-negotiations between the client and access point, effectively deteriorating the channel further by flooding management traffic. As a result of the excessive design, implementation, and configuration complexity, most clients no longer enable the QoS features.","Instead of implementing QoS according to the 2007 standard, an embodiment may implement QoS for transmitting various packets without conducting complex negotiations to establish various TSPEC\/TCLAS and other QoS parameters. An embodiment, which may have a prioritization engine within laptop , may segregate the packet streams sent by applications of laptop . In segregating the packet streams, the embodiment may determine that certain traffic streams have traffic patterns which match the traffic patterns of certain MPEG2\/MPEG4, high definition (HD), or web applications.","Upon determining that one or more of the traffic streams match the traffic patterns of known applications, the engine may classify the different packet streams for different treatment, with some streams receiving QoS priority treatment. The engine may mark the packets belonging to the different QoS streams, such as by setting bits of the \u201cDifferentiated Services\u201d (DiffServ) field  in the header information of the IP packet . DiffServ field  may indicate the level of service that the packet should receive when handled or processed by each router or station along the network transmission path. Each of the possible values of DiffServ field  may be mapped to a QoS policy, with each mapping being called a differentiated services codepoint (DSCP). After the prioritization engine marks the packets belonging to the different QoS streams, the prioritization engine may then process the streams differently than other BE packets, placing the packets of the QoS streams into one or more QoS priority queues for transmission.","The types of devices in communication network  may vary in different embodiments. For example, in one alternative embodiment laptop  may comprise an ultra-mobile personal computer (UMPC). In other alternative embodiments, laptop  may comprise a Mobile Internet Device (MID) or a smartphone. Wireless display  may comprise another type of peripheral device with wireless communications capabilities, such as a home stereo having built-in wireless communications capabilities that enable the stereo to receive and play streaming audio.","In an even further embodiment, laptop  may comprise a desktop computer employing an internal wireless NIC to communicate with wireless display  and\/or access point . Communications network  may comprise one of a variety of different 802.11 stations. Many embodiments may affect the packets that are sent between an access point and a client. Other embodiments may affect the packets that are sent between one client and another client.","In the discussion for , communications network  was described as a WLAN that conforms to an IEEE 802.11 standard, but for an alternative embodiment communications network  may also comprise a GSM mobile communication network. Further, in other alternative embodiments, other data transmission solutions, such as the packet switched data transmission system GPRS (General Packet Radio Service) of the GSM system and LPRF (Low Power RF) based on a low power radio signaling, may be applied in connection with the alternative embodiments. In even further alternative embodiments, the stations of communications network  may employ other wireless technologies, such as 802.16, 3G, or 4G.","A single laptop and peripheral device, as depicted in , may illustrate one scenario or arrangement of a communications network . In other embodiments, communication network  may have more devices involved in client-to-client (peer-to-peer) communications and\/or access point-to-client communications. For example, laptop  may mark packets for QoS processing when communicating with wireless display  over direct link  and communicating with another mobile device over an additional direct link.","To illustrate in further detail how laptop  or other wireless communication device may process QoS packets of wireless traffic without explicit control negotiations, we turn now to .  illustrates how a prioritization engine  may implement a Non-Negotiated QoS (NNQ) scheme and process QoS packets via a wireless network adapter driver . That is to say, one or more embodiments may implement prioritization engine  at the level of a network adapter driver. The network adapter controlled by driver  may support one or more standard communications protocols, such as standards of the IEEE 802.11e or the Wi-Fi Alliance (WMM\u00ae). Supporting one or more of the standards, the network adapter may receive a packet marked as a QoS packet and route the packet according to the corresponding QoS-category transmission queues, in the packet transmission path. For example, the network adapter may receive video (VI) packets or voice (VO) packets with corresponding QoS access categories from driver  and route the packets according to the VI or VO QoS access categories, using respective VI or VO transmission queues, respectively.","Prioritization engine  may receive the unmarked network packets (element ) from applications executing on a wireless station. By way of example, with reference to , laptop  may be executing numerous applications and using wireless communications to communicate with wireless display  and access point . A user of laptop  may be using a multimedia application to play a DVD on wireless display . At the same time, the user may be talking to someone over Internet  via a VoIP application, downloading a file using an FTP application, and having an e-mail application execute in the background of laptop  which periodically communicates with an e-mail server of Internet .","Without having formal negotiations for QoS prioritization of the wireless packets from the multimedia, VoIP, FTP, and e-mail applications, a prior art version of laptop  may treat all packets from each of the applications with equal priority and employ a WLAN \u201cBest Effort\u201d scheme to transmit the packets. Contrastingly, a laptop employing prioritization engine  may implement a set of policies and criteria for traffic-flow classification, for outgoing traffic, without the need for formal negotiations. According to an embodiment, prioritization engine  may receive the packets from the applications which need to be transmitted (element ). Prioritization engine  may segregate the packet streams sent by the applications. For example, prioritization engine  may segregate the streams of packets from the multimedia, VoIP, FTP, and e-mail applications.","Using one or more mechanisms, prioritization engine  may identify one or more of the traffic streams, such as recognizing that a stream has traffic patterns which match a specific application. An example would be prioritization engine  recognizing that a stream from the multimedia application, being transmitted to wireless display  via link , matches a MPEG2\/MPEG4 audio-video stream. The prioritization engine  may further determine that a stream from the VoIP application matches a voice application stream, and determine that the FTP and e-mail streams match web application streams.","Prioritization engine  may also classify the different packet streams for appropriate QoS processing. For example, upon determining that several of the transmitted streams match video and voice applications which cannot tolerate delayed transmission for acceptable user performance, prioritization engine  may classify packets for the video and voice applications as having higher transmission priorities than the web applications. According to the determined classifications and priorities, prioritization engine  may mark packets which belong to the different streams. For example, prioritization engine  may mark packets belonging to the DVD multimedia application and the VoIP application, enabling these applications to receive priority treatment, yet leave packets of the web applications unmarked for BE processing, or marked with an alternative priority specification\/classification for differentiated processing.","Wireless network adapter driver  may process the QoS-marked packets for the video stream  and voice stream , as well as process packets of the best effort stream , using different transmission queues , dynamically allocated queues , and various first-in first-out (FIFO) buffers , according to the marked QoS access categories. In other words, driver  may associate different transmission queues  with different priorities to access the shared transmission medium, which provides differentiated QoS. That is to say, driver  may process packets of the video stream  and voice stream  using queues  and FIFO buffers  that give the video and voice packets priority over packets of the BE stream , transmitting the video and voice packets with less delay than the BE packets.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 3","FIG. 3"]},{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 4","FIG. 3"],"b":["420","424","426","428","430","432","420"]},"Alternative embodiments may employ alternative and\/or additional methods to identify the various traffic streams. In other words, determining a 5-tuple match according to  is for illustration of one embodiment. Alternative embodiments are not necessarily limited to examining the 5-tuple data. Further, embodiments may also match other types of traffic, such as matching packets of User Datagram Protocol (UDP) traffic, or other point-to-point traffic, such as peer-to-peer video traffic transmitted wirelessly.","An NNQ prioritization engine may use different filters to check different packet fields. Upon examining a packet and determining that one or more field values match predetermined criteria, the prioritization engine may mark the packet and other packets of the stream to indicate the packets belong to the corresponding QoS access category. For example, if a packet has a source IP address=192.168.2.1, source port number=201, protocol type=Real-time Transport Protocol (RTP), then the prioritization engine may determine that the packet matches a video \u201cVI\u201d QoS category  and mark the packet as a VI packet. If a packet has a source IP address=192.168.2.1, source port number=301, and protocol type=Real Time Streaming Protocol (RTSP), then the prioritization engine may determine that the packet matches a voice \u201cVO\u201d QoS category  and mark the packet as a VO packet.","Various embodiments may enable adaptive configuration of the packet filters, as the NNQ Engine may identify values by using a per-flow traffic pattern matching mechanism . Some embodiments may additionally or alternatively enable manual configuration of the packet filters, such as by using a user interface-based application  for the network driver. For embodiments that have an adaptive pattern matching mechanism , the embodiments may monitor each connection flow and analyze the traffic flow for a specific pattern. As a specific example, an embodiment may monitor and analyze the traffic flow for a pattern related to packet data rate.","If the prioritization engine determines that a pattern of the traffic flow matches the pattern of a known QoS application or specification, the prioritization engine may add a new filter entry for the flow. For example, a user may own an Ethernet-enabled home stereo system capable of receiving and playing audio content from an Internet radio station. After the user tunes to a specific radio station on the Internet, and after the stereo system has established a wireless communication link with access point , a prioritization engine located in access point  may analyze the packets of the audio stream, recognize that the packets are being transmitted from a source IP address and a source port number known to be audio content from an Internet radio station, and dynamically add a new entry in filter  with a QoS category  of \u201cAU\u201d, or \u201cVI\u201d if filter  does not already have a VI QoS category. With a specific filter entry, access point  may prioritize subsequent packets transmitted from the Internet radio station and transmit the prioritized packets before, e.g., lower priority file transfer packets being transmitted to laptop .",{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 4","FIG. 4"]},"An embodiment may determine a pattern match for a QoS application using packet size, such as recognizing packets having a 64 byte voice pattern. Some embodiments may match the pattern of a QoS application based on packet ingress and egress arrival rates. For example, an embodiment may determine that the number of transmitted frames per second of a stream match a specific transmission standard for standard-definition television (SDTV) or high-definition television (HDTV). Alternatively, an embodiment may determine that the number of transmitted frames per second, transmitted at a rate of once per 20 milliseconds, matches the voice packet transmission rate of a known voice application. Further alternative embodiments may employ deep packet inspection to identify the type of video traffic. For example, an embodiment may employ deep packet inspection to identify video stream fragments, MPEG2 I\/P\/B frames, SDTV packets, and\/or HDTV packets.","As  illustrate, an embodiment may allow different applications, including legacy non-QoS applications, to obtain QoS priority on a wireless communication channel. Operations of the prioritization engine may enable QoS packet handling yet eliminate complex QoS negotiations and counter-negotiations, because the networking applications may not be required to establish a QoS priority for packets of the applications.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":["FIG. 5","FIG. 2"],"b":["500","510","260","210","280"]},"When the driver software receives a packet for wireless transmission (element ), such as from the web browsing application or the multimedia playback application, a prioritization engine of the driver may engage in a number of activities to classify and mark the packet for QoS processing. The prioritization engine may first determine whether one or more values of the 5-tuple set of values of the packet match an entry of a table for a filter (element ). For example, the prioritization engine may receive an audio-video packet from the multimedia playback application that needs to be transmitted to wireless display . The prioritization engine may determine that the destination IP address and destination port of the 5-tuple for the packet match the destination IP address and destination port for wireless display . Whenever wireless display  was turned on and went through an initialization process, wireless display  may have created a peer-to-peer association with laptop . As part of the association activities, the network driver software may create an entry in the filter table which establishes that any packets transmitted to a specific port of wireless display  are to be video packets and should have a \u201cvideo\u201d QoS classification category. Using the pre-established entry in the filter table, the prioritization engine may determine the packet is a \u201cvideo\u201d packet based on the destination IP address and destination port of the packet match.","Upon matching the packet with an established QoS category, the prioritization engine may mark the packet according to the matched QoS category (element ) and forward the packet to a queue for further processing and transmission (element ). Continuing with the previous example, the prioritization engine may mark the packet as a \u201cvideo\u201d or \u201cVI\u201d packet via the packet header and place the packet in a high priority QoS queue. Upon placing the packet in the queue, the embodiment may return to waiting for an application to forward one or packets for wireless transmission (element ).","If the prioritization engine determines that values of the 5-tuple set for the packet do not match an entry of a table for a filter (element ), the prioritization engine may then attempt to categorize the packet according to traffic flow data (element ). One method of categorizing the packet according to traffic flow data may comprise matching traffic flow data of the packet to a known QoS traffic pattern (element ). An example of matching traffic flow data of the packet to a known QoS traffic pattern may be for an embodiment to compare the source IP address and source port and\/or the destination IP address and destination port of the packet with a table of known applications which lists the IP addresses and ports that the applications use. Another example would be for an embodiment to compare the traffic protocol identifier and packet size of the packet with a table of known applications which lists the protocols and packet sizes that the applications use.","Another method of categorizing the packet according to traffic flow data may comprise a more thorough or in-depth analysis of the packet data (element ). An example of deep packet inspection may comprise the prioritization engine examining data of the packet and identifying a video stream fragment as an HDTV-encoded video segment. If the prioritization engine determines that traffic flow data of the packet matches a known QoS traffic pattern (element ), or that a deep packet inspection reveals that the packet matches a known QoS traffic pattern (element ), an embodiment may add a new filter entry for the QoS traffic flow, such as by adding the 5-tuple data of the packet to a filter table (element ).","Upon adding the QoS traffic flow to the filter (element ), an embodiment may continue by marking the packet according to the added QoS category (element ) and forwarding the packet to a queue for further processing and transmission (element ). Alternatively, if an embodiment is unable to categorize the packet to a traffic flow by matching a known QoS traffic pattern (element ) or by deep packet inspection (element ), the embodiment may leave the packet unmarked and forward the packet to one or more BE queues (element ). Instead of leaving the packet unmarked, an alternative embodiment may create a new low-priority filter entry for the QoS traffic flow, mark the packet according to the newly created QoS category and forward the packet to a queue for further processing and transmission (element ).",{"@attributes":{"id":"p-0067","num":"0066"},"figref":["FIG. 7","FIG. 7"],"b":["700","700","700","700"]},"In alternative embodiments, one or more of the modules of apparatus  may comprise hardware-only modules. For example, receiver module  and analysis module  may comprise a portion of an integrated circuit chip, comprising memory elements and a state machine, in a computing device. In such embodiments, the memory elements of receiver module  may work in conjunction with the state machine of analysis module , buffering data of received packets until analysis module  may analyze the packets for QoS marking.","Receiver module  may receive and buffer header and payload data for packets to be transmitted from apparatus . For example, receiver module  may comprise memory elements coupled to a wireless antenna in a network interface card. In one embodiment, receiver module  may receive payload data from a networking application, such as a multimedia application generating packets for wireless transmission to another station of the wireless network, such as wireless display  in .","The networking application may indicate to apparatus  which bytes of data, or payload, are to be transferred. Further, the networking application may specifically instruct apparatus , by transferring header data to apparatus , that the payload data should be transferred using BE QoS processing. For example, the networking application may transfer packet setup data and other parameters or settings, along with the payload data, to receiver module . The setup data or other parameters may enable QoS module  to assemble the header data and the payload data of the packet based on the setup data or other parameters. Alternatively, the networking application may not specify a particular QoS category for the payload data, wherein QoS module  may default to the BE QoS when assembling or creating the header data.","Worth emphasizing for clarity, the term \u201cheader data\u201d may refer to the bytes of data which are transmitted immediately preceding the payload data of the packet. For example, header data may comprise word # through word # in , or the 40 bytes of IPv6 header  depicted in . Additionally, the term \u201cheader data\u201d may refer to the data provided by a networking application that is used to assemble the header of the packet. For example, the networking application may specify certain transmission parameters or settings, such as \u201cQoS_AC=BE\u201d, whereupon QoS module  may use the parameters to create the packet header, such as by setting the bits of DiffServ field .","Analysis module  may work in conjunction with receiver module  to analyze the header data of the packet, the payload data of the packet, or both. For example, analysis module  may comprise processor  executing coded instructions, stored in memory , of a driver for communication device . Receiver module  may comprise a buffering memory element coupled to the receiving circuitry of communication device . The networking application may comprise a softphone application stored in memory  and being executed by processor . After receiver module  receives a packet of data from the softphone application, a prioritization engine of analysis module  may first determine whether one or more values of the 5-tuple set of values of the packet match an entry of a filter table. Based upon a match with a pre-established entry in the filter table, the prioritization engine may determine the packet is a \u201cvoice\u201d packet based on the destination IP address and destination port of the packet match.","Upon determining a match with an existing QoS access category, QoS module  may mark the packet to enable QoS handling of the packet via stations of the wireless network, which includes a station that comprises apparatus . Continuing with our example, QoS module  may comprise a component of the prioritization engine and driver for communication device . Based on the match with the \u201cvoice\u201d (VO) QoS access category, QoS module  may mark the packet as a \u201cVO\u201d packet via the packet header and place the packet in a high priority \u201cVO\u201d QoS queue. For example, QoS module  may set bits in DiffServ field , illustrated in , or in the Traffic Class field  and\/or Flow Label field , illustrated in .","The number of modules in an embodiment of apparatus  may vary. Some embodiments may have fewer modules than those module depicted in . For example, one embodiment may integrate the functions described and\/or performed by analysis module  with the functions of QoS module  into a single module. Further embodiments may include more modules or elements than the ones shown in . For example, alternative embodiments may include two or more receiver modules  and two or more analysis modules .","Apparatus  may comprise a component in a station of an 802.11e or legacy . wireless communication network. By default, stations of a wireless LAN may operate in a Constant Access Mode (CAM) which means that the stations are always on listening for traffic. To save power, such as when a system containing apparatus  comprises a battery-powered device like a hand-phone or other portable device, apparatus  may trigger the release of buffered data from an access point by sending an uplink data frame. Upon receipt of such data, or trigger frame, the AP may release previously buffered data stored in each of its queues. Queues may be configured to be trigger-enabled, such as by the receipt of a data frame corresponding to the queue which acts as a trigger, and delivery-enabled, such as by releasing data stored at the queues upon receipt of a frame.","Further, a system comprising apparatus  may enter a sleep mode called Polled Access Mode (PAM) without losing frames. In PAM, the AP may buffer packets due for apparatus  until the system comes out of sleep mode. The AP may send out the information on which the system and other stations have frames due to them within frames called Traffic Information Maps (TIM). A client may receive the TIMs and wake just long enough to receive whatever frames have been buffered for the client before the client goes back to sleep. If broadcast traffic is available then the AP may send a Delivery Traffic Information Map (DTIM).","Another embodiment is implemented as a program product for implementing systems and methods described with reference to . Embodiments can take the form of an entirely hardware embodiment, an entirely software embodiment, or an embodiment containing both hardware and software elements. One embodiment is implemented in software, which includes but is not limited to firmware, resident software, microcode, etc.","Furthermore, embodiments can take the form of a computer program product accessible from a computer-usable or computer-readable medium providing program code for use by or in connection with a computer or any instruction execution system. For the purposes of this description, a computer-usable or computer readable medium can be any apparatus that can contain, store, communicate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device.","The medium can be an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system for apparatus or device). Examples of a computer-readable medium include a semiconductor or solid state memory, magnetic tape, a removable computer diskette, a random access memory (RAM), a read-only memory (ROM), a rigid magnetic disk, and an optical disk. Current examples of optical disks include compact disc-read only memory (CD-ROM), compact disc-read\/write (CD-R\/W), and DVD.","A data processing system suitable for storing and\/or executing program code will include at least one processor coupled directly or indirectly to memory elements through a system bus. The memory elements can include local memory employed during actual execution of the program code, bulk storage, and cache memories which provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved from bulk storage during execution.","Input\/output or I\/O devices (including but not limited to keyboards, displays, pointing devices, etc.) can be coupled to the system either directly or through intervening I\/O controllers. Network adapters may also be coupled to the system to enable the data processing system to become coupled to other data processing systems or remote printers or storage devices through intervening private or public networks. Modems, cable modem, and Ethernet adapter cards are just a few of the currently available types of network adapters.","The logic as described above may be part of the design for an integrated circuit chip. The chip design is created in a graphical computer programming language, and stored in a computer storage medium (such as a disk, tape, physical hard drive, or virtual hard drive such as in a storage access network). If the designer does not fabricate chips or the photolithographic masks used to fabricate chips, the designer transmits the resulting design by physical means (e.g., by providing a copy of the storage medium storing the design) or electronically (e.g., through the Internet) to such entities, directly or indirectly. The stored design is then converted into the appropriate format (e.g., GDSII) for the fabrication of photolithographic masks, which typically include multiple copies of the chip design in question that are to be formed on a wafer. The photolithographic masks are utilized to define areas of the wafer (and\/or the layers thereon) to be etched or otherwise processed.","The resulting integrated circuit chips can be distributed by the fabricator in raw wafer form (that is, as a single wafer that has multiple unpackaged chips), as a bare die, or in a packaged form. In the latter case, the chip is mounted in a single chip package (such as a plastic carrier, with leads that are affixed to a motherboard or other higher level carrier) or in a multichip package (such as a ceramic carrier that has either or both surface interconnections or buried interconnections). In any case, the chip is then integrated with other chips, discrete circuit elements, and\/or other signal processing devices as part of either (a) an intermediate product, such as a motherboard, or (b) an end product. The end product can be any product that includes integrated circuit chips, ranging from toys and other low-end applications to advanced computer products having a display, a keyboard or other input device, and a central processor.","It will be apparent to those skilled in the art having the benefit of this disclosure that the present disclosure contemplates QoS processing of wireless traffic without explicit control negotiations, for communication devices associated with wireless networks. It is understood that the form of the embodiments shown and described in the detailed description and the drawings are to be taken merely as examples. It is intended that the following claims be interpreted broadly to embrace all variations of the example embodiments disclosed.","Although the present disclosure has been described in detail for some embodiments, it should be understood that various changes, substitutions, and alterations can be made herein without departing from the spirit and scope of the disclosure as defined by the appended claims. Although specific embodiments may achieve multiple objectives, not every embodiment falling within the scope of the attached claims will achieve every objective. Moreover, the scope of the present application is not intended to be limited to the particular embodiments of the process, machine, manufacture, composition of matter, means, methods, and steps described in the specification. As one of ordinary skill in the art will readily appreciate from this disclosure, processes, machines, manufacture, compositions of matter, means, methods, or steps presently existing or later to be developed that perform substantially the same function or achieve substantially the same result as the corresponding embodiments described herein may be utilized. Accordingly, the appended claims are intended to include within their scope such processes, machines, manufacture, compositions of matter, means, methods, or steps."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Aspects of the embodiments will become apparent upon reading the following detailed description and upon reference to the accompanying drawings in which like references may indicate similar elements:",{"@attributes":{"id":"p-0004","num":"0003"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0005","num":"0004"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 6A"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 6B"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
