---
title: System and method for distributed modeling of real time systems
abstract: A system for modeling real time systems includes a plurality of modules for modeling components of a system. Each module represents a single component of the system or other systems that compete for system resources. In one embodiment, each module is XML-based. Each module can also include instructions to log appropriate transactions. The system creates the loads and delays which are then logged for later analysis.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07664846&OS=07664846&RS=07664846
owner: Siemens Communications, Inc.
number: 07664846
owner_city: Boca Raton
owner_country: US
publication_date: 20031126
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF EMBODIMENTS OF THE INVENTION","EXAMPLES"],"p":["The present invention relates to realtime systems and, in particular, to an improved system and method for modeling the performance and delay characteristics of realtime communications systems.","Realtime systems and, in particular, realtime telecommunications systems are becoming increasingly complex. System delay and system load are important performance criteria. During system development, simulation tools are sometimes used to simulate load and delay.","However, such simulation tools can be disadvantageous in that each component must be separately simulated. Furthermore, to accurately determine system load and delay, other software applications and systems overhead should be taken into account. As can be appreciated, the more accurate a simulation is desired, the more complex the simulation itself must be.","As such, there is a need for an improved system and method for validating real-time system architecture. In particular, there is a need for an improved system and method for validating a real-time telecommunication system.","These and other drawbacks in the prior art are overcome in large part by a system and method according to embodiments of the present invention.","A system for modeling real time systems includes a plurality of modules for modeling components of a system. Each module represents a single component of the system or other systems that compete for system resources. In one embodiment, each module is defined by an XML-based script. The scripts describe the communication, load and delay behavior of the modules. Using the script, a module can originate, receive or forward messages, while introducing specified load and delay. Furthermore, the scripts can also include instructions to log the messages that contain the history of delays introduced at different modules.","A better understanding of these and other specific embodiments of the invention is obtained when the following detailed description is considered in conjunction with the following drawings.","Telecommunications System Overview","Turning now to the drawings and, with particular attention to , a diagram of an exemplary system  suitable for modeling and including a modeling system according to an embodiment of the present invention is shown. It is noted that while a particular telecommunications system is shown, the modeling system of the present invention is suitable for modeling a variety of systems; thus, the figures are exemplary only. As shown, the telecommunications system  includes a local area network (LAN) . The LAN  may be implemented using a TCP\/IP network and may implement voice or multimedia over IP using, for example, the Session Initiation Protocol (SIP). Operably coupled to the local area network  is a server . The server  may include one or more controllers , which may be embodied as one or more microprocessors, and memory  for storing application programs and data. In certain embodiments, the controller  implements an instant messaging system . The instant messaging system may be embodied as Microsoft Windows Messenger or other instant messaging system. Thus, according to certain embodiments of the present invention, the instant messaging system  implements the Microsoft .Net environment  and Real Time Communications protocol (RTC) .","Also coupled to the LAN  is a gateway  which may be implemented as a gateway to a private branch exchange (PBX), the public switched telephone network (PSTN) , or any of a variety of other networks, such as a wireless or cellular network. In addition, one or more LAN telephones -and one or more computers -may be operably coupled to the LAN .","The computers -may be personal computers implementing the Windows XP operating system and thus, Windows Messenger. In addition, the computers -may include telephony and other multimedia messaging capability using, for example, peripheral cameras, microphones and speakers (not shown) or peripheral telephony handsets . In other embodiments, one or more of the computers may be implemented as wireless telephones, digital telephones, or personal digital assistants (PDAs). Thus, the figures are exemplary only. As shown with reference to computer , the computers may include one or more controllers , such as Pentium-type microprocessors, and storage  for applications and other programs.","Finally, the computers -, as well as the other network devices, such as the server , may implement modeling tool systems  according to embodiments of the present invention. As will be described in greater detail below, the modeling tools  allow for distributed modeling of various components of the telecommunication system . In particular, the modeling system  implements a message driven modeling that creates actual load in terms of CPU, memory, I\/O and thread\/process\/kernel context switching and paging. As will be explained in greater detail below, a model definition language is used to define the behavior of each module of the system, and provides a message and log structure that allows the history of message traversal to be through various modules to be recorded and analyzed. Delay characteristics can be analyzed based on a collection of message exchanges. Modules may be selectively distributed on different systems, e.g., on various servers or network components.","Turning now to , a functional model diagram illustrating an exemplary server having components that may be modeled is shown. More particularly,  is a logical diagram illustrating a particular embodiment of a multimedia server , which may include one or more components that may be modeled using the modeling system of embodiments of the present invention. The server  includes a plurality of application modules , etc., and a communication broker module . One or more of the application modules and communication broker module  may include an inference engine, i.e., a rules based artificial intelligence engine for implementing functions according to the present invention, as will be described in greater detail below. In addition, the server  provides interfaces, such as APIs (application programming interfaces) to SIP phones  and gateways\/interworking units .","According to the embodiment illustrated, the broker module  includes a basic services module , an advanced services module , an automation module , and a toolkit module .","The basic services module  functions to implement, for example, phone support, PBX interfaces, call features and management, as well as Windows Messaging and RTC add-ins, when necessary. The phone support features allow maintenance of and access to buddy lists and provide presence status.","The advanced services module  implements function such as presence, multipoint control unit (MCU), recording, and the like. MCU functions are used for voice conferencing and support ad hoc and dynamic conference creation from a buddy list following the SIP conferencing model for ad hoc conferences. In certain embodiments, support for G.711 and G.723.1 codecs is provided. Further, in certain embodiments, the MCU can distribute media processing over multiple servers using the MEGACO protocol.","Presence features provide device context for both SIP registered devices and user-defined non-SIP devices. Various user contexts, such as In Meeting, On Vacation, In the Office, etc., can be provided for. In addition, voice, e-mail and instant messaging availability may be provided across the user's devices. The presence feature enables real time call control using presence information, e.g., to choose a destination based on the presence of a user's devices. In addition, various components have a central repository for presence information and for changing and querying presence information. In addition, the presence module provides a user interface for presenting the user with presence information.","In addition, the broker module  may include the ComResponse platform, available from Siemens Information and Communication Networks, Inc. ComResponse features include speech recognition, speech-to-text, and text-to-speech, and allow for creation of scripts for applications.","In addition, real time call control is provided by a SIP API  associated with the basic services module . That is, calls can be intercepted in progress and real time actions performed on them, including directing those calls to alternate destinations based on rules and or other stimuli. The SIP API  also provides call progress monitoring capabilities and for reporting status of such calls to interested applications. The SIP API  also provides for call control from the user interface.","According to the embodiment illustrated, the application modules include a collaboration module , an interaction center module , a mobility module , an interworking services module , and can also include a modeling system module .","The collaboration module  allows for creation, modification or deletion of a collaboration session for a group of users. The collaboration module  may further allow for invoking a voice conference from any client. In addition, the collaboration module  can launch a multi-media conferencing package, such as the WebEx package. It is noted that the multi-media conferencing can be handled by other products.","The interaction center  provides a telephony interface for both subscribers and guests. Subscriber access functions include calendar access and voicemail and e-mail access. The calendar access allows the subscriber to accept, decline, or modify appointments, as well as block out particular times. The voicemail and e-mail access allows the subscriber to access and sort messages.","Similarly, the guest access feature allows the guest access to voicemail for leaving messages and calendar functions for scheduling, canceling, and modifying appointments with subscribers. Further, the guest access feature allows a guest user to access specific data meant for them, e.g., receiving e-mail and fax back, etc.","The mobility module  provides for message forwarding and \u201cone number\u201d access across media, and message \u201cmorphing\u201d across media for the subscriber. Further, various applications can send notification messages to a variety of destinations, such as e-mails, instant messages, pagers, and the like. In addition, the subscriber can set rules that the mobility module  uses to define media handling, such as e-mail, voice and instant messaging handling. Such rules specify data and associated actions. For example, a rule could be defined to say \u201cIf I'm traveling, and I get a voicemail or e-mail marked Urgent, then page me.\u201d","Function of the modeling system and module  is explained in greater detail below; various functions of the modules described above may be modeled using the system .","System Function","Turning now to , a signaling diagram illustrating exemplary function which is modeled by the present invention is shown. In particular, handling of a SIP invite request by an embodiment of the present invention is shown. It is noted that other functions, such as other packet network telephony and system-load related functions also may be modeled. Illustrated are a SIP phone , a SIP phone , RTC server , and interfaces including an assistant engine (e.g., communication broker) , and virtual assistant (e.g., applications program) .","In certain embodiments, the virtual assistant  is a component that allows the subscriber to control the processing of a communication session. A communications session may be a single phone call, an email or an instant message session. A set of rules called priority profiles are called into play when any session associated with the subscriber, outbound or inbound, occurs. The virtual assistant  is aware of the devices associated with the user. These can include registered devices (SIP phones and clients registered to the user) and associated devices (mobile phones or home phones). The Assistant  uses the Priority Profiles and information about the presence of the users and the availability of their devices (registered and associated) to connect sessions to the user using the appropriate device.","The virtual assistant  also allows the user to create and manage collaborative sessions. Collaboration groups can be set up once and remain persistent over multiple voice or multimedia conferencing sessions. Each collaboration can have a data storage area the contains documents and files that collaboration members may wish to access before, during, or after the voice conference. Collaborations include definition of participants, storage and\/or retrieval of associated documents, and notification to users.","In one embodiment, the Assistant Engine  component provides an application programming interface on top of the SIP protocol stack (not shown). This application programming interface is based on the industry standard ECMA-323 (a.k.a. CSTA 3 XML) and acts on SIP messages to translate the SIP messages to CSTA-3 events. It also accepts CSTA-3 requests, and generates SIP messages to implement the requests. This functionality allows a CSTA-3 application such as the Virtual Assistant  to influence the handling of a session. The use of CSTA-3 also opens up the opportunity to adapt and re-use a wide range of enterprise communication applications available on CSTA, such as CRM, ERP, and eCommerce applications. SIP is still the signaling protocol on the wire; therefore, interoperability with SIP devices is maintained.","Typically, as noted above, the RTC server, assistant engine, and virtual assistant may be run on the same computer, along with a web server and database (not shown).","In operation, the SIP phone A issues a SIP Invite request at . The RTC server  receives the SIP invite and forwards it to the assistant engine  at . The assistant engine  notifies the virtual assistant, at . The virtual assistant processes the message at , and responds, at . The assistant engine  then issues its SIP invite, at . The RTC server then forwards this to the SIP phone B , at .","Modeling System","As can be appreciated, a system can include a large number of SIP phones; all the server components can experience loads and delays resulting from simultaneous attempts to access system resources such as CPU and memory. A modeling system of the present invention allows measurement of load and delay characteristics by simulating the behavior of individual modules.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 4","b":["402","404","406","408","410","412","404","404","408","406","402"]},"More particularly, the operation and interaction of the various server and network wide components can be important. As such, the modeling system of the present invention provides distributed modules that may include database logs, as will be explained in greater detail below.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 5","b":["1000","1000","502","504","506","506"],"i":["a","n. "]},"\u201cModule\u201d refers to each instance of the modeling system. A module  represents a Real-Time system component. The behavior of the module is defined using a Module Definition Language (MDL) in an MDL file. The modules that model the Real-Time Communication system can be all running on the same system or on different systems.","Each module  requires the name and the location of other modules that it needs to interact. Thus, the various modules may be distributed across the system. The modules  get the name and location information from the directory  provided to the module during startup.","In operation, the user defines a module  using the module definition language of the present invention.","An executable (motors.exe) takes two mandatory arguments as shown below:\n\nMOTORS.EXE <MDL file> <directory configuration file>\n","The argument <MDL file> defines the module , and the argument <directory configuration file> defines the contents of the directory , as will be explained in greater detail below.","Module Definition Language","The Module Definition Language (MDL) of embodiments of the present invention is an XML based language that defines a set of elements and attributes for definition the behavior of the module.","Each MDL file starts with the following XML definition, followed by <MDLScript> as shown below:",{"@attributes":{"id":"p-0049","num":"0048"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201d1.0\u201d encoding=\u201dutf-8\u201d?>"]},{"entry":[{},"<MDLScript>"]},{"entry":[{},"<\/MDLScript>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The <MDLScript> tag defines the entire module definition. The Module tag takes the following attributes:",{"@attributes":{"id":"p-0051","num":"0050"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Attribute","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Name","Name of the module."]},{"entry":[{},"If not specified, the default name is constructed from the"]},{"entry":[{},"hostname and the port number"]},{"entry":["Port","Port number on which the module will be listening for new"]},{"entry":[{},"messages."]},{"entry":[{},"The default value is set to 10000. Each module may require"]},{"entry":[{},"a different port number."]},{"entry":["Threads","Number of threads that will be used in this module."]},{"entry":[{},"Current version supports ThreadPooling, where the"]},{"entry":[{},"Operating System allocates the threads (up to a"]},{"entry":[{},"predetermined maximum)."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"For example the following script defines a module called \u201cRTC\u201d client starting at port .",{"@attributes":{"id":"p-0053","num":"0052"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<MDLScript><Module Name=\u201dRTCClient\u201d Port=\u201d10001\u201d>"]},{"entry":[{},"<\/MDLScript>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Each <MDLScript> tag contains one or more <OnMessage> sub tags. The <OnMessage> subtag defines a rule that contains the name of a message and the action to be taken on the arrival of the message. Each <On Message> tag takes the following attributes:",{"@attributes":{"id":"p-0055","num":"0054"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Attribute","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Message","Name of the message"]},{"entry":[{},"On arrival of this message, the actions associated with the"]},{"entry":[{},"current OnMessage will be executed"]},{"entry":["FromModule","Name of the module from where the message was received"]},{"entry":["FromHost","Name of the host from where the message was received"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Each <OnMessage> contains zero or more actions as defined by the sub tags <Delay>, <Forward>, <Create> and record.","The <Delay> tag causes the module to introduce specified amount of CPU load and delay. Each <Delay> tag supports the following attributes.",{"@attributes":{"id":"p-0058","num":"0057"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Attribute","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["CPU","Load on the CPU specified in milliseconds"]},{"entry":["Wait","Wait time for processing this message specified in"]},{"entry":[{},"milliseconds"]},{"entry":["PDF","Probability Distribution Function"]},{"entry":[{},"The PDF specifies the probability distribution of the delay"]},{"entry":[{},"values"]},{"entry":[{},"$Exp: Exponential"]},{"entry":[{},"$None: Constant (Default)"]},{"entry":[{},"$Gamma: Gamma or Normal distribution"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0059","num":"0058"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Attribute","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Module","Name of the module to which the message has to be"]},{"entry":[{},"forwarded."]},{"entry":[{},"The default is set to the same module that is executing the"]},{"entry":[{},"script."]},{"entry":[{},"The message is discarded if there is no module with the"]},{"entry":[{},"specified name."]},{"entry":["Host","Name of the host where the destination module is located"]},{"entry":[{},"(default is the same host where the script is running)"]},{"entry":[{},"The message is discarded if there is no host with the"]},{"entry":[{},"specified name."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The <Create> tag creates a new message. The <Create> tag takes the following attributes.",{"@attributes":{"id":"p-0061","num":"0060"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Attribute","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Message","Name of the message"]},{"entry":["Module","Name of the module to which the created message has to"]},{"entry":[{},"be sent."]},{"entry":[{},"The default is set to the same module that is executing the"]},{"entry":[{},"script"]},{"entry":[{},"The message is discarded if there is no module with the"]},{"entry":[{},"specified name."]},{"entry":["Host","Name of the host where the destination module is located"]},{"entry":[{},"(default is the same host where the script is running)."]},{"entry":[{},"The message is discarded if there is no host with the"]},{"entry":[{},"specified name."]},{"entry":["NewSession","Boolean value (true or false). When set to true, the created"]},{"entry":[{},"message will have a new sessionId. When set to false, the"]},{"entry":[{},"created message will have the sessionId of the message"]},{"entry":[{},"that triggered the creation of this message."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":[{},{}]},"The following predefined constants have specific meaning in the Module Definition Language.",{"@attributes":{"id":"p-0063","num":"0062"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Predefined",{}]},{"entry":[{},"Constant","Meaning and the applicable context"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"$Begin","$Begin is a built in message that is posted when the"]},{"entry":[{},{},"module starts. The MDL script may use this message"]},{"entry":[{},{},"for driving load or message generation"]},{"entry":[{},"$Any","$Any acts as a wildcard for specifying the message,"]},{"entry":[{},{},"module or host in the OnMessage element."]},{"entry":[{},{},"This value should not be used in any of the action"]},{"entry":[{},{},"commands to specify the destination module or host."]},{"entry":[{},"$Default","$Default specifies the default value of an attribute."]},{"entry":[{},{},"The same effect is achieved by simply not specifying"]},{"entry":[{},{},"the attribute. The use of this constant has to be"]},{"entry":[{},{},"avoided, since the support may be removed in later"]},{"entry":[{},{},"versions."]},{"entry":[{},"$Self","$Self refers to the current module name or host name."]},{"entry":[{},{},"Leaving the module or host destination attribute has"]},{"entry":[{},{},"the same effect."]},{"entry":[{},"$All","$All refers to all the modules or all the hosts"]},{"entry":[{},{},"configured in the directory configuration file."]},{"entry":[{},{},"$All can be specified as the destination module or"]},{"entry":[{},{},"host or both for Forward and Create Actions."]},{"entry":[{},{},"$All should be used with care since using $All can"]},{"entry":[{},{},"create a flood of messages"]},{"entry":[{},"$End","The modules stop when they receive \u201c$End\u201d message"]},{"entry":[{},{},"is received."]},{"entry":[{},{},"Any module can send \u201c$End\u201d message to any other"]},{"entry":[{},{},"modules."]},{"entry":[{},"$Exp","Exponential Distribution"]},{"entry":[{},{},"This value can be specified as the value of PDF"]},{"entry":[{},{},"attribute in a Delay action"]},{"entry":[{},"$Gamma","Gamma or Normal Distribution"]},{"entry":[{},{},"An approximated version of Gamma\/Normal"]},{"entry":[{},{},"distribution that can be specified as the value of PDF"]},{"entry":[{},{},"attribute in a Delay action"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The directory configuration file contains the addresses of all the modules. The directory configuration follows the structure shown in the example below:",{"@attributes":{"id":"p-0065","num":"0064"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<Directory xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d>"]},{"entry":[{},"<Address>"]},{"entry":[{},"<Module>DestClient<\/Module>"]},{"entry":[{},"<Host>COMO<\/Host>"]},{"entry":[{},"<Port>10001<\/Port>"]},{"entry":[{},"<\/Address>"]},{"entry":[{},"<Address>"]},{"entry":[{},"<Module>OrigClient<\/Module>"]},{"entry":[{},"<Host>COMO<\/Host>"]},{"entry":[{},"<Port>10000<\/Port>"]},{"entry":[{},"<\/Address>"]},{"entry":[{},"<\/Directory>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The directory is defined by the <Directory> tag, which in turn contains zero or more addresses. Each module is represented by an <Address> element. The <Address> element in turn contains <Module>, <Host> and <Port> that specify the name of the module, name of the host and the port number respectively.","Log Structure","A log file includes message logs as illustrated in the following sample.",{"@attributes":{"id":"p-0067","num":"0066"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d?>"},{"entry":"<Log>"},{"entry":"\u2003<Message Name=\u201c180\u201d SessionId=\u201cINVITE:OrigClient:como:2\u201d"},{"entry":"MessageId=\u201c180:DestClient:como:1\u201d>"},{"entry":"\u2003\u2003<CurrentDelay Message=\u201c180\u201d Module=\u201cOrigClient\u201d ServiceTime=\u201c70\u201d"},{"entry":"CPU=\u201c0\u201d Wait=\u201c0\u201d \/>"},{"entry":"\u2003\u2003<History Message=\u201cINVITE\u201d Module=\u201cOrigClient\u201d ServiceTime=\u201c0\u201d CPU=\u201c0\u201d"},{"entry":"Wait=\u201c0\u201d \/>"},{"entry":"\u2003\u2003<History Message=\u201c180\u201d Module=\u201cDestClient\u201d ServiceTime=\u201c0\u201d CPU=\u201c0\u201d"},{"entry":"Wait=\u201c0\u201d \/>"},{"entry":"\u2003<\/Message>"},{"entry":"\u2003<Message Name=\u201c180\u201d SessionId=\u201cINVITE:OrigClient:como:3\u201d"},{"entry":"MessageId=\u201c180:DestClient:como:2\u201d>"},{"entry":"\u2003\u2003<CurrentDelay Message=\u201c180\u201d Module=\u201cOrigClient\u201d ServiceTime=\u201c100\u201d"},{"entry":"CPU=\u201c0\u201d Wait=\u201c0\u201d \/>"},{"entry":"\u2003\u2003<History Message=\u201cINVITE\u201d Module=\u201cOrigClient\u201d ServiceTime=\u201c0\u201d CPU=\u201c0\u201d"},{"entry":"Wait=\u201c0\u201d \/>"},{"entry":"\u2003\u2003<History Message=\u201c180\u201d Module=\u201cDestClient\u201d ServiceTime=\u201c0\u201d CPU=\u201c0\u201d"},{"entry":"Wait=\u201c0\u201d \/>"},{"entry":"\u2003<\/Message>"},{"entry":"<\/Log>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Each message structure has following attributes:",{"@attributes":{"id":"p-0069","num":"0068"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Attribute","Description"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Name","Name of the message"]},{"entry":[{},"MessageId","Unique Id for every message"]},{"entry":[{},"Hop","Number of hops after which the message will be"]},{"entry":[{},{},"discarded"]},{"entry":[{},"Module","The name of the module from where the message"]},{"entry":[{},{},"was received"]},{"entry":[{},"Host","The name of the host from where the message was"]},{"entry":[{},{},"received"]},{"entry":[{},"SessionId","Unique Id of the session"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"The <Message> tag has following sub tags:","1) <CurrentDelay>","2) <History>","The <CurrentDelay> specifies the delay introduced by the recording module at the time of recording the message. The <CurrentDelay> has following attributes:",{"@attributes":{"id":"p-0074","num":"0073"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Attribute","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["ServiceTime","Time elapsed since the arrival of the message and the"]},{"entry":[{},"recording of the message (in milliseconds)"]},{"entry":["CPU","Total CPU load introduced by the recording module"]},{"entry":[{},"(in milliseconds)"]},{"entry":["Wait","Total Wait time introduced by the recording module (in"]},{"entry":[{},"milliseconds)"]},{"entry":["Message","Name of the message."]},{"entry":["Module","Name of the module where the delay is introduced"]},{"entry":["Host","Name of the host where the module was running"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The <History> specifies the delays introduced by all the modules that a message has passed through. The <History> tag supports the same set of attributes as <CurrentDelay>. When \u201cCopyHistory\u201d is enabled in Create action, the history will include the history of the message that created the current message. Thus it will be possible to trace the history of a session by looking at the history of a single message.","Simple Loop","This example demonstrates a module that simply generates a CPU load of 100 ms at every second. The wait time of 900 is chosen to keep the total interval to 1000 ms. The loop will continue up to DefaultMaxHops. This module does not generate any log file. A simple loop module is ideal for modeling non-real-time components in the system (like database) More complex models can be created by combining the simple constructs. For example, a module can generate multiple messages to different modules, thus mimicking the ripple effect seen in real-time communication systems.",{"@attributes":{"id":"p-0077","num":"0076"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<MDLScript xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d"]},{"entry":[{},"Name=\u201cSimpleLoop1\u201d Port=\u201c10000\u201d>"]},{"entry":[{},"\u2003<OnMessage\u2002Message=\u201c$Begin\u201d>"]},{"entry":[{},"\u2003\u2003<Delay CPU=\u201c100\u201d Wait= \u201c900\u201d\/>"]},{"entry":[{},"\u2003\u2003<Forward\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"<\/MDLScript>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The following example shows a module that generates variable CPU load and Delay conforming to the specified probability distribution function.",{"@attributes":{"id":"p-0079","num":"0078"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<Module xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d"]},{"entry":[{},"Name=\u201cSimpleLoop2\u201d Port=\u201c10000\u201d>"]},{"entry":[{},"\u2003<OnMessage Message=\u201c$Begin\u201d>"]},{"entry":[{},"\u2003\u2003<Delay CPU=\u201c100\u201d Wait= \u201c900\u201d PDF=\u201c$Exp\u201d\/>"]},{"entry":[{},"\u2003\u2003<Forward\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"<\/Module>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The following example, corresponding to , shows a module (OrigClient) that generates a specific message (\u201cINVITE\u201d) and sends it to another module (DestClient).The messages are generated once every second. It is noted that, while illustrated with a SIP INVITE message, other messages may similarly be modeled.",{"@attributes":{"id":"p-0081","num":"0080"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<Module xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d"]},{"entry":[{},"Name=\u201cOrigClient\u201d Port=\u201c10000\u201d>"]},{"entry":[{},"\u2003<OnMessage Message=\u201c$Begin\u201d Module=\u201cOrigClient\u201d >"]},{"entry":[{},"\u2003\u2003<Create Message=\u201cPulse\u201d NewSession=\u201ctrue\u201d Hop=\u201c5\u201d\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"\u2003<OnMessage Message=\u201cPulse\u201d Module=\u201cOrigClient\u201d >"]},{"entry":[{},"\u2003\u2003<Delay Wait=\u201c1000\u201d \/>"]},{"entry":[{},"\u2003\u2003<Forward\/>"]},{"entry":[{},"\u2003\u2003<Create Message=\u201cINVITE\u201d Module=\u201cDestClient\u201d\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"<\/Module>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":[{},{}]},"The following example shows a module (DestClient) that receives any message, from any module, from any host and logs it.",{"@attributes":{"id":"p-0083","num":"0082"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<Module xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d"]},{"entry":[{},"Name=\u201cDestClient\u201d Port=\u201c10001\u201d>"]},{"entry":[{},"\u2003<OnMessage>"]},{"entry":[{},"\u2003\u2003<Record\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"<\/Module>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The following example shows a module (DestClient) that receives a specific message (\u201cINVITE\u201d) from a specific module (\u201cOrigClient\u201d) and logs it.",{"@attributes":{"id":"p-0085","num":"0084"},"tables":{"@attributes":{"id":"TABLE-US-00017","num":"00017"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<Module xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d"]},{"entry":[{},"Name=\u201cDestClient\u201d Port=\u201c10001\u201d>"]},{"entry":[{},"\u2003<OnMessage Message=\u201dINVITE\u201d Module=\u201dOrigClient\u201d>"]},{"entry":[{},"\u2003\u2003<Record\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"<\/Module>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The following example shows a module (DestClient) that receives a specific message (\u201cINVITE\u201d) from a specific module (\u201cOrigClient\u201d) from a specific host (\u201cCOMO\u201d) and logs it.",{"@attributes":{"id":"p-0087","num":"0086"},"tables":{"@attributes":{"id":"TABLE-US-00018","num":"00018"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<Module xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d"]},{"entry":[{},"Name=\u201cDestClient\u201d Port=\u201c10001\u201d>"]},{"entry":[{},"\u2003<OnMessage Message=\u201dINVITE\u201d Module=\u201dOrigClient\u201d"]},{"entry":[{},"\u2003Host=\u201dcomo\u201d>"]},{"entry":[{},"\u2003\u2003<Record\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"<\/Module>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The earlier example showed a message generator module. All the messages generated belonged to the same session. The following example shows how to generate sessions.",{"@attributes":{"id":"p-0089","num":"0088"},"tables":{"@attributes":{"id":"TABLE-US-00019","num":"00019"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cutf-8\u201d?>"]},{"entry":[{},"<Module xmlns:xsd=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"xmlns:xsi=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema-instance\u201d"]},{"entry":[{},"Name=\u201cOrigClient\u201d Port=\u201c10000\u201d>"]},{"entry":[{},"\u2003<OnMessage Message=\u201c$Begin\u201d Module=\u201cOrigClient\u201d >"]},{"entry":[{},"\u2003\u2003<Create Message=\u201cPulse\u201d NewSession=\u201ctrue\u201d Hop=\u201c5\u201d\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"\u2003<OnMessage Message=\u201cPulse\u201d Module=\u201cOrigClient\u201d >"]},{"entry":[{},"\u2003\u2003<Delay Wait=\u201c1000\u201d PDF=\u201c$Exp\u201d\/>"]},{"entry":[{},"\u2003\u2003<Forward\/>"]},{"entry":[{},"\u2003\u2003<Create Message=\u201cINVITE\u201d NewSession=\u201ctrue\u201d"]},{"entry":[{},"\u2003\u2003Module=\u201cDestClient\u201d\/>"]},{"entry":[{},"\u2003<\/OnMessage>"]},{"entry":[{},"<\/Module>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"The invention described in the above detailed description is not intended to be limited to the specific form set forth herein, but is intended to cover such alternatives, modifications and equivalents as can reasonably be included within the spirit and scope of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
