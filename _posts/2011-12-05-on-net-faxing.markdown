---
title: On net faxing
abstract: Distribution of electronic documents is described, including receiving an electronic document to be distributed, identifying whether a destination identifier is associated with a destination account among a known group of customer accounts, routing the electronic document, and calculating a fee associated with delivery of the electronic document based on whether the destination account is among the known group of customers and a set of billing rules. The set of billing rules may specify a discounted fee for routing an electronic document to each of a known group of customer accounts. In other aspects, the set of billing rules may specify a discounted fee for routing an electronic document to a first group of the known group of customer accounts and specify a standard fee for a second group of the known group of customer accounts.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08719083&OS=08719083&RS=08719083
owner: Xpedite Systems, Inc.
number: 08719083
owner_city: Atlanta
owner_country: US
publication_date: 20111205
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Application No. 61\/420,040, filed Dec. 6, 2010, the entire contents of which is hereby incorporated herein by reference.","Conventional facsimile (fax) technology has been a successful means to transmit documents electronically. However, with the emergence of data networks, the integration of conventional fax technology with data networks has changed the landscape of fax services. Particularly, a fax which was typically communicated exclusively via the circuit-switched Public Switched Telephone Network (\u201cPSTN\u201d) is now commonly communicated via portions of both the PSTN and packet-switched data networks. Additionally, new network-based fax services are available which permit a user to originate a fax message to be delivered from various types of clients connected to packet-switched data networks. As network-based fax services are adopted by more and more users, it may become common that a party that subscribes to a network-based fax service transmits a fax to another party that also subscribes to the same network-based fax service. In other words, as network-based fax services become more and more popular, there is an increased likelihood that both originating and destination parties of a fax would be customers of a same network-based fax service.","Generally, a network-based fax service may be implemented by a server including packet- and circuit-switched interface circuits, as well as hardware and associated software for converting electronic documents for users. When an electronic document arrives at the server for delivery as a fax, the server may convert the document into a format suitable for transmission over the PSTN. The fax server may then transmit the converted document over the PSTN via circuit-switched interface circuits and\/or an associated gateway. For a fax arriving at the server, the server may identify a destination account associated with the arriving fax, convert the incoming fax into a format suitable for delivery to the destination account, and store the converted document for retrieval over the packet-switched network","Between two customers that both subscribe to the same network-based fax service, it would be preferable to deliver a fax without relying upon the PSTN. In this case, costs associated with delivery of the fax may be reduced, because the PSTN is not used. It is noted that the network-based service may generally incur a cost from a telephone company or other entity for each fax delivered using the PSTN. However, for reasons discussed in further detail below, it may be undesirable for customers to be put on notice that the network-based fax service saves costs with respect to delivery of fax messages.","A network-based fax service that accounts for the above-described factors and conditions would be desirable.","In one embodiment, a method for distributing documents is described including receiving an electronic document to be distributed and a destination identifier, identifying whether the destination identifier is associated with a destination account among a known group of customer accounts, routing the electronic document according to whether the destination account is among the known group of customer accounts, and calculating a fee associated with delivery of the electronic document based on whether the destination account is among the known group of customers and a set of billing rules. In some aspects, identifying whether the destination account is among the known group of customers includes accessing a database of known customers. The electronic document may be received via one of an attachment to an e-mail, a web portal, and an application programming interface, for example, and the method may further include formatting the electronic document into a format suitable for facsimile transmission.","The set of billing rules may specify a discounted fee for routing an electronic document to each of a known group of customer accounts. In other aspects, the set of billing rules may specify a discounted fee for routing an electronic document to a first group of the known group of customer accounts and specify a standard fee for a second group of the known group of customer accounts.","In some aspects, routing an electronic document may include, when a destination account is among a known group of customer accounts, routing the electronic document via a port of a gateway configured as a logical crossover connection between inbound and outbound interfaces. In other embodiments, routing the electronic document may include, when the destination account is not among the known group of customers, routing the electronic document via a port of a gateway configured as a logical connection to an external communications network.","In some embodiments, the method may further include identifying an originating account associated with an electronic message, and determining whether originating and destination accounts are each associated with a same customer, where, when the originating and destination accounts are each associated with the same customer, the calculating further comprises calculating a discounted or standard fee for routing the electronic document based on a subset of the billing rules associated with the customer. The method may further include identifying an originating account associated with the electronic message, and determining whether originating and destination accounts are associated with different customers, where, when the originating and destination accounts are associated with different customers, the calculating further comprises calculating a discounted or standard fee for routing the electronic document based on a subset of the billing rules associated with different customers.","In another embodiment, an apparatus for distributing documents is described, including a customer database that stores a known group of customers, a billing database that stores a set of billing rules, a network interface configured to receive an electronic document to be distributed and a destination identifier, a job monitor configured to identify whether the destination identifier is associated with a destination account among the known group of customer accounts, and route the electronic document according to whether the destination account is among the known group of customer accounts, and a billing controller configured to calculate a fee associated with delivery of the electronic document based on whether the destination account is among the known group of customer accounts and the set of billing rules. In some aspects, the electronic document is received by the network interface via one of an attachment to an e-mail, a web portal, and an application programming interface, for example, and the apparatus further comprises a document translator that formats the electronic document into a format suitable for facsimile transmission. In other aspects, the job monitor is further configured to route the electronic document via a port of a gateway configured as a logical crossover connection between inbound and outbound interfaces, when the destination account is among the known group of customer accounts. The job monitor may be further configured to route the electronic document via a port of a gateway configured as a logical connection to an external communications network, when the destination account is among the known group of customer accounts.","The set of billing rules may specify a discounted fee for routing an electronic document to each of a known group of customer accounts. In other aspects, the set of billing rules may specify a discounted fee for routing an electronic document to a first group of the known group of customer accounts and specify a standard fee for a second group of the known group of customer accounts.","In some aspects, a job monitor of an apparatus for distributing documents may be configured to identify an originating account associated with the electronic message, and determine whether the originating and destination accounts are each associated with a same customer, and a billing controller of the apparatus for distributing documents may be configured to calculate a discounted or standard fee for routing the electronic document based on a subset of the billing rules associated with the customer, when the originating and destination accounts are each associated with the same customer. In other aspects, a job monitor of an apparatus for distributing documents may be further configured to identify an originating account associated with the electronic message, and determine whether the originating and destination accounts are associated with different customers, and a billing controller of the apparatus for distributing documents may be configured to calculate a discounted or standard fee for routing the electronic document based on a subset of the billing rules associated with different customers, when the originating and destination accounts are associated with different customers.","In still another embodiment, a system for distributing documents is described including a gateway communicatively coupled to an external communications network and comprising inbound and outbound line controllers, a first port of the gateway being configured as a logical crossover connection between the inbound and outbound line controllers and a second port of the gateway being configured as a logical connection to the external communications network, a job monitor configured to receive an electronic document to be distributed and a destination identifier, identify whether the destination identifier is associated with a destination account among the known group of customer accounts, and route the electronic document via the gateway according to whether the destination account is among the known group of customer accounts, and a billing controller configured to calculate a fee associated with delivery of the electronic document based on whether the destination account is among the known group of customer accounts and a set of billing rules.","In the following paragraphs, the present invention is described in detail by way of example with reference to the attached drawings. Embodiments are described with the understanding that the present disclosure is to be considered as an example of the principles of the invention and not intended to limit the invention to the specific embodiments shown and described. That is, throughout this description, the embodiments and examples are to be considered as exemplars, rather than as limitations. Descriptions of well known components, methods, and\/or processing techniques are omitted so as not to unnecessarily obscure the invention. As used herein, the \u201cpresent invention\u201d refers to any of the embodiments of the invention described herein, and any equivalents. Further, reference to various feature(s) of the present invention is not to suggest that every embodiment must include the referenced feature(s).","In some aspects and embodiments, the present invention may be implemented as a computer program executed on a processor. However, it should be apparent that there could be many different ways of implementing the invention in a computer program, and the present invention should not be construed as being limited to any particular set of computer program instructions. Further, as a skilled programmer would be able to write a computer program to implement embodiments of the present invention based on the flow charts and associated descriptions provided herein, specific disclosure of program code instructions is not considered necessary for an adequate understanding of how to make and use the present invention.","The present invention is directed to distributing electronic documents as faxes, for example, using an approach that saves costs associated with delivering faxes over the PSTN, by routing messages identified as being associated with destination accounts among a known group of customers using a logical crossover connection that bypasses the PSTN. Additionally, the present invention relies upon a set of billing rules to define and specify either discounted or standard fees for delivery of faxes.","As noted above, between two customers that both subscribe to the same network-based fax service, it is possible to deliver a fax between the customers without relying upon the PSTN. In this case, costs associated with delivery of the fax may be discounted, because the PSTN is not used. Although costs associated with distributing a fax may be discounted, it may be desirable if customers are unaware of the fact that the PSTN is bypassed. For example, a network-based fax service may desire to bypass the PSTN to save costs, while still charging a standard fax delivery fee. In some situations, it may be preferable that customers are unaware that faxes are being delivered via only the data network and not the PSTN, because the customers are more likely to demand a discounted fee. In other situations, it may be preferable that customers are unaware that faxes are delivered via only the data network and not the PSTN, because such delivery may indicate to the customers they are both serviced by the same network-based fax service. Especially between two customers of competing business practices, it may be undesirable for the customers to take notice that they are each subscribing to a same network-based fax service.","The present invention takes the above-described factors and conditions into account. In general, a received electronic document to be distributed as a fax is associated with a destination identifier that identifies a destination for faxing the electronic document. Based on the destination identifier, an account associated with the destination identifier may be identified as being among a known group of customer accounts that subscribe to a network-based fax service. Alternatively, the destination identifier may not be identified among the known group of customer accounts that subscribe to the network-based fax service. The electronic document may then be routed for distribution as a fax accordingly. After the electronic document is distributed (i.e., delivered), calculation of a fee associated with delivery of the electronic document may be determined based on whether the destination of the fax was among the known group of customers that subscribe to the network-based fax service and a set of billing rules.","Among embodiments, the set of billing rules may specify a global discount among all accounts of one customer of the network-based fax service. Alternatively, the set of billing rules may specify specific discounts between respective accounts of one customer. In additional embodiments, the set of billing rules may specify global discounts between different customers of the network-based fax service, or specify specific discounts between respective accounts among different customers.","Routing electronic documents without relying upon the PSTN may be accomplished by a gateway configured to deliver the electronic documents as faxes using a logical crossover connection of the gateway. Using such a gateway, faxes may appear to have traversed the PSTN, without actually relying on the PSTN or being subject to the costs associated with the PSTN. Further, according to features described herein, delivery of documents using the logical crossover connection is indistinguishable to customers of the network-based fax service from delivery of documents using the PSTN. Aspects of the present invention include appending fax transmission headers and cover pages, among other information and items, to an electronic document delivered via the gateway, regardless of whether the delivery is via the logical crossover connection or the PSTN. As such, features such as transmission time, transmission date, and other well known transmission identifiers generally available when delivering an electronic document as a fax via the PSTN are still provided even when delivering via the logical crossover connection. For this and other reasons described below, users are unable to distinguish between delivery of the electronic document as a fax via the PSTN or the logical crossover connection of the gateway.","Turning now to the drawings, in which like numerals indicate like elements throughout, embodiments of the present invention are described in further detail.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 1","b":["110","150","110","150"]},"Several clients or terminals are connected to the data network , such as computers , multi-function device , and network fax machine . The computers , multiple-function device , and network fax machine  may each be connected to the data network  in any manner understood by those of ordinary skill and the art. For example, connections to the data network may be via intermediary networks and\/or Internet Service Providers (ISPs). Likewise, the multi-function device  and the network fax machine  may be connected to the data network via intermediary networks and\/or ISPs. The data network  and any connections to the data network  may also include wired, wireless, and optical connections, among other well known connections.","Conventional fax machines  are coupled to the PSTN  using standard telephone connections, as understood by those of ordinary skill in the art. The standard fax machines  may rely upon the T.30 fax protocol for transmission of faxes over the PSTN in the voice band of approximately 50-3500 Hz, as one example. The gateway  provides an interface between the data network  and the PSTN . For example, the gateway  may serve as an interface between packet based protocols used on the data network  and protocols used on the PSTN , which is a circuit-switched network. In some aspects, the gateway  may permit real time communications between the standard fax machines  and devices connected to the data network , by converting protocols relied upon by the fax machines  (such as the T.30 protocol) to protocols suitable for transmission over the data network . The gateway  and the PSTN  may be maintained by a telephone company or other entity.","As a more detailed example of the functions performed by the gateway , the gateway  may be configured as a T.30\/T.38 fax relay. That is, the gateway  may convert or encapsulate a T.30 protocol data stream into a T.38 protocol data stream, and vice versa. The T.38 protocol data stream is suitable for transmission over the data network . The T.38 data stream may be routed to another T.38 enabled end point device such as the multiple function device , the network fax machine , or the gateway . The T.38 protocol may reply upon signaling and setup protocols such as TCP, UDP, H.323, SIP, and MGCP, for example, to transport T.38 packets over the data network .","As described in further detail below, the gateway  may be configured to route electronic messages using a logical crossover connection that bypasses the PSTN , while permitting the appearance of transmission using the PSTN . In some aspects, the gateway  may also function as a T.30\/T.38 fax relay. The server  is configured to receive electronic documents to be distributed, identify whether a destination associated with the electronic document is an account among a known group of customer accounts, route the electronic document according to whether the destination account is among the known group of customer accounts, and calculate a fee associated with delivery of the electronic document based on whether the destination account is among the known group of customers and a set of billing rules. It is noted that the server  may include more than one connection to the data network . According to the example illustrated in , the server  is communicatively coupled to the data network  via the direct network path  and via the gateway path  through the gateway .","Turning to , an exploded view of the gateway  and the server  is illustrated. The gateway  includes an inbound telephone interface , an on-net outbound telephony interface , and an off-net outbound telephony interface . The server  provides a network-based fax service and comprises various functional blocks such as a line-in controller , an on-net line-out controller , an off-net line-out controller , a log service , a job monitor , a network interface , network communication services , a document translator , a log service , a customer database , a billing database , and a billing controller .","As illustrated, the gateway  comprises an intermediary element between the data network  and the server  on the gateway path , and provides a means for interfacing between telephony protocols used on the data network  and the PSTN  and the server . For example, an inbound fax transmitted by one of the conventional fax machines  may be routed over the PSTN , through the gateway , over the data network , through the gateway , through the inbound telephone interface , and to the line-in controller  of the server . According to that example, a real time fax connection is provided between the fax machine  and the server , so that an inbound fax may be received by the server  and processed by the job monitor . Likewise, the gateway  may provide an outbound interface between the server  and the data network , when outbound faxes are transmitted from the server , through the gateway , over the data network , through the gateway , and over the PSTN , for delivery to one of the conventional fax machines . According to the outbound example, the server  may route the fax using the off-net line-out controller  and the off-net outbound telephony interface .","The gateway  includes the on-net outbound telephony interface  which is configured to rely on a logical crossover connection  between the on-net outbound telephony interface  and the inbound telephone interface . The logical crossover connection  may be configured via software, hardware, physical wiring, or a combination of software, hardware, and physical wiring, among examples. Using the gateway  and the logical crossover connection , outbound fax messages from the server  may appear to have traversed the data network  and\/or the PSTN , before being received by the inbound telephone interface  for receipt by the line-in controller  of the server .","The elements of the server  are coordinated by the job monitor . According to aspects of the present invention, the job monitor  coordinates a network-based fax service. As described above, the network-based fax service permits users to send and receive faxes using the data network  and, in some cases, without using conventional fax machines connected to the PSTN . The server  permits users to access the network-based fax service via the data network  and client terminals, such as the computers , the multiple-function device , and the network fax machine . In one embodiment, the server  relies upon the network interface  to connect to the client terminals. The network interface  comprises the hardware and associated software to provide a communications connection between the server  and the clients connected to the data network .","The network communication services  may comprise various forms of services such as a web host, an e-mail service, API connectivity services, and FTP connectivity services, for example. Using one or more of the services, the network-based fax service of the server  may be accessed by users of the computers , the multiple-function device , and the network fax . For example, using the web-host of the network communication services , a user may navigate to and access a web page associated with the network-based fax service of the server . Upon accessing the web page, a user of the computer  may attach an electronic document to be uploaded to the server  for delivery as a fax. As another example, a user of the multiple-function device  or the network fax machine  may upload an electronic document to the server  using the API connectivity services of the network communication services . As still another example, a user may send an electronic document to the server  as an attachment to an e-mail using the e-mail service of the network communication services . The examples above are not intended to be limiting in nature, and it is noted that the server  may receive electronic documents for distribution as faxes via any known method or means.","It is noted that, when a user, as one customer of the network-based fax service, submits an electronic document to the server  for distribution, the user may not be aware of whether the electronic document will be delivered to another customer of the network-based fax service. For example, when using the web-host of the network communication services , a user may specify a destination fax number as a destination identifier, without any knowledge of whether the destination fax number is associated with a customer that also subscribes to the network-based fax service provided by the server . In other words, the user may believe that the network-based fax service is going to deliver the electronic document over the PSTN  to a standard fax machine .","Upon receipt of a new electronic document to be delivered as a fax, the job monitor  is configured to identify whether a destination of the fax message is associated with a destination account among a known group of customer accounts that subscribe to the network-based fax service provided by the server . In that context, the customer database  may store a known group of customers that subscribe to the network-based fax service. The job monitor  may identify whether a destination is associated with an account among the known group of customer accounts based on a reverse lookup query to and corresponding response from the customer database , using a destination fax number as an index, for example. To expedite the reverse lookup query to and corresponding response from the customer database , the customer database may be formatted as an efficient lookup structure.","If the job monitor  identifies that the destination of a fax is associated with a destination account among the known group of customers, the job monitor  has identified that the destination of the fax message is to an account of a customer that also subscribes to the network-based fax service provided by the server . As used herein, a destination of an electronic message is \u201con-net\u201d if the destination is associated with a customer account among the known customers that subscribe to the network-based service provided by the server .","When the job monitor  identifies that an electronic document is to be delivered \u201con-net,\u201d the job monitor  designates the electronic document for on-net delivery. If the job monitor  does not identify the electronic document as being associated with a destination account among the known group of customer accounts, the job monitor designates the electronic document for \u201coff-net\u201d delivery. In this manner, the job monitor  designates each incoming fax-delivery job as being either on- or off-net. As described in further detail below, the job monitor  routes faxes based on whether the faxes are on- or off-net, using one of the on-net line-out controller  and the off-net line-out controller  and the associated telephone interfaces  and  of the gateway .","The log service  maintains a log of all electronic documents received and transmitted by the server  for purposes of maintaining records. Because, as described in further detail below, an \u201con-net\u201d delivery is routed using the logical crossover connection  and without the data network  and\/or the PSTN , no record can be made of the delivery by a telephone company or other entity. As such, the log service  is configured to maintain a log of incoming and outgoing documents, faxes, and other associated messages and data, for future reference.","The document translator  is configured to translate formats of electronic documents, as received by the network communication services , into one or more formats suitable for transmission as fax messages. For example, the document translator  may convert a Microsoft Word\u00ae file or an Adobe\u00ae Portable Document Format (PDF) file to a Tagged Image File Format (TIFF) file before the job monitor  delivers the electronic document as a fax. The document translator  is configured to translate among any known document or file formats.","The billing controller  is configured to calculate fees associated with the delivery of outgoing and incoming faxes. As described in further detail below, the billing controller  is configured to calculate fees associated with delivery of electronic documents based on whether a destination account is among a known group of customers and a set of billing rules stored in the billing database .",{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 3","b":["300","112","114","116","132","134","140","160","300","300","300","310","320","330","340","350","360","300","302"]},"The processor  comprises any well known general purpose arithmetic processor. Both the RAM  and the ROM  comprise well known random access and read only memory devices, respectively, that store computer-readable instructions to be executed by the processor . The memory device  stores computer-readable instructions thereon that, when executed by the processor , direct the processor  to execute various aspects of the present invention described herein. As a non-limiting example group, the memory device  may comprise one or more of an optical disc, a magnetic disc, a semiconductor memory (i.e., a flash based memory), a magnetic tape memory, a removable memory, combinations thereof, or any other well known memory means for storing computer-readable instructions. The I\/O interface  comprises device input and output interfaces such as keyboard, pointing device, display, communication, and other interfaces. The bus  electrically and communicatively couples the processor , the RAM , the ROM , the memory device , the network interface , and the I\/O interface , so that data and instructions may be communicated among the processor , the RAM , the ROM , the memory device , the network interface , and the I\/O interface . In operation, the processor  is configured to retrieve computer-readable instructions stored on the memory device , the ROM , or another storage means, and copy the computer-readable instructions to the RAM  for execution. The processor  is further configured to execute the computer-readable instructions to implement various aspects and features of the present invention described herein. For example, the processor  may be adapted and configured to execute one or more of the elements of the processes described below with reference to .","Before turning to the process flow diagrams of , it is noted that the present invention may be practiced using an alternative order of the steps illustrated in . That is, the process flows illustrated in  are provided as examples only, and the present invention may be practiced using process flows that differ from those illustrated. Additionally, it is noted that not all steps are required in every embodiment. In other words, one or more of the steps may be omitted or replaced, without departing from the spirit and scope of the invention.","Turning to , an example method of distributing documents  performed by the server  and the gateway  is described. The method of distributing documents  includes receiving a document to be distributed at , identifying originating and destination accounts at , designating destinations as on-net or off-net at , designating electronic documents as off-net at , formatting documents for distribution at , routing formatted documents according to the off-net designation at , and calculating fees at . The method of distributing documents  further includes designating electronic documents as on-net at , formatting documents for distribution at , and routing formatted documents according to the on-net designation at .","The method  of distributing documents includes the server  receiving an electronic document to be distributed as a fax at step . The electronic document may be received using the network communication services  via the network interface  and the direct network path  to the data network , as described above. Particularly, any of the computers , the multiple-function device , and the network fax machine  may transfer one or more electronic documents to the server  for distribution. An electronic document received at step  is received along with origin and destination identifiers or other similar data.","After receipt of the electronic document at step , the job monitor  identifies an originating account and searches for a destination account at step . For example, the job monitor  may rely upon a username, account number, IP address, MAC address, or other identifier associated with the received electronic document such as a fax number to identify an originating account associated with the received electronic document based on a reverse lookup query to and corresponding response from the customer database . A customer account of the network-based fax service may be identified as an originating account for distribution of the received electronic document, because the customer account should be charged a fee for distribution of the electronic document. Additionally, at step , the job monitor  searches among a known group of customer accounts that subscribe to the network-based fax service, to determine whether the destination identifier is associated with an account of a subscriber of the network-based fax service. To achieve this, the job monitor  may execute a reverse lookup query to and corresponding response from the customer database , as a search among a known group of customers that subscribe to the network-based fax service.","At decision step , depending on whether the destination of the electronic document is identified as being associated with an account of the network-based fax service, the job monitor will proceed to either step  or . When the destination of the electronic document is not identified as being associated with an account among the known group of customer accounts stored in the customer database , the job monitor  designates the electronic document for an off-net delivery at step . Designation of the electronic document for off-net delivery may be accomplished using metadata or other data flag stored by the server  in association with the electronic document to be distributed. At step , the document translator  translates a format of the received electronic document to a format suitable for transmission as a fax, such as a TIFF format. At step , the job monitor  routes the formatted electronic document according to the off-net designation. According to the off-net designation, the job monitor  routes the formatted electronic document to the off-net line-out controller  and the off-net outbound telephony interface  of the gateway , for communication of the formatted electronic document over the data network  and the PSTN . In other words, for a destination identifier not associated with a customer account among the known group of customer accounts, a fax is transmitted via the data network  for possible delivery to one of the conventional fax machines  connected to the PSTN . As noted above, delivery of such a fax is accompanied by a charge for delivery using the PSTN , according to rates determined by a telephone company or other entity that maintains the PSTN . At step , the billing controller  calculates a fee associated with off-net delivery of the electronic document, as described in further detail with reference to  below.","Alternatively, if the job monitor  determines at step  that the destination identifier of the electronic document is associated with a customer account among the known group of customer accounts stored in the customer database , the job monitor  designates the electronic document for an on-net delivery at step . At step  (as at step ), the document translator  translates a format of the received electronic document to a format suitable for transmission as a fax message, such as a TIFF format. At step , the job monitor  routes the on-net electronic document via the on-net line-out controller  and the on-net outbound telephony interface , so that the electronic document may be delivered via the logical cross over connection  to the inbound telephone interface  for receipt by the line-in controller .","In association with step , it is noted that the on-net line-out controller  may append a fax transmission header to the electronic document before and\/or while the electronic document is being transmitted in real time via the on-net outbound telephony interface  and the logical cross over connection  and being received via the inbound telephony interface  and the line-in controller . In that sense, the line-in controller  performs some standard fax machine functions for reception of a fax in real time, while the on-net line-out controller  performs some standard fax machine functions for transmission of a fax in real time. The fax transmission header and other transmission data may be representative of characteristics of a fax transmission negotiated between the line-in controller  and the on-net line-out controller  during an initial handshaking sequence. The header and other associated data may include a transmission fax number, a transmission speed, a total transmission time, and a page number, among other items, for example. The on-net line-out controller  may also add a cover page to an outgoing fax, as part of a predefined user parameter stored in association with a user account of the network-based fax service. Because the on-net line-out controller  appends a fax transmission header and other transmission data to an outgoing fax, electronic documents distributed on-net appear to have been transmitted via the PSTN  from a conventional fax machine.","At step , the billing controller  calculates a fee associated with on-net delivery of the electronic document, as described in further detail below with reference to . The calculation of the fee for on-net delivery may be discounted based on the fact that the delivery was routed via the logical cross over connection  without the costs associated with the PSTN . The calculation of the fee may be further based upon a set of billing rules stored in the billing database  as described in further detail below with reference to . It is noted that, whether or not the delivery fee is discounted for the customer, the operating costs of the network-based fax service are discounted.","Turning to , an example method  of calculating a delivery fee is described in further detail. The method  for calculating a fee includes determining whether a destination of an outgoing fax is on- or off-net at step . That is, as described above, the job monitor  relies upon the customer database  and a destination identifier received along with an electronic document, to determine whether a destination of a fax is associated with a destination account among the known group of customers that subscribe to the network-based fax service. The billing controller  receives this information from the job monitor  and, if the destination of the fax is off-net, the billing controller  provides no discount for delivery at step  based on a set of billing rules stored in the billing database , because the delivery cannot be accommodated via the logical cross over connection . It is noted that the set of billing rules stored in the billing database  specifies no discount for delivery, whenever delivery of a fax occurs off-net using the data network  and the PSTN . Because no cost savings is available for off-net delivery of a fax using the data network  and the PSTN , no discount is generally provided by the set of billing rules.","Alternatively, when the billing controller  receives information from the job monitor  that specifies that the destination of the fax is on-net, the billing controller  proceeds from step  to step . The remaining examples are described with reference to on-net faxes. Here, it is again noted that, although a fax may be distributed \u201con-net\u201d either a discounted or standard fee may apply based on a set of billing rules.","To provide a more detailed example of the remaining steps of the method , reference is now made to .  illustrate example sets of billing rules. As one example of the billing rules, the rules may be structured to define individual discount associations for each of a plurality of user accounts. In , a set of billing rules associated with account D  of customer  is illustrated and, in , a set of billing rules associated with account A  of customer  is illustrated. It is noted that the billing rules illustrated in  are provided by way of example only, and other sets of rules are within the scope and spirit of the invention. The billing rules are relied upon by the billing controller  when calculating a fee for delivery of a fax. As illustrated, it is noted that one customer may include one or a plurality of accounts for purposes of billing. For example, as illustrated in , customer  includes account A , account B , account C , and account D . Further, customer  includes account E  and account F ; Customer  includes account G , account H , and account I ; and Customer  includes account J , account K , and account L . Each customer may include any number of associated accounts, and the set of billing rules may include rules for any number of customers and associated accounts. For billing purposes, each customer may receive a single bill for network-based fax services for all of its accounts. For example, customer  may receive a single bill for network-based fax services associated with accounts , , , and . Alternatively, each account may be billed separately. As described in further detail below,  includes global discounts  and  and specific discounts  and . Also,  includes global discount  and specific discounts  and .","Referring to both  and  for one example, in the case of distributing a fax from originating account D  to destination account E , the billing controller  first determines that the originating and destination accounts are not accounts of a same customer at step , because originating account D  is associated with customer  and destination account E  is associated with customer . Based on the determination that the originating and destination accounts are not accounts of a same customer at step , the billing controller  proceeds to step , where the billing controller  determines whether a global discount  exists between the originating account D  and the destination account E  at step  based on a query to and corresponding response from the billing database . In the case of distributing the fax from originating account D  to destination account E , the billing controller  determines that the global discount  exists between accounts of customer  and accounts of customer . As such, the billing controller  determines that a discount exists between the originating account D , as an account of customer , and the destination account E , as an account of customer , at step , and the billing controller  calculates a discounted fee for delivery of the fax to the destination account E  at step .","As used herein, a global discount between customers, such as global discount , includes a discount between each user account of one customer and each user account of another customer. In other words, the billing rules illustrated in  include global discount , which specifies a discount between all accounts of customers  and . Once defined in the set of billing rules, the global discount  may also apply between accounts added in the future to either customers  or . The global discount  may be considered part of a subset of the set of billing rules illustrated in , because it specifies an inter-customer rule rather than intra-customer rule. That is, the set of billing rules may be defined, in part, according to inter-customer and intra-customer rules, for flexibility.","In a different example with reference to , when distributing a fax from originating account D  to destination account A , the billing controller  first determines that the originating and destination accounts are accounts of a same customer based on a query to and corresponding response from the customer database  at step , because originating account D  is associated with customer  and destination account A  is also associated with customer . Based on the determination that the originating and destination accounts are accounts of a same customer at step , the billing controller  proceeds to step . At step , the billing controller  determines that a global discount exists between the originating account D  and the destination account A  based on a query to and corresponding response from the billing database . In particular, the billing controller  identifies global discount  between the originating account D  and the destination account A . Based on the identification of the global discount , the billing controller  calculates a discounted fee associated with distribution of the fax to the destination account A  at step . In this case, the global discount  may be considered part of a subset of the set of billing rules illustrated in , because it specifies an intra-customer rule, rather than inter-customer rule.","Referring to  and  for another example, when distributing a fax from originating account J  of customer  to destination account L  of customer , the job monitor  determines that account L  is a destination account among the known group of customers based on a query to and corresponding response from the customer database  at step . The billing controller  receives this information from the job monitor  and proceeds to step , to determine whether the originating account J  and the destination account L  are each associated with a same customer at step . At step , the billing controller  determines that the originating account J  and the destination account L  are both accounts of customer , based on a query to and corresponding response from the customer database , and proceeds to step . At step , the billing controller  determines that no global discount exists between the originating account J  and the other accounts of customer  based on a query to and corresponding response from the billing database . In contrast to the global discount  among the accounts of customer , as illustrated in , no global discount exists between the accounts of customer , as illustrated in . As such, the billing controller  deter mines that no global discount exists between originating account J  and the other accounts of customer  at step .","Based on the determination that no global discount exists between the originating account J  and the destination account L  at step , the billing controller  proceeds to step , where the billing controller  determines whether a specific discount exists between the originating account J  and the destination account L  based on a query to and corresponding response from the billing database . At step , the billing controller  identifies the specific discount  between the originating account J  and the destination account L . Based on the determination that the specific discount  exists between the originating account J  and the destination account L  at step , the billing controller  calculates a discounted fee for delivery of the fax to the destination account L  at step . In this case, the specific discount  may be considered part of a subset of the set of billing rules illustrated in , because it specifies an intra-customer rule rather than inter-customer rule.","In another example with reference to , when distributing a fax from the originating account J  to destination account K , the billing controller  determines that no global discount exists between originating account J  and destination account K  at step  based on a query to and corresponding response from the billing database . Again, it is noted that no global discount exists among the accounts of customer . Based on the determination that no global discount exists between the originating account J  and the destination account K  at step , the billing controller  proceeds to step , where the billing controller  determines whether a specific discount exists between originating account J  and destination account K  based on a query to and corresponding response from the billing database . At step , the billing controller identifies that no specific discount exists between the originating account J  and the destination account K . Based on the determination that no specific discount exists between the originating account J  and the destination account K  at step , the billing controller  calculates a standard fee for delivery of the fax to the destination account K  at step .","In another example with reference to , when distributing a fax from originating account J  of customer  to destination account F  of customer , the job monitor  determines that account F  is a destination account among the known group of customers based on a query to and corresponding response from the customer database  at step . The billing controller  then proceeds to step , to determine whether the originating account J  and the destination account F  are each associated with a same customer at step . At step , the billing controller  determines that the originating account J  and the destination account L  are not both accounts of customer , based on a query to and corresponding response from the customer database , and proceeds to step . At step , the billing controller  determines that no global discount exists between the originating account J  and the accounts of customer  based on a query to and corresponding response from the billing database . In contrast to the global discount  among the accounts of customers  and , as illustrated in , no global discount exists between the accounts of customers  and , as illustrated in . As such, the billing controller  determines that no global discount exists between originating account J  and the accounts of customer  at step .","Based on the determination that no global discount exists between the originating account J  and the accounts of customer  at step , the billing controller  proceeds to step , where the billing controller  determines whether a specific discount exists between the originating account J  and the destination account F  based on a query to and corresponding response from the billing database . At step , the billing controller  identifies the specific discount  between the originating account J  and the destination account F . Based on the determination that the specific discount  exists between the originating account J  and the destination account F  at step , the billing controller  calculates a discounted fee for delivery of the fax to the destination account F  at step . In this case, the specific discount  may be considered part of a subset of the set of billing rules illustrated in , because it specifies an inter-customer rule rather than intra-customer rule.","It is also noted that the specific discount between account J , as an originating account, and account F , as a destination account, may or may not define a specific discount between account F , as an originating account, and account J , as a destination account. In other words, the billing rules may define specific discounts between accounts as either one-way or two-way, for flexibility.","In another example with reference to , when distributing a fax from the originating account J  to destination account E , the billing controller  determines that no global discount exists between originating account J  and destination account E  at step  based on a query to and corresponding response from the billing database . Again, it is noted that no global discount exists among the accounts of customers  and . Based on the determination that no global discount exists between the originating account J  and the destination account E  at step , the billing controller  proceeds to step , where the billing controller  determines whether a specific discount exists between originating account J  and the destination account E  based on a query to and corresponding response from the billing database . At step , the billing controller  identifies that no specific discount exists between the originating account J  and the destination account E . Based on the determination that no specific discount exists between the originating account J  and the destination account E  at step , the billing controller  calculates a standard fee for delivery of the fax to the destination account E  at step .","It is noted that calculation of a delivery fee by the billing controller  at steps , , , and  may be based on various parameters in addition to discounts specified by the set of billing rules, such as the transmission time of the fax, the number of pages of the fax, and predetermined rates for fax distribution, among other parameters. Similarly, calculation of a delivery fee by the billing controller  at steps , , and  may be based on various parameters such as the transmission time of the fax, the number of pages of the fax, and predetermined rates for fax distribution, among other parameters.","The global and specific discounts of the billing rules may be defined based on a plurality of considerations, such as customer relationships and customer inter-relationships. For example, a global discount may be provided among all accounts of one customer having a certain number of transactions per period of time or based on another promotion. As another example, a global discount may be provided between two customers that are subsidiaries, as part of a negotiated rate. In other aspects, because a discount may indicate to one customer that another customer is serviced by the same network-based fax service, no global or specific discounts may be defined between customers that are competitors.","Variations on the billing rules illustrated in  are within the scope and spirit of the present invention. As an alternative to the detailed billing rules illustrated in FIGS. A and B, in one embodiment, the set of billing rules may specify a discounted fee for routing a fax to each of a known group of customer accounts. In other words, the set of billing rules may simply specify a reduced fee for delivery of every fax identified as having an on-net destination at step . In another embodiment, the set of billing rules may specify a discounted fee for routing a fax to a first group of the known group of customer accounts and specify a standard fee for a second group of the known group of customer accounts.","It is again noted that, as between faxes delivered on- and off-net, the network-based fax service described herein is configured to deliver faxes on-net without providing any indication of on-net delivery. In other words, a fax delivered on-net will appear the same as a fax delivered off-net, because delivery via the logical crossover connection  cannot be distinguished from delivery via the data network  and\/or the PSTN . Thus, where the set of billing rules defines a standard fee, the network-based fax service saves costs while maintaining privacy between customers, such as competing customers.","Although embodiments of the present invention have been described herein in detail, the descriptions are by way of example. The features of the invention described herein are representative and, in alternative embodiments, certain features and elements may be added or omitted. Additionally, modifications to aspects of the embodiments described herein may be made by those skilled in the art without departing from the spirit and scope of the present invention defined in the following claims, the scope of which are to be accorded the broadest interpretation so as to encompass modifications and equivalent structures."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["For a more complete understanding of the invention and the advantages thereof, reference is now made to the following description, in conjunction with the accompanying figures briefly described as follows.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6A"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 6B"}]},"DETDESC":[{},{}]}
