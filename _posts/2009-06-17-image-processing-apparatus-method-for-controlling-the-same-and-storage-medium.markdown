---
title: Image processing apparatus, method for controlling the same, and storage medium
abstract: A method for controlling an image processing apparatus configured to output image data includes accepting, from a user, selection about whether to permit inputting biometric information, and performing control such that outputting the image data is permitted in a case where the selection for permitting inputting the biometric information is made, and the outputting the image data is prohibited in a case where the selection for permitting inputting the biometric information is not made.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08730007&OS=08730007&RS=08730007
owner: Canon Kabushiki Kaisha
number: 08730007
owner_city: Tokyo
owner_country: JP
publication_date: 20090617
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates to an image processing apparatus, a method for controlling the same, and a storage medium.","2. Description of the Related Art","A user can conveniently print out or transmit image data using an image processing apparatus having a copy function or a data transmission function. However, if image data having confidential information is carelessly printed out or transmitted, the confidential information may be unintentionally leaked. To prevent the leakage of confidential information, an operation of outputting (e.g., printing out or transmitting) image data can be limitedly executed.","Meanwhile, Japanese Patent Application Laid-Open No. 2004-252501 discusses a technique of authenticating a user by previously registering a user's face image and then comparing a captured user's face image with the user's face image that has been previously registered. In such an authentication technique, the face of a user who wishes to output (e.g., print out or transmit) image data is captured. If the captured face image matches any one of previously registered face images, the operation of outputting the image data may be permitted. Otherwise, the operation of outputting the image data may be prohibited. This enables limiting a user who can execute the operation of outputting image data and restricting the operation of outputting image data.","However, when only users whose biometric information, such as a face image, has previously been registered are permitted to output image data as described above, a user whose biometric information has not been registered cannot output the image data. In this case, since a user who wishes to output image data is required to previously register her\/his biometric information, user convenience may be decreased.","According to an aspect of the present invention, an image processing apparatus includes an outputting unit configured to output image data, an inputting unit configured to input user's biometric information, an accepting unit configured to accept, from a user, selection about whether to permit inputting the biometric information, and a control unit configured to perform control such that outputting the image data from the outputting unit is permitted in a case where the accepting unit accepts selection for permitting the inputting unit to input the biometric information, and the outputting the image data is prohibited in a case where the accepting unit does not accept selection for permitting the inputting unit to input the biometric information.","Further features and aspects of the present invention will become apparent from the following detailed description of exemplary embodiments with reference to the attached drawings.","Various exemplary embodiments, features, and aspects of the invention will be described in detail below with reference to the drawings.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1","b":"100"},"The MFP  includes a scanner unit , a printer unit , an operation unit , and a camera unit , as illustrated in .","The scanner unit  has a feeder , which feeds an original to be read on a sheet-by-sheet basis. The original fed by the feeder  is illuminated by a light source (not illustrated) and scanned by a reading sensor such as a charge-coupled device (CCD). The reading sensor converts a light beam reflected from the original into an electric signal. Such an electric signal is an analog signal representing an image of the original, which is then converted into a digital signal by an image processing unit (not illustrated). The digital signal is then output as image data.","The printer unit  prints out the image expressed by the input image data on the paper fed from a single paper feed stage  and discharges the paper having the image printed thereon to a discharge tray . While the printer unit  is described as an electrophotographic type or an inkjet type, various other printing types may be also adopted without limitation.","The operation unit  includes a hard key group  having a start key or the like and a liquid crystal display (LCD) panel  having a touch panel capable of displaying a group of soft keys. If a user operates any one of a group of hard keys  or a group of the soft keys displayed on the liquid crystal display panel , information corresponding to the operation (e.g., information on an operation setup) is input. The liquid crystal display panel  displays various kinds of setup screens such as an operation mode setup screen and information on an operation mode or an operation state set up by a user.","The camera unit  has an image sensor (not illustrated) for capturing a user's face as information (i.e., biometric information) for identifying a user who uses the MFP .","An internal configuration of the MFP  will now be described with reference to .  is a block diagram illustrating an internal configuration of the MFP  illustrated in .","The MFP  includes a central processing unit (CPU)  as illustrated in . The CPU  is connected to a memory , a hard disk drive (HDD) , a network interface (I\/F) , and an input\/output (I\/O) interface  via a system bus . Also, the CPU  is connected to the scanner unit , the printer unit , the operation unit , and the camera unit  via the system bus .","The memory  can be a random access memory (RAM) for providing a work area for the CPU  as well as temporarily storing image data. The HDD  stores programs or image data for executing various functions of the MFP . The network I\/F  is an interface for transmitting\/receiving data between devices over a network such as a local area network (LAN). The I\/O interface  is an interface such as a universal serial bus (USB) for transmitting\/receiving data between external devices.","The CPU , using a work area of the memory , performs control to execute various functions (such as a copy function, a printer function, a data transmission function, a facsimile function) based on a program stored in the HDD . For example, the CPU  performs control to read an original using the scanner unit  and transmit image data to the printer unit , thereby executing a copy operation for the original. The CPU  also performs control to read an original using the scanner unit  and transmit image data from the network I\/F  or the I\/O interface  to an external device, thereby executing data transmission. The CPU  also performs control to read an original using the scanner unit  and transmit image data from the network I\/F  to another facsimile device, thereby executing facsimile transmission.","The copy operation in the MFP  according to the present exemplary embodiment will now be described in brief with reference to , B, and .  illustrate examples of copy restriction information added to an original.  illustrates image data of the face captured by the camera unit  and information associated with the image data.","According to the present exemplary embodiment, when the copy operation is executed, a user operates the hard or soft key of the operation unit  and set a copy mode in the MFP . Then, the user places an original on the feeder  of the scanner unit  and executes an output instruction by pressing the start key of the operation unit .","When the start key is pressed, the CPU  performs control to feed the original from the feeder  and read the original using the scanner unit . The CPU  analyzes image data of the original read by the scanner unit . Based on the result of the analysis, the CPU  determines whether the image data includes copy restriction information (i.e., specific information). The copy restriction information indicates that copy is restricted for the original.","The copy restriction information can include a visible or invisible two-dimensional code that can be analyzed by the MFP  (i.e., CPU ). The copy restriction information is not limited to the two-dimensional code, but it can include any type of code as long as it can be analyzed by the MFP . For example, as illustrated in , a visible two-dimensional code  can be added to the vicinity of an edge of the original as the copy restriction information. In addition, as illustrated in , an invisible two-dimensional code  including a dot pattern can be embedded in the image as the copy restriction information. The invisible information can be read in a resolution larger than a predetermined level.","If the image read by the scanner unit  includes copy restriction information, the CPU  performs control to display, on the LCD panel , an inquiry screen for asking a user whether to consent to face capturing (for obtaining biometric information) using the camera unit . On the inquiry screen, if a user enters an answer that he\/she consents to the face capturing, the CPU  performs control to execute the user's face capturing using the camera unit . If the face information of the user is obtained, the CPU  performs control to permit the user to copy the original and execute copying. That is, the CPU  performs control to send the image data of the read original to the printer unit , and the printer unit  then discharges a sheet having the image of the read original printed thereon.","As described above, if the original including the copy restriction information is to be copied, the user's face capturing becomes a precondition for the copy permission, and the camera unit  captures the user's face. The image data of the captured user's face is associated with the image data of the original to be copied (i.e., the image data of the original read by the scanner unit ) and date\/time information as illustrated in , so that management information  including the image data and the data\/time information can be generated. The management information  is stored in the HDD . The management information  stored in the HDD  can be referred to, for example, when an administrator's password is entered. This enables searching for users who executed the copy operation for the original and the copy date and time information when the copy operation is to be executed for the original including the copy restriction information.","A process for controlling the copy operation by the CPU  in the MFP  will now be described with reference to  to E.  is a flowchart illustrating a process for controlling the copy operation by the CPU  in the MFP  illustrated in .  illustrate examples of a selection screen and a message screen displayed in procedures of the flowchart illustrated in . The procedures illustrated in the flowchart illustrated in  are executed by the CPU  based on a program stored in the HDD .","A user performs a copy setup for setting the number of copies to be made or a post-processing condition such as sorting or stapling by operating a hard or soft key of the operation unit  when the copy operation is to be executed. The user sets the original in the scanner unit  and presses the start key on the operation unit .","In step S, the CPU  controls the scanner unit  to read the original when the start key is pressed. The image data of the original read by the scanner unit  is stored in the HDD . Then, in step S, the CPU  analyzes the image data of the read original. In step S, the CPU  determines whether the image data includes copy restriction information based on the result of the analysis.","If it is determined, in step S, that the image data includes copy restriction information (YES in step S), then in step S, the CPU  performs control to display the inquiry screen  as illustrated in  on the LCD panel . The inquiry screen  is a screen for asking a user whether to consent to face capturing. The inquiry screen  provides a message indicating \u201cCOPY IS RESTRICTED FOR THIS ORIGINAL. FACE CAPTURING IS REQUIRED TO PERMIT YOU TO COPY THIS ORIGINAL. DO YOU CONSENT TO FACE CAPTURING?\u201d. In addition, the inquiry screen  provides \u201cYES\u201d and \u201cNO\u201d keys for entering an answer to the inquiry about whether to consent to the face capturing. The user presses the \u201cYES\u201d key when she\/he consents to the face capturing. Meanwhile, the user presses the \u201cNO\u201d key when she\/he does not consent to the face capturing. When either of the \u201cYES\u201d or \u201cNO\u201d key is pressed, the inquiry screen  is closed.","Subsequently, in step S, the CPU  determines whether the user consents to the face capturing in response to pressing either of the \u201cYES\u201d or \u201cNO\u201d key on the inquiry screen . If the \u201cYES\u201d key is pressed, it is determined that the user consents to the face capturing. If the \u201cNO\u201d key is pressed, it is determined that the user does not consent to the face capturing but cancels the copy operation for the original.","If it is determined that the user consents to the face capturing in step S (YES in step S), then in step S, the CPU  controls the camera unit  to capture the user's face. The user's face can be captured by the camera unit  such that the face of the user who is operating the MFP  at the present time can be captured from its front side. It is also necessary to prompt a user to direct her\/his face to the lens of the camera unit . For this purpose, for example, a message screen  indicating \u201cPLEASE STARE AT CAMERA LENS. YOUR FACE IS BEING CAPTURED.\u201d is displayed on the LCD panel  as illustrated in . Any face recognition technique well-known in the art can be employed to capture the user's face using the camera unit . When the face is recognized, the face capturing using the camera unit  is executed. If the face is not recognized within a predetermined time period, the capturing is ended. If the capturing is ended, the message screen  is closed.","In step S, the CPU  determines whether the user's face capturing is successful based on the image data obtained by the face capturing. If it is determined that the user's face capturing is successful (YES in step S), then in step S, the CPU  generates management information  including the image data of the user's face captured by the camera unit  and stores the management information  in the HDD . According to the present exemplary embodiment, as illustrated in , the management information  includes the image data of the captured face, the image data of the original (i.e., image data of the original read by the scanner unit ), and date and time information in association with one another.","In step S, the CPU  performs control to execute the copy operation for the read original. In this step, the image data of the original read by the scanner unit  is transmitted to the printer unit , and the printer unit  prints out the image data on a sheet. In addition, for example, a message screen  indicating \u201cCOPYING IS IN PROGRESS\u201d is displayed on the LCD panel  as illustrated in . When the copy operation is completed, the CPU  performs control to close the message screen  and ends the present process.","If it is determined that the user's face capturing is unsuccessful in step S (NO in step S), then in step S, the CPU  performs control to display, for example, the selection screen  as illustrated in  on the LCD panel . The selection screen  is a screen for allowing a user to select whether to re-capture her\/his face. The selection screen  provides a message \u201cFACE CAPTURING IS UNSUCCESSFUL. PLEASE SELECT WHETHER TO RE-CAPTURE YOUR FACE OR CANCEL COPYING\u201d. In addition, the selection screen  provides \u201cRE-CAPTURE\u201d and \u201cCANCEL\u201d keys. In this case, when the user selects the face re-capturing, the \u201cRE-CAPTURE\u201d key is pressed. Meanwhile, when a user gives up and cancels the copy operation for the original, the \u201cCANCEL\u201d key is pressed. Either of the \u201cRE-CAPTURE\u201d or \u201cCANCEL\u201d key is pressed, the selection screen  is closed.","In step S, the CPU  determines whether the user selects the face re-capturing in response to determining whether the \u201cRE-CAPTURE\u201d key is pressed on the selection screen . In this case, if it is determined that the user selects the face re-capturing (YES in step S), the CPU  controls the process to return to step S and the cameral unit  to re-capture the user's face.","If it is determined that the user does not select the face re-capturing in step S (NO in step S), the user might have selected canceling the copy operation by pressing the \u201cCANCEL\u201d key. In this case, in step S, the CPU  executes a process for canceling the copy operation for the read original. For example, the image data captured by the camera unit  or the image data of the read original stored in the HDD  is deleted. For example, a message screen  indicating \u201cCOPYING HAS BEEN CANCELED\u201d is displayed on the LCD panel  as illustrated in . Then, the CPU  performs control to close the message screen  and ends the present process.","If it is determined that the user does not consent to the face capturing in step S (NO in step S), the CPU  determines that the user cancels the copy operation for the read original. Then, the process advances to step S, in which the CPU  performs control to execute a process for canceling the copy operation for the read original.","If it is determined that the image does not include copy restriction information in step S (NO in step S), the process advances to step S, in which the CPU  performs control to execute the copy operation.","As described above, when an original including copy restriction information is copied, the CPU  permits the copy operation for the original only when the face capturing is successful. Information on the captured face is stored as management information in association with the copied image data. Based on the stored management information, a user who executes the copy operation can be tracked. This prevents the user from carelessly copying the original. Since the user is allowed to output the image data even when the face information has not been registered previously, degradation of user convenience can be prevented.","Copy management for an original including copy restriction information using the copy management information will now be described with reference to , B, and .  illustrates a configuration for implementing copy management for an original including copy restriction information using a server.  illustrates a configuration for implementing copy management for an original including copy restriction information using a computer by an administrator.  is a flowchart illustrating a procedure for transmitting the copy management information from the MFP  when the server executes copy management for the original including copy restriction information. The procedures illustrated in the flowchart illustrated in  are executed by the CPU  based on a program stored in the HDD .","As described above, the HDD  in the MFP  stores copy management information including the image data of the user's face who executes the copy operation for the original including copy restriction information, the image data of the original, and date\/time information. By referring to the copy management information stored in the HDD , the original that was copied can be identified, and when the original was copied by whom can also be identified.","As a method for referring to the copy management information stored in the HDD , for example, an administrator who manages the copy operation for the original including copy restriction information can access the HDD  using a password and can print out the copy management information in a management report style.","However, in an environment having a plurality of MFPs, it may take a long time to output the copy management information from each MFP. Therefore, a management device for executing the copy management can be provided independently from the MFPs  such that copy management for the original including the copy restriction information can be centrally executed using the copy management information. For example, as illustrated in , a system can be constructed by connecting the MFP  to a sever  having an HDD  via a network  and executing copy management for the original including the copy restriction information using the server .","In this system, as illustrated in , the CPU  of the MFP  waits for end of the copy operation for the original including the copy restriction information in step S. When the copy operation for the original is ended (YES in step S), then in step S, the CPU  performs control to transmit the management information stored in the HDD  from the network I\/F  to the server  via the network . In this case, the address of the server  (i.e., destination information) is previously stored in the HDD . Alternatively, the address can be embedded into the image of the original together with the copy restriction information. The address (destination information) embedded into the image of the original is extracted by analyzing the image.","Subsequently, in step S, the CPU  performs control to delete the management information in the HDD  and ends the present process.","When the server  receives the management information, the server  stores the management information in the HDD . The management information stored in the HDD  can be read and referred to by an administrator or any appropriate person responsible for management of the copy operation for the original including the copy restriction information. This enables identifying the copied original and identifying when the original was copied by whom with respect to the copy operation for the original including copy restriction information.","For example, as illustrated in , instead of the server , a personal computer (PC)  used by an administrator can be utilized as a management device for managing the copy operation for the original including the copy restriction information. In this case, the MFP  is connected to the PC  via a network . When the copy operation is ended, the MFP  transmits an electronic mail from the network I\/F  to the network  with the management information stored in the HDD  being attached. A destination of the electronic mail is the address (i.e., destination information) allocated to an administrator, and the address is previously stored in the HDD  of the MFP . The address of the administrator can be embedded into the image of the original together with the copy restriction information. The address (i.e., destination information) embedded into the image of the original is extracted by analyzing the image.","The administrator who receives the electronic mail can identify the copied original as well as identify when the original was copied by whom by referring to the copy management information attached to the electronic mail.","While, according to the present exemplary embodiment, the copy management information is transmitted to the server, or an electronic mail with the copy management information being attached is transmitted to the administrator after the copy operation for the original including the copy restriction information is ended, the present invention is not limited thereto. For example, in step S illustrated in , in the process executed before the copy operation is ended, the copy management information can be transmitted to the server, or an electronic mail with the copy management information being attached can be transmitted to the administrator.","In addition, in the MFP , the CPU  can search the HDD  on a regular basis. If the copy management information is stored in the HDD , the copy management information can be transmitted to the server, or an electronic mail with the copy management information being attached can be transmitted.","A second exemplary embodiment of the present invention will now be described with reference to  to C.  are flowcharts illustrating a process for controlling a copy operation in an image processing apparatus according to the second exemplary embodiment of the present invention.  and A to C illustrate examples of a selection screen and a message screen displayed in the steps of the flowcharts illustrated in . Herein, the procedures illustrated in the flowcharts illustrated in  are executed by the CPU  based on a program stored in the HDD .","The second exemplary embodiment differs from the first exemplary embodiment in that a user is allowed to select any one of the password entering or the face capturing to permit the copy operation for the original including copy restriction information. In the following description, differences between the first and second exemplary embodiments will be described. However, since a general configuration of the second exemplary embodiment is similar to that of the first exemplary embodiment, its description will not be repeated.","In step S, when a user sets the original in the scanner unit  and presses the start key of the operation unit , the CPU  controls the scanner unit  to execute a reading operation for the original as illustrated in . The image data of the original read by the scanner unit  is stored in the HDD . Then, in step S, the CPU  analyzes the image data of the read original and, in step S, determines whether the image data includes copy restriction information based on the analysis result.","If it is determined that the image includes the copy restriction information in step S (YES in step S), then in step S, the CPU  performs control to display the selection screen  as illustrated in  on the LCD panel . The selection screen  is a screen for allowing a user to select a process for obtaining copy permission for the original. The selection screen  provides a message indicating \u201cCOPY IS RESTRICTED FOR THIS ORIGINAL\u201d. In addition, the selection screen  provides processing items representing each process, such as \u201cENTER PASSWORD TO OBTAIN COPY PERMISSION\u201d, \u201cCAPTURE FACE TO OBTAIN COPY PERMISSION\u201d, and \u201cCANCEL COPYING\u201d, and an \u201cOK\u201d key. Each of the processing items has a check box. The user selects a process for obtaining copy permission for the original by marking the check box of the corresponding processing item. Then, the user presses the \u201cOK\u201d key to confirm the selected process. When the \u201cOK\u201d key is pressed, the selection screen  is closed.","If the \u201cOK\u201d button is pressed on the selection screen , then in step S, the CPU  determines whether the process selected by the user is \u201cENTER PASSWORD TO OBTAIN COPY PERMISSION\u201d. If it is determined that the selected process is \u201cENTER PASSWORD TO OBTAIN COPY PERMISSION\u201d (YES in step S), then in step S, the CPU  performs control to execute the selected process. For example, the CPU  performs control to display a password input screen  as illustrated in  on the LCD panel . The password input screen  provides a password input box and an \u201cOK\u201d key. The user enters a password into the input box and presses the \u201cOK\u201d key to confirm the entered password. If the \u201cOK\u201d key is pressed, the password input screen  is closed.","If the \u201cOK\u201d key is pressed, then in step S, the CPU  determines whether the password entered through the password input screen  is identical to the password previously stored in the memory such as the HDD . If it is determined that both of the passwords are identical to each other (YES in step S), then in step S, the CPU  permits the copy operation for the read original and performs control to execute the copy operation for the original. At the present moment, for example, a message screen  indicating \u201cCOPYING IS IN PROGRESS\u201d as illustrated in  is displayed on the LCD panel . If the copy operation is completed, the CPU  performs control to close the message screen  and ends the present process.","If it is determined that the entered password is not identical to the previously stored password in step S (NO in step S), then in step S, the CPU  performs control to display, for example, the selection screen  as illustrated in  on the LCD panel . The selection screen  is a screen for allowing a user to select a process when the password is not correct. The selection screen  provides a message indicating \u201cYOU HAVE WRONG PASSWORD. PLEASE SELECT PROCESS\u201d. In addition, the selection screen  provides processing items representing each process, such as \u201cRE-ENTER PASSWORD\u201d, \u201cRETURN\u201d, and \u201cCANCEL COPYING\u201d, and an \u201cOK\u201d key. Each of the processing items has a check box. The user selects a process to be executed when a wrong password is entered by marking the check box of the corresponding processing item. Then, the user presses the \u201cOK\u201d key to confirm the selected process. If the \u201cOK\u201d key is pressed, the selection screen  is closed.","If the \u201cOK\u201d key is pressed, then in step S, the CPU  determines whether the process selected by the user through the selection screen  is \u201cRETURN\u201d. If it is determined that the selected process is \u201cRETURN\u201d (YES in step S), the process returns to step S, in which the CPU  performs control to display the selection screen .","If it is determined that the process selected in step S is not \u201cRETURN\u201d (NO in step S), then in step S, the CPU  determines whether the selected process is \u201cRE-ENTER PASSWORD\u201d. As a result, if it is determined that the selected process is \u201cRE-ENTER PASSWORD\u201d (YES in step S), the process returns to step S, in which the CPU  performs control to display the password input screen .","If it is determined that the selected process is not \u201cRE-ENTER PASSWORD\u201d in step S (NO in step S), the selected process is \u201cCANCEL COPYING\u201d. In this case, in step S, the CPU  executes a process for canceling the copy operation for the read original. For example, the CPU  deletes the image data of the read original in the HDD . In addition, the CPU  performs control to display a message screen  indicating \u201cCOPYING HAS BEEN CANCELED\u201d as illustrated in  on the LCD panel . Then, the CPI  performs control to close the message screen  and ends the present process.","If it is determined that the selected process is not \u201cENTER PASSWORD TO OBTAIN COPY PERMISSION\u201d in step S (NO in step S), the CPU  controls the process to advance to step S illustrated in . Then, the CPU  determines whether the selected process is \u201cCAPTURE FACE TO OBTAIN COPY PERMISSION\u201d. If it is determined that the selected process is \u201cCAPTURE FACE TO OBTAIN COPY PERMISSION\u201d (YES in step S), then in step S, the CPU  performs control to display, for example, an inquiry screen  as illustrated in  on the LCD panel . The inquiry screen  is a screen for asking a user whether to consent to the face capturing and also the same screen as the inquiry screen  of the first exemplary embodiment.","In step S, the CPU  determines whether the user consents to the face capturing in response to pressing either of the \u201cYES\u201d or \u201cNO\u201d key on the inquiry screen . If the \u201cYES\u201d key is pressed, it is determined that the user consents to the face capturing. If the \u201cNO\u201d key is pressed, it is determined that the user does not consent to the face capturing and cancels the copy operation of the original.","If it is determined that the user consents to the face capturing in step S (YES in step S), then in step S, the CPU  controls the cameral unit  to capture the user's face. Also, to prompt the user to direct her\/his face to the lens of the camera unit , for example, a message screen  indicating \u201cPLEASE STARE AT CAMERAL LENS. YOUR FACE IS BEING CAPTURED.\u201d as illustrated in  is displayed on the LCD panel . If the face capturing is ended, the message screen  is closed.","Then, in step S, the CPU  determines whether the user's face capturing is successful based on the image data obtained through the face capturing. If it is determined that the user's face capturing is successful (YES in step S), then in step S, the CPU  performs control to generate copy management information including the image data of the user's face captured by the camera unit  and executes a process for storing the copy management information in the HDD . Then, the process advances to step S illustrated in , in which the CPU  performs control to copy the read original.","If it is determined that the user's face capturing is unsuccessful in step S (NO in step S), then in step S, the CPU  performs control to display, for example, a selection screen  as illustrated in  on the LCD panel . The selection screen  is a screen for allowing a user to select a process to be executed when the face capturing is unsuccessful. The selection screen  provides a message indicating \u201cFACE CAPTURING IS UNSUCCESSFUL. PLEASE SELECT PROCESS\u201d. In addition, the selection screen  provides processing items representing each process, such as \u201cRE-CAPTURE\u201d, \u201cRETURN\u201d, and \u201cCANCEL COPYING\u201d, and an \u201cOK\u201d key. Each of the processing items has a check box. The user selects a process to be executed when the face capturing is unsuccessful by marking the check box of the processing item. Then, the user presses the \u201cOK\u201d key to confirm the selected process. If the \u201cOK\u201d key is pressed, the selection screen  is closed.","If the \u201cOK\u201d key is pressed on the selection screen , then in step S, the CPU  determines whether the process selected by the user on the selection screen  is \u201cRE-CAPTURE\u201d. If it is determined that the selected process is \u201cRE-CAPTURE\u201d (YES in step S), the process returns to step S, in which the CPU  performs control to execute the face capturing using the camera unit .","If it is determined that the selected process is not \u201cRE-CAPTURE\u201d in step S (NO in step S), then in step S, the CPU  determines whether the selected process is \u201cRETURN\u201d. If it is determined that the selected process is \u201cRETURN\u201d (YES in step S), the process advances to step S illustrated in , in which the CPU  performs control to display the inquiry screen .","If it is determined that the selected process is not \u201cRETURN\u201d in step S (NO in step S), the selected process is \u201cCANCEL COPYING\u201d. In this case, the process advances to step S illustrated in , in which the CPU  performs control to execute a process for canceling the copy operation for the read original. For example, the image data of the read original stored in the HDD  is deleted. In addition, if there is the image data captured by the camera unit , the image data is also deleted.","If it is determined that the user does not consent to the face capturing in step S (NO in step S), the CPU  determines that the copy operation for the read original is canceled. Then, the process advances to step S illustrated in , in which the CPU  performs control to cancel the copy operation for the read original.","If it is determined that the image data does not include the copy restriction information in step S (NO in step S), the process advances to step S, in which the CPU  performs control to copy the read original.","As described above, according to the present exemplary embodiment, a user whose password has been previously registered can select an option for authenticating a user who enters the password instead of the face capturing. As a result, a user can copy the restricted original by allowing the MFP  to authenticate a user using a password instead of face capturing.","A password can be registered for each user, or a common password can be registered for a plurality of users. If a password is registered for each user, the MFP  can identify the user who has entered the password when it is determined that the entered password is correct in step S. As a result, when the image data is output after that, the MFP  stores the image data in the HDD  in association with a user's identification (ID) and date\/time as the management information. As a result, the administrator can track when and what image data has been output by whom by referring to the HDD . Also, the management information stored in the HDD  can be transmitted to the server  or the PC  as described above. While the password method is employed as an example in the above description, any method other than the password method can be employed as long as it can be used to authenticate a user in combination with previously registered information.","Further, according to the aforementioned exemplary embodiment, the CPU  asks a user to capture her\/his face (or to enter a password or capture her\/his face according to the second exemplary embodiment) when the image data of the original includes copy restriction information. However, the present invention is not limited thereto. The CPU  can ask a user to capture her\/his face (or to enter a password or capture her\/his face according to the second exemplary embodiment) irrespective of whether the original includes copy restriction information when the copy operation is instructed. As a result, the original can be prevented from being carelessly copied even when the original does not include the copy restriction information.","While the exemplary embodiments have been described by exemplifying a case that the original including the copy restriction information is copied using the scanner unit , the present invention is not limited thereto. For example, even when the original including the restriction information is read, and the image data is transmitted to other devices, it is possible to perform control to ask a user to capture her\/his face (or to enter a password or capture her\/his face according to the second exemplary embodiment) to permit the image data processing. In addition, while the scanner unit  is used as an input source of the image data to copy the original according to the present exemplary embodiment, the present invention is not limited thereto. Alternatively, the present invention can be applied to a case where the MFP  prints out the image data read from an external memory such as a universal serial bus (USB) memory.","While the user's face is captured to obtain biometric information according to the present exemplary embodiment, the present invention is not limited thereto. Alternatively, a fingerprint, a vein, a hand geometry, a voice pattern, a retina, an iris, or a combination of them can be obtained from a user as the biometric information. Such biometric information can be obtained using corresponding biometric sensors. The MFP  stores face information, fingerprint information, vein information, voice pattern information, hand geometry information, retina information, iris information, or a combination of them obtained from a user in association with the output image data or the output date\/time. As a result, it is possible to track when and what image data is output by whom afterwards.","While biometric information is stored in association with the output image data when the image data is output according to the aforementioned exemplary embodiment, the present invention is not limited thereto. Alternatively, the CPU  can perform memory control to store the image data without associating the biometric information obtained from a user with the image data.","It is to be understood that the present invention can also be accomplished by supplying a system or an apparatus with a storage medium in which a program code of software, which realize the functions of either of the aforementioned exemplary embodiments is stored, and causing a computer (or the CPU or micro processing unit (MPU)) of the system or apparatus to read out and execute the program code stored in the storage medium. For example, as illustrated in , the storage medium in which the program code is stored is supplied.","In this case, the program code itself read from the storage medium realizes the functions of either of the exemplary embodiments, and, therefore, the program code and the storage medium in which the program code is stored constitute the present invention.","Examples of the storage medium for supplying the program code include a floppy disk, a hard disk, a magnetic-optical disk, a compact disc read only memory (CD-ROM), a compact disc recordable (CD-R), a compact disc rewritable (CD-RW), a digital versatile disc read only memory (DVD-ROM), a digital versatile disc random access memory (DVD-RAM), a digital versatile disc rewritable (DVD-RW), a digital versatile disc rewritable (DVD+RW), a magnetic tape, a nonvolatile memory card, and a ROM. Alternatively, the program code can be downloaded via a network.","Further, it is to be understood that the functions of either of the exemplary embodiments can be accomplished not only by executing the program code read out by a computer, but also by causing an operating system (OS) or the like which operates on the computer to perform a part or all of the actual operations based on instructions of the program code.","Further, it is to be understood that the functions of either of the aforementioned exemplary embodiments can be accomplished by writing program code read out from the storage medium into a memory provided on a function expansion board inserted into a computer or a memory provided in a function expansion unit connected to the computer and then causing a CPU or the like provided in the function expansion board or the function expansion unit to perform a part or all of the actual operations based on instructions of the program code.","While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all modifications, equivalent structures, and functions.","This application claims priority from Japanese Patent Application No. 2008-164697 filed Jun. 24, 2008, which is hereby incorporated by reference herein in its entirety."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate exemplary embodiments, features, and aspects of the invention and, together with the description, serve to explain the principles of the invention.",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIGS. 3A and 3B"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIGS. 6A to 6E","FIG. 5"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7A"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7B"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIGS. 11A to 11E","FIGS. 9 and 10"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIGS. 12A to 12C","FIGS. 9 and 10"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 13"}]},"DETDESC":[{},{}]}
