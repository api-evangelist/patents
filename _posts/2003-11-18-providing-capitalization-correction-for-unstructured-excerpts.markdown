---
title: Providing capitalization correction for unstructured excerpts
abstract: Providing capitalization correction for unstructured excerpts is described. An excerpt of unstructured content is tokenized into a set of words. The set of words is analyzed for correct capitalization. Individual characters constituting at least one such word in the set of words are evaluated. The at least one such word is skipped if determined to be of a predefined type.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07451398&OS=07451398&RS=07451398
owner: Google, Inc.
number: 07451398
owner_city: Mountain View
owner_country: US
publication_date: 20031118
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The invention relates in general to text capitalization correction and, in particular, to providing capitalization correction for unstructured excerpts.","Although the origins of the Internet trace back to the late 1960s, the more recently-developed Worldwide Web (\u201cWeb\u201d), together with the long-established Usenet, have revolutionized accessibility to untold volumes of information in stored electronic form to a worldwide audience, including written, spoken (audio) and visual (imagery and video) information, both in archived and real-time formats. The Web provides information via interconnected Web pages that can be navigated through embedded hyperlinks. In short, the Web provides desktop access to a virtually unlimited library of information in almost every language.","Web content is relatively unstructured in terms of grammar and standardized usage. Web content is often presented in the form of excerpts, which are primarily short, self-contained narratives including one or more headlines and accompanying text. Excerpts might occur as an artifact of the graphical nature of the Web, which emphasizes the tabular presentation of information. In addition, grammatical rules are often ignored in Web content, which can be typified by incomplete sentences, improper capitalization and often bad prose.","In an attempt to improve the presentation and quality of the Web content, many Web content publishers, particularly those publishers who provide Web content submissions received from third parties, have implemented editorial guidelines, which provide a set of rules for acceptable style and grammar. Editorial guidelines strive to provide improved appearance and uniformity, but may not necessarily attempt to enforce correct grammar. Editorial guidelines often function as a pre-condition to Web content publication and compliance can be difficult if a Web content submission is created through automated means. Moreover, compliance is particularly problematic for users who have a significant body of contributions, such as a Web retailer with a large product catalog that would be difficult to fully evaluate for editorial guideline compliance.","Third party advertisers, in particular, can be at odds with editorial guidelines, yet can benefit by advertising on-line. Compliance is important because the Web provides a vehicle to reach a potentially large audience inexpensively. Advertisements can be provided with existing Web content, such as in conjunction with on-line news and information. Advertisements can also be tied to results generated by search engines to build on the topical nature of the underlining query.","Web-based advertisements also tend to be unstructured and often contain only nouns, adjectives, conjunctions, and prepositions with little or no punctuation. Improper capitalization often occurs in the product or service name description. However, improper capitalization can render an advertisement ineligible for display by a Web content publisher that enforces correct capitalization and similar grammatical conventions.","Conventional approaches to ensuring compliance with editorial guidelines and similar requirements often employ manual or rote correction of word capitalization. However, such approaches can be slow, time-consuming and expensive. Moreover, blanket capitalization correction can overcompensate by removing non-standard and \u201cunusual\u201d forms of acceptable capitalization, such as found in certain proper nouns. For instance, \u201cPlayStation\u201d is a properly capitalized registered trademark. Blanket capitalization correction can be particularly impractical for a large number of product or service advertisements.","Therefore, there is a need to improve capitalization correction of words identified in excerpts from, for instance, Web content. Preferably, such an approach would enforce grammatical and editorial guideline conventions and would accommodate frequently occurring yet non-standard capitalization variations.","There is a further need for generating a lexicon containing capitalization variations for use in capitalization correction. Preferably, such an generation should facilitate grammatical and editorial guideline compliance.","An embodiment provides a system and method for providing capitalization correction for unstructured excerpts. An excerpt of unstructured content is tokenized into a set of words. The set of words is analyzed for correct capitalization. Individual characters constituting at least one such word in the set of words are evaluated. The at least one such word is skipped if determined to be of a predefined type.","A further embodiment provides a system and method for building a lexicon for use in capitalization correction for unstructured excerpts. A list of word sets is assembled from unstructured content. Each word set includes a word and at least one variation on capitalization. Each word set is aggregated. At least one word set having significant statistics is identified. At least one such variation within the identified word set having a non-standard capitalization is selected. The at least one such variation is added to the lexicon","Still other embodiments of the invention will become readily apparent to those skilled in the art from the following detailed description, wherein are described embodiments of the invention by way of illustrating the best mode contemplated for carrying out the invention. As will be realized, the invention is capable of other and different embodiments and its several details are capable of modifications in various obvious respects, all without departing from the spirit and the scope of the invention. Accordingly, the drawings and detailed description are to be regarded as illustrative in nature and not as restrictive.","System Overview",{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 1","b":["9","12","11","10","12","19","12"]},"Each client  can be any form of computing platform connectable to a network, such as the internetwork , and capable of interacting with application programs. Exemplary examples of individual clients include, without limitation, personal computers, digital assistants, \u201csmart\u201d cellular telephones and pagers, lightweight clients, workstations, \u201cdumb\u201d terminals interfaced to an application server, and various arrangements and configurations thereof, as will be appreciated by one skilled in the art. The internetwork  includes various topologies, configurations, and arrangements of network interconnectivity components arranged to interoperatively couple with enterprise, wide area and local area networks and include, without limitation, conventionally wired, wireless, satellite, optical, and equivalent network technologies, as will be appreciated by one skilled in the art.","For Web content retrieval and news message posting and retrieval, each client  executes a Web browser and news reader application  (\u201cBrowser\/Reader\u201d). Web content  is requested via a Web server  executing on the server . Similarly, news messages (\u201cNews Msgs\u201d)  are posted and retrieved via a news server  also executing on the server . In addition, advertisements (\u201cAds\u201d)  are provided with the Web content , news messages , and other content  via an advertisement server (\u201cAd Server\u201d)  also executing on the server . The advertisements  provide stored advertisement feeds and can also include standardized advertisements that normalize the general layout and appearance of Web-based advertisements through a common format, such as product name and body. The advertisement server  can target and optionally generate the advertisements  for inclusion with or in lieu of the Web content , news messages , and other content , such as described in commonly-assigned U.S. patent application Ser. No. 10\/676,195, filed Sep. 30, 2003, pending, the disclosure of which is incorporated by reference. Other types of server functionality can be provided, as will be appreciated by one skilled in the art. Note the Web browsing, news reading, and advertising functions could also be implemented separately as stand alone applications.","The server  maintains an attached storage device  in which the Web content , news messages , advertisements , and other content  are stored. The Web content , news messages , advertisements , and other content  could also be maintained remotely on other Web and news servers (not shown) interconnected either directly or indirectly via the internetwork  and which are preferably accessible by each client .","The capitalization of words appearing in all or part of the Web content , news messages , advertisements , and other content  can be improper. To assist with providing capitalization correction, a lexicon builder (not shown) builds a lexicon containing non-standard forms of capitalization as potentially occurring in the Web content , news messages , advertisements , and other content , as further described below with reference to . A capitalization corrector (not shown) corrects the capitalization of words occurring in unstructured excerpts of the Web content , news messages , advertisements , and other content , as further described below with reference to , and optionally references the non-standard forms of capitalizations maintained in the lexicon. The capitalization-corrected words can be used, for instance, in a title or heading. In a further embodiment, the capitalization of words is corrected for use, for instance, in a sentence or phrase having only the initial word and any proper nouns capitalized. Other forms of capitalization correction are possible.","In a further embodiment, a search engine  executes on the server  for processing queries for Web content , news messages , advertisements , and other content . Each query is meant to describe or otherwise identify information potentially retrievable via either the Web server  or news server . The information can include other information also determined to be relevant to the query. In one embodiment, each query provides characteristics, typically expressed as terms, including individual words and compounds. The search engine  receives a query, identifies matching Web content , news messages , advertisements , and other content , and sends back results conforming to the query preferences. Other styles, forms or definitions of queries, query characteristics, and related metadata are feasible, as will be appreciated by one skilled in the art.","In one embodiment, the search engine  identifies the Web content , news messages , advertisements , and other content  determined to be highly relevant in relation to a given set of search query terms, for example, using such techniques as described in S. Brin and L. Page, \u201cThe Anatomy of a Large-Scale Hypertextual Search Engine\u201d (1998) and in U.S. Pat. No. 6,285,999, issued Sep. 4, 2001 to Page, the disclosures of which are incorporated by reference. In identifying matching Web content , news messages , advertisements , and other content , the search engine  operates on information characteristics describing potentially retrievable content. Note the functionality provided by the server , including the Web server , news server , advertising server , and search engine , could be provided by a loosely- or tightly-coupled distributed or parallelized computing configuration, in addition to a uniprocessing environment.","The individual computer systems, including server  and clients , include general purpose, programmed digital computing devices including a central processing unit (processors  and , respectively), random access memory (memories  and , respectively), non-volatile secondary storage , such as a hard drive or CD ROM drive, network or wireless interfaces, and peripheral devices, including user interfacing means, such as a keyboard and display. Program code, including software programs, and data is loaded into the RAM for execution and processing by the CPU and results are generated for display, output, transmittal, or storage.","Lexicon Builder",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 2","FIG. 4"],"b":["30","31","31","42","42","24","25","26","27"]},"The lexicon builder  includes storage  for maintaining a text corpus  and word sets . The text corpus  includes documents and excerpts of the documents that include Web content, news messages, advertisements, and other content, including the Web content , news messages , advertisements , and other content  stored by the server  (shown in ), as well as documents and excerpts from other sources. The word sets  include messages. Each message includes an individual word, capitalization variations, and an indication of frequencies of occurrence , as further described below with reference to .","The lexicon builder  includes a ripper  and aggregator . The ripper  generates the word sets  by identifying the individual words and capitalization variations, as further described below with reference to . The ripper  retrieves excerpts from the text corpus  and tokenizes the excerpts into individual tokens from which the individual words, capitalization variations, and frequencies of occurrence are determined. A word includes any sequence of characters appearing in a contiguous order or connected by an express grammatical connector, such as a hyphen or underscore. The excerpts of the text corpus  can be tokenized using regular expressions or with a tokenizer . Preferably, hyphenated words are split into multiple tokens.","The aggregator  generates the actual lexicon , as further described below with reference to . The aggregator  retrieves and analyses the word sets  and associated frequencies of occurrence  to identify statistically significant and non-standard forms of capitalization. For example, in one embodiment, one form of non-standard capitalization occurs when an individual letter other than the first letter is capitalized. In one embodiment, a capitalization variation is deemed statistically significant if, for instance, at least four or more occurrences are found in the text corpus , although other forms of statistical and metrics of significance are feasible, as will be appreciated by one skilled in the art. In addition, the aggregator  can apply rules  that formalize the conventions and practices found in the application of ordinary grammar and, for example, editorial guidelines. The aggregator  can apply the implicit rules  as a form of filter  to moderate the content of the lexicon .","When completed, the lexicon  contains a list of words, each having a non-standard form of capitalization for a statistically significant word identified in the text corpus . Alternatively, other forms of capitalization could be included in the lexicon , including standard capitalizations and lower case forms. The lexicon  can be used to correct capitalization and other Web content, news messages, advertisements, and other content, as will be appreciated by one skilled in the art. The capitalization-corrected words can be used, for instance, in a title or heading. In a further embodiment, the capitalization of words is corrected for use, for instance, in a sentence or phrase having only the initial word and any proper nouns capitalized. Other forms of capitalization correction are possible.","The individual computer system, including the lexicon builder , include general purpose, programmed digital computing devices including a central processing unit (processor ), random access memory (memory ), non-volatile secondary storage , such as a hard drive or CD ROM drive, network or wireless interfaces, and peripheral devices, including user interfacing means, such as a keyboard and display. Program code, including software programs, and data is loaded into the RAM for execution and processing by the CPU and results are generated for display, output, transmittal, or storage.","Word Sets and Lexicon Data Structure",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 3","FIG. 2","FIG. 2"],"b":["50","51","31","51","35","42","51","52","53","53","54","55"]},"In the further embodiment, the lexicon  is structured as a form of hash table (not shown). The hash table is indexed by a lowercase version of each identified word and contains at least one preferred form of capitalization as a record value. Other forms of organization and structure for the lexicon  are possible, as will be appreciated by one skilled in the art.","Capitalization Corrector",{"@attributes":{"id":"p-0038","num":"0037"},"figref":["FIG. 4","FIG. 1"],"b":["60","61","61","66","61","24","25","26","27","11"]},"The capitalization corrector  includes a capitalizer . The capitalizer  tokenizes individual words identified within the excerpt  and applies the rules  to correct capitalization. Optionally, the capitalizer  references the lexicon  to accommodate non-standard capitalization variations, as further described below with reference to . In one embodiment, individual words within the excerpt  are tokenized with a regular expression or with a tokenizer . A word includes any sequence of characters appearing in a contiguous order or connected by an express grammatical connector, such as a hyphen or underscore. The capitalizer  applies rules implicit in the application of grammatical and style conventions and, for instance, editorial guidelines. The rules  include, by way of non-exclusive example, ignoring words that contain a number, have no vowels, or which constitute an article, conjunction, or preposition shorter than five characters and not appearing at the start of a phrase. Other forms of implicit rules are feasible, as will be appreciated by one skilled in the art.","Optionally, the capitalizer  references the list of words maintained in the lexicon . As each word is considered, the capitalizer  attempts to match the word against the words stored in the lexicon  and, if found, substitutes the non-standard capitalization variation retrieved from the lexicon . In a further embodiment, the capitalizer  corrects the capitalization of words for use in a sentence or phrase by correcting the capitalizations of only the initial word and any proper nouns, if necessary. The remaining words preferably appear in lower case and can remain uncorrected. Other forms of capitalization correction are possible.","The individual computer system, including the capitalization corrector , include general purpose, programmed digital computing devices including a central processing unit (processor ), random access memory (memory ), non-volatile secondary storage, such as a hard drive or CD ROM drive, network or wireless interfaces, and peripheral devices, including user interfacing means, such as a keyboard and display. Program code, including software programs, and data is loaded into the RAM for execution and processing by the CPU and results are generated for display, output, transmittal, or storage.","Method Overview",{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 5","FIG. 2","FIG. 4"],"b":["70","70","31","61"]},"The method  performs builds the lexicon  (blocks  and ) and corrects the capitalization of unstructured excerpts  (block ). The lexicon  is created in advance of capitalization correction, preferably as an off-line process. Capitalization correction can occur dynamically, such as during the serving of Web content. During lexicon building, word sets  are assembled (block ) and the lexicon  is aggregated (block ), as further described below respectively with reference to . Finally, capitalization is corrected (block ), as further described below with reference to . The routine then terminates.","Assembling Word Sets",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 6","FIG. 5","FIG. 2"],"b":["80","39","70","66","51","54","55","52","80","34"]},"One or more documents are selected from the text corpus  (block ) as excerpts . The individual words and punctuation marks within each excerpt  are tokenized (block ). A word includes any sequence of characters appearing in a contiguous order or connected by an express grammatical connector, such as a hyphen or underscore. One or more of the individual words is iteratively processed (blocks -), as follows. First, one or more filters  are applied to the excerpt  and individual words in the excerpt  (block ). For example, the filter  may be configured, such that words likely having improper capitalization as determined from within an excerpt  are skipped. Also, words which may appear at the start of a sentence are skipped. Alternatively, words could be filtered based on position within a sentence or phrase. Skipping improperly capitalized words also helps to ensure that content providers, such as advertisers, with overly zealous use of capitalization do not corrupt the lexicon  with excessive occurrences of improper capitalization variations. Potential improper capitalization can be determined in several ways. First, those excerpts having more than half of the individual letters in uppercase could be filtered and skipped. Similarly, the filter  could count the number of occurrences of a given form of capitalization from each content provider and limit the number of occurrences, subject to a maximum cap. Alternatively, the filter  could apply a \u201csquash\u201d function to normalize the word counts, such as by taking the logarithm of the word occurrence frequencies. Finally, the filter  could normalize the words relative to the source of the excerpt  to prevent the contribution from any one source from dominating the lexicon , such as could occur if a content provider included a large corpus containing improperly capitalized words.","Provided that the word is not filtered, the tokenized word is matched to an existing word set (block ). If a match is found (block ), the word is added to the word set  as a non-standard capitalization  and the associated frequency of occurrence  is updated (block ). Otherwise, if not found (block ), a new word set  is created by storing the non-standard capitalization  and the associated frequency of occurrence  (block ). Processing continues with each remaining tokenized word (block ), after which the routine returns.","Aggregating a Lexicon",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 7","FIG. 5","FIG. 2"],"b":["90","42","70","42","53","52","66","53","41","90","34"]},"Each of the word sets  are iteratively processed (blocks -), as follows. For each word set , the frequencies of occurrence  are evaluated (block ) to determine whether at least one of the non-standard capitalizations  is statistically significant. In one embodiment, a non-standard capitalization  is considered statistically significant if at least four occurrences are identified, although other forms of statistics and metrics of significance are feasible, as will be appreciated by one skilled in the art. Thus, if statistically significant (block ), one or more of the most common non-standard capitalizations  are selected from the word set  (block ). Multiple forms of capitalization for the same word could be accommodated, for instance, by annotating each capitalization form with a frequency count. Capitalization forms occurring too infrequently would be skipped, but one or more capitalization forms would be stored into the lexicon  as alternative capitalization forms. During capitalization correction, the most frequent capitalization form would be selected if a word required correction. Otherwise, if the word matched one of the alternative capitalization forms, the word would be allowed, rather than corrected, if the alternative capitalization form occurred sufficiently frequently. Next, the capitalizations of the most common non-standard capitalizations  are examined and the rules  are applied (block ). In one embodiment, only those non-standard capitalizations  not covered by one or more of the rules  (block ) are added to the lexicon  (block ). Alternatively, other forms of capitalization could be included in the lexicon , including standard capitalizations and lower case forms.","In one embodiment, non-standard capitalizations include words that include a capitalized letter other than the first letter. The rules  include skipping words containing numbers or lacking vowels, and \u201csmall\u201d words not occurring at the start of a phrase. In English, \u201csmall\u201d words are typically articles, conjunctions and prepositions shorter than five characters, although other forms of small words are possible. In addition, other non-small words could be provided in lower case. Other forms and variations of rules  are possible, as will be appreciated by one skilled in the art. By way of example, the capitalization variation \u201cwidGet\u201d would be selected based on highest frequency of occurrence , having non-standard capitalization and complying with the rules . Processing continues with each remaining word set  (block ), after which the routine returns.","Correcting Capitalization",{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIG. 8","FIG. 5","FIG. 4"],"b":["110","70","66","41","42","110","61"]},"An excerpt  is selected (block ) and the individual words and punctuation marks within the excerpt  are tokenized (block ). A word includes any sequence of characters appearing in a contiguous order or connected by an express grammatical connector, such as a hyphen or underscore. One or more of the tokenized words is iteratively processed (blocks -), as follows. The tokenized word is first examined (block ). If the tokenized word contains a number or lacks vowels (block ), the tokenized word is skipped. In English, words containing a number or which lack vowels are generally non-standard words such as found, for instance, in product serial numbers. However, in other languages, word composition could vary and tokenized words containing a number or lacking vowels could be allowed. Otherwise, the tokenized word is optionally matched to the non-standard capitalizations maintained in the lexicon  (block ). If the tokenized word is found in the lexicon  (block ), the best matching word form found in the lexicon  is used (block ). Otherwise, if the tokenized word is \u201csmall\u201d and does not occur at the start of the phrase (block ), the tokenized word is provided in lowercase (block ). In English, a \u201csmall\u201d word includes those words that are ordinarily not capitalized when appearing in a title, even though other words may be capitalized. Small words include articles (\u201ca, an, the\u201d), conjunctions (\u201cand, but, or, nor\u201d), and prepositions shorter than five characters (\u201cas, at, by, for, etc.\u201d). However, in other languages, small words can include other types of words and articles, conjunctions and prepositions shorter than five characters could be allowed. In addition, other non-small words could be provided in lower case. Otherwise, the first letter of the tokenized word is capitalized and the remaining letters provided in lowercase (block ). Processing continues with each remaining tokenized word in the excerpt  (block ), after which the routine returns.","In a further embodiment, the capitalization of words is corrected for use in a sentence or phrase. The first letter of each sentence is capitalized; all other letters are lowercased. However, words found in the lexicon  are corrected with the best form, whether appearing at the start of or within the sentence or phrase. In addition, small words are only capitalized at the start of the sentence.","While the invention has been particularly shown and described as referenced to the embodiments thereof, those skilled in the art will understand that the foregoing and other changes in form and detail may be made therein without departing from the spirit and scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 7","FIG. 6"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 8","FIG. 5"]}]},"DETDESC":[{},{}]}
