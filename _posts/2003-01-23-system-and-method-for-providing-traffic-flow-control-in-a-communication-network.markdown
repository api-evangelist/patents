---
title: System and method for providing traffic flow control in a communication network
abstract: The present invention provides a system and method for establishing a data transmission rate in a communication network for data transmission from a first communication module to a second communication module. Generally, the method comprises: (a) reading at the first module a predetermined data reception rate limit of the second module; and (b) for the data at the first module to be transmitted to the second module, establishing a first module data transmission rate in dependence upon the predetermined data reception rate limit read in step (a).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07675855&OS=07675855&RS=07675855
owner: Alcatel Lucent
number: 07675855
owner_city: Paris
owner_country: FR
publication_date: 20030123
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS"],"p":["The present invention relates generally to the field of communication networks and more particularly, to a system and method for controlling traffic flow directed to a remote node or device.","By way of example, the present invention may suitably be deployed in the wireline transmission of broadband network traffic from a distribution backbone network such as a trunk network to an access network such as a local loop having one or more access terminals. In the given example, a remote network unit according to one embodiment of the present invention may be utilized to interface with the local loop located downstream of the distribution backbone network. A distribution network unit according to another embodiment of the present invention may be utilized to interface with the distribution backbone network. The remote network unit may be operatively connected to the distribution network unit by way of a high-capacity transmission link, for instance one supporting an aggregate data throughput of the order of 1 or 2 Gbps or more. A system and method in accordance with an embodiment of the present invention may be used to control the rate of traffic flow directed from the distribution network unit to the plurality of access terminals on the access network connected to the remote network unit.","It is said that whether in terms of distance covered, number of endpoints generated or value invested, the most predominant transmission medium for communication networks worldwide is that of copper. This has resulted from the use of copper as a transmission medium in the earliest of large scale telephony networks. Although copper has now largely been superseded in trunk or distribution networks by the use of optical fibre, many access networks, such as the local loops of public switched telephone networks, continue to employ copper. Globally, it is estimated that many tens of millions of tons of copper are deployed in such access networks and that this transmission medium may account for roughly one-half or more of the assets of the typical network operator.","As a transmission or delivery medium in modern communication networks, copper presents the challenge that it provides a theoretical maximum information rate of only approximately 35 kbps to 56 kbps across public switched telephone networks. Many technologies have emerged to extract higher bandwidth data transmissions from the existing copper based networks, due to a market demand for the delivery on such networks of higher bandwidth applications such as digital video and high-speed Internet access. For instance, a number of digital subscriber line or loop (DSL) architectures have been introduced in the last decade, each providing differing combinations of upstream data rates, downstream data rates and ranges of operation. Collectively, this family of digital subscriber line architectures is sometimes referred to as xDSL and will be so referred to in this specification to denote all such digital subscriber line architectures.","The various xDSL architectures as introduced above cannot typically operate in ranges which exceed a few kilometers. For example, in high-speed digital subscriber loop (HDSL) technologies, data rates in the neighbourhood of 2 Mbps can be achieved by combining the capacity of two or three pairs. However, this is sustainable only over a distance of approximately 3 km. Using very high rate digital subscriber loop (VDSL) techniques, data rates as high as 23 Mbps in the downstream direction and 3 Mbps in the upstream direction can be attained, but only for distances in the neighbourhood of one kilometer at such rates.","In the context of telephony networks, various prior art solutions for controlling network traffic from the central office (\u201cCO\u201d) to the remote access terminals have been proposed.","One prior art solution for traffic flow management provides an \u201cend-to-end\u201d flow control implemented between the CO and the remote access terminals connected to an access network. In this prior art system, traffic flow control signals are passed between the remote access terminal and the CO in order to effect back pressure as necessary to moderate the traffic flow being directed to the remote access terminal down to a rate suitable for the remote terminal's established train rate, i.e. transmission rate. However, in such an end-to-end flow control system, the latency associated with passing control signals over a potential distance of many kilometers between the remote user terminal and the CO may be a significant problem.","There is therefore a need for an approach to controlling traffic flow directed to a remote node or device which intends to avoid some of the drawbacks identified above for prior art systems and methods.","In an aspect of the invention, a method of establishing a data transmission rate in a communication network for transmission of data from a first communication module to a second communication module is provided. The method comprises associating at the first module a predetermined limit for data transmissions of the second module and for the data at the first module to be transmitted to the second module, establishing a first module data transmission rate in dependence upon the predetermined limit.","In the method in step (b), the first module data transmission rate may be established to enable the second communication module to transmit data therefrom within the predetermined rate limit.","In the method, in step (a) the predetermined data may be a value stored in a memory associated with the first module.","In the method, prior to step (a), the method may further comprise providing from the second module to the first module the predetermined data rate limit and storing the predetermined data rate limit in the memory.","In the method, the first module may be configured to receive from a data distribution network data directed to the second module. Further, the first module may include, at an interface to the data distribution network, a data buffer for buffering the data directed to the second module.","In the method, the first module data transmission rate may be a rate at which data directed to the second module is extracted by a traffic shaping unit from the data buffer.","In the method, the first module may be upstream of the second module.","In the method, the predetermined limit may be updated periodically.","In the method, the communication network may be a telephony network, the first module may comprise a distribution network unit in a central office (CO), and the second module may comprise a digital subscriber link (DSL) terminal.","In a second aspect, a system for establishing a data transmission rate in a communication network for data transmission from a first communication module to a second communication module is provided. The system comprises a storage device for storing a predetermined rate limit for transmission of data by the second module. The storage device is associated with the first module. The system further comprises a traffic shaping unit at the first module for establishing a first module data transmission rate in dependence upon the predetermined limit to enable the second communication module to transmit data therefrom within the predetermined rate limit.","The system may further comprise a second storage element associated with the second module for storing the predetermined rate limit and a communication module in the second module to extract the predetermined rate limit from the second storage element and transmit the predetermined rate limit to the first module.","The system may have the first module configured to receive from a data distribution network data directed to the second module. Further, the first module may include, at an interface to the data distribution network, a data buffer for buffering the data directed to the second module.","The system may have the data transmission rate being the rate at which the data directed to the second module is extracted from the data buffer by the traffic shaping unit.","The system may have the data buffer at the interface being a FIFO queue. Further, the system may have the traffic shaping unit configured to back pressure at the FIFO queue any flow of data directed to the second module which exceeds the data transmission rate established by the traffic shaping unit.","In the system, the communication network may be a telephony network, the first module may comprise a distribution network unit in a central office (CO) and the second module may comprise a digital subscriber link (DSL) terminal.","In the system, the predetermined data reception rate for the second module may comprise a train rate established for the DSL terminal.","The system may further comprise a remote network unit located between the distribution network unit and the DSL terminal that extends the architecture of the CO by means of a high-capacity transmission link provided between the remote network unit and the distribution network unit.","In other aspects of the invention, various combinations and subset of the above aspects are provided.","As noted, the present invention relates generally to a system and method for providing control for traffic flow directed to a remote node or device. More specifically, the traffic flow control system and method of the present invention is suitable for deployment in a telephony network, for example, to control traffic flow from a distribution network unit located in a CO to a plurality of access terminals on a remote access network. As will be explained below, the traffic control system and method of the present invention reduces or avoids potential latency problems associated with prior art traffic flow control systems and methods by managing traffic flow control locally at the source of the traffic flow, rather than remotely at the traffic flow destination. This locally managed traffic flow control is based on knowledge of the data train rate of each remote access terminal or device. As will be further explained in accordance with the present invention, local traffic flow control signals are generated and used to control transmission rates of traffic sent from the distribution unit to a remote access terminal such that the traffic transmitted at rates within transmission limitations present at the remote access terminal. A benefit of this system is that it has the intent of reducing backpressing of transmissions from the remote access terminal to the distribution unit.","A traffic flow control system and method in accordance with an illustrative embodiment of the present invention is now described. For the purposes of illustration, reference is made to an exemplary telephony network topology in which a distribution network unit located in a CO is connected to one or more remote network units, each connecting a plurality of remote user terminals on a local loop access network.","Specifically,  shows an example of a network topology  comprising a distribution network and an access network in which a distribution network unit  and a corresponding remote network unit  are deployed. The network topology  may provide various forms of traffic destined for an access network via the distribution network unit , with such traffic having differing requirements as to bandwidth or class of transmission service. Broadcast video traffic  and interactive traffic  constitute the broadband network traffic and are provided to distribution network  via the distribution backbone which includes the distribution networks  and  although networks  and  may be combined as will be obvious to those skilled in the art. For instance, broadcast video traffic may be delivered to the distribution network unit  by way of an OC-12 interface  or the like, from a suitable distribution network  (also labelled Network \u201cA\u201d) such as one employing asynchronous transfer mode (ATM), time division multiplexing (TDM), Ethernet or other suitable communication protocols. Broadcast video traffic may comprise such services as those pertaining to broadcast TV or near video on demand (NVoD), as transmitted via link  from head end . Interactive traffic may also be delivered to the distribution network unit , for instance by way of an OC-3 interface  or the like from a distribution network  (also labelled Network \u201cB\u201d) to which various forms of such traffic may initially be directed. For instance, from the head end  the distribution network  may receive traffic over link  which supports services in the nature of video on demand (VoD). The distribution network  may also receive high-speed Internet (HSI) traffic over link , for instance from a backbone network (not shown). Many other suitable network topologies will be apparent to those skilled in this art for the provision or delivery of traffic to or from an access network as aforesaid.","A plurality of remote network units , as described more fully below, may operatively be connected to the distribution network unit . Each remote network unit  is connected to an access network, such as the local copper loop . The local copper loop  itself connects to customer premises equipment which may be in the form of one or more user terminals . Each remote network unit  is connected to its corresponding distribution network unit  by means of a high-capacity transmission link , in other words one having a capacity greater than that associated with the access network. For instance, transmission link  may be an aggregate fibre link capable of supporting an aggregate data throughput of the order of 1 or 2 Gbps. Any other appropriate link as known to those in this art may be deployed as transmission link , for instance a wireless link, a link based on passive optical networking (PON) technology or the like.",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 2","b":["20","20","20"]},"The expression \u201cdownstream\u201d is employed herein for ease of reference to refer to traffic flow that is generally bound in the direction from the distribution networks  and  towards the remote user terminals . Conversely, the expression \u201cupstream\u201d is employed herein to refer to traffic flow that is generally bound in the direction from the remote user terminals  towards the distribution networks  and . Furthermore, the expression \u201cloop-side\u201d is employed herein in connection with components or modules that are considered to be more proximate to the copper loop  when compared to the transmission link  located in the upstream direction thereto. Conversely, the expression \u201cdistribution-side\u201d is employed herein in connection with components or modules that are considered to be less proximate to the copper loop  than the transmission link .","At the downstream terminal end of an access network, such as the local copper loop , are located customer premises equipment which may be in the form of one or more user terminals . The local copper loop  from each of the user terminals  is connected to the remote network unit , as at . Although for purposes of illustration a single connection  has been depicted in , those skilled in this art will appreciate that each CPE  typically will be connected independently to the remote network unit . Where the lines of the local copper loop  would require primary protection blocks  as are known in this art, these may be provisioned in the remote network unit . Depending on the line technology with which the remote network unit  is to be deployed, splitters  may also be provisioned therein. Where the access network such as local copper loop  supports plain old telephone service (POTS), the splitters  cause a separation of the conventional POTS telephone service traffic from data services traffic received thereover by remote network unit . The POTS telephone service traffic is channeled as at  to a corresponding POTS network without further processing by the remote network unit . Similarly, where an integrated services digital network (ISDN) is deployed in the access network, splitters  may likewise channel ISDN traffic to avoid further processing thereof by the remote network unit .","Data services traffic, for instance in the form of xDSL data, may proceed from the splitters  to a processing block which, in the case of xDSL data, is provisioned in the form of one or more xDSL transceivers  well known to the notional person skilled in the field of communications. Each xDSL transceiver  includes associated xDSL chipsets, line drivers and other external circuitry (not shown) required to implement the supported xDSL service, all as appreciated by those skilled in this art. By way of example, one or more xDSL transceivers  may support ninety-six (96) user data ports (not shown) such as ADSL ports running on POTS lines. Also as known to those versed in this art, each xDSL transceiver  will typically contain management interfaces (not shown) to provide configuration, alarm and statistics collection capabilities. Such management interfaces of each xDSL transceiver  may be controlled locally or remotely, for instance respectively by way of known in-band or out-of-band techniques. For in-band control, the DSL chipsets of an xDSL transceiver  are typically configured from a remote processor via direct addressing and without local processor intervention. In the case of out-of-band control, the aforesaid xDSL chipsets are usually configured using specific signaling between a remote processor and a local processor, resulting in control messages being directed to the xDSL chipset. The aforesaid management interfaces of each xDSL transceiver  may be accessed by means of a loop-side controller unit , which is described in greater detail below.","Upstream from the xDSL transceivers , cells from individual xDSL ports are multiplexed in the loop-side multiplexer\/demultiplexer unit , as explained in greater detail below. An appropriate link termination (not shown in ), well known to those in this art, may be deployed between transmission link  and loop-side multiplexer\/demultiplexer unit . An exemplary link termination is identified below as part of loop-side multiplexer\/demultiplexer unit  (). The multiplexed cells are thereafter transmitted to the distribution network unit  via transmission link  as aforesaid. In the downstream direction, the loop-side multiplexer\/demultiplexer unit  demultiplexes cells received over transmission link  from the distribution network unit . Such demultiplexed cells are thereafter transmitted to the xDSL transceivers  which, as described above, support individual xDSL ports.","According to an illustrative embodiment of the remote network unit , congestion or queuing points are not introduced into the traffic stream traversing therethrough, except for jitter buffering if desired. Rather, the aggregate capacity of transmission link  and the internal architecture of the remote network unit  are such that the full bandwidth capacity of all xDSL ports supported by xDSL transceivers  is met. Those skilled in the art will understand that the foregoing capacity considerations for transmission link  constitute a preferred implementation, such that the present invention may be provisioned with a downstream link capacity which may be less than that of the corresponding xDSL ports in question.","Architectural details of the loop-side multiplexer\/demultiplexer unit  and the loop-side controller unit  are next described with reference to . The transmission link  may be connected from the distribution network unit  to the remote network unit  by means of a suitable interface for bidirectional data transfer, for instance a loop-side serializer-deserializer (SD) interface  such as the TLK1201 SERDES device commercially available from Texas Instruments Incorporated of Dallas, Tex., U.S.A, operatively coupled to a suitable optical interface module. Using this bidirectional interface configuration will preferably permit transmission link  to operate with 8B\/10B encoded data at 1.25 Gbps in each direction between the distribution network unit  and the remote network unit . Those skilled in this art will appreciate that any other appropriate interface may be provisioned for use with an embodiment of the present invention, and that transmission link  may comprise a single bidirectional link or multiple unidirectional links as may be desired.","Cell data received as individual bytes in the downstream bound direction from the transmission link  and over the loop-side serializer-deserializer interface  of the remote network unit  is processed by a loop-side link receive module . Although traffic in the form of cell data which are received as individual bytes is what is being contemplated by the illustrative embodiment herein, those versed in the art will understand that the invention is likewise applicable to packets, frames or any other information transfer units and that bit-wise reception of traffic may also be accommodated by the present invention. The loop-side link receive module  performs any necessary frame alignment functions and reconstructs cells following frame alignment from the individual bytes received by the loop-side serializer-deserializer interface . A port identifier associated with the cell data is also extracted by loop-side link receive module  for purposes of downstream cell routing, as described more fully below. Subsequent to cell reconstruction, appropriate error control as known in this art is performed by the loop-side link receive module  and any cells which are received with errors or which are idle are discarded. Non-errored and non-idled cells are thereafter transferred from the loop-side link receive module  to a loop-side demultiplexer module , which manages downstream cell flow for the remote network unit .","Preferably, the loop-side demultiplexer module  does not provide any back pressure indication to the loop-side serializer-deserializer interface . Rather, in the present illustrative embodiment, any necessary back pressuring of downstream traffic is performed on the \u201cdistribution-side\u201d of the transmission link , at the distribution network unit . This requires the loop-side demultiplexer module  to be capable of accepting back-to-back cells transmitted at the full rate of the transmission link . As will be explained further below, in determining the amount of necessary back pressure, if any, to be applied locally at the distribution network unit , the train rate of each individual xDSL port connected to the remote network unit  is taken into account. In the present illustrative embodiment, the exact train rate information for each individual xDSL port may be obtained from an API (Application Programming Interface) or the like of the loop-side xDSL chipsets in the loop-side DSL transceiver  located on the remote network unit  (in other embodiments, the train rate information may otherwise be stored in any suitable memory or storage accessible to the distribution network unit ). In operation, the train rate information for each individual xDSL port may be stored in the xDSL chipset, for example, when each individual xDSL port service is established. This train rate information for each individual xDSL port may then be transmitted upstream to the distribution network unit  via, for example, a dedicated communication channel such as an AAL5 (ATM Adaptation Layer type 5) communication channel as detailed further below. Further, subsequent updates and revisions may be made to the train rate information at periodic or non-periodic intervals, as may be necessary.","The loop-side demultiplexer module  routes received and reassembled downstreamcells that are transmitted from the loop-side link receive module . The cells are routed as at block  to one of a number of destinations, based on the port identifier extracted as previously described. For example, cells associated with a port identifier that may be used to characterize control cells are routed to the loop-side controller unit . Such control cells are preferably routed as at  to a control cell queue  associated with the loop-side controller unit . For instance, control cell queue  may be provisioned as first-in first-out (FIFO) registers. Where cells are associated with a port identifier which corresponds to a port identifier that may be used to characterize cells destined for monitoring or test purposes, such cells are routed as at  to a loop-side test traffic monitor  or the like, via block . The function of test traffic monitor  is described in additional detail below.","Downstream bound cells from loop-side link receive module  that are associated with a port identifier corresponding to user data cells may be written as at  respectively to one of a plurality of data cell queues , whereby each such queue in turn corresponds to an external user data port such as one of the previously mentioned ADSL ports of the remote network unit . The data cell queues  may be provisioned as first-in first-out (FIFO) registers in an external SRAM or the like. Cells are thereafter transferred from their respective data cell queues  to outgoing loop-side queues  via block . The outgoing loop-side queues  may be provisioned as first-in first-out (FIFO) registers. From such outgoing loop-side queues , the cells are forwarded to a suitable loop-side interface  such as one conforming to the UTOPIA (Universal Test & Operations PHY Interface for ATM) Level 2 Physical Layer Interface as known to those in this art and as described in ATM Forum Technical Committee publication af-phy-0039.000, version 1.0, dated June 1995. The latter publication is incorporated by reference herein.","In the downstream direction, the loop-side interface  transmits cells from the loop-side demultiplexer module  to the DSL transceivers . In the illustrative embodiment described above whereby the remote network unit  supports ninety-six (96) ADSL ports, such downstream cells may be transferred from the loop-side demultiplexer module  to DSL transceivers  via a loop-side interface  comprising four (4) bidirectional UTOPIA Level 2 compliant ports . Preferably, the outgoing loop-side queues  correspond in number to the number of ports  provided with the loop-side interface , such that in the example mentioned above, twenty-four (24) ADSL ports will be assigned to each of four (4) outgoing loop-side queues .","The cells from each of the data cell queues  of the loop-side demultiplexer module  may be serviced in the downstream direction for transfer to a corresponding outgoing loop-side queue  using a suitable servicing scheme such as one based on a work conserving round robin algorithm, as known to those in this art. The loop-side demultiplexer module  also preferably serves to poll each external user data port of the remote network unit , such as the previously mentioned ADSL ports. The results of such polling by the remote network unit  are utilized to indicate a back pressure condition for each external user data port, as understood by those persons skilled in this art. For instance, a back pressure indication for a particular external user data port may be lifted where a cell destined for that same port has been transferred from an appropriate outgoing loop-side queue  to the loop-side interface . Likewise and by way of example, a back pressure indication for a particular external user data port may be activated upon selection of that same port for cell transfer from the associated data cell queue  to the appropriate outgoing loop-side queue . Where a particular external user data port is under a back pressure condition, the associated data cell queue  for that same port will not be serviced as aforesaid for transfer to a corresponding outgoing loop-side queue . (The back pressure indication per data port described here is not to be confused with the distribution-side back pressuring occurring at the distribution network unit  in accordance with the present invention. Rather, what is described in the immediately preceding paragraph is how the local downstream per port FIFOs are serviced at the remote network unit  to control traffic flow.)","The loop-side multiplexer\/demultiplexer unit  may also serve to manage loopback traffic, as explained immediately below. Where a particular user data port is selected for loopback into the upstream bound traffic flow, then cells whose associated port identifier corresponds to the selected user data port will be routed as at  from the loop-side demultiplexer module  to the loop-side multiplexer module  for transmission in the upstream direction. The loopback cells in question may be received in a loopback cell queue  via block , and the loopback cell queue  may be provisioned as first-in first-out (FIFO) registers associated with the loop-side multiplexer module . The data cell queues  do not receive loopback cells as previously described. All other cells having port identifiers not as previously described may be dropped by the loop-side demultiplexer module  from the downstream bound traffic flow.","Upstream bound cells transmitted to the loop-side multiplexer\/demultiplexer unit  from the DSL transceivers  may be received over loop-side interface . The upstream bound cells from loop-side interface  are forwarded to loop-side multiplexer module , which manages upstream cell flow for the remote network unit . The loop-side multiplexer module  polls the four (4) UTOPIA Level 2 compliant ports  mentioned above and may select from among these a particular port  pursuant to a desired cell servicing scheme, for instance one based upon a work-conservative binary round robin algorithm as known to those skilled in this art. Cells are transferred in this manner from each of the UTOPIA Level 2 compliant ports  to respective outgoing upstream queues , which may be provisioned as independent first-in first-out (FIFO) registers associated with the loop-side multiplexer module  and which are one-to-one mapped with the UTOPIA Level 2 compliant ports . The outgoing upstream queues  preferably provide backpressure information for purposes of polling as aforesaid of the ports .","Each of the outgoing loop-side queues  is itself serviced as at servicing block  together with loopback cell queue , previously described, and a loop-side control cell queue . The loop-side control cell queue  may for instance receive AAL5 control cells transmitted as at  from a cell generator  of the loop-side controller unit . Servicing block  preferably implements a work-conservative weighted round robin algorithm for selecting the particular upstream queue that is next to be serviced, whether one of the outgoing upstream queues , the loopback cell queue  or the control cell queue .","The loop-side multiplexer module  preferably comprises a loop-side test traffic generator  for upstream transmission of test cells. Where the loop-side test traffic generator  is deployed, an associated servicing block  can be utilized to implement a desired servicing scheme for the selection of cells proceeding from test traffic generator  and from servicing block , the latter being located upstream of servicing block  and more proximate to loop-side interface . The servicing scheme implemented by servicing block  is preferably one based on a work-conservative weighted round robin algorithm, as known to those in this art. As well, where a loop-side test traffic generator  is to form part of loop-side multiplexer module , servicing block  is preferably back-pressured whenever the test traffic generator  is enabled, so as to permit the insertion of upstream test traffic from loop-side test traffic generator  at a desired rate. It will be appreciated that the back pressuring at servicing block  is not related to the flow control system and method of the present invention. Rather, what is described in the immediately preceding paragraph is an internal back pressure mechanism which is used to control upstream traffic flow through multiplexer\/demultiplexer .","Cells proceeding from servicing block  of the loop-side multiplexer module  are transferred to a loop-side link transmit module , preferably via a loop-side multiplexer output queue  which may be provisioned as first-in first-out (FIFO) registers. The loop-side link transmit module  performs header error control (HEC) checking and slot error control (SEC) insertion. As well, the loop-side link transmit module  generates an appropriate cell framing pattern and transmits data and idle cells to downstream serializer-deserializer interface  for transport onto transmission link .","As previously introduced, a loop-side test traffic monitor  preferably forms part of loop-side multiplexer module . When enabled, the loop-side test traffic monitor  functions to supervise any background test traffic. The monitored background test traffic is terminated at the loop-side test traffic monitor  and is not forwarded by the loop-side multiplexer module  in the direction of outgoing upstream queues . Preferably the loop-side test traffic monitor  does not provide back pressure indication to the loop-side demultiplexer module  from which test traffic cells are received. In other words, a flow control mechanism is preferably not implemented from the TTM . Rather, in accordance with the present invention, the downstream rate of traffic should not exceed the programmed rate for the loop back path at the remote network unit .","The loop-side multiplexer\/demultiplexer unit  and loop-side controller unit  of the remote network unit  as previously described may together be implemented by means of a field programmable gate array or other suitable device, such as an ASIC, as known to those in this field of art.","With reference to , the block architecture of the distribution network unit  according to an embodiment of the present invention is next described. This block architecture is described immediately below, proceeding from the upstream interfaces  and  for the respective delivery of broadcast video traffic and interactive traffic, as previously described, and from those interfaces downstream to the transmission interface . However, those skilled in this art will appreciate that traffic flow in and through the distribution network unit  is bidirectional in nature, insofar as interactive traffic is concerned.","Broadcast video traffic transmitted over link  may be received by the distribution network unit  via a suitable broadcast service interface . The broadcast service interface  thus receives the broadcast video traffic and forwards same to a broadcast bus (BB)  or the like. Interactive traffic transmitted over link  may be received and transmitted by the distribution network unit  via a suitable network interface  as known to persons skilled in this art. In the downstream bound direction, the network interface  thus receives the interactive traffic over link  and forwards same to an interactive bus (IB)  or the like.","A traffic processor  may be utilized to merge traffic received in the downstream bound direction from each of the broadcast bus  and the interactive bus . For the illustrative embodiment of  where the distribution network unit  receives ATM traffic in the case of link  and both transmits and receives ATM traffic in the case of link , the traffic processor  will also perform ATM cell processing. For instance, and as understood by those skilled in this art, the traffic processor  will queue ATM cells received from the buses , . Such queuing is preferably performed on a per quality of service class basis and on a per user data port basis. In the case of the illustrative embodiment of , the user data ports may be ADSL ports as previously described. In the context of ATM traffic, the traffic processor  performs traffic scheduling according to quality of service and traffic contract considerations, as is well known to persons versed in this art. Header translation and VPI\/VCI mapping, also as known to those in this art, are preferably performed by the traffic processor  in the case of ATM traffic, together with support for operation, administration and management (OAM) functions likewise well known to those skilled in the art. For multicast ATM traffic, the traffic processor  may additionally perform known cell replication functions. Preferably, the throughput capacity of the traffic processor  will be such that the latter will not constitute a congestion point within the distribution network unit  in view of the aggregate transfer rate supported by the transmission link .","Those skilled in this art will understand that the distribution network unit  may deploy more (not shown) than one traffic processor , for instance where the user data port handling capacity of a single such traffic processor  is exceeded by the aggregate number of user data ports being supported by the remote network unit . For instance, if in a particular implementation the traffic processor  is capable of handling twelve (12) user data ports, such as the previously mentioned ADSL ports of the illustrative embodiment of , then a total (not shown) of eight (8) traffic processors  will be deployed in the distribution network unit  to handle the aggregate number of ninety-six (96) ADSL ports of the remote network unit  according to the illustrative embodiment. Each traffic processor  may be provisioned in the form of an application-specific integrated circuit (ASIC) or the like (not shown).","The traffic processor  of distribution network unit  preferably interfaces with a distribution-side multiplexer\/demultiplexer unit . A suitable distribution-side interface  () such as a Utopia Level 2 compliant interface or the like, as previously introduced in the context of the remote network unit , may be employed to transmit cells between the traffic processor  and the distribution-side multiplexer\/demultiplexer unit . As explained in greater detail below, the distribution-side multiplexer\/demultiplexer unit  performs the tasks of receiving the merged traffic from the traffic processor  and of demultiplexing interactive traffic received over transmission link  for upstream bound transmission to the traffic processor .","A distribution-side controller unit , described additionally below, may be utilized in the network distribution unit  to handle such tasks as online and offline test support, monitoring and processing of maintenance messages and communication with the remote network unit  via the distribution-side multiplexer\/demultiplexer unit  and the transmission link . As described in greater detail below, a traffic shaping unit  performs traffic scheduling in respect of the downstream bound cell flow from the distribution-side multiplexer\/demultiplexer unit  over transmission link .","Architectural details of the distribution-side cell multiplexer\/demultiplexer unit , the distribution-side controller unit  and the traffic shaping unit  are next described with reference to . As will be explained, in the present illustrative embodiment, the distribution-side cell multiplexer\/demultiplexer unit , the distribution-side controller unit , and the traffic shaping unit  operate together to control downstream bound cell flow in accordance with the present invention.","The transmission link  from the remote network unit  may be connected to the distribution network unit  by means of a suitable interface for bidirectional data transfer. As explained above in relation to loop-side serializer-deserializer interface  of remote network unit , a distribution-side serializer-deserializer (SD) interface  such as the already described TLK1201 SERDES device, operatively coupled to a suitable optical interface module, may be used to connect the distribution network unit  with the remote network unit . The distribution-side serializer-deserializer interface  of the distribution network unit  performs the very same functions as previously described in the context of loop-side serializer-deserializer interface  of the remote network unit . As mentioned previously in relation to loop-side serializer-deserialized interface , other suitable devices for the distribution-side serializer-deserializer interface  will be known to those in this art.","Cell data received as individual bytes in the upstream bound direction from the transmission link  and over the distribution-side serializer-deserializer interface  of the distribution network unit  is processed by a distribution-side link receive module . The distribution-side link receive module  performs the same functions as the counterpart loop-side link receive module  described above in relation to the remote network unit . A port identifier associated with the cell data is also extracted by the distribution-side link receive module  for purposes of upstream cell routing, as described more fully below. As is the case with the loop-side link receive module  which was previously described, non-errored and non-idled cells are thereafter transferred from the distribution-side link receive module  for further processing. These non-errored and non-idled cells are forwarded to a distribution-side demultiplexer module , which manages upstream cell flow for the distribution network unit . Preferably, the distribution-side demultiplexer module  does not provide any back pressure indication to the distribution-side serializer-deserializer interface . This requires the distribution-side demultiplexer module  to be capable of accepting back-to-back cells transmitted at the full rate of the transmission link .","The distribution-side demultiplexer module  routes received and restructured downstream cells that are transmitted from the distribution-side link receive module . The cells are routed as at block  to one of a number of destinations, based on the port identifier extracted as previously described. Where the port identifier of a cell is indicative of test traffic, the cell is routed via block  to a first distribution-side test traffic monitor (TTM) . When enabled, the distribution-side test traffic monitor  performs supervision of any background test cells received in the upstream bound direction from the remote network unit  over transmission link . The monitored background test traffic is terminated at the distribution-side test traffic monitor  and is not forwarded by the distribution-side demultiplexer module  in the direction of outgoing distribution-side queues .","Should the port identifier in question be indicative of a control cell, the cell is routed by the distribution-side demultiplexer module  via block  to a distribution-side control cell queue , which may be implemented as first-in first-out (FIFO) registers. Where the distribution-side control cell queue  overflows, the control cell being directed thereto will be dropped and an overflow indication may be provided by the distribution-side demultiplexer module  to the distribution-side controller unit . The distribution-side control cell queue  in turn supplies control cells to a control cell receiving unit  of distribution-side controller unit  which for instance performs AAL5 functions as well known to those in this art.","If a port identifier is indicative of a user data cell, the cell in question is routed by the distribution-side demultiplexer module  in the upstream bound direction as at  to an outgoing distribution-side queue  via block . Where more (not shown) than one traffic processor  is deployed as described above, a plurality of corresponding outgoing distribution-side queues  may be provisioned, each of the outgoing distribution-side queues  being dedicated to a given traffic processor . In the example introduced above where eight (8) traffic processors  are utilized in the distribution network unit  to handle traffic in respect of ninety-six (96) ADSL ports of the remote network unit , eight (8) corresponding outgoing distribution-side queues  may be provided in the distribution network unit . Where any outgoing distribution-side queue  overflows, the cell in question is dropped and an indication of same is provided to the distribution-side controller unit . From the outgoing distribution-side queues , user data cell traffic is next directed in the upstream bound direction to the distribution-side interface . From there the user data cell traffic is directed to a corresponding traffic processor  via a respective bidirectional link  which, in the illustrative embodiment, is Utopia Level  compliant.","Cells received from the distribution-side link receive module , and not having a port identifier falling within one of the categories of test traffic cells, user data cells or control cells as described above, are dropped from the distribution-side demultiplexer module . An indication of same may then be provided to the distribution-side controller unit .","In the downstream bound direction, cell traffic received by the distribution-side multiplexer\/demultiplexer unit  over the bidirectional links  are transmitted via distribution-side interface  to incoming distribution-side queues . The incoming distribution-side queues  may be provisioned as first-in first-out (FIFO) registers, with a queue corresponding to each of the bidirectional links . The queued cells from the incoming downstream queues  are forwarded via block  of the distribution-side multiplexer module  to one of a plurality of outgoing distribution-side queues . The outgoing distribution-side queues  may also be provisioned as first-in first-out (FIFO) registers, with each one of the outgoing distribution-side queues  corresponding to an external user data port of the remote network unit . Thus, in the example introduced above where the remote network unit  is provisioned with ninety-six (96) ADSL ports, a corresponding plurality of outgoing distribution-side queues  will be provided in the distribution network unit with a one-to-one mapping to each such port.","Servicing block  of the distribution-side multiplexer module  is located downstream of the outgoing distribution-side queues . The servicing block  forwards cells to block  from each of the outgoing distribution-side queues , from a distribution-side test traffic generator (TTG)  and from a distribution-side control cell queue . The distribution-side test traffic generator  is for downstream transmission of test cells. The downstream control cell queue  may for instance receive AAL5 control cells transmitted as at  from a cell generator  of the distribution-side controller unit . At block , user data cells, test cells and control cells that have been transmitted by servicing block  as mentioned above are forwarded to a distribution-side output queue  for subsequent downstream forwarding onto transmission  via a distribution-side link transmit module . The distribution-side output queue  may be provisioned as first-in first-out (FIFO) registers. The distribution-side link transmit module  of the distribution network unit  performs the same functions as the counterpart loop-side link transmit module  of the remote network unit . A traffic scheduling scheme governing servicing cells by block  is applied by traffic shaping unit , as described in greater detail below.","A second distribution-side test traffic monitor (TTM)  may be used to validate test traffic received by the distribution-side multiplexer module  from the traffic processors  over the distribution-side interface . When enabled, the second distribution-side test traffic monitor  functions to supervise any background test traffic via block . The monitored background test traffic is terminated at the second distribution-side test traffic monitor  and is not forwarded by the distribution-side multiplexer module  in the direction of distribution-side output queue .","As introduced above, the traffic shaping unit  performs traffic scheduling in respect of the downstream bound cell flow from the distribution-side multiplexer module  over transmission link . In , the traffic shaping unit or shaping module  is shown applying a traffic shaping signal to the servicing block . As the servicing block  forwards cells to block  from each of the outgoing downstream queues , the traffic shaping unit  may be used to effectively control rates at which downstream cell traffic passes through the servicing block .","For instance, the traffic shaping unit  may be provisioned to schedule traffic for each of the user data ports of the remote network unit , for the distribution-side control cell queue  and for the distribution-side test traffic generator . Thus, it will be appreciated that the traffic shaping unit  may be used to set the rate of downstream traffic at the distribution network unit  if the rate of traffic that can be handled by the downstream destination (i.e. the remote user terminals or data ports ) is known.","By way of example, traffic shaping unit  may ensure that the rate of the downstream user cell data traffic, on a per user data port basis, does not exceed the train rate of the corresponding user data ports of remote network unit , thereby eliminating a bottleneck of traffic at remote network unit . If such a bottleneck occurred, this may cause remote network unit  to generate backpressure signals to distribution network unit . Such backpressure signals would indicate that distribution network unit  should moderate or halt transmission of traffic to that remote network unit . The traffic shaping unit  may also perform a suitable scheduling scheme in respect of the outgoing distribution-side queues , for instance one based on a work-conserving round robin algorithm or the like as known to those versed in this art. Preferably, the traffic shaping unit  may be programmable so as to accommodate predetermined or selectable scheduling schemes for the downstream bound cell flow.","That is to say, given the train rate of each user data port of each CPE  obtained from the xDSL chipset in the remote network unit , the traffic shaping unit  may be configured or programmed to effectively control the rate of downstream user cell data traffic for each specific user data port. The train rate of each user data port may be dependent upon factors such as, for example, the distance of the CPE  from the remote network unit , the quality of the line connecting the CPE  to the remote network unit , the actual physical device comprising the CPE , and the level of service the user has subscribed to. Thus, the train rates for two users may be different, even though the physical attributes of their individual data ports may otherwise be the same. These train rates for each user data port connected to the remote network unit  are preferably readily accessible to the traffic shaping unit  and may be stored, for example, in a memory  in the traffic shaping unit . However, it will be appreciated that the memory  may be located in any suitable location accessible by traffic shaping unit .","Each of servicing block  and traffic shaping unit  may comprise a collection of hardware, firmware and software elements (not shown) which collectively operate to control release of cells at rates compatible with train rates of respective downstream user data ports.","Operative elements of traffic shaping unit  generate its traffic control signal by embodying scheduling protocols known in the art in combination with the train rate information of the downstream user ports. As noted above, operative elements of traffic shaping unit  may embody a queue scheduling regime, such as a weighted fair queue (WFQ), priority queue, or other regimes known in the art. Further, hybrids of known regimes may also be used. Also, a per port scheduler (not shown) may be incorporated into traffic shaping unit  to feed traffic information to the queue scheduling regime, using train rates stored in memory .","Knowledge of the train rates for each individual user data port is then used by the traffic shaping unit  to locally control the flow of downstream cell traffic which would otherwise have to be determined by using flow control signals generated remotely by a remote device or node such as the user data port. Thus, the traffic shaping unit  effectively limits the downstream traffic flow directed to a particular user data port to a bandwidth that is less than or equal to the train rate for that port. Such information may be provided to traffic shaper unit by encoding such information in messages sent from the remote network units  to the distribution network unit  over established communication links which is then received and extracted by distribution network unit  and stored in memory . Alternatively, such information may be static and may be provided in a memory  in distribution network unit .","In operation, back pressuring of the downstream traffic flow scheduled at the traffic shaper module  will occur only when the distribution network  has a backlog of cells to be sent to a particular user data port and the distribution-side multiplexer  does not have enough space available in its corresponding incoming FIFO queue  to hold the additional cells. In such a case, the back pressuring is engaged by setting a flag (not shown) on the particular FIFO queue  corresponding to that port. When the flag is set, that FIFO queue  is effectively back pressured. Cells continue to be removed from that particular FIFO at a rate not exceeding that programmed by the traffic shaping unit . Thus, since the traffic shaping unit  controls the rate at which cells are removed from the queues , the traffic shaping unit  indirectly controls the back pressure signaling.","Advantageously, generating the flow control at the distribution-side reduces or eliminates the problem of latency associated with passing flow control signals back and forth across several kilometers or more, as is required in the prior art end-to-end flow control described earlier. Furthermore, by providing a local flow control and back pressuring mechanism at distribution network unit , the need for additional buffering or system considerations is reduced or eliminated.","While the above description describes controlling train rates of cell traffic in a downstream direction from distribution network unit  to remote network unit , in other embodiments, train rates may be controlled for cell traffic traversing in an upstream direction between devices.","Further, while the above description describes controlling train rates of cell traffic in xDSL communication systems, in other embodiments train rates may be controlled for other data communication protocols.","The distribution-side multiplexer\/demultiplexer unit  (), distribution-side controller unit  () and traffic shaping unit  () of the distribution network unit  as previously described may together be implemented by means of a field programmable gate array or other suitable device as known to those in this field of art.","It is noted that those skilled in the art will appreciate that various modifications of detail may be made to the present embodiment, all of which would come within the scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["By way of illustration and not of limitation, embodiments of the present invention are next described with reference to the following drawings, in which:",{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 3","FIGS. 1 and 2"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 5","FIGS. 1 and 4"]}]},"DETDESC":[{},{}]}
