---
title: Transfer of user profiles using portable storage devices
abstract: A method and apparatus for transferring user profiles between computing devices using portable storage devices is disclosed. A portable storage device (PSD) is connected to a computing device, the computing device reads user profile data from the PSD and configures itself according to that data. If the user profile data is changed on the computing device, those changes are synchronized on the PSD.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07620667&OS=07620667&RS=07620667
owner: Microsoft Corporation
number: 07620667
owner_city: Redmond
owner_country: US
publication_date: 20031117
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The invention relates generally to synchronization techniques in computer systems. More specifically, the invention provides systems and methods for synchronizing files and settings between various computer systems through the use of portable storage devices.","In today's mobile society, computer users often find themselves forced to use a computer that does not belong to them. For example, a business person might travel to another city or country to meet with a client. Even if the business person has a laptop computer, he or she may not wish to go through the hassle of bringing it through airline security due to the time constraints associated with doing so. Also, because notebook computers are easily stolen, the business traveler may wish to not risk losing important data by bringing the notebook computer along. As a result, upon arriving at the destination, the business traveler may be forced to use a public computer or a computer owned and operated by the client. A problem associated with using someone else's computer system in this manner is that the computer system will not have the user's files and\/or settings stored on it. Thus, the business traveler must find some way to access his files and\/or settings from the other computer.","Many computer users own (or have regular access to) two computers\u2014a desktop computer that serves as a primary computer and a mobile computer used for traveling. One of the difficulties associated with maintaining two different computers is keeping files current on both systems. For example, if the user updates a file on his primary desktop computer, and later wishes to update that file while traveling, he must first transfer a copy of the file from the desktop computer to the mobile computer in order to ensure that he is working with the most recent version of the file. Once the user has modified the file on the mobile computer, in order later to use the file on the primary desktop computer, he must transfer a copy of the file back to that computer. Failing to make this transfer may result in changes being lost. Current computer systems do not allow users to easily transport their files and settings between multiple computers.","Various file synchronization techniques have been proposed and implemented to alleviate these and other problems associated with keeping data current between multiple computer systems.","One technique that is used to help a user organize and keep files up-to-date between personal computers is called a briefcase. A briefcase is used to \u201ccarry\u201d files away from a first computer and bring them on a \u201ctrip\u201d to a second computer. In one implementation of a briefcase, a user creates a briefcase folder and drags (i.e. copies) files into it from the first computer. The files can come from either a local hard drive or a network share. The briefcase keeps track of the location from where the original file was copied. The briefcase can be used with a single mobile computer in a networked environment to keep files updated on the network, or in a multiple computer setup to keep files synchronized between different personal computers.","In the single mobile computer networked environment, a mobile computer is connected to a local area network. User files are stored on the network and generally accessed from the network. When a user wishes to travel with the mobile computer, he may drag the files into the briefcase in order to have access to them when disconnected from the local area network. The user then accesses the files from the briefcase in order to work on them and saves any changes made to the files into the briefcase. When the user returns and reconnects to the local area network, the user selects the \u201cupdate\u201d function in the briefcase, and any modified files in the briefcase that have not been updated on the network are copied to the network.","In the multi-computer environment, a briefcase is created on removable storage media (e.g. a floppy disk). The removable storage media (RSM) is connected to a first computer, where a user can create a briefcase on the RSM and drag files located on the first computer into the briefcase located on the RSM. The user can then later place the RSM into a second computer, where the files in the briefcase may be accessed and modified. Upon returning the RSM to the first computer, the user can call an \u201cupdate\u201d function to bring the modified files up-to-date on the first computer.","Briefcases suffer from certain deficiencies. First, briefcases must be created and populated by the user. There is no function that automatically creates a briefcase on an RSM when it is connected to a computer. Second, the synchronization process using the briefcase must be initiated by the user. As a result, the user must remember to update the files, or they will not be automatically kept in sync. Finally, a briefcase is not equipped to store user environment settings such as desktop wallpaper and start menu configuration.","A second technique that has been used to synchronize files is known as folder redirection. Folder redirection involves storing the contents of a pre-designated file folder (e.g. a \u201cMy Documents\u201d folder) associated with a user account onto a network share. The pre-designated file folder is then accessible from any computer on the network provided that the user is logged into his account. In order to get a seamless offline experience, client side caching (CSC) can be enabled on the local computer. CSC involves the use of a local file cache on the user's computer that allows a user to continue to access content from the network folder even when the computer is not connected to the network. For example, if the \u201cMy Documents\u201d folder is redirected to a network share and is cached locally using CSC, when the network goes down, the user can continue to use the files in \u201cMy Documents\u201d because the local cache is kept up-to-date by a synchronization process built into the CSC.","Folder redirection with client side caching has certain disadvantages associated with it. First, a network must be present in order for folder redirection to be implemented. Second, folder redirection must be enabled by a network administrator. Thus, users with little or no technical experience will not be able to implement this solution on their own. Third, although files can be accessed from various computers connected to the network, user environment settings such as desktop wallpaper and start menu configuration do not travel between machines.","A third technique that has been utilized for file synchronization purposes is roaming user profiles. A roaming user profile (RUP) is a set of information about a user stored on a network location. This set of information generally includes user files (e.g., documents, spreadsheets, presentations, etc.), application settings, and start menu settings. When a user logs into a network workstation, the RUP is copied onto the local system so it is available from that particular computer.","One problem with using RUPs is that the user must be logged onto a local area network in order for the RUP to be copied to the user's computer. Thus, it is difficult to implement this solution over a wide area. Second, setting up RUPs requires a certain level of expertise that is usually held by only system administrators and other information technology (IT) professionals. Finally, because RUPs can become very large, the process of logging in and out of the network can result in slowdowns due to the large amounts of data being copied over the network.","Although the above-described techniques attempt to provide an effective way to synchronize a user's files and settings among multiple computers, it is desirable to provide an improved and\/or alternative way for providing a user with a consistent experience across a number of different computing devices.","The following presents a simplified summary of the invention in order to provide a basic understanding of some aspects of the invention. This summary is not an extensive overview of the invention. It is not intended to identify key or critical elements of the invention or to delineate the scope of the invention. The following summary merely presents some concepts of the invention in a simplified form as a prelude to the more detailed description provided below.","A first aspect of the invention provides for a method of transferring files and settings between computers. A portable storage device (PSD) is connected to a computer and the information on the PSD is read by the computer. The information is then used to configure the computer. If the information is modified, it is stored back to the PSD without any user interaction.","A second aspect of the invention provides for a method of creating a user profile on a computing device. A PSD is connected to the computing device, and the PSD is scanned for an indication of an existing user profile. If no existing user profile is found on the PSD, a user profile configuration wizard is launched, which in some embodiments allows the user to select data that will be stored in the user profile.","In the following description of the various embodiments, reference is made to the accompanying drawings, which form a part hereof, and in which is shown by way of illustration various embodiments in which the invention may be practiced. It is to be understood that other embodiments may be utilized and structural and functional modifications may be made without departing from the scope of the present invention.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1","b":["100","100","100","100"]},"The invention is operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well-known computing systems, environments, and\/or configurations that may be suitable for use with the invention include, but are not limited to, personal computers, server computers, hand-held or laptop devices, multiprocessor systems, microprocessor-based systems, set top boxes, programmable consumer electronics, network PCs, minicomputers, mainframe computers, distributed computing environments that include any of the above systems or devices, and the like.","The invention may be described in the general context of computer-executable instructions, such as program modules, being executed by a computer. Generally, program modules include routines, programs, objects, components, data structures, etc. that perform particular tasks or implement particular abstract data types. The invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, program modules may be located in both local and remote computer storage media including memory storage devices.","With reference to , an exemplary system for implementing the invention includes a general-purpose computing device in the form of a computer . Components of computer  may include, but are not limited to, a processing unit , a system memory , and a system bus  that couples various system components including the system memory to the processing unit . The system bus  may be any of several types of bus structures including a memory bus or memory controller, a peripheral bus, and a local bus using any of a variety of bus architectures. By way of example, and not limitation, such architectures include Industry Standard Architecture (ISA) bus, Micro Channel Architecture (MCA) bus, Enhanced ISA (EISA) bus, Video Electronics Standards Association (VESA) local bus, and Peripheral Component Interconnect (PCI) bus also known as Mezzanine bus.","Computer  typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer  and includes both volatile and nonvolatile media, removable and non-removable media. By way of example, and not limitation, computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. Computer storage media includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical disk storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can accessed by computer . Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term \u201cmodulated data signal\u201d means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, RF, infrared and other wireless media. Combinations of the any of the above should also be included within the scope of computer readable media.","The system memory  includes computer storage media in the form of volatile and\/or nonvolatile memory such as read only memory (ROM)  and random access memory (RAM) . A basic input\/output system  (BIOS), containing the basic routines that help to transfer information between elements within computer , such as during start-up, is typically stored in ROM . RAM  typically contains data and\/or program modules that are immediately accessible to and\/or presently being operated on by processing unit . By way of example, and not limitation,  illustrates operating system , application programs , other program modules , and program data .","The computer  may also include other removable\/non-removable, volatile\/nonvolatile computer storage media. By way of example only,  illustrates a hard disk drive  that reads from or writes to non-removable, nonvolatile magnetic media, a magnetic disk drive  that reads from or writes to a removable, nonvolatile magnetic disk , and an optical disk drive  that reads from or writes to a removable, nonvolatile optical disk  such as a CD ROM or other optical media. Other removable\/non-removable, volatile\/nonvolatile computer storage media that can be used in the exemplary operating environment include, but are not limited to, magnetic tape cassettes, flash memory cards, digital versatile disks, digital video tape, solid state RAM, solid state ROM, and the like. The hard disk drive  is typically connected to the system bus  through an non-removable memory interface such as interface , and magnetic disk drive  and optical disk drive  are typically connected to the system bus  by a removable memory interface, such as interface .","The drives and their associated computer storage media discussed above and illustrated in , provide storage of computer readable instructions, data structures, program modules and other data for the computer . In , for example, hard disk drive  is illustrated as storing operating system , application programs , other program modules , and program data . Note that these components can either be the same as or different from operating system , application programs , other program modules , and program data . Operating system , application programs , other program modules , and program data  are given different numbers here to illustrate that, at a minimum, they are different copies. A user may enter commands and information into the computer  through input devices such as a keyboard  and pointing device , commonly referred to as a mouse, trackball or touch pad. Other input devices (not shown) may include a microphone, joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit  through a user input interface  that is coupled to the system bus, but may be connected by other interface and bus structures, such as a parallel port, game port or a universal serial bus (USB). A monitor  or other type of display device is also connected to the system bus  via an interface, such as a video interface . In addition to the monitor, computers may also include other peripheral output devices such as speakers  and printer , which may be connected through an output peripheral interface .","The computer  may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer . The remote computer  may be a personal computer, a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer , although only a memory storage device  has been illustrated in . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) , but may also include other networks. Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.","When used in a LAN networking environment, the computer  is connected to the LAN  through a network interface or adapter . When used in a WAN networking environment, the computer  typically includes a modem  or other means for establishing communications over the WAN , such as the Internet. The modem , which may be internal or external, may be connected to the system bus  via the user input interface , or other appropriate mechanism. In a networked environment, program modules depicted relative to the computer , or portions thereof, may be stored in the remote memory storage device. By way of example, and not limitation,  illustrates remote application programs  as residing on memory device . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.","In embodiments of the present invention, a portable storage device (PSD) may be used to transfer a user profile from one computing device such as the computer  shown in , to a second computing device, providing the user a consistent experience across various computing devices. To provide an illustrative example of how the present invention may be practiced, consider that a user may be working on his personal computer at his office. He has set up the computer such that the desktop background is a digital photograph of his family and he enjoys having that picture there to look at throughout the day. One day, while working on a document file that will not fit on a floppy disk, he is told that his office needs some repairs and he must temporarily vacate the office. He is given a notebook computer to work with in another office, but realizes that he cannot transfer his document file between the computers on a floppy disk because it is too big. Prior to vacating his office, the user connects a portable storage device such as a Memory Stick\u00ae to his office computer. According to aspects of the present invention, his files (e.g. the large document he is working on) and settings (e.g. the desktop digital photograph of his family) will automatically be transferred onto the Memory Stick\u00ae. When the user arrives at the other office, he logs into the notebook computer. He then connects the Memory Stick\u00ae to the notebook computer. According to further aspects of the invention, the system will ask the user if he wishes to use the profile stored on the Memory Stick\u00ae. If he says yes, the items in the profile will be automatically downloaded to the notebook computer causing the desktop background to be the same digital photograph of his family, and the large document to be downloaded into the corresponding folder on the notebook computer. The user opens the large document and continues working on it.","According to additional aspects of the invention, each time he saves changes to the document, these changes are automatically synchronized to the Memory Stick\u00ae by the system. While he is working on the notebook computer, the user receives an e-mail from his wife that has a new digital photograph of his family attached to it. The user decides to make this new photograph the desktop background, and replaces the current background image with the new image received from his wife. This change is also detected by the system and is automatically replicated on the Memory Stick\u00ae.","Late in the day, the user is told that he may return to his office. He shuts down the notebook computer with the Memory Stick\u00ae attached and returns to his office. Once he returns to his office, he connects the Memory Stick\u00ae to the personal computer. The computer automatically recognizes that the Memory Stick\u00ae belongs to the user by reading an account ID code stored on the Memory Stick\u00ae. The system asks the user to log into the system and he complies. Once he has logged into the system, the system automatically transfers the updated large document and the new desktop background to the personal computer.","Referring to , a portable storage device  that may be used to practice the present invention is shown. A portable storage device (PSD) is any device with storage capability that can share its data with more than one other computing device, for example, computer . The PSD  has a memory . The PSD also may have a connection interface  that is used to connect the PSD to some other computing device. Connection interface  may be a wired interface that is physically attached to the computer  via some input port or connecting wire, or it may be a wireless interface that sends data via radio frequency or infrared signals. Computer  may receive input from the PSD via network interface , magnetic disk drive , or optical disk drive , or some other input interface known in the art such as a SCSI port, a parallel port, or any other input interface. The connection provided by connection interface  may be a tethered connection that utilizes some physical connection medium such as a wire or input port, or it may be a wireless connection as is well known in the art.","PSD  may be a \u201cdumb device\u201d or a \u201csmart device.\u201d A dumb device is a device that lacks computational ability. Examples of dumb devices are re-writable compact disks, flash memory storage devices such as Compact Flash, SmartMedia, or Memory Stick\u00ae, certain Firewire\/1394 devices, USB 1.0 and 2.0 devices and other non-computational storage media as are known in the art. A smart device is a device that has computational ability. Examples of smart devices are handheld computers (e.g. PocketPC or Palm Pilot), mobile telephones, or some other smart portable storage devices as are known in the art. In a smart device, PSD  may have a central processing unit (CPU)  and\/or an operating system (OS)  stored on some non-volatile memory .","As discussed above, aspects of the present invention may be used to transfer a user profile from one computing device to another computing device. A user profile is a set of files and settings that are associated with a user. The user profile may include data files, application settings, or user environment settings. Data files may include documents, spreadsheets, presentations, databases, pictures, music, videos, or any other file that may be associated with a particular user. Data files may be stored in a specific location on a hard drive (e.g. the \u201cMy Documents\u201d virtual folder), or they may be stored on a network share that is accessible by the user, or they may be stored in a combination of locations on the local computer and a network share. Data files may also be grouped logically into various libraries. For example, document files could be placed into a document library, multimedia files such as sound files, picture files, and video files could be placed into a multimedia library.","Application settings may include default saving directories in user applications, default templates, user-created templates, the default homepage in an Internet browser, web browser bookmarks, menu-bar configurations, or any other application specific setting that can be associated with a particular user. These settings may be stored in configuration files (e.g., .ini or .cnf) specific to an application, in an operating system registry, or in some other managed settings environment known in the art.","User environment settings may include a user's desktop configuration, start menu configuration, application toolbar configuration, or some other customization of the operating system shell or namespace.","Referring to , a block diagram depicts an illustrative system architecture suitable for practicing an embodiment of the present invention. The diagram shows a PSD  (labeled \u201cPortable Storage Device\u201d) and a computing device  (labeled \u201cPC\u201d) separated by a vertical line. Located on the PSD  is data folder  and settings store . Data folder  is used to store at least parts of a user profile.","The settings store  and data folder  hold configuration information for the user profile and possibly user environment or application settings. The configuration information may include current registry settings for the user profile, configuration information for applications that is not stored in a registry (e.g. .ini and .cfg files), machine\/user account associations, and a setting that indicates whether file synchronization is enabled for the user profile. This information may be stored in an extensible markup language (XML) file, a combination of several different files, or some other configuration file as known in the art. There is also an autoplay intent file  that directs an autoplay feature (discussed below) in the operating system of the computing device to treat the PSD as a user profile. In some embodiments the settings store  and data folder  will contain synchronized copies of the original profile data which still exist on computing device , while in other embodiments the settings store  and data folder  will contain the only existing copies, thereby guaranteeing that when the device is absent, the data in the settings store  and data folder  are not accessible.","Computing device  may include a user profile manager  and a group of user profile event sources . User profile event sources may include user actions that generate events (e.g. inserting the PSD into the computing device, or selecting a menu choice), or may also include computer-generated actions that generate events. User profile event sources  may generate events that may be handled by three handlers: (1) a user profile autoplay handler  that handles autoplay events generated by connecting PSD  to computing device ; (2) a user profile context menu handler ; and (3) a user profile synchronization control panel handler . The user profile context menu handler  allows the user to directly control the synchronization process. For example, it may allow the user to select the device from which the system obtains the user profile. The user profile context handler  may also allow the user to change synchronization settings and begin the synchronization process. The user profile synchronization control panel handler aggregates synchronization settings and control. For example, a computer may utilize synchronization techniques according to the present invention, while at the same time utilizing techniques from the prior art (such as those described in \u201cBackground of the Invention\u201d above). The user profile synchronization control panel handler provides an interface to manage all of the settings for each synchronization technique in a single unified interface.","User profile manager  may include two user interfaces: a synchronization manager  and a configuration wizard . Synchronization manager  manages the process of synchronizing the user profile between computing device  and PSD . The synchronization manager may accomplish its task using file synchronization techniques that are known in the art such as a generic communications application programming interface (API) or the ActiveSync\u00ae API. The ActiveSync\u00ae API provides for data synchronization between a desktop personal computer and a Windows\u00ae CE or Pocket PC device. Configuration wizard  (discussed more extensively below) may interact with settings manager  to allow the user to specify what items should and should not be included in the user profile.","User profile manager  may further include a settings manager  and a handler manager . Settings manager  manages two different types of settings: user profile settings and handler settings. User profile settings define what items should be included in the user profile. For example, a user may wish to include video files in the user profile but not a contacts database. Settings manager  works with configuration wizard  to create a user profile based on selections made by the user. Handler settings are settings which control behavior of the handlers, including for example a list of things the user selected for synchronization. Handler settings are stored in settings store  via settings manager .","The handler manager  manages the various handlers that are used to synchronize portions of the user profile between computing device  and PSD . In an illustrative embodiment, the handler manager oversees a File Library Handler , a Contact Library Handler , a Settings Handler , and one or more Hosted Third Party Handlers  (a handler not part of the operating system that is provided by an application vendor to synchronize certain settings associated with an application). These various handlers store the personal settings on PSD . Personal settings may include application settings or user environment settings that are tied to the operating system (OS) or to some application that runs on top of the OS. Personal settings may also include applications programs. These settings are stored on PSD  in data folder . Including user environment settings such as desktop background and configuration and start menu configuration in the user profile allows the \u201clook and feel\u201d of the graphical user interface to travel with the user between computing devices. Including application settings in a user profile (e.g. a browser homepage) provides the user with an additional element of consistency across various computing devices.","Referring again to , PSD  is shown along with a computing device . As used herein, the term computing device refers to any computer that can share data with a PSD. A computing device  may take the form of a standard desktop computer, a notebook computer, a handheld computer running an operating system such as PocketPC\u00ae (by Microsoft Corporation of Redmond, Wash.), a TabletPC, or any other computer that can share data with a PSD as known in the art.","According to aspects of the present invention, there are two basic connection scenarios between PSD  and a computing device such as one of the computing devices . The first connection scenario occurs when the PSD  is being connected to computing device  for the first time (with or without a preexisting user profile). The second scenario occurs when PSD  has user profile data stored on it and is being connected to a computing device to which it has been connected before.","In the first connection scenario, PSD  may or may not have a detectable user profile stored in its memory. There may be other data stored on the PSD  that is not part of any user profile. This extraneous data provides no impediment to practicing the present invention so long as there is sufficient free storage available on PSD  for storing user profile data. If there is insufficient free storage available on PSD , the system may offer to free up storage space on PSD  so that a user profile may be stored in its memory. Alternatively, some or all of the memory on the PSD may be formatted specifically for storing user profile data. For example, a compressed, encrypted disk format for storing user profile data may be used to hold user profile data.","Referring to , a flowchart is shown describing steps that may be carried out in addressing the first connection scenario. In step , the user connects the PSD  to first computing device . This may involve plugging it into the computing device or a peripheral associated with the computing device, or bringing it near the computing device if it is a wireless connection. In step , computing device  determines whether a user welcome screen is being displayed on computing device  that requires the user to log in to operating system in order to access its functionality. As used herein, the term welcome screen is synonymous with the terms login screen or login prompt as are known in the art. Aspects of the present invention may also be practiced using alternative authentication mechanisms for accessing the computer operating system such as smart cards or biometric authentication, for example. If the welcome screen is not being displayed on computing device , indicating that a user is currently logged into the system, the system proceeds to step . If the welcome screen is being displayed, computing device  remembers that PSD  was connected, and waits for a user to log in to the system (step ). Once the user has logged into the system, it proceeds to step . In step , computing device  scans the PSD  to determine whether there is any indication that the PSD  already has a user profile stored on it and should be treated as a user profile enabled device. This indication may be embodied in an intent file  that is read by a program stored on computing device .","The program that reads the intent file  may be a program that is automatically called in response to receiving the PSD . In one embodiment, the AutoPlay feature is used by the Microsoft\u00ae Windows operating system. AutoPlay is a feature that provides a software response to hardware actions initiated by a user on the computing device on which the feature is enabled. For example, when a compact disc containing music files is inserted into the compact disc drive of a computer, the AutoPlay may call an appropriate autoplay handler that launches software to play the music. An intent file is a file that discloses to the system an associated folder that should not be scanned to determine a new software response. The appropriate software response in the associated folder will be based on previously defined AutoPlay settings. If no intent file is located on the PSD, the AutoPlay may be programmed to call some default handler, or it may be programmed to search the contents of the hardware device to determine what kind of files are stored on it.","In an embodiment of the present invention, if there is no intent file on the PSD , in step  the computing device  calls autoplay handler  which invokes a routine that allows the user to create a user profile on the PSD . The presence of an intent file on PSD  indicates that a user profile is already stored on the PSD . In this case, rather than calling autoplay handler  to create a user profile on PSD , computing device  calls user profile synchronization control panel handler  to allow the user to synchronize the user profile on PSD  with the logged in account on computer device  as shown in step . In an alternative embodiment, the autoplay handler  may be preconfigured so that synchronization happens automatically.","In still another embodiment, the user might initiate a scan of the PSD  to be carried out by computing device , and based on the presence of some specified file or file type, computing device  determines whether there is already a user profile stored on the PSD  and acts according to the steps discussed immediately above. For example, this scan may be initiated by invoking a synchronization routine from the context menu handler . The system looks for an XML settings file stored on PSD  in the data folder  or possibly in the settings store .","If the user chooses to create a user profile on PSD  (in the case where no intent file is present on PSD ), or if the user chooses to configure the synchronization settings of an existing user profile (in step ) located on PSD  (in the case where there is an intent file or some other synchronization setting present), computing device  will launch configuration wizard  (called out in step ). If the user chooses not to configure the synchronization settings, step  is bypassed and the system proceeds to step . After configuration wizard  has been called, the user may select synchronization settings (using settings manager ) from the choices presented by the configuration wizard . In step , computing device  will create or modify (on PSD ) the user profile based the selections of the user using both settings manager  and handler manager  (and its subcomponents). In step , computing device  stores a computing device identifier and a user account identifier to settings store  in PSD .","The configuration wizard  called in step  is presented in more detail in . Upon calling the configuration wizard  a program interface  may be presented to the user. The program interface  may list libraries  that are available for storing in a user profile located on PSD  (not shown in ). Available libraries  may be organized by content-type, by file-type, or by some other organizational structure. In the illustrative embodiment shown in , the available libraries  are organized by content-type. For each available library , additional information may be presented to the user. For example, the system may calculate the amount of storage space  required to store the item on PSD . More specifically, in one embodiment, it may be determined whether there is sufficient memory available on the PSD to store a user profile. Calculating the amount of storage space required may be useful in cases where the PSD has a limited amount of available storage. The program interface  may also present to the user the amount of free space available on PSD  so that the user can more easily decide which settings to include in the profile and which settings to leave out.","For available library , a drop-down menu  may be provided to allow the user to control with greater precision how the library  is stored in the user profile. Selecting drop-down menu  may cause it to expand and display additional selections for the user. Turning briefly to , an expanded drop-down menu  is shown for the \u201cMusic\u201d item . In the expanded drop-down menu  are various selections  that allow the user to further refine how the items is stored in the user profile. Usually, the default selection will be to \u201cSync All ______\u201d where ______ is the available library . Thus, when the user clicks on the drop-down menu  for the available library  \u201cMusic\u201d, a list of selections including (but not necessarily limited to) \u201cSync all Music,\u201d \u201cSync a different set of music every time (shuffle),\u201d \u201cChange Which Music to synch . . . \u201d and \u201cDon't Sync Music\u201d may be available for selection.","If the user chooses one of the selections (other than \u201cSync All\u201d) available in the expanded drop-down menu , a drill down user interface  (DDUI) may be presented as shown in . The DDUI  may include a listview  that presents the content items  in the library  that are available for syncing. The DDUI  may also include a basket control  that shows the items that have been chosen to be stored on PSD . The basket control  may include a space used status bar  that indicates how much storage space the items in the basket will require. The DDUI  may further include two toolbars: A \u201cbreadcrumb\u201d bar  as is known in the art to allow the user to easily navigate to preceding page views (by providing a trail of \u201cbreadcrumb\u201d pages), and a set of operational buttons  for the basket control . These operational buttons may include an \u201cAdd to Basket\u201d button (indicated by an arrow pointing into the basket with a plus sign) and a \u201cRemove from Basket\u201d button (indicated by an arrow pointing away from the basket with a minus sign). When a user selects content item  from the listview  and clicks on the \u201cAdd to Basket\u201d button, the content selected is placed in the basket control  and will be synced to PSD  when synchronization occurs. In addition to the \u201cAdd to Basket\u201d operational button , a context menu (i.e. a menu that appears when a user right-clicks on content item ) may be provided that includes an \u201cAdd to Basket\u201d and a \u201cRemove from Basket\u201d selection.","The content items  that are placed in the listview  may be files, folders, libraries, stacks, containers or any other file organizational entity as known in the art. If a content item contains sub-items (e.g. folder includes files, container including sub-container), the user can navigate to the sub-items by double clicking on the content item. A user can add entire folders to the basket control  or individual files. If a content item  in the listview  has been added to the basket control , it may have an icon overlay to express that the content item  is already in the basket control . This will allow the user to avoid attempting to add content items to the basket control  that are already included. The system may be configured to disallow duplicate copies of a content item  in basket control . For example, if a user places a content item  in the basket control  and then tries to place the content item  in the basket again, the system may present a dialogue box that provides a message that indicates that the file or folder (i.e. content item ) is already in the basket. In another aspect of the present invention, the user may select multiple content items  and attempt to place them in the basket control . If none of the content items  are present in the basket , then the operation will succeed. If, however, some of the content items  are already included in the basket control , then a dialogue box may appear with a message indicating that the already included content items will not be placed in the basket control, but that the new items will be added. In another embodiment, content items  that already exist in the basket may be simply be skipped without notifying the user while new items are added to the basket.","This discussion immediately above was directed to the configuration of synchronization settings for files and folders. For determining which application settings and user environment settings to include in the user profile, the configuration page may be slightly different. Referring to , a chart is shown that lists the available selections in an expanded drop-down menu for configuring the synchronization of user environment settings and\/or application settings. Selectively choosing settings to sync will result in DDUI similar but not identical to the DDUI used for syncing files and folders described above. In the case of settings, the DDUI lists out all of the settings for applications that are customizable and can be transferred using a user profile. The user is then able to select via checkbox, which settings to include in the user profile.","Finally, at the end of the configuration wizard, the user is presented an option to synchronize the selected user profile onto the PSD. Upon making the selection, all of the data in the user profile is immediately copied from computing device  to PSD . In one illustrative embodiment, the synchronization manager  continues to monitor the user profile data on computing device . Anytime a change is made to the user profile data, that change is automatically replicated on the user profile stored on PSD  without any user interaction.","In yet another aspect of the present invention, a PSD  with an existing user profile may be plugged into a computing device for the first time. Referring to , a flow chart is shown that describes how this situation may be handled in accordance with aspects of the present invention.","In step , the PSD is connected to the computing device for the first time. The system then checks to see if the computing device is at a welcome (e.g. login) screen. If the welcome screen is displayed, the system may remember that a PSD has been connected and await log in by the user (called out in ). If the welcome screen is not initially displayed, or the user has logged into the computing device, the system proceeds to step , where an autoplay dialogue is launched (after checking whether there is a PUP already present on the computing device) that includes an option to synchronize the user profile. If the user elects to synchronize the user profile with the computing device, in step  the synchronization manager  begins the syncing process. Next, in step , the computing device ID and an account ID representing the logged in user account are stored on the PSD so that the next time the PSD is connected to the machine, handler manager  can recognize the previous association.","When PSD  is connected to computing device  for the second time (assuming a user profile was configured), the autoplay handler  may receive the device arrival event and launch the synchronization process without prompting the user. Referring to , in step  the PSD is connected to the computing device. In step , the system determines whether the welcome (i.e. login) screen is being displayed by the computing device. If the welcome screen is being displayed, the autoplay handler will, in step , select the user account associated with the PSD user profile, and prompt the user to enter a password to log into the account. Assuming the correct password is entered, the system will proceed to step  (discussed below). If the welcome screen is not up, the system proceeds to step  and determines which account is currently active. If the currently active account is associated with the PSD, the system proceeds to step  and automatically synchronizes the user profile with the computing device. If the logged in account is different than the account with which the PSD is associated, in step  the autoplay handler  will provide a menu with an option to Fast User Switch to the welcome screen so that the user may synchronize the PSD with his account. When the user elects the Fast User Switch option, in step  the system presents a new welcome screen with the user's account highlighted and prompts for a password. Once the correct user logs into the computing device, the system will proceed to step , where the user profile is automatically synched without interaction from the user.","While the invention has been described with respect to specific examples including presently preferred modes of carrying out the invention, those skilled in the art will appreciate that there are numerous variations and permutations of the above described systems and techniques. Thus, the spirit and scope of the invention should be construed broadly as set forth in the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A more complete understanding of the present invention and the advantages thereof may be acquired by referring to the following description in consideration of the accompanying drawings, in which like reference numbers indicate like features, and wherein:",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
