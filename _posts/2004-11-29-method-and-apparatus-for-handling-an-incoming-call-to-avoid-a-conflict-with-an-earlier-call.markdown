---
title: Method and apparatus for handling an incoming call to avoid a conflict with an earlier call
abstract: A method for handling an incoming call received at an inbound terminal via an analog line is described. The method comprises receiving the incoming call at the inbound terminal; storing caller ID data enabling identification of incoming call; comparing a stored existing caller ID with the stored current caller ID to determine if an earlier incoming call is being signaled to an application; if the earlier incoming call is being signaled, disconnecting the earlier incoming call; and presenting the incoming call to the application thereby reducing the risk of conflict between incoming calls.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07693271&OS=07693271&RS=07693271
owner: Dialogic Corporation
number: 07693271
owner_city: Montreal, Quebec
owner_country: CA
publication_date: 20041129
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","TECHNICAL FIELD","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["This is the first application filed for the present invention.","This invention relates to the field of telecommunications. More precisely, this invention pertains to the field of communication on analog lines.","In the case of an incoming call on analog lines, no defined event exists for signaling the end of a call establishment phase. Such limitation may create various problems as explained below.","For instance, as shown in , there is shown a diagram which discloses how a conflict may occur due to the limitation.","In the case where a first incoming call is provided by an outbound switch to an Application Programming Interface (API) of an inbound terminal, a ring signal for the first incoming call is issued to an application at the inbound terminal. The skilled addressee will appreciate that the incoming call is provided using a ringing voltage on the line. The application may be any type of application such as for instance a voicemail managing application, an authentication application based on incoming call data, Unified Messaging Applications, Automatic Call Distribution (ACD) Server, Voice over IP (VoIP) Gateway, Point of Sales Server (POS), etc. In response to the ring for the first call, the application issues a \u201cCall Accept Command\u201d (i.e., an AT Answer (ATA) command if a port driver or a TTY driver is used as Application Programming Interface (API)) for instance.","If while the \u201cCall Accept Command\u201d is being issued to the API, the party issuing the first incoming call hangs up and therefore causes the first incoming call to be terminated and if a second incoming call issued by another party is being provided to the application, the \u201cCall Accept Command\u201d issued to the API will be applied against the second incoming call causing a conflict.","Such conflict may be the source of Denial of Service (DoS) attacks in the case for instance where an access to an application is based upon a calling or called identity. Incoming calls may also be directed to wrong directions by an application. In the case where the application is an answering machine, a user issuing a call may leave a message in a wrong voicemail.","There is a need for a method and apparatus that will overcome at least one of the above-identified drawbacks.","The invention provides a method and apparatus for handling an incoming call.","According to an aspect of the invention, there is provided a method for handling an incoming call received via an analog line, the method comprising receiving the incoming call, checking if an earlier incoming call is being signaled to an application, if the earlier incoming call is being signaled, disconnecting the earlier incoming call and presenting the incoming call.","According to another aspect of the invention, there is provided an apparatus for handling an incoming call signal received via an analog line. The apparatus comprises a communication port receiving the incoming call signal and providing a received call signal comprising incoming call information representative of the incoming call signal; a memory unit; and a processing unit receiving the received call signal and accessing the memory unit using the incoming call information to find out if the memory unit comprises another incoming call information signal representative of an earlier incoming call signal being signaled. The processing unit further provides a signaling signal if the memory unit does not comprise another incoming call information signal.","According to yet another aspect of the invention, there is provided a method for handling an incoming call received at an inbound terminal via an analog line. The method comprises receiving the incoming call at the inbound terminal; storing caller ID data enabling identification of incoming call; comparing a stored existing caller ID with the stored current caller ID to determine if an earlier incoming call is being signaled to an application; if the earlier incoming call is being signaled, disconnecting the earlier incoming call; and presenting the incoming call to the application.","It will be noted that throughout the appended drawings, like features are identified by like reference numerals.","Now referring to , there is shown a block diagram showing an apparatus  for handling an incoming call at an inbound terminal according to an embodiment of the invention.","The apparatus  comprises a communication port , a processing unit  and a memory unit .","The communication port  is adapted for receiving an incoming call signal originating from an outbound switch, not shown, located on a network  and further for providing a received signal to the processing unit .","The communication port  is further adapted for receiving a signal to send and providing an outgoing phone signal to the network .","In an embodiment, the communication port  comprises a Direct Access Arrangement (DAA) chip as analog front end (AFE) to terminate the network .","The processing unit  is adapted for receiving the received signal provided by the communication port  and further adapted for providing a signal to send to the communication port . The processing unit  is further adapted for storing a call information signal in the memory unit  and further for retrieving the call information signal from the memory unit .","It should be understood by the skilled addressee that in one embodiment, the communication port , the processing unit  and the memory unit  are embedded into a single card referred to as an \u201cactive\u201d embedded system card. Such card may be then plugged to a computer for instance. In another embodiment, the processing unit of a computer as well as at least one part of the memory unit of the computer are used which is referred to as a \u201cpassive\u201d design.","The memory unit  is adapted for storing a call information signal. It should be appreciated that the call information signal may be any type of data enabling the identification of a call such as for instance caller ID data. It should be further appreciated that the memory unit  may be used to store additional information provided in the case where an SMDI (Simplified Message Desk Interface) interface is used. Such additional information may comprise additional call related information like Redirecting Number or receive\/send Message Waiting signal. As known by the skilled addressee, using SMDI requires an extra serial cable connected to some specific switch types. In fact, as known by the skilled addressee, with most networks the caller ID information may be provided using in-band tones (e.g. like FSK modem tones or DTMF tones) after or before the first ring. As explained previously, the memory unit  may be a dedicated memory unit comprised in an embedded system card while alternatively, the memory unit of a computer may be used.","It should be understood that the communication port , the processing unit  and the memory unit  may be implemented in an existing communication device such as a modem for instance.","Now referring to , there is shown how an incoming call is handled according to one embodiment of the invention.","According to step , an incoming call is received. The incoming call is received from the network  by the processing unit  via the communication port . Alternatively, at least one part of the incoming call, the incoming call information, may be received from an external serial interface (e.g. a SMDI interface), while the call comes in at the communication port .","According to step , a check is performed using the received incoming call in order to find out if an earlier incoming call is being signaled. The check is performed by the processing unit  disclosed in . More precisely, the processing unit  checks in the memory unit  if the latter comprises an existing call information signal indicative of an earlier incoming call. It should be appreciated that preferably, the memory unit  comprises an existing call information signal if an earlier incoming call is being signaled. Still in the preferred embodiment, the check is performed by comparing a stored existing call information signal, if any, with the current call information signal.","In the case where an earlier incoming call is being signaled, i.e., in the case where the current call information signal is different from the earlier incoming call information signal, the earlier call is disconnected. Preferably, the earlier call is disconnected using the processing unit .","In the case where no earlier incoming call is being signaled and according to step , an indication of the incoming call is provided. In the preferred embodiment, the indication of the incoming call is stored in the memory unit  by the processing unit . The incoming call is then presented to the application.","Now referring to , there is shown how the handling of an incoming call according to the invention overcomes the above-identified limitation.","More precisely, a first incoming call is provided to an Application Programming Interface (API), the first incoming call is signaled to an application.","The first incoming call is accepted by the application and a command to that effect is issued by the application and is directed to the API.","A second incoming call is issued prior to the command to the effect that the first incoming call is accepted is received by the API.","A check is performed by the API as disclosed at step  of  and it is therefore detected that the first incoming call is being signaled.","A notice to the effect that the first call is disconnected is then sent to the application and a notice indicating that the second incoming call is presented to the application.","While illustrated in the block diagrams as groups of discrete components communicating with each other via distinct data signal connections, it will be understood by those skilled in the art that the preferred embodiments are provided by a combination of hardware and software components, with some components being implemented by a given function or operation of a hardware or software system, and many of the data paths illustrated being implemented by data communication within a computer application or operating system. The structure illustrated is thus provided for efficiency of teaching the present preferred embodiment.","It should be noted that the present invention can be carried out as a method, can be embodied in a system, a computer readable medium or an electrical or electro-magnetic signal.","The embodiments of the invention described above are intended to be exemplary only. The scope of the invention is therefore intended to be limited solely by the scope of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Further features and advantages of the present invention will become apparent from the following detailed description, taken in combination with the appended drawings, in which:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
