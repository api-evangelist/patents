---
title: Lighting device
abstract: The disclosed lighting device gradually adjusts from an incandescent bulb color having a 30% dimming rate to a daylight color having a 100% dimming rate. The overall dimming rate is changed to a linear shape, and the ratio of the dimming rates of the incandescent bulb color and the daylight color is adjusted. When changing from the incandescent bulb color to the daylight color, the color is changed to an intermediate color that mixes the incandescent bulb color and the daylight color, and then ultimately is changed to the daylight color, and so it is possible to change the dimming rate without causing discomfort or annoyance in humans, and a comfortable and natural light environment is achieved.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09137867&OS=09137867&RS=09137867
owner: SHARP KABUSHIKI KAISHA
number: 09137867
owner_city: Osaka
owner_country: JP
publication_date: 20110411
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND ART","CITATION LIST","Patent Literature","SUMMARY OF INVENTION","Technical Problem","Solution to Problem","Advantageous Effects of Invention","DESCRIPTION OF EMBODIMENTS","REFERENCE SIGNS LIST"],"p":["The present invention relates to a lighting device and, more specifically, to a lighting device using a light emitting diode (LED) as a light source.","Conventional lighting devices generally use incandescent lamps or fluorescent lamps, and operations of such devices include light-on, light-off, brightness adjustment by adjusting output, and lighting of a night-light (tiny lamp).","Recently, because of remarkable developments of light emitting diodes (LEDs), LEDs of high brightness and high output with various output wavelengths come to be practically used. A lighting device using such LEDs allows, in addition to the light-on and light-off operations, the user to flexibly change color tone of illumination, as LEDs having different wavelengths are combined and respective outputs can be adjusted. It is difficult, however, to adjust the LED outputs to attain favorable color tone, for a person not having any knowledge of optical or illumination field. Therefore, some scheme that facilitates light adjustment is desirable.","Light environment has significant psychological and biological influences on humans. Therefore, appropriate design of light environment is one of basic elements to attain healthy and comfortable living environment.","In this regard, a light environment that combines illumination and the phase of autonomous, intrinsic rhythm (biological rhythm) of a human is desirable, for one to enjoy healthy and comfortable life.","Japanese Patent Laying-Open No. 2000-294384 proposes a method of switching two fluorescent lamps having different color temperatures in accordance with time zone.",{"@attributes":{"id":"p-0008","num":"0000"},"ul":{"@attributes":{"id":"ul0001","list-style":"none"},"li":"PTL 1: Japanese Patent Laying-Open No. 2000-294384"}},"In designing the light environment, if switching of illumination is inappropriate, it will evoke a feeling of strangeness or discomfort, and a good life environment cannot be realized. Further, since individuality differs person to person, light environment most convenient for each individual should be considered.","The present invention was made to solve such a problem, and its object is to provide a lighting device that can realize comfortable light environment.","According to an aspect, the present invention provides a lighting device, including: a plurality of light emitting units having different color temperatures; a control circuit for executing emission output control of each of the plurality of light emitting units; time keeping unit for keeping time; and a memory storing control information used for emission output control of the plurality of light emitting units to realize a desired light environment at a prescribed time of day. The control circuit executes emission output control of the plurality of light emitting units, with reference to the memory and based on the control information, gradually from before the prescribed time of day so that the desired light environment is realized at the prescribed time of day.","Preferably, the control information stored in the memory corresponds to dimming rates of the plurality of light emitting units corresponding to prescribed time of day for adjusting human life rhythm.","Particularly, the plurality of light emitting units includes first and second light emitting units having different color temperatures; based on the control information, the control circuit is configured to set: in a first time period of a day, a first dimming rate by lighting the first light emitting unit; in a second time period of the day following the first time period, switch lighting of the first light emitting unit to lighting of the second light emitting unit, and set the dimming rate to be changed from the first dimming rate to the second dimming rate; in a third time period of the day following the second time period, set a second dimming rate by lighting the second light emitting unit, in a fourth time period of the day following the third time period; switch lighting of the second light emitting unit to lighting of the first light emitting unit, and maintain the second dimming rate; in a fifth time period of the day following the fourth time period, set the second dimming rate by lighting the first light emitting unit; and in a sixth time period of the day following the fifth time period, set the dimming rate to be changed from the second dimming rate to the first dimming rate, by lighting the first light emitting unit.","Preferably, the lighting device further includes a setting receiving unit for setting the control information.","Preferably, the control circuit gradually increases dimming rate of at least one of the plurality of light emitting units from before the prescribed time of day.","Preferably, the control unit gradually reduces dimming rate of at least one of the plurality of light emitting units and gradually increases dimming rate of another light emitting unit, different from the at least one, of the plurality of light emitting units, as time passes.","Particularly, the control circuit adjusts the dimming rates of one and another light emitting units to be changed in accordance with a linear function.","By the configuration described above, in order to realize desired light environment at a prescribed time of day, based on the control information, the control circuit of the lighting device controls emission output of a plurality of light emitting units gradually before the prescribed time of day to cause variation in a natural manner, so that comfortable light environment not invoking any feeling of strangeness or discomfort can be realized.","In the following, embodiments of the present invention will be described with reference to the figures. In the following description, the same components are denoted by the same reference characters. Their names and functions are also the same. Therefore, detailed description thereof will not be repeated.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 1","b":"1"},"Referring to , lighting device  in accordance with an embodiment of the present invention is shown having a chassis  for fixing a main body part, and covers  and  for covering the entire surface of main body part together with chassis . As an example, here, it is assumed that chassis  of lighting device  is fixed on a ceiling.","Cover  is provided corresponding to an area where LED modules for illumination are arranged. Light is emitted from the area of cover .","The other cover  provided near the center of cover  is provided corresponding to an area where a control device such as a circuit board for controlling the LED modules and the like is arranged. Since no LED module is arranged in the area corresponding to cover , light is not emitted therefrom.","The portable remote controller  is provided for operating lighting device . By operating remote controller , various operation instructions can be issued to lighting device . Details of remote controller  will be described later.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 2","b":"1"},"Referring to , lighting device  in accordance with the present embodiment includes a power source circuit , an illumination control unit , illuminating unit , and an interface unit .","Power source circuit  receives an AC power input (AC input) (100V), converts it to a DC voltage, and supplies the voltage to various portions of the device. Though the voltage is shown to be supplied only to a control power supply circuit  and illuminating unit  as an example here, it is not limiting and necessary voltage is supplied to other portions as well.","Illumination control unit  includes: control power supply circuit  for adjusting the voltage supplied from power source circuit  to be supplied to a CPU ; CPU (Central Processing Unit)  for overall control of lighting device ; PWM (Pulse Width Modulation) control circuit ; a signal receiving unit ; an SW input unit ; a crystal oscillator ; an illuminance sensor ; and a memory . CPU , memory  and PWM control circuit  are implemented by micro-computers.","CPU  is connected to various units and instructs necessary operations to control lighting device  as a whole.","PWM control circuit  generates PWM pulses necessary for driving LED modules  and  in accordance with an instruction from CPU .","Signal receiving unit  is connected to an infrared receiving unit  included in interface unit , and outputs an instruction in response to an infrared signal received by infrared receiving unit  to CPU .","SW input unit  is connected to operation SW (switch)  and outputs an instruction in accordance with the operation of operation SW to CPU .","Crystal oscillator  generates oscillation signals of a prescribed period and outputs these signals to CPU . Receiving the oscillation signals (clock signals) input from crystal oscillator , CPU  executes various operations in synchronization with the clock signals. It is assumed that CPU  can accurately keep time in accordance with the oscillation signals output from crystal oscillator .","Illuminance sensor  measures illuminance around lighting device  and outputs the measurements to CPU . CPU  is capable of controlling dimming rate based on the measured results from illuminance sensor .","Memory  stores various programs and initial values for controlling lighting device , and it is also used as a working memory of CPU .","Illuminating unit  includes; LED modules  and  having color temperatures different from each other; and FET (Field Effect Transistor) switches  and  used for driving LED modules  and . In the present example, it is assumed that color temperature of LED module  is about 6700K, and that of LED module  is about 2700K. In the following, LED module  will be also referred to as daylight color LED (or simply, daylight color) and LED module  will be also referred to as incandescent lamp color LED (or simply, incandescent lamp color). Here, a set consisting of one LED module  and one module  is shown as an example, and a plurality of such sets may be provided. Further, FET switches  and  may be provided in PWM control circuit .","Interface unit  includes infrared receiving unit  and operation SW . Infrared receiving unit  receives the infrared signals from remote controller , executes photo-electric conversion of the infrared signals, and outputs the results to signal receiving unit .","Operation SW  includes a power switch and the like, and an instruction in response to a switch operation such as a user's operation of a power switch is output through SW input unit  to CPU . It is assumed that when the power switch in on, necessary power is supplied to lighting device  and if the power switch is off, power is not supplied to lighting device . Various operations described in the present example are realized when the power switch is on.",{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 3","b":["31","32"]},"Referring to , CPU  instructs PWM control circuit  to generate and output PWM pulses S and S for driving at least one of LED modules  and .","LED modules  and  receive supply of necessary voltage from power source circuit . Between LED modules  and  and a ground voltage GND, FET switches  and  are provided, respectively.","When FET switches  and  are rendered conductive\/non-conductive in response to PWM pulses S and S, electric current is supplied\/stopped to LED modules  and . When electric current is supplied to LED modules  and , LED module  and  emit light, respectively. Though a configuration for driving LED modules  and  has been described above, the configuration is similar even when a plurality of other LED modules are additionally provided.",{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 4","b":["31","32","1"]},"Referring to , here, LED modules  and  are arranged next to each other, and a plurality of such sets are arranged in a circular shape. Since LED modules  and  having different color temperatures are arranged next to each other, it becomes easier to mix the light emitted from respective LED modules, so that unevenness or variation of color on an illuminated surface can be reduced.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 5","b":"50"},"Referring to , remote controller  is provided with liquid crystal panel  and various buttons. A display device other than liquid crystal may be used in place of liquid crystal panel .","Here, a plurality of buttons are provided. Specifically, the buttons include: a \u201cFULL LIGHT\u201d button ; a \u201cLIGHT OFF\u201d button ; an \u201cUP\u201d button A and \u201cDOWN\u201d button B for increasing and decreasing dimming rate; a \u201cLAMP COLOR\u201d button A and \u201cDAYLIGHT COLOR\u201d button B; a \u201cLIGHT ENVIRONMENT CONTROL\u201d button ; an \u201cECO-LIGHT\u201d button ; a \u201cCUSTOM\u201d setting button ; a \u201cBRIGHTER\u201d button ; a \u201cREST\u201d button ; a \u201cTIME SET\u201d button ; an \u201cILLUMINANCE SENSOR\u201d button ; a \u201cFAVORITE\u201d button ; a \u201c+\/\u2212\u201d button  for increasing\/decreasing numerical values and the like; and a \u201cTIMER\u201d button .","When \u201cFULL LIGHT\u201d button  is pressed by the user, a full light-on control instruction is output from remote controller . CPU  of lighting device  receives the input of full light-on control instruction from remote controller , and instructs PWM control circuit  to start full-lighting control of illuminating unit . Consequently, in response to pressing of \u201cFULL LIGHT\u201d button , that is, an input of full-light-on control instruction from remote controller , light is emitted with dimming rate of 100% from illuminating unit .","The dimming rate of light emitted from illuminating unit  is adjusted stepwise from the state of full-lighting (dimming rate 100%) to dim-lighting (dimming rate 30%), by the operations of \u201cUP\u201d button A and \u201cDOWN\u201d button B. More specifically, in a state of full-lighting (dimming rate 100%) after pressing of \u201cFULL LIGHT\u201d button , if \u201cDOWN\u201d button B is pressed, the emission will be half-lighting (dimming rate 50%), and if \u201cDOWN\u201d button B is pressed in this state, the emission will be dim-lighting (dimming rate 30%). If \u201cUP\u201d button A is pressed in this state, the emission will be half-lighting (dimming rate 50%), and if \u201cUP\u201d button A is pressed in this state, the emission will be full-lighting (dimming rate 100%). It is assumed that the current dimming rate is stored in memory .","If the user presses \u201cLIGHT-OFF\u201d button  while the light is on, a light-off control instruction is output from remote controller . CPU  of lighting device  receives the input of light-off control instruction from remote controller , and instructs PWM control circuit  to turn off illuminating unit . Consequently, in response to pressing of \u201cLIGHT OFF\u201d button , that is, an input of light-off control instruction from remote controller , emission of light from illuminating unit  ends.","Further, if the user presses \u201cLAMP COLOR\u201d button A and \u201cDAYLIGHT COLOR\u201d button B, an instruction to switch color tone is output from remote controller . CPU  of lighting device  receives the input of color tone switching instruction from remote controller , and instructs PWM control circuit  to switch lighting of illuminating unit . Here, it is assumed that the color tone of light emitted from illuminating unit  can be switched in accordance with an input of color tone switching instruction from remote controller , that is, in accordance with pressing of \u201cLAMP COLOR\u201d button A and \u201cDAYLIGHT COLOR\u201d button B. Specifically, when \u201cLAMP COLOR\u201d button A is pressed, the color tone is set to be switched stepwise from the daylight color to the incandescent lamp color while dimming rate is maintained. Assume, for example, that in the \u201cdaylight color\u201d state of full-light in daylight color (dimming rate 100%), if \u201cLAMP COLOR\u201d button A is pressed, the color tone is set to \u201chalf daylight color\u201d of daylight color dimming rate of 70% and incandescent lamp color dimming rate of 30%, so that the color tone is changed from the daylight color to the side of incandescent lamp color, with the dimming rate maintained. If \u201cLAMP COLOR\u201d button A is pressed again in this state, the color tone is set to \u201chalf incandescent lamp color\u201d of daylight color dimming rate of 30% and incandescent lamp color dimming rate of 70%, so that the color tone is further changed from the daylight color to the side of incandescent lamp color, with the dimming rate maintained. Further, when \u201cDAYLIGHT COLOR\u201d button B is pressed, the color tone is set to be switched stepwise from the incandescent lamp color to the daylight color while dimming rate is maintained. Assume, for example, that in the \u201cincandescent lamp color\u201d state of full-light in incandescent lamp color (dimming rate 100%), if \u201cDAYLIGHT COLOR\u201d button B is pressed, the color tone is set to \u201chalf incandescent lamp color\u201d of incandescent lamp color dimming rate of 70% and daylight color dimming rate of 30%, so that the color tone is changed from the incandescent lamp color to the side of daylight lamp color, with the dimming rate maintained. If \u201cDAYLIGHT COLOR\u201d button B is pressed again in this state, the color tone is set to \u201chalf daylight color\u201d of incandescent lamp color dimming rate of 30% and daylight color dimming rate of 70%, so that the color tone is changed from the incandescent lamp color to the side of daylight lamp color, with the dimming rate maintained. It is assumed that the current color tone is stored in memory .","In accordance with these operations, when the user presses \u201cUP\u201d button A and \u201cDOWN\u201d button B or \u201cLAMP COLOR\u201d button A and \u201cDAYLIGHT COLOR\u201d button B, the dimming rate or color tone can be changed as preferred by the user, and thus, comfortable light environment can be realized.","Further, if the user presses \u201cLIGHT ENVIRONMENT CONTROL\u201d button , a light environment control mode instruction is output from remote controller . CPU  of lighting device  receives the light environment control mode instruction input from remote controller , and instructs PWM control circuit  to start lighting control in the light environment control mode of illuminating unit . The light environment control mode will be described later.","Further, if the user presses \u201cECO-LIGHT\u201d button , an eco-light mode instruction is output from remote controller . CPU  of lighting device  receives the eco-light mode instruction input from remote controller , and instructs PWM control circuit  to start lighting control in the eco-light mode of illuminating unit . The co-light mode will be described later.","Further, if the user presses \u201cCUSTOM\u201d setting button , an operation in accordance with custom setting can be started. Custom setting will be described later.","Further, if the user presses \u201cBRIGHTER\u201d button , an instruction to increase brightness is output from remote controller . CPU  of lighting device  receives the instruction to increase brightness input from remote controller , and instructs PWM control circuit  to start lighting control in the brighter mode of illuminating unit . The brighter mode will be described later.","Further, if the user presses \u201cREST\u201d button , an instruction to set a rest instruction is output from remote controller . CPU  of lighting device  receives the rest instruction input from remote controller , and instructs PWM control circuit  to start lighting control in the rest mode of illuminating unit . The rest mode will be described later.","If the user presses \u201cTIME SET\u201d button , it becomes possible to start an operation for time setting. Specifically, when \u201cTIME SET\u201d button  is pressed, a time setting screen image (not shown) is displayed on liquid crystal panel . On the time setting screen image, the user can set the current time by pressing \u201c+\/\u2212\u201d button . By pressing \u201cTIME SET\u201d button  again, the current time information is output from remote controller . CPU  of lighting device  receives the time information input from remote controller , and based on the input time information, it can keep accurate time in accordance with the oscillation signals (clock signals) from crystal oscillator . In the light environment control mode in accordance with the present example, lighting control is done in accordance with the time of day and, therefore, if the time is not set in lighting device , the light environment control mode is not executed.","If the user presses the \u201cILLUMINANCE SENSOR\u201d button , an operation instruction of the illuminance sensor is output from remote controller . CPU  of lighting device  receives the operation instruction of illuminance sensor  input from remote controller , and obtains the results of measurement from illuminance sensor . Then, CPU  controls the dimming rate based on the results of measurement obtained from illuminance sensor . By way of example, based on the results of measurement from illuminance sensor  that indoor environment such as in a room is sufficiently bright by the incoming sunlight (natural light), for example, it can adjust the illuminance by lowering the set dimming rate. Thus, power consumption can be reduced. On the contrary, if the sunlight (natural light) is blocked and the indoor environment of a room or the like is determined to be dark, it can adjust the illuminance to an appropriate value by increasing the dimming rate again, up to the set dimming rate. If the user presses \u201cILLUMINANCE SENSOR\u201d button  again, an instruction to stop operation of illuminance sensor  is output from remote controller . CPU  of lighting device  receives the operation stop instruction of illuminance sensor  input from remote controller , and stops control of dimming rate based on the results of measurement by illuminance sensor . Thus, it becomes possible for the user to set a desired dimming rate, regardless of the results of measurement by illuminance sensor .","If the user presses \u201cFAVORITE\u201d button , the dimming rate and color tone of lighting device  at the time of pressing of this button are stored in memory . Thus, every time the user presses \u201cFAVORITE\u201d button  thereafter, the dimming rate and color tone as stored in memory  can be reproduced by a single touch, to the convenience of the user.","If the user presses \u201cTIMER\u201d button , an operation for setting the timer can be started. Specifically, when \u201cTIMER\u201d button  is pressed, a timer setting screen image (not shown) is displayed on liquid crystal display panel . On the time setting screen image, the user can set a light-off time or light-on time using \u201c+\/\u2212\u201d button . When the \u201cTIMER\u201d button  is pressed again, the timer setting information is output from remote controller . CPU  of lighting device  receives the timer setting information input from remote controller , and executes the timer operation in accordance with the input timer setting information. Specifically, if the light-on time is set, the light-on control is executed when the set time is reached. If the light-off time is set, the light-off operation is executed when the set time is reached. The timer operation in this example is not executed if the time is not set in lighting device .",{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIG. 6","b":"50"},"Referring to , remote controller  in accordance with the present embodiment includes a power source circuit , a remote controller control unit , and an interface unit .","Power source circuit  receives electric power supplied from a battery such as a secondary battery, and supplies voltages to various portions and units of the device. Though voltage is shown to be supplied only to control power supply circuit  in the present example, it is not limited, and necessary voltage is supplied to other portions as well.","Remote controller control unit  includes: control power supply circuit  adjusting the voltage from power source circuit  to be supplied to CPU ; CPU (Central Processing Unit)  for overall control of remote controller ; a liquid crystal driving circuit  for driving liquid crystal panel ; a signal transmitting unit ; a SW input unit ; a crystal oscillator ; and a memory .","CPU  is connected to these units and components, and instructs various operations necessary to control remote controller  as a whole.","Liquid crystal driving circuit  drives liquid crystal panel  displaying a desired screen image in accordance with an instruction from CPU .","Signal transmitting unit  outputs an instruction from CPU  to an infrared projecting unit  included in interface unit .","SW input unit  is connected to operation SW (switch)  and outputs an instruction in accordance with the operation of operation SW to CPU .","Crystal oscillator  generates oscillation signals of a prescribed period and outputs these signals to CPU . Receiving the oscillation signals (clock signals) input from crystal oscillator , CPU  executes various operations in synchronization with the clock signals. It is assumed that CPU  can accurately keep time in accordance with the oscillation signals output from crystal oscillator .","Crystal oscillator  is not absolutely necessary in remote controller . If it is not provided, CPU  may receive time input made by pressing \u201cTIME SET\u201d button  or \u201c+\/\u2212\u201d button  and may keep current time thereafter, based on the input time.","Memory  stores various programs and initial values for controlling remote controller , and it is also used as a working memory of CPU .","Interface unit  includes infrared projecting unit , operation SW , and liquid crystal panel .","Infrared projecting unit  converts a signal output from signal transmitting unit  to an infrared signal and projects to lighting device .","Operation SW  consists of the various buttons provided on remote controller  as described above. More specifically, it corresponds to the buttons including: \u201cFULL LIGHT\u201d button ; \u201cLIGHT OFF\u201d button ; \u201cUP\u201d button A and \u201cDOWN\u201d button B for increasing and decreasing dimming rate; \u201cLAMP COLOR\u201d button A and \u201cDAYLIGHT COLOR\u201d button B; \u201cLIGHT ENVIRONMENT CONTROL\u201d button ; \u201cECO-LIGHT\u201d button ; \u201cCUSTOM\u201d setting button ; \u201cBRIGHTER\u201d button ; \u201cREST\u201d button ; \u201cTIME SET\u201d button ; \u201cILLUMINANCE SENSOR\u201d button ; \u201cFAVORITE\u201d button ; \u201c+\/\u2212\u201d button  for increasing\/decreasing numerical values and the like; and \u201cTIMER\u201d button .","CPU  of remote controller  receives an input instruction of each of the buttons of operation SW  through SW input unit , and instructs signal transmission unit  to output a transmission signal in accordance with each button. In response to the instruction from CPU , signal transmission unit  outputs a transmission signal in accordance with each button as an infrared signal to lighting device  through infrared projecting unit . Infrared receiving unit  of lighting device  receives the infrared signal projected from infrared projecting unit  of remote controller . Then, infrared receiving unit  performs photo-electric conversion of the received infrared signal. Then, signal receiving unit  outputs the transmission signal instructed from remote controller , obtained by the photo-electric conversion, to CPU . As a result of this operation, CPU  executes the operation in accordance with the input instruction from remote controller .","Specifically, if the user presses \u201cUP\u201d button A or \u201cDOWN\u201d button B, CPU  adjusts the dimming rate of light emission from LED modules  and  in illuminating unit .","By way of example, every time \u201cDOWN\u201d button B is pressed from the full-light state (dimming rate 100%), the state of lighting is changed from \u201cFULL LIGHT\u201d\u2192\u201cHALF LIGHT\u201d\u2192\u201cDIM\u201d, and every time \u201cUP\u201d button A is pressed from this state (dimming rate 30%), the state changes from \u201cDIM\u201d\u2192\u201cHALF LIGHT\u201d\u2192\u201cFULL LIGHT.\u201d","Further, as described above, if the user presses \u201cLAMP COLOR\u201d button A or \u201cDAYLIGHT COLOR\u201d button B, CPU  adjusts color tone of light emission of LED modules  and  in illuminating unit . By way of example, every time \u201cLAMP COLOR\u201d button A is pressed from the \u201cdaylight color\u201d state of full-light in daylight color (dimming rate 100%), the color tone is changed from \u201cdaylight color\u201d\u2192\u201chalf daylight color\u201d\u2192\u201chalf incandescent lamp color\u201d\u2192\u201cincandescent lamp color\u201d and every time \u201cDAYLIGHT COLOR\u201d button B is pressed from this state, the color tone changes from \u201cincandescent lamp color\u201d\u2192\u201chalf incandescent lamp color\u201d\u2192\u201chalf daylight color\u201d\u2192\u201cdaylight color.\u201d","Though portable remote controller  has been described in the example above, it is not limiting, and a remote controller fixed on a wall may be used. Alternatively, the remote controller may be provided as a part of interface unit  of lighting device . In that case, in place of transmitting the signal of operation SW by infrared signal, the instruction signal from operation SW may be directly transmitted using a signal line. Further, signal transmission is not limited to infrared transmission, and wireless transmission, for example, is also possible.","Next, the light environment control mode in accordance with an embodiment of the preset invention will be described.","<Light Environment Control Mode>",{"@attributes":{"id":"p-0111","num":"0110"},"figref":"FIG. 7"},"Referring to , here, an example is shown in which the dimming rate of the daylight color and the incandescent lamp color is adjusted based on correlation with human biological rhythm of 24 hours.","Specifically, 24 hours is divided into 6 time periods of tA to tF, and the dimming rate of daylight color and incandescent lamp color for each time period is set.","Specifically, setting of the time periods are as follows: the time period tA is from 5:30 to 6:30; time period tB is 6:30 to 18:00; time period tC is 18:00 to 19:00; time period tD is 19:00 to 21:00; time period tE is 21:00 to 22:00; and time period tF is 23:00 to 5:30. Here, it is assumed that wake-up time of 6:30, dinner time of 19:00 and bed time of 23:00 are set in advance as default values. As will be described later, the wake up time of 6:30, dinner time of 19:00 and bed time of 23:00 may be changed in custom setting. This will be described later.",{"@attributes":{"id":"p-0115","num":"0114"},"figref":"FIG. 8","b":"30"},"Referring to , an early-morning operation is executed in an hour before wake-up time, that is, in time period tA. Specifically, as the brightness, the dimming rate is changed from night-time dimming rate of 30% to 100%. Further, the color tone is changed from incandescent lamp color to the daylight color. As will be described later, the night time dimming rate can also be changed.","From the wake up time until one hour before the dinner time, that is, in time period tB (6:30 to 18:00), a day-time operation is executed. Specifically, as the brightness, dimming rate of 100% is maintained. Further, as the color tone, daylight color is maintained.","In one hour before the dinner time, that is, time period tC (18:00 to 19:00), a sunset-time operation is executed. Specifically, as the brightness, dimming rate of 100% is maintained. The color tone is changed from the daylight color to the incandescent lamp color.","From the dinner time until two hours before the bed time, that is, in time period tD (19:00 to 21:00), a dinner-time operation is executed. Specifically, as the brightness, dimming rate of 100% is maintained. Further, as the color tone, incandescent lamp color is maintained.","In two hours before the bed time, that is, in time period tE (21:00 to 23:00), bedtime operation is executed. Specifically, as the brightness, dimming rate is changed from 100% to night time dimming rate of 30%. Further, as the color tone, incandescent lamp color is maintained.","From the bed time to one hour before wake-up time, that is, in time period tF (23:00 to 5:30), a night time operation is executed. Specifically, as the brightness, the night time dimming rate of 30% is maintained. Further, as the color tone, incandescent lamp color is maintained.","The operation table described above is only an example, and each time of day and each time period set in the operation table may be changed to different time of day and different time period. Further, a different operation may be introduced.","Again referring to , before wake-up time of period tA, it is possible to gradually adjust the dimming rate to increase brightness and gradually change the color tone from the incandescent lamp color to the daylight color, to facilitate transition from deep to light sleep to fit the wake-up time, and at the wake-up time, to attain the dimming rate of 100% to promote wake-up with refreshed feeling in daylight color close to the color of natural light in day time.","In daytime, that is, time period tB, the daylight color close to the color of natural light is kept, so that comfortable human activity is promoted.","Before the dinner time, that is, in time period tC, the color tone is gradually changed from the daylight color to the incandescent lamp color close to the color of natural color in the evening to attain relaxing effect, and the environment is naturally changed to warm, calming atmosphere.","After dinner, that is, in time period tD, the incandescent lamp color is maintained, so that peaceful, comfortable feeling can be realized in warm, calming atmosphere in the time period of rest.","Before going to bed, that is, in time period tE, the dimming rate is gradually adjusted to be darker, so that human wakefulness is gradually weakened, promoting melatonin secretion that is related to human biological rhythm. This helps people to smoothly fall asleep.","During one's sleep, that is, in time period tF, the dimming rate is kept low to help maintain deep sleep, while the dimming rate allows the user to recognize any object, so that the user may move at night time.","Therefore, by the light environment control mode of lighting device  described above, the light environment that automatically adjusts to the color tone and brightness in accordance with human biological rhythm can be realized. Particularly, in the light environment control mode in accordance with the present embodiment, in each period in which the dimming rate or color tone is changed, the change takes place in a natural manner, not causing any feeling of strangeness or discomfort.","By way of example, in time period tA, adjustment is gradually done to change the incandescent lamp color of dimming rate 30% to day light color of dimming rate 100%.",{"@attributes":{"id":"p-0131","num":"0130"},"figref":"FIG. 9"},"Referring to , here, changes in the dimming rate of daylight color, the dimming rate of incandescent lamp color, and the overall dimming rate are shown.","In time period tA, in the initial state, the dimming rate of incandescent lamp color is 30% and the dimming rate of daylight color is 0% and hence, the overall dimming rate is 30%.","Equations for calculating the dimming rates of the graph above will be described.","If the overall dimming rate R is linearly changed from dimming rate A in the initial state to the dimming rate B in a time period T, the dimming rate can be represented by Equation (1) below. Here, the variable t represents time.",{"@attributes":{"id":"p-0136","num":"0135"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"R","mo":"=","mrow":{"mi":"A","mo":"+","mrow":{"mfrac":{"mrow":{"mo":["(",")"],"mrow":{"mi":["B","A"],"mo":"-"}},"mi":"T"},"mo":"\u2062","mi":"t"}}}},{"mrow":{"mo":["(",")"],"mn":"1"}}]}}}}},"Next, general equations of dimming rates P and Q of daylight color and of incandescent lamp color are given as Equations (2) and (3).",{"@attributes":{"id":"p-0138","num":"0137"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"P","mo":"=","mrow":{"mi":"R","mo":"\u2062","mfrac":{"mi":["t","T"]}}}},{"mrow":{"mo":["(",")"],"mn":"2"}}]},{"mtd":[{"mrow":{"mi":"Q","mo":"=","mrow":{"mi":"R","mo":"-","mrow":{"mi":"R","mo":"\u2062","mfrac":{"mi":["t","T"]}}}}},{"mrow":{"mo":["(",")"],"mn":"3"}}]}]}}}},"By inputting Equation (1) to Equations (2) and (3), respectively, the dimming rates P and Q of daylight color and of incandescent lamp color can be represented by Equations (4) and (5) below.",{"@attributes":{"id":"p-0140","num":"0139"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"P","mo":"=","mrow":{"mrow":[{"mfrac":{"mi":["A","T"]},"mo":"\u2062","mi":"t"},{"mfrac":{"mrow":{"mo":["(",")"],"mrow":{"mi":["B","A"],"mo":"-"}},"msup":{"mi":"T","mn":"2"}},"mo":"\u2062","msup":{"mi":"t","mn":"2"}}],"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"4"}}]},{"mtd":[{"mrow":{"mi":"Q","mo":"=","mrow":{"mi":"A","mo":["+","-"],"mrow":[{"mfrac":{"mrow":{"mi":"B","mo":"-","mrow":{"mn":"2","mo":"\u2062","mi":"A"}},"mi":"T"},"mo":"\u2062","mi":"t"},{"mfrac":{"mrow":{"mi":["B","A"],"mo":"-"},"msup":{"mi":"T","mn":"2"}},"mo":"\u2062","msup":{"mi":"t","mn":"2"}}]}}},{"mrow":{"mo":["(",")"],"mn":"5"}}]}]}}}},"When time T=60, dimming rate A=30 and dimming rate B=100 are input to Equations (4) and (5), the dimming rates P and Q of daylight color and incandescent lamp color can be represented by Equations (6) and (7).",{"@attributes":{"id":"p-0142","num":"0141"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"P","mo":"=","mrow":{"mrow":[{"mfrac":{"mn":["30","60"]},"mo":"\u2062","mi":"t"},{"mfrac":{"mn":"70","mrow":{"mn":["60","60"],"mo":"\u00d7"}},"mo":"\u2062","msup":{"mi":"t","mn":"2"}}],"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"6"}}]},{"mtd":[{"mrow":{"mi":"Q","mo":"=","mrow":{"mn":"30","mo":["+","-"],"mrow":[{"mfrac":{"mn":["40","60"]},"mo":"\u2062","mi":"t"},{"mfrac":{"mn":"70","mrow":{"mn":["60","60"],"mo":"\u00d7"}},"mo":"\u2062","msup":{"mi":"t","mn":"2"}}]}}},{"mrow":{"mo":["(",")"],"mn":"7"}}]}]}}}},"Based on Equations (6) and (7), the dimming rates P and Q of daylight color and incandescent lamp color can be set.","By way of example, 12 minutes after the initial state, that is, when t=12, the daylight color P and incandescent lamp color R can be calculated in the following manner.",{"@attributes":{"id":"p-0145","num":"0144"},"maths":[{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"P","mo":"=","mrow":{"mrow":{"mrow":[{"mfrac":{"mn":["30","60"]},"mo":"\u00d7","mn":"12"},{"mfrac":{"mn":"70","mrow":{"mn":["60","60"],"mo":"\u00d7"}},"mo":["\u00d7","\u00d7"],"mn":["12","12"]}],"mo":"+"},"mo":"=","mn":"8.8"}}}},{"@attributes":{"id":"MATH-US-00005-2","num":"00005.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"Q","mo":"=","mrow":{"mrow":{"mn":"30","mo":["+","-"],"mrow":[{"mfrac":{"mn":["40","60"]},"mo":"\u00d7","mn":"12"},{"mfrac":{"mn":"70","mrow":{"mn":["60","60"],"mo":"\u00d7"}},"mo":["\u00d7","\u00d7"],"mn":["12","12"]}]},"mo":"=","mn":"35.2"}}}}]},"Based on these equations, it is possible to linearly change the overall dimming rate and to change from the incandescent lamp color to the daylight color in a natural manner. Specifically, when the color tone is changed from the incandescent lamp color to the daylight color, the color is changed to an intermediate color having incandescent lamp color and daylight color mixed, and then eventually to the daylight color. Therefore, the dimming rate can be changed without causing any feeling of strangeness or discomfort, and a comfortable and natural light environment can be realized.","Further in the light environment control mode in accordance with the present embodiment, in time period tC, gradual adjustment from daylight color of 100% dimming rate to incandescent lamp color of 100% dimming rate takes place.",{"@attributes":{"id":"p-0148","num":"0147"},"figref":"FIG. 10"},"Referring to , here, changes in the dimming rate of daylight color, the dimming rate of incandescent lamp color and the overall dimming rate are shown.","In time period tC, in the initial state, the dimming rate of incandescent lamp color is 100%, while the dimming rate of daylight color is 0%. Therefore, it shows a setting that the overall dimming rate is 100%.","By the calculation in a similar manner to that of the above-mentioned, the dimming rates of daylight color and incandescent lamp color can be represented by Equations (8) and (9).",{"@attributes":{"id":"p-0152","num":"0151"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"P","mo":"=","mrow":{"mn":"100","mo":"-","mrow":{"mfrac":{"mn":["100","60"]},"mo":"\u2062","mi":"t"}}}},{"mrow":{"mo":["(",")"],"mn":"8"}}]},{"mtd":[{"mrow":{"mi":"Q","mo":"=","mrow":{"mfrac":{"mn":["100","60"]},"mo":"\u2062","mi":"t"}}},{"mrow":{"mo":["(",")"],"mn":"9"}}]}]}}}},"It becomes possible to set the dimming rates P and Q of daylight color and of incandescent lamp color based on Equations (8) and (9).","Based on these equations, it is possible to change from the daylight color to the incandescent lamp color in a natural manner, while maintaining the overall dimming rate. Specifically, when the color tone is changed from the daylight lamp color to the incandescent lamp color, the color is changed to an intermediate color having incandescent lamp color and daylight color mixed, and then eventually to the incandescent lamp color. Therefore, the color tone can be changed without causing any feeling of strangeness or discomfort, and a comfortable and natural light environment can be realized.","Further, in the light environment mode in accordance with the present embodiment, in time period tE, the incandescent lamp color of 100% dimming rate is gradually adjusted to incandescent lamp color of 30% dimming rate.",{"@attributes":{"id":"p-0156","num":"0155"},"figref":"FIG. 11"},"Referring to , in the time period tE, in the initial state, the dimming rate of incandescent lamp color is 100%, and the overall dimming rate is set to 100%.","By the calculation in a similar manner to that of the above-mentioned, the dimming rate of incandescent lamp color can be represented by Equation (10).",{"@attributes":{"id":"p-0159","num":"0158"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"Q","mo":"=","mrow":{"mn":"100","mo":"-","mrow":{"mfrac":{"mn":["100","60"]},"mo":"\u2062","mi":"t"}}}},{"mrow":{"mo":["(",")"],"mn":"10"}}]}}}}},"Based on this equation, it is possible to set the dimming rate Q of incandescent lamp color.","By gradually changing the dimming rate Q of incandescent lamp color based on this equation, a comfortable and natural light environment can be realized without causing any feeling of strangeness or discomfort.","The setting of dimming rate of incandescent lamp color is only an example, and it may be adjusted with the rate of change as described in the following.",{"@attributes":{"id":"p-0163","num":"0162"},"figref":"FIG. 12"},"Referring to (A) of , here, a graph of double logarithmic scale is shown, in which both ordinate and abscissa represent logs. The unit of ordinate is 0.1%. The unit of abscissa is a minute.","The double-logarithmic graph is set such that the dimming rate and the time have a linear relation. Specifically, the double-logarithmic graph shows an example in which the dimming rate of 100% is adjusted to 30% in a period of 60 minutes.","Referring to (B) of , here, a graph representing the relation of double-logarithmic graph of (A) in a normal manner is shown.","By adjusting the dimming rate Q of incandescent lamp color by such a method, it becomes possible to change the dimming rate without causing any feeling of strangeness or discomfort, and a comfortable and natural light environment can be realized.",{"@attributes":{"id":"p-0168","num":"0167"},"figref":"FIG. 13","b":"1"},"This main flow is started when the power switch is turned on, and it is executed by CPU  reading the program stored in memory .","When the power switch is turned on and the flow starts, referring to , first, CPU  instructs PWM control circuit  to execute light-on control of illuminating unit  (step S). Thus, the room is illuminated by the light emitted from illuminating unit . At step S, if the process of any of the operation modes described in the following has been done, CPU  instructs light-on control with the dimming rate and color tone set in the corresponding mode. Otherwise, or if the process of any of the operation modes has not been done and it is immediately after power on or after the end of light environment control mode as will be described later, a usual light-on control is instructed. Specifically, an instruction is given to realize a light-on control set in advance for emitting daylight color light with 100% dimming rate, using LED module .","Next, CPU  determines whether there is an input instruction (step S). If it is determined at step S that there is an input instruction (YES at step S), CPU  determines whether or not a lighting adjustment instruction (step S) has been input. Specifically, whether or not there is an input instruction of \u201cUP\u201d button A or \u201cDOWN\u201d button B for adjusting the dimming rate or an input instruction of \u201cLAMP COLOR\u201d button A or \u201cDAYLIGHT COLOR\u201d button B for adjusting the color tone, provided on remote controller , is determined.","If it is determined that a lighting adjustment instruction has been input (YES at step S), CPU  makes a transition to a lighting adjustment mode (step S). The process in the lighting adjustment mode will be described later.","If it is determined that no lighting adjustment instruction has been input (NO at step S), next, CPU  determines whether or not a light environment control instruction has been input (step S). Specifically, CPU  determines whether or not there is an input of \u201cLIGHT ENVIRONMENT CONTROL\u201d button  provided on remote controller .","If it is determined that a light environment control instruction has been input (YES at step S), CPU  makes a transition to a light environment control mode (step S). The process in the light environment control mode will be described later.","On the other hand, if it is determined that no light environment control instruction has been input (NO at step S), CPU  next determines whether a custom setting instruction has been input (step S).","Specifically, CPU  determines whether or not there is an input of \u201cCUSTOM\u201d setting button  provided on remote controller .","If it is determined that a custom setting instruction has been input (YES at step S), CPU  makes a transition to a custom setting mode (step S). The process in the custom setting mode will be described later.","On the other hand, if it is determined that no custom setting instruction has been input (NO at step S), CPU  next determines whether or not an eco-light instruction has been input (step S). Specifically, CPU  determines whether or not there is an input of \u201cECO-LIGHT\u201d button  provided on remote controller .","If it is determined that an eco-light instruction has been input (YES at step S), CPU  makes a transition to an eco-light mode (step S). The process in the eco-light mode will be described later.","If it is determined at step S that no eco-light instruction has been input (NO at step S), CPU  executes other processes (step S). Then the flow returns to step S.","<Lighting Adjustment Mode>",{"@attributes":{"id":"p-0182","num":"0181"},"figref":"FIG. 14"},"The flow is executed by CPU  reading the program stored in memory .","Referring to , first, CPU  determines whether the instruction corresponds to an input of \u201cUP\u201d button A or \u201cDOWN\u201d button B (step S). If it is determined to be neither the input of \u201cUP\u201d button A nor \u201cDOWN\u201d button B (NO at step S), the flow proceeds to step S.","If the instruction is determined to be an input of \u201cUP\u201d button A or \u201cDOWN\u201d button B (YES at step S), CPU  determines whether the pressed button is \u201cUP\u201d button A or \u201cDOWN\u201d button B (step S).","If the pressed button is \u201cUP\u201d button A (YES at step S), CPU  increases the current dimming rate by a predefined rate (step S). If the pressed button is \u201cDOWN\u201d button B (NO at step S), CPU  decreases the current dimming rate by a predefined rate (step S). Then, the process ends (return). Namely, the flow returns to step S.","Specifically, if the user presses \u201cDOWN\u201d button B in a state of full lighting (dimming rate 100%), the light is set to half-lighting state (dimming rate 50%). If the user presses \u201cDOWN\u201d button B in the half-lighting state (dimming rate 50%), the light is set to a dim-lighting state (dimming rate 30%). If the user presses \u201cUP\u201d button A in the dim-lighting state (dimming rate 30%), the light is set to half-lighting state (dimming rate 50%). If the user presses \u201cUP\u201d button A in the half-lighting state (dimming rate 50%), the light is set to the state of full lighting (dimming rate 100%).","If it is determined that the instruction is neither the input of \u201cUP\u201d button A nor \u201cDOWN\u201d button B (NO at step S), CPU  determines whether the instruction is an input of \u201cLAMP COLOR\u201d button A or \u201cDAYLIGHT COLOR\u201d button B (step S).","If it is determined that the instruction is the input of \u201cLAMP COLOR\u201d button A or \u201cDAYLIGHT COLOR\u201d button B (YES at step S), CPU  next determines whether the pressed button is \u201cLAMP COLOR\u201d button A or \u201cDAYLIGHT COLOR\u201d button B (step S). If the pressed button is \u201cLAMP COLOR\u201d button A (YES at step S), CPU increases the dimming rate of the incandescent lamp color side of the current color tone by a predefined rate and decreases the dimming rate of the daylight color side by the predefined rate, while maintaining the dimming rate (step S). If the pressed button is \u201cDAYLIGHT COLOR\u201d button B (NO at step S), CPU  decreases the dimming rate of the incandescent lamp color side of the current color tone by a predefined rate and increases the dimming rate of the daylight color side by the predefined rate, while maintaining the dimming rate (step S). Then, the process ends (return). Namely, the flow returns to step S.","Specifically, if the user presses \u201cLAMP COLOR\u201d button A in the \u201cdaylight color\u201d state of full-light in daylight color (dimming rate 100%), the color tone is set to \u201chalf daylight color.\u201d If the user presses \u201cLAMP COLOR\u201d button A in the \u201chalf daylight color\u201d state, the color tone is set to \u201chalf incandescent lamp color.\u201d If the user presses \u201cLAMP COLOR\u201d button A in the \u201chalf incandescent lamp color,\u201d the color tone is set to \u201cincandescent lamp color.\u201d If the user presses \u201cDAYLIGHT COLOR\u201d button B in the state of \u201cincandescent lamp color,\u201d the color tone is set to \u201chalf incandescent lamp color.\u201d If the user presses \u201cDAYLIGHT COLOR\u201d button B in the \u201chalf incandescent lamp color\u201d state, the color tone is set to \u201chalf daylight color.\u201d If the user presses \u201cDAYLIGHT COLOR\u201d button B in the \u201chalf daylight color\u201d state, the color tone is set to the \u201cdaylight color\u201d state.","<Light Environment Control Mode>",{"@attributes":{"id":"p-0192","num":"0191"},"figref":"FIG. 15"},"The flow is executed by CPU  reading the program stored in memory .","Referring to , CPU  determines whether or not there is a custom setting (step S).","If it is determined at step S that there is the custom setting, CPU  obtains the custom setting information (step S). The custom setting information will be described later.","If it is determined at step S that there is no custom setting, CPU  obtains a default value (step S).","Thereafter, CPU  sets a light environment operation period based on the custom setting information or the default value (step S). Specifically, it sets the time periods tA to tF, in accordance with the wake-up time, dinner time and bed time as described above.","Then, CPU  confirms the current time (step S).","Next, CPU  determines to which of time periods tA to tF the current time belongs, based on the current time (step S).","In accordance with the determination of CPU  at step S as to which of time periods tA to tF the current time belongs, if it is in the time period of tB, tD or tF, the control proceeds to step S.","On the other hand, in accordance with the determination of CPU  at step S as to which of time periods tA to tF the current time belongs, if it is in the time period of tA, tC or tE, the control proceeds to step S.","If the current time is determined to be in the time period of tB, tD or tF, CPU  sets the dimming rate in accordance with the operation of the corresponding time period (step S).","Then, CPU  determines whether or not the remaining time of corresponding time period is shorter than 10 minutes (step S).","If it is determined at step S that the remaining time is shorter than 10 minutes, the dimming rate in accordance with the operation of the corresponding time period is set for 10 minutes (step S).","Then, whether or not 10 minutes have passed is determined (step S). After the lapse of 10 minutes, the flow proceeds to the next step.","Specifically, if the current time of starting the light environment control mode is shortly before the end of the operation of corresponding time period of light environment control operation, for example, shorter than 10 minutes, in the present embodiment, the operation of the corresponding time period of light environment control is continued for 10 minutes. By such an approach, abrupt start of the operation of the period following the corresponding period of light environment control operation is avoided, and hence, the user does not feel any strangeness or discomfort. Though the transitional time period of 10 minutes is used here, it is not limiting, and the length may be adjusted in accordance with the user's preference.","If it is determined at step S that the remaining time of corresponding period is not shorter than 10 minutes (NO at step S), CPU  determines whether or not the period has expired (step S).","If it is determined at step S that the period has expired, the flow proceeds to the next step.","Again, at step S, if it is determined that the current time is in the time period of tA, tC or tE, CPU  determines whether or not it is within 10 minutes from the start of the time period tA, tC or tE (step S).","If it is determined at step S that it is within 10 minutes (YES at step S), the dimming rate in accordance with the previous period is set for 10 minutes (step S).","Then, whether or not 10 minutes have passed is determined (step S).","If it is determined at step S that 10 minutes have passed, the dimming rate in accordance with the operation of the corresponding period is set (step S).","Then, whether or not the period has expired is determined (step S). If it is determined that the period has expired, the flow proceeds to the next step S.","Specifically, if the current time when the light environment control mode is started corresponds to the time period in which the dimming rate and\/or color tone is changed among the light environment control operation periods (if it is in the period tA, tC or tE), the operation is executed without causing user's feeling of strangeness or discomfort if it is within 10 minutes from the start of the period.","Specifically, the dimming rate is set in accordance with the operation of the preceding time period for 10 minutes, and after 10 minutes, the operation of the corresponding period of changing the dimming rate and\/or color tone is started. By such an approach, abrupt start of the operation of the corresponding period of light environment control operation for changing the dimming rate and\/or color tone is avoided, and hence, the user does not feel any strangeness or discomfort. Though the transitional time period of 10 minutes is used here, it is not limiting, and the length may be adjusted in accordance with the user's preference.","On the other hand, if CPU  determines at step S that it is not within 10 minutes, the control proceeds to the next step.","Specifically, if the current time when the light environment control mode is started corresponds to the time period in which the dimming rate and\/or color tone is changed among the light environment control operation periods (if it is in the period tA, tC or tE) and 10 minutes or longer has passed from the start of the period, the dimming rate is set in accordance with the operation of the next period. By such an approach, abrupt start of the operation of the corresponding period for changing the dimming rate and\/or color tone is avoided, and hence, the user does not feel any strangeness or discomfort.","Next, at step S, the dimming rate is set in accordance with the operation the next period (step S).","Then, whether or not the period has expired is determined (step S). If it is determined that the period has expired (YES at step S), the flow returns to step S, and the dimming rate is set in accordance with the operation of yet another time period.","By repeating such a process, by way of example, the operations of periods tA\u2192tB\u2192tC\u2192tD\u2192tE\u2192tF\u2192tA are repeated, and light adjustment in accordance with the 24-hour life rhythm can be realized.","When the light environment control mode is to be terminated, the user may press the LIGHT ENVIRONMENT CONTROL button on remote controller  again. Then, the light environment control mode is stopped by an interruption process, so that the control flow returns to step S of  to resume ordinary lighting.","Further, if the user operates the power switch and turns off the power, the light environment control mode ends, as the power supply is stopped. It is assumed that when the user turns on the power switch the next time, the control flow returns to step S of  to resume ordinary lighting.","<Custom Setting>","Next, custom setting will be described.","The custom setting refers to a mode for setting the wake-up time, dinner time and bed time of the light environment control mode described above in accordance with individual life rhythm of the user.","When the user presses \u201cCUSTOM\u201d setting button  on remote controller , the operation enters the custom setting mode.",{"@attributes":{"id":"p-0227","num":"0226"},"figref":"FIG. 16"},"Referring to , in the example here, it is possible to freely set the wake-up time, dinner time and bed time between 0:00 to 23:59.","As to the wake-up time, setting within one hour and 59 minutes from the bed time is not accepted.","Further, setting of dinner time within 59 minutes from the wake-up time is not accepted. It is assumed that if the setting is unacceptable, the time is automatically set to an initial, preset time.","Next, the flow of custom setting will be described.","If the user presses \u201cCUSTOM\u201d setting button  of remote controller , a setting screen image is displayed on the side of remote controller . Specifically, as CPU  reads the program stored in memory , the setting screen image as will be described in the following is displayed on liquid crystal panel .",{"@attributes":{"id":"p-0233","num":"0232"},"figref":"FIG. 17","b":["52","50"]},"Referring to (A) of , if \u201cCUSTOM\u201d setting button  is pressed, first, a screen image allowing setting of wake-up time is displayed on liquid crystal panel . The user can set the wake-up time to an arbitrary value by pressing \u201c+\/\u2212\u201d button . Here, by way of example, a message \u201cPlease set wake-up time\u201d is displayed, and the wake-up time changed from the default setting of \u201c6:30\u201d to \u201c7:00\u201d by the operation of \u201c+\/\u2212\u201d button  is displayed. Further, a guide message of \u201cIf the setting is OK, please press \u201cCUSTOM\u201d setting button\u201d is also displayed. When the user presses the \u201cCUSTOM\u201d setting button, remote controller  outputs the wake-up time information displayed on liquid crystal panel  (here, 7:00) to lighting device . Then, the operation proceeds to setting of the dinner time.","Referring to (B) of , a screen image allowing setting of dinner time is displayed on liquid crystal panel . The user can set the dinner time to an arbitrary value by pressing \u201c+\/\u2212\u201d button . Here, by way of example, a message \u201cPlease set dinner time\u201d is displayed, and the dinner time changed from the default setting of \u201c19:00\u201d to \u201c19:30\u201d by the operation of \u201c+\/\u2212\u201d button  is displayed. Further, a guide message of \u201cIf the setting is OK, please press \u201cCUSTOM\u201d setting button\u201d is also displayed. When the user presses the \u201cCUSTOM\u201d setting button, remote controller  outputs the dinner time information displayed on liquid crystal panel  (here, 19:30) to lighting device . Then, the operation proceeds to setting of the bed time.","Referring to (C) of , a screen image allowing setting of bed time is displayed on liquid crystal panel . The user can set the bed time to an arbitrary value by pressing \u201c+\/\u2212\u201d button . Here, by way of example, a message \u201cPlease set bed time\u201d is displayed, and the bed time changed from the default setting of \u201c23:00\u201d to \u201c23:30\u201d by the operation of \u201c+\/\u2212\u201d button  is displayed. Further, a guide message of \u201cIf the setting is OK, please press \u201cCUSTOM\u201d setting button\u201d is also displayed. When the user presses the \u201cCUSTOM\u201d setting button, remote controller  outputs the bed time information displayed on liquid crystal panel  (here, 23:30) to lighting device . Then, the operation proceeds to setting of the dimming rate. In the present example, it is possible to set night time dimming rate, in addition to the wake-up time, dinner time and bed time, by the custom setting.","Referring to (D) of , a screen image allowing setting of night time dimming rate is displayed on liquid crystal panel . The user can set the night time dimming rate to an arbitrary value by pressing \u201c+\/\u2212\u201d button . At the time of this setting, CPU  of lighting device  controls PWM control circuit  such that the dimming rate of light emitted from illuminating unit  becomes the dimming rate displayed on liquid crystal panel . Specifically, first, the dimming rate of lighting device  is set to 30%. Then, in accordance with the input of \u201c+\/\u2212\u201d button  from remote controller , an instruction to increase\/decrease the dimming rate is output to lighting device . In accordance with the instruction to increase\/decrease the dimming rate, CPU  of lighting device  causes PWM control circuit  to adjust the dimming rate of light emitted from illuminating unit .","Here, by way of example, a message \u201cPlease set night time dimming rate\u201d is displayed, and the value \u201c30%\u201d set as the default value of night time dimming rate by the operation of \u201c+\/\u2212\u201d button  is displayed on liquid crystal panel . Further, a guide message of \u201cIf the setting is OK, please press \u201cCUSTOM\u201d setting button\u201d is also displayed. When the user presses the \u201cCUSTOM\u201d setting button, remote controller  outputs the night time dimming rate information that is eventually displayed on liquid crystal panel  (here, 30%) to lighting device .",{"@attributes":{"id":"p-0239","num":"0238"},"figref":"FIG. 18"},"It is assumed that the flow is executed by CPU  reading the program stored in memory .","Referring to , when the operation enters the custom setting mode, CPU  determines whether or not the wake-up time information has been input (step S). Specifically, if the wake-up time information from remote controller  described with reference to  has been received or not is determined.","If it is determined at step S that the wake-up time information has been input (YES at step S), CPU  sets the wake-up time in accordance with the input contents (step S). Then, the flow returns to step S.","If it is determined at step S that the wake-up time information has not been input (NO at step S), CPU  next determines whether or not the dinner time information has been input (step S). Specifically, if the dinner time information from remote controller  described with reference to  has been received or not is determined.","If it is determined at step S that the dinner time information has been input (YES at step S), CPU  sets the dinner time in accordance with the input contents (step S). Then, the flow returns to step S.","If it is determined at step S that the dinner time information has not been input (NO at step S), CPU  next determines whether or not the bed time information has been input (step S). Specifically, if the bed time information from remote controller  described with reference to  has been received or not is determined.","If it is determined at step S that the bed time information has been input (YES at step S), CPU  sets the bed time in accordance with the input contents (step S).","Thereafter, CPU  sets the dimming rate to 30% (step S). Specifically, CPU  controls PWM control circuit  such that the dimming rate of emission from LED module  attains to 30%. By this operation, the user can recognize the brightness of night time dimming rate of 30%.","Then, the flow returns to step S.","Next, if it is determined at step S that the bed time information has not been input (NO at step S), CPU  determines whether or not an instruction of \u201c+\/\u2212\u201d button has been input (step S).","If it is determined at step S that an instruction of \u201c+\/\u2212\u201d button has been input (YES at step S), the dimming rate is adjusted in accordance with the instruction of \u201c+\/\u2212\u201d button (step S).","Then, the flow returns to step S. By this operation, the user can recognize the brightness of night time dimming rate adjusted in accordance with the instruction of \u201c+\/\u2212\u201d button.","If the user operates the \u201c+\/\u2212\u201d button as he\/she likes, the night time dimming rate can be set to a desired brightness.","If it is determined at step S that an instruction of \u201c+\/\u2212\u201d button has not been input (NO at step S), whether the night time dimming rate information has been input is determined (step S). Specifically, if the night time dimming rate information from remote controller  described with reference to  has been received or not is determined.","If it is determined at step S that the night time dimming rate information has been input (YES at step S), the night time dimming rate is set in accordance with the input contents (step S). Then, the process ends (return).","On the other hand, if it is determined at step S that the night time dimming rate information has not been input (NO at step S), the flow returns to step S.","By such operations, it becomes possible to set the wake-up time information, dinner time information, bed time information and night time dimming rate information as the custom information in the light environment control mode. The custom information is stored in memory . As the custom information is stored in memory , the determination at step S of  becomes positive. Specifically, it is determined that the custom information is present.","In the light environment control mode, at step S of , the light environment control operation time periods are set based on the custom-set wake-up time, dinner time, and the bed time as the custom information stored in memory , and the light environment control mode in accordance with the custom setting becomes possible. Further, the night time dimming rate can be set in accordance with the night time dimming rate information.","Therefore, it becomes possible to execute light adjustment and color adjustment in accordance with individual life rhythm and to realize comfortable light environment.","Even when the light environment control mode is being executed as described above, when the user presses \u201cCUSTOM\u201d setting button  of remote controller , the operation enters the custom setting mode by interruption. When the custom setting mode is terminated, the process of light environment control mode of  is again executed. By such a process, the light environment control mode is executed based on the newly set custom information, and comfortable light environment can be realized.","Though three time points and the night time dimming rate are set in the custom setting mode in the example above, these are not limiting, and it may be possible to allow setting of the time periods and operations shown in  in accordance with the user's preference.","<Eco-Light Mode>","Next, the eco-light mode will be described.","In the eco-light mode, in a prescribed time period from the start of light-on, brightness is reduced by a constant ratio from the brightness at the time of light-on (emission output from illuminating unit ). Specifically, the light is emitted at the set brightness at the start of lighting. Here, the \u201cstart of lighting\u201d includes lighting with the brightness changed by a user operation.","Assume that as the prescribed time period from the start of lighting or from the time of change in dimming rate or color tone, by way of example, 10 minutes is set, and as the constant ratio, 20% of the initial dimming rate X as the brightness at the time point is set. In this case, after 10 minutes from the start of lighting, the brightness is reduced until the dimming rate attains to 80% of the initial dimming rate X.",{"@attributes":{"id":"p-0265","num":"0264"},"figref":"FIG. 19"},"Referring to (A) of , here, a graph of double logarithmic scale is shown, in which both ordinate and abscissa represent logs. The unit of ordinate is 0.1%. The unit of abscissa is a second.","The double-logarithmic graph is set such that the dimming rate and the time have a linear relation. Specifically, the double-logarithmic graph shows an example in which the dimming rate of 100% is adjusted to 80% in a period of 10 minutes (600 seconds).","Referring to (B) of , here, a graph representing the relation of double-logarithmic graph of (A) in a normal manner is shown.","By dimming through such a method, it becomes possible to reduce the brightness without causing any feeling of strangeness or discomfort, and a comfortable and natural light environment can be realized, while energy can be saved.",{"@attributes":{"id":"p-0270","num":"0269"},"figref":"FIG. 20"},"The flow is executed by CPU  reading the program stored in memory .","CPU  executes the process shown in  by an interruption process of a prescribed interval (for example, with the interval of 1 second).","Referring to , first, CPU  determines whether or not light emission is to be started (step S). If it is determined not to be a light-on instruction (NO at step S), the flow proceeds to step S.","On the other hand, if it is determined that light emission is to be started (YES at step S), CPU  sets the dimming rate to 100% (step S). Specifically, CPU  controls PWM control circuit  such that dimming rate of emission from LED module  and\/or  attains to 100%. By this control, it is possible for the user to recognize the brightness corresponding to the dimming rate of 100%, when the light is turned on.","Next, CPU  sets a dimming timer for keeping the time of dimming to a prescribed time period (in this example, 600 seconds), determines the target dimming rate of brightness reduction (in this example, 80%), and ends the process (return). Specifically, the flow returns to step S.","On the other hand, if it is determined that light emission is to not be started (NO at step S), CPU determines whether or not the dimming timer is 0 (step S). If it is determined that dimming timer=0 (NO at step S), the process ends (return).","If it is determined that dimming timer\u22600 (YES at step S), CPU  executes the dimming process (step S).",{"@attributes":{"id":"p-0278","num":"0277"},"figref":"FIG. 21","b":"168"},"Referring to , when the dimming process starts, CPU  inputs the dimming timer at that time point as a variable in the equation representing the relation between the dimming rate and time shown in , and thereby calculates the value to be reduced (dimming rate) at that time point as a DOWN value (step S).","Then, CPU  sets a value obtained by subtracting the DOWN value from the current output value (dimming rate) as the dimming rate (step S). Specifically, CPU  controls PWM control circuit  such that dimming rate of emission from LED module  and\/or  attains to the calculated value.","Thereafter, CPU  decrements the dimming timer by 1 (step S) and ends the dimming process (return).","Though the example above represents an operation from the start of lighting, similar operation is done when the dimming rate or color tone is changed.","By such an operation, in the eco-light mode, the brightness is gradually reduced as shown in  to a brightness of a prescribed ratio of the brightness at the start of lighting or from the brightness at the time of change of the dimming rate or color tone, within a prescribed time period from the start of lighting. The dimming rate is changed linearly with respect to time in the graph of double logarithmic scale in which both ordinate and abscissa represent logs as shown in . The dimming rate may be changed linearly with respect to time. Thus, it becomes possible to change the dimming rate without causing any feeling of strangeness or discomfort, and a comfortable and natural light environment can be realized, while energy can be saved.","In the eco-light mode, when the user presses \u201cECO-LIGHT\u201d button , a light-on control instruction is output from remote controller . Receiving the input of light-on control instruction from remote controller , CPU  of lighting device  instructs PWM control circuit  to start light-on control of illuminating unit . Here, it is assumed that every time the \u201cECO-LIGHT\u201d button  is pressed, that is, every time the light-on control instruction is input from remote control , the operation is repeatedly switched to \u201ceco-light mode\u201d\u2192\u201cnormal mode\u201d\u2192\u201ceco-light mode\u201d . . . . Specifically, when the light-on control instruction is input from remote controller  in the eco-light mode, CPU  of lighting device  cancels the eco-light mode. Here, CPU  controls PWM control circuit  such that the brightness at the start of lighting is attained.","It is noted that the eco-light mode can be combined with the light environment control mode. Here, in the light-on control in each of the six time periods tA to tF of the light environment control mode, CPU  reduces the brightness to a prescribed ratio of the brightness at the start time, within a prescribed time period from the start of the corresponding period. Further, the light source of the present invention is not limited to an LED, and it may be a fluorescent lamp, EL (Electro-Luminescence) or the like.","<Other Processes>","As other processes, various functions can be executed in accordance with input instructions from remote controller .","By way of example, when the user presses \u201cBRIGHTER\u201d button , the dimming rate of daylight color can be set to be 100% or higher.","Specifically, if an instruction of \u201cBRIGHTER\u201d button  provided on remote controller  is input, CPU  starts a brighter mode and instructs PWM control circuit  such that PWM pulse S is adjusted to have dimming rate of LED module  equal to or higher than 100%. As will be described later, the current supplied to LED  when the dimming rate is set to 100% is set with some margin, so as not to exceed rated current of LED module . Therefore, by supplying a current close to the rated current of LED module  by reducing the margin, it is possible to set the dimming rate to 100% or higher.","On the other hand, the current close to the rated current imposes excessive load on LED module  and, therefore, use of such a function is allowed, for example, for only a prescribed time period (10 minutes). If the prescribed time period is passed, the normal dimming rate of 100% is set.","Though a method of setting the dimming rate of daylight color to 100% or higher has been described here, it is possible to set the dimming rate of incandescent lamp color to 100% or higher.","By using such a function, the dimming rate of daylight color can be set to 100% or higher to attain maximum brightness, to further improve visibility for an intended purpose and hence to realize comfortable light environment.","Further, by way of example, by pressing \u201cREST\u201d button  of remote controller , it is possible for the user to set the dimming rate of current daylight color or incandescent lamp color to the night-time dimming rate of 30%.","Specifically, if an instruction of \u201cREST\u201d button  provided on remote controller  is input, CPU  starts the rest mode, and instructs PWM control circuit  to gradually adjust PWM pulse S or S such that the dimming rate of LED module  or LED module  attains to the night-time dimming rate of 30%. By way of example, using the time point when \u201cREST\u201d button  is pressed as the start time, the dimming rate is set to attain the night-time dimming rate of 30% after 60 minutes, in a similar manner to that described with reference to .","By using such a function, if it is desired, for example, to set the bed time earlier in accordance with the user's preference, the dimming rate can be adjusted to be darker gradually, so that human wakefulness is gradually weakened, promoting melatonin secretion that is related to human biological rhythm. This helps people to smoothly fall asleep.","Further, as described above, by pressing \u201cTIME SET\u201d button  on remote controller , the user can set the current time of lighting device .","Further, as described above, by pressing \u201cILLUMINANCE SENSOR\u201d button  on remote controller , the user can adjust the dimming rate based on the result obtained by illuminance sensor , to save power consumption.","Further, as described above, by pressing \u201cFAVORITE\u201d button  on remote controller , the user can conveniently set the stored dimming rate or color tone by a single touch.","Further, as described above, by pressing \u201cTIMER\u201d button  on remote controller , the user can start the timer setting operation.","The functions of remote controller  described above are examples only, and it is naturally possible to arrange buttons for executing other functions and to realize the corresponding functions by CPU .","<Light-on\/off Control of LED Modules>","Next, the light-on and light-off control of LED modules in accordance with an embodiment of the present invention will be described.","PWM control circuit  in accordance with an embodiment of the present invention controls PWM pulses S and S to be output to LED modules  and  in accordance with an instruction from CPU . More specifically, corresponding to the on period of PWM pulse S, FET switch  is rendered conductive and LED module  is turned on. Corresponding to the off period of PWM pulse S, FET switch  is rendered non-conductive and LED module  is turned off.","Similarly, in response to the PWM pulse S output from PWM control circuit , FET switch  is rendered conductive\/non-conductive and LED module  is turned on\/off.","CPU  is connected to crystal oscillator  that outputs oscillation signal of 40 MHz (one period of 25 ns), and in accordance with instructions issued at the timing synchronized with the oscillation signal, PWM control circuit  outputs PWM pulses S and S.",{"@attributes":{"id":"p-0306","num":"0305"},"figref":"FIG. 22","b":"23"},"Referring to , PWM pulses S and S output from PWM control circuit  are set in accordance with the number of periods (here, Z periods) using one period of 25 nm, which is the minimum unit of the oscillation signal, as the minimum unit. Here, pulses set for the light-on period Ton and light-off period Toff are shown.","The light-on period Ton with the dimming rate of 100% is set with some margin so that the current supplied to LED modules ,  and the like do not exceed the rated current of LED modules ,  and the like.","The cycle time T as the sum of light-on period Ton and light-off period Toff is set to have slightly longer light-on period than when the dimming rate is set to 100%. Therefore, it becomes possible to set the light-on period Ton to be slightly longer than the light-on period when the dimming rate attains to 100% and, hence, by supplying a current close to the rated current to LED modules ,  or the like, the dimming rate of 100% or higher can be attained.",{"@attributes":{"id":"p-0310","num":"0309"},"figref":"FIG. 23","b":["1","2","23"]},"Referring to , PWM control circuit  executes periodical light-on\/light-off control of LED modules  and , with the cycle time T set to have a light-on period Ton, in which LED modules  and  are turned on\/off in complementary manner (so that total on-duty of the modules becomes 100%), and a light-off period Toff, in which LED modules  and  are both turned off. Further, PWM control circuit  variably controls the ratio between light-on period T of LED module  and light-on period T of LED module  in the light-on period Ton.","In , (A) to (D) represent adjustment of PWM pulses S and S in the early-morning operation (time period tA) of light environment control.","In , (A) shows an example in which the dimming rate is set to 30% based only on the light-on period of PWM pulse S, in the initial state. Here, the PWM pulse S is always set to the \u201cL\u201d level. In other words, LED module  is off.","Then, by adjusting the duty ratio of overall light-on period Ton (light-on periods T+T) in the cycle time T as shown in (B) to (D) of , the dimming rate is adjusted linearly.","The dimming rate of each LED with respect to the overall dimming rate is calculated in accordance with Equations (6) and (7), and in accordance with the result of calculation, the light-on periods T and T of respective LED modules in light-on period Ton are adjusted.","Therefore, by linearly changing the overall dimming rate in accordance with such adjustment of PWM pulses, the dimming rate can be adjusted without causing any feeling of strangeness or discomfort.","<Adjustment of Variations in LED Module Output Characteristics>","In the foregoing, an example has been described in which the overall dimming rate of LED modules  and  is linearly changed by adjusting duty ratio of the overall light-on period Ton in cycle time T. The overall dimming rate, however, may possibly be different from the actual overall dimming rate, because of variations in output characteristics of LED modules  and .",{"@attributes":{"id":"p-0319","num":"0318"},"figref":"FIG. 24","b":["31","32"]},"Referring to , ideally, if the duty ratio of light-on period Ton in the cycle time T of PWM pulse is linearly changed, the dimming rate desirably changes linearly. Generally, the duty ratio of PWM pulse is calculated in accordance with a linear output characteristic line (ideal), where the duty ratio of PWM pulse set to 100% corresponds to the dimming rate of 100%.","The actual output characteristic lines of dimming rate of LED modules  and , however, are different from the ideal line of output characteristics, as shown in the figure.","Therefore, when the duty ratio of PWM pulse in accordance with the dimming rate is calculated, if the duty ratio is set based on the ideal line of output characteristics, the set dimming rate may possibly be different from the desired dimming rate.",{"@attributes":{"id":"p-0323","num":"0322"},"figref":"FIG. 25","b":"31"},"Referring to , here, an output characteristic line is shown, with the ordinate indicating the PWM pulse value (number of periods) and the abscissa indicating the dimming rate (%).","In the present example, it is assumed that the duty ratio of light-on period Ton is set to 100% when the PWM pulse value is 1670.",{"@attributes":{"id":"p-0326","num":"0325"},"figref":"FIG. 26","b":"32"},"Referring to , here, an output characteristic line is shown, with the ordinate indicating the PWM pulse value (number of periods) and the abscissa indicating the dimming rate (%).",{"@attributes":{"id":"p-0328","num":"0327"},"figref":"FIG. 27","b":["31","32"]},{"@attributes":{"id":"p-0329","num":"0328"},"figref":["FIG. 27","FIG. 25","FIG. 26"],"b":["31","32"]},"Here, for the approximation formulas for the daylight color LED, the dimming rate in accordance with the output characteristic line shown in  is divided into four regions, and an approximation formula for each region is calculated. Here, as an example, the dimming rate is divided to \u201cdimming rate 0 to 60%,\u201d \u201cdimming rate 60.1% to 91.0%,\u201d \u201cdimming rate 91.1% to 98.0%\u201d and \u201cdimming rate 98.1% to 100%.\u201d Further, in order to facilitate processing by CPU , the approximation formulas are converted to arithmetic expressions. By inputting the desired dimming rate to the variable of the corresponding arithmetic expressions, CPU  can calculate the desired PWM pulse value in accordance with the actual output characteristic line of LED module .","Similarly, for the approximation formulas for the incandescent lamp color LED, the dimming rate in accordance with the output characteristic line shown in  is divided into four regions, and an approximation formula for each region is calculated. Here, as an example, the dimming rate is divided to \u201cdimming rate 0 to 60%,\u201d \u201cdimming rate 60.1% to 91.0%,\u201d \u201cdimming rate 91.1% to 98.0%\u201d and \u201cdimming rate 98.1% to 100%.\u201d Further, in order to facilitate processing by CPU , the approximation formulas are converted to arithmetic expressions. By inputting the desired dimming rate to the variable of the corresponding arithmetic expression, CPU  can calculate the desired PWM pulse value in accordance with the actual output characteristic line of LED module . In , the approximated characteristic lines obtained by the formulas are shown in solid lines.","Specifically, by calculating the PWM pulse value, that is, the duty ratio of PWM pulse corresponding to the dimming rate based on the arithmetic expression, it becomes possible to set the desired dimming rate. Thus, highly accurate light adjustment becomes possible and, more comfortable light environment considering the variations in output characteristics of LED modules can be realized.","As can be seen from the output characteristic line of , the dimming rate attains to 100% before the PWM pulse value is set to 1670, that is, before setting the duty ratio of light-on period Ton to 100%.","Therefore, regarding the approximation formulas of , for the dimming rate up to 99.9%, the approximation formulas are calculated in accordance with the output characteristic line for the dimming rate up to and exceeding 100%, and for the dimming rate of 100.0%, the PWM pulse value is simply set to 1670. Specifically, the approximation formulas are calculated using the output characteristic line only when necessary. Accordingly, in the present example, the PWM pulse value is not set to an unnecessarily high value and hence the duty ratio is kept low, so that power consumption can also be reduced.",{"@attributes":{"id":"p-0335","num":"0334"},"figref":"FIG. 28","b":"31"},"The flow is executed by CPU  reading the program stored in memory .","Referring to , CPU  determines whether or not the dimming rate is in the range of 0% to 60.0% (step S).","Then, if it is determined that the dimming rate is in the range of 0% to 60.0% (YES at step S), CPU  calculates the PWM pulse value in accordance with Equation (11) (step S). Then, based on the calculated PWM pulse value, PWM pulse is output (step S). Then, the flow returns to step S.","If it is determined that the dimming rate is not in the range of 0% to 60.0% (NO at step S), CPU  determines whether or not the dimming rate is in the range of 60.1% to 91.0% (step S). If it is determined at step S that the dimming rate is in the range of 60.1% to 91.0% (YES at step S), CPU  calculates the PWM pulse value in accordance with Equation (12) (step S). Then, based on the calculated PWM pulse value, PWM pulse is output (step S). Then, the flow returns to step S.","If it is determined that the dimming rate is not in the range of 60.1% to 91.0% (NO at step S), CPU  determines whether or not the dimming rate is in the range of 91.1% to 98.0% (step S). If it is determined at step S that the dimming rate is in the range of 91.1% to 98.0% (YES at step S), CPU  calculates the PWM pulse value in accordance with Equation (13) (step S). Then, based on the calculated PWM pulse value, PWM pulse is output (step S). Then, the flow returns to step S.","If it is determined that the dimming rate is not in the range of 91.1% to 98.0% (NO at step S), CPU  determines whether or not the dimming rate is in the range of 98.1% to 100.0% (step S). If it is determined at step S that the dimming rate is in the range of 98.1% to 100.0% (YES at step S), CPU  calculates the PWM pulse value in accordance with Equation (14) (step S). Then, based on the calculated PWM pulse value, PWM pulse is output (step S). Then, the flow returns to step S. If it is determined that the dimming rate is not in the range of 98.1% to 100.0% at step S, CPU  returns the control to step S.","In the present example, the output of PWM pulse S considering the variations of output characteristics of LED module  has been described. A similar method can be used for the output of PWM pulse S considering the variations of output characteristics of LED module .","By this process, it becomes possible to calculate the PWM pulse value, that is, the duty ratio of PWM pulse, in accordance with the dimming rate based on the arithmetic expressions. Thus, it is possible to set the desired dimming rate and thereby to realize more comfortable light environment considering variations in output characteristics of LED modules.","Though an example in which the PWM pulse output is calculated considering variations in output characteristics of LED modules by preparing approximation formulas has been described, it is not limiting. By way of example, it is possible to use a correspondence table storing one-to-one correspondence between the PWM pulse value and dimming rate in accordance with the output characteristic line described above.","In the foregoing, it is assumed that lighting device  has crystal oscillator , and the control in the light environment control mode and the like is realized by CPU  accurately keeping time in accordance with the oscillation signals from crystal oscillator . Crystal oscillator , however, outputs the oscillation signal when a voltage is supplied from power source circuit  and, therefore, if the voltage supply should be stopped by a power switch, not shown, included in operation SW , time keeping by CPU  becomes impossible. In such a situation, when the voltage supply is started next time by the operation of power switch, the time is calibrated to resume time keeping by CPU . Here, lighting device  may obtain the current time by a command transmission process from remote controller . In the following, the command transmission process from remote controller  will be described.",{"@attributes":{"id":"p-0346","num":"0345"},"figref":"FIG. 29","b":"50"},"The flow is executed by CPU  reading the program stored in memory .","Referring to , when an input of an operation signal indicating that \u201cLIGHT ENVIRONMENT CONTROL\u201d button  is pressed (YES at step S) is received, CPU  of remote controller  causes signal transmission unit  to output a transmission signal (command) to instruct light environment control mode to infrared projecting unit . Here, CPU  measures time in accordance with the oscillation signal from crystal oscillator , and outputs a signal indicating the current time, together with the command, to infrared projecting unit  (step S).","When an input of an operation signal indicating that not the \u201cLIGHT ENVIRONMENT CONTROL\u201d button  but \u201cTIMER\u201d button  is pressed (NO at step S and YES at step S) is received, signal transmitting unit  outputs a transmission signal (command) to instruct timer setting, to infrared projecting unit . Here, CPU  keeps time in accordance with the oscillation signal from crystal oscillator , and outputs a signal indicating the current time, together with the command, to infrared projecting unit  (step S).","If the input operation signal does not correspond to an operation of \u201cLIGHT ENVIRONMENT CONTROL\u201d button  or \u201cTIMER\u201d button  (NO at step S and NO at step S), signal transmitting unit  outputs a transmission signal (command) in accordance with the operation signal to infrared projecting unit  (step S). Here, the signal indicating the current time is not output.","Thereafter, signal transmitting unit  transmits a transmission signal in accordance with an instruction from CPU  to infrared projecting unit , and an infrared signal is output from infrared projecting unit  to lighting device  (step S).","In this example, it is assumed that, among the control modes of lighting device , the light environment control mode and the control mode in accordance with the timer setting are the control modes in which the state of illumination varies with time. If the state of illumination varies with time in any other control mode, however, the signal indicating the current time may be output together with the control command, when such control mode is selected.","Further, in this example, it is assumed that CPU  outputs a signal indicating the current time based on the oscillation signal from crystal oscillator . Remote controller , however, may not include crystal oscillator , and the signal indicating the current time based on the time input by pressing \u201cTIME SET\u201d button  or \u201c+\/\u2212\u201d button  may be output.","By this operation, even if voltage supply is stopped by the operation of power switch of lighting device  and time keeping by CPU  of lighting device  becomes impossible, and if activation of a mode requiring time information is instructed from remote controller  in this situation, the requested mode can be activated using the time information from remote controller  without necessitating any time adjustment operation of lighting device .","Further, in this operation, if activation of a mode that requires time information is instructed, the time information is transmitted, and otherwise, the time information is not transmitted. Therefore, the amount of information transmitted from remote controller  can be reduced. Thus, power consumption of remote controller  necessary for communication can be reduced.","Further, it is possible to provide a program to execute such a control as described with reference to the flow above, by the function of a computer. Such a program may be recorded on a non-transitory computer readable recording medium such as a flexible disk, CD-ROM (Compact disk-Read Only Memory), an ROM (Read Only Memory), an RAM (Random Access Memory) or a memory card to be attached to a computer, and provided as a program product. Alternatively, the program may be provided recorded on a recording medium such as a hard disk built in a computer. Further, the program may be provided by downloading through a network.","The program may call necessary ones of programming modules provided as a part of an operating system of a computer in a prescribed sequence at prescribed timing, to execute the process. In that case, the modules are not included in the program itself, and the process is executed by the cooperation with the OS. The program not including such modules is also encompassed by the present invention.","The program in accordance with the present invention may be provided incorporated as a part of another program. In that case also, the program itself may not include modules of the said another program, and the process is executed by the cooperation with the said another program. The program incorporated in another program in such a manner is also encompassed by the present invention.","The program product thus provided is executed, installed in a program storage such as a hard disk. Further, the program product includes the program itself and the recording medium on which the program is recorded.","Although the present invention has been described and illustrated in detail, it is clearly understood that the same is by way of illustration and example only and is not to be taken by way of limitation, the scope of the present invention being interpreted by the terms of the appended claims.",{"@attributes":{"id":"p-0361","num":"0360"},"b":["1","2","8","9","10","51","20","21","81","22","86","23","25","26","83","27","85","28","29","80","30","31","32","33","34","40","56","41","42","88","50","52","55","82","84","87"]}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1","b":"1"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 2","b":"1"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 3","b":["31","32"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 4","b":["31","32","1"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 5","b":"50"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 6","b":"50"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 8","b":"30"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 13","b":"1"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 17","b":["52","50"]},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 21","b":"168"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 22","b":"23"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 23","b":["1","2","23"]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 24","b":["31","32"]},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 25","b":"31"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 26","b":"32"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 27","b":["31","32"]},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 28","b":"31"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 29","b":"50"}]},"DETDESC":[{},{}]}
