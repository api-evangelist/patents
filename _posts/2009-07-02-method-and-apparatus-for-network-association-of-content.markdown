---
title: Method and apparatus for network association of content
abstract: Methods and apparatus for perform association of stored content downloaded over a network with a unique identification. In one embodiment, the content is stored locally, and the association is performed in a secure manner using network or source-specific information (e.g., the organization identification or “orgID” of the bearer network or MSO). This association is used to ensure that the content stored on the playback device can be accessed for viewing only when the playback device is connected to the same network from which the content was obtained. Use of the orgID allows the content association and protection functionality to be implemented in existing networks with only minor software changes.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09094713&OS=09094713&RS=09094713
owner: Time Warner Cable Enterprises LLC
number: 09094713
owner_city: New York
owner_country: US
publication_date: 20090702
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["RELATED APPLICATIONS","COPYRIGHT","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION","DETAILED DESCRIPTION OF EXEMPLARY EMBODIMENTS"],"p":["This application is related to commonly owned U.S. patent application Ser. No. 11\/080,693 filed Mar. 14, 2005 and entitled \u201cMETHOD AND APPARATUS FOR NETWORK CONTENT DOWNLOAD AND RECORDING\u201d, incorporated herein by reference in its entirety.","A portion of the disclosure of this patent document contains material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent files or records, but otherwise reserves all copyright rights whatsoever.","1. Field of Invention","The invention relates generally to content distribution networks and content control. In one exemplary aspect, the invention relates to the use of identification and security (e.g., cryptographic) functions to make an association between content downloaded by a network device, and the network to which the device is coupled.","2. Description of Related Technology","Recently, Digital Video Recorders (DVRs) have become a popular consumer product. A DVR allows personalized control over a multimedia program in the form of \u201ctrick modes\u201d (e.g. pause, rewind, fast forward) while watching it as well as providing \u201ctime shifting\u201d capabilities by recording the program to local storage. Time shifting allows the user to watch a program at the time they want, not just when broadcast. This application is also commonly referred to as Personalized Video Recorder (PVR).","Early implementations of DVR used analog video capture and compression techniques to convert multimedia content into a digital format (e.g., MPEG bitstream) for storage on a local storage device. Recently, content distribution network operators such as cable MSO's and digital television broadcast satellite operators have begun offering DVR functionality in the consumer premises equipment (CPE) used to receive and decode digital multimedia programming.","Inclusion of the DVR functionality with a digital set-top box makes the intermediate stage of conversion of multimedia program to\/from analog format unnecessary. Since content is made available over the network in digital format, an exact copy of the content can be stored locally (e.g., on a hard drive within the CPE). While this approach improves the fidelity of content for the end user, it raises copyright concerns for content owners\/developers and network operators. For example, network operators have desired a solution such that valuable multi-media content downloaded from their network and stored on a CPE is somehow intrinsically tied to that network, so that it cannot be played back if the CPE is disconnected from the originating network or the content is otherwise transferred to another device.","A variety of approaches to content distribution, storage and copyright protection\/digital rights management are present in the prior art. For example, U.S. Pat. No. 6,240,401 to Oren, et al. issued May 29, 2001 entitled \u201cSystem and method for movie transaction processing\u201d, U.S. Pat. No. 6,851,063 to Boyle, et al. issued Feb. 1, 2005 entitled \u201cDigital video recorder employing a file system encrypted using a pseudo-random sequence generated from a unique ID\u201d, U.S. Pat. No. 6,853,731 to Boyle, et al. issued Feb. 8, 2005 entitled \u201cDigital video recorder employing a unique ID to interlock with encrypted video programs stored on a storage device\u201d, United States Patent Publication No. 20020104019 to Chatani, et al. published Aug. 1, 2002 entitled \u201cMethod and system for securely distributing computer software products\u201d, United States Patent Publication No. 20030049021 to Kamieniecki, published Mar. 13, 2003 and entitled \u201cApparatus for monitoring of DVD\/CD usage and targeted DVD\/CD sales utilizing a set top with DVD\/CD capability\u201d, and United States Patent Application No. 20040255139 to Giobbi published Dec. 16, 2004 entitled \u201cDigital content security system\u201d.","Other well-known approaches to digital rights and copyright management exist in the prior art. For example, several commercially available digital watermarking approaches including Digimarc\u00ae, SysCoP\u2122, EIKONAmark\u2122 can be used to embed steganographic data within the recorded or streamed content. Media rights management systems such as the Microsoft Windows\u00ae Media Digital Rights Manager (DRM), and the newer Windows Media Player 9, may be used as well.","However, despite the variety of different prior art techniques for providing content playback security in a digital video recording system, none address the particular issue of determining whether content selected for playback was obtained from the same network to which the playback device is currently connected. Accordingly, improved methods and apparatus for enforcing a network operator's content security, and associated business rules, are needed. Such improved methods and apparatus would ideally be implemented with only minimal modifications to the extant infrastructure and prevailing CPE software architectures, thereby allowing for ready implementation and backward compatibility in existing network applications.","The present invention addresses the foregoing needs by providing methods and apparatus for network association of content using one or more unique identifiers.","In a first aspect of the invention a method providing content over a content-based network is disclosed. In one embodiment, the method comprises: receiving content at a client device coupled to the network; storing at least a portion of the content on a storage device in data communication with the client device; associating first information relating to a source of the content with the at least portion of the content being stored; initiating a playback of the stored content at the client device, the act of initiating comprising: authenticating an application desiring the playback using a cryptographic signature; receiving second information at the client device relating to the network to which the client device is currently coupled; analyzing the first information and the second information to determine if the content source is authorized by the network; and based on the analyzing, selectively allowing or restricting the playback of the content on the client device.","In a second aspect of the invention, improved consumer premises equipment (CPE) adapted for connection to a content-based network is disclosed. In one embodiment, the network has a plurality of information sources associated therewith, and the CPE is adapted for receipt of content from one or more of these sources via the network, the CPE further comprising: a processor; a storage device in data communication with the processor; and software adapted to run on the processor, the software being further adapted to: store at least a portion of the content on the storage device; and associate first information relating to at least one of the sources or the network with the at least portion of the content.","In a third aspect of the invention, a method of operating consumer premises equipment (CPE) in communication with a content-based network is disclosed. In one embodiment, the method comprises: receiving content at the CPE; storing at least a portion of the content on a storage device in data communication with the CPE; and associating first information relating to at least one source of the content with the at least portion of the content.","In a fourth aspect of the invention, a method of operating a content-based network so as to limit the playback of content distributed over the network to only certain devices coupled to the network is disclosed. In one embodiment, the method comprises: receiving content at one of the devices; storing at least a portion of the content on a storage device in data communication with the one device; associating first information relating to the source of the content with the at least portion of the content; subsequently receiving second information at one of the devices; analyzing the first information and the second information; and based on the analyzing, selectively allowing or restricting the playback of the content.","In a fifth aspect of the invention, a storage device is disclosed. In one embodiment, the storage device comprises: a storage medium adapted to store a computer program; and a computer program stored on the medium, the program adapted to run on a device and: receive content at the device; store at least a portion of the content on a storage device in data communication with the device; associate first information relating to the source of the content with the at least portion of the content; subsequently receive second information; analyze the first information and the second information; and based at least in part on the analysis, selectively allow or restrict playback of the content.","In a sixth aspect of the invention, a computerized device adapted for use with a client device is disclosed. In one embodiment, the computerized device is in data communication with the client device and adapted to: store content received at the client device; store information uniquely identifying the source of the content with the content; subsequently receive a playback request for the stored content from a requesting entity; provide the identifying information to the requesting entity; thereafter, receiving a signal indicating that playback is allowed; and after receipt of the signal, play back the stored content. In one variant, the requesting entity comprises an application program running on the client device, the client device being communicatively coupled to a content based network, the identifying information comprising an organization ID (orgID) associated with the network.","Reference is now made to the drawings wherein like numerals refer to like parts throughout.","As used herein, the terms \u201cnetwork\u201d and \u201cbearer network\u201d refer generally to any type of telecommunications or data network including, without limitation, hybrid fiber coax (HFC) networks, satellite networks, telco networks, and data networks (including MANs, WANs, LANs, WLANs, internets, and intranets). Such networks or portions thereof may utilize any one or more different topologies (e.g., ring, bus, star, loop, etc.), transmission media (e.g., wired\/RF cable, RF wireless, millimeter wave, optical, etc.) and\/or communications or networking protocols (e.g., SONET, DOCSIS, IEEE Std. 802.3, ATM, X.25, Frame Relay, 3GPP, 3GPP2, WAP, SIP, UDP, FTP, RTP\/RTCP, H.323, etc.).","As used herein, the term \u201chead-end\u201d refers generally to a networked system controlled by an operator (e.g., an MSO or multi-systems\/service operator) that distributes programming to MSO clientele using client devices. Such programming may include literally any information source\/receiver including, inter alia, free-to-air TV channels, pay TV channels, interactive TV, and the Internet. DSTBs may literally take on any configuration, and can be retail devices meaning that customers may or may not obtain their DSTBs from the MSO exclusively. Accordingly, it is anticipated that MSO networks may have client devices from multiple vendors, and these client devices will have widely varying hardware capabilities. Multiple regional head-ends may be in the same or different cities.","As used herein, the terms \u201cclient device\u201d and \u201cend user device\u201d include, but are not limited to, personal computers (PCs) and minicomputers, whether desktop, laptop, or otherwise, set-top boxes such as the Motorola DCT2XXX\/5XXX\/6XXX and Scientific Atlanta Explorer 2XXX\/3XXX\/4XXX\/8XXX series digital devices, personal digital assistants (PDAs), handheld computers, personal communicators, J2ME equipped devices, cellular telephones, 3G \u201csmartphones\u201d, or literally any other device capable of interchanging data with a network.","Similarly, the terms \u201cCustomer Premises Equipment (CPE)\u201d and \u201chost device\u201d refer to any type of electronic equipment located on or within a customer's or user's premises and connected to a network. The term \u201chost device\u201d refers generally to a terminal device that has access to digital television content via a satellite, cable, or terrestrial network. The host device functionality may be integrated into a digital television (DTV) set. The term \u201ccustomer premises equipment\u201d (CPE) includes electronic equipment such as for example set-top boxes, televisions, Digital Video Recorders (DVR), gateway storage devices (Furnace), and ITV Personal Computers.","As used herein, the term \u201cnetwork agent\u201d refers to any network entity (whether software, firmware, and\/or hardware based) adapted to perform one or more specific purposes. For example, a network agent may comprise a computer program running in server belonging to a network operator, which is in communication with one or more processes on a CPE or other device.","As used herein, the term \u201cnetwork operator\u201d refers generally to an entity, other than a home or end-user, involved in manufacturing, design, deployment or maintenance of a bearer network, including without limitation cable system operators, satellite providers, DSL internet providers, client device manufacturers, etc.","As used herein, the term \u201ccontent\u201d refers to any type of information or signals which can be transmitted over a network, whether digital, analog or otherwise. Examples of content include, without limitation, MPEG streams (e.g., movies), data files, encrypted data, audio data, games, and the like.","As used herein, the term \u201ccontent provider\u201d refers generally to an entity which directly or indirectly provides or generates content, including without limitation studios, networks, channels (e.g., \u201cThe Movie Channel\u201d), gaming content and application developers, musical artists, record labels, etc.","The term \u201cprocessor\u201d is meant to include any integrated circuit or other electronic device (or collection of devices) capable of performing an operation on at least one instruction including, without limitation, reduced instruction set core (RISC) processors, CISC microprocessors, microcontroller units (MCUs), CISC-based central processing units (CPUs), and digital signal processors (DSPs). The hardware of such devices may be integrated onto a single substrate (e.g., silicon \u201cdie\u201d), or distributed among two or more substrates. Furthermore, various functional aspects of the processor may be implemented solely as software or firmware associated with the processor.","As used herein, the terms \u201ccomputer program\u201d, \u201croutine,\u201d and \u201csubroutine\u201d are substantially synonymous, with \u201ccomputer program\u201d being used typically (but not exclusively) to describe collections or groups of the latter two elements. Such programs and routines\/subroutines may be rendered in any language including, without limitation, C#, C\/C++, Fortran, COBOL, PASCAL, assembly language, markup languages (e.g., HTML, SGML, XML, VoXML), and the like, as well as object-oriented environments such as the Common Object Request Broker Architecture (CORBA), Java\u2122 and the like. In general, however, all of the aforementioned terms as used herein are meant to encompass any series of logical steps performed in a sequence to accomplish a given purpose.","As used herein, the term \u201cmiddleware\u201d refers generally computer programs or other functionality that provides a functional interface between the hardware\/firmware and software of a CPE, host device or client device. One exemplary embodiment of middleware comprises a protocol stack function provided by OCAP-compliant middleware in a cable set-top box, or similar function in a satellite receiver, that resides below the application layer.","Overview","In one aspect, the present invention provides a mechanism by which access to recorded or stored content is controlled, so that correspondence between the source of the content and the platform from which access to the content is requested can be affirmatively established. This correspondence provides the network operator (as well as the content provider) a high level of assurance that the copyright and other intellectual property restrictions associated with the content are observed by the consumer, and that surreptitious attempts to \u201csteal\u201d the recorded content are frustrated.","In one exemplary embodiment, the invention comprises a content association \u201cmanager\u201d in the form of software (e.g., \u201cmiddleware\u201d) that is provided, such as by download, to a set-top box or other CPE by the network operator. When a DVR or similar application software module resident on the CPE makes a request to this middleware for access to local storage for recording content, the middleware uses unique information such as a character string transmitted by the bearer network and contained within a digital certificate to uniquely identify the bearer network intrinsically within or in association with the stored content. When a playback application requests access to the stored content, the middleware implementation extracts the bearer network identification of the content, and allows access only if the identification matches with that of the current network to which the playback device is connected.","In the exemplary embodiment, the association of content with bearer network is further made secure through use of a cryptographic approach to application authentication that uses signed digital certificates.","In one variant, the middleware implementation comprises Opencable Application Platform (OCAP)-compliant middleware running on an OCAP-compliant CPE, and the cryptographic method uses application signature files and a digital certificate chain specified by CableLabs OCAP Security specification. Additionally, the application programming interface (API) between the middleware and DVR or similar applications implements the DVR API specified by CableLabs.","Exemplary embodiments of the apparatus and methods of the present invention are now described in detail. Wile these exemplary embodiments are described in the context of the aforementioned hybrid fiber coax (HFC) cable system architecture having an multi-systems operator (MSO), digital networking capability and middleware-based CPE, the general principles and advantages of the invention may be extended to other types of networks and architectures, whether broadband, narrowband, wired or wireless, terrestrial or satellite, or otherwise, the following therefore being merely exemplary in nature.","It will also be appreciated that while described generally in the context of a network providing service to a customer (i.e., home) end user domain, the present invention may be readily adapted to other types of environments including, e.g., commercial\/enterprise, and government\/military applications. Myriad other applications are possible.","Furthermore, while described primarily in the context of traditional media content (e.g., movies, music\/music videos, audiovisual data, etc.), the methods and apparatus disclosed herein are equally applicable to other forms of information or data, including without limitation software applications (including distributed applications) and other software modules, middleware, and computer or data files. Herein lies another salient advantage of the present invention; i.e., that the identification parameter(s) used to associate the content and network (or other entity, as described in detail below) are substantially agnostic to the type of content with which they are utilized.","System Architecture",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 1","FIG. 1","FIG. 1"],"b":["100","102","104","106","104","106","101","102","104","106"],"i":"a "},"The application origination point  comprises any medium that allows an application to be transferred to a distribution server . This can include for example an application vendor website, CD-ROM, external network interface, mass storage device (e.g., RAID system), etc. Such transference may be automatic, initiated upon the occurrence of one or more specified events (such as the receipt of a request packet or ACK), performed manually, or accomplished in any number of other modes readily recognized by those of ordinary skill.","The distribution server  comprises a computer system where one or more applications can enter the network system. Distribution servers are well known in the networking arts, and accordingly not described further herein.","The CPE  includes any equipment in the \u201cconsumers' premises\u201d (or other locations, whether local or remote to the distribution server ) that can be accessed by a distribution server . Such CPE  may comprise processors and associated computer memory adapted to store and run the downloaded or resident application. In the present context of the content association manager, at least a portion of the software (e.g., middleware components used to manage and determine the association between the content and the network) is downloaded or otherwise provided to the CPE , wherein the latter executes the downloaded software\/components. The software agent may be (i) \u201cpushed\u201d to the CPE (i.e., wherein the distribution server causes the software download to occur), (ii) \u201cpulled\u201d to the CPE (i.e., where the CPE causes the download), (iii) downloaded as the result of some third entity or device (such as a remote server); (iv) resident on the CPE at startup; or (v) combinations of the foregoing.","Referring now to , one exemplary embodiment of the network head-end architecture useful with the invention is described. As shown in , the head-end architecture  comprises typical head-end components and services including billing module , subscriber management system (SMS) and CPE configuration management module , cable-modem termination system (CMTS) and OOB system , as well as LAN(s) ,  placing the various components in data communication with one another. It will be appreciated that while a bar or bus LAN topology is illustrated, any number of other arrangements as previously referenced (e.g., ring, star, etc.) may be used consistent with the invention. It will also be appreciated that the head-end configuration depicted in is high-level, conceptual architecture and that each MSO may have multiple head-ends deployed using custom architectures.","The architecture  of further includes a multiplexer\/encrypter\/modulator (MEM)  coupled to the HFC network  and adapted to \u201ccondition\u201d content for transmission over the network. In the present context, the distribution servers  are coupled to the LAN , which provides access to the MEM  and network  via one or more file servers . In the typical HFC network, information is carried across multiple channels. Thus, the bead-end must be adapted to acquire the information for the carried channels from various sources. Typically, the channels being delivered from the head-end  to the CPE  (\u201cdownstream\u201d) are multiplexed together in the head-end and sent to neighborhood hubs of the type shown in .","Content (e.g., audio, video, etc.) or data is provided in each downstream (in-band) channel. To communicate with the head-end, the CPE  uses the out-of-band (OOB) DAVIC or DOCSIS channels and associated protocols. The OCAP 1.0 specification provides for networking protocols both downstream and upstream.","It will also be recognized that the multiple servers (OD or otherwise) can be used, and disposed at two or more different locations if desired, such as being part of different server \u201cfarms\u201d. These multiple servers can be used to feed one service group, or alternatively different service groups. In a simple architecture, a single server is used to feed one or more service groups. In another variant, multiple servers located at the same location are used to feed one or more service groups. In yet another variant, multiple servers disposed at different location are used to feed one or more service groups.","One exemplary multi-server architecture particularly useful with the present invention is described in co-pending and co-owned United States Patent Application Publication No. 20020059619 to Lebar published May 16, 2002 and entitled \u201cHybrid central\/distributed VOD system with tiered content structure\u201d which is incorporated herein by reference in its entirety. Specifically, a hybrid central\/distributed and tiered video on demand (VOD) service network with tiered content structure is disclosed. In particular, the system uses media servers located in both the head-end and hub stations. Set-top boxes generally would be supplied VOD services from the high-demand content media (and data) servers located in the hub station nearest to the user. The central media server located in the head-end would be used as an installed backup to the hub media servers; as the primary source for lower demand VOD services and as the source of the real time, centrally encoded programs with PVR (personal video recorder) capabilities. By distributing the servers to the hub stations, the size of the fiber transport network associated with delivering VOD services from the central head-end media server is reduced. Hence, each user has access to several server ports located on at least two servers. Multiple paths and channels are available for content and data distribution to each user, assuring high system reliability and enhanced asset availability. Substantial cost benefits are derived from the reduced need for a large content distribution network and the reduced storage capacity requirements for hub servers.","To distribute files and applications to the CPE , the files and applications are configured as data and object carousels and may be sent in both the in-band and OOB channels. As is well known in the art, a carousel may be viewed as a directory containing files. The files of the carousel utilized herein are sent in a continuous round-robin fashion. If the client device misses a desired or necessary file in one carousel transmission, it can wait for the next. Alternatively, in another embodiment, the CPE portion of the application is configured as part of the program content on a given in-band, DAVIC, or DOCSIS channel. As yet another embodiment, the CPE portion is downloaded directly using IP (Internet Protocol) packet traffic in an Out-Of-Band DAVIC or DOCSIS channel. Note that the file carousel or other device providing the application to the CPE  via the aforementioned communication channels may be the distribution server  previously described, or alternatively a separate device which may or may not be physically co-located with the server (e.g., remote file servers  of ). For example, a remote file storage device (not shown) with carousel capability may be in data communication with the client device(s) via an out-of-band communications channel as described below, the download of the application files from the remote device being initiated by way of a query from the client device, or alternatively a signal generated by the server  and transmitted to the remote device.","High speed data download (including download of files and applications such as those associated with the content association management software of the present invention) may also be provided over the network using e.g., the apparatus and methodology described in co-owned and co-pending U.S. application Ser. No. 11\/013,665, filed Dec. 15, 2004 entitled \u201cMETHOD AND APPARATUS FOR HIGH BANDWIDTH DATA TRANSMISSION IN CONTENT-BASED NETWORKS\u201d, incorporated herein by reference in its entirety. In this approach, extant VOD or similar infrastructure is utilized to provide high-speed data download sessions between the VOD server and the user's CPE.","Many other permutations of the foregoing system components and communication methods may also be used consistent with the present invention, as will be recognized by those of ordinary skill in the field.","Association and Validation Methodologies","Prevalent middleware specifications such as OCAP, Advanced Common Application Platform (ACAP), Multimedia Home Platform (MHP) and Globally Executable MHP (GEM) require that entities who develop applications, including those adapted for use or distribution over content-based networks such as cable and satellite networks, register themselves with a global registration authority. See, e.g., OpenCable\u2122 Application Platform (OCAP) Specification 1.0 (OC-SP-OCAP1.0-I16-050803), Copyright 2001-2005 and OCAP Specification 1.1 (OC-SP-OCAP1.1.1-090612), Copyright 2001-2009. This authority issues a globally unique identifier for each registered entity. This identifier is known as an organization identifier; also referred to as \u201corganization_id\u201d, \u201corg_id\u201d, \u201corganizationID\u201d, or \u201corgID\u201d, each of the foregoing being synonymous for the purposes of the present embodiment.","In the exemplary cable context, the OpenCable Application Platform (OCAP) middleware specification published by CableLabs prescribes a chain of digital certificates to validate the authenticity of applications. An application known as the monitor application is provided with OCAP implementation on each CPE and contains a digital certificate that is tied to the network to which that CPE is connected.","The aforementioned exemplary cable specifications provide for applications owned by an MSO to be downloaded to, and execute within, the customer's CPE . When the CPE is connected to the bearer network , the network operator may download a DVR\/PVR or similar application that can record or otherwise store valuable content to persistent storage within the CPE (or an associated device).","Referring now to , one embodiment of the method  of associating content with a network or other entity is described in the exemplary context of the aforementioned DVR\/PVR application running on the customer's cable CPE , although it will be recognized that the invention is in no way so limited.","When the DVR application wishes to store a content stream on a local storage device, it first requests permission from the middleware implementation on the CPE to access the local storage device (step ). In various implementations, the need to obtain such access to local storage may arise as a result of any number of different situations, such as e.g., a user-initiated command, a pre-scheduled record operation, a signal from another associated device or process, or otherwise.","When the middleware implementation receives this request, it checks for resource availability (step ), and assuming such resources are available, grants storage access to the requesting application per step . The content or data is then stored to the requested resource per step . The middleware application may also optionally implement other tasks while the content stream is being stored to the allocated buffer or storage area. When the middleware receives an indication that the stream storage operation has ended (step ), it obtains a unique identification (e.g., the orgID of the bearer network over which the stream was received, an entity, or a network or third-party content server) per step , and associates this identification with the received content stream (step ).","It will be appreciated that the step of obtaining the unique identification may be performed at any time during the procedure, such as before the storage operation is even commenced (e.g., obtaining a valid identification being a precondition for commencing the content storage operation, or even assessing the availability of the required storage resources).","Per step  of the method  of , the middleware implementation obtains unique identification (e.g., orgID of the bearer network from which content is downloaded). In various embodiments, such identification may comprise different forms, such as a unique string of characters, numerals, random numbers, etc. chosen to be sufficiently long or permuted to guarantee uniqueness of identification. For example, the identification may be derived based on an algorithm running on the CPE, which obtains or generates the \u201cunique\u201d identification (such as after being provided a \u201cseed\u201d value). Hence, when properly seeded, the algorithm always produces the same value, which is unique to a particular entity or content source, but is re-used for various network users (i.e., all subscribers in the network obtain the same network identification).","Alternatively, the generation of the unique identification may be more unique, such as where a pseudo-random or random number generation system is utilized. The generated number is then recorded with or otherwise associated with a particular instantiation of the content stream (i.e., that recorded on Subscriber X's CPE or recording medium), and the association stored on the CPE , or another network agent such as a \u201ccontent control\u201d server. Playback of the recorded content is then only allowed, for example, where the playback application can obtain the matching (stored) identifier from the CPE  or the network agent (the latter via, e.g., an upstream call or signaling to the remote network agent).","In another embodiment, the identification comprises a specific bit pattern (such as a predetermined bitstream sequence) identifying the bearer network. This bitstream may be encrypted or unencrypted. In one exemplary variant, the unique network identification is obtained when the content stream storage is completed by parsing one or more incoming data streams. In another variant, the bearer network identification is pre-stored (either on the CPE  or on another network agent) and subsequently validated. Various other approaches are possible.","In one exemplary embodiment, for those CPE that implement OCAP middleware, such identification is based on the globally unique identifier (orgID) of the bearer network transmitted in the Application Information Table (AIT) or eXtended Application Information Table (XAIT) associated with the content recording application. In a bearer network where the network operator owns and downloads such recording applications, the corresponding orgID will be the network operator's globally unique identifier.","In the method  of , the middleware's association of the identification information with the stored content stream can be accomplished by any number of approaches. In one embodiment, software running on the CPE  creates a header at e.g., the beginning of a recording or stored file. For example, if the content is formatted using MPEG-2, a private data packet as defined by the ISO\/IEC 13818-1 specification can be placed at the beginning of the recording. This packet can optionally be encrypted if desired, and contain the orgID passed to the middleware implementation.","In yet another embodiment, the association can be implemented as a look-up table or similar relational data structure that associates the stream with a unique identifier.","It will also be appreciated that the association of content\/data with an identifier is not necessarily an exclusive process, in terms of either the identifier or the content\/data. For example, it may be desired in certain implementations to associate two or more unique identifiers with a single given content stream, such as where a given network operator uses a heterogeneous network identification scheme (e.g., more than one network identifier, depending on geographic location or the like). Conversely, it may be desired to provide multiple different content or data aggregations (e.g., streams) or files with the same network or other unique identifier.","Referring now to , one embodiment of the playback methodology according to the invention is described in detail. When playback of the stored or recorded content is desired, the above-described unique identification (e.g., network or organization ID) associated with the content is used for determining whether playback of the content is permitted. As shown in , when a playback application or other entity requests access to a stored program (step ), the exemplary middleware implementation checks for and retrieves the network or organization identification stored with the requested program (step ). In one embodiment, when an application attempts to playback the stored program, the CPE  decrypts a header to discover the associated orgID.","The middleware next retrieves the current network orgID (i.e., that of the network to which the middleware is in operative communication) if not already obtained (step ). This value may be stored within the CPE  by the middleware at startup or during some other operation, or the middleware may be configured to obtain this value only upon validation of a playback request. Myriad different approaches to obtaining the \u201ccurrent\u201d unique ID will be recognized by those of ordinary skill.","A comparison is next performed per step  between the current network identification obtained from the network, and that associated with the stored or recorded content. The CPE middleware checks the certificate chain of the application attempting to playback the recording. If the two match, the middleware continues executing to allow playback of the stream (step ). This execution may include, for example, decryption of the content stream, allocation of one or more decoder resources, and extraction of the associated content or program data. In one embodiment, the matching of step  is performed by checking that the application has a certificate with the same orgID in its \u201corganization\u201d field as the stored program it is trying to access. If no match is found in step , the playback application's request is rejected (step ). This rejection may optionally be associated with an error message informing the playback application that the content it requested was obtained from a different network or content source, and\/or initiate other remedial or protective actions such as for example (i) recording a log of the failed playback attempt and any relevant data (e.g., date\/time, content requested, etc.); (ii) \u201clocking\u201d of the storage\/playback medium of the CPE  until an unlock code is entered; (iii) directing the user on corrective actions, etc. Myriad other such functionality may be implemented within the playback logic of the present invention as recognized by those of ordinary skill provided the present disclosure.","It is also noted that the present invention contemplates a broader definition of \u201cmatching\u201d than simple correlation or correspondence. Specifically, the identification information passed in to the CPE recording process (e.g., that designating a unique source of the content) need not explicitly match the information obtained from the network upon an attempted playback. For example, a correlation table or matrix approach may be utilized, wherein a set of prescribed content or data source identifiers are correlated (after decryption, if required) to a network or MSO identifier; in this fashion, several authorized sources can be logically coupled to the network\/MSO.","As is well known, digital certificates are commonly used for authenticating applications running on a device such as the CPE  or the like. The middleware specifications previously described herein provide security features such that applications downloaded or loaded onto the CPE  must be authenticated by that CPE. This is generally accomplished using security files. One of these files comprises a certificate file that contains a chain of certificates. The last or leaf certificate in this file belongs to the application vendor, developer, or owner. This is signed by a certificate from an entity (such as CableLabs), or the bearer network operator (e.g., MSO). The first certificate in the chain is a root certificate, and is self-signed. Each of these certificates is resident in the certificates file, and collectively comprise the application's certificate chain. In the exemplary OpenCable context, the security specification mandates that each certificate in the certificate file must contain an organization name that includes the orgID of the certificate owner. The format of a certificate organization name field is as follows:\n\n","In the exemplary embodiment of the invention, the network identification information available within digital certificates is used, thereby advantageously requiring only minimal changes from existing CPE software implementations that are based on the aforementioned specifications. Hence, the content association functionality described herein can be completely implemented in the typical content (e.g., cable or satellite) network via only minor software upgrades that can be downloaded directly to the user's CPE  over the network and installed remotely. This precludes any costly and laborious hardware or firmware upgrades. However, it will be recognized that other mechanisms for providing the content association functions","Referring now to , one embodiment of a hierarchy of digital certificates used for secure authentication of software applications according to the invention is shown. In , the first column  (labeled \u201ccertificate hierarchy\u201d) shows a hierarchy of digital certificates where the root certificate  comprises a self-signed certificate present in the middleware implementation. The certificate chain of an application is included in a security file, and comprises an intermediate certificate , a leaf certificate , and a signature file . Corresponding exemplary entries in each of the certificates are shown in the second column  (labeled \u201ccertificate entries\u201d) in . Two entries in each intermediary certificate are used to link an application's signature file to the root certificate in the CPE  or similar platform. The Authority_Key_ Identifier entry provides a mechanism for identifying the public key corresponding to the private key used to sign a certificate. The Subject_Key_Identifier entry provides a mechanism for identifying certificates that contain a particular public key.","As shown in , the exemplary authentication process involves linking the Authority_Key_Identifier entry  of an application's signature file  to a leaf certificate  by matching a Subject_Key_Identifier entry  in the certificate , which in turn is authenticated by the root certificate via a chain of zero or more intermediate certificates with Authentication_Key_Identifier and Subject_Key_Identifier entries  leading to the Subject_Key_ Identifier entry  of the root certificate. One of the entries of the exemplary digital certificate of  is an organization identification entry, which uniquely represents the organization that provides the certificate.","It will be appreciated that while described in the context of an identifier for a registered entity (e.g., company), the present invention is in no way so limited, and in fact can be used with other types of unique identification mechanisms which accomplish the goal of providing a coupling or identification between content (or software) and a given entity. For example, couplings between other types of entities and subject matter (e.g., content, software applications, etc.) may be formed using the methods of the present invention.","In one such alternate coupling, the downloaded content or application is coupled indirectly through the CPE  and the bearer network infrastructure  to a remote third party server, such as an Internet-based content or gaming server. Whereas in the aforementioned embodiment, the content is coupled to the MSO's network via the orgID or similar value and the CPE , the present embodiment couples the content\/application to a server transparently through the bearer network, such that the content or application cannot be enabled or used without validation (association) between the identifying information embedded in that content\/software and that of the authorized server. Here, the identifying information is not specific to the bearer network, but rather the content source or other such entity. In one variant, the gaming application comprises a distributed application (DA) with client (e.g., CPE) and server portions, wherein initial (and optionally periodic) upstream communications with the server are required in order to validate the application to the server. In this fashion, the application is platform-agnostic (i.e., it does not necessarily need to be stored or run on any given CPE, including that over which it was downloaded), yet must be authenticated using the unique and secure identification parameter(s) embedded in the applications\/content at time of download. These secure identification parameters may be derived, for example, through communication between the application\/content download servers of the bearer network (e.g., HFC cable network) and the trusted third-party server (e.g., IP server). The trusted server may comprise, for example, a secure IP server of the manufacturer or distributor of the gaming software\/content, a studio, a music download service, television network, etc. Myriad other approaches are also possible consistent with the invention.","In another variant, the aforementioned \u201cindirect\u201d coupling or association is used in conjunction with the direct network-based coupling of prior embodiments, thereby requiring both (i) use of the content\/application on a CPE and network from which it was downloaded, and (ii) validation of the content\/application by a third party server as to authenticity. This is accomplished using two distinct identification parameters, the first being the MSO's orgID or similar previously described (to associate the content to the network), and the second being the content developer or administrator's identification parameter (which may also be an orgID, yet different from that of the MSO).","CPF Architecture and Operation",{"@attributes":{"id":"p-0083","num":"0083"},"figref":["FIG. 5","FIG. 5","FIG. 1","FIG. 5"],"b":["106","106","502","101","504","505","506","508","505"]},"The device  of  is also provided with an OCAP-compliant monitor application and Java-based middleware which, inter alia, manages the operation of the device and applications running thereon. The OCAP monitor comprises a trusted application which has permissions to access various CPE components and processes, including accessing the designated storage device for incoming media or content streams, as well as obtaining a unique identification as previously described herein.","It will be recognized by those of ordinary skill that myriad different device and software architectures may be used consistent with the content association technology of the invention, the device of  being merely exemplary. For example, the storage device and\/or content association software may be disposed on a locally networked (e.g., LAN or PAN) client device that is in signal communication with the CPE  via a wired or wireless interface.",{"@attributes":{"id":"p-0086","num":"0086"},"figref":"FIG. 5","i":"a ","b":["520","520","521","522","528","524","530","530","506","512","530","530","520"]},"The major components of the content association management system of the present invention may be implemented using various computer languages (e.g., C, C++, Java), within various middleware environments. Examples of such middlewares include, but are not limited to, OCAP, MHP, Multimedia Hypertext Experts Group (MHEG), and Digital television Application Software Environment (DASE).","As can be appreciated by those of ordinary skill, the mass storage device  of  may comprise, either alone or in combination with a DVR or other such non-permanent device, a permanent storage mechanism or fixed\/removable physical media. For example, the apparatus and methods set forth in commonly owned and co-pending U.S. patent application Ser. No. 11\/080,693 filed Mar. 14, 2005 entitled \u201cMETHOD AND APPARATUS FOR NETWORK CONTENT DOWNLOAD AND RECORDING\u201d, previously incorporated herein, may be used in conjunction with the content association mechanisms of the present invention. Specifically, in one variant, the dual-layer or other high density recording mechanisms of the aforementioned invention can be used as the CPE storage device described above; the unique identification information can be embedded into or otherwise associated with the recorded medium (e.g., 2-layer DVD), such that when the medium is played back, presentation of the proper network or organization ID is required in order to allow such playback to occur on that particular platform. Accordingly, a physically transportable, but logically \u201cassociated\u201d medium is created.","As another alternative, a removable medium (e.g., magnetic or IC-based storage medium such as a USB key, removable disk cartridge, or the like) may used as the storage\/recording device . This underscores one advantage provided by the present invention; i.e., the ability to encode the recorded data with the identification information before the stored content is transported to another playback mechanism, and then subsequently preclude the \u201clocked\u201d (associated) content from being played back unless the proper orgID or similar identification information is presented by the playback platform.","Such association may also be used as a condition precedent for recording the medium, yet not impose any further restrictions on playback. For example, the storage device (e.g., DVR hard drive) from which the permanent recording device obtains the content to record, or the permanent recording device itself, may be \u201clocked\u201d unless a valid unique association ID is present.","Using the techniques previously described herein, the association of the DVD (or other such medium carrying the content) may also be with third party entities, such that playback of the DVD is frustrated unless proper login and authentication procedures to the third-party web server or the like are completed, and the unique ID or other parameter of the content matched by the server.","Business Considerations","As noted in U.S. application Ser. No. 11\/080,693 previously incorporated herein, many content developers (e.g., studios) are reticent to release new content (e.g., movies) via a cable or satellite network until well after the retail sale and rental distribution channels have been at least partly exploited. This stems from the desire to limit the competitive effect such early distribution over cable\/satellite networks might have on retail sales or rentals; i.e., if the content is available for viewing via cable, fewer people may decide to purchase or rent a physical copy.","However, by employing the content association techniques disclosed herein (especially in concert with the recording and protection mechanisms set forth in U.S. application Ser. No. 11\/080,693), increased assurance of distribution channel integrity is provided. Specifically, if a content provider knows that their \u201cnew release\u201d content can only be (i) recorded pursuant to a purchase, and\/or (ii) played back on a device connected to the original distributing network, they may be much more amenable to distributing the content over cable or satellite contemporaneously with retail\/rental release.","Furthermore, the various copyright or other rights management techniques set forth in U.S. application Ser. No. 11\/080,693 can also be used in conjunction with the content association approach of the present invention, in order to provide added or complementary assurances of rights protection for the content. For example, digital watermarking or similar steganographic techniques can be employed at the content server or the CPE  itself to embed such data within the content during storage\/recording or playback. In this fashion, surreptitious attempts to stream the stored content data off the CPE after playback authorization (per  herein), such as via another port of the CPE, are to some degree frustrated by the watermarking embedded in the data. Alternatively, hardware\/firmware \u201clocking\u201d of other resources and interfaces during playback may be used to limit the use of the content data being played back.","It will be appreciated that while certain aspects of the invention are described in terms of a specific sequence of steps of a method, these descriptions are only illustrative of the broader methods of the invention, and may be modified as required by the particular application. Certain steps may be rendered unnecessary or optional under certain circumstances. Additionally, certain steps or functionality may be added to the disclosed embodiments, or the order of performance of two or more steps permuted. All such variations are considered to be encompassed within the invention disclosed and claimed herein.","While the above detailed description has shown, described, and pointed out novel features of the invention as applied to various embodiments, it will be understood that various omissions, substitutions, and changes in the form and details of the device or process illustrated may be made by those skilled in the art without departing from the invention. The foregoing description is of the best mode presently contemplated of carrying out the invention. This description is in no way meant to be limiting, but rather should be taken as illustrative of the general principles of the invention. The scope of the invention should be determined with reference to the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1","i":"a "},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 5","i":"a "}]},"DETDESC":[{},{}]}
