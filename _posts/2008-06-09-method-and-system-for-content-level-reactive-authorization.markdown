---
title: Method and system for content level reactive authorization
abstract: Disclosed is a new system and method for the “Content-level Reactive Presence Authorization”, wherein the Presentity would be able to reactively authorize the Watcher requested contents of the Presentity's Presence Information. According to the system and method for the Content-level Reactive Presence Authorization, it is possible for the Presence Server to convey the identity of the Watchers and the protected contents to the Presentity on the states of the Watcher's requested contents of the Presence Information. According to the systems and methods, it is also possible for Presentity to specify the conditions when the Presence Server triggers such Content-level Reactive Presence Authorization.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09325801&OS=09325801&RS=09325801
owner: Samsung Electronics Co., Ltd
number: 09325801
owner_city: 
owner_country: KR
publication_date: 20080609
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND ART","DISCLOSURE","Technical Problem","Technical Solution","Advantageous Effects","BEST MODE","Mode for Invention","INDUSTRIAL APPLICABILITY"],"p":["The present invention, in general, relates to the field of SIP based presence applications as defined by the OMA specifications. The invention proposes reactive authorization based on content requested by a watcher. More particularly the present invention relates to method and system for content level reactive authorization.","In the currently existing mechanism, by using the Presence Authorization Policies the Presentity can tell the Presence Server who are authorized to watch his\/her Presence Information and, if authorized to watch, what part of his\/her Presence Information they can see. Such Presentity's Presence Authorization Policies are represented as Presence Authorization Rule XML document and stored in Presence XML Document Management Server (XDMS). The Presence Authorization Rule consists of two parts; Subscription Authorization Rule that determines who is authorized to subscribe to the Presentity's Presence Information, and Presence Content Rule that determines which contents of the Presentity's Presence Information are authorized to be delivered to the subscribing Watcher.","The following Table 1 shows the example of the Presence Authorization Rule. In this example, the rule specifies that the user with the URI of either \u201ctel:+43012345678\u201d or \u201csip:Hermione.blosson@exmaple.com\u201d is allowed to subscribe the Presentity's Presence Information, and the subscribed user with the URI of either \u201ctel:+43012345678\u201d or \u201csip:Hermione.blosson@exmaple.com\u201d is allowed to be provided with the \u2018PoC\u2019 service, \u2018willingness\u2019, and \u2018status-icon\u2019 related presence attributes.",{"@attributes":{"id":"p-0005","num":"0004"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"},{"entry":"<cr:ruleset"},{"entry":"\u2003xmlns:op=\u201curn:oma:xml:prs:pres-rules\u201d"},{"entry":"\u2003\u2002xmlns:pr=\u201curn:ietf:params:xml:ns:pres-rules\u201d"},{"entry":"\u2003\u2002xmlns:cr=\u201curn:ietf:params:xml:ns:common-policy\u201d>"},{"entry":"\u2003<cr:rule id=\u201cck81\u201d>"},{"entry":"\u2003\u2003<cr:conditions>"},{"entry":"\u2003\u2003\u2003<cr:identity>"},{"entry":"\u2003\u2003\u2003\u2003<cr:one id=\u201ctel:+43012345678\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003<cr:one id=\u201csip:hermione.blossom@example.com\u201d\/>"},{"entry":"\u2003\u2003\u2003<\/cr:identity>"},{"entry":"\u2003\u2003<\/cr:conditions>"},{"entry":"\u2003\u2003<cr:actions>"},{"entry":"\u2003\u2003\u2003<pr:sub-handling>allow<\/pr:sub-handling>"},{"entry":"\u2003\u2003<\/cr:actions>"},{"entry":"\u2003\u2003<cr:transformations>"},{"entry":"\u2003\u2003\u2003<pr:provide-services>"},{"entry":"\u2003\u2003\u2003\u2003<op:service-id>org.openmobilealliance:PoC-session<\/op:service-"},{"entry":"id>"},{"entry":"\u2003\u2003\u2003<\/pr:provide-services>"},{"entry":"\u2003\u2003\u2003<op:provide-willingness>true<\/op:provide-willingness>"},{"entry":"\u2003\u2003\u2003<pr:provide-status-icon>true<\/pr:provide-status-icon>"},{"entry":"\u2003\u2003<\/cr:transformations>"},{"entry":"\u2003<\/cr:rule>"},{"entry":"<\/cr:ruleset>"},{"entry":"<\/cr:transformations>"},{"entry":"\u2003<\/cr:rule>"},{"entry":"<\/cr:ruleset>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"When a Presence Server receives a SUBSCRIBE request on a Presentity's Presence Information from a Watcher, the Presence Server fetches the Presentity's Presence Authorization Rules from Presence XDMS, and uses it to authorize the Watcher with regards to subscription request and the parts of Presence Information to be delivered. The Presence Server keeps synchronized with the Presence XDMS by \u201cxcap-diff\u201d event package subscription such that the changes in the Presentity's Presence Authorization Rules could be instantly reflected in the Presence Server's handling of the Presence Information requests and delivery. This is called as Proactive Presence Authorization as the Presence Server can perform authorization for itself based on the predescribed static rules (i.e., Presence Authorization Rules in Presence XDMS) and without the need of direct interaction with Presentity.","Also, the Reactive Presence Authorization, where the Presence Server authorizes the Watcher's subscription requests to the Presentity's Presence Information per the Presentity's reaction on those, can be achieved by the following procedure: Firstly, the Presentity needs to subscribe for \u201cpresence. winfo\u201d event package to Presence Server. Upon this event subscription, the Presence Server notifies the Presentity of the current status of Watcher lists and their corresponding subscription states. With this information, the Presentity can identify which Watcher is \u2018pending\u2019 subscription state and, if the Presentity wants to allow the Watcher to see his Presence Information, the Presentity revises the Presence Authorization Rule in Presence XDMS as such. Such modifications of the rules are notified to the Presence Server and then the Presence Server applies those updated Presence Authorization Rules to handle the \u2018pending\u2019 subscription requests from the Watchers. The example flows of how the current reactive Presence Authorization mechanism works are shown in  and the steps involved are discussed in the followings.","The following describes each step in :","Note: Presence Server subscribing for changes to Presence Authorization Rule documents stored in Presence XDMS is omitted from the above  for simplicity.","In step , the Presentity  wishing to know the list of watchers who are subscribed for his\/her Presence Information sends a SIP SUBSCRIBE request to SIP\/IP core  subscribing for \u201cpresence.winfo\u201d event package.","In step , the SIP\/IP core  forwards the request to the Presence Server  of Presentity's domain.","In step , the Presence Server  processes the received SIP SUBSCRIBE and upon successful processing sends 200 OK response to SIP\/IP Core .","In step , the SIP\/IP core  forwards the 200 OK response to the Presentity .","In step , the Presence Server  sends SIP NOTIFY request containing the details of Watchers to the SIP\/IP core .","In step , the SIP\/IP core  forwards the SIP NOTIFY request to the Presentity .","In step , the Presentity  sends the 200 OK responses for the SIP NOTIFY request.","In step , the SIP\/IP core  forwards the 200 OK responses to the Presence Server .","In step , Watcher  wishing to subscribe for Presence Information of the Presentity  sends a SIP SUBSCRIBE request to the SIP\/IP Core .","In step , the SIP\/IP Core  forwards the SIP SUBSCRIBE to the Presence Server .","In step , the Presence Server  processes the received SIP SUBSCRIBE and finds out that the Watcher  is not authorized to subscribe for Presentity's Presence Information and hence acknowledges the SIP SUBSCRIBE with \u201c202 Accepted\u201d responses.","In step , the SIP\/IP Core  forwards the \u201c202 Accepted\u201d responses to the Watcher .","In step , as soon as the presence server  sends a SIP 202 Accepted response to accept the subscription, it sends a SIP NOTIFY request to the Watcher  as mandated by [RFC3265]. At this time, the Presence Information to be delivered to the Watcher  may be not available yet as the Watcher has not yet been authorized to see the Presentity's Presence Information. As such, a \u201cdummy\u201d SIP NOTIFY request can be sent, with a valid neutral or empty Presence Information and a valid Subscription-State header field (set to \u201cpending\u201d) for the time being.","In step , the SIP\/IP Core  forwards the SIP NOTIFY request with the \u2018dummy\u201d Presence Information to the Watcher .","In step , the Watcher  sends 200 OK responses to the received SIP NOTIFY request.","In step , the SIP\/IP Core  forwards 200 OK response to the Presence Server .","In step , the Presence Server  sends a SIP NOTIFY request to the Presentity  which contains the detailed lists of the Watchers who have subscribed for Presentity's Presence Information and the state of the subscription which is \u201cpending\u201d in this case.","In step , the SIP\/IP Core  forwards the SIP NOTIFY request to the Presentity .","In step , the Presentity  acknowledges the SIP NOTIFY request with 200 OK response.","In step , the SIP\/IP Core  forwards the 200 OK response to the Presence Server .","In step , after getting to know the Watcher's identity who is \u2018pending\u2019 subscription state, the Presentity  wishes to authorize the Watcher  to view his\/her Presence Information and hence the Presentity  does the XCAP operations in which to update Presence Authorization Rule (RFC 4825, \u201cThe Extensible Markup Language (XML) Configuration Access Protocol (XCAP)\u201d). As such, the Presentity  changes the Presence Authorization Rule document to authorize the Watcher .","Note: For brevity sake, the details of XCAP operations in step and the details of Presence Server getting to know the changes in the Presence Authorization Rules in Presence XDMS are not shown.","In step , the Presence Server  authorizes the Watcher  per the updated Presence Authorization Rule and issues another SIP NOTIFY containing the valid Presence Information which he\/she is authorized to view per the updated Presence Authorization Rule.","In step , the SIP\/IP Core  forwards the SIP NOTIFY to the Watcher .","In step , the Watcher  sends 200 OK response for SIP NOTIFY request.","In step , the SIP\/IP Core  forwards the 200 OK response to the Presence Server .","In the current mechanism, the base is the Proactive Presence Authorization mechanism based on the static rule named \u201cPresence Authorization Rule\u201d in Presence XDMS. The Reactive Presence Authorization can be achieved by the indirect way where the Presentity subscribes \u201cpresence.winfo\u201d event package, identifies the pending subscription request from Watchers by getting notification of \u201cpresence.winfo\u201d event, updating the static rule of \u201cPresence Authorization Rule\u201d in Presence XDMS, then the Presence Server gets notified of such changes in the rules and applies it to the pending subscriptions.","With the current presence authorization mechanism, the following limitations are observed:","A) In the current mechanism, the above Reactive Presence Authorization applies only to the Watcher's subscription request, i.e., it is only about whether to allow a presence subscription request or not. In other words, the authorization for the requested contents of presence information is not possible. As such, there's no way to reactively authorize the Watcher's requested contents. This results in the situation where: once the requested presence contents by Watcher have not been allowed by the Presence Authorization Rule, those contents keep persistently blocked to be delivered to the Watcher until the Presentity somehow voluntarily revises the Presence Content Rule of Presence Authorization Rule in Presence XDMS to allow the blocked contents to the Watcher.","B) In the current mechanism, there's no way for Presentity to specify the conditions when the Presence Server to request to Presentity for the Reactive Presence Authorization.","C) In the current mechanism, the Reactive Presence Authorization can be achieved only by revising the persistent static rule of \u201cPresence Authorization Rule\u201d in Presence XDMS. So, it is not possible for Presentity to perform one-time authorization which is valid only for the Watcher's active subscription duration, without affecting the static \u201cPresence Authorization Rule\u201d in Presence XDMS.","D) In the current mechanism, the Reactive Presence Authorization can be achieved only by indirect manner. i.e., there's no way for Presence Server to directly request the Presentity for the Reactive Presence Authorization on Watcher's request, without using the \u201cpresence.winfo\u201d event notification, to get the on-the-fly Reactive Presence Authorization from the Presentity.","Therefore, there is a need of a system and method that can tackle the above limitations of the current presence authorization mechanism.","In the purpose to cope with the above limitations of the existing arts, this invention proposes new systems and methods for the \u201cContent-level Reactive Presence Authorization\u201d wherein the Presentity would be able to reactively authorize the Watcher requested contents of the Presentity's Presence Information. For this Content-level Reactive Presence Authorization, this invention proposes new systems and methods where the Presence Server is able to convey to the Presentity on the states of the Watcher's requested contents of the Presence Information. Also, this invention proposes the systems and methods where the Presentity can specify the conditions when the Presence Server to trigger such Content-level Reactive Presence Authorization.","Further, this invention proposes the systems and methods where the Presentity can achieve \u201cDynamic Reactive Presence Authorization\u201d without the need to modify the static Presence Authorization Rule in Presence XDMS, but by directly delivering the reactive authorization to the Presence Server. Also, this invention proposes the systems and methods where the Presence Server can directly request the Presentity for the Reactive Presence Authorization without the help of \u201cpresence.winfo\u201d event package, so that the Presence Server can get the instant response from the Presentity on the Reactive Presence Authorization.","According to the present invention, it is possible for the Presentity to reactively authorize the Watcher requested contents. Moreover, when the Presence Server requests the Presentity to authorize the Reactive Presence Authorization, the Presentity may specify the condition for the authorization. Furthermore, according to the present invention, it is possible for the Presentity to perform one-time authorization which is valid only for the Watcher's active subscription duration, without affecting the static \u201cPresence Authorization Rule\u201d in Presence XDMS. It is also possible for the presence server to directly request the Presentity to perform authorization for Reactive Presence Authorization on the watcher request and acquire the Reactive Presence Authorization instantly in response to the request.","Hereinafter, exemplary embodiments of the present invention will be described with reference to the accompanying drawings.","The main arm of this invention is to enable the Presentities to protect the contents of the PUBLISHed Presence Information in more delicate manner. For this purpose, this invention proposes the systems and methods for the \u201cContent-level Reactive Presence Authorization\u201d, wherein the Presentity would be able to reactively authorize the Watcher requested contents of the Presentity's Presence Information.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 2"},"NOTE: SIP\/IP core is omitted from the above  for simplicity.","In step , the Watcher  makes a request for subscription to a Presence event. That is, the Watcher  subscribes to the Presence Information of the Presentity. The Watcher  can specifically request for the interested Presence Information by including the \u201capplication\/simple-filter+xml\u201d in the body of the SIP SUBSCRIBE request.","In step , after receiving the SIP SUBSCRIBE request, the Presence Server  applies corresponding Presence Authorization rules to the Watcher . For example, the Presence Server  performs default Presence Authorization.","In step , the Presence Server  collects presence content information which is not authorized in spite of the request of the Watcher  according to the result of the authorization.","In step , the Presence Server  delivers the result of the Presence content authorization to the Presentity . If the Presence Server  acknowledges the Watcher's requested contents that are not allowed by the Presence Authorization Rule, the Presence Server  decides the contents as \u201cprotected content\u201d, and then delivers these protected content to the Presentity .","In step , the Presentity  receives the details of the Protected content requested by the Watcher. Then, the Presentity  determines which Presence content to be allowed for the Watcher  after bringing the received details.","In step , when the Presentity  wants to allow the Watcher  to view the protected content, the Presentity  updates Presence Authorization Rule in order to authorize the protected content for the Watcher . This update process may be achieved by modifying Presence Authorization Rule stored in Presence XDMS or by directly instructing the Presence Server  to do it.","In step , the Presence Server  may acknowledge the changes in the Presence Authorization Rule and deliver the Presence contents as requested by the Watcher , by the updated Presence Authorization.","In step , the Presence Server  delivers the Presence contents allowed by the updated Presence Authorization to the Watcher .","The present invention proposes achieving Content-level Reactive Authorization through the following two ways.","1. Static Mechanism","2. Dynamic Mechanism","1. Static Mechanism\u2014In this method the Presentity has to modify the Presence Authorization Rules document to include the information about which part of the PUBLISHed Presence Information is private that requires Reactive Presence Authorization and to what Watchers. The changes are static i.e. the modification gets stored in the Presence XDM and persistent across the Sessions. In this method the Presentity, after knowing the details of watchers and the content they have requested, has to do XCAP operation to modify the Presence Authorization Rule in Presence XDMS to authorize the watchers and the requested contents.","In order to achieve this Content-level Reactive Presence Authorization by the static manner, the following mechanisms are required:","i. Presentity specifying the conditions for Presence Server to trigger the Content-level Reactive Presence Authorization for protected contents;","ii. Conveying the identity of the Watchers and the protected contents to Presentity;","iii. Presentity performing the Content-level Reactive Presence Authorization by modifying Presence Authorization Rule.","However, it should be noted that the Presence Server does not perform a procedure of Reactive Presence Authorization only when the Presentity specifies performance of Reactive Content Authorization, as described in i mechanism. That is, even if the Presentity does not specify the conditions for Reactive Content Authorization, the Presence Server may always perform a Reactive Presence Authorization procedure as a basic operation.","1.1 Presentity Specifying the Conditions for Presence Server to Trigger the Reactive Presence Authorization for Protected Contents","Approach 1","This invention proposes to extend the existing Presence Authorization Rule document such that Presentity can also specify the conditions for Presence Server to trigger the Content-level Reactive Presence Authorization on the protected contents in case there are some Watchers who has requested those. In order for this, this invention proposes to extend the \u201cactions\u201d element in Presence Authorization Rule to contain the \u201cprotected-content-handling\u201d element, the value of which specifies what the Presence Server need to do when the Watcher has requested the protected contents, i.e., when the Watcher requested more contents than allowed in <transformations>.","For backward compatibility, the default value should be \u201cignore\u201d, where those request on protected contents will be ignored and not be delivered to Watcher.","Other value could be \u201cconfirm\u201d that initiates Reactive Presence Authorization to the Presentity as proposed by this invention.","The following Presence Authorization Rule document as shown in Table 2 specifies the Presentity's predefined permissions on the Presentity's Presence Information requests by the Watcher \u201csip:user@example.com\u201d. Per this invention, this Presence Authorization Rule is extended to contain the conditions for the Content-level Reactive Presence Authorization by the \u201cprotected-content-handling\u201d action element with its value set as \u201cconfirm\u201d.",{"@attributes":{"id":"p-0080","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"},{"entry":"<cr:ruleset"},{"entry":"\u2003\u2002xmlns:op=\u201curn:oma:xml:prs:pres-rules\u201d"},{"entry":"\u2003\u2002xmlns:pr=\u201curn:ietf:params:xml:ns:pres-rules\u201d"},{"entry":"\u2003\u2002xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d"},{"entry":"\u2003\u2002xmlns:ext=\u201curn: content-auth\u201d"},{"entry":"\u2003\u2002xmlns:cr=\u201curn:ietf:params:xml:ns:common-policy\u201d>"},{"entry":"\u2003<cr:rule id=\u201cck81\u201d>"},{"entry":"\u2003\u2003<cr:conditions>"},{"entry":"\u2003\u2003\u2003<cr:identity>"},{"entry":"\u2003\u2003\u2003\u2002<cr:one id=\u201csip:user@example.com\u201d\/>"},{"entry":"\u2003\u2003\u2003<\/cr:identity>"},{"entry":"\u2003\u2003<\/cr:conditions>"},{"entry":"\u2003\u2003<cr:actions>"},{"entry":"\u2003\u2003\u2003<pr:sub-handling>allow<\/pr:sub-handling>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:protected-content-handling>confirm<\/ext:protected-"},{"entry":"content-handling>"},{"entry":"\u2003\u2003<\/cr:actions>"},{"entry":"\u2003\u2003<cr:transformations>"},{"entry":"\u2003\u2003\u2003<pr:provide-services>"},{"entry":"\u2003\u2003\u2003\u2003<op:service-id>org.openmobilealliance:PoC-session<\/op:service-"},{"entry":"id>"},{"entry":"\u2003\u2003\u2003<\/pr:provide-services>"},{"entry":"\u2003\u2003\u2003<op:provide-willingness>true<\/op:provide-willingness>"},{"entry":"\u2003\u2003\u2003<pr:provide-status-icon>true<\/pr:provide-status-icon>"},{"entry":"\u2003\u2003<\/cr:transformations>"},{"entry":"\u2003<\/cr:rule>"},{"entry":"<\/cr:ruleset>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Table 2 shows an example of a Presence Authorization Rule with the conditions to trigger the Content-level Reactive Presence Authorization based on approach 1.","The following Table 3 is the schema definition for the extension to Presence Authorization Rule for the conditions for the Content-level Reactive Presence Authorization as described in this section.",{"@attributes":{"id":"p-0083","num":"0082"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"]},{"entry":[{},"<xs:schema xmlns=\u201curn:content-auth\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009xmlns:xs=\u201chttp:\/\/www.w3.org\/2001\/"]},{"entry":[{},"XMLSchema\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009targetNamespace=\u201curn:content-auth\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009elementFormDefault=\u201cqualified\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<!-- Extend\u2003<actions>\u2003element\u2003to\u2003include\u2003<protected-"]},{"entry":[{},"content-handling> -->"]},{"entry":[{},"\u2003\u2003\u2003\u2002<xs:element name=\u201cprotected-content-handling\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:simpleType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:restriction base=\u201cxs:token\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:enumeration value=\u201cignore\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:enumeration value=\u201cconfirm\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:restriction>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:simpleType>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<\/xs:element>"]},{"entry":[{},"<\/xs:schema>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Table 3 shows schema definition for element to specify the conditions to trigger the Content-level Reactive Presence Authorization.","Approach 2","Alternatively, as showed in the following example below, the Presentity can specify the content information that always needs Content-level Reactive Presence Authorization. E.g., for the request for location information related Presence Information, Presentity always wants to authorize it reactively. This rule cannot occur with the above Approach 1), and will be described per presence attributes. So, in this approach, other requests for the protected contents will be ignored as it has been. The following Table 4 is an example of this rule. Note the changes in <identity> condition and <content-handling> action. So, in this case, only the request for \u201cgeopriv\u201d presence attributes per RFC 4119 will be asked to Presentity for the Content-level Reactive Presence Authorization, while the requests for all other protected contents being ignored.",{"@attributes":{"id":"p-0087","num":"0086"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"]},{"entry":[{},"<cr:ruleset"]},{"entry":[{},"\u2003\u2002\u2009xmlns:op=\u201curn:oma:xml:prs:pres-rules\u201d"]},{"entry":[{},"\u2003\u2002\u2009xmlns:pr=\u201curn:ietf:params:xml:ns:pres-rules\u201d"]},{"entry":[{},"\u2003\u2002\u2009xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d"]},{"entry":[{},"\u2003\u2002\u2009xmlns:ext=\u201curn:content-auth\u201d"]},{"entry":[{},"\u2003\u2002\u2009xmlns:cr=\u201curn:ietf:params:xml:ns:common-policy\u201d>"]},{"entry":[{},"\u2003<cr:rule id=\u201cck81\u201d>"]},{"entry":[{},"\u2003\u2003\u2009<cr:conditions>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<cr:identity>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<!-- This matches all authenticated identity -->"]},{"entry":[{},"\u2003\u2003\u2003\u2002\u2009<cr:many\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/cr:identity>"]},{"entry":[{},"\u2003\u2003\u2009<\/cr:conditions>"]},{"entry":[{},"\u2003\u2003\u2009<cr:actions>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:content-handling>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<ext:handling-geopriv\/>confirm<\/ext:handling-geopriv>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ext:content-handling>"]},{"entry":[{},"\u2003\u2003\u2009<\/cr:actions>"]},{"entry":[{},"\u2003\u2003\u2009<cr:transformations\/>"]},{"entry":[{},"<\/cr:rule>"]},{"entry":[{},"<\/cr :ruleset>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Table 4 shows Presence Authorization Rule with the conditions to trigger the Content-level Reactive Presence Authorization based on Approach 2.","The following Table 5 is the schema definition for the above extension to Presence Authorization Rule per Approach2. Note that only the \u201chandling-geopriv\u201d element for the handling on the requests for \u2018geopriv\u2019 presence attributes is defined in the following. The elements for other presence attributes can be defined in similar way:",{"@attributes":{"id":"p-0090","num":"0089"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["<xs:schema","xmlns=\u201curn:content-auth\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"xmlns:xs=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"},{"entry":"targetNamespace=\u201curn:content-auth\u201d elementFormDefault=\u201cqualified\u201d>"},{"entry":"<!-- Extend <actions> element to include <content-handling> -->"},{"entry":"\u2003\u2003\u2003\u2009<xs:element name=\u201ccontent-handling\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:complexType>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:sequence>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:element name=\u201chandling-geopriv\u201d minOccurs=\u201c0\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:simpleType>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:restriction base=\u201cxs:token\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:enumeration value=\u201cignore\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:enumeration value=\u201cconfirm\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:restriction>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/xs:simpleType>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:element>"},{"entry":"<!-- Elements for other presence attributes handling can be defined -->"},{"entry":"<xs:any\u2002\u2009namespace=\u201c##other\u201d\u2002\u2009processContents=\u201clax\u201d\u2002\u2009minOccurs=\u201c0\u201d"},{"entry":"maxOccurs=\u201cunbounded\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:sequence>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:complexType>"},{"entry":"\u2003\u2003\u2003\u2009<\/xs:element>"},{"entry":"<\/xs:schema>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"Table 5 shows Schema definition for element to specify the conditions to trigger the Content-level Reactive Presence Authorization based on Approach 2.","However, it is noted that the process described in the 1.1 section is not required when the Presence Server performs a Reactive Presence Authorization procedure as a basic operation. That is, even when the Presentity does not specify performance or non-performance of the Reactive Content Authorization procedure by the Presence Authorization Rule, the Presence Server may perform a corresponding Reactive Content Authorization procedure as a basic operation.","1.2 Conveying the Identity of the Watchers and the Protected Contents to Presentity","In order to achieve the Content-level Reactive Presence Authorization the Presentity should know the identity of the Watchers who are requesting for protected part of Presence Information and what part of protected content they are interested in. Currently the Presentity can be aware of Watchers who are interested in his\/her Presence Information by subscribing to Watcher information event package (RFC 3857, \u201cA Watcher Information Event Template-Package for the Session Initiation Protocol (SIP)\u201d) but what content they are interested remains unknown to the Presentity. This invention requires the Presentity to know what part of the protected Presence Information the Watcher is interested in. This can be achieved in the following ways:","Extending the format of Watcher Information (RFC 3858) to include the information about the protected contents of the Presence Information that the Watcher is interested in; Creation of new Event Package, e.g., named \u201cpresence.winfo.content\u201d to convey the information about the protected contents of the Presence Information that the Watcher is interested in.","1.2.1 Extending the Format of Watcher Information","Currently the Presentity can learn about the list of Watchers who have subscribed for his\/her Presence Information by subscribing to the \u201cpresence.winfo\u201d event package (RFC 3858). But with this mechanism the Presentity cannot know what content is requested by the Watchers. In order to achieve the Content-level Reactive Presence Authorization there is a need that Presentity must be aware of what content is requested by which Watcher.","It becomes very difficult to convey all the contents that are requested by the Watcher. Instead it is enough if the Presentity knows about the Watchers who have requested to view the part of Presence Information which is marked protected by the Presentity in the Presence Authorization policy document in Presence XDMS. In order to convey this kind of information to Presentity, this invention proposes to extend the schema defined for Watcher Information Format (RFC 3858) to include the details of the protected Presence Information if any, requested by any Watcher. There can be two approaches to extend the \u201cpresence.winfo\u201d event package as described in the following.","Approach 1","In this approach the root element \u201cwatcherinfo\u201d of the Watcher information document as described in RFC 3858 is extended to contain \u201cwatcher-contents-list\u201d element which carries the details of the contents requested by each Watchers and their identity. \u201cwatcher-contents-list\u201d element contains \u201cns-bindings\u201d element to specify the namespace bindings for the Presence Information. \u201cns-bindings\u201d element contains any number of \u201cns-binding\u201d elements. The format of \u201cns-bindings\u201d and \u201cns-binding\u201d elements are similar to the format as described in RFC 4661. \u201cwatcher-contents-list\u201d element contains any number of \u201cwatcher-contents\u201d element to carry the details of Watchers and the Presence Information they have requested. The \u201cwatcher-contents\u201d element must have an attribute named \u201cwatcher\u201d whose value is URI of the Watcher and also this element contains any number of \u201ccontent\u201d elements and each \u201celement carries the details and the state of the part of the Presence Information which the Watcher has requested. There are two attributes associated with the \u201ccontent\u201d element, both of which must be present:","Status: The status of the authorization for the content described by \u201ccontent\u201d element whose value could be \u201cpending\u201d.","Type: Its value should be \u201cxpath\u201d to tell that the value of the \u201ccontent\u201d element is an XML element.","The following Table 6 is an example of Watcher information extension for a Presentity sip:mayur@samsung.com which uses the format described as above in Approach1. There are two watchers, userA and userB, whose URI is \u201csip:userA@example.com\u201d and \u201csip:userB@example.com\u201d, respectively. The Watchers have requested to view the Presentities mood, activities and place-type information and the same are marked as private by the Presentity for the Watchers userA and userB. The Presentity comes to know about this through the NOTIFY request on the \u201cpresence.winfo\u201d Watcher information event as extended by the above approach I. If the Presentity is willing to authorize the Presentity will XCAP operation to modify the Presence Authorization document to allow to Watchers those contents that they have requested.",{"@attributes":{"id":"p-0104","num":"0103"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d?>"]},{"entry":[{},"<watcherinfo xmlns=\u201curn:ietf:params:xml:ns:watcherinfo\u201d"]},{"entry":[{},"xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d"]},{"entry":[{},"xmlns:ext=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"version=\u201c0\u201d state=\u201cfull\u201d>"]},{"entry":[{},"<watcher-list resource=\u201csip:mayur@samsung.com\u201d package=\u201cpresence\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<watcher\u2003\u2002status=\u201cactive\u201d\u2003\u2002id=\u201c8ajksjda7s\u201d\u2003\u2002duration-"]},{"entry":[{},"subscribed=\u201c509\u201d event=\u201capproved\u201d >sip:userA@example.net<\/watcher>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<watcher status=\u201cpending\u201d id=\u201chh8juja87s997-ass7\u201d"]},{"entry":[{},"display-name=\u201cMr. Subscriber\u201d"]},{"entry":[{},"event=\u201csubscribe\u201d>sip:userB@example.org<\/watcher>"]},{"entry":[{},"<\/watcher-list>"]},{"entry":[{},"<ext:watcher-contents-list>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<ext:ns-bindings>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:ns-binding","prefix=\u201cpidf\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"urn=\u201curn:ietf:params:xml:ns:pidf\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:ns-binding","prefix=\u201cdm\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"urn=\u201curn:ietf:params:xml:ns:pidf:data-model\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:ns-binding","prefix=\u201crpid\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"urn=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:ns-binding","prefix=\u201cgp\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"urn=\u201dietf:params:xml:ns:pidf:geopriv10\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/ext:ns-bindings>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<ext:watcher-contents watcher=\u201csip:userA@example.net\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009\/pidf:presence\/dm:person\/rpid:activities"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009\/pidf:presence\/dm:person\/rpid:mood"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009\/pidf:presence\/dm:person\/rpid:place-type"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/ext:watcher-contents>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<ext:watcher-contents watcher=\u201csip:userB@example.net\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009\/pidf:presence\/dm:person\/gp:geopriv\/"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009gp:location-info"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/ext:watcher-contents>"]},{"entry":[{},"<\/ext:watcher-contents-list>"]},{"entry":[{},"<\/watcherinfo>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Table 6 Shows Example Watcher Information Extension Based on Approach 1","The following Table 7 is the schema definition for the extension part of Watcher information described in Approach 1:",{"@attributes":{"id":"p-0107","num":"0106"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"]},{"entry":[{},"<xs:schema targetNamespace=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009xmlns=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2009xmlns:xs=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009elementFormDefault=\u201cqualified\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009attributeFormDefault=\u201cunqualified\u201d>"]},{"entry":[{},"<!-- This import brings in the XML language attribute xml:lang-->"]},{"entry":[{},"\u2003\u2003<xs:import namespace=\u201chttp:\/\/www.w3.org\/XML\/1998\/namespace\u201d"]},{"entry":[{},"schemaLocation=\u201chttp:\/\/www.w3.org\/2001\/03\/xml.xsd\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:element name=\u201cwatcher-contents-list\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:element ref=\u201cns-bindings\u201d minOccurs=\u201c0\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:element\u2003\u2009ref=\u201cwatcher-contents\u201d\u2003\u2009minOccurs=\u201c0\u201d"]},{"entry":[{},"maxOccurs=\u201cunbounded\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:any\u2003\u2009namespace=\u201c##other\u201d\u2003\u2009processContents=\u201clax\u201d"]},{"entry":[{},"minOccurs=\u201c0\u201d maxOccurs=\u201cunbounded\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:anyAttribute namespace=\u201c##other\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/xs:element>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:element name=\u201cns-bindings\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:element name=\u201cns-binding\u201d maxOccurs=\u201cunbounded\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:attribute"]},{"entry":[{},"name=\u201cprefix\u201d type=\u201cxs:string\u201d use=\u201crequired\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:attribute\u2003\u2002name=\u201curn\u201d\u2003\u2002type=\u201cxs:anyURI\u201d"]},{"entry":[{},"use=\u201crequired\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/xs:element>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/xs:element>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:element name=\u201cwatcher-contents\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:element\u2003\u2003\u2003\u2002ref=\u201ccontent\u201d\u2003\u2003\u2003\u2009minOccurs=\u201c0\u201d"]},{"entry":[{},"maxOccurs=\u201cunbounded\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:attribute name=\u201cwatcher\u201d type=\u201cxs:anyURI\u201d"]},{"entry":[{},"use=\u201crequired\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/xs:element>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:element name=\u201ccontent\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:simpleContent>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<xs:extension base=\u201cxs:string\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:attribute\u2003\u2003\u2002name=\u201cstatus\u201d"]},{"entry":[{},"use=\u201crequired\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:simpleType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009\u2003\u2003\u2003\u2003\u2002<xs:restriction"]},{"entry":[{},"base=\u201cxs:string\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:enumeration value=\u201cpending\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:enumeration value=\u201cactive\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:restriction>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:simpleType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:attribute>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:attribute\u2003\u2003\u2003\u2009name=\u201ctype\u201d"]},{"entry":[{},"use=\u201crequired\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:simpleType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<xs:restriction"]},{"entry":[{},"base=\u201cxs:string\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<xs:enumeration value=\u201cxpath\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:restriction>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:simpleType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:attribute>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/xs:extension>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/xs:simpleContent>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:complexType>"]},{"entry":[{},"\u2003\u2003\u2003\u2009<\/xs:element>"]},{"entry":[{},"<\/xs:schema>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Approach 2","This approach purposes to reuse the approach used in Presence Authorization Rule per draft-ietf-simple-presence-rules to express the requested content, where the presence attributes are expressed like <provide-devices>, <provide-activities> etc. Here in this approach the root element \u201cwatcherinfo\u201d of the Watcher information document as described in RFC 3858 is extended to contain \u201cwatcher-contents-list\u201d element which carries the details of the contents requested by each Watchers and their identity. \u201cwatcher-contents-list\u201d element contains any number of \u201cwatcher-contents\u201d element to carry the details of Watchers and the part of the Presence Information they have requested. The \u201cwatcher-contents\u201d element must have an attribute named \u201cwatcher\u201d whose value is URI of the Watcher. The \u201cwatcher-contents\u201d element can have presence information data format elements as described in the draft-ietf-simple-presence-rules. As the requested contents have been represented in the unit of presence information data format which is the same way that the Presence Content Rule in Presence Authorization Rule uses to express the allowed contents in <transformations> element, the Presentity would be able to easily update the Presence Content Rule per the Approach 2.","The following Table 8 is an example of Watcher information extension for a Presentity sip:mayur@samsung.com which per the above Approach 2. This example contains the same Watcher information as the example in Table 6, but is coded per the above Approach 2.",{"@attributes":{"id":"p-0111","num":"0110"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d?>"]},{"entry":[{},"<watcherinfo xmlns=\u201curn:ietf:params:xml:ns:watcherinfo\u201d"]},{"entry":[{},"xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d"]},{"entry":[{},"xmlns:ext=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"version=\u201c0\u201d state=\u201cfull\u201d>"]},{"entry":[{},"<watcher-list resource=\u201csip:mayur@samsung.com\u201d package=\u201cpresence\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<watcher status=\u201cactive\u201d id=\u201c8ajksjda7s\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"duration-subscribed=\u201c509\u201d","event=\u201capproved\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},">sip:userA@example.net<\/watcher>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2002<watcher status=\u201cpending\u201d id=\u201chh8juja87s997-ass7\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"display-name=\u201cMr.","Subscriber\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"event=\u201csubscribe\u201d>sip:userB@example.org<\/watcher>"]},{"entry":[{},"<\/watcher-list>"]},{"entry":[{},"<ext:watcher-contents-list>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<ext:watcher-contents watcher=\u201csip:userA@example.net\u201d>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<ext:activities","status=\u201cpending\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:mood",{}]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002status=\u201cpending\u201d\/>",{}]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:placy-type","status=\u201cpending\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:watcher-contents>",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<ext:watcher-contents watcher=\u201csip:userB@example.net\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<ext:geopriv","status=\u201cpending\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:watcher-contents>",{}]},{"entry":[{},"<\/ext:watcher-contents-list>",{}]},{"entry":[{},"<\/watcherinfo>"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"The following Table 9 is the schema definition for the format of Watcher information extension described in Approach 2.",{"@attributes":{"id":"p-0113","num":"0112"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"]},{"entry":[{},"<xs:schema targetNamespace=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002xmlns=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003xmlns:xs=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"]},{"entry":[{},"\u2003\u2003elementFormDefault=\u201cqualified\u201d"]},{"entry":[{},"\u2003\u2003attributeFormDefault=\u201cunqualified\u201d>"]},{"entry":[{},"\u2003\u2003\u2003<!-- This import brings in the XML language attribute xml:lang-->"]},{"entry":[{},"<xs:import\u2003\u2003\u2003\u2003\u2003\u2003namespace=\u201chttp:\/\/www.w3.org\/XML\/1998\/"]},{"entry":[{},"namespace\u201d schemaLocation=\u201chttp:\/\/www.w3.org\/2001\/03\/xml.xsd\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:element name=\u201cwatcher-contents-list\u201d>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"196pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<xs:complexType>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<xs:sequence>"]},{"entry":[{},"<xs:element ref=\u201cwatcher-contents\u201d minOccurs=\u201c0\u201d"]},{"entry":[{},"maxOccurs=\u201cunbounded\u201d\/>"]},{"entry":[{},"<xs:any\u2003\u2002namespace=\u201c##other\u201d\u2003\u2002processContents=\u201clax\u201d"]},{"entry":[{},"minOccurs=\u201c0\u201d maxOccurs=\u201cunbounded\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<xs:anyAttribute processContents=\u201clax\u201d\/>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"196pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<\/xs:complexType>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:element>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<xs:element name=\u201cwatcher-contents\u201d>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"196pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<xs:complexType>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<xs:sequence>"]},{"entry":[{},"\u2003<!-- Sequence of elements that represents Presence Data Information"]},{"entry":[{},"Format. element should have the \u201cstatus\u201d element that shows the"]},{"entry":[{},"authorization status of the requested contents -->"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<\/xs:sequence>"]},{"entry":[{},"\u2003\u2003\u2003<xs:attribute name=\u201cwatcher\u201d type=\u201cxs:anyURI\u201d use=\u201crequired\u201d\/>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"196pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<\/xs:complexType>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/xs:element>"]},{"entry":[{},"<\/xs:schema>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0114","num":"0113"},"figref":"FIG. 3"},"The following describes each step in .","In step , the Presentity  wishing to know the list of Watchers who are subscribed for his\/her Presence Information and to know the contents they have requested for sends a SIP SUBSCRIBE request to SIP\/IP core  subscribing for the extended \u201cpresence.winfo\u201d event package per this invention.","In step , the SIP\/IP core  forwards the request to the Presence Server  of Presentity's domain.","In step , the Presence Server  processes the received SIP SUBSCRIBE and upon successful processing sends 200 OK response to SIP\/IP Core .","In step , the SIP\/IP core  forwards the 200 OK response to the Presentity .","In step , Presence Server  sends the SIP NOTIFY request containing the details of the Watchers who are subscribed for Presentity's Presence Information and what contents they have requested as proposed by this invention. The format of the contents sent in SIP NOTIFY request can be either formats as described in the two approaches of section 1.2.1.","In step , SIP\/IP Core  forwards the SIP NOTIFY request to the Presentity .","In step , Presentity  sends 200 OK response.","In step , SIP\/IP Core  forwards the 200 OK response to the Presence Server .","1.2.2 Creation of New Event Package to Convey the Identity of the Watchers and the Protected Contents to Presentity","1. RFC 3265 defines a generic framework for subscription to and notifications of events related to SIP systems. As an alternate method to 1.2.1, this invention defines a new event package to convey the details of Watchers and the protected content they have requested. The name of the new package is \u201cpresence.winfo.content\u201d. The functionality of the framework is similar to the one described in RFC 3265 and the NOTIFY message carries the XML document which contains the details of the Watchers and the protected contents they requested.","2. The format of the XML content is same as the one described in the previous section 1.2.1 as the extension to the Watcher Information format. The extension part to the existing Watcher information document which is described in the two approaches of the section 1.2.1 is re-used here and they act as an independent format.","3. The following Table 10 is the example SIP SUBSCRIBE request on \u201cpresence.winfo.content\u201d event package. Here, the Presentity \u201csip:mayur@example.com\u201d subscribes to his own \u201cpresence.winfo.content\u201d event.",{"@attributes":{"id":"p-0128","num":"0127"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SUBSCRIBE sip:mayur@example.com SIP\/2.0"]},{"entry":[{},"Via: SIP\/2.0\/TCP terminal.example.com;branch=z9hG4bKwYb6QREiCL"]},{"entry":[{},"\u2003Max-Forwards: 70"]},{"entry":[{},"From: <sip:mayur@example.com>;tag=ie4hbb8t"]},{"entry":[{},"To: <sip:mayur@example.com>"]},{"entry":[{},"Call-ID: cdB34qLToC@terminal.example.com"]},{"entry":[{},"CSeq: 322723822 SUBSCRIBE"]},{"entry":[{},"Contact: <sip:terminal.example.com>"]},{"entry":[{},"Event: presence.winfo.content"]},{"entry":[{},"Expires: 7200"]},{"entry":[{},"Accept: application\/watcherinfo-content+xml"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"As response to the above example SUBSCRIBE request in Table 10, The following Table 11 is the example SIP NOTIFY request on \u201cpresence.winfo.content\u201d event package to the Presentity \u201csip:mayur@example.com\u201d, with the details of the content requested by the Watchers and their identity being embedded as the content of this NOTIFY request. The content reuses the same format as described in the Approach 1 in the section 1.2.1. The content type for this information is \u201capplication\/watcherinfo-content+xml\u201d.","With this information, the Presentity \u201csip:mayor@exmaple.com\u201d can learn about the following information:","First, the Watcher \u201csip:userA@example.com\u201d has requested the Presence Information of the Presentity. Among the requested parts of the Presence Information, the requests for \u201cactivities\u201d, \u201cmood\u201d, \u201cplace-type\u201d presence attributes have not been allowed per the presence Presentity's Presence Content Rule in Presence XDMS.","Second, the Watcher \u201csip:userB@example.com\u201d has requested the Presence Information of the Presentity. Among the requested parts of the Presence Information, the request for the \u201clocation-info\u201d presence attributes has not been allowed per the present Presentity's Presence Content Rule in Presence XDMS.","Based on this information, the Presentity may want to modify his present Presence Content Rule in Presence XDMS to selectively allow the requested contents to the Watchers.",{"@attributes":{"id":"p-0134","num":"0133"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"NOTIFY sip:mayur@example.com SIP\/2.0"]},{"entry":[{},"Via: SIP\/2.0\/TCP PresenceServer.example.com SIP\/"]},{"entry":[{},"2.0;branch=z9hG4bKna998sk"]},{"entry":[{},"From: <sip:mayur@example.com>; tag=ffd2"]},{"entry":[{},"To:<sip:mayur@example.com>;tag=ie4hbb8t"]},{"entry":[{},"Call-ID: cdB34qLToC@terminal.example.com"]},{"entry":[{},"Event: presence.winfo.content"]},{"entry":[{},"Subscription-State: active"]},{"entry":[{},"Max-Forwards: 70"]},{"entry":[{},"CSeq: 8775 NOTIFY"]},{"entry":[{},"Contact: <sip:PresenceServer.example.com>"]},{"entry":[{},"Content-Type: application\/watcherinfo-content+xml"]},{"entry":[{},"Content-Length: ..."]},{"entry":[{},"<?xml version=\u201c1.0\u201d?>"]},{"entry":[{},"<ext:watcher-contents-list xmlns:ext=\u201curn:watcherContentInfo\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:ns-bindings>"]},{"entry":[{},"\u2003\u2003\u2003<ext:ns-binding prefix=\u201cpidf\u201d urn=\u201curn:ietf:params:xml:ns:pidf\u201d\/>"]},{"entry":[{},"<ext:ns-binding prefix=\u201cdm\u201d\u2003\u2002urn=\u201curn:ietf:params:xml:ns:pidf:data-"]},{"entry":[{},"model\u201d\/>"]},{"entry":[{},"\u2003\u2003<ext:ns-binding prefix=\u201crpid\u201d"]},{"entry":[{},"\u2003\u2003urn=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d\/>"]},{"entry":[{},"\u2003<ext:ns-binding prefix=\u201cgp\u201d"]},{"entry":[{},"\u2003urn=\u201dietf:params:xml:ns:pidf:geopriv10\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:ns-bindings>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<ext:watcher-contents watcher=\u201csip:userA@example.net\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009\/pidf:presence\/dm:person\/rpid:activities"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\/pidf:presence\/dm:person\/rpid:mood"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\/pidf:presence\/dm:person\/rpid:place-type"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:watcher-contents>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002\u2009<ext:watcher-contents watcher=\u201csip:userB@example.net\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<ext:content status=\u201cpending\u201d type=\u201cxpath\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2002\u2009\/pidf:presence\/dm:person\/gp:geopriv\/gp:location-info"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:content>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:watcher-contents>"]},{"entry":[{},"<\/ext:watcher-contents-list>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Table 11 shows an example of NOTIFY request on \u201cpresence.winfo.content\u201d event package with the contents per the Approach 1 in section 1.2.1.","As response to the above example SUBSCRIBE request in Table 10, the following Table 12 shows the example SIP NOTIFY request on \u201cpresence.winfo.content\u201d event package to the Presentity \u201csip:mayor@example.com\u201d with the contents per the Approach 2 in section 1.2.1. The content delivers the same information as the above Table 11, but reuses the format as described in the Approach 2 in the section 1.2.1.",{"@attributes":{"id":"p-0137","num":"0136"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"NOTIFY sip:mayur@example.com SIP\/2.0"]},{"entry":[{},"Via: SIP\/2.0\/TCP PresenceServer.example.com SIP\/"]},{"entry":[{},"2.0;branch=z9hG4bKna998sk"]},{"entry":[{},"From: <sip:mayur@example.com>; tag=ffd2"]},{"entry":[{},"To:<sip:mayur@example.com>;tag=ie4hbb8t"]},{"entry":[{},"Call-ID: cdB34qLToC@terminal.example.com"]},{"entry":[{},"Event: presence.winfo.content"]},{"entry":[{},"Subscription-State: active"]},{"entry":[{},"Max-Forwards: 70"]},{"entry":[{},"CSeq: 8775 NOTIFY"]},{"entry":[{},"Contact: <sip:PresenceServer.example.com>"]},{"entry":[{},"Content-Type: application\/watcherinfo-content+xml"]},{"entry":[{},"Content-Length: . . ."]},{"entry":[{},"<?xml version=\u201c1.0\u201d?>"]},{"entry":[{},"<ext:watcher-contents-list xmlns:ext=\u201curn:watcherContentInfo\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<ext:watcher-contents watcher=\u201csip:userA@example.net\u201d>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:activities","status=\u201cpending\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:mood",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002status=\u201cpending\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:placy-type","status=\u201cpending\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:watcher-contents>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003<ext:watcher-contents watcher=\u201csip:userB@example.net\u201d>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2009<ext:geopriv","status=\u201cpending\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:watcher-contents>"]},{"entry":[{},"<\/ext:watcher-contents-list>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0138","num":"0137"},"figref":"FIG. 4"},"Following are steps involved in .","In step , the Presentity  wishing to know the details of the contents requested by the Watchers who are subscribed for his\/her Presence Information sends an SIP SUBSCRIBE request to SIP\/IP core  subscribing for \u201cpresence.winfo.content\u201d event package per this invention.","In step , the SIP\/IP core  forwards the request to the Presence Server  of Presentity's domain.","In step , the Presence Server  processes the received SIP SUBSCRIBE and upon successful processing sends 200 OK response to SIP\/IP Core .","In step , the SIP\/IP core  forwards the 200 OK response to the Presentity .","In step , the Presence Server  sends the SIP NOTIFY request containing the details of the Watchers who are subscribed for Presentity's Presence Information and what content they have requested as proposed by this invention. The format of the content sent in SIP NOTIFY request can be either of format described in the two approaches of section 1.2.2.","In step , the SIP\/IP Core  forwards the SIP NOTIFY request to the Presentity .","In step , the Presentity  sends 200 OK response.","In step , the SIP\/IP Core  forwards the 200 OK response to the Presence Server .","1.2.3. Using Multipart\/Mixed Content Type to Convey the Protected Contents Requested by Watchers","This approach proposes to use the \u201cmultipart\/mixed\u201d content type as described in [RFC2387] in order to aggregate the Watcher Information and the protected contents requested by the watchers. In this format the root document contains the watcher information document as described in RFC 3858 and the remaining part contains the details of the protected contents requested by each watchers. The remaining part of the \u201cmultipart\/mixed\u201d content types contains the details of the protected content by each of the watcher. The format of this document could be any of the following:","1. Format explained in Approach 1 of the section 1.2.1 of this document [see Table 7]","2. Format explained in Approach 2 of the section 1.2.1 of this document [see Table 9]","3. Event Notification Filtering document as described in RFC 4661 with the clarifications explained in section 1.2.3.1 of this document.","1.2.3.1 Re-Using Event Notification Filter Document","This invention proposes to re-use the Event Notification Filtering document for conveying the details of the protected contents requested by the watchers to the Presentity with the clarifications as described below.","Clarifications:","The Presence Server of the Presentity domain figures out the protected contents if any, requested by the watchers, by applying the corresponding presence Authorization rules and also the Event notification filter requested by the watcher. Then, by using the Event notification of the Presentity described in sections 1.2.1 and 1.2.2, the Presence Server of the Presentity domain can forward the recognized protected content to the Presentity in the form of the Event notification filter. In this case, if a particular watcher has requested for any protected contents of the Presentity the Presence Server constructs the Filter document using the <include> element and sets the \u201curi\u201d attribute of the <filter> element to the URI of the watcher. Presence of any other attributes other than \u201curi\u201d should be ignored by the presentity. Usage of <exclude> and <trigger> elements are discouraged. This way the Presence Server constructs filter document for all the watchers who have requested for the protected contents and aggregate all the information as \u201cmultipart\/mixed\u201d content type and send in the notification of watcher information subscription. If the <filter> element has no \u201curi\u201d attribute, it can be extended to other new attributes for forwarding the Watcher's identity. The Presence Server notifies that all namespace bindings may be forwarded to the Presentity when the Presence Server aggregates filters from all of the watchers.","Table 13 shows an example NOTIFY containing the multipart\/mixed content type wherein one part contains the watcher information and the other part contains the filter document which is aggregation of protected content requested by the watchers.",{"@attributes":{"id":"p-0158","num":"0157"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"NOTIFY sip:mayur@samsung.com SIP\/2.0"]},{"entry":[{},"Via:\u2003\u2003\u2003\u2003\u2003\u2002SIP\/2.0\/TCP\u2003\u2003\u2003\u2003\u2003\u2002PresenceServer.example.com"]},{"entry":[{},"SIP\/2.0;branch=z9hG4bKna998sk"]},{"entry":[{},"From: <sip:mayur@example.com>; tag=ffd2"]},{"entry":[{},"To:<sip:mayur@example.com>;tag=ie4hbb8t"]},{"entry":[{},"Call-ID: cdB34qLToC@terminal.example.com"]},{"entry":[{},"Event: presence.winfo"]},{"entry":[{},"Subscription-State: active"]},{"entry":[{},"Max-Forwards: 70"]},{"entry":[{},"CSeq: 8775 NOTIFY"]},{"entry":[{},"Contact: sip:PresenceServer.example.com"]},{"entry":[{},"Content-Type: \u201cmultipart\/mixed\u201d; boundary=\u201daaaabbbbcccc\u201d"]},{"entry":[{},"-- aaaabbbbcccc"]},{"entry":[{},"\u2003\u2002Content-Transfer-Encoding: binary"]},{"entry":[{},"\u2003\u2002Content-Type: application\/watcher-info+xml;charset=\u201cUTF-8\u201d"]},{"entry":[{},"<?xml version=\u201c1.0\u201d?>"]},{"entry":[{},"<watcherinfo xmlns=\u201curn:ietf:params:xml:ns:watcherinfo\u201d"]},{"entry":[{},"xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d"]},{"entry":[{},"xmlns:ext=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"version=\u201c0\u201d state=\u201cfull\u201d>"]},{"entry":[{},"<watcher-list resource=\u201csip:mayur@samsung.com\u201d package=\u201cpresence\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<watcher status=\u201cactive\u201d id=\u201c8ajksjda7s\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"duration-subscribed=\u201c509\u201d","event=\u201capproved\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},">sip:userA@example.net<\/watcher>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2002\u2009<watcher status=\u201cpending\u201d id=\u201chh8juja87s997-ass7\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"display-name=\u201cMr.","Subscriber\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"event=\u201csubscribe\u201d>sip:userB@example.org<\/watcher>"]},{"entry":[{},"<\/watcher-list>"]},{"entry":[{},"<\/watcherinfo>"]},{"entry":[{},"-- aaaabbbbcccc"]},{"entry":[{},"\u2003\u2002Content-Transfer-Encoding: binary"]},{"entry":[{},"\u2003\u2002Content-Type: application\/simple-filter+xml;charset=\u201cUTF-8\u201d"]},{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"]},{"entry":[{},"\u2003\u2002<filter-set xmlns=\u201curn:ietf:params:xml:ns:simple-filter\u201d >"]},{"entry":[{},"\u2003\u2003\u2002<ns-bindings>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<ns-binding prefix=\u201cgame-ext\u201d"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003urn=\u201curn:ietf:params:xml:ns:game-ext\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2002<\/ns-bindings>"]},{"entry":[{},"\u2003\u2003\u2002<filter uri=\u201cuserA@example.net\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<what>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\/pidf:presence\/dm:person\/rpid:activities"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<\/include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2002\u2009\/pidf:presence\/dm:person\/gp:geopriv\/gp:location-info"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/include>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<\/what>"]},{"entry":[{},"\u2003\u2003\u2003<\/filter>"]},{"entry":[{},"\u2003\u2003\u2003<filter uri=\u201cuserB@example.net\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<what>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<\/include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2002\u2009\/pidf:presence\/dm:person\/gp:geopriv\/gp:location-info"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002\u2009<\/include>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<\/what>"]},{"entry":[{},"\u2003\u2003\u2002<\/filter>"]},{"entry":[{},"\u2003\u2002<\/filter-set>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Table 13 shows an example for conveying the protected contents requested by watchers to the Presentity using \u201cmultipart\/mixed\u201d content type.","1.2.4 Content Indirection Mechanism","The present invention proposes other mechanism for forwarding the Watcher's identity and the details of the protected content that have requested by the Watchers to the Presentity by using the content indirection mechanism, as described in [RFC4483]. In order to achieve the content indirection, the present invention proposes that the Presence Server stores statuses of protected content within the Presence Server, or in other places such as a content server in a separate MIME format as described in the above sections 1.2.2 and 1.2.3, and then forwards the URI of the stored information to the Presentity by extending contents of Watcher information notification. The mechanism is required as follows.","In order to forward uri of the indirected content, one of <watcher-list> and <watcher-info> elements of the format of Watcher Information (RFC 3858) may be extended to include a new element or a new attribute. The Presentity, having received the uri of the indirected content, may retrieve the status of the protected contents in order to perform Reactive Authorization.","Table 14 shows an example of using the content indirection mechanism in order to forward the status of the protected contents to the Presentity.",{"@attributes":{"id":"p-0164","num":"0163"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"NOTIFY sip:mayur@samsung.com SIP\/2.0"]},{"entry":[{},"Via:\u2003\u2003\u2003\u2003\u2003\u2002SIP\/2.0\/TCP\u2003\u2003\u2003\u2003\u2003\u2002PresenceServer.example.com"]},{"entry":[{},"SIP\/2.0;branch=z9hG4bKna998sk"]},{"entry":[{},"From: <sip:mayur@example.com>; tag=ffd2"]},{"entry":[{},"To:<sip:mayur@example.com>;tag=ie4hbb8t"]},{"entry":[{},"Call-ID: cdB34qLToC@terminal.example.com"]},{"entry":[{},"Event: presence.winfo.content"]},{"entry":[{},"Subscription-State: active"]},{"entry":[{},"Max-Forwards: 70"]},{"entry":[{},"CSeq: 8775 NOTIFY"]},{"entry":[{},"Contact: sip:PresenceServer.example.com"]},{"entry":[{},"Content-Type: \u201cmultipart\/related\u201d; boundary=\u201daaaabbbbcccc\u201d"]},{"entry":[{},"-- aaaabbbbcccc"]},{"entry":[{},"\u2003\u2002Content-Transfer-Encoding: binary"]},{"entry":[{},"\u2003\u2002Content-Type: application\/watcher-info+xml;charset=\u201cUTF-8\u201d"]},{"entry":[{},"<?xml version=\u201c1.0\u201d?>"]},{"entry":[{},"<watcherinfo xmlns=\u201curn:ietf:params:xml:ns:watcherinfo\u201d"]},{"entry":[{},"xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d"]},{"entry":[{},"xmlns:ext=\u201curn:watcherContentInfo\u201d"]},{"entry":[{},"version=\u201c0\u201d state=\u201cfull\u201d>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<watcher-list","resource=\u201csip:mayur@samsung.com\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"package=\u201cpresence\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<watcher status=\u201cactive\u201d id=\u201c8ajksjda7s\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"duration-subscribed=\u201c509\u201d","event=\u201capproved\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},">sip:userA@example.net<\/watcher>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<watcher status=\u201cpending\u201d id=\u201chh8juja87s997-ass7\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"display-name=\u201cMr.","Subscriber\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"event=\u201csubscribe\u201d>sip:userB@example.org<\/watcher>"]},{"entry":[{},"<\/watcher-list>"]},{"entry":[{},"<protected-contents>cid:1134299224244@example.net<\/protected-"]},{"entry":[{},"contents>"]},{"entry":[{},"<\/watcherinfo>"]},{"entry":[{},"-- aaaabbbbcccc"]},{"entry":[{},"Content-Type: message\/external-body;"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003access-type=\u201cURL\u201d;"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003expiration=\u201cMon, 24 June 2009 09:00:00 GMT\u201d;"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003URL=\u201chttp:\/\/www.example.net\/mayur\/prot-"]},{"entry":[{},"contents\/\u201d;"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003size=234422"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2002Content-Type: application\/watcherinfo-content+xml"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2002Content-ID: <1134299224244@example.net >"]},{"entry":[{},"Content-Description: Status of Protected contents."]},{"entry":[{},"-- aaaabbbbcccc"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"1.3. A Method in which the Watcher Represents Preference in Order to Receive Notification for the Presence Contents","Based on RFC 4661, when the watcher adds the identifying presence element to the filtered presence information document, <added> filter element is used to trigger content forwarding. The present invention also proposes utilizing the <added> filter element for Reactive Content Authorization such as the presence element specified in the <added> filter element indicating an obvious request of the Watcher that receives the specific element. Therefore, the Presence Server receiving a filter having the <added> element may analyze it in the following ways.","a) When the presence information element listed in the <added> element already authorizes the Watcher, it is possible to include these elements, as one part of an initial NOTIFY, and send the elements to the watcher.","b) When the presence information element listed in the <added> element does not authorize the Watcher, the presence information elements may include only these elements, as one part of the protect content to transmit to the Presentity, in order to authorize Reactive Authorization. In this case, the Presence Server may delay an initial NOTIFY request for a specific time period so that the Presentity modifying the Presence Authorization Rule allows the specific content for the watcher. If the authorization does not occur within the time of the specific period, the Presence Server sends the initial NOTIFY request having the allowed presence content to the watcher.","Table 15 shows an example of the event notification filter document for forwarding the watcher presence that receives the notification by using the <added> element.",{"@attributes":{"id":"p-0170","num":"0169"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"]},{"entry":[{},"\u2003\u2009<filter-set xmlns=\u201curn:ietf:params:xml:ns:simple-filter\u201d >"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ns-bindings>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"182pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<ns-"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"binding prefix=\u201cpidf\u201d urn=\u201curn:ietf:params:xml:ns:pidf\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"182pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<ns-"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"binding prefix=\u201cdm\u201d\u2003\u2002urn=\u201curn:ietf:params:xml:ns:pidf:data-model\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"182pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<ns-"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"binding prefix=\u201crpid\u201d urn=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"182pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<ns-"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"binding prefix=\u201cgp\u201d\u2003\u2002urn=\u201dietf:params:xml:ns:pidf:geopriv10\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ns-bindings>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<filter uri=\u201cuserA@example.net\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<what>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\/pidf:presence\/dm:person\/rpid:activities"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<\/include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<include>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002\/pidf:presence\/dm:person\/gp:geopriv\/gp:location-info"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"182pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<\/include>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003\u2002<\/what>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"182pt","align":"right"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},{},"<trigger>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"7pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<added>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002\/pidf:presence\/dm:person\/gp:geopriv\/gp:location-info"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<\/added>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<added>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\/pidf:presence\/dm:person\/rpid:activities"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/added>"]},{"entry":[{},"\u2003\u2003\u2002<\/filter>"]},{"entry":[{},"<\/filter-set>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"1.4. Presentity performing Reactive Presence Authorization by Modifying Presence Authorization Rule in Presence XDMS.","Upon receiving the above information on the Watcher's requests for the protected content of the Presence Information per the mechanisms described in the above section 1.1 and 1.2, Presentity may elect to perform the Content-level Reactive Presence Authorization to selectively authorize the Watcher's requests on the protected contents of the Presentity's Presence information. The Presentity can achieve this Content-level Reactive Presence Authorization by modifying as such, the Presence Content Rule in the Presentity's Presence Authorization Rule in Presence XDMS, using the XCAP operations. Then, these changes in Presence Content Rule in the Presence Authorization Rule will be notified to Presence Server, then the Presence Server applies this updated Presence Content Rule to authorize the Watcher's requests on the protected contents of the Presentity's Presence Information and deliver those to the requesting Watcher.","2. Dynamic Mechanism","In the previous section 1 this invention discussed about \u201cStatic Mechanism\u201d for achieving the Content-level Reactive Presence Authorization. This inventions further proposes another dimension to achieve Content-level Reactive Presence Authorization in dynamic manner, which is called \u201cDynamic Mechanism\u201d or \u201cDirect Mechanism\u201d.","The \u201cStatic Mechanism\u201d in section 1 requires the Presentity to update the static Presence Authorization Rule in Presence XDMS to perform the Content-level Reactive Presence Authorization. As such, the Content-level Reactive Presence Authorization per the \u201cStatic Mechanism\u201d in section 1 exists persistently and continues to be applied to the future requests from the Watchers.","Compared to the \u201cStatic Mechanism\u201d, this \u201cDynamic Mechanism\u201d does not require any modification to the existing Presence Authorization Rule document to perform the Content-level Reactive Presence Authorization, but with the \u201cDynamic Mechanism\u201d the Presentity sends the Content-level Reactive Presence Authorization directly to the Presence Server. As such, the Content-level Reactive Presence Authorization using the \u201cDynamic Mechanism\u201d does hold only for the Watcher's pending or active subscription duration.","Further, this invention proposes that this \u201cDynamic Mechanism\u201d for the Content-level Reactive Presence Authorization can also be applied for the Reactive Presence Authorization of subscription as well as that of contents. In other words, this \u201cDynamic Mechanism\u201d for Reactive Presence Authorization can be applied for both Subscription Authorization Rule and Content Authorization Rule. (Note that the Presence Authorization Rule consists of Subscription Authorization Rule and Content Authorization Rule.) As such, this invention calls the \u201cDynamic Mechanism\u201d as the \u201cDynamic Reactive Presence Authorization\u201d.","With the Dynamic Reactive Presence Authorization, this invention proposes that the Presence Authorization Rule in Presence Server that the Presence Server uses to authorize the presence requests from Watchers is the composite view of the following two parts of the Presence Authorization Rule:","The former is Static Presence Authorization Rule that is based on the Presence Authorization Rule document in Presence XDMS, and the latter is Volatile Presence Authorization Rule set directly by the Presentity.","As mentioned above, the volatile part of the Presence Authorization Rule in Presence Server holds during Watcher's pending or active subscription duration. So, the same Presence Authorization Rule in Presence Server will be applied for re-SUBSCRIBE request. Also, the same Presence Authorization Rule in Presence Server will be applied for every SIP NOTIFY to the Watcher. But, it should be noted that, upon termination of the Watcher's current active subscription, the volatile part of Presence Authorization Rule in Presence Server will disappear.","To achieve the Dynamic Reactive Presence Authorization this invention proposes the following steps:","1. Presentity specifying the conditions for Presence Server to trigger the Reactive Presence Authorization for protected contents. This can be achieved per the mechanisms proposed in section 1.1;","2. Conveying the identity of the Watchers and the protected contents to Presentity. This can be achieved per the mechanisms proposed in section 1.2;","3. Presentity performing Reactive Presence Authorization by sending the authorization directly to Presence Server.","Alternatively, this invention proposes that Presence Server directly asks Presentity for Reactive Presence Authorization, then Presentity responses directly to the Presence Server with the Reactive Presence Authorization.","2.1 Presentity Performing Reactive Presence Authorization Directly to Presence Server","As described in the above section 1., this invention proposes that Presence Server have the composite view of Presence Authorization Rule by composing the static Presence Authorization Rule from Presence XDMS and the volatile Presence Authorization Rule that comes directly from Presentity. This invention proposes to denote the volatile Presence Authorization Rule as the new event package called \u201cpresauth\u201d.","Upon the information on the Watcher's requests for the Presentity's Presence Information, the Presentity may elect to authorize the Watcher's request just for one time rather than in persistent manner. This invention proposes that the Presentity that wants such volatile Presence Authorization issue the PUBLISH request for the \u201cpresauth\u201d event package to Presence Server. The body of such PUBLISH requests carries the \u201cvolatile\u201d Presence Authorization Rule. The content type for this body can be \u201capplication\/presauth+xml\u201d.","Upon receiving this PUBLISH request on \u201cpresauth\u201d event package with Presence Authorization Rule from Presentity, the Presence Server will compose this \u201cvolatile\u201d Presence Authorization Rule with the static Presence Authorization Rule from Presence XDMS. When composing, the \u201cvolatile\u201d rule will take precedence over the \u201cstatic\u201d rule in case that those rules collide. For easy composition with static Presence Authorization Rule, the content of \u201cdynamic\u201d Presence Authorization Rule can have the same format as the static Presence Authorization Rule. The Presence Server can wait for some specific period of time to receive the dynamic Authorization rule. If no rule is received from the Presentity within the specified time the Presence Server can apply the static Authorization rule.","As this is a new event package, Presentity can also use SIP event SUBSCRIBE\/NOTIFY (RFC 3857) to get synchronized with the \u201cvolatile\u201d Presence Authorization Rule in Presence Server.","The following Table 13 shows the example PUBLISH requests on the \u201cpresauth\u201d event package with the body containing the \u201cvolatile\u201d Presence Authorization Rule as proposed by this invention, which Presentity of \u201csip:Presentity@example.com\u201d sends to Presence Server.",{"@attributes":{"id":"p-0192","num":"0191"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"PUBLISH sip:Presentity@example.com SIP\/2.0"]},{"entry":[{},"Via: SIP\/2.0\/UDP pua.example.com;branch=z9hG4bK652hsge"]},{"entry":[{},"To: <sip:Presentity@example.com>"]},{"entry":[{},"From: <sip:Presentity@example.com>;tag=1234wxyz"]},{"entry":[{},"Call-ID: 81818181@pua.example.com"]},{"entry":[{},"CSeq: 1 PUBLISH"]},{"entry":[{},"Max-Forwards: 70"]},{"entry":[{},"Event: presauth"]},{"entry":[{},"Content-Type: application\/presauth+xml"]},{"entry":[{},"Content-Length: . . ."]},{"entry":[{},"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"]},{"entry":[{},"<cr:ruleset"]},{"entry":[{},"\u2003\u2002xmlns:op=\u201curn:oma:xml:prs:pres-rules\u201d"]},{"entry":[{},"\u2003\u2002xmlns:pr=\u201curn:ietf:params:xml:ns:pres-rules\u201d"]},{"entry":[{},"\u2003\u2002xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d"]},{"entry":[{},"\u2003\u2002xmlns:cr=\u201curn:ietf:params:xml:ns:common-policy\u201d>"]},{"entry":[{},"\u2003<cr:rule id=\u201cck81\u201d>"]},{"entry":[{},"\u2003\u2003<cr:conditions>"]},{"entry":[{},"\u2003\u2003\u2003<cr:identity>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<cr:one id=\u201csip:user@example.com\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<\/cr:identity>"]},{"entry":[{},"\u2003\u2003\u2002<\/cr:conditions>"]},{"entry":[{},"\u2003\u2003\u2002<cr:actions>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<pr:sub-handling>allow<\/pr:sub-handling>"]},{"entry":[{},"\u2003\u2003\u2002<\/cr:actions>"]},{"entry":[{},"\u2003\u2003\u2002<cr:transformations>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<pr:provide-services>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2002<op:service-id>org.openmobilealliance:PoC-"]},{"entry":[{},"session<\/op:service-id>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<\/pr:provide-services>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<op:provide-willingness>true<\/op:provide-willingness>"]},{"entry":[{},"\u2003\u2003\u2003\u2002<pr:provide-status-icon>true<\/pr:provide-status-icon>"]},{"entry":[{},"\u2003\u2003\u2002<\/cr:transformations>"]},{"entry":[{},"\u2003\u2002<\/cr:rule>"]},{"entry":[{},"<\/cr:ruleset>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The following  shows the example flows where Presentity issues PUBLISH request on \u201cpresauth\u201d event package to deliver the volatile Presence Authorization Rule to Presence Server.","Following steps describe the steps in :","In step , the Presentity  in order to get to know the details of the Watchers' requests for presence subscription and the contents of the Presentity's Presence Information they have requested would send SIP SUBSCRIBE subscribing for \u201cpresence.winfo\u201d event package with extensions proposed in this invention (section 1.2.1) or for \u201cpresence.winfo.content\u201d event package as described in the section 1.2.2.","In step , watcher  sends SIP SUBSCRIBE to subscribe for the Presence Information of the Presentity. But, this Watcher  is not yet authorized by Presentity  based on the static Presence Authorization Rule in Presence XDMS.","In step , the Presence Server  sends a SIP NOTIFY request on either \u201cpresence.winfo\u201d event package with extensions by this invention or \u201cpresence.winfo.content\u201d event package. This SIP NOTIFY request carries the details of the Watcher lists and their requests for the protected contents as proposed by this invention.","In step , presentity  wishing to authorize the Watcher just for one time rather than persistently sends the SIP PUBLISH request on \u201cpresauth\u201d event package to Presence Server  with its body containing the volatile Presence Authorization Rule as proposed by this invention.","In step , the Presence Server  sends SIP NOTIFY request to the Watcher  which contains the valid Presence Information which he\/she is reactively authorized to view.","2.2 Presence Server Directly Asking Presentity for Reactive Presence Authorization","This invention further proposes an alternative method for the Presentity getting to know the details of the Watchers' requests for presence subscriptions and the protected contents they have requested, wherein: Presence Server directly delivers the status of Watchers' requests, asking for Presentity to perform the Reactive Presence Authorization.","In the previous methods the Presentity have to subscribe for the information on Watcher requested contents by using the methods described in the section 1.2 of this document.","But here in this alternative method there is no need for the Presentity to do subscribe for Watcher content information; instead, the Presence Server directly pushes the information to the Presentity, directly asking for Presentity's Reactive Presence Authorization.","For this method, this invention proposes to utilize the SIP MESSAGE or other appropriate SIP methods. The content type of the SIP MESSAGE could be \u201capplication\/reactive-auth+xml\u201d and the format of the document carried in the SIP MESSAGE would be similar to the format describe in the section 1.2 of this document.","Upon receiving this information from Presence Server, Presentity can respond to the Presence Server with the Reactive Presence Authorization as previously described methods in this invention.","Other steps like Specifying the conditions for Presence Server to trigger the Reactive Presence Authorization for protected contents and Presentity performing Reactive Presence Authorization directly to Presence Server remains the same for this alternative method. The Presence Server can wait for some specific period of time to receive the dynamic Authorization rule. If no rule is received from the Presentity within the specified time the Presence Server can apply the static Authorization rule.","The following  shows the example flows of this alternate methods. Compared to the above , the only difference is that: instead of using the \u201cpresence.winfo\u201d or \u201cpresence.winfo.content\u201d event package, the Presence Server pushes the information on the Watcher's requests for subscription and the protected contents of the Presentity's Presence Information using the SIP MESSAGE method with this information in the body. Therefore, the detailed description for steps  to  will be omitted.","Although several exemplary embodiments of the present invention have been described for illustrative purposes, those skilled in the art will appreciate that various modifications, additions and substitutions are possible, without departing from the scope and spirit of the invention as disclosed in the accompanying claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing and other objects, features and advantages of the present invention will become more apparent from the following detailed description when taken in conjunction with the accompanying drawings in which:",{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
