---
title: Fuzzy logic reasoning for inferring user location preferences
abstract: One or more embodiments of the invention provide a method, apparatus, and article of manufacture for refining an approximate location of a mobile device using fuzzy logic reasoning. An approximate location of a device is determined. A rule base that comprises an ordered collection of rules is then read into memory, or loaded from a database. A set of imprecise inputs are captured for processing in the rules. However, prior to processing the inputs in the rules, the inputs are processed to determine a magnitude of participation of the input in the rules. The rules are then applied to the imprecise inputs based on the magnitude of participation to produce a logical product. A refined location is then computed based on the logical product.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06978258&OS=06978258&RS=06978258
owner: Autodesk, Inc.
number: 06978258
owner_city: San Rafael
owner_country: US
publication_date: 20011226
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS","Example Application of Fuzzy Logic Refinement","Example 1 (Simple)","Example 2","CONCLUSION"],"p":["U.S. patent application Ser. No. 10\/037,805, entitled \u201cMOBILE DEVICE LOCATOR ADAPTER SYSTEM FOR LOCATION BASED SERVICES\u201d, by Nemmara Chithambaram, et. al, filed on the same dare herewith;","U.S. patent application Ser. No. 10\/034,440, entitled \u201cLOCATION BASED SERVICES BRIDGE TO EXTERNAL DATA SOURCES\u201d, by Nemmara Chithambaram, et al, filed on the same date herewith;","U.S. patent application Ser. No. 09\/629,115, entitled \u201cMETHOD AND APPARATUS FOR PROVIDING ACCESS TO MAPS ON A PERSONAL DIGITAL ASSISTANT (PDA)\u201d, by Nemmara Chithambaram et al, filed on Jul. 31, 2000;","U.S. patent application Ser. No. 09\/628,851, entitled \u201cGEOGRAPHICAL DATA MARKUP ON A PERSONAL DIGITAL ASSISTANT (PDA)\u201d, by Edward J. Cannot, et al., filed on Jul. 31, 2000;","U.S. patent application Ser. No. 09\/628,850 filed on Jul. 31, 2000, entitled \u201cGENERALIZED, DIFFERENTIALLY ENCODED, INDEXED RASTER VECTOR DATA AND SCHEMA FOR MAPS ON A PERSONAL DIGITAL ASSISTANT\u201d, now issued as U.S. Pat. No. 6,674,445, by Nemmara Chithambaram et al,","U.S. patent application Ser. No. 09\/795,719, entitled \u201cINTERPROCESS APPLICATION PROGRAMMING INTERFACE FOR PERSONAL DIGITAL ASSISTANT APPLICATIONS, \u201d filed on Feb. 28, 2001, by Timothy John Nelson, et. al,","U.S. patent application Ser. No. 09\/795,890, entitled \u201cSINGLE GESTURE MAP NAVIGATION GRAPHICAL USER INTERFACE FOR A PERSONAL DIGITAL ASSISTANT,\u201d filed on Sep. 5,2001, by Nemmara Chithambaram, et. al,","U.S. patent application Ser. No. 09\/629,117, entitled \u201cMETHOD AND APPARATUS FOR OBTAINING A SET OF MAPS\u201d, by Howard Marantz et al, filed on Jul. 31, 2000; and","Patent Cooperating Treaty application serial number PCT\/US00\/26436, entitled \u201cGEOGRAPHIC MAPS ON A PERSONAL DIGITAL ASSISTANT (PDA) AND SERVER,\u201d filed on Sep. 26, 2000, by Nemmara Chithambaram, et. al,.","U.S. patent application Ser. No. 09\/411,506, entitled \u201cVECTOR-BASED GEOGRAPHIC DATA\u201d, by Gregory A. Roy, et. al, filed on Oct. 4, 1999, which is a continuation patent application of U.S. Pat. No. 5,966,135 issued on Oct. 12, 1999 (application Ser. No. 08\/757,706 filed on Oct. 30, 1996). by Gregory A. Roy et al, entitled \u201cVECTOR-BASED GEOGRAPHIC DATA\u201d.","1. Field of the Invention","The present invention relates generally to location based services, and in particular, to a method, apparatus, and article of manufacture for refining the location of a mobile device.","2. Description of the Related Art","Detecting the location of a mobile device (e.g., a cellular phone, a personal digital assistant [PDA], etc.) is fundamental to providing location based services (LBS). Location based services are applications\/services that utilize or are based on the location of a device. For example, detecting that a device is located on a particular street (e.g., McInnis Parkway) allows an LBS application to provide a nearby theatre (e.g., Northgate Mall Cinema) when a user requests the closest entertainment option. Additional examples of LBS applications include traffic updates, location sensitive billing, fleet management, and asset and people tracking. However, the device location currently provided by prior art wireless carriers is coarse (e.g., with precision ranging in 100s of meters or even 1000 meters or more). LBS services therefore need to refine this location to make the services valuable. These problems may be better understood by describing prior art location detection.","Location Detection Prior Art","A wide variety of methods\/protocols are used by mobile device carriers to determine and provide a device's location to an LBS application. For example, different methods may be used to identify the device. Further, different protocols may be used to communicate with the carrier's mobile positioning server (MPS). Different formats for request\/response exchange with the mobile positioning server may also be used. Additionally, there may be different levels of robustness, error handling, and network infrastructure stability.","There is often differing levels of precision\/accuracy in the location provided by the MPS. For example, most location technology is cell sector based (i.e., a location is merely identified as being within a particular cell sector). Accordingly, the approximate location provided by the MPS could be 150 meters to several 100 meters, or even 1000 meters or more from the actual location of the device. Thus, most MPS services only provide a geographic region that a mobile device is within that is highly inaccurate.","Such imprecision affects the value of an LBS application to a user. For example, more popular LBS applications such as business\/entertainment finders, friend finders, and\/or routing could be significantly more valuable to the user, if the approximate current location is more accurate. Accordingly, what is needed is the capability to refine an approximate location to a location that better represents the user's true location or to a prominent landmark in the vicinity of the user that the user can readily identify.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1","b":["100","102","104","104","104"]},"One or mote embodiments of the invention provide a method, system, apparatus, and article of manufacture for refining the location of a device using fuzzy logic. Location based services could be of significantly increased value to a user if the application and content were automatically tailored to match a user's current activity profile. For example, a leisure visitor would like to have easy access to the \u201ctourist landmarks\u201d whereas a commuter might be interested in reviewing train and bus stations and alternative routes to quickly get to the destination.","Intelligent reasoning of the user's current location, and activity profile (or intent) helps to filter out unnecessary content, improving the wireless access cost, time, and performance. One or mote embodiments of the invention utilize a branch of artificial intelligence referred to as fuzzy logic reasoning to make intelligent guesstimates about the user's current location, and also inferring the intent of the user's current activity profile (e.g., is the user a business visitor, close to a place of work, or a commuter in the proximity of a train station?).","The model described herein provides formal constructs for capturing vague, imprecise, overlapping, conflicting inputs. For example, the model may deal with the fact that the question \u201cdoes the current user activity match a leisure visitor profile?\u201d can yield the answer \u201clikely yes\u201d or \u201cuncertain\u201d verses a pure \u201cyes\/no\u201d answer. Similarly, the model can account for the fact that the current activity may match both a business visitor profile and a leisure visitor profile.","Inputs may include spatial, temporal (time related), spatio-temporal (velocity vector) and activity profile indicators. The model provides membership functions that translate natural language descriptors (i.e., the inputs) that determine the magnitude of participation of the input (e.g., perhaps=0.4, likely=0.6, very likely=0.8).","Further, the model can represent the current understanding of the problem in the form of an intuitive, human-language, rule base that relates the input to output. For example, a rule may be in the form \u201cif X and Y, then Z\u201d (e.g., if it is cloudy and overcast, then it might rain). The rule base containing all of the rules can be easily configured to reflect regional, social, or demographic trends (e.g., account for the shutdown of establishments during siesta period in Central America).","An inference engine processes the rules by applying them to the inputs based on the membership function evaluations and provides a definite answer as a refined location. This answer can be single refined location or a list of candidates as requested by the application.","As a result, a user's current location may be reasoned, inferred, and classified into one of several \u201cactivity profiles\u201d. This in turn, enables an application to enhance the value of the vast amount of profile information accumulated by the wireless carriers and improves the value of the service offered to the consumer, by personalizing both the applications and the content delivered to the wireless device.","In the following description, reference is made to the accompanying drawings which form a part hereof, and in which is shown, by way of illustration, several embodiments of the present invention. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.","Overview","One or more embodiments of the invention provide a method for using fuzzy logic reasoning to refine the approximate location of a device. Various imprecise inputs are processed by membership functions and assigned three truth values along an interval [0,1]. The truth values define the magnitude of participation of the inputs in rules. An inference engine then processes the inputs in accordance with the truth values through a rule base that comprises one or more rules. Each rule has an antecedent that may utilize the truth values and a consequent that specifies a refined location. The rules produce logical products (within an interval from 0 to 1) for each rule that define the truth value for the consequents. A method is then used to select the appropriate refined location based on the logical products.","Hardware Environment",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 2","b":["200","202","204","206"]},"A mobile device client  may include any type of mobile device such as handheld personal computers (HPC), palm-held personal computers (PPC or PDA), cellular phones, smart phones, etc. However, embodiments of the invention may be implemented on desktop clients as well. Hereafter, mobile device clients  and desktop clients may be used interchangeably and refer to all types of clients\/client computer systems. A typical combination of resources used in system  may include a network  such as a cell phone network, the Internet, IANs, WANs, or the like, mobile devices , desktop clients, and servers  that are personal computers, workstations, minicomputers, or mainframes.","The network  connects mobile device clients  or desktop clients executing the appropriate software applications to server computers . Server computers  may execute a variety of applications including a server application  (e.g., a Web server), an LBS application , MapGuide server , and\/or servlet . MapGuide servers  and servlets  may be located within or part of server application . The server  and its components may also be referred to as a back office system. Such a back office system maintains access to corporate databases, synchronization utilities, etc. The server application  is typically a program such as a UNIX Apache Web server or Microsoft's Internet Information Server. The servlet  may communicate with a client  through server application  such that any additional processing required by a client  may be performed by the servlet .","In a geographic information system (GIS) offering location based services, servlet  may communicate with MapGuide server  to obtain needed map data\/information. Additionally, servlet  may access map windows files (MWF)  to obtain relevant data. MapGuide server  (or another application) may also interact with a database management system DBMS)  that may be utilized to retrieve relevant geographical data (such as SDF [Spatial Data Files] data [a special data format for delivering large amounts of data quickly over an intranet or the Internet], raster data, Open DataBase Connectivity (ODBC) data, etc.) from database .","Further, client  may interface with LBS application  through an application programming interface (API)  that provides a uniform interface for determining a location of device  and providing additional location based services. To determine the location of client device , the LBS application may utilize one or more adapters  for each of the different protocols of various mobile device carriers . The carriers  may also maintain user profile information in one or more databases -. The LBS application  may also maintain an LBS database  for the local storage of information. Further, the API  provides an interface for refining the location of a device using fuzzy logic.","Generally, components - all comprise logic and\/or data that is embodied in or retrievable from a device, medium, signal, or carrier, e.g., a data storage device, a data communications device, a remote computer or device coupled to the computer via a network or via another data communications device, etc. Moreover, this logic and\/or data, when read, executed, and\/or interpreted, results in the steps necessary to implement and\/or use the present invention being performed.","Thus, embodiments of the invention may be implemented as a method, apparatus, or article of manufacture using standard programming and\/or engineering techniques to produce software, firmware, hardware, or any combination thereof. The term \u201carticle of manufacture\u201d (or alternatively, \u201ccomputer program product\u201d) as used herein is intended to encompass logic and\/or data accessible from any computer-readable device, carrier, or media.","Those skilled in the art will recognize many modifications may be made to this exemplary environment without departing from the scope of the present invention. For example, those skilled in the art will recognize that any combination of the above components, or any number of different components, including different logic, data, different peripherals, and different devices, may be used to implement the present invention, so long as similar functions are performed thereby.","Mobile Device Locator Adapter System","A device locator application may be executing on a client  or a server  to determine the location of a specific mobile device client . Details regarding such an application are disclosed in the co-pending and commonly assigned U.S. patent application Ser. No. 10\/073,805, entitled \u201cMOBILE DEVICE LOCATOR ADAPTER SYSTEM FOR LOCATION BASED SERVICES\u201d, by Nemmara Chithanibaram, er. al, filed on the same date herewith, which application is incorporated by reference herein.","A device locator application may be executing on a client  or a server  to determine the location of a specific mobile device client . To determine the location of a mobile device client , a device-specific identification is provided to the device locator. For example, a mobile subscriber international subscriber directory number (MSISDN) (the directory number [e.g., the GSM\u2014global system for mobile communications number] or the number one dials to connect to a GSM subscriber) may be provided to a device locator application . Such an MSISDN may be encoded in a cookie in a wireless application request. Alternatively, a device may be identified by an Internet protocol (IP) address encoded in a request header or may be identified by a pre-stored default in the user profile database -.","The resulting location provided by the device locator  contains the coordinates of the device , the device's  spatial reference system (SRS), and information regarding the precision of the coordinates.","The device locator  provides an interface  for accessing the network-provided location of a device . For devices  that provide their own location (such as via a SIM card), the application developer already has the coordinates of the device  and does not need to use the device locator .","The device locator  provides users with a unified API  for determining the location of devices . The device locator  retrieves the location of devices  from third-party location determination technology (LDT) providers , each of which may support different protocols (e.g., HTTP, HTTPS, etc.). LDT is a general term that describes a carrier network based service that provides device  location information to internal and external systems. LDT adapters  may be supplied by specific carriers  and may be utilized to provide the location information. Any location obtained from a source other than the supplied LDT adapters  may still be used throughout GIS applications in any application programming information (API) call that requires a location parameter. As described above, LDT providers\/carriers  may each support different protocols that may vary with respect to the format of the request, the format of the response, and the accuracy of the response. Some services may only provide a geographic region that the mobile system is within, while others may provide specific coordinates.","The device locator interface (i.e., the API)  insulates application code from the specific APIs of individual LDT providers . Application developers do not need to understand provider APIs or protocols. Instead, an LDT adapter  translates specific provider APIs into a generic API  that is presented to the application as the device locator . The LDT adapter  therefore insulates the application from differences in protocols like hypertext transfer protocol (HTTP), secure hypertext transfer protocol (HTTPS), etc. Such an architecture may also support additional LDT providers  in the future without changing the application API . An LDT adapter  simply needs to be written for the new LDT provider .",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 3","b":["210","302","308","310","302","222","312","304","204"]},"The device locator  interfaces with individual carrier protocols set forth in specific carrier LDT adapters  in internal layer  to retrieve location information using carrier specific implementations. The carrier LDT adapters  interact with client code  that communicates with server code  in the remote LDT provider layer .","To query the location of a device , the application code  retrieves an instance of a device locator object  (e.g., LbsDeviceLocatorManager). The application code  may then use the device locator  to obtain the location of a device  given a device's id. As described above, the format of device ids may vary according to the LDT implementation. If a query for the location of a device  fails, the device locator  may generate an exception.","If the query is successful, a location object may be returned to application layer . As described above, the resulting location object may contain a Point\/Coordinate object containing the coordinates representing the device's location, an SRS object that describes the associated spatial reference system, and a Precision object that describes the precision of the coordinates.","In one or more embodiments of the invention, a device locator manager provides the API  and delegates calls to specific get location methods implemented for\/by individual carriers . To ensure that the individual carriers  implement such a get location method, an interface (e.g., a devicelocator interface) may be implemented by all specific device locator adapters .","Adapter System Flow",{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 4","FIG. 4"],"b":["200","2","200","210","200","200"]},"Once the application program  has been deployed, simplified procedures of an API  of the application program  may be invoked at step . The simplified procedures obtain the location of the mobile device  at step  (e.g., using an identification of the mobile device ). To obtain the location, the invoked procedures interact with the carrier adapter  at step . Since the carrier adapter  is customized for a particular carrier , specific information and methods may be utilized. For example, the invoked procedures may interact with the specifics for a mobile positioning server of the carrier  and different methods of identifying the device  as required by the carrier . Additionally, the invoked procedures may obtain the spatial reference system associated with the location of the device  at step .","The location of the mobile device  obtained at step  may comprise a cellular phone number, an MSISND, an Internet protocol address encoded in a request header or a pre-stored default. Further as described above, by interacting with one or more carrier adapters  at step , the invoked procedures interact with different protocols provided by the carriers .","Once the location has been obtained at step , the location may be further refined at step . To refine the location, one or more heuristics may be applied. For example, the location may be snapped to a closest point on a street network, to a landmark or point of interest in the vicinity, to a location in the vicinity of the location the mobile device user has recently visited (by examining the user's \u201chistory\u201d), or to a location in a vicinity of the location that the mobile device user has bookmarked as a \u201cfavorite\u201d location. Alternatively, fuzzy logic may be used to refine the location of the device .","Location Refinement","Once a location for a device  has been obtained, one or more embodiments of the invention may refine the approximate location by applying fuzzy logic. A user or application may specify when such a location refinement is to occur. For example, a boolean \u201cREFINE\u201d value may be set to TRUE if refinement is desired. Accordingly, once a location is identified (as described above), the boolean value may be examined to determine if further refinement should be performed.","A user may be permitted to specify the desired methodology for refining the location of a device . Such different methodologies may be specified by configuring a set of rules used in the refinement process. Further, such rules may be stored in a table in a rule configuration file. The different methodologies may include snapping the location to the closest point on the street network, a landmark, or a \u201cpoint of interest\u201d in the vicinity. Alternatively, the application may look for locations in the vicinity of the approximate location that the mobile device user has recently visited (i.e., studying the \u201chistory\u201d in the user profile) and snapping the location to a particular location (e.g., the closest location last visited). Further, the application may examine \u201cfavorite\u201d locations bookmarked by the mobile device user and determine if any such \u201cfavorite\u201d locations are in the vicinity of the approximate device location. The approximate location may then snap to the closest \u201cfavorite\u201d location. Further, fuzzy logic may be utilized to refine the location as described in detail below.","For example, in a simple approach to location refinement, the geometric centroid of a precision polygon shape f(x,y) is defined by:","\u2003=DoubleIntegral()\/DoubleIntegral(); and\n\n=DoubleIntegral()\/DoubleIntegral()\n\nUsing such a definition for a geometric centroid, trivial refinement of a precision polygon (e.g., polygon ) is provided. However, the centroid does not really refine the location. Nonetheless, such a centroid may offer the best average error for a uniform distribution of the true location within the precision polygon .\n","In another example of location refinement, a user's profile and regional content is used to influence the refinement. In such refinement, a wireless carrier  profile database -, a wireless portal (e.g., an adapter ) and a local user profile database (e.g., LBS database ) will together have access to very specific user profile information. Such access may be provided as described in co-pending and commonly assigned U.S. patent application Ser. No. 10\/034,440, entitled \u201cLOCATION BASED SERVICES BRIDGE TO EXTERNAL DATA SOURCES\u201d, by Nemmara Chithambaram, et. al, filed on the same date herewith.","This information may get progressively richer and more precise with increased usage of LBS services or an LBS application . The data obtained through further use of an LBS application  may offer insights related to the user's general demographic, ethnic classification, the user's locational pattern (e.g., home, office, favorite locations), and\/or the user's \u201ccurrent activity profile\u201d based on the history of locations visited recently and\/or recently executed queries (e.g., \u201cfind closest museum\u201d).","Further such profile information may also be used to answer questions such as whether the user in the vicinity of a bookmarked favorite location or whether the user in the vicinity of a location recently recorded in the location history. If one of these conditions turns out to be true, a favorite location or a location in the user profile location history as a candidate for the refined location may be easily offered.","However LBS services are more commonly used when the user is away from home or work, and often in an unfamiliar area. In such cases, a prominent landmark(s) or point(s) of interest in the vicinity may be offered as candidates for the refined location(s). Further, the category of landmark or point of interest selected could depend on \u201cintelligently guessing\u201d the user's \u201ccurrent activity profile\u201d based on inputs from the user profile and local content database . Such inputs may comprise a combination of locational aspects (e.g., where are the user's favorite routes), activity profile indicator(s) (e.g., is this is a business visitor? Or the last finder query was \u201cfind closest museum\u201d), and\/or a temporal aspect (e.g., how late are the typical visitor attractions open in this region?)","Additionally, a user's preferences may be inferred to deliver highly personalized services tailored to a user. For example, everything from application behavior to stylizing for the filtering of content may be personalized for a particular user.","To refine the approximate location of a device , a location refinement manager may be utilized. The location refinement manager may be the initial point for location refinement, and a method of the location refinement manager may return a single refined location (e.g., a best guess), a sorted list of refined candidate locations, or several lists of refinement candidates classified by source (e.g., user profile favorites, user profile history, visitor landmarks, etc.). Each list of refined locations may be based on the particular refinement performed. For example, one list may be based on favorites, a second list may be based on the history, while a third list may be based on landmarks. Further, each list may be sorted based on their distance from the centroid or approximate location.","Once the list of lists of refined locations is obtained, a user may interact with the LBS application  to compute the user's exact location. This interaction may for example include a simple confirmation of the refined location, allow selection from the candidate list, or the use of one or more candidate locations to orient and locate the user's true location. Further, during this process, all of the lists may be resolved into a single list. For example, each location in each list may be combined into a single list sorted by distance from the centroid. Additionally, the individual lists or single resolved lists may be filtered such that only locations within a specified polygon are returned. Further, based on the individual lists or single resolved list, a single refined list may be returned. Accordingly, depending on the implementation of the location refinement manager, the user may be presented with a single refined location, a list of refined locations, or a list of lists of refined locations. Nonetheless, the location refinement manager permits the approximate location of a device  to be refined based on various factors that may be selectable by a user.","Fuzzy Logic Refinement","One or more embodiments of the invention provide a method, apparatus, and article of manufacture for refining a device location using fuzzy logic. The fuzzy logic refinement process may be initialized by the location refinement manager.","Many reasons exist for utilizing fuzzy logic to refine a device's location. To provide the most benefit, some questions and information may be necessary. For example, necessary information may include whether the current activity profile matches a commuter profile, a business visitor profile, a leisure visitor profile, more than one of these profiles, or none of the profiles. However, many problems may arise with answering such questions. For example, the definition of the problem may be vague. In other words, the problem may be ill suited for precise quantitative definition (non-quantitative terms such as in the vicinity of, close to, far away from, likely, etc. may be frequently used). Also, it may be difficult to determine when a certain category of landmarks for the refined location should be used (subjective question). Additionally, boundaries may be blurry. For example, the answer to the question, \u201cDoes the current activity match the profile of leisure visitor?\u201d could be \u201cMay be\u201d or \u201cUncertain\u201d vs. a \u201cYes\/No\u201d. Further, inputs may be imprecise, conflicting, and\/or overlapping. For example, the current activity profile could represent a business visitor spending an evening of leisure.","These problems call for a system that manages the vagueness, imprecision and blurry boundaries intrinsic to the input. Further, a system should formalize how such imprecision and conflicting information will be captured and processed, allow the progressive reflection of an increased understanding of the problem (with increased usage and deployments), and offer a definite conclusion.","One or more embodiments of the invention utilize a branch of artificial intelligence (AI) referred to as fuzzy logic to solve such problems. Fuzzy logic is a superset of conventional (Boolean) logic that has been extended to handle the concept of partial truth\u2014truth values between \u201ccompletely true\u201d and \u201ccompletely false\u201d.","With fuzzy logic, continuous truth values are permitted such that system variables may take a continuous range of truth-value memberships in the interval [0,1], rather than strict binary (True or False) decisions and assignments. For example, if it is cloudy and overcast, the statement \u201cit is raining\u201d could have a True value of 0.8, and a False value of 0.25. Likewise, the statement \u201cThe current user is a visitor\u201d has the value 0.9 if highly likely, 0.1 if highly unlikely, and 0.5 if the answer is \u201cmay be\u201d.","Using fuzzy logic, the location refinement problem may be redefined. Such a redefinition of the problem may be depicted in  which illustrates a refined location as the fuzzy centroid of weighted inputs. In , the location precision polygon  contains a geometric centroid  given as the approximate device  location. The refined location  may be selected from a variety of different possibilities -. However, the various different possibilities - may be weighted and combined to determine a refined location as the fuzzy centroid .","Various fuzzy membership sets - may be utilized and weighted to refine the location. Different types of fuzzy membership sets - may be utilized in the weighting calculation. For example, fuzzy membership sets - may be utilized for proximity to various categories of user profile locations (e.g., the closest user profile favorites , user profile history , etc.). Additionally, fuzzy membership sets - may describe the current activity (e.g., business visitor profile, commuter profile, leisure visitor profile, etc.), and by extension, weighted proximities to different kinds of landmarks (e.g., the closest lodging landmark , the closest visitor landmark , the closest business landmark , the closest street intersection , the closest commuter landmark , etc.).","Based on the fuzzy membership sets, the refined location may be inferred as a fuzzy centroid  of these weighted inputs.","The fuzzy logic reasoning of the present invention permits a variable number of imprecise inputs such that any number of precise or imprecise inputs\/input sensors are allowed. For example, one or more of the following may be used as input sensors to refine a device's location: proximity to favorites, business visitor profile indicator, leisure visitor profile indicator etc.","The fuzzy logic reasoning of the invention includes a rule-base that defines a set of (intuitive) rules that define input\/output relationships in the form:\n\nIf X and Y then Z\n\nFor example, one or more of the following rules may be defined within a rule base of the invention: If (close to local favorite location) then Closest Favorite; or If (far away from favorites) and (current activity matches visitor landmark) then Closest Visitor Landmark.\n","Membership functions define the magnitude of participation of each input in determining the location. For example, a membership function may evaluate the question of whether the current activity profile matches a leisure visitor profile. An answer of \u201cmost likely\u201d results in a higher membership function and a greater participation in location determination, vs. an answer of \u201ccould be\u201d.","Lastly, the fuzzy logic reasoning of the invention includes an inference engine that computes the logical product of each of these rules. For example, an inference engine may determine the logical product as:\n\nX AND Y=MIN (X, Y)\n\nX OR Y=MAX (X, Y)\n\nThe logical product is then combined to produce the final answer.\n",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 6","b":["602","604","602","606","608","610","612","602","604","608","610","612"]},"Three types of input sensors (fuzzy inputs ) may be utilized: location or proximity based, time based, and activity profile based. Location or proximity based inputs  determine the proximity to particular locations. For example, location based inputs  may include favorites (e.g., proximity to user profile favorites like home, office, health club, etc.) and history (e.g., proximity to recently visited locations in the user profile history).","Activity profile based inputs  are evaluated to determine whether the current user's activity matches or is similar to a particular established profile. For example, established profiles may include a business visitor activity profile (e.g., does the current activity match the profile of a business visitor?), a leisure visitor activity profile (e.g., does the current activity match the profile of a leisure visitor?), and a commuter activity profile (e.g., does the current activity match the profile of a commuter?).","Temporal inputs  are based on whether the current time is within a particular temporal range or profile. For example, a business operating hour temporal input  may determine if the current time is within the business operating hours. Alternatively, a leisure operating hour temporal input  may determine if the current time is within the leisure operating hour.","Other spatio-temporal inputs  such as velocity vector (indicating a direction of travel) may be added\/utilized as an input .","The fuzzy logic then processes the inputs  to produce an output . The output  may comprise a single value or a set of values (if multiple candidates are required). Outputs may include the closest favorite location , the closest history , the closest leisure landmark , the closest business landmark , the closest lodging landmark  (e.g., a hotel), the closest commuter landmark , the closest street intersection , etc.","Membership functions  are utilized to define the magnitude of participation of each input. In other words, a membership function  makes an evaluation of an input  and determines how much that input  is used in the inference engine .","A three-valued set may be used for each input\/membership function : P or positive (+) for truth-values, N or negative (\u2212) for false-values, and Z or zero (0) for values that can go in either direction or reflect uncertainty. Each set can take values from the closed set\/interval [0,1].","For example, an input function LeisureVisitotActivityProfile can be fuzzified as follows:\n\nMost likely leisure visitor\u2192P=0.8\n\nUnlikely leisure visitor\u2192N=0.8\n\nMay or may not be (uncertain)\u2192Z=0.8\n\nSimilarly, P, N, and Z values may be defined for all other inputs  (e.g., near=P, far=N, uncertain=Z). Table 1 is an example of an input membership table that may be used to store the different values for input  participation.\n",{"@attributes":{"id":"p-0091","num":"0090"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},{},"N","Z","P"]},{"entry":[{},"INPUTS","[0-1]","[0-1]","[0-1]"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ProximityToFavorites",{},{},{}]},{"entry":[{},"ProximityToHistory"]},{"entry":[{},"BusinessVisitorProfile"]},{"entry":[{},"LeisureVisitorProfile"]},{"entry":[{},"CommuterProfile"]},{"entry":[{},"BusinessOperatingHour"]},{"entry":[{},"LeisureOperatingHour"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}}}},"The membership functions  populate the table with the appropriate values for P, N, and Z. Subsequent to processing the inputs  through the membership functions , the inputs  are processed by an inference engine  against a rule base  in accordance with the magnitude of participation (i.e., the P, N, and Z values) provided by the membership functions . Since the rule base  is merely applied by the inference engine , the rule base  can be progressively refined as more empirical data is gathered. Further, a default rule may be specified. The default rule is used if\/when the inference engine  cannot produce a result due to conflicting rules or inputs . Thus, the rule base  is fail-safe. If the fuzzy reasoning fails to yield a result due to too many conflicting inputs , the default rule would be applied (e.g., answering closest street intersection if the default rule so provides).","Additionally, to experiment on the output  produced based on varying rules and input , the inclusion and exclusion of rules may be influenced for experimentation. For such experimentation, embodiments provide that the rules use logical products and that only non-zero logical products contribute to the final inference. For example, if the membership function  produces P, N, and Z values that are zero, the inputs  have no magnitude and cannot participate in the rules. Further, since logical operations are performed, if a zero value were used, the product result in a rule would also be zero (thereby producing an improper output ). Accordingly, initializing a value of 0.0 for the P, N and Z values of a function , excludes the rule from contributing in as a result of the logical product rule (since 0.0 and X=0.0).","Additionally, the number of rules, complexity of rules, and the inference engine  may be configured (e.g., adaptive to different parts of the world, or for a richer user profile database). Table 2 illustrates a rule base  table comprising rule numbers, antecedents, and consequents for a rule base .",{"@attributes":{"id":"p-0095","num":"0094"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":[{},"If","Then"]},{"entry":["Rule","(antecedent)","(consequent)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1.","ProximityToFavorites = P","ClosestFavorite"]},{"entry":[{},{},"E.g., Home"]},{"entry":["2.","ProximityToFavorites = (N OR Z),","ClosestHistory,"]},{"entry":[{},"and ProximityToHistory = P","E.g., Last location in"]},{"entry":[{},{},"history"]},{"entry":["3.","ProximityToFavorites = (N OR Z),","ClosestBusinessLandmark"]},{"entry":[{},"and","E.g., Civic Center"]},{"entry":[{},"ProximityToHistory = N OR Z, and"]},{"entry":[{},"BusinessVisitorProfile = P, and"]},{"entry":[{},"BusinessOperatingHour = P"]},{"entry":["4.","ProximityToFavorites = (N OR Z),","ClosestLeisureLandmark"]},{"entry":[{},"and","E.g., Stafford Lake Park"]},{"entry":[{},"ProximityToHistory = (N OR Z), and"]},{"entry":[{},"LeisureVisitorProfile = P, and"]},{"entry":[{},"LeisureOperatingHour = P"]},{"entry":["5.","ProximityToFavorites = (N OR Z),","ClosestLodgingLandmark"]},{"entry":[{},"and","E.g., The Sheraton"]},{"entry":[{},"ProximityToHistory = (N OR Z), and"]},{"entry":[{},"BusinessVisitorProfile = P, and"]},{"entry":[{},"BusinessOperatingHour = N"]},{"entry":["6.","ProximityToFavorites = (N OR Z),","ClosestLodgingLandmark"]},{"entry":[{},"and","E.g., The Sheraton"]},{"entry":[{},"ProximityToHistory = (N OR Z), and"]},{"entry":[{},"LeisureVisitorProfile = P, and"]},{"entry":[{},"LeisureOperatingHour = N"]},{"entry":["7.","ProximityToFavorites = (N OR Z),","ClosestCommuterLandmark"]},{"entry":[{},"and","E.g., Richmond Bart"]},{"entry":[{},"ProximityToHistory = (N OR Z), and","Station"]},{"entry":[{},"CommuterProfile = P"]},{"entry":["8.","ProximityToFavorites = (N OR Z),","ClosestStreetIntersection"]},{"entry":[{},"and","E.g., Civic Center At"]},{"entry":[{},"ProximityToHistory = (N OR Z), and","McInnis"]},{"entry":[{},"BusinessVisitorProfile = (N OR Z),"]},{"entry":[{},"and"]},{"entry":[{},"LeisureVisitorProfile = (N OR Z),"]},{"entry":[{},"and"]},{"entry":[{},"CommuterProfile = (N OR Z)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"Table 2 illustrates how the values in the input membership table (i.e., Table 1) are utilized in a set of rules. For example, in rule 3, four conditions are processed based on the inputs  to produce the closest business landmark. The four rules use logical AND operations to evaluate the antecedent rules. In rule 3, the closest business landmark is the consequent (i.e., the output ) if proximity to favorites is N or Z, proximity to history is N or Z, the business visitor profile is P, and the business operating hour is P. The additional rules each have a set of antecedents\/conditions that produce a particular consequent when combined.","Once the rule base  has been established (e.g., placed into a rule base table), the inference engine  is used for computing the fuzzy centroid . When using the inference engine , the logical product of each rule (e.g., rule 1 through 8 of Table 2) is processed. This processing yields a value between 0 and 1 for each rule. When processing logical products, the antecedent \u201cX and Y and Z\u201d is equivalent to the minimum of X, Y, and Z (i.e., MIN (X, Y, Z)). Similarly, the antecedent \u201cX or Y or Z\u201d is equivalent to the maximum of X, Y, and Z (i.e., MAX (X, Y, Z)). The logical product for each rule (with a value in the interval [0, 1]) indicates the magnitude of participation of that rule (0 indicating no participation). The inference can use different methods of computing the weighted centroid  of the non-zero magnitude rules including picking the MAX, averaging or using root mean squared .","In one or more embodiments, the MAX rule is always utilized so that the rule with the highest logical product is selected. For example, if rule 5 (of Table 2) yields the highest logical product, say 0.9, the refined location would be the Closest Lodging Landmark.","Further, when applying rules, if multiple candidates or multiple lists are required, the first n elements from the highest 2 or 3 logical products are selected. For example, if rules 5 and 7 (of Table 2) yield the highest values, then two lists that represent the Closest Lodging Landmarks and the Closest Commuter Landmarks may be provided as refinement candidates.","In a simple example, the user may not be very close to any favorite locations but is very close to a location in the user's profile history. In such an example, the input membership table has the values as illustrated in Table 3.",{"@attributes":{"id":"p-0101","num":"0100"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 3"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},{},"N","Z","P"]},{"entry":[{},"INPUTS","(0-1)","(0-1)","(0-1)"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ProximityToFavorites","0.9","0","0.1"]},{"entry":[{},"ProximityToHistory","0","0","0.8"]},{"entry":[{},"BusinessVisitorProfile","0","0","0"]},{"entry":[{},"LeisureVisitorProfile","0","0","0"]},{"entry":[{},"CommuterProfile","0","0","0"]},{"entry":[{},"BusinessOperatingHour","0","0","0"]},{"entry":[{},"LeisureOperatingHour","0","0","0"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},"In this example, the only rules in the rule table that yield a non-zero logical product are rules 1 and 2 as illustrated in Table 4.",{"@attributes":{"id":"p-0103","num":"0102"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 4"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":[{},"If","Logical","Then"]},{"entry":["Rule","(antecedent)","Product","(consequent)"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1.","ProximityToFavorites = P","0.1","ClosestFavorite"]},{"entry":[{},{},{},"E.g., Home"]},{"entry":["2.","ProximityToFavorites = (N OR Z),","0.9 and 0.8 =","ClosestHistory,"]},{"entry":[{},"and ProximityToHistory = P","0.8","E.g., Last"]},{"entry":[{},{},{},"location in"]},{"entry":[{},{},{},"history"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"Using the Max rule (i.e., taking the rule with the highest logical product), rule 2 prevails and the output  for the refined location is the closest history (e.g., the last location in the user's history). The closest history is the expected answer:","In this example, the user is far away from favorites, far away from history, the current activity profile suggests the user matches a business visitor profile, the current activity profile suggests that the user could also possibly match a leisure visitor pro file, and the time of day is 8.00 p.m. on a weekday.","Processing these values in membership functions  might result in the value for the input membership function of Table 5.",{"@attributes":{"id":"p-0107","num":"0106"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 5"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},{},"N","Z","P"]},{"entry":[{},"INPUTS","(0-1)","(0-1)","(0-1)"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ProximityToFavorites","1.0","0","0"]},{"entry":[{},"ProximityToHistory","1.0","0","0"]},{"entry":[{},"BusinessVisitorProfile","0","0","0.8"]},{"entry":[{},"LeisureVisitorProfile","0.3","0.5","0.6"]},{"entry":[{},"CommuterProfile","0","0","0"]},{"entry":[{},"BusinessOperatingHour","0.9","0","0.2"]},{"entry":[{},"LeisureOperatingHour","0.2","0.4","0.7"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},"The non-zero magnitude rules for these membership values, and their logical products are shown in Table 6 below:",{"@attributes":{"id":"p-0109","num":"0108"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 6"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":[{},"If","Logical","Then"]},{"entry":["Rule","(antecedent)","Product","(consequent)"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["3.","ProximityToFavorites =","1.0 and","ClosestBusinessLandmark"]},{"entry":[{},"(N OR Z), and","1.0 and","E.g., Civic Center"]},{"entry":[{},"ProximityToHistory =","0.8 and"]},{"entry":[{},"(N OR Z), and","0.2 ="]},{"entry":[{},"BusinessVisitorProfile =","0.2"]},{"entry":[{},"P, and"]},{"entry":[{},"BusinessOperatingHour = P"]},{"entry":["4.","ProximityToFavorites =","1.0 and","ClosestLeisureLandmark"]},{"entry":[{},"(N OR Z), and","1.0 and","E.g., Stafford Lake"]},{"entry":[{},"ProximityToHistory =","0.6 and"]},{"entry":[{},"(N OR Z), and","0.7 ="]},{"entry":[{},"LeisureVisitorProfile =","0.6"]},{"entry":[{},"P, and"]},{"entry":[{},"LeisureOperatingHour = P"]},{"entry":["5.","ProximityToFavorites =","1.0 and","ClosestLodgingLandmark"]},{"entry":[{},"(N OR Z), and","1.0 and","E.g., The Sheraton"]},{"entry":[{},"ProximityToHistory =","0.8 and"]},{"entry":[{},"(N OR Z), and","0.9 ="]},{"entry":[{},"BusinessVisitorProfile =","0.8"]},{"entry":[{},"P, and"]},{"entry":[{},"BusinessOperatingHour ="]},{"entry":[{},"N"]},{"entry":["6.","ProximityToFavorites =","1.0 and","ClosestLodgingLandmark"]},{"entry":[{},"(N OR Z), and","1.0 and","E.g., The Sheraton"]},{"entry":[{},"ProximityToHistory =","0.6 and"]},{"entry":[{},"(N OR Z), and","0.7 ="]},{"entry":[{},"LeisureVisitorProfile =","0.6"]},{"entry":[{},"P, and"]},{"entry":[{},"LeisureOperatingHour = P"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"The highest logical products are for rules 5 and 4. Therefore the candidates for refinements for this example will include the Closest Lodging Landmark and the Closest Leisure Landmark.","Advantages and Benefits","The use of fuzzy logic reasoning to refine a device  location deals with the many uncertainties related to both the inputs for location and refinement, and the rules used to compute the refinement. Further, fuzzy logic reasoning provides formal constructs for representing (fuzziness) imprecise\/vague\/overlapping\/conflicting inputs. Also, fuzzy logic reasoning provides the best guess (for applications that want to minimize the user interaction) or several prioritized candidate lists.","Additionally, as described herein, the fuzzy logic reasoning model is adaptive. In other words, the model allows the complexity of the inference to be controlled. For example, turning down the inferences in rules 3-7, provides a simple model (that only uses proximity to favorites, locations in history, and defaults to ClosestStreetlntersection). On the other hand, the rules can be easily fine tuned to provide further information such as regional information.","The rule-base , and the inference engine  can be implemented in phases (starting with the simplest). Further, the processing allows inputs to be taken from the carrier profile databases -, and the locational information to infer user preferences and influence application behavior, filtering of content, etc. The use of the carrier profile databases - helps provide highly personalized applications tailored to the user's profile and location. Additionally, the value of the profile information collected by carriers increases by using it to personalize application behavior.","Fuzzy Logic Reasoning Flow",{"@attributes":{"id":"p-0114","num":"0113"},"figref":"FIG. 7","b":["204","700","702","606","232","606","606","606"]},"The rules within the rule base  are defined by an antecedent with one or more conditions, and a resulting consequent. Further, the antecedent may utilize or process a logical product.","At step , a variable number of imprecise inputs\/input sensors are captured. As described above, three types of input sensors are typically used: locational, activity profile based, and temporal based. Additionally, spatio-temporal inputs may be used.","At step , the input is processed in one or mote membership functions. Membership functions define the magnitude of participation of each input in the rules. In accordance with fuzzy logic reasoning, the magnitude of participation may be within an interval from 0 to 1 ([0,1]). The membership function may define a three-valued set for each input. Such a three-valued set may comprise a truth value, a false value, and an uncertainty value (each of which are defined along the interval [0,1]).","At step , the rules are applied to the input based on the magnitude of participation to produce a logical product for each rule. Using fuzzy logic reasoning of the invention, the logical product may comprise a truth value between 0 and 1 that represents the applicability of the consequent. The consequent specifies\/describes a refined location (e.g., closest leisure landmark, closest lodging landmark, etc.). Accordingly, the antecedent utilizes the various input values (as processed by the membership functions) to produce a logical product that represents the truth of a consequent.","At step , the refined location is computed based on the logical products. In other words, now that various truth values\/logical products have been specified at step , a determination is made as to which consequent to utilize as the actual refined location (also referred to as the weighted centroid ). As described above, different methods of computing the refined location based on the logical products may be used. For example, the maximum logical product may be selected and the corresponding consequent may then be selected\/used to determine the refined location. Alternatively, averages (e.g., a root-mean-squared calculation) may be used to refine the location. For example, the logical products may be averaged and the consequent with the logical product that is closest to the average may be selected as the refined location. Alternatively, a number of different candidate locations may be used and a location between all of those locations may be provided. However, any available method for selecting a refined location (or list of refined locations) may be used. Additionally, the refined location that is returned may either comprise a singleton (i.e., a single refined location) or a list of candidate locations that the user may select from.","This concludes the description of the preferred embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention. For example, any type of computer, such as a mainframe, minicomputer, or personal computer, or computer configuration, such as a timesharing mainframe, local area network, or standalone personal computer, or any type of mobile device such as a cellular phone, laptop computer, personal digital assistant, etc. could be used with the present invention.","The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Referring now to the drawings in which like reference numbers represent corresponding parts throughout:",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
