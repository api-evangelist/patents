---
title: Method and system for converting session initiation messages
abstract: A network entity comprising an input for receiving from a given IP device, a session initiation message for initiating a communication session over a packet based network via a session initiation message generated according to a particular session initiation protocol and a processing entity. The processing entity is operative for detecting a characteristic associated with the given IP device, determining, at least in part on the basis of the characteristic associated with the given device, a given interface module from a plurality of interface modules for processing the session initiation message generated according to the particular session initiation protocol and causing the first session initiation message generated according to the particular session initiation protocol to be processed by the given interface module for converting the first session initiation message into a second session initiation message generated according to a pre-determined session initiation protocol.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08275896&OS=08275896&RS=08275896
owner: BCE Inc.
number: 08275896
owner_city: Verdun, Quebec
owner_country: CA
publication_date: 20091223
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present invention relates generally to a method and system for facilitating a session initiation message generated by an IP communication device to be understood by receiving IP communication devices, and more specifically, to a method and system for initiating an action when a session initiation message generated by an IP communication device was not generated according to a pre-determined session initiation protocol.","In recent years, more and more individuals and organizations have started using packet based networks, such as the Internet, for communication purposes. For example, the use of VoIP and IP video conferencing are gaining in popularity since they offer both cost savings and improved functionality in the handling of the communication sessions. In order to establish communication sessions over a packet-based network, different signaling protocols have been developed that are responsible for controlling the setup, modification and teardown of data exchange sessions between users on an IP network. One such signaling protocol that is commonly used is the Session Initiation Protocol (SIP).","In order to accommodate the increased interest in communication over packet-based networks, many different vendors offer a range of different IP communication devices that are able to conduct IP communication sessions over a packet-based network. Examples of IP communication devices include ATAs, softphones, VoIP Phones and IP Private Branch Exchange (PBX) systems. While the large variety IP communication devices being offered by different vendors is appealing to consumers, different vendors often provide IP equipment that use vendor-specific signaling protocols. These vendor specific signaling protocols often create session initiation difficulties when two IP communication devices that use different signaling protocols are attempting to establish an IP communication session.","Many session initiation protocols, such as SIP, are relatively flexible standards that leave room for variations and vendor-specific extensions to be added. In some cases, these variations may not hinder the control of a communication session. However, in many circumstances, and especially when more advanced communication features such as call transfer and three-way conferencing are being requested, differences in the signaling protocols used by two communicating IP communication devices can cause difficulties in the establishment of the communication session and the proper implementation of the advanced communication features.","Against this background, it can be seen that there is a need in the industry to improve the manner in which IP communication sessions are established between different IP communication devices.","In accordance with a first broad aspect, the present invention provides a method, comprising at a processing entity, detecting a characteristic associated with a given device, the given device attempting to initiate a communication session over a packet based network via a session initiation message generated according to a particular session initiation protocol. The method further comprises at the processing entity, determining, at least in part on the basis of the characteristic associated with the given device, a given interface module from a plurality of interface modules for processing the session initiation message generated according to the particular session initiation protocol and at the processing entity, causing the session initiation message generated according to the particular session initiation protocol to be processed by the given interface module for converting the session initiation message into a session initiation message generated according to a pre-determined session initiation protocol.","In accordance with a second broad aspect, the present invention provides a method, comprising at a processing entity, detecting a characteristic associated with a given device, the given device attempting to initiate a communication session over a packet based network via a session initiation message generated according to a particular session initiation protocol. The method further comprises at the processing entity, comparing the characteristic associated with the given device to a plurality of device characteristics stored in a data structure for determining a matching device characteristic from the plurality of device characteristics, the data structure storing associations between device characteristics and a plurality of session initiation protocols and at the processing entity, initiating an action when the matching device characteristic is associated with a session initiation protocol from the plurality of session initiation protocols that is not a pre-determined session initiation protocol.","In accordance with a third broad aspect, the present invention provides a system that comprises a data structure and a processing entity. The data structure stores associations between (i) a plurality of interface modules and (ii) device characteristics associated with a plurality of devices capable of initiating communication sessions over a packet-based network. The processing entity is operative for detecting a characteristic associated with a given device that is attempting to initiate a communication session over a packet based network via a session initiation message generated according to a particular session initiation protocol, accessing the data structure for determining, at least in part on the basis of the characteristic of the given device, a given interface module from the plurality of interface modules and causing the first session initiation message generated according to the particular session initiation protocol to be processed by the given interface module for converting the first session initiation message into a second session initiation message generated according to a pre-determined session initiation protocol.","In accordance with a fourth broad aspect, the invention provides a network entity, comprising an input for receiving from a given IP device, a session initiation message for initiating a communication session over a packet based network via a session initiation message generated according to a particular session initiation protocol and a processing entity. The processing entity is operative for detecting a characteristic associated with the given IP device, determining, at least in part on the basis of the characteristic associated with the given device, a given interface module from a plurality of interface modules for processing the session initiation message generated according to the particular session initiation protocol and causing the first session initiation message generated according to the particular session initiation protocol to be processed by the given interface module for converting the first session initiation message into a second session initiation message generated according to a pre-determined session initiation protocol.","In accordance with a fourth broad aspect, the invention provides a computer readable storage medium comprising a program element for execution by a processing entity. The program element comprises a first program code for detecting a characteristic associated with a given device, the given device attempting to initiate a communication session over a packet based network via a session initiation message generated according to a particular session initiation protocol, a second program code for determining, at least in part on the basis of the characteristic associated with the given device, a given interface module from a plurality of interface modules for processing the session initiation message generated according to the particular session initiation protocol and a third program code for causing the first session initiation message generated according to the particular session initiation protocol to be processed by the given interface module for converting the first session initiation message into a second session initiation message generated according to a pre-determined session initiation protocol.","These and other aspects and features of the present invention will now become apparent to those of ordinary skill in the art upon review of the following description of specific embodiments of the invention in conjunction with the accompanying drawings.","It is to be expressly understood that the description and drawings are only for the purpose of illustration of certain embodiments of the invention and are an aid for understanding. They are not intended to be a definition of the limits of the invention.","Shown in  is a non-limiting example of a communications network architecture that is suitable for enabling IP communication sessions to take place over a packet-based network , such as the Internet. Such communication sessions can include Voice-over-Internet-Protocol (VoIP) sessions, IP Video Conferencing sessions, Instant Messaging (IM) sessions, file transfers and machine-to-machine real-time communications, among other possibilities.","In the embodiment shown in , the communications network architecture includes the packet based network  (which could be the Internet) and a plurality of IP communication devices , ,  and . In the non-limiting embodiment shown, the IP communication devices , , ,  include an IP Public Branch Exchange (PBX)  that is connected to a plurality of phones (which could be VoIP phones or POTS phones, among other possibilities), a soft phone (i.e., a computer equipped with IP telephony software) , a VoIP phone  and a POTS phone equipped with an analog terminal adapter (ATA) . It should be appreciated that other types of IP communication devices that are known in the art can also be included without departing from the spirit of the invention. For example, a video conferencing device that is able to transmit\/receive video data over the packet based network  is also included within the scope of the present invention.","It should be appreciated that although  shows only one IP PBX , one softphone , one VoIP communication device , and one ATA enabled POTS phone , the communication architecture  is suitable for supporting hundreds of thousands, if not more, IP communication devices.","The packet-based network  is responsible for handling communications either originating from, or destined for, the IP communication devices , ,  and . It should be appreciated that the packet based network  enables the IP communication devices , ,  and  to reach, or be reached by, any of various other communication devices (which are not shown for the sake of simplicity) and which can be other IP communication devices, or non-IP communication devices that function in a Public Switched Telephone Network (PSTN) or wireless network environment, such as a POTS phone or a cell phone, among other possibilities.","In order to enable non-IP communication devices to be able to participate in communication sessions with the IP communication devices , ,  and , the packet based network  includes a plurality of packet-based application servers  (only one shown, for simplicity) that are able to route communication sessions to other network portions, such as the Public Switched Telephone Network (PSTN) or a wireless network, via various appropriate gateways. Gateways that enable communication and interoperability between the different network portions are known in the art, and as such will not be described in more detail herein.","For the IP communication devices , ,  and  to be able to participate in communication sessions using the packet based network , the IP communication devices , ,  and  generally subscribe to a service provider that provides access to the packet based network . There can be multiple different service providers that operate and manage access to the packet based network , each of which has a respective core network. For the sake of simplicity, only one service provider core network  has been shown in , but it should be appreciated that multiple service provider core networks are able to operate and manage communication between hundreds of thousands of communication devices over the packet based network . In addition, these different service provider core networks  are able to interact and communicate with one another in order to facilitate communication between communication devices that subscribe to different service providers.","In the non-limiting embodiment shown, the service provider core network  includes a network entity  and a packet-based application server  (i.e. a softswitch). The network entity  may be a session border controller that is operative to exert control over the signaling used to set up, conduct and tear down IP communication sessions involving one or more IP communication devices. As will be described in more detail below, the network entity  is also able to provide data conversion functionality for converting signaling data received during IP communication sessions.","The network entity , which as mentioned above can be a session border controller, may also be operative for provisioning new IP communication devices that are newly interacting with the packet-based network . This provisioning step may involve assigning an IP address to the IP communication device that can be used to identify and route calls to the IP communication device. As will be described in more detail below, during the provisioning stage, the network entity  may further create an entry in a data structure that includes an association between the assigned IP address and an interface module that is suitable for processing session initiation messages generated by the IP communication device. The entry may further include an association between the assigned IP address and other information associated with the IP communication device.","As shown in , the network entity  is communicatively connected to a packet-based application server  that is operative for processing and routing calls via the packet-based network . In general, the packet-based application server  allows for increased flexibility and functionality to be applied to the handling of communications originating from, destined for, or ongoing at the IP communication devices , ,  and . Packet-based application servers  are generally known in the art, and as such will not be described in more detail herein. In a non-limiting example, the packet-based application server  may be an MCS 5200 Soft Switch manufactured by Nortel Networks Limited of 8200 Dixie Road, Brampton, Ontario L6T 5P6, Canada, although it should be appreciated that this is but one example among many possibilities within the scope of the present invention.","Although only one packet-based application server  is shown in , it will be appreciated that the service provider core network  may include multiple interconnected packet-based applications servers . In such cases, the multiple interconnected packet-based application servers  may communicate with one another over physical or wireless links, so as to share information and complete the routing of calls.","When an IP communication device (such as one of IP communication devices , ,  and ) is involved in an IP communication session with another communication device, the IP communication device generates and issues communication session data that is routed through the packet based network . The communication session data from the IP communication device may include:\n\n","The session initiation messages that are issued during the course of a communication session include signaling information that is used to create, modify and\/or terminate the IP communication session. The session initiation messages may include:\n\n","In general, session initiation messages generated by a given IP communication device are generated according to a particular session initiation protocol that is used by that IP communication device. As used herein, the term session initiation protocol refers to any signaling and call set-up protocol that can be used to initiate, create, modify or terminate IP communication sessions. For example, the session initiation protocol may be any suitable signaling protocol such as the Session Initiation Protocol (SIP), H.323 and MGCP, among other possibilities. The term session initiation protocol may also refer to different versions of the same protocol. For example, even though the SIP may be considered a standardized protocol, it is relatively flexible given that adherence to the protocol is not rigidly enforced and extensions are allowed. As such, different vendors of SIP equipment often develop proprietary implementations of the standard, or possibly use different versions of SIP, which for the purpose of the present application can be considered two different session initiation protocols.","In accordance with the present invention, a session initiation protocol can be a peer-to-peer protocol, such that session initiation messages generated according to a particular session initiation protocol are considered by the two, or more, IP communication devices participating in the IP communication session, and not necessarily by equipment within the core network . For example, call handling features that are outlined in session initiation messages could be implemented by the communicating endpoints; namely the originating IP communication device and the destination IP communication device. In some cases, there are features that may be implemented by a soft switch, instead of the two end devices (originating and destination devices). For example, in the case of a privacy feature, privacy may be invoked at the originating end and communicated to the soft switch where the actual originating end is masked to the terminating end.","In the case where an IP communication device (such as one of IP communication devices , ,  and ) is involved in a communication session with a non-IP communication device (such as a POTS phone), the session initiation messages that are generated by the IP communication device are considered by network equipment, such as the packet-based application server  that is routing the call to the POTS phone through the PSTN network. More specifically, the network equipment considers the session initiation messages from the IP communication device, and then uses the signaling system 7 (SS7) signaling protocol, to exchange control information with the PSTN network for setting up the communication session.","The exchange of session initiation messages can occur throughout the duration of a communication session in order to set-up, carry-on, alter, redirect, and terminate the IP communication session. As such, when an IP communication device issues a session initiation message, a response session initiation message is often returned by the destination IP communication device, or in some cases, by the network equipment that is routing the communication session to a non-IP communication device, in other cases.","As previously mentioned, many session initiation protocols have flexible standards, such that different IP communication devices that communicate over the packet-based network may generate session initiation messages according to different session initiation protocols. For example, different manufacturers or vendors of IP communication devices may build their respective IP communication devices to generate session initiation messages according to different session initiation protocols. Some vendors add vendor-specific extensions to known session initiation protocols, so as to customize the session initiation protocol being used by their IP communication devices. The extensions should not \u201cbreak\u201d a session, but may be ignored by IP communication devices that do not recognize those extensions.","In the non-limiting embodiment shown in , there are four different IP communication devices , ,  and  that are able to participate in communication sessions over the packet-based network . These IP communication devices may also be referred to as sip User Agents (sip UAs), which are network end-points used to originate and\/or receive session initiation messages for creating, maintaining and terminating a sip session.","In operation, when two different IP communication devices attempt to establish an IP communication session, it is possible that these two different IP communication devices will each generate session initiation messages according to different session initiation protocols. This can lead to a situation where an originating IP communication device and a destination IP communication device may have difficulty being able to read and\/or correctly interpret the session initiation messages generated by each other. This is particularly problematic in the case where advanced features, such as call transfer and call hold, are requested in the session initiation messages that are being exchanged. For example, a call hold feature may be represented in a first manner according to the session initiation protocol being used by the originating IP communication device, but may be represented in a completely different manner according to a session initiation protocol being used by the destination IP communication device. This inability to properly interpret a session initiation message can obviously lead to difficulty in the two different IP communication devices establishing or maintaining a communication session as was intended according to the call set-up or call modification information included in the session initiation messages.","In accordance with the present invention, in order to help IP communication devices (or in some cases the network equipment routing the IP communication session to a POTS or cell phone) to accurately read and understand session initiation messages, the network entity  may cause an action to occur that will help to reduce the likelihood that session initiation messages originating from an originating IP communication device will be mis-understood by a receiving IP communication device (or network equipment). The manner in which this is done will be described in more detail below.","A. Session Initiation Protocol Conversion","A first manner in which the network entity  can attempt to reduce the likelihood that a session initiation message from an IP communication device will be mis-understood by a receiving IP communication device, will now be described in more detail with reference to  and the flow chart shown in .","With reference to , let us assume that IP communication devices  and  are from vendor A, while IP communication device  is from vendor C and IP communication device  is from vendor B. Given the flexible nature of session initiation protocols, it is possible that the IP communication devices from each of these different vendors generates session initiation messages according to different session initiation protocols that cannot be accurately read and\/or understood by the IP communication devices from other vendors.","For the sake of example, let us assume that telephone is attempting to initiate a communication session with IP communication device . Upon detection at IP communication device  (the IP PBX) that telephone wants to initiate a communication session with IP communication device , IP communication device  generates communication session data that is destined for IP communication device  so as to establish a communication session between these two IP communication devices.","Initially, the communication session data generated by the IP communication device  will include (i) message header information; and (ii) a session initiation message that is generated according to a particular session initiation protocol used by the IP communication device . The message header information may contain identification characteristics associated with the IP communication device . For example, the identification characteristics may include an indication of an IP address, a software version, a hardware version, a vendor, a product manufacturer and\/or a product model associated with the given IP communication device , among other possible information.","The session initiation message includes information used to establish a communication session with the destination IP communication device . In a non-limiting example, the session initiation message may include an \u201cINVITE\u201d message that includes routing and addressing information, and potentially appropriate call handling information that should be implemented by the destination IP communication device .","Once generated, this communication session data is issued over the packet based network  towards the destination IP communication device . As the communication session data travels over the packet-based network , it passes through the network entity  of the service provider core network . A non-limiting block diagram of the functional components of the network entity , according to the present invention, is shown in .","In accordance with the non-limiting embodiment shown in , the network entity  comprises an input\/output  for being able to receive\/transmit communication session data with a plurality of IP communication devices (such as IP communication devices , , , ) and for being able to receive\/transmit communication session data to one or more packet-based application servers . Although the input\/output  has been shown as being one component, it should be appreciated that there could be separate components for the inputs and outputs. There could also be a separate input\/output for exchanging information with the IP communication devices and for exchanging information with the packet-based application servers . The network entity  further comprises a processing entity  that is in communication with a memory unit  over a databus . The memory unit  stores data  and program instructions  that can be accessed by the processing entity  for implementing the functionality that will be described in more detail below.","Referring now to , and keeping with the example started above, upon receipt at the processing entity  of the communication session data generated by the originating IP communication device , at step  the network entity  detects a characteristic associated with the IP communication device . This detection of a characteristic associated with the IP communication device  may be done by considering the information contained in the header information of the communication session data, which as described above, may contain identification information associated with the IP communication device . As such, by considering this identification information, the processing entity  may detect a characteristic of the IP communication device  such as its IP address, the product model or the hardware version associated with the IP communication device , or the vendor of the IP communication device , among other possibilities. For the sake of this example, let us assume that the characteristic that is detected by the processing entity  at step  is the vendor associated with IP communication device , namely Vendor A.","At step , the network entity  determines, at least in part on the basis of the characteristic associated with the IP communication device  (which in this example is Vendor A), an interface module from a plurality of interface modules for processing the session initiation message. As will be described in more detail below, the purpose of this processing is to convert the session initiation message that was generated by the originating IP communication device  according to a particular session initiation protocol, into a session initiation message that is generated according to a pre-determined session initiation protocol.","The pre-determined session initiation protocol may be a standard session initiation protocol that is used by a service provider and that is known to be readable and understandable by most IP communication devices (and network equipment that routes communication sessions to more traditional end-point equipment, such as POTS phones or cell phones). Alternatively, the pre-determined session initiation protocol may be a standard session initiation protocol that is common to a plurality of service providers. In yet a further alternative, the pre-determined session initiation protocol may be the session initiation protocol being used by the destination IP communication device .","In accordance with a non-limiting example of implementation, the processing entity  determines the given interface module from a plurality of interface modules by accessing a data structure that stores associations between a plurality of interface modules and device characteristics. Shown in  is a non-limiting example of a data structure  suitable for being accessed by the processing entity  in order to determine a given interface module from a plurality of interface modules. The data structure  may be stored within the memory unit  of the network entity  (as shown in ), or alternatively, may be located elsewhere within the packet-based network  at a location that can be accessed by the processing entity  when needed.","As shown in , the data structure  includes a plurality of entries that are each associated with a different device characteristic. The device characteristics may include IP addresses, software versions, hardware versions, vendors, product manufacturers and\/or product models associated with different IP communication devices that use the packet-based network . The above list of device characteristics is included for the sake of example only, and may include other device characteristics that have not been explicitly listed.","In the non limiting embodiment shown, each of the entries includes a data element indicative of a device characteristic , a session initiation protocol  associated with that device characteristic and an interface module  associated with that device characteristic. Within the data structure  are listed a plurality of device characteristics , a plurality of session initiation protocols  and a plurality of interface modules . Each different device characteristic  appears only once in the data structure , whereas the certain session initiation protocols in the plurality of session initiation protocols , may appear multiple times since a given session initiation protocol may be associated with more than one of the different device characteristics. For example, sipis associated with both the device characteristic of entry and the device characteristic of entry . Likewise, certain interface modules in the plurality of interface modules  may appear multiple times since a given interface module may be associated with more than one of the different device characteristics. As shown, interface moduleis associated with both the device characteristic of entry and the device characteristic of entry .","Although data structure  shown in  stores associations between device characteristics, a plurality of session initiation protocols and a plurality of interface modules, it should be appreciated that these associations may be distributed between multiple data structures without departing from the spirit of the invention. For example, it is possible that a first data structure may store associations between device characteristics and a plurality of session initiation protocols, and a second data structure may store associations between session initiation protocols and interface modules. It is also possible that a third data structure may store associations between device characteristics and a plurality of interface modules.","Referring back to the present example, at step  in order to determine a given interface module from a plurality of interface modules, the processing entity  accesses the data structure  and compares the characteristic of the IP communication device determined at step  with the device characteristics stored in the data structure . In this manner, the processing entity  is able to locate a matching device characteristic. Once the processing entity  has located the matching device characteristic, the given interface module is the interface module that is associated with the matching device characteristic within the entry of the matching device characteristic.","Keeping with the present example, the processing entity  will determine that the device characteristic within entry (which is Vendor A) is the matching device characteristic to the device characteristic detected at step . As such, network entity  determines that it is interface modulethat is the interface module that is associated with the matching device characteristic. As such, it is interface modulethat should be used to process the session initiation message that was generated by IP communication device  according to the particular session initiation protocol.","By using data structure , which stores associations between the device characteristics and a plurality of interface modules, the processing entity  needs only to access a single data structure in order to determine the given interface module. However, in the case where the data structures are distributed between a first data structure that stores associations between device characteristics and a plurality of session initiation protocols, and a second data structure stores associations between session initiation protocols and a plurality of interface modules, the processing entity would need to access both of these data structures in order to determined the given interface module. More specifically, the processing entity  would first have to determine a given session initiation protocol associated with the matching device characteristic in the first data structure, and then would have to access the second data structure in order to determine the given interface module associated with the given session initiation protocol determined from the first data structure.","In the case where the network entity  is operative to cause the session initiation message according to the first session initiation protocol to be converted into a session initiation message according to the session initiation protocol being used by the destination IP communication device , the processing entity  may have to access an additional data structure (not shown) to determine what session initiation protocol is being used by the destination IP communication device . This additional data structure may store associations between IP addresses used by different devices and their associated session initiation protocols. As such, on the basis of the IP address of the destination IP communication device , which can be obtained by the processing entity  on the basis of routing information, a session initiation protocol being used by the destination IP communication device  can be determined. Then, in order to determine the given interface module, the processing entity  may have to access a further data structure (not shown) that associates a plurality of interface modules with both an originating session initiation protocol and a destination session initiation protocol.","As used herein, the term \u201cinterface module\u201d refers to either a software module or a hardware module that is able to convert or translate session initiation information generated according to a particular session initiation protocol into session initiation information generated according to a pre-determined session initiation protocol. Such an interface module may include an Application Programming Interface (API). The conversion or translation of a session initiation message may involve:\n\n","In accordance with the present invention, each interface module in the plurality of interface modules is associated with one or more session initiation protocols, such that a given interface module is only able to convert or translate information received in one of its associated session initiation protocols into information in the pre-determined session initiation protocol. In accordance with a non-limiting example, each interface module is associated with one session initiation protocol, such that each interface module is only able to convert information from its associated session initiation protocol into the pre-determined session initiation protocol. As such, session initiation messages generated according to different session initiation protocols need to be processed by different interface modules in order to be converted into session initiation messages generated according to the pre-determined session initiation protocol.","At step , once the processing entity  has determined the given interface module from the plurality of interface modules, the processing entity  causes the session initiation message that was generated by the IP communication device  according to the particular session initiation protocol to be processed by the given interface module (which in the case of the above example is interface module). By causing the session initiation message to be processed by the given interface module, the session initiation message according to the particular session initiation message is converted into a session initiation message according to a pre-determined session initiation protocol.","Causing the session initiation message to be processed by the given interface module may be done in a variety of different manners. In accordance with a first non-limiting example, the plurality of interface modules are software modules that are stored within the memory unit  of the network entity , as shown in . In this case, causing the session initiation message to be processed by the given interface module involves activating the given interface module such that the software module is applied to the session initiation message. In the case where the interface module comprises an Application Programming Interface, the interface module may function through an API to convert the session initiation message into a session initiation message according to the pre-determined session initiation protocol.","In accordance with a second non-limiting example, the interface modules are software modules or hardware modules that are located remotely from the network entity , as shown in . The interface modules are located at a location that is known to the network entity . As such, causing the session initiation message to be processed by the given interface moduleinvolves re-directing the session initiation message to the location of the given interfacemodule for processing. This re-direction may be done by directing the session initiation message to the URI of the given interface module. The network entity  will have access to the location and routing information associated with the interface modules in the plurality of interface modules, such that the session initiation message that needs to be processed can be directed and routed towards the given interfacemodule of the plurality of interface modules .","Once the session initiation message generated according to the particular session initiation message has been converted by the given interface module into a session initiation message according to a pre-determined session initiation protocol, the session initiation message according to the pre-determined session initiation message is routed through the packet based network  to the destination IP communication device . As mentioned above, the pre-determined session initiation protocol can be a standard protocol used by the network service provider that is known to be understandable to the majority of IP communication devices. As such, the session initiation message that is received by the destination IP communication device  in accordance with the pre-determined session initiation message, is able to be accurately read and understood.","Once the above process has been performed and the given interface module has been determined, the processing entity , which may be part of a session border controller, may generate an entry in another data structure (not shown) that associates the IP address that has been assigned to that IP communication device directly with the given interface module that has been determined. In this manner, for all subsequent communications from the IP communication device, the processing entity  may easily identify, on the basis of the IP address assigned to that IP communication device, the given interface module that should be used to process the session initiation messages generated by that IP communication device. In this manner, once the processing entity  has determined the given interface module on the basis of a device characteristic associated with the IP communication device (which could have been the vendor, the software version, the product model, etc.) the processing entity  is able to route further communication messages from that IP communication device directly to the given interface module for converting the session initiation messages generated by that IP communication device into session initiation messages generated according to the pre-determined session initiation protocol.","Once the destination IP communication device  has received the session initiation message according to the pre-determined session initiation message from the originating IP communication device , the destination IP communication device  then needs to send a response session initiation message. The destination IP communication device  thus generates communication session data which includes (i) header information and a (ii) session initiation message according to a particular session initiation protocol that is different from the one used by the originating IP communication device . This communication session data is directed to the originating IP communication device  through the packet-based network , such that the communication session data is intercepted by the network entity  which performs the same process on the communication session data from the destination IP communication device  as it did on the communication session data from the originating IP communication device .","In this manner, even though both of the IP communication devices  and  generate and transmit session initiation messages according to different session initiation protocols, they both receive session initiation messages which they can both, presumably, be able to accurately read and understand.","B. Initiating an Action When a Session Initiation Protocol is not a Pre-Determined Session Initiation Protocol","A second manner in which the network entity  can attempt to reduce the likelihood that a session initiation message from an IP communication device will be misunderstood by a receiving IP communication device, will now be described in more detail with reference to  and the flow chart shown in .","Keeping with the same example described above, let us assume that telephone is attempting to initiate a communication session with IP communication device . Upon detection at IP communication device  (the IP PBX) that telephone wants to initiate a communication session with IP communication device , IP communication device  generates communication session data that is destined for IP communication device  so as to establish a communication session between these two IP communication devices.","Initially, the communication session data generated by the IP communication device  will include (i) message header information; and (ii) a session initiation message that is generated according to a particular session initiation protocol that is used by IP communication device . As previously described, the message header information may contain identification characteristics associated with the originating IP communication device  and the session initiation message includes information used to establish a communication session with the destination IP communication device .","Once generated, this communication session data is issued over the packet based network  towards the destination IP communication device . As the communication session data travels over the packet-based network , it passes through the network entity  of the service provider core network .","Referring now to , at step , upon receipt at the processing entity  of the communication session data generated by the originating IP communication device , the network entity  detects a characteristic associated with the IP communication device . This detection of a characteristic associated with the IP communication device  may be done by considering the identification information contained in the header information of the communication session data. As such, by considering this identification information, the processing entity  may detect a characteristic such as the IP address, the product model or the hardware version associated with the IP communication device . Keeping with the example described above, let us assume that the characteristic that is detected by the processing entity  during step  is the vendor associated with IP communication device , namely Vendor A.","At step , the network entity  compares the characteristic associated with the IP communication device  (which in this example is Vendor A), with device characteristics stored in a data structure. This comparison is done in order to determine a matching device characteristic from the device characteristics within the data structure. The data structure can be a data structure, such as data structure  shown in , that stores associations between device characteristics and a plurality of session initiation protocols. As previously described, the data structure  may be stored within the memory unit  of the network entity  (as shown in ), or alternatively, may be located elsewhere within the packet-based network  at a location that can be accessed by the processing entity  when needed.","As described above, the processing entity  accesses the data structure  and compares the characteristic of the IP communication device determined at step  with the device characteristics stored in the data structure. Each different device characteristic  appears only once in the data structure , whereas the different session initiation protocols in the plurality of session initiation protocols  may appear multiple times since a given session initiation protocol may be associated with more than one of the different device characteristics. For example, sipis associated with both the device characteristic of entry and the device characteristic of entry .","By comparing the characteristic of the IP communication device determined at step  with the device characteristics stored in the data structure , the processing entity  is able to locate a matching device characteristic. In the present example, the matching device characteristic is Vendor A found in entry . Once the processing entity  has located the matching device characteristic, the processing entity  determines the session initiation protocol that is associated with the matching device characteristic, which in the present example is the session initiation protocolcontained in entry .","At step , once the processing entity  has determined the associated session initiation protocol from the data structure , the processing entity  initiates an action when the matching device characteristic is associated with a session initiation protocol that is not a pre-determined session initiation protocol. This determination can be done by comparing the associated session initiation protocol with an identification of the pre-determined session initiation protocol that is stored within the memory unit  of the network entity , or at a remote location that is accessible by the network entity .","As previously described, the pre-determined session initiation protocol may be a standard session initiation protocol that is used by a service provider and that is known to be readable and understandable by most IP communication devices (and network equipment that routes communication sessions to more traditional end-point equipment).","It should be appreciated that in the case where the associated session initiation protocol (which in this example is session initiation protocol) is the same as the pre-determined session initiation protocol, then no action is initiated by the network entity , and the session initiation message that was generated by IP communication device  continues its travel towards the destination IP communication device  unaffected.","In the case where the associated session initiation protocol (which in this example is session initiation protocol) is different from the pre-determined session initiation protocol, then the network entity  initiates an action. As will be described in more detail below, the action could be:\n\n","In the case where the processing entity  causes the session initiation message generated according to the associated session initiation protocol to be converted into a session initiation message according to the pre-determined session initiation protocol, the network entity may access a data structure, such as data structure , that stores associations between device characteristics and a plurality of interface modules. In this manner, the processing entity  is able to determine a given interface module that can process the session initiation message for converting the session initiation message into a session initiation message according to a pre-determined session initiation protocol.","The manner in which the processing entity  determines the given interface module and causes the session initiation message to be processed by the given interface module can be done according to the method described above with respect to , and as such will not be described in more detail herein.","In the case where the network entity  issues a message to the user of the IP communication device, which could be that the IP communication device is not using an appropriate session initiation protocol, or that the IP communication device should download a vendor \u201cpatch\u201d or \u201cupgrade\u201d, the processing entity  may access a data structure (not shown) that stores appropriate error messages that should be issued to an IP communication device. The data structure may store associations between device characteristics and appropriate error messages, or the data structure may store associations between session initiation protocols and appropriate error messages. As such, once the processing entity  determines at step  that the matching device characteristic is associated with a session initiation protocol that is not the pre-determined session initiation protocol, the processing entity may access the above described data structure (not shown) for determining either on the basis of the matching device characteristic, or the associated session initiation protocol, an appropriate error message to issue to the originating IP communication device.","Once the error message, which could be an error code or a message in text form, has been determined, the network entity  causes the error message to be issued to the IP communication device, such that the IP communication device can relay the information to a human user. In many cases, such as in the case of the softphone  and the VoIP phone , the IP communication devices includes a display screen for displaying information to a user. As such, the display screen may display the error code or message in text form to the human user. The human user can then take the necessary steps to ensure that the IP communication device is modified to be able to generate and understand session initiation messages in accordance with an acceptable session initiation protocol. The message from the network entity  may be routed to the IP communication device via an IP address or URI associated with the IP communication device.","In the case where the action involves causing the originating IP communication device to automatically download a vendor \u201cpatch\u201d or \u201cupgrade\u201d, the processing entity  may have access to a plurality of software modules that can be forced to the originating IP communication device. The particular software module that is forced on the originating IP communication device may be determined on the basis of the detected device characteristic, or on the particular session initiation protocol associated with that device characteristic. Once the software module is forced to the originating IP communication device, a computing unit at the originating IP communication device may execute the software module for causing the IP communication device to access a vendor URI or website, select an appropriate \u201cpatch\u201d or \u201cupgrade\u201d, and download the appropriate \u201cpatch\u201d or \u201cupgrade\u201d for installation at the originating IP communication device.","In an alternative embodiment, instead of causing the IP communication device to access a vendor URI or website in order to obtain the \u201cpatch\u201d or \u201cupgrade\u201d, the software module that is forced to the IP communication device may itself be the \u201cpatch\u201d or \u201cupgrade\u201d. As such, once the software module is forced to the originating IP communication device, a computing unit at the originating IP communication device may execute the software module for installing the \u201cpatch\u201d or \u201cupgrade\u201d at the originating IP communication device.","In accordance with a non-limiting example of implementation, the processing entity  is adapted to process the data  and the program instructions  stored in the memory unit  for implementing the functionality described above in the description and the drawings. In a specific example of implementation, the memory unit  includes a program element contained within the program instructions , for execution by the processing entity . Those skilled in the art should appreciate that the program instructions may be written in a number of programming languages for use with many computer architectures or operating systems. For example, some embodiments may be implemented in a procedural programming language (e.g., \u201cC\u201d) or an object oriented programming language (e.g., \u201cC++\u201d or \u201cJAVA\u201d).","As such, all or part of the functionality previously described herein with respect to the network entity  may be implemented as software consisting of a series of instructions for execution by a the processing entity . The series of instructions could be stored elsewhere than within the memory of the network entity . They may also be stored on a medium which is fixed, tangible and readable directly by the processing entity  (e.g., removable diskette, CD-ROM, ROM, PROM, EEPROM or fixed disk) or the instructions could be stored remotely but transmittable to the processing entity  over the network .","Those skilled in the art should appreciate that in some embodiments of the invention, all or part of the functionality previously described herein with respect to the network entity , may be implemented as pre-programmed hardware or firmware elements (e.g., application specific integrated circuits (ASICs), electrically erasable programmable read-only memories (EEPROMs), etc.) or other related components.","While specific embodiments of the present invention have been described and illustrated, it will be apparent to those skilled in the art that numerous modifications and variations can be made without departing from the scope of the invention as defined in the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["In the accompanying drawings:",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
