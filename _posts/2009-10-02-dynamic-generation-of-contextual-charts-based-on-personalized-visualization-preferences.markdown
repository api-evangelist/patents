---
title: Dynamic generation of contextual charts based on personalized visualization preferences
abstract: A system and method for dynamic generation of contextual charts for reports based on personalized visualization preferences are described. In one embodiment, a system of an embodiment creates a chart for a report based on an analysis of past user preferences. In one embodiment, a system of the embodiment saves user behavior and preferences over time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08314798&OS=08314798&RS=08314798
owner: Business Objects Software Limited
number: 08314798
owner_city: Dublin
owner_country: IE
publication_date: 20091002
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The invention relates generally to visualizing reports, and, more specifically, to dynamic generation of contextual charts based on personalized visualization preferences.","Charts are an effective way to analyze and visualize data. Reporting tools obtain data from data sources and provide the obtained data in table format. Typically, to obtain a chart, a user would run a query, obtain data in table format, and create the chart manually.","There are particular types of charts suited for the corresponding data but a user has to specifically select the most appropriate chart for the data returned. In case a user has used certain types of charts over time for certain types of objects, there are no mechanisms to remember and record his past behavior to give him the optimal chart during creation of new reports.","A system and method for visualizing reports are described. In one embodiment, a system creates a chart for a report based on the type of the report and past user preferences.","In one embodiment, a system of the embodiment analyzes saved reports to find a report closest to a current one and creates a chart based on the similarity between the two reports.","In one embodiment, a system of the embodiment records user behavior if the user changes an automatically generated chart and supplies recorded user behavior for future analysis and future automatic creation of charts.","These and other benefits and features of embodiments of the invention will be apparent upon consideration of the following detailed description of preferred embodiments thereof, presented in connection with the following drawings.","Embodiments of techniques for \u2018Dynamic Generation of Contextual Charts Based on Personalized Visualization Preferences\u2019 are described herein. In the following description, numerous specific details are set forth to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize, however, that the invention can be practiced without one or more of the specific details, or with other methods, components, materials, etc. In other instances, well-known structures, materials, or operations are not shown or described in detail to avoid obscuring aspects of the invention.","Reference throughout this specification to \u201cone embodiment\u201d, \u201cthis embodiment\u201d and similar phrases, means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus, the appearances of these phrases in various places throughout this specification are not necessarily all referring to the same embodiment. Furthermore, the particular features, structures, or characteristics may be combined in any suitable manner in one or more embodiments.","In various embodiments, a report is run to collect data from a data source and a chart is automatically constructed to present the resulting data set to the user. The chart may be constructed deterministically based on factors such as the data in the report and the context of the report. The appropriate chart to use for the report may be determined by an algorithm which may consider the current set of objects and the type of data and also the past behavior of the user. With time, the algorithm may store used charts and record which charts are used most of the time. Based on past user choices and the frequency of use of chart types, a system of an embodiment may decide which chart type to use for a report without the need of user intervention.","In various embodiments, objects creating a report are part of a universe (e.g., semantic layer) that contains metadata and business logic. A semantic abstraction can be a level of abstraction based on a relational, OLAP, or other data source or a combination of more than one existing semantic layers. A universe is a specific form of semantic abstraction where the semantic abstraction includes data model objects that describe the underlying data source and define dimensions, attributes and measures that can be applied to the underlying data source and data foundation metadata that describes a connection to, structure for, and aspects of the underlying data source. A data model object is an object defined within a semantic domain that represents a dimension of the underlying data source, represents relationships between dimension members and attributes, or provides calculations from, based on or designed to be applied to an underlying data source. Typically, in a universe, a data model object is assigned a common business term such that the user does not need to understand the specific logic of the underlying data source but can work with familiar terminology when constructing queries or otherwise accessing the data. Examples of common business terms include: customer, employee, product line, revenue, profit, attrition, fiscal year, quarter, and the like.","In various embodiments, a report k is a set of objects such that O=D\u222aM, where Dis a set of dimensions for the report and Mis a set of measures for the report. Measures are objects quantifiable in a dimension. The set of measures may be actual quantities that can be calculated, for example, revenue, profit, and so on. Examples of dimensions may be year, month, day, and so on. For example, the measure \u201crevenue\u201d is quantifiable in the dimension \u201cyear\u201d because a query can be run to extract data from a data source and provide the value for the revenue per year.","A dimension may be a line in a real or abstract space. An example of a real space dimension is a pair of antiparallel cardinal points on a compass, e.g., North and South, North-Northwest and South-Southeast. Another real dimension is time. An example of an abstract space dimension is a list of stores. The dimension is abstract because the list can be ordered alphabetically by name, by store number, by distance from head office, etc. Examples of dimensions include region, store, year, customer, employee, product line, and the like.","A dimension object may model a set of business entities of a common nature such as a geographical location, a product or group of products, and a time period, that are used to structure an analysis. Dimension objects can have properties (attributes or details) attached to them. For instance, a Customer could have an address. Dimension objects can be structured into OLAP hierarchies. For instance, Countries contain States, which contain Cities. When a Dimension object is directly used in a report, what appears is not the business entity, but an attribute, such as a unique name or caption, designed to be user-friendly.","A measure is a quantity as ascertained by comparison with a standard, usually denoted in some unit, e.g., units sold, dollars. A measure, such as revenue, can be displayed for the dimension \u201cYear\u201d, which is in effect the aggregation of all revenue for all years. Corresponding measures can also be displayed for each of the values within a dimension. Region of focus is either set by default or definable by a user event. The user event includes the user clicking on an area of a table, chart, map or portion thereof, which displays quantitative information. The user can select one or more: charts, maps, columns or rows in a table, axes or data within a chart, data in a time series, or regions in a map. Alternatively, the user event can include the user specifying a parameter to a report document. The region of focus is an area of the report which the user wishes to explore.","A measure object models a quantity or variable item that usually takes its values as a function of a set of values for dimension objects. For instance, a Sales Revenue measure is a numerical value; there is a distinct value of this measure for each geographical location, each period of time, and each product or set of products. A measure is always associated with the group of dimensions on which it depends, called its dimensionality. For instance, the dimensionality of the measure Revenue is {Geography, Time, Product}, whereas the dimensionality of a measure \u201cPopulation\u201d might be {Geography, Time}\u2014since populations of geographical entities vary with time but have nothing to do with products.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 1","FIG. 1","FIG. 2"],"b":["100","102","104","106","108","110"]},"At process block , one of the previously run reports is determined to have the greatest affinity to the first report. In various embodiments, the one of the previously run reports is determined to have the greatest affinity with the first report if the affinity quotient computed between the first report and the one of the previously run reports has the greatest value among the number of computed affinity quotients in process block .","At process block , a chart is presented based on the affinity quotient between the first report and one of the previously run reports has the greatest affinity to the first report. The affinity quotient may be used to determine the similarity between the obtained first object set and the object sets related to the previously run reports. Based on such affinity determination, a decision can be made as to the dimension set of which of a number of previously run reports is most similar to the dimension set for the first report. Thus, a decision can be made as to what is the chart type to use to create a chart for the first report.","In various embodiments, a decision to select a chart type based on a computed affinity quotient may be reached in accordance with the process presented in .","In another embodiment, a decision to select a chart type based on a computed affinity quotient may be reached in accordance with the process presented in .","At process block , user behavior along with the presented chart is recorded for future reference. If the user changes the chart initially presented, user behavior is saved for future reference. Over time, user behavior and preferences are accumulated and based on such accumulated user preferences, a determination may be made as to which chart types the user may prefer. In various embodiments, user behavior is saved in accordance with the process as described in .",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 2","FIG. 2","FIG. 1"],"b":"110"},"Referring to , at process block , a weight is assigned to each dimension of the first report. In various embodiments, a weight may be assigned by plotting a graph for the following function: Y=f(x)=e^(\u22120.5*x+1)+0.5. For a given dimension d(where i is an integer; 1<=i<=d), weight is determined using the following formula: W=f(x=((i\u22121)*d\/3.4)), where d is the total number of dimensions for the report.","At process block , a weight is assigned to each dimension of the second report. At process block , an object similarity quotient (OS) is determined for each dimension in the first report with each dimension in the second report. At process block , a ratio of unique values is computed for each dimension in the first report with each dimension in the second report. At process block , the sum of the products of the weight of each dimension of the first report with the weight of each dimension of the second report with their computed object similarity quotient and their computed ratio of the number of unique values is calculated. In various embodiments, the following formula is used to compute the affinity quotient for a first and second report:",{"@attributes":{"id":"p-0038","num":"0037"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"Q","mo":"=","mrow":{"munderover":{"mo":"\u2211","mrow":[{"mi":"i","mo":"=","mn":"1"},{"mi":"i","mo":"<=","mrow":{"mi":"d","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}}]},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":[{"mi":"j","mo":"=","mn":"1"},{"mi":"j","mo":"<=","mrow":{"mi":"d","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"}}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["w","w"],"mo":["\u2062","\u2062","*","\u2062","\u2062","*","*"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"msub":[{"mn":"1","mi":"i"},{"mn":"2","mi":"j"},{"mi":"OS","mrow":{"mi":["i","j"],"mo":","}},{"mrow":[{"mo":["(",")"],"mfrac":{"mi":["x","y"]}},{"mi":["i","j"],"mo":","}]}]}}}}}}},"br":{},"sub":["i ","j ","i,j ","i,j "],"sup":["th ","th ","th ","th "]},{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 3","FIG. 3"],"b":["302","304"]},"At process block , a position of the first object and a position of the second object are analyzed. The hierarchy of objects may also be used to determine the similarity between objects because in a universe, objects may be organized in hierarchies according to their type. For example, if the first object and second object do not belong to the same universe, and do not have the same or similar names, but belong to the same hierarchy, it can still be determined that the objects are similar. For example, if the first and second objects belong to the hierarchy called \u201cTime\u201d it can be determined that both objects (e.g., dimensions) are used in reports to quantify data in a time dimension such as year, quarter, etc. Thus, if all dimensions of a first report are at least similar to all dimensions of a second report, it can be determined that it may be beneficial to use the chart type of the second report to create a chart for the data of the first report.","In various embodiments, the process as described in  is implemented using the exemplary algorithm described in  below.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 4","FIG. 4"],"b":["402","406","410","414","418","422"]},"If the check at process block  determines that the first and second objects are not of the same universe, at process block , a check is performed to determine if the first and second object have the same or similar name. In various embodiments, a system may have a record of object names considered to be similar or the same. For example, the system of the embodiment may record the expressions \u201cYear\u201d, \u201cY\u201d, and \u201cYr\u201d as all referring to the object \u201cyear\u201d, and thus, if a check is performed, it may be determined that two objects refer to the same dimension. If the first object and second object have the same or similar name, at process block , the OS is determined to equal one. If the first and second objects do not have the same or similar names, at process block , a check is performed to determine if the first and second objects are of the same hierarchy. If the first and second objects are of the same hierarchy, at process block , the OS is determined to equal 0.5. If the first and second objects are not of the same hierarchy, at process block  the OS is determined to equal 0.4.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 5","FIG. 2","FIG. 5"],"b":["502","504"]},"In various embodiments, the process as described in  is implemented using the exemplary algorithm described in  below.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 6","FIG. 2","FIG. 6"],"b":"1"},"Referring to , at process block , a check is performed to determine if the calculated affinity quotient (Qc) is higher than a threshold value T. In various embodiments, the threshold value T is computed using the following formula: Threshold(T)=Ceil(f(0)), where ceil(x) is defined as a function returning the smallest (that is, closest to negative infinity) double value that is not less than the argument x and is equal to a mathematical integer.","If Qc is not higher than the threshold value, at process block , a new chart is presented to the user. If Qc is not higher than the threshold value, it can be determined that R and Rc are not similar enough and thus the dimension set of Rc may not be beneficial for the determination of the chart type to use for R.","If the calculated Qc is higher than the threshold value, at process block , a check is performed to determine how many charts are associated with Rc. If Rc has two charts associated with it, at process block , it is determined if a recently used chart should be used or a most used chart should be used. In various embodiments, such a determination can be made using the process as described in .","After the most used chart or recently used chart is chosen, at process block , a check is performed to determine if the number of measures of the first report and the chosen chart is the same. If both have the same number of measures, at process block , the chosen chart is presented. If both have a different number of measures, then at process block , a version of the chart best fitting for the number of measures is chosen.","If Rc has one chart associated with it, at process block , a check is performed to determine if the number of measures of the first and second report is the same. If both reports have the same number of measures, at process block , the chart used for Rc is chosen for the first report. If the reports have a different number of measures, then at process block , a version of the chart best fitting for the number of measures is chosen.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 7","FIG. 7"],"b":["702","706","704"]},"If a user changes the chart after it is automatically created, the actions of the user are recorded and saved in the system as user preferences for future reference.  is a flow diagram of an embodiment for recording user preferences. Referring to , at process block , a check is performed to determine if the user has changed the chart. If the user has changed the chart, at process block , a check is performed to determine if the new chart type selected by the user equals the chart type recorded in the recently used parameter. If both chart types are the same, at process block , a check is performed to determine if the value of the variation field of the recently used parameter equals one. If the value of the variation field of the recently used parameter equals one, at process block  the value of the variation field of recently used is set to two. At process block  the value of the chart type field in the most used parameter is updated to the value of the chart type field of the recently used parameter. In various embodiments, a user may change a presented chart more than once. Thus, there may be intermediate charts before the user decides on a chart to use. In various embodiments, only the final chart the user chooses may be saved.","If at process block  the new chart type is not the same as the recently used chart type, at process block  the value of the variation field of the recently used parameter is set to one.","If at process block  the user does not change the chart, at process block  a check is performed to determine if the chart type of the chart presented by the system is the same as the chart type recorded in the chart type field of the recently used parameter. If the chart types are the same, at process block  a check is performed to determine if the value of the variation field of the recently used parameter equals one. If the value of the variation field of the recently used parameter equals one, at process block  the value of the variation field of the recently used parameter is set to two.","If at process block  the chart types are not equal, at process block  the value of the variation field of the most used parameter is set to two if the current value of the variation field of the most used parameter equals one.","In various embodiments, if the values of both the most used and recently used parameters equal two, the value of the chart type field of the most used parameter is updated to the value of the chart type field of the recently used parameter.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 9","FIG. 9","FIG. 1","FIG. 2","FIG. 4"],"b":["900","906","906","902","904","905","908","906","912","906","912","900","908","914","914","916"]},"Some embodiments of the invention may include the above-described methods being written as one or more software components. These components, and the functionality associated with each, may be used by client, server, distributed, or peer computer systems. These components may be written in a computer language corresponding to one or more programming languages such as, functional, declarative, procedural, object-oriented, lower level languages and the like. They may be linked to other components via various application programming interfaces and then compiled into one complete application for a server or a client. Alternatively, the components maybe implemented in server and client applications. Further, these components may be linked together via various distributed programming protocols. Some example embodiments of the invention may include remote procedure calls being used to implement one or more of these components across a distributed programming environment. For example, a logic level may reside on a first computer system that is remotely located from a second computer system containing an interface level (e.g., a graphical user interface). These first and second computer systems can be configured in a server-client, peer-to-peer, or some other configuration. The clients can vary in complexity from mobile and handheld devices, to thin clients and on to thick clients or even other servers.","The above-illustrated software components are tangibly stored on a computer readable medium as instructions. The term \u201ccomputer readable medium\u201d should be taken to include a single medium or multiple media that stores one or more sets of instructions. The term \u201ccomputer readable medium\u201d should be taken to include any physical article that is capable of undergoing a set of physical changes to physically store, encode, or otherwise carry a set of instructions for execution by a computer system which causes the computer system to perform any of the methods or process steps described, represented, or illustrated herein. Examples of computer-readable media include, but are not limited to: magnetic media, such as hard disks, floppy disks, and magnetic tape; optical media such as CD-ROMs, DVDs and holographic devices; magneto-optical media; and hardware devices that are specially configured to store and execute, such as application-specific integrated circuits (\u201cASICs\u201d), programmable logic devices (\u201cPLDs\u201d) and ROM and RAM devices. Examples of computer readable instructions include machine code, such as produced by a compiler, and files containing higher-level code that are executed by a computer using an interpreter. For example, an embodiment of the invention may be implemented using Java, C++, or other object-oriented programming language and development tools. Another embodiment of the invention may be implemented in hard-wired circuitry in place of, or in combination with machine readable software instructions.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 10","b":["1000","1000","1005","1055","1000","1040","1055","1010","1015","1010","1015","1005","1015","1000","1025","1030","1000","1025","1030","1000","1035","1000","1050","1050","1000","1045","1000","1020","1060","1060","1060","1050","1060"]},"A data source is an information resource. Data sources include sources of data that enable data storage and retrieval. Data sources may include databases, such as, relational, transactional, hierarchical, multi-dimensional (e.g., OLAP), object oriented databases, and the like. Further data sources include tabular data (e.g., spreadsheets, delimited text files), data tagged with a markup language (e.g., XML data), transactional data, unstructured data (e.g., text files, screen scrapings), hierarchical data (e.g., data in a file system, XML data), files, a plurality of reports, and any other data source accessible through an established protocol, such as, Open DataBase Connectivity (ODBC), produced by an underlying software system (e.g., ERP system), and the like. Data sources may also include a data source where the data is not tangibly stored or otherwise ephemeral such as data streams, broadcast data, and the like. These data sources can include associated data foundations, semantic layers, management systems, security systems and so on.","A semantic layer is an abstraction overlying one or more data sources. It removes the need for a user to master the various subtleties of existing query languages when writing queries. The provided abstraction includes metadata description of the data sources. The metadata can include terms meaningful for a user in place of the logical or physical descriptions used by the data source. For example, common business terms in place of table and column names. These terms can be localized and or domain specific. The layer may include logic associated with the underlying data allowing it to automatically formulate queries for execution against the underlying data sources. The logic includes connection to, structure for, and aspects of the data sources. Some semantic layers can be published, so that it can be shared by many clients and users. Some semantic layers implement security at a granularity corresponding to the underlying data sources' structure or at the semantic layer. The specific forms of semantic layers include data model objects that describe the underlying data source and define dimensions, attributes and measures with the underlying data. The objects can represent relationships between dimension members and provide calculations associated with the underlying data.","The above descriptions and illustrations of embodiments of the invention, including what is described in the Abstract, is not intended to be exhaustive or to limit the invention to the precise forms disclosed. While specific embodiments of, and examples for, the invention are described herein for illustrative purposes, various equivalent modifications are possible within the scope of the invention, as those skilled in the relevant art will recognize. These modifications can be made to the invention in light of the above detailed description. Rather, the scope of the invention is to be determined by the following claims, which are to be interpreted in accordance with established doctrines of claim construction."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The claims set forth the embodiments of the invention with particularity. The invention is illustrated by way of example and not by way of limitation in the figures of the accompanying drawings in which like references indicate similar elements. The embodiments of the invention, together with its advantages, may be best understood from the following detailed description taken in conjunction with the accompanying drawings.",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
