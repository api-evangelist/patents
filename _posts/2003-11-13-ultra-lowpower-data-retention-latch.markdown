---
title: Ultra low-power data retention latch
abstract: An embodiment of a ultra low-power data retention latch circuit involves a slave latch SL that concurrently latches the same data that is loaded into a main circuit (such as a main latch ML) during normal operation. When the circuit enters a low power (data retention) mode, power (VCC) to the main latch ML is removed and the slave latch SL retains the most recent data (retained data SA, SA-). When power is being restored to the main latch ML, the slave latch's retained data SA, SA- is quickly restored to the main latch ML through what constitute Set and Reset inputs SAR, SAR- of the ML. This arrangement ensures that data restoration is much quicker than conventional arrangements that require the output data path DATA- to be stabilized before power is re-applied to the main latch. Further, there is no need to wait for power to the ML to be stable before restoring data from the SL to the ML, providing an increase in data restoration speed over conventional data retention latches. Using retained data SA, SA- (as mirrored in SAR, SAR-) to control the Set and Reset inputs prevents data contention in the main latch ML. Moreover, compared to known arrangements, the arrangement provides minimal loading on the DATA, DATA- output paths (driving only N, N), thus not compromising speed on the data path (DATAIN . . . DATA/DATA-) through the main latch during normal operation.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06965261&OS=06965261&RS=06965261
owner: Texas Instruments Incorporated
number: 06965261
owner_city: Dallas
owner_country: US
publication_date: 20031113
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY","DETAILED DESCRIPTION"],"p":["1. Field of the Invention","The invention generally relates to data retention circuits that retain data during a \u201clow power mode\u201d in which power is removed from certain main circuitry. More particularly, the invention relates to ultra low-power data retention circuits in which it is desired to quickly save data from a main latch to a slave latch, and to quickly replenish the main data latch with retained data, all while minimally loading main data latch data output lines during normal operation.","2. Related Art","In low-power chips, much of the circuitry is shut down when not in use (in a \u201clow power mode\u201d) so as to conserve power. However, some parts of the circuit remain powered during low power mode, to retain data. This retained data is used again when the chip emerges from low power mode.","Various back-up data latch arrangements are known in the art. However, in some known arrangements, there is a need to explicitly disable the main latch while awaiting or during stable power restoration. In some conventional arrangements, additional gates or signals are required in order to disable the main data path until power is stably restored. Also, some known latch arrangements require additional isolation or buffer circuitry, or have a circuit topology, that effectively add to the time required to pass data through the latch, undesirably slowing data throughput. For example, in certain conventional retention latches, the back-up latch's lines are connected the data output nodes of the main latch, adding loading to the main data path; undesirably, more time is needed for the main latch to correctly resolve before the main data path can safely be enabled. Also, certain known arrangements require power to the main latch to be kept off until data is restored to the normal output path, slowing the circuit's return to normal operation. Furthermore, some conventional latch arrangements simply consume undesirably large amounts of power.","Accordingly, there is a need in the art for a fast, ultra low-power arrangement that avoids the need to provide explicit disablement of a main latch and that does not require additional gates or signals to achieve disablement of the main data path.","An arrangement retains data output from a main circuit (ML) throughout a low power mode, and restores the retained data to the main circuit (ML) upon termination of the low power mode. The arrangement includes a slave latch configured to store the data output from the main circuit as the retained data throughout the low power mode and a control portion configured to restore the retained data to the main circuit through Set and Reset inputs to the main circuit (ML), so as to unambiguously determine restored data output (DATA and\/or DATA) upon the termination of the low power mode. In one embodiment, the Set and Reset signals directly control at least one main circuit data output without delay other than a logic gate propagation delay. In another embodiment, the Set and Reset signals are stably asserted before power is stably restored to the main latch. In still another embodiment, in a normal mode distinct from the low power mode, the slave latch and main circuit store input data concurrently.","In describing embodiments illustrated in the drawings, specific terminology is employed for the sake of clarity. However, the invention is not intended to be limited to the specific terminology so selected, and it is to be understood that each specific element includes all technical equivalents that operate in a similar manner to accomplish a similar purpose. Various terms that are used in this specification are to be given their broadest reasonable interpretation when used to interpret the claims.","Moreover, features and procedures whose implementations are well known to those skilled in the art are omitted for brevity. For example, design, selection, and implementation of basic electronic circuit elements such as signal level shifters, buffers, logic elements, current and voltage sources, diodes, bipolar transistors, metal oxide semiconductor field effect transistors (MOSFETs), transmission gates, delay elements, and the like, lie within the ability of those skilled in the art, and accordingly any detailed discussion thereof may be omitted.","This specification describes an arrangement including a main circuit such as a \u201cmain latch,\u201d and elements to for saving the main latch's data into an ultra low-power \u201cslave latch\u201d when new data is latched into the main latch. The data saved in the slave latch (for example, at the beginning of low-power mode) is immediately loaded back to the main latch as soon as power is fully restored.  illustrates one embodiment of such an ultra low-power data retention latch arrangement.","Briefly, a tri-state buffer BI buffers input binary data on line DATAIN to a main latch ML whenever a latch signal LATCH- is active. Main latch ML latches data on node DATA under control of latch signal LATCH- and provides a binary data output DATA- that is an inverted version of DATAIN and DATA.","When a main voltage VCC is no longer provided to the ML, ML's data is lost. However, a slave latch SL, powered by an always-on retention voltage V, retains the data throughout the loss of VCC and replenishes the data in ML as main voltage VCC is stably restored.","Referring in more detail to , ML may include a first logical NAND gate NAND that receives the DATA signal and a signal SAR (described below). NAND drives a second logical NAND gate NAND, which receives a signal SAR- (also described below). A switch SW passes NAND's output back to the data input of NAND under control of LATCH- in a manner that prevents conflict between tri-state buffer B and switch SW. SW may be implemented as a conventional transmission gate, with the sources and drains of opposite-conductivity metal oxide semiconductor field effect transistors (MOSFETs) being connected together and whose respective gates are connected to opposite-polarity versions of LATCH-. NAND and NAND may be implemented using conventional MOSFET technology.","Those skilled in the art will readily recognize that ML inputs SAR and SAR-operate as \u201cset\u201d and \u201creset\u201d inputs. That is, when either SAR or SAR- goes low, its corresponding NAND gate output NAND or NAND is forced high with no delay other than propagation delay through the logic gates NAND or NAND. NAND and NAND may have additional inputs (not shown) for use during development and testing.","Slave latch SL may be implemented using two inverters  and , the output of each being connected to the input of the other. I provides saved data output SA and  provides inverted saved data output SA-.","Two pairs of p-channel MOSFETs P, P and P, P are provided, whose sources are connected to VCC, the voltage that may be turned off. The drains of P and P are connected to the gate of P (node SAR); Symmetrically, the drains of P and P are connected to the gate of P (node SAR-). The gates of P and P are driven by a RESTORE signal (described below).","Node SAR may be connected to ground through a series of an n-channel MOSFET N whose gate is controlled by the RESTORE signal, and a n-channel MOSFET N whose gate is controlled by SA-. Symmetrically, node SAR may be connected to ground through a series of an n-channel MOSFET N whose gate is controlled by the RESTORE signal, and a n-channel MOSFET N whose gate is controlled by SA.","Inverted saved data output signal SA- may be connected to ground through a series of an n-channel MOSFET N whose gate is controlled by the SAVE signal, and a n-channel MOSFET N whose gate is controlled by DATA. Symmetrically, saved data output signal SA may be connected to ground through a series of an n-channel MOSFET N whose gate is controlled by the SAVE signal, and a n-channel MOSFET N whose gate is controlled by DATA-.","Two signals RETAIN and READY- govern operation of the data retention latch throughout its operation, as illustrated in the timing diagram of :\n\n","Logical NOR gates NOR and NOR provide respective signals RESTORE and SAVE in the following manner, reference again being made to the  timing diagram:\n\n","NOR, NOR, I, I and I are powered by an always-on retention voltage Vso that these elements are powered even when voltage VCC is lost.","To minimize power consumption, low leakage or long channel transistors may be employed, especially in those portions of the circuit powered by Vsuch as slave latch SL.","Operation of the  circuit is now described with reference to the timing diagram of .","During normal operation, VCC is provided and LATCH- latches data into ML so that DATA and DATA- are provided. RETAIN and READY- are low. Accordingly, SAVE is high, turning on N and N, thus allowing the DATA and DATA- to be stored at respective nodes SA and SA- through N and N, respectively. RESTORE is low, turning on N and N and allowing whichever one of SA and SA- to govern the state of either SAR or SAR-, respectively.","During retention (low power) mode, it is assumed that voltage VCC is not being provided and main latch ML cannot properly provide DATA or DATA-. RETAIN and READY- signals are high. Accordingly, RESTORE remains low. However, SAVE transitions from high to low, turning off N and N and ensuring that the last DATA and DATA- before power shutdown (VCC going to zero) are retained at SL's nodes SA and SA-, respectively. An inactive SAVE signal thus isolates SL from ML when ML's outputs are not reliable.","During the data restore (stabilization delay) period, RETAIN transitions to low and but READY- remains high during a stabilization delay period deemed sufficiently long for all power (voltage VCC) to become stably restored. Accordingly, SAVE remains low (so that N, N prevent un-restored DATA and DATA- from corrupting SA or SA-). However, RESTORE transitions high, turning on N and N and enabling SA, SA- to replenish DATA, DATA-.","MOSFETs P\u2013P and N\u2013N perform additional control functions during restoration as VCC is in the process of being restored. During the data restoration period, operation of the circuit is governed according to the state of slave latch (stored) data SA and SA-. For example, if SA is high, then:\n\n","Significantly, DATA- is the output of the circuit, and is an inverted version of stored bit SA that has survived the power outage of VCC. In this manner, the data saved in slave latch SL is reinserted into main latch ML after VCC has been restored.","The foregoing operation (SA=high) may be summarized in the first data row in Table 1:",{"@attributes":{"id":"p-0034","num":"0049"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE I"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Data Restoration"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"12"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"11","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"12","colwidth":"14pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SA","SA-","N1","N2","N3","N4","SAR","SAR-","P1","P2","P3","P4"]},{"entry":{"@attributes":{"namest":"1","nameend":"12","align":"center","rowsep":"1"}}},{"entry":["High","Low","On","On","Off","On","High","Low","Off","On","Off","Off"]},{"entry":["Low","High",{},{},"On","Off","Low","High",{},"Off","On"]},{"entry":{"@attributes":{"namest":"1","nameend":"12","align":"center","rowsep":"1"}}}]}}]}}},"Because of the symmetry of the connection of elements in the illustrated arrangement, operation of the circuit when SA is low (bottom row of Table I) is governed by the same principles described in detail above.","Back to Normal Mode. After the end of the data restore (stabilization delay) period, READY- returns low to announce that the circuit is ready (that is, the master latch's DATA- output can be trusted). SAVE goes high to enable SL to store data coming from ML. The circuit is back in normal mode, as described above.","In normal mode, Restore is low. A low Restore signal turns off both N and N and turns on both P and P, precharging both SAR and SAR- nodes to a high (logic 1) voltage. Accordingly, during normal mode, logic 1 values of SAR and SAR- do not affect the outputs of NAND and NAND, so that input data DATAIN is latched when SW is closed. This normal mode operation contrasts with that in the data restoration period, in which P and P are turned off but P and P transistors set only one of SAR and SAR-.","The described embodiments provide various advantages over conventional data retention arrangements.","For example, in the described embodiments there is no need to explicitly disable the main latch while awaiting stable power restoration or during power restoration. Likewise, no additional gate or signals are required, to disable the main data path until stable power restoration.","The illustrated embodiments provide a faster data restore time (from slave to main latch) because the main latch data outputs are derived from what are effectively \u201cset\u201d and \u201creset\u201d inputs SAR, SAR- to main latch. Compared to conventional arrangements, less time is needed for the main latch to correctly resolve and allow the main data path to be enabled, inasmuch as data contention in the main latch is avoided. No special power sequence is required to start up the main latch ML when data is restored from slave latch SL to master latch ML. Specifically, there is no need to wait for power to the ML to be stable before restoring data from the SL to the ML, providing an increase in data restoration speed over conventional data retention latches.","The illustrated embodiment provides very low power consumption, especially when low leakage or long channel transistors are employed in the slave latch and related circuitry.","Only a single path for each of the DATA and DATA- signals is required to be sent from the main latch to the slave latch. Accordingly, virtually no unnecessary loading burdens data output path (DATA-), thereby minimizing delay through the latch. It is recognized that a minor delay is experience because NAND gates NAND, NAND have one more input than the NAND gates (or inverters) of conventional main latches, but this delay may be considered insignificant.","The foregoing embodiments support an arrangement for retaining data output (DATA and\/or DATA-) from a main circuit (ML) throughout a low power mode, and for restoring the retained data (SA, SA-) to the main circuit (ML) upon termination of the low power mode. The arrangement may include a slave latch (SL) configured to store the data output (DATA and\/or DATA-) from the main circuit (ML) as the retained data (SA, SA-) throughout the low power mode, and a control portion (NOR, , P\u2013P, N\u2013N) configured to restore the retained data (SA, SA-) to the main circuit (ML) through Set and Reset inputs (receiving SAR, SAR-) to the main circuit (ML), so as to unambiguously determine restored data output (DATA and\/or DATA-) upon the termination of the low power mode.","The main circuit may be a main latch (ML) that receives at its Set and Reset inputs, Set and Reset signals (SAR, SAR-) that have values matching those of the retained data (SA, SA-); and the Set and Reset (SAR, SAR-) signals may directly control at least one main latch (ML) data output (DATA and\/or DATA-) without delay other than a logic gate (NAND and\/or NAND) propagation delay.","The Set and Reset signals (SAR, SAR-) may be stably asserted before power (VCC) is stably restored to the main latch (ML).","The Set and Reset signals (SAR, SAR-) may be of opposite value, so as to prevent data contention in the main latch (ML) when the retained data (SA, SA-) is restored to the main latch (ML).","The Set and Reset signals (SAR, SAR-) have values that are the same as the retained data (SA, SA-).","The control portion may include first and second switches (N, N) whose respective control inputs (gates) are controlled by a Restore signal that is active only during an activation delay period following the low power mode; and third and fourth switches (N, N) whose respective control inputs (gates) are controlled by the retained data (SA, SA-). The first and third switches (N, N) are connected between a first constant voltage level (GND) and a first one (SAR) of the Set and Reset signals, and the second and fourth switches (N, N) are connected between the first constant voltage level (GND) and a second one (SAR-) of the Set and Reset signals.","The first, second, third and fourth switches (N, N, N, N) may be n-channel MOSFETs.","The arrangement may further include fifth and sixth switches (P, P) that are connected between a second constant voltage level (VCC) and the first one (SAR) of the Set and Reset signals, and whose respective control inputs (gates) are controlled by the Restore signal and the second one (SAR-) of the Set and Reset signals; and seventh and eighth switches (P, P) that are connected between the second constant voltage level (VCC) and the second one (SAR-) of the Set and Reset signals, and whose respective control inputs (gates) are controlled by the Restore signal and the first one (SAR) of the Set and Reset signals.","The fifth, sixth, seventh and eighth switches (P, P, P, P) may be p-channel MOSFETs.","The arrangement may further include (a) ninth and tenth switches (N, N) that are connected between a first input (SA) of the slave latch (SL) and a first constant voltage level (GND), and whose respective control inputs (gates) are controlled by (1) a Save signal that is active only during a normal mode that is distinct from the low power mode; and (2) a first (DATA) of the main circuit's data outputs; and (b) eleventh and twelfth switches (N, N) that are connected between a second input (SA-) of the slave latch (SL) and the first constant voltage (GND), and whose respective control inputs (gates) are controlled by the Save signal and a second (DATA-) of the main circuit's data outputs.","The ninth, tenth, eleventh and twelfth switches (N\u2013N) may be n-channel MOSFETs.","The slave latch (SL) may require for its operation only a single input (N or N) for each data output (DATA, DATA-) of the main circuit (ML), so as to minimize loading of the main circuit's data output(s) (DATA and\/or DATA-).","The slave latch (SL) may include transistors that are all from a group including low leakage transistors and long channel transistors, so as to minimize power consumption.","The main circuit (ML) is a latch circuit including two cross-coupled logic gates (NAND, NAND) that receive respective ones of the Set and Reset signals.","In a normal mode distinct from the low power mode, the slave latch (SL) and main circuit (ML) may store input data (DATAIN) concurrently.","The arrangement may further include a Retain voltage source (VR) that continuously provides power to the slave latch (SL), even during the low power mode.","Also provided is a method for retaining data output from a main circuit throughout a low power mode and for restoring the retained data to the main circuit upon termination of the low power mode. The involves storing the data output from the main circuit in a slave latch as the retained data throughout the low power mode; and restoring the retained data to the main circuit through Set and Reset inputs to the main circuit, so as to unambiguously determine restored data output upon the termination of the low power mode.","The restoring step may include receiving, at Set and Reset inputs of the main circuit, Set and Reset signals that have values matching those of the retained data; and with the Set and Reset signals, directly controlling at least one main circuit data output without delay other than a logic gate propagation delay.","The method may further involve stably asserting the Set and Reset signals before stably restoring power to the main circuit.","The method may further involve, in a normal mode distinct from the low power mode, concurrently storing input data into the slave latch and into the main circuit.","Many alternatives, modifications, and variations will be apparent to those skilled in the art in light of the above teachings. For example, the choice of elements other than MOSFETs, or elements of different conductivity types, and the choice of different circuit components and configurations, lie within the scope of the present invention. Further, the design and adjustment of device size and properties, lie within the contemplation of the invention. It is therefore to be understood that within the scope of the appended claims and their equivalents, the invention may be practiced otherwise than as specifically described herein."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A more complete appreciation of the described embodiments is better understood by reference to the following Detailed Description considered in connection with the accompanying drawings, in which like reference numerals refer to identical or corresponding parts throughout, and in which:",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 2","FIG. 1"]}]},"DETDESC":[{},{}]}
