---
title: System and method for processing personalized stationery designs and selecting fulfillment order sites
abstract: A system and method are described for digitally processing a stationery order and for selecting an optimum fulfillment site for fulfilling the stationery order. For example, a method according to one embodiment of the invention comprises: providing an end user with a set of selectable stationery templates, the stationery personalization engine receiving an indication that an end user has selected a particular one of the stationery templates; collecting personalization data from the user, the personalization data including personalized messages, one or more stationery formatting options selected by the user, and names and addresses of stationery recipients; applying the personalization data to the stationery templates to generate a personalized stationery design; identifying a set of eligible fulfillment sites for printing the stationery design based on a first set of variables; and identifying an optimal fulfillment site from the set of eligible fulfillment sites based on a second set of variables.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08065196&OS=08065196&RS=08065196
owner: Shutterfly, Inc.
number: 08065196
owner_city: Redwood City
owner_country: US
publication_date: 20110818
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["PRIORITY PATENT APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The present patent application is a continuation application of and claims priority to commonly assigned U.S. patent application Ser. No. 12\/638,851, entitled \u201cSystems and methods for processing personalized stationery designs and selecting fulfillment order sites\u201d, filed Dec. 15, 2009 now U.S. Pat. No. 8,024,233 by the same inventors, the disclosure of which is incorporated herein by reference.","This invention relates generally to the field of network data processing systems. More particularly, the invention relates to an improved architecture and method for processing personalized stationery designs and selecting fulfillment order sites.","Web-based systems for designing stationery such as wedding invitations, birth announcements, thank you cards, birthday party invitations, etc, are currently available over the Internet. One such service, provided by the assignee of the present application, can be found at the Tinyprints website. This online stationery service allows users to select from a variety of different stationery categories. Upon selection of a particular category, multiple stationery design options are provided for that category. The user may then choose a particular stationery design and personalize the design to place a stationery order (e.g., by entering a personalized message, colors, etc).","Once a user has personalized a stationery design and placed an order, the stationery must be printed, either at the online stationery site or at an external printing service. Currently, no mechanism exists for selecting an optimal destination for printing stationery designs and\/or for reviewing personalized online stationery orders.","Consequently, what is needed is an automated, efficient system and method for processing and selecting an optimal destination for printing online stationery designs.","A system and method are described for digitally processing a stationery order and for selecting an optimum fulfillment site for fulfilling the stationery order. For example, a method according to one embodiment of the invention comprises: providing an end user with a set of selectable stationery templates, the stationery personalization engine receiving an indication that an end user has selected a particular one of the stationery templates; collecting personalization data from the user, the personalization data including personalized messages, one or more stationery formatting options selected by the user, and names and addresses of stationery recipients; applying the personalization data to the stationery templates to generate a personalized stationery design; identifying a set of eligible fulfillment sites for printing the stationery design based on a first set of variables; and identifying an optimal fulfillment site from the set of eligible fulfillment sites based on a second set of variables.","Described below is a system and method for selecting an optimal destination for printing stationery designs. Throughout the description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent, however, to one skilled in the art that the present invention may be practiced without some of these specific details. In other instances, well-known structures and devices are shown in block diagram form to avoid obscuring the underlying principles of the present invention.","It should be noted that the term \u201cstationery\u201d is used herein to refer to cards, invitations (e.g., wedding, birthday invitations, etc), and any other form of written communication and\/or images printed on a medium (e.g., paper, fabric, etc) using any form of printing device.",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1","b":["151","100","190","105","100","150","120","135","133","132","135","133","115","115"],"smallcaps":["YSTEM ","ND ","ETHOD ","OR ","ESIGNING ","ND ","ENERATING ","NLINE ","TATIONERY"]},"Various well known functional modules associated within the presentation and session management logic  are executed to receive user input, process the input, interact with one or more other modules shown in , and dynamically generate Web pages containing the results. The Web pages are then transmitted to the user's client computer  and rendered on the browser . The Web pages may be formatted according to the well known HyperText Markup Language (\u201cHTML\u201d) or Extensible HTML (\u201cXHTML\u201d) formats, and may provide navigation to other Web pages via hypertext links. One embodiment utilizes Dynamic HTML (\u201cDHTML\u201d), a collection of technologies used together to create interactive Web sites by using a combination of a static markup language (e.g., HTML), a client-side scripting language (e.g., JavaScript), a presentation definition language (e.g., CSS), and the Document Object Model (\u201cDOM\u201d).","Once a stationery design  has been completed, the user enters order information such as user name, payment type, billing address, etc, to place an order. Various well-known functional modules for processing the order information are not shown in  to avoid obscuring the underlying principles of the invention.","Once the order information submitted by the user has been verified, customer care, production design specialists and production quality assistance personnel at the online stationery service review all ordered items. In one embodiment, the review team checks spelling, grammar, type setting, picture quality, and fonts, to ensure that the information in the personalized stationery design  is accurate and to ensure that the stationery will print correctly.","In one embodiment, import scripts are executed to open the product design template files and pull personalized photos and text. After verifying the details and quality of the personalized design, a pre-flight processing module  executed on the stationery design service generates a plurality of different file formats for the personalized stationery design. In particular, as illustrated in , the pre-flight processing module  generates an Adobe\u00ae Portable Document Format (\u201cPDF\u201d) print file  to be used for printing the stationery design (as described below). In one embodiment, the print file  is queued within a print queue  prior to printing and it subsequently forwarded to one or more local printers  or remote printers -. The PDF print file  may be queued within the print queue for a specified amount of time prior to printing (e.g., 15 minutes), to allow sufficient time for additional review. When initially placed in the print queue , the status of the PDF print file  is set to \u201creviewed\u201d and after the specified period of time, the status is set to \u201cready-to-print.\u201d The PDF print file  and associated metadata  may then be selected by the order processor for printing. The foregoing status indicators allow the internal review teams of the online stationery service  to cancel an order if it moved to \u201creviewed\u201d by mistake. While a PDF file is described above, various other file formats suitable for printing may be used while still complying with the underlying principles of the invention (e.g., PostScript file, image files, etc).","In addition, in one embodiment, the pre-flight processing module  generates a JPEG proof file  which may be sent to the end user for final review. In one embodiment, the JPEG proof file  is encapsulated\/attached to an email message and emailed to the user via email module . Alternatively, or in addition, the JPEG proof file  may be encapsulated in a Web page by presentation and session management logic  and reviewed within the user's browser . While a JPEG image is described above, various other image formats may be employed while still complying with the underlying principles of the invention (e.g., GIF, Bitmap, TIFF, etc).","Additionally, in one embodiment, the pre-flight processing module  pulls personalized text and photo images from the personalization data  and overlays the text and images on the stationery design template  which, as described in the co-pending applications, is an Adobe Illustrator (AI) file. The end result is a personalized AI file  containing the user's personalization data. In one embodiment, the AI file  is used as an archive of the user's order. The AI file  may subsequently be retrieved and modified and\/or additional orders may be placed using the AI file . In one embodiment, the AI file  and the personalized design  shown in  are different formats of the same file. However, the same or different file formats may also be used while still complying with the underlying principles of the invention.","In one embodiment, an order processor  first validates each order to determine if the order is complete (e.g., checking the status of the print file and payment confirmation) and then selects a printing destination for the order. In one embodiment, the order processor  selects from among a plurality of fulfillment sites - and\/or one or more local printers  by evaluating order data and metadata  associated with the order and the various fulfillment sites. In one embodiment, the order processor  initially determines a set of eligible fulfillment sites - based on the metadata  which may include, but is not limited to the following: producttype (e.g., digital press cards, letterpress cards, address labels, envelopes); the shipping address (e.g., country, state, city, postal code); the product size; the paper type; and whether a Printed Return Address (PRA) is required on the envelopes order.","Examples of product type, product size and paper type include, but are not limited to the following:","Product Types:\n\n","Paper Types:\n\n","By way of example, if a particular fulfillment site does not offer certain product types, then it will be excluded from an order which requires printing of those product types. Similarly, if a particular stationery order requires envelopes with printed return address, then those fulfillment sites which do not support printed return address will be excluded from the set of eligible sites.","In one embodiment, once the order processor  has selected a set of eligible sites (and if there is more than one eligible site), it selects an \u201coptimum\u201d site based on the printing quota at each of the fulfillment sites. Specifically, in one embodiment, ratios are used to determine how to allocate orders to fulfillment sites -. Some fulfillment sites are set to a quota value of \u201c1\u201d and orders are distributed evenly among these sites. Thus, if there are two fulfillment sites with quota values of 1, the ratio would be 1:1 and orders would be evenly distributed among the two fulfillment sites (i.e., for every order sent to one site another order would be sent to the next site).","Quota values of less than 1 are used to limit the number of orders sent to certain sites. For example, if there are two sites with quota values of 1 and one site with a quota value of 0.5, the sites with the quota value of 1 would receive twice as many print orders as the site with the quota value of 0.5. For example, with a ratio of (1:1:0.5) and 25 orders, the first fulfillment site would get 10 orders, second 10 and third 5.","In one embodiment, the number of current orders assigned to each fulfillment site - are maintained within the stationery service database  (e.g., in a fulfillment site table). The order processor  performs the foregoing allocation by querying the database to retrieve this information and then dividing the number of current orders for a site by the ratio value assigned to that site. In one embodiment, the site with the lowest resulting value is selected for the next order. In one embodiment, if all ratios balance, the next printer will be selected in random order (or based on other variables described herein).","In one embodiment, the order processor  selects a fulfillment site based on variables other than quota. For example, the order processor  may select one eligible site over another eligible site based on the geographical location of the two sites\u2014i.e., selecting the site which is closer to where the stationery order will be shipped. Similarly, the order processor  may factor in cost when selecting a site. For example, if one site is more expensive than another fulfillment site for a particular order, then the order processor  will select the less expensive site. Various other data may be evaluated by the order processor  to select a site while still complying with the underlying principles of the invention.","In one embodiment, once the fulfillment site is known, the order processor  creates a mapping of items within the order (i.e., \u201cshopping cart\u201d items) to fulfillment site Stock Keeping Units (SKUs) (i.e., unique identifiers for each order).","The order processor  then creates and transmits an XML file to the selected fulfillment site which contains all of the metadata needed to process the order, including the SKU mapping mentioned above. For example, the XML file specifies the product type, the paper\/envelope type, the quantity, whether a Printed Return Address (PRA) is required and any other information needed to process the order. In one embodiment, the XML file contains the network location of the art files for the stationery order so that the fulfillment site can retrieve the art files after they receive the order (e.g., the PDF print file location). In one embodiment, the network location is specified as a unique Uniform Resource Identifier (URI) generated by the order processor .","In one embodiment, the XML file is transmitted using the specific protocols required by fulfillment site. The specific protocols may be determined by downloading and parsing the XML schema for that site (i.e., as part of a Web Services transaction).","After receiving and parsing the XML file, the fulfillment site retrieves the PDF print file  identified within the XML file and prints the stationery order. It then mails the stationery order to the recipients specified in the XML file. The order may be mailed to the user who placed the order and\/or may be mailed directly to the stationery recipients. IN either case, the addressing information provided by the user is encapsulated within the XML file.","Once the order has been completed, the fulfillment site communicates this information to the online stationery service  which updates the order status within the database . In one embodiment, the online stationery service  periodically polls the fulfillment site for order status. Alternatively, some fulfillment sites automatically contact the online stationery service upon completion of an order.",{"@attributes":{"id":"p-0034","num":"0053"},"figref":["FIG. 2","FIG. 1"],"b":["202","133","133","135"],"smallcaps":["YSTEM ","ND ","ETHOD ","OR ","ESIGNING ","ND ","ENERATING ","NLINE ","TATIONERY"]},"At , the online stationery service  performs an internal review of the stationery order. For example, an internal review team checks spelling, grammar, typesetting, picture quality, and fonts, to ensure that the information in the personalized stationery design  is accurate and to ensure that the stationery will print correctly.","At , multiple output formats are generated for the stationery order. In one embodiment, the output formats comprise a first format used for printing, a second format used as a proof for the end user and a third format used to archive the stationery order. For example, in the embodiment described above, the first format comprises a PDF format, the second format comprises a JPEG, and the third format comprises an AI file. Of course, the underlying principles of the invention are not limited to any particular set of data formats.","At , a set of eligible fulfillment sites are identified. The eligibility of fulfillment sites may be based on variables such as the capabilities of each site (e.g., some may not be capable of printing certain orders); the geographical location of each site (e.g., orders for US recipients should be printed by US companies to avoid additional shipping fees); and the type of products supported by each site (e.g., digital press cards, letter press cards, address labels, etc), to name a few. If only one fulfillment site is eligible, then the process jumps to .","If, however, multiple fulfillment sites are eligible then, as determined in step , at , an \u201coptimal\u201d fulfillment site is selected. As previously described, in one embodiment, the optimal site is selected based on the specified printing quota at each of the fulfillment sites and the number of current orders pending at each site. This effectively load balances stationery orders across the fulfillment sites based on the quota values assigned to each site. Various additional data may be factored in when choosing an \u201coptimal\u201d site including, for example, the geographical location of the fulfillment sites\u2014i.e., selecting the site which is closer to the destination(s) of the stationery order. Similarly, cost may be evaluated when selecting a site. For example, if one site is more expensive than other fulfillment site for a particular order (i.e., based on all of the order variables such as printing type, paper type, etc), then the less expensive site may be selected. Various other data may be evaluated to select a site while still complying with the underlying principles of the invention.","Said another way, step  selects all fulfillment sites which are capable of processing the stationery order and step  selects an optimal fulfillment site based on one or more stationery order variables.","At , metadata is routed to the optimal fulfillment site. As mentioned above, the metadata may be contained within an XML file and may specify the variables for the print job such as the network location of the print file on the stationery service  (e.g., a URI), the number of prints to be made for the stationery order, the names\/addresses of the stationery recipients, the paper type, and the print type, to name a few.","At , the fulfillment site transmits a request for the print file from the online stationery service  at the network location provided as metadata. In one embodiment, the print file is a PDF file which, at  is transmitted from the online stationery service  to the fulfillment site. At , the fulfillment site prints the personalized stationery design and envelopes using the art file and, at , mails the stationery in the envelopes to the addressees printed on the envelopes, or to the end user who placed the order. Finally, at , upon receiving notice that the order has shipped, the online stationery service  updates the order status within the database (i.e., as \u201ccompleted\u201d or \u201cshipped\u201d).","Throughout the discussion above, various details have been omitted to avoid obscuring the pertinent aspects of the invention. For example, in an embodiment of the invention in which the user connects to the online stationery service  via a Web browser, various well known functional modules associated within the presentation and session management logic  shown in  are executed to receive input, process the input and dynamically generate Web pages containing the results. The Web pages may be formatted according to the well known HyperText Markup Language (\u201cHTML\u201d) or Extensible HTML (\u201cXHTML\u201d) formats, and may provide navigation to other Web pages via hypertext links. Web pages are requested, dynamically generated, and transmitted from Web servers on the online stationery service  using the Hypertext Transfer Protocol (HTTP). One embodiment of the invention employs application software written in PHP (a well known scripting language designed for producing dynamic web pages) running on Apache\u2122 Web servers served off Linux platforms. In addition, in one embodiment, the databases described herein are MySQL databases. It should be noted, however, that the underlying principles of the invention are not limited to any particular type of communications protocol or network architecture.","Additionally, various details associated with the order processor  and fulfillment sites - have been omitted to avoid obscuring the underlying principles of the invention. In one embodiment, these entities communicate via standard Web services or HTTP communication connections which occur over the Internet (i.e., with TCP\/IP as the underlying network\/transport protocol). For example, the online stationery service may initially discover the operations and protocols required by each fulfillment site's Web services by reading the Web Services Description Language (WSDL) file provided by each fulfillment site. Various other Web services protocols such as REpresentational State Transfer (REST) protocols may be employed while still complying with the underlying principles of the invention.","Embodiments of the invention may include various steps as set forth above. The steps may be embodied in machine-executable instructions which cause a general-purpose or special-purpose processor to perform certain steps. Alternatively, these steps may be performed by specific hardware components that contain hardwired logic for performing the steps, or by any combination of programmed computer components and custom hardware components.","Elements of the present invention may also be provided as a machine-readable medium for storing the machine-executable instructions. The machine-readable medium may include, but is not limited to, floppy diskettes, optical disks, CD-ROMs, and magneto-optical disks, ROMs, RAMs, EPROMs, EEPROMs, magnetic or optical cards, propagation media or other type of media\/machine-readable medium suitable for storing electronic instructions. For example, the present invention may be downloaded as a computer program which may be transferred from a remote computer (e.g., a server) to a requesting computer (e.g., a client) by way of data signals embodied in a carrier wave or other propagation medium via a communication link (e.g., a modem or network connection).","Throughout the foregoing description, for the purposes of explanation, numerous specific details were set forth in order to provide a thorough understanding of the invention. It will be apparent, however, to one skilled in the art that the invention may be practiced without some of these specific details. For example, it will be readily apparent to those of skill in the art that the functional modules such as wizards and other logic may be implemented as software, hardware or any combination thereof. Accordingly, the scope and spirit of the invention should be judged in terms of the claims which follow."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A better understanding of the present invention can be obtained from the following detailed description in conjunction with the following drawings, in which:",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"}]},"DETDESC":[{},{}]}
