---
title: Image processing device and image processing method
abstract: An image processing device includes a determining unit that determines whether an intermediate parameter that is newly computed by an intermediate parameter computing unit or an intermediate parameter that is previously stored in an intermediate parameter storing unit is to be supplied to a color correcting unit depending upon an image forming condition. The color correcting unit performs color correction based on the intermediate parameter.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08218208&OS=08218208&RS=08218208
owner: Ricoh Company, Ltd.
number: 08218208
owner_city: Tokyo
owner_country: JP
publication_date: 20090316
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["The present application claims priority to and incorporates by reference the entire contents of Japanese priority document 2008-067484 filed in Japan on Mar. 17, 2008.","1. Field of the Invention","The present invention relates to an image processing device such as a digital copying apparatus, a printer, or a facsimile (fax) apparatus. More particularly, the present invention relates to an image processing device having a connecting output function in which data acquired at a scanner device attached to the image processing device are sent for printing to a separate printer.","2. Description of the Related Art","Conventional image processing devices suffer from a problem, for example, that a fluctuation in spectral sensitivity of a charge coupled device (CCD) in a scanner, a fluctuation in spectral sensitivity of an infrared cut filter for removing an infrared light component and a degradation in a scanner optical system with the elapse of time cause a mechanical difference and a degradation with time in read values of original image data and cause a difference in output image signals for each machine even when an identical color original is read, often resulting in a different color output on a display and a different printed color.","Japanese Patent Application Laid-open No. 2006-238408 discloses setting image processing parameters using a reference chart with color images on a plurality of different gradation levels formed thereon with a view to reducing a difference between scanner devices.","The computation of intermediate parameters for obtaining image processing parameters for use in a color correcting unit by reading of a chart is disadvantageous, for example, in that, due to computational complexity of the intermediate parameters, continuous copying takes a lot of time and recomputation of the intermediate parameters for each image quality mode takes a lot of time.","It is an object of the present invention to at least partially solve the problems in the conventional technology.","According to an aspect of the present invention, there is provided an image processing device including an intermediate parameter computing unit configured to compute an intermediate parameter as an image processing parameter for use in a color correcting unit that corrects signal colors depending upon a plurality of hue areas formed using, as a boundary, planes provided parallel to a lightness axis within a color space; an intermediate parameter storing unit configured to store therein the intermediate parameter calculated by the intermediate parameter computing unit; and a determining unit that determines whether the intermediate parameter that is newly computed by the intermediate parameter computing unit or the intermediate parameter that is previously stored in the intermediate parameter storing unit is to be supplied to the color correcting unit depending upon an image forming condition.","According to another aspect of the present invention, there is provided an image processing method including computing an intermediate parameter as an image processing parameter for use in a color correcting unit that corrects signal colors depending upon a plurality of hue areas formed using, as a boundary, planes provided parallel to a lightness axis within a color space; storing the intermediate parameter calculated at the computing in an intermediate parameter storage unit; and determining whether the intermediate parameter that is newly computed at the computing or the intermediate parameter that is previously stored in the intermediate parameter storing unit is to be supplied to the color correcting unit depending upon an image forming condition.","The above and other objects, features, advantages and technical and industrial significance of this invention will be better understood by reading the following detailed description of presently preferred embodiments of the invention, when considered in connection with the accompanying drawings.","Preferred embodiments according to the present invention will be explained in more detail with reference to the accompanying drawings.","Embodiments of the present invention will be explained with reference to . These embodiments have been explained as an application of an image processing device to electrophotographic color copying apparatuses that are the so-called multi functional peripherals (MEPs) including, for example, a copying function, a facsimile (fax) function, a printing function, a scanner function, and a function of distributing an input image (an image of an original read by a scanner function or an image input by a printing or fax function) that have been composited with each other.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":["FIG. 1","FIG. 1"],"b":["1","1","1000","1","300","1","1","1","100"]},"In this case, for example, fluctuation in spectral sensitivity of CCD in a scanner unit of each of the color copying apparatuses , fluctuation in spectral sensitivity of an infrared cut filter for removing an infrared light component, and degradation in a scanner optical system with the elapse of time cause a difference in read values of the image data of the original between machines. As a result, even when an identical color original is read, output image signals are different for respective scanner units  in the color copying apparatuses , often resulting in a different color output on a display and a different printed color. In order to solve the problems of the prior art, the present embodiments have been configured so that image processing parameters can be set with a view to reducing a difference in read values between the scanner units  in the color copying apparatuses , improving a printer adjustment accuracy and reducing a fluctuation in adjustment. The embodiments will be explained in more detail.",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 2","b":["1","1","100","200","300","2","3","2","1","400","400","401","402","3","300","402"]},"The sheet feeding unit  includes, for example, a sheet feeding tray , a reversing unit , and a carrier roller (not shown). The sheet feeding unit  separates a plurality of sheets of transfer paper (transfer materials) P within the sheet feeding tray  one sheet by one sheet and carries the separated transfer paper to the printer unit . The reversing unit  reverses the obverse and reverse surfaces of the transfer paper P with an image formed thereon by the printer unit , and again feeds the transfer paper P into the printer unit  to perform image formation on the reverse surface. A sheet feeding tray , on which the transfer paper P is set by manual feeding, is provided on one side face of the body casing . The sheet feeding unit  also carries the transfer paper P present on the sheet feeding tray  to the printer unit .","A catch tray  is provided on the body casing  in its side face remote from the sheet feeding tray . The transfer papers P, on which an image has been formed by the printer unit , are successively delivered onto the catch tray .","The printer unit  is provided within the body casing  in its substantially central portion. A loop-shaped intermediate transfer belt  is provided in the printer unit  at its substantially central portion in a vertical oblique direction over a predetermined length. The intermediate transfer belt  is extended across a driving roller  and a transfer roller , is rotation driven clockwise indicated by an arrow shown in . Organic photoconductor (OPC) drums K to C as image carriers (four in total of black (K) and three colors of yellow (Y), magenta (M), and cyan (C))) with 30 [mm]\u03c6 are provided along the intermediate transfer belt . For example, electrification chargers K to C that electrify the surface of the photoreceptor drums K to C, a laser optical system  that applies a laser beam onto the surface of the uniformly electrified photoreceptor drums K to C to form an electrostatic latent image, a black developing unit K and three color developing units for yellow (Y), magenta (M), and cyan (C), i.e., Y, M, and C, that feed respective color toners onto the electrostatic latent image to develop the latent image and thus to form a toner image for each color, bias rollers K to C that apply a transfer voltage to the intermediate transfer belt , a cleaning device (reference character not attached) that removes toner remaining on the surface of the photoreceptor drums K to C after the transfer, and an electricity removing unit that removes charges remaining on the surface of the photoreceptor drums K to C after the transfer, are successively provided around the photoreceptor drums K to C.","In the printer unit , the photoreceptor drums K to C being rotated anticlockwise are uniformly electrified by the electrification chargers K to C. Laser beams modulated by color data on respective colors are applied onto the uniformly charged photoreceptor drums K to C from the laser optical system  to form electrostatic latent images. Each color toner is fed by developing units K to C for respective colors to the photoreceptor drums K to C with the electrostatic latent images formed thereon to form toner images. In the printer unit , a transfer voltage is applied by bias rollers K to C to the intermediate transfer belt , and the toner images for respective colors on the photoreceptor drums K to C are successively superimposed and transferred onto the intermediate transfer belt  to transfer a full-color toner image.","In the printer unit , a pressure roller  is disposed at a position opposed to the transfer roller  so as to hold the intermediate transfer belt  between the pressure roller  and the transfer roller . The transfer paper P is transferred from the sheet feeding unit  into between the pressure roller  and the transfer roller . Carrier rollers  and registration rollers  are provided on a carrying path for the transfer paper P that leads to the pressure roller  and the transfer roller . The carrier rollers  carry the transfer paper P from the sheet feeding unit  to the registration rollers . The registration rollers  perform the adjustment of timing of the carried transfer paper P with the toner images on the intermediate transfer belt  and carry the transfer paper P into between the pressure roller  and the transfer roller .","The transfer roller  applies a transfer voltage to the intermediate transfer belt  to transfer the toner image formed on the intermediate transfer belt  onto the transfer paper P transferred between the transfer roller  and the pressure roller .","In the printer unit , a carrying belt  and a fixing unit  are provided on the downstream side in a carrying direction of the transfer paper P on which the toner image has been transferred. The transfer paper P, with the toner image transferred thereon, that has been separated from the intermediate transfer belt  is carried by the carrying belt  to the fixing unit . The fixing unit  includes a fixing roller  heated to a fixing temperature and a pressure roller  in pressure contact with the fixing roller . The fixing roller  and the pressure roller  being rotation driven carry the transfer paper P being carried while heating and pressing the transfer paper P to fix the toner image, present on the transfer paper P, onto the transfer paper P which is then delivered on the catch tray  provided on the side face of the body casing .","As shown in an enlarged state in , the scanner unit  includes, for example, a first travel body  including a halogen lamp  provided with a lampshade paper , a first mirror  that reflects light from the original G and the halogen lamp  to the original G and a white reference plate (not shown), and a second mirror  that reflects light reflected from the original G and the white reference plate; a second travel body  including a third mirror  and a fourth mirror  that successively reflect light reflected from the second mirror ; two switchable infrared cut filters , ; a lens ; and a charge coupled device (CCD)  as a photoelectric transducer. While moving the first travel body  and the second travel body  at respective predetermined travelling speeds in a vertical scanning direction (a direction indicated by an arrow a in ), a reading light is applied from the halogen lamp  on the first travel body  onto the original G located on the contact glass , and light reflected from the original G is reflected by the second mirror  to the third mirror  on the second travel body . In the scanner unit , light reflected from the second mirror  is reflected by the third mirror  in the direction of the fourth mirror , and the reflected light is reflected by the fourth mirror in the direction of the infrared cut filters , . In this case, infrared light is cut off by the infrared cut filter  or the infrared cut filter  located on an optical path, and the light is introduced into the lens . The scanner unit  collects incident light on CCD . CCD  performs photoelectric conversion of the incident light to read an image of the original G and outputs the image as analog image signals.","In the color copying apparatus , as shown in , an operating unit  is provided on an upper surface of the body casing . The operating unit  includes, for example, a start key , a clear\/stop key , a ten key , an interrupt key , a memory call key , a preheating\/mode clear key , a color adjustment\/registration key , a program key , an option key , an area processing key , and a liquid crystal screen .","In the color copying apparatus , the control system is configured as shown in . The control system includes, for example, a central processing unit (CPU)  in a system controller  that controls each unit in the color copying apparatus  and executes processing as the color copying apparatus , a random only memory (ROM)  that stores various programs and data, a random access memory (RAM)  that is used as a work memory for CPU , an interface input\/output (I\/O)  that connects CPU  to various circuit units, a various sensor control unit , a power supply\/bias control unit , a drive control unit , an operation unit , a communication control unit , a storage control unit , a storage device , an IPU , a laser optical system drive unit , and a toner feeding circuit .","For example, a toner density sensor  installed within the developing units K to C for YMCK, optical sensors to installed within the developing units K to C for YMCK, a potential sensor , and an environment sensor  are connected to the various sensor control unit . Sensor signals from the sensors  to  are output to CPU  through the interface I\/O . The optical sensor is provided opposite to the photoreceptor drums K to C and detects the amount of the toner adhered on the photoreceptor drums K to C. The optical sensor is provided near each of the photoreceptor drums K to C so as to face the intermediate transfer belt  and detects the amount of the toner adhered on the intermediate transfer belt . The optical sensor is provided so as to face the carrying belt  and detects the amount of the toner adhered on the carrying belt . In effect, the detection with any one of the optical sensors to suffices for contemplated results.","The optical sensor is provided at a position, which is outside an image area in an axial direction of the photoreceptor drums K to C and near the image area, includes a light emitting element such as a light emitting diode and a photodetector such as a photosensor, detects, for each color, the amount of the toner adhered on a toner image in a detected pattern latent image formed on the photoreceptor drums K to C and the amount of the toner adhered on a texture portion, detects the so-called residual potential after the removal of electricity in the photoreceptor drums K to C, and outputs detected signals to the various sensor control unit . The various sensor control unit  determines the ratio between the amount of the toner adhered in the detected pattern toner image and the amount of the toner adhered on the texture portion based on the detected signals sent from the optical sensor , compares the ratio with a reference value to detect a fluctuation in the image density, and corrects the control value of the toner density sensor  for each color of YMCK. In effect, the optical sensor is not required to be provided in each of the photoreceptor drums K to C, and the detection in any one of the photoreceptor drums K to C suffices for contemplated results.","The toner density sensor  is provided in each of the developing units K to C, detects the density of the toner based on a change in magnetic permeability of a developing agent present within the developing units K to C, and outputs detected signals to the various sensor control unit . The various sensor control unit  compares the detected toner density with the reference value based on the detected signals sent from the toner density sensor . When the toner density is below a given value indicating that the amount of the toner is insufficient, a toner feeding signal on a level corresponding to the shortage is output to the toner feeding circuit . The toner feeding circuit  feeds the toner to the developing units K to C in response to the toner feeding signal.","The potential sensor  detects the surface potential of each of the photoreceptor drums K to C as an image support and outputs the detected signal to the various sensor control unit .","The power supply\/bias control unit  controls the supply of a power supply to the developing units K to C and a power supply circuit . The power supply circuit  supplies a predetermined electrification discharge voltage to the electrification chargers K to C, supplies a developing bias of a predetermined voltage to the developing units K to C, and supplies a predetermined transfer voltage to the bias rollers K to C and the electrification chargers K to C.","The drive control unit  controls the laser optical system drive unit  that regulates the laser output of the laser optical system , an intermediate transfer belt drive unit  that controls the rotation drive of the intermediate transfer belt , and the drive of the toner feeding circuit  that feeds the toner to the developing units K to C. The operation unit  performs the acquisition of the details of an operation in the operating unit , the control of lighting of lamps and the like, and the control of display of the liquid crystal screen  under the control of CPU .","A network such as the Internet or an intranet is connected to the communication control unit , and the communication control unit  performs communication through the network. The storage device  includes a hard disk or the like and stores various pieces of information, particularly image data under the control of the storage control unit .","The IPU  will be explained with reference to . As shown in , the IPU  includes, for example, a shading correcting circuit , an area processing unit , a scanner \u03b3 converting unit , an image memory , an image separating unit , an interface (I\/F) , a modulation transfer function (MTF) filter , a hue determining circuit , a color conversion under-color removal (UCR) processing circuit (only \u201ccolor conversion UCR\u201d has been depicted in  to make the label short) , a pattern generating unit , a magnification circuit , an image processing circuit , an image processing printer \u03b3 converting circuit , a gradation processing circuit , a CPU , a ROM , a volatile RAM , and a nonvolatile NV-RAM . These units are connected through a bus .","Further, the printer unit  includes, for example, an I\/F selector , a pattern generating unit , an image forming printer \u03b3 correcting circuit , and a printer engine  that actually forms an image in the printer unit .","The CPU  is connected to the ROM  and the RAM  through the bus  and is connected to the system controller  through serial I\/F. A command is sent from the operating unit  or the like through the system controller . The CPU  sets various parameters in each of necessary units in IPU  based on the image quality mode, information on the density, information on the area and the like sent from the operating unit  or the like.","The scanner unit  performs color separation of the original G placed on the contact glass  into R, G, and B, reads the data, for example, on a 10-bit basis, and outputs the read image signals of the original G to the shading correcting circuit  in IPU .","The shading correcting circuit  corrects unevenness in a main scanning direction of an image signal input from the scanner unit  followed by outputting of the results, for example, as eight bit signals to the scanner \u03b3 converting unit .","The area processing unit  generates area signals that identify an area within the original G to which image data being currently processed belongs. The area signals switch the parameter used in the subsequent image processing. The area processing unit  sets, for each specifying area, image processing parameters such as a color correction coefficient, a space filter, or a gradation conversion table best suited for originals G such as characters, silver salt photographs (photographic papers), printed originals, ink jet, highlight pens, maps, and thermal transfer originals depending upon the image area.","The scanner \u03b3 converting unit  converts read signals (reflectance data), sent from the scanner unit , to lightness data and stores the lightness data in the image memory . The image memory  stores the image signals after the scanner \u03b3 conversion and outputs the image signals to the MTF filter  through the image separating unit  and I\/F . The image separating unit  makes a determination on a character portion and a photograph portion in the image of the original G and a determination on a chromatic color or an achromatic color, and the results of the determination are output to the MTF filter .","The MTF filter  performs processing that changes frequency characteristics of the image signals such as edge reinforcement and smoothing according to the user's preference, for example, so as to provide sharp images or soft images and further performs edge reinforcement processing (adaptive edge reinforcement processing) according to the edge degree of the image signals. For example, the MTF filter  performs the so-called adaptive edge reinforcement for each of R, G, and B signals in which edge reinforcement is performed for the edge of characters while edge reinforcement is not performed for dot images.","Specifically, for example, as-shown in , the MTF filter  includes, for example, a smoothing filter , an edge level detecting filter , a Laplacian filter , a smoothing filter , a table converting circuit , an integrator , and an adder . The smoothing filter  smoothes the image signals converted from the reflectance linear mode by the scanner \u03b3 converting unit  to the lightness linear mode using the following coefficients and outputs the results as image signal A to the Laplacian filter  and the adder .",{"@attributes":{"id":"p-0103","num":"0102"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"7"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"56pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"6","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"( 1\/18)x","0","1","2","1","0"]},{"entry":[{},{},"1","2","4","2","1"]},{"entry":[{},{},"0","1","2","1","0"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"6","align":"center","rowsep":"1"}}]}]}}}}},"Next, the Laplacian filter (3\u00d73)  extracts a differential component of the image data using a filter as shown in  and outputs the results as an image signal B to the integrator .","Among 10-bit image signals not subjected to \u03b3 conversion by the scanner \u03b3 converting unit , for example, a high eight-bit component is input into the edge level detecting filter . The edge level detecting filter  detects an edge using a filter shown in  that detects an edge in a vertical scanning direction, a filter shown in  that detects an edge in a main scanning direction, and oblique direction detecting filters shown in . The maximum value among the detected edge levels is output as the edge degree to the smoothing filter .","The smoothing filter  smoothes the edge degree detected by the edge level detecting filter , if necessary, using the following coefficient to reduce an influence of a difference in sensitivity between even-numbered pixels and odd-numbered pixels in the scanner unit  and outputs the results to the table converting circuit .",{"@attributes":{"id":"p-0107","num":"0106"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"70pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"(\u00bc)\u00d7","1","2","1"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}},"The table converting circuit  performs table conversion of a required edge degree and outputs the results as an image signal C to the integrator . In this case, the table converting circuit  specifies the density of lines or dots (including contrast and density) and the smoothness of dot portions. An example of the table is shown in . The edge degree is largest, for example, a black line or a dot on a white background and decreases with an increase in smoothness of pixel boundaries as in, for example, fine dots in prints or silver salt photographs or thermal transfer originals.","The integrator  multiplies the edge degree (image signal C) converted by the table converting circuit  by the output value (image signal B) from the Laplacian filter  and outputs the obtained value as an image signal D to the adder . The adder  adds the image signal (image signal A) after the smoothing processing to the image signal D and outputs the results as an image signal E to the hue determining circuit  and the color conversion UCR processing circuit  as subsequent image processing circuits.","The color conversion UCR processing circuit  includes a color correcting processing unit that corrects a difference between color separation characteristics in the input system and the spectral characteristics of coloring materials in the output system and computes the amounts of coloring materials YMC necessary for faithful color reproduction, and a UCR processing unit that replaces a portion where three colors of YMC have been superimposed on top of each other with black (K). The color correcting processing method will be explained with reference to color space diagrams shown in .","As shown in , in the color correcting processing, color spaces (R, G, B) are divided on a plane that is radially spread around an achromatic color axis (R=G=B(\u2261N axis)). The chroma varies along a T axis provided perpendicularly to the N axis. The hue varies along a rotating direction U around the N axis on a plane parallel to the T axis. That is, all of points on a plane formed parallel to the N axis in the predetermined rotating direction U are color dots indicating a hue determined by the rotating direction U.","Dots C, M, and Y are points at which the chroma is highest in CMY as primary colors in the printer. Dots R, G, and B are points at which, in RGB as secondary colors in a printer, the chroma is highest. A printer color reproduction area  is a substantially spherical area formed by connecting these dots C, M, Y, R, G, and B to a dot W and a dot K by a curved line. Specifically, the inside of the printer color reproduction area  is a color area that can be output by a printer. A signal color area  is a color area which a signal color for the color image signal can adopt.","When the signal color is corrected in the color space, in order to simplify the processing, the image processing device regards a printer color reproduction area  as the printer color reproduction area . The printer color reproduction area  is a dodecahedron-shaped area formed by connecting dots corresponding to the maximum values for eight colors, that is, dots C, M, Y, R, G, and B, the dot W and the dot K by a straight line. An error does not substantially occur in correction amount X by regarding the printer color reproduction area  as the printer color reproduction area .","The hue area will be explained with reference to .  are diagrams for explaining a color space divided into a plurality of hue areas. A C boundary plane  is a plane defined by dots C, W, and K. Likewise, i boundary planes  to  (i=M,Y,R,G,B) are a plane defined by dots i, W, and K (i=M,Y,R,G,B). The color space is divided by the boundary planes  to . A CB hue area , a BM hue area , an MR hue area , an RY hue area , a YG hue area , and a GC hue area  are formed in the color space divided by the boundary planes  to .","Next, a method for determining a hue of image data with the hue determining circuit  will be explained. At the outset, a method for determining a hue in a three-dimensional space will be explained, and a method for determining a hue in a two-dimensional color plane will be then explained.","In the hue determination in the three-dimensional space, each hue evaluation value Fx is computed from image data, and a hue area code of a hue area including the signal color is determined based on the hue evaluation value Fx.","A method for theoretically developing the hue evaluation value Fx will be explained. Color coordinates indicating dots C, M, Y, R, G, B, W, and K shown in  are expressed by (Dir, Dig, Dib) (i=c, m, y, r, g, b, w, k). For example, a color coordinate corresponding to the dot C is (Dcr, Dcg, Dcb). In this case, for example, the C boundary plane  is expressed by the following formulae 1 to 6:\n\n()\u00b7+()\u00b7+()\u00b70\u2003\u2003(1)\n\n()\u00b7+()\u00b7+()\u00b70\u2003\u2003(2)\n\n()\u00b7+()\u00b7+()\u00b70\u2003\u2003(3)\n\n()\u00b7+()\u00b7+()\u00b70\u2003\u2003(4)\n\n()\u00b7+()\u00b7+()\u00b70\u2003\u2003(5)\n\n()\u00b7+()\u00b7+()\u00b70\u2003\u2003(6)\n","The color space is divided, for example, by the boundary plane , into an area including the CB hue area  and an area including the GC hue area . Likewise, the color space is divided, by the boundary planes  to , into two areas. Accordingly, a hue area to which the color image signal belongs can be determined based on the area selected from the two areas formed by the boundary planes  to . Specifically, the hue area in which the color image signal is included can be determined based on whether the value obtained by substituting the color image signal (Dr, Dg, Db) for each of the mathematical formulae 1 to 6 is positive or negative. Therefore, the hue evaluation value Fx is determined based on the mathematical formulae 1 to 6. Specifically, Fc, Fm, Fy, Fr, Fg, and Fb are respectively substituted for the left sides of the mathematical formulae 1 to 6.","Accordingly, in the hue determination in the three-dimensional space, the hue evaluation values Fx determined by the following mathematical formulae 7 to 12 are computed.\n\n=()\u00b7+()\u00b7+()\u00b7\u2003\u2003(7)\n\n=()\u00b7+()\u00b7+()\u00b7\u2003\u2003(8)\n\n=()\u00b7+()\u00b7+()\u00b7\u2003\u2003(9)\n\n=()\u00b7+()\u00b7+()\u00b7\u2003\u2003(10)\n\n=()\u00b7+()\u00b7+()\u00b7\u2003\u2003(11)\n\n=()\u00b7+()\u00b7+()\u00b7\u2003\u2003(12)\n","For example, when Fc and Fg computed from arbitrary points (Dr, Dg, Db) in the color space satisfy \u201cFc\u22660 and Fb\u22660\u201d, that the point is included in the CB hue area is apparent from the following table.",{"@attributes":{"id":"p-0121","num":"0120"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":[{},"Condition for hue evaluation",{}]},{"entry":[{},"coefficient","Hue area code"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Fc \u2266 0 and Fb > 0","0 {CB hue area}"]},{"entry":[{},"Fc \u2266 0 and Fm > 0","1 {BM hue area}"]},{"entry":[{},"Fm \u2266 0 and Fr > 0","2 {MR hue area}"]},{"entry":[{},"Fr \u2266 0 and Fy > 0","3 {RY hue area}"]},{"entry":[{},"Fy \u2266 0 and Fg > 0","4 {YG hue area}"]},{"entry":[{},"Fg \u2266 0 and Fg > 0","5 {GC hue area}"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"Thus, each hue area is defined by the hue evaluation value Fx. Specifically, in the hue area code table shown in Table 3, the conditions for the hue evaluation value Fx associated with the hue area code are conditions determined by the above formulae.","In the hue area code table shown in Table 3, for convenience, the color coordinate on the N axis is included in the GC hue area. Alternatively, it may be included in other hue area. The hue evaluation value Fx varies depending upon actual values of (Dir, Dig, Dib) (i=c, m, y, r, g, b, w, k). Accordingly, conditions for the hue evaluation value to be associated with each hue area code in the hue area code table (Table 3) may vary depending upon the hue evaluation values.","Next, regarding the method for determining a hue area including a color image signal utilizing a color coordinate of a color image signal on a two-dimensional plane following mapping of a three-dimensional color space on a two-dimensional plane, the operation of the hue determining circuit  will be explained with reference to a color plan view in  and a flowchart in .","In the flowchart shown in , at the outset, upon the input of a color image signal into the hue determining circuit , the value of the color image signal is converted into a two-dimensional form (S). That is, the value of the color image signal is substituted in the following formulae to calculate a difference GR and a difference BG:\n\n\u2003\u2003(13)\n\n\u2003\u2003(14)\n\nThus, the value in the color space of the color image signal (Dr, Dg, Db) is converted into a value on a color plane (GR, BG).\n",{"@attributes":{"id":"p-0126","num":"0125"},"figref":"FIG. 14"},"Dots (Dr, Dg, Db) on the color space are mapped on the color plane shown in  by the following formula. Further, dots (Dnr, Dng, Dnb) on the N axis in the color space are mapped on dots (Dng\u2212Dnr, Dnb\u2212Dng) in the color plane shown in . Since Dnr=Dng=Dnb, the following formula 15 is established:\n\n()=(0,0)\u2003\u2003(15)\n","Specifically, all the dots on the N axis are mapped on the origin n in the plane shown in . Further, dots C, M, Y, R, G, and B in the color space are placed around the origin n as shown in . Accordingly, the six hue areas  to  shown in  are mapped in areas  to  divided by a straight line that connects the N axis to the dots C, M, Y, R, G, and B in the color plane.","Next, hue evaluation value Fx\u2032(x=c, m, y, r, g, b) are computed from a difference GR, a difference BG, and values for respective colors in the input color image signal (S). A hue area code in a hue area including the signal color utilizing a hue area code table shown in Table 4 below based on each of the hue evaluation values Fx\u2032, the difference GR, and the difference BG (S).","A method for developing the hue evaluation value Fx\u2032 will be explained below. In the color plane shown in , a straight line connecting a dot N to dots C, M, Y, R, G, and B, that is, a straight line NC, a straight line NM, a straight line NY, a straight line NR, a straight line NG, and a straight line Nb, are expressed as follows.\n\n=()\/()\u00b7(where, \u22600)\u2003\u2003(16)\n\n=()\/()\u00b7(where, \u22600)\u2003\u2003(17)\n\n=()\/()\u00b7(where, \u22600)\u2003\u2003(18)\n\n=()\/()\u00b7(where, \u22600)\u2003\u2003(19)\n\n=()\/()\u00b7(where, \u22600)\u2003\u2003(20)\n\n=()\/()\u00b7(where, \u22600)\u2003\u2003(21)\n","The positional relationship between the straight line determined by each formula and dots corresponding to the color image signal is learned from the magnitude relationship between BG values obtained by substituting GR values of the color image signal for each of the formulae 16 to 21 and BG values of an actual color image signal. Accordingly, a hue area in which the color image signal is included can be determined based on the magnitude relationship between the BG values obtained by substituting the GR values of the color image signal for the formulae 16 to 21 and the BG values of the color image signal.","The hue evaluation values Fx\u2032 are determined based on the formulae 22 to 27 as follows.\n\n\u2032=()\/()\u00b7\u2003\u2003(22)\n\n\u2032=()\/()\u00b7\u2003\u2003(23)\n\n\u2032=()\/()\u00b7\u2003\u2003(24)\n\n\u2032=()\/()\u00b7\u2003\u2003(25)\n\n\u2032=()\/()\u00b7\u2003\u2003(26)\n\n\u2032=()\/()\u00b7\u2003\u2003(27)\n\nThat is, the formulae 22 to 27 are the same as the formulae to 21, except that the left sides of the formulae 16 to are replaced respectively with Fc\u2032, Fm\u2032, Fy\u2032, Fr\u2032, Fg\u2032, and Fb\u2032.\n","For example, when Fc\u2032 and Fb\u2032 computed from arbitrary points (GR, BG) in the color plane satisfy \u201cBG\u2266Fc\u2032 and BG>Fb\u2032\u201d, that the point is included in the CB hue area is apparent from the following table.",{"@attributes":{"id":"p-0134","num":"0133"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 4"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":[{},"Condition for hue evaluation",{}]},{"entry":[{},"coefficient Fx\u2032","Hue area code"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"BG \u2266 fc\u2032 and BG > fb\u2032","0 {CB partial color space}"]},{"entry":[{},"BG \u2266 fb\u2032 and BG < fm\u2032","1 {BM partial color space}"]},{"entry":[{},"BG \u2267 fm\u2032 and BG < fr\u2032","2 {MR partial color space}"]},{"entry":[{},"BG \u2267 fr\u2032 and BG < fy\u2032","3 {RY partial color space}"]},{"entry":[{},"BG \u2267 fy\u2032 and BG > fg\u2032","4 {YG partial color space}"]},{"entry":[{},"BG \u2266 fg\u2032 and BG \u2267 fc\u2032","5 {GC partial color space}"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}},"br":{},"figref":["FIG. 4","FIG. 16","FIG. 14"],"b":"708"},"In the hue area code table shown in Table 4, the color coordinate on the N axis is included in the GC hue area. Alternatively, the color coordinate may be included in other hue area.","The hue evaluation values Fx\u2032 vary depending upon actual values of (Dir, Dig, Dib) (i=c, m, y, r, g, b, w, k). Accordingly, in the hue area code table (Table 4), the conditions for the hue evaluation values to be associated with the hue area codes may vary depending upon the hue evaluation values Fx\u2032.","The color image signals (Dr, Dg, Db) have been converted to values (GR, BG) in the color plane by conversion formulae shown in formulae 13 and 14. Alternatively, the following conversion formulae (28) and (29) may be used for the conversion.\n\n\u2003\u2003(28)\n\n\u2003\u2003(29)\n\nwhere\n","Ri=Gi=Bi=0, Rj=Gj=Bj=0.","As described above, an area in divided spaces, to which the input image signals (R, G, B) belong, is determined by the hue determining circuit . Thereafter, color correcting processing is performed using masking coefficients (image processing parameters) preset for each space (color correcting unit).","A method for computing masking coefficients will be explained using an activity diagram shown in .","As shown in , upon an instruction for the computation of a linear masking coefficient at the start of copy, the CPU  first performs selection and computation of a printer vector (Step S).","The CPU  then determines a dolor adjustment width for each hue (Step S). This is because the hue angle of each hue varies depending upon the color adjustment width. In color conversion, the color adjustment width is a parameter that regulates a hue range of an original that is subjected to color conversion. Further, in performing color erasing that erases a specific color of the original, the color adjustment width also corresponds to a color erasing width.","In the subsequent Step S, whether a scanner inverse matrix as an intermediate parameter is computed is determined by various image forming conditions (determining unit). When the computation of the scanner vector inverse matrix is not performed, Step S and later branched steps, are executed and a scanner vector inverse matrix previously stored in the intermediate parameter storing unit is used. On the other hand, when the scanner vector inverse matrix is computed, Step S and later branched steps (intermediate parameter computing unit) is executed to compute the scanner vector inverse matrix. A method for determining whether Step S or Step S is used will be described later.","When a determination has been made that the computation of the scanner vector inverse matrix is not executed, a previously determined scanner vector held, for example, in the ROM  is selected depending, for example, upon the color adjustment width for each hue determined at Step S, an image quality mode, a color mode, negative\/positive setting, and the type of a scanner (Step S).","At Step S, a scanner vector inverse matrix corresponding to the scanner vector selected at Step S is selected. Further, at Step S, the hue angle of each hue is computed from the scanner vector selected at Step S.","On the other hand, when a determination has been made that the computation of the scanner vector inverse matrix is executed, scanner vector inverse matrix parameters select or acquire scanner vectors, in which the inverse matrix has not been previously computed, depending upon the color adjustment width for each hue determined at Step S and image forming conditions such as an image quality mode, a color mode, negative\/positive setting, and the type of a scanner (Step S), and the hue angle of each hue is computed from the scanner vectors selected or acquired at Step S (Step S).","At Step S, a difference for each hue is determined based on the scanner vectors selected at Step S.","When the difference exists, for each hue, the scanner vector inverse matrix is acquired and held (Step S), and, for each hue, the results of acquisition of the scanner vector inverse matrix are read out (Step S).","On the other hand, when no difference exists, for each hue, the results of acquisition of the scanner vector inverse matrix are read out (Step S).","Finally, linear masking coefficients are determined from the printer vector selected and computed at Step S, the scanner vector inverse matrix obtained at Step S or Step S, and the hue angle obtained at Step S (Step S).","The procedure has been explained in the order of the computation of the printer vector (Step S), the selection of the scanner vector inverse matrix (Step S), or the computation of the scanner vector inverse matrix (Steps S to S). However, what is required here is that the printer vector, the scanner vector inverse matrix, and the hue angle are obtained before the execution of Step S. Accordingly, the order of acquisition of the parameters may be exchanged. For example, the selection and computation of the printer vector at Step S may be executed after Step S, Step S, or Step S. Alternatively, Step S, Step S and later steps may be threaded to perform parallel execution or parallel computation processing.","The color correcting processing using the masking coefficients is executed by using the following equation (30).",{"@attributes":{"id":"p-0153","num":"0152"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}},{"mtd":{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}},{"mtd":{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}},{"mtd":{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}},{"mtd":{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}},{"mtd":{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"hue"}}}},{"mtd":{"mn":"1"}}]}}],"mo":"\u2062"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"30"}}]}}}},"br":{},"figref":"FIG. 11"},{"@attributes":{"id":"p-0154","num":"0153"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}},{"mtd":{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}},{"mtd":{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}},{"mtd":{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}},{"mtd":{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}},{"mtd":{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"G"}}}},{"mtd":{"mn":"1"}}]}}],"mo":"\u2062"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"31"}}]}}}}},"Here the left edge P (hue) (P=C, M, Y, K; hue=hue R, G, B, Y, M, C, K, W, etc.) is referred to as a printer vector, the right edge S (hue) (S=B, G, R; hue=hue R, G, B, Y, M, C, K, W. etc.) is referred to as a scanner vector, and aPS (hue) (P=C, M, Y, K; S=B, G, R) is referred to as a linear masking coefficient for each hue.","In general, a linear masking coefficient aPS (hue) (P=Y, M, C, K; S=R, G, B, constant) in each shape is determined by previously determining R, G, and B values at four points in total, i.e., different two points (R, G, B) and (R, G, B) on an achromatic color axis as shown in  and two points (R, G, B) and (R, G, B) not on the achromatic color axis but on two boundary planes, and recorded values (C, M, Y, K), (C, M, Y, K), (C, M, Y, K), and (C, M, Y, K) in developing portions C, M, Y, and K best suited for the color reproduction, and performing the following computations.",{"@attributes":{"id":"p-0157","num":"0156"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]}]}},"mo":"\u2062","msup":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":"-","mn":"1"}]}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"32"}}]}}}}},"This formula 32 is provided by multiplying formula 33 by formula 35, which is an inverse matrix of formula 34, to replace both the edges.",{"@attributes":{"id":"p-0159","num":"0158"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}}],"mo":"\u2062"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"33"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"4.4em","height":"4.4ex"}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}}}},{"mrow":{"mo":["(",")"],"mn":"34"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"4.4em","height":"4.4ex"}}},"mo":"\u2062","msup":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":"-","mn":"1"}]}}},{"mrow":{"mo":["(",")"],"mn":"35"}}]}]}}}},"aXY(3-4) represents a masking coefficient established in a color area between a hue 3 and a hue 4, and the recorded values of C, M, Y and K at the respective points are an equivalent achromatic color density reduced value before under color removing (UCR).","Formula 35 may be conceptually expressed by\n\n(Linear masking coefficient established in color area between hue 3 and hue 4)=Printer vector matrix of hues 3 and 4)*(Scanner vector inverse matrix of hues 3 and 4).\n","For simplification of explanation, two points on the achromatic color axis are a white dot and a black dot. In this case, when the maximum value, which the equivalent achromatic color density reduced value can take, is Xmax, the following relationship is established among the values.","White dot: R=G=B=C=M=Y=0\u2267K","Black dot: R=G=B=C=M=Y=Xmax\u2267K","Two points on the boundary planes are preferably points at which the minimum value of the recorded values in the developing portions C, M, Y and K is zero (0), and the maximum value of the recorded values is Xmax, that is, points at which recording on each boundary plane is possible and the chroma is highest. That is,","Min(C, M, Y)=0\u2267K","Max(C, M, Y)=Xmax","Min(C, M, Y)=0\u2267K","Max(C, M, Y)=Xmax","are established.","The percentage UCR can also be controlled by determining the recorded value of the developing portion K from the minimum value among the values in the developing portions C, M, and Y, for example, as follows.","Where UCR=100%: K=Min(C, M, Y)","Where UCR=70%: K=Min(C, M, Y)\u00d70.7","As shown in , when the color space (R, G, B) is divided at six boundary planes, R, G, and B, values of at least eight points in total, i.e., six points on the respective boundary planes and two points on the achromatic color axis, and recorded values of C, M, Y, and K in the developing portion best suited for the color reproduction are previously determined followed by the determination of a masking coefficient in each space based on them. A method may be adopted in which a masking coefficient in each space is previously determined as described above, the determined masking coefficients are stored, for example, in ROM or RAM, and, in the color correcting processing, a proper masking coefficient is selected depending upon the color determined in the hue determination for color correction.","The scanner vector inverse matrix on the right edge of formula (35) can be computed from the scanner vector matrix, for example, by a computing method using a cofactor developing matrix or a Gauss-Jordan method which is a more efficient computation method. Since, however, the computation amount is large and a lot of time is taken, computation for each scan sometimes disadvantageously results in lowered productivity during copy, for example, in continuous copying. A method for reducing a computation frequency to avoid this drawback will be explained. In this embodiment, depending upon a color mode and an image quality mode management, a difference management of the intermediate parameter (scanner vector inverse matrix) and a determination on whether computation results are used or a fixed parameter is used is properly performed, whereby the frequency of recomputation of the color correction parameter is reduced and an increase in a parameter computing speed and an improvement in color reproducibility can be simultaneously realized. Specific embodiments thereof will be explained.","At Step S in , as explained below, a determination on whether the scanner vector inverse matrix is computed or selected is made depending upon the image processing parameter. For example, switching is made between the computation of the scanner vector inverse matrix by applying a color mode, that is, the number of colors included in image data after color correction\/UCR processing, as the image processing parameter, and the use of a fixed parameter that has been previously computed and stored in ROM.","When the image data after the color correction\/UCR processing are \u201cfull-color output\u201d in which the hue is successively varied, for example, in the order of YRMBCG in a rotating direction (a direction in which the hue angle varies) about the achromatic axis of the original (a direction in which the lightness varies), Step S and later steps in  are executed to perform the computation of the scanner vector inverse matrix.","On the other hand, when the image data after color correction\/UCR processing are \u201cmonocolor output\u201d in which the hue does not vary in the rotating direction about the achromatic axis of the original, the computation of the scanner vector inverse matrix is not executed and, in this case, the previously computed fixed parameter is selected. The reason for this is that, in the case of monocolor output, even when the scanner vector varies depending upon the color (hue angle or chroma) of the original, the degree of the change in hue of the image data after the color correction\/UCR processing is small or an unnoticeable level, whereas, in the case of full-color output, the color of the image data after the color correction\/UCR processing is significantly changed due to a change in scanner vector.","Even when the image data after the color correction\/UCR processing are a color mode (a first two-color output) in which, for the achromatic color axis of the original, the density of a first single color (any one color of K (black), Y, M, C, R, G, B and intermediate colors) is varied depending upon the lightness while, for a direction in which the distance of the color of the original from the achromatic color axis is increased (chroma direction), a second single color (a color other than the first single color) is used to enhance the chroma, a previously computed fixed parameter may be used without the computation of the scanner vector inverse matrix. The reason for this is that, in a circumferential direction on the achromatic color axis of the original, the color of the image data after the color correction\/UCR processing does not vary and the color of the image data after the color correction\/UCR processing does not vary depending upon the scanner vector value.","A two-color output (for example, red-black mode output) may also be selected as another color output. Specifically, vermilion used in a red ink pad for seal impression or only a color of the original corresponding to red is output as \u201cred (R)\u201d in image data after the color correction\/UCR processing, and colors in the original other than red are output as a different color such as \u201cblack (K)\u201d. This output is called \u201csecond two-color output\u201d or \u201cred-black mode output\u201d. In the \u201csecond two-color output\u201d or \u201cred black mode output\u201d, the computation of the scanner vector inverse matrix may be executed.",{"@attributes":{"id":"p-0180","num":"0179"},"figref":["FIG. 18","FIG. 18","FIG. 18","FIG. 18"],"b":["1","2","1","2","1","2","1","2","1","2","1","2"]},"As explained in , when the scanner vector inverse matrix is not computed, only sets n of scanner vectors corresponding to the number n of previously computed scanner vector inverse matrixes may be selected. In , the hue boundary planes h() and h() have scanner vectors corresponding to hnarrow() and hnarrow() that most narrow the hue range A reproduced by read (R) and hbroad() and hbroad() that most broaden the hue range A of the original color reproduced by red (R), and scanner vector inverse matrixes corresponding to them. When a portion between hnarrow() and hbroad() is \u201cadjustment width \u201d while a portion between hnarrow() and hbroad() is \u201cadjustment width \u201d, the n stages mean that adjustment can be performed in n stages including both ends of the adjustment widths  and , hnarrow() and hbroad(), and hnarrow() and hbroad().","On the other hand, when Step S and later steps shown in  that compute the scanner vector inverse matrix are selected, continuously specifying a portion between the hue boundary planes hnarrow() and hbroad() and a portion between hnarrow() and hbroad() is possible by setting scanner vectors that specify the hue plane. Further, specifying a broader adjustment range or a narrower adjustment range in a portion between the hue boundary planes hnarrow() and hbroad() and a portion between the hue boundary planes hnarrow() and hbroad() is also possible by determining proper scanner vectors that specify the hue boundary planes.",{"@attributes":{"id":"p-0183","num":"0182"},"figref":["FIG. 19","FIG. 19","FIG. 17","FIG. 17","FIG. 17"],"sub":["RY","MR","BM","CB","GC","YG ","MR ","CB ","GC ","YG ","RY ","BM "],"b":["304","304","307"]},"Here  is a diagram for explaining an example of color erasing. The same processing as in  can be applied to color erasing in  by rewording the \u201cHUE RANGE A OF ORIGINAL REPRODUCED WITH RED (R)\u201d as \u201cHUE RANGE C OF ORIGINAL REPRODUCED WITH WHITE (W)\u201d and rewording the \u201cHUE RANGE B OF ORIGINAL REPRODUCED WITH BLACK (K)\u201d as \u201cHUE RANGE D OF ORIGINAL REPRODUCED WITH COLOR FAITHFUL TO ORIGINAL\u201d.","In addition, a configuration may be adopted in which, at Step S in , when the original is subjected to color reverse processing followed by color correction\/UCR processing and then \u201cnegative output\u201d, processing at Step S and later steps in , in which the scanner vector inverse matrix is not performed, is performed, while, when the original is not subjected to color reverse processing and color correction\/UCR processing is performed followed by \u201cpositive output\u201d, processing at Step S and later steps in , in which the scanner vector inverse matrix is computed, is performed. The reason why the configuration is adopted is that, due to the color reverse processing, the white texture portion of an original is expressed in black in a copy, making it difficult to distinguish the hue boundary, whereby adjustment is sometimes unnecessary.","Various types of originals exist depending upon materials and methods for color development. In color copying machines, the types of originals, which are reproduced in a way different from the human eye due to the color sensitivity of image reading units, which separate colors, for example, CCD, a contact image sensor (CIS) or a complementary metal-oxide semiconductor (C-MOS) as an eye and metamerism, should be discriminated.","Examples of originals include print originals (originals produced using process inks for printing), originals using photographic papers, copy originals (originals of which the color has been reproduced with toners), and ink jet originals (dye inks and pigment inks). Further, also for originals using highlighters, markers, and color pencils, and print originals, various originals exist such as map originals, which are print originals using special colors other than YMCK used in ordinary printing, and vehicle inspection certificate. In order to provide higher color reproducibility for copies of the originals, preferably, for each original type, (linear) masking coefficients are computed using an optimized scanner vector and a scanner vector inverse matrix obtained therefrom.","For original types that require adjustment for more faithful reproduction of the originals, the computation of the scanner vector inverse matrix at Step S and later steps in  is performed. On the other hand, for original types that already can provide color reproducibility satisfactory for a user with preset parameters, previously computed scanner vector and scanner vector inverse matrix as provided at Step S and later steps in  can be used.","When simultaneous reading of both sides of an original particularly with respective different reading devices, for example, with CCD for one side and with CIS for the other side, is contemplated, the different devices are generally different from each other in spectral sensitivity. Therefore, the use of scanner vectors and scanner vector inverse matrixes optimal for respective devices is preferred. For this reason, the difference management at Step S in  is performed for each device.","The difference management at Step S in  will be explained.","As expressed in formula (35), the scanner vector inverse matrix for use in each hue is a scanner vector inverse matrix determined from four scanner vectors, i.e., two scanner vectors on adjacent hue boundary planes and scanner vectors of white (W) and black (K).","This will be explained with reference to . Regarding scanner vectors for use in the hue Red in an original, a scanner vector inverse matrix determined from four in total of scanner vectors, i.e., two scanner vectors indicating hue boundary planes hand hand scanner vectors indicating white (W) and black (K), which are different from each other in lightness, on an achromatic axis N, is used. This is true of other hues.","For example, in practical use, when the scanner vectors of white (W) and black (K) are fixed, if two scanner vectors indicating the hue boundary planes hand hremain unchanged from values used for the determination of the previous scanner vector inverse matrix, then the recomputation of the scanner vector inverse matrix is not necessary. Accordingly, when the previously computed values are stored, the time for recomputation can be saved. For hues other than the hue Red, whether the recomputation is necessary can be determined in the same manner as described above. Thus, only recomputation for necessary hues is necessary, contributing to saving of the computation time.","On the other hand, the color conversion UCR processing circuit  performs color correcting processing by computation using the following formulae.\n\n\u2212\u03b1\u00b7min()\n\n\u2212\u03b1\u00b7min()\n\n\u2212\u03b1\u00b7min()\n\n\u03b1\u00b7min()\n\nIn the formulae, \u03b1 represents a coefficient that determines the amount of UCR. When \u03b1=1, 100% UCR processing is performed. \u03b1 may be a constant value. For example, in a high density portion, \u03b1 is close to 1. When \u03b1 is brought to a value close to 0 (zero) in a highlight portion (a low image density portion), an image in its highlight portion can be rendered smooth.\n","The masking coefficient is different for each of 14 hues, i.e., 12 hues obtained by further dividing each of six hues of RGBYMC into two hues and black and white.","The hue determining circuit  determines the hue to which image data read with the scanner unit  belong, and outputs the results of determination to the color conversion UCR processing circuit .","The color conversion UCR processing circuit  selects, based on the results of determination by the hue determining circuit , selects a masking coefficient for each hue and performs the color correcting processing.","The magnification circuit  performs horizontal and vertical magnifications of image data subjected to color correcting processing, and the image processing (creation) circuit  performs repeat processing and the like of the image data subjected to the magnification processing and outputs the processed data to the image processing printer \u03b3 converting circuit .","The image processing printer \u03b3 converting circuit  performs the correction of image signals depending upon image quality modes such as characters and photographs and can simultaneously perform, for example, texture skipping. The image processing printer \u03b3 converting circuit  has a plurality of (for example, ten) gradation conversion tables (image signal conversion table), which can be switched according to an area signal generated by the image processing circuit , selects gradation conversion tables optimal for respective originals such as characters, silver salt photographs (photographic papers), print originals, ink jet originals, highlighters, maps, and thermal transfer originals from a plurality of image processing parameters, performs image signal correction depending upon the image quality mode, and outputs the results to the gradation processing circuit .","The gradation processing circuit  performs dither processing of image data input from the image processing printer \u03b3 converting circuit  and outputs the processed image data to the interface selector  in the printer unit .","The gradation processing circuit  can select dither processing of any desired size from dither-free processing of 1\u00d71 to dither processing of pixels of m\u00d7n, where m and n are each a positive integer, and performs dither processing, for example, using pixels up to 36 pixels. Dither sizes using all the 36 pixels include, for example, 36 pixels in total of 6 pixels in main scanning direction\u00d76 pixels in vertical scanning direction, or 36 pixels in total of 18 pixels in main scanning direction\u00d72 pixels in vertical scanning direction.",{"@attributes":{"id":"p-0202","num":"0201"},"figref":["FIG. 21","FIG. 21A","FIG. 21B","FIGS. 21C to 21E","FIG. 21C","FIGS. 21C and 21D","FIG. 21C","FIG. 21E","FIG. 21C"],"b":["714","715","1","2","3","1","2","4","5","6","7","3","3","3"]},{"@attributes":{"id":"p-0203","num":"0202"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0204","num":"0203"},"figref":"FIG. 23","b":"100"},"As described above, the printer unit  is connected to IPU  through the I\/F selector . The I\/F selector  has a switching function between the output of image data read with the scanner unit  for processing, for example, with an external image processing device and the output of image data from an external host computer  or image processing device by the printer unit . The image data from the external host computer  is input into the I\/F selector  through a printer controller .","The image forming printer \u03b3 (process control \u03b3) correcting circuit  converts the image signals from the I\/F selector  using the gradation conversion table (image signal conversion table) and outputs the results to a laser modulating circuit in the printer engine .","As described above, image signals from the host computer  are input into the I\/F selector  through the printer controller  and are subjected to gradation conversion by the image forming printer \u03b3 correcting circuit , followed by image formation with the printer engine . Thus, the color copying apparatus  can be utilized as a printer.","In the color copying apparatus , the CPU  controls each unit in IPU  while utilizing the RAM  as a work memory based on a program within the ROM  to execute the image processing. The CPU  is connected to the system controller  through the serial I\/F. Upon the transmission of commands such as an image quality mode, density information, and area information, for example, from the operating unit  through the system controller , the CPU  sets various parameters in IPU  based on the image quality mode, the density information, and the area information to perform image processing.","The pattern generating unit  in IPU  and the pattern generating unit  in IPU  in the printer unit  respectively generate a gradation pattern for use in IPU  and a gradation pattern for use in the printer unit .","As described above, the area processing unit  generates an area signal that discriminates an area, within an original G, to which image data being currently processed belong. Parameters for use in later image processing are switched by the area signal. The concept of area processing in the area processing unit  may be shown in . Specifically, in , for image data obtained by reading the original G having a plurality of areas such as a character area (area ), a photographic paper area (area ), ink jet area (area ) with the scanner unit , the area processing unit  compares designated area information on the original G with reading position information in the reading of the image and generates an area signal. As shown in  about the image processing printer \u03b3 converting circuit  and the gradation processing circuit , IPU  changes, based on the area signal from the area processing unit , parameters for use in the scanner \u03b3 converting unit , the MTF filter , the color conversion UCR processing circuit , the image processing circuit , the image processing printer \u03b3 converting circuit , and the gradation processing circuit .","For example, the image processing printer \u03b3 converting circuit  decodes the area signal from the area processing unit  with a decoder, and a table is selected by a selector from a plurality of gradation conversion tables such as a character (table 1), an ink jet (table 2), a photographic paper (table 3), and a print (table 4). The original G in  is an example in which the area  as the character, the area  as the photographic paper, and the area  as the ink jet exist. The image processing printer \u03b3 converting circuit  selects the gradation conversion table 1 for the area  as the character, the gradation conversion table 3 for the photographic paper for the area  as the photographic paper, and the gradation conversion table 2 for ink jet for the area  as the ink jet.","For the image signals subjected to gradation conversion by the image processing printer \u03b3 converting circuit , the gradation processing circuit  allows, based on signals obtained by decoding the area signals with a decoder, the selector  to again perform switching to gradation processing to be used, such as processing not using dither, processing using dither, and error diffusion processing. The gradation processing circuit  performs error diffusion processing for the ink jet original G or the ink jet area in the original G.","In the gradation processing circuit , the image signals subjected to gradation processing are selected by the decoder as a line  or a line  based on the reading position information. The selection of the line  or the line  is switched for each one different pixel in the vertical scanning direction. The gradation processing circuit  temporarily stores data in the line  in a first in first out (FIFO) memory located on the downstream of the selector and outputs the data in the line  and the line , whereby output to the I\/F selector  can be realized in such a state that the pixel frequency is halved.","In the color copying apparatus , a laser modulating circuit  as shown in  is provided in the laser optical system  in the printer unit . The laser modulating circuit  includes a look-up table (LUT) , a pulse width modulating circuit (PWM) , and a power modulating circuit (PM) . The write frequency in the laser modulating circuit  is 18.6 [MHz], and the scanning time for one pixel is 53.8 [nsec].","Eight-bit image data are input into the look-up table (LUT) . The look-up table (LUT) performs \u03b3 conversion of the input image data and outputs the converted data to the pulse width modulating circuit (PWM) . The pulse width modulating circuit (PWM)  performs conversion of the pulse width to eight-value pulse width based on a high-three bit signal in an eight-bit image signal input from the look-up table (LUT)  and outputs the data to the power modulating circuit (PM) . The power modulating circuit (PM)  performs 32-value power modulation in low five bits. A laser diode (LD)  and a photodetector (PD)  are connected to the power modulating circuit (PM) . The power modulating circuit (PM)  emits light from the laser diode (LD)  based on the modulated signal and corrects one dot by one dot while monitoring the light emission intensity of the laser diode (LD)  based on monitor signals from the photodetector (PD) . The maximum value of the intensity of a laser beam emitted from the laser diode (LD)  is variable in eight bits (256 steps) independently of the image signal.","The beam diameter of a laser beam, emitted from the laser diode (LD) , relative to the size of one pixel in the main scanning direction (defined as a beam width when the intensity of the beam during rest has been reduced to 1\/eof the maximum value) is 50 [\u03bcm] in the main scanning direction and 60 [\u03bcm] in the vertical scanning direction under conditions of 600 dots per inch (DPI) and one pixel 42.3 [\u03bcm].","The laser modulating circuit  is provided for each of the image data in the line  and the image data in the line  explained in conjunction with . The image data in the line  and the image data in the line  are synchronized with each other and are scanned on the photoreceptor drums K to C in parallel with the main scanning direction.","The scanner unit  has a circuit block configuration as shown in  and includes the CCD , an amplifying circuit , a sample hold (S\/H) circuit , an A\/D converting circuit , a black correcting circuit , a CCD driver , a pulse generator , and a clock generator .","In the scanner unit , light is applied from the halogen lamp  shown in  to the original G. Light reflected from the original G is subjected to color separation through an RGB filter in CCD  to read an image in the original G with CCD . Analog image signals are output from CCD  to the amplifying circuit . The CCD driver  supplies pulse signals that drive CCD . A pulse source necessary for driving CCD driver  is generated by the pulse generator . The pulse generator  generates pulse signals using, as a reference signal, a clock signal oscillated by the clock generator  formed of a crystal oscillator or the like and supplies, to the S\/H circuit , timing signals necessary for the sample holding of image signals from CCD  by the S\/H circuit .","The amplifying circuit  amplifies the analog image signals from CCD  to a predetermined level and outputs the amplified signals to the S\/H circuit . The S\/H circuit  performs sample holding of the image signals from the amplifying circuit  and outputs the image signals to the A\/D converting circuit . The A\/D converting circuit  digitizes the analog image signals subjected to sample hold in the S\/H circuit , for example, to eight-bit signals and outputs the eight-bit signals to the black correcting circuit . The black correcting circuit  reduces a fluctuation in a black level (an electric signal when the quantity of light is small) between chips in CCD  or between pixels for image data subjected to digital conversion in the A\/D converting circuit  to prevent the occurrence of streaks or unevenness in a black portion in the image followed by output to the shading correcting circuit  in IPU .","As described above, the shading correcting circuit  corrects a white level (an electric signal when the quantity of light is large) and, as shown in , corrects the white level by correcting a fluctuation in sensitivity of an illuminating system, an optical system, and CCD  based on white color data when the scanner unit  has been moved to an even white reference plate before the irradiation.","The image signals from the shading correcting circuit  are processed in an image processing unit from the area processing unit  to the gradation processing circuit  in IPU  and are recorded and output by the printer unit . Each of the above circuits is controlled by the CPU  based on programs and data within the ROM  and the RAM .","The amplification amount in the amplifying circuit  is determined so that, for a certain specific density of the original, the output value of the A\/D converting circuit  is a desired value. For example, in ordinary copying, the amplification is performed so that a density of the original of 0.05 (reflectance 0.891) is obtained as 240 values in terms of eight-bit signal values. In the shading correction, the amplification level is lowered to enhance the sensitivity of shading correction. The reason for this is that, in the amplification level in the ordinary copying, when the amount of the reflected light is large, images signals having a size greater than 255 values in terms of eight-bit signals result in saturation at 255 values, and, consequently, errors occur in the shading correction. Specifically,  is a typical graph for explaining sample holding of image read signals amplified with the amplifying circuit  by the S\/H circuit , wherein the abscissa represents the time necessary for the amplified analog image signal to transit through the S\/H circuit  while the ordinate represents the magnitude of the amplified analog image signal. The analog signals are subjected to sample holding for a predetermined sample holding time shown in  and are sent to the A\/D converting circuit .  is a graph for explaining an example in which, for image signals, after the amplification, obtained by reading the white level, in copying, for example, the value after the A\/D conversion is 240 values in ordinary data and is 180 values in the white correction.","Next, the function according to the embodiment will be explained. The color copying apparatus  according to the embodiment previously executes scanner calibration, which will be explained later, at least once in using the connecting output function.","The scanner calibration is performed using, for example, a connecting color correction chart HC as a calibration reference chart as shown in . In a normal situation, in the connecting color correction chart HC, color patch portions, which are a plurality of chromatic color patches different from each other in hue areas, formed using, as a boundary, planes provided parallel to lightness axes in a color space are drawn in colors. In  as a patent drawing, however, the color patch portions are displayed in black and white in which the difference in color is expressed by different hatching.","As shown in , the connecting color correction chart HC is a patch-type chart in which gray patches (black patches), which are a plurality of achromatic color patches of achromatic colors different from each other in image density, are provided on a recording medium such as paper at its center portion, and a plurality of color patches of chromatic colors different from each other in hue are provided on left and right sides of the gray patches. One of the two gray patches of achromatic colors located at the center of the connecting color correction chart HC consists of a gradation pattern printed using 3C gray (produced by superimposing YMC to form an achromatic color), and the other gray patch consists of a gradation pattern printed using a single-color black ink. That is, in the connecting color correction chart HC, white 1 (texture), color 1, black 1, black 2, color 2, white 2 (texture) are arranged in that order in the main scanning direction in the scanner unit . Thus, when the color patches are arranged between white (texture) and black patch, the influence of flare light from surrounding patches (particularly black patches) can be reduced. On the other hand, for example, when white 1 (texture), black 1, color 1, black 2, color 2, white 2 (texture) are arranged in that order, the color 1 is influenced by the black patches located on both respective sides thereof. As a result, the values read with the scanner unit  indicate a somewhat darkened color. The former arrangement is adopted to avoid this unfavorable phenomenon.","Each patch in the connecting color correction chart HC is formed in a size that is four times larger than the size of patches in an automatic color correction (ACC) pattern (see ) for use in ACC which will be explained later. The reason why the patches in the connecting color correction chart HC are formed in a larger size is to reduce the influence of flare light (reflected light from the surface of the original around the patches) on the scanner unit .","Further, as shown in , in the connecting color correction chart HC, the provision of patches is concentrated at a substantially center portion in the main scanning direction of the scanner unit . The reason why the provision of patches is concentrated at a substantially center portion in the main scanning direction of the scanner unit  is that the end in the main scanning direction of the scanner unit  is often darker than the center portion. The patches in the connecting color correction chart HC are placed at a position falling within an ACC pattern readable range. This is so because, in the preparation of an application program, the diversion from an ACC pattern reading control software is easy.","The color patches of chromatic colors are color patches of 16 colors in total, i.e., 12 colors corresponding to hue divided points (for example, color intermediate between Y and YR) of 12 hue masking coefficients of 12 hues (Y, YR, R, RM, M, MB, B, BC, C, CG, G, and GY) obtained by further dividing 6 hues of YRMBCG (yellow, red, magenta, blue, cyan, and green), and Y, G, R, orange for reference (for example, for copying for visual evaluation). In lightness L*, chroma C*, and hue h*, when hue angle h* is 0\u2266h*<360\u00b0[degrees](hereafter abbreviated to[deg]), the hue angle of each color patch in the connecting color correction chart HC is",{"@attributes":{"id":"p-0230","num":"0229"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"yellow red","(h* = 1[deg])"]},{"entry":[{},"orange","(h* = 26[deg])"]},{"entry":[{},"red yellow","(h* = 47[deg])"]},{"entry":[{},"red","(h* = 54[deg])"]},{"entry":[{},"red magenta","(h* = 60[deg])"]},{"entry":[{},"magenta red","(h* = 84[deg])"]},{"entry":[{},"magenta blue","(h* = 95[deg])"]},{"entry":[{},"blue magenta","(h* = 139[deg])"]},{"entry":[{},"blue cyan","(h* = 170[deg])"]},{"entry":[{},"cyan blue","(h* = 207[deg])"]},{"entry":[{},"cyan green","(h* = 232[deg])"]},{"entry":[{},"green cyan","(h* = 277[deg])"]},{"entry":[{},"green","(h* = 291[deg])"]},{"entry":[{},"green yellow","(h* = 313[deg])"]},{"entry":[{},"yellow green","(h* = 352[deg])"]},{"entry":[{},"yellow","(h* = 356[deg])."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}},"br":{}},"In the scanner calibration, the connecting color correction chart HC shown in  is read, and, based on the results of reading, scanner \u03b3 conversion table is first prepared so that a machine difference between the scanner units  is corrected.","The procedure of executing the preparation of the scanner \u03b3 conversion table in the scanner calibration is shown in a sequence diagram in .","At the outset, upon the selection of various setting modes on the liquid crystal screen  in the operating unit  in  by a user or a serviceman, the color copying apparatus  displays a screen for various adjustments as shown in  on the liquid crystal screen . Upon the selection of \u201cEXECUTE\u201d OF \u201cSCANNER CALIBRATION\u201d on the screen for various adjustments, the mode is transferred to the scanner calibration mode, and a scanner calibration start screen as shown in  is displayed on the liquid crystal screen . In this scanner calibration mode, the user or the serviceman places the connecting color correction chart HC on the contact glass  as an original platen and depresses \u201cREADING START\u201d key on the scanner calibration start screen in the liquid crystal screen  shown in  (S in ).","In the color copying apparatus , upon an instruction for starting reading of the connecting color correction chart HC in the operating unit , as shown in S in , an instruction for reading the connecting color correction chart HC is given from the system controller  to the scanner unit . As shown in S in , the scanner unit  executes reading of the connecting color correction chart HC, acquires read values of RGB signals for each patch in the connecting color correction chart HC, and, as shown in S in , sends the read values for the connecting color correction chart HC to IPU .","On the other hand, as shown in S in , in the system controller , reading reference values (reference data) of the connecting color correction chart HC are read out from a nonvolatile RAM, and, as shown in S in , the reference data are sent from the system controller  to IPU . Under reading of the connecting color correction chart HC, the color copying apparatus  displays a screen indicating \u201cunder reading\u201d as shown in  on the liquid crystal screen .","Upon the receipt of the read values and the reading reference values for the connecting color correction chart HC, as shown in S in , IPU  computes image processing parameters and, as shown in S in , sends the computed parameters to the system controller .","As shown in S in , the system controller  stores the received parameters in the nonvolatile RAM.","Next, how to prepare scanner \u03b3 conversion tables from the read values for the achromatic color patches in the connecting color correction chart HC (see ) in S in the sequence diagram in  will be explained with reference to a quaternary chart shown in .","In the quaternary chart shown in , the first quadrant (I) represents an intended scanner \u03b3 conversion table wherein the abscissa represents values input into the scanner \u03b3 conversion table and the ordinate represents the output after the scanner \u03b3 conversion. In the fourth quadrant (IV), the ordinate represents read values for the achromatic color patches, and the graph represents target values (reference values) for determining a scanner \u03b3 conversion table from the read values for the achromatic color patches. In the third quadrant (III), the abscissa represents reference values of read values for the achromatic color patches, and the graph represents the results of reading when achromatic color gray scale patches are read with the scanner unit . The second quadrant (II) represents nonconversion (through).","Based on the characteristics shown in the quaternary chart in , scanner \u03b3 conversion tables of b and b\u2032 in the first quadrants are respectively prepared from the results of reading a and a\u2032 in the third quadrant.","The target values of the read values shown in the fourth quadrant in the quaternary chart in  may be respectively different target values for RGB components in the scanner \u03b3 conversion table for use in copy of the original or alternatively may be an identical value.","Thus, a scanner \u03b3 conversion table that corrects a machine difference between the scanner units  is prepared.",{"@attributes":{"id":"p-0243","num":"0242"},"figref":["FIG. 35","FIG. 29"]},"At the outset, upon an instruction for starting reading of the connecting color correction chart HC in the operating unit , the connecting color correction chart HC (see ) is read (Step S), and whether the read values for the connecting color correction chart HC fall within a predetermined range is determined (Step S).","When the read values do not fall within the predetermined range (NO at Step S), a determination is made that an original other than the connecting color correction chart HC is mounted on the scanner unit . In this case, a current linear masking coefficient value is used (Step S), and the processing is ended.","On the other hand, when the read values fall within the predetermined range (YES at Step S), a scanner \u03b3 conversion table is prepared (Step S). As described above, the scanner \u03b3 conversion table is prepared using the achromatic color patch portion in the connecting color correction chart HC, whereby the machine difference between the scanner units  is reduced.","Next, the conversion of the read values is performed using the scanner \u03b3 conversion table, and reverse processing is performed (Step S). That is, S[I], which is read values for the RGB components of the Ith patch with 10-bit accuracy, is subjected to f(S[I]) of scanner \u03b3 conversion, and gradation reversing is further performed. When the gradation reversed value is S\u2032[I],\n\n[White]\u2212(])\n\nwhere S[I] consists of three components of red, green, and blue; and S[White] is a reference value for white RGB. The scanner \u03b3 conversion is performed for color reproducibility improvement purposes. That is, color handling becomes easy by adopting a large value for a color with high chroma and adopting a small value for a color with low chroma.\n","The hue angle is then computed (Step S). Parameters GR, GB, and Fx\u2032 for dividing the read RGB image data on the original for each hue are computed from the read value RGB data on each patch in the connecting color correction chart HC (Dr, Dg, Db) (=Ri, Gi, Bi where i=each patch number) by formulae 13 to 29.","Next, the linear masking coefficient is computed (Step S). The linear masking coefficient is computed for each hue by the above method and the following formula 36 using the read values Ri, Gi, and Bi (where i=each patch number) for each patch.",{"@attributes":{"id":"p-0250","num":"0249"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]}]}},"mo":"\u00d7","msup":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":"-","mn":"1"}]}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"36"}}]}}}}},"The computation method will be explained in more detail. Values obtained by reading points on a boundary plane not present on the achromatic color axis, for example, with a scanner CCD having reference spectral characteristics are presumed to be (Ri, Gi, Bi) (i=hues 1 to 4). When the same points are read with another scanner, due to a fluctuation in spectral characteristics of the scanner CCD, the points are read as values (Ri\u2032, Gi\u2032, Bi\u2032) (i=hues 1 to 4) that are different from (Ri, Gi, Bi) (i=hues 1 to 4). Consequently, the recorded values in the developing units C, M, Y, and K are (Ci\u2032, Mi\u2032, Yi\u2032, Ki\u2032) (i=hues 1 to 4). That is, the formula 32 may be expressed by the following formula.",{"@attributes":{"id":"p-0252","num":"0251"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}}],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"37"}}]}}}},"br":{}},"(R(i\u2032), G(i\u2032), B(i\u2032))\u2248(R(i)+\u0394R(i), G(i)+\u0394G(i), B(i)+\u0394B(i))","(i=hues 1 to 4)","Thus, the following formula is obtained.",{"@attributes":{"id":"p-0255","num":"0254"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}}],"mo":["\u2062","\u00d7"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"38"}}]}}}}},"where","\u0394Ri=kR{(R component of current value for chromatic color in hue i)\u2212(R component of standard value for chromatic color in hue i)}","\u0394Gi=kG{(G component of current value for chromatic color in hue i)\u2212(G component of reference value for chromatic color in hue i)}","\u0394Bi=kB{(B component of current value for chromatic color in hue i)\u2212(B component of reference value for chromatic color in hue i)}","That is, instead of the use of actual read values (Ri\u2032, Gi\u2032, Bi\u2032), predetermined coefficients kX (X=R, G, B) are integrated to a difference between the reference value and the read value for the chromatic color reference patch, followed by addition to the previously stored scanner vector (Ri, Gi, Bi) (i=1, 2, 3, 4) consisting of the RGB component. When the scanner vector (Ri, Gi, Bi) (i=1, 2, 3, 4) is identical to the reference patch from which the reference value and the read value for the connecting color correction chart HC in the chromatic color patch have been obtained, the coefficient is as follows.\n\n1()\n","In the embodiment, depending upon fluctuation factors of the difference between the scanners, a combination of the current value with the reference value can be selected in the following operating unit.","On the liquid crystal screen  in the operating unit  shown in , upon calling of a scanner calibration menu, a scanner calibration screen shown in  is displayed. A key that sets a combination of the \u201creference value\u201d with the \u201ccurrent value\u201d is displayed on the scanner calibration screen in . Upon the selection of [FACTORY SET VALUE] as the reference value or the current value, as shown in , the factory set value, which is a reference read value for the connecting color correction chart HC, is displayed on the liquid crystal screen . On the other hand, upon the selection of the \u201cREAD VALUE\u201d as the current value, as shown in , the read value is displayed on the liquid crystal screen . The factory set value displayed in  and the read value displayed in  are variable.","For example, for the scanner unit  that is less likely to cause a fluctuation in reference patch read values over time, the factory set value, which is a reference read value for the connecting color correction chart HC, is set as the current value. In this case, a design value (a fixed value) present within ROM is used as the reference value. Here the set value (fixed value) is the read value for the Ith chromatic color patch in the determination of the coefficients (Ri), (Gi), and (Bi) in the formula 38. Regarding the factory set value, the current value is determined using a chart of chromatic color patches for which colors are previously managed. When a fluctuation (for example, a lot difference) in colors of the chromatic color patches is observed, the coefficient kX (X=R, G, B) is decreased in inverse proportion to the magnitude of the color difference from the set value. That is, when \u0394E*ii is a color difference in the L*a*b component in the CIE Lab color difference between the reference patch used in the design of the iith patch and the reference patch used in the adjustment in the factory, for example, the following relationship between \u0394E*ii and kX is established.","Where \u0394E*ii\u22661, kX=1(X=R, G, B).","Where 1<E*ii\u22662, kX=0.75(X=R, G, B).","Where 2<E*ii\u22664, kX=0.5(X=R, G, B).","Where 4<E*ii\u22668, kX=0.25(X=R, G, B).","Where 8<E*ii, kX=0.0(X=R, G, B).","For the scanner unit , which is less likely to cause a fluctuation in read value for the reference patch over the time, instead of the use of the factory set values as the current value, the read value for the connecting color correction chart HC for which the current value has been read each time is used. The set value (fixed value) present within ROM is used as the reference value. The coefficient kX (X=R, G, B) is determined in the same manner as described above.","When correction is performed using a connecting color correction chart HC in which the color of the reference patch used in the design is different by a predetermined value or more due to a difference between printing lots, a scanner calibration screen shown in  is used. Specifically, a reference read value for the connecting color correction chart HC, which is different in color, is set as the reference value in the production or on the market (factory set value), and a value obtained by reading the connecting color correction chart HC with the apparatuses is used as the current value. In this case, as shown in , a correction coefficient in inverse proportion to a fluctuation (standard deviation) in the color from printing lot to lot is set. That is, when the standard deviation of the fluctuation in color is large, a value close to 0 (zero) is set as the coefficient kX (X=R, G, B). On the other hand, when the standard deviation is small, a value of 1 or a value close to 1 is set as the coefficient kX (X=R, G, B).","The liquid crystal screen  in the operating unit  is in a touch panel form. After the selection of a set value to be changed, a parameter is input through a ten key followed by depression of an enter key for setting.","Alternatively, a configuration may also be adopted in which screens shown in  are displayed in a personal computer connected to a network through the local area network (LAN) cable  or a personal computer connected, for example, through a universal serial bus (USB) cable, an RS-232C cable, or a Centronics cable, and setting is performed online from the personal computer on which these screens are displayed.","Here the purpose is to determine masking coefficients aPS(i-j) (P=Y, M, C, K, S=B, G, R; i, j=1, 2, 3, 4, j=1, 2, 3, 4) that render the left-hand side of the formula 32 identical to the left-hand side of the formula 37, i.e.,","(Y(i)), M(i), C(i), K(i))=(Y(i\u2032), M(i\u2032), C(i\u2032), K(i\u2032)) where hue i=1, 2, 3, 4.",{"@attributes":{"id":"p-0275","num":"0274"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}}],"mo":"\u00d7"}],"mo":"\u2248"}},{"mrow":{"mo":["(",")"],"mn":"39"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"4.4em","height":"4.4ex"}}},"mo":"\u2062","mrow":{"mi":"Thus","mo":","}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"4.4em","height":"4.4ex"}}},"mo":"\u2062","mrow":{"mo":["(","\u2062",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]},"mstyle":{"mspace":{"@attributes":{"width":"0.em","height":"0.ex"}}}}}},{"mrow":{"mo":["(",")"],"mn":"40"}}]}]}}},"br":[{},{}]},{"@attributes":{"id":"p-0276","num":"0275"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"msup":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}],"mo":"+"}},{"mrow":{"mrow":[{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}},{"mi":"\u0394","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}],"mo":"+"}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":"-","mn":"1"}]}},{"mrow":{"mo":["(",")"],"mn":"41"}}]}}}},"br":{}},"Finally, the read values and the linear masking coefficients are stored, for example, in nonvolatile RAMs and RAMs (Step S) to end the processing.","As shown in the flowchart in , a reference patch for a chromatic color may be converted using a previously stored fixed scanner \u03b3 conversion table without the preparation of the scanner \u03b3 conversion table at Step S in the flowchart in .",{"@attributes":{"id":"p-0279","num":"0278"},"figref":["FIG. 41","FIG. 41"],"b":["801","803","802","804","805","806","807","808","809","810","811","812","813","814"]},"In , the color correction coefficient  can be computed from the hue determining parameter  and the linear masking coefficient , and the hue determining parameter  can be computed from the scanner vector . The linear masking coefficient  is computed from the scanner vector inverse matrix parameter  and the printer vector . The scanner vector inverse matrix parameter  is computed from the scanner vector . The printer vector  is selected by the image quality mode and the density selection through the image selection I\/F  in the operating unit. The data on the printer vector  are stored in RAM . The scanner vector  is determined from the connecting color correction chart HC read value (current value)  with an object. The connecting color correction chart HC read value (current value)  can be selected by the calibration data selection I\/F  (in the operating unit) from the connecting color correction chart HC read value (previous value) , which has been previously read and stored in NV-RAM , and the connecting color correction chart HC read value (value in this time) , which has been newly read with the scanner . The connecting color correction chart HC read value (current value)  and the connecting color correction chart HC read value (previous value)  are stored in NV-RAM .","When the use of the connecting color correction chart HC read value (previous value)  as the connecting color correction chart HC read value (current value)  is contemplated, a softkey of \u201cRETURN TO ORIGINAL VALUE\u201d in the scanner calibration on  is selected. Upon the operation, the previously read and stored value is called, and the color correction coefficient  is recomputed.","Next, automatic color correction (ACC) will be explained. In the scanner \u03b3 conversion table for use in the automatic color correction (ACC), unlike the scanner \u03b3 conversion table for copying (for reading of the original), a scanner \u03b3 conversion table for ACC pattern reading is prepared using read values for chromatic color patches in the connecting color correction chart HC so that the sensitivity to spectral reflectance characteristics of a toner on a transfer paper as a reading object is high and the influence of a fluctuation in spectral sensitivity of CCD  is corrected.","The preparation of a scanner \u03b3 conversion table for ACC pattern (see ) reading, which will be described later, from chromatic color patches different from each other in color and achromatic color patches will be explained with reference to  by taking, as an example, a method for preparing a yellow toner reading scanner \u03b3 correction table (scanner \u03b3 conversion table).","A chromatic color patch for use in yellow toner correction is, for example, as shown in . The chromatic color patch is an example of numerical values obtained by reading a color patch, extracted for yellow toner correction, with a standard scanner. In reading the yellow toner, a blue signal is used because of high sensitivity of the blue signal. Further, a correction table for yellow toner reading is prepared by using a blue signal among RGB read signals of 1. white, 2. yellow, 5. blue, 6. cyan, 10. gray, and 11. black that output different blue signal values from a plurality of chromatic color patches different from each other in color.","In preparing a yellow reading correction table in the execution of ACC, since the connecting color correction chart HC is prepared using a printing ink, a difference in spectral reflectance between the connecting color correction chart HC and the toner. An example of the correction coefficient for blue that eliminates the difference is shown in .","The correction coefficient can be determined based on  that explains a relationship between the spectral sensitivity of CCD  for the blue signal and the spectral reflectance of the yellow toner in a relationship with the wavelength \u03bb. In , the abscissa represents wavelength \u03bb, and the ordinate represents the spectral sensitivity [%] of CCD  indicated on the left axis for the graph (a), and the spectral reflectance [%] of toner indicated on the right axis for the graphs (c) and (d). In , the graph (a) represents the spectral sensitivity of a blue signal filter, the graph (b) represents the spectral reflectance of a yellow toner, the graph (c) represents the spectral reflectance of a yellow ink, and the graph (d) represents the spectral reflectance of a black (Bk) toner where the amount of toner adhered is small. In the spectral sensitivity in the graph (a), a product of spectral energy of a light source (the halogen lamp ) is used in the spectral transmittance of the blue filter in CCD .","As can be seen from , the output B of the blue signal (CCD , coloring material) is an integral value on wavelength \u03bb with respect to a product of spectral sensitivity S (CCD, \u03bb) of CCD  and spectral reflectance \u03c1 (coloring material, \u03bb, percentage area) of the coloring material, i.e., S (CCD, \u03bb)\u00d7\u03c1 (coloring material, \u03bb, percentage area). That is, the output B of the blue signal is given by the following formula 42.\n\n(CCD, coloring material, percentage area)=\u222b(CCD,\u03bb)\u00b7\u03c1(coloring material, \u03bb, percentage area)\u2003\u2003(42)\n","Blue signals with respect to spectral sensitivity characteristics a of CCD  when the yellow toner (hereinafter abbreviated to Y toner) and the yellow ink (hereinafter abbreviated to Y ink) have been read, are respectively expressed by the following formulae 43 and 44.\n\n(toner, 100%)=\u222b(,\u03bb)\u00b7\u03c1(toner, \u03bb, 100%)\u2003\u2003(43)\n\n(ink, 100%)=\u222b(,\u03bb)\u00b7\u03c1(ink, \u03bb, 100%)\u2003\u2003(44)\n\nHere, a typical spectral sensitivity of the scanner unit  used is adopted as the spectral sensitivity S(a, \u03bb), and the spectral reflectance of the Y toner \u03c1(Y toner, \u03bb) and the spectral reflectance of the Y ink \u03c1(Y ink, \u03bb) are determined by measurement with a spectrophotometric calorimeter. Thus, B(a, Y toner) and B(a, Y ink) can be determined.\n","When a read value B(Y toner) upon reading of Y toner for Y toner read value in the execution of ACC is predicted from a read value B(Y ink) of a blue signal acquired by reading a yellow patch of a printing ink on a connecting color correction chart HC, the following formula 45 is used as a coefficient k (yellow) for correction.\n\n(toner)=(yellow)\u00d7(ink)\u2003\u2003(45)\n\nwhere k(yellow)=B(a, Y toner, 100%)\/B(a, Y ink, 100%).\n","The yellow toner has been explained. For patches of other colors, in an area where the spectral sensitivity of blue in CCD  is not 0 (zero), for a yellow toner of which the spectral reflectance is substantially equal to the reflectance of a color patch of a printing ink to be computed, the percentage area of the Y toner or the amount of the toner adhered per unit area [mg\/cm] is used.","For example, for patches (for example, black or green) in which the spectral reflectance characteristics (i) of a blue-green ink shown in , the spectral reflectance (c) of a yellow toner having a percentage area of 50%, and the read value of a blue signal are lower than the read values for the yellow toner (ink), the correction coefficient is not computed and, in this case, a coefficient of 1 is used. The correction coefficients k thus obtained may be indicated as shown in .","Next, how to prepare a conversion table for ACC pattern read value correction will be explained with reference to a quaternary chart in a table for ACC pattern read value correction in .","The first quadrant (I) in  represents a conversion table for ACC pattern read value correction to be determined. In the first quadrant (I), the abscissa represents CCD pattern read values, and the ordinate represents values after conversion. The ordinate in the fourth quadrant (IV) represents read values after correction with the correction coefficients k for the chromatic color and achromatic color patches, and the graph represents target values (reference values) for determining a conversion table for ACC pattern read value correction from read values for the chromatic color and achromatic color patches. In the third quadrant (III), the abscissa represents reference values of read values for the chromatic color and achromatic color patches, and the graph represents values after the correction of the read values, obtained by reading the chromatic color and achromatic color patches with the scanner, with the correction coefficients k. The second quadrant (II) represents nonconversion (through).","Based on the characteristics shown in , a conversion table for ACC pattern read value correction (correction table) in b and b\u2032 in the first quadrant (I), i.e., D[ii](ii=0, 1, 2, . . . , 255) is prepared from the results a and a\u2032 read values in the third quadrant (III).","The target values of read values indicated in the fourth quadrant (IV) in  are prepared for each toner of YMCK read in the ACC pattern. Thus, the adjustment accuracy of ACC can be improved.",{"@attributes":{"id":"p-0296","num":"0295"},"figref":"FIG. 46"},"Thus, a fluctuation in read image signals derived from a machine difference between the scanner units  can be prevented, and, at the same time, the adjustment accuracy of ACC can be improved, whereby the image quality can be further improved.","Since the gradation conversion table set in the image processing printer \u03b3 converting circuit  in gradation pattern reading is prepared by using image signals of one common component among image signals obtained by reading a plurality of different color patches in the connecting color correction chart HC with the scanner unit , the preparation of a gradation conversion table using image signals read with the scanner unit  corresponding to complementary color signals of a YMC toner among RGB image signals obtained by reading patches of different colors in the connecting color correction chart HC can improve the adjustment accuracy of the gradation conversion table and can improve the image quality in the connecting output.","In preparing a cyan reading scanner \u03b3 conversion table in the execution of ACC, since the connecting color correction chart HC is prepared using a printing ink, a difference in spectral reflectance between the connecting color correction chart HC and the toner occurs. An example of the correction coefficient for red that eliminates the difference is shown in .","Thus, the difference in spectral reflectance characteristics between the printing ink in the connecting color correction chart HC and the toner in the printer unit  that records and outputs gradation patterns is corrected, and, thus, a scanner \u03b3 conversion table as an image signal conversion table for ACC with higher adjustment accuracy can be prepared, and the image quality can be further improved.","An operation screen on which an automatic color correction (ACC) function for image density (gradation) is selected will be explained.","On the liquid crystal screen  in the operating unit  shown in , upon calling of an automatic color correction (ACC) menu, an automatic gradation adjustment screen shown in  is displayed. Upon the selection of \u201cEXECUTE\u201d of automatic color correction for \u201cIN USE OF COPY\u201d or \u201cEXECUTE\u201d of automatic color correction for \u201cIN USE OF PRINTER\u201d on the automatic gradation adjustment screen, an automatic color correction start screen shown in  is displayed on the liquid crystal screen . In this case, when \u201cIN USE OF COPY\u201d has been selected on the automatic gradation adjustment screen in , a gradation correction table for use in \u201cIN USE OF COPY\u201d is provided based on reference data. On the other hand, when \u201cIN USE OF PRINTER\u201d has been selected, a gradation correction table for use in \u201cIN USE OF PRINTER\u201d is provided based on reference data.","A \u201cRESTORE\u201d key is displayed on the automatic gradation adjustment screen in  so that, when the results of image formation with the changed YMCK gradation correction table are not good, the YMCK gradation correction table before the processing can be selected.","Further, upon the selection of \u201cSETTING OF AUTOMATIC COLOR CORRECTION\u201d, keys for selecting \u201cCORRECTION OF TEXTURE\u201d, \u201cCORRECTION OF HIGH DENSITY PORTION\u201d, \u201cCORRECTION OF RGB RATIO\u201d, \u201cEXECUTE\u201d, or \u201cNONEXECUTE\u201d, which will be explained later, are displayed on the automatic gradation adjustment screen in . In the \u201cSETTING OF AUTOMATIC COLOR CORRECTION\u201d menu, \u201cSETTING OF AUTOMATIC COLOR CORRECTION\u201d and \u201cSETTING OF UNEVEN LIGHT QUANTITIY DETECTION\u201d can be selected. The selection of them is not always necessary, and they may be always in \u201cEXECUTE\u201d state.","As described above, the color copying apparatus  prepares a scanner \u03b3 conversion table from achromatic color patches for each reading component of RGB for use in copy. On the other hand, the color copying apparatus  corrects read values of each gradation pattern of YMCK acquired by reading adjustment patterns output in the execution of automatic color correction (ACC) from chromatic color patches and achromatic color patches. Accordingly, in the former processing, three conversion tables for RGB are used while, in the latter processing, four conversion tables for YMCK are used.","The action of the automatic color correction (ACC) for image density (gradation) will be explained with reference to a flowchart in .","Upon the selection of \u201cEXECUTE\u201d of automatic color correction for \u201cIN USE OF COPY\u201d or \u201cEXECUTE\u201d of automatic color correction for \u201cIN USE OF PRINTER\u201d on the automatic color adjustment screen in , an automatic color correction start screen shown in  is displayed on the liquid crystal screen . Upon the depression of \u201cPRINT START\u201d key on the automatic color correction start screen, a plurality of density gradation patterns corresponding to YMCK colors and character and photograph image quality modes as shown in  are formed on a transfer paper (a transfer material) P (Step S).","The density gradation patterns are previously stored and set in the ROM  in IPU . The pattern write values are given in hexadecimal, and 16 patterns of 00h, 11h, 22h, . . . , EEh, and FFh are displayed. In , patches of five gradations except for the texture portion are displayed, and any desired value among eight bit signals of 00h-FFh may be selected. In the density gradation patterns, toner patterns of the character mode and the photograph mode are formed. In the character mode, dither processing such as pattern processing is not performed, and the pattern is formed at 256 gradations per dot. On the other hand, in the photograph mode, dither processing which will be described later is performed.","Upon the output of the pattern on the transfer paper (transfer material) P, as shown in , the color copying apparatus  displays, on the liquid crystal screen , a message that prompts mounting of a transfer paper (transfer material) P, on which a density gradation pattern has been recorded and output, on a contact glass  as an original platen. Upon mounting of the transfer paper with a density gradation pattern formed thereon on the contact glass  according to an instruction given on the screen (Step S), the selection of \u201cREADING START\u201d or \u201cCANCEL\u201d on the screen shown in  is checked (Step S). Upon the selection of \u201cCANCEL\u201d, the processing is ended.","On the other hand, in the color copying apparatus , upon the selection of \u201cREADING START\u201d at Step S, the scanner unit  performs main scanning and vertical scanning of the transfer paper with a density gradation pattern formed thereon to read RGB data on YMCK density patterns (Step S). In this case, the scanner unit  reads data in the transfer paper on its pattern portion with the density gradation pattern formed thereon and data in the transfer paper on its texture portion.","The color copying apparatus  determines whether the data on the pattern portion in the transfer paper have been normally read (Step S). When the reading is not normal, whether reading not in normal state is repeated twice is checked (Step S). When this is first time, the color copying apparatus  displays the screen in  on the liquid crystal screen , and, upon an instruction for reading, the step is returned to Step S, and the same processing as described above is performed (Steps S and S). On the other hand, at Step S, when the reading not in normal state is repeated twice, the processing is ended.","At Step S, when the reading of the data in the transfer paper on its pattern portion is normal, the color copying apparatus  converts and corrects each read value for the ACC pattern for each color of YMCK using the ACC pattern read value correction table D[ii](ii=0, 1, 2, . . . , 255) (Step S), and makes a determination on the selection of \u201cEXECUTE\u201d or \u201cNONEXECUTE\u201d for the texture correction processing using the texture data, based on the results of selection on the automatic gradation adjustment screen in  (Step S).","At Step S, when \u201cEXECUTE\u201d for the texture correction processing using the texture data has been selected, the color copying apparatus  performs texture data correction processing for the read data (Step S) and makes a determination on \u201cEXECUTE\u201d or \u201cNONEXECUTE\u201d for the correction of the reference data in its high-image density portion, based on the results of selection on the automatic gradation adjustment screen in  (Step S).","At Step S, when \u201cEXECUTE\u201d for the correction of the reference data on its high-image density portion has been selected, the color copying apparatus  performs correction processing for the high-image density portion in the reference data (Step S), and performs the preparation\/selection of the YMCK gradation correction tables (Step S). On the other hand, at Step S, when the correction of the reference data is not performed, the color copying apparatus  performs the reparation\/selection of YMCK gradation correction tables without performing the correction of the reference data (Step S).","Upon the preparation\/selection of the YMCK gradation correction tables, the color copying apparatus  checks whether the processing has been executed for each color of YMCK (Step S). When the processing for each color of YMCK has not been executed, the step is returned to Step S and the processing for each color of YMCK is executed (Steps S to S).","When the processing for each color of YMCK has been performed, at Step S, the color copying apparatus  checks whether the processing has been completed for each quality mode of photographs and characters (Step S). When the processing has not been completed, the step is returned to Step S and the same processing is performed (Steps S to S). At Step S, upon the completion of the processing for each image quality mode of photographs and characters, the processing is ended.","Under the processing, as shown in , the color copying apparatus  displays a screen indicating, on the liquid crystal screen , that the automatic color correction is under execution. When the results of image formation using the YMCK gradation correction tables after the completion of the processing are not good, a \u201cRESTORE\u201d key is displayed on the automatic gradation adjustment screen in  so that the YMCK gradation correction tables before the processing can be selected.","Next, texture correction processing will be explained. the texture correction processing is performed for two purposes. One of the purposes is to correct the whiteness of the transfer paper used in ACC. The texture correction processing is performed for the reason that, even when an image is formed at the same point of time with an identical machine, values of reading with the scanner unit  vary depending upon the whiteness of the transfer paper used. When the correction is not performed, the following problem occurs. For example, when a recycled paper or the like having low whiteness is used in ACC, since the recycled paper generally has a high yellow component content, in the preparation of yellow gradation correction tables, correction is performed so that the yellow component content is reduced. In this state, when copy is then performed using art paper or the like having high whiteness, in some cases, an image having a yellow component content is formed and, consequently, desired color reproduction cannot be provided.","The other reason why the texture correction processing is performed is that, when the thickness of the transfer paper (paper thickness) used in ACC is small, a color of a pressing plate or the like that presses the transfer paper is permeated through the transfer paper and is disadvantageously read with the scanner unit . For example, when ADF  is mounted instead of the pressing plate, the original carrying belt  is used for the transfer of the original G. In the carrying belt , the whiteness is low when the rubber material used is of some type, and, in this case, the carrying belt  is somewhat grayish. Accordingly, regarding read image signals, image signals having a high gray level on the whole are apparently read. Therefore, YMCK gradation correction tables are prepared so that the gray level is reduced accordingly. In this state, however, when a transfer paper having a large thickness and possessing low transparency is used for ACC, an image of which the density is low on the whole is reproduced and, consequently, a desired image is not always provided.","To avoid the problem, correction of the read image signal in the pattern portion by the read image signal of the paper in its texture portion is performed.","Nonexecution of the correction, however, has an advantage. In nonexecution of the correction, when a transfer paper having a high yellow component content such as recycled paper is always used, better color reproduction for colors containing a yellow component is sometimes provided. Further, when only a transfer paper having a small thickness is always used, gradation correction tables, which match thin papers, can be advantageously prepared.","Accordingly, the color copying apparatus  can perform ON\/OFF of the correction of the texture portion by a key operation of the operating unit , for example, according to the status of use of the color copying apparatus  and user's preferences.","Next, the action and processing of the automatic color correction will be explained. Regarding a pattern in which write values LD[i] (i=0, 1, . . . , 9) of the gradation pattern formed on the transfer paper (see ) are formed, values of reading with the scanner unit  are expressed in a vector model by v[t] [i]\u2261(r[t] [i], g[t] [i], b[t] [i]) (t=Y, M, C, or, K, i=0, 1, . . . , 9).","For example, lightness, chroma, and hue angle (L*, c*, h*), or lightness, redness, and blueness (L*, a*, b*) may be used instead of (r, g, b).","Read values of white as a standard previously stored in the ROM  or the RAM  are (r[W], g[W], b[W]).","Next, how to prepare gradation conversion tables (look-up table (LUT)) for use in the image processing printer \u03b3 converting circuit  in the execution of ACC will be explained.","In the read values v[t] [i]\u2261(r[t] [i], g[t] [i], b[t] [i]) for the gradation pattern, since image signals of the complementary colors of the YMC toner are respectively b[t] [i], g[t] [i], and r[t] [i], only the image signals of the complementary colors are used. Here, for convenience of simplification of the explanation, a[t] [i](i=0, 1, 2, . . . , 9; t=C, M, Y, or, K) is used. The preparation of gradation conversion tables simplifies the processing.","For a black toner, satisfactory accuracy can be provided even when any image signal of RGB is used. Here, however, a green (G) component is used.","Reference data are given by a set of read values of the scanner unit , i.e., v0[t] [i]\u2261(r0[t] [i], g0[t] [i], b0[t] [i]), and the corresponding laser write values, i.e., LD[i] (i=1, 2, . . . , m). Likewise, only complementary image signals of YMC are used, and, for simplifying the explanation, A[t] [n[i]] (0\u2266n[i]\u2266255; i=1, 2, . . . , m; t=Y, M, C, or, K) is used. m is the number of reference data.","The YMCK gradation conversion tables are prepared by comparing a[LD] with reference data A[n] stored in the ROM .","Here n is a value input into the YMCK gradation conversion tables. The reference data A[n] are target values of read image signals obtained by reading, with the scanner unit , a YMC toner pattern output at laser write values LD[i] after the YMCK gradation conversion of the input value n. The reference data consist of two types of values, i.e., reference values A[n] for which correction is performed according to image density that can be output by the printer and reference values A[n] for which correction is not performed. The color copying apparatus  performs the determination, on whether the correction is performed, using data for determination previously stored in the ROM  or the RAM .","The color copying apparatus  determines laser output values LD[n], corresponding to the value n input into the YMCK gradation conversion table, by determining LD corresponding to A[n] from a[LD].","The gradation conversion table can be determined by determining the laser output values LD[n] with respect to input values i=0, 1, . . . , 255 (for eight-bit signal).","In this case, instead of performing the processing for all values with respect to values input into the YMCK gradation conversion table, n=00h, 01h, . . . , FFh (base 166 number), the processing is performed for skipped values such as ni=0, 11h, 22h, . . . , FFh, and, for other matters, interpolation is performed, for example, by a spline function, or the closest table passed through the determined set of (0, LD[0]), (11h, LD[11h]), (22h, LD[22h]), . . . , (FFh, LD[FFh]) among YMCK \u03b3 correction tables previously stored in the ROM  is selected.","The processing will be explained with reference to . In , in the first quadrant (a), the abscissa represents values n input into the YMCK gradation conversion table, and the ordinate represents values (after processing) read with the scanner unit , i.e., the reference data A[i]. The values (after processing) read with the scanner unit  are values obtained by subjecting values, obtained by reading a gradation pattern with the scanner until , to RGB conversion (no conversion in the embodiment), averaging processing and adding processing for data read in a few places in the gradation pattern and are processed as a 12-bit data signals from the viewpoint of improving computation accuracy.","In the second quadrant (b) in , the abscissa as with the ordinate represents values (after processing) read with the scanner unit .","In the third quadrant (c) in , the ordinate represents write values of a laser beam (LD). The data a[LD] as the laser beam write values represent the characteristics of the printer unit . The write values of the laser beam (LD) in an actually formed pattern are 16 skipped values of 00h (texture), 11h, 22h, . . . , EEh, and FFh. Here, however, interpolation of portions between detected points is performed to handle the values as a continuous graph.","The graph (d) of the fourth quadrant in  is a YMCK gradation conversion table LD[i] and is provided for determining the YMCK gradation conversion table.","The ordinate\/abscissa in the graph (f) are the same as the ordinate\/abscissa in the graph (d). When the formation of a gradation pattern for detection is contemplated, the YMCK gradation conversion table (g) shown in graph (f) is used.","The abscissa in the graph (e) is the same as the abscissa in the third quadrant (c) and represents expediential linear conversion that represents a relationship between the write values of the laser beam (LD) in the preparation of the gradation pattern and the values (after processing) of the gradation pattern read with the scanner unit .","In , reference data A[n] are determined for a certain input value n, and a laser beam (LD) output LD[n] for obtaining A[n] is determined along an arrow (1) in the drawing using the read values a[LD] of the gradation pattern.",{"@attributes":{"id":"p-0342","num":"0341"},"figref":"FIG. 54","b":"1"},"Next, the procedure of computation of ACC will be explained with reference to a flowchart in . In , in the preparation of the gradation conversion table in ACC, at the outset, the color copying apparatus  determines input values necessary for determining the YMCK \u03b3 correction table (gradation conversion table), for example, n[i]=11(h)\u00d7i(i=0, 1, . . . , imax=15) (Step S).","That is, a comparison between the graph when RGB \u03b3 conversion has been made and the graph when the RGB \u03b3 conversion has not been made shows that the graph for the printer characteristics in the third quadrant is identical while the RGB \u03b3 conversion table characteristics in the second quadrant are different. Based on this fact, the reference data in the first quadrant should be changed. However, the characteristics of the YMCK gradation conversion table LD[n] as the final results are identical.","Thus, the reference data are changed depending upon whether the RGB \u03b3 conversion table processing is performed. An example of the RGB \u03b3 conversion table used in the embodiment is shown.","The color copying apparatus  corrects the reference data A[n] depending upon the image density outputable by the printer unit  (Step S).","That is, laser beam write values for providing the maximum possible image density that can be realized by the printer unit  are expressed in FFh (hexadecimal), and read values of the gradation pattern in this case, i.e., m[FFh], are mmax. The reference data for which the correction from the low image density side to the intermediate image density side is not performed are A[i] (i=0, 1, . . . , i1), the reference data for which the correction on the high image density side is not performed are A[i] (i=i2+1, . . . , imax\u22121) (i1\u2266i2, i2\u2266imax\u22121), and the reference data for which the correction is performed are A[i] (i=i1+1, . . . , i2).","A specific computation method will be explained on the assumption that the image signal is one that is proportional to the reflectance of the original not subjected to the RGB-\u03b3 conversion. Among the reference data for which the correction is not performed, the reference data in which the image density in the high image density portion is lowest, i.e., A[i2+1], and the reference data in which the image density in the low image density portion is lowest, i.e., A[i1], are provided, and the difference \u0394ref between the data is determined by the following formula:\n\n\u0394ref=12+1]\u2003\u2003(46)\n\nHere for a reflectance linear model or a lightness linear model not subjected to the RGB \u03b3 conversion as reverse processing, \u0394ref is \u0394ref>0.\n","On the other hand, likewise, the difference \u0394det is determined by the following formula 47 from the read value mmax of the gradation pattern that provides the maximum image density attainable by the printer unit .\n\n\u0394det=1max\u2003\u2003(47)\n","Thereafter, the reference data subjected to correction in the high density portion, i.e., A[i] (i=i1+1, . . . , i2), are determined by the following formula 48.\n\n1]+(1])\u00d7(\u0394det\/\u0394ref)\u2003\u2003(48)\n\nwhere i=i1+1, i1+2, . . . , i2\u22121, i2.\n","Next, the color copying apparatus  determines image signals m[i] read with the scanner unit  corresponding to n[i] from the reference data A[n] (Step S).","In determining the read image signals m[i], in fact, reference data corresponding to skipped n[j], i.e., A[n[j]] (0\u2266n[j]\u2266255, j=0, 1, . . . , jmax, n[j]\u2266n[k] for j\u2266k), are determined as follows.","Specifically, j(0\u2266j\u2266jmax), which provides n[j]\u2266n[i]<n[j+1], is determined.","For eight-bit image signals, the determination of reference data as n[0]=0, n[jmax]=255, n[jmax+1]=n[jmax]+1, A[jmax+1]=A[jmax] simplifies the computation.","The reference data intervals, n[j], are preferably as small as possible because the accuracy of the finally determined \u03b3 correction table is high.","The color copying apparatus  then corrects ACC pattern read values a[LD] for the write values LD using correction tables represented as b or b\u2032 in , i.e., D[ii] (ii=0, 1, 2, . . . , 255) as follows (Step S).\n\na1[LD]=D[a[LD]]\n\nThe a[LD] will be hereinafter referred to as a[LD].\n","m[i] is determined from j, thus determined, by the following formula 49.\n\n]+(1])\u00b7(])\/(1])\u2003\u2003(49)\n","In the formula 48, interpolation is performed by a primary expression. Alternatively, the interpolation may be performed, for example, by a high-dimension function or a spline function. This is given by the following formula 50.\n\n(])\u2003\u2003(50)\n","where, in a k-dimensional function,",{"@attributes":{"id":"p-0360","num":"0359"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"0"},"mi":"k"},"mo":"\u2062","mi":"bixi"}],"mo":"="}}}},"After the determination of m[i], the color copying apparatus  determines laser beam (LD) write values LD[i] for determining m[i] according to the same procedure as described above (Step S). When image signal data not subjected to RGB \u03b3 conversion are treated, as described below, a[LD] decreases with an increase in laser beam (LD) values.\n\nFor 11]]\n\nHere the values in the pattern formation are 10 values of LD[k]=00h, 11h, 22h, . . . , 66h, 88h, AAh, FFh, (k=0, 1, . . . , 9). The reason for this is as follows. In the image density in which the amount of toner adhered is small, the change in read value of the scanner unit  over the amount of toner adhered is so large that the intervals between pattern write values LD[k] are narrowed. On the other hand, in the image density in which the amount of toner adhered is large, the change in read value of the scanner unit  over the amount of toner adhered is so small that reading intervals are broadened.\n","The embodiment is advantageous, over the configuration in which the number of patterns is increased, for example, as in LD[k]=00h, 11h, 22h, . . . , EEh, FFh (16 in total), for example, in that the toner consumption can be reduced; in the high image density area, a change over the LD write values is small; since read values are likely to be reversed, for example, due to the influence of uneven potential, uneven amount of toner adhered, uneven fixation, and uneven potential on the photoreceptor drums K to C, narrowing LD write value intervals is not always effective for accuracy improvement. Accordingly, patterns are formed by the above LD write values.","For LD[k] that provides a[LD[k]]\u2267m[i]>a[LD[k+1]], LD[i] is set as follows:\n\n]+(1])\u00b7(]])\/(1]])\n","For 0\u2266k\u2266kmax(kmax>0), when a[LD[kmax]]>m[i] (when the image density of target values determined from reference data is high), LD[i] is predicted by extrapolation by a primary expression as follows.\n\n]+(max]\u2212max\u22121])\u00b7(max\u22121]])\/(max]]\u2212max\u22121]])\n","Thus, a set of values n[i] input into the YMCK \u03b3 correction table and output values LD[i], (n[i], LD[i]) (i=0, 1, . . . , 15), can be determined.","The extrapolation may be performed by not only the primary expression but also, for example, a method in which logarithm is taken.","The gradation conversion table is determined by interpolation by a spline function or the like based on the determined (n[i], LD[i]) (i=0, 1, . . . , 15) or by selecting a \u03b3 correction table stored in the ROM  (Step S).","According to the embodiment, in order to correct the difference in spectral characteristics between CCDs, a new linear masking coefficient is computed from the linear masking coefficient based on the read values for the reference chart in the scanner data calibration shown in . How to compute the new linear masking coefficient will be explained.","Values, obtained by reading points on a boundary plane not on an achromatic color axis, for example, with a scanner CCD having standard spectral characteristics, are assumed to be (Ri,Gi,Bi) (i=hues 1 to 4). When the same points are read with another scanner, they are read as (Ri\u2032, Gi\u2032, Bi\u2032) (i=hues 1 to 4), which are different from (Ri,Gi,Bi) (i=hues 1 to 4), due to a fluctuation in spectral characteristics of the scanner CCDs. Consequently, the recorded values in the developing units C, M, Y, and K are computed by as (Ci\u2032, Mi\u2032, Yi\u2032, Ki\u2032) (i=hues 1 to 4) by the numerical formula 1. That is, the formula 33 can be expressed as the following formula 55.",{"@attributes":{"id":"p-0370","num":"0369"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}}],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"55"}}]}}}}},"Since YMCK outputs after the linear masking processing are to be identical, when the formula 32=formula 55, the following formula is established.",{"@attributes":{"id":"p-0372","num":"0371"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]}]}},{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":["3","4"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}}],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"56"}}]}}}},"br":{}},{"@attributes":{"id":"p-0373","num":"0372"},"maths":{"@attributes":{"id":"MATH-US-00013","num":"00013"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"4.4em","height":"4.4ex"}}},"mo":"\u2062","mrow":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mi":["i","e"],"mo":[".","."]},{"mrow":[{"msup":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":"-","mn":"1"}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"aYB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aYR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aY","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aMB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aMR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aM","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aCB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aCR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aC","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]},{"mtd":[{"mrow":{"mi":"aKB","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKG","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aKR","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":"aK","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}]}]}}},{"mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"Y","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"M","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"C","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}},{"mrow":{"mi":"K","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}]}]}},"mo":"\u2062","msup":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":"-","mn":"1"}]}}],"mo":"="}],"mo":[",","\u2062","\u2062",",","\u2062"],"mstyle":[{"mtext":{}},{"mspace":{"@attributes":{"width":"4.7em","height":"4.7ex"}}},{"mtext":{}}]}}},{"mrow":{"mo":["(",")"],"mn":"57"}}]}}}},"br":{}},"Desired color reproducibility can be provided by, in the computation of the printer vector at Step S in , varying the printer vectors in the formula 57, i.e., P(i) (P=Y, M, C, K; i=each hue) depending upon the type of the original as a copying object, depending upon the quality mode of images such as characters, photographs, or characters\/photographs, or depending upon various adjustment functions such as density adjustment values, color balance adjustment, and color conversion (that converts the color of the original to any desired reproducible color). Examples of original types include print originals using ink as the coloring material, photographic paper photograph originals using YMC photosensitive layers as the coloring material, copied originals using toner as the coloring material, ink jet originals in which the ink jet printer output is an original, map originals using a special ink, and color correction coefficients, of which the object is highlighters, for discriminating highlighters.","Specifically, regarding the printer vector P(i) (P=Y, M, C, K; i=each hue) in formula 57, the P original type (i) (P=Y, M, C, K; i=each hue, original type=print, photographic paper photograph, copied original, map, ink jet, highlighter, etc.) is associated with each image quality mode selected in the operating unit, and aPS original type (hue) (P=Y, M, C, K; S=R, G, B, constant) corresponding to each image quality mode is computed and is set in the circuit (ASIC) for use in copying.",{"@attributes":{"id":"p-0376","num":"0375"},"maths":{"@attributes":{"id":"MATH-US-00014","num":"00014"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":["(",")"],"mrow":{"mtable":[{"mtr":[{"mtd":[{"mrow":{"mi":["aYB","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}},{"mrow":{"mi":["aYG","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]},{"mtd":[{"mrow":{"mi":["aMB","original"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mtext":"type"}],"mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}},{"mrow":{"mi":["aMG","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]},{"mtd":[{"mrow":{"mi":["aCB","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}},{"mrow":{"mi":["aCG","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]},{"mtd":[{"mrow":{"mi":["aKB","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}},{"mrow":{"mi":["KG","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]}]},{"mtr":[{"mtd":[{"mrow":{"mi":["aYR","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}},{"mrow":{"mi":["aY","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]},{"mtd":[{"mrow":{"mi":["aMR","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}},{"mrow":{"mi":["aM","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]},{"mtd":[{"mrow":{"mi":["aCR","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}},{"mrow":{"mi":["aC","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]},{"mtd":[{"mrow":{"mi":["aKR","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}},{"mrow":{"mi":["aK","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":[{"mn":"3","mi":"\u2032"},{"mn":"4","mi":"\u2032"}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":"-"}}}}}}]}]}],"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"11.7em","height":"11.7ex"}}},{"mtext":{}}]}},{"mrow":{"mo":["(",")"],"mrow":{"mtable":[{"mtr":[{"mtd":[{"mrow":{"mi":["Y","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}},{"mrow":{"mi":["Y","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}}]},{"mtd":[{"mrow":{"mi":["M","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}},{"mrow":{"mi":["M","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}}]},{"mtd":[{"mrow":{"mi":["C","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}},{"mrow":{"mi":["C","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}}]},{"mtd":[{"mrow":{"mi":["K","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1"}}}},{"mrow":{"mi":["K","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"2"}}}}]}]},{"mtr":[{"mtd":[{"mrow":{"mi":["Y","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}},{"mrow":{"mi":["Y","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}}]},{"mtd":[{"mrow":{"mi":["M","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}},{"mrow":{"mi":["M","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}}]},{"mtd":[{"mrow":{"mi":["C","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}},{"mrow":{"mi":["C","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}}]},{"mtd":[{"mrow":{"mi":["K","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"3"}}}},{"mrow":{"mi":["K","original"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mi":"type","mo":"\u2061","mrow":{"mo":["(",")"],"mn":"4"}}}}]}]}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":{}}}},"mo":"\u2062","msup":{"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"B","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"G","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"1","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"2","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"3","mi":"\u2032"}}}},{"mrow":{"mi":"R","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mn":"4","mi":"\u2032"}}}}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mn":"1"},{"mn":"1"}]}]}},{"mo":"-","mn":"1"}]}}],"mo":["=","\u2062"],"mstyle":{"mtext":{}}}}}},"In order to reduce a fluctuation in color reproduction due to a difference between reading machines, a scanner data calibration chart shown in  is read. Based on the results of reading, the standards that determine hue areas, which play as the hue boundary plane, parameter Fx\u2032, and the scanner vector are corrected. At Step S in , the scanner vector is corrected. At Step S and later steps, the scanner vector inverse matrix is computed, and, at Step S in , the masking coefficient is computed. This method will be explained with reference to a flowchart in .  is a flowchart for explaining correction by scanner data calibration according to the present invention.","A scanner data calibration chart is read (S). A scanner data calibration reference chart shown as an example in  is mounted on an original platen in the scanner unit . The scanner data calibration reference chart is read with the scanner unit .","Next, the hue angle is computed (S). Based on read values RGB data (Dr,Dg,Db) (=Ri,Gi,Bi (i=each patch number)) for each patch of the scanner data calibration chart, parameters for dividing the read RGB image data of the original for each hue, i.e., GR, GB, and Fx\u2032 are computed.","Next, the linear masking coefficient is computed (S). For each hue, the linear masking coefficient is computed from the formula 57 and the read values Ri,Gi,Bi (i=each patch number) for each patch.","Finally, the read values and the coefficients are stored (S).","Subsequently, characteristic functions according to the embodiment will be explained. According to the embodiment, the intermediate results for obtaining image processing parameters for image processing of image data are computed in stages for each predetermined action of the image processing device and are stored. Further, recomputation determination information, which determines whether the intermediate results (intermediate parameters) are recomputed, is stored. Based on the intermediate result recomputation determination information, whether the recomputation of the intermediate results of the image processing parameters is necessary, is determined, and the image processing parameters are generated.","More specifically, the intermediate results (scanner vector, printer vector, scanner vector inverse matrix, and linear masking coefficient shown in ) necessary for providing image processing parameters are determined upon the following predetermined action.","1. Initialization of image processing parameters or power activation.","2. Reading of reference chart (calibration chart).","3. Correction of image data.","According to the embodiment, the image processing device comprises: an intermediate parameter computing unit that computes an intermediate parameter for the determination of an image processing parameter for use in a color correcting unit that corrects a signal color depending upon a plurality of hue areas formed using, as a boundary, faces provided parallel to a lightness axis within a color space; an intermediate parameter storing unit that stores the intermediate parameter; and a determining unit that determines whether, in executing the color correcting unit, the intermediate parameter is computed by the intermediate parameter computing unit, or the intermediate parameter stored in the intermediate parameter storing unit is used, depending upon an image forming condition. According to the embodiment, the frequency of recomputation of intermediate parameters can be reduced, and an increase in speed of parameter computation and an improvement in color reproducibility can be simultaneously realized.","When a plurality of scanner units  are present, a method may be adopted in which the \u201cintermediate result computation processing upon the initialization of the image processing parameter or upon power activation\u201d, \u201cintermediate result computation processing upon reading of the reference chart (calibration chart)\u201d, and \u201cimage data correction processing\u201d are performed for each of the scanner units . Thus, storing the intermediate computation results for each image reading unit can reduce computation time even when a plurality of image reading units are provided.","According to an aspect of the present invention, it is possible to reduce the frequency of recomputation of the intermediate parameters and simultaneously realize an increased speed of parameter computation and improved color reproducibility.","Although the invention has been described with respect to specific embodiments for a complete and clear disclosure, the appended claims are not to be thus limited but are to be construed as embodying all modifications and alternative constructions that may occur to one skilled in the art that fairly fall within the basic teaching herein set forth."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 4","FIG. 2"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 5","FIG. 2"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 6","FIG. 2"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 7","FIG. 6"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 8","FIG. 7"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 9A","FIG. 7"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 9B","FIG. 7"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 9C","FIG. 7"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 9D","FIG. 7"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 24","FIG. 6"]},{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 25","FIG. 2"]},{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 26","FIG. 2"]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 27","FIG. 26"]},{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 28","FIG. 6"]},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 30","FIG. 2"]},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 31"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 32"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 33"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 34"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 35"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 36"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 37"},{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 38"},{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 39"},{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 40"},{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 41"},{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 42"},{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 43"},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 44"},{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 45"},{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 46"},{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 47"},{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 48"},{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 49","FIG. 2"]},{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 50"},{"@attributes":{"id":"p-0066","num":"0065"},"figref":["FIG. 51","FIG. 35"]},{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 52"},{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 53"},{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 54"},{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 55"},{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 56"}]},"DETDESC":[{},{}]}
