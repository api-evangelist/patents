---
title: Methods and systems for determining distribution mean level without histogram measurement
abstract: Techniques for estimating an average background value and an average foreground value of an image data formed by a plurality of pixels by selecting a first plurality of pixels forming a first calculation window from the plurality of pixels, determining at least first, second and third statistical moments for the first plurality of pixels, and determining at least one of average background value and average foreground value using the at least first, second and third statistical moments determined for the first plurality of pixels.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07292365&OS=07292365&RS=07292365
owner: Xerox Corporation
number: 07292365
owner_city: Stamford
owner_country: US
publication_date: 20030115
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF PREFERRED EMBODIMENTS"],"p":["1. Field of Invention","This invention generally relates to the field of automatically processing image data.","2. Description of Related Art","In automatically processing image data, it is often desired to determine the average background and the foreground levels that appear in the image data. These levels can be used to suppress background noise and to enhance the contrast between the foreground and background portion of the image data. One conventional method for determining the average background and foreground levels is to inspect a histogram determined from the image data. Typically, this histogram is bimodal, with a peak near the foreground image value and a peak near the background image value. The locations of the two peaks determine the background and foreground levels.","A significant drawback associated with this conventional method is that generally the histogram is costly in one or both of computation and memory resources. A second significant drawback associated with this conventional method is that a histogram over a small region of an image is too noisy to allow the locations of the peaks to be determined.","This invention provides systems and methods to calculate the mean values of background and foreground regions of an image data without measuring a histogram.","This invention provides systems and methods to calculate the gray levels of the background level and the foreground level of an image data without measuring a histogram.","This invention provides systems and methods to calculate the gray levels of the background level and the text level of one or more of a scanned text image, a scanned graphics image and the like without measuring a histogram.","In various exemplary embodiments, the systems and methods according to this invention determine image statistics data, for example at least first three central moments, from the pixels in the target region of the image data. The locations, relative magnitudes, and approximate width of the background and foreground peaks are estimated based on the determined at least first three central moments.","In various exemplary embodiments, the systems and methods according to this invention determine at least first three central moments, for example, the mean, variance, skewness, and kurtosis, from the pixels in the target region of the scanned text image or the scanned graphics image. The locations, relative magnitudes, and approximate width of the text and background peaks are estimated based on the determined at least first three central moments.","In various exemplary embodiments, in an adaptive calculation, the systems and methods according to this invention determine at least first three central moments recursively with only four image memory accesses per pixel per moment over a window or rectangular region of the target region of the image data.","The estimates of the foreground and background peak locations and magnitudes calculated by the systems and methods according to this invention are very robust to noise.","The estimates of the foreground and background peak locations and magnitudes calculated by the systems and methods according to this invention are accurate even for very small regions containing only a hundred pixels of the image data, such as, for example, the scanned text image or the scanned graphics image.","Systems and methods according to this invention provide for fast, robust, and accurate determinations of foreground and background peak locations and magnitudes of the image data, such as, for example, the scanned text and\/or graphics image, while using a small portion of the buffer memory.","These and other features and advantages of this invention are described in, or are apparent from, the following detailed description of various exemplary embodiments of the systems and methods according to this invention.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 1","FIG. 1"],"b":["10","12","14"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 2","FIG. 2"],"b":["100","100","112","122","112","122","116","126","114","124","112","122"]},{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 3","FIG. 2"],"b":["200","200","100","210","220","210","220"]},"This problem of very coarse histograms arises in the case of a spatially-adaptive enhancement or correction process. As one moves over the scanned image, a spatially-adaptive process would investigate the region around an individual pixel and perform different processing depending on the context of the region. For the text document data example shown in , as mentioned above, the image contains streaks caused by dirt on the CVT scanner. By locally detecting how the image data, for example the scanned image, differs in the directions parallel and perpendicular to the process direction of the page through the scanner, it may be possible to detect and remove the streaks. In terms of a histogram, this would require measuring local histograms over very small regions, containing very few pixels, similar to . A very robust method is needed to determine both background and foreground, for example text, levels of such small regions. The detection and removal of CVT dirt streaks is but one example of the need for a method of determining the background level and the foreground level, for example text level, for an image data.","In various exemplary embodiments, the method for estimating the distribution mean levels of an image data, for example an average background value and an average foreground value of an image data such as a scanned image according to this invention is used to determine the background and foreground values of an image data, such as a scanned text image, similar to what is shown in , but without calculating the corresponding histogram.","In various exemplary embodiments, the method for estimating the distribution mean levels of an image data, for example an average background value and an average foreground value of an image data utilizes image statistic data, for example at least the first three statistical moments determined or calculated directly from the pixel data. The method employs one or more estimation equations that are used to determine, based on the at least first three central moments determined, the locations of the two peaks corresponding to the background and the foreground of the image data, for example the scanned image. The method also employs the one or more estimation equations to determine the relative weights of the two peaks corresponding to the background and foreground of the image data. Further, the method also employs the one or more estimation equations to determine the spread of the values around the peaks.","To more clearly understand the invention, it is useful to first examine a unimodal histogram, for example, a histogram that has only one peak.  shows such an exemplary unimodal histogram . Histogram  represents a histogram of a 500\u00d7500 pixels region of white paper, cropped from the scanned image of .","As shown in , the basic shape of unimodal histogram  is a gaussian peak  whose mean gray level  is \u03bc, and whose width  is given by the standard deviation, \u03c3. The location  of the peak  of the histogram  corresponds to the average background level of the image data region. Given a symmetric gaussian distribution, it may not be necessary to actually calculate the histogram to determine the peak location . The peak location  may be determined directly from the first moment of the pixel data. Averaging all of the pixels together provides the mean  or average value, which for a gaussian distribution, is the location of the peak . The width  of the gaussian is given by the second moment, or the standard deviation.","The technique described above does not apply well in cases where the image data are represented by a bimodal histogram, as shown by the histogram  in . Histogram  represents a bimodal histogram of a 500\u00d7500 pixels region that contains foreground data, for example text pixels, and background data\/pixels.","As shown in , the bimodal histogram  has two peaks  and . Each peak has its own width, height and location. The location of the upper peak, peak , is the average value of the background pixel data, while the location of the lower peak, peak , is the average foreground pixel value, for example, text pixel value. The first moment, or average of the pixel data, for the bimodal histogram shown in  will be a mixture of the two peaks locations and relative strengths.","In various exemplary embodiments, the methods and systems according to this invention utilize the image statistic data, such as, for example, at least the first three statistical moments, or central moments, of the pixel data to determine the locations of the two peaks in the bimodal histogram. It will be appreciated by those skilled in the art that by using the methods and systems according to this invention, it is not necessary to calculate and analyze the histogram. In various exemplary embodiments, the methods and systems according to this invention employ two formulae as described in detail below.","Prior to discussing the two formulae, a discussion of a model of a bimodal histogram is provided with reference to the bimodal histogram  shown in . In various exemplary embodiments, the bimodal histogram  is modeled as a sum of two gaussian distributions  and . It will be appreciated by those skilled in the art that while the description contained herein discusses peaks represented as gaussian distributions, the methods and systems of the invention are not limited to only such peak distributions. Other peak distributions, such as, for example double-sided exponential distributions, are within the scope of the invention.","The first gaussian distribution  is located at a location  defined as \u03bc, has a width  defined as \u03c3, and has a relative weight  of \u201ca.\u201d Gaussian distribution  is located at a location  defined as \u03bc, has a width  defined as \u03c3, and has a relative weight  of \u201c1\u2212a.\u201d Since the histogram  is a graph of the frequency of occurrence of the gray levels of that region of the image data, when its area is normalized, it is a measure of the probability density function of the pixel values.","For a gaussian distribution, the probability density function is given by:",{"@attributes":{"id":"p-0046","num":"0045"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}},{"mfrac":{"mn":"1","mrow":{"msqrt":{"mrow":{"mn":"2","mo":"\u2062","mi":"\u03c0"}},"mo":"\u2062","mi":"\u03c3"}},"mo":"\u2062","msup":{"mi":"\u2147","mrow":{"mo":"-","mfrac":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"mi":["x","\u03bc"],"mo":"-"}},"mn":"2"},"mrow":{"mn":"2","mo":"\u2062","msup":{"mi":"\u03c3","mn":"2"}}}}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"1"}}]}}}}},"The nmoment of x is given by:\n\n()\u2003\u2003(2)\n","The first five moments, in terms of the mean and standard deviation, should be equal to:\n\nx=\u03bc\u2003\u2003(3)\n\n=\u03c3+\u03bc\u2003\u2003(4)\n\n=3\u03c3\u03bc+\u03bc\u2003\u2003(5)\n\n=3\u03c3+6\u03c3\u03bc+\u03bc\u2003\u2003(6)\n\n=15\u03c3\u03bc+10\u03c3\u03bc+\u03bc\u2003\u2003(7)\n","The bimodal histogram is modeled as the sum of two gaussian distributions. The relative strength of the two gaussians, \u201ca\u201d, is chosen so that the total integral of this new probability distribution is unity.",{"@attributes":{"id":"p-0050","num":"0049"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}},{"mrow":[{"mfrac":{"mi":"a","msqrt":{"mrow":{"mn":"2","mo":["\u2062","\u2062","\u2062"],"mi":"\u03c0","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":"\u03c3","mn":"1"}}}},"mo":"\u2062","msup":{"mi":"\u2147","mrow":{"mo":"-","mfrac":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":"-","msub":{"mi":"\u03bc","mn":"1"}}},"mn":"2"},"mrow":{"mn":"2","mo":"\u2062","msubsup":{"mi":"\u03c3","mn":["1","2"]}}}}}},{"mfrac":{"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","mi":"a"}},"msqrt":{"mrow":{"mn":"2","mo":["\u2062","\u2062","\u2062"],"mi":"\u03c0","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":"\u03c3","mn":"2"}}}},"mo":"\u2062","msup":{"mi":"\u2147","mrow":{"mo":"-","mfrac":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":"-","msub":{"mi":"\u03bc","mn":"2"}}},"mn":"2"},"mrow":{"mn":"2","mo":"\u2062","msubsup":{"mi":"\u03c3","mn":["2","2"]}}}}}}],"mo":"+"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"8"}}]}}}}},"Since there are five unknowns, \u03bc, \u03c3, \u03bc, \u03c3and a, five equations are needed to solve for them. The first five moments of the combined gaussians are given by:\n\n+(1\u2212)\u03bc\u2003\u2003(9)\n\n+(1\u2212)\u03bc\u2003\u2003(10)\n\n=3\u03bc+3(1\u2212)\u03c3\u03bc+(1\u2212)\u03bc\u2003\u2003(11)\n\n=3+6\u03bc+3(1\u2212)\u03c3+6(1\u2212)\u03c3\u03bc+(1\u2212)\u03bc\u2003\u2003(12)\n\n=15\u03bc+10\u03bc+15(1\u2212)\u03c3\u03bc+10(1\u2212)\u03c3\u03bc+(1\u2212)\u03bc\u2003\u2003(13)\n","It is easier to work with the moments centered around the mean. The ncentral moment is defined as:\n\n=()\u2003\u2003(14)\n","After much, straightforward algebraic manipulation, the five central moments can be shown to be:\n\n+(1\u2212)\u03bc\u2003\u2003(15)\n\n+(1\u2212)\u03c3(1\u2212)(\u03bc\u2212\u03bc)\u2003\u2003(16)\n\n=3(1\u2212)(\u03c3\u2212\u03c3)(\u03bc\u2212\u03bc)+(1\u2212)(1\u22122)(\u03bc\u2212\u03bc)\u2003\u2003(17)\n\n=3(+(1\u2212)\u03c3)+6(1\u2212)((1\u2212)\u03c3)(\u03bc\u2212\u03bc)(1\u2212)(1\u221233)(\u03bc\u2212\u03bc)\u2003\u2003(18)\n\n=15(1\u2212)(\u03c3\u2212\u03c3)(\u03bc\u2212\u03bc)+10(1\u2212)((1\u2212)\u03c3\u03c3)(\u03bc\u2212\u03bc)(1\u2212)(1\u2212)(1\u22122)(1\u22122+2)(\u03bc\u2212\u03bc)\u2003\u2003(19)\n","The estimates of the moments, M, on the left sides of the equations, are calculated from the pixel data by averaging the gray values raised to the corresponding power. The nmoment of x is calculated by:",{"@attributes":{"id":"p-0055","num":"0054"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["\u2329","\u232a"],"msup":{"mi":["x","n"]}},{"mfrac":{"mn":"1","mi":"N"},"mo":"\u2062","mrow":{"mover":{"mo":"\u2211","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":["x","n"]}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"20"}}]}}}}},"where N is the total number of pixels in the average. The parameters of the distribution can then be determined, in terms of the measured moments, M, by solving the above five equations, (15)-(19), for \u03bc, \u03c3, \u03bc, \u03c3, and a.","Solving the above presented equations (15)-(19) is difficult to perform, therefore various approximation techniques were determined. The approximation techniques were made based on observing the relative magnitudes of the different terms in the five equations (15)-(19).","In various exemplary embodiments, the methods and systems according to this invention provide for a first approximation technique that uses the first three statistical moments of the pixel data. The first approximation technique is generally simple to compute and it was found by the inventor to provide reasonably accurate results.","In various alternative embodiments, the methods and systems according to this invention provide for a second approximation technique that uses the first four statistical moments of the pixel data. The second approximation technique is more complicated to compute, but yields more accurate answers.","In various exemplary embodiments, the first approximation technique was developed based of the observation that the terms containing \u03c3and \u03c3were orders of magnitude smaller than the other terms. This is true when two very distinguishable peaks are well separated, then the (\u03bc\u2212\u03bc)terms dominate the equations. If the standard deviations are assumed to be zero, then there are only three variables and three equations. That is, only the first three moments are needed. The equations to be solved are:\n\n+(1\u2212)\u03bc\u2003\u2003(21)\n\n(1\u2212)(\u03bc\u2212\u03bc)\u2003\u2003(22)\n\n(1\u2212)(1\u22122)(\u03bc\u2212\u03bc)\u2003\u2003(23)\n","Simple algebraic manipulation yields the following solutions:",{"@attributes":{"id":"p-0062","num":"0061"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"a","mo":"=","mrow":{"mfrac":[{"mn":["1","2"]},{"msub":{"mi":"M","mn":"3"},"mrow":{"mn":"2","mo":"\u2062","msqrt":{"mrow":{"msubsup":{"mi":"M","mn":["3","2"]},"mo":"+","mrow":{"mn":"4","mo":"\u2062","msubsup":{"mi":"M","mn":["2","3"]}}}}}}],"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"24"}}]},{"mtd":[{"mrow":{"msub":{"mi":"\u03bc","mn":"1"},"mo":"=","mrow":{"msub":{"mi":"M","mn":"1"},"mo":["+","-"],"mfrac":[{"msub":{"mi":"M","mn":"3"},"mrow":{"mn":"2","mo":"\u2062","msub":{"mi":"M","mn":"2"}}},{"msqrt":{"mrow":{"msubsup":{"mi":"M","mn":["3","2"]},"mo":"+","mrow":{"mn":"4","mo":"\u2062","msubsup":{"mi":"M","mn":["2","3"]}}}},"mrow":{"mn":"2","mo":"\u2062","msub":{"mi":"M","mn":"2"}}}]}}},{"mrow":{"mo":["(",")"],"mn":"25"}}]},{"mtd":[{"mrow":{"msub":{"mi":"\u03bc","mn":"2"},"mo":"=","mrow":{"msub":{"mi":"M","mn":"1"},"mo":["+","+"],"mfrac":[{"msub":{"mi":"M","mn":"3"},"mrow":{"mn":"2","mo":"\u2062","msub":{"mi":"M","mn":"2"}}},{"msqrt":{"mrow":{"msubsup":{"mi":"M","mn":["3","2"]},"mo":"+","mrow":{"mn":"4","mo":"\u2062","msubsup":{"mi":"M","mn":["2","3"]}}}},"mrow":{"mn":"2","mo":"\u2062","msub":{"mi":"M","mn":"2"}}}]}}},{"mrow":{"mo":["(",")"],"mn":"26"}}]}]}}}},"The estimates of these three parameters, a, \u03bcand \u03bc, solved using Eqs. 24-26, are very good. Histograms  and , shown in , respectively, provide exemplary estimates of these three parameters as determined using Eqs. 24-26 above.","The only difficulty arises when there is only one peak in the histogram, as shown in the histogram  of . For this case, the mean values of \u03bcand \u03bcare very close to each other. Therefore, it is very difficult to know if the two means, \u03bc, \u03bc, are within the same peak . This is not a problem if only the background value is desired.","In various exemplary embodiments, the methods and systems according to this invention provide for a second approximation technique. The second approximation technique is based on the assumption that the widths of the two gaussians are equal, that is \u03c3=\u03c3=\u03c3. This assumption enables the problem to be reduced to four equations, for four moments, M-M, and four unknowns. The addition of the \u03c3 parameter allows the ambiguity of very close estimates of the two means to be resolved. The four equations that need to be solved are:\n\n+(1\u2212)\u03bc\u2003\u2003(27)\n\n=\u03c3(1\u2212)(\u03bc\u2212\u03bc)\u2003\u2003(28)\n\n(1\u2212)(1\u22122)(\u03bc\u2212\u03bc)\u2003\u2003(29)\n\n=3\u03c3+6(1\u2212)\u03c3(\u03bc\u2212\u03bc)(1\u2212)(1\u221233)(\u03bc\u2212\u03bc)\u2003\u2003(30)\n","The solution to these equations is complicated and involves solving a third-order polynomial. If we define three new variables, p, q and z:",{"@attributes":{"id":"p-0067","num":"0066"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"z","mo":"=","mrow":{"msup":[{"mrow":{"mo":["(",")"],"mfrac":{"msub":{"mi":"M","mn":"3"},"mn":"2"}},"mn":"4"},{"mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":{"mi":"M","mn":"4"},"mo":"-","mrow":{"mn":"3","mo":"\u2062","msubsup":{"mi":"M","mn":["2","2"]}}},"mn":"6"}},"mn":"3"}],"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"31"}}]}}}}},"When z is positive, then",{"@attributes":{"id":"p-0069","num":"0068"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"p","mo":"=","mrow":{"mroot":[{"mrow":{"mrow":{"mo":"-","msup":{"mrow":{"mo":["(",")"],"mfrac":{"msub":{"mi":"M","mn":"3"},"mn":"2"}},"mn":"2"}},"mo":"+","msqrt":{"mrow":{"msup":[{"mrow":{"mo":["(",")"],"mfrac":{"msub":{"mi":"M","mn":"3"},"mn":"2"}},"mn":"4"},{"mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":{"mi":"M","mn":"4"},"mo":"-","mrow":{"mn":"3","mo":"\u2062","msubsup":{"mi":"M","mn":["2","2"]}}},"mn":"6"}},"mn":"3"}],"mo":"+"}}},"mn":"3"},{"mrow":{"mrow":{"mo":"-","msup":{"mrow":{"mo":["(",")"],"mfrac":{"msub":{"mi":"M","mn":"3"},"mn":"2"}},"mn":"2"}},"mo":"-","msqrt":{"mrow":{"msup":[{"mrow":{"mo":["(",")"],"mfrac":{"msub":{"mi":"M","mn":"3"},"mn":"2"}},"mn":"4"},{"mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":{"mi":"M","mn":"4"},"mo":"-","mrow":{"mn":"3","mo":"\u2062","msubsup":{"mi":"M","mn":["2","2"]}}},"mn":"6"}},"mn":"3"}],"mo":"+"}}},"mn":"3"}],"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"32"}}]}}}}},"Otherwise, if z is negative, then",{"@attributes":{"id":"p-0071","num":"0070"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"mi":"p","mo":"=","mrow":{"mn":"2","mo":["\u2062","\u2062","\u2062","\u2062"],"msqrt":{"mrow":{"mo":"-","mfrac":{"msub":{"mi":"M","mn":"3"},"mn":"3"}}},"mi":"cos","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mfrac":[{"mi":"\u03d5","mn":"3"},{"mrow":{"mn":"2","mo":"\u2062","mi":"\u03c0"},"mn":"3"}],"mo":"+"}}}},"mo":["\u2062","\u2062"],"mstyle":[{"mtext":{}},{"mtext":"where"}]}},{"mrow":{"mo":["(",")"],"mn":"33"}}]},{"mtd":[{"mrow":{"mi":"\u03d5","mo":"=","mrow":{"msup":{"mi":"cos","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":"M","mn":"4"},"mo":"-","mrow":{"mn":"3","mo":"\u2062","msubsup":{"mi":"M","mn":["2","2"]}}}},"mo":"\/","mn":"2"},{"msubsup":{"mi":"M","mn":["3","3"]},"mo":"\/","mn":"27"}]}}}}},{"mrow":{"mo":["(",")"],"mn":"34"}}]}]}}}},"Independent of the sign of z, the value of q is given by:",{"@attributes":{"id":"p-0073","num":"0072"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"q","mo":"=","mfrac":{"msub":{"mi":"M","mn":"3"},"mi":"p"}}},{"mrow":{"mo":["(",")"],"mn":"35"}}]}}}}},"In terms of p and q, the four parameters of the solution are given by:",{"@attributes":{"id":"p-0075","num":"0074"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"a","mo":"=","mrow":{"mfrac":[{"mn":["1","2"]},{"mrow":{"mi":"q","mo":"\/","mn":"2"},"msqrt":{"mrow":{"msup":{"mi":"q","mn":"2"},"mo":"-","mrow":{"mn":"4","mo":"\u2062","mi":"p"}}}}],"mo":"-"}}},{"mrow":{"mo":["(",")"],"mn":"36"}}]},{"mtd":[{"mrow":{"msub":{"mi":"\u03bc","mn":"1"},"mo":"=","mrow":{"msub":{"mi":"M","mn":"1"},"mo":["-","-"],"mfrac":[{"mi":"q","mn":"2"},{"msqrt":{"mrow":{"msup":{"mi":"q","mn":"2"},"mo":"-","mrow":{"mn":"4","mo":"\u2062","mi":"p"}}},"mn":"2"}]}}},{"mrow":{"mo":["(",")"],"mn":"37"}}]},{"mtd":[{"mrow":{"msub":{"mi":"\u03bc","mn":"2"},"mo":"=","mrow":{"msub":{"mi":"M","mn":"1"},"mo":["-","+"],"mfrac":[{"mi":"q","mn":"2"},{"msqrt":{"mrow":{"msup":{"mi":"q","mn":"2"},"mo":"-","mrow":{"mn":"4","mo":"\u2062","mi":"p"}}},"mn":"2"}]}}},{"mrow":{"mo":["(",")"],"mn":"38"}}]}]}}},"br":{},"in-line-formulae":[{},{}],"sup":"2","i":["=M","+p"],"sub":"2"},"This second approximation technique solution presented in Equations 36-39 gives very similar answers to the first approximation technique shown in Equations 24-26 above. The results of the second approximation technique solution equations, Eqs. 36-39, applied to the same unimodal and bimodal histograms shown in , are shown in .  illustrates a unimodal histogram  having a single peak .  illustrates a bimodal histogram  having a peak  representing foreground, for example text data, and a peak  representing background data.","The second approximation technique solution has two advantages over the simpler first approximation technique solution or calculation. The first advantage is that an estimate of the width, , ,  of the peaks , ,  is given. This allows the unimodal case to be distinguished from the bimodal case. If the two means, \u03bc, \u03bc, are within 6\u03c3 of each other, then it is reasonable to assume that there is only one peak. The second advantage is that the second approximation technique solution tends to give more accurate estimates of the text peak, \u03bc, when the text peak is very weak.","The first and second approximation technique solutions of this invention also work very well when there are very few pixels to be averaged. ,  and  illustrate several exemplary histograms , ,  of regions containing only 100 pixels. As shown in , histograms , ,  are very broken up. However, by employing the second approximation technique solution of this invention, the process is still able to determine the locations of the two peaks , , , ,  and .","It will be appreciated by those skilled in the art that the calculations using the first and second approximation technique solutions of this invention do not create a histogram but provide estimations from at least three measured central moments.","In various exemplary embodiments, the method using the first or second approximation technique solutions according to this invention may be computed quickly and does not require storing any histograms. This makes the method very suitable for adaptive processes that adjust the processing step based on the context of the neighboring pixels, such as changing background level or changing contrast of the foreground level, for example the text level.","Furthermore, the method using the first or second approximation technique solutions according to this invention does not require calculating a histogram at every pixel location. What is required at every pixel is that at least three spatially-varying moment averages be calculated. There is a fast method to calculate a spatially-varying average, or blur, for a rectangular sliding window. This iterative averaging method addresses only four neighbors, at any one location, and therefore is very fast. In comparison, the brute-force moving window averaging method is proportional to the number of elements in the window, which can be several orders of magnitude longer.","The calculation of the at least three moment averages is just like the linear blur window. Each moment is a simple moving-window average of the gray level of the pixel raised to a power. This latter operation can be done with a simple lookup table. A buffer is needed to store the previous scanlines that reach as far back as the height of the window. No buffer space is needed for any histograms. Since a histogram is 256 times larger than a single average value, this is a significant savings in buffer space.",{"@attributes":{"id":"p-0083","num":"0082"},"figref":"FIG. 13"},"As shown in , operation begins at step S and continues to step S, where the image data to be analyzed is provided or inputted into a memory. The image data may include one or more of a scanned image formed by a plurality of pixels, a graphics image formed by a plurality of pixels or alike. The scanned image data may include text data and\/or graphics data. Operation may then continue to optional step S or to step S.","In optional step S, the size of the calculation window to be used to analyze image data inputted in step S may be selected. The selection of the size of the calculation window is based on the nature of the processing algorithm being implemented and the nature of the image features in the image data. For example, if the purpose of the calculation of the distribution mean levels is to detect vertical streaks in the image data, then a window size that is very narrow and very tall might be applicable. If a calculation window size selection is not desired or requested, step S is bypassed, a default window size is chosen, and operation continues from step S directly to step S.","In step S, the calculation window is placed over the image data at an initial position as a current location. This calculation window includes a first plurality of pixels that are selected from the plurality of pixels of the image data. The location of the initial window position will depend on the format in which the pixels are stored. Typically, the upper left corner of the image data is stored at the beginning of the image data and this would be where the window is initially placed. The shape of the window would depend on the nature of the processing that uses the statistical calculations. The easiest window shape to use is rectangular.","Next, in step S, at least the first, second and third statistical moments are determined for the window in its current position, by including any pixels of the first plurality of pixels of the image data for the current location of the window within the window that have not yet been included in the calculation of the at least first three moments for this window position.","Then, in step S, image statistic data is determined based on the at least first three moments determined in step S using Equations 24-26 and 36-39 described above. In various exemplary embodiments, at least one of an average background value, an average foreground value, or alike is determined based on the determined at least first three moments. In various exemplary embodiments, the average foreground value may include one or more of an average text value, an average graphics value or a combination thereof. In one exemplary embodiment, determining the image statistics data of foreground level, background level and relative peak strength from the first, second and third statistical moments for the first plurality of pixels of the image data in the current window is performed using the first approximation technique Equations 24-26. In another exemplary embodiment, determining the image statistic data of the foreground level, background level, relative peak strength and the average peak width from the first, second, third and fourth statistical moments for the first plurality of pixels of the image data in the current window is performed using the second approximation technique Equations 36-39.","Operation then continues to step S, where the image statistic data determined for the current calculation window can be stored, if it is to be used at a later time. The image statistic data can also be used in step S, with or without storing the image statistic data, to modify a portion of the first plurality of pixels of image data within the current window. If the image is modified, then these modifications are stored separately from the image data being analyzed.","In step S, a determination is made whether the end of the image data has been reached. If so, the operation continues to step S where an output solution is provided based on the determined image statistic data for the image data. This output could contain the image statistic data, which is stored for later use in modifying the input image data. The output could be a modified version of the input image data, where the modifications were made using the image statistic data as it was calculated. The output could also be a further refinement of the image statistic data to provide additional analysis of the input image data. Operation then continues to step S where the operation of the method stops.","If a determination is made in step S that the end of the image data has not been reached, the operation continues to step S where the calculation window is moved to a next location relative to the image data to be analyzed. Operation then returns to step S where the operation of the method is repeated.","The at least first three statistical moments are determined in step S. Equation 20 defines how to calculate the nstatistical moment. In that equation, the summation is performed over the first plurality of pixels of the image data contained within the window in its current position. Each pixel value is raised to the power of \u201cn\u201d, summed together and the sum divided by the number of pixels within the window.","The at least first three central moments are calculated using equation 14. By expanding the parenthetic expression that is raised to the npower in equation 14, the central moments can be written in terms of the at least first three statistical moments defined by equation 20. It is these at least three central moments that are used in Equations 24-26 and 36-39 to determine the image statistic data in step S.","In step S, the at least first three statistical moments are calculated using Equation 20. For each new position of the current window, the summation of the first plurality of pixels of image data can be calculated over the window directly. To those skilled in the art, a method is known to reduce calculations of repeated summations in a sliding window that moves over the image data by shifting positions one pixel location at a time. The method involves saving intermediate sums and adding and subtracting pixel values at the edges of the window. This method can be easily applied to the determination of the at least first three statistical moments in step S.",{"@attributes":{"id":"p-0095","num":"0094"},"figref":["FIG. 14","FIG. 13"],"b":["100","100","100"]},"As shown in , the exemplary distribution mean level determining system , for example the background level adaptive calculation system , comprises one or more image data sources  usable to process the image data to be analyzed, and one or more image statistic data storage devices  usable to store image statistic data processed. The one or more image data sources  and the one or more mage statistic data storage devices  are connected to the distribution mean level determining system  through an input\/output interface  via one or more communication links  and , respectively.","The one or more communication links  and  can be any known or later developed device or system for connecting the image data sources  and the image statistic data storage devices  to the distribution mean level determining system  and\/or to a network (not shown), including a connection over public switched telephone network, a direct cable connection, a connection over a wide area network, a local area network and\/or a storage area network, a connection over an intranet and\/or an extranet, a connection over the Internet, or a connection over any other distributed processing network or system. In general, the links  and  can be different from each other and each link  and  can be any known or later developed connection system or structure usable to connect the image data sources  and the image statistic data storage devices  to the distribution mean level determining system  and\/or to a network.","In various exemplary embodiments, the distribution mean level determining system  includes one or more of a controller , a memory , a moment value generating circuit, routine or application , a mean level value determining circuit, routine or application , a standard deviation values determining circuit, routine or application , and a weight value determining circuit, routine or application , which are interconnected over one or more data and\/or control buses and\/or application programming interfaces .","In various exemplary embodiments, the memory  includes one or more of a image data portion model , a moment data portion model , and an image statistic data portion model .","The controller  controls the operation of the other components of the distribution mean level determining system . The controller  also controls the flow of data between components of the distribution mean level determining system  as needed. The memory  can store information coming into or going out of the distribution mean level determining system , may store any necessary programs and\/or data implementing the functions of the distribution mean level determining system , and\/or may store data and\/or user-specific processing information at various stages of processing.","In use, an image data, such as, for example, a text image or a graphics image, formed by a plurality of pixels may be input into the distribution mean level determining system , for example the background level adaptive calculation system  via the image data sources device  and stored in the memory . Using the one or more of memory models ,  and\/or , and the moment value generating circuit, routine or applications , the image data, such as for example the text or graphics image data and the background data is processed to generate the at least first three moments of the processed image data.","The generated at least first three moments of the processed image data are then used by the mean level value determining circuit, routine or application , the standard deviation values determining circuit, routine or application , and the weight value determining circuit, routine or application , to determine mean level values, standard deviation values, and weight values, respectively, of the image data processed.","The systems and methods for determining distribution mean levels according to this invention may be implemented on a programmed general purpose computer. However, the systems and methods according to this invention can also be implemented on a special purpose computer, a programmed microprocessor or micro-controller and peripheral integrated circuit elements, an ASIC or other integrated circuit, a digital signal processor, a hardwired electronic or logic circuit such as a discrete element circuit, a programmable logic device such as a PLD, PLA, FPGA or PAL, or the like. In general, any device, capable of implementing a finite state machine that is in turn capable of implementing the flowchart shown in  can be used to implement the systems and methods according to this invention.","The various blocks shown in  can be implemented as portions of a suitably programmed general-purpose computer. Alternatively, the various blocks can be implemented as physically distinct hardware circuits within an ASIC, or using a FPGA, a PDL, a PLA or a PAL, or using discrete logic elements or discrete circuit elements. The particular form each of the blocks will take is a design choice and will be obvious and predicable to those skilled in the art.","The memory  can be implemented using any appropriate combination of alterable, volatile or non-volatile memory or non-alterable, or fixed, memory. The alterable memory, whether volatile or non-volatile, can be implemented using any one or more of static or dynamic RAM, a floppy disk and disk drive, a write-able or rewrite-able optical disk and disk drive, a hard drive, flash memory or the like. Similarly, the non-alterable or fixed memory can be implemented using any one or more of ROM, PROM, EPROM, EEPROM, an optical ROM disk, such as a CD-ROM or DVD-ROM disk, and disk drive or the like.","Although the invention has been described in detail, it will be apparent to those skilled in the art that various modifications may be made without departing from the scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Various exemplary embodiments of the systems and methods of this invention will be described in detail below, with reference to the following figures, in which:",{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 8","FIG. 6"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 9","FIG. 7"]},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
