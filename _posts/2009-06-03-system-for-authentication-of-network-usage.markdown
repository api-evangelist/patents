---
title: System for authentication of network usage
abstract: Apparatus for collecting subscription data for subscribers in a telecommunications system for use in metering usage of network resources includes a data storage device operatively arranged to store subscriber records, and a data processor. The subscriber records include a plurality of fields including a group field for storing data indicative of group membership of a subscriber. The data processor is operatively arranged to request access to a remotely accessible information source on the basis of identification data. Responsive to receipt of a response from the remotely accessible information source, the data processor performs a first storage action in respect of a response of a first type and performs a second storage action in respect of a response of a second type. Responsive to receipt of group membership data from the subscriber, the data processor is operatively arranged to identify a remotely accessible information source corresponding to the group and to request access thereto on the basis of identification data associated with the received group membership data. Also, responsive to a response of the first type received from the remotely accessible information source, the data processor is operatively arranged to update the group field in the subscriber record so as to indicate authenticated membership of the group identified in the received group membership data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08190123&OS=08190123&RS=08190123
owner: Apple Inc.
number: 08190123
owner_city: Cupertino
owner_country: US
publication_date: 20090603
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","FIELD OF THE INVENTION","BACKGROUND INFORMATION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This is a continuation of U.S. patent application Ser. No. 11\/888,852 filed Aug. 2, 2007 now U.S. Pat. No. 7,574,201, which claims priority under 35 USC 119 of U.K. Application No. GB 0623571.7 filed Nov. 27, 2006, the entire disclosure of each of which are incorporated herein by reference.","The present invention relates to a method of, and system for, authenticating group membership in relation to a subscriber of a communications network, and to a method of, and system for, allocating network usage on the basis of group membership. The present invention is particularly, but not exclusively, suited to arrangements in which the provision of network services is sponsored by a party other than the group or parties involved in a given network event.","As is well known, communications networks provide a means for users to communicate with one or more other users. Users of a communication system are typically provided with numerous services, such as calls, data communication such as messaging and\/or multimedia services, or simply provide users with a gateway to another network, such as the Internet. In relation to any one service, various communication systems, such as public switched telephone networks (PSTN), wireless communication systems, e.g. global system for mobile communications (GSM), general packet radio service (GPRS), universal mobile telecommunications system (UMTS), wireless local area network (WLAN) and so on, and\/or other communication networks, such as an Internet Protocol (IP) network, may simultaneously be concerned in providing a connection. In addition communications systems can include broadcast networks such as Digital Video Broadcasting for Handheld (DVB-H), Digital Audio Broadcasting (DAB), and Digitam Multimedia Broadcast (DMB). An end-user may access a communication network by means of any appropriate communication device, such as user equipment (UE), a mobile station (MS), a cellular phone, a personal digital assistant (PDA), a personal computer (PC), or any other equipment operable according to a suitable network protocol, such as a Session Initiation Protocol (SIP) or a wireless applications protocol (WAP) or a hypertext transfer protocol (HTTP). The user equipment may support, in addition to call and network access functions, other services, such as short message service (SMS), multimedia message service (MMS), electronic mail (email), Web service interface (WSI) messaging and voice mail and one-way messages such as WAP PUSH messages.","Communications sessions involving more than two users are commonly referred to as virtual, online or group communications, and can be facilitated by services including the \u201cpush-to-talk over cellular\u201d (PoC) service also known as the PTT (push-to-talk service), the instant messaging (IM) service, IRC (\u201cInternet Relay Chat\u201d), and the ICQ (\u201cI Seek You\u201d) service. In the case of the IM service, users are allowed to send messages to one or more in a list of predetermined users (a so-called \u201cprivate list\u201d) in a conversational mode, and because they are transmitted \u201cinstantly\u201d, the transfer of messages back and forth is fast enough for participants to maintain an interactive conversation. The IRC service is a system for chatting that involves a set of rules and conventions and is implemented via client\/server software. An IRC client can be downloaded to a user's computer, and the client is then used to connect to an IRC server in an IRC network to start or join an IRC chat group. The fourth group messaging application, ICQ (\u201cI Seek You\u201d), is a client application that provides information as to which \u201cfriends\u201d and \u201ccontacts\u201d are also online on the Internet, pages them, and operates so as to coordinate a \u201cchat\u201d session with them. The IM system is similarly arranged to generate alerts whenever a member of a given private list is online.","These virtual communities are becoming increasingly important vehicles of communication and dissemination of new ideas in the online world; such communities are used not only to develop and discuss ideas voluntarily within specific interest groups but they also are of increasing value for a advertisers: in essence they are word-of-mouth marketing and endorsement networks from one member to another member, and are increasingly perceived as the strongest method of marketing. Most online applications also utilize, consciously or unconsciously, the viral effects generated within these social networks and between the networks in their marketing.","In addition to virtual communities, real communities such as educational clubs, book clubs, music clubs, sports clubs, professional communities etc. provide a forum for discussion and interaction. Many such real communities have web pages to share information within their community, and access to these data is often controlled by means of membership criteria (user ID and password) for privacy reasons. Thus virtual and real communities are interrelated in so far as both require some sort of web authentication method in order to authenticate members.","Advertisers can be attracted by the ready-made and apparently auto-profiled set of recipients offered by groups, so as to share, at least in part, the costs associated with communications between the group members; however the advertisers require a degree of comfort that their targeted messages (i.e. messages containing information that matches the characteristics of the group) are reaching persons who are indeed members of a given group\u2014essentially to ensure that the recipients match the characteristics of the targeted messages.","In embodiments of the invention, membership of a given subscriber in relation to a particular group is verified subsequent to the subscriber providing details of a given group of which they purport to be a member, and the subscriber record is updated to reflect the verification, or otherwise, of the asserted membership.","In preferred arrangements the remotely accessible information source is associated with the group, meaning that usage of communications-based group services is dependent on verification, by a party corresponding to the group, of the subscriber's credentials. In one arrangement, the party might be a web server hosting group-related information that is only accessible on the basis of a bonefide password and login. Standard web login and password procedures are therefore conveniently used as a verification process in embodiments of the invention rather than (as is usual) as a process for accessing information associated with the group.","In such an arrangement the data processor can be arranged to look for cookies (a packet of data for use in sending to the web server), a web page of a predetermined format, or similar, within the response received from the web server and update the subscriber record accordingly.","Embodiments of another aspect of the invention provide message modification on the basis of group membership, and essentially provide a means of selecting tags to add to a message on the basis of identified group membership. Conveniently the apparatus can comprise a storage system arranged to store a plurality of tags and index data corresponding thereto, each index data item comprising data indicative of a group membership configuration corresponding to the sending party of a message and the recipient of a message. For example: a first tag might be associated with a configuration in which the sending party and recipient are members of the same group; a second tag might be associated with a configuration in which the sending party is a member of a group but the recipient is not a member of any group; a third tag might be associated with a configuration in which the recipient is a member of a group but the sending party is not a member of any group; and a fourth tag might be associated with a configuration in which the recipient is a member of a group and the sending party is a member of a different group. In at least some arrangements the data processor can be arranged to send a message containing the selected tag to the sending party.","Most preferably the tag includes a field in which the name of an entity, such as a sponsor of a group, is inserted once the or each group membership corresponding to the sending party\/recipient has been identified. In the case of the sending party and recipient each being members of different groups, messages can be modified on the basis of a set of precedence rules which specify which of the groups should form the basis for the tag selection and message modification.","In preferred arrangements the communications network includes data storage means arranged to hold group records, each group record being indicative of network usage relating to members of the group. The data processing means can be arranged to determine whether said message falls within predetermined message transmission criteria, and to modify a group record corresponding to the group when said criteria are met. The group record can hold data indicative of an allocation of usage associated with the group, in which case the data processor is arranged to reduce allocation associated with the group. Alternatively the data processor is arranged to store data indicative of a charge for transmission of the message in the group record.","Further features and advantages of the invention will become apparent from the following description of preferred embodiments of the invention, given by way of example only, which is made with reference to the accompanying drawings.","Embodiments of the invention are concerned with modification of data messages based on group, or community, membership of the sender and receiver of the data message. The nature of this modification, and the criteria relating thereto, is described in detail later, but first a description of the infrastructure needed to support the modification will be presented.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIGS. 1 and 2","FIG. 2"],"b":["1","1","1","1"]},"In the arrangement shown in , a terminal  communicates with various network devices within the data messaging system  via network . The terminal  may be a wireless terminal such as a mobile phone or a PDA. The data messaging system  comprises a WAP gateway , which is typically a network operator's WAP gateway and a registration services server S, with which the terminal  communicates. In addition the data messaging system  comprises a message modification server S, a store-and-forward message server SMSC  configured to store and forward messages in accordance with conventional methods, and a database DB, arranged to store data in respect of subscribers, terminals such as , and content data. The database DB can either be provided by two separate databases , , as shown in , or by a single database, as shown in .","In embodiments of the invention it is assumed that the user of the terminal  is a subscriber of the network, and that network usage is allocated, at least in part, in dependence on subscribers accepting delivery of a predetermined number and\/or type of promotional messages; subscription is contingent on the subscriber entering data indicative of their demographic data and interests, this subsequently being used, e.g. by the message modification server S to tailor selection of the promotional messages.","The registration server S can be accessed by a user of the terminal  or via a terminal T typically connected to the Internet  (the terminal T can be e.g. a laptop computer or a personal computer fixedly attached to a network) by actuating a URL corresponding to the server S when entering such details; referring to , in addition to standard CPU, memory, data bus, Input\/Output ports, data storage, and operating system programs, the server S comprises registration software , which receives identification, group membership, demographic and preference data from the subscriber; and authentication software , which, as will be described in detail later, authenticates the received group membership data. Once these data have been received and, where appropriate, authenticated, a subscriber record is completed and\/or updated for the subscriber and stored in the database DB, for subsequent access by the SMSC  and the message modification server S (among other network components). The database DB thus holds subscriber data for each subscriber, the data identifying: the billing account to which the subscriber belongs; interests and preference data relating to the subscriber; and if the subscriber has been authenticated as belonging to a group, data identifying the group to which the subscriber belongs. In preferred embodiments of the invention the group records are initially empty, and are populated once membership of a given group has been confirmed so as to include data indicative of the type of subscription held for the group. The database DB is configured so that any details relating to a billing account held in the database may be retrieved by selecting the appropriate billing account, any details relating to a group held on the database may be retrieved by selecting the appropriate group, and any details relating to a particular subscriber held in the database may be retrieved by selecting the appropriate subscriber.","Broadly speaking, embodiments of the invention comprise two processes, each of which can operate independently of the other, but for illustrative purposes will herein be described together. The first process is a registration process, effected by the authentication software component , and which operates so as to verify group membership details entered by subscribers when providing their demographic details. The second process is a message modification process, executed by the message modification server S, wherein messages are modified based on sender and recipient identities and their respective membership or otherwise in a given group. In a preferred arrangement the two processes are linked by the involvement of a so-called sponsor, which pays for the transmission of messages between parties contingent on their respective\u2014and authenticated\u2014group membership. Successful authentication according to the first (registration) process, which is itself designed to verify group membership, therefore confirms to the sponsor that discounts (by way of free or discounted messaging) are being applied correctly.","Each of these processes and the functional parts required to implement the processes will now be described, starting with the authentication process, for the case where the subscriber completes the registration process using terminal T. Referring back to , at step  the user enters the URL corresponding to the registration server S, which causes the registration software  to send a Web page from the server S, via an Internet gateway , where it is modified, using conventional techniques, into a format suitable for display on the user's terminal T, and sent to the terminal T. The user then enters various registration details into the web page and the terminal T sends the details to the registration services server S, via the WAP gateway . As part of the registration process, the user enters personal information details, such as name, address, terminal details (including capabilities), sex, occupation, interests, etc. group memberships, and these details are stored, at step , in the database DB. The group membership data in respect of each group are stored in association with a respective group flag indicating authentication status thereof: the registration software  passes initially entered such group data to the authentication software  component, and in the first instance sets the status of each group flag to \u201cunknown\u201d. The authentication software component  is then triggered to perform a group membership authentication process, this involving an exchange of data with the terminal T and the output of which results in a change to the status of the group flag (either \u201cauthenticated\u201d or \u201cbogus\u201d or \u201cundetermined\u201d).","In one embodiment the authentication process involves the authentication software component  capturing respective user login details corresponding to a web-based service for the (or each) group, using these captured details to simulate a login process, and using the results thereof as the basis for updating the group flag status. Referring also to , in one arrangement the authentication component  sends a pop-up, a frame or a bespoke login sheet to the terminal T (step S.), inviting the subscriber to enter his user ID and password; assuming these details to be duly entered, the authentication component  receives the entered data (step S.) and replicates the normal login process with a web server S corresponding to the group identified by the subscriber (step S.). As per a conventional login procedure, the group web server S returns data indicative either of a successful login process\u2014in the form of a cookie, predetermined application programming interface data or a predetermined web page containing a predetermined layout or confirmation message\u2014or of an unsuccessful login process (step S.). Examples of successful and unsuccessful login procedures are shown in the scripts below:",{"@attributes":{"id":"p-0029","num":"0028"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Successful"},{"entry":"=========="},{"entry":"Request"},{"entry":"------"},{"entry":"POST \/config\/login? HTTP\/1.1"},{"entry":"Host: login.yahoo.com"},{"entry":"User-Agent: Mozilla\/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US;"},{"entry":"rv:1.7.3) Gecko\/20040910"},{"entry":"Accept: text\/xml,application\/xml,application\/xhtml+xml,text\/"},{"entry":"html;q=0.9,text\/plain;q=0.8,image\/png,*\/*;q=0.5"},{"entry":"Accept-Language: en-us,en;q=0.5"},{"entry":"Accept-Encoding: gzip,deflate"},{"entry":"Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7"},{"entry":"Keep-Alive: 300"},{"entry":"Connection: keep-alive"},{"entry":"Referer: https:\/\/login.yahoo.com\/config\/login?"},{"entry":"Cookie: B=33f4nh50i49&b=3&s=2a"},{"entry":"Content-Type: application\/x-www-form-urlencoded"},{"entry":"Content-Length: 279"},{"entry":".tries=3&.src=my&.md5=&.hash=&.js=&.last=&promo=&.intl=us&.bypass=&.pa"},{"entry":"rtner=&.u=25ub0qluk6q&.v=0&.challenge=rIt9CsSjzavp3MwrRduDZy&.yplus="},{"entry":"&.emailCode=&pkg=&stepid=&.ev=&hasMsgr=0&.chkP=Y&.done=http%3A%2F%"},{"entry":"2Fmy.yahoo.com&.pd=my_ver%23d0&login=XXXXXX&passwd=XXXXXXX"},{"entry":"Answer"},{"entry":"-------"},{"entry":"HTTP\/1.x 200 OK"},{"entry":"Date: Fri, 13 Oct 2006 08:43:19 GMT"},{"entry":"P3P: policyref=\u201chttp:\/\/p3p.yahoo.com\/w3c\/p3p.xml\u201d, CP=\u201cCAO DSP COR"},{"entry":"CUR ADM DEV TAI PSA PS IVDi CONi TELo OTP DELi SAMi OTRi UNRi PUBi"},{"entry":"IND PHY ONL UNI FIN COM NAV INT DEM CNT STA POL HEA PRE GOV\u201d"},{"entry":"Cache-Control: private"},{"entry":"Pragma: no-cache"},{"entry":"Expires: Thu, 05 Jan 1995 22:00:00 GMT"},{"entry":"Connection: close"},{"entry":"Transfer-Encoding: chunked"},{"entry":"Content-Type: text\/html"},{"entry":"Set-Cookie:"},{"entry":"F=a=SrNlnuQsvfC8VdCWs4SKlvdGqB17owTNi8TC4cs2qNo_EhUT.JexzZ&b=afek;"},{"entry":"expires=Thu, 15 Apr 2010 20:00:00 GMT; path=\/; domain=.yahoo.com"},{"entry":"Set-Cookie: Y=v=1&n=51on1c961sa&l=90dd4.0jed4d\/"},{"entry":"o&p=m25kd4012000000&jb=34|26|&r=ge&lg=us&intl=us&np=1; path=\/;"},{"entry":"domain=.yahoo.com"},{"entry":"Set-Cookie: PH=fn=xBi7MUz4jIYIJyBmw-; path=\/; domain=.yahoo.com"},{"entry":"Set-Cookie: T=z=nG1LFBnMFBGgWHDicYK5A2BjUyNTE1TzU3NTc-"},{"entry":"&a=YAE&sk=DAAbx4xUSO.Lm&d=c2wBTlRjeESTFN0RJd01qQS0BYQFZQUUBb2sBWlcw"},{"entry":"LQF0aXABVEZKMHlCAXp6AW5UxGQmdXQQ--; path=\/; domain=.yahoo.com"},{"entry":"Failed login:"},{"entry":"============="},{"entry":"Request:"},{"entry":"------"},{"entry":"POST \/config\/login? HTTP\/1.1"},{"entry":"Host: login.yahoo.com"},{"entry":"User-Agent: Mozilla\/5.0 (Macintosh; U; PPC Mac OS X Mach-O; en-US;"},{"entry":"rv:1.7.3) Gecko\/20040910"},{"entry":"Accept: text\/xml,application\/xml,application\/xhtml+xml,text\/"},{"entry":"html;q=0.9,text\/plain;q=0.8,image\/png,*\/*;q=0.5"},{"entry":"Accept-Language: en-us,en;q=0.5"},{"entry":"Accept-Encoding: gzip,deflate"},{"entry":"Accept-Charset: ISO-8859-1,utf-8;q=0.7,*;q=0.7"},{"entry":"Keep-Alive: 300"},{"entry":"Connection: keep-alive"},{"entry":"Referer: https:\/\/login.yahoo.com\/config\/"},{"entry":"login_verify2?.page=p1&.partner=&.intl=us&.src=my&.done=http:\/\/"},{"entry":"my.yahoo.com"},{"entry":"Cookie: B=33f4nh52h0i49&b=3&s=2a"},{"entry":"Pragma: no-cache"},{"entry":"Cache-Control: no-cache"},{"entry":"Content-Type: application\/x-www-form-urlencoded"},{"entry":"Content-Length: 264"},{"entry":".tries=l&.src=my&.md5=&.hash=&.js=&.last=&promo=&.intl=us&.bypass=&.pa"},{"entry":"rtner=&.u=25ub0q12iuk6q&.v=0&.challenge=MklbieR_zKyeimTiryyrId_3Po&.yp"},{"entry":"lus=&.emailCode=&pkg=&stepid=&.ev=&hasMsgr=0&.chkP=Y&.done=http%3A%"},{"entry":"2F%2Fmy.yahoo.com&.pd=my_ver%253d0&login=foo&passwd=foo"},{"entry":"Answer"},{"entry":"-------"},{"entry":"HTTP\/1.x 200 OK"},{"entry":"Date: Fri, 13 Oct 2006 08:40:37 GMT"},{"entry":"P3P: policyref=\u201chttp:\/\/p3p.yahoo.com\/w3c\/p3p.xml\u201d, CP=\u201cCAO DSP COR"},{"entry":"CUR ADM DEV PSD IVAi IVDi CONi TELo OTPi OUR DELi SAMi OTRi UNRi"},{"entry":"PUBi IND PHY ONL UNI PUR FIN COM NAV INT DEM CNT STA POL HEA PRE GOV\u201d"},{"entry":"Connection: close"},{"entry":"Transfer-Encoding: chunked"},{"entry":"Content-Type: text\/html"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"On the basis of the response from the server S, the authentication component  updates the group flag status (step S.); this group flag status is then subsequently used by the data message modification service according to the second aspect of the invention.","Turning now to aspects of the message modification process, in one arrangement the message modification server S is arranged to selectively modify messages based on respective group membership of the sender and recipient; for example, assuming a group to be tagged as sponsored by a particular third party, messages transmitted between group members are modified to include a first type of information, whereas messages transmitted from a group member to a non-group member are modified to include a second type of information. The content of the first and second types of information can be controlled by the sponsor and are related in some way: for example, the first type of information could be a message stating \u201cthis message has been sponsored by XYZ\u201d, whereas the second type of information could be a message stating \u201cthis message could have been delivered free to you by XYZ if you were a member of group G\u201d.","Referring to , the message modification server S comprises standard processing components together with various bespoke message modifying components; these message modifying components include selecting software  and a repository of rules R, each rule specifying a set of group membership conditions and data to select for use in modifying a given message in dependence on the conditions being satisfied (whilst shown as being stored local to the server S, the rules could be stored in the database DB and accessed therefrom by the selecting software ). The server S also includes message modifying software  for modifying the incoming message so as to include the selected data, thereafter forwarding the modified messages to the SMSC  in accordance with standard methods.","The rules are preferably specified by the group, or by the sponsor of the group, and in one arrangement specify particular tags to apply to a message in the event that the conditions are satisfied. Examples of the conditions include:",{"@attributes":{"id":"p-0034","num":"0033"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Rule","Condition(s)"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["R1","Sender & Recipient both members of same group"]},{"entry":["R2","Sender & Recipient both members of a group, but the groups "]},{"entry":[{},"are different"]},{"entry":["R3","Sender is a member of a group (& recipient is not)"]},{"entry":["R4","Recipient is a member of a group (& sender is not)"]},{"entry":["R5","Neither Recipient nor Sender is member of a group"]},{"entry":["R6","If Sender &\/or Recipient are members of more than one "]},{"entry":[{},"group, apply inter-Group precedence rules (previously agreed "]},{"entry":[{},"between groups and managed by the data messaging server S2) to "]},{"entry":[{},"decide which of rules R particular to each of the groups should "]},{"entry":[{},"be applied."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The actions associated with these rules are specified in the form of a billing action and a message modification action. Preferably the message modification actions in respect of at least two of the rules are related: in one embodiment the action (message modification) is identical, but the content of the tags applied to modify the message are different, but related; and in another embodiment the actual actions taken in respect of different rules are different, but related. The actions are stored in the database DB, in association with a given rule and thus a given group.","For example, the message modification actions applicable in respect of Rules R . . . R for group G could be as follows:",{"@attributes":{"id":"p-0037","num":"0036"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Actions for Group G1"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"77pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"Message Modification"]},{"entry":["Rule","Action(s)","Tag"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["R1","Billing Action:","A1"]},{"entry":[{},"Do not debit accounts of sender or","This message was"]},{"entry":[{},"recipient","sponsored by \u201cSponsor\u201d"]},{"entry":[{},"Message modification actions:","for the community G1"]},{"entry":[{},"Concatenate Tag A1 with name of","members"]},{"entry":[{},"sponsor & add to message received"]},{"entry":[{},"from sender (to be sent to recipient"]},{"entry":[{},"only)"]},{"entry":[{},"Add\/Send sponsor-selected message"]},{"entry":[{},"for G1 (to be added to message to be"]},{"entry":[{},"sent to recipient; to be sent cold to"]},{"entry":[{},"sender) [optional]"]},{"entry":["R2,","Billing Action:","A2"]},{"entry":["R3","Debit account of recipient","If you joined group G1"]},{"entry":[{},"Message modification actions:","you could benefit from"]},{"entry":[{},"Concatenate Tag A2 with name of","free text messaging"]},{"entry":[{},"sponsor & add concatenated tag to","thanks to \u201cSponsor\u201d"]},{"entry":[{},"message received from sender and"]},{"entry":[{},"send to recipient"]},{"entry":[{},"Add\/Send sponsor-selected message"]},{"entry":[{},"for G1 (to be added to message to be"]},{"entry":[{},"sent to recipient; to be sent cold to"]},{"entry":[{},"sender)"]},{"entry":["R4","Billing Action:","A2 (As above)"]},{"entry":[{},"Debit account of sender"]},{"entry":[{},"Message modification actions:"]},{"entry":[{},"Concatenate Tag A2 with name of"]},{"entry":[{},"sponsor & send concatenated tag to"]},{"entry":[{},"sender"]},{"entry":[{},"Add\/Send sponsor-selected message"]},{"entry":[{},"for G1 (to be added to message to be"]},{"entry":[{},"sent to sender; to be added to message"]},{"entry":[{},"to be sent to recipient) [optional]"]},{"entry":["R5","Billing Action:","A2 (As above)"]},{"entry":[{},"Debit account of sender &\/recipient"]},{"entry":[{},"Message modification actions:"]},{"entry":[{},"Concatenate Tag A2 with name of"]},{"entry":[{},"sponsor, add concatenated tag to"]},{"entry":[{},"message received from sender and"]},{"entry":[{},"send to recipient; send concatenated"]},{"entry":[{},"tag as cold message for sender"]},{"entry":[{},"Add sponsor-selected message for G1"]},{"entry":[{},"(to be added to message to be sent to"]},{"entry":[{},"sender; to be added to message to be"]},{"entry":[{},"sent to recipient) [optional]"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Turning back to , upon receipt of an SMS from a sender (step S), the selecting software  identifies sender and\/or recipient information from an incoming message and selects, by accessing the database DB, the respective group membership(s), together with all associated message modification actions associated therewith (step ). On the basis of the group memberships, the selecting software  identifies and processes one or more applicable rules R . . . Rn (step ) in order to identify billing arrangements for the message and to determine how to modify the incoming message (step ). After the message has been modified, the modified message is transmitted to the SMSC  of the licensed operator (step ); thereafter billing instructions are transmitted to the database DB for storage therein in respect of the sender\/recipient\/sponsor (step ), consistent with the billing action identified at step .","The foregoing can conveniently be explained by way of a couple of examples, firstly for the case where a message M is sent from subscriber A to subscriber B, and both A and B are determined to be members of community G, and for which the sponsor of community G is Coke\u2122. In this example the selecting software component  selects rule R, particular to Group G, which has the following output actions:\n\n","This then causes the message M to be modified so as to include the branded tag and is sent onto the recipient; since both A and B are members of group G, neither of their accounts is debited for the message transmission and receipt.","In a second example, message M is sent from subscriber A to subscriber B; subscriber A is not a member of any community, but subscriber B is a member of group G. Assuming for illustrative purposes the sponsor of group G again to be Coke\u2122, the following output actions are generated at step :\n\n","In a third example, message M is sent from subscriber \u00c1to subscriber B; subscriber A is a member of Group G, but subscriber B is not a member of the same group G. Assuming for illustrative purposes the sponsor of group G again to be Coke\u2122, the following output actions are generated at step :\n\n","In the event that both the sender and recipient are members of different groups (e.g. sender is a member of group G and recipient is a member of group G), the inter-group precedence rules mentioned above in relation to rule R could include the following conditions:\n\n","Shared precedence specifications might include agreed sharing of messaging costs between sponsors of particular groups, so that, in the event that the sponsors of groups G and G have an inter-group agreement, the costs of transmitting messages are shared between sponsors. In this case, the tag A added to messages would alert each party to the existence of the group of which the other party is a member (e.g. if sender A is a member of G and recipient B is a member of G, the tag A added to the message sent to A would read \u201cIf you joined group G you could benefit from free text messaging thanks to \u201cSponsor\u201d and the tag added to the message sent to B would read \u201cIf you joined group G you could benefit from free text messaging thanks to \u201cSponsor\u201d).","Implementation Details & Alternatives","The registration software , category selection software , authentication software , selecting software  and modifying software  are preferably written in the Java programming language. The server S could, for example, be an Apache HTTP server, and the proxy message server SMSC_ could be a J2EE JMS Server (see http:\/\/openjms.sourceforge.net\/). The registration software , category selection software  and authentication software  could be Java\u2122 servlet containers configured to run within a Java platform such as Java 2 Platform Standard Edition v1.4.1 (for further information see resources available from Sun Microsystems\u2122 e.g. at http:\/\/java.sun.com\/j2se\/1.4.1\/and http:\/\/java.sun.com\/products\/servlet\/index.html). The skilled person will appreciate that the software could be written in any suitable language.","As an alternative to the registration software component  sending a web page to the terminal T, the terminal T could have, stored thereon, an application arranged to capture such demographic data (not shown in the Figures). In the case where the subscriber uses his mobile terminal  to communicate with the registration server S, such an application could be stored on a SIM card, which, as is known in the art, is used for the storage and retrieval of data items by the terminal T. The command set, data file structure and data coding format for data communicated via the interface between the terminal T and the SIM processor are all specified, in GSM technical specification 11.11. Alternatively the application could be transmitted to the terminal T (or mobile ) (e.g. via GPRS or Bluetooth) in response to a request received by the server S from the terminal T and would be of a format suitable for cooperating with the operating system in use on the terminal T.","Whilst authentication of a given group membership is described as being performed via login-simulation, it will be appreciated that such a method is only possible in relation to groups that are web-based; for other groups (e.g. retail establishments using loyalty cards and the like, where membership of a group can be defined on the basis of subscribers being in possession of a loyalty card and account, neither or which are managed by a user-accessible web service), membership of a given group could be established by sending of an authentication request message by the authentication software component  to a service associated with the retail establishment, or on the basis of previously determined authentication data that is retrievable from a third party.","In the above embodiments, message modification is performed by the message modification server S; however, message modification could instead be performed by a proxy store and forward node (not shown), which is logically distinct from the network operator's SMSC . In order to ensure that messages are sent to this proxy SMSC in the first instance (and not to the network operator's SMSC) the mobile terminal  would require configuring with details of this proxy e.g. via an Over-The-Air (OTA) SMS settings message. In response, the operating system programs on the terminal  automatically configure the default SMSC settings to the network address of the proxy message server. This therefore means that any SMS messages subsequently sent from the terminal  will be sent to the proxy message server in the first instance. For further information regarding use of OTA protocol for the delivery of data to a WAP client from a WAP server, the reader is referred to literature available from the WAP Forum Ltd., in particular \u201cWireless Application Protocol, PUSH OTA Protocol Specification\u201d, published 16 Aug. 1999, available from http:\/\/www.wapforum.org\/what\/technical\/PROP-PushOTA-19990816.pdf.","As a further alternative, the message modification process could be performed by the network operator's SMSC .","The above embodiments are to be understood as illustrative examples of the invention. It is to be understood that any feature described in relation to any one embodiment may be used alone, or in combination with other features described, and may also be used in combination with one or more features of any other of the embodiments, or any combination of any other of the embodiments. Furthermore, equivalents and modifications not described above may also be employed without departing from the scope of the invention, which is defined in the accompanying claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 3","FIGS. 1 and 2"],"i":"a "},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 3","FIG. 1"],"i":"b "},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 4","FIGS. 1 and 2"]}]},"DETDESC":[{},{}]}
