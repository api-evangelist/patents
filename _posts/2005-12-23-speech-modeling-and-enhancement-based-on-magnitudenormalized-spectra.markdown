---
title: Speech modeling and enhancement based on magnitude-normalized spectra
abstract: A frame of a speech signal is converted into the spectral domain to identify a plurality of frequency components and an energy value for the frame is determined. The plurality of frequency components is divided by the energy value for the frame to form energy-normalized frequency components. A model is then constructed from the energy-normalized frequency components and can be used for speech recognition and speech enhancement.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07930178&OS=07930178&RS=07930178
owner: Microsoft Corporation
number: 07930178
owner_city: Redmond
owner_country: US
publication_date: 20051223
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS"],"p":["Models that provide a prior probability of clean speech are often used in speech recognition and speech enhancement. These models indicate the probability of a clean speech feature vector without reference to an observed noisy feature vector. These prior models are typically trained by collecting speech signals in a noise-free environment from a small set of people.","Because only a small number of people are used to form the prior models of clean speech, differences between the speech of the people who train the model and the speech of the end users can be a source of error during recognition or enhancement. In particular, variations in the loudness of the speech signals due to variations in the speaker's voice or variations in the microphones that are used can cause errors in recognition and enhancement.","The discussion above is merely provided for general background information and is not intended to be used as an aid in determining the scope of the claimed subject matter.","A frame of a speech signal is converted into the spectral domain to identify a plurality of frequency components and an energy value for the frame is determined. The plurality of frequency components is divided by the energy value for the frame to form energy-normalized frequency components. A model is then constructed from the energy-normalized frequency components and can be used for speech recognition and speech enhancement.","This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used as an aid in determining the scope of the claimed subject matter. The claimed subject matter is not limited to implementations that solve any or all disadvantages noted in the background.",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1","b":["100","100","100","100"]},"Embodiments are operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well-known computing systems, environments, and\/or configurations that may be suitable for use with various embodiments include, but are not limited to, personal computers, server computers, hand-held or laptop devices, multiprocessor systems, microprocessor-based systems, set top boxes, programmable consumer electronics, network PCs, minicomputers, mainframe computers, telephony systems, distributed computing environments that include any of the above systems or devices, and the like.","Embodiments may be described in the general context of computer-executable instructions, such as program modules, being executed by a computer. Generally, program modules include routines, programs, objects, components, data structures, etc. that perform particular tasks or implement particular abstract data types. Some embodiments are designed to be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, program modules are located in both local and remote computer storage media including memory storage devices.","With reference to , an exemplary system for implementing some embodiments includes a general-purpose computing device in the form of a computer . Components of computer  may include, but are not limited to, a processing unit , a system memory , and a system bus  that couples various system components including the system memory to the processing unit . The system bus  may be any of several types of bus structures including a memory bus or memory controller, a peripheral bus, and a local bus using any of a variety of bus architectures. By way of example, and not limitation, such architectures include Industry Standard Architecture (ISA) bus, Micro Channel Architecture (MCA) bus, Enhanced ISA (EISA) bus, Video Electronics Standards Association (VESA) local bus, and Peripheral Component Interconnect (PCI) bus also known as Mezzanine bus.","Computer  typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer  and includes both volatile and nonvolatile media, removable and non-removable media. By way of example, and not limitation, computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. Computer storage media includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical disk storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can be accessed by computer . Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term \u201cmodulated data signal\u201d means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, RF, infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.","The system memory  includes computer storage media in the form of volatile and\/or nonvolatile memory such as read only memory (ROM)  and random access memory (RAM) . A basic input\/output system  (BIOS), containing the basic routines that help to transfer information between elements within computer , such as during start-up, is typically stored in ROM . RAM  typically contains data and\/or program modules that are immediately accessible to and\/or presently being operated on by processing unit . By way of example, and not limitation,  illustrates operating system , application programs , other program modules , and program data .","The computer  may also include other removable\/non-removable volatile\/nonvolatile computer storage media. By way of example only,  illustrates a hard disk drive  that reads from or writes to non-removable, nonvolatile magnetic media, a magnetic disk drive  that reads from or writes to a removable, nonvolatile magnetic disk , and an optical disk drive  that reads from or writes to a removable, nonvolatile optical disk  such as a CD ROM or other optical media. Other removable\/non-removable, volatile\/nonvolatile computer storage media that can be used in the exemplary operating environment include, but are not limited to, magnetic tape cassettes, flash memory cards, digital versatile disks, digital video tape, solid state RAM, solid state ROM, and the like. The hard disk drive  is typically connected to the system bus  through a non-removable memory interface such as interface , and magnetic disk drive  and optical disk drive  are typically connected to the system bus  by a removable memory interface, such as interface .","The drives and their associated computer storage media discussed above and illustrated in , provide storage of computer readable instructions, data structures, program modules and other data for the computer . In , for example, hard disk drive  is illustrated as storing operating system , application programs , other program modules , and program data . Note that these components can either be the same as or different from operating system , application programs , other program modules , and program data . Operating system , application programs , other program modules , and program data  are given different numbers here to illustrate that, at a minimum, they are different copies.","A user may enter commands and information into the computer  through input devices such as a keyboard , a microphone , and a pointing device , such as a mouse, trackball or touch pad. Other input devices (not shown) may include a joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit  through a user input interface  that is coupled to the system bus, but may be connected by other interface and bus structures, such as a parallel port, game port or a universal serial bus (USB). A monitor  or other type of display device is also connected to the system bus  via an interface, such as a video interface . In addition to the monitor, computers may also include other peripheral output devices such as speakers  and printer , which may be connected through an output peripheral interface .","The computer  is operated in a networked environment using logical connections to one or more remote computers, such as a remote computer . The remote computer  may be a personal computer, a hand-held device, a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) , but may also include other networks. Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.","When used in a LAN networking environment, the computer  is connected to the LAN  through a network interface or adapter . When used in a WAN networking environment, the computer  typically includes a modem  or other means for establishing communications over the WAN , such as the Internet. The modem , which may be internal or external, may be connected to the system bus  via the user input interface , or other appropriate mechanism. In a networked environment, program modules depicted relative to the computer , or portions thereof, may be stored in the remote memory storage device. By way of example, and not limitation,  illustrates remote application programs  as residing on remote computer . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 2","b":["200","200","202","204","206","208","210"]},"Memory  is implemented as non-volatile electronic memory such as random access memory (RAM) with a battery back-up module (not shown) such that information stored in memory  is not lost when the general power to mobile device  is shut down. A portion of memory  is preferably allocated as addressable memory for program execution, while another portion of memory  is preferably used for storage, such as to simulate storage on a disk drive.","Memory  includes an operating system , application programs  as well as an object store . During operation, operating system  is preferably executed by processor  from memory . Operating system , in one preferred embodiment, is a WINDOWS\u00ae CE brand operating system commercially available from Microsoft Corporation. Operating system  is preferably designed for mobile devices, and implements database features that can be utilized by applications  through a set of exposed application programming interfaces and methods. The objects in object store  are maintained by applications  and operating system , at least partially in response to calls to the exposed application programming interfaces and methods.","Communication interface  represents numerous devices and technologies that allow mobile device  to send and receive information. The devices include wired and wireless modems, satellite receivers and broadcast tuners to name a few. Mobile device  can also be directly connected to a computer to exchange data therewith. In such cases, communication interface  can be an infrared transceiver or a serial or parallel communication connection, all of which are capable of transmitting streaming information.","Input\/output components  include a variety of input devices such as a touch-sensitive screen, buttons, rollers, and a microphone as well as a variety of output devices including an audio generator, a vibrating device, and a display. The devices listed above are by way of example and need not all be present on mobile device . In addition, other input\/output devices may be attached to or found with mobile device .","To reduce errors due to changes in loudness and changes in the gains of recording devices while at the same time maintaining information about the phase of the speech signal, the claimed embodiments use energy-normalized complex spectra as features for a speech model. In particular, the spectral components of a frame of the speech signal are normalized with the energy of the frame as:",{"@attributes":{"id":"p-0032","num":"0031"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mover":{"mi":"X","mo":"~"},"mi":"t"},"mo":"=","mfrac":{"msub":{"mi":["X","t"]},"mrow":{"mo":["\uf605","\uf606"],"msub":{"mi":["X","t"]}}}},"mo":["\u2062","\u2062"],"mstyle":{"mtext":{}},"mi":"where"}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"1"}}]},{"mtd":[{"mrow":{"mrow":{"mo":["\uf605","\uf606"],"msub":{"mi":["X","t"]}},"mo":"=","msqrt":{"mrow":{"munderover":{"mo":"\u2211","mrow":[{"mi":"f","mo":"=","mn":"1"},{"mi":"N","mo":"\/","mn":"2"}]},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["X","tf"]}},"mn":"2"}}}}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"2"}}]}]}}},"br":{},"sub":["t ","tf","t "]},"Thus all {tilde over (X)}are unit vectors and distribute on a unit hypersphere. It can be easily seen that forming the energy-normalized complex spectra reduces the variance because instead of attempting to capture the variations in an N-dimensional space, a region on a unit hypershpere is modeled.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 3","FIG. 4"]},"In step  of , a speech signal from a speaker  is received by a microphone\/sensor , which converts the speech signal into an electrical analog signal. The analog signal is converted into a digital signal at step  by an analog-to-digital converter . In one embodiment, A-to-D converter  samples the analog signal at 16 kilohertz and 16 bits per sample, thereby creating 256 kilobits of speech data per second. The digital values are provided to a frame constructor , which constructs frames at step . Under one embodiment, a new frame is constructed for every 10 milliseconds of data and includes 20 milliseconds worth of data. Such frames can include square windowing or other types of known windowing.","At step , a Fast Fourier Transform  is performed on each frame of data. Under one embodiment, this Fast Fourier Transform involves converting N digital samples into N\/2+1 frequency components where each frequency component has a magnitude and a phase. At step , the DC frequency component and the Nyquist frequency component are removed from the Fast Fourier Transform by filter  to produce a filtered spectral-domain feature vector. This helps to add robustness to the final model but is optional and may be omitted.","The filtered spectral-domain feature vector is provided to a spectral energy calculator , which uses Equation 2 above to calculate the energy  for the frame at step . At step , the filtered spectral-domain feature vector is normalized by normalization unit  using the energy value  for the frame and Equation 1 above. This forms an energy-normalized spectral-domain feature vector. The steps described above for forming an energy-normalized spectral-domain feature vector are repeated for a set of frames resulting in a set of energy-normalized spectral-domain feature vectors  that represent a plurality of utterances in a training speech signal.","At step , the set of energy-normalized spectral-domain feature vectors  generated from the frames of the training speech signal are applied to a training algorithm  to form an acoustic model . Any desired technique for training acoustic models from feature vectors may be used to train the model from the energy-normalized feature vectors. Under one embodiment, a mixture of Gaussians model is formed as acoustic model  using a k-means clustering algorithm with random initialization. This algorithm clusters the energy-normalized vectors into mixture components based on a distance measure and produces a separate Gaussian model for each mixture component. Under one embodiment, the distance between two energy-normalized vectors is defined as:",{"@attributes":{"id":"p-0039","num":"0038"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"mi":"d","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mover":{"mi":"X","mo":"~"},"mi":"i"},{"mover":{"mi":"X","mo":"~"},"mi":"j"}],"mo":","}}},"mo":"=","msqrt":{"mrow":{"munderover":{"mo":"\u2211","mrow":[{"mi":"f","mo":"=","mn":"1"},{"mi":"N","mo":"\/","mn":"2"}]},"mo":"\u2062","msup":{"mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":"log","mo":"\u2062","mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["X","if"]}}},{"mi":"log","mo":"\u2062","mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["X","jf"]}}}],"mo":"-"}},"mn":"2"}}}}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"3"}}]}}}},"br":{},"sub":"if"},"The clustering algorithm can be used to form mixture components for separate states. In particular, by using a speech detector, two states can be identified in the training signal, one for speech and one for non-speech, also referred to as silence. Energy-normalized vectors that fall within the speech state are then clustered into one set of mixture components and energy-normalized vectors that fall within the silence state are clustered into a separate set of mixture components. Under one embodiment, a single mixture component is provided for the silence state while a plurality of mixture components are provided for the speech state.","After the models have been formed, they may be used at step  for speech enhancement or speech recognition. When acoustic model  is used for speech recognition, the feature vectors applied to the model must match the feature vectors used to train the model. As such, the same Fast Fourier Transform, filtering, and energy normalization operations (steps -) are performed on the feature vectors that are to be applied to the model. Once input energy-normalized feature vectors have been produced from the input signal, they are applied to the models to determine a probability of the input energy-normalized feature vectors.","The energy normalization of the vectors used to form the model and the vectors applied to the model helps remove variations in the loudness of the speech used to train the model as well as differences in loudness between the speech used to train the model and the speech used during recognition. Further, because the model is trained in the spectral domain, phase information is retained within the model. This would not be true if the model had been trained using cepstral vectors instead of spectral domain vectors since phase information is lost during the transform from the spectral domain to the cepstral domain.","Energy-normalization in the spectral domain may also be used to enhance one or more noisy signals to produce a clean signal that may be applied to a speech process such as speech recognition or speech coding.  provides one example of a system in which energy-normalization can be used for speech enhancement.","In , a speaker  generates a speech signal  (X) that is detected by an air conduction microphone  and an alternative sensor . Examples of alternative sensors include a throat microphone that measures the user's throat vibrations, a bone conduction sensor that is located on or adjacent to a facial or skull bone of the user (such as the jaw bone) or in the ear of the user and that senses vibrations of the skull and jaw that correspond to speech generated by the user. Air conduction microphone  is the type of microphone that is used commonly to convert audio air waves into electrical signals.","Air conduction microphone  receives ambient noise  (V) generated by one or more noise sources  and generates its own sensor noise  (U). Depending on the type of ambient noise and the level of the ambient noise, ambient noise  may also be detected by alternative sensor . However, under some embodiments, alternative sensor  is typically less sensitive to ambient noise than air conduction microphone . Thus, the alternative sensor signal  (B) generated by alternative sensor  generally includes less noise than air conduction microphone signal  (Y) generated by air conduction microphone . Although alternative sensor  is less sensitive to ambient noise, it does generate some sensor noise  (W).","The path from speaker  to alternative sensor signal  can be modeled as a channel having a channel response H. The path from ambient noise  to alternative sensor signal  can be modeled as a channel having a channel response G.","Alternative sensor signal  (B) and air conduction microphone signal  (Y) are provided to a clean signal estimator , which estimates a clean signal . Clean signal estimate  is provided to a speech process . Clean signal estimate  may either be a time-domain signal or a spectral-domain vector. If clean signal estimate  is a time-domain signal, speech process  may take the form of a listener, a speech coding system, or a speech recognition system. If clean signal estimate  is a spectral-domain vector, speech process  will typically be a speech recognition system, or contain an Inverse Fourier Transform to convert the spectral domain vector into waveforms.","Within clean signal estimator , alternative sensor signal  and microphone signal  are converted into the domain being used to estimate the clean speech. As shown in the embodiment of , alternative sensor signal  and air conduction microphone signal  are provided to analog-to-digital converters  and , respectively, to generate a sequence of digital values, which are grouped into frames of values by frame constructors  and , respectively. In one embodiment, A-to-D converters  and  sample the analog signals at 16 kHz and 16 bits per sample, thereby creating 32 kilobytes of speech data per second and frame constructors  and  create a new respective frame every 10 milliseconds that includes 20 milliseconds worth of data.","Each respective frame of data provided by frame constructors  and  is converted into the spectral domain using Fast Fourier Transforms (FFT)  and , respectively.","The spectral domain values for the alternative sensor signal and the air conduction microphone signal are provided to clean signal estimator , which uses the spectral domain values to estimate clean speech signal .","Under some embodiments, clean speech signal  is converted back to the time domain using Inverse Fast Fourier Transforms . This creates a time-domain version of clean speech signal .",{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 7","FIG. 5"]},"In the model of , clean speech  (X) is based upon energy-normalized speech  ({tilde over (X)}) as applied to a gain  (g) such that X=g{tilde over (X)}. Energy-normalized speech  is dependent on state  (S) and mixture component  (M), which is also dependent on state . Air conduction microphone signal  (Y) is dependent on sensor noise  (U), ambient noise  (V) and clean speech signal . Alternative sensor signal  (B) is dependent on sensor noise  (W), clean speech signal  as it passes through a channel response  (H) and ambient noise  (V) as it passes through a channel response  (G).","The model of  is used in speech enhancement to estimate a clean speech signal Xfrom noisy observations Yand B.","Under one embodiment, the clean speech signal estimate and the likelihoods of the states for the clean speech signal estimate are formed by first assuming Gaussian distributions for the noise components in the system model. Thus:\n\nV\u02dcN(0,\u03c3)\u2003\u2003EQ. 4\n\nU\u02dcN(0,\u03c3)\u2003\u2003EQ. 5\n\nW\u02dcN(0,\u03c3)\u2003\u2003EQ. 6\n\nwhere each noise component is modeled as a zero-mean Gaussian having respective variances \u03c3, \u03c3, and \u03c3, V is the ambient noise, U is the sensor noise in the air conduction microphone, and W is the sensor noise in the alternative sensor.\n","In the description of the equations below for determining the estimate of the clean speech signal, all of the variables are modeled in the complex spectral domain. Each frequency component is treated independently of the other frequency components except for variables Sand M. Sand Mare global for each frame. For ease of notation, the method is described below for a single frequency component. Those skilled in the art will recognize that the computations are performed for each frequency component in the spectral version of the input signals. For variables that vary with time, a subscript t is added to the variable.","To estimate the clean speech signal Xfrom the noisy observations Yand B, some embodiments use the conditional probability p({tilde over (X)}|Y,B), which is the probability of the energy-normalized clean speech signal given the noisy air conduction microphone signal and the noisy alternative sensor signal. Since the estimate of the energy-normalized clean speech signal depends on the speech state Sand the mixture component Munder the model, this conditional probability is determined as:",{"@attributes":{"id":"p-0058","num":"0057"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"E","mo":"\u2061","mrow":{"mo":["[","]"],"mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":[{"mover":{"mi":"X","mo":"~"},"mi":"t"},{"mi":["Y","t"]}],"mo":"|"},"mo":",","msub":{"mi":["B","t"]}}}}}},{"munder":{"mo":"\u2211","mrow":{"mi":["s","m"],"mo":","}},"mo":"\u2062","mrow":{"mrow":[{"mi":"E","mo":"\u2061","mrow":{"mo":["[","]"],"mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msub":[{"mover":{"mi":"X","mo":"~"},"mi":"t"},{"mi":["Y","t"]}],"mo":"|"},{"msub":{"mi":["M","t"]},"mo":"=","mi":"m"},{"msub":{"mi":["S","t"]},"mo":"=","mi":"s"}],"mo":[",",",",","],"msub":{"mi":["B","t"]}}}}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["M","t"]},"mo":"=","mrow":{"mrow":{"mi":"m","mo":"|","msub":{"mi":["S","t"]}},"mo":"=","mi":"s"}},"mo":[",",","],"msub":[{"mi":["Y","t"]},{"mi":["B","t"]}]}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mrow":{"mi":"s","mo":"|","msub":{"mi":["Y","t"]}}},"mo":",","msub":{"mi":["B","t"]}}}}],"mo":["\u2062","\u2062"]}}],"mo":"="}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"8"}}]}}}},"br":{},"sub":["t","t","t","t","t","t ","t","t","t","t","t","t","t"]},"In some embodiments, two states s are provided, one for speech and one for silence. Any number of mixture components may be used, including mixture components for voiced sounds, fricatives, nasal sounds and back vowel sounds. In some embodiments, a separate mixture component is provided for each of a set of phonetic units, such as phonemes. Under one particular embodiment, four mixture components are provided for the speech state and one mixture component is provided for the silence state.","Using Equation 7, the expectation for the energy-normalized clean speech value is computed as:",{"@attributes":{"id":"p-0061","num":"0060"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":[{"mover":{"mi":"X","mo":"~"},"mi":"t"},{"mi":["Y","t"]}],"mo":"|"},"mo":",","msub":{"mi":["B","t"]}}}},{"munder":{"mo":"\u2211","mrow":{"mi":["s","m"],"mo":","}},"mo":"\u2062","mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msub":[{"mover":{"mi":"X","mo":"~"},"mi":"t"},{"mi":["Y","t"]}],"mo":"|"},{"msub":{"mi":["M","t"]},"mo":"=","mi":"m"},{"msub":{"mi":["S","t"]},"mo":"=","mi":"s"}],"mo":[",",",",","],"msub":{"mi":["B","t"]}}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["M","t"]},"mo":"=","mrow":{"mrow":{"mi":"m","mo":"|","msub":{"mi":["S","t"]}},"mo":"=","mi":"s"}},"mo":[",",","],"msub":[{"mi":["Y","t"]},{"mi":["B","t"]}]}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mrow":{"mi":"s","mo":"|","msub":{"mi":["Y","t"]}}},"mo":",","msub":{"mi":["B","t"]}}}}],"mo":["\u2062","\u2062"]}}],"mo":"="}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"7"}}]}}}},"br":{}},"Under one embodiment, the probability p({tilde over (X)}|Y,B,M=m,S=s) is estimated as a Gaussian distribution N({tilde over (X)};A,\u03a6) with mean Aand variance \u03a6where:",{"@attributes":{"id":"p-0063","num":"0062"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"msub":{"mi":"A","mrow":{"mn":"1","mo":"\u2062","mi":"sm"}},"mo":"=","mfrac":{"mrow":[{"msubsup":{"mi":["\u03c3","sm"],"mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msubsup":{"mi":"\u03c3","mn":["1","2"]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msubsup":{"mi":["\u03c3","uv"],"mn":"2"},"mo":"\u2062","msub":{"mi":["\u03bc","sm"]}},{"msub":[{"mi":"g","msub":{"mi":["x","t"]}},{"mi":["Y","t"]}],"mo":"\u2062"}],"mo":"+"}}},{"msub":{"mi":"g","msub":{"mi":["x","t"]}},"mo":"\u2062","mrow":{"msubsup":{"mi":["H","m"],"mo":"*"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msub":{"mi":["B","t"]},"mo":"\u2062","msubsup":{"mi":["\u03c3","uv"],"mn":"2"}},{"mi":"G","mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"msub":{"mi":["Y","t"]}}],"mo":"-"}}}}],"mo":"+"}}},{"mrow":[{"msubsup":[{"mi":"\u03c3","mn":["1","2"]},{"mi":"\u03c3","mn":["2","2"]}],"mo":"\u2062"},{"msubsup":[{"mi":"g","msub":{"mi":["x","t"]},"mn":"2"},{"mi":["\u03c3","sm"],"mn":"2"},{"mi":["\u03c3","uv"],"mn":"2"}],"mo":["\u2062","\u2062","\u2062"],"msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["H","m"]}},"mn":"2"}}],"mo":"+"}]}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"9"}}]},{"mtd":[{"mrow":{"msub":{"mi":"\u03a6","mrow":{"mn":"1","mo":"\u2062","mi":"sm"}},"mo":"=","mfrac":{"mrow":[{"msubsup":[{"mi":"\u03c3","mn":["1","2"]},{"mi":["\u03c3","sm"],"mn":"2"},{"mi":["\u03c3","uv"],"mn":"2"}],"mo":["\u2062","\u2062"]},{"mrow":[{"msubsup":[{"mi":"\u03c3","mn":["1","2"]},{"mi":"\u03c3","mn":["2","2"]}],"mo":"\u2062"},{"msub":{"mi":"g","msub":{"mi":["x","t"]}},"mo":["\u2062","\u2062","\u2062"],"msubsup":[{"mi":["\u03c3","sm"],"mn":"2"},{"mi":["\u03c3","uv"],"mn":"2"}],"msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["H","m"]}},"mn":"2"}}],"mo":"+"}]}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"10"}}]},{"mtd":[{"mrow":{"msubsup":{"mi":["\u03c3","uv"],"mn":"2"},"mo":"=","mrow":{"msubsup":[{"mi":["\u03c3","v"],"mn":"2"},{"mi":["\u03c3","u"],"mn":"2"}],"mo":"+"}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"11"}}]},{"mtd":[{"mrow":{"msubsup":{"mi":"\u03c3","mn":["1","2"]},"mo":"=","mrow":{"msubsup":{"mi":["\u03c3","w"],"mn":"2"},"mo":"+","mfrac":{"mrow":{"msup":{"mrow":{"mo":["\uf603","\uf604"],"mi":"G"},"mn":"2"},"mo":["\u2062","\u2062"],"msubsup":[{"mi":["\u03c3","u"],"mn":"2"},{"mi":["\u03c3","v"],"mn":"2"}]},"msubsup":{"mi":["\u03c3","uv"],"mn":"2"}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"12"}}]},{"mtd":[{"mrow":{"msubsup":{"mi":"\u03c3","mn":["2","2"]},"mo":"=","mrow":{"msubsup":{"mi":["\u03c3","uv"],"mn":"2"},"mo":"+","mrow":{"msubsup":[{"mi":"g","msub":{"mi":["x","t"]},"mn":"2"},{"mi":["\u03c3","sm"],"mn":"2"}],"mo":"\u2062"}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"13"}}]},{"mtd":[{"mrow":{"msub":{"mi":["H","m"]},"mo":"=","mrow":{"mi":"H","mo":"-","mrow":{"mi":"G","mo":"\u2062","mfrac":{"msubsup":[{"mi":["\u03c3","v"],"mn":"2"},{"mi":["\u03c3","uv"],"mn":"2"}]}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"14"}}]}]}}},"br":[{},{}],"sub":["sm ","sm","t","t","t","t","sm","sm"],"sup":["2 ","2"],"in-line-formulae":[{},{}],"i":["p","{tilde over (X)}","|S","=s,M","=m","N","{tilde over (X)}"]},"Using the equations above, the expectation E[p({tilde over (X)}|Y,B,M=m,S=s)] is simply the mean A.","Under one embodiment, the mixture component m and the state s are shared across all frequency components. As noted above, the computations to this point are performed separately for each frequency component. However, since the mixture component and state are shared across frequency components, the posterior probabilities p(M=m|S=s,Y,B) and p(S=s|Y,B) are approximated by aggregating the likelihoods due to each frequency component. This results in:",{"@attributes":{"id":"p-0066","num":"0065"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["M","t"]},"mo":"=","mrow":{"mrow":{"mi":"m","mo":"|","msub":{"mi":["S","t"]}},"mo":"=","mi":"s"}},"mo":[",",","],"msub":[{"mi":["Y","t"]},{"mi":["B","t"]}]}}},{"mi":"L","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["M","t"]},"mo":"=","mrow":{"mrow":{"mi":"m","mo":"|","msub":{"mi":["S","t"]}},"mo":"=","mi":"s"}},"mo":[",",","],"msub":[{"mi":["Y","t"]},{"mi":["B","t"]}]}}}],"mo":"~"}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"16"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"L","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["M","t"]},"mo":"=","mrow":{"mrow":{"mi":"m","mo":"|","msub":{"mi":["S","t"]}},"mo":"=","mi":"s"}},"mo":[",",","],"msub":[{"mi":["Y","t"]},{"mi":["B","t"]}]}}},{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mi":"s"}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["M","t"]},"mo":"=","mrow":{"mrow":{"mi":"m","mo":"|","msub":{"mi":["S","t"]}},"mo":"=","mi":"s"}}}},{"munder":{"mo":"\u220f","mrow":{"mi":["all","f"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}},"mo":"\u2062","mrow":{"msubsup":[{"mi":["L","f"],"mrow":{"mn":"1","mo":"\u2062","mi":"sm"}},{"mi":["L","f"],"mrow":{"mn":"2","mo":"\u2062","mi":"sm"}}],"mo":"\u2062"}}],"mo":["\u2062","\u2062"]}],"mo":"="}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"17"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mrow":{"mi":"s","mo":"|","msub":{"mi":["Y","t"]}}},"mo":",","msub":{"mi":["B","t"]}}}},{"mi":"L","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mrow":{"mi":"s","mo":"|","msub":{"mi":["Y","t"]}}},"mo":",","msub":{"mi":["B","t"]}}}}],"mo":"~"}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"18"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"L","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mrow":{"mi":"s","mo":"|","msub":{"mi":["Y","t"]}}},"mo":",","msub":{"mi":["B","t"]}}}},{"munder":{"mo":"\u2211","mi":"m"},"mo":"\u2062","mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mi":"s"}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["M","t"]},"mo":"=","mrow":{"mrow":{"mi":"m","mo":"|","msub":{"mi":["S","t"]}},"mo":"=","mi":"s"}}}},{"munder":{"mo":"\u220f","mrow":{"mi":["all","f"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}},"mo":"\u2062","mrow":{"msubsup":[{"mi":["L","f"],"mrow":{"mn":"1","mo":"\u2062","mi":"sm"}},{"mi":["L","f"],"mrow":{"mn":"2","mo":"\u2062","mi":"sm"}}],"mo":"\u2062"}}],"mo":["\u2062","\u2062"]}}],"mo":"="}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"19"}}]}]}}},"br":{},"sub":["t","t","t","t","t","t","t"]},{"@attributes":{"id":"p-0067","num":"0066"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"msubsup":{"mi":["L","f"],"mrow":{"mn":"1","mo":"\u2062","mi":"sm"}},"mo":"=","mrow":{"mi":"N","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msubsup":[{"mi":["B","t","f"]},{"mi":["A","f"],"mrow":{"mn":"2","mo":"\u2062","mi":"sm"}}],"mo":";"},"mo":",","msubsup":{"mi":["\u03a6","f"],"mrow":{"mn":"2","mo":"\u2062","mi":"sm"}}}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"20"}}]},{"mtd":[{"mrow":{"msubsup":{"mi":["L","f"],"mrow":{"mn":"2","mo":"\u2062","mi":"sm"}},"mo":"=","mrow":{"mi":"N","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msubsup":{"mi":["Y","t","f"]},"mo":";","mrow":{"msub":{"mi":"g","msub":{"mi":["x","t"]}},"mo":"\u2062","msubsup":{"mi":["\u03bc","sm","j"]}}},"mo":",","msup":{"mrow":{"mo":["(",")"],"msubsup":{"mi":"\u03c3","mn":["1","2"]}},"mi":"f"}}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"21"}}]},{"mtd":[{"mrow":{"msubsup":{"mi":["A","f"],"mrow":{"mn":"2","mo":"\u2062","mi":"sm"}},"mo":"=","mrow":{"mrow":{"msub":{"mi":"g","msub":{"mi":["x","t"]}},"mo":["\u2062","\u2062"],"msubsup":{"mi":["H","m","f"]},"mfrac":{"mrow":{"mrow":[{"msup":{"mrow":{"mo":["(",")"],"msubsup":{"mi":["\u03c3","uv"],"mn":"2"}},"mi":"f"},"mo":"\u2062","msubsup":{"mi":["\u03bc","sm","f"]}},{"msup":{"mrow":{"msub":{"mi":"g","msub":{"mi":["x","t"]}},"mo":"\u2061","mrow":{"mo":["(",")"],"msubsup":{"mi":["\u03c3","sm"],"mn":"2"}}},"mi":"f"},"mo":"\u2062","msubsup":{"mi":["Y","t","f"]}}],"mo":"+"},"msup":{"mrow":{"mo":["(",")"],"msubsup":{"mi":"\u03c3","mn":["2","2"]}},"mi":"f"}}},"mo":"+","mfrac":{"mrow":{"msup":{"mrow":{"msup":{"mi":["G","f"]},"mo":"\u2061","mrow":{"mo":["(",")"],"msubsup":{"mi":["\u03c3","v"],"mn":"2"}}},"mi":"f"},"mo":"\u2062","msubsup":{"mi":["Y","t","f"]}},"msup":{"mrow":{"mo":["(",")"],"msubsup":{"mi":["\u03c3","uv"],"mn":"2"}},"mi":"f"}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"22"}}]},{"mtd":[{"mrow":{"msubsup":{"mi":["\u03a6","f"],"mrow":{"mn":"2","mo":"\u2062","mi":"sm"}},"mo":"=","mrow":{"msup":{"mrow":{"mo":["(",")"],"msubsup":{"mi":"\u03c3","mn":["1","2"]}},"mi":"f"},"mo":"+","mrow":{"msub":{"mi":"g","msub":{"mi":["x","t"]}},"mo":["\u2062","\u2062"],"msup":{"mrow":{"mo":["\uf603","\uf604"],"msubsup":{"mi":["H","m","f"]}},"mn":"2"},"mfrac":{"mrow":{"msup":[{"mrow":{"mo":["(",")"],"msubsup":{"mi":["\u03c3","sm"],"mn":"2"}},"mi":"f"},{"mrow":{"mo":["(",")"],"msubsup":{"mi":["\u03c3","uv"],"mn":"2"}},"mi":"f"}],"mo":"\u2062"},"msup":{"mrow":{"mo":["(",")"],"msubsup":{"mi":"\u03c3","mn":["2","2"]}},"mi":"f"}}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"23"}}]}]}}},"br":{}},"Under some embodiments, the conditional probabilities of the mixture components for each state are evenly divided among the components associated with the state. Thus, in embodiments where there is a single mixture component for the silence state, the conditional probability is\n\n(=silence component|=silence)=1\u2003\u2003Eq. 24\n\nand where there are M mixture components for the speech state, the probability of each component is determined as:\n\n(=speech)=1\u2003\u2003Eq. 25\n\nUnder some embodiments, the prior probability for the states are divided evenly between speech and silence. In other embodiments, smoothness of the states between frames is introduced by basing the prior probability of each state on the posterior probability of the state in the preceding frame such that:\n",{"@attributes":{"id":"p-0069","num":"0068"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mi":"speech"}}},"mo":"=","mfrac":{"mrow":{"mn":"0.5","mo":"+","mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":"S","mrow":{"mi":"t","mo":"-","mn":"1"}},"mo":"=","mrow":{"mi":"speech","mo":"|","msub":{"mi":"Y","mrow":{"mi":"t","mo":"-","mn":"1"}}}},"mo":",","msub":{"mi":"B","mrow":{"mi":"t","mo":"-","mn":"1"}}}}}},"mn":"2"}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"26"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mi":"silence"}}},{"mn":"1","mo":"-","mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mi":"speech"}}}}],"mo":"="}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"27"}}]}]}}}},{"@attributes":{"id":"p-0070","num":"0069"},"figref":["FIG. 8","FIG. 4"],"b":"800"},"At step , noisy input speech signals are received and at step , frames of the input speech signals are identified where the user is not speaking. These frames are then used to determine the variance for the ambient noise \u03c3, the variance for the alternative sensor noise \u03c3, and the variance for the air conduction microphone noise \u03c3.","To identify frames where the user is not speaking, the alternative sensor signal can be examined. Since the alternative sensor signal will produce much smaller signal values for background speech than for noise, when the energy of the alternative sensor signal is low, it can initially be assumed that the speaker is not speaking. The values of the air conduction microphone signal and the alternative sensor signal for frames that do not contain speech are stored in a buffer and are used to compute variances of the noise as:",{"@attributes":{"id":"p-0073","num":"0072"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"msubsup":{"mover":{"mi":"\u03c3","mo":"^"},"mi":"v","mn":"2"},"mo":"=","mrow":{"mfrac":{"mn":"1","msub":{"mi":["N","v"]}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mrow":{"mi":["all","t"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},"mo":"\u2208","mi":"V"}},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["Y","t"]}},"mn":"2"}}}}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"28"}}]},{"mtd":[{"mrow":{"msubsup":{"mover":{"mi":"\u03c3","mo":"^"},"mi":"w","mn":"2"},"mo":"=","mrow":{"mfrac":{"mn":"1","msub":{"mi":["N","v"]}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mrow":{"mi":["all","t"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},"mo":"\u2208","mi":"V"}},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msubsup":{"mi":["B","t","\u2032"]}},"mn":"2"}}}}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"29"}}]}]}}},"br":[{},{},{}],"sub":["v ","t","t","t","t"],"in-line-formulae":[{},{}],"i":["B","\u2032=B","\u2212GY"]},{"@attributes":{"id":"p-0074","num":"0073"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msubsup":{"mi":["B","t","\u2032"]},"mo":"=","mrow":{"mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","mfrac":{"mrow":[{"mo":["\uf603","\uf604"],"mrow":{"mi":"G","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["Y","t"]}}},{"mo":["\uf603","\uf604"],"msub":{"mi":["B","t"]}}]}}},"mo":"\u2062","msub":{"mi":["B","t"]}}}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"31"}}]}}}}},"Under some embodiments, the technique of identifying non-speech frames based on low energy levels in the alternative sensor signal is only performed during the initial frames of training. After initial values have been formed for the noise variances, they may be used to determine which frames contain speech and which frames do not contain speech using a likelihood ratio discussed below.","The variance of the noise for the air conduction microphone, \u03c3, is estimated based on the observation that the air conduction microphone is less prone to sensor noise than the alternative sensor. As such, the variance of the air conduction microphone can be calculated as:\n\n\u03c3=1e\u03c3\u2003\u2003EQ. 32\n","At step , the next frame of the air microphone signal Yand alternative sensor signal Bis selected. At step , the prior probabilities of the states are determined using equations 26 and 27 above. These prior probabilities are then used at step  to determine the likelihood for each state given the current frame of the air microphone signal Yand alternative sensor signal Busing equations 19-27 above. The likelihoods for each state are used to classify the current frame as speech or silence by forming a ratio:",{"@attributes":{"id":"p-0078","num":"0077"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"r","mo":"=","mrow":{"mi":"log","mo":"\u2062","mfrac":{"mrow":[{"mi":"L","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mrow":{"mi":"speech","mo":"|","msub":{"mi":["Y","t"]}}},"mo":",","msub":{"mi":["B","t"]}}}},{"mi":"L","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["S","t"]},"mo":"=","mrow":{"mi":"silence","mo":"|","msub":{"mi":["Y","t"]}}},"mo":",","msub":{"mi":["B","t"]}}}}]}}}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"33"}}]}}}},"br":{}},"At step , the alternative sensor's channel response G for background noise and the alternative sensor's channel response H for speech are estimated from the signals of the air microphone Y and of the alternative sensor B. In particular, channel response G is estimated using the last D frames of Y and B in which the user is not speaking as identified using equation 33. Specifically, G is determined as:",{"@attributes":{"id":"p-0080","num":"0079"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"G","mo":"=","mfrac":{"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"D"},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msubsup":{"mi":["\u03c3","u"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["B","t"]}},"mn":"2"}},{"msubsup":{"mi":["\u03c3","w"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["Y","t"]}},"mn":"2"}}],"mo":"-"}}},"mo":"\u00b1"}}},{"mtd":{"msqrt":{"mrow":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"D"},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msubsup":{"mi":["\u03c3","u"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["B","t"]}},"mn":"2"}},{"msubsup":{"mi":["\u03c3","w"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["Y","t"]}},"mn":"2"}}],"mo":"-"}}}},"mn":"2"},"mo":"+","mrow":{"mn":"4","mo":["\u2062","\u2062","\u2062"],"msubsup":[{"mi":["\u03c3","u"],"mn":"2"},{"mi":["\u03c3","w"],"mn":"2"}],"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"D"},"mo":"\u2062","mrow":{"msubsup":{"mi":["B","t"],"mo":"*"},"mo":"\u2062","msub":{"mi":["Y","t"]}}}},"mn":"2"}}}}}}]},"mrow":{"mn":"2","mo":["\u2062","\u2062"],"msubsup":{"mi":["\u03c3","u"],"mn":"2"},"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"D"},"mo":"\u2062","mrow":{"msubsup":{"mi":["B","t"],"mo":"*"},"mo":"\u2062","msub":{"mi":["Y","t"]}}}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"34"}}]}}}},"br":{},"sub":["t","t"]},"The alternative sensor's channel response H for the clean speech signal is estimated from the signals of the air microphone Y and of the alternative sensor B across the last T frames in which the user is speaking. Specifically, H is determined as:",{"@attributes":{"id":"p-0082","num":"0081"},"maths":{"@attributes":{"id":"MATH-US-00013","num":"00013"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"H","mo":"=","mfrac":{"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"T"},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["B","t"]}},"mn":"2"}},{"msubsup":{"mi":["\u03c3","w"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["Y","t"]}},"mn":"2"}}],"mo":"-"}}},"mo":"\u00b1"}}},{"mtd":{"msqrt":{"mrow":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"T"},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["B","t"]}},"mn":"2"}},{"msubsup":{"mi":["\u03c3","w"],"mn":"2"},"mo":"\u2062","msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["Y","t"]}},"mn":"2"}}],"mo":"-"}}}},"mn":"2"},"mo":"+","mrow":{"mn":"4","mo":["\u2062","\u2062","\u2062"],"msubsup":[{"mi":["\u03c3","v"],"mn":"2"},{"mi":["\u03c3","w"],"mn":"2"}],"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"T"},"mo":"\u2062","mrow":{"msubsup":{"mi":["B","t"],"mo":"*"},"mo":"\u2062","msub":{"mi":["Y","t"]}}}},"mn":"2"}}}}}}]},"mrow":{"mn":"2","mo":["\u2062","\u2062"],"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"t","mo":"=","mn":"1"},"mi":"D"},"mo":"\u2062","mrow":{"msubsup":{"mi":["B","t"],"mo":"*"},"mo":"\u2062","msub":{"mi":["Y","t"]}}}}}}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"35"}}]}}}},"br":{}},"At step , an iteration is started in which the gain gand an estimate of the energy-normalized clean speech value {tilde over (X)}are iteratively determined. Under one embodiment, the gain is calculated in step  as:",{"@attributes":{"id":"p-0084","num":"0083"},"maths":{"@attributes":{"id":"MATH-US-00014","num":"00014"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"msub":{"mi":"g","msub":{"mi":["x","t"]}},"mo":"=","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":["all","f"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}},"mo":"\u2062","mrow":{"mo":["[","]"],"mrow":{"mrow":[{"mrow":{"mo":["(",")"],"mrow":{"mrow":[{"msubsup":{"mi":["Y","t"],"mo":"*"},"mo":"\u2062","msub":{"mover":{"mi":"X","mo":"~"},"mi":"t"}},{"msub":{"mi":["Y","t"]},"mo":"\u2062","msubsup":{"mover":{"mi":"X","mo":"~"},"mi":"t","mo":"*"}}],"mo":"+"}},"mo":"\u2062","msubsup":{"mi":["\u03c3","w"],"mn":"2"}},{"mi":"C","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msubsup":{"mi":["\u03c3","v"],"mn":"2"}}],"mo":"+"}}},{"munder":{"mo":"\u2211","mrow":{"mi":["all","f"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}},"mo":"\u2062","mrow":{"mo":["[","]"],"mrow":{"mrow":[{"msup":{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mover":{"mi":"X","mo":"~"},"mi":"t"}},"mn":"2"},"mo":"\u2062","msubsup":{"mi":["\u03c3","w"],"mn":"2"}},{"msup":[{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":["H","G"],"mo":"-"}},"mn":"2"},{"mrow":{"mo":["\uf603","\uf604"],"msub":{"mover":{"mi":"X","mo":"~"},"mi":"t"}},"mn":"2"}],"mo":["\u2062","\u2062"],"msubsup":{"mi":["\u03c3","v"],"mn":"2"}}],"mo":"+"}}}]}},"mo":["\u2062","\u2062"],"mstyle":{"mtext":{}},"mi":"where"}},{"mrow":{"mi":"Eq","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"36"}}]},{"mtd":[{"mrow":{"mi":"C","mo":"=","mrow":{"mrow":[{"mrow":[{"mo":["(",")"],"mrow":{"msub":[{"mi":["B","t"]},{"mi":["GY","t"]}],"mo":"-"}},{"mo":["(",")"],"mrow":{"mi":["H","G"],"mo":"-"}}],"mo":["*","\u2062"],"msub":{"mover":{"mi":"X","mo":"~"},"mi":"t"}},{"mrow":[{"mo":["(",")"],"mrow":{"msub":{"mi":["B","t"]},"mo":"-","mrow":{"mi":"G","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["Y","t"]}}}},{"mo":["(",")"],"mrow":{"mi":["H","G"],"mo":"-"}}],"mo":["\u2062","*"],"msubsup":{"mover":{"mi":"X","mo":"~"},"mi":"t","mo":"*"}}],"mo":"+"}}},{"mrow":{"mi":"EQ","mo":[".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"37"}}]}]}}},"br":{},"sub":["t ","t-1"]},"At step , {tilde over (X)}is estimated using equations 8-19 above to determine the expected value of {tilde over (X)}. At step , the estimate of the energy-normalized clean speech value {tilde over (X)}is examined to determine if it has converged. If it has not converged, the process returns to step  to update the gain. Steps , , and  are repeated until the energy-normalized clean speech value converges.","Once the energy-normalized clean speech value converges, it is multiplied by the gain at step  to form the estimate of the clean speech value as:\n\nX=g{tilde over (X)}\u2003\u2003Eq. 38\n","At step , the method determines if this is the last frame of the input signals. If this is not the last frame, the process returns to step  to select the next frame. Steps  through  are then performed to identify a clean speech signal from the noisy input signals for the selected frame. When the last frame of the noisy input signals is reached at step , the process ends at step .","Although the subject matter has been described in language specific to structural features and\/or methodological acts, it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather, the specific features and acts described above are disclosed as example forms of implementing the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
