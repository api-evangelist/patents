---
title: Superposition of data over voice
abstract: Method and apparatus for transmitting messages between communication devices via a communication channel allowing at least voice messages to be transmitted, the messages including data subdivided in a sequence of basic data units, the method including; a) encoding the basic data units as unique signals (us) including a predetermined number of basic signals (b), each basic signal having a unique fixed frequency (f); b) transmitting a sequence of unique signals (us) during a sequence of fixed time periods (ttt); c) receiving and decoding the sequence of unique signals (us) into the sequence of basic data units; the data being transmitted in superposition over voice.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06996213&OS=06996213&RS=06996213
owner: Sun Microsystems, Inc.
number: 06996213
owner_city: Santa Clara
owner_country: US
publication_date: 19980929
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE EMBODIMENTS"],"p":["The present invention relates to a method for superposition of data over voice in voice channels between two or more communicating communication devices. Moreover, the present invention relates to apparatus for carrying out such a method. The invention also relates to computer-readable mediums with computer-readable software allowing communication devices, after having loaded the software, to carry out a method in accordance with the present invention. Finally, the present invention relates to a method of downloading computer-readable software allowing a communication device, after having loaded the software, to carry out a method in accordance with the present invention.","U.S. Pat. No. 4,425,661 discloses a system which is able to transmit data information simultaneously with voice in a single channel. The data information is transmitted at frequencies less than the voice transmission. Use is made of a spread spectrum technique to transmit the digital data. To that end, in one embodiment, four signals of different frequencies are used. When a logic 1 is to be transmitted, a signal is generated which bounced between the two lower frequencies, whereas when a logic 0 is to be transmitted a signal is generated that is bounced between the two higher frequencies of the set of four frequencies. All four frequencies are below the voice band. Thus, harmonics of them will be spread through the voice band and the resulting noise will be smeared over the voice band. U.S. Pat. No. 4,425,661 is restricted to transmitting digital data by means of analog signals below the voice band. Moreover, due to the very low frequencies used for the transmission of the digital data transmission rates are low. Only binary values can be transmitted, no plurality of values can be encoded.","Several other prior art documents refer to using spread spectrum techniques for transmitting data and voice simultaneously. E.g., U.S. Pat. No. 5,073,899 relates to spread spectrum techniques for simultaneously transmitting data and voice over a single channel.","U.S. Pat. No. 4,313,197 discloses combined transmission of speech and non-speech on a single channel using spread spectrum multiplexing techniques. Non-speech signals are transmitted in a portion of the voice band where transmission of voice is poor, thus reducing the influence on the transmitted voice. Similar methods are disclosed by U.S. Pat. No. 4,512,013 and U.S. Pat. No. 4,523,311.","U.S. Pat. No. 4,672,605 relates to a technique for simultaneously transmitting data and voice in a single communication channel, in which digital data information is processed by means of a time compression multiplex technique and a spread spectrum technique.","Several prior art documents use steganography (i.e. obscuring information that is otherwise in plain sight) to simultaneously transmit digital data and voice. One example is U.S. Pat. No. 5,613,004 which combines steganography with cryptography in order to be able to encode and decode additional information into a stream of digitized data.","An other example is U.S. Pat. No. 5,745,604. The method disclosed impresses a digital identification signal on a carrier to be identified, e.g., an electronic signal related to music or a picture. An N-bit value digital signal is embedded onto the entire (analog) signal through the addition of a very low amplitude encodation signal which has the look and characteristics of pure noise. To that end, the noise already present in the signal is increased by a predetermined acceptable noise level, e.g., a 1 dB increase might be acceptable. When another carrier is suspect to be copied without permission, the content of the other carrier is compared to the original. Using statistical evaluating techniques it is identified whether the other carrier comprises the digital identification signal and, thus, indeed is an unauthorised copy. In U.S. Pat. No. 5,745,604 one knows the digital signal to look for. No method is disclosed for transmitting arbitrary data.","In a method disclosed by U.S. Pat. No. 5,748,763 (of the same inventor as U.S. Pat. No. 5,745,604) an imperceptible identification code is embedded throughout a source signal. This is done by modulating the source signal with a small noise signal in a coded fashion. Bits of a binary identification code may be referenced to control modulation of the source signal with the noise signal. This document also refers to using identification signals having amplitudes in the noise range.","U.S. Pat. No. 4,477,848 is directed to a system for recording of an audio message together with a data signal indicative of the audio message such that during playback of the message it can be established whether the playback is authentic or not. The data signal comprises digital information, e.g., as to the date and time of recording, but also as to the audio message itself. In one embodiment, the use of two distinct frequencies to represent logic 0 or logic 1 is disclosed, with reference to Frequency Shift Keying are used in traditional modems.","The present invention elaborates on the concept of dual-tone-multi-frequency (DTMF), which is now widely used in telecommunications. The essential features of the DTMF concept will be illustrated with reference to FIG. .",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1","sub":["1 ","5","1","8 ","1","8","1","8 ","1 ","5"]},"A receiving unit, for instance located in a telephone exchange for establishing a communication channel between a calling telephone and a telephone to be called, receives a sequence of signals generated by the user of the telephone and is provided with suitable filters for detecting the unique combination of two frequencies in each of the signals received. Thus, such a receiver is for instance able to identify the telephone number of a telephone to be called.","Of course, signals generated in such a way by a user may be used in another way, for instance, for transmitting encoded instructions to a receiving telecommunication device, instructing that telecommunication device, e.g., to connect the calling telephone to a special department of an office associated with the instruction concerned.","In the arrangement shown in , there are eight frequencies f, . . . , f. In many telephone devices one of the frequencies (for instance f) is not used.","A general object of the present invention is to provide a method and means for transmitting digital data between two telecommunication devices when a communication channel between those telecommunication devices has been established avoiding the need to establish a separate channel for transmitting the digital data.","To obtain this object, the present invention provides a method of transmitting at least one message between at least a first communication device and at least a second communication device, via a communication channel allowing at least voice messages to be transmitted between said first and said second communication devices, the at least one message including data being subdivided in a sequence of basic data units, the method comprising the following steps:\n\n","In the method according to the invention a basic data unit corresponds to e.g. a \u201c5\u201d, \u201c#\u201d, or a character like the character \u201cA\u201d. Such a basic data unit is represented by one or more unique signals, each unique signal comprising a predetermined number of basic signals. Each of these basic signals may be an analogue signal and has a unique fixed frequency. Thus, each basic data unit is encoded as one or more sets of basic signals which can be received and decoded afterwards by a receiving communication device. The unique signals are transmitted sequentially from one communication device to another in a sequence of fixed time periods. In a first embodiment, each unique signal is transmitted during one of the fixed time periods. In accordance with the invention, the sequence of fixed time periods at least partly overlaps the period that the communication channel is available for transmitting voice between the communication devices.","In a preferred embodiment, the basic signals have a predetermined amplitude, each amplitude of each of the basic signals being unique. Thus, detecting each of the basic signals can be based upon two independent parameters, i.e., its frequency and its amplitude. This improves the reliability of the data transmission.","Each communication channel has a certain noise level. The noise level can be detected by means known in the art. Preferably, each of the predetermined amplitudes is within a range of 10% above the noise level. Providing the basic signals with such amplitudes guarantees that a user of a receiving telecommunication device listening to the voice portion of the message only hears very weak peak signals related to the digital data. Indeed, the amplitudes may be chosen to be just above the background noise such, that is will be almost impossible for a listening user to distinguish the transmitted digital data from the background noise. Only statistical analysis of the message received will, then, reveal the presence of each basic signal. This analysis will be the basis for decoding the message.","In order to further improve the reliability of the data transmission, each of the unique signals may last a plurality of fixed time periods.","Further improvement of the reliability may also be obtained by providing each unique signal with a redundant set of basic signals. Then, when the receiving telecommunication device is unable to detect one of the basic signals belonging to a set of basic signals defining one unique signal, it is still able to derive the unique signal from the remaining basic signals being detected.","A transmitting telecommunication device in accordance with the present invention may transmit a message identifying message with data elements to a receiving telecommunication device prior to the transmission of the digital data itself. Such data elements, then, define at least portions of the protocol to be used between the telecommunication devices in order to carry out the method according to the present invention. Such data elements may be:\n\n","In case the basic signals have a predetermined amplitude, the message identifying message may also comprise the values of those predetermined amplitudes.","In a further embodiment, one of the communication devices may transmit a first message comprising a request to change characteristics of transmission between the communication devices; then, the other communication device may reply by transmitting a second message either confirming or denying the request to change. If the other telecommunication device denies the request to change, the second message may comprise a proposal for an alternative change of characteristics of transmission.","In order to introduce as little interference as possible between the digital data and the voice, the predetermined amplitudes of the basic signals may correspond to an acoustic frequency characteristic of the human ear. Such an acoustic frequency characteristic may be one as defined by international standardization institutions.","Alternatively, the predetermined amplitudes of the basic signals may correspond to acoustic frequency characteristics of the communication channel each communication channel has its own acoustic frequency characteristic which may be determined by means known in the art.","The present invention also relates to a transmitter for transmitting at least one message to at least one receiver via a communication channel allowing at least voice messages to be transmitted, the at least one message including data being subdivided in a sequence of basic data units, the transmitter comprising telephone means, oscillator means for producing a plurality of basic signals each having a unique fixed frequency and processing means connected to the telephone means and the oscillator means and arranged for:\n\n","Moreover, the present invention relates to a receiver arranged to communicate with a transmitter as defined above, the receiver comprising telephone means and processing means connected to the telephone means and arranges for:\n\n","The invention also relates to a transceiver arranged for transmitting at least one first message to at least one receiver via a communication channel allowing at least voice messages to be transmitted, the at least one first message including data being subdivided in a first sequence of basic data units, the transmitter comprising telephone means, oscillator means for producing a plurality of basic signals each having a unique fixed frequency and processing means connected to the telephone means and the oscillator means and arranged for:\n\n","In accordance with a further embodiment of the present invention an intelligent telephone device may be loaded with suitable software to carry out the method according to the present invention. Such software may be stored on a computer readable medium. Therefore, the present invention also relates to a computer readable medium comprising computer readable software allowing a communication device, after having loaded the software, to transmit at least one first message to at least one receiver via a communication channel allowing at least voice messages to be transmitted, the at least one first message including data being subdivided in a first sequence of basic data units, and to:\n\n","However, such software may also be loaded into the intelligent telephone device by means of downloading through a telecommunication channel. Therefore, the present invention also relates to a computer data signal embodied in a carrier wave comprising computer readable software allowing a communication device, after having loaded the software, to transmit at least one first message to at least one receiver via a communication channel allowing at least voice messages to be transmitted, the at least one first message including data being subdivided in a first sequence of basic data units, and to:\n\n",{"@attributes":{"id":"p-0037","num":"0055"},"figref":"FIG. 2","b":"22"},"The first communication device comprises a computer system  which is connected to a monitor  (or other type of display), a set of oscillators , a telephone , and a keyboard . As will be evident to a person skilled in the art, other means may be provided to facilitate the user of the first communication device in communicating with other communication devices. For instance, a mouse or the like may be provided to provide the computer system  with suitable instructions. Moreover, it is to be noted that the telephone  is shown to be a separate unit. However, the telephone  is only to indicate the presence of equipment to carry out the functions of a conventional telephone. It may be entirely or partially part of the computer system .","The set of oscillators  is shown to be separate from the computer system . However, the set of oscillators  may be included in the computer system .","The other communication device is provided with a computer system  which is connected to a monitor , a set of oscillators , a telephone , and a keyboard . The same remarks as are made with respect to the first communication device are applicable to the second communication device -.","In accordance with the present invention, the arrangement shown in  is arranged such that it is able to transmit digital data over analogue telephone lines, while they are used for human conversation. This allows the exchange of digital data between e.g. intelligent telephones, set top boxes or other such devices and central computing facilities, the Internet, etc. Such digital data to be transmitted may e.g. include digital payment for communication services or for products purchased during the conversation, for cryptographic authentication of parties involved in the conversation or for loading (application) software into an intelligent telephone.","In accordance with the method according to the present invention, a concept of multi-tone-multi-frequency is used. For instance, the set of oscillators ,  comprise eight oscillators. Of course, any other number of oscillators may be used without departing the scope of the present invention. It is even possible to use one oscillator and a number of dividers to generate a predetermined number of signals with different frequencies. However, such an embodiment would suffer from the disadvantage that all harmonics would amplify one another. Contrary, using different oscillators with different frequencies not being multiples of one another smears the harmonics through the frequency band, thus reducing noise.","When a message is to be transmitted digitally from one communication device to another the message is divided into basic data units. For instance, the message may comprise six basic data units, e.g. a processor instruction of six characters.","The computer system ,  is arranged to encode each of the basic data units as one or more unique signals. Preferably, each of the same basic data units is encoded as the same unique signal us(or the same set of unique signals). For instance, in , it is shown that the message comprises six unique signals us, however, both unique signal usand usoccurring twice. However, alternatively, different communication devices may use different sets of unique signals for identifying the same basic data unit.","Messages may e.g. be transmitted in a half-duplex mode or a full-duplex mode.","Any unique signal uscomprises a predetermined number of basic signals b. Each of the basic signals bhas a unique fixed frequency f. These basic signals bare produced by the set of oscillators , . The computer system  receiving those basic signals bassembles each unique signal as a predetermined combination of basic signals. Thus, as shown in , unique signal uscomprises two basic signals band b, having frequencies fand f, respectively. Unique signal usmay, e.g., relate to the character \u201cA\u201d.","Also unique signal usmay comprise two basic signals. As shown in  these basic signals are band b, having frequencies fand f, respectively.","However, the unique signals usmay comprise another number of basic signals b. As shown, unique signal uscomprises three basic signals b, b, and b, having frequencies f, f, and f, respectively. Similarly, unique signal uscomprises four basic signal b, b, b, and b, having frequencies f, f, f, and f, respectively.","In accordance with the present invention the message comprising, e.g., the six unique signals shown in , is transmitted from a transmitting communication device to a receiving communication device in a sequence of fixed time periods t, t, t, . . . .","Preferably, each of the unique signals uslasts exactly one of the fixed time periods. Thus, a receiving communication device knowing the duration of the fixed time periods and knowing the values of the frequencies f, f, . . . , fis then able, by means known in the art, to detect each basic signal bpresent within each of the fixed time periods t, t, t, . . . . Then the receiving communication device is also able to decode the unique signals usreceived into the original basic data units.",{"@attributes":{"id":"p-0051","num":"0069"},"figref":["FIG. 4","FIG. 4","FIG. 4"],"sub":["1","2","8 ","1","2","8","i","1","1","l"],"br":[{},{}],"in-line-formulae":[{},{}],"i":["A","=A","f","\u2212f"],"ul":{"@attributes":{"id":"ul0015","list-style":"none"},"li":{"@attributes":{"id":"ul0015-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0016","list-style":"none"},"li":["i=1, . . . , 8","A=amplitude of basic signal b","\u0394A=predetermined amplitude difference value."]}}}},"However, it is envisaged that there might be another fixed relation between the amplitudes of the different basic signals b, b, . . . , b. For instance, each of the amplitudes Ais unique. Then, each of the basic signals bis characterized by two different unique parameters, i.e., its frequency fand its amplitude A. This provides the possibility to search for two different, independent parameters to detect the basic signals b, which improves detection reliability.","When the amplitudes Aare far above the noise level of the communication channel established between communicating communication devices each transmission of digital data during a human conversation will result in audible peeps in the telephone receiver of the telephone , . In order to avoid such an interference, the present invention, in a preferred embodiment, provides for the amplitudes Abeing selected to be only slightly above the noise level of the communication channel. The amplitudes may, for instance, be within a range of 10% above the noise level of the communication channel. If so, then, by means of known statistical methods of analysis, it is possible to detect the presence of each basic signal and to distinguish each basic signal from the background noise. Such a statistical analysis may be based on correlation measurements which distinguish the presence of the basic signals from the noise, since noise is an uncorrelated signal, as known to persons skilled in the art.",{"@attributes":{"id":"p-0054","num":"0075"},"figref":["FIG. 5","FIG. 5","FIG. 5"],"sub":["j ","j "]},"Alternatively, more complex encodings may be used. One example of such a more complex encoding is shown in FIG. . The scheme of  comprises redundancy in order to enhance the reliability of the transmission. In the example of  it is assumed that the character \u201cA\u201d is represented by the binary sequence 01100, each 0 is represented by two subsequent unique signals usand us, whereas each 1 is represented by two subsequent unique signals usand us. us, us, us, and us, respectively, are represented by the following sets of basic signals: b\/b, b\/b, b\/b, and b\/b, respectively.","Thus, within each fixed time period t, t, . . . , there is redundancy in the sense that when one of the two basic signals present within the time period concerned is detected, the unique signal usconcerned is known. Moreover, when in two subsequent time periods only one out of four basic signals is detected it can be established whether a 0 or a 1 was transmitted. Therefore, the 0 and 1 signals can be transmitted with a very great chance of being detected by a receiving communication device. Then, of course, also detection of the character \u201cA\u201d has a high probability.","It is observed that , , and  only provide example of encoding schemes. Other encoding schemes are assumed to fall within the scope of the present invention.","Preferably, there is a predetermined set of basic signals bwhich is known to each of the communication devices. Moreover, preferably, the encoding mechanism is fixed.","In one embodiment each of the unique signals ushas the same, fixed number of basic signals b.","It is one option that each of the communication devices knows in advance each of the characteristics of the transmission. Such characteristics may be stored in suitable memories available to the communication devices. However, alternatively, some or all of the characteristics of the transmission may, e.g., be loaded into a communication device setting up a communication with another communication device. To that end, a message transmitted to a receiving communication device may start as a message identifying message with a set of data elements to define the characteristics of the transmission. For instance, an identifier identifying a set of frequencies f, f, . . . , from which each of the unique fixed frequencies is selected may be transmitted to a receiving communication device prior to transmitting the content of a message. Also a second identifier identifying which frequencies are used by the first communication device and which frequencies are used by the second communication device may be transmitted. Moreover, the duration of each of the fixed time periods t, t, . . . , may be transmitted first. It is also possible that a request to change characteristics of transmission between two or more communication devices is transmitted first. A communication according to the invention may, e.g., start with predetermined transmission characteristics but they may be changed during transmission.","When such a request to change the characteristics has been received by a communication device it may reply by transmitting a message either confirming or denying the request to change. When it denies the request to change it may propose an alternative change of characteristics to the communication device requesting the change.","Similarly, when predetermined amplitudes Aare used, as shown in , the predetermined amplitudes Aof the basic signals bmay be transmitted prior to transmission the content of a message. Also a valid set of basic signals bmay be transmitted prior to transmission of the content of a message.","When predetermined amplitudes Aare used, these amplitudes Aof the basic signals bmay be related to the acoustic characteristics of the human ear (dB(A)). Such acoustic characteristics of the human ear are established by international standardization institutes and known to persons skilled in the art. Then, the appreciation of the basic signals breceived by a human ear will be substantially the same for each of the frequencies f. This results in minimum intrusion and optimal use of the available bandwidth.","Alternatively, the frequency characteristics of the communication channel may be established by means known in the art and the amplitudes Amay be related to these frequency characteristics of the communication channel. This will increase the reliability and enhance the effective data rate.","When a telephone conversation is set up, the system is engaged during some time by a dialling or a wake-up signal. In one embodiment of the present invention, digital data may already be transmitted from one communication device to another during the transmission of such a dialling or wake-up signal. Then, high bandwidth communication is possible since the communication channel is idle at the start of a voice communication. Moreover, this allows uploading of e.g. application program code (such as Java class files) to transmitting and receiving intelligent telephone devices. During such a dialling signal, e.g., data identifying the dialling communication device may be transmitted.","In order to further reduce any interference caused by the transmission of the digital data the message may be filtered upon receipt such that the digital data does not reach the telephone receiver of the telephone , . This is possible since the frequencies fof the basic signals bare known to the devices and they can filter the basic signals bby means of small bandwidth filter turned to the respective frequencies f.","The system described above provides the possibility of exchanging digital data during a human telephone conversation. Data that may be exchanged includes digital payment for communication services or for products purchased during the conversation, for cryptographic authentication of the parties in the conversation or for loading (application) software into intelligent telephone devices. In many cases, such digital data only needs a short period to be transmitted from one communication device to another. Therefore, if such digital data is superposed to voice in accordance with the present invention any possible intrusion is in most cases restricted, even if no special measures are taken to reduce such intrusion. Moreover, the application of the present invention avoids the use of special modems."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention will be illustrated with reference to some drawings which are intended to illustrate the present invention and not to limit its scope.",{"@attributes":{"id":"p-0034","num":"0052"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0035","num":"0053"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0036","num":"0054"},"figref":"FIGS. 3","b":["4","5","6"]}]},"DETDESC":[{},{}]}
