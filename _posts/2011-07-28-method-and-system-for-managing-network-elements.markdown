---
title: Method and system for managing network elements
abstract: A management request complying with a first protocol is generated by a management application executed by a computing system coupled to a network element. A processor executable agent encapsulates a management request using a second protocol. The encapsulated management request is transmitted using a third protocol via a link used by the computing system to send input/output requests for reading and writing data to a storage device. The management request is de-encapsulated to provide the management request complying with the first protocol to a management module of the network element. The management module of the network element prepares a response to the management request complying with the first protocol. A processor executable service at the network element encapsulates the response using the second protocol. The encapsulated response is transmitted to the computing system using the third protocol. The response complying with the first protocol is extracted from the encapsulated response. The response complying with the first protocol is provided to the management application.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09071544&OS=09071544&RS=09071544
owner: QLOGIC, Corporation
number: 09071544
owner_city: Aliso Viejo
owner_country: US
publication_date: 20110728
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The present disclosure relates to network communications.","A computer network, often simply referred to as a network, is a group of interconnected computers and devices that facilitates communication among users and allows users to share resources. Adapters, switches and other devices are typically used during network communication. Continuous efforts are being made to better manage network devices.","The various embodiments of the present system and methods have several features, no single one of which is solely responsible for their desirable attributes. Without limiting the scope of the present embodiments as expressed by the claims that follow, their more prominent features now will be discussed briefly. After considering this discussion, and particularly after reading the section entitled \u201cDetailed Description\u201d one will understand how the features of the present embodiments provide various advantages.","One of the present embodiments is a machine implemented method for processing a management request complying with a first protocol and generated by a management application executed by a computing system coupled to a network element. The method comprises a processor executable agent encapsulating the management request using a second protocol. The method further comprises transmitting the encapsulated management request using a third protocol via a link used by the computing system to send input\/output requests for reading and writing data to a storage device. The method further comprises de-encapsulating the management request to provide the management request complying with the first protocol to a management module of the network element. The method further comprises the management module of the network element preparing a response to the management request complying with the first protocol. The method further comprises a processor executable service at the network element encapsulating the response using the second protocol. The method further comprises transmitting the encapsulated response to the computing system using the third protocol. The method further comprises extracting the response complying with the first protocol from the encapsulated response. The method further comprises providing the response complying with the first protocol to the management application.","Another of the present embodiments is a system. The system comprises a processor of a computing system executing a management application for generating a management request complying with a first protocol. The system further comprises a processor executable agent configured to encapsulate the management request using a second protocol. The system further comprises a network element configured to receive the encapsulated management request via a third protocol using a link used by the computing system to send input\/output requests for reading and writing data to a storage device. The system further comprises the network element de-encapsulates the management request to provide the management request complying with the first protocol to a management module of the network element that prepares a response to the management request complying with the first protocol. The system further comprises a processor executable service at the network element configured to encapsulate the response using the second protocol and the encapsulated response is transmitted to the computing system using the third protocol. The system further comprises the response complying with the first protocol is extracted from the encapsulated response and then provided to the management application.","Another of the present embodiments is a machine implemented method for processing a management request complying with a first protocol and generated by a management application executed by a computing system coupled to a network element. The method comprises encapsulating the management request using a second protocol. The method further comprises transmitting the encapsulated management request to the network element using a third protocol. The method further comprises preparing a response to the management request complying with the first protocol. The method further comprises encapsulating the response using the second protocol. The method further comprises transmitting the response to the computing system using the third protocol. The method further comprises extracting the response complying with the first protocol. The method further comprises providing the response complying with the first protocol to the management application.","This brief summary has been provided so that the nature of the disclosure may be understood quickly. A more complete understanding of the disclosure can be obtained by reference to the following detailed description of the embodiments thereof concerning the attached drawings.","The following detailed description describes the present embodiments with reference to the drawings. In the drawings, reference numbers label elements of the present embodiments. These reference numbers are reproduced below in connection with the discussion of the corresponding drawing features.","As a preliminary note, any of the embodiments described with reference to the figures may be implemented using software, firmware, hardware (e.g., fixed logic circuitry), manual processing, or a combination of these implementations. The terms \u201clogic\u201d, \u201cmodule\u201d, \u201ccomponent\u201d, \u201csystem\u201d, and \u201cfunctionality\u201d, as used herein, generally represent software, firmware, hardware, or a combination of these elements. For instance, in the case of a software implementation, the terms \u201clogic\u201d, \u201cmodule\u201d, \u201ccomponent\u201d, \u201csystem\u201d, and \u201cfunctionality\u201d represent program code that performs specified tasks when executed on a processing device or devices (e.g., CPU or CPUs). The program code can be stored in one or more computer readable memory devices.","More generally, the illustrated separation of logic, modules, components, systems, and functionality into distinct units may reflect an actual physical grouping and allocation of software, firmware, and\/or hardware, or can correspond to a conceptual allocation of different tasks performed by a single software program, firmware program, and\/or hardware unit. The illustrated logic, modules, components, systems, and functionality may be located at a single site (e.g., as implemented by a processing device), or may be distributed over a plurality of locations. The term \u201cmachine-readable media\u201d and the like refers to any kind of medium for retaining information in any form, including various kinds of storage devices (magnetic, optical, static, etc.).","The embodiments disclosed herein may be implemented as a computer process (method), a computing system, or as an article of manufacture, such as a computer program product or computer-readable media. The computer program product may be computer storage media, readable by a computer device, and encoding a computer program of instructions for executing a computer process. The computer program product may also be readable by a computing system, and encoding a computer program of instructions for executing a computer process.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1A","b":["10","10","12","12","14"]},"The computing system  may include one or more processors , also known as central processing units (CPUs). Processor  may be, or may include, one or more programmable general-purpose or special-purpose microprocessors, digital signal processors (DSPs), programmable controllers, application specific integrated circuits (ASICs), programmable logic devices (PLDs), or the like, or a combination of such hardware devices.","Processor  executes machine implemented process steps (shown as instructions A) out of a memory  and interfaces with an interconnect  that may be referred to as a computer bus . The computer bus  may be, for example, a system bus, a Peripheral Component Interconnect (PCI) bus (or PCI Express bus), a HyperTransport or industry standard architecture (ISA) bus, a SCSI bus, a universal serial bus (USB), an Institute of Electrical and Electronics Engineers (IEEE) standard 1394 bus (sometimes referred to as \u201cFirewire\u201d), or any other type of bus.","The computing system  may further include a storage device , which may be for example a hard disk, a CD-ROM, a non-volatile memory device (flash or memory stick) or any other storage device. Storage  may store operating system program files, application program files, for example, management applications, and other files. Some of these files are stored on storage  using an installation program. For example, the processor  may execute computer-executable process steps of an installation program so that the processor  can properly execute the application program.","Memory  also interfaces with the computer bus  to provide the processor  with access to memory storage. Memory  may include random access main memory (RAM). When executing stored computer-executable process steps from storage , the processor  may store and execute the process steps out of memory . Read only memory (ROM, not shown) may also be used to store invariant instruction sequences, such as start-up instruction sequences or basic input\/output system (BIOS) sequences for operation of a keyboard (not shown).","The computing system  also includes other devices and interfaces , which may include a display device interface, a keyboard interface, a pointing device interface, etc. The details of these components are not germane to the inventive embodiments.","Adapter  may be configured to handle both network and storage traffic while interfacing with other elements. Various network and storage protocols may be used to handle network and storage traffic, for example, Ethernet, Fibre Channel, Fibre Channel over Ethernet, and others. Some of the common protocols are described below.","Ethernet is a common network protocol used for network communication. The original Ethernet bus or star topology was developed for local area networks (LAN) to transfer data at 10 Mbps (mega bits per second). Newer Ethernet standards (for example, Fast Ethernet (100 Base-T) and Gigabit Ethernet) support data transfer rates between 100 Mbps and 10 gigabit (Gb). The various embodiments described herein may use Ethernet (which includes 100 Base-T and\/or Gigabit Ethernet) as the network protocol. However, the adaptive embodiments disclosed herein are not limited to any particular protocol, as long as the functional goals are met by an existing or new network protocol.","Fibre Channel is a common storage protocol used in storage area networks (SANs). Fibre Channel is a set of American National Standards Institute (ANSI) standards that provide a serial transmission protocol for storage and network protocols such as HIPPI, SCSI, IP. ATM and others. Fibre Channel supports three different topologies: point-to-point, arbitrated loop and fabric. The point-to-point topology attaches two devices directly. The arbitrated loop topology attaches devices in a loop. The fabric topology attaches host systems directly (via HBAs) to a fabric, which are then connected to multiple devices. The Fibre Channel fabric topology allows several media types to be interconnected.","Fibre Channel fabric devices include a node port or \u201cN_Port\u201d that manages Fabric connections. The N_port establishes a connection to a Fabric element (e.g., a switch) having a fabric port or F_port.","A new and upcoming standard, called Fibre Channel Over Ethernet (FCOE) has been developed to handle both Ethernet and Fibre Channel traffic in a storage area network (SAN). This functionality would allow Fibre Channel to leverage 10 Gigabit Ethernet networks while preserving the Fibre Channel protocol. In one embodiment, adapter  can be configured to operate as a FCOE adapter and may be referred to as FCOE adapter  or a converged adapter . QLogic Corporation, the assignee of the present application, provides one such adapter. Those of ordinary skill in the art will appreciate, however, that the present embodiments are not limited to any particular protocol. The illustrated FCOE adapter  is merely one example of a converged network adapter that may leverage the advantages of the present embodiments.","Referring back to , an adapter interface  couples computing system  to adapter  via a link . Adapter  may include two ports A and B that are coupled to a switch . Ports A\/B include logic and circuitry to send and receive information.","Switch  includes a plurality of ports A-D, and a processor  having access to memory . Processor  executes firmware instructions out of memory  to control overall switch operations and some of the process steps according to the present disclosure that are described below in detail. Port A of switch  is coupled to port B, while port B is coupled to port A. Port D may be coupled to other elements via link .","Port C of switch  is coupled to another switch  that includes ports A-C. Port C of switch  is coupled to port C of switch . Port B of switch  may be coupled to other elements via link  and port A is coupled to port C of another switch  that includes ports A-D. Port A is coupled to an adapter port D of adapter A of computing system A that is similar to computing system . Adapter A is also similar to adapter  that is described above in detail. Port B is coupled to adapter port C. Port C is coupled to other elements (not shown) using link .","The various embodiments disclosed herein are not limited to any particular number of switch ports. The term switch port as used herein means a structure having logic and circuitry that can send and receive information.","Switches , ,  may be a part of a network (or fabric). The size and location of the network may vary based on user needs. The structure of switch ,  may be similar to switch  with respect to having a processor , memory  and a certain number of ports to communicate with other devices as described above.","A network administrator typically manages switches within a fabric using one or more management consoles, for example, computing systems  and A. Typically, the computing systems use a first network link or type to connect with a switch and a second network link or type to send and receive management related information. For example, link A connecting port B with port A may be a Fibre Channel link for sending and receiving information in response to input\/output (I\/O) requests that comply with the Fibre Channel standard. The management link may be C that couples port A with port B for sending and receiving management requests\/responses.","In conventional systems, link C may be an Ethernet link that is used for sending and receiving management requests\/responses. A similar configuration is used by computing system A, where link B may be a Fibre Channel link and the management link D may be an Ethernet link.","The conventional technique of using an Ethernet link\/Ethernet network for management requests\/responses and Fibre Channel link\/Fibre Channel network for processing I\/O requests is undesirable, because an administrator has to manage two network\/link types, i.e. the Fibre Channel network for storing data and the Ethernet network for sending and receiving management requests. The embodiments disclosed herein provide a solution where different network links\/networks are not needed for sending management requests and receiving responses to management requests.",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 1B","b":["10","10","12","34","15","15","10"]},"Computing system  executes a management application  out of a memory (for example, memory , ). In one embodiment, hardware based processor  executes the management application . The management application  is used to send management related commands to switch , for example, a command to obtain switch  attributes, a command to obtain statistics collected by switch  regarding network traffic or any other type of management command\/request.","Management application  typically communicates via a switch Application Programming Interface (API)  that may also be executed by processor . Switch API  receives commands from management application  and prepares them for a next layer, for example, a Transmission Control Protocol (TCP)\/Internet Protocol (IP) layer . The TCP\/IP layer  interfaces with a pseudo Small Computer System Interface (SCSI) agent . Agent  may include an IP socket layer  and a proxy SCSI layer . The IP socket layer  prepares the management request as if it is communicating with an Ethernet port. The proxy SCSI layer  takes the standard Ethernet based management request and encapsulates the request into a SCSI request, for example, a SCSI command data block (CDB) that is defined by the SCSI standard.","The encapsulated management request as a SCSI CDB is then processed by adapter  that executes a SCSI driver layer , a FCP layer  and a FC layer . The SCSI driver layer  is able to identify and process the SCSI CDB generated by agent . The FCP layer  is the Fibre Channel Protocol layer used for handling SCSI commands via Fibre Channel. The FC layer  is the standard layer for Fibre Channel communication via the Fibre Channel link A. Adapter  encapsulates the SCSI CDB as a Fibre Channel command using a FCP and FC header, as described below in more detail.","Switch  includes firmware  that controls overall switch operations. Switch management module  is used to perform management related tasks in response to management requests received via switch API . As an example, if computing system seeks switch attributes including switch identification information, port identifiers, connection information and other type of information, then switch management module  gathers the information and prepares a response in a format that can be understood by management application .","Switch  executes a pseudo target service  that includes a proxy SCSI layer , a SCSI layer , a FCP layer  and a FC layer . The pseudo target service  includes instructions that are executed by a hardware component, for example, processor .","The management request encapsulated in a Fibre Channel command is processed by the proxy SCSI layer  that de-encapsulates the SCSI CDB and extracts the management request sent by management application . The request is then forwarded via the switch API  to switch management module  that obtains the information for responding to the management request. The switch management module  also prepares the response to the management request.","The response generated by switch management module  is sent to the proxy SCSI layer  via the switch API . The proxy SCSI layer  encapsulates the switch response into a SCSI CDB that is further encapsulated into a Fibre Channel packet having a FCP and FC header, as described below in more detail. The Fibre Channel packet is then sent via layers  and  to adapter  as a Fibre Channel packet.","The adapter  parses the Fibre Channel packet and extracts the response as a SCSI CDB. The SCSI CDB is passed to the proxy SCSI layer  that extracts the response from the SCSI CDB and transfers the response via the TCP\/IP and switch API layers to management application  in a format that is understood by the management application .","In one embodiment, switch  is presented to computing system \/adapter  as a proxy SCSI target. Switch management operations are then tunneled using standard SCSI protocol command. This allows one to use an existing FC link\/network and not rely on a separate network for management requests\/responses.","The systems and methods disclosed herein use the pseudo SCSI agent  and the pseudo SCSI service  for processing management requests. As mentioned above, agent  communicates with higher level layers (e.g. ) and translates, encapsulates and de-encapsulates management operations using the SCSI protocols.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 1C","FIG. 1A"],"b":["86","34","88","70","34","36","34","70","90","70","42","92","34","34"]},"In block S, switch  appears as a SCSI target to adapter . In block S, the pseudo SCSI agent  is initialized at computing system  and may be configured to use the same Internet Protocol (IP) address used by computing system  or a component of computing system , for example, a network interface card (not shown) or adapter . Switch  is then discovered as a SCSI target in block S by pseudo agent .",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 2A","b":["200","202","52","34","52","68"]},"In block S, proxy SCSI layer  encapsulates the management request into a SCSI CDB. The SCSI CDB is then placed in a Fibre Channel packet having a FCP and FC header. In block S, the Fibre Channel packet with the SCSI CDB having the management request is sent by adapter  using standard FC addressing scheme and the standard FC link A. Layers  and  are used to add the standard FCP\/FC headers for sending the management request in a Fibre Channel packet.","In block S, switch  first strips the FCP and FC header. The pseudo target service  extracts the management request and sends the management request to the switch management module . The switch management module  may also be unaware of the pseudo target service  and operates as if it was handling a regular management request that is received via an Ethernet link. Switch management module  performs the necessary tasks to respond to the management request. Switch management module  prepares the response to the management request.","The response is then sent to proxy SCSI layer  that generates a SCSI CDB for the response. The SCSI CDB is then encapsulated into a standard Fibre Channel packet with a FCP and FC header. The Fibre Channel packet with the response is then transmitted by switch  using the FC link A.","The encapsulated response is received by adapter  in block S. The FCP\/FC headers are stripped and the pseudo agent  extracts the response that is generated by the switch management module . The response is then forwarded to the switch management application . The switch management application  receives the response in the same format as if an Ethernet link was being used. Thus, a management request is processed without using a separate Ethernet network and without changing the structure of management application  or switch management module .",{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 2B","FIG. 2A","FIG. 1B"],"b":["212","34","10","212","52","212","212","212","68","12","214","214","214","212","52","214","14","216","216","216","214","212","52","216","70","34","70","216","216","214","212"]},"The original management request  is then passed to switch management module . The switch management module  acquires switch  attributes and prepares a response  that includes switch attributes A. Response  is then passed to pseudo SCSI target service  that generates a FCP response shown as FCP_RSP . The response may be preceded by one or more data packets shown as FCP_DATA  and FCP_DATA . Each FCP_DATA packet includes a FCP header A, a FC header B, a SCSI CDB C and the switch attributes D.","The FCP response is processed by the adapter  that passes the response to pseudo SCSI agent  as a \u201cread operation response\u201d . The read operation response  includes a SCSI CDB C and the switch attributes A. Pseudo SCSI agent  then strips the SCSI CDB C and extracts response . Response  includes an IP header A (similar to A), a TCP header B (similar to B) and the switch attributes A. Response  is then forwarded to management application .","As described above, management application  and switch management module  do not need to be changed or modified. They operate as if two networks are being used with respect to switch , one for Fibre Channel data and another for management requests\/responses. Agent  and pseudo service  are able to process management requests\/responses using the same link that are used for regular Fibre Channel traffic. This saves the cost of having two links and reduces the complexity because one does not have to manage the Ethernet network.","Although the present disclosure has been described with reference to specific embodiments, these embodiments are illustrative only and not limiting. Many other applications and embodiments of the present disclosure will be apparent in light of this disclosure and the following claims. References throughout this specification to \u201cone embodiment\u201d or \u201can embodiment\u201d means that a particular feature, structure or characteristic described in connection with the embodiment is included in at least one embodiment of the present disclosure. Therefore, it is emphasized and should be appreciated that two or more references to \u201can embodiment\u201d or \u201cone embodiment\u201d or \u201can alternative embodiment\u201d in various portions of this specification are not necessarily all referring to the same embodiment. Furthermore, the particular features, structures or characteristics being referred to may be combined as suitable in one or more embodiments of the disclosure, as will be recognized by those of ordinary skill in the art."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The various present embodiments relating to the management of network elements now will be discussed in detail with an emphasis on highlighting the advantageous features. These novel and non-obvious embodiments are depicted in the accompanying drawings, which are for illustrative purposes only. These drawings include the following figures, in which like numerals indicate like parts:",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1B"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1C"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2B"}]},"DETDESC":[{},{}]}
