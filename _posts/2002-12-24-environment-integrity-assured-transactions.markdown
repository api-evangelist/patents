---
title: Environment integrity assured transactions
abstract: In a networked computing environment, a server is equipped to assure the integrity of the service components of a service, including the direct service providing component and one or more supporting components as requested, and a client is equipped to request on behalf of an application in need of the service the integrity assurance. The client is further equipped to either request or accept the service, only upon receiving the integrity assurance. In one embodiment, the request for integrity assurance, and the subsequent conditional request or acceptance of the service is performed in real time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07587754&OS=07587754&RS=07587754
owner: Tripwire, Inc.
number: 07587754
owner_city: Portland
owner_country: US
publication_date: 20021224
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION","Terminology","Section Headings, Order of Descriptions and Embodiments","Overview","Clients and Servers","Real Time Integrity Assurance Manager Cognizant Applications\/Services","Real Time Integrity Assurance Manager","Integrity Check","Servicing Local\/Counterpart Request\/Response","Example Computer System","CONCLUSION AND EPILOGUE"],"p":["The present invention relates to the field of computing. More specifically, the present invention is related to trusted real time computing.","Advances in microprocessor, networking and related technologies have led to wide spread deployment and adoption of server-client based applications. Today, numerous real time services are offered by a plethora of servers for consumption by networked client devices of all kinds, including but not limited to computers, digital assistants, wireless mobile phones, and so forth.","However, with the proliferation of servers and client devices, and the ubiquitous access afforded to these devices by local, regional and wide area networks, such as the Internet, executables and data are vulnerable to harm. Whether the harm is due to damage caused by a virus, an unauthorized access, or simply due to natural occurrences such as exposure to the elements, the importance of executable and data integrity and security cannot be overstated.","Accordingly, substantial amounts of effort have been invested by the industry in protecting and securing the executables and data, including but not limited to ensuring the parties with whom a client\/server engages in the provision or consumption of services is authentic and uncompromised. Numerous authentication, encryption\/decryption, obfuscation, tamper resistant and other related techniques are known in the art.","However, the techniques known and practiced to date are substantially limited to authenticating the parties with whom one engages in transaction, protecting the parties directly participating in the transactions and the transactions themselves.","Increasingly, for many real time transactions, the protection or security offered by the prior art is insufficient. Accordingly, it is desirable to further improve the safety and security of client-server based real time transactions.","The present invention includes a method and apparatus for facilitating secure real time transaction between a client and a server, through real time integrity assurance, which may involve service providing and supporting components of multiple levels (also may be referred to as layers).","In the following description, various aspects of the present invention will be described. However, it will be apparent to those skilled in the art that the present invention may be practiced with only some or all aspects of the present invention. For purposes of explanation, specific numbers, materials and configurations are set forth in order to provide a thorough understanding of the present invention. However, it will be apparent to one skilled in the art that the present invention may be practiced without the specific details. In other instances, well-known features are omitted or simplified in order not to obscure the present invention.","Parts of the description will be presented in data processing terms, such as transaction, authenticate, request, reply, and so forth, consistent with the manner commonly employed by those skilled in the art to convey the substance of their work to others skilled in the art. Accordingly, these terms are to be accorded the meaning as the terms are commonly understood by those ordinarily skilled in the art. As well understood by those skilled in the art, these quantities take the form of electrical, magnetic, or optical signals capable of being stored, transferred, combined, and otherwise manipulated through electrical and\/or optical components of a processor and its subsystems.","Part of the descriptions will employ various abbreviations, including but are not limited to:",{"@attributes":{"id":"p-0021","num":"0020"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"HTTP","Hypertext Transmission Protocol"]},{"entry":[{},"IMAP","Internet Message Access Protocol"]},{"entry":[{},"LDAP","Light Weight Directory Access Protocol"]},{"entry":[{},"MD5","Message Digest"]},{"entry":[{},"SHA-1","Secure HASH Algorithm"]},{"entry":[{},"SSL","Secure Socket Layer"]},{"entry":[{},"TCP\/IP","Transmission Control Protocol\/Internet Protocol"]},{"entry":[{},"XML","Extensible Mark-up Language"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"Section headings are merely employed to improve readability, and they are not to be construed to restrict or narrow the present invention.","Various operations will be described as multiple discrete steps in turn, in a manner that is most helpful in understanding the present invention, however, the order of description should not be construed as to imply that these operations are necessarily order dependent. In particular, these operations need not be performed in the order of presentation.","The phrase \u201cin one embodiment\u201d is used repeatedly. The phrase generally does not refer to the same embodiment, however, it may. The terms \u201ccomprising\u201d, \u201chaving\u201d and \u201cincluding\u201d are synonymous, unless the context dictates otherwise.",{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 1","b":["100","122","123","112","110"]},"In addition to services , servers  are also equipped with real time integrity assurance managers  equipped to assure in real time a service requesting client  of the integrity of the service providing components of services . More specifically, each real time integrity assurance manager  is equipped to be able to at least assure in real time a client  of the integrity of the direct service providing components of services  associated with a transaction, and one other supporting component. In general, each real time integrity assurance manager  is equipped to be able to assure in real time a client  of the integrity of the direct service providing components of services  associated with a transaction, and supporting components up to n levels removed from the direct service providing components, where n is equal to or greater than 1.","In other words, for power, capacity and\/or other reasons, servers  providing services  may be equipped to provide different levels of integrity assurance, some providing none, others providing a few, and yet others providing integrity assurance for components of many levels.","The meaning of the terms \u201cdirect service providing components\u201d and \u201csupporting components\u201d of one or more levels removed from the \u201cdirect service providing components\u201d may best be understood employing a component model, e.g. the Open System Interface (OSI) model, where supporting components can be thought of as supporting components of an application layer, a presentation layer, a session layer, a transport layer, a network layer, a data link layer and so forth.","Thus, if a client  invokes a component A of a service to engage in a transaction, and in the course of conducting the transaction, components B, C, and so forth of \u201clower\u201d layers are invoked to assist component A in the conduct of the transaction, component A is said to be the direct service providing component, and components B, C and so forth are said to be the supporting components of one or more layers or levels removed from component A.","For the purpose of this application, the terms \u201clayer\u201d and \u201clevel\u201d may be considered as synonymous.","Note that component A may be directly invoked or indirectly invoked e.g. through a web interface, an application programming interface or other interfaces of the like. Further, the OSI component or reference model is just one logical model or organization of the components of a service providing server . The present invention may be practiced with other logical models or organizations instead.","Continuing to refer to , client  is equipped with one or more service consuming applications . Additionally, it is also advantageously equipped with a real time integrity assurance manager . Real time integrity assurance manager  is equipped to request server , on behalf of service consuming applications  to assure the integrity of the service environment of services involved in a transaction, prior to requesting for the service of the server . More specifically, real time integrity assurance manager  is equipped to request real time integrity assurance manager  to assure for server , the integrity of the service environment of services involved in a transaction.","In alternate embodiments, real time integrity assurance manager  of client  may engage a server  in a transaction in parallel while requesting integrity assurance manager  for assurance of the integrity of the service environment of the services involved in the transaction. Real time integrity assurance manager  of client  may elect to accept or reject the result of the transaction, depending on whether integrity assurance manager  was able to assure integrity assurance manager  to its satisfaction of the integrity of the service environment of the services involved in the transaction.","Servers  and services  may be any servers and services known in the art, and client  may be any client devices known in the art, including but are not limited to wireless mobile phones, palm-sized computing devices, personal digital assistants, laptop computers, desktop computers, set-top box and so forth. Similarly, network  may be any local, regional, and wide area, public and\/or private networks known in the art.","Real time integrity assurance managers  and  will be further described after clients and servers  and  have been further described.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 2","b":["112","122","112","122","113","123","113","123","212","112","122","113","123","123"]},"Additionally, client  and server  include protocol services , real time integrity assurance managers  and  of the present invention, transmission security and services  and , coupled to each other and to applications  and services  as shown. Further, these elements execute in session\/networking (S\/N) layer  and transport layer  respectively, as shown. Examples of protocol services  include, but are not limited to HTTP, LDAP, IMAP, and so forth. Examples of transport security and service  include, but are not limited to SSL and TCP\/IP respectively.","In other words, the present invention contemplates that the functionalities or services of real time integrity assurance managers  and  may be explicitly used by applications  and , and protocol services  that are cognizant of the functionalities\/services offered by managers  and , i.e. through direct invocation and response . Alternatively, the functionalities or services of real time integrity assurance managers  and  may also be placed into operation by having managers  and  intercept the requests and responses between applications\/protocol services \/ and , and transport security and service  and .","Further, for ease of initial understanding, the description thus far has made a distinction between real time integrity assurance manager  of a client  versus real time integrity assurance manager  of a server , contemplating certain practices of the present invention, where certain devices will be equipped to play the role of either a client or a server, but not both. However, the present invention also contemplates that for certain implementations, a device may act in the role a client or a server at one point in time, for one transaction, but in the opposite role at another point in time, for another transaction. Further, a server  may also elect to engage a client  in a transaction only if the integrity of the application environment of client  is assured. Accordingly, from here on forward, the distinction will be removed, i.e. real time integrity assurance manager  and  will be described as similarly equipped, although as described earlier, they need only be complementarily equipped.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 3","b":["114","124","113","123","202","302","113","123","202","304"]},"However, if the request or response is of a type that requires the integrity of the execution environment of the opposing party of the transaction be assured, for the embodiment, application\/service \/ or  further determines whether the execution environment of the opposing party has been assured, block . If it is, application\/service \/ or  proceeds as in the prior art, block .","If not, for the embodiment, application\/service \/ or  invokes real time integrity assurance manager \/ to handle the request\/response on its behalf, block .","In various embodiments, the execution environment of the opposing party may be deemed assured if an assurance was received for not more than t time units. T may be an integer equal to or greater than zero. That is, in some embodiments, the execution environment of the opposing party may never be deemed assured (when T equals zero), especially for certain transactions. In general, whether the execution environment of the opposing party may be deemed assured for a duration, and if so, the length of the duration, are application dependent, i.e. depending on the integrity needs of particular transactions. Preferably, both the operational mode and duration(s) may be configurable, using any one of a number of configuration techniques known in the art. Implementation of such functions is well within the ability of those ordinarily skilled in the art, accordingly will not be further described.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 4","b":["114","124","114","124","112","122","402"]},"Thereafter, manager \/ awaits a request from a \u201clocal\u201d application\/service \/ or  or a request from its counterpart \/, blocks -.","If manager \/ receives a request\/response from a \u201clocal\u201d application\/service \/ or , it proceeds to service the \u201clocal\u201d request\/response, block . On the other hand, if manager \/ receives a request\/response from a counterpart \/, it proceeds to service the request\/response from its counterpart, block .","If no request\/response is received from either a \u201clocal\u201d application\/service \/ or , or its counterpart \/, manager \/ further determines whether it is time to recheck the integrity of the execution environment of its host device, i.e. client  or server .","In various embodiments, the integrity checking may be performed continuously, i.e. a new integrity checking may start as soon as one is completed.","Referring now to -wherein integrity checking on an exemplary client\/server, in accordance with one embodiment, is illustrated. More specifically, illustrates the operational flow of integrity checking, in accordance with one embodiment, and illustrates an associated data structure suitable for use to practice the integrity checking operations of . For the illustrated embodiment, the integrity checking operations to be described are also performed by real time integrity assurance manager \/. However, in alternate embodiments, the operations may be performed by other \u201cmanagers\u201d.","As illustrated in , for the embodiment, data structure  includes a root object  having a number of children Integrity Family objects , which in turn have a number of children Integrity Family Member objects .","Each Integrity Family object  includes in particular Integrity Family Identification and other attributes -.","Integrity Family Identification attribute  is employed to identify a \u201cfamily\u201d of components, from the perspective of integrity assurance. One example for organizing service providing components, direct or assisting, of services  into integrity families, for integrity assurance purpose, is organizing the components as described earlier, in accordance with a component model, e.g. the OSI reference models. That is, components are organized in accordance with whether the support services they provide are application support services, presentation support services, session support services, and so forth.","In alternate embodiments, the components may be organized in terms of whether the components are members of the kernel of the operating system, a shared\/non-shared library, whether the components have privileged access or not, and so forth. That is, the components are organized into the families of \u201cprivileged kernel components of the operating system\u201d, \u201cother privileged components of the operating system\u201d, \u201cnon-privileged components of the operating system\u201d, \u201cprivileged and non-shared library components\u201d, \u201cprivileged and shared library components\u201d, \u201cnon-privileged and non-shared library components\u201d, \u201cnon-privileged and shared library components\u201d, and so forth.","The term \u201cprivilege\u201d as used herein refers to the \u201cauthority\u201d of the component in performing certain operations on the host computing apparatus, e.g. whether the component may access certain registers and\/or memory locations of the host computing apparatus. Typically, the delineation between \u201cprivileged\u201d and \u201cnon-privileged\u201d entities is operating system dependent.","In alternate embodiments, other manners of organization may be practiced instead.","An example of an other attribute - is a Level of Compromise attribute . Level of Compromise attribute  may e.g. be employed to denote a risk level in the event a member of the integrity family fails an integrity check. The risk level enables real time integrity assurance manager \/ or other security management entities to determine remedial actions, based on the risk level. For example, in one embodiment, the risk level enables real time integrity assurance manager \/ to determine whether soft fail over may still occur.","Integrity based soft fail over is the subject matter of co-pending application, Ser. No. 10\/251,545, entitled \u201cComputing Environment and Apparatuses with Integrity based Fail Over\u201d, filed Sep. 19, 2002.","Another example of other attributes - is a Last Checked attribute  denoting the last time when components of the integrity family were checked.","Each Integrity Family Member object  includes in particular Member ID attribute , Member Type attribute , Integrity Measure attribute  and Last Checked attribute .","Member ID attribute  is employed to specifically denote or identify a component, e.g. the name of an executable, a system data, and so forth, whereas Member Type attribute  is employed to denote the type of the named component, i.e. whether it is an executable, a system data, and so forth. Integrity Measure attribute  denotes the measure to be employed to determine whether the integrity family member is to be considered compromised or not, e.g. a signature of an executable or a system data value. Signatures may be in the form of MD5, SHA-1, or other hashing values of like kind. Last Checked attribute  is employed to denote the last time integrity of the component was checked.","In alternate embodiments, other data organizations may be employed instead.","As described earlier, illustrates the process of integrity check more fully. As illustrated, manager \/ first selects an integrity family to start verifying its component, e.g. components of a layer\/level, or the privileged kernel of the operating system, block . Upon selecting an integrity family, manager \/ selects a member of the integrity family, block . The selection may be made using the earlier described data structure .","Upon selecting an integrity family member, manager \/ verifies its integrity, block . The action may include verifying the state of an executable component conforming to an expected signature, e.g. MD5 or SHA-1, or the state of a system data conforming to an expected value, and so forth.","At block , manager \/ determines whether the component\/data passes the verification check or not. If manager \/ determines the component\/data fails the verification check, it further determines if the failure is to be considered critical. The determination e.g. may be based on the severity of compromise associated with the component\/data's integrity family, block .","If the failure is to be deemed as a critical failure, manager \/ immediately terminates the verification process, and initiates one or more remedial actions, e.g. the earlier described example soft fail over process. On the other hand, if the failure is not deemed to be a critical failure, integrity assurance manager \/ merely logs the non-critical integrity failure, block , and continues at block .","Back at block , if manager \/ determines the component\/data passes the integrity verification, it also continues at block .","At block , manager \/ determines whether there are additional members of the selected integrity family remaining to be verified. If so, manager \/ returns to block , and continues from there as earlier described.","If all members of the selected integrity family have been verified, manager \/ continues at block , and determines whether there are additional integrity families remaining to be verified. If so, manager \/ returns to block , and continues from there as earlier described.","If all integrity families have been verified, the integrity verification is completed.",{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 6","b":["114","124","114","124","204","206"]},"As illustrated, for the embodiment, in response to a \u201clocal\u201d request\/response, manager \/ requests its counterpart manager \/ to authenticate itself, op . As described earlier, the request is submitted through the transport security\/service \/. Usage of transport security  to secure the transmission itself is optional.","On receipt of the request, for the embodiment, counterpart manager  responds with its certificate, and likewise requests manager  to authenticate itself, op . Similarly, the response is submitted through the transport security\/service \/. Usage of transport security  to secure the transmission itself is optional.","On receipt of the response, manager  authenticates manager  based on the provided certificate, op . The authentication process may be performed in any one of a number of known manner, accordingly, will not be further described.","Assuming manager  is successful in authenticating manager , manager  responds with its certificate, and requests manager  to authenticate itself, op .","On receipt of the response and new request, manager  authenticates manager  based on the provided certificate, op . Again, the authentication process may be performed in any one of a number of known manners.","Assuming manager  is successful in authenticating manager , manager  either responds with the requested integrity assurance, based on the results of its periodic\/continuous integrity checks, or rejects the request for integrity assurance, if the request is made in a manner including the integrity assurance requirement and manager  is unable to meet the requirement, for whatever reason, op .","The integrity requirement for a transaction may be communicated from application\/service  or  to manager  as part of the request. Alternatively, client  may be configured with integrity requirements of various transactions that are accessible to manager . The integrity requirement may even be configured using manager . Implementation of such facilities are within the ability of those ordinarily skilled in the art, accordingly will not be further described.","On receipt of the assurance, manager  determines whether the assurance meets the integrity requirement of client  for the transaction, op . As described earlier, the integrity requirement may be provided as part of the service request, or generally accessible to manager .","Assuming the assurance meets the integrity requirement of client  for the transaction, manager  submits the original request for service, on behalf of application\/service \/, op .","On receipt of the request, manager  routes the request to services  or  for handling, op .","On receipt of the service results from services  or , manager  forwards the results back to manager , op .","Manager  in turn forwards the results to application\/service \/, op .","At operation , if manager concludes that the integrity assurance receives from counterpart manager  does not meet the requirements of the transaction, manager  may abort the request, and inform application\/service \/ of the failure, as appropriate.","As described earlier, in alternate embodiment, managers \/ may engage each other to provide the integrity assurance of the service environment of server  for the transaction in parallel while the services for a transaction are being performed. The results of the transaction are accepted\/kept or rolled back when upon determining that server  is able to assure the integrity of its service environment to the satisfaction of manager .",{"@attributes":{"id":"p-0085","num":"0084"},"figref":"FIG. 7","b":["700","122","124","124","112"]},"As shown, computer system  includes one or more processors , and system memory . Additionally, computer system  includes mass storage devices  (such as diskette, hard drive, CDROM and so forth), input\/output devices  (such as keyboard, cursor control and so forth) and communication interfaces  (such as network interface cards, modems and so forth). The elements are coupled to each other via system bus , which represents one or more buses. In the case of multiple buses, they are bridged by one or more bus bridges (not shown).","Each of these elements performs its conventional functions known in the art. In particular, when employed as a server , system memory  and mass storage  are employed to store a working copy and a permanent copy of the programming instructions implementing real time integrity assurance manager  and so forth. On the other hand, when employed as a client , system memory  and mass storage  are employed to store a working copy and a permanent copy of the programming instructions implementing real time integrity assurance manager  and so forth. The permanent copy of the programming instructions may be loaded into mass storage  in the factory, or in the field, through e.g. a distribution medium (not shown) or through communication interface  (from a distribution server (not shown)).","The constitution of these elements - are known, and accordingly will not be further described.","Thus, it can be seen from the above descriptions, a novel computing environment with enhanced computing integrity, including apparatuses and methods employed or practiced therein has been described.","While the present invention has been described in terms of the foregoing embodiments, those skilled in the art will recognize that the invention is not limited to the embodiments described. The present invention can be practiced with modification and alteration within the spirit and scope of the appended claims. Thus, the description is to be regarded as illustrative instead of restrictive on the present invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention will be described by way of exemplary embodiments, but not limitations, illustrated in the accompanying drawings in which like references denote similar elements, and in which:",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 5","i":"a "},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 5","i":"b "},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
