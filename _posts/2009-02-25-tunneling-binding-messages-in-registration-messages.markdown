---
title: Tunneling binding messages in registration messages
abstract: A method, system, and medium are provided for updating bindings associated with a first mobile IP session by tunneling binding updates through registration messages associated with a second mobile IP session. A first mobile IP client provides binding updates to a second mobile IP client, which includes the binding updates in an extended registration request. The extended registration request is communicated to a mobile IP agent associated with the second mobile IP session. The request is parsed, and the binding updates are provided to a mobile IP agent associated with the first mobile IP session. Binding-update acknowledgements can be returned to mobile IP clients in a similar fashion.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08854991&OS=08854991&RS=08854991
owner: Sprint Communications Company L.P.
number: 08854991
owner_city: Overland Park
owner_country: US
publication_date: 20090225
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["SUMMARY","DETAILED DESCRIPTION"],"p":["Embodiments of the invention are defined by the claims below, not this summary. A high-level overview of embodiments of the invention are provided here for that reason, to provide an overview of the disclosure.","In a first illustrative embodiment, a set of computer-useable instructions provides a method of performing a registration process corresponding to a first mobile internet protocol (IP) session associated with a first mobile IP client located on a wireless communications device. According to an embodiment of the invention, the method includes retrieving informational elements associated with the first mobile IP session from the first mobile IP client. An extended registration request corresponding to a second mobile IP session is generated and includes the informational elements associated with the first mobile IP session. The extended registration request can be provided to a mobility agent. In some embodiments, an extended registration reply is received and parsed to extract binding-update informational elements associated with the first mobile IP session and providing those elements to the first mobile IP client.","In a second illustrative embodiment, a set of computer-useable instructions provides a method of performing a registration process corresponding to a mobile internet protocol version 6 (IPv6) session associated with a first mobile IP client located on a wireless communications device. According to an embodiment of the invention, this exemplary method includes determining that a mobile IPv6 session is active and receiving binding updates from the mobile IPv6 client. Embodiments of the method include generating a registration request corresponding to a mobile IPv4 session and including the binding updates corresponding to the IPv6 session as extensions to the mobile IPv4 registration request. The extended registration request can be provided to a mobility agent, which can return an extended registration reply. The exemplary method further includes extracting IPv6 binding-update acknowledge informational elements from the extended registration reply and providing the elements to the mobile IPv6 client.","In another illustrative embodiment, a system is provided for performing a registration process corresponding to a first mobile internet protocol (IP) session associated with a first mobile IP client located on a wireless communications device. According to an embodiment of the invention, this exemplary system includes a first mobile IP agent associated with a first mobile IP session, a second mobile IP agent associated with a second mobile IP session, and an inter-agent interface adapted to facilitate communication between the first and second mobile IP agents.","Throughout the description of the present invention, several acronyms and shorthand notations are used to aid the understanding of certain concepts pertaining to the associated system and services. These acronyms and shorthand notations are intended to help provide an easy methodology of communicating the ideas expressed herein and are not meant to limit the scope of embodiments of the invention.","Embodiments of the invention may be described in the general context of computer code or machine-useable instructions, including computer-executable instructions such as program modules, being executed by a computer or other machine, such as a personal data assistant or other handheld device. Generally, program modules including routines, programs, objects, components, data structures, etc., refer to code that perform particular tasks or implement particular abstract data types. Embodiments of the invention may be practiced in a variety of system configurations, including hand-held devices, consumer electronics, general-purpose computers, more specialty computing devices, and the like. Embodiments of the invention may also be practiced in distributed computing environments where tasks are performed by remote-processing devices that are linked through a communications network.","Computer-readable media include both volatile and nonvolatile media, removable and nonremovable media, and contemplates media readable by a database, a switch, and various other network devices. By way of example, and not limitation, computer-readable media comprise media implemented in any method or technology for storing information. Examples of stored information include computer-useable instructions, data structures, program modules, and other data representations. Media examples include, but are not limited to information-delivery media, random access memory (RAM), read-only memory (ROM), electrically erasable programmable read-only memory (EEPROM), flash memory or other memory technology, compact disc read-only memory (CD-ROM), digital versatile discs (DVD), holographic media or other optical disc storage, magnetic cassettes, magnetic tape, magnetic disk storage, and other magnetic storage devices. These technologies can store data momentarily, temporarily, or permanently.","An exemplary operating environment in which various embodiments of the invention may be implemented is described below in order to provide a general context for various embodiments of the invention. Referring initially to  in particular, an exemplary wireless operating environment for implementing embodiments of the invention is shown and designated generally as wireless communications device . Wireless device  is but one example of a suitable wireless computing environment and is not intended to suggest any limitation as to the scope of use or functionality of the invention. Neither should the wireless device  be interpreted as having any dependency or requirement relating to any one or combination of components illustrated. Wireless device  can include any number of suitable wireless communications devices such as, for example, cellular phones, personal data assistants (PDAs), and the like.","As shown, wireless device  includes a bus  that couples, directly or indirectly, the following illustrative components: a storage component , a processor , a display , a radio , input\/output ports , a mobile internet protocol (IP) client , and a power supply .","Storage components  may take the form of the aforementioned computer-readable media. As with all of the illustrative components of , although we refer to them sometimes in the singular, that should not be read so as to imply that we mean only a single of each of the components is contemplated within the scope of our invention. To the contrary, by way of example, storage component or components  may actually be composed of constituent storage components located within wireless device .","Processors  facilitate a flow of information among all or a portion of the components shown in  as well as computer-usable instructions that help facilitate various embodiments of the invention. For example, in one embodiment, an operating system of mobile device  also helps coordinate various functional embodiments of the invention. Processors  operate in connection with running such an operating system.","Radios  facilitate the communication of wireless communication signals to and from wireless device . Illustrative protocols that can be utilized in connection with an embodiment of the invention include code division multiple access (CDMA), time division multiple access (TDMA), global system for mobile communications (GSM), general packet radio service (GPRS), evolution-data optimized (EV-DO), WiFi\u2122, worldwide interoperability for microwave access (WiMax), and the like. The radios facilitate wireless communications between the device and a national or even global telecommunications network.","Input\/output ports  provide a way for wireless device  to interact with other peripheral components. Illustrative input\/output ports include an ear-piece or headphone jack, a USB port, an infrared port, and the like. Different input\/output ports could be provided as is needed to facilitate communication of other peripheral components.","Mobile IP client  facilitates communications over a network using internet protocol (IP). In embodiments, mobile IP client  can include hardware, software, firmware and the like. Mobile IP client  generally will be adapted for using one or two particular versions of IP. For example, in an illustrative embodiment, mobile device  includes a first mobile IP client adapted to communicate using a version 4 of IP (IPv4) and a second mobile IP client adapted to communicate using a version 6 of IP (IPv6). Mobile IP client  can facilitate communications between wireless device  and other clients within wireless device  as well as to any number of various locations on a network. In some embodiments, the mobile IP client  communicates directly with other wireless devices or computing devices. In an embodiment, mobile IP client  interacts with a mobility agent such as, for example, a home agent (HA) or a foreign agent (FA) located on a network.","Power supply  may also take on a variety of forms ranging from a battery to a charging mechanism to other forms of power sources that serve to provide power to wireless device .","The selected components of wireless device  are meant to be illustrative in nature, and the various lower-level details of the components are not described so as to not obscure embodiments of the invention. Clearly, some of the components may be absent in some embodiments of the invention, and additional components not shown may also be part of wireless device . Attempting to show all of the various components of wireless device  would obscure certain novel aspects, and we refrain from such elaboration at least for the sake of brevity.","Turning now to , a block diagram is shown that illustrates an exemplary network environment  in accordance with an embodiment of the invention. Network environment  includes wireless device  and mobility agent . Although not shown in , network environment  also can include presence servers, accounting nodes, content servers, and the like. In embodiments, network environment  is a mobile network. Network environment  can be any of the various types of mobile networks known in the art and can support, for example, any of the protocols mentioned above with respect to . In other embodiments, Network environment  can be a local area network (LAN) or a wide area network (WAN) such as the Internet.","Network environment  is merely an example of one suitable network environment and is not intended to suggest any limitation as to the scope of use or functionality of embodiments of the invention. Neither should network environment  be interpreted as having any dependency or requirement related to any single component or combination of components illustrated therein. Similarly, although lines of communication are shown in , these connections are intended to be illustrative only and should not be read to limit the configuration of connections in various implementations of embodiments of the invention.","Each of these elements of the network environment  is also scalable. That is, for example, network environment  can include a large number of wireless devices . Additionally, for example, mobility agent  may actually include a number of mobility agents, operating in parallel with a load balancer such that large amounts of traffic may be managed. Of course, the same is true with any of the other elements of the exemplary network environment  and the components thereof such as, for example, first mobile internet protocol (IP) client , second mobile IP client , first mobile IP agent , second mobile IP agent , and any other network element or server that may be employed in an embodiment of the present invention. Any or all of these components may be implemented using any number of server modules, devices, machines, and the like.","In some embodiments, wireless device  includes one or more mobile IP clients  and . Mobile IP clients  and  can include software components, program modules, application programming interfaces (APIs), firmware, software, hardware components, and the like. Mobile IP clients  and  generally facilitate communications with other devices using any number of various versions of IP. For example, in one embodiment, mobile IP client  facilitates communication sessions using version 4 of mobile IP (IPv4) and mobile IP client  facilitates communication sessions using version 6 of mobile IP (IPv6). In other embodiments, both mobile IP clients  and  use IPv4, and in further embodiments, one and\/or the other of mobile IP clients  and  can use any other type or version of internet protocol. It will be understood that IP sessions can include data sessions, voice sessions, video sessions, multimedia sessions, and any other type of communication that can be borne over IP.","With continued reference to , mobile IP client  includes a binding update module  and a client registration module . Binding update module  provides binding updates to mobility agent . Binding updates include informational elements that are used by a mobile IP agent ,  to update bindings associated with wireless device . The informational elements can include identifiers corresponding to the wireless device , the user, and the like. The informational elements can also include addressing information such as, for example, IP addresses, port numbers, socket identifiers, and the like. In one embodiment, binding updates include a home address and a care-of-address. It will be readily appreciated that additional types of information can be included within a binding update. According to various embodiments, binding updates may include informational elements that are required for processing a registration request, and in embodiments, binding updates can include optional informational elements.","Client registration module  includes logic that manages client registrations from the perspective of the mobile IP client . For example, client registration module  can maintain bindings, information associated with any number of IP sessions, communicate with mobile IP agents, communicate with other mobile IP clients, and the like. In one embodiment, client registration module  communicates with a second mobile IP client  and provides informational elements for updating bindings associated with a mobile IP session corresponding to the second mobile IP client .","In this manner, registration processes corresponding to the mobile IP session associated with the first mobile IP client  can be performed by communicating the binding updates by way of a registration request sent by a second mobile IP client  to mobility agent . For example, in an embodiment, mobile IP client  corresponds to an IPv6 session and provides informational elements for updating bindings associated with the IPv6 session to mobile IP client . Mobile IP client  can then package the IPv6 binding updates inside, for example, an IPv4 registration message and communicate the message to mobility agent . Additionally, mobile IP client  can receive registration acknowledgement messages (e.g., replies, binding update acknowledgements, etc.) from mobility agent . The reply messages can include binding update acknowledgements associated with the IPv6 session, which mobile IP client  provides to client registration module of mobile IP client . As further illustrated in , mobile IP clients  and  can communicate with one another via an inter-client interface . Inter-client interface  can include various software modules, components, and the like. For example, in one embodiment, inter-client interface  is an API.","As shown in , mobile IP client  includes tunneling module , which cooperates with client registration module , binding update module  and mobile IP client  to tunnel binding updates through the IP sessions associated with mobile IP client . For example, tunneling module  can process informational elements received from mobile IP client  such that the informational elements can be included with a registration message associated with mobile IP client . In some embodiments, tunneling module  can construct registration messages, extensions for registration messages, header information for registration messages, payloads, and the like. In one embodiment, for example, tunneling module  and client registration module  cooperate to generate an extended registration message associated with mobile IP client  that includes binding update informational elements associated with mobile IP client  as extensions.","In some embodiments, tunneling module  parses registration reply messages associated with mobile IP client  to extract binding update acknowledgement information (e.g., registration replies) associated with mobile IP client . Tunneling module  can then provide the registrations reply associated with mobile IP client  to mobile IP client  and can forward the registration information associated with mobile IP client  to client registration module . Client registration module  can include logic necessary to generate registration requests, extended registration requests, and the like. It should be understood that mobile IP clients  and  can include any number of different components not illustrated in . Additionally, mobile IP clients  and  can include one or two modules that perform all of the functions described herein. In some embodiments, various processes can be divided amongst numerous modules or components.","As illustrated in , mobility agent  includes a first mobile IP agent , a second mobile IP agent , and an inter-agent interface , which facilitates communication between the two mobile IP agents  and . Any number of mobility agent  or mobile IP agents  and  can be a server, computing device, or other network component capable of providing services to wireless device . In an embodiment, for example, mobility agent  includes a foreign agent (FA) or a home agent (HA). In an embodiment, mobile IP agents  and  are each implemented on a separate machine. In other embodiments, mobile IP agents  and  are implemented on a single machine or a distributed processing system using several interconnected machines. In a further embodiment, combinations of the mobile IP agents  and  can be implemented on any number of machines and according to any number of various combinations.","The components of mobility agent  are also scalable. That is, in embodiments of the invention, there can be varying numbers of components. For instance, in one embodiment, mobility agent  includes one of each of mobile IP agent  and . In another embodiment, mobility agent  can include many of each of the components  and . Any number of configurations that operate to provide communications capabilities as described below can be suitable for implementing embodiments of the present invention.","In various embodiments, mobility agent  maintains mobility bindings associated with wireless device . A mobility binding generally includes a transparent binding of the home address of the wireless device  and with its care-of-address. For example, in an embodiment, mobility agent  is a home agent (e.g., in the home network of wireless device ) and maintains mobility bindings for wireless device  in a mobility binding table. A mobility binding table can be a table, index, database, and the like, and includes the home address of wireless device , a care-of-address associated with wireless device , and an indication of the lifetime of the association between the two addresses. In other embodiments, mobility binding tables can include additional information such as media addresses, port addresses, time-stamps, cached content, metadata, and the like. Mobility bindings are used by mobility agent  as part of the process of registering wireless device , as will be appreciated by those that understand the art. There are many different types of registration processes that mobility agent  can perform, and any of these is considered to be within the ambit of the invention.","In one embodiment of the invention, mobile IP agent  is adapted to process mobile IPv4 registration requests received from a mobile client  and mobile IP agent  is adapted to process mobile IPv6 registration requests received from a mobile client . In other embodiments, mobile IP agents  and  can be adapted to process registration requests associated with any number of other versions, adaptations, and implementations of mobile IP. As depicted in , mobile IP agent  includes an agent registration module  and a binding module . According to various embodiments, agent registration module  utilizes binding module  to maintain current bindings associated with wireless device . In some embodiments, binding module  receives binding updates associated with mobile client .","Mobile IP agent  includes an agent registration module , a binding update module , and a tunneling module . Agent registration module  facilitates registration processes associated with mobile IP agent . For instance, in one embodiment, mobile IP agent  can receive registration requests from a mobile IP client . The registration requests can be parsed in a tunneling module  to extract binding updates and\/or other information associated with a second IP session and mobile IP client . Tunneling module  can provide the binding updates to mobile IP agent  and binding updates associated with mobile IP agent  can be provided to binding update module . Binding update acknowledgement information can be provided by tunneling module  to mobile IP agent , where the information may be packaged with registration reply messages associated with mobile IP agent . The binding update acknowledgement information can be included in registration reply messages associated with mobile IP agent  as extensions, tails, and the like.","Turning now to , a series of block diagrams is shown that illustrates an exemplary use scenario of embodiments of the invention. Wireless device  includes a mobile IP client  and mobile IP client . Mobile IP client  and mobile IP client  can communicate in various ways such as, for example, directly, or via an inter-client interface . For the sake of clarity with respect to the present discussion of , the exemplary implementation shall be understood to be one in which mobile IP client  is associated with an IPv6 session and that mobile IP client  is associated with an IPv4 session. According to embodiments, either the IPv4 or IPv6 sessions may have been established before the other. Additionally, in some embodiments, the IPv4 and IPv6 sessions are independent, stand-alone sessions, and in other embodiments, the IPv4 and IPv6 sessions are interdependent but capable of being rendered independent without disrupting communications in either session significantly.","As shown in , mobile IP client  includes client registration module  that communicates with tunneling module  via inter-client interface . In an embodiment, tunneling module  determines whether there is an active IP session associated with mobile IP client . In some embodiments, this determination is made by querying client registration module . In other embodiments, tunneling module  receives information pushed from client registration module .","With reference to , client registration module  receives binding updates (e.g., informational elements)  from binding update module . In embodiments, client registration module  provides the binding updates  to mobile IP client  via inter-client interface . For example, as shown in , client registration module  communicates, via inter-client interface , binding updates  to tunneling module .","As further illustrated in , client registration module  receives binding updates  and\/or other registration information associated with mobile IP client  from binding update module . Client registration module  also receives binding update informational elements  associated with mobile IP client  from tunneling module . In an embodiment, client registration module  generates an extended registration message . Registration message  can include a data packet or a number of data packets. In embodiments, registration message  includes binding updates  associated with mobile IP client . As depicted in , registration message  can also include binding updates  associated with mobile IP client  as extensions, addendums, headers, tails, and the like. Once an extended registration message  is generated, it can be communicated to a mobility agent (not illustrated) for performing registration processes.","Turning to , a block diagram illustrates an exemplary mobility agent  in accordance with various embodiments of the invention. As illustrated, mobility agent  includes a first mobile IP agent  and a second mobile IP agent  that communicate with one another via inter-agent interface . Mobile IP agent  includes a binding update module  and an agent registration module . As further illustrated in , mobile IP agent  includes a binding update module , an agent registration module , and a tunneling module .","According to an exemplary implementation of an embodiment of the invention, agent registration module  receives an extended registration request message  and parses the message  to extract binding updates  and provide the binding updates  to tunneling module . Tunneling module  provides the extracted binding updates  to agent registration module , via inter-agent interface . Agent registration module  also extracts binding updates  and provides the binding updates  to binding module  for updating bindings associated with an IP session corresponding to mobile IP agent .","Turning briefly to , another block diagram is shown that depicts an exemplary mobility agent  in accordance with various implementations of an embodiment of the invention. As shown in , binding update module  generates a registration reply , which can contain any number of various types of information. For example, registration reply  can include binding update acknowledgement informational elements or indicators. As further depicted in , agent registration module  provides the registration reply  to tunneling module  associated with mobile IP agent . Agent registration module  receives the registration reply  from tunneling module  as well as a registration reply  associated with mobile IP agent  from binding module . Agent registration module  includes the registration reply  in a registration reply message . Registration reply message  also includes the registration reply  and can further include various headers, extensions, tails, and the like. In some embodiments, registration reply  can be included as an extension to registration reply message . In other embodiments, registration reply  can be included in a header associated with registration reply message .","To recapitulate, we have described systems and methods for performing a registration process corresponding to a first mobile internet protocol (IP) session associated with a first mobile IP client located on a wireless communications device. Turning now to , a flow diagram is shown that illustrates an exemplary method  of performing a registration process corresponding to a first mobile internet protocol (IP) session associated with a first mobile IP client located on a wireless device. At a first illustrative step , a second mobile IP client retrieves informational elements associated with a first mobile IP session from the first mobile IP client. In some embodiments, the informational elements can be binding updates, identifiers, and the like. At step , the second mobile IP client generates an extended registration request message. The extended registration request message includes a registration request message associated with the second mobile IP session and the binding updates corresponding to the first mobile IP session. In various embodiments, the binding updates corresponding to the first mobile IP session can be included in the message as extensions.","At step , the second mobile IP client provides the extended registration reply message to a mobility agent. Accordingly, as illustrated at step , the second mobile IP client receives an extended registration reply from the mobility agent. The extended registration reply message includes binding update acknowledgement information or indicators associated with each of the two mobile IP clients. Thus, as shown at step , the second mobile IP client parses the extended registration reply message to extract the binding update acknowledgments corresponding to the first mobile IP client. As shown in a final illustrative step , the extracted binding update acknowledgments are provided to the first mobile IP client.","Referring to , a flow diagram is shown that illustrates an exemplary method for performing a registration process corresponding to a mobile internet protocol version 6 (IPv6) session associated with a first mobile IP client located on a wireless device. At a first illustrative step , a mobile internet protocol version 4 (IPv4) client determines that a mobile IPv6 session with the mobile IPv6 client is active. In some embodiments, this determination includes first determining that the IPv6 session exists. In other embodiments, illustrative step  is not included.","As shown at step , the mobile IPv4 client receives a plurality of informational elements (e.g., binding updates) from the mobile IPv6 client. Additionally, the mobile IPv4 client generates or identifies binding updates corresponding to an IPv4 session. At step , the mobile IPv4 client generates a registration request message corresponding to the IPv4 session. As illustrated at step , the mobile IPv4 client can generate an extended registration request by including the binding updates for the IPv6 session in the registration request message, for example, as extensions. The mobile IPv4 client can provide the extended registration request to a mobility agent, as shown at step .","At step , the mobile IPv4 client receives a registration reply message from the mobility agent. In embodiments, the mobile IPv4 client parses the registration reply message to extract a registration reply message, binding update acknowledgement information, and the like associated with the IPv6 session. Binding update acknowledgement informational elements can be provided to the mobile IPv6 client to complete the registration process with respect to the IPv6 session.","Many different arrangements of the various components depicted, as well as components not shown, are possible without departing from the spirit and scope of the invention. Embodiments of the invention have been described with the intent to be illustrative rather than restrictive. It will be understood that certain features and subcombinations are of utility and may be employed without reference to other features and subcombinations and are contemplated within the scope of the claims. Further, not all steps listed in the various figures need be carried out in the specific order described, unless specifically prescribed.","For example, embodiments of the invention provide for performing registration processes associated with two different IP sessions that are wholly independent of one another by tunneling binding updates corresponding to a first mobile IP session through registration request messages corresponding to a second mobile IP session. In embodiments, either one of the mobile IP sessions could be discontinued such as, for example, by performing a deregistering process corresponding to one of the mobile IP clients, without affecting the other mobile IP session.","In other embodiments of the invention, any number of mobile IP clients can be included on a wireless device, and in some embodiments, a single IP client can be included on a wireless device. In various embodiments, a mobile IP client can be adapted to facilitate communication sessions using a number of different versions or types of IP. According to embodiments, for example, a mobile IP client can facilitate video communications, interactive games, global positioning system (GPS) applications, and the like. In further embodiments, mobility agents can be implemented in any number of ways to achieve efficiencies.","According to still further embodiments of the invention, binding updates and other related information associated with one mobile IP client can be opaque to another mobile IP client. In some embodiments, a first mobile IP client provides binding updates to a second mobile IP client, but the second mobile IP client need only be able to determine attributes associated with that data in order to tunnel the data through registration messages. Similarly, a first mobile IP agent may be able to identify, parse, and extract information associated with a second mobile IP agent from an extended registration request message, but in some instances, may not be able to process or \u201cunderstand\u201d the information. It should be understood that various levels of opacity can be employed in various implementations."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS","p":["Illustrative embodiments of the present invention are described in detail below with reference to the attached drawing figures, which are incorporated by reference herein and wherein:",{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
