---
title: Clock control signal generation circuit, clock selector, and data processing device
abstract: Provided are a technique for high-speed switching between clock signals different in frequency, and a clock-control-signal-generation circuit which serves to generate a control signal for clock switching in a clock selector operable to switch between clock signals including a first clock signal based on first and second clock-stop-permission signals and a clock-resume-permission signal. The clock-control-signal-generation circuit includes: a before-switching clock processing unit; and an after-switching clock processing unit. In each of the before-and after-switching clock processing units, the high-frequency clock processing subunit and the low-frequency clock processing subunit take partial charges of processing of clock signals involved in the switching respectively, whereby the processing is speeded up.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08375239&OS=08375239&RS=08375239
owner: Renesas Electronics Corporation
number: 08375239
owner_city: Kawasaki-shi
owner_country: JP
publication_date: 20110225
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CLAIM OF PRIORITY","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","1. DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS","2. FURTHER DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["The Present application claims priority from Japanese application JP 2010-042771 filed on Feb. 26, 2010, the content of which is hereby incorporated by reference into this application.","The present invention relates to a clock-control-signal-generation circuit operable to generate a signal for controlling a clock signal, a clock selector operable to select, from among clock signals out of synchronization with each other, one clock signal, and output the select one, and a data processor including the clock-control-signal-generation circuit and clock selector.","Japanese Unexamined Patent Publication No. JP-A-2007-86960 discloses a clock-switching circuit which can switch a clock without generating a hazard and a collapse of duty rate. The clock-switching circuit has: a first synchronizing circuit for synchronizing a clock-select signal by a first clock; a second synchronizing circuit for synchronizing the clock-select signal, which the first synchronizing circuit has synchronized by the first clock, by a second clock; and a clock selecting circuit for outputting a \u201c1\u201d (High level) in synchronization with the clock-select signal, which the first synchronizing circuit has synchronized by the first clock, and for selecting a second clock in synchronization with the clock-select signal, which the second synchronizing circuit has synchronized by the second clock.","Japanese Unexamined Patent Publication No. JP-A-10-154020 discloses a technique for a clock-switching circuit operable to perform switching control in synchronization with a level inversion edge of a clock arising at the clock level inversion of the clock, by which a means for monitoring the level of each clock is provided, and the output-stop control of a clock before switching is performed without waiting for a level inversion edge of the before-switching clock immediately after detection of the before-switching clock staying at a non-valid level.","Japanese Unexamined Patent Publication No. JP-A-2004-166194 discloses a technique for preventing oscillating components of a metastable or a glitch from entering an output signal. According to JP-A-2004-166194, on condition that a new clock signal different from a clock signal under outputting is selected in a select signal, an output signal is held at Low level in synchronization with a falling of the clock signal under outputting. After the level holding, a state signal indicating no selection of all clock signals is output and in response to the state signal, an enable signal for validating the selection of all clock signals is generated to validate the selection of a new input signal by the select signal. The validated new input signal is output in synchronization with its falling. When a state signal indicating the new input signal under selecting is then output, an enable signal is generated for validating the selection of an input signal under selecting based upon the state signal and for invalidating the selection of the other input signal.","According to the technique described in JP-A-2007-86960, a means for clock synchronization to take a measure against a glitch, and a combination of series-connected flip-flops of two stages, as a measure against a metastable which would take place in a flip-flop owing to the glitch, are used. As a result, the clock selector involves a time of up to two cycles of a clock before switching between the change of the clock-select signal and the stop of the clock, and needs a time of up to three cycles between the stop of the clock and the resumption of the clock. Therefore, the sum of these kinds of time makes the time required for the clock switching. Now, it is noted here that the time when the rising edge of the clock after the switching first comes is defined as the time of \u201cresumption of the clock\u201d.","For example, on condition that the frequency of a clock before switching is 32 kHz, and that of a clock after switching is 100 MHz, a total of 62.5 micro seconds will be taken for the switching. The time represents periods of 6250 cycles of the 100-MHz clock after switching. In light of the time of one cycle of the high-frequency clock after switching, the fact implies that a great deal of time will be lost as a standby time. Almost all of the switching time of 62.5 micro seconds is the time taken for a process using the low-frequency (32 kHz) clock before switching. Therefore, a processing time of a process using a low-frequency clock is considered to make an obstructive factor to the speedup of clock switching. Such tendency becomes more remarkable as the difference in clock frequency between before and after switching widens.","Microcomputer systems are equipped with, as a clock generator, a PLL (Phase Locked Loop) for multiplying, in frequency, a reference clock supplied by an externally attached quarts oscillator thereby to generate a clock of a high frequency, e.g. 100 MHz, and a 32-kHz clock generator for a timepiece. Further, in recent years, a self-running on-chip oscillator of a high frequency, e.g. 40 MHz, and a self-running on-chip oscillator of a low frequency, e.g. 125 kHz, are sometimes provided in a microcomputer system for the purpose of eliminating the need for an externally attached quartz oscillator thereby to cut the system cost. Such independent clock generators are in asynchronism with each other. For example, a clock selector is provided in a microcomputer system like this, and serves to select one signal from among clock signals supplied by the asynchronous clock generators as described above, and to supply the selected clock signal to an appropriate functional block inside the microcomputer system. A microcomputer system typically works on a clock of a high frequency, e.g. 100 MHz, in high-speed operation mode. However, to meet the demand for the reduction in power consumption, a microcomputer system is controlled as follows. That is, the operation mode of the system is monitored, and in this condition, if it is detected that the system is in abeyance, the clock frequency is lowered to, e.g. 32 kHz, and then the system goes into a power-saving mode. The step of changing the clock frequency is actually conducted by a clock selector switching the clock to another clock having a different frequency. Usually, a generator of a clock, which has not been selected by the clock selector in the switching, is controlled to a condition where its oscillation is stopped in order to cut the power consumption.","On the assumption that the microcomputer system returns from the power-saving mode for 32-kHz clock operation to the high-speed-operation mode for 100-MHz clock operation, a standby time representing the time of 6250 cycles of the clock after switching is expected to be created at the switching from the 32-kHz clock to the 100-MHz clock in a conventional clock selector, as described above. The standby time can cause a serious malfunction in an application to e.g. a controller such that the practicability of real-time processing is a key requirement. In addition, the operating time of a high-frequency clock generator like PLL, which consumes a large power, is made longer, which is considered to be an obstacle to achieving the reduction of power consumption.","According to the JP-A-10-154020, in a clock-switching circuit, a circuit for monitoring a falling edge is provided for each clock. However, for a low-speed clock, a circuit for monitoring a level of a clock and a circuit for monitoring two types of edges of a clock after switching are provided additionally. Therefore, if the kind of the low-speed clock increases, the circuit scale is expected to become larger because a circuit for monitoring the level of a clock and a circuit for monitoring two types of edges of a clock after switching must be provided for each kind of low-speed clock. Further, in this case, the select procedure followed in taking high-speed clocks into the circuit for monitoring two types of edges is complicated, and the circuit scale is expected to increase consequently.","According to JP-A-2004-166194, a hedge circuit which involves the use of a high-speed reference clock and is separately prepared, is provided in parallel with a cascaded structure of latch circuits different from each other in logic for detection. As to the hedge circuit like this, the same number of the hedge circuits as the number of clocks are required. Therefore, the increase in the number of clocks is expected to increase the circuit scale.","It is an object of the invention to provide a technique for switching between clock signals having different frequencies at a high speed.","It is another object of the invention to provide a technique for switching between clock signals having different frequencies, without increasing of the circuit scale.","The above and other objects of the invention and novel features thereof will be apparent from the description hereof and the accompanying drawings.","Of the preferred embodiments of the invention herein disclosed, representative one will be described below in brief outline.","A clock-control-signal-generation circuit according to the preferred embodiment serves to generate a control signal for clock switching in a clock selector operable to switch between clocks including a first clock signal based on first and second clock-stop-permission signals and a clock-resume-permission signal. The clock-control-signal-generation circuit includes a before-switching clock processing unit, and an after-switching clock processing unit. The before-switching clock processing unit includes a first high-frequency clock processing subunit which makes active and outputs a first detection signal on detection of a first state of a second clock signal on condition that a switching-trigger signal is active. Further, the before-switching clock processing unit includes a first low-frequency clock processing subunit which makes active and outputs a second detection signal on detection of a first state of a third clock signal on condition that the switching-trigger signal is active, and which makes active and outputs a third detection signal on detection of a second state of the third clock signal on condition that the switching-trigger signal is active. The before-switching clock processing unit makes active and outputs the first clock-stop-permission signal on condition that one of the first and second detection signals is active. Also, the before-switching clock processing unit makes active and outputs the second clock-stop-permission signal on condition that the third detection signal is active. The after-switching clock processing unit includes a second high-frequency clock processing subunit which makes active and outputs a fourth detection signal on detection of a first state of a fourth clock signal on condition that the first clock-stop-permission signal is active, and which makes active and outputs a fifth detection signal on detection of a second state of the fourth clock signal on condition that the second clock-stop-permission signal is active. Also, the after-switching clock processing unit includes a second low-frequency clock processing subunit which makes active and outputs a sixth detection signal on detection of a first state of a fifth clock signal on condition that the first clock-stop-permission signal is active, and which makes active and outputs a seventh detection signal on detection of a second state of the fifth clock signal on condition that the second clock-stop-permission signal is active. The after-switching clock processing unit makes active and outputs the clock-resume-permission signal on condition that one of the fourth to seventh detection signals is active.","Next, the effects which the representative embodiment achieves is briefly as follows.","The first effect is that a technique for switching between clock signals having different frequencies at a high speed can be provided. The second effect is that it is possible to achieve a high-speed switching between clocks having different frequencies with no increase in the circuit scale.","Of the embodiments of the invention herein disclosed, the representative embodiment will be outlined first. Here, the reference numerals and the like for reference to the drawings, which are accompanied with paired round brackets, only exemplify what the concepts of members and elements referred to by the numerals, and the like contain.","[1] The clock-control-signal-generation circuit () according to the representative embodiment of the invention generates a control signal for clock switching, and is placed in a clock selector operable to switch between clock signals including a first clock signal based on first and second clock-stop-permission signals and a clock-resume-permission signal. The clock-control-signal-generation circuit includes: a before-switching clock processing unit (); and an after-switching clock processing unit ().","The before-switching clock processing unit () includes a first high-frequency clock processing subunit () which makes active and outputs a first detection signal on detection of a first state of a second clock signal on condition that a switching-trigger signal is active. In addition, the before-switching clock processing unit () includes a first low-frequency clock processing subunit () which makes active and outputs a second detection signal on detection of a first state of a third clock signal on condition that the switching-trigger signal is active, and which makes active and outputs a third detection signal on detection of a second state of the third clock signal on condition that the switching-trigger signal is active. Further, the before-switching clock processing unit () makes active and outputs the first clock-stop-permission signal on condition that one of the first and second detection signals is active, and the before-switching clock processing unit makes active and outputs the second clock-stop-permission signal on condition that the third detection signal is active.","The after-switching clock processing unit () includes a second high-frequency clock processing subunit () which makes active and outputs a fourth detection signal on detection of a first state of a fourth clock signal on condition that the first clock-stop-permission signal is active, and which makes active and outputs a fifth detection signal on detection of a second state of the fourth clock signal on condition that the second clock-stop-permission signal is active. The after-switching clock processing unit () further includes a second low-frequency clock processing subunit () which makes active and outputs a sixth detection signal on detection of a first state of a fifth clock signal on condition that the first clock-stop-permission signal is active, and which makes active and outputs a seventh detection signal on detection of a second state of the fifth clock signal on condition that the second clock-stop-permission signal is active. Moreover, the after-switching clock processing unit () makes active and outputs the clock-resume-permission signal on condition that one of the fourth to seventh detection signals is active.","As described above, a factor obstructive to the speedup of clock switching is a processing time in the case of using a low-frequency clock. Hence, the before-switching clock processing unit () and the after-switching clock processing unit () each have a high-frequency clock processing subunit and a low-frequency clock processing subunit as processing subunits for exclusive use. The high-frequency clock processing subunit and the low-frequency clock processing subunit take partial charges of processing of clock signals involved in the switching respectively, whereby the processing is speeded up. Thus, the speedup of switching between clock signals can be achieved.","[2] The clock-control-signal-generation circuit as described in [1] may further include a first clock-select unit () and a second clock-select unit ().","The first clock-select unit () accepts inputs of a first clock group of clock signals, and a second clock group of clock signals lower than the first clock group of clock signals in frequency. Then, the first clock-select unit () selects one clock signal from among the first clock group to output the selected clock signal as the second clock signal according to a value of current-select signal, selects one clock signal from among the second clock group to output the selected clock signal as the third clock signal according to a value of the current-select signal, and outputs one of a signal produced based on the second clock signal and a signal produced based on the third clock signal, as the first clock signal.","The second clock-select unit () accepts inputs of the first and second clock groups, selects one clock signal from among the first clock group to output the selected clock signal as the fourth clock signal according to a value of a new-select signal, and selects one clock signal from among the second clock group to output the selected clock signal as the fifth clock signal according to a value of the new-select signal.","As the first clock-select unit (), and the second clock-select unit () are provided, the clock-control-signal-generation circuit () can be shared for more than one clock inputs. Therefore, even if clock signals to select are increased in kind or number, the increase can be readily handled only by increasing the clock-select numbers of the first clock-select unit () and the second clock-select unit (). Hence, the increase of the circuit scale can be averted.","[3] In regard to the clock-control-signal-generation circuit as described in [1], the first high-frequency clock processing subunit may includes a logic (, ) working on detection of a first state of the second clock signal. The first low-frequency clock processing subunit may includes a logic () working on detection of a first state of the third clock signal, and a logic () working on detection of a second state of the third clock signal. The second high-frequency clock processing subunit may includes a logic (,) working on detection of a first state of the fourth clock signal, and a logic (, ) working on detection of a second state of the fourth clock signal.","In addition, the second low-frequency clock processing subunit may includes a logic (, ) working on detection of a first state of the fifth clock signal, and a logic (, ) working on detection of a second state of the fifth clock signal.","With the clock-control-signal-generation circuit arranged as described above, the first state of the second clock signal is a falling edge of the second clock signal; the first state of the third clock signal is a logic Low level of the third clock signal; the second state of the third clock signal is a logic High level of the third clock signal; and the first state of the fourth clock signal is a falling edge of the fourth clock signal. In addition, the second state of the fourth clock signal is a rising edge of the fourth clock signal; the first state of the fifth clock signal is a rising edge of the fifth clock signal; and the second state of the fifth clock signal is a falling edge of the fifth clock signal.","[4] The clock-control-signal-generation circuit as described in [3] may have a first clock-select unit (), and a second clock-select unit ().","The first clock-select unit () accepts inputs of a first clock group of clock signals and a second clock group of clock signals lower than the first clock group of clock signals in frequency. Further, the first clock-select unit () selects one clock signal from among the first clock group to output the selected clock signal as the second clock signal according to a value of a current-select signal, and selects one clock signal from among the second clock group to output the selected clock signal as the third clock signal according to a value of the current-select signal, and outputs, as the first clock signal, one of signals produced by delaying the second and third clock signals by a given time.","The second clock-select unit () accepts inputs of the first and second clock groups, selects one clock signal from among the first clock group to output the selected clock signal as the fourth clock signal according to a value of a new-select signal, and selects one clock signal from among the second clock group to output the selected clock signal as the fifth clock signal according to a value of the new-select signal.","[5] In regard to the clock-control-signal-generation circuit as described in [1], the first high-frequency clock processing subunit may include a logic (, ) working on detection of a first state of the second clock signal. The first low-frequency clock processing subunit may include a logic (, ) working on detection of a first state of the third clock signal, and a logic (, ) working on detection of a second state of the third clock signal. The second high-frequency clock processing subunit may include a logic (, ) working on detection of a first state of the fourth clock signal, and a logic (, ) working on detection of the second state of the fourth clock signal. The second low-frequency clock processing subunit may include a (, ) working on detection of a first state of the fifth clock signal, and a logic (, ) working on detection of a second state of the fifth clock signal.","With the clock-control-signal-generation circuit arranged as described above, the first state of the second clock signal is a falling edge of the second clock signal; the first state of the third clock signal is a falling edge of the third clock signal; the second state of the third clock signal is a rising edge of the third clock signal; and the first state of the fourth clock signal is a falling edge of the fourth clock signal. In addition, the second state of the fourth clock signal is a rising edge of the fourth clock signal; the first state of the fifth clock signal is a falling edge of the fifth clock signal; and the second state of the fifth clock signal is a rising edge of the fifth clock signal.","[6] The clock-control-signal-generation circuit as described in [5] may include a first clock-select unit (), and a second clock-select unit ().","The first clock-select unit () accepts inputs of a first clock group of clock signals and a second clock group of clock signals lower than the first clock group of clock signals in frequency. Then, the first clock-select unit () selects one clock signal from among the first clock group to output the selected clock signal as the second clock signal according to a value of a current-select signal, and selects one clock signal from among the second clock group to output the selected clock signal as the third clock signal according to a value of the current-select signal, and outputs one of the second and third clock signals as the first clock signal.","The second clock-select unit () accepts inputs of the first and second clock groups, selects one clock signal from among the first clock group to output the selected clock signal as the fourth clock signal according to a value of a new-select signal, and selects one clock signal from among the second clock group to output the selected clock signal as the fifth clock signal according to a value of the new-select signal.","[7] According to another embodiment of the invention, a clock selector () including the clock-control-signal-generation circuit () as described in [2] may be arranged. In this case, the clock selector () may have a gating control unit (). The gating control unit () makes nonactive and outputs a first gating-control signal on condition that the first clock-stop-permission signal is active, and the clock-resume-permission signal is nonactive, and makes nonactive and outputs a second gating-control signal on condition that the second clock-stop-permission signal is active and the clock-resume-permission signal is nonactive. Further, the clock selector () may include a clock-gating unit (). The clock-gating unit outputs an output clock signal fixed at a logic Low level on condition that the first gating-control signal is nonactive. Further, the clock-gating unit outputs the output clock signal fixed at a logic High level on condition that the second gating-control signal is nonactive. Moreover, the clock-gating unit outputs the first clock signal as the output clock signal on condition that the first and second gating-control signals are both active. The clock selector () may also include a first select-signal-holding unit () which holds a value of a clock-select signal and outputs the clock-select signal as the new-select signal in response to change of the switching-trigger signal from nonactive to active. In addition, the clock selector () may have a second select-signal-holding unit () which holds a value of the new-select signal and outputs the new-select signal as the current-select signal after an elapse of a given time following change of one of the first and second gating-control signals from active to nonactive.","[8] According to another embodiment of the invention, a clock selector including the clock-control-signal-generation circuit as described in [4] may be arranged. Further, the clock selector has a gating control unit () which makes nonactive and outputs a first gating-control signal on condition that the first clock-stop-permission signal is active, and the clock-resume-permission signal is nonactive, and which makes nonactive and outputs a second gating-control signal on condition that the second clock-stop-permission signal is active and the clock-resume-permission signal is nonactive.","In addition, the clock selector may have a clock-gating unit () which outputs an output clock signal fixed at a logic Low level on condition that the first gating-control signal is nonactive, which outputs the output clock signal fixed at a logic High level on condition that the second gating-control signal is nonactive, and which outputs the first clock signal as the output clock signal on condition that the first and second gating-control signals are both active.","The clock selector may further include a first select-signal-holding unit () and a second select-signal-holding unit (). The first select-signal-holding unit holds a value of a clock-select signal and outputs the clock-select signal as the new-select signal in response to change of the switching-trigger signal from nonactive to active. The second select-signal-holding unit holds a value of the new-select signal and outputs the new-select signal as the current-select signal after an elapse of a given time following change of one of the first and second gating-control signals from active to nonactive.","[9] According to another embodiment of the invention, a clock selector including the clock-control-signal-generation circuit as described in [6] may be arranged. In this case, the clock selector may have a gating control unit (). The gating control unit makes nonactive and outputs a first gating-control signal on condition that the first clock-stop-permission signal is active, and the clock-resume-permission signal is nonactive, and which makes nonactive and outputs a second gating-control signal on condition that the second clock-stop-permission signal is active and the clock-resume-permission signal is nonactive.","Also, the clock selector may have a clock-gating unit (). The clock-gating unit outputs an output clock signal fixed at a logic Low level on condition that the first gating-control signal is nonactive, which outputs the output clock signal fixed at a logic High level on condition that the second gating-control signal is nonactive, and which outputs the first clock signal as the output clock signal on condition that the first and second gating-control signals are both active.","Further, the clock selector may have a first select-signal-holding unit () which holds a value of a clock-select signal and outputs the clock-select signal as the new-select signal in response to change of the switching-trigger signal from nonactive to active.","In addition, the clock selector may have a second select-signal-holding unit () which holds a value of the new-select signal and outputs the new-select signal as the current-select signal after an elapse of a given time following change of one of the first and second gating-control signals from active to nonactive.","[10] According to another embodiment of the invention, a data processor () including the clock selector as described in [8], and a functional module () which works in synchronization with a clock signal output by the clock selector may be arranged.","[11] Further, According to another embodiment of the invention, a data processor () including the clock selector as described in [9], and a functional module () which works in synchronization with a clock signal output by the clock selector may be arranged.","In the data processor including the clock selector as described in [8] or [9], the clock selector enables a high-speed clock switching. Therefore, the time required for the data processor to shift from the power-saving mode to the high-speed operation mode can be shortened significantly. Consequently, the standby time, during which a high-frequency clock source consuming a large amount of power must be kept working, can be shortened, which can make a contribution to the reduction in the power consumption by a device like this.","The preferred embodiments will be described further in detail.","Now, it is noted that in the description below, the logic level \u201cLow\u201d is equivalent to the logic value \u201c0\u201d, and High is equivalent to the logic value \u201c1\u201d.","<First Embodiment>",{"@attributes":{"id":"p-0080","num":"0079"},"figref":"FIG. 1"},"The clock-control-signal-generation circuit  shown in  has a before-switching clock processing unit , and an after-switching clock processing unit . Further, the before-switching clock processing unit  includes a first high-frequency clock processing subunit (HFC-PRO) , a first low-frequency clock processing subunit (LFC-PRO) , and an OR circuit . The after-switching clock processing unit  includes a second high-frequency clock processing subunit (HFC-PRO) , a second low-frequency clock processing subunit (LFC-PRO) , and an OR circuit .","The clock-control-signal-generation circuit  accepts inputs of: a second clock signal CLK; a third clock signal CLK; a fourth clock signal CLK; a fifth clock signal CLK; a switching-trigger signal ST-SIG; a current-select signal CSEL-SIG[n]; a first reset signal RST-SIG; and a second reset signal RST-SIG. The clock-control-signal-generation circuit  outputs a first clock-stop-permission signal CST-SIG, a second clock-stop-permission signal CST-SIG, and a clock-resume-permission signal C-RES-SIG.","The second clock signal CLK and the fourth clock signal CLK have relatively high frequencies different from each other. The third clock signal CLK and the fifth clock signal CLK have relatively low frequencies different from each other. The third and fifth clock signals CLK and CLK are lower than the second and fourth clock signals CLK and CLK in frequency. The clock-control-signal-generation circuit  takes in one of the second clock signal CLK of the relatively high frequency and the third clock signal CLK of the relatively low frequency; the second and third clock signals are never supplied to the clock-control-signal-generation circuit concurrently. Likewise, the clock-control-signal-generation circuit  takes in one of the fourth clock signal CLK of the relatively high frequency and the fifth clock signal CLK of the relatively low frequency; the fourth and fifth clock signals are never supplied to the clock-control-signal-generation circuit concurrently.","The change of the switching-trigger signal ST-SIG from a nonactive state to an active state signifies the occurrence of an event of clock switching. In response to the change, the clock-control-signal-generation circuit  starts a process for changing one of the first and second clock-stop-permission signals CST-SIG and CST-SIG from nonactive to active. Then, the clock-control-signal-generation circuit  performs a process for changing the clock-resume-permission signal C-RES-SIG from nonactive to active.","With the switching-trigger signal ST-SIG in the active state, and the second clock signal CLK supplied to the clock-control-signal-generation circuit , the first high-frequency clock processing subunit  makes active and outputs a first detection signal DET-SIG on detection of a first state of the second clock signal CLK.","Further, with the switching-trigger signal ST-SIG in the active state, and the third clock signal CLK supplied to the clock-control-signal-generation circuit , the first low-frequency clock processing subunit  makes active and outputs a second detection signal DET-SIG on detection of a first state of the third clock signal CLK, whereas on detection of a second state of the third clock signal CLK, the first low-frequency clock processing subunit  makes active and outputs a third detection signal DET-SIG.","Now, it is noted that the periods during which the first, second and third detection signals DET-SIG, DET-SIG, and DET-SIG stay in the active states respectively never overlap.","The before-switching clock processing unit  makes active and outputs the first clock-stop-permission signal CST-SIG with the aid of the OR circuit , on condition that the first detection signal DET-SIG or second detection signal DET-SIG stays in the active state. However, in the case of the third detection signal DET-SIG in the active state, the before-switching clock processing unit  makes active and outputs the second clock-stop-permission signal CST-SIG.","Further, on condition that the first clock-stop-permission signal CST-SIG is active, and the fourth clock signal CLK is supplied to the clock-control-signal-generation circuit , the second high-frequency clock processing subunit  makes active and outputs the fourth detection signal DET-SIG on detection of a first state of the fourth clock signal CLK. Still further, on condition that the second clock-stop-permission signal CST-SIG is active, and the fourth clock signal CLK is supplied to the clock-control-signal-generation circuit , the second high-frequency clock processing subunit  makes active and outputs the fifth detection signal DET-SIG on detection of a second state of the fourth clock signal CLK.","Moreover, on condition that the first clock-stop-permission signal CST-SIG is active, and the fifth clock signal CLK is supplied to the clock-control-signal-generation circuit , the second low-frequency clock processing subunit  makes active and outputs the sixth detection signal DET-SIG on detection of a first state of the fifth clock signal CLK. Further, on condition that the second clock-stop-permission signal CST-SIG is active, and the fifth clock signal CLK is supplied to the clock-control-signal-generation circuit , the second low-frequency clock processing subunit  makes active and outputs the seventh detection signal DET-SIG on detection of a second state of the fifth clock signal CLK.","Now, it is noted that the periods during which the fourth, fifth, sixth and seventh detection signals DET-SIG, DET-SIG, DET-SIG, and DET-SIG stay in the active states respectively never overlap one another.","The after-switching clock processing unit  makes active and outputs the clock-resume-permission signal C-RES-SIG with the aid of the OR circuit , on condition that one of the fourth, fifth, sixth, and seventh detection signals DET-SIG, DET-SIG, DET-SIG, and DET-SIG is active.","As described above, on condition that the switching-trigger signal ST-SIG is active, the clock-control-signal-generation circuit  makes active and outputs one of the first and second clock-stop-permission signals CST-SIG and CST-SIG based on the state of the second clock signal CLK or third clock signal CLK, with the aid of the before-switching clock processing unit . Further, on condition that the first or second clock-stop-permission signal CST-SIG or CST-SIG is active, the clock-control-signal-generation circuit  makes active and outputs the clock-resume-permission signal C-RES-SIG based on the state of the fourth clock signal CLK or fifth clock signal CLK, with the aid of the after-switching clock processing unit .","After having finished a sequence of the steps as described above, the first and second reset signals RST-SIG and RST-SIG are changed from nonactive to active. The change of the first reset signal RST-SIG to the active state initializes the internal circuits of the first high-frequency clock processing subunit  and first low-frequency clock processing subunit . Further, the change of the second reset signal RST-SIG to the active state initializes the internal circuits of the second high-frequency clock processing subunit  and second low-frequency clock processing subunit .","Whether or not to use the current-select signal CSEL-SIG[n] input to the first low-frequency clock processing subunit  is conditional on the internal configuration of the first low-frequency clock processing subunit . The use of the current-select signal CSEL-SIG[n] will be described below.","<Second Embodiment>",{"@attributes":{"id":"p-0097","num":"0096"},"figref":["FIG. 2","FIG. 2","FIG. 2"],"b":["101","1","202","2","203","101","201"]},"The select-type clock-control-signal-generation circuit  accepts inputs of: a plurality of clock signals, i.e. input clock signals CKIN to CKIN; a current-select signal CSEL-SIG[n:0] of n+1 bits (n is a positive integer); a new-select signal NSEL-SIG[n:0] of n+1 bits; a switching-trigger signal ST-SIG; a second clock-select-unit-enable signal CLKEN-SIG; a first reset signal RST-SIG; and a second reset signal RST-SIG. The select-type clock-control-signal-generation circuit  outputs: a first clock signal CLK; a first clock-stop-permission signal CST-SIG; a second clock-stop-permission signal CST-SIG; and a clock-resume-permission signal C-RES-SIG.","The input clock signals CKIN, CKIN and CKIN have relatively high frequencies different from one another, and are classified as a high-frequency clock group.","The input clock signals CKIN, CKIN and CKIN have relatively low frequencies different from one another, and are classified as a low-frequency clock group.","The current-select signal CSEL-SIG[n:0] of n+1 bits serves to indicate, to the first clock-select unit , which of the input clock signals CKIN to CKIN to select and output.","The new-select signal NSEL-SIG[n:0] of n+1 bits serves to indicate, to the second clock-select unit , which of the input clock signals CKIN to CKIN to select and output.","The example of  is based on the assumption that the number of input clocks, i.e. input clock signals CKIN to CKIN, is six, in which the current-select signal CSEL-SIG, and the new-select signal NSEL-SIG are both a 3-bit signal (n=2), but they indicate different values. The number of clock signals input to the select-type clock-control-signal-generation circuit  is not limited to six, and the number of bits of the current-select signal CSEL-SIG[n:0], and new-select signal NSEL-SIG[n:0], i.e. the value of n, is varied depending on the number of input clocks.","In the case of the current-select signal CSEL-SIG of three bits directing the first clock-select unit  to select a clock from the high-frequency clock group, the first clock-select unit  selects one clock signal from among the input clock signals CKIN, CKIN and CKIN according to the value of the current-select signal CSEL-SIG of three bits, and outputs the selected clock signal as the second clock signal CLK. Further, in the case of the current-select signal CSEL-SIG of three bits directing the first clock-select unit  to select a clock from the low-frequency clock group, the first clock-select unit  selects one clock signal from among the input clock signals CKIN to CKIN according to the value of the current-select signal CSEL-SIG of three bits, and outputs the selected clock signal as the third clock signal CLK. Also, the first clock-select unit  outputs, as the first clock signal CLK, one of a signal based on the second clock signal CLK, and a signal based on the third clock signal CLK. As already described in connection with the first embodiment, both of the second and third clock signals CLK and CLK are never output concurrently, and only one of the second and third clock signals CLK and CLK is output as a clock at all times.","On condition that the second clock-select-unit-enable signal CLKEN-SIG is active, and the new-select signal NSEL-SIG of three bits directs the second clock-select unit  to select a clock signal from the high-frequency clock group, the second clock-select unit  selects one of the input clock signals CKIN, CKIN, and CKIN according to the value of the new-select signal NSEL-SIG of three bits, and outputs the selected clock signal as the fourth clock signal CLK. On condition that the new-select signal NSEL-SIG of three bits directs the second clock-select unit  to select a clock signal from the low-frequency clock group, the second clock-select unit  likewise selects one of the input clock signals CKIN, CKIN and CKIN according to the value of the new-select signal NSEL-SIG of three bits, and outputs the selected clock signal as the fifth clock signal CLK. Also, in the cases, as already described in connection with the first embodiment, both of the fourth and fifth clock signals CLK and CLK are never output concurrently, and only one of the fourth and fifth clock signals CLK and CLK is output as a clock at all times.","The clock-control-signal-generation circuit  outputs the first clock-stop-permission signal CST-SIG, the second clock-stop-permission signal CST-SIG, and the clock-resume-permission signal C-RES-SIG according to the action steps which have been described in connection with the first embodiment. The output of the signals is performed based on the switching-trigger signal ST-SIG, the second clock signal CLK and the third clock signal CLK, which are selectively output by the first clock-select unit  and the fourth clock signal CLK and the fifth clock signal CLK, which are selectively output by the second clock-select unit .","<Third Embodiment>",{"@attributes":{"id":"p-0108","num":"0107"},"figref":"FIG. 3"},"The clock selector  shown in  has: the select-type clock-control-signal-generation circuit (SCC-GEN) , which has been described in connection with the second embodiment; a gating control unit (G-CNT) ; a clock-gating unit (C-GAT) ; a first select-signal-holding unit (SEL-ST) ; a second select-signal-holding unit (SEL-ST) ; and a reset-signal-generation unit (REST-GEN) .","The clock selector  accepts inputs of: a plurality of clock signals (input clock signals CKIN to CKIN); a clock-select signal of n+1 bits; a switching-trigger signal ST-SIG; and a second clock-select-unit-enable signal CLKEN-SIG. Also, the clock selector  outputs: an output clock signal CKOUT; a current-select signal CSEL-SIG[n:0] of n+1 bits; a switching-run signal SEL-RUN-SIG; and a second reset signal RST-SIG.","The clock-select signal of n+1 bits serves to indicate, to the clock selector , which of the input clock signals CKIN to CKIN to select and output. In switching the clock, the value of the clock-select signal of n+1 bits is updated to a value indicating a clock to select after switching from a value indicating a clock to select before switching before the switching-trigger signal ST-SIG is changed from nonactive to active.","The example of  is based on the assumption that the number of input clocks, i.e. input clock signals CKIN to CKIN, is six, as in the example of . Therefore, in this example, the clock-select signal is made up of three bits (n=2) like the current-select signal CSEL-SIG[n:0] of n+1 bits, and the new-select signal NSEL-SIG[n:0] of n+1 bits, which have been described in connection with the second embodiment. The number of clock signals input to the clock selector  is not limited to six, and the number of bits of the clock-select signal, i.e. the value of n, is varied depending on the number of the input clock signals.","The select-type clock-control-signal-generation circuit  outputs a first clock signal CLK, a first clock-stop-permission signal CST-SIG, a second clock-stop-permission signal CST-SIG, and a clock-resume-permission signal C-RES-SIG, according to the action steps which have been described in connection with the second embodiment. The output of the signals is performed based on the plurality of input clock signals, i.e. input clock signals CKIN to CKIN, the current-select signal CSEL-SIG of three bits, the new-select signal NSEL-SIG of three bits, the switching-trigger signal ST-SIG, and the second clock-select-unit-enable signal CLKEN-SIG.","The gating control unit  makes nonactive and outputs the first gating-control signal GAT-SIG on condition that the first clock-stop-permission signal CST-SIG is active, and the clock-resume-permission signal C-RES-SIG is nonactive. Also, the gating control unit  makes nonactive and outputs the second gating-control signal GAT-SIG on condition that the second clock-stop-permission signal CST-SIG is active, and the clock-resume-permission signal C-RES-SIG is nonactive. Now, it is noted that in the third embodiment, only one of the first gating-control signal GAT-SIG and the second gating-control signal GAT-SIG is made nonactive; the first and second gating-control signals are never rendered nonactive concurrently.","The clock-gating unit  outputs an output clock signal CKOUT with its logic level fixed at Low on condition that the first gating-control signal GAT-SIG is nonactive, whereas on condition that the second gating-control signal GAT-SIG is nonactive, the clock-gating unit  outputs an output clock signal CKOUT with its logic level fixed at High. Further, the clock-gating unit  outputs a first clock signal CLK as the output clock signal CKOUT on condition that the first and second gating-control signals GAT-SIG and GAT-SIG are both active.","At the time when the switching-trigger signal ST-SIG is changed from nonactive to active, the first select-signal-holding unit  samples and holds a clock-select signal of three bits which has gone through the update from a value indicating a clock to select before switching to a value indicating a clock to select after switching, updates the new-select signal NSEL-SIG of three bits from the value indicating a clock to select before switching to the value indicating a clock to select after switching, and outputs the new-select signal thus updated.","At the time when a given length of time has elapsed since the change of one of the first and second gating-control signals GAT-SIG and GAT-SIG from active to nonactive, the second select-signal-holding unit  samples and holds the new-select signal NSEL-SIG of three bits which has gone through the update from a value indicating a clock to select before switching to a value indicating a clock to select after switching. Then, the second select-signal-holding unit  uses the sampled and held value to update the current-select signal CSEL-SIG of three bits from the value indicating a clock to select before switching to the value indicating a clock to select after switching, and outputs the current-select signal CSEL-SIG thus updated.","The reset-signal-generation unit  varies a first reset signal RST-SIG from nonactive to active after the change of the clock-resume-permission signal C-RES-SIG from nonactive to active. Further, after a given length of time has elapsed, the reset-signal-generation unit  changes the second reset signal RST-SIG from nonactive to active, and outputs the second reset signal. The first reset signal RST-SIG, and the second reset signal RST-SIG serve to initialize the internal circuit of the select-type clock-control-signal-generation circuit  after the completion of clock switching.",{"@attributes":{"id":"p-0119","num":"0118"},"figref":"FIG. 4","b":"301"},"Referring to , the flow of the clock switching will be described in connection with actions of the respective blocks of the clock selector  participating in the clock switching. In the description below, Times T to T correspond to the points of time denoted by T to T in . In addition, the initial states of the first and second clock-stop-permission signals CST-SIG and CST-SIG, and the clock-resume-permission signal C-RES-SIG are the nonactive state, e.g. the logic Low level, whereas the initial state of the first gating-control signal GAT-SIG is active, e.g. the logic High level. Further, the initial state of the second gating-control signal GAT-SIG is active, e.g. the logic Low level, and the initial states of the first and second reset signals RST-SIG and RST-SIG are nonactive, e.g. the logic High level.","At Time T, the value of a clock-select signal of three bits supplied from the outside is changed from (x,x,x) to (y,y,y), and the second clock-select-unit-enable signal CLKEN-SIG is varied from the nonactive state (logic Low level) to the active state (the logic High level).","At Time T, in a given time (denoted by D in ) from Time T, the switching-trigger signal ST-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level). As a result, the first select-signal-holding unit  changes the value of a new-select signal NSEL-SIG of three bits from (x,x,x) to (y,y,y). In response to the change, the second clock-select unit  starts to output the fourth clock signal CLK or fifth clock signal CLK corresponding to the value (y,y,y) which the new-select signal NSEL-SIG of three bits indicates. In addition, the before-switching clock processing unit  starts processing.","At Time T, the before-switching clock processing unit  detects the logic level of the second clock signal CLK or third clock signal CLK, and according to the result of the check, changes the first clock-stop-permission signal CST-SIG, or second clock-stop-permission signal CST-SIG from nonactive (logic Low level) to active (logic High level). Now, it is noted that the description on the operation of the clock selector  presented referring to  is based on the assumption that the before-switching clock processing unit  detects the logic Low level of the second clock signal CLK, or third clock signal CLK, and changes the first clock-stop-permission signal CST-SIG to the active state. However, when detecting the logic High level of the second clock signal CLK or third clock signal CLK, the before-switching clock processing unit  turns the second clock-stop-permission signal CST-SIG to the active state.","Consequently, the gating control unit  changes the first gating-control signal GAT-SIG from active (logic High level) to nonactive (logic Low level). However, in this situation, the second gating-control signal GAT-SIG is left active (at the logic Low level). Further, in response to this, the clock-gating unit  fixes the output clock signal CKOUT at the logic Low level, i.e. executes the step of stopping an output clock (STP). Further, the after-switching clock processing unit  starts processing.","At Time T, in a given time denoted by D in  from Time T, the second select-signal-holding unit  changes the value of the current-select signal CSEL-SIG of three bits from (x,x,x) to (y,y,y). Consequently, the first clock-select unit  switches the first clock signal CLK into an after-switching clock signal corresponding to the value (y,y,y) indicated by the current-select signal CSEL-SIG of three bits, i.e. changes the clock to select.","At Time T, the after-switching clock processing unit  detects the logic Low level of the fourth clock signal CLK or fifth clock signal CLK, and changes the clock-resume-permission signal C-RES-SIG from nonactive (logic Low level) to active (logic High level). In the operation of the clock selector  described referring to , the before-switching clock processing unit  has changed the first clock-stop-permission signal CST-SIG to active at Time T, and the clock-resume-permission signal C-RES-SIG is changed to active in response to the detection of the logic Low level of the fourth clock signal CLK or fifth clock signal CLK. However, on condition that the before-switching clock processing unit  has changed the second clock-stop-permission signal CST-SIG to active, the clock-resume-permission signal C-RES-SIG is changed to active in response to the detection of the logic High level of the fourth clock signal CLK or fifth clock signal CLK.","Consequently, the gating control unit  changes the first gating-control signal GAT-SIG from nonactive (logic Low level) to active (logic High level). In this situation, the second gating-control signal GAT-SIG is left active (at the logic Low level). Further, in response to the change, the clock-gating unit  turns the output clock signal CKOUT back to the first clock signal CLK. That is, the output clock is resumed.","At Time T, the first reset signal RST-SIG is changed from nonactive (logic High level) to active (logic Low level). Then, after elapse of a given time denoted by D in , the second reset signal RST-SIG is changed from nonactive (logic High level) to active (logic Low level).","The internal circuit of the before-switching clock processing unit  is initialized by making active the first reset signal RST-SIG, and thus the first clock-stop-permission signal CST-SIG is changed back to the nonactive state which is the initial state thereof. After that, the internal circuit of the after-switching clock processing unit  is initialized by making active the second reset signal RST-SIG, and thus the clock-resume-permission signal C-RES-SIG is changed back to the nonactive state, which is the initial state thereof.","Until Time T, the clock selector  outputs a before-switching clock signal as the output clock signal CKOUT. During the period from Time T to T, the output clock signal CKOUT is controlled to remain stopped. After Time T, the clock selector  outputs an after-switching clock signal as the output clock signal CKOUT.","As to the operation described above, the standby time D just before Time T is inserted as means for avoiding the execution of the subsequent processing until the value of the clock-select signal of three bits is stabilized. In addition, the standby time D just before Time T is inserted as means for performing the selective switching to the first clock signal CLK after the clock has been stopped.","In the operation described above, at Time T the clock-gating unit  fixes the output clock signal CKOUT to the logic Low level thereby to stop the clock signal in response to the change of the first gating-control signal GAT-SIG to nonactive. However, the clock selector may be arranged so that on condition that the second gating-control signal GAT-SIG is made nonactive, the output clock signal CKOUT is fixed to the logic High level thereby to stop the clock signal. That is, on condition that the before-switching clock processing unit  detects the logic Low level of the second clock signal CLK or third clock signal CLK, the clock-gating unit  fixes the output clock signal CKOUT to the logic Low level thereby to stop the clock signal. In addition, on condition that the before-switching clock processing unit  detects the logic High level of the second clock signal CLK or third clock signal CLK, the clock-gating unit  fixes the output clock signal CKOUT to the logic High level thereby to stop the clock signal.","<Fourth Embodiment>",{"@attributes":{"id":"p-0134","num":"0133"},"figref":["FIG. 5","FIG. 1"]},"In regard to the clock-control-signal-generation circuit shown in , the first high-frequency clock processing subunit  includes a flip-flop , and a flip-flop . The flip-flop  and the flip-flop  are connected in series with each other, to which the second clock signal CLK is input. Further, to the flip-flop , the switching-trigger signal ST-SIG is input. The flip-flop  outputs the first detection signal DET-SIG. The first low-frequency clock processing subunit includes: flip-flops  and ; an inverter ; a delay circuit (DLY)  with a delay time D; and AND circuits  and . The flip-flop  is connected to the AND circuit  through the inverter . The flip-flop  is connected to the AND circuits  and  through the delay circuit . The AND circuit  outputs the second detection signal ST-DET-SIG, whereas the AND circuit  outputs the third detection signal ST-DET-SIG. The second high-frequency clock processing subunit  includes flip-flops , ,  and . The flip-flops  and  are connected in series with each other. Likewise, the flip-flops  and  are connected in series with each other. The flip-flop  outputs the fourth detection signal DET-SIG, whereas the flip-flop  outputs the fifth detection signal DET-SIG. The second low-frequency clock processing subunit includes flip-flops , ,  and . The flip-flops  and  are connected in series with each other. The flip-flops  and  are connected in series with each other. The flip-flop  outputs the sixth detection signal DET-SIG, whereas the flip-flop  outputs the seventh detection signal DET-SIG.",{"@attributes":{"id":"p-0136","num":"0135"},"figref":"FIG. 6","b":["2","5"]},"The operation of the clock-control-signal-generation circuit will be described below with reference to . In the description below, Times T, T and T correspond to the times denoted by T, T and T in . The initial states of output signals of the flip-flops  to , , and  to  are nonactive (logic Low level). That is, the initial states of the first to seventh detection signals DET-SIG to DET-SIG, the initial states of the first and second clock-stop-permission signals CST-SIG and CST-SIG, and the initial state of the clock-resume-permission signal C-RES-SIG are all nonactive.","At Time T, the switching-trigger signal ST-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level). Consequently, the before-switching clock processing unit starts processing.","At Time T, the change of the state of the switching-trigger signal ST-SIG is synchronized with the second falling edge of the second clock signal CLK after Time T by the flip-flops  and  in the first high-frequency clock processing subunit , and then the first detection signal DET-SIG, which is an output signal of the flip-flop , is changed from nonactive (logic Low level) to active (logic High level) in line with the second falling edge of the second clock signal CLK. Consequently, the first clock-stop-permission signal CST-SIG\u2014an output signal of the OR circuit \u2014is changed from nonactive (logic Low level) to active (logic High level). In addition, the after-switching clock processing unit starts processing.","At Time T, the change of the state of the first clock-stop-permission signal CST-SIG is synchronized with the first rising edge of the fifth clock signal CLK subsequent to the first falling edge of the fifth clock signal CLK after Time T by the flip-flops  and  in the second low-frequency clock processing subunit , and then the sixth detection signal DET-SIG, which is an output signal of the flip-flop , is changed from nonactive (logic Low level) to active (logic High level) in line with the first rising edge of the fifth clock signal CLK. Consequently, the clock-resume-permission signal C-RES-SIG\u2014an output signal of the OR circuit  is changed from nonactive (logic Low level) to active (logic High level).","Now, a supplementary description to the above description about the operation of the second low-frequency clock processing subunit at Time T will be further presented here, assuming the condition that the second clock-stop-permission signal CST-SIG is changed from nonactive to active instead of the first clock-stop-permission signal CST-SIG. In this condition, the operation of the second low-frequency clock processing subunit is as follows. Not the combination of the flip-flops  and , but the combination of the flip-flops  and  synchronizes the change of the second clock-stop-permission signal CST-SIG with the first falling edge of the fifth clock signal CLK subsequent to the first rising edge of the fifth clock signal CLK after Time T, and then the seventh detection signal DET-SIG, which is an output signal of the flip-flop , is changed from nonactive (logic Low level) to active (logic High level).","Further, a supplementary description to the above description about the operation of the second low-frequency clock processing subunit at Time T will be presented here, assuming the condition that the fourth clock signal CLK having a relatively high frequency is supplied to the clock-control-signal-generation circuit instead of the fifth clock signal CLK having a relatively low frequency. In this condition, not the second low-frequency clock processing subunit , but the second high-frequency clock processing subunit  works. After the first clock-stop-permission signal CST-SIG has been changed from nonactive to active, the combination of the flip-flops  and  generates twice the falling edge of the fourth clock signal CLK, and synchronizes the change of the first clock-stop-permission signal CST-SIG with the second falling edge of the fourth clock signal CLK, and then, the fourth detection signal DET-SIG, which is an output signal of the flip-flop , is changed from nonactive to active (logic High level) in line with the second falling edge of the fourth clock signal CLK. Further, when the second clock-stop-permission signal CST-SIG is changed from nonactive to active, the combination of the flip-flops  and  synchronizes the change of the second clock-stop-permission signal CST-SIG with the second rising edge of the fourth clock signal CLK after the change of the second clock-stop-permission signal CST-SIG, and then the fifth detection signal DET-SIG\u2014an output signal of the flip-flop \u2014is changed from nonactive to active (logic High level) in line with the second rising edge of the fourth clock signal.","The clock-control-signal-generation circuit (C-CNT-GEN) is used for the purpose of generating a control signal for switching the clock, in which the stop of the output clock is controlled by the first and second clock-stop-permission signal CST-SIG and CST-SIG, and the resumption of the output clock is controlled by the clock-resume-permission signal C-RES-SIG.","As described above, the change in the state of the switching-trigger signal ST-SIG is synchronized with the second clock signal CLK in the first high-frequency clock processing subunit . Further, the change of state of the first clock-stop-permission signal CST-SIG is synchronized with the fourth clock signal CLK in the second high-frequency clock processing subunit , and the change of state of the second clock-stop-permission signal CST-SIG is synchronized with the fifth clock signal CLK in the second low-frequency clock processing subunit . The steps are necessary for ensuring that a glitch\u2014a pulse narrower than a proper clock pulse in pulse width\u2014never arises in an output clock signal CKOUT at the time of clock switching. In general, the value of a control signal supplied from the outside sometimes changes in asynchronism with a clock signal. Therefore, the change of the switching-trigger signal ST-SIG can take place in asynchronism with the second clock signal CLK, and the second and third clock signals CLK and CLK, and the fourth and fifth clock signals CLK and CLK are asynchronous. On this account, there may be a risk of a glitch arising in an output clock signal CKOUT at the time of clock switching.","The series-connected flip-flops  and  of two stages, the series-connected flip-flops  and  of two stages, the series-connected flip-flops  and  of two stages, the series-connected flip-flops  and  of two stages, and the series-connected flip-flops  and  of two stages are arranged to take a measure against metastable phenomena in flip-flops.","On another note, in the second high-frequency clock processing subunit , the directions of the operation edges of clocks for the two-stage, series-connected flip-flops, namely the combination of flip-flops  and , and the combination of flip-flops  and  coincident. However, the same is not true in the second low-frequency clock processing subunit . What makes the difference like this is that the difference in the length of one cycle between the clock signals is taken into consideration. As for the second high-frequency clock processing subunit  which the fourth clock signal CLK having a relatively high frequency is input to, it is considered to take a time of one cycle of the clock signal approximately for the second high-frequency clock processing subunit  to recover from a metastable and stabilize. For that reason, just a length of time representing one cycle of the clock is ensured as the operation interval between the first-stage flip-flop and the second-stage flip-flop. In contrast, with the second low-frequency clock processing subunit which the fifth clock signal CLK having a relatively low frequency is input to, the time of one cycle of the clock signal is relatively long, and therefore, it is expected that it does not take the time of one cycle of the clock signal for the second low-frequency clock processing subunit to recover from a metastable and stabilize, and about the time of 0.5 cycle is all that is needed to do so. Hence, just the time of half of one cycle of the clock is ensured as the operation interval between the first-stage flip-flop and the second-stage flip-flop.",{"@attributes":{"id":"p-0147","num":"0146"},"figref":"FIG. 7","b":["3","4"]},"Here, the operation of the clock-control-signal-generation circuit in the situation that the third and fourth clock signals CLK and CLK are supplied to the clock-control-signal-generation circuit will be described with reference to . In the description below, Times T, T and T correspond to the times denoted by T, T and T in . The initial states of output signals of the flip-flops  to , , and  to  are nonactive (logic Low level). That is, the initial states of the first to seventh detection signals DET-SIG to DET-SIG, the initial states of the first and second clock-stop-permission signals CST-SIG and CST-SIG, and the initial state of the clock-resume-permission signal C-RES-SIG are all nonactive.","Now, it is noted that on condition that the third clock signal CLK is supplied to the clock-control-signal-generation circuit, the current-select signal CSEL-SIG[n] shown in  is active (at logic High level); the current-select signal CSEL-SIG[n] is the most significant bit of the current-select signal CSEL-SIG[n:0].","At Time T, the switching-trigger signal ST-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level) with the current-select signal CSEL-SIG[n] kept active (at logic High level). As a result, the output signal (F\/FOUT) of the flip-flop  in the first low-frequency clock processing subunit is changed from nonactive (logic Low level) to active (logic High level), and the first low-frequency clock processing subunit starts working. At that time, the output signal (F\/FOUT) of the flip-flop  is changed according to the logic level of the third clock signal CLK. In the example shown in , the third clock signal CLK stays at the logic High level and therefore the output signal of the flip-flop  is changed to the logic High level. In response to the change, the output signal (INVOUT) of the inverter  is changed to nonactive (logic Low level). According to the operation described above, it is detected that the state of the third clock signal CLK at the change of the switching-trigger signal ST-SIG from nonactive to active is the logic High level.","At Time T, in a given time (denoted by D in ) from Time T when the output signal of the flip-flop  was changed to active, the output signal of the delay circuit  is changed from nonactive (logic Low level) to active (logic High level). Consequently, while the state of the output signal of the flip-flop , i.e. the result of detection concerning the logic level of the third clock signal CLK, is reflected, the third detection signal DET-SIG, which is an output signal of the AND circuit , is changed from nonactive to active (logic High level), and the second clock-stop-permission signal CST-SIG is changed from nonactive to active (logic High level). Further, the after-switching clock processing unit starts processing.","At Time T, the change of the state of the second clock-stop-permission signal CST-SIG is synchronized with the second rising edge of the fourth clock signal CLK after Time T by the flip-flops  and  in the second high-frequency clock processing subunit , and then the fifth detection signal DET-SIG\u2014an output signal of the flip-flop \u2014is changed from nonactive to active (logic High level). Consequently, the clock-resume-permission signal C-RES-SIG\u2014an output signal of the OR circuit \u2014is changed from nonactive (logic Low level) to active (logic High level).","Now, a supplementary description to the description about the operation of the first low-frequency clock processing subunit at Time T will be presented here. If the state of the current-select signal CSEL-SIG[n] is nonactive (logic Low level) at the change of the switching-trigger signal ST-SIG from nonactive to active, the output signal of the flip-flop  is kept nonactive, and therefore the output signals of the AND circuits  and  are also kept nonactive. As a result, the second and third detection signals DET-SIG and DET-SIG remain nonactive. In this way, it becomes possible to prevent the second detection signal DET-SIG from being made active improperly without the third clock signal CLK supplied to the clock-control-signal-generation circuit.","Further, a supplementary description to the description about the operation of the first low-frequency clock processing subunit at Time T will be presented here. If the state of the third clock signal CLK is not the logic High level, but the logic Low level at the change of the switching-trigger signal ST-SIG from nonactive to active, the output signal of the flip-flop  is kept at the logic Low level. Consequently, the output signal of the inverter  is kept active, namely at logic High level. According to the action described above, it is detected that the state of the third clock signal CLK at the change of the switching-trigger signal ST-SIG from nonactive to active is logic Low level. Subsequently, at Time T, in a given time (denoted by D in ) from the change of the output of the flip-flop  to active, the output signal of the delay circuit  is changed from nonactive (logic Low level) to active (logic High level). Consequently, while the state of the output signal of the flip-flop , i.e. the result of detection concerning the logic level of the third clock signal CLK, is reflected, the second detection signal DET-SIG, which is an output signal of the AND circuit , is changed from nonactive to active (logic High level), and the first clock-stop-permission signal CST-SIG, which is an output signal of the OR circuit , is changed from nonactive to active (logic High level).","As described above, the first low-frequency clock processing subunit works on detection of the level of the third clock signal CLK; the first high-frequency clock processing subunit  works on detection of the edge of the second clock signal CLK; the second high-frequency clock processing subunit  works on detection of the edge of the fourth clock signal CLK; and the second low-frequency clock processing subunit works on detection of the edge of the fifth clock signal CLK.","On condition that the before-switching clock processing unit is working on the second clock signal CLK, the first clock-stop-permission signal CST-SIG is changed from nonactive to active in synchronization with a falling edge of the second clock signal CLK. Further, on condition that the before-switching clock processing unit is working on the third clock signal CLK, the first clock-stop-permission signal CST-SIG or the second clock-stop-permission signal CST-SIG\u2014depending on the result of detection of the level of the third clock signal CLK\u2014is changed from nonactive to active, after elapse of a given time after the change of the switching-trigger signal ST-SIG from nonactive to active. The after-switching clock processing unit changes the direction of the clock edge to synchronize with, depending on which of the first and second clock-stop-permission signals CST-SIG and CST-SIG is made active, and changes the clock-resume-permission signal C-RES-SIG to active.","Now, the reasons why the means for level detection is not applied to the first high-frequency clock processing subunit  as in the first low-frequency clock processing subunit are as follows. The first reason is that a process using a high-frequency clock achieves a high processing speed originally, and therefore much advantage cannot be expected to be drawn from using the means for level detection. The second reason is that the duration time of the level of a high-frequency clock is short, and therefore there is a possibility that the level at the detection has already been shifted to another one when the clock is stopped actually, and it is highly possible that a glitch arises.","Next, a measure against the metastable of the flip-flop  of the first low-frequency clock processing subunit will be described. On condition that a change of the third clock signal CLK, which is a data input (D) to the flip-flop , is close to a change of an output signal of the flip-flop , which is a clock input (CK) to the flip-flop , a metastable phenomenon can take place in an output signal of the flip-flop . To take a measure against the metastable, the delay circuit  is used. The role of the delay circuit  is to delay signal propagation to inputs of the AND circuits  and  by a given time, denoted by D in , until the flip-flop  recovers from the metastable phenomenon and stabilizes after the output signal of the flip-flop  has been made active, and to mask output signals of the AND circuits  and . Making longer the given time D than the time required for calming down the metastable phenomenon, it becomes possible to prevent the influence of the metastable phenomenon from propagating to the first and second clock-stop-permission signals CST-SIG and CST-SIG. As described above, by setting the given delay time D properly, the creation of a uselessly long standby time for calming down a metastable phenomenon caused at the time of clock switching can be averted. Thus, it becomes possible to perform a high-speed clock switching.","Next, the OR circuit  will be described. The OR circuit  is used to generate a reset signal to input to the first high-frequency clock processing subunit .","Specifically, after the first low-frequency clock processing subunit is activated, and the third detection signal DET-SIG (second clock-stop-permission signal CST-SIG) is changed to active (logic High level), the OR circuit  applies a reset signal to the flip-flops  and , thereby to fix the output signals of the flip-flops  and  to the nonactive state (logic Low level). Thus, the first clock-stop-permission signal CST-SIG can be prevented from being made active accidentally when the second clock-stop-permission signal CST-SIG is made active. The switching-trigger signal ST-SIG is made to transition from nonactive to active only once in one clock switching process. With the first low-frequency clock processing subunit , which is arranged so that the state of the third clock signal CLK is detected by the flip-flop  in response to the change of the switching-trigger signal ST-SIG from nonactive to active, the second clock-stop-permission signal CST-SIG is not changed to active accidentally after the change of the first clock-stop-permission signal CST-SIG to active. Therefore, in this case, the reset process on the idea described above is not needed.","<Fifth Embodiment>",{"@attributes":{"id":"p-0162","num":"0161"},"figref":["FIG. 8","FIG. 1"],"b":"101"},"In the clock-control-signal-generation circuit shown in , the first high-frequency clock processing subunit  includes a flip-flop  and a flip-flop ; and the first low-frequency clock processing subunit includes flip-flops  to , and a delay circuit  having a delay time D. Further, in the clock-control-signal-generation circuit, the flip-flops  and  are connected in series with each other, and the flip-flops  and  are connected in series with each other. The switching-trigger signal ST-SIG is input to data terminals D of the flip-flops  and . The third clock signal CLK is input to clock terminals CK of the flip-flops  and . To clock terminals CK of flip-flops  and , the third clock signal CLK which has been delayed by the delay circuit  is input. The second high-frequency clock processing subunit  includes flip-flops  to . The second low-frequency clock processing subunit includes flip-flops  to .","While the first low-frequency clock processing subunit shown in  is arranged so that it operates on detection of the level of the third clock signal CLK, the first low-frequency clock processing subunit shown in  is arranged so that it operates on detection of the edge of the third clock signal CLK.","In addition, the second low-frequency clock processing subunit shown in  operates on detection of the edge of the fifth clock signal CLK like the second low-frequency clock processing subunit shown in . However, in the second low-frequency clock processing subunit shown in , the directions of the operation edges of clock inputs (CK) of the series-connected flip-flops of two stages which work according to the first clock-stop-permission signal CST-SIG and the second clock-stop-permission signal CST-SIG are different.","The first and second high-frequency clock processing subunits  and  shown in  are identical with those shown in  in their configurations and operations. The first high-frequency clock processing subunit  operates on detection of the edge of the second clock signal CLK, whereas the second high-frequency clock processing subunit  operates on detection of the edge of the fourth clock signal CLK.",{"@attributes":{"id":"p-0167","num":"0166"},"figref":"FIG. 9","b":["2","5"]},"Here, the operation of the clock-control-signal-generation circuit on condition will be described with reference to . In the description below, Times T, T and T correspond to the times denoted by T, T and T in . Further, the initial states of output signals of the flip-flops  to , and  to  are nonactive (logic Low level). That is, the initial states of the first to seventh detection signals DET-SIG to DET-SIG, the initial states of the first and second clock-stop-permission signals CST-SIG and CST-SIG, and the initial state of the clock-resume-permission signal C-RES-SIG are all nonactive.","At Time T, the switching-trigger signal ST-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level). In response to this change, the before-switching clock processing unit starts processing.","At Time T, the change of the state of the switching-trigger signal ST-SIG is synchronized with the second falling edge of the second clock signal CLK after the change of the switching-trigger signal ST-SIG by the flip-flops  and  in the first high-frequency clock processing subunit , and then the first detection signal DET-SIG, which is an output signal of the flip-flop , is changed from nonactive (logic Low level) to active (logic High level). Consequently, the first clock-stop-permission signal CST-SIG, which is an output signal of the OR circuit  is changed from nonactive (logic Low level) to active (logic High level). In addition, the after-switching clock processing unit starts processing.","At Time T, the change of the state of the first clock-stop-permission signal CST-SIG is synchronized with the first falling edge of the fifth clock signal CLK subsequent to the first rising edge of the fifth clock signal after Time T by the flip-flops  and  in the second low-frequency clock processing subunit , and then the sixth detection signal DET-SIG, which is an output signal of the flip-flop  is changed from nonactive to active. Thus, the clock-resume-permission signal C-RES-SIG, which is an output signal of the OR circuit , is changed from nonactive (logic Low level) to active (logic High level).",{"@attributes":{"id":"p-0172","num":"0171"},"figref":"FIG. 10","b":["3","4"]},"Here, the operation of the clock-control-signal-generation circuit in this condition will be described with reference to . In the description below, Times T, T., T and T correspond to the times denoted by T, T., T and T in . Further, the initial states of output signals of the flip-flops  to , and  to  are nonactive (at logic Low level). That is, the initial states of the first to seventh detection signals DET-SIG to DET-SIG, the initial states of the first and second clock-stop-permission signals CST-SIG and CST-SIG, and the initial state of the clock-resume-permission signal C-RES-SIG are all nonactive.","At Time T, the switching-trigger signal ST-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level). In response to this change, the before-switching clock processing unit starts processing.","At Time T., the change of the state of the switching-trigger signal ST-SIG is synchronized with the rising edge of the third clock signal CLK by the flip-flop  in the first low-frequency clock processing subunit , and then the output signal (F\/FOUT) of the flip-flop  is changed from nonactive (logic Low level) to active (logic High level).","At Time T, in a given time (denoted by D in ) from Time T. when the rising edge of the third clock signal CLK comes, the output signal (DLYOUT) of the delay circuit  is changed from the logic Low level to the logic High level. Consequently, the change of the output signal of the flip-flop  is re-synchronized by the flip-flop  at the time later than the time of coming of the rising edge of the third clock signal CLK by the given time D. Then, the third detection signal DET-SIG, which is an output signal of the flip-flop , is changed from nonactive to active (logic High level), and therefore the second clock-stop-permission signal CST-SIG is changed from nonactive to active (logic High level). Now, it is noted that the given time D is much shorter than the time of one cycle of the third clock signal CLK, and therefore the second clock-stop-permission signal CST-SIG can be regarded as being changed to active in synchronization with the rising edge of the third clock signal CLK. In addition, at Time T, the after-switching clock processing unit starts processing.","At Time T, the change of the state of the second clock-stop-permission signal CST-SIG is synchronized with the second rising edge of the fourth clock signal CLK after Time T by the flip-flops  and  in the second high-frequency clock processing subunit , and the fifth detection signal DET-SIG, which is an output of the flip-flop  is changed from nonactive to active (logic High level). Consequently, the clock-resume-permission signal C-RES-SIG, which is an output signal of the OR circuit , is changed from nonactive (logic Low level) to active (logic High level).","Now, a supplement to the description of the operation of the first low-frequency clock processing subunit at Time T. and Time T will be presented here. If a falling edge of the third clock signal CLK comes prior to a rising edge thereof after the switching-trigger signal ST-SIG has been changed to active at Time T, the operation of the first low-frequency clock processing subunit is as follows.","At Time T., the change of the state of the switching-trigger signal ST-SIG is synchronized with the falling edge of the third clock signal CLK by not the flip-flop , but the flip-flop , and the output signal (F\/FOUT) of the flip-flop  is changed from nonactive (logic Low level) to active (logic High level). Further, at Time T after an elapse of a given time\u2014denoted by D in FIG. \u2014after the coming of the aforementioned falling edge of the third clock signal CLK, the output signal of the delay circuit  is changed from the logic High level to the logic Low level. Consequently, the change of the state of the output signal of the flip-flop  is re-synchronized by the flip-flop  at the time, later than the time of coming of the falling edge of the third clock signal CLK in question by the given time D, and then the second detection signal DET-SIG, which is an output signal of the flip-flop , is changed from nonactive to active (logic High level). Then, the first clock-stop-permission signal CST-SIG, which is an output signal of the OR circuit , is changed from nonactive (logic Low level) to active (logic High level). Now it is noted that, as already described concerning the operation of the first low-frequency clock processing subunit at Time T. and Time T, the given time D is much shorter than the time of one cycle of the third clock signal CLK, and therefore the first clock-stop-permission signal CST-SIG can be regarded as being changed to active in synchronization with the falling edge of the third clock signal CLK.","As described above, the first high-frequency clock processing subunit  works on detection of the edge of the second clock signal CLK, and the first low-frequency clock processing subunit works on detection of the edge of the third clock signal CLK. Further, the second high-frequency clock processing subunit  works on detection of the edge of the fourth clock signal CLK, and the second low-frequency clock processing subunit works on detection of the edge of the fifth clock signal CLK.","On condition that the before-switching clock processing unit works on the second clock signal CLK, the first clock-stop-permission signal CST-SIG is changed from nonactive to active in synchronization with the falling edge of the second clock signal CLK. However, on condition that the before-switching clock processing unit works on the third clock signal CLK, the first clock-stop-permission signal CST-SIG or the second clock-stop-permission signal CST-SIG is changed from nonactive to active in synchronization with the earlier of the falling edge or rising edge of the third clock signal CLK. The after-switching clock processing unit changes the direction of the edge of a clock to synchronize with depending on which of the first clock-stop-permission signal CST-SIG and the second clock-stop-permission signal CST-SIG is changed to active, and changes the clock-resume-permission signal C-RES-SIG to active.","The measure against a glitch of the output clock signal CKOUT and the measure against a metastable of the flip-flop in the first high-frequency clock processing subunit , the second high-frequency clock processing subunit , and the second low-frequency clock processing subunit are the same as those taken for the clock-control-signal-generation circuit according to the fourth embodiment.","Also, in the first low-frequency clock processing subunit , the change of the state of the switching-trigger signal ST-SIG is synchronized with the third clock signal CLK by a flip-flop as the measure against a glitch of the output clock signal CKOUT. Further, in the first low-frequency clock processing subunit, the delay circuit  is used as the measure against a metastable of the flip-flop, in addition to combinations of series-connected flip-flops of two stages. The role of the delay circuit  is to delay the edge timing of the third clock signal CLK by a given time, denoted by D in , and then to supply the third clock signal CLK to the second-stage flip-flops  and , provided that the given time represents a time required until the metastable phenomenon is calmed down after the appropriate edge of the third clock signal CLK has come and gone into the clock inputs (CK) of the first-stage flip-flops  and . The time of one cycle of the third clock signal CLK is considered to be much longer than the time taken to calm down the metastable phenomenon because the third clock signal CLK input to the first low-frequency clock processing subunit is a clock signal of a low frequency. Therefore, the need for ensuring the time of one cycle of the clock signal as the operation interval between the first-stage flip-flop and the second-stage flip-flop is eliminated. Further, the influence of the metastable phenomenon can be prevented from propagating to the first clock-stop-permission signal CST-SIG and the second clock-stop-permission signal by just setting the given delay time (D) to be a little longer than the time required for calming down the metastable phenomenon. As a result, the creation of a uselessly long standby time at the time of clock switching can be averted, whereby a high-speed clock switching can be achieved.","On the other hand, the measure against the metastable using a delay circuit as described above is not taken in the second low-frequency clock processing subunit to which a low-frequency clock signal is input. The reason for this is there is a difference between the first and second low-frequency clock processing subunits and in that a process involving a clock signal before switching is performed in the first low-frequency clock processing subunit , whereas a process involving a clock signal after switching is conducted in the second low-frequency clock processing subunit . In other words, in the case of the after-switching clock signal having a low frequency, the clock speed after switching is slow basically, and an extremely high speed is not required. Therefore, it is favorable to cut the number of delay circuits thereby to reduce the circuit scale even a little.","In addition, the speedup technique involving detection of rising and falling edges of a clock, which is adopted for the first low-frequency clock processing subunit , is not applied to the first high-frequency clock processing subunit . The reason for this is that there are few advantages in adopting the speedup technique for the first high-frequency clock processing subunit  because the speed of a process involving a high-frequency clock signal is basically fast, and thus an unnecessary increase of the circuit scale is avoided.","Next, the OR circuits  and  will be described. The OR circuit  is used for the purpose of generating a reset signal to input to the flip-flops  and  in the first high-frequency clock processing subunit , and to the flip-flops  and  in the first low-frequency clock processing subunit . Specifically, when the combination of flip-flops  and  in the first low-frequency clock processing subunit operates, and the third detection signal DET-SIG (second clock-stop-permission signal CST-SIG) is changed to active (logic High level), the OR circuit  applies a reset signal to the flip-flops  to  thereby to fix the output signals of the flip-flops  to  to the nonactive state (logic Low level). In this way, the first clock-stop-permission signal CST-SIG can be prevented from being turned to active accidentally when the second clock-stop-permission signal CST-SIG is changed to active. On the other hand, the OR circuit  is used for the purpose of generating a reset signal to input to the flip-flops  and  in the first low-frequency clock processing subunit ","Specifically, when the first high-frequency clock processing subunit  or the combination of flip-flops  and  in the first low-frequency clock processing subunit operates, and the first detection signal DET-SIG or the second detection signal DET-SIG (first clock-stop-permission signal CST-SIG) is turned to active, the OR circuit  applies a reset signal to the combination of flip-flops  and , thereby to fix the output signal thereof to the nonactive state (logic Low level). In this way, the second clock-stop-permission signal CST-SIG can be prevented from being turned to active accidentally when the first clock-stop-permission signal CST-SIG is changed to active.","<Sixth Embodiment>",{"@attributes":{"id":"p-0189","num":"0188"},"figref":["FIG. 11","FIG. 2"],"b":"201"},"The select-type clock-control-signal-generation circuit shown in  includes a first clock-select unit , a second clock-select unit , and a clock-control-signal-generation circuit ","Further, the first clock-select unit includes multiplexers (Mux)  and , OR circuits  and , AND circuits  and , a delay circuit  having a delay time D, and a multiplexer (Mux) . The second clock-select unit  includes multiplexers (Mux)  and , OR circuits  and , and AND circuits  and .","Signals input to and output from the select-type clock-control-signal-generation circuit are the same as signals input to and output from the select-type clock-control-signal-generation circuit  according to the second embodiment.",{"@attributes":{"id":"p-0193","num":"0192"},"figref":"FIG. 12","b":"202","i":"a. "},"The operation of the first clock-select unit will be described with reference to .","The signal SCF, which is an output signal of the OR circuit , and the signal SCF, which is an output signal of the OR circuit , take logic levels shown by the truth table of , according to combinations of the values of a current-select signal [], a current-select signal [] and a current-select signal []. The signals SCF and SCF indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d to selectively output as the second clock signal CLK. Likewise, the signal SCS, which is an output signal of the AND circuit , and the signal SCS, which is an output signal of the AND circuit , take logic levels shown by the truth table of , according to a combination of the values of the current-select signal [], the current-select signal [] and the current-select signal []. The signals SCS and SCS indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d as the third clock signal CLK to selectively output.","If the current-select signal [], which is the most significant bit of the current-select signal CSEL-SIG of three bits, takes the logic value \u201c0\u201d, the value of the signal SCF is equal to the value of the current-select signal CSEL-SIG[], and the value of the signal SCF is equal to the value of the current-select signal CSEL-SIG[]. However, if the current-select signal CSEL-SIG[] has the logic value \u201c1\u201d, the values of the signals SCF and SCF are both the logic value \u201c1\u201d.","In the case of the current-select signal CSEL-SIG[], which is the most significant bit of the current-select signal of three bits, having the logic value \u201c1\u201d, the value of the signal SCS is equal to the value of the current-select signal CSEL-SIG[], and the value of the signal SCS is equal to the value of the current-select signal CSEL-SIG[]. However, in the case of the current-select signal CSEL-SIG[] having the logic value \u201c0\u201d, the signals SCS and SCS both take the logic value \u201c1\u201d. As a result, in this embodiment, the second clock signal CLK, which is an output signal of the multiplexer , and the third clock signal CLK, which is an output signal of the multiplexer , are selectively output as shown in the truth table of . The most significant bit (current-select signal CSEL-SIG[]) of the current-select signal CSEL-SIG having the logic value \u201c0\u201d means that the first clock-select unit is directed to select a clock from a high-frequency clock group. In this case, the selected input clock signal is supplied as the second clock signal CLK, whereas the third clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied. In contrast, the most significant bit (current-select signal CSEL-SIG[]) of the current-select signal CSEL-SIG having the logic value \u201c1\u201d means that the first clock-select unit is directed to select a clock from a low-frequency clock group. In this case, the selected input clock signal is supplied as the third clock signal CLK, whereas the second clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied.","To the multiplexer , the second clock signal CLK, and a signal prepared by delaying the third clock signal CLK by a given time D are input. On condition that the current-select signal CSEL-SIG[] has the logic value \u201c0\u201d, and the high-frequency clock group has been selected, an input clock signal selected as the second clock signal CLK is output as the first clock signal CLK, which is an output of the multiplexer , as shown by the truth table of . On condition that the current-select signal CSEL-SIG[] has the logic value \u201c1\u201d, and the low-frequency clock group has been selected, an input clock signal selected as the third clock signal CLK is delayed by the given time D and output. The symbol \u201cD\u201d in  means that a signal accompanied with the symbol \u201cD\u201d is a signal prepared by delaying, by the given delay time D, the original clock signal thereof.",{"@attributes":{"id":"p-0199","num":"0198"},"figref":"FIG. 13","b":"203"},"The operation of the second clock-select unit  will be described with reference to .","The signal SNF, which is an output signal of the OR circuit , and the signal SNF, which is an output signal of the OR circuit , take logic levels shown by the truth table of , according to combinations of the values of a second clock-select-unit-enable signal CLKEN-SIG, a new-select signal NSEL-SIG[], a new-select signal NSEL-SIG[], and a new-select signal NSEL-SIG[]. The signals SNF and SNF indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d to selectively output as the fourth clock signal CLK. Likewise, the signal SNS, which is an output signal of the AND circuit , and the signal SNS, which is an output signal of the AND circuit , take logic levels shown by the truth table of , according to combinations of the values of the second clock-select-unit-enable signal CLKEN-SIG, the new-select signal NSEL-SIG[], the new-select signal NSEL-SIG[], and the new-select signal NSEL-SIG[]. The signals SNS and SNS indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d to selectively output as the fifth clock signal CLK. Now, it is noted that in the case of the second clock-select-unit-enable signal CLKEN-SIG taking the logic value \u201c0\u201d, the logic values of the new-select signal NSEL-SIG[], the new-select signal NSEL-SIG[], and the new-select signal NSEL-SIG[] do not make sense, and therefore the symbol \u201cX\u201d is put in the cells for the new-select signals in question in .","On condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the new-select signal NSEL-SIG[], which is the most significant bit of the new-select signal NSEL-SIG of three bits, has the logic value \u201c0\u201d, the value of the signal SNF is equal to the value of the new-select signal NSEL-SIG[], and the value of the signal SNF is equal to the value of the new-select signal NSEL-SIG[]. However, on condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d and the new-select signal NSEL-SIG[] has the logic value \u201c1\u201d, the signals SNF and SNF both take the logic value \u201c1\u201d.","Further, on condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the new-select signal NSEL-SIG[], which is the most significant bit of the new-select signal NSEL-SIG of three bits, has the logic value \u201c1\u201d, the value of the signal SNS is equal to the value of the new-select signal NSEL-SIG[], and the value of the signal SNS is equal to the value of the new-select signal NSEL-SIG[]. In contrast, on condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the new-select signal NSEL-SIG[] has the logic value \u201c0\u201d, the signals SNS and SNS both take the logic value \u201c1\u201d.","However, in the case of the second clock-select-unit-enable signal CLKEN-SIG having the logic value \u201c0\u201d, the signals SNF, SNF, SNS and SNS all take the logic value \u201c1\u201d regardless of the values of the new-select signal NSEL-SIG[] to the new-select signal NSEL-SIG[].","Consequently, in this embodiment, the fourth clock signal CLK, which is an output signal of the multiplexer , and the fifth clock signal CLK, which is an output signal of the multiplexer , are selectively output as shown by the truth table of . The condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the most significant bit (new-select signal NSEL-SIG[]) of the new-select signal NSEL-SIG has the logic value \u201c0\u201d means that the second clock-select unit  is directed to select a clock from the high-frequency clock group. In this case, the selected input clock signal is supplied as the fourth clock signal CLK, whereas the fifth clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied. In contrast, the condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the most significant bit (new-select signal NSEL-SIG[]) of the new-select signal NSEL-SIG has the logic value \u201c1\u201d means that the second clock-select unit  is directed to select a clock from the low-frequency clock group. In this case, the selected input clock signal is supplied as the fifth clock signal CLK, whereas the fourth clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied. Further, in the case of the second clock-select-unit-enable signal CLKEN-SIG having the logic value \u201c0\u201d, the fourth and fifth clock signals CLK and CLK are both fixed to the logic Low level (GND), and the second clock-select unit  is stopped from outputting a clock. In this way, during the time of a normal operation in which no clock switching is performed, an unwanted clock supply to the inside of the clock-control-signal-generation circuit can be kept stopped to cut the power consumption.","Also, as to the second and third clock signals CLK and CLK, which are output signals of the first clock-select unit , by providing a circuit operable to mask the two clock signals, an unwanted clock supply to the inside of the clock-control-signal-generation circuit can be kept stopped to cut the power consumption during the time of a normal operation in which no clock switching is performed.","The clock-control-signal-generation circuit is the same as the clock-control-signal-generation circuit shown in , which has been described in connection with the fourth embodiment in structure and operation.","<Seventh Embodiment>",{"@attributes":{"id":"p-0209","num":"0208"},"figref":["FIG. 14","FIG. 2"],"b":"201"},"The select-type clock-control-signal-generation circuit shown in  includes: a first clock-select unit ; a second clock-select unit ; and a clock-control-signal-generation circuit (C-CNT-GEN) ","Further, the first clock-select unit includes multiplexers (Mux)  and , OR circuits  and , AND circuits  and , and a multiplexer (Mux) . The second clock-select unit  includes multiplexers (Mux)  and , OR circuits  and , and AND circuits  and .","Signals input to and output from the select-type clock-control-signal-generation circuit are the same as signals input to and output from the select-type clock-control-signal-generation circuit  according to the second embodiment in their details.",{"@attributes":{"id":"p-0213","num":"0212"},"figref":"FIG. 15","b":"202","i":"b. "},"The operation of the first clock-select unit will be described with reference to .","The signal SCF, which is an output signal of the OR circuit , and the signal SCF, which is an output signal of the OR circuit , take logic levels shown by the truth table of , according to combinations of the values of a current-select signal CSEL-SIG[], a current-select signal CSEL-SIG[], and a current-select signal CSEL-SIG[]. The signals SCF and SCF indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d to selectively output as the second clock signal CLK. Likewise, the signal SCS, which is an output signal of the AND circuit , and the signal SCS, which is an output signal of the AND circuit , take logic levels shown by the truth table of , according to combinations of the values of the current-select signal CSEL-SIG[], the current-select signal CSEL-SIG[], and the current-select signal CSEL-SIG[]. The signals SCS and SCS indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d to selectively output as the third clock signal CLK.","On condition that the current-select signal CSEL-SIG[], which is the most significant bit of the current-select signal CSEL-SIG of three bits, has the logic value \u201c0\u201d, the value of the signal SCF is equal to the value of the current-select signal CSEL-SIG[], and the value of the signal SCF coincides with the value of the current-select signal CSEL-SIG[]. In contrast, on condition that the current-select signal CSEL-SIG[] has the logic value \u201c1\u201d, the signals SCF and SCF both take the logic value \u201c1\u201d.","Further, on condition that the current-select signal CSEL-SIG[], which is the most significant bit of the current-select signal CSEL-SIG of three bits, has the logic value \u201c1\u201d, the value of the signal SCS is equal to the value of the current-select signal CSEL-SIG[], and the value of the signal SCS coincides with the value of the current-select signal CSEL-SIG[]. In contrast, on condition that the current-select signal CSEL-SIG[] has the logic value \u201c0\u201d, the signals SCS and SCS both take the logic value \u201c1\u201d.","Consequently, in this embodiment, the second clock signal CLK, which is an output signal of the multiplexer , and the third clock signal CLK, which is an output signal of the multiplexer , are selectively output as shown by truth table of . The most significant bit (current-select signal CSEL-SIG[]) of the current-select signal CSEL-SIG having the logic value \u201c0\u201d means that the first clock-select unit is directed to select a clock from the high-frequency clock group. In this case, the selected input clock signal is supplied as the second clock signal CLK, whereas the third clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied. In contrast, the most significant bit (current-select signal CSEL-SIG[]) of the current-select signal CSEL-SIG having the logic value \u201c1\u201d means that the first clock-select unit is directed to select a clock from the low-frequency clock group. In this case, the selected input clock signal is supplied as the third clock signal CLK, whereas the second clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied.","The multiplexer  accepts inputs of the second clock signal CLK and the third clock signal CLK. The following signals are selectively output as the first clock signal CLK, which is an output signal of the multiplexer  as shown by the truth table of : an input clock signal selected as the second clock signal CLK on condition that the current-select signal CSEL-SIG[] has the logic value \u201c0\u201d and a clock of the high-frequency clock group is selected; and an input clock signal selected as the third clock signal CLK on condition that the current-select signal CSEL-SIG[] having the logic value \u201c1\u201d, and a clock of the low-frequency clock group is selected.",{"@attributes":{"id":"p-0220","num":"0219"},"figref":"FIG. 16","b":"203"},"The operation of the second clock-select unit  will be described with reference to .","The signal SNF, which is an output signal of the OR circuit , and the signal SNF, which is an output signal of the OR circuit , take logic levels shown by the truth table of , according to combinations of the values of a second clock-select-unit-enable signal CLKEN-SIG, a new-select signal NSEL-SIG[], a new-select signal NSEL-SIG[], and a new-select signal NSEL-SIG[]. The signals SNF and SNF indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d to selectively output as the fourth clock signal CLK. Likewise, the signal SNS, which is an output signal of the AND circuit , and the signal SNS, which is an output signal of the AND circuit , take logic levels shown by the truth table of , according to combinations of the values of the second clock-select-unit-enable signal CLKEN-SIG, the new-select signal NSEL-SIG[], the new-select signal NSEL-SIG[], and the new-select signal NSEL-SIG[]. The signals SNS and SNS indicate, to the multiplexer , which of four inputs \u201c00\u201d, \u201c01\u201d, \u201c10\u201d and \u201c11\u201d to selectively output as the fifth clock signal CLK.","On condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the new-select signal NSEL-SIG[], which is the most significant bit of the new-select signal NSEL-SIG of three bits, has the logic value \u201c0\u201d, the value of the signal SNF is equal to the value of the new-select signal NSEL-SIG[], and the value of the signal SNF coincides with the value of the new-select signal NSEL-SIG[]. In contrast, on condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the new-select signal NSEL-SIG[] has the logic value \u201c1\u201d, the signals SNF and SNF both take the logic value \u201c1\u201d.","Further, on condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the new-select signal NSEL-SIG[], which is the most significant bit of the new-select signal NSEL-SIG of three bits, has the logic value \u201c1\u201d, the value of the signal SNS is equal to the value of the new-select signal NSEL-SIG[], and the value of the signal SNS coincides with the value of the new-select signal NSEL-SIG[]. In contrast, on condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the new-select signal NSEL-SIG[] has the logic value \u201c0\u201d, the signals SNS and SNS both take the logic value \u201c1\u201d.","However, in the case of the second clock-select-unit-enable signal CLKEN-SIG having the logic value \u201c0\u201d, the signals SNF, SNF, SNS and SNS all take the logic value \u201c1\u201d regardless of the values of the new-select signal NSEL-SIG[] to the new-select signal NSEL-SIG[].","Consequently, in this embodiment, the fourth clock signal CLK, which is an output signal of the multiplexer , and the fifth clock signal CLK, which is an output signal of the multiplexer , are selectively output as shown by the truth table of . The condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, the most significant bit (new-select signal NSEL-SIG[]) of the new-select signal NSEL-SIG has the logic value \u201c0\u201d means that the second clock-select unit  is directed to select a clock from the high-frequency clock group. In this case, the selected input clock signal is supplied as the fourth clock signal CLK, whereas the fifth clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied. In contrast, the condition that the second clock-select-unit-enable signal CLKEN-SIG has the logic value \u201c1\u201d, and the most significant bit (new-select signal NSEL-SIG[]) of the new-select signal NSEL-SIG has the logic value \u201c1\u201d means that the second clock-select unit  is directed to select a clock from the low-frequency clock group. In this case, the selected input clock signal is supplied as the fifth clock signal CLK, whereas the fourth clock signal CLK is fixed to the logic Low level (GND), whereby no clock is supplied. Further, in the case of the second clock-select-unit-enable signal CLKEN-SIG having the logic value \u201c0\u201d, the fourth and fifth clock signals CLK and CLK are both fixed to the logic Low level (GND), and the second clock-select unit  is stopped from outputting a clock. In this way, during the time of a normal operation in which no clock switching is performed, an unwanted clock supply to the inside of the clock-control-signal-generation circuit can be kept stopped to cut the power consumption.","Also, by providing a circuit operable to mask the second and third clock signals CLK and CLK, which are output by the first clock-select unit , an unwanted clock supply to the inside of the clock-control-signal-generation circuit can be kept stopped to cut the power consumption during the time of a normal operation, in which no clock switching is performed.","The clock-control-signal-generation circuit is the same as the clock-control-signal-generation circuit shown in , which has been described in connection with the fifth embodiment in structure and operation.","<Eighth Embodiment>",{"@attributes":{"id":"p-0230","num":"0229"},"figref":["FIG. 17","FIG. 3"],"b":"301"},"The clock selector shown in  includes: a select-type clock-control-signal-generation circuit (SCC-GEN) ; a gating control unit (G-CNT) ; a clock-gating unit (C-GAT) ; a first select-signal-holding unit (SEL-ST) ; a second select-signal-holding unit (SEL-ST) ; and a reset-signal-generation unit (REST-GEN) .","The clock selector accepts inputs of a plurality of clock signals (input clock signals CKIN to CKIN), a clock-select signal of n+1 bits, a switching-trigger signal ST-SIG, and a second clock-select-unit-enable signal CLKEN-SIG, from the outside. Also, the clock selector outputs an output clock signal CKOUT, a switching-run signal SEL-RUN-SIG, and a second reset signal RST-SIG to the outside. The details of the signals are the same as those of the signals input to and output from the clock selector  in connection with the third embodiment.","The clock-control-signal-generation circuit is the same as the clock-control-signal-generation circuit shown in , which has been described in connection with the sixth embodiment in structure and operation.",{"@attributes":{"id":"p-0234","num":"0233"},"figref":"FIG. 21","b":["1701","1702"]},"The gating control unit  includes AND circuits  and , whereas the clock-gating unit  includes an AND circuit  and an OR circuit .",{"@attributes":{"id":"p-0236","num":"0235"},"figref":"FIG. 22","b":["1701","1702"]},"With first and second clock-stop-permission signals CST-SIG and CST-SIG, and a clock-resume-permission signal C-RES-SIG, the signals all stay at the logic High level corresponding to the logic value \u201c1\u201d when the signals are active, whereas the signals stay at the logic Low level, corresponding to the logic value \u201c0\u201d when the signals are nonactive. Further, the first gating-control signal GAT-SIG stays at the logic High level corresponding to the logic value \u201c1\u201d when it is active. However, the first gating-control signal GAT-SIG stays at the logic Low level corresponding to the logic value \u201c0\u201d when it is nonactive. The second gating-control signal GAT-SIG stays at the logic Low level corresponding to the logic value \u201c0\u201d when it is active, however it stays at the logic High level corresponding to logic value \u201c1\u201d when nonactive.","The first and second clock-stop-permission signals CST-SIG and CST-SIG are never made active concurrently. In addition, the first and second gating-control signals GAT-SIG and GAT-SIG are never made nonactive concurrently.","Now, the operations of the gating control unit  and clock-gating unit  will be described with reference to . The first gating-control signal GAT-SIG is changed to the nonactive state corresponding to the logic value \u201c0\u201d only under the condition that the first clock-stop-permission signal CST-SIG is in the active state corresponding to the logic value \u201c1\u201d, and the clock-resume-permission signal C-RES-SIG is in the nonactive state corresponding to the logic value \u201c0\u201d. The second gating-control signal GAT-SIG is changed to the nonactive state corresponding to the logic value \u201c1\u201d only in the condition that the second clock-stop-permission signal CST-SIG is in the active state corresponding to the logic value \u201c1\u201d, and the clock-resume-permission signal C-RES-SIG is in the nonactive state corresponding to the logic value \u201c0\u201d.","With the first gating-control signal GAT-SIG staying in the nonactive state corresponding to the logic value \u201c0\u201d, and the second gating-control signal GAT-SIG in the active state corresponding to the logic value \u201c0\u201d, the output clock signal CKOUT is fixed at the Low level (output-clock-stop condition). With the first gating-control signal GAT-SIG in the active state corresponding to the logic value \u201c1\u201d, and the second gating-control signal GAT-SIG in the nonactive state corresponding to the logic value \u201c1\u201d, the output clock signal CKOUT is fixed at the High level (output-clock-stop condition). Only in the condition that the first gating-control signal GAT-SIG is in the active state corresponding to the logic value \u201c1\u201d, and the second gating-control signal GAT-SIG is in the active state corresponding to the logic value \u201c0\u201d, the first clock signal CLK is output as the output clock signal CKOUT. As described above, the clock selector is controlled so that the following two conditions are not satisfied: the first gating-control signal GAT-SIG is in the nonactive state corresponding to the logic value \u201c0\u201d; and the second gating-control signal GAT-SIG is in the nonactive state corresponding to the logic value \u201c1\u201d.","During the time of a normal operation in which no clock switching is performed, the first and second clock-stop-permission signals CST-SIG and CST-SIG, and the clock-resume-permission signal C-RES-SIG all stay in the nonactive state corresponding to the logic value \u201c0\u201d, which is the initial state thereof. Therefore, during this time, the first gating-control signal GAT-SIG is in the active state corresponding to the logic value \u201c1\u201d, and the second gating-control signal GAT-SIG stays in the active state corresponding to the logic value \u201c0\u201d and thus the first clock signal CLK is output as the output clock signal CKOUT.",{"@attributes":{"id":"p-0242","num":"0241"},"figref":"FIG. 23","b":["1703","1704"]},"The first select-signal-holding unit  includes flip-flops ,  and . The second select-signal-holding unit  includes AND circuits  and , an OR circuit , a delay circuit (DLY)  having a delay time D, and latch circuits ,  and .","In the first select-signal-holding unit , in line with a rising edge of the switching-trigger signal ST-SIG, the clock-select signal[], the clock-select signal[] and the clock-select signal[] are sampled and held by the flip-flops ,  and , and output as the new-select signal NSEL-SIG[], the new-select signal NSEL-SIG[], and the new-select signal NSEL-SIG[].","In the second select-signal-holding unit , the output signal of the OR circuit  is made active by the AND circuits  and  and the OR circuit  on condition that the first gating-control signal GAT-SIG is nonactive, and the second gating-control signal GAT-SIG is active, or that the first gating-control signal GAT-SIG is active, and the second gating-control signal GAT-SIG is nonactive. Then, after an elapse of the time set by the delay circuit , the switching-run signal SEL-RUN-SIG is changed from nonactive (logic value \u201c0\u201d) to active (logic value \u201c1\u201d). After the switching-run signal SEL-RUN-SIG is changed to active (logic value \u201c1\u201d), the new-select signal NSEL-SIG[], the new-select signal NSEL-SIG[] and the new-select signal NSEL-SIG[] are held by the latch circuits ,  and , and output as the current-select signal CSEL-SIG[], current-select signal CSEL-SIG[], and the current-select signal CSEL-SIG[].",{"@attributes":{"id":"p-0246","num":"0245"},"figref":["FIG. 24","FIG. 17"],"b":"1705"},"The reset-signal-generation unit  include an inverter , and a delay circuit (DLY)  having a delay time D. The reset-signal-generation unit  uses the inverter  to invert, in logic, the clock-resume-permission signal C-RES-SIG, and outputs the resultant signal as the first reset signal RST-SIG. Also, the reset-signal-generation unit  uses the delay circuit  to delay the first reset signal RST-SIG by a given time D, and outputs the resultant signal as the second reset signal RST-SIG.",{"@attributes":{"id":"p-0248","num":"0247"},"figref":"FIG. 18","b":"301","i":"a "},"A flow of clock switching will be described with reference to  while linking each step of the flow with actions of the respective blocks of the clock selector ","In the description below, Times T to T correspond to the times denoted by T to T in . In addition, the initial states of the first and second clock-stop-permission signal CST-SIG and CST-SIG, and the clock-resume-permission signal C-RES-SIG are nonactive. Further, the initial states of the first and second gating-control signals GAT-SIG and GAT-SIG are active. Still further, the initial states of the first and second reset signals RST-SIG and RST-SIG are nonactive.","Moreover, the first clock signal CLK and the output clock signal CKOUT before clock switching are selected from the low-frequency clock group, and therefore these clock signals are delayed by the delay circuit  shown in  by the time D with respect to the third clock signal CLK at the time of output, which is as already described in connection with the sixth embodiment. At Time T, the value of the clock-select signal of three bits supplied from the outside is changed from (x,x,x) to (y,y,y). Likewise the second clock-select-unit-enable signal CLKEN-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level).","At Time T, in a given time (denoted by D in ) from Time T, the switching-trigger signal ST-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level). In response to this, the first select-signal-holding unit  changes the value of the new-select signal NSEL-SIG of three bits from (x,x,x) to (y,y,y). Then, the second clock-select unit  in the select-type clock-control-signal-generation circuit starts outputting the fourth clock signal CLK corresponding to the value (y,y,y) indicated by the new-select signal NSEL-SIG of three bits. In addition, the clock-control-signal-generation circuit in the select-type clock-control-signal-generation circuit starts processing, and the level of the third clock signal CLK is detected as described in connection with the fourth embodiment. Incidentally, in the example shown in , High level is detected.","At Time T, in a given time (denoted by D in ) from Time T, the select-type clock-control-signal-generation circuit changes the second clock-stop-permission signal from nonactive (logic Low level) to active (logic High level), and outputs the second clock-stop-permission signal of the active state, provided that the given time D is produced by the delay circuit  as described in connection with the fourth embodiment. Consequently, the gating control unit  changes the second gating-control signal GAT-SIG from active (logic Low level) to nonactive (logic High level). However, in this situation, the first gating-control signal GAT-SIG is left active (at the logic High level). Further, in response to this, the clock-gating unit  fixes the output clock signal CKOUT at the logic High level, i.e. executes the step of stopping an output clock (STP).","At Time T after an elapse of a given time (D in ) from Time T, the second select-signal-holding unit  changes the value of the current-select signal CSEL-SIG of three bits from (x,x,x) to (y,y,y), provided that the delay of the given time is caused by the delay circuit . Further, at Time T, the first clock-select unit in the select-type clock-control-signal-generation circuit switches the first clock signal CLK to an after-switching clock signal corresponding to the value (y,y,y) indicated by the current-select signal CSEL-SIG of three bits, i.e. changes the clock to select.","At Time T, after the detection of the second rising edge of the fourth clock signal CLK after Time T as described in connection with the fourth embodiment, the clock-control-signal-generation circuit in the select-type clock-control-signal-generation circuit changes the clock-resume-permission signal C-RES-SIG from nonactive (logic Low level) to active (logic High level) and then outputs the clock-resume-permission signal so changed. Consequently, the gating control unit  changes the second gating-control signal GAT-SIG from nonactive (logic High level) to active (logic Low level). In this situation, the first gating-control signal GAT-SIG is left active (at the logic High level). In response to the change, the clock-gating unit  turns the output clock signal CKOUT back to the first clock signal CLK. That is, the output clock is resumed.","After Time T when the first reset signal RST-SIG is changed from nonactive (logic High level) to active (logic Low level), a given time (D in ) slips by because of the delay circuit , and then the second reset signal RST-SIG is changed from nonactive (logic High level) to active (logic Low level). In response to the change of both the first and second reset signal RST-SIG and RST-SIG to active, the internal circuit of the clock-control-signal-generation circuit in the select-type clock-control-signal-generation circuit is initialized.","Until Time T, a clock signal before switching is output as the output clock signal CKOUT. During the period between Time T and T, the output clock signal CKOUT is controlled to remain stopped. After Time T, a clock signal after switching is output as the output clock signal CKOUT. For the period during which the output clock signal CKOUT remains stopped, at least a length of time representing one cycle of the after-switching clock signal is ensured.","According to above description, the clock-gating unit  fixes the output clock signal CKOUT at the logic High level and stops it in response to the change of the second gating-control signal GAT-SIG to nonactive, at Time T. However, in the case of the change of the first gating-control signal GAT-SIG to nonactive, the clock-gating unit  fixes the output clock signal CKOUT at the logic Low level and stops the output clock signal.","Now, the output clock signal CKOUT is behind the third clock signal CLK by the time D as described above in the case of the before-switching clock signal selected from the low-frequency clock group and therefore, once in a while the third clock signal CLK in Low level is detected even though the output clock signal CKOUT still stays at High level, and the output clock signal CKOUT is stopped at Low level based on the result of the detection. In contrast, it may occur that the situation that the third clock signal CLK in High level is detected even though the output clock signal CKOUT still stays at Low level, and the output clock signal CKOUT is stopped at High level based on the result of the detection. However, in such cases, even if the output clock signal CKOUT is forced to transition to a wrong state in level when being stopped, the transition of the output clock signal just occurs behind the time to normally cause such transition only by the time D. This is because the transition occurs after the output clock signal CKOUT has been kept at High\/Low level for a sufficiently long time (at least 0.5-cycle time\u2014D). The time D is set to be much shorter than the time of one cycle of a low-frequency clock to be used, and therefore the time D can cause no inexpedience with the waveform of the clock.","Next, the purpose of using the delay circuit  incorporated in the first clock-select unit in the select-type clock-control-signal-generation circuit shown in  will be described. The clock-control-signal-generation circuit located in the select-type clock-control-signal-generation circuit generates the first and second clock-stop-permission signals CST-SIG and CST-SIG for controlling the stop of the output clock signal CKOUT based on the result of detection of the level of the third clock signal CLK in the first low-frequency clock processing subunit during the time when the third clock signal CLK which is a low-frequency clock is applied thereto. In the case of making an attempt to stop a clock in a conventional way based on detection of the level of the clock, e.g. to stop a clock at Low level in response to the detection of Low level immediately before a rising edge of the clock by chance, a clock has already transitioned to High level at the point when trying stopping the clock actually because of an elapse of time resulting from a delay of processing by a circuit. Under this situation, if the output clock is fixed at Low level to stop the clock as originally arranged, a glitch is caused. The delay circuit  is incorporated in consideration of such case. Specifically, the first clock signal CLK and the output clock signal CKOUT are delayed to be behind the third clock signal CLK by the time D because of the signals having gone through the delay circuit . Therefore, even if the level is detected immediately before an edge of the third clock signal CLK, the output clock signal CKOUT will be kept at the same level as the detected level for the time D after the detection. On that account, even if there is a delay in processing by the circuit, as long as the delay is within the time D, no glitch is caused when the clock is stopped with the level fixed to the detected level. A requirement for realization of a clock-control-signal-generation circuit so arranged is that the set delay time D of the delay circuit  incorporated in the first low-frequency clock processing subunit is smaller than the time D. The role of the delay circuit  to assure that the level of a low-frequency clock signal to be stopped based on level detection is never changed during the process for stopping the clock.","As described above, in switching from a low-frequency clock signal to a high-frequency clock signal, the clock selector  takes up to the sum of a given time D and a give time D between the change of the clock-select signal of n+1 bits and the stop of the clock, and spends up to the time of three cycles of the clock after switching between the stop and resumption of the clock. Therefore, the time required for the clock switching is the sum of the above times.","The given time D, which is set as a standby time taken until the clock-select signal of n+1 bits stabilizes, is typically about 10 nanoseconds. In addition, the given time D, which is set as a standby time taken until the metastable phenomenon of the flip-flop calms down, is typically about 10 nanoseconds. Therefore, e.g. on condition that the clock before switching has a frequency of 32 kHz, and the clock after switching has a frequency of 100 MHz, the clock switching is finished in a total of 50 nanoseconds approximately. The time of about 50 nanoseconds contains just a period of five cycles of the 100-MHz clock after switching. The time of about 50 nanoseconds can be regarded as much smaller than the clock switching time (62.5 microseconds, equivalent to a period of 6250 cycles of the 100-MHz clock after switching) which a conventional clock selector achieves under the same condition.","In this embodiment, changes of the first and second gating-control signal GAT-SIG and GAT-SIG are used to provide the latch circuits , ,  with a trigger signal for updating the n+1 bits of current-select signal CSEL-SIG in the second select-signal-holding unit . However, an original signal to create the trigger signal is not limited to the first and second gating-control signals GAT-SIG and GAT-SIG. Another appropriate signal or a signal separately prepared by an additional circuit may be used instead.","<Ninth Embodiment>",{"@attributes":{"id":"p-0264","num":"0263"},"figref":["FIG. 19","FIG. 3"],"b":"301"},"The clock selector shown in  includes: a select-type clock-control-signal-generation circuit ; a gating control unit ; a clock-gating unit ; a first select-signal-holding unit ; a second select-signal-holding unit ; and a reset-signal-generation unit .","The clock selector accepts inputs of a plurality of clock signals (input clock signals CKIN to CKIN), a clock-select signal of n+1 bits, a switching-trigger signal ST-SIG, and a second clock-select-unit-enable signal CLKEN-SIG, from the outside. Also, the clock selector outputs an output clock signal CKOUT, a switching-run signal SEL-RUN-SIG, and a second reset signal RST-SIG to the outside. The details of the signals are the same as those of the signals input to and output from the clock selector  in connection with the third embodiment.","The clock-control-signal-generation circuit is the same as the clock-control-signal-generation circuit shown in , which has been described in connection with the seventh embodiment in structure and operation.","The gating control unit  and the clock-gating unit  are configured as shown in , and operate in the same ways as the gating control unit  and the clock-gating unit  in connection with the eighth embodiment work.","The first and second select-signal-holding units  and  are configured as shown in , and operate in the same ways as the first and second select-signal-holding units  and  in connection with the eighth embodiment work.","The reset-signal-generation unit  is configured as shown in , and its operation is the same as the operation of the reset-signal-generation unit  in connection with the eighth embodiment which has already described.",{"@attributes":{"id":"p-0271","num":"0270"},"figref":"FIG. 20","b":"301","i":"b "},"A flow of clock switching will be described with reference to  while linking each step of the flow with actions of the respective blocks of the clock selector ","In the description below, Times T to T correspond to the times denoted by T to T in . In addition, the initial states of the first and second clock-stop-permission signal CST-SIG and CST-SIG, and the clock-resume-permission signal C-RES-SIG are nonactive. Further, the initial states of the first and second gating-control signals GAT-SIG and GAT-SIG are active. Still further, the initial states of the first and second reset signals RST-SIG and RST-SIG are nonactive.","At Time T, the value of the clock-select signal of three bits supplied from the outside is changed from (x,x,x) to (y,y,y). Likewise the second clock-select-unit-enable signal CLKEN-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level).","At Time T, in a given time (denoted by D in ) from Time T, the switching-trigger signal ST-SIG supplied from the outside is changed from nonactive (logic Low level) to active (logic High level). In response to this, the first select-signal-holding unit  changes the value of the new-select signal NSEL-SIG of three bits from (x,x,x) to (y,y,y). Then, the second clock-select unit  in the select-type clock-control-signal-generation circuit starts outputting the fourth clock signal CLK corresponding to the value (y,y,y) indicated by the new-select signal NSEL-SIG of three bits. In addition, the clock-control-signal-generation circuit in the select-type clock-control-signal-generation circuit starts processing.","The action steps to execute at Time  are the same as those as described in connection with the fifth embodiment. Specifically, in the clock-control-signal-generation circuit in the select-type clock-control-signal-generation circuit , the select-type clock-control-signal-generation circuit changes the second clock-stop-permission signal from nonactive to active, and outputs the second clock-stop-permission signal on detection of the edge of the third clock signal CLK(D) in the same direction (the rising edge in ) after detection of the edge of the third clock signal CLK, provided that the third clock signal CLK(D) is the third clock signal CLK delayed by the delay circuit  by the time D. Consequently, the gating control unit  changes the second gating-control signal GAT-SIG from active (logic Low level) to nonactive (logic High level). However, in this situation, the first gating-control signal GAT-SIG is left active (at the logic High level). Further, in response to this, the clock-gating unit  fixes the output clock signal CKOUT at the logic High level, i.e. executes the step of stopping an output clock (STP).","At Time T after an elapse of a given time (D in ) from Time T, the second select-signal-holding unit  changes the value of the current-select signal CSEL-SIG of three bits from (x,x,x) to (y,y,y), provided that the delay of the given time is caused by the delay circuit . Further, at Time T, the first clock-select unit in the select-type clock-control-signal-generation circuit switches the first clock signal CLK to an after-switching clock signal corresponding to the value (y,y,y) indicated by the current-select signal CSEL-SIG of three bits, i.e. changes the clock to select.","At Time T, after the detection of the second rising edge of the fourth clock signal CLK after Time T as described in connection with the fifth embodiment, the clock-control-signal-generation circuit in the select-type clock-control-signal-generation circuit changes the clock-resume-permission signal C-RES-SIG from nonactive (logic Low level) to active (logic High level) and then outputs the clock-resume-permission signal so changed. Consequently, the gating control unit  changes the second gating-control signal GAT-SIG from nonactive (logic High level) to active (logic Low level). In this situation, the first gating-control signal GAT-SIG is left active (at the logic High level). In response to the change, the clock-gating unit  turns the output clock signal CKOUT back to the first clock signal CLK. That is, the output clock is resumed.","After Time T when the first reset signal RST-SIG is changed from nonactive (logic High level) to active (logic Low level), a given time (D in ) slips by because of the delay circuit , and then the second reset signal RST-SIG is changed from nonactive (logic High level) to active (logic Low level). In response to the change of both the first and second reset signal RST-SIG and RST-SIG to active, the internal circuit of the clock-control-signal-generation circuit in the select-type clock-control-signal-generation circuit is initialized.","Until Time T, a clock signal before switching is output as the output clock signal CKOUT. During the period between Time T and T, the output clock signal CKOUT is controlled to remain stopped. After Time T, a clock signal after switching is output as the output clock signal CKOUT. For the period during which the output clock signal CKOUT remains stopped, at least a length of time representing one cycle of the after-switching clock signal is ensured.","According to above description, the clock-gating unit  fixes the output clock signal CKOUT at the logic High level and stops it in response to the change of the second gating-control signal GAT-SIG to nonactive, at Time T. However, in the case of the change of the first gating-control signal GAT-SIG to nonactive, the clock-gating unit  fixes the output clock signal CKOUT at the logic Low level and stops the output clock signal.","As described above, in switching from a low-frequency clock signal to a high-frequency clock signal, the clock selector in connection with the invention takes up to the sum of a given time D, a time of 0.5 cycle of a clock before switching, and a given time D between the change of the clock-select signal of n+1 bits and the stop of the clock, and spends up to the time of three cycles of the clock after switching between the stop and resumption of the clock. Therefore, the time required for the clock switching is the sum of the above times.","The given time D, which is set as a standby time taken until the clock-select signal of n+1 bits stabilizes, is typically about 10 nanoseconds. In addition, the given time D, which is set as a standby time taken until the metastable phenomenon of the flip-flop calms down, is typically about 10 nanoseconds. Therefore, e.g. on condition that the clock before switching has a frequency of 32 kHz, and the clock after switching has a frequency of 100 MHz, the clock switching is finished in a total of 15.7 microseconds approximately. The time of about 15.7 microseconds contains just a period of 1570 cycles of the 100-MHz clock after switching. The time of about 15.7 microseconds can be regarded as much smaller than the clock switching time (62.5 microseconds, equivalent to a period of 6250 cycles of the 100-MHz clock after switching) which a conventional clock selector achieves under the same condition.","<Tenth Embodiment>",{"@attributes":{"id":"p-0284","num":"0283"},"figref":"FIG. 25"},"The microcomputer system  includes: a clock-generation unit  including a clock selector , which is identical with anyone of the clock selectors described in connection with the eighth and ninth embodiments of the invention; and a plurality of functional modules which are operated in synchronization with a clock signal output by the clock-generation unit . Although no special restriction is intended, the plurality of functional modules include: a CPU (Central Processing Unit) ; an interruption-control unit (INT-CNT) ; a watchdog timer (W-TIM) ; a bus-interface unit (B-INT) ; a bus-control unit (B-CNT) ; and a memory unit  including e.g. a program memory (P-MEM), a data memory (D-MEM). Also, the plurality of functional modules include: a control register (CNT-REG) ; and a peripheral function block assembly  including a general-purpose timer (G-TIM), a real-time timer (C-TIM) serving as a timepiece, a serial interface (S-INT), an I\/O port (IOP), and an analog-to-digital converter (A\/D).","The clock-generation unit  includes: a clock selector (CLK-SEL) ; a clock buffer ; a PLL ; an HOCO (High-frequency On Chip Oscillator) ; and an LOCO (Low-frequency On Chip Oscillator) . Further, the clock-generation unit  includes: a real-time clock (RTC) ; a divider (Div) ; a multiplexer (Mux) ; and a mismatch-detection-functioning unit (MIS-DET) . Still further, the clock-generation unit  includes: dividers (Div)  to ; delay adjusters (D-ADJ) , ,  and ; clock-gating circuits (CG) , ,  and ; and clock buffers , ,  and , and the like. For the clock selector , e.g. the configuration shown in  is adopted. Incidentally, the clock selector  is arranged so as to accept transmission of a clock signal through an external terminal.","PLL , which the control register  has set to be enable, multiplies a reference clock supplied by the external quartz oscillator (Xtal)  to produce a high-frequency clock signal of e.g. 100 MHz.","HOCO , which the control register  has set to be enable, generates a high-frequency clock signal of e.g. 40 MHz by self-running oscillation.","Also, LOCO , which the control register  has set to be enable, generates a low-frequency clock signal of e.g. 125 kHz by self-running oscillation.","RTC , which the control register  has set to be enable, generates a low-frequency clock signal of e.g. 32 kHz by self-running oscillation. The low-frequency clock signal is also used as a clock signal for a timepiece.","The divider , which the control register  has set to be enable, divides, in frequency, a reference clock supplied by the external quartz oscillator (Xtal)  thereby to generate a low-frequency clock signal of e.g. 32 kHz. The low-frequency clock signal is also used as clock signal for a timepiece.","While the RTC  and the divider  are both capable of supplying a low-frequency clock signal of 32 kHz, the RTC  and the divider  are used selectively as follows. In the case of the microcomputer system without the external quartz oscillator (Xtal) , RTC  is brought into operation, and the divider  is kept stopped. In contrast, in the case of the microcomputer system with the external quartz oscillator (Xtal) , the divider  is brought into operation, and RTC  is kept stopped. The low-frequency clock signal of 32 kHz can be also used as a clock signal for a timepiece. Therefore, it is common to generate a 32-kHz clock signal constantly. The multiplexer  selects one of the clock signals for a timepiece, and supplies an internal circuit in the microcomputer system .","According to a value indicated by a clock-select signal of n+1 bits, which the control register  outputs, the clock selector  selects a clock signal from a group consisting of: a high-frequency clock signal of 100 MHz, which is an output signal of PLL ; a high-frequency clock signal of 40 MHz, which is an output signal of HOCO ; a low-frequency clock signal of 125 kHz, which is an output signal of LOCO ; and a low-frequency clock signal of 32 kHz, which is an output signal of the RTC  or divider . Then, the clock selector  outputs the selected clock signal as an output clock signal CKOUT.","The output clock signal CKOUT which the clock selector  outputs is distributed to four blanch lines of the system. The output clock signal CKOUT traveling on each blanch line enters, of the dividers , ,  and , corresponding one, and is converted into a clock signal of a given frequency. Thereafter, the resultant clock signals are passed through the delay adjusters  to , the clock-gating circuits  to , and the clock buffers  to , respectively, and then supplied to the inside of the microcomputer system  as a CPU clock CPU-CLK, a bus clock BUS-CLK, a peripheral clock MOD-CLK, and a peripheral clock MOD-CLK, respectively.","In the microcomputer system shown in , the CPU clock CPU-CLK is used as an operation clock of CPU , and the bus clock BUS-CLK is used as an operation clock for the watchdog timer , the bus-interface unit , the bus-control unit , the memory unit , and the control register . In addition, the peripheral clock MOD-CLK is used as an operation clock for the general-purpose timer, the serial interface and the I\/O port in the peripheral function block assembly , and the peripheral clock MOD-CLK is used as an operation clock for the analog-to-digital converter in the peripheral function block assembly .","The clock-gating circuits , ,  and  are used to individually stop supplying the clock signals according to the settings of the control register  when it is not required to supply the clock signals to the respective blocks.","In the microcomputer system , the propagation routes for the clock signals cause different propagation delays independent of each other. Therefore, the delay adjuster  to  are used to avert the situation that the clock-synchronization between the respective blocks in the microcomputer system  cannot be maintained. In order to establish the synchronization between the clock signals, a delay time is set for each clock according to the settings of the control register  and the clock signals are adjusted in phase.","Next, the mismatch-detection-functioning unit  in the clock-generation unit  will be described.",{"@attributes":{"id":"p-0299","num":"0298"},"figref":"FIG. 26","b":"2512"},"The mismatch-detection-functioning unit  includes: a mismatch-detection circuit ; a latch circuit ; a delay circuit  having a delay time D; a flip-flop ; and an inverter .","The mismatch-detection circuit  further includes: exclusive OR circuits (Ex-OR) ,  and ; and an OR circuit .","The mismatch-detection-functioning unit  accepts inputs of: a clock-select signal of n+1 bits output by the control register ; a current-select signal CSEL-SIG of n+1 bits output by the clock selector  in connection with the invention; a switching-run signal SEL-RUN-SIG; and a second reset signal RST-SIG. Further, the mismatch-detection-functioning unit  outputs a switching-trigger signal ST-SIG and a second clock-select-unit-enable signal CLKEN-SIG, which are supplied to the clock selector .","The mismatch-detection circuit  compares the clock-select signal of n+1 bits with the current-select signal CSEL-SIG of n+1 bits for each bit; in the comparison, the function of the exclusive OR circuits ,  and  of a type having two input terminals, i.e. the function of outputting a signal of the active state (logic High level) on receipt of two signals different in logic level via the two input terminals, is utilized. As a result of the comparison, if even one bit of mismatch is found between the clock-select signal of n+1 bits and the current-select signal CSEL-SIG of n+1 bits, the output signal of the OR circuit  is changed to active (logic High level). In this way, the update of the value of the clock-select signal of n+1 bits is detected.","In response to the change of the output signal of the mismatch-detection circuit  to active (logic High level), the second clock-select-unit-enable signal CLKEN-SIG, which is an output signal of the latch circuit , is changed to active (logic High level). After an elapse of the given delay time (D), which has been set on the delay circuit , following the change of the second clock-select-unit-enable signal CLKEN-SIG to active (logic High level), the output signal of the delay circuit  is changed to active (logic High level). Consequently, the switching-trigger signal ST-SIG, which is an output signal of the flip-flop , is changed to active (logic High level).","The output signal of the latch circuit  is initialized into the nonactive state (logic Low level) in response to the change of the second reset signal RST-SIG to active (logic Low level). The output signal of the flip-flop  is initialized into the nonactive state (logic Low level) in response to the change of the switching-run signal SEL-RUN-SIG to active (logic High level) caused by the inverter .","On another note, bit signals constituting the clock-select signal of n+1 bits output by the control register  are expected to reach the clock selector  involving respective time lags (skew) different from one another, and the different time lags are attributed to the uncertainty in the operation of the semiconductor device forming the control register , the differences in load capacitance among signal lines of n+1 bits, and other factors. Therefore, in case that bit values constituting the value of the clock-select signal of n+1 bits are held by the clock selector  before all of the bit values are changed to final values, a switching to an improper clock would be caused based on wrong data.","To avert such inexpedience, the mismatch-detection-functioning unit  incorporates a delay circuit . Specifically, after an elapse of the delay time D set on the delay circuit  following the detection of change with any of n+1 bits of the clock-select signal, the switching-trigger signal ST-SIG is changed to active. In the clock selector , the first select-signal-holding unit as shown in  samples and holds the clock-select signal of n+1 bits in response to the change of the switching-trigger signal ST-SIG from nonactive to active. Therefore, by setting the delay time D to be longer than an expected skew time, n+1 bits of the clock-select signal, which have been changed to their final values, can be held in the clock selector .","Next, the effect brought about by application of the clock selector  to the microcomputer system  will be described.","The clock selector  selects one clock signal from a group of input clock signals according to a clock-select direction (clock-select signal of n+1 bits), which is sent by the CPU  through the control register , and outputs the selected clock signal.","Normally the clock selector  selectively outputs a high-frequency clock signal (e.g. 100-MHz clock signal, which is an output signal of PLL ). The microcomputer system  executes a high-speed processing based on the clock signal (in High-speed operation mode). In general, the clock sources, namely HOCO , LOCO  and RTC  other than PLL , are controlled to remain stopped during the execution.","On another note, after the CPU  has gone into abeyance, or an operation which needs no high-speed processing, the clock selector  selects and outputs a low-frequency clock signal (32-kHz clock signal, which is an output signal of the divider ), and then the microcomputer system  works in a power-saving mode based on the low-frequency clock signal. In general, the clock sources, namely PLL , HOCO , LOCO  and RTC  other than the divider  are controlled to remain stopped during the power-saving mode.","At occurrence of an interrupt request from e.g. the peripheral function block assembly , especially from a timer and an external interface thereof, during an operation in the power-saving mode, CPU  overwrites the value of clock-select signal of n+1 bits in the control register  with a value which directs the clock selector  to select the 100-MHz clock signal, which is an output signal of PLL . On receipt of the direction, the clock selector  switches the clock to select from a 32-kHz clock signal to a 100-MHz clock signal, and the microcomputer system  goes back to the high-speed operation mode.","As already described in connection with the eighth and ninth embodiments, the clock selector  is capable of performing a clock switching at an extremely high speed. Therefore, the time required for the microcomputer system  to transfer from the power-saving mode to the high-speed operation mode can be shortened significantly. As a result, the standby time during which a power-consuming high-frequency clock source like PLL  must be kept working uselessly can be made remarkably short. The microcomputer system  as an application of the clock selector , contributes to the reduction of power consumption by the system. Particularly, it becomes possible to make longer the life of a battery in action in applications to mobile devices and the like.","In addition, another advantage of being capable of returning from the power-saving mode to the high-speed operation mode at a high speed is that a required processing can be executed in real time without delay after the return from the power-saving mode to the high-speed operation mode. Therefore, the microcomputer system  incorporating the clock selector in connection with the invention can be expected to properly work in an application to e.g. a controller such that the practicability of real-time processing is a key requirement.","In the select-type clock-control-signal-generation circuits described in connection with the second, sixth and seventh embodiments, and the clock selectors described in connection with the third, eighth and ninth embodiments, one first high-frequency clock processing subunit, e.g. denoted by  in , and one second high-frequency clock processing subunit, e.g. denoted by  in , are commonly used for more than one high-frequency clock signal. Further, in the selectors, one first low-frequency clock processing subunit, e.g. denoted by in , and one second low-frequency clock processing subunit, e.g. denoted by in , are commonly used for more than one low-frequency clock signal. In virtue of the arrangements as described above, even the increase of the kind or number of clock signals to select can be readily handled only by increasing the clock-select number of the first clock-select unit, e.g. denoted by in FIG. , and the clock-select number of the second clock-select unit, e.g. denoted by  in , and the increase of the kind or number of clock signals to select never leads to the enhancement of the circuit scale.","Now, it is noted that in the descriptions in connection with the first to tenth embodiments, the active state of the switching-trigger signal ST-SIG includes a state thereof in the course of transition of the switching-trigger signal ST-SIG from nonactive to active.","As described above, in the clock selector in connection with the invention, clock signals are parted into low-frequency clock signals and high-frequency clock signals, and a processing unit appropriately arranged for exclusively use takes charge of handling of each kind of clock signals, whereby the processing of a low-frequency clock signal before switching, which has been an obstacle to a high-speed clock switching, is speeded up. Further, a mechanism capable of stopping a clock signal in response to any of Low and High levels of the clock signal is provided in the clock selector, whereby the standby time at clock switching can be shorten significantly.","While the invention made by the inventor has been described above based on the embodiments thereof, the invention is not limited to the embodiments. It is apparent that various modifications and changes may be made without departing from the subject matter thereof.","For instance, the clock selector arranged as described above is applicable to a data processor other than the microcomputer ."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 7","FIG. 5"]},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 9","FIG. 8"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 10","FIG. 8"]},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 18","FIG. 17"]},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 20","FIG. 19"]},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 22","FIG. 21"]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 26","FIG. 25"]}]},"DETDESC":[{},{}]}
