---
title: IP packet priority control system
abstract: An IP packet priority control system of the present invention transmits and receives an IP packet among a terminal on the Internet, a server, and a router operating under program control, and includes means for setting priority in an IP packet on a session-by-session basis in order to realize an IP packet priority control system which distributes load to hardware, performs priority control on a session-by-session basis, and causes no interference between images and control information. The session comprises a voice call, image data, and a JAVA applet of a browser. The IP packet priority is set such that the priority of control information of the voice call is high, the priority of the image data of the browser is low, and the priority of the JAVA applet is intermediate. The means for setting priority in an IP packet performs setting on a session-by-session basis in which a terminal or a server adds priority parameter passing to a standard API rather than setting on a port-by-port basis in which a router prioritizes control information with QoS control.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07020142&OS=07020142&RS=07020142
owner: NEC Corporation
number: 07020142
owner_city: Tokyo
owner_country: JP
publication_date: 20010523
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["1. Field of the Invention","The present invention relates to an IP (Internet Protocol) packet priority control system on the Internet.","2. Description of the Related Art","Recently, the integration of data and sound is rapidly proceeding on IP networks for Internet terminals.","In the IP networks, image data is frequently handled steadily for browsing Web pages with browsers. The image data is included in an HTTP (Hypertext Transfer Protocol) transaction which is likely to substantially occupy a communication band. Thus, control information vulnerable to delay and sound data requiring real time processing exhibit phenomena such as data delay, fluctuations, data loss and the like on the networks due to the occupation of the communication band by the image data.","For example, these phenomena occur more prominently on wired networks in WAN (Wide Area Network) lines for connecting LANs (Local Area Network) as compared with LAN lines. This is because high cost of the WAN line for connecting LANs per band makes it difficult to ensure a sufficient band. For this reason, it is common practice to put high priority on control information with QoS (Quality of Service) control in a router connected to an exit of the WAN line.","On wireless networks, cellular phones play increasing roles as Internet terminals and image data is handled more frequently. However, a transmission speed based on current techniques has reached the limit to cause the aforementioned phenomena prominently at an exit of a wireless communication path where a sufficient band is difficult to ensure.","The prior art has problems as below.","A first problem is that while the mounting of a CPU of high performance is required in a cellular phone, it is difficult to mount such a CPU of high performance due to desires for a smaller size, lighter weight, and low current consumption of the cellular phone.","A second problem is that priority setting is realized only on an application-by-application basis in existing devices using Diff-serv (Differentiated services). This is because the implementation in one terminal is not considered.","It is an object of the present invention to provide an IP packet priority control system which performs priority control on a session-by-session basis by distributing load to hardware to cause no interference between images and control information.","The IP packet priority control system of the present invention for transmitting and receiving an IP packet among a terminal, a server, and a router on the Internet operating under program control is characterized by comprising means for setting priority in the IP packet on a session-by-session basis.","The sessions comprise a voice call, image data, and a JAVA applet of a browser.","The priority in the IP packet is set such that the priority of control information of the voice call is high, the priority of the image data of the browser is low, and the priority of the JAVA applet is intermediate between the control information and the image data.","The means for setting priority in an IP packet is characterized by performing setting on a session-by-session basis in which a terminal or a server adds priority parameter passing to a standard API (Application Programming Interface) rather than on a port-by-port basis in which a router puts priority on control information with QoS control.","The means for setting priority in an IP packet is characterized by performing setting such that, in a server including an application layer, a SOCKET layer, a TCP\/UDP (Transmission Control Protocol\/User Diagram Protocol) layer, an lIP layer, and an interface layer, the SOCKET adds priority parameter passing to a standard API for use on the Internet.","The present invention proposes an interface for passing a priority parameter including priority information, a port number, and IP address from the application, in contrast with a conventional Diff-serv which assigns priority to an IP packet.","The priority parameter passing in Diff-serv is performed at an interface position changed from conventional QoS priority on a port-by-port basis to QoS priority on a session-by-session basis of the present invention as shown in  showing a configuration of a terminal and a server for use on the Internet.","According to the present invention, Diff-serv control can be performed on a session-by-session basis by distributing load to hardware even with a CPU of low performance used in a cellular phone. The control enables communication without interference between images and control information.","According to the present invention, a first effect is to allow communication without interference by putting a higher priority on control information vulnerable to delay than image data which is likely to substantially occupy a communication band. This is because setting can be performed such that the priority of control information of a voice call is high, the priority of image data of a browser is low, and the priority of a JAVA applet is intermediate between the control information and the image data.","A second effect is to allow Diff-serv control on a session-by-session basis even with a low-performance CPU. This is because Diff-serve control is performed not by software processing with a CPU but by distributing load to hardware processing faster than a CPU.","Next, an embodiment of the present invention is described in detail with reference to the drawings.","Referring to , an embodiment of the present invention comprises terminal  operating under program control for use on the Internet, server , and router .  also shows IP packet  transmitted and received on an IP network, conventional QoS priority , and QoS priority  of the present invention indicating interface positions where QoS priority in IP packet  is set.","Terminal  includes voice call  of a client application, browser , port number A , port number B , port number C  used from the application, and IP address X . Voice call  of the application includes control information  treated as information. Browser  of the application includes image data  treated as information and JAVA applet .","Server  includes voice call server  of a server application, HTTP server , port number E  and port number F  used from the application, and IP address Y . Voice call server  of the application includes control information  treated as information. HTTP server  of the application includes image data  treated as information and JAVA applet .","Router  relays IP packet  between terminal  and server .","IP packet  includes JAVA applet  for the IP packet of information including priority, image data , and control information .","They are operated as follows.","For voice call , control information  is acquired from control information  of voice call server  by using control information .","For browser , image data  is acquired from image data  of HTTP server  by using image data , and JAVA applet  is acquired from JAVA applet  of HTTP server  by using JAVA applet .","Next, the entire operation in the embodiment is described in detail with reference to . First, in terminal , priority in an IP packet is passed from QoS priority  of the present invention to three sessions of voice call , image data , and JAVA applet  of browser , and information included in IP packet  is transmitted and received in accordance with the priority in the IP packet as follows.","The session of voice call  transmits and receives control information  by using port number E of the server from port number A .","One session of browser  transmits and receives JAVA applet  by using port number F  of the same HTTP server  as image data  from port number C .","The other session of browser  transmits and receives image data  by using port number F  of HTTP server  from port number B .","Next, the embodiment of the present invention is described with reference to  in detail for the transmission and reception of an IP packet between the terminal and the router. Referring to , terminal  operating under program control for use on the Internet, router , and IP packet  transmitted and received between the terminal and the router in the embodiment are shown.","Terminal  includes application , SOCKET (supporting QoS) , TCP\/UDP (supporting QoS) , IP (supporting QoS) , and interface layer .","Router  includes IP  and interface layer . IP packet  includes IP header  and TCP\/UDP packet . IP header  includes priority specification field .","They are operated as follows.","Application  is an application for a browser or voice call and transmits IP packet  to a terminal ahead of router .","SOCKET (supporting QoS)  is a standard API for use on the Internet plus the function of passing a priority parameter, and passes data and a priority parameter from application  to TCP\/UDP (supporting QoS) .","TCP\/UDP (supporting QoS)  is a standard TCP\/UDP protocol for use on the Internet plus the function of passing a priority parameter, and passes the data and priority parameter from SOCKET (supporting QoS)  to IP (supporting QoS) .","IP (supporting QoS)  is a standard IP protocol for use on the Internet plus the function of passing a priority parameter, and sets the data from TCP\/UDP (supporting QoS)  in TCP\/UDP packet , sets the priority parameter in priority specification field  of IP header , and passes it to interface layer .","Interface layer  transmits IP packet  from IP (supporting QoS) ."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2"}]},"DETDESC":[{},{}]}
