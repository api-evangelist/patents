---
title: Centrally coordinated firmware upgrade model across network for minimizing uptime loss and firmware compatibility
abstract: Techniques are presented for managing firmware updates for a plurality of devices within a wireless network. Embodiments monitor network usage of the plurality of devices to collect historical usage data. An optimal window of time for updating the firmware of the plurality of devices is then determined, based on the collected historical device usage data. Embodiments flag at least one of the plurality of devices for a firmware update, based on a current firmware version of the device and a corresponding available firmware version for the device. In one embodiment, dependencies for each of the plurality of devices are considered in flagging the devices for the firmware update. The firmware of the flagged devices is updated during the determined optimal window of time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08677343&OS=08677343&RS=08677343
owner: Cisco Technology, Inc.
number: 08677343
owner_city: San Jose
owner_country: US
publication_date: 20110916
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","DESCRIPTION","DESCRIPTION OF EXAMPLE EMBODIMENTS"],"p":["Embodiments presented in this disclosure generally relate to firmware updates and more specifically relate to managing firmware updates for a plurality of devices within a wireless network.","Wireless networks are telecommunications networks that use radio waves to carry information from one node in the network to one or more receiving nodes in the network. Wired communication can also be used in portions of a wireless network, such as between cells or access points. Many wireless protocols have been developed, including WiFi, an implementation of various IEEE 802.11 protocols; Worldwide Interoperability for Microwave Access (\u201cWiMAX\u201d), an implementation of IEEE 802.16; and High Performance Radio Metropolitan Area Network (\u201cHiperMAN\u201d), which is based on an ETSI alternative to IEEE 802.16.","Wireless communication networks are frequently used in connection with a variety of different technologies, including, for example, satellite communications systems, portable digital assistants (\u201cPDAs\u201d), laptop computers, and mobile devices (e.g., cellular telephones). One benefit that wireless networks provide to users of such technologies is the ability to connect to a network (e.g., the Internet) as long as the user is within range of such wireless communication technologies.","Overview","Embodiments provide a method for managing firmware updates for a plurality of devices within a wireless network. The method includes monitoring network usage of the plurality of devices to collect historical device usage data. The method further includes, determining a window of time for updating firmware of the plurality of devices based on the collected historical device usage data. Additionally, the method includes flagging at least one of the plurality of devices for updating, based on, for each of the at least one devices, a current firmware version for the device and a corresponding available firmware version for the device. The method also includes updating the firmware of the at least one flagged device during the determined window of time.","Additional embodiments include a system having a processor and a memory storing a program configured to perform the aforementioned method, and software embodied in a computer readable medium storing a program configured to perform the aforementioned method.","Often times, a wireless network is used to connect multiple different devices. For example, a particular wireless network could include a cellular telephone, a laptop computer, a digital video recorder (\u201cDVR\u201d) and a WiFi-equipped television set. Each of these devices, in turn, may run firmware and\/or software in order to manage the operations of the respective device. Although firmware updates for the devices could be manually managed by users of the wireless network, such a solution is less than optimal, as often times the users may forget to update the firmware for the devices. Furthermore, less sophisticated users may be unable to update the firmware on the devices or may be afraid to update the firmware for fear of making a mistake during the process. However, as such firmware updates may include security fixes and\/or new features for the devices, it is often important for the firmware on such devices to be up-to-date.","Additionally, each of the devices may be configured to manage its own firmware and\/or software updates. However, these self-managed update operations may interfere with the other devices on the wireless network. For example, the WiFi-equipped television set could automatically begin updating its firmware, but such an operation could consume a substantial amount of bandwidth on the wireless network and interfere with the operations of the other devices. Additionally, a device managing its own firmware updates may schedule an update at an inopportune time for users of the wireless network. As an example, the WiFi-equipped television set could schedule its firmware update at a time when the television is most frequently watched by users. In such an example, the users may be inconvenienced, as they may be unable to watch the television during the firmware update.","Furthermore, in some cases, a firmware upgrade for a first device may be dependent on the state of the firmware on a second device. For example, a firmware update may be available for the WiFi-equipped television that allows the television to stream particular video content from the DVR over the wireless network. However, the firmware update for the television could depend on the DVR having a minimum version of the DVR firmware. If the DVR has not yet been updated to at least the minimum version of its firmware, it may be problematic for the television to automatically update its own firmware, as the dependency for the DVR firmware has not yet been satisfied.","As such, embodiments provide techniques for managing firmware updates amongst devices in a wireless network. A firmware management component on a network device within the wireless network (e.g., a wireless access point (\u201cWAP\u201d)) could monitor network usage of the devices to collect historical device usage data. For instance, the historical device usage data could track an amount of bandwidth used by each of the devices over a period of time. As another example, the historical device usage data could track the number of network messages received from each of the devices over the period of time. The firmware management component could then determine an optimal window of time for updating the firmware of the plurality of devices, based on the collected historical device usage data. For instance, the firmware management component could analyze the historical device usage data to determine a period of time where the devices are generating little or no network traffic on the wireless network, as such a lack of network traffic may indicate that the devices are idle during this period of time.","Additionally, the firmware management component could flag at least one of the devices for a firmware update, based on a current firmware version for the device and a corresponding available firmware version for the device. For example, if the firmware management component determines that there is a more recent version of firmware available for a first device, the firmware management component could flag the first device for a firmware update. The firmware management component could determine that a firmware update is available for a device by querying a centralized server configured to maintain a data store (e.g., a database) containing information on currently available firmware updates. In one embodiment, the firmware management component is configured to transmit a request to the devices to determine whether a firmware update is available for each of the respective devices. In such an embodiment, the devices could each query a remote server (e.g., the centralized server, a server specific to the device or a class of devices, etc.) to determine whether a firmware update is available and could report this information to the firmware management component in response to the request. The firmware management component then updates the firmware on the flagged at least one device during the determined optimal window of time. Advantageously, doing so ensures that firmware updates will be applied to the devices at an optimal time, so as to minimize any inconvenience to users of the devices.","In one embodiment, the firmware management component is configured to identify one or more dependencies between firmware versions across two or more devices within the wireless network and to account for these dependencies when flagging devices for updates. For instance, consider the example given above of a firmware update that allows a WiFi-equipped television to stream particular video content from a DVR over the wireless network, where the firmware update for the television depends on the DVR having a minimum version of the DVR firmware. In such an example, the firmware management component, upon determining that the firmware update for the WiFi-equipped television is available but depends on a minimum version of the DVR firmware, could determine whether the DVR is currently running at least the minimum version of the DVR firmware. If so, the firmware management component could flag the WiFi-equipped television for updating. The firmware management component could also determine whether the DVR could be updated to at least the minimum version of the DVR firmware. If so, the firmware management component could flag both the television and the DVR for updating. Advantageously, doing so ensures that the firmware updates for the devices will be scheduled not only at an optimal time while further ensuring that any dependencies for the firmware updates are satisfied.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1A","b":["100","100","102","110","116","110","102","120","110","102","170","130","120","178","102","130","0","178","130","0","120","178"]},"A portal application , residing within the computer , is configured to access the network state model  to determine which client devices  are available within the smart network , which services the client devices  provide, and to access and use the services. The portal application  may include one or more applets , configured to extend functionality of the portal application . A given applet  may be associated with a specific client device  and may facilitate specific usage models for the client device  via the extended functionality. When a new client device  registers with the smart network , a most recent version of a corresponding applet  may not be available within the portal application . However, the portal application  may retrieve the corresponding applet  or version of the corresponding applet  from the applet store .","The applet store  is configured to facilitate access to applets  by the portal application . The applet store  provides storage for applets  corresponding to client devices  and makes the applets  available for download to the portal application  via the external network . In one embodiment, the applet store  occupies a well-known location, such as a universal resource locator (\u201cURL\u201d) associated with the external network . Any technically feasible technique may be used to identify a particular applet  as corresponding to a particular client device . Furthermore, any technically feasible technique may be used to download the particular applet  an incorporate the functionality of the applet  to the portal .",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 1B","FIG. 1A"],"b":["102","102","120","130","112","110","112","110","112","120","118","118"]},"The smart network host device  implements a wireless network interface coupled to antenna , which is configured to convert electrical signals to electromagnetic signals for transmitting data packets, and electromagnetic signals to electrical signals for receiving data packets. The antenna  may comprise plural independent radiator structures, each having a separate radiation pattern for implementing spatial multiplexing. In one embodiment, the wireless network interface implements one or more well-known standards, such as the Institute of Electrical and Electronics Engineers (\u201cIEEE\u201d) standard 802.11, which defines a system for wireless local area networking. The antenna  is configured establish wireless client links  to antennas  coupled to corresponding client devices . The smart network host device  implements Ethernet layer 2 switching for wireless data packets forwarded among client devices  as well as internet protocol (\u201cIP\u201d) layer 3 routing between an IP domain associated with the smart network  and the external network . In this configuration, the smart network host device  provides related services and protocols, such as dynamic host configuration protocol (\u201cDHCP\u201d), network address translation (\u201cNAT\u201d), and the like.","The smart network host device  acts as a central authentication authority for the smart network  and implements authentication services for devices registering with the smart network . In one embodiment, authentication is implemented via Identification (\u201cID\u201d) devices  that are uniquely paired with corresponding client devices . For example, client device () may be uniquely paired with ID device () by a manufacturer of the client device (). An ID device () is physically presented to the smart network host device  as an authentication credential to allow a client device () paired to the ID device () to join the smart network . Furthermore, the client device () is able to authenticate the smart network  as a trusted network by accessing credentials for the corresponding ID device () specifically via the smart network . In one embodiment, the ID devices  are implemented as near field radio frequency identification (\u201cRFID\u201d) tags. Each one of the RFID tags is configured to retain authentication credentials necessary to uniquely associate the one RFID tag with one instance of the client device . In this way, an RFID tag may be paired with a given client device . Persons skilled in the art will recognize that any technique may be implemented to generate and represent authentication credentials without departing the scope and spirit of embodiments presented in this disclosure. In alternative embodiments, other forms of ID devices  may implement storage of the authentication credentials. For example, a universal serial bus (\u201cUSB\u201d) storage device may be used to present authentication credentials to the smart network host device  for authenticating a related device, such as the computer . In other alternative embodiments, a user may manually authenticate a client device  with the smart network host device . For example, the user may log onto a management web page generated by the smart network host device  and manually enter authentication credentials, such as a printed code associated with the client device .","In one usage scenario involving ID device , the user wishes to add a new device, such as a smart network-enabled printer to the smart network . The printer includes an ID device  implemented as an RFID tag that is paired to the printer. The user places the ID device  in close physical proximity to the smart network host device , which is the able to read the ID device  and authenticate the printer. The printer registers with the smart network host device  and is then available for use by devices connected within the smart network . Upon successfully reading the ID device , the smart network host device  may indicate success to the user by flashing a light-emitting diode (\u201cLED\u201d), or by generating any technically feasible indication.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 1C","FIG. 1A","FIG. 1B"],"b":["102","102","120","140","130","112","110","112","120","130"]},"In addition to previously described functionality, the smart network host device  is also configured to detect one or more smart network extender devices  and to establish a bridge link  to each of the one or more smart network extender devices . Each smart network extender device  is configured to act as a network bridge between a client device  and the smart network host device . For example, client devices () through (N) may be physically located such that they are able to connect to the smart network extender device , but not to the smart network host device . Furthermore, the smart network extender device  is able to connect to the smart network host device  via bridge link . Data packets transmitted by client devices () through (N) and destined to the external network  are received by the smart network extender device  and retransmitted by the smart network extender device  via bridge link  to the smart network host device , which then forwards the data packets to the external network . Similarly, data packets from the external network  that are destined to any of the client devices () through (N) are transmitted via bridge link  to the smart network extender device , which retransmits the data packets via wireless client links ()-(N). Persons skilled in the art will understand that wireless client links ()-(N) may each be configured to operate on a separate channel or band, or a common channel or band. Furthermore, bridge link  may operate on a separate channel or band with respect to the wireless client links .","In one embodiment, each smart network extender device  is paired to an ID device , which is presented as an authentication credential to the smart network host device  to enable the smart network extender device  to participate within the smart network .",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 1D","FIG. 1A","FIGS. 1B and 1C"],"b":["102","102","120","140","130","150","112","110","112","140","130"]},"In this embodiment, the smart network host device  is configured to operate similarly with respect to . However, upon detecting the smart network connector device , the smart network host device  is configured to operate as a bridge rather than a router, and the smart network connector device  is configured to operate as a router. A backhaul link  is established between the smart network host device  and the smart network connector device .","Network data traffic between client device (N) and the external network  traverses wireless client link (N), bridge link  and backhaul link . This network data traffic is also forwarded by smart network extender device , smart network host device  and smart network connector device . A client device  may connect directly to any one of the network extender device , smart network host device  or smart network connector device . As shown, client device () is connected to smart network connector device  via wireless client link (), client device () is connected to smart network host device  via wireless client link () and client device (N) is connected to smart network extender device  via wireless client link (N).","In one embodiment, the smart network connector device  is paired to an ID device , which is presented as an authentication credential to the smart network host device  to enable the smart network connector device  to participate within the smart network . In an alternative embodiment, the smart network connector device  and the smart network host device  are paired during a manufacturing step, eliminating the need for a separate ID device .",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 1E","b":["120","120","160","162","164","166","165","160","162","164","166","166","118","165","166","118","160","165","162","165","162","160","162","122"]},"The processor complex  comprises a central processing unit (CPU), non-volatile memory for storing persistent programs, program state, and configuration information, random access memory (\u201cRAM\u201d) for storing temporary or volatile data, and an interface to the interconnect . In one embodiment, the processor complex  is configured to execute an operating system and applications that provide routing services. The routing services may include, for example, data packet forwarding between the network interface  and the wireless network interface . The packet forwarding services may include, without limitation, bridging among the one or more network devices via the wireless network interface .","The ID device reader  is configured to read data from an associated ID device . In one embodiment, the ID device reader  is configured to read data from RFID tags comprising the ID device . The ID device reader  may also include a USB reader.","In certain embodiments, the smart network host device  comprises one or more integrated circuits that implement respective functions of the smart network host device . For example, the processor complex , wired network interface  and wireless network interface  may be integrated into a single integrated circuit.","Persons skilled in the art will recognize that the smart network extender device  may be implemented using the basic architecture of the smart network host device , with the exception that the ID device reader  and wired network interface  are not required for the smart network extender device . Similarly, the smart network connector device  may be implemented using the basic architecture of the smart network host device , with the exception that the ID device reader  is not required for the smart network connector device .",{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 1F","b":["104","120","104","120","160","104","180","190","196","190","192","194","192","102","102","192","194","196","102","110"]},"The runtime server  comprises a network provisioning module , a service and discovery provisioning (\u201cSDP\u201d) module , an event module  and a network configuration module . The event module  tracks different network events, such as a network device advertising presence or updating status within the smart network . The SDP module  maintains a persistent view of different network devices and related services, based on data from the event module  and on data from the network devices. The network provisioning module  provides authentication and authorization for network devices within the smart network . Authentication credentials may be presented via a given ID device . The network provisioning module  may also facilitate certain network services, such as DHCP leases. The network configuration module  includes hardware platform-specific implementation methods for network configuration and management. The persistent view comprises the network state model  of .","Persons skilled in the art will recognize that the smart network connector device  and smart network extender device  may be implemented using an appropriate subset of the system software architecture  described above in conjunction with .",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 2","b":["200","210","250","240","240","250","255","240","250","1","275","1","2","275","2"]},"The central server  generally represents a remote computer system configured to run a data store . The data store  contains information  on firmware versions and firmware update information for various devices. In one embodiment, the data store  is implemented as a database storing firmware versioning information. In the depicted embodiment, the data store  contains firmware information  for various devices, including most recent firmware version information and dependency information for the devices. The firmware information () specifies a most recent version () of the firmware for device , which in the depicted example is version \u201c2.0.17.\u201d Likewise, the firmware information () specifies a most recent version () of the firmware for device , which in the depicted example is version \u201c1.7.\u201d Additionally, the firmware information () specifies that version of \u201c2.0.17\u201d of the firmware for device  is dependent upon any device  within the network having at least version \u201c1.5\u201d of the device  firmware. Likewise, the firmware information () specifies that version \u201c1.7\u201d of the firmware for device  is dependent upon any SNHD within the network having at least version \u201c3.4.01\u201d of the SNHD firmware.","In the depicted embodiment, the SNHD  is configured with a firmware management component  which generally manages firmware upgrades across devices in the smart network . For instance, the firmware management component  could determine an optimal period of time for updating the firmware of the devices  within the smart network . The firmware management component  could further flag one or more devices  for a firmware update and schedule a firmware update for the determined optimal time for the flagged devices. Generally, the firmware management component  determines the optimal update time based on periods of inactivity across the devices . For instance, the firmware management component  could monitor network traffic on the SNHD  generated by the devices , as a device  generating a substantial amount of network traffic could indicate that the device  is currently being used. As such, the firmware management component  could determine that periods of low network activity from the devices  correspond to periods of inactivity for the devices . One advantage to the firmware management component  as residing within the SNHD  is that the firmware management component  may more easily monitor network traffic generated by the devices  within the smart network . More generally, however, the firmware management component  may reside on any system or devices within the smart network  from which the functionalities described herein may be realized.","In one embodiment, the firmware management component  is configured to transmit a status request to the devices  in order to determine whether they are currently active or inactive. For example, the devices  could implement a common application programming interface (\u201cAPI\u201d) or protocol through which the firmware management component  could query the devices for their current status information. For instance, the firmware management component  could be configured to periodically poll each of the devices with such a status request in order to determine trends of activity and inactivity for the devices over time. Such an embodiment may be advantageous for devices that do not always generate network traffic when they are active. For example, a WiFi-equipped television may generate substantial network traffic when streaming Internet video, but may generate little or no network traffic when playing a Blu-ray disc. However, by querying the status of the television, the firmware management component  may determine whether a user is actively using the television, regardless of the amount of network activity generated by the television.","Additionally, the firmware management component  may determine whether a firmware upgrade is available for the devices  and, if so, flag the devices  for an update during the determined optimal period of time. For instance, the firmware management component  could determine the current firmware versions for the devices  by querying each of the devices using the commonly-implemented API or protocol. Thus, in the depicted embodiment, the firmware management component  would determine that the SNHD  is currently running firmware  with version \u201c3.4.01,\u201d the device  () is currently running firmware () with version \u201c2.0.15\u201d and the device  () is currently running firmware () with version \u201c1.4.\u201d","In order to determine whether firmware updates are available for the devices , the firmware management component  could query the data store  on the central server  to retrieve the firmware information . Upon retrieving the firmware information , the firmware management component  could compare the most recent firmware version information  with the current version information  for the corresponding devices , in order to determine which devices should be updated. For example, the firmware management component  could determine whether an update is available for device  () by comparing the current version of firmware () installed on the device with the most recently released version of the firmware () for the device. Thus, in the current example, the firmware management component  determines that the device  () is currently running firmware version \u201c2.0.15,\u201d but the more recent firmware version of \u201c2.0.17\u201d is available. As such, the firmware management component  could flag device  () for a firmware update.","In one embodiment, upon determining that a more recent version of the firmware is available for a device , the firmware management component  may further determine whether the more recent firmware version has any dependencies. Additionally, the firmware management component  could determine whether any such dependencies are currently satisfied within the smart network , and if not, whether such dependencies could be satisfied through a firmware update of a second device. As an example, the more recent version of the firmware () is shown as dependent upon any device  within the network having at least version 1.5 of its firmware. Thus, upon determining that the smart network  includes the device  (), the firmware management component  could determine whether the device  () currently has at least version 1.5 of its firmware installed (i.e., whether the dependency is currently satisfied). However, in the depicted example, the firmware management component  would determine that the device  () is currently running firmware version \u201c1.4\u201d 280(). Thus, the firmware management component  would determine that the dependency for updating device  () is not currently satisfied.","The firmware management component  may then determine whether the dependency can be satisfied by updating the firmware of device  (). Thus, the firmware management component  could compare the version of the firmware () with the retrieved version () of the most recent firmware for the device () and determine that the device  () could potentially be updated to firmware version \u201c1.7,\u201d which would satisfy the dependency of device  having at least firmware version \u201c1.5.\u201d The firmware management component  could then process the retrieved firmware information () to determine whether there are any dependencies for updating the firmware of device  (). In the depicted example, the firmware management component  would determine that the firmware update for device  has the dependency () of SNHD having at least firmware version \u201c3.4.01\u201d of its firmware. Upon identifying the version of the current firmware  on the SNHD , the firmware management component  would determine that the dependency is satisfied, as the SNHD  is currently running firmware version  of \u201c3.4.01.\u201d As such, the firmware management component  could determine that device  () can be successfully updated to firmware version \u201c1.7,\u201d which in turn satisfies the dependency for device  ().","As such, the firmware management component  may schedule an update of the firmware of both device  () and device  () during the determined optimal window of time. In one embodiment, the firmware management component  may schedule the firmware update of device  () prior to the firmware update of device  (), so as to ensure all the dependencies for the firmware update for device  () are satisfied prior to the update of the device  () firmware. Advantageously, by doing so, the firmware management component  ensures that the firmware on devices within the smart network  is kept up-to-date. Additionally, by scheduling such firmware updates at the determined optimal update time when the devices have historically been inactive, the firmware management component  helps to minimize any interruption to users of the devices. As yet another advantage, the firmware management component  helps to ensure that the firmware updates are successful by identifying any dependencies for the updates and ensuring that these dependencies are satisfied before the updates take place.","As discussed above, the firmware management component  may determine whether a firmware update is available for a particular device and, if so, may flag the device for a firmware update at a determined optimal update time. Generally, the firmware management component  may be configured to periodically check for firmware updates for the devices at predefined intervals. Examples of such intervals include, without limitation, hourly intervals, daily intervals and weekly intervals.","Additionally, the firmware management component  could be configured to determine the interval at which to check for firmware updates for a particular device based on a type of the device. For instance, the firmware management component  could check every day for firmware updates for a first type of device, but could check only once a week for firmware updates for a second type of device. Such an embodiment may be advantageous when different types of devices within the network have different levels of security concerns. For instance, the firmware management component  could check more frequently for firmware updates for the SNHD , as such updates may include security fixes that may prevent malicious attacks from external sources via the external network . However, the firmware management component  could be configured to check less frequently for firmware updates for a WiFi-equipped television device  within the smart network , as such firmware updates may often include minor bug fixes and cosmetic changes. Advantageously, doing so may minimize the resources used by the firmware management component , while ensuring that high priority firmware updates are quickly detected.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 3","b":["300","310","270","270","255","270","270","270","270","270"]},"Additionally, the firmware management component  could maintain a list of the devices, based on the devices that have connected to the wireless network over a period of time. Such an embodiment may be preferable, for instance, in a wireless network where devices periodically enter and exit the wireless network. As an example, a user may frequently carry a WiFi-equipped cellular telephone with him. Thus, the telephone may connect to the wireless network when the user is within the range of the wireless network and disconnect from the wireless network when the user exits the range of the wireless network. In such an embodiment, the firmware management component  may further store data describing the times each of the devices have historically connected to the wireless network. Such information could then be used by the firmware management component  to select an optimal time for updating the firmware of the devices. For instance, the firmware management component  could select a period of time where not only have the devices historically been idle, but also where the majority of the devices have historically been connected to the wireless network.","The method  then enters a loop at step , where for each device, the firmware management component  determines a current firmware version for the device (step ). For instance, as discussed above, each of the devices could be configured with a common API or protocol for communicating with the firmware management component . In such an embodiment, the firmware management component  could transmit a request to each of the devices requesting the current firmware version for the device and could receive a second request specifying the respective current firmware version from each of the devices.","Upon determining the current firmware version for the device connected to the wireless network, the firmware management component  determines whether a firmware update is available for the device (step ). In one embodiment, the firmware management component  queries a remote data store for a most recent version of the firmware for the device in order to determine whether a firmware update is available for the device. For example, the firmware management component  could query a database on a centralized server that stores firmware version information for a plurality of devices that implement the common API or protocol for communicating with the firmware management component . Such a database could be maintained by, for example, the manufacturers of the various devices as new firmware versions for the devices are created.","In one embodiment, the firmware management component  transmits a request to the device to determine the most recent version of the firmware for the device. In such an embodiment, the device could be configured to query a remote data store (e.g., a database maintained by the manufacturer of the device) to determine the most recent firmware version for the device and could transmit the most recent version information to the firmware management component . Such an embodiment may be preferred, for instance, when the manufacturer of the device wishes to retain more control over the remote data store.","Upon retrieving the most recent firmware version for the device, the firmware management component  could determine whether the firmware update is available for the device by comparing the version of the firmware currently installed on the device with the version of the most recently released firmware. If the firmware management component  determines a firmware update is available for the device, the firmware management component  then determines whether any dependencies for the most recent version of the firmware are satisfied (step ). For instance, a particular firmware update for a WiFi-equipped television could require that the WAP (e.g., the smart network host device ) for the wireless network run at least version 2.0 of the WAP firmware. In such an example, the firmware management component  could determine what version of firmware the WAP is currently running (e.g., by querying the WAP) and could determine whether the current version is at least version 2.0 of the WAP firmware. For example, if the firmware management component  determines that the WAP is currently running version 2.1 of the WAP firmware, the firmware management component  could determine the dependency for updating the television is satisfied.","If the firmware management component  determines that all dependencies for the firmware update are satisfied, the firmware management component  flags the device for a firmware update (step ). As an example, the firmware management component  could maintain a list of devices to be updated, and upon determining that all the dependencies are satisfied for updating a particular device, the firmware management component  could add the particular device to the list of devices to be updated. In one embodiment, upon determining that the dependencies for the firmware upgrade of a first device are not currently satisfied, the firmware management component  may further determine whether the dependencies can be satisfied by updating the other devices upon which the first device depends. For instance, continuing the above example, if the firmware management component  determines that the WAP is currently running version 1.7 of the WAP firmware, the firmware management component  may then determine whether a firmware update is available for the WAP that would satisfy the version 2.0 or higher requirement. As an example, the firmware management component  could query a remote server to determine whether firmware is available for the WAP that would satisfy the requirement. As another example, the firmware management component  could transmit a request to the WAP to determine the most recent version of firmware available for the WAP. Responsive to such a request, the WAP could be configured to query a remote server in order to determine the most recent version of the firmware and could report this information back to the firmware management component .","Upon determining that the dependency can be satisfied, the firmware management component  may flag both the first device and the other device(s) for firmware updates. Continuing the example, the firmware management component  could query a remote server and determine that firmware version 2.1 is available for the WAP. Upon determining that a version of the WAP firmware that satisfies the dependency requirement is available, the firmware management component  could flag the television for a firmware update and also flag the WAP for an update to firmware version 2.1. In one embodiment, the firmware management component  may further specify an order for the firmware updates to ensure that any dependencies are in place before the first device firmware is updated. In the above example, the firmware management component  could further designate that the WAP firmware should be updated prior to the television set firmware, to ensure that the dependencies are satisfied for the television set firmware update before the television set firmware is updated.","Once the device is flagged for a firmware upgrade, or if the firmware management component  determines that the dependencies for the device are not (or cannot) be satisfied (at step ), or if no firmware updates are available for the device (at step ), the firmware management component  then determines if there are more devices within the wireless network to analyze for potential firmware updates (step ). If there are more devices to consider for firmware updates, the method  returns to step , where the firmware management component  determines the current firmware of the next device. If instead the firmware management component  determines there are no more devices to consider, the method  ends.","As discussed above, the firmware management component  may not only determine which devices should have their firmware updated, but the firmware management component  may further determine an optimal time for updating the firmware. One example of such a determination of an optimal upgrade time is shown in , which shows a flow diagram illustrating a method for determining a period of time for updating the firmware of one or more devices, according to one embodiment presented in this disclosure. As shown, the method  begins at step , where the firmware management component  identifies one or more devices on the wireless network. As discussed above, the firmware management component  may associate a unique identifier with each of the identified devices (e.g., a MAC address). Additionally, the firmware management component  may maintain the list of devices on the wireless network over a period of time. For instance, the firmware management component  could maintain a list of devices that have previously connected to the wireless network and could further store information on the times that these devices have historically connected to the wireless network.","Additionally, in the depicted embodiment, the firmware management component  monitors network activity of each of the devices on the wireless network (step ). For instance, the firmware management component  could monitor an amount of bandwidth being used by each of the devices. The firmware management component  could maintain such usage information over a period of time in order to determine periods of relative inactivity for each of the devices. As an example, the firmware management component  could monitor the network activity of a WiFi-equipped telephone and determine that the telephone uses a relatively small amount of bandwidth during the hours of 1:00 am and 7:00 am. The firmware management component  could additionally maintain data characterizing times that each of the devices has historically been connected to the wireless network. Continuing the example, the firmware management component  could further determine, based on the monitored network activity of the WiFi-equipped telephone, that the telephone has historically been disconnected from the wireless network between the hours of 8:00 am and 6:00 pm (e.g., a wireless home network where the user is out of the home between the hours of 8:00 am and 6:00 pm).","In the depicted embodiment, the firmware management component  queries compatible devices within the wireless network to determine status information for each of the devices (step ). The firmware management component  could be configured to periodically poll compatible devices within the wireless network. For instance, particular devices within the wireless network may implement a common API or protocol where the devices are configured to transmit status information to the firmware management component  in response to receiving a status information request from the firmware management component . For example, the firmware management component  could transmit a status request to a WiFi-equipped television within the wireless network and the television could be configured to transmit status information to the firmware management component  in response to receiving the status request. Such status information could specify, for instance, whether the television is currently powered on or whether the television is in a power save mode.","The firmware management component  could use such status information to identify periods of inactivity for the devices. As an example, if the firmware management component  determines that the television has historically been in power save mode between the hours of 1:00 am and 5:00 pm, the firmware management component  could determine that television is frequently inactive between these hours and conversely should not have its firmware upgraded between the hours of 5:01 pm and 12:59 am the following day. Such status inquiries may be preferable for devices that do not necessarily use any network bandwidth during normal operation. For example, a WiFi-equipped television may use a substantial amount of bandwidth when streaming video over a network (e.g., the Internet), but may not use any bandwidth on the wireless network when playing a Blu-ray disc. Nonetheless, a user would likely be frustrated if the firmware on the television was updated during either activity. As such, by querying the device to determine status information of the device, the firmware management component  can more accurately identify an optimal period of time for updating the firmware of the device.","The firmware management component  then updates historical device usage data for each of the devices based on the monitored network activity and\/or status information for the devices (step ). As discussed above, the firmware management component  may continue such monitoring operations over a period of time in order to collect the historical device usage data. As such, the method  is shown as returning to the step , where the firmware management component  monitors the network activity of the devices on the wireless network. For instance, the firmware management component  may be configured to periodically poll for network activity for and device status information at predefined intervals.","At some point, the firmware management component  determines an optimal firmware update time for the devices based on the historical device usage data that the firmware management component  has collected (step ). In one embodiment, the firmware management component  determines a single period of time for updating the firmware of all the devices on the wireless network. For instance, in making such a determination, the firmware management component  could consider historic periods of inactivity for the devices and select a period of time in which the devices are inactive, in order to help ensure that the firmware update does not interfere with the users' use of the devices. Additionally, the firmware management component  could consider when the devices have historically been connected to the wireless network. That is, certain devices may frequently enter and exit the wireless network (e.g., a cellular telephone that a user brings with him when leaving the home). As such, the firmware management component  may select a time in which all the devices have historically been within the wireless network, so as to ensure that the firmware can be updated on all of the flagged devices. Once the firmware management component  determines the optimal device upgrade time, the method  ends.","In some cases, the firmware management component  may be unable to determine a single period of time which is acceptable for all of the devices. For example, a first device could have historically been active from 12:00 am until 12:00 pm, while a second device could have historically been active from 12:00 pm until 12:00 am the next day. In such an example, there may be no single window of time during which firmware updates may be scheduled. As such, in particular embodiments, the firmware management component  is configured to determine an optimal firmware update time for each of the devices. In doing so, the firmware management component  could be configured to consider historical bandwidth usage across the wireless network in selecting the optimal firmware upgrade times for the devices. Continuing the example, if the firmware management component  determines that bandwidth usage for the wireless network has historically been low from 6:00 am until 12:00 pm, the firmware management component  could schedule updates for the second device between the hours of 6:00 am and 12:00 pm. That is, because the second device has historically been inactive during these hours and because bandwidth usage across the wireless network has been low during these hours, the firmware management component  may determine that this period of time is an optimal time for updating the firmware of the second device. Advantageously, doing so ensures that firmware on the second device is updated in a manner that is unlikely to disrupt users of the second device or any other users of the wireless network.",{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIG. 5","FIG. 4","FIG. 3"],"b":["500","510","270","270","400","270","515","270","300"]},"The method  then enters a loop at step , where during the optimal upgrade time and for each flagged device, the firmware management component  determines whether the device is currently idle (step ). For instance, the firmware management component  could determine whether the device is currently idle based on monitored network activity of the device. As an example, if the device is currently using a substantial amount of bandwidth, the firmware management component  could determine that the device is not currently idle. The firmware management component  could transmit a status request to the device to determine whether the device is currently idle. For example, if in response to such a status request the firmware management component  receives a status report from the device indicating that the device is currently in use, the firmware management component  could determine that the device is not currently idle. If the firmware management component  determines the device is not idle, the firmware management component  determines whether there are additional flagged devices to consider (step ). That is, in the depicted embodiment, the firmware management component  avoids updating the firmware of any devices that are currently in use, so as to avoid any disruption for users of the device.","If the firmware management component  determines the device is currently idle, the firmware management component  determines whether any dependencies for the firmware upgrade of the device are currently satisfied and\/or can be satisfied through an additional firmware update. For example, if a first device is dependent upon a second device having a minimum firmware version, the firmware management component  could determine whether the second device already has at least the minimum version of the firmware installed. If not, the firmware management component  could further determine whether the second device can be updated to at least the minimum version of the firmware. For instance, the firmware management component  could determine whether at least the minimum version of firmware is publically available (e.g., by querying a remote server to see if an acceptable version of firmware can be downloaded). Additionally, the firmware management component  could check for any dependencies for installing the firmware on the second device and could further determine whether any such dependencies are satisfied and\/or can be satisfied for the second device.","If the firmware management component  determines that the dependencies are satisfied, the firmware management component  proceeds to update the firmware of the device during the determined optimal upgrade time window (step ). For instance, the firmware management component  could be configured to retrieve an updated version of the firmware for the device (e.g., in executable form) and to remotely install the updated version of the firmware onto the device (e.g., by running the executable). In another embodiment, the firmware management component  is configured to download the updated version of the firmware and then to access an interface for the device to upload and install the updated firmware on the device. For instance, the firmware management component  could download the firmware and could then access a web interface provided by the device to transmit the updated firmware to the device for installation.","In one embodiment, the firmware management component  updates the device firmware by transmitting a particular message to the device, instructing the device to proceed with a firmware update. For example, a particular device could maintain information on the network address of a remote server from which updated firmware for the particular device can be downloaded and installed. Continuing the example, the particular device could implement a common API or protocol through which the firmware management component  could instruct the device to proceed with a firmware update. For instance, the firmware management component  could transmit a network message to the particular device specifying that the device should proceed with a firmware update. The device could then receive the network message and, in response, execute a local routine to download an updated version of the device firmware and proceed with installing the updated firmware. Of course, these examples are provided without limitation and for illustrative purposes only. More generally, any technique for updating the firmware of the device consistent with the functionality described herein may be used.","Once the device firmware is updated, or if the firmware management component  determines that the depenendices for the update are not and\/or cannot be satisfied, or if the firmware management component  determines the device is not currently idle, the firmware management component  then determines whether there are more flagged devices to update (step ). If so, the method returns to step , where the firmware management component  determines whether the next flagged device is currently idle. If instead the firmware management component  determines that there are no more flagged devices to consider, then the method  ends. Advantageously, the method  helps to ensure that the firmware of devices on the wireless network is kept up to date, and does so in a manner that avoids disrupting users of the wireless network and avoids any problems caused by unsatisfied dependencies.","While the forgoing is directed to embodiments of the present disclosure, other and further embodiments of the disclosure may be devised without departing from the basic scope thereof. For example, aspects of the present disclosure may be implemented in hardware or software or in a combination of hardware and software. One embodiment of the disclosure may be implemented as a program product for use with a computer system. The program(s) of the program product define functions of the embodiments (including the methods described herein) and can be contained on a variety of computer-readable storage media. Illustrative computer-readable storage media include, but are not limited to: (i) non-writable storage media (e.g., read-only memory devices within a computer such as CD-ROM disks readable by a CD-ROM drive, flash memory, ROM chips or any type of solid-state non-volatile semiconductor memory) on which information is permanently stored; and (ii) writable storage media (e.g., floppy disks within a diskette drive or hard-disk drive or any type of solid-state random-access semiconductor memory) on which alterable information is stored. Such computer-readable storage media, when carrying computer-readable instructions that direct the functions of the present disclosure, are embodiments of the present disclosure.","The flowchart and block diagrams in the Figures illustrate the architecture, functionality and operation of possible implementations of systems, methods and computer program products according to various embodiments. In this regard, each block in the flowchart or block diagrams may represent a module, segment, or portion of code, which comprises one or more executable instructions for implementing the specified logical function(s). It should also be noted that, in some alternative implementations, the functions noted in the block may occur out of the order noted in the figures. For example, two blocks shown in succession may, in fact, be executed substantially concurrently, or the blocks may sometimes be executed in the reverse order, depending upon the functionality involved. It will also be noted that each block of the block diagrams and\/or flowchart illustration, and combinations of blocks in the block diagrams and\/or flowchart illustration, can be implemented by special purpose hardware-based systems that perform the specified functions or acts, or combinations of special purpose hardware and computer instructions.","In view of the foregoing, the scope of the present disclosure is determined by the claims that follow."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["So that the manner in which the above-recited features of the present disclosure can be understood in detail, a more particular description of the disclosure, briefly summarized above, may be had by reference to embodiments, some of which are illustrated in the appended drawings. It is to be noted, however, that the appended drawings illustrate only typical embodiments of this disclosure and are therefore not to be considered limiting of its scope, for the disclosure may admit to other equally effective embodiments.",{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":["FIG. 1B","FIG. 1A"]},{"@attributes":{"id":"p-0008","num":"0007"},"figref":["FIG. 1C","FIG. 1A"]},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 1D","FIG. 1A"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 1E","FIG. 1A"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 1F","FIG. 1E"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
