---
title: Method and terminal for providing IPTV to multiple IMS users
abstract: A method and terminal for providing Internet Protocol Television (IPTV) and other communication services to a group of users, such as a family, using an IP Multimedia Subsystem (IMS) network. A group private user identity is associated with a group public user identity and with a plurality of individual public user identities, each of which is associated with a different user in the group. Utilizing the group private User ID and the group public User ID, a browser registers a group subscription with the IMS network. When an individual user enters an identifier such as a PIN, the individual is then registered with the IMS network, while maintaining the group registration with the IMS network and the IPTV network. Individual users can be changed without having to restart the browser.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08191100&OS=08191100&RS=08191100
owner: Telefonaktiebolaget L M Ericsson (Publ)
number: 08191100
owner_city: Stockholm
owner_country: SE
publication_date: 20080924
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","STATEMENT REGARDING FEDERALLY SPONSORED RESEARCH OR DEVELOPMENT","REFERENCE TO SEQUENCE LISTING, A TABLE, OR A COMPUTER PROGRAM LISTING COMPACT DISC APPENDIX","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Application No. 61\/058,793 filed Jun. 4, 2008, the disclosure of which is incorporated herein in its entirety.","Not Applicable","Not Applicable","The present invention relates to communication systems. More particularly, and not by way of limitation, the present invention is directed to a method and terminal for providing Internet Protocol Television (IPTV) and other services to multiple users of an IP Multimedia Subsystem (IMS) network.","Conventionally, IPTV is delivered to the home through a broadband connection from an IPTV service provider to a Set Top Box (STB) connected to a television set. The STB includes a browser, and all IPTV features are controlled over a browser interface. Thus, the IPTV delivery process is browser-centric. A Session Initiation Protocol (SIP) User Agent in the STB adapts IPTV to IMS requirements.","A problem with adapting IPTV to IMS is that the browser currently has no concept of individual IMS users. So in the case of a group of users such as a family having a family subscription with different user accounts for the individual family members, the browser must be restarted every time a family member logs into a different user account within the family subscription. The user experience is adversely affected by having to restart the browser when simply switching users.","The user experience would be improved by eliminating the requirement to restart the browser when switching users, while still providing the full functionality of the IMS network so that combined services (service blending) with services such as Presence, Messaging, and Chat services can be provided as well. The present invention provides a method and terminal for achieving these results.","The present invention provides simplified provisioning of the STB with IMS user information, quicker response time when switching users in the browser, and closer control of the user experience by the service provider with control of the PIN, aliases, and adding\/removing new users in a group. A single IMS Private User Identity (IMPI) and password is shared by the whole subscription.","Thus, in one aspect, the present invention is directed to a method of providing Internet Protocol Television (IPTV) and other communication services to a group of users of an IP Multimedia Subsystem (IMS) network. The method includes the steps of associating a group private user identity with a group public user identity and with a plurality of individual public user identities, each associated with a different user in the group; registering a group subscription with the IMS network and an IPTV network utilizing the group private user identity and the group public user identity; and registering a first individual user with the IMS network only when the individual public user identity associated with the first individual user is received, while maintaining the group registration with the IMS network and the IPTV network. The method may also include receiving an indication of a change of user from the first individual user to a second individual user; and registering the second individual user with the IMS network in response to the user change, while maintaining the group registration with the IMS network and the IPTV network.","In another aspect, the present invention is directed to a terminal for providing IPTV and other communication services to a group of users of an IMS network. The terminal includes means for associating a group private user identity with a group public user identity and with a plurality of individual public user identities, each associated with a different user in the group; means for registering a group subscription with the IMS network and an IPTV portal utilizing the group private user identity and the group public user identity; and means for registering a first individual user with the IMS network only when the individual public user identity associated with the first individual user is received, while maintaining the group registration with the IMS network and the IPTV network.","The present invention provides a method and terminal for providing IPTV to multiple IMS users without requiring the browser to be restarted when switching between users. Full IMS functionality is also maintained.","In an exemplary embodiment, the browser is initiated on a family or group subscription account and never changes accounts. The browser connects to a portal, which keeps track of all the individual accounts under the group subscription and controls the switching between users in the group transparently to the browser. This enables the portal to control the PIN code for the group subscription (typically a simple 4 digit number). Additional benefits are explained below.","In one embodiment, an Application Programming Interface (API) is introduced into the browser based, for example, on javascript properties and methods. The API controls the local object code to register different users to IMS. Thus, the group subscription account is always logged into IMS and to the portal, while individual group members are logged on to IMS only when those individual accounts are invoked.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0023","num":"0022"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["logoffUser","De-registration from IMS"]},{"entry":["getRegisteredUsers","The list of users that are registered with IMS"]},{"entry":[{},"is indicated. The default user used for registration"]},{"entry":[{},"and subscription to IPTV service is not listed."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Table 2 below illustrates User Access Control Procedures for Properties.",{"@attributes":{"id":"p-0025","num":"0024"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Property","Procedures"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"userId","When initiating a feature like broadcast playLive,"]},{"entry":[{},{},"if userId property is specified, then the indicated user"]},{"entry":[{},{},"identifier is used for the session initiation. If it is not"]},{"entry":[{},{},"specified, then the default userId related to initiating"]},{"entry":[{},{},"the browser is used."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 2","b":["11","12","12","13","14","14"],"sub":["1","5","1","5 "]},"Thus, it is only necessary to provision in the STB, the group subscription account with the password and shared IMPI . The individual accounts are dynamically indicated over the browser javascript API. New accounts in the group can be added or removed without having to manually update the STB with the new user information. This would otherwise be a tedious process with the user having to insert long strings of characters using a basic remote control.","In another embodiment, the browser may be implemented in a mobile terminal. The portal may be implemented in an IAP IPTV Application platform which is an Application Server (AS).","The Group account (User id ) is the default account which is connected to the IPTV portal. All communication with the portal takes place over this account. The browser indicates for individual services which User ID is invoking the requested service, such as play or playLive. Private User IDs (IMPIs) for the individual users in the device are optional. IMPIs may be desirable if other local services are available in the device not controlled from the browser, or if the operator desires stricter security than that provided by the PIN. All users invoked from the browser use the Group Private User ID if no individual IMPIs are defined.","A benefit of this relationship is that the password is only exchanged at bootstrap and the password is not exposed outside of that bootstrap. Additionally, only one User ID needs to be downloaded during bootstrap of even manual configuration of the Public\/Private User ID. The browser can control which users are available within the same IPTV subscription. Each user's PIN then becomes the security preventing illegal usage of the different user accounts like a guardian account.","The User ID and password may be pre-configured in the STB. The information may be pre-configured in the STB manually or automatically. If done manually, the User ID and password are inserted manually when the STB connects to the IPTV Network. If done automatically, the STB may automatically connect to an IPTV bootstrap server, which provides an xml file with the User ID and password associated with the STB.","For both the manual and automatic methods, it is necessary to register the STB in the IPTV Network. To do so, a set of registration parameters regarding each STB is made available to the operator. The parameters include a Public STB Identifier (for example MAC address) and a Private STB Identifier (a unique key to each STB not visible to the user). The Public STB ID is used to register the equipment against the customer account or subscription. The equipment cannot be used by a customer without registration. The Private STB ID is used in the automatic configuration of the User ID and password which are delivered during IPTV bootstrapping.","In IMS, a User Access Control function controls the logging in of users. The initialization of the browser is associated with a default user, while each feature that is invoked may be associated with a different user. The RegisteredUsers data object represents a list of users that are currently registered with IMS. Items in the data object can be accessed using array notation. Table 3 below illustrates the properties of the RegisteredUsers data object.",{"@attributes":{"id":"p-0034","num":"0033"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["readonly String userId","The user identifier represents the public user"]},{"entry":[{},"identity"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Tables 4a-4c below illustrate methods of logging users on and off IMS and getting registered users.",{"@attributes":{"id":"p-0036","num":"0035"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 4a"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Integer logonUser (String userId)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Description","The indicated user shall be registered in IMS."]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Attributes","userId","The user identifier."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0037","num":"0036"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 4b"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Boolean logoffUser (String userId)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Description","The indicated user is de-registered from IMS."]},{"entry":[{},{},"Any sessions that may be open are closed."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Attributes","userId","The user identifier."]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0038","num":"0037"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 4c"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"RegisteredUsers getRegisteredUsers ( )"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Description","The STB returns all the users that are registered"]},{"entry":[{},{},"with IMS through this interface."]},{"entry":[{},"Attributes"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 3","b":["20","21","22","23","24","25","26","22"]},"The local object code  is shown as being divided into a number of exemplary logical functional modules. A User Handling Function module  keeps track of the user(s) that are defined in the device. Once defined, any authentication that is required by any interface is retrieved from the User Handling Function module. For IMS deployments, it is necessary to perform registration with IMS prior to providing any IPTV or other IMS service. Multiple users may be registered. Note that only one user is associated with the browser, which is initiated by an IPTV Service Discovery Function module .","The IPTV Service Discovery Function module  performs the IPTV service discovery, which is the subscription to IPTV service in IMS. The response to the subscription provides the portal address and the URL to fetch the IPTV broadcast channel information. The broadcast channel information provides the details necessary to signal the Internet Group Management Protocol (IGMP) requests by an IPTV Media Control Function module . The portal address is used to start up the browser and load the initial IPTV presentation.","The IPTV Media Control Function module  controls unicast and multicast streams. For IMS deployments, the session initiation and teardown process is performed with SIP. For plain IPTV deployments, the session setup and teardown process is performed with RTSP. The media playback is performed with RTSP, while the broadcast selection and zapping is performed using IGMP.","An Other IMS Services Function module  attempts to capture the services not directly provided by IPTV, such as Presence, Messaging, and Chat services. These services have no direct media interaction except with the browser or local client software implementing the service.","An optional IPTV Bootstrap Function module  facilitates easier deployments of IPTV. At startup, the device connects to a preconfigured URL with a hardware identifier and an encrypted key, which is used to tie to a subscription. If the subscription is associated to hardware and the key is confirmed, then an xml file is downloaded with details of user accounts and password.","A Local Player Function module  may provide local storage control, provided there is a local hard disk, for broadcasted information both multicast and DVB-T streams.","A Hybrid System Function module  indicates when there may be other types of delivery of TV over terrestrial, satellite, and cable. In order for IPTV services to be integrated with a hybrid system, it is necessary to have access to the channel identifier so the presentation can be customized for those channels.","Prior to the browser  being initiated for IPTV, the local object code  performs the initial registration to IMS, as well as subscribing to the IPTV service using the default user. The default user includes the Public User Identity (IMPU) , the Private User Identity (IMPI) , and the password (IMS credentials). This information is either typed in manually or is automatically retrieved from the IPTV Bootstrap Server. If manually inserted, the Private User Identity is the same value as the Public User Identity.",{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 4","b":["22","42","43","44"]},"At step , a subscriber purchases the STB. At this time, as shown in step , the operator configures the subscriber account with the public STB ID (for example MAC address) to be used for entitlement and the private STB ID. The private STB ID is not transmitted over the network, and as noted above, is not visible in the STB. The local object code  then sends an HTTPS PUT message to the MIEP , which sends an HTTP PUT message to the IPTV Bootstrap Server . In response, the server looks up the subscriber association at step  using the public STB ID. The server checks the Hash Message Authentication Code (HMAC) and if confirmed, prepares initial information for the STB. The initial information may include a Group Subscription User ID, authentication information for the Group Subscription User ID, and User IDs for individual users in the group. The initial information is then returned to the local object code in a 200 (HTTP PUT) message  and a 200 (HTTPS PUT) message . At step , the local object code sets the Public Group Subscription User ID, Private Group Subscription User ID and password, and individual User IDs. These data are used later for SIP\/HTTP communication and authentication.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIG. 5","FIG. 5","FIG. 4","FIG. 5","FIG. 3"],"b":["56","58","59","63","64","68"]},"The User Handling Function module  in the local object code  sends a REGISTER message  to the CSCF, which registers the Group Subscription User ID at  and returns a 200 (REGISTER) message  to the local object code. This registers the Group Subscription User ID with IMS. The IPTV Service Discovery Function module  in the local object code then sends a SUBSCRIBE message  to the CSCF, which forwards the SUBSCRIBE message to the IAP . The IAP returns a 200 (SUBSCRIBE) message  to the CSCF, which forwards the 200 (SUBSCRIBE) message to the local object code.","The IAP  then sends a NOTIFY message  to the CSCF  and includes a portal URL for the IPTV Portal (i.e., the IAP ). The CSCF forwards the NOTIFY message to the local object code , which returns a 200 (NOTIFY) message . At this point, the local object code has learned the address of the IAP.","At , the IPTV Bootstrap Function module  in the local object code then initiates the STB browser . The STB browser sends a HTTPS GET message  to the MIEP , which forwards a HTTP GET message  to the IAP. The IAP returns a 200 (HTTP GET) message  to the MIEP, which forwards a 200 (HTTS GET) message  to the STB browser. At this point, the Group Subscription User ID is registered with IMS, the local object code  has portal and channel information for the IAP , and IPTV is initiated.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIG. 6","FIG. 5","FIG. 6","FIG. 2"],"b":"69"},"When a new user indicates a change of user to the STB browser , the STB browser sends a logonUser message  to the local object code  with the User ID of the new user, for example User . The User Handling Function module  in the local object code then sends a REGISTER message  to the CSCF  requesting logon (IMS registration) of the new user. The CSCF returns a 200 (REGISTER) message  to the local object code.","At , the STB browser  indicates to the local object code  that User  desires to play Content on Demand (CoD). The IPTV Media Control Function module  in the local object code sends an INVITE message  to the CSCF . At this point in time, the STB has two active registrations: one for the Group Subscription user, and one for the current active user (User ). Note that no SUBSCRIBE message is required to begin the session. At , the CSCF establishes the Linear TV\/Content on Demand (LTV\/CoD) session using the active user IMPU, IMPI, and password. The CSCF forwards the INVITE message  to the IAP  to establish the session. The IAP returns a 200 (INVITE) message  to the CSCF, which forwards the 200 (INVITE) message to the local object code.","At a later time, another change of user is indicated. The STB browser  sends a logoffUser message  to the local object code  indicating that User  has logged off. The User Handling Function module  in the local object code sends another REGISTER message  to the CSCF requesting logoff (IMS deregistration) of the old user. The CSCF returns a 200 (REGISTER) message to the local object code and the old user is deregistered. The new user is then logged on using the process shown in steps -. Note that the browser is not reset. There is a seamless change of users handled by the local object code.","As will be recognized by those skilled in the art, the innovative concepts described in the present application can be modified and varied over a wide range of applications. Accordingly, the scope of patented subject matter should not be limited to any of the specific exemplary teachings discussed above, but is instead defined by the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWING","p":["In the following section, the invention will be described with reference to exemplary embodiments illustrated in the figures, in which:",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
