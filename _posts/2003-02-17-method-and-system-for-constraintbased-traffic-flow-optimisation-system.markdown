---
title: Method and system for constraint-based traffic flow optimisation system
abstract: A method of calculating traffic values in a communications network (), the communications network comprising a plurality of nodes (), the nodes being connected to one another by links (), the method comprising: (a) obtaining traffic data measurements () through said nodes and/or links in an initial scenario as input data; (b) deriving a traffic flow model for a modified scenario using a plurality of constraints describing the interdependency of said initial to said modified scenario (); and (c) calculating values and/or upper and lower bounds of traffic values for said modified scenario from said traffic flow model using said input data ().
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07920468&OS=07920468&RS=07920468
owner: Cisco Technology, Inc.
number: 07920468
owner_city: San Jose
owner_country: US
publication_date: 20030217
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"p":["This application is a 371 of co-pending PCT application PCT\/GB03\/00669 filed Feb. 17, 2003, which was published in English under PCT Article 21(2) on Sep. 12, 2003, which claims the benefit of GB Application No. 0204914.6 filed Mar. 1, 2002. These applications are incorporated herein by reference in their entireties.","This invention relates to traffic flow optimisation systems. More particularly, but not exclusively, it relates to methods of calculating data traffic flows in a communications network.","Today, large communications networks are serviced by more than 30,000 Internet Service Providers (ISPs) across the world, predominantly operating on a commercial basis as a service provider. The services range from the mass-marketing of simple access products to service-intensive operations that provide specialized service levels to more localized internet markets. The present application mainly concerns ISPs providing networks, referred to more generally as network service providers.","With networks playing an ever increasing role in today's electronic economy, an efficient management of the networks and an efficient planning of future modifications is advantageous.","With the rapid growth of network usage, network service providers are currently facing ever increasing expectations from their customers to the quality of service (minimum delay, maximum reliability, high bandwidth for data transfer rates, low costs, etc). The main task is to satisfy the quality of service parameters while maximising the return of investment, i.e. to ensure an efficient utilisation of the available bandwidth in addition, but there are issues relating to future sales, strategic planning and business development. One concerns Service Level Agreements (SLAs) with their customers.","An SLA is a service contract between a network service provider and a subscriber, guaranteeing a particular service's quality characteristics. SLAs usually focus on network availability and data-delivery reliability. Violations of an SLA by a service provider may result in a prorated service rate for the next billing period for the subscriber.","Thus it is important for a network service provider to know whether it can issue an SLA to another customer without violating any existing SLAs. Here it needs to estimate what is the largest new workload that the network can handle with respect to network availability and data-delivery reliability.","In strategic planning, the objective is to investigate how to revise the existing network topology (and connection points to external nodes) such that the resource utilization is minimized and more balanced. The problem is to minimize the resource utilization by determining which backbone links are overloaded, and to add links to the network to redistribute the load. For a given workload, the question is where to add the links in the network and what is the required bandwidth of each backbone link such that the capacity of the new network topology is greater, i.e. can deal with a larger load. Another question concerns which node should be used to connect a new customer to the network. This should be the one which minimises resource utilisation and expands capacity in the most cost effective way.","There are several tools available for planning and optimising communications networks. They are usually based on a discrete event simulation of the network. For this, a typical scenario of end-to-end loads must be provided as input by the user. Starting from this scenario, the tool simulates the transport of the traffic through the network, observing link utilization overload and other events.","End to end traffic data are usually obtained by obtaining probes or router-based information. Such a method is expensive to implement and usually only a part of the whole network is equipped with data collection points. The data collection process has the additional disadvantage that it adds to the traffic congestion of the network.","Such traffic data, if available, may then be used in network modelling or a network simulation. However, most simulations are not based on real data, but only on estimates. The simulation is then used for network planning or optimisation tools. The user usually defines a scenario which is then tested using the simulation tool.","Another approach is described in the applicant's patent application GB 0 028 848, filed on 27 Nov. 2000 (agent reference J42831GB), which is hereby incorporated by reference. In the approach real link traffic data are used to derive end-to-end traffic load intervals. Link traffic data are collected during a limited time period. Thus a \u201csnapshot\u201d of the data traffic is obtained. Data collection may be repeated at certain times or periodically. The results of this process are subsequently used in a traffic flow optimisation system to estimate traffic loads in the given scenario. This approach has the disadvantage that it is difficult to derive meaningful intervals for the end-to-end load in the optimisation process, especially if multiple modifications are to be continued to give a consistent estimate in traffic flow. Another disadvantage of the method is that it is difficult to work from a plurality of traffic flow intervals in the optimisation or planning process.","It is an aim of the present invention to alleviate some of the disadvantages mentioned above and to provide a traffic flow optimisation system based on measured traffic data which does not require complete end-to-end traffic loads.","It is a further aim of the present invention to calculate traffic values in a communications network for a modified scenario using measured traffic data of the initial network.","According to one aspect of the present invention, there is provided a method of calculating traffic values in a communications network, the communications network comprising a plurality of nodes, the nodes being connected to one another by links, the method comprising: (a) obtaining traffic data measurements through said nodes and\/or links in an initial scenario as input data; (b) deriving a traffic flow model for a modified scenario, using a plurality of constraints describing the interdependency of said initial to said modified scenario; and (c) calculating values and\/or upper and lower bounds of traffic values for said modified scenario from said traffic flow model using said input data.","In this way traffic values can be calculated for a modified network (or modified scenario) using measured traffic data of the initial, unmodified network (or scenario).","By deriving constraints from the interdependency of the initial and modified network, the exact traffic data are used in the calculation for the modified scenario if they are not affected by the modification. In this way either exact values or relatively tight bounds can be derived for the desired traffic values in a modified network.","Preferably, the measured traffic data are corrected if inconsistencies are detected. In this way more accurate and reliable traffic values can be derived.","According to another aspect of the present invention, there is provided a method of calculating traffic values in a communications network, the communications network comprising a plurality of nodes, the nodes being connected to one another by links, the method comprising: (a) obtaining data traffic measurements through said nodes and\/or links in an initial scenario as input data; (b) considering a modified scenario; (c) defining one or more solution variables for said modified scenario; (d) determining constraints between traffic flows through said links and nodes in the initial and the modified scenarios; (e) deriving a traffic flow model using said input data and said relations for calculating said solution variables.","In this way traffic values for modified scenario, like for example in forecasting, network planning or resilience analysis, can be calculated using measured traffic data of the initial, unmodified network and constraints based on the initial network, like network topology and network behaviour of the initial network.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 1","b":["2","4","6"]},"A link is a directed arc between two nodes. Depending upon the nature of the two nodes, network links take different denominations. There are two main types of links, the backbone and access links.","A backbone link  is a link between two internal nodes; at least one of them must be a device node. Indeed, every link in an IP network can connect either two device nodes or one device node and one network node. A connection to a device node is realized via a physical port of the device. If the device is a router, then the port is called router-interface . A connection to a network node is realised via a virtual port of the network.","An access link is a link between a device node and an external node. Access links include peering lines , uplink lines  and customer lines .","A PoP (point of presence) is the set of all devices co-located in the same place.","The link traffic is the volume of data transported through a link and is measured in mbps (mega bits per seconds). The bandwidth of a directed link defines the maximum capacity of traffic that can be transported through this link at any one time.","In this embodiment, we refer to IP-based networks. In an IP network the device nodes are represented by routers; we assume that any two nodes are directly connected by at most one link, and every external node is directly connected to one internal device node.","A path from a source to a destination node is a sequence of linked nodes between the source and destination nodes. A route is a path between end-to-end internal nodes of a network that follows a given routing protocol.","A traffic load is the load of data traffic that goes through the network between two external nodes independently of the path taken over a given time interval.","A traffic flow between external nodes is the traffic load on one specific route between these nodes over a time interval.","A router is an interconnection between network interfaces. It is responsible for the packet forwarding between these interfaces. It also performs some local network management tasks and participates in the operations of the routing protocol (it acts at layer 3, also called the network protocol layer). The packet forwarding can be defined according to a routing algorithm or from a set of static routes pre-defined in the routing table.","A routing algorithm generates available routes for transporting data traffic between any two nodes of a given network.","In the following, embodiments of the present invention will be described which are based on the OSPF (Open Shortest Path First) routing algorithm for IP-based networks. This algorithm determines optimal routes between two network nodes based on the \u201cshortest path\u201d algorithm. The metrics to derive the shortest path are fixed for each link, and hence the routing cost is computed by a static procedure. The lowest routing cost determines the optimal route. If there is more than one optimal path, then all optimal paths are solutions (best routes) and the traffic load between the two end-nodes is divided equally among all the best routes.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 2","b":["60","60","50","60","62","64","64","62"]},"The traffic flow optimisation system may comprise a network planner, a resilience analyser and\/or a forecaster. These elements may either be implemented in the network management system or in a connected computer system.","A network planner identifies potential network bottlenecks using the traffic flow results, suggests a set of best possible changes to the network topology and reports on the analysis of the effects of such changes to the network and services. Such changes may include topological changes or methods of traffic engineering like modification of the routing metrics or the implementation of tunnels, i.e. methods of routing traffic in one particular node in different directions. Such a tunnel may for example be used to route traffic coming into the node from a first and a second node into one direction, and traffic coming into the node from a third node into another direction","The resilience analyser identifies which of the existing links in the network will be overloaded in the event that certain links (sets of links) fail.","The forecaster identifies the impact on the network of rising traffic volume.","Input data for the network optimisation system are network data and traffic data.","Network data contains information about the network topology, as for example information about the nodes, routers, links, the router interfaces, the bandwidth of each link or the parameters of the routing protocol used. Such a routing protocol may for example be the OSPF (Open Shortest Path First) protocol. Alternatively, other routing protocols like ISIS (Intermediate System to Intermediate System) and EIGRP (Enhanced Interior Gateway Routing Protocol) may be used. In addition, information about the transport layer may be used, such as the TCP transport protocol or the UDP transport protocol. The list of static routes may also be included. Network data may also include information about the end-to-end paths as for example all optimal routes.","Traffic data are measured directly from the network considered. Suitable network elements have to be selected from which information is provided and in which measurements of traffic data are made. The measured quantities may for example be the flow between two nodes, the flow between two groups of interfaces for two nodes, the traffic entering or leaving a link.","In the embodiments described, traffic data are provided as snapshots of current traffic on the network. Traffic data are collected for a certain time interval and are collected on a regular basis. According to one embodiment, traffic data are collected every 5 minutes and the user may choose the interval over which data is collected. A time interval of, for example, 20 to 25 minutes is suitable. Measurements relating to the average flow rate of traffic data passing through every link are taken and stored. The average flow rate of traffic data is the total traffic volume divided by the time interval. For example if a total traffic of 150 Mbit have been counted between T and T, the average data is 150\/(T\u2212T) Mbps. This approach does not show high peaks in the traffic. But it is sufficient to determine the load being carried through a network.","According to the embodiments described herein, traffic data is collected either directly from the network devices or from tables stored in the network management system. The network management protocol such as the SNMP provides access to the incoming and outgoing traffic at a given time at each router and each router interface.","The general concept of the traffic flow optimiser will now be explained with help of a simplified model.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 3B"},"In a resilience analysis we are now interested in the traffic on the individual links if one link fails.  and D illustrate a link failure between nodes E and C. All traffic between nodes E and C has now to be re-routed. In the example the traffic goes via node D.","In the example we are now especially interested in the traffic between E and D. The important question in a resilience analysis is whether the link considered, here the link between nodes E and D can handle the total amount of traffic which now, after the link failure, flows over the link.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 3B"},"Thus we want to know what the total volume for all these flows is. We can derive the line traffic in the modified network (i.e. where the link failed) from the original, un-modified network, as is illustrated in .","In this case we can use two constraints from the initial network. Looking at the traffic between nodes F and E, we know that all traffic FA, FB and FD goes over this link and from the measurement we know that the total traffic on this link is 20. Looking at the link between nodes G and E, we know that traffic GA, GB and GD goes over the link and that the total traffic on this link is 35. Thus we can derive a value for the traffic FA+FB+FD+GA+GB+GD, which yields 20+35=55. In this example we can use a second constraint, from which we also get a value for FA+FB+FD+GA+GB+GD. Looking at the traffic on links EC and ED also yields a value of 55.","Thus we can estimate the utilisation of the individual links after link failure. The values are shown in .","In a second example we illustrate how we can derive traffic data for a planned topology change. We again start from initial network as shown in .","Referring to , the question is now how the traffic data would be modified if we add a new link between nodes E and B. We can again derive the values for the modified network by using constraints derived from the initial network. In  the resulting utilisation of the links is shown. We can derive that the traffic on a new link EB would be 40.","In a third simplified example we show that we can not always derive exact value for the traffic in which we are interested, but that we might only be able to derive an upper and lower bound for certain traffic values.","Referring now to , the question is how the traffic data would look like if we add a new link between nodes G and B. In this example we have not enough information or constraints to derive an exact value for the traffic on the new link GB. As already shown with reference to , we are able to derive an interval for the link traffic between GB, which now tells us that the flow is between 20 and 35. With this knowledge and the measurements of the traffic in the initial network, we can also derive link traffic intervals for the links EG, CE and BC, as given in .","The traffic flow optimiser in embodiments of the present invention uses measured traffic data from an initial network to derive traffic values for a modified scenario. The modified scenario might for example be a modified topology of the network or a modified routing procedure like the introduction of primary tunnels. These modified scenarios are for example used for network planning and resilience analysis. Other modified scenarios include a modified traffic load in the network, like for forecasting traffic.","The traffic values for the modified scenario are calculated using the same principles as explained above in the simplified example with reference to . In the example, the link traffic values for the modified links are expressed as a function of the measured traffic data in the initial network to derive a value for traffic over a certain link. More generally, relationships derived from the initial scenario are used to constrain the traffic values of the modified scenario. In the embodiments described below, we set up a traffic flow model or a constraint model is defined for calculating traffic in the modified scenario. Because generally the exact amount of traffic cannot be determined, we calculate an upper and lower bound of data traffic.","In the constraint model, the flow terms contain typically several node-to-node flows. Any link traffic which is not affected by a modification corresponds to the link traffic of that link in the initial unmodified network and is thus known accurately.","From the calculated flow data (i.e. values and\/or intervals) we derive the utilisation of individual links in the modified network.","In the following we list some of the relationships used in the constraint model as examples:\n\n","Other constraints will be given below, where we describe different embodiments of the traffic flow model in more detail. We also refer to the description of the constraint model for the traffic flow analysis in then applicant's patent application GB 0 028 848, filed on 27 Nov. 2000 (agent reference J42831GB). The set of constraints described therein can alternatively be used in the traffic flow model of the present invention.","The output variables of the traffic flow optimizer are the flows which are affected by the imposed modification. These variables are referred to as solution variables in the following. Objective functions are defined using linear programming methods to calculate the bounds for all solution variables.","The traffic flow optimiser can be used to analyse the results of a whole set of modifications. This is for example useful for a resilience analysis of a communications network where the service provider might want to ensure that the network has enough capacities to deal with the failure of any such link.","One possibility to handle such multiple modifications is of course to treat each modification individually and to get results for the traffic values for each modification individually. However, the traffic flow optimiser according to one embodiment of the present invention also allows handling a set of modifications simultaneously. In this case the optimiser performs the routing process for each modification considered (if necessary) and produces the solution variables for each modification.","After all modification scenarios have been considered, the optimiser produces a list of solution variables, which is then used in the traffic flow model. In this list all solution variables are only listed once, so redundancies are removed. The set of modifications are then handled simultaneously in the traffic flow model. Possible outputs are a set of consistent values for all solution variables, which gives a solution to all constraints considered. Alternatively, or in addition, the modifications can also be handled one by one in the model, the output of the TFM is then a set of solution variable values or intervals for all modification considered.","The traffic flow optimiser also allows to handle a plurality of measured data sets. In the planning of a network change or in a resilience analysis, it is often desired to take into account multiple traffic data sets. In this way we do not restrict ourselves to the use of one particular data set which was collected at one particular time interval in the network considered. Instead, multiple data sets collected at different times may be used in one analysis. This is important as the traffic may considerably differ at different times. The results obtained in this way are thus much more consistent and meaningful. In case of a resilience analysis, if an utilisation problem is detected for the some network failure in all data sets, i.e. to all times considered in the analysis, then this points out a much more serious problem compared to a situation where the problem occurs in one data set only.","We analyse the multiple data sets independently and then combine the results. In this way we keep all information about correlation between the different traffic values. However, this method requires running of the traffic flow model for each data set separately, which may be very resource-consuming, especially if we consider a great number of data sets. Alternatively, we combine the multiple data sets into one merged data set and run the traffic flow optimizer based on this merged data set. In this case we loose the correlation between the individual traffic data measurements. This has to be taken into account when setting up the constraints for the traffic flow model.","The measured traffic data may be inconsistent. As such inconsistencies affect the TFM, the data are corrected in embodiments of the present invention.","A reason for inconsistencies might for example be that some network data is lost (e.g. the collected data from a router is not transported through the network). Other reasons might be that the network configuration is wrong (e.g. the counter for the size of traffic on a given interface does not represent the size of that traffic) or that the network data from different router interfaces (in case of a router-router directed link) is not collected at the same time and results in slight differences of size.","The data are corrected using the measured raw data and constraints derived from the topology of the network and routing protocols. The following constraints may for example be used for error correction:\n\n","If the constraints are fulfilled, i.e. if no error is detected, the input values are not corrected and the process continues. If an error is detected, then the error is minimised using the constraints and a minimisation procedure. Error variables are introduced, for example variables specifying the corrected traffic volume for every single node or an overall error correction. An objective function is built from the constraining relationships using linear programming.","Output of the correction procedure are the error variables. Using these variables, the measured data can be corrected such that they are consistent for the application of a constraint model.","The procedure of error correction is similar to those described in patent application GB 0 028 848. We refer to this document for further details.","Before the individual steps in a traffic flow optimiser will be set out in more detail reference is made to the flow chart diagram of .  summaries the steps of a traffic flow optimiser according to one embodiment of the present invention. Input to the optimiser is the measured traffic data, the topology of the network and the behaviour of the network, such as the results of performing a routing procedure (steps  and ). The traffic data are corrected in step  such that a consistent data set is obtained. In step  a modified scenario is considered. The modified scenario may for example include a scenario for planning modified networks (), for analysing resilience of a present or future network () or for forecasting traffic load (). The topology of the initial and the modified network, if appropriate, is used to derive constraints for setting up a traffic flow model (). The traffic flow model runs to determine intervals of a set of traffic flow solution variables in the modified network and\/or one consistent solution for the set of modifications considered. In step  the output of TFM, i.e. the solution variable intervals, are analysed. The traffic flow optimiser may for example be used for selecting a suitable modification or set of modifications from the traffic flow intervals calculated for the different modifications considered. For the resilience analysis, the solution analyser may for example transform the solution variables into utilisation values.","The principle set out above can then be used in optimisation procedures like for example forecasting, resilience analysis, or network planning.","Forecasting","For forecasting traffic values in a given communications network, the network topology is not changed. However, the traffic load of the network is modified. Two different types of modification can be implemented. The first modification is a growth of the different end-to-end flows proportional to their original traffic. The second modification allows for additional traffic which can be specified to flow between certain nodes. However, the additional traffic should be allocated to nodes which have enough capacities for extending the traffic load (see the description for network planning below).","The traffic flow model is then set up such that for each node to node flow the correct growth factor is used and any additional flows are added. Output of the forecasting process are then modified traffic values (generally intervals of the link traffic) for which we can forecast the utilisation of the network if the traffic load growths. The constraints can be aggregated for groups of flows, e.g. for all flows between two PoPs. Often, we will obtain more accurate results this way.","Resilience Analysis","In order to study resilience of the network, the communications network is modified. Individual or multiple network elements, such as links between network nodes are removed in the analysis and the impact of such \u201cfailures\u201d on the network are studied. Node failures are simulated by removing all links connecting to the corresponding node. For simulating a router node failure, the links inside a PoP and also the links connecting to another PoP can be removed. We can also treat any combination of link failures as a single failure cases, for example to analyze the effect of a fibre cut.","After the network modification, the routing procedure is performed in the modified network. The solution variables to be determined are defined. They correspond to the link traffic values in the modified network. Subsequently the TFM is set up using the constraints derived from the network topology and behaviour and the measured and corrected traffic data. As a result of the TFM upper and lower bounds are calculated for the desired solution variables and the utilisation of the derived links can be calculated. The optimiser further returns the amount of any un-routed traffic.","In such a resilience analysis a whole set of modifications to the network can be studied as described above. The information of the individual modification can be given as a list of network modifications, and the traffic flow optimiser runs through all given modifications automatically, giving a list of the desired network element utilisation and the un-routed traffic for each modification.","Network Planning","With the network planner the impact of new network elements, such as new links, can be studied.","The user can either specify to which node and\/or interface of a node the new links should be connected. Alternatively, the user can specify one node of each PoP as the extension point, and the tool automatically selects the best point of connection for the new links.","Similar to the resilience analysis, routing is performed in the modified network, the TFM is set up and intervals are calculated for the desired solution variables. Again a list of selected modifications can be studied, either by handling each modification individually, or by combining multiple modifications.","In other embodiments, more specific queries can be answered by the traffic flow planner, the forecaster or the resilience analyser (,  or  of ). In this case the solution analyser  (or part of it) is incorporated into the traffic flow planner, the forecaster or the resilience analyser. Each of elements , ,  can for example define a specific set of queries which is then calculated in the TFM using the complete set of constraints as described above.","In this case the step of calculating variables the utilisation of individual links are performed in the optimiser elements ,  or . The solution variables are then no longer link traffic values, but variables like for example the utilisation of a link (in percent), the overall utilisation of the modified network (in percent), the maximal utilisation of any link in the network, the overloading of a link (in percent), the total volume of overloaded traffic or the volume of traffic in the original network that cannot be routed in the modified network.","As a consequence of using these variables the constraints used in the TFM are no longer linear. Such constraints are for example that the amount of overload for a link is the percentage of utilisation exceeding the utilisation limit or that the maximal utilisation is the maximum of all link utilisations in the network. We use linear approximation for these non-linear constraints.","The forecasting element  or planning element  may for example directly answer the following questions:\n\n","The variables derived in such a case are the minimal and maximal utilisation of any link in the network (in percent), the overall utilisation of the network and the total amount of overloading in the network.","The queries of the resilience analyses may be specified as for example:\n\n","In a resilient planner, the query may for example be formulated as:\n\n","The traffic flow optimiser is also usefull in traffic engineering, for example for obtaining information about possible placements of primary tunnels.","Referring now to , we describe how a traffic flow optimiser handles multiple network modifications like for example in a resilience analysis. In this embodiment, the traffic flow optimiser includes a modification generator . The generator  is implemented in software. It automatically generates a set of proposed modifications, like for example deleting every link in a network or every link in a particular set of links in a resilience analysis. Alternatively, the user may specify a set of modifications for a particular analysis. The set of modifications are then communicated to the planning or resilience element via an application programming interface (API). The optimiser element then considers a first modification of the network (step ) as requested and routing is performed on the modified network in step . In step  the optimiser element performs flow aggregation and the required flow terms or solution variables are defined. In step  it is checked whether more modifications are to be carried out. If the answer is yes, then steps  to  are repeated, until no further modifications are required in step . If the answer is no, then the system continues with step .","In step  the optimiser element merges the required flow terms into a list. In this process any duplicates of flow terms are removed, such that a list of unique flow terms is provided to the TFM (step ). In addition to this list, the TFM is also provided with information of the network topology and behaviour of the initial network and the measured traffic data (steps  to ). Now the traffic flow model is set up by deriving constraints and building objection functions as described above. The output of the TFM is an upper and a lower bound for each of the solution queries. Alternatively, or in addition, one solution for all the solution variables can be calculated, which simultaneously satisfies all given constraints.","The resulting intervals or values are transformed into utilisation values of the links and\/or values of the modified network in step . From these data the user or the system may select appropriate network modifications (step ). If the TFM calculates directly solution variables like the utilisation variables and overflow values, the modification selector uses the values or intervals provided from the TFM. The modification generator of step  provides the necessary information for the selection of suitable or test modifications. If the traffic flow optimiser is used for forecasting traffic the definition of the modified scenario is given in step . As the network itself is not modified in this case, steps  and  are not performed and the modified traffic load is directly communicated to the optimiser in step . The modified traffic load is given as a percentage of the current traffic load.","In the following we describe different embodiments of the constraint model for the traffic flow optimiser in more detail.","As a first example, we give an example of a simple constraint model. In this simplified model, network nodes and routers are treated in the same way. External connections are not modelling explicitly. Only the total traffic volume into and out of a node to all external interfaces is taken into account.","In a second example, we give a further, more complete, example of a constraint model. We refer to this example as the full constraint model. In this case we distinguish between network nodes and routers. Node interfaces can be classified as interfaces of different groups if they belong to different customers.","In a third example, the full constraint model described in the second example is presented including error correction.","Subsequently the constraint model is described for the traffic flow optimiser according to one embodiment of the present invention. This description is based on the third example, i.e. the full constraint model including error correction. We present descriptions of the variables, constraints, approximations to non-linear constraints and solution variables used in this embodiment. Specific queries for a forecaster, a resilience analysis, a planner and also a resilience planner are given.","In a further embodiment of the present invention, we describe a traffic flow model, which is especially useful for large networks. In this model we introduce additional approximations. As a result, the overall number of variables to be calculated is reduced. The remaining variables are approximated in this model.","3.1 Constants","We start by defining the constants that we use to describe the network, its routing and the traffic loads in the network.","Definition 3.1 Nodes is the set of all nodes in the network. The number of nodes is denoted by n. Indices i, j, k, k, l and lrefer to nodes.","Definition 3.2 Pops is the set of all PoPs in the network. The number of PoPs is denoted by r. Indices p and q refer to PoPs. Each PoP is a set of nodes, and each node belongs to exactly one PoP.","Definition 3.3 The function pop: i  p maps the node index i to a PoP index p.","Definition 3.4 Lines is the set of all node pairs kl so that a directed line exists between nodes k and l in the network. The number of lines in the network is denoted by m.","Definition 3.5 The constant tis the consistent traffic volume on the directed line between from node k to node l.","Definition 3.6 The constant cis the sum of all consistent traffic volumes for external traffic into node i.","Definition 3.7 The constant cis the sum of all consistent traffic volumes for external traffic out of node i.","Definition 3.8 The constant Ris the set of all node pairs ij so that the flow from node i to node j is (partially) routed through line kl.","Definition 3.9 The constant ris a number between 0 and 1 which describes which fraction of the flow from node i to node j is routed through line kl. A value  indicates that the flow is not routed through line kl.","Definition 3.10 The constant pis either 0 or 1 and indicates whether the flow from node i to node j is a flow from PoP p to PoP q, i.e. i \u03b5 p and j \u03b5 q.","Lemma 3.1 We have that",{"@attributes":{"id":"p-0121","num":"0131"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mi":"i"},{"mrow":{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mi":["p","Pops"],"mo":"\u2208"}}},{"mtd":{"mrow":{"mi":["q","Pops"],"mo":"\u2208"}}}]}},"mo":"\u2062","msubsup":{"mi":["p","ij","pq"]}}}},"mo":"=","mn":"1"}],"mo":","}}},"br":[{},{}]},"We now describe the variables of our model. The first set, the flow variables, are used to define flows in the network consistently. It is the second set, the solution variables, that we are really interested in. These solution variables are defined as sums of flow variables.","Definition 3.11 The non-negative variable fdescribes the flow from node i to node j. These variables are called flow variables.","There are nvariables of this type.","Definition 3.12 The non-negative variable sdescribes the flow from PoP p to PoP q. These variables are called solution variables.","There are rvariables of this type.","3.3 Constraints","We now list the constraints used in our minimal model. The names of the constraints are taken from the \u201cRiskWise II Constraint Model\u201d document.","Constraint 3.1 (flow_external(2)) The constraint states that the sum of all flows starting in a node is equal to the sum of all external traffic entering the node.",{"@attributes":{"id":"p-0129","num":"0139"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mo":"\u2200","mrow":{"mi":"i","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["j","Nodes"],"mo":["\u2062","\u2208","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}}},"mo":"=","msubsup":{"mi":["c","i","in"]}}}}},"We have n constraints of this type.","Constraint 3.2 (flow_external(1)) The constraint states that the sum of all flows ending in a node is equal to the sum of all external traffic leaving the node.",{"@attributes":{"id":"p-0132","num":"0142"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mo":"\u2200","mrow":{"mi":"j","mo":["\u2062","\u2208"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nodes"],"mo":["\u2208","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}}},"mo":"=","msubsup":{"mi":["c","j","out"]}}}}},"We have n constraints of this type.","Constraint 3.3 (traffic_contribution_equal) The constraint states that the sum of all flows through a line is equal to the traffic on the line.",{"@attributes":{"id":"p-0135","num":"0145"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mi":"Lines","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":["\u2208","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["R","kl"]}}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}}}}},"mo":"=","msub":{"mi":["t","kl"]}}}}},"We have m constraints of this type.","Constraint 3.4 (solution_term(1)) The constraint states that the flow between two PoPs is equal to the sum of all flows between nodes which belong to the first and second PoP.",{"@attributes":{"id":"p-0138","num":"0148"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mi":"p"},{"mrow":[{"mi":"q","mo":"\u2208","mrow":{"mi":"Pops","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msub":{"mi":["s","pq"]}}},{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mi":["i","p"],"mo":"\u2208"}}},{"mtd":{"mrow":{"mi":["j","q"],"mo":"\u2208"}}}]}},"mo":"\u2062","msub":{"mi":["f","ij"]}}],"mo":"="}],"mo":","}}}},"We have rconstraints of this type.","3.4 Matrix",{"@attributes":{"id":"p-0140","num":"0150"},"sup":"1"},{"@attributes":{"id":"p-0141","num":"0151"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"M","mo":"*","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msub":{"mi":"f","mn":"11"}}},{"mtd":{"msub":{"mi":"f","mn":"12"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msub":{"mi":["f","nn"]}}}]},"mo":"}"},"mo":"\u2062","msup":{"mi":"n","mn":"2"}}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msub":{"mi":"s","mn":"11"}}},{"mtd":{"msub":{"mi":"s","mn":"12"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msub":{"mi":["s","rr"]}}}]},"mo":"}"},"mo":"\u2062","msup":{"mi":"r","mn":"2"}}}}]}}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["c","in"],"mn":"1"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","n","in"]}}}]},"mo":"}"},"mo":"\u2062","mi":"n"}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["c","out"],"mn":"1"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","n","out"]}}}]},"mo":"}"},"mo":"\u2062","mi":"n"}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msub":{"mi":"t","mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msub":{"mi":"t","mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}}}]},"mo":"}"},"mo":"\u2062","mi":"m"}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"mn":"0"}}]},"mo":"}"},"mo":"\u2062","msup":{"mi":"r","mn":"2"}}}}]}}],"mo":"="}}},"br":{},"sup":"1"},"The matrix M is defined as",{"@attributes":{"id":"p-0143","num":"0153"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mo":"\u2003","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"1"},{"mi":"\u2026"},{"mn":"1"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u2026"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]}]}},{"mi":"\u2026"},{"mtable":{"mtr":[{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u2026"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mi":"\u2026"},{"mn":"1"}]}]}},{"mn":"0"}]},{"mtd":[{"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"1"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"1"}]}]}},{"mi":"\u2026"},{"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"1"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"1"}]}]}},{"mn":"0"}]},{"mtd":[{"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":"r","mn":"11","mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}},{"msubsup":{"mi":"r","mn":"12","mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}},{"mi":"\u2026"},{"msubsup":{"mi":"r","mrow":[{"mn":"1","mo":"\u2062","mi":"n"},{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}]}}]},{"mtd":[{"msubsup":{"mi":"r","mn":"11","mrow":{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}}},{"msubsup":{"mi":"r","mn":"12","mrow":{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}}},{"mi":"\u2026"},{"msubsup":{"mi":"r","mrow":[{"mn":"1","mo":"\u2062","mi":"n"},{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}]}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":"r","mn":"11","mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}},{"msubsup":{"mi":"r","mn":"12","mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}},{"mi":"\u2026"},{"msubsup":{"mi":"r","mrow":[{"mn":"1","mo":"\u2062","mi":"n"},{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}]}}]}]}},{"mi":"\u2026"},{"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":"r","mrow":[{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}]}},{"msubsup":{"mi":"r","mrow":[{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}]}},{"mi":"\u2026"},{"msubsup":{"mi":["r","nn"],"mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}}]},{"mtd":[{"msubsup":{"mi":"r","mrow":[{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}]}},{"msubsup":{"mi":"r","mrow":[{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}]}},{"mi":"\u2026"},{"msubsup":{"mi":["r","nn"],"mrow":{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":"r","mrow":[{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}]}},{"msubsup":{"mi":"r","mrow":[{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}]}},{"mi":"\u2026"},{"msubsup":{"mi":["r","nn"],"mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}}]}]}},{"mn":"0"}]},{"mtd":[{"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":"p","mn":["11","11"]}},{"msubsup":{"mi":"p","mn":["12","11"]}},{"mi":"\u2026"},{"msubsup":{"mi":"p","mrow":{"mn":"1","mo":"\u2062","mi":"n"},"mn":"11"}}]},{"mtd":[{"msubsup":{"mi":"p","mn":["11","12"]}},{"msubsup":{"mi":"p","mn":["12","12"]}},{"mi":"\u2026"},{"msubsup":{"mi":"p","mrow":{"mn":"1","mo":"\u2062","mi":"n"},"mn":"12"}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":["p","rr"],"mn":"11"}},{"msubsup":{"mi":["p","rr"],"mn":"12"}},{"mi":"\u2026"},{"msubsup":{"mi":["p","rr"],"mrow":{"mn":"1","mo":"\u2062","mi":"n"}}}]}]}},{"mi":"\u2026"},{"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":"p","mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},"mn":"11"}},{"msubsup":{"mi":"p","mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},"mn":"11"}},{"mi":"\u2026"},{"msubsup":{"mi":["p","nn"],"mn":"11"}}]},{"mtd":[{"msubsup":{"mi":"p","mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},"mn":"12"}},{"msubsup":{"mi":"p","mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},"mn":"12"}},{"mi":"\u2026"},{"msubsup":{"mi":["p","nn"],"mn":"12"}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":["p","rr"],"mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}}},{"msubsup":{"mi":["p","rr"],"mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"}}},{"mi":"\u2026"},{"msubsup":{"mi":["p","nn","rr"]}}]}]}},{"mtable":{"mtr":[{"mtd":[{"mrow":{"mo":"-","mn":"1"}},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mrow":{"mo":"-","mn":"1"}},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mrow":{"mo":"-","mn":"1"}}]}]}}]}]}}}}}},"The constraints arc arranged in the sequence\n\n","The matrix has 2n+m+rlines and n+rcolumns.\n\n",{"@attributes":{"id":"p-0146","num":"0163"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mo":"\u2003","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"msub":{"mi":"ONE","mn":"1"}},{"msub":{"mi":"ONE","mn":"2"}},{"mi":"\u2026"},{"msub":{"mi":["ONE","n"]}},{"mn":"0"}]},{"mtd":[{"mi":"I"},{"mi":"I"},{"mi":"\u2026"},{"mi":"I"},{"mn":"0"}]},{"mtd":[{"msub":{"mi":"R","mn":"1"}},{"msub":{"mi":"R","mn":"2"}},{"mi":"\u2026"},{"msub":{"mi":["R","n"]}},{"mn":"0"}]},{"mtd":[{"msub":{"mi":"P","mn":"1"}},{"msub":{"mi":"P","mn":"2"}},{"mi":"\u2026"},{"msub":{"mi":["P","n"]}},{"mrow":{"mo":"-","mi":"I"}}]}]}}}}},"br":{}},{"@attributes":{"id":"p-0147","num":"0164"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["ONE","x"]},"mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u2026"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mi":"\u2026"},{"mn":"1"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u2026"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]}]}}}}},"br":{}},{"@attributes":{"id":"p-0148","num":"0165"},"maths":[{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"I","mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"1"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"1"}]}]}}}}},{"@attributes":{"id":"MATH-US-00010-2","num":"00010.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["R","x"]},"mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":"r","mrow":[{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}]}},{"msubsup":{"mi":"r","mrow":[{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}]}},{"mi":"\u2026"},{"msubsup":{"mi":["r","xn"],"mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}}]},{"mtd":[{"msubsup":{"mi":"r","mrow":[{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}]}},{"msubsup":{"mi":"r","mrow":[{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}]}},{"mi":"\u2026"},{"msubsup":{"mi":["r","xn"],"mrow":{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f1"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":"r","mrow":[{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}]}},{"msubsup":{"mi":"r","mrow":[{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}]}},{"mi":"\u2026"},{"msubsup":{"mi":["r","xn"],"mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}}]}]}}}}}]},"The size of this matrix is m\u00d7n.",{"@attributes":{"id":"p-0150","num":"0167"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["P","x"]},"mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":"p","mrow":{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},"mn":"11"}},{"msubsup":{"mi":"p","mrow":{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},"mn":"11"}},{"mi":"\u2026"},{"msubsup":{"mi":["p","xn"],"mn":"11"}}]},{"mtd":[{"msubsup":{"mi":"p","mrow":{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},"mn":"12"}},{"msubsup":{"mi":"p","mrow":{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},"mn":"12"}},{"mi":"\u2026"},{"msubsup":{"mi":["p","xn"],"mn":"12"}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f0"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":["p","rr"],"mrow":{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}}},{"msubsup":{"mi":["p","rr"],"mrow":{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"}}},{"mi":"\u2026"},{"msubsup":{"mi":["p","xn","rr"]}}]}]}}}}}},"The size of this matrix is r\u00d7n.","Lemma 3.2 We find that P=Pif pop(x)=pop(y).","3.5 Objective Functions","As result of the flow analysis we want to have lower and upper bounds for all solution variables. This implies the objective functions\n\nmin s\n\nand\n\nmax s\n\nwhich are run independently for all pairs of PoPs p and q. This means that we have to run 2*roptimization queries. We can reduce this value by checking if a particular solution variable shas a value 0 in one of the other optimization runs. If that happens, we do not have to check it for minimum value.\n\nFull Constraint Model\n","The main difference between the simple constraint model as set out above and the full constraint model as described in the following is that we distinguish between the different types of external interfaces. We also allow a separation of customers interfaces into groups 1 and 2. If the constraint model is used to perform an analysis of the traffic between PoPs, group 1 will contain all customer interfaces of a node and group 2 will be empty. For other analyses, some interfaces belong to group 1 and others to group 2.","4.1 Constants","We start by defining the constants that we use to describe the network, its routing and the traffic loads in the network.","Definition 4.1 Nodes is the set of all nodes in the network. The number of nodes is denoted by n. Indices i, j, k, k, l and lrefer to nodes.","Definition 4.2 Routers is the set of all routers in the network. The number of nodes is denoted by n.","Definition 4.3 Nets is the set of all network nodes in the network. The number of nodes is denoted by n.","Lemma 4.1 We have\n\nNodes=Routers \u222a Nets\n\nand\n\nRouters \u2229 Nets=\u2205\n","Definition 4.4 Pops is the set of all PoPs in the network. The number of PoPs is denoted by r. Indices p and q refer to PoPs. Each PoP is a set, of nodes, and each node belongs to exactly on PoP.","Definition 4.5 The function pop: i  p maps the node index i to a PoP index p.","Definition 4.6 Lines is the set of all node pairs kl so that a directed line exists between nodes k and l in the network. The number of lines in the network is denoted by m.","Definition 4.7 The value o denotes the number of interconnection lines in the network.","Definition 4.8 The constant hdenotes the number of interface groups found at node i. The value his equal to the number of interconnection lines attached to node i plus 2.","Lemma 4.2 The total number of groups in the network is",{"@attributes":{"id":"p-0166","num":"0183"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["h","i"]}},{"mrow":{"mn":"2","mo":"\u2062","mi":"n"},"mo":"+","mi":"o"}],"mo":"="}}}},"Definition 4.9 The constant tis the consistent traffic volume on the directed line from node k to node l.","Definition 4.10 The constant cis the sum of all consistent traffic volumes for external traffic into node i.","Definition 4.11 The constant cis the sum of all consistent traffic volumes for external traffic which belongs to group a into node i.","Definition 4.12 The constant cis the sum of all consistent traffic volumes for external traffic out of node i.","Definition 4.13 The constant cis the sum of all consistent traffic volumes for external traffic which belongs to group a out of node i.","Lemma 4.3 We have that",{"@attributes":{"id":"p-0173","num":"0190"},"maths":[{"@attributes":{"id":"MATH-US-00013","num":"00013"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":"i","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msubsup":{"mi":["c","i","in"]}}}},{"munder":{"mo":"\u2211","mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}},"mo":"\u2062","mrow":{"msubsup":{"mi":["c","ia","in"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mi":"and"}}],"mo":"="}}},{"@attributes":{"id":"MATH-US-00013-2","num":"00013.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":"i","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msubsup":{"mi":["c","i","out"]}}}},{"munder":{"mo":"\u2211","mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}},"mo":"\u2062","msubsup":{"mi":["c","ia","out"]}}],"mo":"="}}}]},"Definition 4.14 The constant Ris the set of all node pairs ij so that the flow from node i to node j is (partially) routed through line kl.","Definition 4.15 The constant ris a number between 0 and 1 which describes which fraction of the flow between nodes i and j is routed through line kl. A value  indicates that the flow is not routed through line kl.","Definition 4.16 The constant pis either 0 or 1 and indicates whether the flow between nodes i and j is a flow between PoPs p and q, i.e. i \u03b5 p and j \u03b5 q.","Lemma 4.4 We have that",{"@attributes":{"id":"p-0178","num":"0195"},"maths":{"@attributes":{"id":"MATH-US-00014","num":"00014"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mi":"i"},{"mrow":{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mi":["p","Pops"],"mo":"\u2208"}}},{"mtd":{"mrow":{"mi":["q","Pops"],"mo":"\u2208"}}}]}},"mo":"\u2062","msubsup":{"mi":["p","ij","pq"]}}}},"mo":"=","mn":"1"}],"mo":","}}},"br":[{},{}]},"We now describe the variables of our model. The first set, the flow variables, are used to define flows in the network consistently. The second set splits the flows in even more details, so that we can attach more detailed constraints. But it is the last set, the solution variables, that we are really interested in. These solution variables are defined as sums of flow variables.","Definition 4.17 The non-negative variable fdescribes the flow from node i to node j. These variables are called flow variables.\n\n","Definition 4.18 The non-negative variable gdescribes the flow from group a of node i to group b of node j. These variables are called flow group variables.","Lemma 4.5 There are 4n+4on+ovariables g.","Definition 4.19 The non-negative variable sdescribes the flow from PoP p to PoP q. These variables are called solution variables.\n\n","We now list the constraints used in our model. The names of the constraints are taken from the \u201cRiskWise II Constraint Model\u201d document.","Constraint 4.1 (flow_external(2)) The constraint states that the sum of all flows starting in a node is equal to the sum of all external traffic entering the node.",{"@attributes":{"id":"p-0186","num":"0205"},"maths":{"@attributes":{"id":"MATH-US-00015","num":"00015"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mo":"\u2200","mrow":{"mi":"i","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}}},"mo":"=","msubsup":{"mi":["c","i","in"]}}}}},"We have n constraints of this type.","Constraint 4.2 (flow_external(1)) The constraint states that the sum of all flows ending in a node is equal to the sum of all external traffic leaving the node.",{"@attributes":{"id":"p-0189","num":"0208"},"maths":{"@attributes":{"id":"MATH-US-00016","num":"00016"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mo":"\u2200","mrow":{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}}},"mo":"=","msubsup":{"mi":["c","j","out"]}}}}},"We have n constraints of this type.","Constraint 4.3 (traffic_contribution_equal) The constraint states that the sum of all flows through a line is equal to the traffic on the line.",{"@attributes":{"id":"p-0192","num":"0211"},"maths":{"@attributes":{"id":"MATH-US-00017","num":"00017"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mi":"Lines","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}}},"mo":"\u2062","mrow":{"msubsup":{"mi":["T","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}}}}},"mo":"=","msub":{"mi":["t","kl"]}}}}},"We have m constraints of this type.","Constraint 4.4 (solution_term(1)) The constraint states that the flow between two PoPs is equal to the sum of all flows between nodes which belong to the first and second PoP.",{"@attributes":{"id":"p-0195","num":"0214"},"maths":{"@attributes":{"id":"MATH-US-00018","num":"00018"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mi":"p"},{"mrow":[{"mi":"q","mo":"\u2208","mrow":{"mi":"Pops","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msub":{"mi":["s","pq"]}}},{"munder":{"mo":"\u2211","mover":{"mrow":[{"mi":["j","q"],"mo":"\u2208"},{"mi":["i","p"],"mo":"\u2208"}]}},"mo":"\u2062","msub":{"mi":["f","ij"]}}],"mo":"="}],"mo":","}}}},"We have rconstraints of this type.","Constraint 4.5 (flow_f_g_sum) The total flow between two nodes is equal  to the sum of the flows between the interface groups at the nodes.",{"@attributes":{"id":"p-0198","num":"0217"},"maths":{"@attributes":{"id":"MATH-US-00019","num":"00019"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},{"mrow":[{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msub":{"mi":["f","ij"]}}},{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}}},{"mtd":{"mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","msub":{"mi":["h","j"]}}}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}],"mo":"="}],"mo":","}}}},"There are nconstraints of this type.","Constraint 4.6 (flow_g_limit a) The sum of all flows from an interface group at a node is equal to the consistent traffic into this group.",{"@attributes":{"id":"p-0201","num":"0220"},"maths":{"@attributes":{"id":"MATH-US-00020","num":"00020"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},{"mrow":[{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","mrow":{"msub":{"mi":["h","i"]},"mo":[":","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msubsup":{"mi":["c","ia","in"]}}},{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mi":["j","Nodes"],"mo":"\u2208"}}},{"mtd":{"mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","msub":{"mi":["h","j"]}}}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}],"mo":"="}],"mo":","}}}},"There are 2n+o constraints of this type.","Constraint 4.7 (flow_g_limit b) The sum of all flows to some interface group at a node is equal to the consistent traffic out of this group.",{"@attributes":{"id":"p-0204","num":"0223"},"maths":{"@attributes":{"id":"MATH-US-00021","num":"00021"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}},{"mrow":[{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","mrow":{"msub":{"mi":["h","j"]},"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msubsup":{"mi":["c","jb","out"]}}},{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mi":["i","Nodes"],"mo":["\u2208","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}},{"mtd":{"mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}],"mo":"="}],"mo":","}}}},"There are 2n+o constraints of this type.","Constraint 4.8 (empty_flow) There are no flows between interconnection lines.\n\n\u2200 i \u03b5 Nodes, j \u03b5 Nodes,3\u2266a\u2266h,3\u2266b\u2266h: g=0\n","There are oconstraints of this type. These constraints are solved by pre-processing, setting some variable to zero.","Constraint 4.9 (inverse_g_flow) The flow between nodes i and j is limited by the flow in the inverse direction.\n\n\u2200 \u03b5 Nodes,\u03b5 Nodes,1,1\n","There are 2n+o constraints of this form.","Constraint 4.10 (self_flow_net) There is no flow within a network node.\n\n\u2200 i \u03b5 Nets: f=0\n","There are nconstraints of this form. These constraints are solved by pre-processing, setting some variable to zero.","Lemma 4.6 Constraint 4.1 and 4.2 are implied by the constraints 4.5, 4.6 and 4.7 and are therefore redundant.","Proof: We show that constraint 4.1 is implied by adding up all equations 4.6 for a node i:",{"@attributes":{"id":"p-0214","num":"0233"},"maths":{"@attributes":{"id":"MATH-US-00022","num":"00022"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"msubsup":{"mi":["c","i","in"]},"mo":["\u2062","\u2062"],"mover":{"mo":"=","mrow":{"mi":["Lemma4",".3"],"mo":"\u2062"}},"mrow":{"munder":{"mo":"\u2211","mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}},"mo":"\u2062","msubsup":{"mi":["c","ia","in"]}}}},{"mrow":{"mo":["(",")"],"mn":"1"}}]},{"mtd":[{"mrow":{"mover":{"mo":"=","mrow":{"mi":["Constraint4",".6"],"mo":"\u2062"}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mi":["j","Nodes"],"mo":["\u2208","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}}}},{"mtd":{"mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","msub":{"mi":["h","j"]}}}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}}}},{"mrow":{"mo":["(",")"],"mn":"2"}}]},{"mtd":[{"mrow":{"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["j","Nodes"],"mo":["\u2208","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mtable":{"mtr":[{"mtd":{"mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}}},{"mtd":{"mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","msub":{"mi":["h","j"]}}}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}}}},{"mrow":{"mo":["(",")"],"mn":"3"}}]},{"mtd":[{"mrow":{"mover":{"mo":"=","mrow":{"mi":["Constraint4",".5"],"mo":"\u2062"}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}},{"mrow":{"mo":["(",")"],"mn":"4"}}]}]}}},"br":{}},{"@attributes":{"id":"p-0215","num":"0234"},"sup":"2 "},{"@attributes":{"id":"p-0216","num":"0235"},"maths":{"@attributes":{"id":"MATH-US-00023","num":"00023"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"M","mo":["*","\u2062","\u2062"],"mrow":[{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msub":{"mi":"f","mn":"11"}}},{"mtd":{"msub":{"mi":"f","mn":"12"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msub":{"mi":["f","nn"]}}}]},"mo":"}"},"mo":"\u2062","msup":{"mi":"n","mn":"2"}}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msub":{"mi":"s","mn":"11"}}},{"mtd":{"msub":{"mi":"s","mn":"12"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msub":{"mi":["s","rr"]}}}]},"mo":"}"},"mo":"\u2062","msup":{"mi":"r","mn":"2"}}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":"g","mn":["11","11"]}}},{"mtd":{"msubsup":{"mi":"g","mn":["11","12"]}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":"g","mn":"11","mrow":{"msub":[{"mi":"h","mn":"1"},{"mi":"h","mn":"1"}],"mo":"\u2062"}}}},{"mtd":{"msubsup":{"mi":"g","mn":["12","11"]}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["g","nn"],"mrow":{"msub":[{"mi":["h","n"]},{"mi":["h","n"]}],"mo":"\u2062"}}}}]},"mo":"}"},"mo":"\u2062","msup":{"mrow":{"mo":["(",")"],"mrow":{"mrow":{"mn":"2","mo":"\u2062","mi":"n"},"mo":"+","mi":"o"}},"mn":"2"}}}}]}},{"mo":["(",")"],"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["c","in"],"mn":"1"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","n","in"]}}}]},"mo":"}"},"mo":"\u2062","mi":"n"}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["c","out"],"mn":"1"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","n","out"]}}}]},"mo":"}"},"mo":"\u2062","mi":"n"}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msub":{"mi":"t","mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msub":{"mi":"t","mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}}}]},"mo":"}"},"mo":"\u2062","mi":"m"}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"mn":"0"}}]},"mo":"}"},"mo":"\u2062","msup":{"mi":"r","mn":"2"}}}},{"mtd":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"mn":"0"}}]},"mo":"}"},"mo":"\u2062","msup":{"mi":"n","mn":"2"}}}},{"mtd":{"mrow":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["c","in"],"mn":"11"}}},{"mtd":{"msubsup":{"mi":["c","in"],"mn":"12"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","in"],"mrow":{"mn":"1","mo":"\u2062","msub":{"mi":"h","mn":"1"}}}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","in"],"msub":{"mi":["nh","n"]}}}}]},"mo":"}"},"mo":["\u2062","\u2062"],"mn":"2","mi":"n"},"mo":"+","mi":"o"}}},{"mtd":{"mrow":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["c","out"],"mn":"11"}}},{"mtd":{"msubsup":{"mi":["c","out"],"mn":"12"}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","out"],"mrow":{"mn":"1","mo":"\u2062","msub":{"mi":"h","mn":"1"}}}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"msubsup":{"mi":["c","out"],"msub":{"mi":["nh","n"]}}}}]},"mo":"}"},"mo":["\u2062","\u2062"],"mn":"2","mi":"n"},"mo":"+","mi":"o"}}},{"mtd":{"mrow":{"mrow":{"mrow":{"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"mn":"0"}}]},"mo":"}"},"mo":["\u2062","\u2062"],"mn":"2","mi":"n"},"mo":"+","mn":"0"}}}]}}],"mtable":{"mtr":[{"mtd":{"mo":"="}},{"mtd":{"mo":"\u2264"}}]}}}},"br":{},"sup":"2"},"The last 2n+o lines arc inequalities, the rest arc equations. The constraints are arranged in the sequence\n\n","The matrix M is defined as",{"@attributes":{"id":"p-0219","num":"0246"},"maths":{"@attributes":{"id":"MATH-US-00024","num":"00024"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mo":"\u2003","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mtable":{"mtr":[{"mtd":[{"msub":{"mi":"ONE","mn":"1"}},{"msub":{"mi":"ONE","mn":"2"}},{"mi":"\u2026"},{"msub":{"mi":["ONE","n"]}}]},{"mtd":[{"mi":"I"},{"mi":"I"},{"mi":"\u2026"},{"mi":"I"}]},{"mtd":[{"msub":{"mi":"R","mn":"1"}},{"msub":{"mi":"R","mn":"2"}},{"mi":"\u2026"},{"msub":{"mi":["R","n"]}}]},{"mtd":[{"msub":{"mi":"P","mn":"1"}},{"msub":{"mi":"P","mn":"2"}},{"mi":"\u2026"},{"msub":{"mi":["P","n"]}}]}]}},{"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"mrow":{"mo":"-","mi":"I"}}}]}},{"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}}]}}]},{"mtd":[{"mrow":{"mo":"-","mi":"I"}},{"mn":"0"},{"mi":"H"}]},{"mtd":[{"mtable":{"mtr":[{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}},{"mtd":{"mn":"0"}}]}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mtable":{"mtr":[{"mtd":{"mover":{"mi":"G","mo":"^"}}},{"mtd":{"mover":{"mi":"G","mo":"\u22d3"}}},{"mtd":{"mi":"V"}}]}}]}]}}}}}},"The matrix has 2n+m+r+n+3(2n+o) lines and n+r+(2n+o)columns. We now describe the different sub parts of the matrix.",{"@attributes":{"id":"p-0221","num":"0248"},"maths":{"@attributes":{"id":"MATH-US-00025","num":"00025"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["ONE","x"]},"mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u2026"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"1"},{"mn":"1"},{"mi":"\u2026"},{"mn":"1"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u2026"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]}]}}}}},"br":{}},{"@attributes":{"id":"p-0222","num":"0249"},"maths":[{"@attributes":{"id":"MATH-US-00026","num":"00026"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"I","mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"0"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"1"},{"mi":"\u2026"},{"mn":"0"}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f0"},{"mi":"\u22ee"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mi":"\u2026"},{"mn":"1"}]}]}}}}},{"@attributes":{"id":"MATH-US-00026-2","num":"00026.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["R","x"]},"mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["r","x1"],"mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}},{"msubsup":{"mi":["r","x2"],"mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}},{"mi":"\u2026"},{"msubsup":{"mi":["r","xn"],"mrow":{"msub":[{"mi":"k","mn":"1"},{"mi":"l","mn":"1"}],"mo":"\u2062"}}}]},{"mtd":[{"msubsup":{"mi":["r","x1"],"mrow":{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}}},{"msubsup":{"mi":["r","x2"],"mrow":{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}}},{"mi":"\u2026"},{"msubsup":{"mi":["r","xn"],"mrow":{"msub":[{"mi":"k","mn":"2"},{"mi":"l","mn":"2"}],"mo":"\u2062"}}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f0"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":["r","x1"],"mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}},{"msubsup":{"mi":["r","x2"],"mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}},{"mi":"\u2026"},{"msubsup":{"mi":["r","xn"],"mrow":{"msub":[{"mi":["k","m"]},{"mi":["l","m"]}],"mo":"\u2062"}}}]}]}}}}}]},"The size of this matrix is m\u00d7n.",{"@attributes":{"id":"p-0224","num":"0251"},"maths":{"@attributes":{"id":"MATH-US-00027","num":"00027"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["P","x"]},"mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["p","x1"],"mn":"11"}},{"msubsup":{"mi":["p","x2"],"mn":"11"}},{"mi":"\u2026"},{"msubsup":{"mi":["p","xn"],"mn":"11"}}]},{"mtd":[{"msubsup":{"mi":["p","x1"],"mn":"12"}},{"msubsup":{"mi":["p","x2"],"mn":"12"}},{"mi":"\u2026"},{"msubsup":{"mi":["p","xn"],"mn":"12"}}]},{"mtd":[{"mi":"\u22ee"},{"mi":"\u22ee"},{"mi":"\u22f0"},{"mi":"\u22ee"}]},{"mtd":[{"msubsup":{"mi":["p","x1","rr"]}},{"msubsup":{"mi":["p","x2","rr"]}},{"mi":"\u2026"},{"msubsup":{"mi":["p","xn","rr"]}}]}]}}}}}},"The size of this matrix is r\u00d7n.","Lemma 4.7 We find that P=Pif pop(x)=pop(y).\n\n",{"@attributes":{"id":"p-0227","num":"0255"},"maths":{"@attributes":{"id":"MATH-US-00028","num":"00028"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"H","mo":"=","mrow":{"mo":["(",")"],"mtable":{"mtr":[{"mtd":[{"mover":{"mn":"111","mover":{"mi":"\ufe37","mrow":{"msub":[{"mi":"h","mn":"1"},{"mi":"h","mn":"1"}],"mo":"*"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mn":"0"}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mover":{"mn":"11","mover":{"mi":"\ufe37","mrow":{"msub":[{"mi":"h","mn":"1"},{"mi":"h","mn":"2"}],"mo":"*"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mi":"\u22f0"},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mn":"0"},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mover":{"mn":"111","mover":{"mi":"\ufe37","mrow":{"msub":[{"mi":["h","n"]},{"mi":["h","n"]}],"mo":"*"}}}}]}]}}}}},"br":{},"sup":["2 ","2 "]},"Definition 4.20 Let g: i\u00d7a  x be the bijection which maps tuples i\u00d7a to an index x.\n\n","The matrix \u011c consists of elements \u011dwhich are defined by the formula",{"@attributes":{"id":"p-0230","num":"0260"},"maths":{"@attributes":{"id":"MATH-US-00029","num":"00029"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mover":{"mi":"g","mo":"^"},"mi":"xy"},"mo":"=","mrow":{"mo":"{","mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mrow":{"mrow":[{"mi":"if","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"msubsup":{"mi":["g","x"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}}},{"mrow":[{"mi":["i","a","and"],"mo":["\u00d7","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"msubsup":{"mi":["g","y"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"y"}}},{"mi":["i","j","a","b"],"mo":["\u00d7","\u00d7","\u00d7"]}],"mo":"="}],"mo":"="}}]},{"mtd":[{"mn":"0"},{"mi":"otherwise"}]}]}}}}}},"The matrix {hacek over (G)} consists of elements {hacek over (g)}which are defined by the formula",{"@attributes":{"id":"p-0232","num":"0262"},"maths":{"@attributes":{"id":"MATH-US-00030","num":"00030"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mover":{"mi":"g","mo":"\u22d3"},"mi":"xy"},"mo":"=","mrow":{"mo":"{","mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mrow":{"mrow":[{"mi":"if","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"msubsup":{"mi":["g","x"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}}},{"mrow":[{"mi":["j","b","and"],"mo":["\u00d7","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"msubsup":{"mi":["g","y"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"y"}}},{"mi":["i","x","j","a","b"],"mo":["\u00d7","\u00d7","\u00d7","\u00d7"]}],"mo":"="}],"mo":"="}}]},{"mtd":[{"mn":"0"},{"mi":"otherwise"}]}]}}}}}},"Finally, the matrix V consists of values 0, 1 and \u2212L. Each line and column contains one entry with value 1 and one entry with value \u2212L. The values  are on the main diagonal. Formally, the matrix entries vare defined as",{"@attributes":{"id":"p-0234","num":"0264"},"maths":{"@attributes":{"id":"MATH-US-00031","num":"00031"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":["v","xy"]},"mo":"=","mrow":{"mo":"{","mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mrow":{"mrow":[{"mi":["if","x"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mrow":[{"mi":["y","and"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"msubsup":{"mi":["g","y"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}}},{"mi":["i","i","a","a"],"mo":["\u00d7","\u00d7","\u00d7"]}],"mo":"\u2260"}],"mo":"="}}]},{"mtd":[{"mrow":{"mo":"-","mi":"L"}},{"mrow":{"mrow":[{"mi":["if","x"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mi":["y","and"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}],"mo":"\u2260"}}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"1.7em","height":"1.7ex"}}},"mo":"\u2062","mrow":{"mrow":[{"msubsup":{"mi":["g","y"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}},{"mi":["i","j","a","b","and"],"mo":["\u00d7","\u00d7","\u00d7","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}],"mo":"="}}}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"1.7em","height":"1.7ex"}}},"mo":"\u2062","mrow":{"mrow":[{"msubsup":{"mi":["g","y"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"y"}},{"mi":["j","i","b","a"],"mo":["\u00d7","\u00d7","\u00d7"]}],"mo":"="}}}]},{"mtd":[{"mn":"0"},{"mi":"otherwise"}]}]}}}}},"br":{}},"As result of the flow analysis we want to have lower and upper bounds for all solution variables. This implies the objective functions\n\nmin s\n\nand\n\nmax s\n\nwhich are run independently for all pairs of PoPs p and q. This means that we have to run 2*roptimization queries. We can reduce this value by checking if a particular solution variable shas a value 0 in one of the other optimization runs. If that happens, we do not have to check it for minimum value.\n\nFull Constraint Model Including Error Correction\n","We now present the fill constraint model including error correction.","5.1 Constants","We start by defining the constants that we use to describe the network, its routing and the traffic loads in the network.","Definition 5.1 Nodes is the set of all nodes in the network. The number of nodes is denoted by n. Indices i, j, k, k, l and lrefer to nodes.","Definition 5.2 Routers is the set of all routers in the network. The number of nodes is denoted by n.","Definition 5.3 Nets is the set of all network nodes in the network. The number of nodes is denoted by n.","Lemma 5.1 We have\n\nNodes=Routers \u222a Nets\n\nand\n\nRouters \u2229 Nets=\u2205\n","Definition 5.4 Pops is the set of all PoPs in the network. The number of PoPs is denoted by r. Indices p and q refer to PoPs. Each PoP is a set of nodes, and each node belongs to exactly on PoP.","Definition 5.5 The function pop: i  p maps the node index i to a PoP index p.","Definition 5.6 Lines is the set of all node pairs kl so that a directed line exists between nodes k and l in the network. The number of lines in the network is denoted by m.","Definition 5.7 The value o denotes the number of interconnection lines in the network.","Definition 5.8 The constant hdenotes the number of interface groups found at node i. The value his equal to the number of interconnection lines attached to node i plus 2.","Lemma 5.2 The total number of groups in the network is",{"@attributes":{"id":"p-0248","num":"0278"},"maths":{"@attributes":{"id":"MATH-US-00032","num":"00032"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["h","i"]}},{"mrow":{"mn":"2","mo":"\u2062","mi":"n"},"mo":"+","mi":"o"}],"mo":"="}}}},"Definition 5.9 The constant uis the observed traffic volume entering the directed line from node k to node l.","Definition 5.10 The constant uis the observed traffic volume leaving the directed line from node k to node l.","Definition 5.11 The constant ais the sum of all observed traffic volumes for external traffic which belongs to group a into node i.","Definition 5.12 The constant ais the sum of all observed traffic volumes for external traffic which belongs to group a out of node i.","Definition 5.13 The constant Ris the set of all node pairs ii so that the flow from node i to node j is (partially) routed through line kl.","Definition 5.14 The constant ris a number between 0 and 1 which describes which fraction of the flow between nodes i and j is routed through line kl. A value  indicates that the flow is not routed through line kl.","Definition 5.15 The constant pis either 0 or 1 and indicates whether the flow between nodes i and j is a flow between PoPs p and q, i.e. i \u03b5 p and j \u03b5 q.","Lemma 5.3 We have that",{"@attributes":{"id":"p-0257","num":"0287"},"maths":{"@attributes":{"id":"MATH-US-00033","num":"00033"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":"\u2200","mi":"i"},{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":"\u2062","mstyle":{"mtext":":"}}}],"mo":","}},{"mrow":{"mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":["p","Pops"],"mo":"\u2208"},{"mi":["q","Pops"],"mo":"\u2208"}]}},"mo":"\u2062","msubsup":{"mi":["p","ij","pq"]}},"mo":"=","mn":"1"}}]}}}},"br":[{},{}]},"We now describe the variables of our model. The first set, the flow variables, are used to define flows in the network consistently. The second set splits the flows in even more details, so that we can attach more detailed constraints. But it is the last set, the solution variables, that we are really interested in. These solution variables are simply defined as sums of flow variables.","Definition 5.16 The variable vis the error correction applied to the observed traffic volume entering the directed line from node k to node l. This variable may be negative.\n\n","Definition 5.17 The variable vis the error correction applied to the observed traffic volume leaving the directed line between nodes i and j. This variable may be negative.\n\n","Definition 5.18 The non-negative variable is the consistent traffic volume on the directed line between nodes i and j.\n\n","Definition 5.19 The non-negative variable is the sum of all consistent traffic volumes for external traffic which belongs to group a into node i.\n\n","Definition 5.20 The non-negative variable is the sum of all consistent traffic volumes for external traffic which belongs to group a out of node i.\n\n","Definition 5.21 The variable eis the error correction applied to the sum of all consistent traffic volumes for external traffic which belongs to group a into node i. This variable may be negative.\n\n","Definition 5.22 The variable eis the error correction applied to the sum of all consistent traffic volumes for external traffic which belongs to group a out of node i. This variable may be negative.","There are 2n+o variables of this type.","Definition 5.23 The non-negative variable fdescribes the flow from node i to node j. These variables are called flow variables.\n\n","Definition 5.24 The non-negative variable gdescribes the flow from group a of node i to group b of node j. These variables are called flow group variables.","Lemma 5.4 There are 4n+4on+ovariables g.","Definition 5.25 The non-negative variable sdescribes the flow from PoP p to PoP q. These variables are called solution variables.\n\n","We now list the constraints used in our model. The names of the constraints are taken from the \u201cRiskWise II Constraint Model\u201d document.","Constraint 5.1 (interface_error_correction a) The corrected traffic volume value is equal to the observed value plus the error correction applied.\n\n\u2200 \u03b5 Nodes,1\n","There are 2n+o constraints of this type.","Constraint 5.2 (interface_error_correction b) The corrected traffic volume value is equal to the observed value plus the error correction applied.\n\n\u2200 \u03b5 Nodes,1\n","There are 2n+o constraints of this type.","Constraint 5.3 (interface_error_correction c) The corrected traffic volume value on a line is equal to the observed value plus the error correction applied.\n\n\u2200 \u03b5 Lines: \n","There are m constraints of this type.","Constraint 5.4 (interface_error_correction d) The corrected traffic volume value on a line is equal to the observed value plus the error correction applied.\n\n\u2200 \u03b5 Lines: \n","There are m constraints of this type.","Constraint 5.5 (node_octet_sum) The sum of all corrected traffic in to a node is equal to the sum of all corrected traffic out of the node.",{"@attributes":{"id":"p-0281","num":"0319"},"maths":{"@attributes":{"id":"MATH-US-00034","num":"00034"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"i","mo":"\u2208","mrow":{"mi":"Nodes","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":[{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}},"mo":"\u2062","msubsup":{"mover":{"mi":"c","mo":"~"},"mi":["ia","in"]}},{"munder":{"mo":"\u2211","mrow":{"mi":["ki","Lines"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mover":{"mi":"t","mo":"~"},"mi":"ki"}}],"mo":"+"},{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}},"mo":"\u2062","msubsup":{"mover":{"mi":"c","mo":"~"},"mi":["ia","out"]}},{"munder":{"mo":"\u2211","mrow":{"mi":["il","Lines"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mover":{"mi":"t","mo":"~"},"mi":"il"}}],"mo":"+"}],"mo":"="}}]}}}}},"There are n constraints of this type.","Constraint 5.6 (traffic_contribution_equal) The constraint states that the sum of all flows through a line is equal to the traffic on the line.",{"@attributes":{"id":"p-0284","num":"0322"},"maths":{"@attributes":{"id":"MATH-US-00035","num":"00035"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mi":"Lines","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}},"mo":"=","msub":{"mover":{"mi":"t","mo":"~"},"mi":"kl"}}}]}}}}},"We have m constraints of this type.","Constraint 5.7 (solution_term(1)) The constraint states that the flow between two PoPs is equal to the sum of all flows between nodes which belong to the first and second PoP.",{"@attributes":{"id":"p-0287","num":"0325"},"maths":{"@attributes":{"id":"MATH-US-00036","num":"00036"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":"\u2200","mi":"p"},{"mi":"q","mo":"\u2208","mrow":{"mi":"Pops","mo":"\u2062","mstyle":{"mtext":":"}}}],"mo":","}},{"mrow":{"msub":{"mi":["s","pq"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":["i","p"],"mo":"\u2208"},{"mi":["j","q"],"mo":"\u2208"}]}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}}]}}}}},"We have rconstraints of this type.","Constraint 5.8 (flow_f_g_sum) The total flow between two nodes is equal to the sum of the flows between the interface groups at the nodes.",{"@attributes":{"id":"p-0290","num":"0328"},"maths":{"@attributes":{"id":"MATH-US-00037","num":"00037"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":"\u2062","mstyle":{"mtext":":"}}}],"mo":","}},{"mrow":{"msub":{"mi":["f","ij"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}},{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","msub":{"mi":["h","j"]}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}}}]}}}}},"There are nconstraints of this type.","Constraint 5.9 (flow_g_limit a) The sum of all flows from an interface group at a node is equal to the consistent traffic into this group.",{"@attributes":{"id":"p-0293","num":"0331"},"maths":{"@attributes":{"id":"MATH-US-00038","num":"00038"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","mrow":{"msub":{"mi":["h","i"]},"mo":"\u2062","mstyle":{"mtext":":"}}}],"mo":","}},{"mrow":{"msubsup":{"mover":{"mi":"c","mo":"~"},"mi":["ia","in"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":["j","Nodes"],"mo":"\u2208"},{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","msub":{"mi":["h","j"]}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}}}]}}}}},"There are 2n+o constraints of this type.","Constraint 5.10 (flow_g_limit b) The sum of all flows to some interface group at a node is equal to the consistent traffic out of this group.",{"@attributes":{"id":"p-0296","num":"0334"},"maths":{"@attributes":{"id":"MATH-US-00039","num":"00039"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}},{"mn":"1","mo":["\u2264","\u2264"],"mi":"b","mrow":{"msub":{"mi":["h","j"]},"mo":"\u2062","mstyle":{"mtext":":"}}}],"mo":","}},{"mrow":{"msubsup":{"mover":{"mi":"c","mo":"~"},"mi":["jb","out"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":["i","Nodes"],"mo":"\u2208"},{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}}]}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}}}]}}}}},"There are 2n+o constraints of this type.","Constraint 5.11 (empty_flow) There are no flows between interconnection lines.\n\n\u2200 i \u03b5 Nodes,j \u03b5 Nodes,3\u2266a\u2266h,3\u2266b\u2266h: g=0\n","There are oconstraints of this type. These constraints are solved by preprocessing, setting some variable to zero.","Constraint 5.12 (inverse_g_flow) The flow between nodes i and j is limited by the flow in the inverse direction.\n\n\u2200 \u03b5 Nodes,\u03b5 Nodes,1,1\n","There are 2n+o constraints of this form.","Constraint 5.13 (self_flow_net) There is no flow within a network node.\n\n\u2200 i \u03b5 Nets: f=0\n","There are nconstraints of this form. These constraints are solved by preprocessing, setting some variable to zero.","5.4 Objective Functions","The error correction model first performs an optimization to find a minimal error correction which provides us with a consistent data set to perform the flow analysis. The objective function for the error correction is",{"@attributes":{"id":"p-0305","num":"0343"},"maths":{"@attributes":{"id":"MATH-US-00040","num":"00040"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"min","mo":["\u2062","\u2062","*"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"msub":{"mi":"b","mn":"1"},"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},"mo":"\u2062","mrow":{"mo":["\uf603","\uf604"],"msubsup":{"mi":["e","ia","in"]}}}},{"msub":{"mi":"b","mn":"1"},"mo":"*","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nodes"],"mo":"\u2208"}},"mo":"\u2062","mrow":{"mo":["\uf603","\uf604"],"msubsup":{"mi":["e","ia","out"]}}}}],"mo":["+","+"]}},{"mrow":{"mo":["(",")"],"mn":"5"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.2em","height":"2.2ex"}}},"mo":"\u2062","mrow":{"mrow":[{"msub":{"mi":"b","mn":"2"},"mo":"*","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["kl","Lines"],"mo":"\u2208"}},"mo":"\u2062","mrow":{"mo":["\uf603","\uf604"],"msubsup":{"mi":["v","kl","source"]}}}},{"msub":{"mi":"b","mn":"2"},"mo":"*","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["kl","Lines"],"mo":"\u2208"}},"mo":"\u2062","mrow":{"mo":["\uf603","\uf604"],"msubsup":{"mi":["v","kl","dest"]}}}}],"mo":["+","+"]}}},{"mrow":{"mo":["(",")"],"mn":"6"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.2em","height":"2.2ex"}}},"mo":"\u2062","mrow":{"mrow":[{"msub":{"mi":"b","mn":"3"},"mo":"*","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nets"],"mo":"\u2208"}},"mo":"\u2062","msubsup":{"mover":{"mi":"c","mo":"~"},"mrow":{"mi":"i","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},"mi":"in"}}},{"msub":{"mi":"b","mn":"3"},"mo":"*","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":["i","Nets"],"mo":"\u2208"}},"mo":"\u2062","msubsup":{"mover":{"mi":"c","mo":"~"},"mrow":{"mi":"i","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"},"mi":"out"}}}],"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"7"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.2em","height":"2.2ex"}}},"mo":"\u2062","mrow":{"mrow":{"msub":{"mi":"b","mn":"4"},"mo":"*","mrow":{"munder":{"mo":"\u2211","munder":{"mrow":{"mi":["i","Nodes"],"mo":"\u2208"},"munder":{"mrow":{"mi":["j","Nodes"],"mo":"\u2208"},"munder":{"mrow":[{"mn":["1","2"],"mo":["\u2264","\u2264"],"mi":"a"},{"mn":["1","2"],"mo":["\u2264","\u2264"],"mi":"b"}]}}}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}},"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"8"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.2em","height":"2.2ex"}}},"mo":"\u2062","mrow":{"mrow":{"msub":{"mi":"b","mn":"5"},"mo":"*","mrow":{"munder":{"mo":"\u2211","munder":{"mrow":{"mi":["i","Nodes"],"mo":"\u2208"},"munder":{"mrow":{"mi":["j","Nodes"],"mo":"\u2208"},"munder":{"mrow":[{"mn":"1","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}},{"mn":"3","mo":["\u2264","\u2264"],"mi":"b","msub":{"mi":["h","j"]}}]}}}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}},"mo":"+"}}},{"mrow":{"mo":["(",")"],"mn":"9"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.2em","height":"2.2ex"}}},"mo":"\u2062","mrow":{"msub":{"mi":"b","mn":"5"},"mo":"*","mrow":{"munder":{"mo":"\u2211","munder":{"mrow":{"mi":["i","Nodes"],"mo":"\u2208"},"munder":{"mrow":{"mi":["j","Nodes"],"mo":"\u2208"},"munder":{"mrow":[{"mn":"3","mo":["\u2264","\u2264"],"mi":"a","msub":{"mi":["h","i"]}},{"mn":["1","2"],"mo":["\u2264","\u2264"],"mi":"b"}]}}}},"mo":"\u2062","msubsup":{"mi":["g","ij","ab"]}}}}},{"mrow":{"mo":["(",")"],"mn":"10"}}]}]}}}},"As result of the flow analysis we want to have lower and upper bounds for all solution variables. This implies the objective functions\n\nmin s\n\nand\n\nmax s\n\nwhich are run independently for all pairs of PoPs p and q. This means that we have to run 2*roptimization queries. We can reduce this value by checking if a particular solution variable shas a value 0 in one of the other optimization runs. If that happens, we do not have to check it for minimum value.\n\n5.5 Use of Variables\/Constants\n","The following table shows the use of the different variable and constant types in the constraints and the objective functions.",{"@attributes":{"id":"p-0308","num":"0346"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"154pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variables","Constants"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"13"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"11","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"12","colwidth":"21pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"maths":{"@attributes":{"id":"MATH-US-00041","num":"00041"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mi":["v","kl"],"mtable":{"mtr":[{"mtd":{"mi":"source"}},{"mtd":{"mi":"dest"}}]}},"mo":"\u2003"}}}},{"maths":{"@attributes":{"id":"MATH-US-00042","num":"00042"},"math":{"@attributes":{"overflow":"scroll"},"msub":{"mover":{"mi":"t","mo":"~"},"mi":"kl"}}}},{"maths":{"@attributes":{"id":"MATH-US-00043","num":"00043"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mover":{"mi":"c","mo":"~"},"mi":"ia","munder":{"mi":["in","out"]}},"mo":"\u2003"}}}},{"maths":{"@attributes":{"id":"MATH-US-00044","num":"00044"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mi":["e","ia"],"munder":{"mi":["in","out"]}},"mo":"\u2003"}}}},"f",{"maths":{"@attributes":{"id":"MATH-US-00045","num":"00045"},"math":{"@attributes":{"overflow":"scroll"},"msubsup":{"mi":["g","ij","ab"]}}}},"s",{"maths":{"@attributes":{"id":"MATH-US-00046","num":"00046"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mi":["u","kl"],"mtable":{"mtr":[{"mtd":{"mi":"source"}},{"mtd":{"mi":"dest"}}]}},"mo":"\u2003"}}}},{"maths":{"@attributes":{"id":"MATH-US-00047","num":"00047"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mi":["a","ia"],"munder":{"mi":["in","out"]}},"mo":"\u2003"}}}},"R",{"maths":{"@attributes":{"id":"MATH-US-00048","num":"00048"},"math":{"@attributes":{"overflow":"scroll"},"msubsup":{"mi":["r","ij","kl"]}}}},{"maths":{"@attributes":{"id":"MATH-US-00049","num":"00049"},"math":{"@attributes":{"overflow":"scroll"},"msubsup":{"mi":["p","ij","pq"]}}}}]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"12","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"13"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"11","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"12","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"13","colwidth":"21pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["5.1",{},{},"x","x",{},{},{},{},"x"]},{"entry":["5.2",{},{},"x","x",{},{},{},{},"x"]},{"entry":["5.3","x","x",{},{},{},{},{},"x"]},{"entry":["5.4","x","x",{},{},{},{},{},"x"]},{"entry":["5.5",{},"x","x"]},{"entry":["5.6",{},"x ",{},{},"x",{},{},{},{},"(x)","x"]},{"entry":["5.7",{},{},{},{},"x",{},"x",{},{},{},{},"(x)"]},{"entry":["5.8",{},{},{},{},"x","x"]},{"entry":["5.9",{},{},"x",{},{},"x"]},{"entry":["5.10",{},{},"x",{},{},"x"]},{"entry":["5.11",{},{},{},{},{},"x"]},{"entry":["5.12",{},{},{},{},{},"x"]},{"entry":["5.13",{},{},{},{},"x"]},{"entry":["Obj1","x",{},"x","x",{},"x"]},{"entry":["Obj2",{},{},{},{},{},{},"x"]},{"entry":{"@attributes":{"namest":"1","nameend":"13","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"In the following we describe the constraint model for the traffic flow optimizer according to one embodiment of the present invention. The model is based on the full constraint model including error correction.","For the optimizer model we always study two networks scenarios. One is the original scenario, in which we have made traffic measurements, the other is a modified one. The modifications can be an arbitrary number of additions, changes or deletions from the original network topology or the network topology. For the modified scenario we want to calculate certain indicator values, which tell us about the impact of the modification. In the following formalism, all symbols related to the modified scenario are marked with a bar, like so: .","6.1 Constants","We start by defining the constants that we use to describe the modified network, its routing and the traffic loads in the network. We only define those items that we will need in the model.","Definition 6.1  is the set of all nodes in the network. The number of nodes is denoted by . Indices i, j, k, k, l and lrefer to nodes.","Definition 6.2  is the set of all routers in the network. The number of nodes is denoted by .","Definition 6.3  is the set of all network nodes in the network. The number of nodes is denoted by .","Lemma 6.1 We have\n\n = \u222a \n\nand\n\n \u2229 =\u2205\n","Definition 6.4  is the set of all node pairs kl so that a directed line exists between nodes k and l in the network. The number of lines in the network is denoted by .","Definition 6.5 The constant is the set of all node pairs ij so that the flow from node i to node j is (partially) routed through line kl.","Definition 6.6 The constant is a number between 0 and 1 which describes which fraction of the flow between nodes i and j is routed through line kl. A value 0 indicates that the flow is not routed through line kl.","Definition 6.7 The constant describes the bandwidth of the line kl.","Definition 6.8 The constant is the routing cost of a flow from node i to node j. The value indicates how much network resources are used to transport the flow from node i to node j.","Lemma 6.2",{"@attributes":{"id":"p-0322","num":"0360"},"maths":{"@attributes":{"id":"MATH-US-00050","num":"00050"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mi":"i"},{"mrow":[{"mi":"j","mo":"\u2208","mrow":{"mover":{"mi":["Nodes","_"]},"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msub":{"mover":{"mi":["nc","_"]},"mi":"ij"}}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]}}],"mo":"="}],"mo":","}}}},"Lemma 6.3\n\n\u2200 i \u03b5 : =0\n\n\u2200 i,j \u03b5 ,i\u2260j: \u22671\n","Observation: Normally, the value is an integer, but this is not always the case.","Definition 6.9 The constant is the factor of increase of the flow from node i to node j from the original network to the modified network.","Definition 6.10 The constant is an additional flow from node i to node j in the modified network.","Definition 6.11 The constant \u016a describes the utilization limit for all lines in the network.","Definition 6.12 The constant  is the set of all node pairs ii so that the flow from i to j can not be routed in the modified network.","6.2 Variables","Definition 6.13 The non-negative variable is the consistent traffic volume on the directed line between nodes k and l.\n\n","Definition 6.14 The non-negative variable describes the flow from node i to node j. These variables are called flow variables.\n\n","Definition 6.15 The non-negative variable is the utilization (in percent) of the directed line between nodes k and l.\n\n","Definition 6.16 The non-negative variable  is the overall utilization (in percent) of the modified network.\n\n","Definition 6.17 The non-negative variable is the minimal utilization of any line in the network.\n\n","Definition 6.18 The non-negative variable is the maximal utilization of any line in the network.\n\n","Definition 6.19 The non-negative variable \u014ddescribes the percentage of overloading of line kl. If the line is not overloaded, the value is 0.","There are  variables of this type.","Definition 6.20 The non-negative variable describes the volume of overloaded traffic on line kl. If the line is not overloaded, the value is 0.\n\n","Definition 6.21 The non-negative variable \u014c describes the total amount of overloading in the network.","There is only one variable of this type.","Definition 6.22 The non-negative variable  describes the total volume of overloaded traffic in the network.\n\n","Definition 6.23 The non-negative variable  describes the volume of traffic in the original network that can not be routed in the modified network. If all traffic can be routed, the value is 0.\n\n","Constraint 6.1 (traffic_contribution_equal) The constraint states that the sum of all flows through a line is equal to the traffic on the line.",{"@attributes":{"id":"p-0343","num":"0390"},"maths":{"@attributes":{"id":"MATH-US-00051","num":"00051"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":"*","msub":{"mover":{"mi":["f","_"]},"mi":"ij"}}}}}},"mo":"=","msub":{"mover":{"mi":["t","_"]},"mi":"kl"}}}}},"We have m constraints of this type. They are not explicitly represented in the model.","Constraint 6.2 The constraint states that the utilization is the traffic divided by the bandwidth.",{"@attributes":{"id":"p-0346","num":"0393"},"maths":{"@attributes":{"id":"MATH-US-00052","num":"00052"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msub":{"mover":{"mi":["d","_"]},"mi":"kl"}}}},{"mn":"100","mo":"*","mfrac":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mrow":{"mi":"b","mo":"\u2062","msub":{"mover":{"mi":["w","_"]},"mi":"kl"}}}}],"mo":"="}}}},"The constraints are not explicitly represented in the model.","Constraint 6.3 The overall utilization is calculated by the total traffic divided by the sum of all bandwidth in the network.",{"@attributes":{"id":"p-0349","num":"0396"},"maths":{"@attributes":{"id":"MATH-US-00053","num":"00053"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mover":{"mi":["D","_"]},"mo":"=","mrow":{"mn":"100","mo":"*","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["t","_"]},"mi":"kl"}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"mi":"b","mo":"\u2062","msub":{"mover":{"mi":["w","_"]},"mi":"kl"}}}]}}}}}},"The constraint is not explicitly represented in the model.","Constraint 6.4 (flow_assumption) The constraint states how flows in the original and in the modified network are related.\n\n\u2200 \u03b5 : \n","The constraints are not explicitly represented in the model.","Constraint 6.5 The lost traffic is the sum of all flows of the original network that can not be routed in the modified network.",{"@attributes":{"id":"p-0354","num":"0401"},"maths":{"@attributes":{"id":"MATH-US-00054","num":"00054"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mover":{"mi":["Lost","_"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","mover":{"mi":["L","_"]}}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}}}},"Constraint 6.6 The amount of overload for a line is the percentage of utilization exceeding the utilization limit.\n\n\u2200 \u03b5 : =max(0)\n","The constraints are not explicitly represented in the model.","Constraint 6.7 The total amount of overload is the sum of the overload on each line.",{"@attributes":{"id":"p-0358","num":"0405"},"maths":{"@attributes":{"id":"MATH-US-00055","num":"00055"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mover":{"mi":["O","_"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["o","_"]},"mi":"kl"}}}}}},"The constraint not explicitly represented in the model.","Constraint 6.8 The volume of overloading of a line is the volume of the traffic exceeding the utilization limit.",{"@attributes":{"id":"p-0361","num":"0408"},"maths":{"@attributes":{"id":"MATH-US-00056","num":"00056"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msub":{"mover":{"mi":["h","_"]},"mi":"kl"}}}},{"mi":"max","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"0","mo":",","mrow":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mo":"-","mfrac":{"mrow":{"mover":{"mi":["U","_"]},"mo":["*","\u2062"],"mi":"b","msub":{"mover":{"mi":["w","_"]},"mi":"kl"}},"mn":"100"}}}}}],"mo":"="}}}},"The constraints are not explicitly represented in the model.","Constraint 6.9 The total volume of overloading is equal to the sum of the overloaded volumes on each line.",{"@attributes":{"id":"p-0364","num":"0411"},"maths":{"@attributes":{"id":"MATH-US-00057","num":"00057"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mover":{"mi":["H","_"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["h","_"]},"mi":"kl"}}}}}},"The constraint is not explicitly represented in the model.","Constraint 6.10 The minimal utilization is the minimum of all line utilizations in the network.",{"@attributes":{"id":"p-0367","num":"0414"},"maths":{"@attributes":{"id":"MATH-US-00058","num":"00058"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mover":{"mi":["d","_"]},"mi":"min"},"mo":"=","mrow":{"munder":{"mi":"min","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"mo":["{","}"],"msub":{"mi":["d","kl"]}}}}}}},"The constraint is not explicitly represented in the model.","Constraint 6.11 The maximal utilization is the maximum of all line utilizations in the network.",{"@attributes":{"id":"p-0370","num":"0417"},"maths":{"@attributes":{"id":"MATH-US-00059","num":"00059"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mover":{"mi":["d","_"]},"mi":"max"},"mo":"=","mrow":{"munder":{"mi":"max","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"mo":["{","}"],"msub":{"mi":["d","kl"]}}}}}}},"The constraint is not explicitly represented in the model.","6.4 Approximations","Constraints 6.6 to 6.11 are non-linear. Linear approximations can be defined as follows. Variables defined through the linear approximation are marked with \u2032. We typically will be able to calculate such approximations more easily in our program.","Constraint 6.12 replaces constraint 6.6\n\n\u2200 \u03b5 : \u2003\u2003(11)\n\n\u014d\u2032\u22670\u2003\u2003(12)\n","Constraint 6.13 replaces constraint 6.7",{"@attributes":{"id":"p-0375","num":"0422"},"maths":{"@attributes":{"id":"MATH-US-00060","num":"00060"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msup":{"mover":{"mi":["O","_"]},"mi":"\u2032"},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msubsup":{"mover":{"mi":["o","_"]},"mi":["kl","\u2032"]}}}}}},"Constraint 6.14 replaces constraint 6.8",{"@attributes":{"id":"p-0377","num":"0424"},"maths":{"@attributes":{"id":"MATH-US-00061","num":"00061"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"msubsup":{"mover":{"mi":["h","_"]},"mi":["kl","\u2032"]},"mo":"\u2265","mrow":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mo":"-","mfrac":{"mrow":{"mover":{"mi":["U","_"]},"mo":"*","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}},"mn":"100"}}}}]}}},{"mrow":{"mo":["(",")"],"mn":"13"}}]},{"mtd":[{"mtable":{"mtr":{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"5.8em","height":"5.8ex"}}}},{"mrow":{"msubsup":{"mover":{"mi":["h","_"]},"mi":["kl","\u2032"]},"mo":"\u2265","mn":"0"}}]}}},{"mrow":{"mo":["(",")"],"mn":"14"}}]}]}}}},"Constraint 6.15 replaces constraint 6.9",{"@attributes":{"id":"p-0379","num":"0426"},"maths":{"@attributes":{"id":"MATH-US-00062","num":"00062"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msup":{"mover":{"mi":["H","_"]},"mi":"\u2032"},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msubsup":{"mover":{"mi":["h","_"]},"mi":["kl","\u2032"]}}}}}},"Constraint 6.16 replaces constraint 6.10\n\n\u2200 kl \u03b5 : \u2032\u2266 \n","Constraint 6.17 replaces constraint 6.11\n\n\u2200 kl \u03b5 : \u2032\u2267 \n\n6.5 General Results\n","Theorem 6.1 The utilization of a line in the modified network can be expressed as a linear function of node to node flows in the original network.","Proof:",{"@attributes":{"id":"p-0384","num":"0431"},"maths":{"@attributes":{"id":"MATH-US-00063","num":"00063"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"msub":{"mover":{"mi":["d","_"]},"mi":"kl"},"mo":"=","mrow":{"mn":"100","mo":"*","mfrac":{"msub":[{"mover":{"mi":["t","_"]},"mi":"kl"},{"mover":{"mi":["bw","_"]},"mi":"kl"}]}}}}]}}},{"mrow":{"mo":["(",")"],"mn":"15"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mfrac":{"mn":"100","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":"\u2062","msub":{"mover":{"mi":["f","_"]},"mi":"ij"}}}}}}},{"mrow":{"mo":["(",")"],"mn":"16"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mfrac":{"mn":"100","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":[{"mover":{"mi":["w","_"]},"mi":"ij"},{"mi":["f","ij"]}],"mo":"*"},"mo":"+","msub":{"mover":{"mi":["z","_"]},"mi":"ij"}}}}}}}}},{"mrow":{"mo":["(",")"],"mn":"17"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"munder":{"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mfrac":{"mrow":{"mn":"100","mo":["*","\u2062"],"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"msub":{"mover":{"mi":["z","_"]},"mi":"ij"}},"msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"munder":{"mi":["\ufe38","constant"]}},"mo":"+","mrow":{"munder":{"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mfrac":{"mrow":{"mn":"100","mo":["*","\u2062"],"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"msub":{"mover":{"mi":["w","_"]},"mi":"ij"}},"msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"munder":{"mi":["\ufe38","constant"]}},"mo":"\u2062","msub":{"mi":["f","ij"]}}}}}},{"mrow":{"mo":["(",")"],"mn":"18"}}]}]}}}},"Theorem 6.2 The overall network utilization in the modified network can be expressed as a linear function of node to node flows in the original network.","Proof:",{"@attributes":{"id":"p-0387","num":"0434"},"maths":{"@attributes":{"id":"MATH-US-00064","num":"00064"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mover":{"mi":["D","_"]},"mo":"=","mrow":{"mn":"100","mo":"*","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["t","_"]},"mi":"kl"}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}]}}}},{"mrow":{"mo":["(",")"],"mn":"19"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mover":{"mi":["f","_"]},"mi":"ij"}}}}}}}},{"mrow":{"mo":["(",")"],"mn":"20"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":[{"mover":{"mi":["w","_"]},"mi":"ij"},{"mi":["f","ij"]}],"mo":"\u2062"},"mo":"+","msub":{"mover":{"mi":["z","_"]},"mi":"ij"}}}}}}}}}},{"mrow":{"mo":["(",")"],"mn":"21"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mover":{"mi":["z","_"]},"mi":"ij"}}}}},"mo":"+"}}}},{"mrow":{"mo":["(",")"],"mn":"22"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.5em","height":"2.5ex"}}},"mo":"\u2062","mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":[{"mover":{"mi":["w","_"]},"mi":"ij"},{"mi":["f","ij"]}]}}}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mover":{"mi":["z","_"]},"mi":"ij"}}}}},"mo":"+"}}}},{"mrow":{"mo":["(",")"],"mn":"23"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.5em","height":"2.5ex"}}},"mo":"\u2062","mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":[{"mover":{"mi":["w","_"]},"mi":"ij"},{"mi":["f","ij"]}]}}}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":"\u2062","msub":{"mover":{"mi":["z","_"]},"mi":"ij"}}}}},"mo":"+"}}}},{"mrow":{"mo":["(",")"],"mn":"24"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.5em","height":"2.5ex"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"mrow":{"mo":["(",")"],"mrow":{"mfrac":{"mrow":[{"mn":"100","mo":"*","msub":{"mover":{"mi":["w","_"]},"mi":"ij"}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}]},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]}}}},"mo":"*","msub":{"mi":["f","ij"]}}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"munder":{"mrow":{"mfrac":{"mn":"100","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"msub":[{"mover":{"mi":["nc","_"]},"mi":"ij"},{"mover":{"mi":["z","_"]},"mi":"ij"}],"mo":"\u2062"}}},"munder":{"mi":["\ufe38","constant"]}},"mo":"+"}}}},{"mrow":{"mo":["(",")"],"mn":"25"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"2.5em","height":"2.5ex"}}},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"munder":{"mfrac":{"mrow":[{"mn":"100","mo":["*","*"],"msub":[{"mover":{"mi":["w","_"]},"mi":"ij"},{"mover":{"mi":["nc","_"]},"mi":"ij"}]},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}]},"munder":{"mi":["\ufe38","constant"]}},"mo":"*","msub":{"mi":["f","ij"]}}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]}]}}}},"Lemma 6.4",{"@attributes":{"id":"p-0389","num":"0436"},"maths":{"@attributes":{"id":"MATH-US-00065","num":"00065"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":["kl","Lines"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["t","kl"]}},{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}}},"mo":"\u2062","mrow":{"msub":[{"mi":["nc","ij"]},{"mi":["f","ij"]}],"mo":"*"}}],"mo":"="}}}},"Intuitively, the lemma states that the traffic in the network is completely explained in terms of the node to node flows, and that the contribution of a flow to the overall traffic is its volume multiplied by the routing cost of the flow.","Theorem 6.3 Assume the same topology and routing in the original and the modified network. If the flows in the modified network are multiples of the original flows by the same factor, then we will forecast a growth of utilization on each line and of the overall utilization by the same factor.","Formally, assume Nodes= , Lines= , bw= and r= . Further assume =x*f. Then we have that =x*dand D=x*D.","Proof: Under the given assumptions, we have that",{"@attributes":{"id":"p-0394","num":"0441"},"maths":{"@attributes":{"id":"MATH-US-00066","num":"00066"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mover":{"mi":["D","_"]},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"mfrac":{"mrow":[{"mn":"100","mo":["*","*"],"mi":"x","msub":{"mover":{"mi":["nc","_"]},"mi":"ij"}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}]},"mo":"*","msub":{"mi":["f","ij"]}}}}},{"mrow":{"mo":["(",")"],"mn":"26"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mi":"x","mo":["*","*"],"mn":"100","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"msub":[{"mover":{"mi":["nc","_"]},"mi":"ij"},{"mi":["f","ij"]}],"mo":"*"}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}]}}}}},{"mrow":{"mo":["(",")"],"mn":"27"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mi":"x","mo":["*","*"],"mn":"100","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}}},"mo":"\u2062","mrow":{"msub":[{"mi":["nc","ij"]},{"mi":["f","ij"]}],"mo":"*"}},{"munder":{"mo":"\u2211","mrow":{"mi":["kl","Lines"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["bw","kl"]}}]}}}}},{"mrow":{"mo":["(",")"],"mn":"28"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mi":"x","mo":["*","*"],"mn":"100","mfrac":{"mrow":[{"munder":{"mo":"\u2211","mrow":{"mi":["kl","Lines"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["t","kl"]}},{"munder":{"mo":"\u2211","mrow":{"mi":["kl","Lines"],"mo":"\u2208"}},"mo":"\u2062","msub":{"mi":["bw","kl"]}}]}}}}},{"mrow":{"mo":["(",")"],"mn":"29"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mi":["x","D"],"mo":"*"}}}},{"mrow":{"mo":["(",")"],"mn":"30"}}]}]}}}},"Similarily, we have that",{"@attributes":{"id":"p-0396","num":"0443"},"maths":{"@attributes":{"id":"MATH-US-00067","num":"00067"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"msub":{"mover":{"mi":["d","_"]},"mi":"kl"},"mo":"=","mrow":{"mn":"100","mo":"*","mfrac":{"msub":[{"mover":{"mi":["t","_"]},"mi":"kl"},{"mover":{"mi":["bw","_"]},"mi":"kl"}]}}}}]}}},{"mrow":{"mo":["(",")"],"mn":"31"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mn":"100","mo":"*","mfrac":{"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mover":{"mi":["R","_"]},"mi":"kl"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":"*","msub":{"mover":{"mi":["f","_"]},"mi":"ij"}}},"msub":{"mover":{"mi":["bw","_"]},"mi":"kl"}}}}}},{"mrow":{"mo":["(",")"],"mn":"32"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mn":"100","mo":"*","mfrac":{"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":["*","*"],"mi":"x","msub":{"mi":["f","ij"]}}},"msub":{"mi":["bw","kl"]}}}}}},{"mrow":{"mo":["(",")"],"mn":"33"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mi":"x","mo":["*","*"],"mn":"100","mfrac":{"mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}},"msub":{"mi":["bw","kl"]}}}}}},{"mrow":{"mo":["(",")"],"mn":"34"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mi":"x","mo":["*","*"],"mn":"100","mfrac":{"msub":[{"mi":["t","kl"]},{"mi":["bw","kl"]}]}}}}},{"mrow":{"mo":["(",")"],"mn":"35"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"10.6em","height":"10.6ex"}}},"mo":"\u2062","mrow":{"mo":"=","mrow":{"mi":"x","mo":"*","msub":{"mi":["d","kl"]}}}}},{"mrow":{"mo":["(",")"],"mn":"36"}}]}]}}}},"Corollary 6.1 Assume the same topology, routing and flows in the original and in the modified network. Then the forecasted line utilization will be equal to the corrected utilization in the original networks","Theorem 6.4 Assume the same flows in the original and the modified network. If \u2266ncfor all flows, then \u2266D.","6.6 Approximation Results","We now present some results on the linear approximations defined above. We typically can use them to find either the minimum or maximum value of the approximated value, but not to find both.","Theorem 6.5 We can use the linear approximation \u014d\u2032to find the minimum value for the variable \u014d.",{"@attributes":{"id":"p-0401","num":"0448"},"maths":{"@attributes":{"id":"MATH-US-00068","num":"00068"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":[{"mi":"min","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"msub":{"mover":{"mi":["o","_"]},"mi":"kl"}},{"munder":{"mi":["min","LP"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"msubsup":{"mover":{"mi":["o","_"]},"mi":["kl","\u2032"]}}],"mo":"="}}]}}}}},"The maximum value of \u014d\u2032is unbounded and therefore useless. Butwe can get the maximal value directly from","Theorem 6.6",{"@attributes":{"id":"p-0404","num":"0451"},"maths":{"@attributes":{"id":"MATH-US-00069","num":"00069"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":[{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msub":{"mover":{"mi":["o","_"]},"mi":"kl"}},{"munder":{"mi":["max","S"]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mn":"0","mo":",","mrow":{"mrow":{"munder":{"mi":["max","LP"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msubsup":{"mover":{"mi":["d","_"]},"mi":["kl","\u2032"]}},"mo":"-","mi":"U"}}}}],"mo":"="}}]}}}}},"Theorem 6.7 We can use the linear approximation \u014c\u2032 to find the minimum value for the variable \u014c.",{"@attributes":{"id":"p-0406","num":"0453"},"maths":{"@attributes":{"id":"MATH-US-00070","num":"00070"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"min","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mover":{"mi":["O","_"]}},{"munder":{"mi":["min","LP"]},"mo":"\u2062","mrow":{"msup":{"mover":{"mi":["O","_"]},"mi":"\u2032"},"mo":"."}}],"mo":"="}}}},"The maximum value of \u014c\u2032 is unbounded and therefore useless.","Theorem 6.8 We can find an upper bound for the maximum value of \u014c by the sum of the maxima of the \u014dvalues.",{"@attributes":{"id":"p-0409","num":"0456"},"maths":{"@attributes":{"id":"MATH-US-00071","num":"00071"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mover":{"mi":["O","_"]}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mi":["max","LP"]},"mo":"\u2062","msub":{"mover":{"mi":["o","_"]},"mi":"kl"}}}],"mo":"\u2264"}}}},"The maximum value for \u014dcan be determined if we know the maximum value for each .","Theorem 6.9",{"@attributes":{"id":"p-0412","num":"0459"},"maths":{"@attributes":{"id":"MATH-US-00072","num":"00072"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"munder":{"mi":["max","LP"]},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msub":{"mover":{"mi":["d","_"]},"mi":"kl"},"mo":"-","mi":"U"}}}},{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mover":{"mi":["O","_"]}}],"mo":"\u2264"}}}},"This is a fairly trivial bound, and typically will be rather weak. We can strengthen the bound by restricting the sum to those lines that can be overloaded in the worst case.","Theorem 6.10",{"@attributes":{"id":"p-0415","num":"0462"},"maths":{"@attributes":{"id":"MATH-US-00073","num":"00073"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"munder":{"mi":["max","LP"]},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mrow":{"mi":"kl","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":["s","t"],"mo":[".",".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mover":{"mi":["o","_"]},"mi":"kl"}}},"mo":">","mn":"0"}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msub":{"mover":{"mi":["d","_"]},"mi":"kl"},"mo":"-","mi":"U"}}}},{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mover":{"mi":["O","_"]}}],"mo":"\u2264"}}}},"This again assumes that we know the maximum value for each of the variables.","We can define similar results for the other approximations:",{"@attributes":{"id":"p-0418","num":"0465"},"maths":{"@attributes":{"id":"MATH-US-00074","num":"00074"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":[{"mi":"min","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msub":{"mover":{"mi":["d","_"]},"mi":"max"}},{"munder":{"mi":["min","LP"]},"mo":"\u2062","msubsup":{"mover":{"mi":["d","_"]},"mi":["max","\u2032"]}}],"mo":"="}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.11"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msub":{"mover":{"mi":["d","_"]},"mi":"max"}},{"munder":{"mi":"max","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"mo":["{","}"],"mrow":{"munder":{"mi":["max","LP"]},"mo":"\u2062","msub":{"mover":{"mi":["d","_"]},"mi":"kl"}}}}],"mo":"="}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.12"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msub":{"mover":{"mi":["d","_"]},"mi":"min"}},{"munder":{"mi":["max","Lp"]},"mo":"\u2062","msubsup":{"mover":{"mi":["d","_"]},"mi":["min","\u2032"]}}],"mo":"="}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.13"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msub":{"mover":{"mi":["d","_"]},"mi":"min"}},{"munder":{"mi":"min","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"mo":["{","}"],"mrow":{"munder":{"mi":["min","LP"]},"mo":"\u2062","msub":{"mover":{"mi":["d","_"]},"mi":"kl"}}}}],"mo":"="}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.14"}}]},{"mtd":[{"mrow":{"mrow":[{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mover":{"mi":["Lines","_"]},"mo":["\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}],"mi":"min","msub":{"mover":{"mi":["h","_"]},"mi":"kl"}}}},{"munder":{"mi":["min","LP"]},"mo":"\u2062","msubsup":{"mover":{"mi":["h","_"]},"mi":["kl","\u2032"]}}],"mo":"="}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.15"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"min","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mover":{"mi":["H","_"]}},{"munder":{"mi":["min","LP"]},"mo":"\u2062","msup":{"mover":{"mi":["H","_"]},"mi":"\u2032"}}],"mo":"="}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.16"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mover":{"mi":["H","_"]}},{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"munder":{"mi":["max","LP"]},"mo":"\u2062","msub":{"mover":{"mi":["h","_"]},"mi":"kl"}}}],"mo":"\u2264"}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.17"}}]},{"mtd":[{"mrow":{"mrow":[{"munder":{"mi":["max","LP"]},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"kl","mo":"\u2208","mover":{"mi":["Lines","_"]}}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mo":"-","mfrac":{"mrow":{"mi":["U","b"],"mo":["*","\u2062"],"msub":{"mover":{"mi":["w","_"]},"mi":"kl"}},"mn":"100"}}}}},{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mover":{"mi":["H","_"]}}],"mo":"\u2264"}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.18"}}]},{"mtd":[{"mrow":{"mrow":[{"munder":{"mi":["max","LP"]},"mo":"\u2062","mrow":{"munder":{"mo":"\u2211","mrow":{"mrow":{"mi":"kl","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":["s","t"],"mo":[".","."],"msub":{"mover":{"mi":["o","_"]},"mi":"kl"}}},"mo":">","mn":"0"}},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mo":"-","mfrac":{"mrow":{"mi":["U","b"],"mo":["*","\u2062"],"msub":{"mover":{"mi":["w","_"]},"mi":"kl"}},"mn":"100"}}}}},{"mi":"max","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mover":{"mi":["H","_"]}}],"mo":"\u2264"}},{"mrow":{"mi":"Theorem","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6.19"}}]}]}}}},"The following tables summarize the approximation results. For each value, they state how many LP queries must be processed. A value m indicates that all line utilizations have to be computed. As a reminder, we also give a brief statement of the meaning for each indicator.",{"@attributes":{"id":"p-0420","num":"0467"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Variable(s)","LP queries","Meaning"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["min D","1","the minimum overall utilization of the net-"]},{"entry":[{},{},"work for any flow distribution"]},{"entry":["max D","1","the maximum overall utilization of the net-"]},{"entry":[{},{},"work for any flow distribution"]},{"entry":["min O","1","minimum total amount of overloading in the"]},{"entry":[{},{},"best case"]},{"entry":["max O","m + 1","approximation only bounds for the largest"]},{"entry":[{},{},"percentage of overloading in the worst case"]},{"entry":[{},{},"scenario"]},{"entry":["min H","1","minimum total volume of overloading in the"]},{"entry":[{},{},"best case"]},{"entry":["max H","m + 1","approximation only bounds for the largest"]},{"entry":[{},{},"volume of overloading in the worst case"]},{"entry":[{},{},"scenario"]},{"entry":["min Lost","1","the minimum volume of all flows of the"]},{"entry":[{},{},"original network that can not be routed"]},{"entry":[{},{},"in the modified one"]},{"entry":["max Lost","1","the maximum volume of all flows of the"]},{"entry":[{},{},"original network that can not be routed"]},{"entry":[{},{},"in the modified one"]},{"entry":["L","none","the flows of the original network that can"]},{"entry":[{},{},"not be routed in the modified one"]},{"entry":["min d","1","the maximum utilization of any line under"]},{"entry":[{},{},"the best assumptions about the flow distri-"]},{"entry":[{},{},"bution"]},{"entry":["max d","m","the maximum utilization of any line for the"]},{"entry":[{},{},"worst case scenario"]},{"entry":["min d","m","the minimum utilization of any line in the"]},{"entry":[{},{},"worst case scenario"]},{"entry":["max d","1","the minimum utilization of any line under"]},{"entry":[{},{},"the best assumptions about flow distribution"]},{"entry":["min ","m","minimum traffic volume for each line"]},{"entry":["max ","m","maximum traffic volume for each line"]},{"entry":["min d","m","minimum utilization of each line (follows"]},{"entry":[{},{},"from )"]},{"entry":["max d","m","maximum utilization of each line (follows"]},{"entry":[{},{},"from )"]},{"entry":["min \u014d","m","minimum amount of overloading for each"]},{"entry":[{},{},"line (follows from )"]},{"entry":["max \u014d","m","maximum amount of overloading for each"]},{"entry":[{},{},"line (follows from )"]},{"entry":["min h","m","minimum volume of overloading for each line"]},{"entry":[{},{},"(follows from )"]},{"entry":["max h","m","maximum volume of overloading for each"]},{"entry":[{},{},"line (follows from )"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}},"br":{}},"If we are satisfied with lower and\/or upper bounds on the values for we can use the following approximation. The traffic on a line kl in the modified network can be expressed as",{"@attributes":{"id":"p-0422","num":"0469"},"maths":{"@attributes":{"id":"MATH-US-00075","num":"00075"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":"j","mo":"\u2208","mover":{"mi":["Nodes","_"]}}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":"*","msub":{"mover":{"mi":["f","_"]},"mi":"ij"}}}}}}},"Assuming that the set of nodes and the flows between them have not changed, we have that",{"@attributes":{"id":"p-0424","num":"0471"},"maths":{"@attributes":{"id":"MATH-US-00076","num":"00076"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}}},"mo":"\u2062","mrow":{"msubsup":{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}}}}}},"On the other hand, the traffic on a line k\u2032l\u2032 in the original network can be expressed as",{"@attributes":{"id":"p-0426","num":"0473"},"maths":{"@attributes":{"id":"MATH-US-00077","num":"00077"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mi":"t","mrow":{"msup":[{"mi":["k","\u2032"]},{"mi":["l","\u2032"]}],"mo":"\u2062"}},"mo":"=","mrow":{"munder":{"mo":"\u2211","mrow":{"mi":"i","mo":",","mrow":{"mi":["j","Nodes"],"mo":"\u2208"}}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij"],"mrow":{"msup":[{"mi":["k","\u2032"]},{"mi":["l","\u2032"]}],"mo":"\u2062"}},"mo":"*","msub":{"mi":["f","ij"]}}}}}}},"If for all nodes i and j we have that",{"@attributes":{"id":"p-0428","num":"0475"},"maths":{"@attributes":{"id":"MATH-US-00078","num":"00078"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":"\u2200","mi":"i"},{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":["\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msubsup":[{"mover":{"mi":["r","_"]},"mi":["ij","kl"]},{"mi":["r","ij"],"mrow":{"msup":[{"mi":["k","\u2032"]},{"mi":["l","\u2032"]}],"mo":"\u2062"}}],"mtable":{"mtr":[{"mtd":{"mo":"\u2264"}},{"mtd":{"mo":"\u2265"}}]}}}],"mo":","}}},"br":{},"o":"t","sub":["kl ","k\u2032l\u2032"]},{"@attributes":{"id":"p-0429","num":"0476"},"maths":{"@attributes":{"id":"MATH-US-00079","num":"00079"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":[{"mover":{"mi":["t","_"]},"mi":"kl"},{"mi":"t","mrow":{"msup":[{"mi":["k","\u2032"]},{"mi":["l","\u2032"]}],"mo":"\u2062"}}],"mo":["\u2062","\u2062"],"mtable":{"mtr":[{"mtd":{"mo":"\u2264"}},{"mtd":{"mo":"\u2265"}}]}}}}},"With less justification, we could use the approximation",{"@attributes":{"id":"p-0431","num":"0478"},"maths":{"@attributes":{"id":"MATH-US-00080","num":"00080"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msub":{"mover":{"mi":["t","_"]},"mi":"kl"},"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"munderover":{"mover":{"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]},"mo":["\u2265","\u2264"]},"msubsup":{"mi":"u","mrow":{"msup":[{"mi":["k","\u2032"]},{"mi":["l","\u2032"]}],"mo":"\u2062"},"mover":{"mi":["dest","source"]}}}}},"br":{},"ul":{"@attributes":{"id":"ul0059","list-style":"none"},"li":{"@attributes":{"id":"ul0059-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0060","list-style":"none"},"li":"This method of approximation can be extended to sums of traffic on multiple lines in the original network, which can be used to bound the traffic on a line in the modified network. This may be useful if we are only interested in whether some line is overloaded or not, but do not care for actual utilization numbers.\n\n6.8 Forecast\n"}}}},"We now look at the different types of queries we encounter in the different optimizer modules. For each particular form of query, we note which variables can be used to answer it.\n\n","6.8.1 What is the utilization of each line?",{"@attributes":{"id":"p-0434","num":"0484"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max d","needs 2m queries"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.8.2 Are there any lines that are overloaded?",{"@attributes":{"id":"p-0436","num":"0486"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"O > 0?","needs 2m queries ?"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.8.3 What is the total utilization of the network?",{"@attributes":{"id":"p-0438","num":"0488"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max D","2 queries"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"Given a topology, traffic data, a flow growth pattern and a set of network changes. Possible queries to answer are:","6.9.1 For each change, what is the utilization of each line and which flows are lost? What is the volume of each flow lost?",{"@attributes":{"id":"p-0441","num":"0491"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max d","needs 2m queries per change"]},{"entry":[{},"L","obtained from routing"]},{"entry":[{},"\u2200 ij \u2208 L: min\/max f","loss of precision probable; 2|L| queries"]},{"entry":[{},{},"per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.2 For each change, what is the utilization of each line and which flows are lost? What is the total volume of the flows lost?",{"@attributes":{"id":"p-0443","num":"0493"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max d","needs 2m queries per change"]},{"entry":[{},"L","obtained from routing"]},{"entry":[{},"min\/max Lost","2 queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.3 For each change, what is the utilization of each line and which flows are lost?",{"@attributes":{"id":"p-0445","num":"0495"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max d","needs 2m queries per change"]},{"entry":[{},"L","obtained from routing"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.4 For each change, are there overloaded lines and which flows are lost?",{"@attributes":{"id":"p-0447","num":"0497"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max O","needs 2m queries per change"]},{"entry":[{},"L","obtained from routing"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.5 For each change, what is the overall utilization of the network?",{"@attributes":{"id":"p-0449","num":"0499"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max D","2 queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.6 Is there a change so that some line is overloaded?",{"@attributes":{"id":"p-0451","num":"0501"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"max{max O}","m + 1 queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.7 Is there a change so that some flow is lost?",{"@attributes":{"id":"p-0453","num":"0503"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u222a L","obtained from routing"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.8 What is the worst case utilization of the network for any of the changes?",{"@attributes":{"id":"p-0455","num":"0505"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"max{max D}","2 queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.9.9 What is the largest amount of traffic lost for any of the changes?",{"@attributes":{"id":"p-0457","num":"0507"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"max{max Lost}","2 queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"Given a topology, traffic data, a flow growth pattern and a set of possible network changes. Possible queries to answer are:","6.10.1 For each change, what is the utilization of each line?",{"@attributes":{"id":"p-0460","num":"0510"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max d","needs 2m queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.10.2 For each change, which lines are overloaded by how much?",{"@attributes":{"id":"p-0462","num":"0512"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min\/max \u014d","needs 2m queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.10.3 For each change, are there overloaded lines?",{"@attributes":{"id":"p-0464","num":"0514"},"tables":{"@attributes":{"id":"TABLE-US-00017","num":"00017"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"O > 0?","needs 2m queries per change ?"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.10.4 Which change results in the smallest amount of overloading?",{"@attributes":{"id":"p-0466","num":"0516"},"tables":{"@attributes":{"id":"TABLE-US-00018","num":"00018"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min{max O}","needs 2m queries per change ?"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.10.5 Which change results in the smallest overall utilization?",{"@attributes":{"id":"p-0468","num":"0518"},"tables":{"@attributes":{"id":"TABLE-US-00019","num":"00019"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Variable(s)","Comment"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"min{D}","2 queries per change"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"6.10.6 Which is the subset of n changes which reduces overloading the most?","6.10.7 Which n changes to select one at a time to reduce overloading?","6.11 Resilient Planner","Given a topology, traffic data, a flow growth pattern, a set of possible network failures and a set of possible network changes. Possible queries to answer are:","6.11.1 For each change, is the resulting network resilient and what is the utilization of each line?","6.11.2 For each change, is the resulting network partially resilient and what is the utilization of each line?","6.11.3 Which change that does not worsen resilience results in the smallest amount of overloading?","6.11.4 Which change that does not worsen resilience results in the smallest overall utilization?\n\n","In a further embodiment of the present invention, we describe a traffic flow constraint model using additional approximations. In this way the model is especially useful for large networks.","The models represented so far all have the disadvantage that we need O(n) node-to-node flow variables. This is a basic limitation that restricts the number of networks for which the models can be used. We now present a way of relaxing the model so that we need fewer variables. The key idea is to introduce flow variables for only some of the node-to-node flows and to approximate the remaining flows. This will lead to weaker results, but it can be scaled to larger size by selecting fewer and fewer detailed flows.","Changes against the minimal model are marked with an arrow in the margin.","B.1 Constants","We start by defining the constants that we use to describe the network, its routing and the traffic loads in the network.","Definition B.1 Nodes is the set of all nodes in the network. The number of nodes is denoted by n. Indices i, j, k, k, l and l, refer to nodes.","Definition B.2 Pops is the set of all PoPs in the network. The number of PoPs is denoted by r. Indices p and q refer to PoPs. Each PoP is a set of nodes, and each node belongs to exactly one PoP.","Definition B.3 The function pop: i  p maps the node index i to a PoP index p.","Definition B.4 Lines is the set of all node pairs kl so that a directed line exists between nodes k and l in the network. The number of lines in the network is denoted by m.","Definition B.5 The constant tis the consistent traffic volume on the directed line between from node k to node l.","Definition B.6 The constant cis the sum of all consistent traffic volumes for external traffic into node i.","Definition B.7 The constant cis the sum of all consistent traffic volumes for external traffic out of node i.","Definition B.8 The constant Ris the set of all node pairs ij so that the flow from node i to node j is (partially) routed through line kl.","Definition B.9 The constant ris a number between 0 and 1 which describes which fraction of the flow from node i to node j is routed through line kl. A value  indicates that the flow is not routed through line kl.","Definition B.10 The constant pis either 0 or 1 and indicates whether the flow from node i to node j is a flow from PoP p to PoP q, i.e. i \u03b5 p and j \u03b5 q.","Lemma B.1 We have that",{"@attributes":{"id":"p-0491","num":"0542"},"maths":{"@attributes":{"id":"MATH-US-00081","num":"00081"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":"\u2200","mi":"i"},{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":"\u2062","mstyle":{"mtext":":"}}}],"mo":","}},{"mrow":{"mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":["p","Pops"],"mo":"\u2208"},{"mi":["q","Pops"],"mo":"\u2208"}]}},"mo":"\u2062","msubsup":{"mi":["p","ij","pq"]}},"mo":"=","mn":"1"}}]}}}},"br":{}},"Definition B.11 The constant Taken is a set of node pairs which represents the set of all selected node-to-node flows. We have that Taken  Nodes\u00d7Nodes. Entries in Taken are represented by node pairs ij.","Definition B.12 The constant Find is a set of PoP pairs which represents the set of all selected PoP-to-PoP flows. We have that Find  Pops\u00d7Pops. Entries in Taken are represented by PoP pairs pq.","B.2 Variables","We now describe the variables of our model. The first set, the flow variables, are used to define flows in the network consistently. It is the second set, the solution variables, that we are really interested in. These solution variables are defined as sums of flow variables.","Definition B.13 The non-negative variable fdescribes the flow from node i to node j with ij \u03b5 Taken. These variables are called How variables.","There are |Taken| variables of this type.","Definition B.14 The non-negative variable restdescribes the sum of all node-to-node flows starting in node i which are not in the Taken set.","There are n variables of this type.","Definition B.15 The non-negative variable restdescribes the sum of all node-to-node flows ending in node j which are not in the Taken set.","There are n variables of this type.","Definition B.16 The non-negative variable sdescribes the flow from PoP p to PoP q with pq \u03b5 Find. These variables are called solution variables.","There are |Find| variables of this type.","B.3 Constraints","We now list the constraints used in our scalable model. The names of the constraints are taken from the \u201cRiskWise II Constraint Model\u201d document, but the constraints here are only approximations of the original constraints.","Constraint B.1 (flow_external(1)) The constraint states that the sum of all flows starting in a node is equal to the sum of all external traffic entering the node.",{"@attributes":{"id":"p-0505","num":"0556"},"maths":{"@attributes":{"id":"MATH-US-00082","num":"00082"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"i","mo":"\u2208","mrow":{"mi":"Nodes","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":{"mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":["j","Nodes"],"mo":"\u2208"},{"mi":["ij","Taken"],"mo":"\u2208"}]}},"mo":"\u2062","msub":{"mi":["f","ij"]}},"mo":"+","msubsup":{"mi":["rest","i","out"]}},"mo":"=","msubsup":{"mi":["c","i","in"]}}}]}}}}},"We have n constraints of this type.","Constraint B.2 The constraint states that the variable restof all non-taken flows starting in a node i is 0, if all flows starting in the node are in the Taken set.\n\nrest=0 if \u2200j \u03b5 Nodes: ij \u03b5 Taken\n","The number of constraints of this type depends on the structure of the Taken set. There are at most n constraints of this type.","Constraint B.3 (flow_external(1)) The constraint states that the sum of all flows ending in a node is equal to the sum of all external traffic leaving the node.",{"@attributes":{"id":"p-0510","num":"0561"},"maths":{"@attributes":{"id":"MATH-US-00083","num":"00083"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"j","mo":"\u2208","mrow":{"mi":"Nodes","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":{"mrow":{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":["i","Nodes"],"mo":"\u2208"},{"mi":["ij","Taken"],"mo":"\u2208"}]}},"mo":"\u2062","msub":{"mi":["f","ij"]}},"mo":"+","msubsup":{"mi":["rest","j","in"]}},"mo":"=","msubsup":{"mi":["c","j","out"]}}}]}}}}},"We have n constraints of this type.","Constraint B.4 The constraint states that the variable restof all non-taken flows ending in a node j is 0, if all flows ending in the node are in the Taken set.\n\nrest=0 if \u2200i \u03b5 Nodes: ij \u03b5 Taken\n","The number of constraints of this type depends on the structure of the Taken set. There are at most n constraints of this type.","Constraint B.5 (traffic_contribution_equal) The constraint states that the sum of all flows through a line can be used to approximate the traffic on the line.",{"@attributes":{"id":"p-0515","num":"0566"},"maths":{"@attributes":{"id":"MATH-US-00084","num":"00084"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mi":"Lines","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":{"mrow":[{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}},{"mi":["ij","Taken"],"mo":"\u2208"}]}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}},{"munder":{"mo":"\u2211","mrow":{"mo":["{","}"],"mrow":{"mrow":[{"mi":"i","mo":"|","mrow":{"mo":"\u2200","mi":"i"}},{"mi":"j","mo":["\u2208","\u2208","\u2208"],"mrow":[{"mi":["Nodes","ij"],"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}]},{"mi":["Taken","ij"],"mo":["\u2062","\u22c1"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}],"msub":{"mi":["R","kl"]}}],"mo":","}}},"mo":"\u2062","msubsup":{"mi":["rest","i","out"]}}],"mo":"+"},"mo":"\u2264","msub":{"mi":["t","kl"]}}}]}}}},{"mtd":{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mi":"Lines","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":{"mrow":[{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}},{"mi":["ij","Taken"],"mo":"\u2208"}]}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}},{"munder":{"mo":"\u2211","mrow":{"mo":["{","}"],"mrow":{"mrow":[{"mi":"j","mo":"|","mrow":{"mo":"\u2200","mi":"i"}},{"mi":"j","mo":["\u2208","\u2208","\u2208"],"mrow":[{"mi":["Nodes","ij"],"mo":["\u2062","\u2062","\u2062"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}]},{"mi":["Taken","ij"],"mo":["\u2062","\u22c1"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}],"msub":{"mi":["R","kl"]}}],"mo":","}}},"mo":"\u2062","msubsup":{"mi":["rest","j","in"]}}],"mo":"+"},"mo":"\u2264","msub":{"mi":["t","kl"]}}}]}}}},{"mtd":{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mi":"Lines","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"msub":{"mi":["t","kl"]},"mo":"\u2264","mrow":{"mrow":[{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}},{"mi":["ij","Taken"],"mo":"\u2208"}]}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}},{"munder":{"mo":"\u2211","mrow":{"mo":["{","}"],"mrow":{"mi":"i","mo":"|","mrow":{"mo":"\u2203","mrow":{"mi":["ij","Taken"],"mo":["\u2208","\u2209"],"mrow":{"msub":{"mi":["R","kl"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mi":["s","t","ij"],"mo":[".",".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}}}}}}}},"mo":"\u2062","msubsup":{"mi":["rest","i","out"]}}],"mo":"+"}}}]}}}},{"mtd":{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"kl","mo":"\u2208","mrow":{"mi":"Lines","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"msub":{"mi":["t","kl"]},"mo":"\u2264","mrow":{"mrow":[{"munder":{"mo":"\u2211","munder":{"mrow":[{"mi":"ij","mo":"\u2208","msub":{"mi":["R","kl"]}},{"mi":["ij","Taken"],"mo":"\u2208"}]}},"mo":"\u2062","mrow":{"msubsup":{"mi":["r","ij","kl"]},"mo":"*","msub":{"mi":["f","ij"]}}},{"munder":{"mo":"\u2211","mrow":{"mo":["{","}"],"mrow":{"mi":"j","mo":"|","mrow":{"mo":"\u2203","mrow":{"mi":["ij","Taken"],"mo":["\u2208","\u2209"],"mrow":{"msub":{"mi":["R","kl"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mi":["s","t","ij"],"mo":[".",".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}}}}}}}},"mo":"\u2062","msubsup":{"mi":["rest","j","in"]}}],"mo":"+"}}}]}}}}]}}}},"We have m constraints of this type.","Constraint B.6 (solution_term(1)) The constraint states that the flow between two PoPs is related to the sum of all flows between nodes which belong to the first and second PoP. We restrict ourselves to flows that are in the Find set of interesting flows.",{"@attributes":{"id":"p-0518","num":"0569"},"maths":{"@attributes":{"id":"MATH-US-00085","num":"00085"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"pq","mo":"\u2208","mrow":{"mi":"Find","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"mrow":{"munder":{"mo":"\u2211","munder":{"mrow":{"mi":["i","p"],"mo":"\u2208"},"munder":{"mrow":[{"mi":["j","q"],"mo":"\u2208"},{"mi":["ij","Taken"],"mo":"\u2208"}]}}},"mo":"\u2062","msub":{"mi":["f","ij"]}},"mo":"\u2264","msub":{"mi":["s","pq"]}}}]}}}},{"mtd":{"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"\u2200","mrow":{"mi":"pq","mo":"\u2208","mrow":{"mi":"Find","mo":"\u2062","mstyle":{"mtext":":"}}}}},{"mrow":{"msub":{"mi":["s","pq"]},"mo":"\u2264","mrow":{"mrow":[{"munder":{"mo":"\u2211","munder":{"mrow":{"mi":["i","p"],"mo":"\u2208"},"munder":{"mrow":[{"mi":["j","q"],"mo":"\u2208"},{"mi":["ij","Taken"],"mo":"\u2208"}]}}},"mo":"\u2062","msub":{"mi":["f","ij"]}},{"munder":{"mo":"\u2211","mrow":{"mo":["{","}"],"mrow":{"mi":"i","mo":"|","mrow":{"mo":"\u2203","mrow":{"mi":["i","Taken"],"mo":["\u2208","\u2209"],"mrow":{"mi":"p","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mi":["s","t","ij"],"mo":[".",".","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}}}}}}}}},"mo":"\u2062","msubsup":{"mi":["rest","i","out"]}}],"mo":"+"}}}]}}}}]}}}},"We have |Find| constraints of this type.","B.4 Objective Functions","As result of the flow analysis we want to have lower and upper bounds for all solution variables. This implies the objective functions\n\nmin s\n\nand\n\nmax s\n\nwhich are run independently for all pairs of PoPs pq in Find. This means that we have to run 2*|Find| optimization queries. We can reduce this value by checking if a particular solution variable shas a value 0 in one of the other optimization runs. If that happens, we do not have to check it for minimum value.\n\nB.5 Complexity\n","The model presented has |Taken|+2n+|Find| variables and at most 4n+4m+2*|Find| constraints. For a flow analysis we have to run at most 2*|Find| queries.","On the other hand note that we still need to know the rvalues, and for this we need to calculate all node to node routes in the network.","B.6 Optimizer","In analogy to the constraints above we can relax the definitions and constraints regarding the optimizer model.","B.7 Choosing Taken and Find Sets","The above mode depends on a wise choice of the Taken and Find sets in order to reduce the loss of accuracy of the model. The a priori bounds for flows mentioned below help with this.","A Priori Flow Bounds","All flow variables have a lower bound of 0. An upper bound for each flow can be easily computed as\n\n\u2200i,j \u03b5 Nodes: f\u2266tif ij \u03b5 R\n","A similar bound is found on the external traffic:\n\n\u2200i,j \u03b5 Nodes: f\u2266c\n\n\u2200i,j \u03b5 Nodes: f\u2266c\n","These bounds can be trivially extended to the solution variables. The resulting values may be very weak. Sometimes, a stronger bound is found by\n\ns\u2266tif \u2200i \u03b5 p,j \u03b5 q: r=1\n","All these bounds are expressed on the corrected traffic variables. Using the uncorrected values instead may lead to misleading results.","Handling Unknown Traffic Values","The error correction model assumes that for each line in the model we know the observed traffic volume. Unfortunately, this may not always be the case. A typical example are interfaces which are connected to backbone lines, but for which we can not collect any traffic data, due to problems of the data collector or of the network device. In the models described above, we allowed the observed traffic to be a variable of the model, which would be left uninstantiated in certain situations. These variables would be assigned a value in the error correction, choosing a number which would cause minimal error correction in other parts of the network.","Alternatively, set the traffic of such unobserved variables to 0 and to allow a free error correction on these interfaces. This will have the same overall effect on the model, but is simpler and leads to a more consistent view of the problem.","Whilst in the above described embodiments linear objective functions are described, it is appreciated that alternatively quadratic objective functions can be used.","Whilst in the above described embodiments, IP networks are described, it is appreciated that the invention may be implemented into other types of communication networks.","Whilst in the above described embodiments the use of flow rates are described, it is appreciated that alternatively the whole calculation could also be done directly in volume.","Whilst in the above described embodiments the traffic data measurements are obtained using the SNMP, it is appreciated that alternatively other methods can be used.","Whilst in the above described embodiments a specific set of traffic data measurements obtained from the router and router interfaces are described, it is appreciated that other measurements can be used instead or in addition to the measurements described.","It is to be understood that the embodiments described above are preferred embodiments only. Namely, various features may be omitted, modified or substituted by equivalents without department from the scope of the present invention, which is defined in the accompanying claims."],"heading":["BACKGROUND","SUMMARY OF THE INVENTION","Simple Constraint Model"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"p":["Further aspects and advantages of the invention will be appreciated, by example only, from the following description and accompanying drawings, wherein",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIGS. 3A to 3J"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
