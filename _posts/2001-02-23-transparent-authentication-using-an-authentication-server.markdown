---
title: Transparent authentication using an authentication server
abstract: A user, by way of a computing device, requests and receives content from a first server at the computing device. An authentication response is also received from the first server at the computing device of the user. The authentication response includes an address of the second server and an executable script. The computing device of the user executes the executable script by issuing a request to the second server for state information corresponding to the user, receiving the state information from the second server; and determining, based on the state information, whether the user is authenticated to the second server. If the user is not authenticated to the second server, the computer device of the user displays a login module that is visually associated with the first server. Such login module collects login information for authenticating the user to the second server. If the user is authenticated in the second server, the computing device of the user issues a request to the second server for vouching information for authenticating the user to the first server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07421731&OS=07421731&RS=07421731
owner: Microsoft Corporation
number: 07421731
owner_city: Redmond
owner_country: US
publication_date: 20010223
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The invention relates to computer networks. In particular, the invention relates to signing into a network server on the computer network.","With the increasing popularity of the Internet, more network servers require users to sign in thereto. Signing in has numerous benefits for both the user and the network server. The network server benefits by gaining information about the user. Such information may include the user's email address, name, geographical region, and commercial and\/or personal preferences, etc. Accordingly, the network server may use such information in a variety of commercially beneficial ways.","The user benefits by having a more dynamic and personalized user experience. In this sense, the network server, as presented to the user in the form of a web page, may have a different \u2018look and feel\u2019 or different advertising based on the user's preferences, past experiences, etc. Thus, the site displays information more relevant to the user.","At least in some instances, a network server (first network server), when signing in a user, chooses to use another network server's (second network server) sign in methodology. This alleviates the first network server from creating and maintaining its own sign in process and allows the second network server to generate revenue through licensing its sign in methodology. However, a user attempting to sign into the first network server which is using the sign in methodology of the second network server, has heretofore been presented with a sign in screen that has the look and feel of the second network server and not of the first network server. This unexpected and potentially misleading situation may be upsetting to the user and detracts from the first network server's user experience. As a result, such situation can deter the first network server from using the second network server's sign in methodology.","Therefore, a need exists for a method and an apparatus for allowing a first network server to use the functionality of a second server's sign in methodology yet still maintain the look and feel of the first server during such sign in. That is, a need exists for an \u2018in-line\u2019 sign in method.","The present invention satisfies the aforementioned need by providing a method of in-line sign in that allows a user to sign into a first server based on a sign-in methodology of a second server. The method allows the first server to use, within its own user interface, the functional sign-in methodology of the second server. Such method provides a seamless and effective sign-in process for the user by not detracting from the user experience provided by the first server.","In the method, an authentication response, including an address of the second server and an executable script, is received from the first server at a computing device of the user. The executable script is then executed in the computing device. Executing the executable script includes issuing a request to the address of the second server for state information and receiving such state information from the second server. Then, based on the state information, the computing device determines whether the user is authenticated to the second server.","If the user is authenticated to the second server, the computer device issues a request to the second server for vouching information for authenticating the user at the computing device to the first server. If the user is not authenticated to the second server, the computer device displays a login module to collect login information to authenticate the user to the second server. The login module is presented to the user within the context of the look and feel of the first server web page. When the user enters their login information into the login module of the computer device, then the computer device will POST (HttpRequest) the information to the second server. Accordingly, the user is not startled or upset by the sudden appearance of a foreign web page such as that from the second server.","In the present invention, a first server authenticates a user based on state information from a second server. In particular, a user at a computing device requests content from a first server. The user first receives an authentication response from the first server. The authentication response from the first server includes an address of the second server and an executable script. The computing device of the user, typically through a web browser, parses the authentication response and, in doing so, executes the executable script. Executing the script includes issuing a request to the second server for state information and receiving the state information from the second server. After receiving such state information, the computing device\/browser determines, based on such state information, whether the user is authenticated to the second server.","If the user is authenticated to the second server, the computer device\/browser issues a request to the second server for vouching information for authenticating the user to the first server. If the user is not authenticated in the second server, the computer device\/browser displays a login module for collecting login information for authenticating the user to the second server. Importantly, the login module is presented to the user within the context of the look and feel of the first server web page. Accordingly, the user is not upset by the sudden appearance of a foreign web page such as that from the second server.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1","b":["100","102","102","104","106","108","102","100","104","106","108","104","106","108","110","102","100","104","106","108","110"]},"An authentication database  is coupled to authentication server . The authentication database  contains information necessary to authenticate users and also identifies which elements of the user profile information should be provided to a particular affiliate server when the user accesses the affiliate server. Although the authentication database  is shown separately from the authentication server , in other embodiments of the invention, the authentication database  is contained within the authentication server.","The term \u201caffiliate server\u201d is defined herein as a web server that has \u201cregistered\u201d or otherwise established a relationship or affiliation with the authentication server . Each affiliate server , , and  includes a code sequence (not shown) that allows the affiliate server to share information with the authentication server  when a user (who is also registered with the authentication server) requests access to the affiliate server. Each affiliate server is assigned a unique ID, which the affiliate server transmits to the authentication server, thereby identifying itself to the authentication server.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2","b":["104","110","200","104","100"]},"The affiliate server  determines locally whether the user is already authenticated at such affiliate server  at step . In one embodiment of the present invention, if the user is authenticated at the affiliate server  using the authentication methodology of the affiliate server , the user may access the affiliate server  at step . However, if the user is not authenticated at the affiliate server , the affiliate server , in response to the user's request for content, sends the user's computer system an authentication response at step .","The authentication response may be in the form of an HTML page or a portion thereof, and may include, in pertinent part, a JavaScript tag and at least one executable script. The JavaScript tag includes an address of the authentication server  (whose authentication methodology is to be used by the affiliate server ) having state information concerning the user. The at least one executable script may include or refer to an Application Program Interface (API) provided to the affiliate server  by the authentication server  and may contain at least one information segment. The information segment receives the state information for the user from the authentication server as will be described below.","After receiving the authentication response, the browser or the like on the user's computer system parses the authentication response. In doing so, at step , the browser encounters the JavaScript tag that directs the user's computer system  to the authentication server  to retrieve state information concerning the user. At this point, the computer system  passes state information to the authentication server . The state information is retrieved from the authentication server  and is sent to the user's computer system . The user's computer system  at step  receives such state information from the authentication server  and appropriately places the state information in the information segments in the executable script.","Importantly, and in accordance with one embodiment of the present invention, the affiliate server  incorporates the JavaScript tag and the executable scripts into the authentication response in any manner. In particular, the authentication response from the affiliate server  may be embodied within a web page having the look and feel of the affiliate server , even though information is being sent to and received from the authentication server . Thus, the affiliate server  can use the functionality of the authentication methodology of the authentication server , in any manner desired. To the user, the user experience does not change because the affiliate server  always maintains control of the user experience through the HTML page. As a result, a seamless sign-in process is provided to the user, i.e. the user is not displayed a screen from the authentication server  having a different look and feel. Therefore, to the user, it appears that the user's computer system  never left the affiliate server  even though the user's computer system  has contacted the authentication server  and employed the authentication methodology thereat on behalf of the affiliate server .","After the computer system  receives the state information from the authentication server , the browser of the computer system  executes the executable script using such state information. In one embodiment of the present invention, the executable script employs the received state information as input to functions associated with the aforementioned API's, where the functions result in an output that signifies whether the user is indeed authenticated by the authentication server . Such authentication is described more fully in U.S. patent application Ser. Nos. 09\/349,619 and 09\/350,018, which are hereby incorporated by reference in their entirety. Notably, an appropriate authentication process may be employed by the authentication server  and the executable script at the computer system  without departing from the scope of the present invention.","In one embodiment of the present invention, if the browser of the computer system  determines the client is indeed authenticated, the executable script may direct the user computer system  to the authentication server  to retrieve vouching information at step . The vouching information serves to represent to the affiliate server  that the user is in fact authenticated by the authentication server . In one embodiment, the vouching information is written by the authentication server  according to a secret shared with the affiliate server . The secret may be any appropriate secret without departing from the scope of the present invention.","Upon receipt of the vouching information, the browser of the computer system  forwards the same to the affiliate server  at step . As may appreciated, the affiliate server  employs the vouching information and the secret shared with the authentication server  to read the vouching information and after doing so the affiliate server  in fact signs in the user thereto. The aforementioned U.S. patent application Ser. Nos. 09\/349619 and 09\/350018, already incorporated by reference herein, describe the process as performed by the affiliate server  in more detail.","If the user is not authenticated at the authentication server , the executable script may direct the user computer system  to display a login screen for the user to input user information with regard to such authentication server , as at step . As may be appreciated, the inputted user information includes such items as a user identification and password with regard to the authentication server , and is forwarded by the browser on the computer system  to the authentication server .","The computing device  may then receive an acknowledgement from the authentication server  that the user is authenticated to the authentication server . In one embodiment the present invention, the acknowledgement is in the form of cookies or the like. However, other forms of acknowledgement may be used without departing from the scope of the present invention. Thereafter, the browser of the computer system  may direct the user computer system  to the authentication server  to retrieve vouching information and forwards the same to the affiliate server , in the manner of steps  and  as discussed above, and the affiliate server  signs in the user thereto. Once the user is logged into the authentication server , the affiliate server  may then send the content to the user in response to the user's original request.","As shown in , the method of  is shown in terms of the flow of data between the servers ,  and the computer . As seen, a user at client computer system  requests content from the affiliate server  at step . If the user is authenticated at the affiliate server  then the user may enter a domain operated by the affiliate server . If not, and the affiliate server  determines the user needs to be authenticated, then at step , in response to the request for content, the affiliate server  sends the user's computer system  an authentication response as part of an HTML page.","The user computer system  parses the HTML page. In doing so, the JavaScript tag within the authentication response directs the user's computer system  to the address of the authentication server  at step  to retrieve state information concerning the user. The state information is then sent by the authentication server  to the client computer system at step . The client's computer system  receives state information from the authentication server  and executes the executable scripts based on the state information to determine if the user is already logged on to the authentication server . If the client is already logged on the authentication server , the user computer system  is directed by the executable script to the authentication server  at step  to retrieve the vouching information as at step .","If the client is not already logged on the authentication server , and in one embodiment of the present invention, the executable script causes the web browser to display a login screen for the user to input login information. Importantly, the login screen is constructed within the context of the look and feel of the site as operated by the affiliate server . The information collected through the use of the login screen is sent by the browser of the computer system  to the authentication server  at step  and the authentication server  returns the state information at step .","Thereafter, the browser requests vouching information from the authentication server at step  and receives the vouching information at step . The vouching information is then forwarded by the browser to the affiliate server at step  and the affiliate server  logs the user therein. The affiliate server  returns the information as originally requested by the user at step  which may be substantive in nature or may be an introductory splash screen or the like.","In the present invention, and as seen in , the affiliate server  and the authentication server  never communicate directly, at least when logging in the user to the affiliate server . Instead, all communications are through the user computer system . As may be appreciated, such an arrangement facilitates the use of cookies that are stored on the computer  to identify the user to both servers , . Nevertheless, the servers ,  may communicate directly without departing from the scope of the present invention.","In the present invention, the in-line sign in process is characterized by the executable script and related items as sent by the affiliate server  to effectuate all communications between the computer system  and the authentication server . Thus, the user need not be bothered with such tasks and is in fact unaware that such communications are taking place. Thus, such sign in with the affiliate server  is seamless or nearly so, even with the involvement of authentication server . Moreover, even if the user must input information to be sent to the authentication server  as at step  of , such information is inputted into a page constructed to have the look and feel of the site operated by the affiliate server  so that the page is a view associated with the affiliate server  and the user is not started to see a different view from the authentication server  which has a different look and feel.","The programming necessary to effectuate the processes performed in connection with the present invention is relatively straight-forward and should be apparent to the relevant programming public. Accordingly, such programming is not attached hereto. Any particular programming, then, may be employed to effectuate the present invention without departing from the spirit and scope thereof.","As should now be understood, the present invention provides a method of in-line sign in that allows a user to sign into a first server based on state information from a second server. The method allows the first (affiliate) server to use, within its own user interface, the functional sign-in methodology of the second (authentication) server. Changes could be made to the embodiments disclosed above without departing from the broad inventive concepts thereof. For example, the invention could be practiced on two unaffiliated servers rather than an authentication server and an affiliate server. It is understood, therefore, that the present invention is not limited to the particular embodiments disclosed, but it is intended to cover modifications within the spirit and scope of the present invention as defined by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Other features of the invention are further apparent from the following detailed description of the embodiments of the present invention taken in conjunction with the accompanying drawings, of which:",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
