---
title: Flexible capacitive sensor array
abstract: A method for detecting force applied to a capacitive sensor array and compensating for coordinate inaccuracy due to force includes receiving a plurality of capacitance measurements from the capacitive sensor array, where the plurality of capacitance measurements includes a first capacitance measurement and a second capacitance measurement, and detecting pressure on the capacitive sensor array based on a comparison between the first capacitance measurement and the second capacitance measurement.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09459736&OS=09459736&RS=09459736
owner: PARADE TECHNOLOGIES, LTD.
number: 09459736
owner_city: Santa Clara
owner_country: US
publication_date: 20110421
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","TECHNICAL FIELD","BACKGROUND","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Application No. 61\/392,034, filed on Oct. 12, 2010, which is hereby incorporated by reference.","This disclosure relates to the field of capacitance sensors and, in particular, to a flexible capacitive sensor array.","Computing devices, such as notebook computers, personal data assistants (PDAs), kiosks, and mobile handsets, have user interface devices, which are also known as human interface devices (HID). One user interface device that has become more common is a touch-sensor pad (also commonly referred to as a touchpad). A basic notebook computer touch-sensor pad emulates the function of a personal computer (PC) mouse. A touch-sensor pad is typically embedded into a PC notebook for built-in portability. A touch-sensor pad replicates mouse X\/Y movement by using two defined axes which contain a collection of sensor elements that detect the position of one or more conductive objects, such as a finger. Mouse right\/left button clicks can be replicated by two mechanical buttons, located in the vicinity of the touchpad, or by tapping commands on the touch-sensor pad itself. The touch-sensor pad provides a user interface device for performing such functions as positioning a pointer, or selecting an item on a display. These touch-sensor pads may include multi-dimensional sensor arrays for detecting movement in multiple axes. The sensor array may include a one-dimensional sensor array, detecting movement in one axis. The sensor array may also be two dimensional, detecting movements in two axes.","Another user interface device that has become more common is a touch screen. Touch screens, also known as touchscreens, touch windows, touch panels, or touchscreen panels, are transparent display overlays which are typically either pressure-sensitive (resistive or piezoelectric), electrically-sensitive (capacitive), acoustically-sensitive (surface acoustic wave (SAW)) or photo-sensitive (infra-red). The effect of such overlays allows a display to be used as an input device, removing the keyboard and\/or the mouse as the primary input device for interacting with the display's content. Such displays can be attached to computers or, as terminals, to networks. Touch screens have become familiar in retail settings, on point-of-sale systems, on ATMs, on mobile handsets, on kiosks, on game consoles, and on PDAs where a stylus is sometimes used to manipulate the graphical user interface (GUI) and to enter data. A user can touch a touch screen or a touch-sensor pad to manipulate data. For example, a user can apply a single touch, by using a finger to touch the surface of a touch screen, to select an item from a menu.","The following description sets forth numerous specific details such as examples of specific systems, components, methods, and so forth, in order to provide a good understanding of several embodiments of the present invention. It will be apparent to one skilled in the art, however, that at least some embodiments of the present invention may be practiced without these specific details. In other instances, well-known components or methods are not described in detail or are presented in a simple block diagram format in order to avoid unnecessarily obscuring the present invention. Thus, the specific details set forth are merely exemplary. Particular implementations may vary from these exemplary details and still be contemplated to be within the spirit and scope of the present invention.","One embodiment of a flexible touch-sensing surface may include a capacitive sensor array with a highly flexible overlay made of a material such as Poly(methyl methacrylate), or PMMA. In this embodiment, the capacitive sensor array may use a single layer low-cost pattern that is made using a PET substrate and a flexible (e.g., PMMA) overlay without a shield. There is no glass in the sensor stack-up and therefore the sensor is very easy to bend. There are two basic issues when the shield layer is removed in such design. Both issues are related to the ease with which the sensor can bend due to pressure which causes the sensor to approach the LCD that is mounted behind it. The issues caused by bending are: (1) a non-conductive object that bends the screen will cause false touches; and (2) a hard finger press will cause inaccurate coordinates to be reported. In one embodiment, the capacitive sensor array may respond to changes in capacitance resulting from proximity of a conductive object to the capacitive sensor array, or to pressure applied by a conductive or nonconductive object to the surface of the sensor array.","In one embodiment, the flexible touch-sensing surface implemented using a capacitive sensor array may overlay a display panel, such as a liquid crystal display (LCD) screen to implement a touchscreen. In this arrangement, coupling between the sensor electrodes of the capacitive sensor array and the display panel may cause reported touch coordinates to shift substantially in response to pressure on the flexible touch-sensing surface. For example, the two main problems with low-cost single layer sensors with a flexible (e.g., PMMA) overlay without a shield between the sensor and the display panel are coordinate shift due to sensor deflection and false reports due to a non-conductive object touch. In some embodiments, the signal processing methods described herein are used to address both of these problems.","For example, when a conductive object touches the touch-sensing surface without applying pressure, the system reports a first set of touch coordinates indicating the location of the touch. If the conductive object then applies pressure to the touch-sensing surface, the reported touch coordinates may shift towards the center of the capacitive sensor array. A nonconductive object touching the flexible touch-sensing surface may result in no touch being detected; however, if the nonconductive object applies pressure to the touch-sensing surface, the system may detect the pressure as a false touch, which may cause problems if it is not distinguished from an actual touch by a conductive object.","In one embodiment, these effects are caused by displacement of some of the sensor elements of the capacitive sensor array, which may be moved closer to the display panel, thus increasing the capacitive coupling between the display panel and the displaced sensor elements.","One embodiment of a method for compensating for the coordinate shift and false touch effects seen with flexible touch-sensing surfaces includes receiving capacitance measurements from a first and a second sensor element of the capacitive sensor array and detecting whether pressure has been applied to the touch-sensing surface, based on a comparison between the first and second capacitance measurements. The comparison may include, for example, calculating a ratio of the first and second capacitance measurements and detecting the pressure when the ratio exceeds a threshold.","A processing device implementing the above method may receive the first and second capacitance measurements at a capacitive sensor input, then detect the presence of pressure applied to the touch-sensing surface based on the comparison between the first and second capacitance measurements. In one embodiment, the processing device may further calculate touch coordinates indicating a location of the touch at the touch-sensing surface, and transmit the touch coordinates to a host for further processing.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1","b":["100","110","100","116","110","150","116","121","116"]},"In one embodiment, the sensor array  includes sensor elements ()-(N) (where N is a positive integer) that are disposed as a two-dimensional matrix (also referred to as an XY matrix). The sensor array  is coupled to pins ()-(N) of the processing device  via one or more analog buses  transporting multiple signals. In this embodiment, each sensor element ()-(N) is represented as a capacitor. The self capacitance of each sensor in the sensor array  is measured by a capacitance sensor  in the processing device .","In one embodiment, the capacitance sensor  may include a relaxation oscillator or other means to convert a capacitance into a measured value. The capacitance sensor  may also include a counter or timer to measure the oscillator output. The capacitance sensor  may further include software components to convert the count value (e.g., capacitance value) into a sensor element detection decision (also referred to as switch detection decision) or relative magnitude. It should be noted that there are various known methods for measuring capacitance, such as current versus voltage phase shift measurement, resistor-capacitor charge timing, capacitive bridge divider, charge transfer, successive approximation, sigma-delta modulators, charge-accumulation circuits, field effect, mutual capacitance, frequency shift, or other capacitance measurement algorithms. It should be noted however, instead of evaluating the raw counts relative to a threshold, the capacitance sensor  may be evaluating other measurements to determine the user interaction. For example, in the capacitance sensor  having a sigma-delta modulator, the capacitance sensor  is evaluating the ratio of pulse widths of the output, instead of the raw counts being over or under a certain threshold.","In one embodiment, the processing device  further includes processing logic . Operations of the processing logic  may be implemented in firmware; alternatively, it may be implemented in hardware or software. The processing logic  may receive signals from the capacitance sensor , and determine the state of the sensor array , such as whether an object (e.g., a finger) is detected on or in proximity to the sensor array  (e.g., determining the presence of the object), where the object is detected on the sensor array (e.g., determining the location of the object), tracking the motion of the object, or other information related to an object detected at the touch sensor.","In another embodiment, instead of performing the operations of the processing logic  in the processing device , the processing device  may send the raw data or partially-processed data to the host . The host , as illustrated in , may include decision logic  that performs some or all of the operations of the processing logic . Operations of the decision logic  may be implemented in firmware, hardware, software, or a combination thereof. The host  may include a high-level Application Programming Interface (API) in applications  that perform routines on the received data, such as compensating for sensitivity differences, other compensation algorithms, baseline update routines, start-up and\/or initialization routines, interpolation operations, or scaling operations. The operations described with respect to the processing logic  may be implemented in the decision logic , the applications , or in other hardware, software, and\/or firmware external to the processing device . In some other embodiments, the processing device  is the host .","In another embodiment, the processing device  may also include a non-sensing actions block . This block  may be used to process and\/or receive\/transmit data to and from the host . For example, additional components may be implemented to operate with the processing device  along with the sensor array  (e.g., keyboard, keypad, mouse, trackball, LEDs, displays, or other peripheral devices).","The processing device  may reside on a common carrier substrate such as, for example, an integrated circuit (IC) die substrate, or a multi-chip module substrate. Alternatively, the components of the processing device  may be one or more separate integrated circuits and\/or discrete components. In one embodiment, the processing device  may be the Programmable System on a Chip (PSoC\u2122) processing device, developed by Cypress Semiconductor Corporation, San Jose, Calif. Alternatively, the processing device  may be one or more other processing devices known by those of ordinary skill in the art, such as a microprocessor or central processing unit, a controller, special-purpose processor, digital signal processor (DSP), an application specific integrated circuit (ASIC), a field programmable gate array (FPGA), or other programmable device. In an alternative embodiment, for example, the processing device  may be a network processor having multiple processors including a core unit and multiple micro-engines. Additionally, the processing device  may include any combination of general-purpose processing device(s) and special-purpose processing device(s).","In one embodiment, the electronic system  is implemented in a device that includes the touch-sensing surface  as the user interface, such as handheld electronics, portable telephones, cellular telephones, notebook computers, personal computers, personal data assistants (PDAs), kiosks, keyboards, televisions, remote controls, monitors, handheld multi-media devices, handheld video players, gaming devices, control panels of a household or industrial appliances, or other computer peripheral or input devices. Alternatively, the electronic system  may be used in other types of devices. It should be noted that the components of electronic system  may include all the components described above. Alternatively, electronic system  may include only some of the components described above, or include additional components not listed herein.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 2","b":["121","101","121","101","100","121","225","222","223","225","201","212","213"]},"Capacitance sensor  includes multiplexer control , demultiplexer  and multiplexer , clock generator , signal generator , demodulation circuit , and analog to digital converter (ADC) . ADC  is further coupled with touch coordinate converter . Touch coordinate converter  outputs a signal to the processing logic .","The transmit and receive electrodes in the electrode matrix  may be arranged so that each of the transmit electrodes overlap and cross each of the receive electrodes such as to form an array of intersections, while maintaining galvanic isolation from each other. Thus, each transmit electrode may be capacitively coupled with each of the receive electrodes. For example, transmit electrode  is capacitively coupled with receive electrode  at the point where transmit electrode  and receive electrode  overlap.","Clock generator  supplies a clock signal to signal generator , which produces a TX signal  to be supplied to the transmit electrodes of touch sensor . In one embodiment, the signal generator  includes a set of switches that operate according to the clock signal from clock generator . The switches may generate a TX signal  by periodically connecting the output of signal generator  to a first voltage and then to a second voltage, wherein said first and second voltages are different.","The output of signal generator  is connected with demultiplexer , which allows the TX signal  to be applied to any of the M transmit electrodes of touch sensor . In one embodiment, multiplexer control  controls demultiplexer  so that the TX signal  is applied to each transmit electrode  in a controlled sequence. Demultiplexer  may also be used to ground, float, or connect an alternate signal to the other transmit electrodes to which the TX signal  is not currently being applied.","Because of the capacitive coupling between the transmit and receive electrodes, the TX signal  applied to each transmit electrode induces a current within each of the receive electrodes. For instance, when the TX signal  is applied to transmit electrode  through demultiplexer , the TX signal  induces an RX signal  on the receive electrodes in matrix . The RX signal  on each of the receive electrodes can then be measured in sequence by using multiplexer  to connect each of the N receive electrodes to demodulation circuit  in sequence.","The mutual capacitance associated with each intersection between a TX electrode and an RX electrode can be sensed by selecting every available combination of TX electrode and an RX electrode using demultiplexer  and multiplexer . To improve performance, multiplexer  may also be segmented to allow more than one of the receive electrodes in matrix  to be routed to additional demodulation circuits . In an optimized configuration, wherein there is a 1-to-1 correspondence of instances of demodulation circuit  with receive electrodes, multiplexer  may not be present in the system.","When an object, such as a finger, approaches the electrode matrix , the object causes a decrease in the mutual capacitance between only some of the electrodes. For example, if a finger is placed near the intersection of transmit electrode  and receive electrode , the presence of the finger will decrease the mutual capacitance between electrodes  and . Thus, the location of the finger on the touchpad can be determined by identifying the one or more receive electrodes having a decreased mutual capacitance in addition to identifying the transmit electrode to which the TX signal  was applied at the time the decreased mutual capacitance was measured on the one or more receive electrodes.","By determining the mutual capacitances associated with each intersection of electrodes in the matrix , the locations of one or more touch contacts may be determined. The determination may be sequential, in parallel, or may occur more frequently at commonly used electrodes.","In alternative embodiments, other methods for detecting the presence of a finger or conductive object may be used where the finger or conductive object causes an increase in capacitance at one or more electrodes, which may be arranged in a grid or other pattern. For example, a finger placed near an electrode of a capacitive sensor may introduce an additional capacitance to ground that increases the total capacitance between the electrode and ground. The location of the finger can be determined from the locations of one or more electrodes at which an increased capacitance is detected.","The induced current signal  is rectified by demodulation circuit . The rectified current output by demodulation circuit  can then be filtered and converted to a digital code by ADC .","The digital code is converted to touch coordinates indicating a position of an input on touch sensor array  by touch coordinate converter . The touch coordinates are transmitted as an input signal to the processing logic . In one embodiment, the input signal is received at an input to the processing logic . In one embodiment, the input may be configured to receive capacitance measurements indicating a plurality of row coordinates and a plurality of column coordinates. Alternatively, the input may be configured to receive row coordinates and column coordinates.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 3","FIG. 2"],"b":["300","101","300","301","121"]},"Touch-sensing surface  includes the sensor elements  formed on a substrate  and covered by an overlay . In one embodiment, the substrate  is made from a material such as Polyethylene terephthalate (PET). In one embodiment, the substrate  is flexible and transparent. The layer of sensor elements  may be additionally covered with an overlay , which may be manufactured from a material such as PMMA. In one embodiment, the overlay  is also flexible and transparent. The flexible touch-sensing surface  overlays a display panel , which may be a LCD display, LED display, OLED display, or some other type of display panel. As illustrated in , there is no shield layer between substrate  and display panel .","As illustrated in , pressure may be applied to the touch-sensing surface  by an object such as stylus . The pressure applied by the stylus  displaces the sensor elements  such that sensor elements nearer to the location where the pressure is applied are pushed closer to the display panel. As illustrated in , the displacement of the sensor elements is exaggerated for clarity. In the following description, the terms \u201cforce\u201d and \u201cpressure\u201d may be used interchangeably to describe a condition that causes displacement of sensor elements or deformation of the touch-sensing surface or sensor array.","The deflection of some of the sensor elements  can result in an increase in the signal strengths measured by an ADC such as ADC .  illustrates a sensor array  of a flexible touch-sensing surface that includes row sensor elements - and column sensor elements -. The row and column sensor elements - are connected to a processing device , which measures capacitance values from each of the sensor elements -. In one embodiment, the capacitance values A (unshaded bars) represent capacitance values measured from the row sensor elements - when a contact  by a conductive object is near or touching the sensor array , but is not exerting force on the sensor array  and is not deforming sensor array . Capacitance values B (shaded bars) represent capacitance values measured from the row sensor elements - when the conductive object additionally exerts a force deforming the sensor array at contact location . Individual capacitance values from sets A and B are referenced according to the sensor elements from which they are measured, i.e., capacitance measurement A or B from row element .","The set of capacitance values A illustrates that a contact  that does not apply force to the sensor array  and does not displace the sensor elements - results in a sharper drop in magnitude of the capacitance signal farther away from the center of contact . In contrast, the set of capacitance values B resulting from an object applying force to the sensor array  at contact  illustrates a more gradual drop in magnitude of the capacitance signals farther from the center of contact , which is caused by the displacement of the sensor elements near the contact .","Thus, in one embodiment, the contact  from a conductive object not applying force results in a sharper profile, while the contact  from an object applying force and deforming the sensor array results in a wider, flatter profile. In some cases, even a nonconductive object applying force at contact location  may sufficiently increase the capacitance signals B such that a false touch is detected.","In one embodiment, a processing device such as processing device  that is connected to a capacitive sensor array  may detect deformation caused by pressure on the sensor array  based on a comparison between a first capacitance measurement and a second capacitance measurement from the set of capacitance measurements taken from the row elements (or column elements) of sensor array . In one embodiment, the capacitance measurement with the highest magnitude may be selected as the first capacitance value, while the second capacitance value may be chosen the nth strongest capacitance signal, where n is a predetermined integer. Alternatively, the second capacitance value may be measured from a sensor element that is a predetermined distance from the first capacitance value. For example, a first capacitance value A may be compared with a second value A.","In one embodiment, a profile ratio between the first and second capacitance values may be calculated, and an amount of force applied to the sensor elements or an amount of sensor deformation or displacement of the sensor elements may be inferred based on the profile ratio. For example, a profile ratio below a specific profile ratio threshold may be used to indicate that excessive force is being applied to the sensor array , and may trigger a compensation process for maintaining accuracy of the reported touch-coordinates. In one embodiment, the compensation may be performed by the processing device .","In one embodiment, the compensation process avoids false touch reports caused by force applied by non-conductive objects based on a shape of the capacitance measurement profile. Since deformation of the sensor array resulting from force applied by a non-conductive object causes a wider profile (smaller drop-off farther from the contact) when compared to a narrow profile (larger drop-off farther from the contact) caused by a conductive object, a shape of the profile may be used to distinguish the cases.","For example, a ratio that characterizes the shape of the profile may be calculated using Equation 1 below:",{"@attributes":{"id":"p-0054","num":"0053"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"profile_ratio","mo":"=","mfrac":{"mi":["Cpeak","Cn"]}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"1"}}}]}}}},"br":{},"b":["416","418","418","416","412","420"],"sup":"th "},"In one embodiment, the value for n may be chosen such that a capacitance value that is affected by the sensor element displacement, and that is less affected by proximity of a conductive object is chosen as the second capacitance value. The value for n may be determined empirically by comparing profiles caused by conductive contacts and non-conductive contacts that apply force. The value of n may also differ based on the pitch of the sensor elements in sensor array .","In one embodiment, if a non-conductive object applies force to the sensor array  at a high speed, the first few profiles may have profile ratios that are comparable to those that may be caused by a conductive contact that does not apply force. This may cause difficulty in distinguishing between the conductive and non-conductive contacts. To resolve this problem, a debouncing technique may be implemented so that a number of initial sampled profiles may be discarded. For example, the first one or two profiles sampled after detecting the initial contact may be discarded so that the touching object settles to its normal profile.","In response to receiving an apparent touch at the touch-sensing surface, one embodiment of a compensation process may determine based on the profile whether the touch is caused by a conductive object near or contacting the surface, or caused by a non-conductive object applying force to the surface. If the apparent touch is caused by a non-conductive object applying force to the surface, the compensation process may discard the apparent touch input or assert a signal indicating to a host that the apparent touch is caused by a non-conductive object.","In one embodiment, a compensation process may be initiated in response to detecting that a force is being applied to the touch-sensing surface resulting in deformation that may cause inaccuracies in the reported touch coordinates. One embodiment of such a compensation process may cease calculation of touch coordinates when the force is detected. For example, when a conductive object applies pressure to the touch sensing surface, the processing device  may detect that force is being applied and cease calculation of new touch coordinates. Thus, the inaccurate touch coordinates (which are affected by the applied force) are not reported to the host.","In one embodiment, during the time that no new touch coordinates are being reported to the host, the processing device  may report a set of default touch coordinates to the host. For example, the default touch coordinates may be a set of \u201clast known\u201d coordinates, which is the last set of touch coordinates calculated before initiation of the compensation process.","In one embodiment, the processing device  may resume normal calculation and reporting of the touch coordinates to the host in response to detecting that the force applied to the touch-sensor is no longer being applied. For example, the processing device  may determine that the force is no longer applied when the profile ratio no longer exceeds the predetermined profile ratio threshold.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":["FIG. 5","FIG. 4"],"b":["500","500","110"]},"At block , the processing device receives capacitance measurements from the capacitive sensor array, such as sensor array . From block , the process  continues at block .","At block , the processing device determines whether the sensor elements of the sensor array have been displaced. In one embodiment, the processing device determines a profile ratio based on a first and a second capacitance measurement of the capacitance measurements received at block . If, at block , the processing device determines that the sensor elements are not being deflected, the process  continues at block , where, the processing device may calculate touch coordinates using a standard method.","If, at block , the processing device determines that the sensor elements are being deflected, for example, as a result of force applied to the touch-sensing surface, the process  continues at block . At block , the processing device determines whether the contact represented in the capacitive measurements received at block  are caused by proximity or touch of a conductive object. If the touch is from a conductive object, the process  continues at block . Otherwise, if the touch is from a non-conductive object, the process  continues at block , where no new touch coordinates are calculated or reported.","The process  arrives at block  when the touch-sensing surface has been contacted by a conductive object that is applying force to the touch-sensing surface, displacing the sensor elements and possibly leading to inaccurate touch coordinates. Thus, at block , the processing device may compensate for touch-coordinate inaccuracies caused by force applied to the touch-sensing surface. For example, one method for compensation may include reporting the last known coordinates of the touch to the host, which may be the last set of coordinates that was calculated. In an alternative embodiment, the processing device may report some other set of default coordinates or may interpolate replacement coordinates to replace the inaccurate coordinates.","Another alternative embodiment of a compensation process may determine an amount of each capacitance value that is attributable to the applied force and subtract it from the raw set of capacitance signals. For example, for a given set of capacitance values measured from the sensor array, a portion of each signal may be attributable to the proximity or contact of a conductive object, while the remainder of the signal may be attributable to a force applied by the conductive object that causes displacement of the sensor elements. One method for compensating for coordinate shift due to the applied force may determine the amount of signal that is attributable to the force, then subtract this amount from the capacitance signals.","In one embodiment, the processing element may access a lookup table that stores one or more compensation profiles. Each of the compensation profiles in the lookup table stores sets of correction values that can be used to adjust the measured raw capacitance values from the sensor array. In response to detecting displacement of the sensor elements due to force, the processing element may calculate a corrected touch location based on one of the compensation profiles, which may be determined based on the amount of force detected.","In one embodiment, a compensation profile may be modeled using a general equation that most closely fits the shape of the profile. In one embodiment, the set of capacitance values resulting when a force is applied by a non-conductive object results in a profile that can be modeled using a quadratic formula. The shape of the profile of capacitance values B, as illustrated in , for instance, may be modeled using a quadratic curve. Thus, a set of compensation values may be generated based on the quadratic formula, and each of the compensation values may be subtracted from its corresponding measured raw capacitance value to generate a set of corrected capacitance values more closely approximating the values that would have resulted had force not been applied to the sensor array.","In one embodiment, the quadratic compensation profile is determined based on at least a first and a second point (Ppeak, Pn) of the curve, and the position of the peak. For example, in a system where the 4largest capacitance value has significant magnitude only when the sensor elements are displaced by force, the 4largest capacitance value may be chosen as the second point Pn. Generally, the second point may be chosen to be a point that is affected by force, but is not affected by the proximity of a conductive object applying the force. Hereafter, n is assumed to be 4; however the value of n may differ in other embodiments. Ppeak is also assumed to be P, which is the signal having the highest magnitude.","In one embodiment, Ppeak and Pn values may be gathered empirically by applying a known force to the touch-sensing surface using a non-conductive object. The applied force may result in a set of capacitance values similar to capacitance values B, as illustrated in , having a flatter profile. The capacitance signal with the highest magnitude may be stored as P, while the 4th strongest signal is stored as P. In one embodiment, the (P, P) values may be measured for 16 points associated with known (x,y) locations on the touch-sensing surface. This set of 16 (P, P) values may constitute one layer of a 3 dimensional (3D) correction table.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 6","b":["600","602","601","600","600"],"sub":["4","1"]},"In one embodiment, the 3D correction table  may store, for each of the 16 points, more values in addition to the 1and 4largest values Pand P. This may consume more memory space, but may decrease the amount of computation required and time required to perform the compensation.","In one such alternative embodiment that stores more values in addition to Pand P, only the top n values may be stored. For example, the values P, P, P, and Pmay be stored, representing the four values having the highest magnitude. In one embodiment, any sensor element having a value less than the top n sensors may be given a corrected value of 0, based on the assumption that any signal on those sensors is completely attributable to displacement of the sensor elements and not from the proximity of a conductive object. This system may decrease accuracy of the compensation, but may also reduce the amount of data storage used, as compared to storing all of the values.","In one embodiment, the 16 (P, P) value pairs may correspond to intersections in the sensor array. Alternatively, the value pairs may only be stored for some intersections of sensor elements, or may be stored for other points distributed across the surface of the sensor array that are not associated with an intersection. In one embodiment, fewer or more than 16 value pairs are stored in each layer. A 3D correction table may also include fewer or more than 3 layers.",{"@attributes":{"id":"p-0075","num":"0074"},"figref":["FIG. 7","FIG. 6","FIG. 5"],"b":["510","600","510","510","510","110","510"],"sub":["4","1"]},"At block  of process , when a finger or other conductive object is present at the touch-sensing surface, the capacitance signals are measured and touch coordinates (x, y) are calculated. From block , the process  continues at block .","At block , the value for Pcorresponding to the measured touch location (x, y) is retrieved from each layer of the 3D correction table. From block , the process  continues at block .","At block , the processing device may select a Pvalue that is closest to the measured Pvalue for the location (x, y). At block , the processing device determines the Pvalue associated with the selected Pvalue. Once the values for Pand Pare known, the processing device may calculate parameters of the compensation profile, as provided at block . In one embodiment, the parameters a, b, and c are constants in a quadratic formula.","Once the values of Pand Pare obtained, it is possible to derive the equation of the quadratic curve using the values of Pand Pand their corresponding channel indices. In one embodiment, a channel index is a sequential number used to identify each sensor element in the sensor array. For example, each sensor element in a row or column may be numbered sequentially with a channel index. Thus, the channel index may represent the location of the sensor element along an axis.  illustrates a set of measured capacitance values, according to one embodiment. In , channel indices Nand Ncorrespond to values Pand P, respectively. Here, Pis measured from the 5sensor element so that Nequals 5. Accordingly, Nis equal to 7.","In one embodiment, Equations 2-5 below may be used to determine the parameters a, b, and c of a quadratic equation for approximating the compensation profile for one axis of a sensor array (i.e., either the rows or columns). In Equation 2, P represents a compensation value, and n represents a position along the sensor array axis. Thus Equation 2 may be used to determine a compensation value that can be subtracted from a raw capacitance value measured from a sensor element at location n along the sensor array axis.",{"@attributes":{"id":"p-0081","num":"0080"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"P","mo":"=","mrow":{"msup":{"mi":"an","mn":"2"},"mo":["+","+"],"mi":["bn","c"]}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"2"}}}]},{"mtd":[{"mrow":{"mi":"a","mo":"=","mfrac":{"mrow":{"msub":[{"mi":"P","mn":"4"},{"mi":"P","mn":"1"}],"mo":"-"},"msup":{"mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":"N","mn":"4"},{"mi":"N","mn":"1"}],"mo":"-"}},"mn":"2"}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"3"}}}]},{"mtd":[{"mrow":{"mi":"b","mo":"=","mrow":{"mrow":{"mo":"-","mn":"2"},"mo":"\u2062","msub":{"mi":"aN","mn":"1"}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"4"}}}]},{"mtd":[{"mrow":{"mi":"c","mo":"=","mrow":{"msub":{"mi":"P","mn":"1"},"mo":"+","msubsup":{"mi":"aN","mn":["1","2"]}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"5"}}}]}]}}}},"Referring again to , Equations 2-5 may be used by the processing device to calculate values a, b, and c for the quadratic equation describing the compensation profile, as provided at block . From block , the process  continues at block .","At block , the processing device calculates a set of compensation values using the quadratic equation with the values a, b, and c determined at block . In one embodiment, a compensation value corresponding to a sensor element may be determined using the channel index N of the sensor element in the quadratic equation (i.e., as n in Equation 2). In one embodiment, the processing device may calculate a compensation value for each of the capacitance values measured from the sensor elements of the sensor array.","At block , the compensation values are subtracted from their corresponding measured capacitance values to generate a set of compensated capacitance values. From block , the process  continues at block .","At block , the processing device calculates coordinates of the touch based on the set of compensated capacitance values. The processing device then transmits the calculated touch coordinates to a host device, as provided at block .","In one embodiment, the compensation process may obtain a more accurate set of compensation values by interpolating between the stored values in the 3D correction table.  illustrates a layer of the 3D correction table, according to one embodiment. With reference to , for a contact location at coordinates (X, Y) indicated by a star, interpolation may be used to compute the value of Pusing 2D interpolation.","Once the interpolated value of Phas been determined, the compensation process may include further interpolation of the Pvalue in between the nearest Pvalues stored in the layers  of the 3D correction table  in order to determine a value for P.","Referring again to , (X, Y) may indicate a first attempt at coordinate calculation based on the raw uncorrected capacitance values measured from the sensor array. The point (X, Y) is located between the four points having coordinates (X, Y), (X, Y), (X, Y), and (X, Y). The measured value of Pon these points are P, P, P, and P, respectively. In one embodiment, an estimate of Pat (X, Y) is calculated by averaging the four measured Pvalues in the table that surround the point (X, Y).","In an alternative embodiment, an approximation of Pmay be obtained by performing a 2D linear interpolation between these points. The four points (X, Y, P), (X, Y, P), (X, Y, P), and (X, Y, P) may be considered as being on a plane described by Equation 6 below:\n\n\u2003\u2003(Equation 6)\n","Equation 6 designates a plane in XYP space, where A, B and C are constants. The parameters A, B, and C may be determined using three of the points (X, Y, P), (X, Y, P), and (X, Y, P). Plugging the three coordinates in Equation 6 yields Equations 7-9 below:\n\n11\u2003\u2003(Equation 7)\n\n21\u2003\u2003(Equation 8)\n\n12\u2003\u2003(Equation 9)\n\nSubtracting Equation 7 from Equation 8 yields Equation 10 below:\n",{"@attributes":{"id":"p-0091","num":"0090"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"A","mo":"=","mfrac":{"mrow":[{"msubsup":[{"mi":"P","mn":["4","2"]},{"mi":"P","mn":["4","1"]}],"mo":"-"},{"mrow":[{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}]}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"10"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0092","num":"0091"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"B","mo":"=","mfrac":{"mrow":[{"msubsup":[{"mi":"P","mn":["4","3"]},{"mi":"P","mn":["4","1"]}],"mo":"-"},{"mrow":[{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}]}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"11"}}}]}}}}},"Equations 10, 11, and 7 may be used to solve for C. Thus, the general form of the plane equation for any point on layer , such as (X, Y) as indicated in , is expressed by Equation 12:",{"@attributes":{"id":"p-0094","num":"0093"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msubsup":{"mi":"P","mn":["4","0"]},"mo":"=","mrow":{"mrow":[{"mfrac":{"mrow":[{"msubsup":[{"mi":"P","mn":["4","2"]},{"mi":"P","mn":["4","1"]}],"mo":"-"},{"mrow":[{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}}},{"mfrac":{"mrow":[{"msubsup":[{"mi":"P","mn":["4","3"]},{"mi":"P","mn":["4","1"]}],"mo":"-"},{"mrow":[{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}}}],"mo":["+","+"],"msubsup":{"mi":"P","mn":["4","1"]}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"12"}}}]}}}}},"To obtain an estimate of Pat (X, Y) Equation 12 may be used to compute Pfor all layers of the 3D correction table. A layer having a Pvalue closest to the measured Pvalue may be selected, and Equation 12 may be used to determine the Pvalue for the coordinate (X, Y), where Pvalues are replaced by Pvalues, as expressed in Equation 13:",{"@attributes":{"id":"p-0096","num":"0095"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msubsup":{"mi":"P","mn":["1","0"]},"mo":"=","mrow":{"mrow":[{"mfrac":{"mrow":[{"msubsup":[{"mi":"P","mn":["1","2"]},{"mi":"P","mn":["1","1"]}],"mo":"-"},{"mrow":[{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},{"mi":"X","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}}},{"mfrac":{"mrow":[{"msubsup":[{"mi":"P","mn":["1","3"]},{"mi":"P","mn":["1","1"]}],"mo":"-"},{"mrow":[{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},{"mi":"Y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}}}],"mo":["+","+"],"msubsup":{"mi":"P","mn":["1","1"]}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"13"}}}]}}}}},"In one embodiment, inter-layer interpolation may also be used to obtain an estimate of the Pvalue. For example, the measured Pfor the position (X, Y) may be between the Pvalues of a first layer (layer ) and a second layer (layer ); Pand Pmay represent the respective Pvalues computed from layer , and layer  at (X, Y) point, and Pis the measured Pvalue. The value of L, as illustrated in  corresponds to an index of an interpolated layer that would have given the exact value of the measured P, had layer L been included in the 3D correction table. The value of L can be calculated from the line equation illustrated in , expressed below as Equation 14:",{"@attributes":{"id":"p-0098","num":"0097"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"L","mo":"=","mrow":{"mrow":[{"mfrac":{"mrow":[{"msubsup":[{"mi":["P","m"],"mn":"4"},{"mi":"P","mrow":{"mn":["4","1"],"mo":","},"mn":"0"}],"mo":"-"},{"msubsup":[{"mi":"P","mrow":{"mn":["4","2"],"mo":","},"mn":"0"},{"mi":"P","mrow":{"mn":["4","1"],"mo":","},"mn":"0"}],"mo":"-"}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}}},{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"+"}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"14"}}}]}}}}},"In , L and L are the indices of layers  and , respectively. In one embodiment, the value L may be used to obtain a value of P(the peak value of the compensation values) from interpolation between layers  and . Replacing Pwith Pin Equation (14) (where L in the subscript is the layer number) yields the following Equation 15 to calculate the interpolated value of P:",{"@attributes":{"id":"p-0100","num":"0099"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msubsup":{"mi":"P","mn":["1","0"]},"mo":"=","mrow":{"mrow":{"mfrac":{"mrow":[{"msubsup":[{"mi":"P","mrow":{"mn":["1","2"],"mo":","},"mn":"0"},{"mi":"P","mrow":{"mn":["1","1"],"mo":","},"mn":"0"}],"mo":"-"},{"mrow":[{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"},{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}],"mo":"-"}]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":"L","mo":"-","mrow":{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}}}},"mo":"+","msubsup":{"mi":"P","mrow":{"mn":["1","1"],"mo":","},"mn":"0"}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"15"}}}]}}}}},"Equation 14 shows the layer position for an interpolated layer that would have the same value as the Pmeasured at (X, Y). Substituting L from Equation 14 into Equation 15 results in Equations 16 below:",{"@attributes":{"id":"p-0102","num":"0101"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msubsup":{"mi":"P","mn":["1","0"]},"mo":"=","mrow":{"mfrac":{"mrow":[{"mrow":[{"mo":["(",")"],"mrow":{"msubsup":[{"mi":"P","mrow":{"mn":["1","2"],"mo":","},"mn":"0"},{"mi":"P","mrow":{"mn":["1","1"],"mo":","},"mn":"0"}],"mo":"-"}},{"mo":["(",")"],"mrow":{"msubsup":[{"mi":["P","m"],"mn":"4"},{"mi":"P","mrow":{"mn":["4","1"],"mo":","},"mn":"0"}],"mo":"-"}}],"mo":"\u2062"},{"msubsup":[{"mi":"P","mrow":{"mn":["4","2"],"mo":","},"mn":"0"},{"mi":"P","mrow":{"mn":["4","1"],"mo":","},"mn":"0"}],"mo":"-"}]},"mo":"+","msubsup":{"mi":"P","mrow":{"mn":["1","1"],"mo":","},"mn":"0"}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"16"}}}]}}}},"br":{},"sub":["1","4 ","4,2","4,1","1,2","1,1"],"sup":["0 ","0","0","0","0"],"b":["1","2"]},{"@attributes":{"id":"p-0103","num":"0102"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msubsup":{"mi":"P","mn":["1","0"]},"mo":"=","mrow":{"mfrac":{"mrow":[{"mrow":[{"mo":["(",")"],"mrow":{"msubsup":[{"mi":"P","mrow":{"mn":"1","mo":",","mrow":{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"}},"mn":"0"},{"mi":"P","mrow":{"mn":"1","mo":",","mrow":{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}},"mn":"0"}],"mo":"-"}},{"mo":["(",")"],"mrow":{"msubsup":[{"mi":["P","m"],"mn":"4"},{"mi":"P","mrow":{"mn":"4","mo":",","mrow":{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}},"mn":"0"}],"mo":"-"}}],"mo":"\u2062"},{"msubsup":[{"mi":"P","mrow":{"mn":"4","mo":",","mrow":{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"2"}},"mn":"0"},{"mi":"P","mrow":{"mn":"4","mo":",","mrow":{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}},"mn":"0"}],"mo":"-"}]},"mo":"+","msubsup":{"mi":"P","mrow":{"mn":"1","mo":",","mrow":{"mi":"L","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"1"}},"mn":"0"}}}},{"mrow":{"mo":["(",")"],"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"16"}}}]}}}},"br":[{},{}],"sub":["4","4,L2","4","4,L1"],"sup":["m ","0","m","0"],"in-line-formulae":[{},{}],"i":["P","\u2267P","\u2267P"]},"In one embodiment, the processing device may apply the above compensation process to all capacitance measurements without first determining whether force has been applied to the touch-sensing surface, or whether any sensor elements have been displaced. For example, with reference to , the process  may proceed from block  directly to block . In one embodiment, the layers  of a 3D correction table  may include a layer with baseline values of Pthat are referenced when there is no signal attributable to force.","In one embodiment, rather than using a 3D correction table storing predetermined values, a compensation process may use a formula or function that uses one or more of the measured capacitance values to determine magnitudes of the capacitance signals attributable to sensor element displacement.","In one embodiment, the method of looking up values in the 3D correction table may also be used to determine an amount of displacement of the sensor elements, or the amount of bending or deformation of the touch-sensing panel due to force.","Embodiments of the present invention, described herein, include various operations. These operations may be performed by hardware components, software, firmware, or a combination thereof. As used herein, the term \u201ccoupled to\u201d may mean coupled directly or indirectly through one or more intervening components. Any of the signals provided over various buses described herein may be time multiplexed with other signals and provided over one or more common buses. Additionally, the interconnection between circuit components or blocks may be shown as buses or as single signal lines. Each of the buses may alternatively be one or more single signal lines and each of the single signal lines may alternatively be buses.","Certain embodiments may be implemented as a computer program product that may include instructions stored on a computer-readable medium. These instructions may be used to program a general-purpose or special-purpose processor to perform the described operations. A computer-readable medium includes any mechanism for storing or transmitting information in a form (e.g., software, processing application) readable by a machine (e.g., a computer). The computer-readable storage medium may include, but is not limited to, magnetic storage medium (e.g., floppy diskette); optical storage medium (e.g., CD-ROM); magneto-optical storage medium; read-only memory (ROM); random-access memory (RAM); erasable programmable memory (e.g., EPROM and EEPROM); flash memory, or another type of medium suitable for storing electronic instructions.","Additionally, some embodiments may be practiced in distributed computing environments where the computer-readable medium is stored on and\/or executed by more than one computer system. In addition, the information transferred between computer systems may either be pulled or pushed across the transmission medium connecting the computer systems.","Although the operations of the method(s) herein are shown and described in a particular order, the order of the operations of each method may be altered so that certain operations may be performed in an inverse order or so that certain operation may be performed, at least in part, concurrently with other operations. In another embodiment, instructions or sub-operations of distinct operations may be in an intermittent and\/or alternating manner.","In the foregoing specification, the invention has been described with reference to specific exemplary embodiments thereof. It will, however, be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention as set forth in the appended claims. The specification and drawings are, accordingly, to be regarded in an illustrative sense rather than a restrictive sense."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present disclosure is illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings.",{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
