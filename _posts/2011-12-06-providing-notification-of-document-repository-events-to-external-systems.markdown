---
title: Providing notification of document repository events to external systems
abstract: Remote event receivers can register with a document repository computing system to receive notifications of events occurring at a document repository. The remote event receivers may register to receive notifications synchronously, whereby the remote event receivers can provide a response to the notification prior to the occurrence of the event, or asynchronously, whereby the remote event receivers provide no response. Synchronous remote event receivers can also specify in a response to the notification that the event should be canceled or may specify properties that should be changed. Remote event receivers can be pre-event receivers that receive notifications prior to the occurrence of an event, or post-event receivers that receive notifications following the event. When an event is to occur at the document repository, notifications are provided to the pre-event remote event receivers. Once the event has occurred, notifications are provided to the post-event remote event receivers.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08621072&OS=08621072&RS=08621072
owner: Microsoft Corporation
number: 08621072
owner_city: Redmond
owner_country: US
publication_date: 20111206
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["Document repositories are often important hubs for productivity and collaboration within an organization. As a result, there is commonly a need to integrate other external systems, such as line of business (\u201cLOB\u201d) systems, with the resources stored in document repositories.","Some solutions allow organizations to incorporate data from external systems into their document repositories, allowing them to more easily incorporate data stored at the external systems into the repositories. Other solutions expose world wide web (\u201cweb\u201d or \u201cWeb\u201d) services that allow external systems to retrieve information from a document repository for use within the external system. Neither of these capabilities, however, makes it possible for external systems to be informed directly of events occurring within a document repository, such as changes made to documents or lists. This makes it difficult to incorporate data or documents held in a document repository in business processes managed by an external system.","Some document repository systems support functionality for permitting custom third-party code to be executed in response to the occurrence of a specified event. This functionality is typically enabled by allowing a document repository administrator to deploy the custom code to the actual servers running the document repository. Doing so, however, can be difficult or prohibitively expensive to manage in many cases. Moreover, in hosted and\/or multi-tenant document repositories, this approach may be even more challenging because the custom code must be prevented from performing expensive or damaging operations to the hosted system, or from accessing data of other tenants of a multi-tenanted document repository.","One approach to address these problems is to run the custom code in a \u201csandbox\u201d that restricts the custom code to a safe, isolated execution environment. In many cases, however, such a restriction not only prevents the code from performing expensive or malicious operations, but also prevents the code from performing some operations that may be necessary to achieve the desired goals of the custom code. As a result, it can be difficult or impossible to implement the custom code in a way that allows it to effectively execute within such a sandbox. It is with respect to these and other considerations that the disclosure made herein is presented.","Concepts and technologies are described herein for providing notification of events occurring within a document repository system to other external systems. Through an implementation of the technologies disclosed herein, notifications of events occurring within a document repository can be provided to external systems without deploying custom third-party code to the servers running the document repository and without executing the custom code in a sandbox.","According to one aspect presented herein, a document repository computing system is provided that includes functionality for providing notification of events to remote event receivers. The remote event receivers are executed on computer systems external to the document repository computing system, such as computer systems owned, operated, or managed by third parties.","In order to receive notifications of events, the remote event receivers register with the document repository computing system. The remote event receivers may be registered declaratively, such as through the use of an extensible markup language (\u201cXML\u201d) document that specifies details regarding each remote event receiver and the type of notifications they would like to register for, or programmatically through an object model exposed by the document repository computing system. Other mechanisms might also be used to register remote event receivers for notifications.","The remote event receivers may register to receive notifications related to events occurring with regard to the content of a document repository and\/or the structure of the document repository. For instance, remote event receivers may register for notifications of the following, without limitation: the creation, updating, and deletion of documents in a document repository; the checking out, checking in, canceling a check out of an item or document in the repository; attaching a file or removing an attachment from an item in the repository; moving an item or document in the repository; adding, updating, or removing metadata fields in the document repository; adding or removing lists and libraries in the document repository; and adding or removing larger containers, such as web sites and site collections, within the document repository. The remote event receivers might also register to receive notifications of other types of events occurring with regard to the contents, structure, or operation of a document repository.","According to various embodiments, the remote event receivers may register to receive notifications synchronously or asynchronously. Remote event receivers that register for synchronous notification may be referred to herein as \u201csynchronous remote event receivers.\u201d Remote event receivers that register for asynchronous notification may be referred to herein as \u201casynchronous remote event receivers.\u201d The document repository computing system will send notifications to synchronous remote event receivers and then wait for a response before providing a notification to the next remote event receiver. In this way, synchronous remote event receivers are effectively called in series. The document repository computing system does not wait for a response from asynchronous remote event receivers. In this way, asynchronous remote event receivers may be called in parallel.","Remote event receivers may also register to receive a notification regarding an event prior to the occurrence of the event or following the occurrence of the event. Remote event receivers that register for notification of an event prior to the occurrence of the event may be referred to herein as \u201cpre-event remote event receivers.\u201d Remote event receivers that register for notification following the occurrence of an event may be referred to herein as \u201cpost-event remote event receivers.\u201d","In one embodiment, each remote event receiver also has an associated sequence number. The sequence number indicates the order in which remote event receivers that are registered for the same event should receive notification of the event. Local event receivers executing on the document repository computing system might also have associated sequence numbers and be called in sequence order with the remote event receivers.","When the document repository computing system determines that an event is to occur, the document repository computing system determines if any pre-event remote event receivers have been registered to receive notification of the event. If so, the document repository computing system generates calls to the pre-event remote event receivers. The calls include data formatted according to a pre-defined schema and provide notification that the event is to occur. The calls might also include properties associated with the event, such as \u201cbefore\u201d properties that define aspects of an item in a document repository prior to the event, and\/or \u201cafter\u201d properties that include properties that define aspects of the item after the event has completed. The calls may be implemented as web service calls or in another manner.","If any of the pre-event remote event receivers have registered for synchronous notification, the document repository computing system waits for a response, such as a web service response, from the remote event receivers before calling the next remote event receiver. In the response, the synchronous pre-event remote event receivers may indicate that the event should be canceled, in which case the event is canceled and no additional notifications are provided, or may modify the after properties associated with the event. If a synchronous pre-event remote event receiver does not provide a response, the document repository computing system might cancel or continue with the event according to embodiments. Once all of the pre-event remote event receivers have been notified of the event, the after properties associated with the event are persisted and the event is completed.","Once the event has completed, the document repository computing system determines whether any post-event remote event receivers have been registered. If so, the document repository computing system generates calls to the post-event remote event receivers in sequence number order. Synchronous post-event remote event receivers are not permitted to cancel the event, nor are they permitted to modify the after properties associated with the event since the event has already occurred and the after properties have already been committed.","This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended that this Summary be used to limit the scope of the claimed subject matter. Furthermore, the claimed subject matter is not limited to implementations that solve any or all disadvantages noted in any part of this disclosure.","The following detailed description is directed to concepts and technologies for providing notification of events occurring within a document repository to external systems. As discussed briefly above, using the technologies disclosed herein, notifications of events occurring within a document repository system can be provided to external systems without requiring that third-party code be executed on the document repository system. Additional details regarding these and other features will be provided below with regard to .","While the subject matter described herein is presented in the general context of program modules that execute in conjunction with the execution of an operating system and various programs on a computer system, those skilled in the art will recognize that other implementations may be performed in combination with other types of program modules. Generally, program modules include routines, programs, components, data structures, and other types of structures that perform particular tasks or implement particular abstract data types. Moreover, those skilled in the art will appreciate that the subject matter described herein may be practiced with other computer system configurations, including hand-held devices, multiprocessor systems, microprocessor-based or programmable consumer electronics, minicomputers, mainframe computers, and the like.","In the following detailed description, references are made to the accompanying drawings that form a part hereof, and which are shown by way of illustration specific embodiments or examples. Referring now to the drawings, in which like numerals represent like elements through the several figures, aspects of a computing system and methodology for providing notification of events occurring within a document repository system to external systems will be described.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 1","FIG. 1"],"b":["102","108","100","102","102","104","104","102","104","102"]},"Users may also be permitted to check out, check-in, or cancel a check out of an item or document from a document repository provided by the document repository application . Users may also be permitted to attach a file or remove attachments from items in the document repository, move an item or document in a document repository, and add, update, or remove metadata fields in a document repository. Users may also add or remove lists and libraries in the document repository and add or remove larger containers such as websites provided by the document repository application  and collections of sites.","As will be described in greater detail herein, the document repository application  is configured to provide notifications of the various types of events described just above. The document repository application  may also provide notifications of other types of events occurring at the document repository computing system  with respect to a document repository provided by the document repository application .","According to various embodiments, the document repository application  is configured to provide notifications of events to remote event receivers . Remote event receivers  are software components executing on computing systems that are external to the document repository computing system , such as the third-party computing system . The third-party computing system  may be owned, operated, or controlled by an entity other than the entity that operates the document repository computing system .","In order to provide the notifications as described herein, the document repository computing system  may be connected to the third-party computing system  by one or more networks . The networks may be local area networks, wide area networks, or other types of networks that enable data communication between the document repository computing system  and the third-party computing system . It should be appreciated that although  illustrates only a single network , many such networks may be utilized to create an appropriate data communications connection between the document repository computing system  and the third-party computing system .","In order to receive notifications of events occurring at the document repository computing system , each remote event receiver  must register with the document repository application . In one embodiment, a remote event receiver registration module  is executed in order to register a remote event receiver  with the document repository application . According to various embodiments, the remote event receiver  may be registered declaratively such as through the use of an XML document that specifies details regarding the remote event receiver  and the type of notifications that it would like to register for. In other embodiments, the remote event receiver registration module  registers the remote event receiver  programmatically through an object model exposed by the document repository application .","According to various embodiments, the remote event receiver  may register to receive notifications relating to events occurring with regard to the content of a document repository and\/or the structure of a document repository provided by the document repository computing system . As discussed above, the remote event receiver  may register for notifications of the following, without limitation: the creation, updating, and deletion of documents in a document repository; the checking out, checking in, canceling a check out of an item or document in the repository; attaching a file or removing an attachment from an item in the repository; moving an item or document in the repository; adding, updating, or removing metadata fields in the document repository; adding or removing lists and libraries in the document repository; and adding or removing larger containers, such as web sites and site collections, within the document repository. The remote event receivers  might also register to receive notifications of other types of events occurring with regard to the contents, structure, or operation of a document repository.","As also described briefly above, the remote event receiver  may register to receive notifications synchronously or asynchronously. As will be described in greater detail below, the remote event receiver caller  executing within the document repository computing system  will send notifications to synchronous remote event receivers  and then wait for a response before providing a notification to another remote event receiver. If the remote event receiver  registers for asynchronous notification, the remote event receiver caller  will not wait for a response from the remote event receiver  before calling another remote event receiver.","Remote event receivers  may also register to receive notifications prior to the occurrence of an event or following the occurrence of the event. Synchronous pre-event remote event receivers may also be permitted to cancel the occurrence of an event or to change properties associated with the event. Additional details regarding this functionality will be provided below.","A sequence number is also specified when a remote event receiver  registers with the document repository computing system . As discussed briefly above, the sequence number indicates the order in which remote event receivers  that are registered for notifications for the same event should receive notification. Although not illustrated in , local event receivers may be executed on the document repository computing system . The local event receivers may also include sequence numbers that are utilized to execute the local event receivers in sequence with the remote event receivers . Additional details regarding the registration of the remote event receivers  with the document repository computing system  will be provided below with respect to .","Once a remote event receiver  has registered with the document repository computing system  for notification of events, the remote event receiver  is eligible to begin receiving notifications. When the document repository system  determines that an event is about to occur, the document repository computing system  determines if any pre-event remote event receivers  have been registered to receive notification of the event. If so, the remote event receiver caller  generates a call to the registered pre-event remote event receivers . In one embodiment, the call is a Web service call  to the remote event receiver  that includes remote event properties . The remote event properties  define various properties associated with the event, such as before properties that define aspects of an item or document in the document repository prior to the event, and\/or after properties that include properties that define aspects of the item or document after the event has completed. Additional details regarding the remote event properties  will be provided below with regard to .","In one embodiment, the Web service call  is implemented utilizing the simple object access protocol (\u201cSOAP\u201d). It should be appreciated, however, that other types of Web service calls might be utilized. It should also be appreciated that other types of network messages and protocols might be utilized to provide the remote event properties  to a remote event receiver  in other embodiments.","If the remote event receiver  has registered for synchronous notification, the remote event receiver caller  will wait for a Web service response  from the remote event receiver . While the remote event receiver caller  is awaiting the Web service response , no additional remote event receivers  will be called.","As illustrated in , the Web service response  includes a remote event result . The remote event result  is data formatted according to a pre-defined schema that indicates to the document repository computing system  whether the event should be permitted to continue or should be cancelled. Additionally, the remote event result  might indicate properties associated with the event that should be modified. For instance, the remote event result  may specify changed after properties for the event that should be persisted by the document repository computing system .","If a synchronous pre-event remote event receiver  does not provide a response , the document repository computing system  may elect to cancel or continue with the event according to various embodiments disclosed herein. Additional details regarding the remote event result  will be provided below with regard to .","Once all the registered pre-event remote event receivers  have been called, the after properties associated with the event, including any properties modified by a synchronous remote event receiver , are persisted and the event is permitted to complete. Once the event has completed, the document repository computing system  determines whether any post-event remote event receivers have been registered. If so, the remote event receiver caller  generates calls to the post-event remote event receivers  in sequence number order. As mentioned briefly above, synchronous post-event remote event receivers are not permitted to cancel an event nor are they permitted to modify the after properties associated with the event since the event has already completed. Additional details regarding the processes described above with regard to  will be provided below with regard to .",{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 2","FIG. 2"],"b":["106","108","102","102","106"]},"It should be appreciated that, regardless of the mechanism utilized to register a remote event receiver , certain information is provided at the time of registration. For instance, according to various embodiments, information is provided regarding the events that each remote event receiver  would like to be notified about, a network address of the remote event receiver  that is to be called when the event occurs, the scope of the registration, such as the identity of specific object instances or scopes within a document repository for which the remote event receiver  would like to receive events, an indication as to whether the notifications should be provided synchronously or asynchronously, and a sequence number that indicates the priority with which the remote event receiver  would like to receive the event when multiple receivers are registered for the same event.","According to one embodiment, the information described above is provided in a remote event receiver registration XML file  that can be declaratively defined and provided to the document repository application . In other embodiments, this information is provided by the remote event receiver registration module  through an event receiver registration object model  provided by the document repository application . Other mechanisms may also be utilized to provide the above-described information to the document repository application  in order to register a remote event receiver  for notifications.","The remote event receiver registration XML  shown in  that is used to declaratively register a remote event receiver  in one embodiment includes a number of elements A-F. The element A is utilized to specify a name of the remote event receiver  being registered. The element B is utilized to specify a type of event that the remote event receiver  is being registered for. As discussed briefly above, the event type element B may be utilized to register for notification prior to the occurrence of an event or to register for notification following the occurrence of the event.","For instance, a value for the event type element B of \u201citem updating\u201d registers the remote event receiver  to receive notifications just prior to the updating of an item in a document repository. Similarly, a value of \u201citem updated\u201d registers the remote event receiver  to receive a notification after an item has been updated in the document repository. Similar values may be specified for the event type element B to register the remote event receiver  for notifications prior to or following the adding, updating, deleting, checking-in, checking-out, unchecking-out of items in a document repository. Values may also be specified for the event type element B to receive notifications before or after attachments are added or deleted to items and\/or when files in a document repository are moved.","Values may also be specified for the event type element B to receive notifications before or after list event are added, updated, or deleted, or before or after lists are added or deleted. Values may also be specified for the event type element B to receive notifications before or after a site or a Web is deleted, moved, or added. It should be appreciated that the value for the event type element B described above are merely illustrative and that other values may be specified for the event type element B to receive notifications of other types of events.","As discussed above, remote event receivers  may register for synchronous or asynchronous notification of events occurring within the document repository computing system . The synchronization type element C is utilized to specify whether a remote event receiver  should be notified synchronously or asynchronously. As also described above, remote event receivers  may be called in sequence number order. The sequence number for a particular remote event receiver  may be specified in the sequence number element D.","The remote event receiver address element E is utilized to specify a network address of the remote event receiver  that is to be called when the event specified by the event type element B occurs. The network address may be specified using a uniform resource locator (\u201cURL\u201d), an actual network address, or in another manner.","The scope element F is utilized to specify the scope of the registration for which notifications are to be provided. For instance, in one embodiment, the scope element F is utilized to specify specific object instances or scopes within a document repository for which the remote event receiver  would like to receive a notification.","It should be appreciated that the contents of the remote event receiver registration XML  described above are merely illustrative and that other data might be provided to the document repository application  during the registration of a remote event receiver . It should also be appreciated that other mechanisms than those described herein might also be utilized to register a remote event receiver  with a document repository application .",{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 3","FIG. 1","FIG. 3"],"b":["118","102","106","116","106","116","118","118"]},"As shown in , the remote event properties  include an event type element A. The remote event properties  will also include one of item event properties B, list event properties C, or Web event properties D, depending upon the type of event that has occurred or is about to occur. The item event properties B will be provided when the event relates to an item, the list event properties C will be provided when the event relates to a list, and the Web event properties D will be provided when the event relates to a Web.","The event type element A specifies the type of event that has occurred. For instance a value A may be provided indicating that a pre-event has occurred or a value B may be provided indicating that a post-event has occurred. For instance, values such as those described above with regard to the event type element B may be specified in the element A.","The item event properties B may include before properties A and after properties B. As discussed briefly above, the before properties A define aspects of an item in a document repository prior to the event for which notification has been made. For instance, the before properties A may specify properties associated with a document prior to a modification to the document being made.","The after properties B define aspects of the item after the event has completed. For example, the after properties B may specify what the properties associated with the document will be after the modification to the document has occurred. As will be described in greater detail below, a synchronous pre-event remote event receiver  can specify a set of modified after properties B and return the properties to the document repository application .","The list identifier element C identifies the list that the item for which the notification has been generated is a member. The list item identifier element D identifies the item for which the notification has been received. The list title element E provides a title of the list in which the item for which notification has been generated. One illustrative schema for the item event properties element B is provided below with regard to Table 1. It should be appreciated that this schema is merely illustrative and that other data structures may be utilized.",{"@attributes":{"id":"p-0059","num":"0058"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<xs:complexType name=\u201cSPRemoteItemEventProperties\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<xs:sequence>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<xs:element name=\u201cAfterProperties\u201d"]},{"entry":[{},"type=\u201cArrayOfKeyValueOfstringanyType\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<xs:element name=\u201cBeforeProperties\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"type=\u201cArrayOfKeyValueOfstringanyType\u201d \/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<xs:element name=\u201cListId\u201d type=\u201cser:guid\u201d \/>"]},{"entry":[{},"<xs:element name=\u201cListItemId\u201d type=\u201cxs:int\u201d \/>"]},{"entry":[{},"<xs:element name=\u201cListTitle\u201d type=\u201cxs:string\u201d \/>"]},{"entry":[{},"<xs:element name=\u201cWebUrl\u201d type=\u201cxs:string\u201d \/>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/xs:sequence>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/xs:complexType>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"The list event properties element C includes a list identifier A, a list title B, and a field name C in one embodiment. The list identifier A includes data that identifies the list for which notification has been received. The list title B identifies the title of the list for which the notification has been received. The field name C identifies the field of the list identified by the list identifier A that has been modified. One illustrative schema for the list event properties element C is provided below with regard to Table 2.",{"@attributes":{"id":"p-0061","num":"0060"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<xs:complexType name=\u201cSPRemoteListEventProperties\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<xs:sequence>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<xs:element name=\u201cFeatureId\u201d type=\u201cser:guid\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cFieldName\u201d type=\u201cxs:string\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cFieldXml\u201d type=\u201cxs:string\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cListId\u201d type=\u201cser:guid\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cListTitle\u201d type=\u201cxs:string\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cTemplateId\u201d type=\u201cxs:int\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cWebUrl\u201d type=\u201cxs:string\u201d\/>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/xs:sequence>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/xs:complexType>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"The Web event properties element D provides a previous URL of a Web A, a new URL of the Web B, and a relative URL C of the Web. One illustrative schema for the Web event properties D is provided below with regard to Table 3.",{"@attributes":{"id":"p-0063","num":"0062"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"<xs:complexType name=\u201cSPRemoteWebEventProperties\u201d>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<xs:sequence>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<xs:element name=\u201cFullUrl\u201d type=\u201cxs:string\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cNewServerRelativeUrl\u201d type=\u201cxs:string\u201d\/>"]},{"entry":[{},"<xs:element name=\u201cServerRelativeUrl\u201d type=\u201cxs:string\u201d\/>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/xs:sequence>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<\/xs:complexType>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"It should be appreciated that the data structures, elements, and values illustrated in  are merely illustrative. Other data schemas, data structures, and data types may be utilized that include more or fewer elements than described above. In this regard it should be appreciated that other types and configurations of data may be provided to a remote event receiver  with a Web service call  indicating that an event has occurred at a document repository application .",{"@attributes":{"id":"p-0065","num":"0064"},"figref":["FIG. 4","FIG. 1","FIG. 4"],"b":["122","106","120","102","116","102","122","122"]},"As illustrated in , the remote event result  may include a changed properties element A, an error message B, a redirect URL C, and a status element D. The status element D includes one value that indicates to the document repository computing system  how to proceed with the event that was the subject of the Web service call . In particular, the status element D may include a continue value A that indicates that the event should be permitted to continue. The status element D might include a cancel no error value B that cancels the event but provides no error to the user of the document repository computing system . Alternately, the status element D may include a cancel with error value C that cancels the event but also provides an error message to the user. The error message is specified by the error message element B. The status element D may also include a cancel with redirect value D that causes the event to be canceled and redirects the user to a URL specified by the redirect URL C.","As discussed briefly above, the remote event result  may also include a changed properties element A. The changed properties element A is utilized to specify one or more properties changed by the remote event receiver . For instance, the remote event receiver  may modify one or more of the after properties B specified in the item event properties element B described above. As will be described in greater detail below, when the document repository computing system  receives a remote event result  that includes a populated changed properties element A, the document repository computing system  modifies the after properties B with the changed values prior to calling the next remote event receiver  or performing the event if no additional remote event receivers  remain to be called. Additional details regarding the use of the changed properties element A will be provided below with regard to .",{"@attributes":{"id":"p-0068","num":"0067"},"figref":["FIGS. 5A and 5B","FIGS. 5A and 5B"],"b":["500","106"]},"The routine  begins at operation , where the document repository application  determines that a repository event is about to occur. For instance, the document repository application  may receive a request from a user to add, update, modify, or otherwise interact with a document, item, list, field, Web, site, or other element maintained in a document repository. Prior to performing the requested action, the document repository application  performs the operations -, which are described in greater detail below.","From operation , the routine  proceeds to operation  where the document repository application  determines whether any pre-event remote event receivers  have been registered. If not, the routine  proceeds from operation  to operation , described below. If, however, one or more pre-event remote event receivers  have been registered, the routine  proceeds from operation  to operation .","At operation , the document repository application  instructs the remote event receiver caller  to call the pre-event receiver  having the lowest sequence number. In response to receiving such a request, the routine  proceeds to operation  where the remote event receiver caller  determines whether the remote event receiver  to be called is a synchronous remote event receiver . As described above, the synchronization type element C of the remote event receiver registration XML  may be utilized to specify that a remote event receiver  is to receive notifications synchronously.","If the remote event receiver  to be called is not a synchronous remote event receiver , the routine  proceeds from operation  to operation , described below. If the remote event receiver  to be called is a synchronous remote event receiver , the routine  proceeds from operation  to operation .","At operation , the remote event receiver caller  determines whether a Web service response  has been received from the remote event receiver  in response to the Web service call . If no response  has been received, the routine  proceeds to operation  where the remote event receiver caller  determines whether the Web service call  has failed or has timed out. In this regard, the remote event receiver caller  may be programmed to time out after a certain period of time has elapsed since the Web service call  was made without receiving a response .","If the Web service call  has not failed or timed out, the routine  proceeds back to operation . If, however, the Web service call  has failed or timed out, the routine  proceeds from operation  to operation . At operation  the error is logged so that an administrator of the document repository computing system  or the third party computing system  can determine why the remote event receiver  could not be called. As discussed below, failed or timed out calls may be retried or stored in a durable queue for later processing.","From operation , the routine  proceeds to operation  where the event that was the subject of the Web service call  is canceled. In other embodiments, the event may be permitted to proceed even though a Web service call  to the remote event receiver could not be completed. From operation , the routine  proceeds to operation , where it ends.","If, at operation  the remote event receiver caller  determines that a Web service response was received from the remote event receiver , the routine  proceeds from operation  to operation . At operation , the remote event receiver caller  examines the remote event result  to determine whether the remote event receiver  specified in the status element D that the event should be canceled. If so, the routine  proceeds from operation  to operation  where the event that was the subject of the Web service call  is canceled. If the remote event receiver  did not indicate that the event should be canceled, the routine  proceeds from operation  to operation .","At operation  the remote event receiver caller  determines whether the remote event receiver  provided changed properties A in the remote event result . If so, the routine  proceeds from operation  to operation  where the after properties B for the event are updated with the changed property values specified by the changed properties A. The routine  then proceeds from operation  to operation .","At operation , the remote event receiver caller  determines if additional pre-event receivers  remain to be called. If so, the routine  proceeds from operation  to operation  where the remote event receiver caller  calls the next remote event receiver  having the next highest sequence number. From operation , the routine  proceeds back to operation  where the operations described above are repeated for the next pre-event receiver . If no additional pre-event receivers  remain to be called, the routine  proceeds from operation  to operation .","At operation , the document repository application  commits the after properties B from the event to the document repository, including any changed properties A specified by the remote event receiver . The routine  then proceeds to operation  where the document repository application  performs the repository event . For instance in the example described above, if a user has requested to add, update, or delete an item or list, the document repository application  performs the requested action. From operation  the routine  proceeds to operation .","At operation , the document repository application  determines whether any post-event receivers  have registered for notifications of the event. If not, the routine  proceeds from operation  to operation , where it ends. If post-event receivers  have been registered, the routine  proceeds from operation  to operation .","At operation , the document repository application  instructs the remote event receiver caller  to call the post-event remote event receiver  having the lowest sequence number. In response to such a request, the remote event receiver caller  calls the post-event receiver. The routine  then proceeds to operation .","At operation , the remote event receiver caller  determines whether the called remote event receiver  is a synchronous post-event remote event receiver . If not, the routine  proceeds from operation  to operation  described below. If the called remote event receiver  is a synchronous receiver, the routine  proceeds from operation  to operation .","At operation , the remote event receiver caller  determines whether a Web service response  has been received from called receiver  in response to the Web service call . If not, the routine  proceeds from operation  to operation  where the remote event receiver caller  determines whether the Web service call has failed or timed out. If the Web service call  has not failed or timed out, the routine  proceeds back to operation .","If the Web service call  has timed out, the routine  proceeds to operation  where the error is logged. The routine  then proceeds to operation . It should be appreciated that because the event has already occurred, the failure of a Web service call  to a post-event remote event receiver  will not cause an event to be canceled. It should also be appreciated that since the event has already been completed, a post-event remote event receiver cannot modify the after properties B of an event.","If the remote event receiver caller  determines at operation  that a response  has been received from the called remote event receiver , the routine  proceeds from operation  to operation . At operation  the document repository application  determines whether more post-event receivers  remain to be called. If so, the routine  proceeds to operation  where the remote event receiver caller  calls the next post-event receiver having the next highest sequence number. The routine  then proceeds from operation  to operation , described above. If no additional post-event receivers  remain to be called, the routine  proceeds from operation  to operation , where it ends.",{"@attributes":{"id":"p-0086","num":"0085"},"figref":["FIG. 6","FIGS. 1 and 2"],"b":["600","106","106","600","602","106","106","106"]},"At operation , the remote event receiver  receives a Web service call . The Web service call  is generated by the document repository application  in response to detecting an event of the type that the remote event receiver  has registered for. As discussed above, the Web service call  includes remote event properties , as described above with regard to .","In response to receiving the Web service call , the routine  proceeds from operation  to operation , where the remote event receiver  performs processing based upon of the received remote event properties . The processing may be performed by the remote event receiver  itself. Alternatively, or in combination, processing may also be performed by other processing modules  executing on the third-party computing system . The routine  then proceeds from operation  to operation .","At operation , the remote event receiver  constructs the remote event result . As described above, the remote event result  provides data indicating whether the event should be permitted to continue or be canceled. The remote event result  might also include changed properties A that should be applied to the after properties B associated with the event. Once the remote event result  has been constructed at operation , the routine  proceeds from operation  to operation .","At operation , the remote event receiver  transmits the Web service response , including the remote event result  to the document repository computing system . The Web service response  is received by the remote event receiver caller  or the document repository application  and processed in the manner described above. From operation , the routine  proceeds to operation , where it ends.","It should be appreciated that, in one embodiment, the remote event receiver caller  is also configured to provide an authentication token (not shown) with the Web service call  to remote event receiver . The remote event receiver  can utilize the authentication token to perform a callback operation to the document repository application . Through the callback operation the remote event receiver  can obtain additional information regarding the event from the document repository application . It should be appreciated that the authentication token might also be provided to the remote event receiver  in other ways and at other times, such as when the remote event receiver  is registered with a document repository application .","It should also be appreciated that, in the embodiments described above, the remote event receiver caller  is configured not to re-try Web service calls  to an unresponsive remote event receiver . In other embodiments, however, the remote event receiver caller  may be configured to re-try a Web service call  to an unresponsive receiver .",{"@attributes":{"id":"p-0093","num":"0092"},"figref":["FIG. 7","FIG. 7"]},"The computer architecture shown in  includes a central processing unit  (\u201cCPU\u201d), a system memory , including a random access memory  (\u201cRAM\u201d) and a read-only memory (\u201cROM\u201d) , and a system bus  that couples the memory to the CPU . A basic input\/output system (\u201cBIOS\u201d) (not shown) containing the basic routines that help to transfer information between elements within the computer , such as during startup, is stored in the ROM . The computer  further includes a mass storage device  for storing an operating system , application programs, and other program modules, which will be described in greater detail below.","The mass storage device  is connected to the CPU  through a mass storage controller (not shown) connected to the bus . The mass storage device  and its associated computer-readable storage media provide non-volatile storage for the computer . Although the description of computer-readable media contained herein refers to a mass storage device, such as a hard disk or CD-ROM drive, it should be appreciated by those skilled in the art that computer-readable storage media can be any available computer storage media that can be accessed by the computer .","By way of example, and not limitation, computer-readable storage media may include volatile and non-volatile, removable and non-removable media implemented in any method or technology for storage of information such as computer-readable instructions, data structures, program modules or other data. For example, computer-readable storage media includes, but is not limited to, RAM, ROM, EPROM, EEPROM, flash memory or other solid state memory technology, CD-ROM, digital versatile disks (\u201cDVD\u201d), HD-DVD, BLU-RAY, or other optical storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other non-transitory medium which can be used to store the desired information and which can be accessed by the computer .","It should be appreciated that the computer-readable media disclosed herein also encompasses communication media. Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term \u201cmodulated data signal\u201d means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, radio frequency, infrared and other wireless media. Combinations of the any of the above should also be included within the scope of computer readable media. Computer-readable storage media does not encompass communication media.","According to various embodiments, the computer  may operate in a networked environment using logical connections to remote computers through a network such as the network . The computer  may connect to the network  through a network interface unit  connected to the bus . It should be appreciated that the network interface unit  may also be utilized to connect to other types of networks and remote computer systems. The computer  may also include an input\/output controller  for receiving and processing input from a number of other devices, including a keyboard, mouse, or electronic stylus (not shown in ). Similarly, an input\/output controller may provide output to a display screen, a printer, or other type of output device (also not shown in ).","As mentioned briefly above, a number of program modules and data files may be stored in the mass storage device  and RAM  of the computer , including an operating system  suitable for controlling the operation of a networked desktop, laptop, or server computer. The mass storage device  and RAM  may also store one or more program modules. In particular, the mass storage device  and the RAM  may store one or more software components for providing the functionality described above, such as the remote event receiver caller , the remote event receiver , or another type of program or service. The mass storage device  and RAM  may also store other program modules and data.","In general, software applications or modules may, when loaded into the CPU  and executed, transform the CPU  and the overall computer  from a general-purpose computing system into a special-purpose computing system customized to perform the functionality presented herein. The CPU  may be constructed from any number of transistors or other discrete circuit elements, which may individually or collectively assume any number of states. More specifically, the CPU  may operate as one or more finite-state machines, in response to executable instructions contained within the software or modules. These computer-executable instructions may transform the CPU  by specifying how the CPU  transitions between states, thereby physically transforming the transistors or other discrete hardware elements constituting the CPU .","Encoding the software or modules onto a mass storage device may also transform the physical structure of the mass storage device or associated computer readable storage media. The specific transformation of physical structure may depend on various factors, in different implementations of this description. Examples of such factors may include, but are not limited to: the technology used to implement the computer readable storage media, whether the computer readable storage media are characterized as primary or secondary storage, and the like. For example, if the computer readable storage media is implemented as semiconductor-based memory, the software or modules may transform the physical state of the semiconductor memory, when the software is encoded therein. For example, the software may transform the states of transistors, capacitors, or other discrete circuit elements constituting the semiconductor memory.","As another example, the computer readable storage media may be implemented using magnetic or optical technology. In such implementations, the software or modules may transform the physical state of magnetic or optical media, when the software is encoded therein. These transformations may include altering the magnetic characteristics of particular locations within given magnetic media. These transformations may also include altering the physical features or characteristics of particular locations within given optical media, to change the optical characteristics of those locations. Other transformations of physical media are possible without departing from the scope and spirit of the present description, with the foregoing examples provided only to facilitate this discussion.","Based on the foregoing, it should be appreciated that technologies for providing notification of events occurring within a document repository system to external systems have been disclosed herein. Although the subject matter presented herein has been described in language specific to computer structural features, methodological acts, and computer readable media, it is to be understood that the invention defined in the appended claims is not necessarily limited to the specific features, acts, or media described herein. Rather, the specific features, acts and mediums are disclosed as example forms of implementing the claims.","The subject matter described above is provided by way of illustration only and should not be construed as limiting. Various modifications and changes may be made to the subject matter described herein without following the example embodiments and applications illustrated and described, and without departing from the true spirit and scope of the present invention, which is set forth in the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 5A-5B"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
