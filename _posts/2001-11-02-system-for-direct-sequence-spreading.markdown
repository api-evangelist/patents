---
title: System for direct sequence spreading
abstract: A spreading system according to an embodiment of the invention spreads two data signals. The system produces a filtered signal that is based on one of the data signals and an output signal that is based on both of the data signals. In one example, a spreading system is used to perform QPSK spreading of two data signals, including separate processing of the two data signals, in a practical manner. Such separate control may include filtering and/or gain control.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06999500&OS=06999500&RS=06999500
owner: Qualcomm Inc.
number: 06999500
owner_city: San Diego
owner_country: US
publication_date: 20011102
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND INFORMATION","SUMMARY","DETAILED DESCRIPTION"],"p":["This application claims benefit of U.S. Provisional Patent Application No. 60\/245,232, filed Nov. 3, 2000 and entitled \u201cCIRCUIT FOR DIGITAL DATA TRANSMISSION\u201d.","This invention relates to digital data transmission.","Spread spectrum communication techniques are robust to noise, allow for the use of low transmission power, and have a low probability of intercept. For such reasons, much of the early development of spread spectrum technology was performed by military researchers. Recently, however, the advantages of this technology have led to its increasing use for consumer applications as well: most notably, in advanced digital cellular telephone systems.","Whereas most other communication techniques modulate a carrier signal with one or more data signals alone, spread spectrum techniques also modulate the carrier with a pseudorandom noise or \u2018pseudonoise\u2019 (PN) signal. In the frequency-hopping variant of spread spectrum systems, the value of the PN signal at a particular instant determines the frequency of the transmitted signal, and thus the spectrum of the signal is spread. In the direct sequence spread spectrum (DSSS) variant, the bit rate of the PN signal (called the \u2018chip rate\u2019) is chosen to be higher than the bit rate of the information signal, such that when the carrier is modulated by both signals, its spectrum is spread.","Communication systems that support multiple individual signals over a single channel must employ some technique to make the various signals distinguishable at the receiver. In time-division multiple-access (TDMA) systems, the individual signals are transmitted in nonoverlapping intervals such that they are orthogonal (and thus separable) in time space. In frequency-division multiple-access (FDMA) systems, the signals are bandlimited and transmitted in nonoverlapping subchannels such that they are orthogonal in frequency space. In code-division multiple-access (CDMA) systems, the signals are spread through modulation by orthogonal or uncorrelated code sequences such that they are orthogonal or nearly orthogonal in code space and may be transmitted across the same channel at the same time while remaining distinguishable from each other at the receiver. An exemplary CDMA system is described in U.S. Pat. No. 4,901,307, entitled \u201cSPREAD SPECTRUM MULTIPLE-ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS,\u201d issued Feb. 13, 1990 and assigned to the assignee of the present invention.","In a CDMA DSSS system, then, each individual carrier signal is modulated by a data signal and a pseudonoise (PN) signal that is at least nearly orthogonal to the PN signals assigned to all other users, thus spreading the spectrum of the transmitted signal while rendering it distinguishable from the other users' signals. Before spreading and modulation onto the carrier, the data signal typically undergoes various encoding and interleaving operations designed, for example, to increase data redundancy and allow error correction at the receiver. The data signals may also be encrypted to provide extra security against eavesdroppers. The generation of CDMA signals in a spread spectrum communications system is disclosed in U.S. Pat. No. 5,103,459, issued Apr. 7, 1992, entitled \u201cSYSTEM AND METHOD FOR GENERATING SIGNAL WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM,\u201d assigned to the assignee of the present invention.","In order to spread the spectrum of the input data signal or signals, direct sequence spread spectrum systems typically use a variant of phase-shift keying (PSK), such as binary PSK (BPSK) or quadrature PSK (QPSK). In BPSK spreading, for example, the mapping of data input to spreading system output may be defined by the following complex relation:\n\nout(out)=(in)+(in)\n\n\u2200n=1, 2, . . . , N,\n\nwhere in_n designates an input data signal; pn_I_n and pn_Q_n designate the corresponding pseudonoise sequences for the I and Q channels, respectively; out_I_n and out_Q_n designate the corresponding output I and Q components; j designates the square root of \u22121; N designates the number of input data signals to be modulated onto the carrier; and the various input signals, output components, and pseudonoise sequence elements may have values of +1 or \u22121.  shows a diagram for a BPSK spreader array that implements the relation above using two multipliers  and  as spreaders, and TABLE 1 shows the output values corresponding to the given range of inputs.\n",{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 2","FIG. 1","FIG. 1","FIG. 3"],"b":["30","40","1","1"]},{"@attributes":{"id":"p-0010","num":"0009"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"56pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["in_n","pn_I_n","pn_Q_n","out_I_n","out_Q_n"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u22121","\u22121","\u22121","\u22121","\u22121"]},{"entry":["\u22121","\u22121","+1","\u22121","+1"]},{"entry":["\u22121","+1","\u22121","+1","\u22121"]},{"entry":["\u22121","+1","+1","+1","+1"]},{"entry":["+1","\u22121","\u22121","\u22121","\u22121"]},{"entry":["+1","\u22121","+1","\u22121","+1"]},{"entry":["+1","+1","\u22121","+1","\u22121"]},{"entry":["+1","+1","+1","+1","+1"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0011","num":"0010"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Analog value","Digital representation"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u22121","1"]},{"entry":[{},"+1","0"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0012","num":"0011"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"56pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["IN_n","PN_I_n","PN_Q_n","OUT_I_n","OUT_Q_n"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["0","0","0","0","0"]},{"entry":["0","0","1","0","1"]},{"entry":["0","1","0","1","0"]},{"entry":["0","1","1","1","1"]},{"entry":["1","0","0","1","1"]},{"entry":["1","0","1","1","0"]},{"entry":["1","1","0","0","1"]},{"entry":["1","1","1","0","0"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 4","FIG. 5"],"b":["1","2","1","2","100","110","120","130","140","150","160","170","180"]},"The most commonly used type of digital filter is the linear constant coefficient filter, which may be constructed to have a finite impulse response (FIR) or an infinite impulse response (IIR). An example block diagram for a generic three-tap finite-impulse-response (FIR) digital filter which implements the transfer function\n\n()=\n\nis displayed in , where D designates a delay element and G through G designate gain elements which may be implemented as constant multipliers whose factors are the coefficients gthrough g.\n","An example block diagram (in direct form II) for a generic three-tap infinite-impulse-response (IIR) digital filter which implements the transfer function \n\n\nis displayed in , where D designates a delay element and A through A and B through B designate gain elements which may be implemented as constant multipliers whose factors are the coefficients athrough aand bthrough b, respectively. Respective properties and advantages of FIR and IIR filters, various other filter structures besides those displayed in , and different methods of choosing the filter coefficients are discussed in such works as , 2ed., A. B. Williams and F. J. Taylor, McGraw-Hill, New York, N.Y., 1988; section XVI of , ed. by W.-K. Chen, CRC Press, Boca Raton, Fla., 1995; and , E. P. Cunningham, Houghton Mifflin, Boston, Mass., 1992.\n","In practice, the pulse-shaping filters will typically have a large number of taps in order to provide a sharp cutoff, usually at one-half of the chip rate. By way of example, a pulse-shaping FIR filter after the TR45 Mobile Station\u2014Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular Systems (TIA\/EIA\/SP-3693 [to be published as TIA\/EIA-95], TIA [Telecommunications Industry Association], Arlington, Va., 1997) has 48 taps, whose coefficients gthrough gare given in TABLE 4. The two-volume TR45 Standard referenced above specifies numerous aspects of an exemplary CDMA DSSS application whose performance may be improved through the use of the present invention.",{"@attributes":{"id":"p-0017","num":"0016"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"right"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 4"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"n","g"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"right"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"0, 47","\u22120.025288315"]},{"entry":[{},"1, 46","\u22120.034167931"]},{"entry":[{},"2, 45","\u22120.035752323"]},{"entry":[{},"3, 44","\u22120.016733702"]},{"entry":[{},"4, 43","0.021602514"]},{"entry":[{},"5, 42","0.064938487"]},{"entry":[{},"6, 41","0.091002137"]},{"entry":[{},"7, 40","0.081894974"]},{"entry":[{},"8, 39","0.037071157"]},{"entry":[{},"9, 38","\u22120.021998074"]},{"entry":[{},"10, 37","\u22120.060716277"]},{"entry":[{},"11, 36","\u22120.051178658"]},{"entry":[{},"12, 35","0.007874526"]},{"entry":[{},"13, 34","0.084368728"]},{"entry":[{},"14, 33","0.126869306"]},{"entry":[{},"15, 32","0.094528345"]},{"entry":[{},"16, 31","\u22120.012839661"]},{"entry":[{},"17, 30","\u22120.143477028"]},{"entry":[{},"18, 29","\u22120.211829088"]},{"entry":[{},"19, 28","\u22120.140513128"]},{"entry":[{},"20, 27","0.094601918"]},{"entry":[{},"21, 26","0.441387140"]},{"entry":[{},"22, 25","0.785875640"]},{"entry":[{},"23, 24","1.0"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"After filtering, the digital signals may be gain-adjusted (not shown) before conversion to analog by a digital-to-analog converter (not shown). Examples of such steps are described in, e.g., U.S. Pat. No. 5,103,459 referenced above. Then the analog signals corresponding to the various OUT_I_n are summed to create the in-phase component of the transmitter output, and the analog signals corresponding to the various OUT_Q_n are summed to create the quadrature output.","Note that in this BPSK implementation, the paths of the various input data signals do not coincide until after the signals have been converted into analog. Specifically, each signal outputted by the spreading system is based on only one data signal. Therefore, one data signal may be processed differently from another either before or after BPSK spreading.","In other PSK modulation schemes, however, each spread signal outputted by the spreading system may be based on more than one data signal. Consequently, when using existing spreading systems for such schemes, any separate processing of the data signals must be performed before spreading. In a case where the separate processing operation increases the complexity of the data signal (for example, by increasing the width of the data signal in bits), the resulting increase in the complexity of the spreading system that may be required may render the desired implementation impracticable. It is desirable to obtain a practical spreading system that enables such processing to be performed.","A spreading system according to one embodiment of the invention includes a first spreader, a second spreader, a filter, and an adder. The first spreader is configured and arranged to produce a first spread signal based on a first data signal. For example, the first spreader (which may be implemented as an XOR gate) may spread the first data signal with a first pseudonoise sequence. The second spreader is configured and arranged to produce a second spread signal based on a second data signal. For example, the second spreader (which may also be implemented as an XOR gate) may spread the second data signal with a second pseudonoise sequence, which may be different from the first pseudonoise sequence.","The filter is configured and arranged to produce a filtered signal based on the first spread signal. The filter may receive the first spread signal as a one-bit-wide signal and may output the filtered signal as a signal having a width greater than one bit. In one implementation, the filter includes a lowpass filter having a cutoff frequency that is substantially equal to one-half of a bit rate of the first spread signal.","The adder is configured and arranged to produce a digital sum signal based on the filtered signal and the second spread signal. In some implementations, the adder may subtract one of its inputs from the other.","A spreading system according to another embodiment of the invention includes a gain element, which may include a multiplier. In one implementation, the gain element occurs in the signal path between the filter and the adder. In another implementation, the gain element occurs in the signal path between the second spreader and the adder.","A spreading system according to another embodiment of the invention includes a third spreader and a fourth spreader. The third spreader is configured and arranged to produce a third spread signal based on the first data signal. For example, the first spreader (which may be implemented as an XOR gate) may spread the first data signal with the second pseudonoise sequence. The fourth spreader is configured and arranged to produce a fourth spread signal based on the second data signal. For example, the fourth spreader (which may also be implemented as an XOR gate) may spread the second data signal with the first pseudonoise sequence.","Other embodiments and applications of the invention (including methods of digital signal processing) are also described herein.","In QPSK spreading, the mapping of data input to spreading system output may be defined by the following complex relation:\n\nout(out)=\u00bd\u00d7[in(in)]\u00d7()],\n\nwhere in_I and in_Q are the two input data signals; pn_and pn_Q are the pseudonoise sequences for the I and Q channels, respectively; out_I and out_Q are the output signals for the I and Q channels, respectively; j is the square root of \u22121; and the input signals and pseudonoise sequence elements may have values of +1 or \u22121.  shows a circuit diagram for a basic QPSK spreading system  which implements the relation above, using four multipliers , , , and  as spreaders; two adders  and ; and two scalers  and  each having a scaling factor of 0.5. TABLE 5 shows the output values for spreading system  that correspond to the given range of inputs.\n",{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 9","FIG. 8","FIG. 10"],"b":["300","310","320","330","340","350","360","350","360","310","320","330","340","300","300","300"]},{"@attributes":{"id":"p-0046","num":"0045"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"7"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"42pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 5"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"6","align":"center","rowsep":"1"}}]},{"entry":[{},"in_I","in_Q","pn_I","pn_Q","out_I","out_Q"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"6","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"7"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"6","colwidth":"42pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u22121","\u22121","\u22121","\u22121","0","+1"]},{"entry":[{},"\u22121","\u22121","\u22121","+1","+1","0"]},{"entry":[{},"\u22121","\u22121","+1","\u22121","\u22121","0"]},{"entry":[{},"\u22121","\u22121","+1","+1","0","\u22121"]},{"entry":[{},"\u22121","+1","\u22121","\u22121","+1","0"]},{"entry":[{},"\u22121","+1","\u22121","+1","0","\u22121"]},{"entry":[{},"\u22121","+1","+1","\u22121","0","+1"]},{"entry":[{},"\u22121","+1","+1","+1","\u22121","0"]},{"entry":[{},"+1","\u22121","\u22121","\u22121","\u22121","0"]},{"entry":[{},"+1","\u22121","\u22121","+1","0","+1"]},{"entry":[{},"+1","\u22121","+1","\u22121","0","\u22121"]},{"entry":[{},"+1","\u22121","+1","+1","+1","0"]},{"entry":[{},"+1","+1","\u22121","\u22121","0","\u22121"]},{"entry":[{},"+1","+1","\u22121","+1","\u22121","0"]},{"entry":[{},"+1","+1","+1","\u22121","+1","0"]},{"entry":[{},"+1","+1","+1","+1","0","+1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"6","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0047","num":"0046"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 6"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Analog value","Digital representation"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u22121","11"]},{"entry":[{},"0","00"]},{"entry":[{},"+1","01"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"Note in  that the I and Q input data streams are no longer processed in separate paths: the output on the I channel depends in part on the input on the Q channel, and the output on the Q channel depends in part on the input on the I channel. As described below, such commingling of the input data signals may cause complications when it is desired to incorporate features for enhanced performance into the architecture.","Some existing spread spectrum systems implement a pilot signal on the forward link (i.e. the path from the base station to the mobile station, also called the downlink) in order to provide the phase reference needed for coherent demodulation. Although adding a pilot signal to the channel increases the noise level, it has been determined that the added interference is more than offset by the gain in bit-error rate which is realized by using coherent demodulation. Moreover, an additional advantage may be gained in that the presence of a known pilot signal enables the use of channel estimation techniques.","While it is desirable to obtain the same advantages on the reverse link (i.e. the path from the mobile station to the base station, also called the uplink), implementing a pilot signal on the reverse link is more problematic. Because many different mobile stations may be transmitting on the same reverse link channel at once, simply adding a different pilot signal to each one of those transmissions would create unacceptable levels of interference.","In new spread spectrum systems, this problem is being overcome in part by using different pilot\/data signal power ratios for different data transmission rates. One way to implement this feature is to introduce a gain element into either the pilot signal or the data signal.  shows a circuit in which separate gain elements for the pilot and data signals are used (where, for example, the pilot signal is transmitted as IN_I and the data signal is transmitted as IN_Q). Unfortunately, inserting such gain elements causes the complexity of the rest of the system to increase dramatically.","In the BPSK implementation of , a mathematically equivalent result may be obtained whether gain control is performed on a signal IN_n or, alternatively, on a corresponding pair of signals I_n and Q_n. (Note that it may be necessary to implement the gain control differently for each of these two cases, and that the two results may therefore differ somewhat because of associated errors such as roundoff.) This equivalence is possible, in part, because each digital output signal in this BPSK implementation depends on only one input signal. Consequently, the designer may choose whichever approach will produce the least total complexity: for example, to perform gain control on the output signals so that the input signals to the pulse-shaping filters will remain only one bit wide.","In the QPSK spreader of , however, the input signals become commingled. Therefore, a similar rearrangement is not possible in conventional QPSK implementations, and in these systems gain control must be performed before the signals are inputted to the spreading system. Because the gain elements transform a one-bit-wide input into an output some M bits wide, the input to the spreading system is now an M-bit-wide stream instead of a single-bit wide stream, and the elements of the spreading system must therefore become more complex. This increase in circuit complexity is compounded at the pulse-shaping filters  and , as these devices typically perform many more operations per sample than the spreaders.","As described above, conventional approaches to adding individual gain control to the inputs of a QPSK spreading system result in a significant increase in hardware complexity. A spreading system according to an embodiment of the invention as illustrated in  incorporates a novel rearrangement of circuit elements in performing an equivalent digital function with a significant reduction in hardware and power requirements. In order to show how the system illustrated in  can perform the same operation as the circuit in  with less complex hardware, we demonstrate its equivalence with a series of transformations.","First, we divide the QPSK spreading system of  into two sections  and , separating the spreading adders  and  from the spreading multipliers , , , and . (The scalers  and  in  may accompany the adders into section  or may be incorporated into a later stage. In many implementations, only the relative values of the output signals are of interest, and not their absolute values, and the scalers may therefore be omitted as in , , and .) Applying this operation to the circuit of ; moving gain elements  and  to follow the spreading multipliers; and adding gain elements  and  being functional equivalents of gain elements  and , respectively, we obtain the circuit of . Factors supporting the commutation of the multiplication and gain operations to obtain a theoretically identical result include equivalence of the gain operation to a multiplication operation, that multiplication is linear and time-invariant operation, and that the input paths remain separated at the outputs of the spreading multipliers.","In the circuit of , the inputs to the multiplier spreaders are now only one bit wide. Therefore, we may implement each of these multipliers with only a single XOR gate (as illustrated in  with XOR gates , , , and ) in place of the M-bit multiplier that would be required using a conventional arrangement. Possible advantages include improvements in both circuit area and speed.","Because linear constant coefficient filters are also linear and time-invariant operators, we may perform the same type of rearrangement to the right side of , moving the pulse-shaping filters before the spreading adders to obtain the circuit of . Filters  and  may be equivalent to filters  and , respectively, or they may be simpler, depending on whether the widths of the inputs to filters  and  are equal to or greater than M. Filters  and  are functional equivalents of filters  and , respectively. Depending on the widths of the outputs of filters , , , and , adders  and  may be the same as adders  and , respectively, or they may have different input widths. At first, this rearrangement may not appear desirable, as it includes four M-bit-input pulse-shaping filters instead of only two. However, additional modification of this arrangement may be performed.","In a following step of this demonstration, we move the gain elements after the pulse-shaping filters as in . The inputs to the gain elements , , , and  are now multiple bits wide, causing a modest increase in complexity. In this example, however, the inputs to the filters , , , and  are only one bit wide. This feature enables a much greater decrease in overall complexity: while each gain element incorporates the equivalent of only one multiplication, each filter performs the equivalent of numerous multiplications.","By potentially reducing the filter input to a one-bit binary signal, application of the invention as demonstrated may also enable the use of further optimizations. For example, U.S. Utility patent application Ser. No. 10\/003,913 , entitled \u201cDIGITAL FILTER WITH STATE STORAGE\u201d and filed on Oct. 31, 2001, discloses a digital filter that may be implemented as a one-bit-wide-input pulse-shaping filter and is hereby incorporated by reference. Depending on the widths of their inputs, adders  and  may be the same as adders  and , respectively, or they may have different input widths.","In order to control a ratio between the levels of signals IN_I and IN_Q, it may only be necessary to control the level of one of the two signals.  shows a spreading system according to an embodiment of the invention wherein the gain of only one input signal path is controlled via gain elements  and , thus simplifying the architecture somewhat. If it is also desirable to control the overall gain of the output signal, such gain control may be added in an additional stage or may be incorporated into an existing later stage. Depending on the widths of their inputs, adders  and  may be the same as adders  and , respectively, or they may have different input widths.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":["FIG. 17","FIG. 16"],"b":["610","640","1","352","362","305","307"]},"The foregoing description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments are possible, and the generic principles presented herein may be applied to other embodiments as well. For example, an embodiment of the invention may be implemented in part or in whole as a hard-wired circuit or as a circuit configuration fabricated into an application-specific integrated circuit.","An embodiment of the invention may also be implemented in part or in whole as a firmware program loaded into non-volatile storage or a software program loaded from or into a data storage medium as machine-readable code, such code being instructions executable by an array of logic elements such as a microprocessor or other digital signal processing unit. Thus, the present invention is not intended to be limited to the embodiments shown above but rather is to be accorded the widest scope consistent with the principles and novel features disclosed in any fashion herein."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 9","FIG. 8"]},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":["FIG. 12","FIG. 11"]},{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 13","FIG. 12"],"b":"400"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 14","FIG. 12"]},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 17"}]},"DETDESC":[{},{}]}
