---
title: Arrangement for accessing an IP-based messaging server by telephone for management of stored messages
abstract: An arrangement for accessing messages in an IMAP message store via telephone using a unified web-based voice messaging system as an e-mail client for the IMAP message store. The unified Web-based voice messaging system includes a browser configured for generating an audio file that stores received voice signals specifying a messaging operation, and an application server. The application server is configured for outputting an HTML page in response to a user request via the HTTP connection, the HTML page having an XML element that defines data for an audio operation to be performed by an executable audio resource within a web browser or a proxy browser. The application server includes a speech recognition process configured for identifying the messaging operation by interpreting the audio file. Upon identifying the messaging operation and associated operand, the application server outputs a function call for the identified messaging operation to the IMAP message store. The application server also includes text to speech capabilities, enabling an e-mail message or fax message to be converted to an audible format for playback by the browser for the telephony user. Hence, a telephony user can access and manage voice, e-mail, or fax messages stored on the IMAP message store.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06857008&OS=06857008&RS=06857008
owner: Cisco Technology, Inc.
number: 06857008
owner_city: San Jose
owner_country: US
publication_date: 20000419
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","BEST MODE FOR CARRYING OUT THE INVENTION"],"p":["1. Field of the Invention","The present invention relates to unified voice messaging systems enabling voice, fax, and e-mail messages to be retrieved via a telephone.","2. Description of the Related Art","The evolution of the public switched telephone network has resulted in a variety of voice applications services that can be provided to individual subscribers and business subscribers. Such services include voice messaging systems that enable landline or wireless subscribers to record, playback, and forward voice mail messages. However, the ability to provide enhanced services to subscribers of the public switched telephone network is directly affected by the limitations of the public switched telephone network. In particular, the public switched telephone network operates according to a protocol that is specifically designed for the transport of voice signals; hence any modifications necessary to provide enhanced services can only be done by switch vendors that have sufficient know-how of the existing public switched telephone network infrastructure.","A particular concern involves existing voice messaging systems, where voice mail storage is highly restricted in both function and capacity due to limited voice mail system features implemented by switch vendors. In particular, all voice and fax messages are typically held in a single inbox, and are categorized based on whether the user has listened to the messages; hence, voice mail users are forced to keep their messages in a single inbox. In contrast, existing e-mail clients executed by computers enable users to store and manage e-mail messages in multiple folders that are customized by the users. Hence, existing voice mail messaging systems designed and implemented according to the conventional public switched telephone network paradigm are highly restricted in the availability of advanced voice mail system features.","An open standards-based Internet protocol (IP) network, such as the World Wide Web, the Internet, or a corporate intranet, has provided dramatically-improved client-server type application services for clients by enabling the clients to request application services from remote servers using standardized protocols, for example hypertext transport protocol (HTTP). The web server application environment can include web server software, such as Apache, implemented on a computer system attached to the IP network. Web-based applications are composed of HTML pages, logic, and database functions. In addition, the web server may provide logging and monitoring capabilities. In the case of services such as electronic mail, the Internet Message Access Protocol (IMAP) enables clients to access electronic mail or bulletin board messages that are kept on a mail server, such as a shared server. Hence, a client e-mail program can access and manage e-mail messages stored on a remote IMAP server from a desktop computer at home, a workstation at the office, or a notebook computer while traveling, without the need to transfer messages or files back and forth between these computers.","Commonly-assigned, copending application Ser. No. 09\/480,485, filed Jan. 11, 2000, entitled Application Server Configured for Dynamically Generating Web Pages for Voice Enabled Web Applications, the disclosure of which is incorporated in its entirely herein by reference, discloses an application server that executes a voice-enabled web application by runtime execution of extensible markup language (XML) documents that define the voice-enabled web application to be executed. The application server includes a runtime environment that establishes an efficient, high-speed connection to a web server. The application server, in response to receiving a user request from a user, accesses a selected XML page that defines at least a part of the voice application to be executed for the user. The XML page may describe any one of a user interface such as dynamic generation of a menu of options or a prompt for a password, an application logic operation, or a function capability such as generating a function call to an external resource, such as an IMAP message store. The application server then parses the XML page, and executes the operation described by the XML page, for example dynamically generating an HTML page having voice application control content, or fetching another XML page to continue application processing. In addition, the application server may access an XML page that stores application state information, enabling the application server to be state-aware relative to the user interaction. Hence, the XML page, which can be written using a conventional editor or word processor, defines the application to be executed by the application server within the runtime environment, enabling voice enabled web applications to be generated and executed without the necessity of programming language environments.","There is a need for an arrangement that enables telephone users to access server-based messages, such as e-mail, voice mail, and faxes, without the necessity of an e-mail client.","There is also a need for an arrangement that enables telephone users to organize messages stored on a message server, including storing messages in selected folders, retrieving messages from selected folders, and to search messages within folders.","These and other needs are attained by the present invention, where a unified messaging platform is configured for interpreting voice signals specifying a messaging operation, and generating a function call specifying the messaging operation to a messaging server according to IP protocol.","One aspect of the present invention provides a method by an application server for accessing a messaging server. The method includes receiving, from a browser configured for dynamic control of audio operations, an HTTP request having an audio file that stores received voice signals specifying a messaging operation, identifying the messaging operation in the application server by interpreting the audio file, and outputting a function call specifying the messaging operation to the messaging server according to IP protocol. Identification of the messaging operation by the application server interpreting the audio file enables the application server to generate the corresponding function call to the messaging server. Hence, use of the browser and application server provides unified messaging capabilities, enabling the user to access and manage messages in an IMAP type messaging server merely by using an audio input device, such as a telephone.","Another aspect of the present invention provides a system configured for accessing a messaging server. The system includes an HTTP interface configured for receiving an HTTP request from a browser configured for dynamic control of audio operations. The HTTP request has an audio file that stores voice signals received by the browser from a user input device and specifies a messaging operation. The application server also includes an executable application runtime environment configured for generating for the browser an HTML page having media content information and media control information in response to the HTTP request. The executable application runtime environment is configured for outputting a selected function call specifying the messaging operation to the messaging server according to a prescribed messaging protocol.","Additional advantages and novel features of the invention will be set forth in part in the description which follows and in part will become apparent to those skilled in the art upon examination of the following or may be learned by practice of the invention. The advantages of the present invention may be realized and attained by means of instrumentalities and combinations particularly pointed out in the appended claims.",{"@attributes":{"id":"P-00020","num":"00020"},"figref":"FIG. 1","b":["10","10","12","14"]},"The Internet Message Access Protocol, Version 4rev1 (IMAP4rev1) is configured to allow the client  to access and manipulate electronic mail messages on the server . The IMAP4rev1 protocol permits manipulation of remote message folders, called \u201cmailboxes\u201d, including operations for creating, deleting, and renaming mailboxes. The IMAP4rev1 protocol also includes operations for checking for new messages, permanently removing messages, setting and clearing flags, parsing, searching, and selective fetching of messaging attributes.","According to the disclosed embodiment, a unified messaging platform  enables users to access both e-mail and voice mail messages from the IMAP message  store using telephony type input devices such as an analog telephone  or a cellular telephone \u2032. In particular, the unified messaging platform  is configured for receiving voice signals from the input devices  or \u2032, across the respective communications links  and . For example, the link  may be implemented by a public switched telephone network configured for transporting analog voice signals, where the unified messaging platform  would include an interface, described below as a proxy browser, that serves as a front end for the unified messaging platform  for a telephony interface device (e.g., a PBX) in communication with the input device . Similarly, the link  may be implemented as a digital cellular telephone network, where the proxy browser of the unified message platform  interfaces with a mobile telephone switching office (MTSO) of a digital cellular telephone network.","The unified messaging platform  is configured for identifying from the voice signals the messaging operation to be performed, and outputting a function call specifying the messaging operation to be performed to the IMAP message store  via an IP link . Hence, the unified messaging platform  serves as an e-mail client accessing the IMAP message store . Moreover, the unified messaging platform  is configured for storing voice messages as .wav files, enabling the IMAP message store  to be used as a unified messaging server for storage of the mail messages, as well as voice messages as .wav files. In addition, the unified messaging platform  includes speech recognition and text to speech capabilities, enabling a user to have e-mail or fax messages stored in the IMAP message converted into an audible format, enabling the user of the telephony type devices  to listen to the playback of the e-mail or fax messages.","The unified messaging platform  also enables the user of the telephony devices  to manage his or her messages by specifying messaging operations. The messaging operations are identified by the unified messaging platform , enabling the storage, transfer, or deletion of a voice mail message or an e-mail message specified by the user in a message folder specified by the user.","Hence, users can retrieve messages (e.g., voice mail, e-mail, or fax messages) that are stored in directories on the IMAP message server  using a telephony interface. If desired, users can continue to manipulate messages in the IMAP message store  using their conventional e-mail client . Hence, the disclosed arrangement is particularly beneficial for users to do not have ready access to their e-mail client, or who prefer telephony based message management.",{"@attributes":{"id":"P-00026","num":"00026"},"figref":["FIG. 2","FIG. 1"],"b":["16","42","42","64","44","42","12","44","10","50","14","42","56"],"i":["a ","b","a ","b "]},"As shown in , each of the clients (tiny clients, skinny clients, thin clients and fat clients) are able to communicate via a single, unified architecture  that enables voice communications services between different clients, regardless of whether the client actually has browser capabilities. Hence, the fat client and the thin client are able to execute voice enabled web applications without any hardware modification or any modification to the actual browser; rather, the browsers  in the clients and merely are provided with an executable voice resource configured for providing browser audio control, described below.","The user devices , , and , illustrated as a cordless telephone , a fax machine having an attached telephone, and an analog telephone , are referred to herein as \u201cskinny clients\u201d, defined as devices that are able to interface with a user to provide voice and\/or data services (e.g., via a modem) but cannot perform any control of the associated access subnetwork.","The wireless user devices , , and , illustrated as a cellular telephone (e.g., AMPS, TDMA, or CDMA) , a handheld computing device (e.g., a 3-Com Palm Computing or Windows CE-based handheld device) , and a pager , are referred to as tiny clients. \u201cTiny clients\u201d are distinguishable from skinny clients in that the tiny clients tend to have even less functionality in providing input and output interaction with a user, rely exclusively on the executable application in an access subnetwork to initiate communications; in addition, tiny clients may not be able to send or receive audio signals such as voice signals at all.","Hence, the skinny clients , , and and the tiny clients , , and access the unified voice messaging services in the unified network  via a proxy browser , configured for providing an IP and HTTP interface for the skinny clients and the tiny clients. In particular, browsers operate by interpreting tags within a web page supplied via an HTTP connection, and presenting to a user media content information (e.g., text, graphics, streaming video, sound, etc.) based on the browser capabilities; if a browser is unable to interpret a tag, for example because the browser does not have the appropriate executable plug-in resource, then the browser typically will ignore the unknown tag. Hence, the proxy browser  can provide to each of the skinny clients and tiny clients the appropriate media content based on the capabilities of the corresponding client, such that the cordless telephone and telephone would receive analog audio signals played by the proxy browser  and no text information (unless a display is available); the fax machine and pager would only receive data\/text information, and the cellular telephone and the handheld computing device would receive both voice and data information. Hence, the proxy browser  interfaces between the IP network and the respective local access devices for the skinny clients and the tiny clients to provide access to the unified messaging network .","The proxy browser  and the web browsers  within the fat client and the thin client execute voice enabled web applications by sending data and requests to a web server , and receiving hypertext markup language (HTML) web pages from the web server , according to hypertext transport protocol (HTTP). The web server  serves as an interface between the browsers and an application server  that provides an executable runtime environment for XML voice applications . For example, the web server  may access the application server  across a common Gateway Interface (CGI), by issuing a function call across an application programming interface (API), or by requesting a published XML document or an audio file requested by one of the browsers  or . The application server , in response to receiving a request from the web server , may either supply the requested information in the form of an HTML page having XML tags for audio control by a voice resource within the browser, or may perform processing and return a calculated value to enable the browser  or  to perform additional processing.","The application server  accesses selected stored XML application pages (i.e., pages that define an application) and in response generate new XML pages during runtime and supply the generated XML pages to the web server . Since multiple transactions may need to occur between the browser  or  and the application server , the application server  is configured for storing for each existing user session a data record, referred to as a \u201cbrownie\u201d, that identifies the state of the existing user session; hence, the application server  can instantiate a procedure, return the necessary data, and terminate the procedure without the necessity of maintaining the instance running throughout the entire user session.",{"@attributes":{"id":"P-00033","num":"00033"},"figref":["FIG. 3","FIG. 3"],"b":["66","66","66","70","72","74","66","76","66","64"]},"The application server  also includes a runtime environment  for execution of the parsed XML documents. The runtime environment  may selectively execute any one of user interface operation , a logic operation , or a procedure call  as specified by the parsed XML document. In particular, the application runtime environment  includes a tag implementation module  that implements the XML tags parsed by the XML parser . The tag implementation module  performs relatively low-level operations, for example dynamically generating an XML menu page in response to detecting a menu tag, performing a logical operation in response to a decision tag, or fetching an audio (.wav) file in response to detecting a sound tag. Hence, the tag implementation module  implements the tag operations that are specified within the XML framework of the stored XML documents.","The application server  also includes a set of libraries  that may be implemented as dynamically linked libraries (DLLs) or application programming interface (API) libraries. The libraries  enable the runtime environment  to implement the procedures  as specified by the appropriate XML document. For example, the application server  may issue a function call to one of a plurality of IP protocol compliant remote resources , , or  according to IMAP protocol, LDAP Protocol, or SMTP protocol, respectively. For example, the PHP hypertext processor includes executable routines capable of accessing the IMAP or LDAP services. Note that the mechanisms for accessing the services , , or  should be established within the application server before use of XML documents that reference those services.","According to the disclosed embodiment, the user interface services  include a speech recognition (SR) process and a text to speech (TTS) process for converting between the voice-based communications by the user of a telephony input device and the text-based data format of messages stored in the IMAP message store . In particular, the speech recognition process is configured for identifying a messaging operation and associated operands (e.g., selected messaging folder, selected message) by interpreting an audio (.wav) file supplied by the proxy browser  during recording of a user's voice signals specifying a messaging operation. The text to speech process is configured for converting text-based messages such as e-mail messages or facsimile messages stored in the IMAP message store into an audio (.wav) file to be sent in an HTML page for playback by the proxy browser  for the user of the telephony device . Additional details of the application server  and the corresponding interactions between the browsers  and  are disclosed in the above-incorporated application Ser. No. 09\/480,485.",{"@attributes":{"id":"P-00037","num":"00037"},"figref":["FIG. 4","FIG. 4"],"b":["10","18","100","56","62","56","62","56","62","66","56","62"]},"The browser  or  then posts in step  an HTTP request, including the recorded .wav file carrying the voice signals specifying the messaging operation, to the application server  at a prescribed URL specified by the previously-supplied HTML page. In response to receiving the HTTP request, the application server  in step  accesses a stored XML document (\u201cbrownie\u201d) from the registry  in order to determine the session state with the user specified in the HTTP request, and accesses the appropriate application XML document based on the URL and the determined session state from the accessed brownie. The XML parser  parses the accessed application XML document, and in response to determining that the accessed application XML document includes an XML tag (i.e., voice command identifier) that specifies performing an IMAP operation based on supplied user speech information, the application runtime environment  instantiates in step  the speech recognition process from the user interface services  and identifies from the supplied audio (.wav) file the specified messaging operation and any specified operands, including a reference to folder, a reference e-mail, etc. The application runtime environment  than selects the appropriate function call from the library , and outputs the IMAP function call in step  to the IMAP message store .","The IMAP message store  performs the appropriate messaging operation in response to receiving the IMAP function call in step  (e.g., store a message in a selected folder, retrieve a message from a selected folder, delete a message from a selected folder, or create, modify, or delete a selected folder, etc.) and returns a result back to the application server .","The application server  receives the response back from the IMAP message store  in step . Typically the response will include a requested voice message in the form of a .wav file, or an e-mail message. Alternately, the response may include an acknowledgment or denial as to whether a requested operation (e.g., create, modify or delete a folder) has been performed. The application server  in step  utilizes the text to speech converter in the user interface services  to convert an e-mail message into a .wav file that can be played for the telephony device ; if the IMAP message store  has forwarded a .wav file, the application server  merely supplies the .wav file as part of the dynamically generated HTML page. The application server  then outputs the generated HTML page including the .wav file to the browser  or  in step , updates the corresponding brownie, and terminates the executable process in the runtime environment .","The browser (e.g., the proxy browser ), upon receiving the HTML page, determines the capabilities for the corresponding input device . In this case, the proxy browser  determines that the input device  is a telephony device capable of receiving audio signals, and plays in step  the .wav file in the HTML page based on XML media tag control information within the HTML page. In particular, the XML media tag control information enables the proxy browser  to play multiple .wav files in a prescribed order, providing for the user the perception of playing the message (voice mail message, e-mail, or fax), followed by a prompt-based menu allowing the user to decide whether to continue with other options or whether to exit from the messaging system.","According to the disclosed embodiment, voice, e-mail, and fax messages stored on an IMAP server can be stored using folders controlled by telephone users. Hence, unified message users can retrieve messages using their telephones.","While this invention has been described in connection with what is presently considered to be the most practical and preferred embodiment, it is to be understood that the invention is not limited to the disclosed embodiments, but, on the contrary, is intended to cover various modifications and equivalent arrangements included within the spirit and scope of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Reference is made to the attached drawings, wherein elements having the same reference numeral designations represent like elements throughout and wherein:",{"@attributes":{"id":"P-00016","num":"00016"},"figref":"FIG. 1"},{"@attributes":{"id":"P-00017","num":"00017"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"P-00018","num":"00018"},"figref":"FIG. 3","b":"2"},{"@attributes":{"id":"P-00019","num":"00019"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
