---
title: Digital file management and imaging system and method including secure file marking
abstract: The digital file management and imaging system and method of the present invention record additional independent data with each stored image including: a “true date” which is gleaned from a secure clock which is not settable by the user (the Authentidate™); a number derived from a cyclic redundancy code (CRC) algorithm against the image data; this number is called the “image CRC”; and a CRC derived from the “true date”, called the “date CRC”. This additional data is recorded within each digital file as soon as possible after the file is acquired. If the file is altered in any way after the recording of the additional data, recalculation of the image CRC on the altered file will not match the original image CRC recorded within it. Thus, the fact that it has been altered can be detected. Likewise, if the true date is altered in any way, recalculation of the date CRC will similarly reveal this fact. The image and date CRCs can be checked and verified at any time. If the recalculated value matches the recorded value, it can be stated that the image presently recorded was recorded on the specified date and has not been altered in any way since then.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07415476&OS=07415476&RS=07415476
owner: Authentidate Holding Corp.
number: 07415476
owner_city: Berkeley Heights
owner_country: US
publication_date: 20030310
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY AND OBJECTS OF THE INVENTION","DETAILED DESCRIPTION OF THE DRAWINGS"],"p":["This application is a continuation of U.S. patent application Ser. No. 09\/259,135 now abandoned filed Feb. 26, 1999.","This invention relates generally to digital imaging systems and more particularly to digital file authentication.","Digital imaging is the representation, and storage, of an image or object as a digital raster image. Digital imaging is increasingly used in many industries, partly because of the increased availability of enabling technology and partly due to the many advantages offered over conventional storage methods including: reduced storage space, increased access speed, focused retrievability (e.g., search capabilities), the ability to conveniently make \u201cmultiple\u201d and \u201cbackup\u201d copies of documents, and the ability to transfer or transmit documents quickly.","In the case of paper document originals, digital imaging systems will typically scan the paper document and store a representation of the scanned document as a digital raster image. An optical scanning device is typically used to scan images of the paper originals for storing as a digital image. The scanned images are exact representations of the original (limited only by the resolution limit of the scanning device), and can include handwriting, signatures, photos, figures, etc. Alternatively, digital images originating from digital cameras, medical imaging devices, or other sources may also be stored in a digital imaging system.","One drawback of known imaging technology is the inherent ability of digital images to be altered, for example, with a purpose to defraud. For example, although an original paper document can be tampered with, such tampering (erasure or additions) will typically leave telltale evidence, digital images of those documents, on the other hand, can be perfectly altered leaving no such evidence. Thus, where the authenticity of an image is critical and may come into question (e.g., legal and medical fields), use of digital images is often not preferred, not acceptable or not admissible and therefore often avoided.","While many different digital image formats are available, in each case, the data is potentially alterable. Even if the digital imaging system does not explicitly provide an editing function, the images can be edited with a third party tool.","A proposed solution is the use of Write-Once, Read-Many (\u201cWORM\u201d) optical media to store digital images. One advantage of WORM media storage is that the data it houses is inherently unalterable data can be written only one time to the medium. However, this approach has several disadvantages as well. For example, data recorded on WORM media can be copied from the WORM disk of original recording to re-writable media, altered, and then recorded on new WORM disk with no traceability of such events.","Additionally, although it can be stated with great confidence that data on any one particular WORM disk has not been altered since it was recorded on that disk, the date and time when the data was recorded or whether the data matches an \u201coriginal\u201d of any kind cannot be determined with any certain or definitive means.","A known advance in file verification technology provides for registration of an \u201celectronic signature\u201d of a digital file (image, word processor document, audio or video clip, etc.). It is known to allow a user to locally select a file and locally run a program provided by a service provider to create an \u201celectronic signature\u201d of the selected digital file based solely on file content. The signature along with a user-provided file name and user-selected keywords are uploaded to He provider's site and stored in a registration database maintained by the service provider under an account established for the particular user. One particular provider generates a \u201ccertificate of registration\u201d showing, inter alia, the signature.","Verification of content and submittal date of the digital file at a later time requires going on-line to access the service provider's site and retrieving the prior registration record by file name or keywords. The retrieved database record shows the file signature and the original date that the file signature was registered. To complete verification, the user must run (locally again) the electronic signature program on the file to be verified and compare the regenerated signature to the retrieved registered signature to determine whether the signature of the digital file in question matches that of the originally registered file.","What the user now has is verification that the signature of the file in hand matches the signature of a file which was registered on a particular date.","The foregoing and other problems and deficiencies in image authentication in known digital imaging systems are solved and a technical advance is achieved by the present invention for providing digital file authentication by secure image marking.","In various aspects, it is among the objects of the present invention to provide a system and method for digital file management providing digital file authentication by secure file marking.","A digital file management system in one embodiment of the present invention comprises means for inputting a digital file and a secure date and time reference providing date and time information. A date\/time value is generated which is derived from the secure date and time information. An image value is derived from the digital file itself. The digital file is marked with the date and time information, the date\/time value and the image value. The marked digital file is then stored.","Alternative embodiments can include such features as generating the date\/time value and image value by a cyclic redundancy code algorithm and transforming the date\/time value and image value via a mathematical transformation and marking the digital file with the transformed values.","In other embodiments, the secure date and time reference is a local secure clock.","In various embodiments, the digital file can be an image file, a text file or any other file format.","Alternative embodiments of the invention allow for inputting a digital image by way of an optical scanner for scanning an original image into a digital image or directly from digital cameras or medical imaging equipment. The marked digital file can also be stored in optical storage.","The following description of the present invention uses for illustrative purposes the Authentidate\u2122 image authentication system incorporated in the turn-key document management and imaging system, DocSTAR\u2122, both of which are available from BitWise Designs, Inc, the assignee of the present invention. While the DocSTAR embodiment of the present invention is geared towards storing, marking and authenticating paper document originals, any digital file can be processed by the method and system of the present invention as will be described. The following discussion with references to the DocSTAR embodiment are in no way intended to be limiting and are made for illustrative purposes only to facilitate explanation and understanding of the present invention.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1"},"A DocSTAR system host  is configured in communication with an input device , storage device  and a secure time and date reference .","In this embodiment, system host  is implemented as a IBM PC or workstation, input device  is an optical scanner, storage device  is an optical storage device and the secure time and date reference  is provided by a hardware key which incorporates a secure clock.","Original images will be scanned by optical scanner . The resulting digital image will be processed by system host  according to the method of the present invention which will be discussed in further detail herein, and then stored on optical storage device  from where it can be later retrieved.","The image authentication system of the present invention operates in one aspect by recording additional independent data with each stored digital file. These additional data includes: a \u201ctrue date\u201d which is gleaned from a secure clock (described in further detail below) which is not settable by the user (the Authentidate\u2122); a number derived from a cyclic redundancy code (CRC) algorithm (described in further detail below) against the image data, this number is called the \u201cimage CRC\u201d; and a CRC derived from the \u201ctrue date\u201d, called the \u201cdate CRC\u201d.","These additional data is preferably recorded within each digital file as soon as possible after the image is acquired by the system (from, for example, scanner  in the DocSTAR embodiment). As will be discussed in further detail, if the image is altered in any way after the recording of the additional data, recalculation of the image CRC on the altered image will not match the original image CRC recorded within it. Thus, the fact that the image has been altered or is otherwise compromised can be detected. Likewise, if the true date is altered in any way, recalculation of the date CRC will similarly reveal this fact.","The image and date CRCs can be checked and verified at any time. If the recalculated value matches the recorded value, it can be stated with extreme confidence that the image presently recorded was recorded on the specified date and has not been altered in any way since then. No other known system, including paper storage, can offer similar assurance as to the creation date or authenticity of a document.","With reference to , the operation of the present invention will now be described.","Digital files are first acquired (either retrieved from storage or received from input device ). (Step .) Date and time information is obtained from secure clock . (Step .) Proper operation of the secure clock is assessed. (Step .) If the secure clock is deemed functional, then the date and time data are accepted as read from the clock (in step ). If a failure of the secure clock is determined, an error indication will be returned and the image processing is halted. (Step .) With the clock having been deemed functional (in step ), special tags (as will be discussed infra) and the Authentidate information (including date and time) are added to the digital file and the CRC data fields are initialized to 0 (i.e., the data fields are filled with 0's). (Step .)","Two computed values are then calculated, which are derived from the image content and Authentidate information, respectively. The computed values can be computed in any fashion based on data contained within the digital file which will allow detection of data corruption, such as for example, a standard checksum. In this embodiment of the present invention, cyclic redundancy codes (\u201cCRC\u201d), essentially a more complex checksum calculation, are used to derive the computed values. Any calculation method, however, is acceptable which will provide a number which is derived from the document content data and is suitable for detection of data corruption.","In this embodiment, the computed values are generated by a known CRC algorithm (which will be discussed in further detail below) which is run on both the image content and the Authentidate, creating an Image CRC and an Authentidate CRC, respectively. (Steps , .) The Image CRC and Authentidate CRC are \u201ctransformed\u201d by a proprietary mathematical transformation for added security (as will be discussed infra) creating an Image CRC\u2032 and an Authentidate CRC\u2032. (Step .)","The image file is then marked with the Image CRC\u2032 and Authentidate CRC\u2032. (Step .) The marked digital files are stored on optical media by optical storage device . (Step .)","The authenticity of the image and the time and date stamp can then subsequently be determined by examining the computed values stored within the Digital Files as shown in  which depicts an exemplary flow chart describing one embodiment for validating CRCs in a filed image.","The first step in validating the CRCs in an digital file is to read the special tag and date areas and retrieve the stored image CRC and date CRC values. (Step .) If the CRC values cannot be located or read in the digital file (step ), then, it is determined that either the image has not been properly filed or the image has been altered or is otherwise compromised, and an error is posted. (Step .) If the special tags are found, the CRCs are recalculated for the digital file and the date string. (Step .) The same algorithms used to calculate the CRCs initially are used to regenerate them at this point. The recalculated image CRC is transformed and compared to the image CRC read from the tag. (Step .) (Alternatively, the stored image CRC can be reverse transform prior to comparison to the recalculated value.) If the recalculated digital file CRC does not match the one stored in the special tag, the image is determined to have been altered or otherwise be corrupted and an error is indicated. (Step .) If the stored and recalculated image CRCs compare favorably (i.e., they match), the date CRCs are tested. The recalculated date CRC is transformed and compared to the date CRC read from the tag. (Step .) (Alternatively, the stored date CRC can be reverse transformed prior to comparison with the recalculated value.) If the recalculated date CRC does not match the one stored in the special tag, the date string is determined to have been altered or be otherwise corrupted and an error is indicated. (Step .) If the date CRCs match, at this point both image and date CRCs have compared favorably, the digital file is determined to be unaltered and thus authenticated. (Step .)","As will be appreciated from the foregoing description, the use of a secure, non-compromisable clock is fundamental to the present invention. It serves as a secure time and date source which is not alterable by the user. The secure clock maintains the time and date even when the computer is turned off with the aid of a battery backup.","One could use either custom designed hardware or a commercially available product that offers a secure clock. In either case, a mechanism must be in place to prevent fraudulent or arbitrary date\/time adjustment.","In the DocSTAR embodiment, a commercially available product that incorporates a secure clock into a physical hardware key is utilized (sometimes called a \u201cdongle\u201d). The hardware key connects to the computer's parallel port and can be accessed through an application programming interface (API) provided by the manufacturer.","The hardware key chosen for use in the DocSTAR embodiment of the present invention is the TIMEHASP-4 available from Aladdin Knowledge Systems, LTD. The security of the hardware key is protected by a custom ASIC chip (Application Specific Integrated Circuit), a unique set of passwords used only by the system provider (for example, BitWise Designs, Inc. the assignee hereof and a \u201cprovider\u201d of the DocSTAR system) and advanced protection algorithms and anti-debugging technology in the manufacturer's programming interface and device drivers. This offers a high degree of security for the secure clock.","The current date and time are factory programmed into the secure clock contained within the hardware key during assembly of the DocSTAR Host computer. While any time setting may be used, the secure clock in this embodiment is set to Greenwich Mean Time (GMT) eliminating the need to adjust the clock for different local time zones or for daylight savings time.","A mechanism can be incorporated to make adjustments in the clock to reset or correct the clock for slight inaccuracies that can develop over time. For example, in one embodiment as illustrated in , the date and time in the secure clock can be changed by means of a special administration program resident on a user's system which will only allow changes to the secure date and time when the user supplies a proper authentication code supplied by the system provider, such as, for example, the Technical Support department of BitWise Designs, Inc., the assignee hereof. The authentication code will only work to change the secure clock date and time from its current date and time values to the current GMT maintained by the system provider. This prevents the user from altering the secure clock arbitrarily and thereby stamping images with an incorrect or fraudulent date and time.","In this embodiment, an authentication code is required to change the secure clock. To obtain this code, a support technician on the system provider system enters the Hardware Key serial number and the current secure clock date into a secured custom program (the \u201cEagle Call Tracking System\u201d) maintained at BitWise Designs, Inc. (step ) which will generate an authentication code (step ). The authentication code will allow the field technician or end user to change the secure clock only to the date and time established and maintained at BitWise Designs, Inc.","The authentication code in this embodiment is determined through a mathematical algorithm which yields one unique code given the current secure clock date, the hardware key serial number, and the desired change to date and time. This authentication code is of limited validity in that it will not work on another day in the future to reset the clock to the date and time on the day the authentication code was given.","The code is entered at the user end. (Step .) The desired clock setting is entered at the user end. (Step .) The administration program used on the client system allows a small time window (20 minutes) for which any time entered will match the authentication code. Authentication codes are calculated internally for times 5 minutes before and 15 after the given change to time. If the given authentication code matches any of the codes within the time window, the authentication code is deemed correct and implemented. This will allow a field technician to account for several minutes delay while the authentication code is communicated.","Thus the desired setting is validated against the authentication code to determine whether the code will authenticate the date and time change requested. (Step .) If invalidity is determined, an error is returned and the clock is not updated. (Step .) With a valid request, the actual change to the secure clock will not occur until the Update Clock command is entered at the user end. (Step .) This allows a field technician to accurately synchronize the field clock with the clock maintained at BitWise Designs, Inc. After the Update Command is issued, the authentication code is re-validated against the clock information to ensure it is still valid. (Step .) If invalidity is determined, an error is returned and the clock is not updated. (Step .) The clock is updated. (Step ).","Alternatively, secure clocks can be reprogrammed by the service provider at the provider's facility (e.g., BitWise Designs, Inc.) by attaching the hardware key directly to a designated Eagle system at BitWise Designs, Inc. and issuing the update secure clock command. The hardware key serial number is verified and the secure clock date and time are updated to GMT date and time maintained at BitWise Designs, Inc.","In further alternative embodiments, clock adjustments to correct for inaccuracies that can develop over time or to set the clock can be implemented as an automated process where a user can cause a clock update from a remote secure clock but the user cannot himself actually set the clock information.","Either the manual or automated method of clock setting and update described above will prevent the user from altering the secure clock arbitrarily and thereby stamping images with an incorrect or fraudulent date and time.","As can be expected within the limits of current available technology, the battery in each clock will eventually fail, or the clock can otherwise become defective over time. These conditions are tested by software prior to image processing to ensure that invalid dates from a defective clock (or dead battery) are not recorded in images, thus compromising the reliability of the image marking. In the event of a clock failure, image filing is disabled until the clock is repaired or replaced.","The computed values mentioned above with reference to , in the DocSTAR embodiment of the present invention are Cyclic Redundancy Codes (CRCs). The CRC is a 32 bit-integer value which represents the result of performing the known CRC-32 algorithm on a block of data. The CRC-32 algorithm is a common, public domain algorithm for detecting even minute changes in data with a variety of applications. For example, CRCs are used in the communications field to verify that data has been transmitted correctly over transmission lines of unknown quality. It is also used to detect corruption of compressed data such as in the popular PKZIP utility. One of the strengths of CRCs is detecting changes to data which might otherwise go undetected. For example, if bit errors occur in a given block of data but their sum is coincidentally the same as that of the original data, this error might go undetected if a standard checksum were to be used. The CRC-32 algorithm would detect this type of change because the resulting code is not simply a sum of the component data as in a standard checksum.","A technical discussion of the CRC-32 algorithm will not be presented here. There are many sources of CRC-32 algorithms and source code in the public domain. Sample C++ source code for a CRC32 algorithm which is implemented in the DocSTAR embodiment of the present invention, is attached as an appendix hereto. As stated earlier, use of the CRC is not required for the present invention per se, and any calculation method is acceptable which will provide a number which is derived from the image data and is suitable for detection of data corruption.","While a CRC value alone may be used a higher level of security can be incorporated into the present invention to ensure the authenticity of an image by addition of a mathematical transformation to the CRC value. As indicated, a typical algorithm to calculate a CRC-32 is in the public domain and thus easily accessible. This fact, in conjunction with the details provided herein, would allow anyone to recalculate the CRC on an altered image, enabling them to counterfeit an \u201cAuthentidate\u201d and falsely confirm the image as authentic and unaltered. In the present invention, the actual calculated (image or date) CRC is mathematically transformed to a new value prior to image marking. The functional requirements of the transformation are that the resultant value for any input value is consistent, and that the resultant value is unique for each unique input value. The transformation could, for example, be a permutation of the bit-order of the input, an exclusive OR of the input value with a consistent, predetermined \u201cmagic\u201d number, or a combination of these operations.","While the particular transformation technique implemented is not critical, it should be understood that the specific technique used to accomplish the transformation in the practice of this invention should remain confidential to the provider, i.e., a \u201cproprietary transformation technique\u201d, as any disclosure or dissemination of the method would likely compromise system security and effectiveness. To give a simple parallel, failure to safeguard the proprietary transformation technique would essentially be the equivalent of password protecting a file and then distributing the password.","Recording information in tags within digital files requires knowledge of the individual digital file formats and the standards governing the structure of their formats. These standards dictate how information will be stored in the file, in what order, using what compression algorithm, etc. Most digital file formats have provisions for accommodating storage of user data in the digital file in addition to the image data. The DocSTAR file management and imaging system embodiment of the present invention uses known TIFF (Tagged Image File) and JPEG (Joint Photographic Experts Group) file formats for storage of (scanned) bitonal and color images, respectively. The standards for TIFF and JPEG image file formats allow for inclusion of user data inside the image file in a manner which does not affect the displayed image. As will be readily understood, the present invention is equally applicable to other file formats which have a mechanism to store user-defined data in the file or the file marked with the user-defined data can be stored in an ancillary file or separate database, for example, for word processing documents, spreadsheets, digitized audio or video or any other digitized file.","The known TIFF format is a file format which allows image data to be stored in a compressed manner along with information about the image (tags) such as compression method used, resolution, size, number of colors, title, date, etc.","A written world-wide standard defines the TIFF file format, what tags must be present, what tags are optional and how specific tags are used. The maintaining organization of the TIFF standard, Adobe Corporation, accepts requests for custom tag numbers for companies developing applications which use tags within the TIFF image. Adobe will assign unique numbers to individual companies to prevent interference between vendors. For example, BitWise Designs, Inc., the assignee hereof, applied for and was assigned its own proprietary tags numbers, other vendors will likewise be assigned their own unique proprietary tag numbers. Use of a custom tag allows storage of a custom data block. The TIFF specification calls for programs to ignore tags that they do not understand and which are not in the baseline specification. This allows common image viewers to view, display and print images which have custom tags because the image files still fit the TIFF specification.","In the case of TIFF image files, the following TIFF image tags are used:",{"@attributes":{"id":"p-0066","num":"0065"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Tag #","Use"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["10Dh","Document Name"]},{"entry":["10Eh","Image Description"]},{"entry":["132h","Date Time"]},{"entry":["9244h","BitWise DocSTAR Custom Tag 1"]},{"entry":[{},"custom data block contains proprietary information including:"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Image CRC"]},{"entry":[{},"Authentidate CRC"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"Illustrated in  is an exemplary flow chart demonstrating calculation of an image CRC for a TIFF image file. The calculation of the image CRC for the TIFF image file calls for calculating a CRC-32 on a given block of data using a given 32-bit seed value. The initial seed value is set to \u22121. (Step ). The routine works through the format of the TIFF file based on the Image File Directory (IFD) for the file, calculating CRC-32 for each IFD entry and their associated data (step ) passing results of the prior CRC-32 as the seed to the next (step ) until all the IFD entries have been cycled through. (Step )","All tags and data areas are processed except the following tags and data areas (step ):",{"@attributes":{"id":"p-0069","num":"0068"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Tag #","Description"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"0x010d","TIFFTAG_DOCUMENTNAME"]},{"entry":[{},"0x010e","TIFFTAG_IMAGEDESCRIPTION"]},{"entry":[{},"0x0132","TIFFTAG_DATETIME"]},{"entry":[{},"0x9244","TIFFTAG_DOCSTARTAG1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"After processing all IFD entries for the file (step ), the proprietary transformation method (as described above) is used to transform the resulting CRC value into a unique and secure value CRC\u2032. (Step .) The transformed image CRC value, CRC\u2032 is then stored in the image file. (Step .)","Illustrated in  is an exemplary flow chart demonstrating calculation of a date CRC for a TIFF image file. The calculation of the date CRC for the TIFF image file requires a routine which can calculate a CRC-32 on a given block of data using a given 32 bit seed value. The initial seed value is set to the image CRC value. (Step .) The routine reads the 0\u00d70132 TIFFTAG_DATETIME tag. (Step .) If the DATETIME tag cannot be found and read (step ), an error is returned (step ), otherwise, a CRC-32 is calculated for the data contained within the DATE TIME tag. (Step .) The resulting CRC is then transformed into CRC\u2032 by means of the proprietary transformation technique (step ) and stored within the image file. (Step .)","The Joint Photographic Experts Group developed the namesake format and maintains the standard for JPEG and the JPG file format (sometimes also called JFIF-JPEG File Image Format). This format was developed for the storage and transmission of photographic images. The compression techniques used are ideally suited to storing subtle differences between color changes, such as a photograph.","As is known, a JPG file is interpreted as a stream of characters with special identifiers called \u201cmarkers\u201d separating different elements of the image information and image data. The exact meaning of each marker is not important to this discussion except that the JPG standard defines a set of markers to be used by manufacturers for special or proprietary features. These markers are named \u201cAPPx\u201d where x is a digit between 0 and 9 inclusive.","The present invention adds a special marker and data block to JPG files when they are stored. In this embodiment, the \u201cAPP8\u201d marker will be used for the simple reason that this marker is rarely used by other manufacturers. This marker holds various proprietary information including the following:\n\n","Illustrated in  is an exemplary flow chart demonstrating calculation of an image CRC for a JPEG image file. The calculation of the CRC for the JPEG image file requires a routine which can calculate a CRC-32 on a given block of data using a given 32-bit seed value. The initial seed value is set to \u22121. (Step .) The image file data is read sequentially and the position of the APP8 is determined and read. (Step .) If the APP8 marker cannot be found and read (step ), an error is returned. (Step .) A CRC-32 is calculated for all data in the file from the beginning of the file up to but not including the APP8 marker. (Step .) The result of this calculation is used as a seed to calculate a CRC-32 on the remainder of the file following the APP8 marker. (Step .) The resulting CRC is transformed into CRC\u2032 by means of the proprietary transformation technique. (Step .) The transformed image CRC\u2032 is then stored within the image file. (Step .)","Illustrated in  is an exemplary flow chart demonstrating calculation of a date CRCs for a JPEG image file. The calculation of the CRC for the JPEG image file requires a routine which can calculate a CRC-32 on a given block of data using a given 32-bit seed value. The initial seed value is set to the image CRC value. (Step .) The file is read sequentially and the position of the APP8 is determined and read. (Step .) If the APP8 marker cannot be found and read (step ), an error is returned. (Step .) A CRC-32 is calculated for the secure data string within the APP8 data area or block. (Step .) The resulting CRC is transformed into CRC\u2032 by means of the proprietary transformation technique. (Step .) The transformed date CRC\u2032 is stored within the image file. (Step .)","The present invention has been illustrated and described with respect to specific embodiments thereof. It is to be understood, however, that the above-described embodiments are merely illustrative of the principles of the invention and are not intended to be exclusive embodiments. To facilitate discussion of the present invention, paper document originals (e.g., paper, photos, etc.) which are scanned into digital images are presumed in the DocSTAR embodiment of the present invention. However, it should be understood by one skilled in the art, that the present invention will be equally applicable to any digital file regardless of its source or how it is generated, for example, digital images originating from digital cameras, medical imaging devices, word processing or spreadsheet applications or other sources.","Alternative embodiments capturing variations in the enumerated embodiments disclosed herein can be implemented to achieve the benefits of the present invention.","It should further be understood that the foregoing and many various modifications, omissions and additions may be devised by one skilled in the art without departing from the spirit and scope of the invention.","It is therefore intended that the present invention is not limited to the disclosed embodiments but should be defined in accordance with the claims which follow."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing and other features and advantages of the present invention will become more apparent in light of the following detailed description of exemplary embodiments thereof, as illustrated in the accompanying drawings, where",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
