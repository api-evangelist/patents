---
title: Distribution of spines on a curvature comb
abstract: A computer-implemented graphics program that determines the distribution of spines on a curvature comb. The graphics program generates a curvature comb to visualize the smoothness of a curve, wherein the curvature comb is comprised of a plurality of spines drawn perpendicular to the curve. The spines are distributed along the curvature comb according to a spine density function (SDF) that represents a desired density of the spines. A cumulative density function (CDF) is used as a computational tool for distributing spines according the distribution given by the SDF.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06876363&OS=06876363&RS=06876363
owner: Autodesk, Inc.
number: 06876363
owner_city: San Rafael
owner_country: US
publication_date: 20011219
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["This application claims the benefit under 35 U.S.C. \u00a7119(e) of co-pending and commonly-assigned U.S. Provisional Patent Application Ser. No. 60\/310,278, filed on Aug. 6, 2001, by Kenneth J. Hill, entitled \u201cDISTRIBUTION OF SPINES ON A CURVATURE COMB,\u201d which application is incorporated by reference herein.","1. Field of the Invention","The present invention relates generally to computer-assisted design (CAD) systems, and in particular, to a graphics program that determines a distribution of spines on a curvature comb.","2. Description of the Related Art","Over the last decades, designers have changed their fundamental approach to graphics design, with the increasing power of computer-implemented graphics programs. New software makes sophisticated graphics technology available and affordable to virtually anyone.","Often, graphics programs are used to generate and display curves. The curve may be planar, but it may also be on a surface, or even twisting in space.","Curvature combs may be used to visualize the smoothness of a curve. A comb generally comprises a number of spines (also called \u201cteeth\u201d or \u201cbristles\u201d), which are line segments drawn perpendicular to the curve. Each spine has one endpoint on the curve, and the other endpoint located a distance away from the curve equal to the curvature of the curve at that point. The spine is drawn in the direction opposite the direction in which the curve is bending. Often, the spines are scaled by some function for easier visibility.","Curvature combs allow users to easily identify inflections in the curve. An inflection point is identified when the spines of the comb jump from one side of the curve to the other side of the curve.","Curvature combs also allow users to identify higher order discontinuities in the curve. Generally, an norder discontinuity in the curve is visible as an (n\u22121)order discontinuity in the curvature comb.","Notwithstanding the current usefulness of curvature combs, there is still a need for improvements.","To address the requirements described above, the present invention discloses a computer-implemented graphics program that determines the distribution of spines on a curvature comb. The graphics program generates a curvature comb to visualize the smoothness of a curve, wherein the curvature comb is comprised of a plurality of spines drawn perpendicular to the curve. The spines are distributed along the curvature comb according to a spine density function (SDF) that represents a desired density of the spines as a function of the parameter along the curve. A cumulative density function (CDF) is used as a computational tool for distributing spines according the distribution given by the SDF.","In the following description, reference is made to the accompanying drawings which form a part hereof, and which is shown, by way of illustration, an embodiment of the present invention. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.","Overview","The present invention is a graphics program that displays a curvature comb for visualizing a curve's smoothness. The curvature comb is comprised of a plurality of spines drawn perpendicular to the curve. A spine density function (SDF) represents a desired density of the spines. A piecewise linear approximation to the SDF is generated.","Hardware and Software Environment",{"@attributes":{"id":"P-00035","num":"00035"},"figref":"FIG. 1","b":["100","102","104","100"]},"The computer  usually operates under the control of an operating system , which is represented by a window displayed on the monitor . The preferred embodiment of the present invention is implemented by a computer-implemented graphics program , which is also represented by a window displayed on the monitor , that operates under the control of the operating system .","Generally, the operating system  and graphics program  comprise logic and\/or data embodied in or readable from a device, media, or carrier, e.g., one or more fixed and\/or removable data storage devices  connected directly or indirectly to the computer , one or more remote devices coupled to the computer  via data communications devices, etc.","Those skilled in the art will recognize that the exemplary environment illustrated in  is not intended to limit the present invention. Indeed, those skilled in the art will recognize that other alternative environments may be used without departing from the scope of the present invention.","Computer-Implemented Graphics Program",{"@attributes":{"id":"P-00040","num":"00040"},"figref":"FIG. 2","b":["108","108","200","202","204","206"]},"The Graphical User Interface  displays information to the user and provides the functionality for the user's interaction with the graphics program .","The Image Engine  processes the Database  or files  and delivers the resulting graphics to an output device. In the preferred embodiment, the Image Engine  provides a complete application programming interface (API) that allows other computer programs to interface to the graphics program  as needed.","The Database  is comprised of two separate types of databases: (1) a 3D database  known as the \u201cworld space\u201d that stores 3D information; and (2) one or more 2D databases  known as the \u201cvirtual spaces\u201d or \u201cview ports\u201d that stores 2D information derived from the 3D information. The 3D database  captures the design intent and behavior of a component in a model.","Operation of the Preferred Embodiment","In the preferred embodiment, the graphics program  generates a curvature comb for a curve on an output device, wherein the curvature comb is a tool for visualizing the smoothness of the curve. The curve is usually planar, but may also be a curve on a surface (typically a planar slice of the surface), or even a curve twisting in space. The comb consists of a number of spines, which are line segments drawn perpendicular to the curve.",{"@attributes":{"id":"P-00046","num":"00046"},"figref":"FIG. 3"},"Some of the benefits of a graphics program  that displays a curvature comb are that inflection points of a curve can be easily identified. When the curvature comb jumps from one side of the curve to the other, an inflection point has occurred. The curvature comb in  clearly shows two inflection points. One of these is obvious and no curvature comb is necessary to point it out, while the other is less obvious.",{"@attributes":{"id":"P-00048","num":"00048"},"figref":["FIG. 4","FIG. 5"]},"Another analytic benefit of curvature combs is that higher order discontinuities can be discovered easily by examining the curve traced out by the spine tips. For example, the curve in  appears perfectly smooth, and indeed it is first order continuous (the curve is continuous and the first derivative of the curve is continuous). By displaying the curvature comb, however, it becomes apparent that there is a second order discontinuity, e.g., as shown in , the second derivative is not continuous. This is indicated by the discontinuity in the curvature comb.","In general, an norder discontinuity in a curve is visible as an (n\u22121)order discontinuity in the curvature comb, making these discontinuities more visible. Since a trained human eye can detect second order discontinuities in curvature combs, it is possible to detect third order discontinuities in the curves. This is extremely important if the curves are to be used in the creation of surfaces for consumer products, such as automobiles. Such surfaces must have a third order smoothness, and that is only possible if the curves used to generate such surfaces are at least third order smooth.","The distribution of the spines of a curvature comb can be done in a number of ways. The present invention is a technique for distributing the spines in a way that has the following advantages over other techniques:\n\n","For ,  and , the spine distribution has been generated by taking the parametric domain of the curve and dividing it by one greater than the number of spines desired. These images were created using curves with a parameterization which is nearly equivalent to the arc-length parameterization. Subdividing an arc-length parameterized curve yields a reasonable distribution, although not ideal, as shall be demonstrated below.","Not all parameterizations of curves are as well behaved. If a curve is considered as a path in space, the parameter t of the curve at a given point is the time at which a traversal of the curve passes through that point. There is no requirement for the traversal to travel at a constant speed, and thus the traversal can speed up and slow down as desired. If curvature spines are generated at equal time increments along the path of the traversal, there will be more spines where the traversal is moving slowly, and less where it is moving quickly. The same holds true for mathematical parameterizations of a curve.","Consider the curve in , which is pointwise identical to that in , yet it is parameterized differently. If it is viewed as the path of the traversal mentioned above, one can see where the traversal slowed down and sped up. Subdividing its parameter space into equal parts (equal \u201ctime\u201d increments) yields a particularly bad curvature comb in , wherein the spines are bunched together in the middle, and spread out on the ends. Choosing the spine positions based on subdividing the parameterization into equal parts yields a poorly distributed curvature comb in , wherein at the point where the curvature is highest, there are very few spines.",{"@attributes":{"id":"P-00058","num":"00058"},"figref":["FIG. 9","FIG. 3","FIG. 8"]},"The present invention discloses a technique to distribute the spines, so that there are more spines where the curvature is greater, and fewer spines where the curvature is less. This technique is described in more detail below.","In the preferred embodiment, a spine is computed at a parameter t by evaluating a curve C at t, as well as its first and second derivatives. If C(t) is a point on the curve C at t, C\u2032(t) is a first derivative of the curve C with respect to t, and C\u2033(t) is a second derivative of the curve C with respect to t, then the endpoints of the spine are at C(t) and C(t)+\u03ba(t)N(t), where \u03ba(t) is the curvature at t given by: \n\n\nand N is: \n\n","A spine density function (SDF) may be constructed that represents a density of the spines. The SDF is a function of the curve parameter and the curvature at that parameter (i.e., SDF(t)=\u0192(\u03ba(t),t) for some function \u0192). In the preferred embodiment, the SDF is a function of the curvature \u03ba(t) of the curve C(t) at a parameter t on the curve C, which is given by:\n\nSDF=(\u03ba(t))\n\nalthough other SDF definitions could be used as well.\n",{"@attributes":{"id":"P-00065","num":"00065"},"figref":["FIG. 10","FIG. 3","FIG. 10"]},"After the SDF is computed, a cumulative distribution function (CDF) is constructed by integrating the SDF. The CDF is given by: \n\n","In the current example where the SDF is (\u03ba(t)), the CDF is given by: \n\n",{"@attributes":{"id":"P-00068","num":"00068"},"figref":"FIG. 11"},"The preferred embodiment subdivides the range of the CDF (the vertical axis of  having values from 0 to CDF(t)) into equal parts according to the number of spines desired. These points along the vertical axes are projected horizontally until they intersect the curve. The distance along the horizontal axis of each intersection is an appropriate parameter for each spine according to the choice of SDF. Where the CDF is steeper, the parameters are closest together.  illustrates the computation of parameters of the spines distributed according to the curvature SDF, and  shows the curve of  with the spines placed at the computed parameters.","The result in  shows that the SDF does the job a little too well. There are too many spines at the high curvature points, and too few at the low curvature points. The SDF can be \u201csoftened\u201d somewhat by using a square root of the curvature (i.e., where n=\u00bd), rather than the curvature itself (i.e., where n=1).  shows the softened SDF for the curve in ,  shows the softened CDF for the curve in , and  shows the resulting curvature comb as distributed using the softened CDF. The preferred embodiment uses n=\u00bd, but other values of n may be used as well.","Using the softened SDF, the same number of spines are distributed more effectively. The tips of the spines stay close together in areas of high curvature, making analysis of the curvature comb easier. The density of the comb along the curve provides additional feedback: where the curvature is high, the area shaded by the spines is darker; where the curvature is less, the density of the shaded area is less.","This distribution of spines is independent of the parameterization of a curve. For poorly parameterized curves (curves whose parameterization does not approximate the arc length parameterization), the curvature comb looks the same as it does for a good parameterization of the same curve.","Note that other choices of SDF are within the scope of the present invention, and in particular, the exponent n of the curvature can be changed according to the user's preferences.","Logic of the Preferred Embodiment",{"@attributes":{"id":"P-00075","num":"00075"},"figref":"FIG. 17","b":"108"},"Block  represents the graphics program  displaying a curve.","Block  represents the graphics program  computing a curvature of the curve C at t according to: \n\n","Block  represents the graphics program  constructing a spine density function (SDF) that represents a desired density of the spines:\n\nSDF=(\u03ba(t))\n","In the preferred embodiment, n=\u00bd, although other values of n could be used as well. Furthermore, the SDF can be defined in other ways as a function of the curvature and curve parameter.","In the preferred embodiment, this step generates a piecewise linear approximation to the SDF by subdividing the curve's domain into equal segments, and then recursively splitting each segment until a distance from a midpoint of each segment deviates from a curvature of the curve at the midpoint by less than a particular tolerance.","Block  represents the graphics program  performing a cumulative distribution function (CDF) that integrates the SDF: \n\n","In the preferred embodiment, this step generates a piecewise linear approximation to the CDF using a trapezoidal rule by sequentially adding up the area under each line segment of the SDF. The resulting segments of the CDF are either increasing (when the corresponding interval of the SDF is non-zero), or flat (when the corresponding segment of the SDF is identically zero). To avoid such flat spots in the CDF, a small value, such as 10, may be added to the area under each line segment of the SDF. In this way, no segment under the SDF has zero area, and therefore, the CDF is now strictly increasing, and thus invertible.","Block  represents the graphics program  subdividing a range of the CDF into equal parts relative to a number of spines. This is accomplished by plotting the CDF as a function of the parameter t, wherein a first axis (e.g., a vertical axis) represents CDF and a second axis (e.g., a horizontal axis) represents the parameter t. In the preferred embodiment of the present invention, the CDF has been computed as a strictly increasing sequence of line segments. Thus, every horizontal line along the CDF axis intersects the set of line segments that approximate the CDF exactly once.","Block  represents the graphics program  determining the spine parameters along the curve using the CDF. This is accomplished by projecting a point from each of the equal parts on the first axis to an intersection of the CDF, wherein the point of intersection is then projected onto the first axis (t-axis) to determine a curve parameter at which to draw a spine.","Block  represents the graphics program  generating a curvature comb for the curve, wherein the spines are distributed along the curvature comb according to the CDF. Preferably, the curvature comb is comprised of a plurality of spines drawn perpendicular to the curve, wherein each spine has one endpoint on the curve and another endpoint located away from the curve at a distance that is a function of the curvature of the curve at a point of incidence (possibly scaled by a viewing factor), and in a direction opposite a direction in which the curve is turning.","Conclusion","This concludes the description of the preferred embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention.","For example, any type of computer, such as a mainframe, minicomputer, work station or personal computer, could be used with the present invention. In addition, any program, function, or system for generating curves and\/or curvature combs could benefit from the present invention.","For example, the present invention could be embodied in a system for drawing three-dimensional curves (curves twisting in three dimensional space). In such an embodiment, the SDF and CDF are computed as before using the well-know formula for the curvature of a three dimensional curve. The spines of such a curvature comb are drawn as demonstrated herein, except that they are drawn on the osculating plane of the curve at each point (in a 2-dimensional case, the osculating plane is always the plane of the curve).","In another example, the present invention could be used in a system for surface analysis, where curvature combs are drawn on planar slices of a surface, or on any other curve on a surface (e.g., isoparametric lines). The spines may be drawn in various directions, such as on the plane of a planar slice, or normal to the surface. Other choices are possible.","In summary, the present invention discloses a computer-implemented graphics program that determines the distribution of spines on a curvature comb. The graphics program generates a curvature comb to visualize the smoothness of a curve, wherein the curvature comb is comprised of a plurality of spines drawn perpendicular to the curve. The spines are distributed along the curvature comb according to a spine density function (SDF) that represents a desired density of the spines. A cumulative density function (CDF) is used as a computational tool for distributing spines according the distribution given by the SDF.","The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Referring now to the drawings in which like reference numbers represent corresponding parts throughout:",{"@attributes":{"id":"P-00014","num":"00014"},"figref":"FIG. 1"},{"@attributes":{"id":"P-00015","num":"00015"},"figref":"FIG. 2","b":"108"},{"@attributes":{"id":"P-00016","num":"00016"},"figref":"FIG. 3"},{"@attributes":{"id":"P-00017","num":"00017"},"figref":"FIG. 4"},{"@attributes":{"id":"P-00018","num":"00018"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"P-00019","num":"00019"},"figref":"FIG. 6"},{"@attributes":{"id":"P-00020","num":"00020"},"figref":["FIG. 7","FIG. 6"]},{"@attributes":{"id":"P-00021","num":"00021"},"figref":"FIG. 8"},{"@attributes":{"id":"P-00022","num":"00022"},"figref":["FIG. 9","FIG. 3"]},{"@attributes":{"id":"P-00023","num":"00023"},"figref":["FIG. 10","FIG. 3"]},{"@attributes":{"id":"P-00024","num":"00024"},"figref":"FIG. 11"},{"@attributes":{"id":"P-00025","num":"00025"},"figref":"FIG. 12"},{"@attributes":{"id":"P-00026","num":"00026"},"figref":["FIG. 13","FIG. 3"]},{"@attributes":{"id":"P-00027","num":"00027"},"figref":["FIG. 14","FIG. 3"]},{"@attributes":{"id":"P-00028","num":"00028"},"figref":["FIG. 15","FIG. 3"]},{"@attributes":{"id":"P-00029","num":"00029"},"figref":"FIG. 16"},{"@attributes":{"id":"P-00030","num":"00030"},"figref":"FIG. 17"}]},"DETDESC":[{},{}]}
