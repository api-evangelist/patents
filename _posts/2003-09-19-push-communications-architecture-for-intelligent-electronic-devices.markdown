---
title: Push communications architecture for intelligent electronic devices
abstract: A power management architecture for an electrical power distribution system, or portion thereof, is disclosed. The architecture includes multiple intelligent electronic devices (“IED's”) distributed throughout the power distribution system to manage the flow and consumption of power from the system using real time communications. Power management application software and/or hardware components operate on the IED's and the back-end servers and inter-operate via the network to implement a power management application. The architecture provides a scalable and cost effective framework of hardware and software upon which such power management applications can operate to manage the distribution and consumption of electrical power by one or more utilities/suppliers and/or customers which provide and utilize the power distribution system. Autonomous communication on the network between IED's, back-end servers and other entities coupled with secure networks, themselves interconnected, via firewalls, by one or more unsecure networks, is facilitated by the use of a back-channel protocol. The back-channel protocol allows a device coupled with a secure network to solicit communications from a device on the unsecure network, thereby opening a back-channel through the firewall through which the unsecure network device may send unsolicited messages to the secure network device. Communications between multiple secure networks is accomplished using a unsecure device on an intermediary unsecure network to relay communications between the secure network devices using the protocol described above.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07734380&OS=07734380&RS=07734380
owner: Power Measurement Ltd.
number: 07734380
owner_city: Saanichton, British Columbia
owner_country: CA
publication_date: 20030919
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF THE PRESENTLY PREFERRED EMBODIMENTS"],"p":["This application is a continuation under 37 C.F.R. \u00a7 1.53(b) of U.S. patent application Ser. No. 10\/340,374 filed Jan. 9, 2003 now U.S. Pat. No. 7,216,043, issued May 8, 2007, the entire disclosure of which is hereby incorporated by reference, U.S. patent application Ser. No. 10\/340,374 is a continuation-in-part under 37 C.F.R. \u00a7 1.53(b) of U.S. patent application Ser. No. 09\/896,570 filed Jun. 29, 2001 now U.S. Pat. No. 6,944,555, issued Sep. 13, 2005, the entire disclosure of which is hereby incorporated by reference, a continuation-in-part under 37 C.F.R. \u00a7 1.53(b) of U.S. patent application Ser. No. 09\/814,436 filed Mar. 22, 2001 now U.S. Pat. No. 6,751,562, issued Jun. 15, 2004, the entire disclosure of which is hereby incorporated by reference, a continuation-in-part under 37 C.F.R. \u00a7 1.53(b) of U.S. patent application Ser. No. 09\/723,564 filed Nov. 28, 2000 now U.S. Pat. No. 6,961,641, issued Nov. 1, 2005, the entire disclosure of which is hereby incorporated by reference, and a continuation-in-part under 37 C.F.R. \u00a7 1.53(b) of U.S. patent application Ser. No. 10\/068,431 filed Feb. 6, 2002, now U.S. Pat. No. 6,694,270, issued Feb. 17, 2004, the entire disclosure of which is hereby incorporated by reference, which is a continuation of U.S. patent application Ser. No. 08\/798,723 filed Feb. 12, 1997, abandoned, the entire disclosure of which is hereby incorporated by reference.","With the advent of high technology needs and market deregulation, today's energy market has become very dynamic. High technology industries have increased their demands on the electrical power supplier, requiring more power, increased reliability and lower costs. A typical computer data center may use 100 to 300 watts of energy per square foot compared to an average of 15 watts per square foot for a typical commercial building. Further, an electrical outage, whether it is a complete loss of power or simply a drop in the delivered voltage, can cost these companies millions of dollars in down time and lost business.","In addition, deregulation of the energy industry is allowing both industrial and individual consumers the unprecedented capability to choose their supplier which is fostering a competitive supply\/demand driven market in what was once a traditionally monopolistic industry.","Network communications, such as electronic mail transport protocols, are increasingly being utilized in this dynamic market, for example, to effect communications between customers and supplier or to implement monitoring or control networks. Although email offers a robust delivery of communications there is often no guarantee of the message being communicated and real time communications is not always available. Instant Messaging protocols (\u201cIM protocols\u201d) can also be used to transport commands or data over a network from device to another. One limitation of the IM protocols is the requirement to have an active connection to communicate between the devices. If a device only periodically connects to the network then any commands sent while the device is offline will fail due to the device not being online or no presence detected. Periodic connectivity may be handled using a store-and-forward mechanism, however, not all IM messaging systems have such a mechanism. Another limitation of most IM systems is that they do not use open source or standard protocols to communicate. In order for these IM protocols to work correctly through firewalls, changes must be made in the configuration of these intervening firewalls. In some situations the responsible entity will be unable or unwilling to make changes to the firewalls configuration for security or policy reasons. For these reasons, instant messaging is frequently specifically blocked from crossing any intervening firewalls. While many instant messaging protocols are designed to find any outgoing holes in the firewalls, many companies spend a fair amount of time disabling as many of the instant messaging protocols as possible to prevent the possibility of leaking unauthorized information into unsecured networks. A further problem is that if both IM devices are connected with secure networks, each behind a firewall, then direct communication is not possible unless one or both firewalls are specially modified to allow tunneling from external devices to the internal, protected network. The IM system must provide external servers that will proxy the IM messages in this case or communication will not be possible.","The requirements of increased demand and higher reliability are burdening an already overtaxed distribution network and forcing utilities to invest in infrastructure improvements at a time when the deregulated competitive market is forcing them to cut costs and lower prices. With these investments comes a demand for robust and reliable communications methodologies that can operate in a heterogeneous mix of secure and unsecure networks. Accordingly, there is a need for a system of transporting data between networks that operates within the restrictions created by firewalls and other network security barriers.","The present invention is defined by the following claims, and nothing in this section should be taken as a limitation on those claims. By way of introduction, the embodiments described below relate an electrical power management architecture for managing an electrical power distribution system. The architecture includes a secure network; a first power management device coupled with the secure network; an unsecure network; a second power management device coupled with the unsecure network; a firewall coupled between the secure network and the unsecure network and operative to facilitate communications between the secure network and the unsecure network, the firewall further operative to prevent unsolicited communications from the unsecure network to the secure network; the second power management device operative to send at least one unsolicited message to the first power management device, the at least one unsolicited message comprising at least one of a power management command and power management data; and wherein the first power management device is operative to generate a first unsolicited communication to the second power management device and the second power management device is further operative to generate a first solicited communication to the first power management device in response to the first unsolicited communication, the first solicited communication comprising the at least one unsolicited message.","The disclosed embodiments further relate to a method for managing an electrical power distribution system. The method includes: coupling a first power management device with a secure network; coupling a second power management device with an unsecure network, the unsecure network coupled with the secure network via a firewall, the firewall facilitating communications between the secure network and the unsecure network and preventing unsolicited communications from the unsecure network to the secure network, sending at least one unsolicited message to the first power management device from the second power management device, the at least one unsolicited message comprising at least one of a power management command and power management data. The sending further includes: generating a first unsolicited communication to the second power management device by the first power management device; and generating a first solicited communication to the first power management device by the second power management device in response to the first unsolicited communication, the first solicited communication comprising the at least one unsolicited message.","Further aspects and advantages of the invention are discussed below in conjunction with the disclosed embodiments.","Intelligent electronic devices (\u201cIED's\u201d) such as programmable logic controllers (\u201cPLC's\u201d), Remote Terminal Units (\u201cRTU's\u201d), electric\/watt hour meters, protection relays and fault recorders are widely available that make use of memory and microprocessors to provide increased versatility and additional functionality. Such functionality includes the ability to communicate with remote computing systems, either via a direct connection, e.g. modem or via a network. For more detailed information regarding IED's capable of network communication, please refer to U.S. Pat. No. 6,961,641, issued Nov. 1, 2005, entitled \u201cINTRA-DEVICE COMMUNICATIONS ARCHITECTURE FOR MANAGING ELECTRICAL POWER DISTRIBUTION AND CONSUMPTION\u201d and U.S. Pat. No. 6,751,562, issued Jun. 15, 2004, entitled \u201cCOMMUNICATIONS ARCHITECTURE FOR INTELLIGENT ELECTRONIC DEVICES\u201d, captioned above, In particular, the monitoring of electrical power, especially the measuring and calculating of electrical parameters, may provide valuable information for power utilities and their customers. Monitoring of electrical power is important to ensure that the electrical power is effectively and efficiently generated, distributed and utilized. More importantly, monitoring of the electrical power in real time, and responding to the monitored results in real time, can provide for tremendous cost savings in today's marketplace.","One method of monitoring the distribution and\/or use of electrical power utilizes electronic mail (\u201cemail\u201d) as is known in the art. In such monitoring system that utilize email, monitoring devices generate email messages in response to events and transmit those email messages to preprogrammed destinations to alert the recipient of the event. Generally, a message transmitted by email goes through three phases: phase 1\u2014the message has been delivered; phase 2\u2014the message has not been delivered; and phase 3, the message is in transit. Unfortunately, the third phase inserts a measure of uncertainty into the monitoring system as the email message may be delayed while routing through the network or, worse yet, diverted and\/or lost. With the dynamic market place today, where power consumption and their associated fortunes can be made or lost in seconds, a user must be able to respond immediately in real time and cannot rely on a system where the operation may be indeterminate. The disclosed embodiments provide a monitoring system which eliminates the uncertain message transfer state and provide reliable communications among the monitoring devices of the electrical power distribution system.","Various different arrangements are presently available for monitoring, measuring, and controlling power parameters. Typically, an IED, such as an individual power measuring device, is placed on a given branch or line proximate to one or more loads which are coupled with the branch or line in order to measure\/monitor power system parameters. Herein, the phrase \u201ccoupled with\u201d is defined to mean directly connected to or indirectly connected with through one or more intermediate components. Such intermediate components may include both hardware and software based components. In addition to monitoring power parameters of a certain load(s), such power monitoring devices have a variety of other applications. For example, power monitoring devices can be used in supervisory control and data acquisition (\u201cSCADA\u201d) systems such as the XA\/21 Energy Management System manufactured by GE Harris Energy Control Systems located in Melbourne, Fla.","In a typical SCADA application, IED's\/power measuring devices individually dial-in to a central SCADA computer system via a modem. However, such dial-in systems are limited by the number of inbound telephone lines to the SCADA computer and the availability of phone service access to the IED\/power measuring devices. With a limited number of inbound telephone lines, the number of IED's\/power measuring devices that can simultaneously report their data is limited resulting in limited data throughput and delayed reporting. Further, while cellular based modems and cellular system access are widely available, providing a large number of power measuring devices with phone service is cumbersome and often cost prohibitive. The overall result is a system that is not easily scalable to handle a large number of IED's\/power measuring devices or the increased bandwidth and throughput requirements of advanced power management applications. However, the ability to use a computer network infrastructure, such as the Internet, allows for the use of power parameter and data transmission and reporting on a large scale. The Internet provides a connectionless point to point communications medium that is capable of supporting substantially simultaneous communications among a large number of devices. For example this existing Internet infrastructure can be used to simultaneously push out billing, load profile, or power quality data to a large number of IED\/power measurement and control devices located throughout a power distribution system that can be used by those devices to analyze or make intelligent decisions based on power consumption at their locations. The bandwidth and throughput capabilities of the Internet supports the additional requirements of advanced power management applications. For example, billing data, or other certified revenue data, must be transferred through a secure process which prevents unauthorized access to the data and ensures receipt of the data by the appropriate device or entity. Utilizing the Internet, communications can be encrypted such as by using encrypted email. Further, encryption authentication parameters such as time\/date stamp or the IED serial number, can be employed. Within the Internet, there are many other types of communications protocols that may be employed to facilitate the above described inter-device communications such as email, Telnet, file transfer protocol (\u201cFTP\u201d), trivial file transfer protocol (\u201cTFTP\u201d) or proprietary protocols, both unsecured and secure\/encrypted.","As used herein, Intelligent electronic devices (\u201cIED's\u201d) include Programmable Logic Controllers (\u201cPLC's\u201d), Remote Terminal Units (\u201cRTU's\u201d), electric power meters, protective relays, fault recorders and other devices which are coupled with power distribution networks to manage and control the distribution and consumption of electrical power. Such devices typically utilize memory and microprocessors executing software to implement the desired power management function. IED's include on-site devices coupled with particular loads or portions of an electrical power distribution system and are used to monitor and manage power generation, distribution and consumption. IED's are also referred herein as power management devices (\u201cPMD's\u201d).","A Remote Terminal Unit (\u201cRTU\u201d) is a field device installed on an electrical power distribution system at the desired point of metering. It is equipped with input channels (for sensing or metering), output channels (for control, indication or alarms) and a communications port. Metered information is typically available through a communication protocol via a serial communication port. An exemplary RTU is the XP Series, manufactured by Quindar Productions Ltd. in Mississauga, Ontario, Canada.","A Programmable Logic Controller (\u201cPLC\u201d) is a solid-state control system that has a user-programmable memory for storage of instructions to implement specific functions such as Input\/output (I\/O) control, logic, timing, counting, report generation, communication, arithmetic, and data file manipulation. A PLC consists of a central processor, input\\output interface, and memory. A PLC is designed as an industrial control system. An exemplary PLC is the SLC 500 Series, manufactured by Allen-Bradley in Milwaukee, Wis.","A meter, is a device that records and measures power events, power quality, current, voltage waveforms, harmonics, transients and other power disturbances. Revenue accurate meters (\u201crevenue meter\u201d) relate to revenue accuracy electrical power metering devices with the ability to detect, monitor, report, quantify and communicate power quality information about the power which they are metering. An exemplary meter is the model 8500 meter, manufactured by Power Measurement Ltd, in Saanichton, B.C. Canada.","A protective relay is an electrical device that is designed to interpret input conditions in a prescribed manner, and after specified conditions are met, to cause contact operation or similar abrupt change in associated electric circuits. A relay may consist of several relay units, each responsive to a specified input, with the combination of units providing the desired overall performance characteristics of the relay. Inputs are usually electric but may be mechanical, thermal or other quantity, or a combination thereof. An exemplary relay is the type N and KC, manufactured by ABB in Raleigh, N.C.","A fault recorder is a device that records the waveform and digital inputs, such as breaker status which resulting from a fault in a line, such as a fault caused by a break in the line. An exemplary fault recorder is the IDM, manufactured by Hathaway Corp in Littleton, Colo.","IED's can also be created from existing electromechanical meters or solid-state devices by the addition of a monitoring and control device which converts the mechanical rotation of the rotary counter into electrical pulses or monitors the pulse output of the meter. An exemplary electromechanical meter is the AB1 Meter manufactured by ABB in Raleigh, N.C. Such conversion devices are known in the art.","The disclosed embodiments relate to a communications architecture that can be used for monitoring, protection and control of devices and electrical power distribution in an electrical power distribution system, where IED's can interact with other IED's and other devices that may be coupled with IED's.","As will be described in more detail below, a power management architecture for an electrical power distribution system, or portion thereof, is disclosed. The architecture provides a scalable and cost effective framework of hardware and software upon which power management applications can operate to manage the distribution and consumption of electrical power by one or more utilities\/suppliers and\/or customers which provide and utilize the power distribution system.","Power management applications include automated meter reading applications, load shedding applications, deregulated supplier management applications, on-site power generation management applications, power quality management applications, protection\/safety applications, and general distribution system management applications, such as equipment inventory and maintenance applications. A power management application typically includes one or more application components which utilize the power management architecture to interoperate and communicate thereby implementing the power management application.","The architecture includes Intelligent Electronic Devices (\u201cIED's\u201d) distributed throughout the power distribution system to monitor and control the flow of electrical power. IED's may be positioned along the supplier's distribution path or within a customer's internal distribution system. IED's include revenue electric watt-hour meters, protection relays, programmable logic controllers, remote terminal units, fault recorders and other devices used to monitor and\/or control electrical power distribution and consumption. As was noted, IED's also include legacy mechanical or electromechanical devices which have been retrofitted with appropriate hardware and\/or software so as to be able to integrate with the power management architecture. Typically an IED is associated with a particular load or set of loads which are drawing electrical power from the power distribution system. As was described above, the IED may also be capable of receiving data from or controlling its associated load. Depending on the type of IED and the type of load it may be associated with, the IED implements a power management function such as measuring power consumption, controlling power distribution such as a relay function, monitoring power quality, measuring power parameters such as phasor components, voltage or current, controlling power generation facilities, or combinations thereof. For functions which produce data or other results, the IED can push the data onto the network to another IED or back end server, automatically or event driven, (discussed in more detail below) or the IED can wait for a polling communication which requests that the data be transmitted to the requester.","In addition, the IED is also capable of implementing an application component of a power management application utilizing the architecture. As was described above and further described below, the power management application includes power management application components which are implemented on different portions of the power management architecture and communicate with one another via the architecture network. The operation of the power management application components and their interactions\/communications implement the overall power management application. One or more power management applications may be utilizing the architecture at any given time and therefore, the IED may implement one or more power management application components at any given time.","The architecture further includes a communications network. Preferably, the communication network is a publicly accessible data network such as the Internet or other network or combination of sub-networks that transmit data utilizing the transmission control protocol\/internet protocol (\u201cTCP\/IP\u201d) protocol suite. Such networks include private intranet networks, virtual private networks, extranets or combinations thereof and combinations which include the Internet. Alternatively, other communications network architectures may also be used. Each IED preferably includes the software and\/or hardware necessary to facilitate communications over the communications network by the hardware and\/or software which implements the power management functions and power management application components. In alternative embodiments, quality of service protocols can be implemented to guarantee timely data delivery, especially in real time applications.","The hardware and\/or software which facilitate network communications preferably includes a communications protocol stack which provides a standard interface to which the power management functions hardware\/software and power management application components hardware\/software interact. As will be discussed in more detail below, in one embodiment, the communications protocol stack is a layered architecture of software components. In the disclosed embodiments these layers or software components include an applications layer, a transport layer, a routing layer, a switching layer and an interface layer.","The applications layer includes the software which implements the power management functions and the power management applications components. Further, the applications layer also includes the communication software applications which support the available methods of network communications. Typically, the power management function software interacts with the power management hardware to monitor and or control the portion of the power distribution system and\/or the load coupled with the IED. The application component typically interacts with the power management function software to control the power management function or process data monitored by the power management function. One or both of the power management function software and the power management application component software interacts with the communication software applications in order to communicate over the network with other devices.","The communications applications include electronic mail client applications such as applications which support SMTP, MIME or POP network communications protocols, security client applications such as encryption\/decryption or authentication applications such as secure-HTTP or secure sockets layer (\u201cSSL\u201d), or other clients which support standard network communications protocols such as telnet, hypertext transport protocol (\u201cHTTP\u201d), file transfer protocol (\u201cFTP\u201d), network news transfer protocol (\u201cNNTP\u201d), instant messaging client applications, or combinations thereof. Other client application protocols include extensible markup language (\u201cXML\u201d) client protocol and associated protocols such as Simple Object Access Protocol (\u201cSOAP\u201d). Further, the communications applications could also include client applications which support peer to peer communications. All of the communications applications preferably include the ability to communicate via the security client applications to secure the communications transmitted via the network from unauthorized access and to ensure that received communications are authentic, uncompromised and received by the intended recipient. Further, the communications applications include redundant operation capabilities through the use of one or more interface layer components (discussed in more detail below), error detection and correction and the ability to communicate through firewalls or similar private network protection devices.","The transport layer interfaces the applications layer to the routing layer and accepts communications from the applications layer that are to be transmitted over the network. The transport layer breaks up the communications layer into one or more packets, augments each packet with sequencing data and addressing data and hands each packet to the routing layer. Similarly, packets which are received from the network are reassembled by the transport layer and the re-constructed communications are then handed up to the applications layer and the appropriate communications applications client. The transport layer also ensures that all packets which make up a given transmission are sent or received by the intended destination. Missing or damaged packets are re-requested by the transport layer from the source of the communication. In one embodiment, the transport layer implements the Transmission control protocol (\u201cTCP\u201d).","The routing layer interfaces the transport layer to the switching layer. The routing layer routes each packet received from the transport layer over the network. The routing layer augments each packet with the source and destination address information. In one embodiment, the routing layer implements the internet protocol (\u201cIP\u201d). It will be appreciated that the TCP\/IP protocols implement a connectionless packet switching network which facilitates scalable substantially simultaneous communications among multiple devices.","The switching layer interfaces the routing layer to the interface layer. The switching layer and interface layer are typically integrated. The interface layer comprises the actual hardware interface to the network. The interface layer may include an Ethernet interface, a modem, such as wired modem using the serial line interface protocol (\u201cSLIP\u201d) or point to point protocol (\u201cPPP\u201d), wired modem which may be an analog or digital modem such as a integrated services digital network (\u201cISDN\u201d) modem or digital subscriber line (\u201cDSL\u201d) modem, or a cellular modem. Further, other wireless interfaces, such as Bluetooth, may also be used. In addition, AC power line data network interface may also be used. Cellular modems further provide the functionality to determine the geographic location of the IED using cellular RF triangulation. Such location information can be transmitted along with other power management data as one factor used in authenticating the transmitted data. In the disclosed embodiments, the interface layer allows for redundant communication capabilities. The interface layer couples the IED with a local area network, such as a LAN provided at the customer or utility site. Alternatively, the interface layer can couple the IED with a point of presence provided by a local network provider such as an internet service provider (\u201cISP\u201d).","Finally, the architecture includes back-end server computers or data collection devices. Back end servers may be provided by the consumer of electric power, the utility supplier of electric power or a third party. In one embodiment, these devices are IED's themselves. The back end servers are also coupled with the network in a same way as the IED's and may also include a communication protocol stack. The back end servers also implement power management applications components which interact and communicate with the power management application components on the IED's to accomplish the power management application. Preferably, the IED's are programmed with the network addresses of the appropriate back end servers or are capable of probing the network for back end servers to communicate with. Similarly, the back end server is programmed with the network addresses of one or more affiliate IED's or is capable of probing the network to find IED's that are connected. In either case of network probing by the IED or back-end server, software and\/or hardware is provided to ensure that back-end servers communicate with authorized IED's and vice versa allowing multiple customers and multiple suppliers to utilize the architecture for various power management applications without interfering with each other.","The back end servers preferably are executing software application counterparts to the application clients and protocols operating on the IED's such as electronic mail, HTTP, FTP, telnet, NNTP or XML servers which are designed to receive and process communications from the IED's. Exemplary server communications applications include the Microsoft Exchange\u2122 server, manufactured by Microsoft Corporation, located in Redmond, Wash. The back end server is therefore capable of communicating, substantially simultaneously, with multiple IED's at any given time. Further, the back end server implements a security application which decrypts and\/or authenticates communications received from IED's and encrypts communications sent to IED's.","In one embodiment, software executing on the back end server receives communications from an IED and automatically extracts the data from the communication. The data is automatically fed to a power management application component, such as a billing management component.","In this way, a generally accessible connectionless\/scalable communications architecture is provided for operating power management applications. The architecture facilitates IED-supplier communications applications such as for automated meter reading, revenue collection, IED tampering and fraud detection, power quality monitoring, load or generation control, tariff updating or power reliability monitoring. The architecture also supports IED-consumer applications such as usage\/cost monitoring, IED tampering and fraud detection, power quality monitoring, power reliability monitoring or control applications such as load shedding\/cost control or generation control. In addition, real time deregulated utility\/supplier switching applications which respond in real time to energy costs fluctuations can be implemented which automatically switch suppliers based on real time cost. Further the architecture supports communications between IED's such as early warning systems which warn downstream IED's of impending power quality events. The architecture also supports utility\/supplier to customer applications such as real time pricing reporting, billing reporting, power quality or power reliability reporting. Customer to customer applications may also be supported wherein customers can share power quality or power reliability data.","As used herein, an IED or PMD is a power management device capable of network communication. A back end server is a data collection or central command device coupled with the network which receives power management data from an IED and\/or generates power management commands to and IED. An IED may contain a back-end server. The network is any communications network which supports the Transmission Control Protocol\/internet Protocol (\u201cTCP\/IP\u201d) network protocol suite. In the disclosed embodiment IED's include devices such as PLC's, RTU's, meters, protection relays, fault recorders or modified electromechanical devices and further include any device which is coupled with an electrical power distribution network, or portion thereof, for the purpose of managing or controlling the distribution or consumption of electrical power.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 1","b":["100","102","103","104","105","106","107","108","109","102","109","101","101","102","109","121","122","123","124","110","111","110","110","110","110"]},"The Power Management Application  utilizes the architecture . The power Management Application  comprises power management application components which implement the particular power management functions required by the application . The power management application components are located on the IED - or on the back end server -, or combinations thereof, and can be a client component, a server component or a peer component. Application components communicate with one another over the architecture  to implement the power management application .","In one embodiment the architecture  comprises IED's - connected via a network  and back end servers , , , ,  which further comprise software which utilizes protocol stacks to communicate. IED's - can be owned and operated by utilities\/suppliers , , consumers   or third parties  or combinations thereof Back end servers      can be owned by utilities\/suppliers , , consumers , , third parties  or combinations thereof For example, an IED - is operable to communicate directly over the network with the consumer back-end server , , another IED - or a utility back end server ,. In another example, a utility back end server ,  is operable to connect and communicate directly with customer back end servers , . Further explanation and examples on the types of data and communication between IED's - are given in more detail below.","Furthermore, the architecture's  devices, such as the back end servers - or IED's -, can contain an email server and associated communications hardware and software such as encryption and decryption software. Other transfer protocols, such as file transfer protocols (\u201cFTP\u201d), Simple Object Access Protocol (\u201cSOAP\u201d), HTTP, XML or other protocols know in the art may also be used in place of electronic mail. Hypertext Transfer Protocol (\u201cHTTP\u201d) is an application protocol that allows transfer of files to devices connected to the network. FTP is a standard internet protocol that allows exchange of files between devices connected on a network. Extensible markup language (\u201cXML\u201d) is a file format similar to HTML that allows transfer of data on networks. XML is a flexible, self describing, vendor-neutral way to create common information formats and share both the format and the data over the connection. In one embodiment the data collection server is operable by either the supplier\/utility ,  or the customer ,  of the electrical power distribution system . SOAP allows a program running one kind of operating system to communicate with the same kind, or another kind of operating system, by using HTTP and XML as mechanisms for the information exchange.","Furthermore, the application  includes an authentication and encryption component which encrypts commands transmitted across the network , and decrypts power management data received over the network . Authentication is also performed for commands or data sent or received over the network . Authentication is the process of determining and verifying whether the IED - transmitting data or receiving commands is the IED - it declares itself to be and in one embodiment authentication includes parameters such as time\/date stamps, digital certificates, physical locating algorithms such as cellular triangulation, serial or tracking ID's, which could include geographic location such as longitude and latitude. Authentication prevents fraudulent substitution of IED - devices or spoofing of IED - data generation in an attempt to defraud. Authentication also minimizes data collection and power distribution system  control errors by verifying that data is being generated and commands are being received by the appropriate devices. In one embodiment encryption is done utilizing Pretty Good Privacy (PGP). PGP uses a variation of public key system, where each user has a publicly known encryption key and a private key known only to that user. The public key system and infrastructure enables users of unsecured networks, such as the internet, to securely and privately exchange data through the use of public and private cryptographic key pairs.","In the disclosed embodiments, the architecture is connectionless which allows for substantially simultaneous communications between a substantial number of IED's within the architecture. This form of scalability eclipses the current architectures that utilize point to point connections, such as provided by telephony networks, between devices to enable communications which limit the number of simultaneous communications that may take place.",{"@attributes":{"id":"p-0077","num":"0076"},"figref":"FIG. 2","i":"a ","b":["200","201","202","203","220","220","218","216","200","200","211","220","212","213","212","213","200","215","212","213","211","111","211","200","211","200","215","121","124","200","102","109","200","218","220","218","201","202","211","212","215","213","211","200","121","124"]},{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 2","i":"b ","b":["240","290","280","240","281","240","283","240","280","284","286","283","290","250","253","252","257","258","254","255","259","260","261","262","263","264","265","251","256","240","102","109","200","240"]},"In one embodiment the application components comprise software components, such as an email server or an XML or HTTP server. These servers may include a Microsoft Exchange server or a BizTalk framework\/XML compatible server. A Microsoft Exchange\u2122 server is an email server computer program manufactured by Microsoft Corporation, located in Redmond, Wash., typically operating on a server computer which facilitates the reception and transmission of emails, and forwards emails to the email client programs, such as Microsoft Outlook\u2122, of users that have accounts on the server. BizTalk is a computer industry initiative which promotes XML as the common data exchange for e-commerce and application integration over the internet. BizTalk provides frameworks and guidelines for how to publish standard data structures in XML and how to use XML messages to integrate software components or programs. Alternately, hardware components, such as a dedicated cellular phone, GPS encryption or decryption key or dongle are included in the components. In an alternate embodiment, a combination of both hardware and software components are utilized. Additionally, referring back to , one or more power management application components  can utilize the architecture  to implement their functionality. For example, a utility  has a back end server  which contains power management application and associated components, such as a usage and consumption monitoring component . The utility  supplies power to a consumer  via the power distribution network  and monitors the consumer's power consumption using the power management application components on the back end server  which communicates with the IED's , ,  via the network  to retrieve measured consumption\/usage data. The consumer  concurrently monitors usage of loads , using an IED , ,  which is connected to the network , computing real time costs posted by the utility . In one embodiment, the consumer  monitors usage using back end server  which receives usage and consumption data from the IED's , ,  via the network . The IED , ,  implements power management application components such as load management components and billing management components. The back end server ,  implements power management application components such as a data collection component, a billing\/revenue management component, an automated meter reading component or a usage\/consumption management component. The components on the IED , ,  work in concert with the components on the back end server ,  via the network  to implement the overall power management application. In a further embodiment, one or more power management application components are operating on IED , ,  and\/or back end servers ,  at any given time. Each power management application can be utilized by one or more users, or different applications can be used by different users. Moreover, the application components can exist on the same or different IED's , ,  or back end servers , .","In the disclosed embodiments, the data collection component  enables an IED to collect and collate data from either a single or multiple sources via the network . The data collected by the component is stored and can be retrieved by other components of the power management application components , or other components implemented on other IED's - located on the network . In one embodiment the Automated Meter Reading component  is utilized to allow either the consumers ,  or providers ,  to generate power management reports from the IED data. In one embodiment the electrical power generation management component  analyzes data received from IED's - to either minimize or maximize measured or computed values such as revenue, cost, consumption or usage by use of handling and manipulating power systems and load routing. IED inventory, maintenance and fraud detection component , ,  receive or request communications from the IED's - allowing the power management application to inventory the installed base of IED's -, including establishing or confirming their geographic installation location, or check the maintenance history of all connected IED's - These power management applications aid in confirming outage locations or authenticating communications to or from an IED - to prevent fraud and minimize errors. In one embodiment, the IED inventory component  utilizes cellular triangulation technologies, or caller ID based geographic locator technologies to determine and verify IED inventories. In one embodiment the fraud detection component  further detects device tampering. In one embodiment the power quality monitoring component  monitors and processes electric parameters, such as current, voltage and energy which include volts, amps, Watts, phase relationships between waveforms, kWh, kvAr, power factor, and frequency, etc. The power quality monitoring component  reports alarms, alerts, warnings and general power quality status, based on the monitored parameters, directly to the appropriate user, such as customers ,  or utilities , .",{"@attributes":{"id":"p-0081","num":"0080"},"figref":"FIG. 3","i":["a ","a","c","d","b ","e","b "],"b":["302","100","302","301","300","302","305","306","302","307","305","305","305","305","305","305","306","305","302","307","305"]},{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 3","i":["b ","a","b","c"],"b":["310","311","310","311","312","313","312","313","311","315","301","316","315","316","315","312","312"]},"In one embodiment, a Billing\/Revenue Management component on a back end server receives the billing and revenue computations over the network  from the billing\/revenue management component on the IED . These computations are translated into billing and revenue tracking data of the load  associated with the IED . The Billing\/Revenue Management component on the back end server then reports the computations to the appropriate party operating that particular back end server or subscribing to a service provided by the operator the back end server, either the consumer or provider of the electrical power. Additionally, the Billing\/Revenue Management component on the IED  or the Billing\/Revenue Management component on the back end server computes usage and cost computations and tracking data of the associated load and reports the data to the appropriate party. In still another embodiment, IED  transmits billing and revenue data directly to the Billing\/Revenue Management component over the network  and the Billing\/Revenue Management component computes usage and cost computations and tracking data of the associated load and reports the data directly to the appropriate party. Furthermore, tariff data received from the utility by the Billing\/Revenue Management component may be factored into usage or cost computations.",{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 3","i":["c ","e"],"b":["305","110","321","322","323","324","325","321","321","322","321","324","325","321","323","324","325","325","1","325","325","321","321","322","323","324"]},"In operation, the IED monitors the power distribution system for events such as wave shape deviation, sag, swell, kWh, kvA or other power usage, consumption, or power quality events and disturbances. In one embodiment, when the IED detects an event, it processes the event and generates an email message using an email client application component for transport over the network to a back end data collection server. Raw data , such as the error message generated from the IED or a billing signal, is passed into the application layer's  Security Sub-layer where it is encrypted before email protocol packaging takes place. Once the data  has been encrypted and packaged, the message is passed through the remaining IP layers where the message is configured for transmission and sent to the destination address. In one embodiment, the destination address is for a back end server implementing a data collection application component. This back end server may be operated by the consumer or supplier of electrical power or a third party as described above. In an alternate embodiment the Security Sub-layer includes authentication or encryption, or alternately the Security Sub-layer is bypassed. The application layer may include application components which implement protocols that are designed to pass through a firewall or other type of software that protects a private network coupled with a publicly accessible network. Multiple redundant data messages may be sent from the IP layer to ensure the complete data packet is received at the destination. In the above operation, the protocol stack, which includes an SMTP or MIME enabled email client, is a scalable, commercial product such as the Eudora\u2122 email client manufactured by Qualcomm, Inc., located in San Diego, Calif. In an alternate embodiment data messages may also be sent to redundant destination email addresses to ensure delivery of the message. Quality of Service (QoS) may also be implemented, depending on the volume of bandwidth required for the data, ensuring reliable and timely delivery of the data. QoS is based on the concept that transmission rates, error rates, and other characteristics of a network can be measured, improved and, to some extent, guaranteed in advance. QoS is a concern for continuous transmission of high-bandwidth information. The power quality events, consumption, disturbances or other usage data may be stored in the IED and sent to the destination address upon request from an application component operating at the destination address, upon pre-determined time intervals and schedules, upon pre-defined events or in real time. In an alternate embodiment a IED may transport data or requests to or receive data or requests from other IED's directly, also know as peer-to-peer communications. Peer-to-peer is a communications model in which each party or device has the same capabilities and either party or device can initiate communication sessions.","In an alternate embodiment the Security Sub-layer may include multiple encryption keys, each conferring different access rights to the device. This enables multiple users, such as a utility and customers, or multiple internal departments of a utility or customer, to send or receive data and commands to or from the IED. For example a customer's IED sends out two encrypted messages, one billing data and one power quality data, to the customer's office site. The billing data message is encrypted at a level where only the internal accounting department has access to decrypt it. The power quality data message is encrypted at a different level where the entire company can decrypt the message. Furthermore, in one embodiment, commands sent to or from the IED are coupled with the appropriate encryption key. For example, the IED's Security Sub-layer may only permit billing reset commands to be received and processed if the command has been authenticated where the point of origin was the appropriate customer or utility. Further, encrypted email messages may also include various encrypted portions, each accessible and readable with a different encryption key. For example an IED sends out one message to both the utility and the customer containing billing data and power quality data. The data is encrypted with two different encryption keys so only the utility can decrypt the power quality data and only the customer can decrypt the billing data.","In operation the IED monitors the power distribution system  for billing events such as, kWh or kvA pulses. In one embodiment the IED may store billing events and transport the data to the power management application components operating on a back end server either upon request or upon pre-determined time intervals. Alternately the IED may transport billing event data in real time to the back end server. Data may be filtered through the either the Back End Server's or IED's power management components or any combination or variation thereof, before being entered into the Billing\/Revenue Management component where billing, revenue, cost and usage tracking are computed into revised data. The Billing\/Revenue Management components either stores the computations for future retrieval or pushes the revised data to the appropriate party, such as the consumer or provider of the electric power system. Data can be retrieved upon command or sent or requested upon a scheduled time.","In one embodiment the back end server's operate in a similar approach to the IED's. The back end server contains a transport protocol stack and power management application components. Alternatively, a back end server could be a function or component of the IED, i.e., implemented as an application component.","The IED  may implement power management functions on the whole electrical power distribution system  or just a portion thereof. Referring to the IED  monitors the electrical power via the system  to a load  and reports events and data to the power management application components  through the network . The power management application components  are preferably operating on a back end server. The events and data are collected and processed through the automated meter reading components, billing\/revenue management components or a combination and variation thereof, and revised data or commands are sent back to the IED through the network , enabling control of the power flow and distribution of the loading on the power distribution system. The automated meter reading component allows for retrieval and collection of data for the customer, utility or third party. The component further allows for schedule driven, event driven or polling commands which are operable to push data onto the network.","The power management functions implemented by the IED's enables the back end servers or IED's to control power flow and distribution over the electrical power distribution system. Specifically the power management application components process power measurement data and generate power measurement and reporting commands, transmitting them to the back end servers or IED's for execution. Referring now to , in one exemplary operation, a load is monitored by a IED where kvA and kWh pulse data are sent in real time over the network  to the Application via email or another transport protocol. If pre-processing is required the raw pulse data is transported into a data collection server or component where it is translated into a format readable by the billing\/revenue management component . Alternately, the billing\/revenue management component may be configured to receive and process data without pre-processing . Once sent to the billing\/revenue management component  the data is compared and analyzed for usage, consumption or billing revenue ranges against a pre-determined tariff structure  where any anomalies, excess or shortages are reported back to the IED in the form of a command to a power management function which controls the power flow and load distribution accordingly . The components further contact the required parties, such as the consumer or provider of the load, over the network, forwarding power quality, billing, usage or consumption reports or any power management functions that were required against the set tariff structure.",{"@attributes":{"id":"p-0091","num":"0090"},"figref":["FIG. 5","FIG. 5","FIG. 2"],"i":["a ","b","b"],"b":["502","501","1","505","2","506","501","502","505","506","501","259","250"]},"For example, an IED  is connected to a power line  and associated load . The IED  measures power usage by the load and transmits this consumption data  over a network  to a usage and consumption management application component operating on a back end server . The Usage and consumption management component receives and tracks cost and usage ,  and compares rates for actual usage against multiple suppliers bids . Suppliers have the option to either push tariff structures to the application component or have tariff structures polled over the network. Once the most cost effective structure is determined by the usage and consumption management component, a command or function is sent to the IED  with the new tariff structure , . Alternately, the new tariff structure is applied across to the billing\/revenue management component where billing is applied to the usage and revenue reports are forwarded onto the appropriate parties.","In another example the usage and consumption management component determines all suppliers tariff structures are too expensive to warrant usage or consumption thus a command to reduce consumption to a desired level is transmitted over the network to the IED . Furthermore, an alternate embodiment includes application of real-time usage and cost monitoring of loads being measured by an IED and multiple energy and distribution system suppliers.","In an alternate embodiment the usage and consumption component is pre-programmed to monitor and shed loads based on a exceeding a set tariff structure. For example an IED  monitors a load  connected to a power distribution system . Energy is supplied by an energy supplier . The IED contains a tariff structure that has a limit of $0.80\/kWh during peak hours of 6 am to 6 pm and a limit of $0.60\/kWh for non-peak hours of 6 pm to 6 am. The IED  monitors the power usage of the load  vs. the actual tariff structure of the energy supplier and shuts the load  off if the actual tariff exceeds the limits of $0.80\/kWh during peak times or $0.60\/kWh during non-peak times.","The centralized power management component  allows the centralization of work at one location, such as a centralized billing server, load management server or master IED, which collects and processes data from various devices spread over the network. In operation, remote IED's connected to the network transmit data to the centralized power management component where operations such as billing, load management, usage and consumption reporting are processed in one central location.","The distributed power management component  allows for the distribution of work or data processing to various devices on the network. In operation, an IED measures or detects an occurring or impending catastrophic power quality event and alerts other downstream IED's (on the power distribution network) of the event thereby giving the downstream IED's an opportunity to disconnect or alter loads before the event reaches the downstream system and causes damage. The component further includes a function that, upon detection of an occurring or impending event, alerts downstream IED's or back end servers to alert their connected loads to either protect themselves from the outage by shutting down, or instructing them to shut down applications that may cause critical failure or damage if interrupted, such as writing to a hard-drive.  illustrates one embodiment of the distributed power management component in action. An Electrical power distribution system  distributes energy over distribution lines  which are connected to multiple IED's , , ,  which are present to continuously monitor the energy being fed onto their respective loads   and generators   on a given branch and furthermore all IED's , , ,  are connected via a network  as described above. IED's   are also present on the distribution system  to continuously monitor energy being transferred onto the system as a whole. It will be appreciated that the loads and generators may reside on multiple or separate consumer sites. In operation, a catastrophic power quality event is detected on a load  by the attached IED . The IED  takes appropriate action, such as triggering a protection relay, on the load and further transmits communications of its actions to upstream IED's  . This ensures local containment of the event by the IED  informing upstream IED's to not duplicate the action on the larger system. Obviously retaining upstream IED's as a backup is not discounted in this operation. Alternatively, the operation is utilized to coordinate downstream IED's over the network . For example an event may be detected at the distribution system  by an IED  monitoring the system  which triggers, for example, a protection relay. The IED  which triggered the protection relay communicates its actions to downstream IED's      over the network  allowing them to take appropriate intelligent action, such as disconnection the generators  . It will be appreciated that IED applications may include a combination of the centralized and distributed power management components.","In one embodiment, a power reliability component  is provided in the IED to measure and compute the reliability of the power system. Power system reliability is discussed in commonly assigned U.S. patent application Ser. No. 09\/724,309, entitled \u201cAPPARATUS AND METHOD FOR MEASURING AND REPORTING THE RELIABILITY OF A POWER DISTRIBUTION SYSTEM\u201d, filed Nov. 28, 2000, now U.S. Pat. No. 6,671,654, herein incorporated by reference. In one embodiment, the component  computes and measures reliability as a number of \u201cnines\u201d measure. The component includes a function which compiles the reliability of the power from other components located on back end servers or IED's, giving a total reliability. This function also enables a user to determine which part of the distribution system has the most unreliable power. Knowing this enables the user to focus on the unreliable area, hopefully improving local power reliability and thus increasing overall reliability.","For example, referring now to , an IED  is connected to a network  and measures the reliability of the power distribution system  which supplies power to loads   within a customer site . The customer also provides a generator  which supplies power to the loads   at various times. The customer measures the power reliability of the system for the load   using the associated IED   and considers it unreliable. One IED's  power reliability component polls the other IED's    and determines the unreliable power source is coming from the generator . From this the customer can decide to shut off the power supply from the generator  in order to improve the power reliability of the system.","In another embodiment, a power outage component  is provided in the IED which informs the appropriate parties of a power outage using email or other transport protocols. In one embodiment, an IED is connected to a power system when a power failure occurs. The IED's power outage component  contains hardware, such as a battery backup and modem, which enables the IED to transmit a power failure warning to the appropriate parties, such as the utility or customer, such as by email over a network as described above. Further, a cellular modem may be utilized to call out to indicate the location of an outage. Physical locating algorithms such as cellular triangulation or telephone caller ID can be used to track or verify outage locations.","Peer to peer communications between IED's and between back end servers are supported by the peer to peer management component . In one embodiment, peer to peer communications are utilized to transport or compile data from multiple IED's. For example, as shown in , an IED  is connected to a network . Multiple loads   draw power from a power utility's  power distribution line  and each load is monitored by an IED  . An IED  polls load and billing data from all other IED's on the network on the customer site  . Upon request, the IED  then transmits the load and billing data to the customer's billing server . In one embodiment, the IED  communicates the load and billing data in a format which allows software programs inside the customer billing server  to receive the data directly without translation or reformatting.","Transmission of data in XML format allows a user to receive the data in a readable self-describing format for the application intended. For example, traditional data file formats include comma-separated value files (CSV), which contain values in tables as a series of ASCII text strings organized so each column value is separated by a comma from the next column's value. The problem with sending CSV file formats is the recipient may not be aware of each column's desired meaning. For example, a CSV file may contain the following information sent from a revenue billing application:\n\n",{"@attributes":{"id":"p-0102","num":"0102"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<billing_information>"]},{"entry":[{},"<kWh_month>45.54<\/kWh_month>"]},{"entry":[{},"<kWh_day>1.25<\/kWh_day>"]},{"entry":[{},"<location>1234 Elm Street<\/location>"]},{"entry":[{},"<device_type>8500<\/device_type>"]},{"entry":[{},"<\/billing_information>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Transmission in XML\/SOAP format allows the recipient to receive XML-tagged data from a sender and not require knowledge of how the sender's system operates or data formats are organized. In one embodiment, communications between IED's connected to the network are transmitted in XML format. An IED utilizes XML based client application components included within the power management applications and transmits the data in XML format so little or no post-processing is required.  illustrates an example of one embodiment. An IED  is connected to a power distribution line  and associated load  owned by a customer . Power is supplied by a power utility's  power generator . The power utility also has a utility billing server  which compiles billing data from consumers drawing power from their power generators. The IED  is connected to the utility billing server via a network connection  and the IED  measures usage and consumption of the load, and other values associated with billing. The utility billing server  contains billing software, such as a MV90, which requires data in a specified format. Either upon request, or a pre-scheduled times, the IED  transmits the usage, consumption and billing data associated with the load  to the utility billing server  in XML format. The customer also has a monitoring server  which is dedicated to receiving billing data from the IED  and reporting usage and consumption to the appropriate parties, the monitoring server  also reads data in a specified format for its associated monitoring software. The IED  transmits the same usage, consumption and billing data to the monitoring server  in XML format. By utilizing XML data formats the data transmitted by the IED  can be read by multiple servers or IED's  that do not require knowledge beforehand of the order or type of data that is being sent. In an alternate embodiment an IED  may also receive inputs from peripheral devices which may be translated and combined in the XML transmission. For example, the load  is a motor which contains a temperature probe. The temperature probe is connected to the IED  and allows the IED  to monitor the motor temperature in addition to power data on the power distribution line . The IED  is programmed to act on the temperature input by shutting down the motor if the temperature exceeds a pre-defined critical level by tripping a relay or other protection device (not shown). The IED  is further programmed to alert the customer monitoring server  and an alert pager  and if such an action takes place. This alert transmission is sent in XML format so both the server  and the pager , which may be configured to read incoming transmissions differently, receive the alert transmission in the form in which it was intended. It will be appreciated that the IED  can receive data in XML format from multiple sources without complete knowledge of their file transfer notations.","In an alternate embodiment, the back end servers include software that is generally included on a majority of existing computer systems, such as Microsoft Office\u2122 software, manufactured by Microsoft Corporation, located in Redmond, Wash. which includes the software applications Microsoft Word\u2122 and Microsoft Excel\u2122. The software receives data in a self describing format, such as XML, and the software includes off the shelf applications and processes such as a Microsoft Exchange Server, Microsoft Excel and associated Excel Workbooks, Microsoft Outlook and associated Outlook rules, Microsoft Visio and associated Visio Stencils, Template files, and macros which allow the user to view and manipulate data directly from the IED. In one embodiment the IED transmission format makes use of existing standard software packages and does not require additional low level components, such as a communications server communicating with a serial port, which are normally required to interface to the IED communication ports. Further, the embodiment does not require a separate database, as the data is stored in the software programs. This allows a user to view data from the IED using standard computer software. For example, referring now to , an IED  monitors a load  and passes the monitored data to a monitoring server . The data can be transmitted using a variety of protocols, such as FTP, TCP\/IP or HTTP, as described above. In one embodiment, data is transmitted in an HTTP based form or an SMTP form where the HTTP form is a self-describing format such as XML and the SMTP format is an email message. The monitoring server  includes Microsoft Exchange Server , Visio , Microsoft Excel  and Excel Workbooks . The Excel software  is capable of receiving data directly from the IED in a self-describing format, thus allowing the user to view real time load profiles or graphs and other monitored data directly from the IED in real time. The Visio software  is also capable of receiving data directly from the IED in a self-describing format, thus allowing the user to process and view real time data in Visio format. Alternately, the IED transmits power quality, load, billing data or other measured or monitored values to the Excel Workbooks  via the Exchange Server . The Excel or Visio software is then capable of retrieving historical data directly from the workbooks.","Referring to , there is shown an exemplary screen display of a Microsoft Excel worksheet which is coupled with the IED  as described above. In this example, the IED  is a model 8500 meter, manufactured by Power Measurement Limited, in Victoria, British Columbia, Canada. The IED  is coupled via a TCP\/IP based network with a personal computer having at least 64 MB memory and 6 GB hard disk with a Pentium\u2122 III or equivalent processor or better, executing the Microsoft Windows 98\u2122 operating system and Microsoft Excel 2000. The computer further includes Microsoft Internet Explorer\u2122 5.0 which includes an XML parser that receives and parses the XML data fro the meter and delivers it to the Excel worksheet. The worksheet displays real time data received directly from the IED  in an XML format. As the IED  detects and measures fluctuations in the delivered electrical power, it transmits updated information, via XML, to the worksheet which, in turn, updates the displayed data in real time. Note that all of the features of the Microsoft Excel program are available to manipulate and analyze the received real time data, including the ability to specify mathematical formulas and complex equations which act on the data. Further, display templates and charting\/graphing functions can be implemented to provide meaningful visual analysis of the data as it is received. Further, the real time data can be logged for historical analysis. In one embodiment, the activation of a new IED  on the network is detected by the worksheet which cause automatic generation of a new worksheet to receive and display data from the new device.","In still another alternative embodiment, the ability to communicate through a firewall or other private network security\/protection implementations, as described above, also known as \u201cpunch through\u201d, is provided. As was described, in order to implement the various power management applications on the disclosed power management architecture, the IED's, back-end servers and their constituent application components must be able to intercommunicate with and among one another to share data and command and control information. Further, as was noted, the IED's, back-end servers and their constituent application components may be located anywhere, including within private internal networks, relying on the fabric of the public network infrastructure to link them together and facilitate their \u201cmachine to machine\u201d communications. However, concerns over enterprise network security often result in the restriction of such communications between private\/internal networks and public external networks such as the Internet. Unfettered communications over unknown or unregulated protocols or between unknown or unregulated clients, servers or hosts represent an inherent network security risk to an enterprise. Therefore, as it is usually impractical to disconnect these private\/internal networks from the public network infrastructure, these private\/internal networks often utilize a \u201cfirewall,\u201d described in more detail below, to provide network security and regulate the flow of communications between the networks. As will be discussed below, it is therefore advantageous to encapsulate\/facilitate these computer readable communications using protocols intended for human readable communications, such as electronic mail, hypertext\/web or instant messaging protocols, which are more benign and more easily regulated and monitored, i.e. trusted, and therefore more likely to be allowed to pass through any firewall present.","A firewall is a software program, or combination of software and hardware, typically located on a private network and coupled between the private network and the public network infrastructure. The firewall protects the resources of the private network, such as an intranet, from users of other external networks, such as the Internet, coupled with that private network. The firewall allows internal users to access to the private network\/intranet but prevents outsiders from accessing the private data, and\/or it controls which resources both the internal or external users have access to. Alternately, or in conjunction, the firewall restricts outgoing connections to external network entities from the internal user by restricting certain types of protocol connections or data transfers. A firewall mediates\/facilitates bi-directional communication between two networks, typically external and internal networks, but in certain situations data or standard communications protocols are only allowed outbound to the external network and not inbound from the external network. Alternately, select standard protocols are enabled for both inbound and outbound communication. Standard communication protocols include FTP, NNTP or instant messaging protocols, such as AOL\u2122, Yahoo!\u2122 or MSN\u2122 instant messaging protocols. It may also include SMTP (port 25) type protocols known in the art or other HTTP (port 80) type protocols. It will be appreciated that firewalls are well known in the art.","A firewall examines each network packet entering or leaving the private network to determine whether to forward it towards its destination. A firewall may also include or work with a proxy server that makes external network requests on behalf on internal users. The proxy server allows an enterprise, which has several users, to act as an intermediary between the users and the external network\/internet so the Enterprise, such as a company's Information Services department, can ensure security, administrative control and\/or offer caching services.","The firewall also acts as a screen. For example, a firewall may screen requests to ensure they come from acceptable domain names or Internet protocol addresses. Further, the firewall may also allow remote access into the private or internal network by the use of secure login procedures and authentication certificates. The term firewall typically implies not only that firewall network hardware and software is installed but also that a security policy is in place. The security policy refers to the configuration of the firewall as to which internal and external entities are permitted to communicate. Typically this includes defining which communications protocols will be allowed to pass through and which computer systems or hosts, internal and external, will be allowed to communicate via those protocols. Such security policies are typically implemented by the Information Technology\/Services (IT or IS) departments of the enterprise.","Typical enterprises implement internal or local area networks for at least the purpose of allowing employees to communicate via electronic mail. Further, these mail servers are typically configured, along with the firewall, to permit the exchange of electronic mail with entities outside the enterprise. Mail servers may also act as a similar screening method to restrict messages or access only to acceptable services or from acceptable users. For example, a mail server may screen incoming messages to ensure that they come from acceptable or valid domain names, Internet protocol addresses or even specific user addresses. In one embodiment a mail server may be instructed to only receive messages from a single user address, such as \u201cied_data@company.com,\u201d or a valid domain, e.g. \u201c@company.com.\u201d Further, the mail server typically must also be configured for each user or email client program that wishes to communicate using the server. For example, an email account must be set up for each user within the enterprise who is to be allowed to communicate via email.","In one embodiment disclosed herein, the IED is configured as an email client with the email server and appears to the email server as any other user of email within the enterprise, creating, sending and receiving emails via the server. These emails contain the computer readable power management data and commands to other application components within the power management application which are capable of receiving the email and parsing out the power management data or commands. The IED may be configured to define or set any outgoing message criteria\/parameters or to conform its communications to the user or enterprise domain address to ensure the mail server will accept any messages the IED sends from the valid domain. In this way, the IED can take advantage of the email server's capability to communicate via the firewall to get messages out to the external network.","As described above, the ability of an IED to push or send data or commands using the public Internet infrastructure allows IED's to be easily scalable when implemented in a network type architecture. By using the existing resources of the enterprise in which the IED is installed, including the internal\/local area network and its connection with the external network\/Internet, the need for dedicated communications media, such a telephone line, is eliminated. However, this ability to communicate requires that the data be able to get out of the internal\/private network and to the external public network or Internet. As discussed above, with the advent of network security, this requires that the IED be able to send and receive its communications through the firewall. Sending data or commands, such as power management commands described earlier, using a protocol such as SMTP enabled email clients, allows a user or IED to communicate through a firewall while meeting the demands for security by the enterprise. However, due to various security policies, discussed above, the enterprise's internal network must be configured, in most cases, to allow such communication.","One method, as discussed above, is to configure the IED as an email client on the enterprise's internal electronic mail server, where that server is capable of communicating electronic mail via the firewall. In this case, the IED appears as any other user of the email server and is able to send and receive email via the firewall. The IED need only be configured to correctly interact with the mail server. In another embodiment, the IED is configured to interact with a communications server, such as an electronic mail server or XML server, which is external to the enterprise's internal network. In this case, the security policy of the enterprise may need to be reconfigured to allow the firewall to pass the communications of the IED to an external communications server such as an external mail server or external XML server. As will be discussed, in still another embodiment, the IED is configured to utilize a standard protocol typically already permitted by the enterprise's security policy for communications via the firewall, such as the HTTP protocol. In this case, no reconfiguration of the enterprise's internal network is required for the IED to communicate via the firewall.","In order to interact via electronic mail, whether with an internal or external mail server, the IED includes an electronic mail client application, as described above. It will be appreciated, that depending on the protocol and method of communications, the IED is equipped with an appropriately enabled client application, as described above. An exemplary SMTP enabled email client for IED's is the MeterM@il\u2122 email client manufactured by Power Measurement, Ltd, located in Saanichton, B.C. Canada. Other protocols, such as Multi-Purpose Internet Mail Extensions (\u201cMIME\u201d) may also be used to transport data or commands.","As described earlier in , a security sub-layer  a is present on the application layer  where encryption before email protocol packaging takes place. In an alternate embodiment a secure sockets layer (\u201cSSL\u201d) is utilized to ensure security between the IED and the server or client which it ultimately connects to. SSL is a commonly-used protocol for managing the security of a message transmission. In one embodiment, the SSL is included on the application layer , which includes all of the application software component and\/or power management components. SSL uses public-and-private key encryption, which also includes the use of digital certificates. Digital certificates allow the recipient to verify that the certificate is real, and hence the message is real and from an authorized user. As described earlier, encryption can also be done utilizing Pretty Good Privacy (PGP). PGP uses a variation of the public key system, where each user has a publicly known encryption key and a private key known only to that user. The public key system and infrastructure enables users of unsecured networks, such as the Internet, to securely and privately exchange data through the use of public and private cryptographic key pairs. A security module, or security application, includes the aforementioned encryption, authentication and encryption applications.","In an alternate embodiment a Network Time Protocol (\u201cNTP\u201d) or other form of time-syncing is utilized on the IED to ensure the transferred message has the correct time and to ensure that the contents of the message is derived using accurate time (i.e., interval energy data). NTP is a protocol that is used to synchronize computer or IED clock times in a network, either external or internal. Accurate time across the network is important. Distributed procedures depend on coordinated times to ensure proper sequences are followed or security mechanisms depend on coordinated times across the network. For example, a supplier may initiate a startup of two generators, each connected to an IED. In order to achieve proper startup, the first and second generator must be started in the correct order within a specified period of time. The supplier sends a command to start the first generator at 12:00 AM and the second generator at 12:01 AM. In order to ensure the proper startup sequence is done, both the IED's must be timesynced together. As one can see, if one of the IED's has the incorrect internal time, the procedure may not occur in the correct order. Further, correct time stamping of messages is important for real time or revenue related messages. NTP typically applies to both the protocol and the client\/server programs that may run on the IED. In one embodiment, the IED NTP initiates a request to the network time server, internal or external. Alternately, the IED may receive the correct time to timesync the IED from the time server via a push mechanism.",{"@attributes":{"id":"p-0117","num":"0117"},"figref":"FIG. 12","b":["1220","1202","1210","1212","1214","1210","1212","1214","1254","1252","1250","1252","1212","1204","1225","1252","1254","1212","1214","1202","1212","1254","1212","1220","1252","1254","1250"]},"As shown in , Customer A  contains an internal network  with various IED's   connected to the network . A firewall  protects the internal network  from users which may attempt to access the IED's   or other network resources through the Internet , or via some other type of external network connection. Customer B  also contains an internal network  with an IED  connected to a transport box , described in more detail below, which is connected to the network . The internal network  also contains a firewall  which protects the internal network from unauthorized users or access. An Enterprise  has a server  and a database  which are utilized to receive data from both Customer A  and Customer B . This data, such as revenue billing data, or other power management data, is packaged by the respective IED  on the respective internal network and sent using a SMTP protocol through the firewall  to the server . The server  contains a mail server, such as Microsoft Exchange\u2122 which receives and processes the data sent. The Enterprise  has a database  which compiles the data sent by the respective Customers  . Further, it will be appreciated that the Server  can also send a command or data packet to the IED  using the same protocol.","In one embodiment the transport box  allows an IED , which does not have the ability to either directly connect to the network  or the ability to use an email transport protocol, to connect to the Enterprise . The IED, such as an electro-mechanical watt-hour meter, gives an output pulse, or other form of output data, to the transport box , which is equal to a pre-defined measurement such as a kWh. In turn the transport box  contains the ability to compile and translate the pulses or other output data from the IED  into data, such as billing data, and package and push or send the data on either a pre-defined schedule, or an event driven schedule, to the Enterprise . For example the IED  emits a pulse to the transport box for every kWh measured. The transport box  is programmed to push revenue billing data, as measured by the IED , on a weekly or other scheduled basis to the Enterprise . The transport box compiles the pulses, as sent by the IED , into an email message containing the data, encrypts the data, and sends the message through the firewall  to the Enterprise . The Server  receives the message from the transport box  and decrypts and authenticates the message before sending the data to the database . The database is then utilized to provide billing to Customer B  on a monthly basis. The use of a firewall  ensures that an unauthorized user, such as Customer A, may not access or alter the billing data contained in the transport box . In an alternate embodiment the transport box contains a data converter engine, such as an extensible markup language (\u201cXML\u201d) Engine, to convert the billing data into a pre-defined or readable data format, such as XML or Comma Separated Values (\u201cCSV\u201d).","Further, in an alternate embodiment, the Enterprise , may contact the Customer to enable a power management command, such as shed a load, on a load or device connected to an IED . In operation a power management command is created or sent to the Server  and the corresponding \u201cshed load\u201d command is packaged in an email protocol, such as SMTP, and sent to the IED . A power management command may be included or reside in power management data. The use of an email message allows the Enterprise  to transmit information through the firewall . It can be appreciated that other transport protocols to transmit unsolicited information through the firewall can be utilized, such as HTTP, HTTP Tunneling, SOAP\u2122 or instant messaging, if permitted by the firewall.","In an alternate embodiment the transport box is utilized to allow bi-directional communication through the firewall between the IED  and the Enterprise . The Server  sends an email message through the Internet , the firewall  to the transport box , addressed to the IED . The transport box , which contains a mail server, such as Microsoft Exchange\u2122, receives and temporarily stores the email message for pickup from the IED . Alternatively, the Mail Server  may be external from the transport box . Upon pickup, the IED  can extract, process, permanently store the message and take any necessary action the message may have included. This \u201cstore and forward\u201d capability of the mail server  allows the IED  to connect to the Mail Server  or Transport Box  while the corresponding message is held for retrieval. It will be appreciated that although the IED  has the ability to connect to the network itself, for reasons such as security the transport box may be the only power management related device on the network allowed to connect other network infrastructure devices. The IED  utilizes the transport box  or mail server  in order to connect to the network and send messages either in one direction or bi-directional as described.",{"@attributes":{"id":"p-0122","num":"0122"},"figref":"FIG. 14","b":["1452","1405","1410","1412","1416","1410","1420","1410","1412","1450","1460","1452","1454","1405","1412","1460","1416","1412","1416","1416","1412","1412","1452","1452","1420","1412","1412","1416","1452","1405"]},"In another embodiment authentication and encryption of the email message is performed to ensure that the email is not erroneously received by another IED  and the command is conducted on the correct load or application. In another embodiment a proxy server is located on the internal network, either contained within the IED or as a separate device, which can also act as a filter to protect the IED from contacting or connecting to unauthorized sites. Further, it will be appreciated that the IED may have the ability to communicate to the internet  via a proxy server. In another embodiment the IED itself may contain a firewall to secure access as described above.","With the inherent insecurity of publicly accessible external networks such as the Internet, private enterprises implementing internal local area networks, such as Intranets, must take precautions. While the safest alternative to prevent hacking, information theft, corporate espionage and other security breaches is to completely disconnect the internal network from external network, this solution also shuts out the tremendous benefits of having access to such external networks, some which have been explained above. Therefore, network security devices and policies, such as firewalls, must be implemented to safeguard the internal network while maintaining communication with the outside world. Automated power management applications operating on the disclosed power management architecture, as described above, must deal with this reality and respect the enterprise's need for network security while employing the intra-application component communications which span the internal and external networks to implement the power management application.","The disclosed embodiments described below meet these needs by providing a system and method for communicating through a firewall that takes advantage of the existing network infrastructure of the enterprise without jeopardizing the security of that infrastructure. The disclosed embodiments do not require a dedicated communications medium such as a telephone line. Each IED is capable of connecting directly to the existing network infrastructure, taking advantage of cabling, routers, switches, hubs, etc. that are already in place. Further, the disclosed embodiments do not require additional layers of data collection. Each IED is a standalone device capable of communicating with the back end servers or other data collection system within the power management architecture. Additional dedicated intermediary devices are not necessary to collect the power management data for the purpose of communicating it over the internal network. Further, each IED is capable of initiating communications, either according to a schedule, or as power management events are detected on the monitored power distribution system, i.e. event driven. This eliminates the need for in-bound \u201cpolling request\u201d communications to the IED to cause it to send its data. By restricting communications to outbound traffic only, the enterprise's network security policies can be respected, and less burden is placed on the enterprise's network security staff in monitoring in bound network traffic from unknown sources.","As described above, a generally accessible connectionless\/scalable communications architecture is provided for operating power management applications. The architecture facilitates IED-supplier communications applications such as for automated meter reading, revenue collection, IED tampering and fraud detection, power quality monitoring, load or generation control, tariff updating or power reliability monitoring. The architecture also supports IED-consumer applications such as usage\/cost monitoring, IED tampering and fraud detection, power quality monitoring, power reliability monitoring or control applications such as load shedding\/cost control or generation control. In addition, real time deregulated utility\/supplier switching applications which respond in real time to energy costs fluctuations can be implemented which automatically switch suppliers based on real time cost. Further the architecture supports communications between IED's such as early warning systems which warn downstream IED's of impending power quality events. The architecture also supports utility\/supplier to customer applications such as real time pricing reporting, billing reporting, power quality or power reliability reporting. Customer to customer applications may also be supported wherein customers can share power quality or power reliability data.","As described earlier, instant messaging (\u201cIM\u201d) protocols can be utilized to transport commands or data over a network from one IED to another. The use of instant message applications offer several advantages over email or other types of communication applications due to the real time and guaranteed end-user delivery of the message. Although real time communication is possible with email, real time communication is not always guaranteed or realistic. Further, unlike email, IM applications typically do not \u201cstore and forward\u201d messages. Email offers three phases or states of operation in a given message transfer: 1) the message has been delivered or, 2) message has not been delivered or, 3) the message is on it's way. The third state is an indeterminate state that leaves uncertainty in the success of the transmission as an email message may be delayed while en route through the network or, worse yet, diverted and lost. Instant messaging protocols eliminate this indeterminate third state by offering a binary state of either received or not received, thereby offering guaranteed success or failure of the message transmission. With today's dynamic market place, where power consumption and the associated fortunes of utilities, and other entities involved in the power distribution market, can be made or lost in seconds, a user must be able to respond immediately in real time with instantaneous knowledge and cannot afford to have indeterminate information.","While some instant messaging protocols do not require users or devices to be connected on a public Internet type connection, alternative IM protocols, such as Jabber operate on an open Internet connection utilizing an open source protocol developed by wwwjabber.org. Other IM applications, such as Microsoft's MSN\u2122, manufactured by Microsoft Corporation located in Redmond, Wash. and Express Messaging Server manufactured by ACD Systems Inc. located in Saanichton, British Columbia, Canada, are closed source platforms. Open source refers to a program whose source code is made available for use or modification as users or developers see fit. Closed source refers to a program whose source code is typically proprietary and not available for use or modification to anyone but the original developers. IM can be utilized to have both person-to-person conversations and application-to-application conversations, such as web services, IP routing or data transfer. A person-to-application may also utilize instant messaging.","The instant message feature can be split into two types of service, centralized and distributed services. A centralized service uses an Instant Message Server to act as a central server application. Clients connect to the IM Server and the server logs and distributes the information provided by the clients. The IM Server automatically manages the presence information for the users (clients) and applications (also clients), distributing the information as needed or requested. Presence will be explained in detail below. In a centralized service, only the clients are connected to the server and the server is responsible for negotiating the delivery and receipt of the client's data with the other clients; all data transmitted over the instant message is transient in the server and stored at the client. Another type of IM service is a distributed service which has no Instant Message Server per se, but rather each client is responsible to connect to all the other clients to make their presence known and deliver their messages. Either type of service can be utilized to overcome firewall issues as instant messaging is typically added as an additional layer to the TCP\/IP stack. Further, each type of service can be used either on an intranet (internal or private network) or over the public Internet infrastructure.","Typically, operation of a centralized IM application requires both the recipient (a client) and the sender (also a client) of the instant message to be online at the same time. Further, the intended recipient must be willing to accept instant messages, as it is possible to set the IM software to reject messages. The recipient can be an actual individual or a device, such as an IED, or a load or generator connected to an IED. An attempt to send an IM to a recipient who is not online, or is not available or unwilling to accept the IM will result in notification that the transmission cannot be completed. If the recipient is willing or able to accept the IM, the message, or data inside the message, is received by the recipient's device. Further, the recipient has the capability to accept or reject the incoming message.","To further enhance the instant messaging capabilities, \u201cpresence\u201d is utilized. Presence is a way for a device to make it's connection or availability known or available to the network it is connected to. The connection can be logical, and not necessarily physical as a wireless device may be \u201cpresent\u201d on a network without any physical connection. Presence also allows a device to locate or identify a second device, wherever it may be on the network, as soon as the second device connects to the network; it is an autonomous, contemporaneous broadcast or transmission of the devices availability. There are several types of presence that can be used to signify the presence of a recipient or sender. Temporary Presence indicates where, on the network, the recipient was several minutes ago; Predicted Presence indicates where the sender thinks the recipient is now; Network Presence indicates the recipient client is logged in somewhere; Actual Presence indicates that the recipient is logged in somewhere; and Real Presence indicates that the recipient is logged in and communicating. In one embodiment there are several sub-sets of Real Presence which are utilized. \u201cAvailable\u201d indicates the recipient is available to receive messages; \u201cAvailable but not on\u201d indicates the recipient is available but the device is not on; \u201cAvailable but on\u201d indicates the recipient is available and the attached device is on; and \u201cAvailable with restriction\u201d indicates the recipient is available but with restriction to receive and execute commands. It can be appreciated by one skilled in the art that there are several variations, extensions and permutations of the above types of presence such as \u2018away\u2019, \u2018do not disturb\u2019, \u2018sleeping\u2019 etc. Presence can also go beyond the above binary states to offer insight into other necessary information. For instance presence may also indicate information such as location, geographic, logical or physical, or other application specific data such as general capacity, fuel, temperature, circuit capacity, % load, energy value or fault and trip information, or \u201cavailable with restriction\u201d may also contain a status note of \u201ccritical process online, will go offline at 13:03 PST\u201d. Status is an extension of the presence of a device. While a device offers the presence of \u201cavailable\u201d, the status may offer further device information.","Presence is detected, broadcasted or polled on a scheduled basis. For example, the presence is either requested or received every 1 minute, or requested by a client. It is obvious to one skilled in the art that the 1 minute interval can be both increased or decreased to offer alternate time resolution. In the case of a first client requesting the presence of a second client, the IM Server will poll the second client and make the information available to the first client. Alternately, the IM server will provide the second client presence to the first client as the presence may by broadcasted or sent by the second client to the IM server thus allowing the IM server to receive and update the presence without the need for polling. The ability to both detect the presence, or receive a presence message from the device, offers the IM server the ability to track presence in substantially real time. Alternately, presence can be detected, updated or broadcasted on an event driven basis.","The presence indications, as outlined above, can be altered in several ways. For example, a device may be instructed to switch from \u201cavailable\u201d to \u201cavailable with restriction\u201d upon the simple binary state decision whether the device is either \u201cinactive\u201d and not in use and thus \u201cavailable\u201d, or \u201cactive\u201d but in use and thus \u201cavailable with restriction\u201d. Furthermore the \u201cactive\u201d presence may be defined to signify that the device is \u201cactive\u201d if there is mouse or keyboard movement from the operator, or if the processor is at, and maintains, a certain level of activity. It can also be appreciated that the device could alter its presence to \u201cavailable with restriction\u201d if the processor is in the middle of a critical process and cannot receive another command without sacrificing the critical process.","Presence can also be detected using other types of transport protocols or commands such as email notification. For example a user may send an email to a device instructing it to reply immediately with the device presence or status. Upon receipt of the return message the user checks the timestamp to determine if the reply has been sent in the appropriate period of time to signify that the device is currently online, and the reply content of the email can be used to give the presence or status of the device. However, the possibility of an indeterminate response, i.e. no response is possible with email which may leave the requestor in a hanging state. Further, the use of email to determine presence, combined with the aforementioned security offers the ability to determine the presence of a device securely. This is important because a user may want to determine the presence or status of a device, but not want another user, such as the competition, to be able to determine the status of their devices. It can also be appreciated that the use of aforementioned security module can be coupled with an instant message or the instant message server itself.","In one embodiment the Instant Message Server contains two services, the Presence Service and the Instant Message Service. The Presence Service accepts presence information, stores and distributes it whereas the Instant Message Service serves to accept and deliver Instant Messages. It will be appreciated that these two services can be combined or implemented separately depending on the application. The advantages of having the presence service separate from the instant message service allows other applications to make use of the services independently. For example, a client may wish to use the presence service in conjunction with an email service or other type of communication protocols thus allowing the client to detect and reveal the availability of another client on the network before sending a message. In another example a client utilizes instant messaging without the use of presence, but the client is instructed to use an email service as a backup if the instant message is rejected due to the intended recipients unavailability. In this example presence is not required as the instant message is rejected if a connection cannot be made. It will be appreciated that the success or failure of an instant message is, itself, an indication of presence.",{"@attributes":{"id":"p-0136","num":"0136"},"figref":["FIG. 15","FIG. 1"],"i":"a ","b":["1510","1504","1508","1502","1506","1501","1500","1501","110"]},{"@attributes":{"id":"p-0137","num":"0137"},"figref":"FIG. 15","i":"b ","b":["1520","1525","1530","1525","1540","1525","1530"]},{"@attributes":{"id":"p-0138","num":"0138"},"figref":"FIG. 15","i":"c ","b":["1550","1555","1560","1565","1570","1575"]},{"@attributes":{"id":"p-0139","num":"0139"},"figref":"FIG. 16","b":["1620","1606","1608","1610","1613","1620","1600","1606","1610","1600","1622","1608","1613","1600","1608","1613","1606","1608","1620","1606","1600","1620","1608","1606","1608","1606","1600","1608","1600","1622","1613","1600","1610","1610","1613","1600","1600","1613","1608","1600","1608","1600"]},"It will be appreciated that the utility  can send instant messages to the load  and generator , or their associated IED's  , without the use of presence, and utilize the IED's  , and IM responses therefore, to determine if the associated loads, generators or connections to devices thereto are available to process or execute the command contained within the instant message. It will also be appreciated that the same type of distributed system is contemplated but without the Instant message Server . In this situation each client is responsible to both indicate they are online and poll the other online clients for their presence information.","Instant messaging also offers the ability to receive co-dependent or multiple separate messages, and allows a recipient to either reply to multiple messages concurrently or independently. This ability allows a power utility  to send a shared message to multiple IED's   with identical instructions.","In an alternate embodiment the use of instant messages offers the ability to send software, firmware or other computer upgrades to devices using instant messages with presence. A power utility , or a third party manufacturer  may require that the IED's   be upgraded with new firmware. In operation the utility , utilizing presence, determines if the devices   are available to be upgraded and, if the devices   are shown as available to be upgraded, the upgrade is sent via an instant message. It can be appreciated that this upgrade can come in the form of an actual file upgrade, or a command for the device to connect to another device or server to download and implement the upgrade as disclosed in U.S. patent application Ser. No. 09\/792,701, entitled \u201cSYSTEM FOR IN THE FIELD CONFIGURATION OF INTELLIGENT ELECTRONIC DEVICES\u201d, filed on Feb. 23, 2001 which is herein incorporated by reference.","In another embodiment, instant messaging also includes security protocols such as encryption, decryption and authentication, similar to the security described earlier in relation to, among other things, the security module. These security applications, such as digital certificates, tracking ID's or other algorithms, are utilized on the open source systems. It will be appreciated by one skilled in the art that similar private security applications are utilized on the closed protocols, such as on Microsoft's MSN instant messaging. Further, the security applications described can also be utilized to scan or stop a virus or other type of malicious or damaging program, command or event, such as a denial-of-service attack, from being sent via the transmission, either intentionally or unintentionally. A virus scanner or similar detection software known in the art is placed on either the senders or recipients device to automatically check if a virus is attached to the incoming our outgoing message. Alternately the security policies are embedded in the firewall to offer self protection from malicious attacks or viruses.","As mentioned earlier, a firewall is an application that typically protects entry from a publicly accessible network that is coupled to a private network. In an alternate embodiment a third party , such as a Billing Company, resides behind a firewall . Communication between the Billing Company, the Power Utility  and IED's   is made possible with the use of the IM Server  as instant messages are able to pass through a firewall  using technology known in the art, such as HTTP tunneling. In operation the Billing Company  uses presence to determine if the utility is present and available to receive a message. If so the Billing Company  transmits a tariff structure message through the firewall  to the Power Utility  via the IM Server . From there the Power Utility  can take appropriate action, such as reduce the loads on the power grid , as described earlier. Alternately the Billing Company  can transmit other types of messages, such as real time pricing.","In another alternate embodiment, where security is necessary on the secure side of a firewall , a computer  is connected to an IED , and the IED  to the power grid . In operation the IED  is used to determine the power parameters directly from the power grid  and the computer  initiates connection through the firewall  to the IM server , pushing the presence of the IED . At this point there is now a connection between the IM server  and the secure side of the firewall  where the IED  resides.","In yet another embodiment, a first client attempting to detect a second client that they wish to contact that is not \u201cpresent\u201d or \u201cavailable\u201d, may instruct the instant message application to show an alert when the second client becomes available, or send a pre-stored message to the second client upon their availability. This allows a client or user to mix the \u201cstore and forward\u201d technology with an instant message protocol technology. For example, a client may wish to upgrade five devices on a network by sending an upgrade patch attached to the instant message. All of the intended recipient devices are available except one, who's presence shows as \u201con but unavailable to receive commands\u201d. The client sends a co-dependent message with the attached upgrade file and associated upgrade commands. The client then receives four positive notification from all devices that the message was received and one negative notification stating that the device is unavailable to upgrade at this time. The client then initiates a routine which continually checks the fifth device until the presence is changed to \u201cavailable\u201d and then the upgrade message is sent. This routine may have a pre-defined time-out period, the elapse of which indicates an error that needs to handled. As described earlier the co-dependent message allows the client to send one message to the entire group of users in place of single multiple messages.","As mentioned earlier presence can be utilized to show the status of a device beyond just the \u201cactive\u201d status or application specific data or status parameters, such as load capacity or breaker status. Where presence is limited and detailed status information cannot be reported, instant messaging can be utilized to retrieve the required data. Furthermore, programmed instant messaging alarming can be utilized to offer status updates at pre-configured status levels of a device or upon command from a user. For example a generator may be generating at x % capacity with y % available; the same can be said about a load on a circuit main or breach circuit. At 80% loading a \u201chigh loading status\u201d is reached, at 95% loading a \u201ctrip point eminent status\u201d is reached and at 0% loading a \u201cbreaker tripped status\u201d is shown. In operation instant messages are used to transmit these pre-determined status points to the operator when they are reached. Additionally the use of presence to detect that the status update message has been received offers the ability of a device to ensure a user is available that can respond to the status report. For example, a circuit breaker reaches 80% loading and thus is programmed to send a status update using an instant message to the associated plant operators. When the circuit breaker reaches 95% loading, and thus is showing a \u201ctrip point eminent status\u201d, the circuit breaker is programmed to, using presence again, check to see if a plant operator is online and available to receive the status update as a loading of this level needs immediate attention. If the operator shows \u201cunavailable\u201d the circuit breaker is then programmed to check other plant operators availability. This ensures that a plant operator will receive the status update and hopefully act appropriately. It can be appreciated that many other alarms, such as \u201cgenerating but with low fuel\u201d, \u201cservice required\u201d or \u201cgenerator temperature exceeded\u201d on both generator devices or associated loads, can be programmed into any devices that have instant messaging and\/or presence capability.",{"@attributes":{"id":"p-0148","num":"0148"},"figref":"FIG. 17","b":["1700","1702","1704","1706","1700","1761","1762","1712","1716","1720","1732","1736","1740","1750","1700","1700","1702","1704","1706","1760","1761","1762","1700","1762"],"i":"d "},"As described earlier, IM protocols can be used to transport commands or data over a network from device to another. One limitation of the IM protocols is the requirement to have an active connection to communicate between the devices. If a device only periodically connects to the network then any commands sent will fail due to the device not being online or no presence detected. While a store and forward mechanism would solve this problem, not all IM messaging systems have such a mechanism. Another limitation is that most IM systems do not use open source or common standard protocols to communicate, making them often subject to being blocked by firewalls. In order for IM protocols to work correctly through firewalls, changes must be made in the configuration of the intervening firewalls. In some situations the department responsible will be unable to make changes to the firewalls configuration for security or policy reasons. Frequently instant messaging is specifically blocked as much as possible. Many instant messaging protocols are designed to find any outgoing holes in the firewalls. Because of this many companies spend a fair amount of time disabling as many of the instant messaging protocols as possible to prevent leaking possibly unauthorized information into unsecured networks. A further problem is that if both IM devices are behind different firewalls then direct communication is not possible unless one or both firewalls are specially modified to allow tunneling from external devices to the internal, protected network. The IM system must provide external servers that will proxy the IM messages in this case or communication will not be possible.","As will be described in more detail below, a Hyper Text Transfer Protocol (\u201cHTTP\u201d) Polling mechanism is used to communicate to devices behind firewalls. HTTP Polling uses the standard HTTP protocol and may use the HTTP port (port 80) to communicate between nodes. In one embodiment, a different port other than port 80 is used for HTTP to keep browser requests separate from other requests. Since HTTP is a well-known and understood protocol most packet filtering firewalls typically, by default, allow port 80 as an outgoing port. Tunneling techniques may attempt to use port 80 to sneak a non-HTTP protocol to an unsecured network. Alternatively port 80 may also be used to tunnel data to the unsecured network using the HTTP protocol to encapsulate the application data. Such tunneling techniques are considered security violations, and HTTP-aware firewalls and proxy servers typically inspect the traffic to ensure only valid HTTP traffic is going through port 80.","A new class of application gateway is emerging that inspects Simple Object Access Protocol (\u201cSOAP\u201d) messages coming in through various protocols, optionally performs some security checks, and then routes those SOAP messages to another SOAP endpoint for processing. Such gateways are typically referred to as Extensible Markup Language (\u201cXML\u201d) Firewalls. XML Firewalls typically use Global XML Web Services Architecture (\u201cGXA\u201d) Routing and XML Signatures to perform these filtering tasks, and eliminate all non-SOAP traffic. The original sender and final receiver of the SOAP message can ignore the routing and firewall behavior of XML Firewalls. For our discussions, an XML firewall can be placed between any two entities exchanging SOAP messages.","By using TCP\/IP to carry HTTP which in turn carries a SOAP message, the content of messages sent can be inspected at the packet (port), the application layer (HTTP) and the SOAP layer, enabling deployment of the disclosed embodiments in a variety of firewall configurations and environments with minimal need for special configurations. The use of a SOAP message to transport the data allows for easy inspection of the data payload carried within the message. This easy inspection also allows the use of other transport protocols other than TCP\/IP and HTTP to carry the SOAP message across firewalls without having to completely rewrite all the firewall rules detailing which SOAP messages are allowed or not.","In many cases, the default configuration of many firewalls will not allow unsolicited incoming requests, via any port, to be communicated to a device coupled with the secured network, including HTTP traffic requests through port 80. However, unsolicited outgoing communication, such as outbound requests, especially HTTP (port 80) requests, are typically allowed, as well as the incoming responses, i.e. the solicited responses, to those outbound requests. The embodiments discussed below take advantage of the ability for solicited responses, generated by an external device or server in response to a request generated by an internal device, to be allowed to pass through a firewall configured as described. When the internal device sends either a solicited or unsolicited communication to the external device, a \u201cback channel\u201d is opened through the firewall through which only a solicited communication, i.e. the communication made in response to the prior communication, is allowed through. This solicited communication can contain any command or data that the external device wishes to send to the internal device. If the internal device, protected by the firewall, periodically polls, i.e. initiates the communication to, a server outside the firewall, messages can be exchanged between the two devices, i.e., the external device can send a solicited response containing either solicited or unsolicited messages, such as commands or data. It will also be appreciated that non-periodic polling may be done. This \u201cpush\u201d exchange can be used to effect general bi-directional communications between the two devices.","As the internal device controls when it polls the server, it can control the amount of work that it executes and the bandwidth it consumes. If the internal device cannot handle any more work, or it does not need information from the external device as rapidly, then the internal device slows or stops polling the external device until it is ready to process new work. The actual work the device receives may include requests to change the polling rate or other commands, thus allowing the external device to have some measure of control over the internal device. The device may also poll on an event basis rather than periodically. Any new work will be queued up on the external server until the internal device is ready and requests additional work. Alternatively, the external server can decide to abort the pending request to the internal device if the internal device fails to poll the server within a specified time period. If the internal device is unable to connect to the external server (network problems, device rebooted, intermittent or scheduled modem connection etc) then to the external server this looks just like the internal device is unable to process any new work at that moment.","Where the above described internally initiated bidirectional communications use HTTP requests, the HTTP protocol can also optionally encapsulate other protocols within the HTTP messages like SOAP. Using SOAP allows both device and server to present a functional interface known as XML Web Services. Although XML Web Services are usually transported over HTTP they may be transported over any protocol that can transport an XML document. XML Web Services are implemented by sending SOAP messages to invoke a service or to provide the result of execution of a service. Although the Request-Response Remote Procedure Call style web services are the most common, other patterns exist and are well known in the art. Universal Description, Discovery and Integration (\u201cUDDI\u201d) is a technology that provides a mechanism to advertise and find web services. Web Services Description Language (\u201cWSDL\u201d) is well known in the art as a technology used to define the properties of web services including message format, and to some degree, message content and locations messages are sent to.","The internal device, using the HTTP Polling mechanism described above, uses HTTP POST request messages to send data to the external server for further processing, storage or execution. The Uniform Resource Identifier (\u201cURI\u201d) defines the resource that is being accessed. The HTTP POST message type is where the HTTP request contains data that is sent to a URI on the server for processing of some kind. As is well known in the art, this could include the triggering the execution of scripts or some other data processing application to parse the posted data. Alternatively, data could be encoded within the URI itself and either a POST or a GET be executed.","As is known in the art, there are two common web service models wherein HTTP is the underlying application protocol. In the representational state transfer (\u201cREST\u201d) model, the service being invoked is the URI being accessed through the web. In the SOAP model, the content of the message is generally thought to describe the service being invoked, with the resource at the URI that the SOAP message is being sent to, as a routing mechanism. Examples of using SOAP messaging using the HTTP POST and HTTP GET commands are well known in the art.","The HTTP response from the server will contain an acknowledgement that the HTTP request from the internal device has been received and processed by the external server. Alternatively the HTTP response message will also contain a new request directly or a link to a URI that contains a new request for the internal device to retrieve and then execute. This returned request could be as simple as a request to read and return a data value. Alternatively, more complex examples include: setting the time, upgrade the firmware, change a configuration parameter, change the price for a commodity that the device measures, read a temperature, close a breaker contact or execute some other similar command. All of these commands could be executed by either the internal or external network device. It will be appreciated that other transfer protocols know in the art, such as SMTP, FTP, Telnet, SNMP, Gopher, POP3, IMAP, and NNTP, as well as other custom or proprietary communications protocols, whether or not TCP\/IP based, are also capable of passing through the firewall from a secured network to an unsecured network and retrieve data and\/or commands. Secured and unsecured networks will be described in more detail below.","Previously the retrieval of commands and responding with data was accomplished with multiple independent transactions\u2014typically with one or more independent transactions for the request data and one or more independent transactions for the response data. Using the HTTP request to return the response data and then also retrieve the next request in that HTTP response message simplifies the transactions required and also decreases the amount of time between requests. This will decrease the number of transactions over a given period of time to transfer the same amount of data and thus reduce the CPU loading and bandwidth requirements between the devices.","Given a device on a secure network protected by a firewall and an unsecure PC that needs to send data to the secured device, the traditional approach for this application is that a physical connection is made between the device and the PC. Identification of the device is sent to the unsecure PC by including this in the initial connection information, then a request for a new work unit for the device to process is sent to the PC. The response contains the new unit of work and finally the connection is closed. Once the data has been processed by the device a new connection is opened again to the PC, the processed data is sent with identification of the originator device and the connection is again closed between the device and the PC. In this case is the unsecure PC is unable to initiate a connection to the secure device due to the protection provided by the firewall, as described above.",{"@attributes":{"id":"p-0161","num":"0161"},"figref":["FIG. 18","FIG. 18"],"i":["a ","a ","b"],"b":["1805","1800","1805","1840","1800","18","1800","1805","1800","1840","1800","1845","1805","1805","1800","1800","1805","1800"]},{"@attributes":{"id":"p-0162","num":"0162"},"figref":["FIG. 18","FIG. 18"],"i":["b ","a"],"b":["1805","1840","1800","1821","1800","1845","1822","1805","1800","1823","1805","1824","1805","1821","1805","1840","1800","1800","1805","1823"]},{"@attributes":{"id":"p-0163","num":"0163"},"figref":"FIG. 18","i":"c ","b":["1805","1800","1805","1875","1800","1870","1880","1805","1800","1880","1820","1810","1800","1805","1800","1805","1805","1800","1805"]},{"@attributes":{"id":"p-0164","num":"0164"},"figref":["FIG. 18","FIG. 18"],"i":["d ","c"],"b":["1800","1850","1845","1805","1831","1805","1800","1832","1805","1800","1805","1855","1840","1800","1833","1840","1850","1805","1845","1834","1805","1800","1832","1805","1855","1835","1836","1805","1800","1805","1800"]},"The HTTP Polling mechanism allows for the device  to send a physical request  to a second device, such as the PC , and receive response data  in the same connection. The firewall  connects a first network  and a second network  together. The firewall , as described above, allows connections to be initiated by devices on a secure side  to devices on an unsecure side  but not from the secure side  to the unsecure side . In operation, the device  is coupled with the first network  and is allowed to make connections to other devices (not shown) on first network  and the second network . On the second network , the PC  is present and is prevented from contacting any device on the first network  by the firewall . As is well known in the art firewalls are configured with rules that detail exactly what types of transactions are able to cross from the secure side  to the unsecure side  and the unsecure side  to the secure side . The secure side  and unsecure side  are termed secure and unsecure respectively in relation to the firewall  configuration. It will be appreciated that the firewall security can be inverted thus the first network  would be deemed unsecure and the second network  would be deemed secure in relation to the firewall .","Periodically the device  initiates a physical request  to the PC  with the physical request  containing a logical response  further containing power management data. This physical request  passes through network , firewall , network  and finally is received by the PC . The request  contains a request for the PC  to reply with a logical request for the device  to execute or process. Physical request  can also, in addition, contain the logical response  to a previous logical request  that was made by the PC  to the device  in the past. After receiving the physical request , the PC  responds with a physical response  to the device  that passes through the second network , firewall , first network  and finally to the device  as part of the previously initiated transaction. Physical response  contains the a logical request  or an indication that there is no work available for the device  to process. The physical request  initiates the punching through of the firewall  and allows the physical response  to pass through the firewall  where normally response  would be denied access.","In an alternate embodiment, HTTP Polling allows two protected devices to communicate with each other where each device is located behind its own firewall. In operation, it is impossible for each device to directly connect to the other due to the firewalls preventing any incoming connections. A person skilled in the art will appreciate that there are two traditional solutions to this problem. The first solution is to modify the firewall rules of allowed transactions on one or both of the firewalls to allow incoming connections to the device behind their respective firewall. However, this solution creates a security hole into the internal network and is normally disallowed for this reason. The second solution is to put devices on a DeMilitarized Zone (\u201cDMZ\u201d) network separated from the main internal secure network. The DMZ network is a \u201cpartially\u201d secure network in that some of the firewall rules can be relaxed to enable communication to the devices. This separate network ideally will have no communication with the secure internal network for security reasons. In a normal implementation, the separate network does have communication but it is limited to specific protocols that are monitored for possibly securities issues. One major problem with this scheme is since the devices are on a separate network they must be wired together without a network connection to the fully secured network. This implies that the devices ideally will be located physically close together to make this wiring cheaper and simpler. If the devices are dispersed throughout the internal secure network this can be difficult to manage and costly. Both schemes are not scalable with large numbers of internal devices as each device requires either a separate special modification made to the firewall rules or large numbers of external Internal Protocol (\u201cIP\u201d) addresses or close physical proximity in order to communicate to the devices.","To overcome the aforementioned issues associated with the use of HTTP Polling, an HTTP Rendezvous mechanism is utilized. As will be described in detail below, HTTP Rendezvous consists of two or more devices each behind a firewall communicating to a central server in a common, unprotected network that is reachable by both protected networks. Alternatively this central server could be in a DMZ. In any case, the central server must be directly accessible by the devices on both of the internal\/secure networks. This central server acts as a proxy between the two protected networks. By doing an HTTP Post to the central server, as was explained with HTTP Polling, the device can send a message to another internal network device when that device connects to the central server and sends a request for all messages that are waiting for it. This request can be encoded in a SOAP message to the central server to do some action (in this case forward the enclosed SOAP data payload to another device). Further, this data payload itself can be another SOAP message for a remote internal network device to execute or do some action. In order for this to work, the only requirements are that each firewall allow an outgoing connection to be made from the internal, protected network to some external server and allow the corresponding solicited response to pass back through, as described above. Since most, if not all, firewalls will automatically enable the HTTP protocol (port 80) this is not normally an issue.",{"@attributes":{"id":"p-0169","num":"0169"},"figref":"FIG. 19","i":"a ","b":["1905","1900","1901","1905","1900","1905","1940","1900","1900","1940","1945","1905","1905","1901","1905","1942","1901","1901","1942","1947","1905"]},"These requests can send data to and retrieve data from the respective devices. The data to be sent will include data to be processed by the respective device and the responses contain the processed results. Alternatively, the responses will also contain requests for other devices in the system to process and eventually return the data back to the originating device. For example, the first device  has data, such as power management data or power management commands, that needs to be processed by a second device . In the case when the PC  receives a request for the second device  to process some work sent by the first device  then PC  will add the request to the appropriate device's queue of outgoing requests. The PC  periodically checks the outgoing queue of requests for each device and sends the next request that is pending to the respective device starting the sequence as described earlier. The response packet is routed the original requestor using the same sequence. The combination of each device (first device  and second device ) using the HTTP Polling mechanism allows the exchange of data between the devices each of which is behind a protective firewall. Normally, as was described, the first device  and the second device  can not directly contact each other due to the protective firewalls.",{"@attributes":{"id":"p-0171","num":"0171"},"figref":["FIG. 19","FIG. 19"],"i":["b ","a"],"b":["1905","1940","1900","1930","1900","1945","1905","1931","1905","1900","1933","1900","1930","1905","1942","1901","1935","1901","1947","1905","1936","1905","1901","1937","1901","1935"]},{"@attributes":{"id":"p-0172","num":"0172"},"figref":"FIG. 19","i":"c ","b":["1905","1900","1901","1980","1910","1915","1985","1920","1911","1980","1980","1970","1975","1980","1975","1980","1970","1985","1985","1971","1985","1975","1910","1900","1905","1915","1911","1901","1911","1901","1915","1910","1900","1901","1900","1901","1915","1905"]},"If the first device  wishes to communicate with the second device  or vice versa then all requests must be passed through a PC  which acts as a proxy or router of messages between the devices  . Any messages destined for any other device will be examined by the PC  and placed in the appropriate outgoing queue destined for the device. When the respective device initiates a request to the PC  for new work to be processed then the PC  will reply with the items currently pending on the respective device's outgoing queue. Likewise responses to messages are processed similar to requests by the PC  and also placed on the original requester device's outgoing queue. Thus any request and response will eventually be routed to the correct final destination.","The first device  initiates a physical request  to the PC . Contained within the physical request  is logical response  from a previous logical request  that was processed by the first device . The physical response  sent by the PC  will contain a new logical request  for the first device  to process. Alternatively the logical request  will contain an indication that there is no work for the first device  to process if none had previous been added to the first device's  outgoing request queue on the PC . The physical request  initiates the punching through of the first firewall  to the PC  and allows the PC  to respond with data to the first device  where it would otherwise be prevented by the first firewall's  rules. Likewise the second device  initiates a physical request  to the PC . Contained within the physical request  is the logical response  from the previous logical request  that was processed by the second device . The physical response  sent by the PC  will contain a new logical request  for the second device  to process. Alternatively the logical request  will contain an indication that there is no work for the second device  to process if none had previous been added to the second device's  outgoing request queue on the PC . The physical request  initiates the punching through of the second firewall  to the PC  and allows the PC  to respond with data to the second device  where it would otherwise be prevented by the second firewall's  rules.",{"@attributes":{"id":"p-0175","num":"0175"},"figref":["FIG. 19","FIG. 19"],"i":["d ","c "],"b":["1900","1950","1905","1960","1905","1900","1961","1905","1955","1940","1900","1962","1900","1940","1900","1950","1945","1905","1940","1900","1963","1961","1900","1905","1955","1900","1964","1900","1900"]},"Likewise the second device  makes a physical request  to the PC  containing a request for more work to process, block . The PC  checks to see if there are any outstanding requests waiting on the second device's  outgoing queue, block . The PC  will reply with the pending requests in a physical response  containing a logical request  to the second device  to process some work, block . The second device  receives and processes the logical request . Once finished processing the request the second device  makes a physical request , containing the logical response , to the PC  with the results of the previous logical request  and also requests any outstanding requests for the second device , block . The sequence continues looping to block  until there are no pending requests for the second device . In that case the PC  sends a physical response  indicating that there is no more work currently pending for the second device  to process, block . It is up to the second device  to poll for new work sometime in the future at an interval that the second device  chooses.","Each flow chart detailed in are executed asynchronously to each other. The rate that each the first device  and the second device  consumes, processes and generates response data determines the overall polling rate for each respective device. The rate that the respective secure devices will poll the unsecure PC can be on a scheduled basis or in response to some event. An example of a scheduled connection can be if the secure devices connect to the unsecure PC every five minutes to check and retrieve any outstanding work for the device to process. It will be apparent to someone skilled in the art that this period can be changed. Some examples of events that could trigger the connection to the PC by the devices are a power quality event or going over or under some set limit of a parameter that the device measures or processes. In an alternative embodiment, the network connections to the central server are transitory. For example, dialup modem or wireless links where the connections are only made under specific situations are well known to those skilled in the art. In this case the secure device would make the request of the unsecure server for work to do in the future and also upload any work completed since that last time it connected not affecting the workflow described above.","In an alternative embodiment, the requests and responses are implemented using SOAP messages, usually serialized in XML tagged text, over any protocol supported by the underlying components. One advantage of using SOAP is the common availability of SOAP toolkits that handle the majority of the implementation and allows the developer to concentrate on the specific application. SOAP toolkits for use with the disclosed embodiments include Java\u2122 Web Services Developer Pack manufactured by Sun Microsystems Inc. located in Santa Clara, Calif., IBM WebSphere Application Server manufactured by IBM, located in Armonk, N.Y., Microsoft\u00ae SOAP Toolkit 3.0 and Microsoft Net Framework both manufactured by Microsoft located in Redmond, Wash.",{"@attributes":{"id":"p-0179","num":"0179"},"figref":"FIG. 20","b":["2000","2010","2005","2005","2020","2000","2005","2000","2010","2005","2010","2005","2020","2010","2005","2000","2005","2020","2000"]},"An alternative is to use SOAP messages as a method to transport messages similar to Remote Procedure Call (\u201cRPC\u201d) requests and responses between the devices  . In this case the first device  sends a SOAP request  that requests the second device  to return some work for the first device  to process. The second device  responds with a SOAP response  that contains another SOAP request message  (not shown) that the first device  is to process. By tunneling soap through soap (containing a SOAP message within another SOAP message) as described, the order of message passing can be reversed. There advantages of this approach, simpler implementation and the ability to reverse the message flow over any protocol that carries SOAP messages, which arise from the fact that reversing the message flow can be implemented solely within the soap toolkit and without the complexity of dealing with the protocol transporting soap messages. If the soap toolkit natively supports HTTP then the HTTP Rendezvous and HTTP Polling described above becomes a special case of this.","The responses to the requests described above can also be handled in different ways. If the first device  needs to report some results data to the second device  then the first device  sends a SOAP message  to the second device  containing another SOAP message  (not shown) in the SOAP message  payload. The SOAP message  contains the actual SOAP response to original SOAP request  to the first device . The SOAP message  is processed by the second device  which results in the processing of message . Alternatively the SOAP message  to the second device  is a SOAP response to SOAP message  or  (depending on the previous alternative chosen) would be processed by the second device . The above descriptions work for either the HTTP Polling or the HTTP Rendezvous methods. As well known in the art, a device which exchanges SOAP messages either processes the message by routing the message to another device capable of exchanging SOAP messages or executes the semantics conveyed within the SOAP message. Using SOAP to convey messages between devices through a firewall is a further embodiment of a unsolicited message.","It will be appreciated that the PC   or the devices      as described in ,  and  could be replaced with a wide variety of other devices such as a general purpose computer, server, revenue meter, electric (watt-hour) meter, protection relay, phasor transducer, or a pulse counter, or other IED.","Alternatively as is well known in the art the data that is transferred can be encrypted or authenticated using a variety of algorithms before transferring the data across the unsecure networks. Representative security functions that are well known in the art that could be used include SHTTP, HTTPS, SSL, TLS, Microsoft Passport, PKI, Kerberos, PGP and X509.","It will be appreciated that the embodiments described previously can not only be applied to measuring power system related parameters but also parameters related to water, air, steam and gas. Further these embodiments are also useful to transfer various types of data between multiple devices using the mechanisms described, not just power management related parameters.","It is therefore intended that the foregoing detailed description be regarded as illustrative rather than limiting, and that it be understood that it is the following claims, including all equivalents, that are intended to define the spirit and scope of this invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 2","FIG. 1"],"i":"a "},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 2","FIG. 1"],"i":"b "},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 3","FIG. 1"],"i":"a "},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 3","FIG. 3"],"i":["b ","a. "]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 3","FIG. 3"],"i":["c ","a. "]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 4","FIG. 1"],"i":"a "},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 4","i":"b "},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 5","i":"a "},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 5","FIG. 1"],"i":"b "},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 9","FIG. 1"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 10","FIG. 1"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 11","FIG. 10"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 15","i":"a "},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 15","i":"b "},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 15","i":"c "},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 18","i":"a "},{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 18","FIG. 18"],"i":["b ","a. "]},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 18","i":"c "},{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 18","FIG. 18"],"i":["d ","c. "]},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 19","i":"a "},{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 19","FIG. 19"],"i":["b ","a. "]},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 19","i":"c "},{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 19","FIG. 19"],"i":["d ","c. "]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 20"}]},"DETDESC":[{},{}]}
