---
title: Print control apparatus and method
abstract: An object of this invention is to achieve high-speed automatic setting of a print mode. In a print control apparatus according to this invention, when a print mode set via a user interface window prior to the start of printing is an automatic mode, a print mode which satisfies print conditions is decided. If no print mode is decided at this stage, printing starts, and then a spooler () spools print information and determination information for deciding a print mode when the print mode is the automatic mode. When the print mode is an image mode or the image mode is determined to be preferable by determination information, a despooler () causes a renderer () to generate image data. When the print mode is a PDL mode or the PDL mode is determined to be preferable by determination information, the despooler () causes a printer driver to generate a PDL command. In any case, no print mode is decided from determination information as far as the print mode has already been decided as the image or PDL mode.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06975416&OS=06975416&RS=06975416
owner: Canon Kabushiki Kaisha
number: 06975416
owner_city: Tokyo
owner_country: JP
publication_date: 20010611
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["The present invention relates to a print control apparatus and method for generating print data in correspondence with, e.g., a drawing command from an application.","In a conventional print processing system including a printer capable of designating a plurality of print conditions, e.g., print conditions such as color tone and resolution, these print conditions are fixed or explicitly designated by the user. Edit print setting of printing data of two pages on one page at once, or adding a date or predetermined frame to an image and printing them is also explicitly designated by the user.","As a print processing system of causing a printer having a plurality of print modes, e.g., PDL (Page Description Language) mode and image mode to print data, there is proposed a system having an automatic print mode selection function of automatically selecting a print mode used for printing in print processing (specifically, processing by a printer driver) (Japanese Patent Laid-Open No. 11-129583). In the PDL mode, a host converts application data into PDL data containing a command in a format interpretable by a printer and transmits the PDL data to the printer. In the image mode, the host converts application data into bitmap data and transmits the bitmap data to the printer.","To decide print conditions, the print processing system having this automatic print mode selection function checks print contents to analyze the type of document to be printed, and automatically sets a print mode based on the analysis result.","This system analyzes print contents and determines a print mode even when a print mode which should be set in automatic setting due to print conditions explicitly designated by the user. As a result, the time taken to decide a print mode becomes long, and the total print time also becomes long because of the time for analyzing print contents and deciding a print mode.","As for a processing print function which cannot be executed in a given print mode as an automatic setting choice, the user cannot select a print mode for realizing this function when a print mode is automatically selected. In this case, no choice is displayed for the user.","The present invention has been made in consideration of the above situation, and has as its object to provide a print control apparatus and method capable of automatically setting a print mode within a short time, and in automatic setting, preferentially selecting a print mode which satisfies a function and condition designated by the user and performing print processing in the print mode.","To achieve the above object, the present invention has the following arrangement.","According to the present invention, the foregoing object is attained by providing a print control apparatus for generating print data for a print device having a plurality of print modes, comprising: user interface means for causing a user to set a print setting item; first decision means for deciding one of the plurality of print modes in accordance with an item set via the user interface means; and generation means for generating print data to be printed by the print device in the print mode decided by the first decision means.","In a preferred embodiment, The apparatus further comprises transmission means for transmitting the print data generated by the generation means to the print device.","In a preferred embodiment, the apparatus further comprises second decision means for, when the first decision means does not decide one print mode, deciding a print mode in accordance with contents of print data to be printed, and when the second decision means decides the print mode, the transmission means transmits the print data to the print device in the print mode.","In a preferred embodiment, prior to decision of a print mode by the first and second decision means, the user interface means causes the user to select one of the plurality of print modes or an automatic mode in which one of the plurality of print modes is automatically decided, and the first and second decision means decide one print mode when the automatic mode is selected.","In a preferred embodiment, the item set via the user interface means includes an adjustment item for adjusting quality of an image to be printed.","In a preferred embodiment, the item set via the user interface means includes an edit item for editing an image to be printed.","In a preferred embodiment, the plurality of print modes include an image mode in which the print device receives and prints image data, and when the adjustment item is set via the user interface means, the first decision means decides the image mode as a print mode.","In a preferred embodiment, the plurality of print modes include a PDL mode in which the print device receives a page description instruction, generates an image, and prints the image, and when the edit item is set via the user interface means, the first decision means decides the PDL mode as a print mode.","In a preferred embodiment, the second decision means calculates data amounts of print data to be transmitted to the print device in the respective image and PDL modes, and decides a mode exhibiting a small data amount as a print mode.","Other features and advantages of the present invention will be apparent from the following description taken in conjunction with the accompanying drawings, in which like reference characters designate the same or similar parts throughout the figures thereof.","An embodiment to which the present invention can be preferably applied will be described.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 1","FIG. 1"],"b":["1","3","11","1","4"]},"The ROM  or external memory  stores an operating system (to be referred to as an OS hereinafter) serving as a control program for the CPU , font data used to process a document, and various other data. A RAM  functions as, e.g., the main memory and work area of the CPU . A keyboard controller (KBC)  controls an input from a keyboard (KB)  or a pointing device such as a mouse (not shown). A CRT controller (CRTC)  controls display of a CRT display . The external memory  is a hard disk (HD), floppy disk (FD), or the like, and stores a boot program, various applications, font data, user files, edit files, print data generation processing program (to be referred to as a printer driver hereinafter), and the like. A disk controller (DKC)  controls access to the external memory  from the CPU  or the like. A printer controller (PRTC)  is connected to a printer  via a predetermined bidirectional interface (interface) , and executes communication control processing. The CPU  executes, e.g., rasterizing processing of an outline font to a display information RAM set in the RAM , and enables WYSIWYG on the CRT . Further, the CPU  opens various registered windows on the basis of commands designated with a mouse cursor (not shown) on the CRT display , and executes various data processes. In executing printing, the user designates a window (user interface) to be opened that is provided by a printer driver and concerns print setting, sets a printer on the window, and also sets a print processing method including selection of a print mode for the printer driver.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIGS. 2 and 3","FIG. 1","FIGS. 2 and 3"]},"In , an application \u2032, graphic engine \u2032, printer driver \u2032, and system spooler \u2032 are program modules which exist as files saved in the external memory  such as a CD-ROM or hard disk, and are loaded to the RAM  and executed by an OS or a module using these modules.","The application \u2032 and printer driver \u2032 can be added to an FD, a CD-ROM, or the external memory  such as a hard disk via a network (not shown). The application \u2032 saved in the external memory  is loaded to the RAM  and executed. In printing data from the application \u2032 by the printer , the data is output (drawn) by using the graphic engine \u2032 which has been loaded to the RAM  and is in an executable state.","The graphic engine \u2032 similarly loads the printer driver \u2032 prepared for each print device from the external memory to the RAM , and converts an output from the application \u2032 into a printer control command by using the printer driver \u2032. The converted printer control command passes through the system spooler \u2032 loaded to the RAM  by the OS, and is output to the printer  via the interface .","A print data processing apparatus shown in  is extended from the print data processing apparatus shown in . The apparatus of  temporarily generates a spool file  made up of intermediate codes when transmitting a print instruction from a graphic engine  to a printer driver .","More specifically, in the print data processing apparatus shown in , the application \u2032 is released from print processing after the printer driver \u2032 converts all print instructions from the graphic engine \u2032 into printer control commands. In the print data processing apparatus shown in , an application  is released from print processing after a spooler  converts all print instructions into intermediate code data and outputs them to the spool file . In general, the time up to release of an application (RTA: Return To Application) is shorter in the latter case. However, the time up to the completion of output of a print result from a print device is longer in the latter case by a spool file generation time. These relationships are shown in . In , the behavior of a driver in the arrangement of  and that of a driver in the arrangement of  are schematically compared in time series.","In , the application \u2032 of  is released from print processing at a timing , and the application  of  is released from print processing at a timing . The difference between these timings is an RTA difference. The end timing of generating print data to be transferred to the print device is the timing  in the system of , and in the system of , is timing  at which the printer driver  completes data generation. The difference between the timings  and  is a difference in timing of starting printing the first page. If the two systems use the same printer engine, the timing difference directly becomes an output completion timing difference because the time taken for recording operation is equal between the two systems.","The print data processing apparatus shown in  can analyze drawing information within a page and process data of a generated spool file  during generation of an intermediate code to be stored in the spool file . This print data processing apparatus enables automatically selecting an optimal operation mode for print data sent from the application  in accordance with function setting performed on a user interface . Furthermore, the print data processing apparatus can realize an additional print function not provided to a general application, such as scaling or N-up printing of reducing a plurality of pages into one page and printing it.","For this purpose, the system of the print data processing apparatus shown in  is so extended as to spool data by intermediate code data, like the print data processing apparatus shown in . To automatically select an optimal operation mode or process print data, the user performs setting on the window of the user interface  provided by the general printer driver , the printer driver  saves the setting contents in the RAM  or external memory , and a spool file manager  or despooler  refers to the values to realize selection of an operation mode or data processing.","The arrangement of  will be explained in more detail.","In the print cata processing apparatus shown in , a dispatcher  receives a print instruction from the graphic engine . When the print instruction received by the dispatcher  from the graphic engine  is a print instruction issued from the application  to the graphic engine , the dispatcher  loads the spooler  stored in the external memory  to the RAM, and sends the print instruction not to the printer driver  but to the spooler . The spooler  converts the received print instruction (print data) into an intermediate code and outputs the intermediate code to the spool file . The spool file  is made up of not one file but several files. In converting the print instruction into an intermediate code, the spooler  analyzes the converted intermediate code to obtain information such as the type of print instruction, a method of processing the print instruction on the printer side, and the load of this processing. This analysis processing is done for automatic selection of an optimal operation mode. The spooler  saves the analysis processing result as another file in the spool file . The spooler  acquires from the printer driver  processing setting information concerning print data set for the printer driver , and saves the information in the spool file . Note that the spool file  is generated as a file in the external memory , but can be generated in the RAM . The spooler  loads the spool file manager  stored in the external memory  to the RAM , and notifies the spool file manager  of the generation status of the spool file . When the spool file manager  determines that printing is possible by using the graphic engine  again, in accordance with the contents of the processing setting information concerning print data that is saved in the spool file , the spool file manager  loads the despooler  stored in the external memory  to the RAM , and instructs the despoiler  to execute print processing of the intermediate code described in the spool file .","The despooler  processes the intermediate code included in the spool file  in accordance with information of the print instruction analysis result included in the spool file  and the contents of the processing setting information, and maps the intermediate code into a print image at a high speed by a renderer  included in the despooler  in accordance with the print mode (to be described later) or the like. Whether to map the intermediate code into a print image is comprehensively determined based on information such as the set edit setting information, and the result file of analysis processing performed by the spooler  that is read out by an optimization determination processor included in the despooler . This determination may be done for each page or each drawing object. In any case, the despooler  reads out an intermediate code from the spool file , converts it into a form conforming to the API (Application Programming Interface) of the graphic engine , and outputs the converted data via the graphic engine .","When the print instruction received by the dispatcher  from the graphic engine  is a print instruction issued from the despooler  to the graphic engine , the dispatcher  switches processing not to the spooler  but to the printer driver . The printer driver  generates a printer control command and outputs it to the printer  via the system spooler .",{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIG. 5","FIG. 1","FIG. 5"],"b":["2","200","504","501","503","505","506","2","200","502"]},"<Decision Processing Based on Setting Items of Print Mode>","Automatic selection processing of an optimal operation mode will be explained. The following automatic selection processing of an operation mode is implemented by the print processing system in .","In print processing by application software, intermediate print information (intermediate data) independent of a specific PDL is generated from a print instruction and temporarily stored in the spool file . The stored intermediate data is analyzed, and an optimal operation mode is automatically decided from the result. As print modes, this embodiment adopts an image mode in which the host performs up to rendering processing of a print image, and a PDL mode in which the print device renders a print image by using a PDL (Printer Description Language) installed in the print device. This printer driver executes automatic selection processing of an optimal operation mode as follows.","Printing of a photograph-containing document by a color LBP will be exemplified. A photographic portion (within the broken line) in  has image data with very high resolution and high tone level. More specifically, this image is an image of 600 dpi and 8 bits for R, G, and B colors each at an equal magnification. The remaining portion has characters. A document as shown in  looks simple at a glance and is considered to be preferably processed in the PDL mode. However, if this image data is converted into a PDL command, image information of an image quality exceeding an image quality printable by a printer, i.e., image information having redundant information is sent from the printer driver to the printer. For this reason, such a document can be processed at a higher speed in the image mode. Which of the print modes is better can be determined by obtaining the image data amount sent to the printer in advance.","The spooler of  described in this embodiment generates intermediate data independent of a specific PDL in print processing by application software. At this time, the spooler also spools, from the intermediate data including image data, determination information for predicting two values, i.e., a data amount required when the image data is converted into a PDL command and a data amount required when the image data is mapped by the renderer of the host into a print image in accordance with the output resolution and output tone level of the printer. The despooler  predicts and compares two sizes after mapping on the basis of the determination information. The print image is drawn in the print mode exhibiting a smaller value, allowing high-speed print processing. Hence, in processing print data including a high-quality image as shown in , the printer driver of this embodiment automatically selects the image mode in which the host maps an image as an optimal operation mode.","Automatic selection processing of an optimal operation mode is done in this manner. Automatic selection processing is different from print processing and requires its own time other than the print time. A function which cannot be set in either operation mode must be set not to select the function setting in automatic selection processing.","For this reason, this embodiment causes the user to designate a print processing method including whether to automatically determine a print mode on a UI (User Interface) for designating a print mode and print conditions. This can shorten the print time for a setting when an operation mode need not be automatically set. Also for a setting which cannot be satisfied in either operation mode, a message to this effect can be displayed on the UI. Proper print processing can be provided without degrading performance or performing cumbersome user operation.","The user interface  and print mode decision processing implemented by the print system of the embodiment will be described with reference to . The printer driver  provides the user interface  for performing print setting in accordance with a request from the user or an application. If user interface display processing starts via an OS (Operating System), the printer driver  determines whether print setting set via the current user interface  is an \u201cautomatic selection mode\u201d (S). The automatic selection mode is for automatically determining and deciding a print mode. When the automatic selection mode is set, actual print processing is done in either of the PDL and image modes.","In accordance with the determination result in step S and a table () which describes print conditions settable in each mode, the printer driver  provides the user interface  for causing the user to set print conditions, and displays the user interface  via the OS (S, S). In , an item settable by the user in a selected print mode is checked with a circle. For example, if the automatic selection mode or PDL mode is selected, the item \u201cMode Details\u201d is not displayed as a choice.","The printer driver  causes the user to set necessary items in steps S and S. In the automatic selection mode, the printer driver  decides a print processing method on the basis of the print setting set via the user interface  (S). Then, the printer driver  notifies the dispatcher  of the decided choice or a choice selected by the user (S). At this time, the display on the UI is kept unchanged. Note that the notified choice includes a print mode such as the PDL mode, image mode, or automatic selection mode. The print processing method is decided in step S by the printer driver  on the basis of only the print setting set via the user interface . In this stage, the print mode may or may not be decided to the PDL or image mode. If the print mode cannot be decided, it keeps the automatic selection mode, and is decided by analyzing intermediate data in spooler processing, as will be described later with reference to .","Details of processing in determination step S will be described with reference to . The table of  shows a print condition including a user-settable item and value, and a print mode which satisfies the condition. For example, when the value of the item \u201cMode Details\u201d is set to \u201cHigh Speed\u201d or \u201cHigh Quality\u201d, the print mode which satisfies this condition is the image mode \u201cRaster\u201d, as shown in . When the item \u201cOverlay Print\u201d is set, the print mode must be the PDL mode. In this fashion, a setting item and set value which restrict a print mode, and a print mode corresponding to the setting are prepared in advance as a table. The setting items registered in the table of  will be called determination items because these items are determination targets in the procedures of . In this embodiment, the table of  is created to select the image mode when adjustment of the quality of an image to be printed is designated, and the PDL mode when editing of an image is designated.",{"@attributes":{"id":"p-0065","num":"0064"},"figref":["FIG. 16","FIG. 7","FIG. 17","FIG. 17"],"b":["704","203","203","205","1601","1601","205","1602","1602","205","1601","203","1603"]},"If one suitable print mode is decided, this print mode is newly set. If the print mode is set, the flow advances to print data generation processing by the printer driver  without executing determination processing in spool processing.","Since a print mode suitable for print setting on the user interface  provided by the printer driver  is easily decided, the processing speed can increase without performing automatic determination by spool processing. Accordingly, the throughput of print processing can increase.","An example of the UI in this embodiment will be explained with reference to . Even when two print modes , CPDL (PDL mode) and Raster (image mode), are provided, an \u201cAUTO\u201d mode which means an automatic setting mode is provided, and the AUTO mode is set as an initial value. As for print conditions displayed at this time, an automatically set item is displayed in a state in which the user cannot select any value, as represented by a box , and an item explicitly settable by the user is displayed in a selectable state, as represented by a box .","A choice  which can be processed in only the Raster (image) mode is also displayed in a selectable state. If the user clicks \u201cOK\u201d in this state, step S of , i.e., the procedures of deciding a print processing method in  are executed because the print mode  is set to \u201cAuto\u201d. In , the item \u201cColor Halftone\u201d is set to \u201cError Diffusion\u201d. When the item \u201cColor Halftone\u201d is set to \u201cError Diffusion\u201d, only the image mode \u201cRaster\u201d is selected as a print mode from the table of . Thus, the print mode is decided to the image mode. The dispatcher  is notified of this decision.","When no print mode is automatically decided, print mode decision processing in despool processing is performed, as will be described with reference to . When a print mode is decided in step S of , the dispatcher  causes the printer driver  to start processing in accordance with the print mode notified in step S. That is, if the print mode is the automatic selection processing, the dispatcher  transfers a print instruction to the spooler  and causes the spooler  to perform spool processing. If the print operation mode is the \u201cPDL mode\u201d or \u201cimage mode\u201d, the dispatcher  transfers a print instruction to the printer driver  and causes the printer driver  to perform print data generation processing.","<Determination Information>","If an operation mode is automatically decided, i.e., if no print mode is decided in step S of  and the print mode notified in step S is the \u201cautomatic selection mode\u201d, the spooler  collects determination information described above. In generating intermediate data of each page, the spooler  collects determination information as shown in  that is necessary for deciding an optimal operation mode, and records the collected information together with the intermediate data. The determination information shown in  is roughly divided into general information  concerning a print job and information  concerning the drawing contents of each page. The former information records a print date and time, a printer user, the file name of a file to be printed, the creation date and update date of the file, the name and version of application software which executed printing, setting of the UI of a printer driver (driver operation state) in printing, the total number of pages of a print job, and the like. As for the information concerning the drawing contents of each page, data of each page are classified into three large drawing objects, i.e., text, graphics, and image, and pieces of information necessary for each object are collected. For example, for the text, the number of characters and the maximum point of a character size within the page are collected and recorded. For the graphics, the total number of graphic objects within the page and information representing whether logical drawing is designated in drawing (ROP) are collected. For the image, the resolution of an image to be drawn and the like are similarly collected.","The despooler  of  decides a print mode by determining the type of document for each page on the basis of these pieces of determination information recorded by the spooler . More specifically, as for text information, the despooler  compares the maximum point size of a character with a certain threshold, when the maximum point size is larger than the threshold, determines that rendering processing on the host side, i.e., the image mode is efficient, and when the maximum point size is smaller, determines that rendering processing on the printer side, i.e., the PDL mode is efficient. As for graphics, the despooler  compares the number of objects with a certain threshold, when the number of objects is larger than the threshold, determines that rendering processing on the host side, i.e., the image mode is efficient, and when the number of objects is smaller, determines that rendering processing on the printer side, i.e., the PDL mode is efficient. As for an image, the despooler  predicts a data amount to be transmitted to the printer as a PDL command on the basis of information such as the resolution, tone level, and drawing region, when the predicted value is larger than an image size obtained by rendering processing and halftoning processing on the host side, determines that rendering processing on the host side, i.e., the image mode is efficient, and when the predicted value is smaller, determines that rendering processing on the printer side, i.e., the PDL mode is efficient. Note that the printer used is assumed to be a binary printer. As for ROP, if an ROP number not supported by the printer is designated, the despooler  determines that rendering processing on the host side, i.e., the image mode should be done; otherwise, determines that rendering processing on the printer side, i.e., the PDL mode is efficient. A mode determined to be efficient is selected as a print mode.","<Print Mode Decision Processing Based on Determination Information>","A series of steps of generating and reading out intermediate data in the present invention will be described with reference to the flow chart of .","In step S of , print data generation processing is performed. In step S, the printer driver inquires a print result of the printer. , , and  are flow charts for explaining step S of  as print processing in the arrangement of . The processing flow in  shows processing by the spooler in , the processing flow in  shows processing by the despooler in , and the processing flow in  shows processing by the printer driver in .","<Spool Processing>","In the flow chart of , various initialization operations are done at the start of processing, and print processing starts. The spooler receives print data from the graphic engine, and spools the contents as intermediate print information (print data) independent of a specific PDL (S). If the print mode is not decided yet and keeps \u201cAuto\u201d, the spooler collects pieces of determination information shown in  (S). The spooler executes steps S and S for all data within the page (S). Upon the completion of processing of one page, the spooler spools as a file the pieces of determination information collected in step S (S). The spooler has spooled information of one page, so that the despooler which operates as another process is activated (S). If the despooler has already been activated, no processing is done in step S. Since the despooler operates as another process in another time series, processing by the despooler will be explained with reference to . In step S, the spooler checks whether all pages have been processed. If NO in step S, the spooler repeats processing from step S again; if YES, ends processing. If a print mode has already been decided by the procedures of , the spooler may spool the print mode in addition to the general information  concerning a print job in step S. In this case, the despooler and printer driver perform processing in the print mode spooled at this time.","<Despool Processing and Rendering Processing>","The processing flow of the despooler will be described with reference to the flow chart of . Processing in  starts when the print mode is not decided in  and is \u201cAuto\u201d. If the print mode is not \u201cAuto\u201d, the printer driver generates print data in either the set \u201cPDL mode\u201d or \u201cimage mode\u201d.","Various initialization operations are done at the start of processing, and despool processing starts. The despooler reads out determination information of each page and decides a print mode (S). In the automatic selection mode, a decision in step S is made by the method described in <Determination Information>. In a mode other than the automatic selection mode, the set mode is directly selected as a decided print mode.","In step S, the despooler determines the print mode in accordance with the result. The despooler shifts to step S for a page or job in the PDL mode that should be processed on the printer side (PDL), and to step S for a page or job in the image mode that should be processed on the host side.","In step S, the despooler opens a file including the spooled contents of drawing data and various drawing attributes, and reads out the contents from the start of the file. The despooler converts the spooled intermediate data into an API form provided by the graphic engine, and performs print processing again by using the function of the graphic engine (S). The despooler checks in step S whether print information of one page has been reconstructed, and if necessary, repeats processing in steps S and S. For a page determined to be rendered on the host side as a result of determination for each page, the despooler shifts to step S, opens a file including the spooled contents of drawing data and various drawing attributes, and reads out the contents from the start of the file. The despooler converts the spooled intermediate data into an API form provided by the renderer, and renders each print information so as to obtain a print image (S). The rendering result is an image. The despooler converts this image into an API form provided by the graphic engine, and performs print processing again by using the function of the graphic engine. In step S, the despooler checks whether information of one page has been processed. If YES in step S, the despooler checks in step S whether all pages have been processed. If NO in step S, the despooler repeats processing from step S. Then, the despooler ends processing.","<Drawing Command Generation Processing>","In the processing flow of , drawing processing is done by the API call of the graphic engine. This processing is executed as another process. More specifically, the graphic engine is dynamically linked to the printer driver and executes print processing. The processing flow of the printer driver will be explained with reference to .  is a flow chart showing an example of print data processing procedures in the print control apparatus according to the present invention.","The printer driver  receives a drawing instruction from the application  via the graphic engine  (S), and generates a printer control (drawing) command data corresponding to each drawing instruction (e.g., line drawing) (S), and causes the system spooler  in the RAM  or external memory  to spool the printer control command data (S). The printer driver  checks whether drawing processing by the application  and graphic engine  ends (S). If NO in step S, the printer driver  returns to step S and repeats the same processing.","If YES in step S, the printer driver  transmits to the printer  the printer control command data spooled by the system spooler  (S), and ends processing. The feature of the printer control command generation method (to be referred to as a vector graphics print mode hereinafter) executed by the printer driver  is that a printer control (drawing) command which provides a geometrical expression corresponding to vector graphics such as lines is transmitted to the printer  and the internal drawing processing system and program of the printer  generate (rasterize) a print image. In this case, the time taken for print processing in the printer  is decided by the type and number of objects.","In the image mode, the printer driver transmits image data received from the graphic engine, to the system spooler without converting the image data to PDL.","In this way, the print processing system according to the embodiment can decide a print mode based on print conditions designated by the user even when automatic setting is designated as a print mode. Cumbersome operation of analyzing spooled data and deciding a print mode can be eliminated depending on set print conditions, and the throughput of the entire print processing can increase. If no print mode can be decided based on print conditions designated by the user, a print mode is decided by analyzing spooled data. Thus, a print mode suitable for print data can be decided.","The host computer may comprise a plurality of image drivers, a plurality of different types of PDL drivers, or a mixture of pluralities of image drivers and PDL drivers.",{"@attributes":{"id":"p-0086","num":"0085"},"figref":"FIG. 15"},"Although not shown, the storage medium may store information for managing programs stored in the storage medium, such as version information and user information, and information depending on the OS of a program readout side, such as an icon for identifiably displaying a program.","Data subordinate to various programs are also managed by the directory. When a program for installing various programs into a computer, and a program to be installed are compressed, a decompression program or the like may be stored.","Processes shown in , , , , and  in this embodiment may be achieved by a host computer in accordance with an externally installed program. The present invention is applied even when pieces of information including a program are supplied to an output device from a storage medium such as a CD-ROM or flash memory or from an external storage medium via a network.","The object of the present invention is also achieved when a storage medium which stores software program codes for realizing the functions of the above-described embodiment is supplied to a system or apparatus, and the computer (or the CPU or MPU) of the system or apparatus reads out and executes the program codes stored in the storage medium.","In this case, the program codes read out from the storage medium realize new functions of the present invention, and the storage medium which stores the program codes constitutes the present invention. As a storage medium for supplying the program codes, a floppy disk, hard disk, optical disk, magnetooptical disk, DVD, CD-ROM, magnetic tape, nonvolatile memory card, ROM, EEPROM, or the like can be used.","The functions of the above-described embodiment are realized not only when the computer executes the readout program codes, but also when the OS (Operating System) running on the computer performs part or all of actual processing on the basis of the instructions of the program codes. The functions of the above-described embodiment are also realized when the program codes read out from the storage medium are written in the memory of a function expansion board inserted into the computer or the memory of a function expansion unit connected to the computer, and the CPU of the function expansion board or function expansion unit performs part or all of actual processing on the basis of the instructions of the program codes.","<Effect of the Invention>","As has been described above, according to the present invention, a print control system capable of automatically setting a print mode and print conditions can automatically set a print mode within a short time. Moreover, this system can preferentially select a print mode which satisfies a function and condition designated by the user and perform print processing in the print mode.","As many apparently widely different embodiments of the present invention can be made without departing from the spirit and scope thereof, it is to be understood that the invention is not limited to the specific embodiments thereof except as defined in the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate embodiments of the invention and, together with the description, serve to explain the principles of the invention.",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIGS. 4A and 4B","FIG. 2","FIG. 3"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 17"}]},"DETDESC":[{},{}]}
