---
title: Data display apparatus and data display method
abstract: A data display apparatus and data display method for displaying relationships between sets of data are described. Sets of data and similarity values representing similarities between the sets of data are received, and a display is controlled to display representations for the sets of data separated in accordance with the similarity values and so as to display, in a first style, links between representations which correspond to sets of data having a strong similarity value and, in a second style, links between the representations which correspond to sets of data having a weak similarity value.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07028050&OS=07028050&RS=07028050
owner: Canon Kabushiki Kaisha
number: 07028050
owner_city: Tokyo
owner_country: JP
publication_date: 20000310
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","FIELD OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF EMBODIMENTS","First Embodiment","Second Embodiment"],"p":["The present invention generally relates to a search engine user interface which allows a user to enter a query and view representations for data which most closely match the query. In particular, the present invention relates to an interface which allows a user to view the data which best matches the query as a two-dimensional arrangement of representations spaced in accordance with the similarity in the data.","In computer systems where a large amount of data is stored, there is a problem in providing a simple and accurate method of searching for and retrieving data. Data can be stored in many different formats such as text e.g. documents, audio data e.g. music, image data e.g. pictures, and video data e.g. movies. Also, with the rapid growth in the worldwide web, web search engines have been developed. These form data bases of web pages which are searchable using key words.","For data which contains text, the data can be searched using text queries e.g. key word searches or natural language queries. Such search techniques have been used for many years.","Work has been carried out and published in a paper by R Beale (\u201cForeign Interactions\u201d Interfaces 37, pages 23 to 26, 1998) with regard to document retrieval. In the system disclosed in the Beale paper a text query results in a three dimensional display likened to a \u201cdandelion head\u201d. A central node represents the query and outlying spheres represent documents returned by that query. The size of the node represents the document size and closer the node is to the centre the higher the degree of matching between document and the query. The document can be selected by clicking on a node. If a second query is entered, a second \u201cdandelion head\u201d is generated with any common node being linked. Although this method provides more information than is available by simply listing the documents, it does not show the relationship between the documents returned as a result of the search. Also, navigation of the three-dimensional space is limited.","Another document search technique is disclosed in an article by M Zizi entitled \u201cInteractive Dynamic Maps for Visualisation and Retrieval from Hypertext Systems\u201d (in \u201cInformation Retrieval and Hypertext\u201d, M. Agosti and A Smeaton (eds), Kluwer Academic, 1996). In this system documents are displayed in positions on a map in a lay-out according to relationships between the documents. A user can then visualise the similarity between documents and select and retrieve the desired document.","For non-text data, it is known that meta data can be provided for the data. Such meta data can include text e.g. a description of the content of the data file to which the meta data is associated. Such meta data is thus searchable using conventional key word searches or natural language searches. Such a technique is disclosed in U.S. Pat. No. 5,493,677.","These techniques for searching non-text data generate search results which usually simply consist of either outputting the best match or a list of matches in order of matching. This does not help a user to understand the relationship between the query and the data returned in the search results, nor does it provide the information regarding the relationships between the data returned.","Another method of searching non-text data is to use non-text queries. For example, audio data can be searched using a particular audio signature. In a paper by Y Rubner et al entitled \u201cAdaptive Colour-Image Embeddings for Database Navigation\u201d (Proceedings 1998 I.E. Asian Conference on Computer Vision, Hong Kong), a system is disclosed which allows for the searching of image data using a colour query. The input colour query is used to determine the closest matches to the query and thumbnail images are then displayed on a two-dimensional map where the images are arranged in dependence upon their colour similarities. A user is able to navigate through the database of colour images by selecting colour images of interest. A plurality of selected colour images are averaged to form the next query and the map is redisplayed centred on the query. Although this method provides a map for a user which is navigable, the information it provides is of very limited use.","It is one object of the present invention to provide a user interface to a search engine of a database which allows the user to obtain a better understanding of the relationship between the query and the returned data and the relationship between the data which has been returned itself.","This object of the present invention is achieved by a database interface and method, in which the database has a plurality of sets of non-text data. Each set of non-text data has a descriptive text caption associated with it. An input text query is received and compared with the captions to determine the similarities between the input query and the captions. A display means is controlled to display representations of a plurality of sets of non-text data which have captions which are the most similar to the input query and which are separated in accordance with similarities.","This object of the present invention can also be achieved by database interface to a database of a plurality of sets of non-text data where each set of non-text data in the database has a descriptive text caption associated with it. An input textual query is received and compared with the captions for the sets of non-text data to determine the similarities between the input query and the captions. The most similar set of non-text data is then selected and display means is controlled to display a representation of the selected set of non-text data and representations of a plurality of sets of non-text data having the most similar captions to the caption of the selected set of non-text data. The representations are displayed separated in accordance with the similarities.","Thus in accordance with this aspect of the present invention the user is able to identify relationships between sets of data such as images or audio files, based on the arrangement of the representations of the sets of data. The arrangement is based on the textual caption and not the actual content of the sets of data. Thus the textual caption is able to describe the content of the set of data to which it is associated thus facilitating a more user friendly database interface. This is particularly so when natural language is used and in an embodiment the comparison is carried out by comparing the meaning of the captions and the query.","In an embodiment of the present invention the representation for the set of data having the most similar caption to the query is arranged in a central region of the display. The other representations are then arranged around it. This focuses the user on the best match and allows a user to see that the poorer matches lie around the periphery.","The representations of the sets of image data can comprise any form of representation. For instance, for image data, the representation can comprise a thumbnail image. For video data, the representation can comprise a reduced video frame. For other non-text data, the representation can comprise an icon specifically generated to represent the data. Any form of representation can be used which will help the user understand the content of the set of data.","It is an object of another aspect of the present invention to allow a user to select representations and thus navigate through the database with ease.","This object of the present invention is achieved by providing an apparatus for accessing a database of sets of data. Each set of data has similarity data giving the similarity of the data to other sets of data and the identity of the other sets of data. A query is received and compared with the sets of data or meta data for the sets of data to determine at least the most similar set of data. A representation for the most similar set of data is displayed together with representations for the other sets of data arranged in accordance with their similarity. The user is able to select a representation and the similarity data for the set of data corresponding to the selected representation is retrieved. In response to the retrieval of the similarity data, the selected representation and the other sets of data identified in the similarity data are displayed arranged in accordance with their similarities.","Thus this aspect of the present invention, by providing prestored similarity data, avoids the need for the recalculation of similarity values when an image is selected. When an image is selected it becomes effectively a query. Because this is a fixed parameter already known by the data base, the similarity between each set of data and the most similar sets of data can be stored as the similarity data. This avoids the need for a recalculation of similarity values every time a representation is selected as a new query. Thus the system is able to respond more rapidly to the users selection to refresh the display.","When the user makes the initial query, in one embodiment only the most similar set of data is determined. The similarity data for the most similar set of data is then retrieved and the display means is controlled to display a representation of the most similar set of data and representations of the other sets of data identified in the similarity data.","In an alternative embodiment a plurality of the most similar sets of data to the query are determined. The display means is then controlled to display representations of the most similar sets of data arranged in accordance with the similarity values.","Another aspect of the present invention provides a method and apparatus for displaying the relationships between sets of data. Sets of data and similarity values for the similarity between the sets of data are received. Display means is then controlled to display representations for the sets of data separated in accordance with said similarity values. Links are displayed in a first style between the representations which correspond to sets of data having a strong similarity value. Links are displayed in a second style between the representations which correspond to sets of data having a weak similarity.","Thus this aspect of the present invention provides further information to a user. The user is able to identify easily those sets of data which are similar and dissimilar. The links which are shown in the first style tend to act as links which pull the representations together on the display. The links which are displayed in the second style will tend to repell the representations.","In a further aspect of the present invention a data display apparatus and method displays the relationships between sets of data to allow the animated display of the arrangement. Sets of data and similarity values for the similarity between the sets of data is received. The optimum separations of the displayed representations of the sets of data are iteratively calculated from starting separations to target separations corresponding to the similarity values. Display means are then controlled to display the representations arranged in accordance with the iterative calculations at time sequential stages of the iterative calculations. In this way a user is able to see the representations moving from initial positions to optimum positions in order to try to achieve the target separations. Thus a user is able to see which representations tend to move towards and away from one another thus enhancing the visual understanding of the relationship between the sets of data.","Two embodiments of the present invention will now be described. Both of these embodiments comprise an interface for a search engine for searching for images within an image database. Searching is performed using natural language queries which can comprise simple key words or syntactically structured natural language. Each of the images has associated with it meta data in the form of captions which describe the subject matter of the image. Such captions are manually entered during the formation of the database.","The first embodiment of the present invention will now be described with reference to .","Referring to , this diagram illustrates the interface to a user. A user operates a computer with a web browser such as Microsoft Explorer\u2122. Within the web browser, a particular HTML file is opened which invokes a Java applet. The Java applet configures the display to include a query input window  with a submit button . This enables a user to type in a query and by clicking on the submit button  the query can be sent to a search engine as a search query. The query window  is of course initially empty and in  the query \u201cred toy car\u201d has been entered. Below the query window  three buttons are provided. A refresh button  is provided for causing the re-rendering of the map data as will be described in more detail hereinafter. An options button  is provided to allow for the configuration of various parameters as will be described in more detail hereinafter. Also, as is conventional, a help button  is provided to allow a user to access information to help them use the interface. These buttons can be selected as is conventional within a web browser by moving a pointer using for example a mouse and clicking. Next to the buttons there is provided status information in a status display region . The status information that can be provided comprises:\n\n","3. \u201cOrganising images\u201d indicating that the interface is rendering the map.","4. \u201cSending query\u201d indicating that the interface is sending a query to search engine.","Underneath the buttons. , ,  and the status information display region  there is provided a region  in which is displayed a caption for an image in the image data base to be searched. Initially this is empty but once a map has been formed, it contains the caption of the best match to the query hereinafter termed a \u201cfocal image\u201d.","Below the caption section  of the display, there is provided a map window  which comprises the bulk of the display. It is within this window that the search results from the search engine are mapped. Initially of course, the map window  is empty. As can be seen in , once a query has been entered map data in the form of thumbnail images is formed. It can be seen in  that as a result of the query \u201cred toy car\u201d an image  is highlighted the centre of the map window . This is a thumbnail image of the image data which most closely matches the input query. The closest match therefore becomes the focus of the map and the next closest matching images are used to form thumbnail images about the focal image . The proximity of the thumbnail images to the focal image depends on the similarity between the thumbnail images and the focal image. It can clearly be seen in  that cars are clustered around the focal image . The images are allowed to overlap. Between the images links can be shown. For example, between the focal image  and the image  a link  is illustrated. This helps to illustrate the relationship between the images. Links can also be shown between the images surrounding the focal image .","The arrangement of the thumbnail images within the map window  is dependent upon the similarity between them based on their captions. The similarity measure in this embodiment is determined off line and is contained within a database. The input can be matched to the captions in the database to determine the best match. Once the best match is found, predetermined similarities between the best match and other entries in the database are used. This will be described in more detail hereinafter.","Also within the map window  there is provided a thumbnail image  which acts as a \u201cback button\u201d to allow the user to return to a previous map following a navigation around the map as will be described next.","A user is able to navigate around the image database by selecting a thumbnail image using a pointer and clicking on the thumbnail. When a user selects the thumbnail image  in , the selected thumbnail image becomes the focal image and the most similar images to the focal image are then displayed around the new focal image. As can be seen in , the five thumbnail images of cars which includes the original focal image  remain as does image . The remaining images are new. Once again the focal image  is displayed highlighted. Also, the caption window  now displays the caption for the new focal image.","The functionality of this embodiment of the present invention will now be described with reference to  which illustrates the functional components of this embodiment.","A user interface  is provided which comprises a pointing device  such as a mouse, an input device  such as a keyboard and a display device . When a user inputs a query using the query input device , this is sent to the on-line similarity calculator . This will access meta data in the meta data database  via the storage device control  in order to identify the best match between the query and the meta data entries for the data. Once a best match has been found, an image is identified using corresponding map data stored in the map data database  and corresponding data from the database  is retrieved and passed to the rendering processor  for rendering to form the map in the map window  on the display device .","In order to form the map data in the database , an off line process has to take place prior to the use of the system. An off line similarity calculator  accesses the meta data in the database  in order to determine the similarities between the meta data entries. These similarity values are then used to form map data using the map data calculator . The calculated map data is then stored in the map data database .",{"@attributes":{"id":"p-0050","num":"0051"},"figref":["FIG. 4","FIGS. 1 and 2"],"b":["28","20","21","22","24","24","32","32","24","22","22","23","26","25","107","27","28"],"i":["a","a ","b"]},"The server is provided with a bus  linking components together. A network interface  is provided to link the server to the network . A processor  is provided to implement programs stored in the program storage device . Web server code stored in the program storage device  is loaded by the processor  in order to implement a web server . A database application program is loaded by the processor  in order to implement a database application . A map data calculation program stored in the program storage device  is loaded by the processor  in order to implement a map data calculation application . A matching program is loaded by the processor  in order to implement a matching application ","The server is also provided with a storage device  comprising an image database , a caption database and a map data database . These databases store respective image captions and map data. In order to generate the caption database , a server is also provided with an caption input device  which can for example comprise a keyboard to allow an operator to manually enter the captions for the images.","As can be seen from , this embodiment of the present invention can be implemented over the network wherein the client operates a single Java application. The bulk of the processing is carried out at the server.","The operation of this embodiment of the present invention will now be described in detail with reference to the flow diagram of .",{"@attributes":{"id":"p-0055","num":"0056"},"figref":"FIG. 5","b":["1","2"]},"In step S the similarity between the captions (and thus the images) is determined in order to generate similarity matrices. A similarity matrix is generated for each image and comprises similarity values for only a number of closest or best match images. Thus, similarities need not be kept for similarities between all images. The details of the generation of the similarity matrices will be described hereinafter with reference to .","Using the similarity matrices map data is generated for each image in the image database in step S. This is then stored in the map data database in step S. Details of the generation of the map data will be described hereinafter in more detail with reference to .","Steps S to S comprise processing steps which take place before a user enters a query. In other words the image database, caption database, and map data databases are formed off-line ready for a user to enter queries.","The on-line process following the input of a query by a user will now be described.","In step S a user inputs a query such as illustrated in  by typing in for example \u201cred toy car\u201d. This is submitted by using the submit button . Using the on-line similarity calculator  the best match between the input query and the captions is determined in order to identify the corresponding map ID in step S. Using the determined map ID, in step S map data is retrieved from the map data database. In step S the map is rendered using the map data and by retrieving image data referenced in the map data. In step S the process will then await a mouse input. When a mouse input is received in step S it is determined whether this input has occurred within the map window. If there was a map input within the map window, there are three possible inputs: double click, click and drag. If a double click event occurs, in step S the map ID of the selected thumbnail is obtained and the process returns to step S whereby the map ID is used to retrieve the map data. This process is illustrated in the transition from the displays of . In the display of  the user has selected the image  by double clicking which results in the display of  wherein the image  becomes the focal image.","If the mouse event in the map window is a click event, in step S the selected image is displayed at an enlarged size to enable a user to more easily view it. In order to avoid cluttering the map window , only one image can be selected to be displayed enlarged at a time. If another image is selected whilst an image is displayed enlarged, the previously selected image is returned to its thumbnail size and the newly selected image is displayed at an enlarged size.","If the mouse input in the map window comprises a drag event, a thumbnail image which had been selected to be dragged is moved within the map window. Any links between the thumbnail images are maintained and move as necessary during the movement of the selected image in step S. This ability to allow a user to move images enables a user to manually rearrange the thumbnail images either to allow the rendering process to be repeated using the refresh button , or merely to pull out an image which is partially covered by other images so that it can viewed. For instance, a user may wish to move the thumbnail image  illustrated in  which is partly obscured in order to be able to see the full thumbnail image. This may be the image that the user is seeking in the search.","In step S if the mouse input is not in the map window, in step S it is determined whether the mouse input comprises the selection of a button. If not, in step S the mouse input is ignored. If a button is selected, if the refresh button is selected the process then returns to step S to re-render the map. The re-rendering process may be desirable for several reasons. As will be described hereinafter, the rendering process includes the calculation of the separation of the images for a limited period of time. In other words, the algorithm which determines the spacing of the images iterates towards the solution but is only allowed a certain time to do it. A user may wish to allow the iterations to continue for a longer and thus the refresh button  can be selected for this purpose. Also, if a user has manually moved a thumbnail using the process of step S, this may help in clarifying the rendering process. Because the arrangement of the thumbnail images from the map window  is determined by an algorithm which has to take into consideration competing forces between images, the map displayed may not be the only \u201csolution\u201d. Thus because it is possible to move a selected thumbnail and re-render, a more clear map may result.","If the button selected in step S is determined to be the help button, in step S the help menu is displayed. The help menu includes information to help a user to use the software.","If in step S it is determined that the options button has been selected, in step S the options menu is displayed. The options menu allows various configurations of options of the system to be set. The linkage strategy can be set so that either:\n\n","Using the options menu the number of thumbnail images rendered in the map can also be selected. As mentioned hereinabove, the similarity matrices do not contain similarity values for all images. In the present embodiment the number of thumbnails N is set to 10. Thus, each matrix is a 10 by 10 matrix wherein for an image similarity values for the 9 best matches are included. The options menu allows the number of thumbnails to be reduced to a number less than N. This means that images with the lowest similarity value to the focal image will not be displayed. It is not possible to show a number of thumbnail images greater than the number in the similarity matrices because the similarity values are not available.","Another options setting which is available is to allow the web browser to preload images. Thus when this is selected, instead of the map being formed wherein the images are gradually displayed as image data is retrieved, no map data is illustrated until all the images are available. This causes a delay but ensures that all the images are available for the rendering process before the rendering process begins.","In step S of  if the button selected is the submit button, this means that a new query has been input and thus the process returns to step S.","As can be seen from , the embodiment of the present invention allows a user to manually input a natural language query, or effectively enter a query by a selecting an image. A method of entry of a query by selection of an image enables a user to navigate the image database. If during navigation the original image is not included in the closest matches surrounding the new focal image, a user is able to return to the previous map data using the back button  which is the image of the previous focal image.","In this embodiment the generation of the similarity matrices takes place off line by determining the similarity between the entries in the database. This has the benefit of reducing the processing time required. It is only necessary simply to identify the best match between the input query and the captions in the captions database. However, this suffers from the disadvantage that the best matches illustrated in the map are the best matches to the focal image and not the best matches to the query. A benefit of this however is that the user is given an impression of the pattern of data in the database.","The method of generating the similarity matrices (step S in ) will now be described with reference to .","In step S an initial caption is selected from the caption database. In step S the best N\u22121 best matches are found. The matching process in this embodiment can comprise a simple keyword matching but preferably comprise a full natural language phrase matching technique as disclosed in UK Patent Application No. 9904662 and UK Patent Application No. 9821969 the contents of which are hereby incorporated by reference. The best matches are found by comparing similarity values returned from the matching process. Thus the result of step S is a series of values which will be used to form the radial links in the map data.","The process then goes on in step S to calculate the values for the similarity of each of the other captions with each other. The purpose of this is generate a full N\u00d7N matrix so that not only can radial links be determined in the rendering of the map, but also links between outlying images. In step S the values are output of an N\u00d7N matrix indexed by the image ID for the selected caption. In the matrix the rows and columns are indexed by image IDs' for the best matches. In step S the next caption is selected and the process returns to step S. The process in  thus repeats for each of the captions in the caption database to form the similarity matrices.","Table 1 below illustrates the similarity matrix for the focal image of .",{"@attributes":{"id":"p-0075","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"11"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"10","align":"center","rowsep":"1"}}]},{"entry":[{},"17\/71","17\/72","17\/73","5\/62","6\/35","6\/36","6\/37","6\/38","6\/39","6\/40"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"10","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"11"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"11","colwidth":"21pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["17\/71\u2002","1.00","0.51","0.67","0.00","0.67","0.36","0.42","0.34","0.65","0.40"]},{"entry":["17\/72\u2002","0.51","1.00","0.49","0.00","0.64","0.36","0.38","0.32","0.62","0.38"]},{"entry":["17\/73\u2002","0.67","0.49","1.00","0.00","0.55","0.31","0.33","0.27","0.53","0.32"]},{"entry":["5\/62","0.00","0.00","0.00","1.00","0.02","0.28","0.03","0.03","0.00","0.09"]},{"entry":["6\/35","0.67","0.64","0.55","0.02","1.00","0.59","0.63","0.52","0.93","0.61"]},{"entry":["6\/36","0.36","0.36","0.31","0.28","0.59","1.00","0.36","0.64","0.53","0.38"]},{"entry":["6\/37","0.42","0.38","0.33","0.03","0.63","0.36","1.00","0.34","0.56","0.40"]},{"entry":["6\/38","0.34","0.32","0.27","0.03","0.52","0.64","0.34","1.00","0.47","0.36"]},{"entry":["6\/39","0.65","0.62","0.53","0.00","0.93","0.53","0.56","0.47","1.00","0.56"]},{"entry":["6\/43","0.40","0.38","0.32","0.09","0.61","0.38","0.40","0.36","0.56","1.00"]},{"entry":{"@attributes":{"namest":"1","nameend":"11","align":"center","rowsep":"1"}}}]}}]}}},"Table 2 below illustrates the similarity matrix for the focal image of .",{"@attributes":{"id":"p-0077","num":"0081"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"11"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"10","align":"center","rowsep":"1"}}]},{"entry":[{},"16\/70","17\/69","17\/70","17\/71","17\/72","17\/74","6\/35","6\/39","6\/43","6\/44"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"10","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"11"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"11","colwidth":"21pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["16\/70","1.00","0.00","0.09","0.00","0.00","0.24","0.00","0.00","0.22","0.41"]},{"entry":["17\/69","0.00","1.00","0.19","0.03","0.00","0.29","0.00","0.00","0.26","0.37"]},{"entry":["17\/70","0.09","0.19","1.00","0.23","0.27","0.12","0.26","0.25","0.27","0.08"]},{"entry":["17\/71","0.00","0.03","0.23","1.00","0.51","0.36","0.67","0.65","0.20","0.00"]},{"entry":["17\/72","0.00","0.00","0.27","0.51","1.00","0.33","0.64","0.62","0.20","0.00"]},{"entry":["17\/74","0.24","0.29","0.12","0.36","0.33","1.00","0.27","0.26","0.42","0.46"]},{"entry":["\u20026\/35","0.00","0.00","0.26","0.67","0.64","0.27","1.00","0.93","0.25","0.05"]},{"entry":["\u20026\/39","0.00","0.00","0.25","0.65","0.62","0.26","0.93","1.00","0.22","0.00"]},{"entry":["\u20026\/43","0.22","0.26","0.27","0.20","0.20","0.42","0.25","0.22","1.00","0.46"]},{"entry":["\u20026\/44","0.41","0.37","0.08","0.00","0.00","0.46","0.05","0.00","0.46","1.00"]},{"entry":{"@attributes":{"namest":"1","nameend":"11","align":"center","rowsep":"1"}}}]}}]}}},"In the similarity matrices given in the tables above, the images are identified by an image ID of the format \u201cdirectory\/image number\u201d. Thus the first column in Table 1 is for similarity values for the 10 images similar to image number 71 in directory 17.","It can be seen that the diagonal window of the matrix has values of 1. Below the diagonal line the values will repeat what appears above. Thus only the upper or lower part of the matrix need be stored for the present technique wherein the similarity measure between images is symmetric i.e. it does not matter which image you take as the reference in the comparison e.g. comparing image 17\/71 with image 17\/72 is equivalent to comparing image 17\/72 with image 17\/71.","The process of calculating the map data from each of the similarity matrices will now be described with reference to .","In step S an initial matrix is selected. In step S captions for each image ID used to index the matrix is output to a map data file indexed by the map ID. The mean, standard deviation, maximum and minimum values in the matrix are then calculated in step S. In order to reduce the number of links which are used in the map data, only links which are significant are kept. Significant links are determined in step S by identifying values in the matrix that are either indexed by image ID for the selected matrix, or values which differ by more than n standard deviations from the mean, where n=1.25 in this embodiment. Thus all of the radial links are identified together with links which indicate a strong similarity or a strong dissimilarity. In step S the identified values are then normalised to values which are suitable for displaying as links i.e. separations between the images. The normalised values are then output to the map data file and indexed by the caption sequence i.e. if a link value is output for a link between the first and fourth image in the sequence, the output format is \u201c1\u20134\/length\u201d, where \u201clength\u201d is the link length.","In step S the image ID for each of the images in the caption sequence is then output to the map data file. Then in step S the caption sequence index number of the image ID for the selected matrix is output as an indication of the focal image in order to complete the data in the map data file. In step S the next matrix is then selected and the process returns to step S.","The map data file for the image 6\/36 i.e. the focal image of  is indicated below:\n\n","The map data file for the image 6\/43 i.e. the focal image of  is given below:\n\n","As can be seen above, the captions and the image IDs' are output as a sequence, the link length data is output as lengths indexed in accordance with the sequence. The final piece of data from the map data file is the indication of the focal image by the use of the index to refer to the image ID in the sequence. Thus in the data file for image 6\/36 the final data entry  indicates that the fifth position in the sequence identifies the focal image.","It is not essential to use this final piece of data to indicate the focal image. Instead the sequence could be ordered such that the focal image is always the first in the sequence.","Although the generation of the similarity matrices and the map data files have been described as two separate processes wherein once the matrices have been formed, the map data files are formed, in practice, in order to reduce storage, the map data file calculation is carried out immediately following the generation of the similarity matrix for a selected caption. Thus the similarity matrices are not stored and are transient: they are merely used as an intermediary to form the map data files.","The resulting map data files are stored in the map data database for use in the rendering of the map in the map window . Map data files contain all of the information necessary for the rendering process. The rendering process merely needs to retrieve the image data identified in the map data file.","The rendering process for the formation of the map data in the map window  will now be described in detail with reference to .","In step S the map data is input having a map ID for the best matching caption or having the map ID of the selected thumbnail. The thumbnail of the focal image is retrieved and rendered at the centre of the map window in step S. In step S the thumbnails of the other images indexed in the map data file are rendered at predetermined positions around the focal image. These predetermined positions can be at equally spaced positions around the focal image or at random positions. The starting positions are not particularly important.","In step S a counter i is set to zero and in step S the counter is incremented. In step S new thumbnail positions are calculated and the thumbnails are rendered in the new positions. Following this in step S the average thumbnail position (termed curr.ave) is determined. In step S it is then determined whether the counter i has reached 10. If not, the process returns to step S.","Thus steps S to S are repeated ten times. In other words, the new thumbnail positions are calculated and the thumbnails are rendered at those positions ten times and each time the average thumbnail position is determined.","In step S a ten point moving average of the average thumbnail position (termed mov.ave) is determined.","In step S it is determined whether the current average position is within a range of the ten point moving average and if the time taken is greater than 5 seconds. If so the rendering process has completed and the process stops in step S. If not in step S it is determined whether the time T is greater than 15 seconds. If so the process terminates in step S and if not the process returns to step S. Thus, in step S it is determined whether there is still significant movement of the images or whether they have converged towards a solution. The process is allowed at least 5 seconds to iterate but no more than 15 seconds.",{"@attributes":{"id":"p-0095","num":"0107"},"figref":["FIG. 9","FIG. 8"],"b":"45"},"In step S a first link is selected i.e. the separation of two images corresponding to two images which have a separation value in the map data file. The link length is calculated by measuring the x and y distances between the nodes (images). This is the actual length of the link (ACTUAL_LEN). The equation used is:",{"@attributes":{"id":"p-0097","num":"0109"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"ACTUAL_LEN","mo":"=","msqrt":{"mrow":{"msup":[{"mrow":{"mo":["(",")"],"mi":"XDIST"},"mn":"2"},{"mrow":{"mo":["(",")"],"mi":"YDIST"},"mn":"2"}],"mo":"+"}}}}},"ul":{"@attributes":{"id":"ul0007","list-style":"none"},"li":{"@attributes":{"id":"ul0007-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0008","list-style":"none"},"li":"where XDIST is the distance between the nodes along the X axis and YDIST is the distance between the nodes along the Y axis."}}}},"In step S the proportional difference between the actual length and the target length, i.e. the length in the map data file is then calculated using:",{"@attributes":{"id":"p-0099","num":"0112"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"PDIFF","mo":"=","mfrac":{"mrow":{"mi":["ACTUAL_LEN","TARGET_LEN"],"mo":"-"},"mi":"ACTUAL_LEN"}}}},"ul":{"@attributes":{"id":"ul0009","list-style":"none"},"li":{"@attributes":{"id":"ul0009-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0010","list-style":"none"},"li":["where PDIFF is the proportional difference","ACTUAL_LEN is the actual length calculated and","TARGET_LEN is the target length."]}}}},"In step S \u03b4X and \u03b4Y are calculated from:\n\n\n\n\n","In step S \u03b4X and \u03b4Y are added to the \u201cfrom\u201d node i.e. the node identified by the first index in the map data files and in step S \u03b4X and \u03b4Y are subtracted from the \u201cto\u201d node. For example, in the map data file for image 6\/36 i.e. the map data file for , the first link is given in the format 4-0\/192. This identifies the link as being from the fourth image in the sequence to the zero image in the sequence and the link length is 192. (In the map data file, the 10 images are indexed from 0 to 9). Thus step S requires the addition of \u03b4X and \u03b4Y to the position of the fourth image in the caption sequence i.e. 6\/35 and the substraction of \u03b4X and \u03b4Y from the zero image in the sequence i.e. image 17\/71. This causes the nodes to then move towards the required length. Because the value of \u03b4X and \u03b4Y can be negative, although step S is addition and step S is substraction, this does not result in the nodes moving closer together but can result in the nodes moving further apart.","In step S it is then determined whether there are any more links to be processed and if so, in step S the next link is selected and the process returns to step S. If all the links have been processed, in step S the thumbnails are rendered at their new positions. Thus the process of  comprises a single iteration in the rendering process.","This embodiment of the present invention thus provides a simple method allowing a user to enter a query and to be presented with a map of thumbnail images in which the focal image comprises the best match to the query. The surrounding images comprise images which are the best matches in the database to the focal image. This enables a user to navigate through the database by selecting an image as a new focal image. Such a technique is fast because there is no need to perform on-line matching. There is no query input and instead, the ID of the select image is used to retrieve the map data for the generation of the next map.","A second embodiment to the present invention will now be described with reference to .",{"@attributes":{"id":"p-0105","num":"0121"},"figref":"FIG. 10"},"Many of the functional components of the second embodiment are similar to the functional components of the first embodiment as illustrated in  and thus the same reference numerals are used. In this embodiment the interface  comprises the pointing device  the query input device  and the display device . When a query is input, the on-line similarity calculator  not only determines the best match between the input query and the meta data in the meta data database , it also calculates the N best matches between the input query and the data in the meta data database . This is used to calculate similarity values between the input query and the N best matches. The similarity data is then passed to an on-line map data calculator  for calculating map data on-line from the similarity values. The map data calculator  refers to the meta data database  and the data in the database  in order to form the map data. This data is then passed to the rendering processor  in order to render a map in the map window  in a similar manner to that shown in .","In this embodiment, the off-line similarity calculator  and the off-line map data calculator  operates as in the first embodiment to generate map data for the map data database . This data is used whenever the pointing device  is used to select an image. In other words when an image is selected there is no need to perform any matching operation on-line and it is possible to retrieve the map data simply using the ID of the selected image. However, when a user inputs a query, the map data generated is not based on similarity to an entry in the database, but instead is based on similarity to the query.","The operation of the second embodiment of the present invention will now be described with reference to  which is a flow diagram illustrating the overall operation.","In step S, captions for the image database are created and in step S they are stored in the database. In step S similarity matrices are generated in accordance with the flow diagram of  and in step S off-line map data is generated in accordance with the flow diagram of  as in the previous embodiment. In step S the map data is stored in the database. Steps S to S comprise off-line processing and are the same as in the first embodiment.","When a query is input in step S, in step S the N best matching captions are found and in step S a similarity matrix is generated on line. This comprises the determination of the similarity between the N best matches to the input query. In step S map data is generated from the similarity matrix. The map data is generated on-line. This will be described in more detail with reference to  hereinafter. The map data is then rendered in step S and the process then awaits a mouse input in step S. Steps S to step S correspond to steps S to S in  and the process operates in the same way as in the first embodiment for mouse inputs. A description of steps S to S is thus omitted for the sake of brevity. Thus the second embodiment only differs from the first embodiment in that steps S to S are replaced with steps S to S.","The method of generating map data will now be described with reference to . In step S the captions for each image ID in the similarity matrix are output as a matrix caption sequence indexed by map ID. In step S the mean, standard deviation, maximum and minimum of the values in the matrix are then calculated. In step S significant values in the matrix are then identified either by the fact that they are indexed by the image ID of the best match, or by the fact that they differ by more than n standard deviations from the mean. These values are then normalised suitably for display as lengths (separations) in step S. The normalised values are then output indexed by caption sequence to the map data file in step S and in step S the image ID in caption sequence order is output to the map data file. Finally, the caption sequence index number of the image ID for the best match is output as the identification of the focal image in step S.","This embodiment of the present invention allows a user to enter a query and observe a map of images which most closely match the query. The process does however require the determination of a similarity matrix and map data on-line. Once the map is rendered a user is able to navigate the image database in the same manner as for the first embodiment.","Modifications to the Embodiments","The present invention has been described hereinabove with reference to two specific embodiments, the present invention is not limited to these embodiments and modifications can be made within the spirit and scope of the present invention.","In particular, the present invention is not limited to the searching of image data. The present invention is applicable to any form of data such as text data, audio data, image data, and video data. When video data is searched, the rendered map can include images representative of a frame with a video. Alternatively, a specific thumbnail image of a frame can be provided as meta data to the video data. Similarly, for audio data, meta data can be provided which can comprise text. For text data, the thumbnail images can comprise an image of a document, an abstract, or a caption. Thus the present invention is applicable to any form of data wherein the rendering process generates a map having nodes which comprise representations for the data.","When a node in the map is selected, the information outputting process will depend upon the form of the data. For example, in the above embodiments, for image data, when an image is selected, the size of the thumbnail is increased. This can also take place for the representation of data in other forms. Alternatively, for audio data and for video data, at least some of the audio or video can be played back.","Although in both embodiments, the searching is performed using meta data on the form of captions for images, the present invention is applicable to searching of any form of meta data or the data itself. For example, where the database contains text data to be searched, the query can be matched to the data itself, e.g. the title, the abstract or the whole text, or to meta data such as a document title, file name, abstract or caption which is extraneous to the data itself.","In the embodiments, natural language queries or keyword queries have been used, the present invention is not limited to such queries. Any form of query can be used for searching the database. For example, where colour images are being searched, colour data or signatures can be used as an input query.","In the embodiments described, the similarity measure used for determining the similarity between each of the images is based on a natural language matching process between the natural language query and the caption or between the captions themselves. The present invention is not however, limited to any particular form of similarity measure. For example, the similarities between images can be based on the colour content of the images. Similarity between videos i.e. films can be based on the content of the film e.g. the genre of the film.","In the embodiments the matching process to form the similarity measure is described as using the natural language matching procedure described in UK Patent Application 9904662 and UK Patent Application No. 9821969 the content of which are hereby incorporated by reference. The invention can use any form of matching technique such as the cosine measure in order to determine how well things match. Using a natural language or keyword query together with captions or text in documents, the cosine measure can be used by considering each word in the query to comprise a dimension. Thus the query comprises a N-dimensional vector having values in each of the dimensions. The caption is mapped onto the N-dimension space and if the caption includes any of the words it is assigned a unit value in the particular dimension. Where no word is present it is assigned a zero value in a particular dimension. In this way, the caption and the query can be considered as N-dimensional vectors and a cosine measure can be obtained as a measure of the similarity between the query and the caption.","In the embodiments, the links are shown as simple links between nodes in the map. The links can however be considered to be two different types of links:\n\n","Links which have values close to the mean are not mapped. Thus the two different types of link can be shown in different colours to show links which are pushing and pulling nodes. Further, where additional information is available regarding the similarity between the images, this can be used to identify the types of links between the images e.g. for natural language queries and natural language matching, the context of the match can be used to enhance the information available for the link. Such context information can be made available from implementing the technique in UK Patent Application No. 9904662.","The invention has many applications and can be used for searching for and browsing through information and databases. The present invention is not limited to the retrieval of data and can be used for browsing for information even for placing requests for information. For example, the present invention can be applied to on-line shopping for searching for and ordering items, and for video-on-demand systems. In such systems the thumbnail images can comprise images of the items that a user wishes to order. The present invention is also applicable to web search engines where the images displayed in the map can comprise images of the web pages. For natural language queries to allow the searching on such web pages, the captions can either be matched to the text content of the web page, or meta data for the web pages can be provided e.g. captions.","The embodiments of the present invention have been described with reference to implementation over a network using Java applets. This implementation of the present invention is particularly convenient since it allows the invention to be implemented using a browser either locally on a machine wherein the client and server effectively comprises a single machine and the searching takes place of a database stored locally on a single machine, or the technique can be applied to allow searching of databases over a network. The present invention is not however limited to the specific implementation and it can be implemented either using specifically designed software or hardware. Since the present invention can be implemented in software, the present invention can be embodied as a storage media carrying computer code for controlling a processor to carry out the method. Also, because the computer program can be downloaded over a network such as the internet or a local area network, the present invention can be embodied as a signal carrying instructions for controlling a processor to carry out the method.","The invention defined in the appended claims can comprise any combination of the claims and features in the claims. Also, although various means for performing functions are claimed, the means can be provided in combinations."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Embodiments of the present invention will now be described with reference to the accompanying drawings, in which:\u2014",{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 9","FIG. 8"],"b":"45"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 12"}]},"DETDESC":[{},{}]}
