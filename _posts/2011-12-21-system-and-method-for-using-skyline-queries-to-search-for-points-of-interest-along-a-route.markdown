---
title: System and method for using skyline queries to search for points of interest along a route
abstract: A method and system for searching for points of interest along a route is disclosed. A relation that includes records that associate link identifiers, point of interest identifiers, and distances between the links and the points of interest is generated during the compilation process of a first version of a geographic database. The relation is stored in compiled database products. When a compiled database product is being used by a navigation system, for example, navigation application software programs use the relation to accurately and efficiently find points of interest along a computed route. Navigation systems can also use the relation to service skyline queries and responsively generate skyline graphs of points of interest.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08990010&OS=08990010&RS=08990010
owner: HERE Global B.V.
number: 08990010
owner_city: Veldhoven
owner_country: NL
publication_date: 20111221
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["REFERENCE TO RELATED APPLICATIONS","FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The present patent application is related to patent application Ser. No. 13\/332,608, now U.S. Pat. No. 8,620,577 entitled \u201cSYSTEM AND METHOD FOR SEARCHING FOR POINTS OF INTEREST ALONG A ROUTE,\u201d filed on the same date.","The present invention relates generally to routing, and more particularly, relates to generating skyline queries to search for points of interest along a route.","Navigation systems are available that provide end users (such as drivers and passengers of the vehicles in which the in-vehicle navigation systems are installed) with various navigation-related functions and features. For example, some navigation systems are able to determine an optimum route to travel by roads between locations in a geographic region. Using input from the end user, and optionally from equipment that can determine one's physical location (such as a GPS system), a navigation system can examine various routes between two locations to determine an optimum route to travel from a starting location to a destination location in a geographic region.","The navigation system may then provide the end user with information about the optimum route in the form of guidance that identifies the driving maneuvers required to be taken by the end user to travel from the starting location to the destination location. The guidance may take the form of visual and\/or audio instructions that are provided along the way as the end user is traveling the route. Some navigation systems are able to show detailed maps on computer displays outlining routes to destinations, the types of maneuvers to be taken at various locations along the routes, locations of certain types of features, and so on.","Some navigation systems can also search for points of interest (POIs) along a computed route. POIs are locations that may be of interest to a user of a navigation system. For example, POIs include hotels, restaurants, museums, stadiums, airports, hospitals, parks, and so on.","The navigation system may perform a spatial search to generate a list of POIs along the route. The spatial search finds all POIs that are within a certain Euclidean distance from any link of the calculated route. While a spatial search is efficient, it is inaccurate because it does not consider topology.","To overcome the problems associated with a spatial search, the navigation system may use topological relationships to obtain a more exact list of POIs along the route. For example, the navigation system could use the Dijkstra algorithm for each link in the route and report all POIs that are found while exploring the neighborhood of the links. The Dijkstra algorithm stops either after a certain amount of POIs have been reported or after exploring all links within a distance from any link of the route. While this approach is more accurate, it is much more time consuming and difficult to implement.","In order to provide these and other navigating functions, navigation systems use geographic data. The geographic data may be in the form of one or more databases that include data that represent physical features in a geographic region. The geographic database may include data representing the roads and intersections in a geographic region and also may include information relating to the represented roads and intersections in the geographic region, such as turn restrictions at intersections, speed limits along the roads, street names of the various roads, address ranges along the roads, and so on.","A method and system for searching for a point of interest along a route is disclosed. A compiler generates a relation that associates link identifiers, point of interest identifiers, and distances between the links and the points of interest. The compiler starts the process of generating the relation by selecting either a link or a point of interest from a first version of a geographic database, which may be a master version of the geographic database or an intermediate delivery version derived therefrom. After selecting a link, the compiler identifies the points of interest within a distance from the link using a routing algorithm. For each identified point of interest, the compiler adds a record into the relation that includes the link's identifier, the point of interest's identifier, and the distance between the link and the point of interest. Alternatively, the compiler selects a point of interest and identifies the links within a distance from the point of interest using a reverse routing algorithm. In either scenario, the compiler repeats the process until all (or a portion) of the links or points of interest have been selected.","The relation is stored in a compiled database product, such as a geographic database used on a navigation system platform (e.g., in-vehicle navigation system, personal navigation device, mobile telephone, server with mapping application). As a result of the relation being stored in the geographic database, the navigation system can accurately find points of interest along a calculated route or a current location efficiently.","Additionally, a computer-implemented method for determining skyline points of interest is disclosed. A navigation system determines a route path. The route path includes one or more links. The navigation system receives a request for a skyline query, wherein the skyline query is related to one or more point-of-interest attributes. In response to the request, the navigation system: (a) determines a plurality of points of interest associated with the one or more links of the route path using a relation configured to store at least an identifier associated with a link, an identifier associated with a point of interest, a distance between the link and the point of interest, and a value for each attribute of the one or more point-of-interest attributes, (b) selects one or more skyline points of interest from the plurality of points of interest associated with the link, where each skyline point of interest is not dominated by other points of interest in the plurality of points of interest with respect to the one or more point-of-interest attributes, and (c) produces an indication of the one or more skyline points of interest.","Also, a computer-implemented method for determining skyline points of interest is disclosed. A navigation system determines a current position. The route path includes one or more links. The navigation system receives a request for a skyline query, wherein the skyline query is related to one or more point-of-interest attributes. In response to the request, the navigation system: (a) determines a plurality of points of interest associated with the current position using a relation configured to store at least an identifier associated with a link related to the current position, an identifier associated with a point of interest, a distance between the link related to the current position and the point of interest, and a value for each attribute of the one or more point-of-interest attributes, (b) selects one or more skyline points of interest from the plurality of points of interest associated with the link related to the current position, where each skyline point of interest is not dominated by other points of interest in the plurality of points of interest with respect to the one or more point-of-interest attributes, and (c) produces an indication of the one or more skyline points of interest.","These as well as other aspects and advantages will become apparent to those of ordinary skill in the art by reading the following detailed description, with reference where appropriate to the accompanying drawings. Further, it is understood that this summary is merely an example and is not intended to limit the scope of the invention as claimed.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1","b":["100","100","102","102","102","102"]},"The master version of the geographic database  includes data about a road network located in the coverage area. The data about the road network include various kinds of information, such as the geographic coordinates of positions of the roads, street names of the roads, addresses ranges along the roads, turn restrictions at intersections of roads, and so on.","The master version of the geographic database  also includes data about points of interest in the covered area. Points of interest may include hotels, restaurants, museums, stadiums, offices, automobile dealerships, auto repair shops, etc. The master version of the geographic database  may include data about the locations of these points of interest. The master version of the geographic database  may also include data about places, such as cities, towns, or other communities, and other kinds of information.","The master version of the geographic database  is maintained as the copy that has the most up-to-date data relating to the coverage area. Accordingly, the master version of the geographic database  is updated, expanded, and\/or otherwise modified on a regular and continuing basis. To facilitate these operations, the master version of the geographic database  is stored in a format that facilitates updating, maintenance, and development. For example, the data in the master version  may be uncompressed. Examples of suitable formats include Oracle Spatial and VSAM although other formats, both proprietary and non-proprietary, including GDF, may be suitable. In general, the format of the master database  is not suitable for use in navigation systems.","The master version of the geographic database  is used to make compiled database products . In one method of operation, data from the master version of the geographic database  is first compiled into an intermediate or delivery format, such as GDF. Then, the database in the intermediate or delivery format is used to make the compiled database products . The compiled database products  are made using a compiler . The compiler  is a software program run on an appropriate computer platform. The compiler  obtains geographic data from the intermediate format database (which was formed from the master geographic database ) and organizes the data into a format (or formats) to produce the compiled (or working) version of the geographic databases . The format of the compiled geographic database products  facilitates use of the geographic data in the end users' systems for navigation-related purposes.","The compiled database products  may include only portions of all the data in the master version of the geographic database . For example, the compiled database products  may include data that relate to only one or more specific sub-areas within the coverage area of the master version of the geographic database . Further, the compiled database products  may include fewer than all the data attributes that describe geographic features represented in the master version of the geographic database .","The compiled database products  are used on various kinds of computing platforms. For example, the compiled database products  are used in navigation systems (such as in-vehicle navigation systems and hand-held portable navigation systems), personal computers (including desktop and notebook computers), and other kinds of devices, such as tablets, mobile telephones, personal digital assistants, and so on. The compiled database products  are also used on networked computing platforms and environments, including systems connected to the Internet.","The compiled database products  are stored on media that are suitable for the hardware platforms on which they are used. For example, the compiled database products  may be stored on CD-ROM disks, hard drives, DVD disks, flash memory, or other types of media that are available now or that become available in the future.","In the compiled database products , the geographic data are organized differently than in the master or intermediate versions of the geographic database. A compiled database is organized, arranged, structured and stored in a form that facilitates the use of the data in the computing platform in which it is installed. A compiled database product  may also be stored in a compressed format on the media on which it is located.","To facilitate the search of POIs along a route, a new data attribute is stored in the compiled databases . This new attribute, referred to as \u201cdistance,\u201d is generated by the compiler  using data stored in the master or intermediate versions of the geographic database. The distance attribute is the distance between a link and a point of interest. A link represents a portion of a road. A point of interest is a location that a person may be interested in traveling to.","Also during compilation, the compiler  creates a relation that contains all links within a \u201creasonable distance\u201d from a point of interest. The relation may be represented as Link2POI (LinkID, POIID, Distance), where \u201cDistance\u201d is the distance attribute. The reasonable distance value is provided as an input to the compiler . The value of the reasonable distance may be the expected maximum query distance. For example, the reasonable distance may be three kilometers.","The Link2POI relation facilitates different types of POI searches. For example, if a navigation system has calculated a route, the navigation system can use the relation to identify all points of interest that are located along any link in the route. As another example, if a point of interest is selected during destination selection, the navigation system can use the relation to find all access links that serve as a destination for the routing algorithm.","Another type of POI search is a \u201cskyline query.\u201d As an example, suppose a person is interested in going to a popular waterfront city. The person wants to find a hotel that is both cheap and close to the waterfront. A skyline query for hotels in this situation would be a query searching for the \u201cskyline\u201d or set of all hotels that are not worse than any other hotel in low price and in distance from the waterfront. Then, the person can look through the hotels in the skyline to determine the best hotel for their needs.","More formally, the skyline is a list of points in N dimensions that are not dominated by any other point in all N dimensions. A point DP dominates another point P if DP is better than P in all dimensions. Continuing the hotel example, the closest hotel to the waterfront among all hotels being searched is the best hotel in terms of distance to the waterfront and, therefore, a point representing the closest hotel cannot be dominated by any other point. Similarly, the cheapest hotel among all hotels being searched is the best hotel in terms of price and, therefore, a point representing the cheapest hotel cannot be dominated by any other point.","The distance attribute and relation may be created using a routing algorithm as described with respect to  or using a reverse routing algorithm as described with respect to .",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 2","b":["200","104","202","104","102","104","204","206","104"]},"For example, at block , the compiler  selects a link having the link identifier (LinkID) of 4711. At block , the compiler  uses a reasonable distance value of two kilometers to identify points of interest. Using a search algorithm, the compiler  identifies the points of interest having POI identifiers (POIID) 777 and 987. POI 777 is 0.650 km from link 4711, while POI 987 is 1.450 km from link 4711. At block , the compiler  inserts the records as depicted in Table 1.",{"@attributes":{"id":"p-0044","num":"0043"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Link2POI"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"105pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["LinkID","POIID","Distance"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"105pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["4711","777","0.650"]},{"entry":["4711","987","1.450"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"At block , the compiler  determines whether there are more links in the first version of the geographic database that need to be searched. If there are more links, the compiler  returns to block . Otherwise, the compilation process ends.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 3","b":["300","104","300","300"]},"At block , the compiler  selects a POI represented in the first version of the database, which may be the master version of the database  or the intermediate version derived therefrom. At block , the compiler  identifies all links located within the reasonable distance value of the POI. At block , for all identified links, the compiler  inserts a new record into the Link2POI relation. At block , the compiler  determines whether there are more POIs in the first version of the geographic database that need to be searched. If there are more POIs, the compiler  returns to block . Otherwise, the compilation process ends.","At the completion of compilation, the Link2POI relation is the same regardless of whether the compiler  runs the compilation process  or the compilation process . Depending on the number of links and POIs represented in the first version of the geographic database, the Link2POI relation can become quite large.","Binary Large Objects (BLOBs) may be used to reduce the size of the Link2POI relation. A BLOB is a collection of binary data stored as a single entity in a database management system. In one example, the compiler  stores the information contained in the Link2POI relation in a relation Link2BlobPOI(LinkID, BLOBPOI), where BLOBPOI contains all POIs that are accessible from the link of this row within the reasonable distance. The BLOB may be encoded using a compressed binary encoding, e.g., delta encoding of POI IDs and\/or delta encoding of the distance values. Additionally or alternatively, the compiler  may store the information contained in the Link2BLOBPOI relation using binary-compressed BLOBPOI columns, for example, by using zlib.","In order to access the relation Link2BlobPOI(LinkID, BLOBPOI) conveniently, the compiler  may generate a virtual table v_Link2POI(LinkID, POIID, Distance) on the basis of the table Link2BlobPOI(LinkID, BLOBPOI). The system querying the v_Link2POI virtual table does so in a similar manner as described with respect to querying the relation Link2POI, for example, using SQL. When accessing the relation v2POI, the virtual table reads from the table Link2BlobPOI the column BlobPOI and then provides the POIs and their distances through the table v_Link2POI to the system performing the query.","Besides the smaller database size, the use of the BLOBs has another advantage. As the table Link2BLOBPOI contains fewer entries than the table Link2POI, there are also fewer entries stored in the B-tree, which is used for indexing the LinkID values in the tables Link2POI and Link2BLOBPOI. The less entries to be indexed, the better for the SQL_Querying performance (done by the navigation system) and the inserting performance (done by the compiler).","Note that instead of storing the binary encoded POIs and distances in a BLOB column of a relation, they may also be stored directly as a flexible attribute of the link, which is used in the navigation database standard (NDS). Link attributes are described with respect to .","Another way of reducing the size of the Link2POI relation is to vary the reasonable distance value based on the type of road represented by a link. There are more points of interest in a city than in a rural area. Thus, using a smaller reasonable distance value, when compiling city streets, reduces the size of the relation. For example, the reasonable distance value may be one kilometer when compiling city streets and three kilometers when compiling highways. As another example, the reasonable distance value may be proportional to the inverse of POI density.","Still another way for reducing the size of the Link2POI relation is to create another relation Link2Link. When there are multiple points of interest within a reasonable distance from a link, a separate record is generated in the Link2POI relation for each POI. Instead of storing a separate record for each POI, the compiler  installs a single record in the Link2Link relation having the format: Link2Link(Link_From, Link_To, Distance) and another record in the relation AccessLink4POIs(LinkID, POIID). The AccessLink4POIs relation is typically already available in a geographic database to identify the set of links from which a POI can be directly accessed. Now, the Link2POI relation can be used in a view command as follows.",{"@attributes":{"id":"p-0055","num":"0054"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"CREATE VIEW Link2POI AS"},{"entry":"SELECT l.Link_From as LinkID, p.POIID, l.Distance FROM Link2Link"},{"entry":"l, AccessLink4POIs p where l.Link_To=p.LinkID."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 4","b":["400","400","400"]},"The geographic database  is an example compiled database product produced by the compiler  using one of the compilation processes , . The geographic database  contains at least one database record  (also referred to as \u201centity\u201d or \u201centry\u201d) for each link (also referred to as \u201csegment\u201d) in a geographic region. The link data record  includes a link ID () by which the data record can be identified in the geographic database .","Each link data record  has associated with it information (such as \u201cattributes\u201d, \u201cfields\u201d, etc.) that describes features of the represented road segment. For example, the link data record  includes a speed limit attribute () that includes data indicating a speed limit or speed category (i.e., the maximum permitted vehicular speed of travel) on the represented road link. As another example, the link data record  includes a classification attribute () that includes data indicating whether the represented road link is part of a controlled access road (such as an expressway), an arterial road, or a local road. As there may be many other attributes associated with a link,  depicts an other data attribute ().","Each road link is associated with two nodes. One node represents the point at one end of the road link and the other node represents the point at the other end of the road link. The node at either end of a road link may correspond to a location at which the road meets another road, i.e., an intersection, or where the road dead-ends. Accordingly, the link data record  also includes a first node ID ()() for the first end of the link and a second node ID ()() for the second end of the link. The first node ID ()() and the second node ID ()() are also located in a node record .","As described, the node record  includes a node ID () by which the data record can be identified in the geographic database . The node record  also includes the geographic coordinates (e.g., the latitude and longitude) () of the node. As there may be many other attributes associated with a node,  depicts an other data attribute ().","Each road link may also be associated with one or more points of interest. Accordingly, the link data record  also includes a point of interest ID () for each point of interest associated with the link. The point of interest ID () is also located in a POI record .","The POI record  includes a POI ID () by which the data record can be identified in the geographic database . The POI record  also includes the distance () determined during the compilation process , . The POI record  may also include attributes for the type or category of a point of interest (e.g., restaurant, hotel, city hall, police station, historical marker, ATM, golf course, etc.), the location of the point of interest, a phone number, hours of operation, web page, and so on. As there may be many other attributes associated with a point of interest,  depicts another data attribute ().","The geographic database  also includes indexes . The indexes  provide cross references, search trees, and\/or other data finding techniques. The indexes  include the Link2POI relation and variations described herein. One variation to the Link2POI relation is adding additional columns.","For example, the column Category may be added to the relation to support queries such as \u201cGive me all POIs along the route for a certain category.\u201d In this example, the Link2POI relation has the format Link2POI(LinkID, POIID, Category, Distance). This example also works with the BLOB approach with the Link2BLOBPOI relation having the format Link2BLOBPOI(LinkID, Category, BLOBPOI).","As another example, the column Time may be added to the relation to support queries such as \u201cGive me all POIs that can be reached in five minutes.\u201d Data in the Time column is the time to travel from link having the LinkID to the POI having the POIID. In some systems, the Time column may replace the Distance column in the Link2POI relation. This example also works with the BLOB approach as the relation Link2BLOBPOI(LinkID, BLOBPOI), where the BLOBPOI column contains the time necessary to reach a POI from a certain link.",{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 5","b":["502","500","500","500","502","502","534","526","534","504","506"]},"The navigation system  also includes a positioning system . The positioning system  may utilize GPS-type technology, a dead reckoning-type system, or combinations of these or other systems, all of which are known in the art. The positioning system  may include suitable sensing devices that measure the traveling distance speed, direction, orientation, and so on. The positioning system  may also include a GPS system. The positioning system  outputs a signal to the processor . The navigation application software programs  that run on the processor  use the signal from the positioning system  to determine the location, direction, orientation, etc., of the computing platform .","The navigation system  also includes a user interface  that allows the end user to input information into the navigation system  and obtain information from the navigation system . The input information may include a request for navigation features and functions of the navigation system . To provide navigation features and functions, the navigation system  uses a geographic database . One example of a geographic database  is the geographic database  depicted in .","In one example, the geographic database  is stored on a storage medium, such as a CD-ROM or DVD, that is installed in the drive  so that the geographic database  can be read and used by the navigation system . In one example, the navigation system  also includes a storage device , such as a hard disk or memory card, on which a portion of the geographic database  is stored. In one example, the geographic database  may be a geographic database published by NAVTEQ North America, LLC of Chicago, Ill. The geographic database  does not have to be physically provided at the location of the navigation system . In alternative examples, some or the entire geographic database  may be located remotely from the rest of the navigation system  and portions of the geographic data provided via a communications system , as needed.","In one exemplary type of system, the navigation application software programs  load from the non-volatile memory storage device  into a random access memory (RAM)  associated with the processor . The processor  also receives input from the user interface . The navigation system  uses the geographic database  stored on the storage medium and\/or storage device , possibly in conjunction with the outputs from the positioning system  and the communications system , to provide various navigation features and functions. The navigation application software programs  may include separate applications (or subprograms) that provide the various navigation-related features and functions. The navigation functions and features may include destination selection  (identifying one or more places to be used as a destination based on user input), route calculation  (determining a route from an origin to a destination), route guidance  (providing detailed directions for reaching a destination), map display , and positioning  (e.g., map matching). The navigation application software programs  also include a point of interest search application , which is described with reference to . Other functions and programming  may be included in the navigation system .","The navigation application software programs  may be written in a suitable computer programming language such as C++ or Java, although other programming languages are also suitable. All of the components described above may be conventional (or other than conventional) and the manufacture and use of these components are known to those of skill in the art.",{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 6","b":["600","502","536","502","530"]},"At block , the route calculation program  calculates a route from the starting point to the destination. The route calculation program  may use any suitable routing algorithm, such as the Dijkstra algorithm or the A* algorithm. The calculated route is represented by a sequence of links.","At block , the POI search program  retrieves a list of POI identifiers for POIs located within a reasonable distance from the route. The POI search program  queries the relation Link2POI using the route as a query object to retrieve the list of POI identifiers. Using SQL as a non-limiting example, the POI search program  may use the following query to obtain the POI list.",{"@attributes":{"id":"p-0075","num":"0074"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"SELECT POIID FROM Link2POI where LinkID in (SELECT LinkID"},{"entry":"FROM routepath) and Distance <= Dist_Query."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{},"b":"518"},"At block , the POI search program  retrieves information regarding the POIs identified in the POI list obtained at block . For example, the POI search program  may obtain location, category, or name from the point of interest record  associated with the POI identifier.","At block , the navigation system  provides search results to the user. For example, the route guidance program  may provide audible guidance that a particular POI is located at a distance from the user's current position on the route. As another example, the map display application  may present the POIs on a map display along with the user's current position.","The relation Link2POI also supports queries like \u201cOrder all POIs relative to the distance of the current car position\u201d or \u201cFind all POIs reachable within Dist_Query from the current car position.\u201d After the positioning application  locates the link associated with the navigation system's current position ((CP), i.e. LinkCP), the POI search program  may perform the following queries.",{"@attributes":{"id":"p-0079","num":"0078"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"SELECT POIID, Distance FROM Link2POI where LinkID = LinkCP"},{"entry":"order by distance"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0080","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"SELECT POIID, Distance FROM Link2POI where LinkID = LinkCP and"},{"entry":"Distance <= Dist_Query."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"By generating and storing the relation Link2POI(LinkID, POIID, Distance) (and any alternatives described herein) in a geographic database prior to use, a navigation system (or other system using the database) can accurately identify points of interest along a route more efficiently. A skyline query retrieves relevant points of interest, which is further described with reference to .",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 7","b":["700","700"],"sup":["th ","st ","th "]},"All of the gas stations in street grid  are located on Gas St.  shows a gas station with a price of $1\/unit of gasoline at the corner of Gas and 1Streets, a gas station with a price of $2\/unit of gasoline at the corner of Gas and 2Streets, and so on until reaching a gas station with a price of $5\/unit of gasoline at Gas and 5Streets.",{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 7","b":"700","sup":["st ","th ","rd "]},{"@attributes":{"id":"p-0085","num":"0084"},"figref":["FIG. 7","FIG. 7"],"b":["710","700","710","710","1","710","1","1","710"],"sup":["st ","st ","th "]},"Graph  is a graph of gasoline price (in $\/unit) versus distance (in blocks) from point B, which is at Gas and 6Streets. The closest gas station to point B is about 1.5 blocks away from point B, charges $5\/unit of gasoline, and is represented on graph  as skyline point SPB. As skyline point SPB represents the closest gas station to point B, SPB is a skyline point as it cannot be dominated by any other point.  shows that, by traveling west on Gas St. from point B, successively cheaper gas stations are reached at 4Street, which is represented by skyline point SPB in graph , 3Street as represented by skyline point SPB in graph , 2Street as represented by skyline point SPB in graph , and 1Street as represented by skyline point SPB in graph . That is, each successive gas station represents a point that cannot be dominated by another point. Graph  also shows a \u201cskyline\u201d or line connecting each of the skyline points in the graph .","Graph  is a graph of gasoline price (in $\/unit) versus distance (in blocks) from point C, which is just north of Flower and 3Streets. Point C is about 1.5 blocks away from the closest gas station on Gas and 3Streets, about 2.5 blocks away from either the gas station on Gas and 2Streets or the gas station on Gas and 4Streets, and about 3.5 blocks away from either the gas station on Gas and 1Streets or the gas station on Gas and 5Streets, as can be seen in graph .","Skyline point SPC of graph  represents the closest gas station on Gas and 3Streets with a price of $3\/unit. As skyline point SPC represents the closest point to point C it cannot be dominated by another point. Skyline point SPC dominates the equidistant gas station on Gas and 4Streets based on the lower $2\/unit price of gas at the station on Gas and 2Streets compared to the $4\/unit price on Gas and 4Streets. Similarly, skyline point SPC dominates the equidistant $5\/unit gas station on Gas and 5Streets based on the relative price of gas at the two stations.","Graph  is a graph of gasoline price (in $\/unit) versus one-way deviation (in blocks) from route . The dominant points and skyline of graph  are similar to graph  with the prices remaining the same between the two graphs. Rather, the primary difference is that graph  has a left-ward shift for all points in the graph compared to graph , due to the different distance metrics used in the two graphs.","The one-way deviation from the route can be determined by taking a distance from a closest point on the route to a point of interest off the route. For example, the closest point on route  to the gas station on Gas and 2Streets is the intersection of Gas and 3Streets. If route  was diverted to Gas and 2Streets, it would be a two-block diversion: one block going west along Gas Street to the gas station at Gas and 2Street, and one block going east along Gas Street to return to the closest point at Gas and 3Streets. Thus, the \u201cone-way\u201d deviation in this example is one block and the \u201ctwo-way\u201d or \u201cround-trip\u201d deviation is two blocks.","Graph  shows that that the one-way deviation to the gas station at Gas and 3Streets is zero blocks, since that gas station is on route . The one-way deviations to the stations at Gas and 2Streets, Gas and 4Streets, and Gas and 5Streets are each one block, since the Gas and 2Streets station is one block from the closest point of the route at Gas and 3Street. The Gas and 4Streets station is one block from two points\u2014Gas and 3Street and Hummus and 4Street\u2014along route , and the Gas and 5Streets station is one block from the closest point at Hummus and 5Streets. Additionally, the one-way deviation to the station at Gas and 1is two blocks from the closest point on route  at Gas and 3Street.","Deviation could also be determined in other fashions. For example, suppose a route from A to B has a diversion to a point C and then the route is to continue on to B. Then, let Dbe the distance from A to B, DAbe the distance from A to C, and Dbe the distance from C to B. Then, the deviation to point C, or DV, can be determined as the total distance to deviate from the AB route to visit point C less the distance for the direct AB route, or DV=D+D\u2212D.",{"@attributes":{"id":"p-0093","num":"0092"},"figref":["FIGS. 8A","FIG. 8A"],"b":["8","8","800","814","810","812","814","800"]},"Route path  is made up of links -.  shows link beginning at CCP  and ends with a node (black dot) connected to link , links -each begin and end with a node (black dot) that represents an endpoint of the link, and link begins with a node (black dot) shared with link and ends with destination .","A point of interest (POI) search distance can be associated with each link. The POI search distance may be a Euclidean distance perpendicular to the link. The POI search distance may also be the network distance found by a routing algorithm, for example, the routing algorithm that calculated the route path . In one example, the POI search distance is less than the network distance stored in the relation Link2POI(LinkID, POIID, Distance) or variations of this relation described herein.","For example,  shows POI search distances -each associated with a corresponding link -and lines above and below the corresponding link indicate a search space within the POI search distance for each link. POI search distances can differ from link to link or remain the same. For examples, POI search distances and are equal, but POI search distance for link differs from POI search distance for link ","For at least some links, points of interest can be found within the POI search distance of the link. For example, points of interest A and B are within POI search distance of link . Other links, such as links and , may not have any points of interest within the POI search distance of the link.","Various attributes can be associated with each point of interest. Table 2 shows example attributes for the points of interest depicted in :",{"@attributes":{"id":"p-0099","num":"0098"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"63pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"POI","CCP Distance","Deviation","Price"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"63pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"A","8","0.5","3.25"]},{"entry":[{},"B","8","1","3.12"]},{"entry":[{},"C","30","1","2.98"]},{"entry":[{},"D","33","1.5","2.95"]},{"entry":[{},"E","34.1","0.1","3.08"]},{"entry":[{},"F","44","3.5","3.28"]},{"entry":[{},"G1","54","3","3.10"]},{"entry":[{},"G2","60","1","3.10"]},{"entry":[{},"H","66","0.5","3.00"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}},"br":{},"figref":"FIG. 8A"},"Point of interest G is found twice along route path : first in searching along link , with a deviation of 3 units, and second in searching along link with a deviation of 1 unit. Consequently, Table 2 includes two tuples of data for point of interest G: a G entry for point of interest along link , and a G entry for point of interest along . In other examples not depicted in the Figures, only one tuple per unique point of interest is inserted into Table 2.","The route distance and the one-way deviation can be measured in \u201cunits\u201d; e.g., miles or kilometers. The route distance can be a distance from current car position  to a nearest point on route path  to the point of interest. The one-way deviation can be a distance from route path  to the point of interest. Then, the one-way distance from current car position  to a point of interest can be calculated as the sum of the route distance and the one-way deviation. For example, point of interest C is 30 units from current car position  along route path  plus one unit of deviation from route path  for a total of 31 units between current car position  and point of interest C.","The data in Table 2 for points of interest along route path  can be determined using the Link2POI(LinkID, POIID, Distance) relation discussed above. For example, the SQL statement in Table 3 below creates a view named \u201cTable2\u201d including attributes POIID, CCPDistance, Deviation, and Price that can correspond to data shown above in Table 2.",{"@attributes":{"id":"p-0103","num":"0102"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 3"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"CREATE VIEW Table2 AS"]},{"entry":[{},"SELECT POIID, DistFromCCP(routepath, LinkCCP, LinkID,"]},{"entry":[{},"POIDistance) as CCPDistance, Distance as Deviation, Price FROM"]},{"entry":[{},"Link2POI WHERE LinkID in (SELECT LinkID from routepath)"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"In this example SQL statement, the Link2POI relation is assumed to store a POIID or point of interest identifier for each point of interest, as well as a one-way deviation value named as a Distance attribute and a Price attribute for each point of interest. These attributes are SELECTed from the Link2POI relation for each point of interest for each link on the route path; e.g., for Link2POI tuples retrieved that satisfy the WHERE LinkID in (SELECT LinkID from routepath) condition.","The CCPDistance attribute can be a calculated attribute. For example, in the SQL statement in Table 3 above, a stored procedure named DistFromCCP can sum the distances of all links along the route path routepath between a link on the route path associated with current car position LinkCCP and a current link LinkID. In some examples, DistFromCCP can calculate the distance by adding deviation as well. However, deviation is not added into either the \u201cCCP Distance\u201d values shown in Table 2 above or the \u201cCCP Dist\u201d data shown on .","The POI search distances -can be used either in an SQL statement or during compilation of the Link2POI relation to screen out all points of interest that are more than a respective point of interest distance from the associated link. For example, suppose that POI search distance is two units. Then, in generating the Link2POI relation, only data for points of interest two units or less from link can be stored. If data is stored with the Link2POI relation, for points of interest beyond two units from link , then SQL statement(s) and\/or other software can be used to screen the data.",{"@attributes":{"id":"p-0107","num":"0106"},"figref":["FIG. 8B","FIG. 8A","FIG. 8B"],"b":["850","854","814","850","810","850","810","850","814"]},"Starting with the left side of skyline graph , point of interest A can be seen as a point of interest closest to current car position . Thus, point of interest A cannot be dominated by another point of interest. Moving to the right of point of interest A along skyline graph , point of interest B is shown as further from current car position  than point of interest A, but the price of $3.12 at point of interest B is lower than the $3.25 price at point of interest A. Therefore, based on price, point of interest B is also a skyline point on skyline graph . Similarly, skyline graph  shows points of interest C and D are progressively further from current car position  and also have progressively lower gasoline prices. Therefore, based on price, points of interest C and D are also skyline points of skyline graph .","Point of interest E is both further from current car position  and has a higher price of $3.10 than the $2.98 price at point of interest C and, thus, point of interest E is dominated by point of interest C. Similarly, point of interest D dominates points of interest F, G, G, and H. Accordingly, points of interest E, F, G, G, and H are not part of the skyline .",{"@attributes":{"id":"p-0110","num":"0109"},"figref":"FIG. 8B","b":["852","854","854"]},"A skyline query can be used to generate the data for skyline graph  and\/or table . As shown in Table 3 above, a view Table 2 can be created with POIID, CCPDistance, Deviation, and Price attributes using the Link2POI relation. Then, the pseudo-SQL query shown in Table 4 below can use the Table 2 view of the Link2POI relation to generate the data shown in table :",{"@attributes":{"id":"p-0112","num":"0111"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"TABLE 4"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"SELECT a. * FROM Table2 WHERE NOT EXISTS"},{"entry":"(SELECT 1 FROM Table2 b WHERE (b.CCPDistance + b.Deviation) <"},{"entry":"(a.CCPDistance + a.Deviation) AND b.Price < a.Price)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The pseudo-SQL statement of Table 4 selects as a variable \u201ca\u201d, one or more tuples from the Table 2 view where, for each tuple in variable \u201ca\u201d, there does not exist another tuple in the Table 2 view stored in a variable \u201cb\u201d such that the sum of the CCPDistance and Deviation values for \u201cb\u201d are less than the sum of the CCPDistance and Deviation values for \u201ca\u201d and the Price attribute value for tuple \u201cb\u201d is less than the price for tuple \u201ca\u201d. The \u201ca\u201d records selected by the skyline query using the pseudo-SQL statement of Table 4 correspond to the points of interest of skyline  in skyline graph  and the skyline points shown in table .","As the Table 2 view data only includes data for points of interest within the POI distances along route path , the above pseudo-SQL statement of Table 4 operates on a fairly small data set of nine tuples. That is, use of the Link2POI relation in generating Table 2, leads to a concentrated data set of a relatively-small number of points of interest along a route path. This concentrated data set can be efficiently searched via the skyline query pseudo-SQL statement Table 4.","In other examples, the data in the Table 2 view can be provided to other skyline query algorithms, such as Block Nested Loop, Divide and Conquer, Branch-and-Bound, Shared Shortest Path, and Spatial skyline query algorithms, instead of or perhaps in addition to executing an SQL-based skyline query such as indicated by the pseudo-SQL of Table 4.",{"@attributes":{"id":"p-0116","num":"0115"},"figref":["FIG. 8C","FIG. 8A"],"b":["860","864","814","860","814"]},"Starting with the left side of skyline graph  on , point of interest E can be seen has having the minimum deviation from route path  and, thus, is a skyline point. Moving to the right, point of interest H is shown with a larger deviation than point of interest E, but the price of $3.00 is lower at point of interest H than the $3.08 price at point of interest E. Also, point of interest H has the lowest price for all points with a deviation equal to or less than the 0.5 units of deviation for point H. Therefore, point of interest H is a skyline point on skyline graph . Similarly, points of interest C and D require longer deviations from route path , but have lower prices of $2.98 and $2.95 respectively.","Skyline graph  shows that point of interest A has the same deviation of 0.5 units as point of interest H, but point of interest A has a higher price of $3.25 than the $3.00 price at point of interest H. Skyline graph  shows there are three points of interest with a deviation of 1 unit: B, C, and G. Of these three points of interest, C has a price of $2.98, which is lower than the $3.12 price of B, and the $3.10 price of G. Further, the $2.98 price at C is lower than the $3.00 price at dominant point H, and so point of interest C is a skyline point.","Additionally, skyline graph  shows that point of interest D has a longer deviation of 1.5 units than the 1.0 unit deviation to reach point of interest C, and point of interest D has the lowest price of $2.95 for all points of interest in Table 2. Thus, point of interest D is a skyline point of skyline graph .",{"@attributes":{"id":"p-0120","num":"0119"},"figref":"FIG. 8C","b":["862","864","864","814"]},"A skyline query can be used to generate the data for graph  and\/or table . The SQL query shown in Table 5 below can use the Table 2 view of the Link2POI relation to generate the data shown in table :",{"@attributes":{"id":"p-0122","num":"0121"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"TABLE 5"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"SELECT a. * FROM Table2 WHERE NOT EXISTS"},{"entry":"(SELECT 1 FROM Table2 b WHERE b.Deviation < a.Deviation AND"},{"entry":"b.Price < a.Price)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The SQL statement of Table 5 can select as a variable \u201ca\u201d, one or more tuples from the Table 2 view where, for each tuple in variable \u201ca\u201d, there does not exist another tuple in the Table 2 view stored in a variable \u201cb\u201d such that the Deviation attribute value for tuple \u201cb\u201d is less than the Deviation attribute value for tuple \u201ca\u201d and the Price attribute value for tuple \u201cb\u201d is less than the price for tuple \u201ca\u201d. The \u201ca\u201d records selected by the skyline query using the SQL statement of Table 5 correspond to the points of interest of skyline  in skyline graph  and the skyline points shown in table .",{"@attributes":{"id":"p-0124","num":"0123"},"figref":"FIG. 9","b":["900","920","910","900"]},"Scenario  begins with a request for a skyline graph of points of interest for vehicle . As no route path is associated with vehicle , a nearby-link list NearbyLinkList of one or more links at or near vehicle  can be generated. Then, a skyline graph can be generated using the Link2POI relation for links on the associated link list. The skyline graph can include axes for a distance from vehicle  and price attributes. Data for the skyline graph can be retrieved using the example SQL statements shown in Table 6, which are similar to the SQL statements of Tables 2 and 3.",{"@attributes":{"id":"p-0126","num":"0125"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"TABLE 6"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\/\/ Create a NearbyLinkView view using the NearbyLinkList"},{"entry":"\/\/ POIDistance can be predefined or otherwise determined"},{"entry":"CREATE VIEW NearbyLinkView AS"},{"entry":"SELECT POIID, DistFromCCP(NearbyLinkList, LinkCCP, LinkID,"},{"entry":"POIDistance) as CCPDistance, Price FROM Link2POI"},{"entry":"WHERE LinkID in (SELECT LinkID from NearbyLinkList)"},{"entry":"\/\/ Generate Skyline Graph using NearbyLinkView for price and CCP"},{"entry":"Distance"},{"entry":"SELECT a. * FROM NearbyLinkView WHERE NOT EXISTS"},{"entry":"(SELECT 1 FROM NearbyLinkView b WHERE b.CCPDistance <"},{"entry":"a.CCPDistance"},{"entry":"AND b.Price < a.Price)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"The nearby-link list can be generated by finding a \u201cclosest\u201d link that is adjacent or closest to vehicle . As shown in , vehicle  is closest to link (L)  of street grid  so link  can be designated as the closest link. In some scenarios, a single closest link is sufficient for the nearby-link list, e.g., several points of interest can be retrieved for from the Link2POI relation for the closest link . A skyline graph can be generated using the points of interest associated with the closest link.","The nearby-link list can be \u201cextended\u201d by taking all links with a common endpoint to the closest link. Link  has two endpoints shown circled in : a northern endpoint N and a southern endpoint S. Northern endpoint N is common to link  and links , , and . Southern endpoint S is common to link  and links , , , , and . The resulting nearby-link list is {, , , , , , , , }.","This procedure for extending the nearby-link list can include multiple \u201cextensions.\u201d That is, let the first extension be the set of links that each share a common endpoint with the closest link, and the resulting nearby-link list include the closest link and the links of the first extension. Then, let the second extension be the set of links that each share a common endpoint with a link in the nearby-link list after taking the first extension, and updating the nearby-link list to include the links of the second extension. The nearby-link list after the second extension is: {, , , , , , , , , , , , , , , , , , , , , }. Additional extensions can be taken until enough points of interest are found to generate the requested skyline graph.","Another technique is to find all links within a search radius of the position of vehicle . As shown in , a search radius  can be determined and links within search area  can be used to generate the nearby-link list. Links , , , , , and  are within search area  as shown in , leading to a nearby-link list of {, , , , , }.","Historical link lists traveled by vehicle  can be used as well. For example, suppose vehicle  had been traveling east on link , turned north onto link  and continued to travel to link  until reaching the current position shown in . As vehicle  is on link , link  can be used to initialize a nearby-link list. Then, a historical link list of {, , } can be used to estimate a direction of travel for vehicle . Based on this historical link list, vehicle  can be estimated to be moving in a direction between north and north-east. Then, the nearby-link list can be updated to add one more next-traveled links in the direction of travel. Using the street grid  shown in , next-traveled links can include links headed north or north-east from northern endpoint N of link ; e.g., link  and perhaps link . Then, link  and perhaps link  can be added to the nearby-link list. The resulting nearby-link list is either {, } or, if link  is added, {, , }.","In some cases, a speed of a moving vehicle can be determined. Then, the speed can be used to aid determination of a number of extensions or size of a search radius to be used in adding links to a nearby-link list. For example, suppose that as vehicle speed increases, the nearby-link list may need to add links to be searched for points of interest. The minimum number of links can be determined via a look up table or formula; e.g., NL=kS+k, where NL is number of links in the nearby-link list, kand kare constants, and S is the speed of the moving vehicle. kand kcan be adjusted based on the units used for S; e.g., km\/hr, MPH, m\/s, etc. If the nearby-link list has fewer than the determined minimum number of links, more links can be added, e.g., by adding an extension of the nearby-link list, adding links found within an increased search radius, and\/or by use of other techniques.","These techniques for generating nearby-link lists can be combined as well. For example, in the case where vehicle  is moving, a historical list of links can be used to determine a nearby-link list. Then, one or more extensions of the nearby-link list can be used to add links to the nearby-link list. Similarly, extensions of links within a search radius can be taken to add links to the nearby-link list. As another example, suppose a nearby-link list is generated using a historical link list and a direction of travel. Then, a search area can be determined for each link on the nearby-link list, and links within the search area(s) can be added to the nearby-link list. Other combinations are possible as well.",{"@attributes":{"id":"p-0134","num":"0133"},"figref":["FIG. 10","FIGS. 7-9"],"b":["1000","1000","500","1000","1000","1010"]},"At block , the navigation system can receive a request for a skyline query. The skyline query can be related to one or more point-of-interest attributes. In one example, the point-of-interest attributes can include a distance or time to travel from the current position. In other examples, the point-of-interest attributes can include a price. In still other examples, the point-of-interest attributes can include a distance from the route path or time to travel to the route path. Other point-of-interest attributes may also be used, such as POI category, hours of operation, and so on.","At block , in response to the request, the navigation system can determine a plurality of points of interest associated with the one or more links of the route path. The plurality of points can be determined using a relation configured to store at least: an identifier associated with a link, an identifier associated with a point of interest, a distance between the link and the point of interest, and a value for each attribute of the one or more point-of-interest attributes.","At block , the navigation system can select one or more skyline points of interest from the plurality of points of interest associated with the link. Each skyline point of interest is not dominated by any of the other points of interest in the plurality of points of interest with respect to the one or more point-of-interest attributes.","In some examples, selecting the one or more skyline points of interest can include performing a database query configured to determine whether a point of interest in the plurality of points of interest is not dominated by any of the other points of interest. In other examples, selecting the one or more skyline points of interest can include selecting the one or more skyline points of interest using a skyline-query algorithm.","At block , the navigation system can produce an indication of the skyline points of interest. In some examples, the indication can include a map depicting at least one skyline point of interest. In other examples, the indication can include a list that includes at least one displayed skyline point of interest, where the at least one displayed skyline point of interest is selected from the at least one skyline point of interest. In still other examples, the indication can include a list that has at least one skyline point of interest and at least one point-of-interest attribute for the at least one skyline point of interest.",{"@attributes":{"id":"p-0140","num":"0139"},"figref":["FIG. 11","FIGS. 7-9"],"b":["1100","1100","500","1100","1100","1110"]},"At block , the navigation system can receive a request for a skyline query. The skyline query can be related to one or more point-of-interest attributes. In some examples, the point-of-interest attributes can include a distance or a travel time from the link related to the current position. Other point-of-interest attributes include price, category, hours of operation, and so on.","At block , in response to the request, the navigation system can determine a plurality of points of interest associated with the current position. The plurality of points can be determined using a relation configured to store at least: an identifier associated with a link related to the current position, an identifier associated with a point of interest, a distance between the link related to the current position and the point of interest, and a value for each attribute of the one or more point-of-interest attributes.","In some examples, the link related to the current position can include a link closest to the current position. In particular examples, the link related to the current position can also include one or more links that share a common endpoint with to the link closest to the current position. In other examples, the link related to the current position can include one or more links within a search radius of the current position.","In still other examples, a historical list of links associated with the current position can be determined. A direction of travel can be determined based on the historical list of links. At least one next-traveled link can be determined based on the direction of travel. Then, the link related to the current position can include the at least one next-traveled link.","At block , the navigation system can select one or more skyline points of interest from the plurality of points of interest associated with the link related to the current position. Each skyline point of interest is not dominated by other points of interest in the plurality of points of interest with respect to the one or more point-of-interest attributes.","In some examples, selecting the one or more skyline points of interest can include performing a database query configured to determine whether a point of interest in the plurality of points of interest is not dominated by the other points of interest.","At block , the navigation system can produce an indication of the skyline points of interest. In some examples, the indication can include a map depicting at least one skyline point of interest. In other examples, the indication can include a list that includes at least one indicated skyline point of interest, where the at least one indicated skyline point of interest is selected from the at least one skyline point of interest. In still other examples, the indication can include a list that has at least one skyline point of interest and at least one point-of-interest attribute for the at least one skyline point of interest.","It is intended that the foregoing detailed description be regarded as illustrative rather than limiting and that it is understood that the following claims including all equivalents are intended to define the scope of the invention. The claims should not be read as limited to the described order or elements unless stated to that effect. While a standalone navigation system example was described in detail, the geographic database may be stored on a server and queried by a client device. For example, a client device such as a mobile telephone may send a route to a server and the server returns a list of points of interest to the client device. Therefore, all embodiments that come within the scope and spirit of the following claims and equivalents thereto are claimed as the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Presently preferred embodiments are described below in conjunction with the appended drawing figures, wherein like reference numerals refer to like elements in the various figures, and wherein:",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIGS. 8A","b":["8","8"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 11"}]},"DETDESC":[{},{}]}
