---
title: Data filter for haptic feedback devices having low-bandwidth communication links
abstract: Embodiments of the present invention provide computer program products, methods, and systems for use with low speed processors and/or low-bandwidth communication links. Embodiments of the present invention allows low-bandwidth communication links to proceed at a level similar to a high-bandwidth communication link by filtering data that the filter deems contains substantially identical haptic feedback parameters as a previously transmitted data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06933920&OS=06933920&RS=06933920
owner: Immersion Corporation
number: 06933920
owner_city: San Jose
owner_country: US
publication_date: 20020924
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCES TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The present application claims benefit to U.S. Provisional Patent Application Ser. No. 60\/324,750, filed Sep. 24, 2001 and entitled \u201cData Filter for Haptic Feedback Devices Having Low Bandwidth Communication Links,\u201d the complete disclosure of which is incorporated herein by reference.","Embodiments of the present invention relate generally to haptic feedback interface devices used with a host computer system, and more particularly to data filters for haptic feedback interface devices.","Common human-computer interface devices used for interaction with a computer system or electronic device include a mouse, joystick, trackball, gamepad, steering wheel, stylus, tablet, pressure-sensitive sphere, knob, or the like. In some haptic feedback interface devices, kinesthetic force feedback and\/or tactile feedback are also provided to the user, more generally known collectively herein as \u201chaptic feedback.\u201d These types of interface devices can provide physical sensations that are felt by the user manipulating a manipulandum of the interface device, such as a joystick handle, mouse button, knob, etc., the interface device's housing, or other element of the interface device in haptic contact with the user. One or more motors or other actuators can be coupled to the interface device housing or manipulandum and are in communication with a controlling host computer system. The host computer system controls forces and\/or resistance on the manipulandum and\/or housing in conjunction and coordinated with events and interactions by sending control signals or commands to the actuators of the interface device.","Most haptic feedback applications rely on a high-bandwidth communication link between the haptic feedback interface device and the host computer system. For example, a full-speed Universal Serial Bus (USB) Human Interface Device (HID) class device generally has a bandwidth of up to 64 kbytes\/sec., which is more than sufficient for many haptic applications. In low speed USB devices which have cheaper controllers, however, the communication link may have less bandwidth.","In existing software applications, the haptic feedback data created by the application program gets transferred through the driver software to the haptic feedback interface device. When a haptic feedback application program requiring high-bandwidth communications is used to interface with a lower-bandwidth haptic feedback interface device, a communication bottleneck is often created and the application spends more time waiting for each data to complete its transmission, thereby slowing down the application's overall performance. Data get queued and the queue grows, in some instances causing a system halt or crash when the queue count grows too large. In other instances, the outgoing pipe may get filled up and never empty.","The application program's displayed frame rate (or update rate) and\/or overall performance may suffer due to the program's inability to cope with the low-bandwidth communications link. Inefficiencies, poor haptic effects, or lost data can also occur in implementations having high bandwidth but low processing power on the haptic feedback interface device, e.g., the data is received at too great a rate for a processor or circuit on the device to handle properly.","In one embodiment, the present invention provides computer program products, systems, and methods for filtering data. Embodiments comprise transmitting a first data before transmitting a second data from a host computer system to a haptic feedback interface device. It is determined whether the second data contains substantially identical haptic feedback parameters as the first data. The second data is filtered based on the determination that the second data has substantially identical haptic feedback parameters as the first data.","In another embodiment, the present invention provides computer program products, systems, and methods that are configured to filter data based on an amount of data in a transmission queue between a host computer system and a haptic feedback interface device. Exemplary embodiments of the present invention can monitor the amount of data in a transmission queue to a haptic feedback interface device from a host computer system. If the number of messages in the transmission queue is below a threshold level, some or all of the messages are allowed to be transmitted to the haptic feedback interface device. If, however, the amount of data in the transmission queue is above the threshold level, data that provides substantially identical haptic feedback parameters or does not significantly change the haptic feedback output to the user, may be filtered before being transmitted to the haptic feedback interface device.","A further understanding of the nature and advantages of the invention will become apparent by reference to the remaining portions of the specification and drawings.",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1","b":["14","12","14","12"]},"Host computer system  can include one or more host processors , a system clock  and, a display device  and might include an audio output device . Host computer system  may also include other well known components, such as, but not limited to, a bus, random access memory (RAM), read-only memory (ROM), and input\/output (I\/O) electronics (not shown), or the like.","Host computer system  can be any device with one or more processors. Examples include, but are not limited to, a personal computer or workstation operating under any well-known operating system, one of a variety of home video game console systems commonly connected to a television set or other display, such as systems available from Nintendo, Sega, Sony, or Microsoft, a \u201cset top box,\u201d a \u201cnetwork\u201d or \u201cinternet-computer\u201d that allows users to interact with a local or global network using standard connections and protocols, such as used for the Internet and World Wide Web, an appliance or electronic device, vehicle computer, arcade game, portable computer, etc.","In one embodiment, host computer system  can implement a host application program that interacts with haptic feedback interface device . Haptic feedback interface device  can be any device with haptic feedback functionality. Examples include, but are not limited to a mouse, a joystick, trackball, gamepad, steering wheel, stylus, tablet, pressure-sensitive sphere, knob, or the like. Examples of host application programs include, but are not limited to, video games, word processors, spreadsheets, Web pages or browsers that implement HTML or VRML instructions, scientific analysis programs, virtual reality training programs or applications, operating systems or other application programs. Herein, host computer system  may be referred to as providing a \u201cgraphical environment,\u201d that can be a graphical user interface, game, simulation, or other visual environment, and might include graphical objects, that are displayed by display device . Typically, an Application Programming Interface (API) is used to interface the application programs that lower level driver programs that communicate directly with haptic feedback interface device .","In one embodiment, display device  can be coupled to host computer system  and can be, for example, but not the only example, a standard display screen (LCD, CRT, flat panel, etc.), 3-D goggles, or any other conventional or proprietary visual output device. The host application can provide images to be displayed in a graphical environment on display device  and\/or other feedback, such as auditory signals. Audio output device , such as a set of speakers, can be coupled to host processor(s)  via amplifiers, filters, and other circuitry known to those skilled in the art and provides sound output to user when an \u201caudio event\u201d occurs during the operation of the host application program. Other types of peripherals can also be coupled to host processor(s) , such as storage devices (hard disk drive, CD ROM drive, floppy disk drive, CD-R, CD-RW, DVD, DVD-R, etc.), printers, and other input and output devices.","In one embodiment, haptic feedback interface device  can be a gamepad, mouse, joystick, steering wheel, stylus, touchpad, spherical controller, finger pad, knob, track ball, a hand-held remote control device used to select functions of a television, video cassette recorder, sound stereo, internet or network computer, a cellular phone, personal digital assistant, or any device that can provide haptic forces to a user.","In one embodiment, haptic feedback interface device  can include a housing (not shown) and a manipulandum , such as, but not limited to, a joystick handle, a mouse, a knob, a steering wheel, a trackball, button, a trigger, a foot pedal, etc. The manipulandum  can be moved by the user and tracked by sensors. The forces from the actuator(s)  can be applied to the housing of haptic feedback interface device  and\/or the movable manipulandum .","In one embodiment, haptic feedback interface device  is coupled to the host computer system  in any way known in the art to enable data transfer, either uni-directional, bi-direction, or both, between host computer system  and haptic feedback interface device . For example, but not the only example, host computer system  and haptic feedback interface device  can be coupled by a communication link (such as a bus) , that communicates signals between haptic feedback interface device  and host computer system  and may also, in some embodiments, provide power to haptic feedback interface device . In other embodiments, signals can be sent between haptic feedback interface device  and host computer system  by wireless transmission\/reception. Some examples of the communication link  include, but are not limited to a serial interface bus, such as Universal Serial Bus (USB), RS232 serial interface, RS-422, MIDI, or any bus according to protocols known to those skilled in the art; or a parallel bus or wireless link.","Haptic feedback interface device  can include one or more local processors . Local processor  can optionally be included inside or outside the housing of haptic feedback interface device  to allow efficient communication with other components of the haptic feedback interface device. Local processor  is considered local to haptic feedback interface device , where \u201clocal\u201d herein refers to local processor  being a separate processor from any processors in host computer system . In one embodiment, processor  can include instructions to wait for commands or requests from host computer system , decode the commands or requests, and handle\/control input and output signals according to the commands or requests. In addition, local processor  can operate independently of host computer system  by reading sensor signals and calculating appropriate forces from those sensor signals, time signals, and stored or relayed instructions selected in accordance with a host command. Some examples of suitable processors for use as local processor  include, but are not limited to, lower-end processors as well as more sophisticated force feedback processors such as the ST7 processor from STMicroelectronics and the Immersion Touchsense\u2122 Processor, manufactured by Immersion Corporation of San Jose, Calif. Local processor  can include one microprocessor chip, multiple processors and\/or co-processor chips, and\/or digital signal processing (DSP) capability.","Local processor  can receive signals from sensor  via a sensor interface  and provide signals to actuator  via an actuator interface  in accordance with instructions provided by host computer system  over communication link . For example, in a local control embodiment, host computer system  can provide high level supervisory commands to local processor  over communication link , and local processor  can decode the commands and manages low level force control loops to sensors and the actuator in accordance with the high level commands, independently of host computer system . This operation is described in greater detail in U.S. Pat. Nos. 5,739,811 and 5,734,373. Local processor  may also use sensor signals in the local determination of forces to be output on the user object, as well as reporting locative data derived from the sensor signals to host computer system .","Herein, the term \u201chaptic sensation\u201d refers to either a single force or a sequence of forces output by an actuator to provide one or more haptic sensation to the user. For example, resistance, vibrations, a single jolt, or a texture sensation are all considered haptic sensations. In some embodiments, local processor  can process one or more inputted sensor signals to determine appropriate output actuator signals by following stored code instructions in a memory . Herein, memory  includes, but is not limited to, RAM, ROM, CDROM, DVD, hard drives, magnetic tapes, or any data storage medium, magnetic, optical, or otherwise.","In yet other embodiments, other hardware can be provided locally to haptic feedback interface device  to provide functionality similar to local processor . For example, a hardware state machine or ASIC incorporating fixed logic can be used to provide signals to actuator  and receive sensor signals from sensors , and to output haptic signals.","In another embodiment, host computer system  can provide low-level force commands that are transmitted to the actuator  via local processor  or other circuitry. Host computer system  thus control and process signals to and from haptic feedback interface device . Other embodiments may employ a \u201chybrid\u201d organization where some types of forces (e.g., closed loop effects) are controlled partially or entirely by local processor , while other types of effects (e.g., open loop effects) may be controlled partially or entirely by the host computer system .","In one embodiment, local memory  can be coupled to local processor(s)  in haptic feedback interface device  to store instructions that includes one or more code modules for local processor , one or more force feedback effects, temporary data, and other data. In addition, a local clock  can be coupled to local processor  to provide timing data, similar to system clock  of host computer system .","In one embodiment, sensors  can sense the position or motion of the haptic feedback interface device (e.g. the housing or a manipulandum ) in a plurality of degrees of freedom and provide signals to local processor  (or host computer system ) including information representative of the position or motion. Sensors  suitable for detecting motion include, but are not limited to, digital optical encoders, other optical sensor systems, linear optical encoders, potentiometers, optical sensors, velocity sensors, acceleration sensors, strain gauge, or other types of sensors can also be used, and either relative or absolute sensors can be used. Optional sensor interface  can be used to convert sensor signals to signals that can be interpreted by local processor  and\/or host computer system , as is well known to those skilled in the art.","In one embodiment, actuator(s)  can transmit(s) forces to the housing, manipulandum, buttons, and\/or other portion of haptic feedback interface device  in response to signals received from local processor  and\/or host computer system . Haptic feedback interface device  can include one or more actuators that are operative to produce forces on haptic feedback interface device  (or a component thereof) and haptic sensations to the user. The actuator(s) are \u201ccomputer-controlled\u201d, i.e., the force output from the actuators can be ultimately controlled by signals originating from a controller such as a processor, ASIC, etc. The embodiments of the present invention can be used with any known active actuators such as, but not limited to, DC motors, voice coil actuators, moving magnet actuators, pneumatic\/hydraulic actuators, solenoids, speaker voice coils, piezoelectric actuators, or passive actuators, such as brakes. Actuator interface  can optionally be connected between actuator  and local processor  to convert signals from local processor  into signals appropriate to control actuator . Interface  can include power amplifiers, switches, digital to analog controllers (DACs), analog to digital controllers (ADCs), and other components, as is well known to those skilled in the art.","Other input devices  can be included in haptic feedback interface device  and send input signals to local processor  or to host  when manipulated by the user. Such input devices include, but are not limited to, buttons, dials, switches, scroll wheels, knobs, or other controls or mechanisms. Power supply  can optionally be included in haptic feedback interface device  coupled to actuator interface  and\/or actuator  to provide electrical power to the actuator, or be provided as a separate component. Alternatively, power can be drawn from a power supply separate from haptic feedback interface device , or power can be received across communication link . Also, received power can be stored and regulated by haptic feedback interface device  and thus used when needed to drive actuator  or used in a supplementary fashion. In some embodiments, the power for actuator  on haptic feedback interface device  can be supplemented or solely supplied by a power storage device provided on haptic feedback interface device , such as a capacitor or one or more batteries (not shown).","Embodiments of the present invention can include a filter that provides additional intelligence in the driver level (or other level) of software running on the host computer system or stored in a memory of the haptic feedback interface device that allows low-bandwidth communications to achieve a similar haptic performance to high-bandwidth communications by controlling and filtering the data flow between the processors of the host computer system and\/or between the host computer system and the haptic feedback interface device.","In one embodiment, the filters and code modules of the present invention can filter the communication rate to allow a local processor on the haptic feedback interface device to handle the communication flow from the host processor(s), without sacrificing the quality of the haptic feedback experienced by the user. This can be achieved, for example, using a data filter that understands the functionality of the haptic feedback interface device and can partially filter, completely drop, throw away, discard, or otherwise filter predetermined messages or messages that the filter determines contains substantially identical haptic parameters as a previous data message or will not significantly change the user's perception of the haptic sensations or haptic feedback experience. As such, each of the haptic feedback effects that are currently delivered to the manipulandum and housing will be continued until haptic feedback data that significantly change the user's perception of the current haptic sensations is transmitted to the haptic feedback interface device.","The filtering methods described herein can be implemented by hardware modules, a computer program product that has software code modules stored on a computer readable medium, such as RAM, ROM, optical disk (CD-ROM or DVD-ROM), magnetic hard disk, floppy disk, PCMCIA card, hard drives, magnetic tapes, or combinations thereof. For example, embodiments described herein may employ low-level driver software to implement the method, since at this level the software knows how the data packets are queued and sent to a haptic feedback interface device and the data messages can be received from an application program, API, higher level driver, or other higher level of software running on the host computer system. In other embodiments, methods can be implemented at higher levels of software in the host computer system (API, application program, etc.) The embodiments of the filtering method can be processed in, but not limited to, one or more host processors, a local processor in the haptic feedback interface device, or another processor (not shown) that is independent of the host computer system or the haptic feedback interface device.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 2","b":["130","132","134"]},"Embodiments of the filters can filter the data in a number of ways. For example, the second data can be completely filtered and prevented from being transmitted to the haptic feedback interface device. In such embodiments, the data will be dropped and not placed in the queue to the haptic feedback interface device. Alternatively, the filters may partially filter the data by filtering redundant portions of the data and allowing non-redundant data to be transmitted to the haptic feedback interface device.","Generally, haptic communication is handled using complete data messages that carry all other data for an effect (or a specific component of a haptic effect). Thus, all of the data is transferred and processed at once. If the communication speed is restricted, however, then it may be better to allow selective parts of the data message to be transmitted and filter out redundant data. Thus, the host computer system can transmit all of the data that has changed from a previous data, while reducing the amount of communication bandwidth that is consumed.","One example of such partial filtering is setting the parameters of a periodic haptic effect. In general such a message can set the magnitude, frequency, and phase values for the haptic effect. A first data message can communicate the magnitude, frequency and phase values. If a subsequent second data message is sent in which only the magnitude has changed, the other parameters (i.e., frequency and phase) do not have to be transmitted. In such a case, embodiments of the present invention can filter the second data such that only the magnitude parameter is transmitted in the second data message. As can be appreciated, the filter can structure the second message in a manner so that the haptic feedback interface device will understand which data is being transmitted and which data is omitted, so that the haptic feedback interface device knows that the \u201csmaller\u201d second data message was not corrupted.","In the embodiments where there is a high bandwidth communication link between the host computer system and a haptic feedback interface device that has a low processing power, it may be possible to filter the data on the haptic feedback interface device after it has been transmitted over the high bandwidth communication link. In such a case, the host computer system can transfer all or some of the data that is requested by the haptic feedback interface device.","In some embodiments, a first data filter can be incorporated in the host computer system to filter identical data messages, and a second data filter can be incorporated in the haptic feedback interface device to filter data messages that are determined to by the second filter to be substantially identical from a haptic perspective. Such embodiments reduce the need for the data filter on the host computer system to be aware of what is \u201csubstantially similar\u201d for the particular haptic feedback interface device.","Another situation where such an approach may be useful is where the host computer system is configured to handle an older haptic feedback interface device. An example of this would be a Microsoft Xbox or Sony Playstation game that was designed for an older, more capable haptic feedback interface device. In such a case, the code on the host computer system is usually not modifiable and an updated driver cannot be provided for the new host computer system or haptic feedback interface device. If the processing power of the newer haptic feedback interface device is decreased (as compared to the older haptic feedback interface device), then embodiments of the present invention can be used to filter out any data that would not affect the haptic sensations before the haptic feedback interface device does the processing on the data message.","Embodiments of the invention can include several categories or types of haptic feedback data or messages that can be received by the filter. The type can be implicit in the message itself (e.g. as the command identifier). For example, commands that control and effect the playback of haptic effects or halting of the playback, such as \u201cstart\u201d or \u201cstop\u201d commands, can be used in embodiments of the present invention. A \u201cstart\u201d message has an inherent type of \u201cstart\u201d and a \u201cstop\u201d message has an inherent type of \u201cstop.\u201d Other messages can be haptic effect definition messages, which can be transmitted to the haptic feedback interface device to modify a haptic effect that has been previously sent to the haptic feedback interface device and\/or which is currently playing on the haptic feedback interface device. The parameters of these effects can be changed in real time, while the haptic effect is being played by the haptic feedback interface device (e.g., changing the frequency of a periodic effect while it plays to represent a change in speed of an automobile in a racing simulation). For example, a periodic force message can change the frequency of a periodic effect that is currently being played on the haptic feedback interface device (which was previously commanded to be played). Haptic feedback messages to which this is appropriate include, but are not limited to, periodic force commands, constant force commands, spring force definitions, damping force definitions, etc. Each of these commands can have a type corresponding to its command type, where the parameters of the command specify the particular characteristics of that instance of the commanded sensation.","In some embodiments, filters of the present invention can simultaneously support multiple different haptic messages and different haptic message effects can be processed by the filters independently from each other. Thus, all data messages that are targeted to one haptic effect are filtered in one group. Any data messages that are targeted to a different haptic effect on the haptic interface device are handled in a different group, and there can be independent filtering for each haptic effect. For example, if there are two vibration effects on the haptic feedback interface device, then the first vibration parameter would be handled independently from the second vibration parameter. If the first vibration parameter is commanded and the host computer system transmits multiple messages to adjust the second vibration parameter before another data message to modify the first vibration parameter, none of the second vibration parameter data messages will have an effect on the filter processing for the first vibration parameter.","One skilled in the art will appreciate that \u201cidentical information\u201d or \u201csubstantially-identical information\u201d does not necessitate equating messages of identical or substantially-identical byte content; rather, this term implies that the first and second data will result in identical behavior or substantially-identical (e.g., output forces) on the haptic feedback interface device. For example, one message that commands a force magnitude of 50% is considered equal to a later message that commands a force magnitude of 50%, even if the later message also includes extraneous data irrelevant to force output, such as a time stamp or other identifying information. The driver program can access a memory on the host computer system or the haptic feedback interface device that stores the messages that were previously sent so that the comparison to the last message of that type can be made.","If the second data changes the magnitude of the haptic output by the haptic feedback interface device due to the first data, and the second data would cause a 0.5% change in haptic output to the user compared to the current settings of the haptic feedback interface device, embodiments of the method can determine whether that is a significant enough change to allow the data to be transmitted to the haptic feedback interface device. This can depend on the type of haptic feedback being output (tactile or kinesthetic), the type of haptic feedback interface device (joystick, gamepad, mouse, knob, etc.), the actuators used in the haptic feedback interface device, etc. Embodiments of the filter can use its knowledge of the haptic feedback interface device capabilities to determine if the changes in data are substantially identical. For example, if an upper limit of a vibration frequency that the haptic feedback interface device can generate is 25 Hz, then if the data adjusts the frequency from 30 Hz to 32 Hz, there would be no reason to send this data to the haptic feedback interface device, as both values would be limited to the 25 Hz limitation that is specific to that haptic feedback interface device. As another example, for a low-bandwidth haptic feedback interface device, a small change such as 0.5% is not likely to be significant enough to warrant clogging a queued communication link with the additional data. Consequently, embodiments of the method would filter out (e.g., throw away) the data before it is transmitted to the haptic feedback interface device. However, a parameter change of 15% in haptic force output would typically be significant enough to allow the second data to be transmitted to the haptic feedback interface device. If bandwidth is low, then a low filtering threshold can be implemented, where the received data is filtered out unless the user is very readily able to perceive the change in force output caused by the received data. Generally, the filter's primary criterion is whether the data change between the first data and second data will produce a noticeable effect on the haptic output to the user.","For example, in one implementation, in the case of an effect definition message, if any one of the parameters of the data has a value that has changed by more than 10% of its entire value range, then that is considered a \u201csignificant amount\u201d and the data must be sent. It should be appreciated, that other thresholds (e.g., 5%. 8%, 20%, 100 millivolts, etc.) might be used. This applies to parameters that cover a range of values. For binary parameters (e.g., on\/off, yes\/no, etc.), any change is significant, so that if any change occurs, the data is sent to the haptic feedback interface device. Parameters can be evaluated on a case-by-case basis in order to establish what a significant amount of change is, but these guidelines can be used in general. Exceptions can be used as well. For example, a periodic force message may have a parameter defining the period of the desired periodic haptic sensation. A change of \u2153 of an octave (doubling of frequency) for the period parameter can be considered a significant amount. It should be appreciated however, that in other embodiments of the present invention, other values (e.g., less than approximately 10% of the entire range) can be considered an insignificant amount and can be filtered from delivery, accordingly.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 3","b":["150","152","154","156","160","158"]},"If the first data and second data do not contain substantially identical information (e.g., there will not be a significant change in the haptic feedback to the user), then at  the second data is transmitted to the haptic feedback interface device. If, however, the first data and second data contain substantially identical information, then the second data is filtered (e.g., completely filtered, partially filtered, or the like) at  before it is transmitted to the haptic feedback interface device. If the second data is completely filtered, the filter acts as if the second data was queued for transmission to the haptic feedback interface device.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 4","b":["202","204","212","214","204"]},"If, however, the haptic feedback parameters in the second data are not identical to the first data of that same or related type, then at , the embodiments of the filter can monitor the current data transmission queue to the haptic feedback interface device to determine if the amount of data in the transmission queue is above a threshold level. If an amount of data waiting in the transmission queue is below the threshold level, then the filter proceeds normally to  and the second data is queued for transmission to the haptic feedback interface device. A threshold level of the filter will vary and can depend on, but is not limited to an expected bandwidth of the communication link versus the available bandwidth, the type of haptic feedback interface device, the processing speed of the local processor, or the like.","If it is determined at  that the amount of data in the transmission queue is above the threshold level, (e.g., if the communications channel is deemed to be too busy for the particular haptic feedback interface device), then at  embodiments of the filter can compare the haptic feedback parameters of the second data with the haptic feedback parameters of the first data to determine if the haptic feedback parameters have substantially identical haptic feedback parameters that will not substantially effect the haptic output to the user. Only data that do not have substantially identical haptic feedback parameters are transmitted to the haptic feedback interface device. Again, a memory can store the previously-transmitted data. To perform this adequately, the driver software (or whatever software\/hardware configuration is being used) can have some knowledge of the capabilities of the haptic feedback interface device.","If any haptic feedback parameters of the second data are not substantially identical to the haptic feedback parameters of the first data, embodiments of the method proceeds to  to add the second data to the data transmission queue to the haptic feedback interface device, and control to the calling program would be returned at . If the haptic feedback parameters are substantially identical, then  is performed, where the second data is filtered (e.g., partially filtered, not transmitted to the haptic feedback interface device, or the like), and the calling program or driver can act as if the second data had been queued for transmission to the haptic feedback interface device. Control is then returned to the caller at .","In some cases, \u201ctime\u201d may come into play with the filter. In one case, some applications can send haptic effects with a short duration that are updated frequently. This may limit the haptic output on the haptic feedback interface device in the case when there is a problem with the application running on the host computer system. If the host computer system is somehow locked up, then the haptic feedback interface device will generate haptic output to the user until the duration of the haptic effect has expired. If there were several identical updates sent to the haptic feedback interface device, it would not be desirable to send all of the data since such data could overload the communication link. However, even though all for the updates are identical, the filter can ensure that the haptic feedback interface device is being updated often enough to ensure that the haptic effect keeps playing.","In another case, the duration information of the haptic feedback data can be used for a different purpose. For example, if many data messages are sent rapidly to the haptic feedback interface device, then a queue of messages may grow on the host computer system. Since the messages are being delayed on the way to the haptic feedback interface device, there is a corresponding lag in the haptic output that is generated. In such cases, some embodiments of the filter can selectively filter data to prevent the queue from being noticeable to the user from a haptic sense.","While this invention has been described in terms of several preferred embodiments, it is contemplated that alterations, permutations and equivalents thereof will become apparent to those skilled in the art upon a reading of the specification and study of the drawings. For example, many of the features described in one embodiment can be used interchangeably with other embodiments. Also, it should be appreciated, that many different types of haptic feedback interface devices and haptic sensations can be used with the present invention. Furthermore, certain terminology has been used for the purposes of descriptive clarity, and not to limit the present invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
