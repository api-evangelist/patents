---
title: Controller of hybrid vehicle
abstract: A control device for a hybrid vehicle having an engine and a motor as driving sources for the vehicle, and when decelerating, the control device stops the fuel supply to the engine and generates energy by regenerative braking. The engine is a cylinder pause-type engine which is capable of switching between the all-cylinder driving state in which all of cylinders are operating, and a cylinder paused driving state in which all of the cylinders are paused, and the control device of the hybrid vehicle comprises a cylinder pause state determination device for determining whether the engine is in the all cylinder driving state or in a cylinder paused driving state and a regeneration amount supplementing device for supplementing the regeneration energy by the motor by use of the increment of the regeneration energy obtained during the cylinder pausing operation than that obtained during all cylinder driving state.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06953021&OS=06953021&RS=06953021
owner: Honda Giken Kogyo Kabushiki Kaisha
number: 06953021
owner_city: Tokyo
owner_country: JP
publication_date: 20011019
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["1. Field of the Invention","The present invention relates to a control system for a hybrid vehicle, and in particular, relates to a control system for a hybrid vehicle capable of improving the fuel consumption efficiency.","2. Description of the Related Art","Conventionally, hybrid vehicles, which carry motors as power sources for driving in addition to engines, are known. Hybrid vehicles are classified into serial hybrid vehicles and parallel hybrid vehicles. In parallel hybrid vehicles, the motor connected to the engine assists the rotation of the drive shaft of the engine while charging a power storage unit using the motor as a generator.","In parallel hybrid vehicles, the motor assists the engine at the time of acceleration and a power storage unit such as a battery is charged by deceleration regeneration during deceleration, in order to maintain sufficient electrical energy in the power storage unit such as a batteries (hereinafter, called the remaining charge, or the \u201cstate of charge\u201d) to meet the driver's demands. Specifically, since the engine and the motor are connected in series in the parallel hybrid vehicle, the driving system of the parallel hybrid vehicle can be constituted by a simple and light weight structure and this driving system is applicable to a variety of types of vehicles.","There are several types of the parallel hybrid vehicles, one of which is a type that is provided with a clutch between the engine and the motor in order to avoid the influence of the engine friction (the engine brake) during deceleration regeneration (see, for example, Japanese Patent application, First Publication No. 2000-97068), and another type is one wherein the engine, the motor, and the transmission are connected in series in order to provide an extremely simple driving system.","However, the driving system having a clutch between the engine and the motor has a structure that has a problem in that the applicability of this driving system to a variety of vehicles is restricted because of the complicated structure of this system and because the transmission efficiency of the power transmission system of this driving system is degraded even when the vehicle is running.","The driving system in which the engine, the motor, and the transmission are connected in series has a problem in that the amount of regeneration energy is reduced because of the aforementioned engine friction so that the assist amount by the motor is restricted.","In the latter driving system, in order to reduce engine friction during deceleration, the amount of regeneration may be increased by reducing the pumping loss drastically through the use of an electronically controlled throttle mechanism for fully opening the intake and the exhaust valves during deceleration. However, when the intake and the exhaust valves are fully opened as described above, introduction of fresh air into the exhaust system during deceleration causes lowering of the temperatures of the catalyst and the A\/F (air fuel ratio) sensor, which results in causing a problem in that the optimum control of the exhaust gas will be degraded.","An object of the present invention is to provide a control system for a hybrid vehicle, capable of sufficiently ensuring the regeneration energy and capable of drastically improving the fuel consumption efficiency without deteriorating the optimum control of the exhaust gas.","A first aspect of the present invention provides a control device for a hybrid vehicle having an engine (for example, the engine E in the embodiment) and a motor (for example, the motor M in the embodiment) as driving sources of the vehicle, the motor stops assisting the output of the engine when the vehicle is decelerating, and said motor generates energy by regeneration braking depending upon the deceleration state; the device comprising: an engine which is a cylinder pause-type engine and which is capable of switching between the all-cylinder driving state, in which all of the cylinders are operating, and a cylinder paused driving state, in which at least one cylinder is paused; a cylinder pause state determination device (for example, step S shown in  in the embodiment) for determining whether the engine is in the all cylinder driving state or in a cylinder paused driving state; and a regeneration amount supplementing device (for example, step S shown in  in the embodiment) for supplementing the regenerative energy by the motor by use of the increment of deceleration regeneration energy obtained during the cylinder paused driving than deceleration energy obtained during the all-cylinder driving when the cylinder paused state is detected by said cylinder pause state detecting device and the engine is driven in the cylinder paused driving state.","According to the above constitution, since execution of the cylinder paused driving makes it possible to reduce the fuel consumption and to improve the regeneration efficiency of the motor by recovering the deceleration energy loss due to the pumping loss and the friction loss of the valve gear system, an effect is obtained in that the cylinder pausing operation makes it possible not only to improve the fuel consumption efficiency but also to increase the assisting frequency or the assisting amount by the motor to the amount of regeneration energy accumulated while executing the cylinder pausing operation.","According to a second aspect of the present invention, in the above control device for a hybrid vehicle, the cylinder pause state determination device prohibits cylinder paused driving (for example, step S shown in ) when the negative pressure in the brake master power cylinder (for example, the negative pressure MPGA in the brake master power cylinder in the embodiment), detected by the negative pressure detecting device (for example, the negative pressure sensor S), is close to the atmospheric pressure (for example, step S in the embodiment) and exceeds a threshold value (for example, the threshold value MPFCMG in the embodiment).","By the above constitution, since it is possible to preferentially maintain the pressure in the brake master power cylinder when the negative pressure is close to atmospheric pressure exceeding a threshold value by prohibiting the cylinder pausing operation, the cylinder pausing operation does not exert any deleterious influence on the brake system.","According to the third aspect of the present invention, the above control device for a hybrid vehicle controls the cylinder pausing operation so as to be executed while both of an air intake valve (for example, the air intake valve IV in the embodiment) and an exhaust valve of each cylinder (for example, the exhaust valve EV in the embodiment) are closed.","Accordingly, since it is possible to reduce the pumping loss and the friction loss during the cylinder pausing operation and to block inflow of fresh air into the exhaust system, an effect is obtained in which the fuel consumption efficiency can be improved extensively while preventing the temperature drop of the catalytic device and while executing appropriate control of the exhaust gas.","Furthermore, by constituting as described above, when the cylinder pause determination device has detected to execute the cylinder pausing operation, and while executing the cylinder pausing operation, if the regeneration by the motor is not necessary (for example, step S in  in the embodiments), it is possible to move the vehicle only by the motor while executing the cylinder pausing operation for responding to a request for acceleration by constituting to move the vehicle only by the motor (for example, step S in the embodiment) depending upon the driving state of the vehicle.","According to a fourth aspect of the present invention, in the above control device for a hybrid vehicle, the cylinder pausing operation by the cylinder pause state determination device is to enter all cylinders into the cylinder pausing operation.","Accordingly, since the cylinder pausing operation makes it possible to improve the regeneration efficiency by the motor by minimizing the pumping loss of the engine and the friction loss, one effect of the present invention can remarkably increase fuel consumption efficiency.","According to a fifth aspect of the present invention, in the above-described control device for a hybrid vehicle, the number of cylinders to be controlled in the cylinder pausing operation is more than one half of the total number of cylinders.","Accordingly, since it is possible to maintain at least a minimum amount of driving energy when the cylinder pause mechanisms are detected to be in an anomalous state, the vehicle safety is further increased.","According to a sixth aspect of the present invention, in the above control device for a hybrid vehicle, the cylinder pausing operation is performed by closing both air intake valve and the exhaust valve of each cylinder by each hydraulic-type variable valve timing mechanism, and the oil pressure control device (for example, the spool valve  in the embodiments) for supplying the oil pressure to said variable valve timing mechanism is disposed at a position which is the outermost position from the cylinder which does not execute the cylinder pausing operation.","According to the above aspect, since it is possible to dispose the cylinders provided with respective hydraulic-type variable valve timing mechanisms at the position where good oil pressure response can be obtained, an effect is obtained in which the response speed of the hydraulic-type variable valve timing mechanism becomes high because the operational delay of these mechanisms can be minimized.","According to a seventh aspect of the present invention, in the above control device for a hybrid vehicle, said cylinder pausing operation is executed either by the air intake valve closure operation or by the exhaust valve closure operation.","According to the above aspect, the present aspect makes it possible to simplify the structure of the cylinder system and to reduce the lowering of the combustion efficiency and the exhaust gas treatment.","According to the eighth aspect of the present invention, the above control device for a hybrid vehicle executes the fuel supply stop to the corresponding cylinder when anomaly is detected for said oil control device or said variable valve timing mechanism.","According to the above aspect, it is possible to improve the fuel consumption efficiency by stopping the fuel supply to anomalous cylinders and to protect the catalytic device by preventing fuel combustion downstream of the combustion chamber when the cylinder has recovered from the anomalous state.","Hereinafter, a first embodiment of the present invention is described with reference to the attached drawings.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 1","FIG. 1"]},"The driving of the motor M and the regenerative operation by the motor M are conducted by a power drive unit  according to control commands from a motor ECU . A battery  for sending and receiving electric energy to and from the motor M is connected to the power drive unit , and the battery  is constituted by, for example, a plurality of modules connected in series, wherein each module is constituted by a plurality of cells connected in series. Hybrid vehicles include a 12 V auxiliary battery  for driving various accessories. The auxiliary battery  is connected to the battery  via a downverter . The downverter , controlled by an engine electronic control unit FIECU , reduces the voltage from the capacitor  and charges the auxiliary battery .","The FIECU  controls, in addition to the motor ECU  and the above-described downverter , a fuel supply amount controller  for controlling the amount of fuel supplied to the engine E, a starter motor , an ignition timing etc. Therefore, the FIECU  receives a signal from a speed sensor Sfor detecting the vehicle speed V based on the rotation number of the driving shaft of the transmission, a signal from an engine rotational speed sensor (rotational speed detecting device) Sfor detecting the engine rotational speed NE, a signal from a shift position sensor Sfor detecting the shift position of the transmission T, a signal from a brake switch Sfor detecting the operation of a brake pedal , a signal from a clutch switch Sfor detecting the operation of a clutch pedal , a signal from a throttle valve opening sensor Sfor detecting the throttle opening state TH, and a signal from an air intake passage pressure sensor Sfor detecting the air intake passage pressure PB. In , reference numeral  denotes an electronic control unit CVTECU for controlling a CVT vehicle, and  denotes a battery ECU for calculating the remaining charge of the battery (SOC: state of charge of the battery).","The symbol BS represents a booster connected with a brake pedal , and a negative pressure sensor Sis provided with this booster Bs for detecting the negative pressure in a brake master power cylinder. Note that it is possible to employ the aforementioned intake passage pressure sensor Sin place of this negative pressure sensor S. This negative pressure sensor Sis connected to the FIECU . A catalyst device CAT is provided in the exhaust passage EP of the engine E and the catalyst device CAT is provided with a temperature sensor S, which is also connected to the engine ECU .","Here, the aforementioned engine E is a cylinder pause-type engine capable of switching the driving mode between all-cylinder operation and the all-cylinder pausing operation. As is schematically shown in , an intake valve IV and an exhaust valve EV of each cylinder of the engine E are constituted so as to be able to suspend driving through the variable valve timing mechanism VT. The variable valve timing mechanism VT is connected to the engine ECU .","The practical operations will be described in detail below with reference to .",{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 13","b":["51","51","52","53","52","54","54","54","54","62"],"i":["a ","b ","a ","b "]},"Furthermore, the valve drive rocker arms and for operating the valves are rotatably supported at the rocker arm shaft  adjacent to the rocker arms and for the lift cam . The distal ends of valve operating rocker arms and are constituted to push the respective top ends of the intake valve IV and the exhaust valve EV for opening these valves. The proximal ends (opposite end to the valve pushing ends) of the valve operating rocker arms and are configured so as to be able to slidably contact with a completely round cam  attached to the cam shaft .",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIGS. 14A and 14B","b":["54","55"],"i":["b ","a"]},"As shown in , adjacent to the cam lifting rocker arm and the valve operating rocker arm , a hydraulic chamber  is rotatably supported extending over the cam lifting rocker arm and the valve operating rocker arm . In the hydraulic chamber , a piston , and a release pin are slidably mounted, and a pin is biased to the cam lifting rocker arm through a pin spring . In the rocker arm shaft , oil passages  (and ) are defined through a partition portion S. The oil passage is communicated with the hydraulic chamber  on the side of the release pin through the opening  of the oil passage and the communication passage  of the cam lifting rocker arm , and the oil passage is communicated with the hydraulic chamber  so as to be connectable to the drain passage (not shown) on the side of the pin through the opening  of the oil passage and through the communication passage  of the valve operating rocker arm ","As shown in , when an oil pressure does not operate through the oil passage , the pin moves to a position riding over the cam lifting rocker arm and the valve operating rocker arm . In contrast, as shown in , when the oil pressure operates through the oil passage , the pin together with the release pin slide to the valve operating rocker arm opposing to the pin spring , the boundary portion of the pin with the release pin coincides with the boundary portion between the cam lifting rocker arm and the valve operating rocker arm so that the connection between the cam lifting rocker arm and the valve operating rocker arm is disconnected. Note that the intake valve side has the same structure. The oil passage and are connected to the oil pump  through a spool valve  as the hydraulic control device for maintaining the oil pressure of the variable valve timing mechanism VT.","Accordingly, when driving conditions by the all-cylinder pausing operation are satisfied, the spool valve  is actuated by the signal from the engine ECU , the hydraulic pressure operates to the hydraulic chamber  from the oil passage at both of the intake side and exhaust side through the oil pump . Then, the pins and and the release pins and , which are employed for uniting the cam lifting rocker arms and and the valve operating rocker arms and are displaced towards the valve operating rocker arm, and the connection between the cam lifting rocker arms and and the valve operating rocker arm and is disconnected.","That is, although the cam lifting rocker arms and are driven by rotation of the lift cam , the rotation of the lift cam  cannot be transmitted to the valve operating rocker arms and when the connection between the valve operating rocker arms and and the cam lifting rocker arms and  by the pins and the release pins are released. Since the valve operating rocker arms and are not driven, the valve IV and the valve EV are maintained in the closed state, thereby the all-cylinder paused driving can be realized.","[Main Processing of MA Start\/Basic Mode]","The main processing for the MA start\/basic mode is explained with reference to  to . This processing suspends operations of both the motor M and the starter motor . This processing is carried out for switching an MA (motor) start mode\u201d for starting by the motor M, a \u201cWAIT mode\u201d to enable starting by the starter motor , an \u201cMA basic mode\u201d for setting the driving mode of the motor M depending upon the state of the engine, and an \u201cMA (motor) F\/S (fail safe) processing mode\u201d in the case of a failure of the motor.","In step S, the start execution flag F_STCON by the starter is determined. This flag is set to \u201c1\u201d when the starter clutch is \u201cON\u201d. When it is determined in step S that the start by the starter is executed (F_STCON=1, STC signal ON), the flow proceeds to step S. When it is determined in step S that the start by the starter is not executed (F_STCON=0, STC signal NO), the flow proceeds to step S.","In step S, the starter switch ON start execution flag F_MGST is determined. When the starter switch is turned \u201cON\u201d, this flag is set to \u201c1, \u201d. When the starter switch is turned \u201cON\u201d (F_MGST=1), the flow proceeds to step S. When the starter switch is not turned \u201cON\u201d (F_MGST=0), the flow proceeds to step S.","In step S, a MT\/CVT flag F_AT is determined. When it is determined in step S that the vehicle is a MT vehicle (F_AT=0, NO), the flow proceeds to step S. When it is determined in step S that the vehicle is a CVT vehicle (F_AT=1, YES), the flow proceeds to step S.","In step S, a clutch interlock switch flag F_SWCLINLK is determined. When it is determined that the flag is interlocked (F_SWCLINLK=1, YES), the flow proceeds to step S. If not interlocked (F_SWLINLK=0, NO), the flow proceeds to step S.","In step S, a clutch switch ON flag F_CLSW is determined. When it is determined in step S that the clutch switch is disengaged (F_CLSW=1), the flow proceeds to step S. When it is determined in step S that the clutch switch is engaged (F_CLSW=0), the flow proceeds to step S.","In step S, the CVT in-gear determination flag F_ATNP is determined. When it is determined in step S that the vehicle is in-gear (F_ATNP=0), the flow proceeds to step S. When it is determined in step S that the vehicle is in the \u201cN or P position\u201d (F_ATNP=1), the flow proceeds to step S.","In step S, it is determined whether the engine rotation speed NE is equal to or less than the motor start rotation number #NESTMA (approximately 800 to 900 rpm having hysteresis) (NE\u2266#NESTMA). When it is determined in step S that the engine rotation speed NE satisfies the above condition (YES), a motor communication anomalous time starter start transition delay timer TSTB is set to a predetermined value of #TSTB, and in step S, a motor start time starter switch continuation time starter start shift delay timer is set to a predetermined value of #TSTB, and the flow proceeds to step S.","In step S, the motor is stopped for providing the \u201cWAIT mode\u201d and the control is completed. At this time, the starter is also stopped (F_STCON\u21900, STC signal OFF), the compulsory start can be executed from the state where both engine and starter have been stopped.","When it is determined in step S shown in  that the engine rotation speed NE is greater than the motor start rotation number #NESTMA (NE>#NESTMA), the flow proceeds to step S.","In step S, the starter switch determination flag F_STS is determined. This flag determines whether the starter switch is ON. When it is determined in step S that the starter switch is ON (F_STS=1), the flow proceeds to step S, wherein the start execution flag by the starter F_STCON is determined. When, in contrast, it is determined in step S that the starter switch is OFF (F_STS=0), the flow proceeds to step S, wherein the start execution flag by the starter F_STCON is determined.","When it is determined in Step S that the start by the starter is executed ((F_STS=1, STC signal ON), the flow proceeds to step S shown in FIG. . If it is determined in step S that the start by the starter is not executed ((F_STS=0, STC signal OFF), the flow proceeds to step S.","When it is determined in step S shown in  that the start by the starter is executed ((F_STCON=1, STC signal ON), the flow proceeds to step S. It it is determined that that the start by the starter is not executed ((F_STCON=0, STC signal OFF), the flow proceeds to step S.","In step S, a start mode maintenance timer TMOTST at the time of engine stop immediately after the starter switch has been turned OFF is set to a predetermined value #TMOTST and the flow proceeds to step S. In step S, a starter switch ON start execution flag F_MGST is set to \u201c1\u201d, and a restart execution flag by opening the throttle F_IDLREST is set to \u201c1\u201d.","Next, in step S, a cylinder pause execution determination is executed, and in step S, a determination processing is executed for the engine (IDLE) stop restart determination and the flow proceeds to step S. The cylinder pause execution determination is processing for determining whether the conditions to pause the cylinder is satisfied. The engine stop restart determination is processing for determining whether the engine stop is executed under a certain conditions when the vehicle is being stopped and for determining the restart of the engine, which has been stopped when a certain conditions are satisfied. Practically, it is determined whether the engine stop control is executed by determining whether an engine stop control flag F_FCM is \u201c1\u201d, and it is determined whether the engine stop control is not executed by determining whether an engine stop control flag F_FCM is \u201c0\u201d.","In step S, the engine stop control execution flag F_FCMG is determined depending on the determination in step S. When it is determined in step S that the engine stop control is executed (F_FCMG=1), the flow proceeds to S. When it is determined in step S that the engine stop control is not executed (F_FCMG=0), the flow proceeds to S.","In step S, MA (motor) start mode determination is executed. In this MA (motor) start mode determination, it is determined whether the start is executed by the motor or the starter motor by determining respective flags of an MA start improper mode determination flag F_STDISMA and a motor start mode determination flag F_STMODMA.","It is determined that the motor start is improper by determining the aforementioned MA start improper mode determination flag F_STDISMA and the motor start mode is determined by determining the motor start mode determination flag F_STMODMA.","In step S, the aforementioned MA start improper mode determination flag F_STDISMA is determined. When it is determined in step S that the MA start improper mode determination flag F_STDISMA=1 (YES), the flow proceeds to step S shown in FIG. . If it is determined in step S that the MA start improper mode determination flag F_STDISMA=0 (NO), the flow proceeds to step S.","In step S, the motor start mode determination flag F_STMODMA is determined. When it is determined in step S that the motor start mode determination flag F_STMODMA=1 (YES), the flow proceeds to step S. If it is determined in step S that the motor start mode determination flag F_STMODMA=0 (YES), the flow proceeds to step S.","In step S, it is determined whether the designated F\/S (fail safe) is already detected. When it is determined in step S that the designated F\/S (fail safe) is already detected (YES), that is, when it is detected that the motor is an anomalousstate, the flow proceeds to step S shown in FIG. . If it is determined in step S that no designated F\/S is detected (NO), that is, the motor is in a normal state, the flow proceeds to step S.","In step S, the start by the starter execution flag F_STCON is determined. when it is determined that the start by the starter is executed (F_STCON=1, the STC signal is ON), the flow proceeds to step S shown in FIG. . If the start by the starter is not executed (F_STCON=0, STC signal OFF), the flow proceeds to step S.","In step S, it is determined whether the engine water temperature TW is lower than the upper limit temperature #TWST (having hysteresis) for starting by the starter. This determination is executed in order to reduce the higher load applied to the motor when the engine water temperature TW is too low. When it is determined in step S that the engine water temperature is reasonably high (TW>#TWST) so as to be able to start by the motor without applying a load to the battery, the flow proceeds to step S shown in FIG. . If it determined in step S that the start by the motor is not appropriate and the start by the starter is desirable because the low engine water temperature is low (TW\u2266#TWST), the flow proceeds to step S shown in , and the motor is converted to the \u201cWAIT\u201d state, and the control operation is completed preparing the start by the starter (F_STCON\u21901, STC signal ON).","In step S of , it is determined whether the engine start by the motor M is possible based on the aforementioned communication information from the motor ECU  by determining whether the motor start available flag F_MOTSTB is \u201c1\u201d. When it is determined in step S that the motor is not in the standby state (F_MOTSTB=0, NO), the flow proceeds to step S. When it is determined in step S that the motor is in the standby state (F_MOTSTB=1, YES), the flow proceeds to step S.","In step S, it is determined whether the starter switch determination flag F_STS is \u201c1\u201d. When it is determined in step S that the starter switch is ON (YES), it is determined in step SA whether the motor start time starter switch continuation period starter start transition delay timer TSTB is \u201c0\u201d.","When it is determined in step SA that the timer is \u201c0\u201d (YES), the flow proceeds to step S, considering that a sufficient transition time has elapsed. When it is determined in step SA that the timer is not \u201c0\u201d (NO), and it is considered that the transition time is not sufficient, the flow proceeds to step S.","When it determined in step S that the starter switch is OFF (flag F_STS=0), the flow proceeds to step S, wherein the control converts to the \u201cMA (motor) start mode\u201d, wherein the start is executed by the motor M (F_STCON\u21900, STC signal OFF), and the control is completed.","When it is determined in step S shown in  that the engine stop control is executing and that F_FCMG=1 (YES), which means that the vehicle is decelerating, the flow proceeds to step S wherein the motor assist determination flag F_MAST is set to \u201c0\u201d and further proceeds to step S. In step S, it is determined whether the motor start available flag F_MOTSTB is \u201c1\u201d.","When the determination in step S indicates that the motor is not in the standby state (F_MOTSTB=0, NO), then, in steps S to step S, the starter switch ON start execution flag F_MGST, the running execution history flag F_MGVP, and the engine stop execution control flag F_FCMG are set to \u201c0\u201d, respectively, and the flow further proceeds to step S.","When it is determined in step  that the motor is in the standby state (F_MOTSTB=1, YES), the flow proceeds to step S. In step S, the motor communication anomalous time starter start transition delay timer TSTB is set to a predetermined value #TSTB, and the flow proceeds to step S.","In step S, it is determined whether the designated F\/S (fail safe) is already detected. When it is determined that the designated F\/S (fail safe) is detected, that is, when the motor is in an anomalous state, the flow proceeds to step S, wherein the operation is converted to the \u201cMA (motor) F\/S (fail safe) processing mode\u201d (F_STCON\u21900, STC signal OFF) and the control is completed.","If the determination in step S indicates that the designated F\/S is not detected (NO), that is, the motor is in a normal state, the flow proceeds to step S, wherein the operation is converted to the \u201cMA (motor) basic mode\u201d (F_STCON\u21900, STC signal OFF) and the control is completed.","[MA (Motor) Base Mode]","Next, the MA (motor) basic mode shown in step S of  will be explained based on the flowchart shown in  to .","The MA (motor) basic mode includes an \u201cidle mode\u201d, an \u201cidle stop mode\u201d, a \u201cdeceleration mode\u201d, a \u201ccruise mode\u201d, and an \u201cacceleration mode\u201d. In the idle mode, the fuel supply is restarted after the fuel has been cut and the engine is maintained in the idle state. In the idle stop mode, the engine is stopped under certain conditions, for example, when the vehicle is stopped. In the deceleration mode, regenerative braking is conducted by the motor M, and in the acceleration mode, the motor assists the driving of the vehicle by the engine, or the vehicle is driven by the motor, and in the \u201ccruise mode\u201d, the vehicle is driven by the engine while the motor M is stopped.","In step S, it is determined whether the MT\/CVT determination flag is \u201c1\u201d. When the determination indicates that the vehicle is a MT vehicle (NO), the flow proceeds to step S. If the determination in step S indicates that the vehicle is a CVT vehicle (YES), the flow proceeds to step S, wherein it is determined whether the CVT in-gear determination flag F_ATNP is \u201c1\u201d. When the determination in step S indicates that the CVT vehicle is in-gear (NO), the flow proceeds to step SA.","In step SA, it is determined whether the vehicle is in the switch back state (in the shift lever state) by determining based on the state of the switch back flag F_VSWB. When it is determined that the vehicle is in the switch back state (YES), the flow proceeds to step S, wherein the vehicle is converted to the \u201cidle mode\u201d and the control is completed. In the \u201cidle mode\u201d, the engine E is maintained in operation. If the determination in step SA indicates that the vehicle is in the switch back state (NO), the flow proceeds to step SA.","When it is determined in step S that the gear is in the N or P positions (YES), the flow proceeds to step S, wherein it is determined whether the engine stop control execution flag F_FCMG is \u201c1\u201d. If the determination in step S is \u201cNO\u201d, the flow proceeds to the \u201cidle mode\u201d in step S and the control is completed. When the determination in step S is \u201cYES\u201d, the flow proceeds to step S, wherein the operation is converted to the \u201cidle stop mode\u201d and the control is completed. In the \u201cidle stop mode\u201d, the engine E is stopped under certain circumstances such as at the time of vehicle stop.","In step S, it is determined whether the neutral position determination flag F_NSW is \u201c1\u201d. When the determination in step S is \u201cYES\u201d, that is, the gear is in the neutral position, the flow proceeds to step S shown in FIG. . If the result in step S is \u201cNO\u201d, that is, the gear is in the neutral position, the flow proceeds to step S, wherein it is determined whether a clutch connection determination flag F_CLSW is \u201c1\u201d. When the result is \u201cYES\u201d indicating it is determined that the clutch is in the \u201cdisconnected\u201d state, the flow proceeds to step S. When the determination in step S is \u201cNO\u201d, showing that the clutch is in the \u201cconnected\u201d state, and the flow proceeds to step SA.","In step SA, it is determined whether the remaining battery charge QBAT is higher than a low speed start determination remaining battery charge QBATJAM. When the determination is YES, that is, the remaining battery charge QBAT is higher than the low speed start determination remaining battery charge QBATJAM, the flow proceeds to step S. If the determination in step SA is NO, that is, the remaining battery charge QBAT is lower than the low speed start determination remaining battery charge QBATJAM, the flow proceeds to step SB.","In step SB, it is determined whether the low speed start determination flag F_JAMST is \u201c1\u201d. This low speed start determination flag F_JAMST is the flag which is determined to be \u201c1\u201d when the vehicle travels at a very low speed without accelerating. When the determination in step SB is YES, that is, the vehicle is traveling at a very low speed, the flow proceeds to step S shown in FIG. . If the determination in step SB is NO, that is, the vehicle is not traveling very slowly, the flow proceeds to step S. That is, when the remaining battery charge is low, and the vehicle speed is also low, it is determined that the driver does not intend to accelerate the vehicle, and that the vehicle should be operated in the idle mode or the engine stop mode in order to improve the fuel consumption efficiency.","In step S, it is determined whether the IDLE determination flag F_THIALMG is \u201c1\u201d. When the determination is NO, that is, when the throttle is totally closed, the flow proceeds to step S. If the determination in step S is YES, that is, the throttle is not totally closed, the flow proceeds to step SA, wherein the engine rotation speed increment flag F_NERGNUP for judgement at the time of half-engaged clutch is set to \u201c0\u201d, and the flow proceeds to step S. Note that this engine rotation speed increment flag F_NERGNUP for judgement at the time of half-engaged clutch will be described later.","In step S, it is determined whether the motor assist determination flag F_MAST is \u201c1\u201d. This flag is used to determine whether the engine is assisted by the motor M, and when the flag is \u201c1\u201d it is determined that the assistance by the motor is requested, and when the flag is \u201c0\u201d, it is determined that no assistance is requested. Note that this motor assist determination flag is determined in response to the driver's desired acceleration (such as by depression of the acceleration pedal), remaining battery charge, the intake passage pressure, and the vehicle speed.","When the determination in step S is \u201cNO\u201d, the flow proceeds to step S. When the determination is \u201cYES\u201d, the flow proceeds to step S.","In step S, it is determined whether the MT\/CVT determination flag F_AT is \u201c1\u201d. If the result is \u201cNO\u201d, that is, if it is determined that the vehicle is an MT vehicle, the flow proceeds to step S. When the determination in step S is \u201cYES\u201d, that is, when the vehicle is the CVT vehicle, the flow proceeds to step S, wherein it is determined whether the reverse position determination flag F_ATPR is \u201c1\u201d. When the determination is \u201cYES\u201d, that is, the gear is in the reverse position, the flow proceeds to step S, and when the determination is \u201cNO\u201d, that is, it is determined that the gear position is not the reverse position, the flow proceeds to step .","In step S, it is determined whether the MT\/CVT determination flag F_AT is \u201c1\u201d. If the determination is \u201cNO\u201d indicating that the vehicle is an MT vehicle, the flow proceeds to step S shown in FIG. .","In step S, it is determined whether the final charge command value REGENF is less than \u201c0\u201d. When the determination is \u201cYES\u201d, that is, the value is less than 0, the flow proceeds to step S for executing the \u201cacceleration mode\u201d, and the control is completed.","When the determination in step S is \u201cNO\u201d, that is, the final charge command value is greater than 0, the control is completed.","When the determination in step S is \u201cYES\u201d, that is, the vehicle is a CVT vehicle, the flow proceeds to step S, wherein it is determined whether the brake ON determination flag F_BKSW is \u201c1\u201d. When the determination instep S is \u201cYES\u201d, that is, the brake is depressed, the flow proceeds to step S. When the determination in step S is \u201cNO\u201d indicating that the brake is not depressed, the flow proceeds to step S.","In step S, it is determined whether the engine vehicle speed is \u201c0\u201d. When the determination is \u201cYES\u201d, indicating that the vehicle speed is 0, the flow proceeds to step S shown in FIG. . If the determination in step S is \u201cNO\u201d indicating that the vehicle speed is not 0, the flow proceeds to step S.","In step S, it is determined whether the engine stop control execution flag F_FCMG is \u201c1\u201d. When the determination indicates that the flag is \u201c0\u201d (NO), the flow then proceeds to step S in FIG. . If the determination in step S indicates that the flag is \u201c1\u201d (YES), the flow proceeds to step S shown in FIG. .","In step S shown in , it is determined whether the shift change forced REGEN release determination processing delay timer TNERGN is \u201c0\u201d. When the determination in step S indicates that the shift change forced REGEN release determination processing delay timer TNERGN is \u201c0\u201d (YES), the flow proceeds to step S. If the determination in step S is not \u201c0\u201d (NO), the flow proceeds to step S.","In step S, it is determined whether the rate of change of the engine rotation speed DNE is lower than the value of a DNE subtracted REGEN determination engine rotation speed #DNRGNCUT. Here, the DNE subtracted REGEN determination engine rotation speed #DNRGNCUT is the changing rate DNE of the engine rotation speed NE which serves as a standard for determining whether the amount of power generation is subtracted in response to the changing rate DNE of the engine rotation speed NE.","When it is determined in step S that the engine rotation speed NE is remarkably reduced (the reduction rate) (YES), the flow proceeds to step S. In step S, the engine rotation speed increment flag F_NERGNUP for judgement at the time of half-engaged clutch is set to \u201c1\u201d and the flow proceeds to step S shown in FIG. .","The engine rotation speed increment flag F_NERGNUP for judgement at the time of the half-engaged clutch is provided by the following reasons. In order to prevent the determination in step S (described later) from hunting at each time when the engine rotation speed NE changes when the clutch is half-engaged, the engine rotation speed NE is increased when the clutch is half-engaged. In order to make clear, the engine rotation speed increment flag F_NERGNUP at the time of half-engaged clutch is provided.","When it is determined in step S that the engine rotation speed is increased or the reduction of the engine rotation speed is low (NO), the flow proceeds to step S.","In step S, it is determined whether the MT\/CVT determination flag F_AT is \u201c1\u201d. When the determination in step S indicates that the vehicle is an MT vehicle (F_AT=0, NO), the flow proceeds to step S. When the determination in step S indicates that the vehicle is a CVT vehicle (F_AT=1, YES), the flow proceeds to step S.","In step S, it is determined whether the half-engaged clutch judgement flag F_NGRHCL is \u201c1\u201d. When the determination indicates that the vehicle is in the half-engaged clutch state (YES), the flow proceeds to step S. When the determination indicates that the vehicle is not in the half-engaged clutch state (NO), the flow proceeds to step S.","In step S, a comparison is made between the previous gear position NGR and the present gear position NGR, in order to determine whether the gear position has been shifted up. When the gear positions have not been shifted up (NO), the step proceeds to step S. When, in contrast, the gear positions have been up-shifted (YES), the step proceeds to step S. When the vehicle is in the half-engaged clutch state, in order to prevent the clutch from wear due to the rotation of the motor during the cruise mode, the flow proceeds to step S, and thereafter the operation is changed to the idle mode. In contrast, since the engine rotation speed is reduced when the gear position has been shifted up from the half-clutch state, the flow proceeds to step S and thereafter changes to the idle mode, it is not appropriate to conduct the cruise power generation.","In step S, it is determined whether the engine rotation speed increment flag F_NERGNUP for judgement at the time of the half-engaged clutch is \u201c1\u201d. When the determination in step S is YES, and the flag is set to \u201c1\u201d, that is, it is determined that it is necessary to increase the engine rotation speed at the half-engaged clutch state, the flow proceeds to step S, wherein the increment rotation speed #DNERGNUP for preventing hunting is added to the lower limit engine rotation speeds #NERGNLx for the battery charge which are set for each gear position and the engine rotation speed for charging lower limit NERGNL is set to the thus added value, and the flow proceeds to step S. When the determination in step S indicated that the flag is reset (=0) and that it is not necessary to increment the engine rotation speed (NO), the flow proceed to step S, wherein the engine rotation speed lower limit NERGNL is set to the engine rotation speed for charging #NERGNLx set for each gear position, and the flow proceeds to step S.","Subsequently, in step S, it is determined whether the engine rotation speed NE is lower than the engine rotation speed lower limit NERGNL for the battery charge. When the determination in step S indicates that the engine rotation speed NE is equal to or lower than the engine rotation speed lower limit NERGNL for the battery charge (NE\u2266NERGNL, YES), the flow proceeds to step S. When the determination in step S indicates that the engine rotation speed NE is high (NE>NERGNL, NO), the flow proceeds to step S in FIG. . In step S in , a comparison is made between the vehicle speed VE and the deceleration mode brake judgement lower limit vehicle speed #VRGNBK. Note that this deceleration mode brake judgement lower limit vehicle speed #VRGNBK has hysteresis.","In step S, when the determination indicates that the vehicle speed VE\u2266(the deceleration mode brake judgement lower limit vehicle speed #VRGNBK) (YES), the flow proceeds to step S. When it is indicated that vehicle speed VE>the deceleration mode brake judgement lower limit vehicle speed #VRGNBK (NO), the flow proceeds to step S. In step S, it is determined whether the brake ON determination flag F_BKSW is \u201c1\u201d. When the determination in step S indicates that the brake is depressed (YES), the flow proceeds to step S. When it is determined that the brake is not depressed (NO), the flow proceeds to step S.","In step S, it is determined whether the IDLE determination flag F_THIDLMG is \u201c1\u201d. When the determination indicates that the throttle is totally closed (NO), the flow proceeds to step S and the control is completed. Note that in the deceleration mode, regenerative braking by the motor M is executed. When the determination in step S indicates that the throttle is not totally closed (YES), the flow proceeds to step S.","In step S, it is determined whether the deceleration fuel cut execution flag F_MADECFC is \u201c1\u201d. This flag determines to cut the fuel supply when the vehicle speed is high.","When the determination in step S indicates that the fuel supply is being cut (YES), the flow proceeds to step S. When the determination in step S indicates that the fuel supply still continues (NO), the flow proceeds to step S.","In step S, it is determined whether the cylinder pause execution flag F_CSCND is \u201c1\u201d. This cylinder pause execution flag F_CSCND is a flag of which value is set later in , and when this flag value is \u201c1\u201d, all of the cylinder are paused and when this flag value is \u201c0\u201d, all of the cylinders are operated.","When the determination in step S indicates that the cylinder pause execution flag is \u201c1\u201d and that all of the cylinders are paused (YES), the flow proceeds to step S for changing the drive mode to the acceleration mode. When the determination in step S indicates the cylinder pause execution flag is \u201c0\u201d and that all of the cylinders are in operation (NO), the flow proceeds to step S for changing the drive mode to the cruise mode. In this cruise mode, the motor M does not rotates and the vehicle travels by the engine. In some cases, the motor is operated for regenerative operation or the motor is operated as a generator for charging the battery .","[Cylinder Pause Execution Determination]","Next, the cylinder pause execution determination in step S in  will be described based on the flowchart shown in FIG. . This cylinder pause execution determination determines whether the all-cylinder paused driving is executed at the time of deceleration or low load cruising. This determination is carried out for improving the fuel consumption efficiency and this process is thus employed during deceleration mode or acceleration mode.","Here, the all-cylinder paused driving means to totally close the intake valves and the exhaust valves of all cylinders. Practically, when it is determined to execute the cylinder pausing operation based on the flowchart shown in  (which is described later), the variable valve timing mechanism VT is actuated, as shown in , based on the signal from the FIECU both intake valves IV and exhaust valves EV are closed.","In step S, it is determined whether the engine rotation speed NE is within a predetermined range (NECSL<NE<NECSH). When the determination in step S indicates that the engine rotation speed is within a predetermined range (YES), the flow proceeds to step S. When the determination in step S indicates that the engine rotation speed is out of the predetermined range (NO), the flow proceeds to step S, wherein the cylinder pause execution flag F_CSCND is set to \u201c0\u201d, and the control is completed.","In step S, it is determined whether the air intake passage pressure PBA is within a predetermined range. When the determination in step S indicates that the air intake passage pressure PBA is within a predetermined range (YES), the flow proceeds to step S. When the determination in step S indicates that the air intake passage pressure PBA is out of the predetermined range (NO), the flow proceeds to step S.","In step S, it is determined whether the vehicle speed VP is within a predetermined range (VPCSL<VP<VPCSH). When the determination instep S indicates that the vehicle speed is within a predetermined range (VPCSL<VP<VPCSH), the flow proceeds to step S. When the vehicle speed is out of the predetermined range (NO), the flow proceeds to step S.","In step S, it is determined whether the throttle opening TH is within a predetermined range (THCSL<TH<THSH). When it is determined in step S that the throttle opening is within a predetermined range (YES), the flow proceeds to step S. When it is determined in step S that the throttle opening is out of the predetermined range (YES), the flow proceeds to step S. When the throttle opening is low, it is estimated that the vehicle is decelerating. In addition, it is possible to use the changing rate of the throttle opening \u0394TH at the lower opening range as one of conditions in which vehicle mode is changing towards the deceleration side.","Next, in step S, a comparison is made between the negative pressure in the brake master power cylinder MPGA and the all-cylinder pause execution brake master power cylinder upper limit negative pressure #MPFCMG. When the comparison indicates that the negative pressure in the brake master power cylinder MPGA is higher than the all-cylinder pause execution brake master power cylinder upper limit negative pressure #MPFCMG, that is, the negative pressure in the brake master power cylinder MPGA is close to the atmospheric pressure (MPGA\u2267#MPFCMG, YES), the flow proceeds to step S. When the comparison in step S indicates that the negative pressure in the brake master power cylinder MPGA is lower negative side than the all-cylinder pause execution brake master power cylinder upper limit negative pressure #MPFCMG (MPGA<#MPFCMG, NO), the flow proceeds to step S. This condition is set because it is not preferable to execute the all-cylinder pausing operation when the negative pressure in the brake master power cylinder MPGA is not sufficiently obtained.","In step S, a comparison is made between the temperature of the catalytic device TCAT and the optimum temperature TO of the catalytic device. When the comparison in step S indicates that the temperature of the catalytic device TCAT is lower than the optimum temperature of the catalytic device TO (TCAT\u2266TO, NO), the flow proceeds to step S. If the all-cylinder pausing operation is executed when the temperature of the catalytic device is not sufficiently high, this is not preferable because the temperature of the catalytic device will further decreased because neither the exhaust gas nor fresh air will flow in the passage. When the determination instep S indicates that the temperature of the catalytic device TCAT is higher than the optimum temperature of the catalytic device TO (TCAT>TO, NO), the flow proceeds to step S, wherein the cylinder pause execution flag F_CSCND is set to \u201c1\u201d, and the control is completed.","That is, the cylinder pause execution is permitted only when the aforementioned step S, step S, step S, step S, step S, and step S are fulfilled, and the control is executed with reference to the cylinder pause execution flag F_CSCND.","[Deceleration Mode]","The deceleration mode will be explained with reference to flowcharts shown in . In step S, it is determined whether the cylinder pause execution flag F_CSCND is \u201c1\u201d. When the determination indicates that the cylinder pausing operation is executing (YES), the flow proceeds to step S. When the determination indicates that the cylinder pausing operation is not executing (NO), the flow proceeds to step S.","In step S, it is determined whether the brake switch flag F_BKSW is \u201c1\u201d. When the determination indicates that the brake is in the ON state (YES), the flow proceeds to S, wherein deceleration regeneration calculation values DECRGN for a MT vehicle as well as for a CVT vehicle are obtained by retrieving a REGENBR table, and the flow proceeds to step S. In step S, a deceleration regeneration correction value DRGVEL is obtained based on the average consumption current VELAVE by retrieving the #DRGBVEL table, and the flow proceeds to step S.","When the determination in step S indicates that the brake is in the OFF state (NO), the deceleration regeneration calculation values DECRGN for the MT vehicle and the CVT vehicle are obtained by retrieving the \u201cREGEN table, and the flow proceeds to step S. In step S, the deceleration regeneration correction value is obtained based on the average consumption current VELAVE by retrieving the #DRGVELN table, and the flow proceeds to step S. Here, the average consumption current VELAVE is introduced in order to secure the amount of regeneration when the current consumption by the 12V auxiliary battery increases.","In step S, it is determined whether the remaining battery charge QBAT is higher than a predetermined remaining battery charge #QBCRSR. When the determination indicates that the remaining batter charge QBAT is higher than the predetermined remaining battery charge #QBCRSR (YES), the flow proceeds to step S. In contrast, when the determination indicates that the remaining battery charge QBT is lower than the predetermined remaining battery charge #QBCRSR (NO), the flow proceeds to step S shown in FIG. .","In step S, it is determined whether the vehicle speed VP is higher than a predetermined vehicle speed #VRSMS. When the determination indicates that the vehicle speed VP is higher than the predetermined vehicle speed #VRSMS (YES), the flow proceeds to step S. When the determination indicated that the vehicle speed VP is lower than the predetermined vehicle speed #VRSMS (NO), the flow proceeds to step S shown in FIG. . Note that both of the aforementioned predetermined remaining battery charge #QBCRSRH and the predetermined vehicle speed #VRSMS have hystereseses.","In step S, a new deceleration regeneration calculation value DECRGN is obtained by multiplying a coefficient #KRSMS with the deceleration regeneration calculation value DECRGN, and the flow proceeds to step S in FIG. . That is, when it is determined in step S that a certain degree of the remaining battery charge QBT is remaining, and when it is determined in step S that the vehicle speed is high, the driver of the vehicle feels that the vehicle is decelerating if the regeneration braking is high. The driver thereby depresses the brake pedal, and the hunting may takes place. The above correction for reducing the deceleration regeneration calculation value DECRGN by multiplying the coefficient #KRSMS is conducted by preventing the above hunting.","When the determination in step S indicates that the cylinder pausing operation is executing (YES), the flow proceeds to step S. In step S, it is determined whether the remaining battery charge QBAT is higher than the pause cylinder regeneration execution upper limit remaining charge #QBATRCS. When the determination indicates that the remaining battery charge QBAT is higher than the pause cylinder regeneration execution upper limit remaining charge #QBATRCS (YES), the flow proceeds to step S. When the determination in step S indicates that the remaining battery charge QBAT is lower than the pause cylinder regeneration execution upper limit remaining charge #QBATRCS (NO), the flow proceeds to step S.","As described above, the control is executed so as to secure a higher amount of regeneration in the case that the cylinder pausing operation is executed than the case that the cylinder pausing operation is not executed. Thus, a restriction is provided in order to prevent the battery from overcharging by prohibiting to proceed to step S for executing the cylinder pausing operation.","In step S, it is determined whether the brake switch flag F_BKSW is \u201c1\u201d. When the determination indicates that the brake is in the ON state (YES), the flow proceeds to step S, wherein the deceleration regeneration calculation values DECRGN for the MT vehicle and the CVT vehicle are obtained by retrieving the #REGENBRCS table, and the flow further proceeds to step S. Note that the deceleration regeneration calculation values DECRGN obtained by retrieving the #REGENBRCS table are incremented than the deceleration regeneration calculation values DECRGN obtained by retrieving the deceleration regeneration calculation DECRGNBR table.","In step S, a deceleration regeneration correction value DRGVEL is obtained based on the average consumption current VELAVE by retrieving the #DRGBVEL table, and the flow proceeds to step S.","When the determination in step S indicates that the brake is in the OFF state (NO), the flow proceeds to step S, wherein the deceleration regeneration calculation values DECRGN for the MT vehicle and the CVT vehicle are obtained by retrieving the #REGENCS table, and the foow further proceeds to step S. Note that the deceleration regeneration calculation values DECRGN for the MT vehicle and the CVT vehicle are obtained by retrieving the #REGENCS table are incremented than the deceleration regeneration calculation value DECRGN obtained in step S. In step S, the deceleration regeneration correction value DRGVEL is obtained based on the average consumption current VALAVE by retrieving the #DRGVELN table, and the flow proceeds to step S.","In step S, it is determined whether the remaining battery charge QBAT is higher than the predetermined remaining battery charge #QBCRSR. When the determination indicates that the remaining battery charge QBAT is higher than a predetermined remaining battery charge #QBCRSRH (YES), the flow proceeds to step S. When the determination indicates that the remaining battery charge QBAT is lower than a predetermined remaining battery charge #QBCRSRH (NO), the flow proceeds to step S shown in FIG. .","In step S, it is determined whether the vehicle speed VP is higher than the predetermined vehicle speed #VRSMS. When the determination indicates that the vehicle speed VP is higher than a predetermined vehicle speed #VERMS (YES), the flow proceeds to step S. When the determination indicates that the vehicle speed VP is lower than a predetermined vehicle speed #VRSMS (NO), the flow proceeds to step S shown in FIG. . Note that the aforementioned predetermined remaining battery charge #QBCRSRH and the aforementioned predetermined vehicle speed #VRSMS have hysteresises, respectively.","In step S, the deceleration regeneration computation value DECRGN is set to a new deceleration regeneration computation value DECRGN, which is obtained by multiplying a coefficient #KRSMS to the original deceleration regeneration computation value DECRGN, and the flow proceeds to step S in FIG. . That is, as described above, when it has been determined in step S that a certain degree of remaing charge femains in the battery and when it has been determined in step S that the vehicle speed is high, the driver feels that the vehicle is decelerating if the deceleration braking is high. The driver will thereby depresses the accelerator pedal, and the hunting takes place. The deceleration regeneration computation value DECRGN is reduced by multiplying the coefficient #KRSMS in step S in order to prevent the vehicle from hunting.","Note that the #REGEN table employed in step S, the #REGENBR table employed in step S, the #REGENCS table employed in step S, and the #REGENBRCS table employed in step S have respective tables corresponding to respective gear positions.","In step S, it is determined whether the vehicle speed VP is higher than a predetermined vehicle speed #VPRGELL (for example, 20 km\/h). When the vehicle speed VP is higher than the predetermined speed #VPRGELL (YES), the flow proceeds to step S. When, in contrast, the vehicle speed VP is lower than the predetermined speed #VPRGELL (NO), the flow proceeds to step S.","In step S, it is determined whether the vehicle speed is lower than a predetermined vehicle speed #VPRGELH (for example, 90 km\/h). When the vehicle speed VP is lower than the predetermined speed #VPRGELH(YES), the flow proceeds to step S. When, in contrast, the vehicle speed VP is higher than the predetermined speed #VPRGELH (NO), the flow proceeds to step S. In step S, it is determined whether the engine rotation speed NE is higher than a predetermined value #NPRGELL. When the engine rotation speed NE is higher than the predetermined speed #NPRGELL (YES), the flow proceeds to step S. When, in contrast, the engine rotation speed NE is lower than the predetermined speed #NPRGELL (NO), the flow proceeds to step S.","In step S, a deceleration regeneration correction amount DRGVEL is added to the deceleration regeneration computation value DECRGN, and the flow proceeds to step S. When current consumption of the 12 V auxiliary battery is high, the amount of regeneration is increased for supplying to the battery 3 in order thereby to ensure the state of the battery charge.","In step S, it is determined whether the energy storage zone D flag F_ESZONED is \u201c1\u201d. When the remaining battery charge is in the D zone (YES), the flow proceeds to step S, wherein it is determined whether the deceleration regeneration permission flag F_DECRGN is \u201c1\u201d. Note that the D zone means that the remaining charge of the battery is within a range of 80% to 90 to 100%.","When the determination in step S indicates that the deceleration regeneration operation is not permitted (NO), the flow proceeds to step S, wherein the deceleration regeneration final computation value DECRGNF is set to \u201c0\u201d, and in step S, the deceleration regeneration permission flag F_DECRGN is set to \u201c0\u201d.","In addition, in step S, the deceleration regeneration final computation value DECRGNF (=0) is substituted for a final charge command value REGENF, and in step S, the final assist command value ASTPWR is set to \u201c0\u201d and the flow returns.","When the determination in step S indicates that the deceleration regeneration operation is permitted (YES), it is determined in step S whether the previous mode has been the deceleration mode. When the previous mode was not the deceleration mode (NO), the flow proceeds to step S. When the determination in step S that the previous mode was the deceleration mode (YES), the flow proceeds to step S, wherein it is determined whether the gradual subtraction update timer TDECRND is \u201c0\u201d.","In step S, when it has been determined that the gradual subtraction update timer TDECRND is not \u201c0\u201d (NO), in step S, the deceleration regeneration flag F_DECRGN is set to \u201c1\u201d, and the flow proceeds to step S.","When it has been determined in step S that the gradual subtraction update timer TDECRND is \u201c0\u201d (YES), the flow proceeds to step S wherein the gradual subtraction update timer TDECRND is set to a predetermined value #TMDECRND, and the flow proceeds to step S. In step S, a subtraction term #DDECRND is gradually subtracted from the deceleration regeneration final computation value DECRGNF. In subsequent step S, when the deceleration regeneration final computation value DECRGNF becomes less than \u201c0\u201d (YES), the flow proceeds to step S. When the deceleration regeneration final computation value DECRGNF is higher than \u201c0\u201d (NO), the flow proceeds to step S.","In step S, it is determined whether an energy storage zone D flag F_ESZONED is \u201c1\u201d, and if the determination indicates that the energy storage zone is not in the D zone (NO), the flow proceeds to step S.","In step S, it is determined whether the gradual subtraction update timer TDECRGN is \u201c0\u201d. When the determination in step S indicates that the gradual subtraction timer TDECRGN is \u201c0\u201d (YES), the flow proceeds to step S. When the determination in step S indicates that the gradual subtraction timer TDECRGN is not \u201c0\u201d (NO), the flow proceeds to step S.","In step S, the gradual subtraction update timer TDECRGN is set to a predetermined value #TMDECRGN. In step S, it is determined whether the deceleration regeneration computation value DECRGN is higher than the deceleration regeneration final computation value DECRGNF. When the determination in step S indicates the result is \u201cYES\u201d, the flow proceeds to step S, wherein the gradual addition amount #DDERNP is gradually added to the deceleration regeneration final computation value DECRGNF and in step S, it is determined again whether the deceleration regeneration computation value DECRGN is higher than the deceleration regeneration final computation value DECRGNF. When it has been determined that the deceleration regeneration computation value DECRGN is higher than the deceleration regeneration final computation value DECRGNF (YES), the flow proceeds to step S.","When it has been determined that the deceleration regeneration computation value DECRGN is lower than the deceleration regeneration final computation value DECRGNF (NO), the flow proceeds to step S, wherein the deceleration regeneration final computation value DECRGNF is substituted for the deceleration regeneration computation value DECRGN, and the flow proceeds to step S.","When the determination in step S indicates that the result is \u201cNO\u201d, the flow proceeds to step S, wherein the gradual subtraction amount #DDECRNM is subtracted from the deceleration regeneration final computation value DECRGNF, and in step S, it is determined whether the deceleration regeneration final computation value DECRGNF is higher than the deceleration regeneration computation value DECRGN. When the determination in step S indicates that the deceleration regeneration computation value DECRGNF is higher than the deceleration regeneration final computation value DECRGNF (NO), the flow proceeds to step S. When the determination in step s indicates that the deceleration regeneration final computation value DECRGNF is higher than the deceleration regeneration computation value DECRGN (YES), the flow proceeds to step S.","Note that, when the driver depresses the accelerator pedal during the deceleration regeneration operation, the driving mode of the vehicle is converted to the acceleration mode (as shown in Step S in FIG. ). If the driver starts the engine in the acceleration mode, the fuel consumption efficiency is deteriorated. In such a case, the fuel is cut and the vehicle is driven only by the motor M in order to improve the fuel consumption efficiency. Below, the acceleration mode is described.","[Acceleration Mode]","The acceleration mode will be described with reference to a flowchart shown in FIG. .","In step S, it is determined whether the vehicle is in the acceleration (assist) mode. When the vehicle is not in the acceleration mode (NO), the flow proceeds to step S, wherein the final assist command value ASTPWRF is set to \u201c0\u201d, and tyeflow further proceeds to step S.","When the determination in step S indicates that the vehicle is in the acceleration (assist) mode, the flow proceeds to step S, wherein the ordinary assist final computation value ACCASTF is substituted for the final assist command value ASTPWRF and the flow proceeds to step S.","In step S, an ordinary assist computation processing is executed. In subsequent step S, the motor output computation processing is executed and the flow proceeds to step S.","In step S, it is determined whether the cylinder pause execution flag F_CSCND is \u201c1\u201d. As described in , this cylinder pause execution flag F_CSCND is converted to \u201c1\u201d when certain conditions are satisfied.","When the determination in step S indicates that the cylinder pausing operation is executed (YES), the flow proceeds to step S. If the determination result indicates that the cylinder pausing operation is not executed (NO), the flow proceeds to step S. In step s, the final assist command value ASTPWRF is substituted for the ordinary assist final computation value ACCASTF.","In step S, the fuel cut flag F_FC is set to \u201c1\u201d for stopping the engine by cutting the fuel, and in subsequent step S, the final assist command value ASTPWRF is substituted for the motor output final computation value PMOTF obtained in step S. In step S, the vehicle is in a pure motor drive assist state wherein the vehicle travels only by the motor while the engine is stopped, and the flow proceeds to step S.","In step S, when the final assist command value ASTPWRF is set to the ordinary assist final computation value ACCASTF, the flow proceeds to step S, wherein the vehicle is in the ordinary assist state, where driving by the engine is assisted by the motor, and the flow proceeds to step S.","Subsequently, in step S, the assist amount upper limit value ASTVHG is obtained by retrieving a table. Accordingly, when the vehicle speed increases to a higher region where the motor assist is no longer necessary, the assist amount gradually decreases, which is advantageous in the energy management.","In step S, it is determined whether the final assist command value ASTPWRF is higher than the assist amount upper limit value ASTVHG, and when the determination result is \u201cYES\u201d, the flow proceeds to step S, wherein the assist amount upper limit value ASTVHG is set to the final assist command value ASTPWRF, and in step S, the final electric generation amount is set to \u201c0\u201d, and the flow returns. When the determination in step S is \u201cNO\u201d, the flow proceeds to step S.","Therefore, when the vehicle is driven only by the motor, the cylinder pausing operation is executed, such that the fuel is cut for improving the fuel consumption efficiency.","[Motor Output Computation Processing]","The \u201cmotor output computation processing in step S shown in  will be described below based on the flowchart shown in FIG. .","In step S, the MT\/CVT determination flag F_AT is determined. When it has been determined in step S that the vehicle is a MT vehicle (F_AT=0, NO), the flow proceeds to step S. In step S, the motor output #PMOTM, which is specified from both engine rotation speed NE and the throttle opening degree TH, is obtained by retrieving the map provided for the MT vehicle. The motor output PMOT is set to the motor output value #PMOTM and the flow proceeds to S. Note that this map includes values employed for respective gear positions.","When the determination in step S indicates that the vehicle is a CVT vehicle (F_AT=1, YES), the flow proceeds to step S. In step s, the motor output #PMOTC, which is specified from both the vehicle speed VP and the throttle opening degree TH, is obtained by retrieving the map provided for the CVT vehicle. Note that this map also includes values employed for respective gear positions.","In step S, it is determined whether the gradual subtraction update timer TPURMOT is \u201c0\u201d. When the gradual subtraction update timer TPURMOT is \u201c0\u201d (YES), the flow proceeds to step S. When it has been determined in step S that the gradual subtraction update timer TPURMOT is not \u201c0\u201d (NO), the flow returns.","In step S, the gradual subtraction update timer TPURMOT is set to a predetermined value #TMPURMOTT. In step S, it is determined whether the motor output computation value PMOT is higher than the motor output final computation value PMOTF.","When the determination in step S indicates \u201cYES\u201d, the gradual addition amount #DPMOTP is gradually added to the motor output final computation value PMOTF, and in step S, it is determined again whether the motor output computation value PMOT is higher than the motor output final computation value PMOTF.","When the determination in step S indicates that the motor output computation value PMOT is higher than the motor output final computation value PMOTF (YES), the flow returns.","When the determination in step S indicates that the motor output computation value PMOT is lower than the motor output final computation value PMOTF (NO), the flow proceeds to step S, wherein the motor output computation value PMOT is set to the motor output final computation value PMOTF, and the flow returns.","When the determination in step S has been \u201cNO\u201d, the flow proceed to step S, wherein the gradual subtraction amount #DPMOTP is gradually subtracted from the motor output final computation value PMOTF, and in step S, it is determined again whether the motor output computation value PMOT is lower than the motor output final computation value PMOTF.","When the determination in step S indicates that the motor output computation value PMOT is lower than the motor output final computation value PMOTF (YES), the flow returns. When the determination in step S indicates that the motor output computation value PMOT is higher than the motor output final computation value PMOTF (NO), the flow proceeds to step S.","According to the above embodiment, since the all-cylinder pausing operation allows reducing the pumping loss of the engine E and the friction of the valve gear system can be reduced in the present system, without cutting off the power transmission, as in the conventional case of providing a clutch between the engine E and the motor M, the present system increases the regeneration amount remarkably and improves the fuel consumption efficiency without causing any large efficiency drop in the power transmission system.","When it has been determined in step S shown in  to execute the all-cylinder pausing operation and during execution of the all-cylinder pausing operation, a higher amount of regeneration energy can be secured in step S shown in  than the ordinary regeneration energy obtained in step S shown in , so that it is possible to improve the fuel consumption efficiency and to increase the assisting frequency and the assist power by the motor by the increased amount of regeneration power obtained during the all-cylinder pausing operation.","Furthermore, as shown in , when the negative pressure MPGA in the brake master power cylinder is higher than the threshold value MPFCMG, which corresponds to the pressure nearer to the atmospheric pressure (step S), it is possible to preferentially hold the negative pressure in the brake master power cylinder by prohibiting the all-cylinder pausing operation, so that the all-cylinder pausing operation does not have a bad influence on the brake system.","In addition, as shown in , when the temperature of the catalytic device TCAT is lower than the catalytic device optimum temperature TO (step S), the engine can be operated by the all-cylinder driving operation by prohibiting the all-cylinder pausing operation (step S) in order to increase the temperature of the catalytic device TCAT. The temperature of the catalytic device can thereby be raised quickly and the proper control of the exhaust gas can be realized.","As explained above, in the all-cylinder pause state provided by fully closing both intake valves and the exhaust valves, it is possible to further reduce the mechanical loss including air-flow resistance comparing to the state where the intake valves and exhaust valves are opened. Furthermore, during the all-cylinder pausing operation, although a load is generated when a piston moves toward compression side, this load operates for lifting the piston when the piston moves toward expansion side. Thus, the load generated in the movement toward compression can be effectively utilized and the energy loss due to the load can be reduced.","In the all-cylinder pausing operation conducted by closing both intake valves and exhaust valves, it becomes possible to block inflow of fresh air, which results in preventing the temperature drop of the catalytic device and the A\/F sensor and executing a proper control of the exhaust gas. Accordingly, as described above, the all-cylinder pausing operation makes it possible to improve the fuel consumption efficiency remakably while executing the proper control of the exhaust gas without significantly reducing the efficiency of the power transmission system.","In addition, during the deceleration regeneration, if the driver depresses the accelerator pedal, the vehicle will be converted to the acceleration mode and if the engine is started in the acceleration mode, the fuel consumption rate will be deteriorated. In order to avoid the deterioration of the fuel consumption efficiency, the present invention provides a process of cutting the fuel in step S shown in  for moving the vehicle only by the motor as shown in step S in FIG. .","Next, the second embodiment of the present invention will be described with reference to  to .","In the second embodiment, one cylinder out of four cylinders is configured not to carry out the cylinder pausing operation, and the other three cylinders are cylinders which can carry out the cylinder pausing operation. Note that the number of cylinders which can execute the cylinder pausing operation are not limited and the number can be more than one half of the total cylinders.","Thus, the other structure of the second embodiment is the same as that of the first embodiment, and the processing procedures shown in  to  are also the same, so that the same components are denoted by the same reference numbers and their explanations are omitted.","In , the engine E comprises three cylinders each provided with a variable valve timing mechanism VT (the same as the first embodiment) at the air intake side and the exhaust side for executing the cylinder pausing operation and a regular cylinder which does not execute the cylinder pausing operation.","In , reference numeral  denotes an oil pump and  denotes a spool valve, and these oil pump  and the spool valve  are employed for supplying an oil pressure to the variable valve timing mechanism VT. The spool valve  is connected to the exhaust side of the oil pump . The cylinder pausing operation side passage  of the spool valve  is connected to the oil pressure passage of the above-described rock arm shaft , ad the cylinder pause release side passage  of the spool valve  I connected to the oil pressure passage . Note that the oil pressure passage and the oil pressure passage are defined each other by the partitioning portion S (see FIG. ).","A POIL sensor  is connected to the cylinder pause release side passage . The POIL sensor  monitors the oil pressure of the cylinder pause release side passage , which becomes low when executing the cylinder pausing operation and becomes high when the vehicle is normally driving.","As shown in , a fuel injection valve  is provided for each cylinder, and each fuel injection valve  is connected to FIECU . A knock sensor  is provided to a cylinder, which comprises a variable valve timing mechanism and each knock sensor is used for detecting blowout in the cylinder.","Here, it is noted the spool valve  is disposed at an outermost separated position from the cylinder, which does no execute the cylinder pausing operation. Note that reference symbol T\/C denotes a timing chain, reference numeral  denotes a POIL sensor, and  denotes a throttle valve.","A fuel supply control operation in the case that an anomaly is detected by the knock sensor  based on a flowchart shown in FIG. .","The flowchart is formed in order to execute an control operation at the time when the knock sensor  detects blowout of a cylinder. The control operation has an objective to maintain the driving force of the engine by the regular cylinder which does not execute the cylinder pausing operation when an anomaly is detected for a variable valve timing mechanism VT of a cylinder capable of executing the cylinder pausing operation and to cut the fuel supply to cylinders capable of executing the cylinder pausing operation. The following operations are repeated at a predetermined cycle.","In step S, the knock sensor signal is monitored and theflow proceed to step S. The blowout caused by malfunctions of pins and the release pins are detected in the above monitoring process. In step S, it is determined based on the monitoring results in step S whether an anomaly of the variable valve timing mechanism VT is generated. When the determination is \u201cYES\u201d, the flow proceeds to step S. When the determination is \u201cNO\u201d, the flow proceeds to step S.","In step S, it is determined whether all (three) cylinders are anomalous. If the determination is \u201cYES\u201d, the flow proceeds to step S, wherein the fuel supply to all cylinders are cut and the aforementioned processing is repeated. When the determination in step S is \u201cNO\u201d, the flow proceeds to step S, wherein the fuel supply is cut for a cylinder, which is detected as anomalous, and the aforementioned processing is repeated.","In step S, the POIL sensor signal is monitored and the flow proceeds to step S. It is possible to determine in S whether the pressure states of the cylinder pause side passage  and the cylinder pause release side passage  are normal. Next, in step S, it is determined based on the monitoring results whether the spool valve  is normal. When the determination is \u201cYES\u201d, the flow proceeds to step S. If the determination in step S is \u201cNO\u201d, the flow proceeds to step S and the above processing is repeated.","Accordingly, in the second embodiment, similarly to the first embodiment, since the pumping loss of the engine and the friction of the valve gear system can be reduced extensively, it is possible to sharply improve the fuel consumption efficiency by increasing the regeneration amount without causing a large efficiency reduction of te ower transmission system. In addition, the assisting frequency and the assisting amount by the motor can be increased to the amount of regeneration energy obtained in the all-cylinder paused driving.","Furthermore, since the engine of the present embodiment comprises one cylinder among four cylinders is a regular cylinder which does not execute the cylinder pausing operation, it is possible to preserve at least a minimum amount of driving force when the variable valve timing mechanism VT becomes anomalous, and to contribute increasing safety of the vehicle.","Furthermore, since it is possible to cut the fuel supply to all cylinders capable of executing the cylinder pausing operation when the spool valve  or the variable valve timing mechanisms VT for all cylinders are anomalous; and since it is possible to cut the fuel supply for a part of cylinders among cylinders capable of executing the cylinder pausing operation when a part of the variable valve timing mechanisms VT becomes anomalous, not only the fuel consumption efficiency can be improved but also the catalyst can be protected by preventing the combustion of the fuel in downstream of the combustion chamber when the cylinders are recovered from the anomalous state.","In addition, since the spool valve  is disposed at a position, which is the outermost position from the regular cylinder, the cylinders provided with the hydraulic-type variable valve timing mechanisms VT can be disposed where the response to the oil pressure is high, which minimizes the operational delay of the variable valve timing mechanisms and recovers the response speed.","The present invention is not limited to the above-described embodiments, and the cylinder pausing operation may be executed by a variety of parameters such as the remaining battery charge, the battery temperature, the engine water temperature, the brake switch S which indicates the driver's will to decelerate the vehicle, the brake oil pressure, the brake depressing force, and a slip signal of the ABS system.","In the above embodiments, an explanation is provided in the case that the cylinder pausing operation is executed while both air intake valve and the exhaust valve for each cylinder are closed. However, it is possible to execute the cylinder pausing operation while only the air intake valves are closed or while only the exhaust valves are closed. The above operation enables to simplify the structure of the cylinder system. When the cylinder pausing operation is executed while the air intake valve of each cylinder is closed, the temperature drop in the combustion camber can be minimized because no fresh air is introduced into the combustion chamber. In contrast, when the cylinder pause is executed while only the exhaust valve of each cylinder is closed, the reduction of the catalyst performance can be minimized, since fresh air is supplied to the catalyst located downstream of the exhaust passage. In addition, the variable valve timing mechanism not only performs opening and closing of the air intake and exhaust valves of the cylinder, but also linearly controls the lift amount, so that it I possible to control the target amount of recovery energy and to control the amount of regeneration.","The number of cylinders, which can be used for the cylinder pausing operation, is not limited but more than one is preferable."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIGS. 14A and 14B","FIG. 14A","FIG. 14B"]},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 17"}]},"DETDESC":[{},{}]}
