---
title: HDMI switching technology for the coupling of consumer electronic control and/or non-consumer electronic control devices in an audio/visual environment
abstract: A switching module, system and method facilitate communications between one or more non-CEC enabled devices and a television of an audio/visual (A/V) system. The switching module is able to accommodate both Consumer Electronic Control (CEC) enabled and non-CEC enabled devices for communication with the television. In response to user control of a user interface of the switching module, when a non-CEC enabled device is coupled to the switching module, a high definition multimedia interface (HDMI) input port of the HDMI switching module is selected and a default HDMI device type and corresponding HDMI logic address is set for the non-CEC enabled device. This information is displayed for the user by the television.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08286210&OS=08286210&RS=08286210
owner: Sony Electronics Inc.
number: 08286210
owner_city: Park Ridge
owner_country: US
publication_date: 20090702
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["PRIORITY NOTICE","COPYRIGHT NOTICE","FIELD OF THE INVENTION","BACKGROUND","DETAILED DESCRIPTION"],"p":["This application claims priority to U.S. Provisional Patent Application No. 61\/114,275 filed Nov. 13, 2008, which is hereby incorporated herein by reference.","A portion of the disclosure of this patent document may contain material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","The invention relates generally to digital audio\/visual communications. More particularly, the invention relates to facilitation of communications between one or more non-CEC enabled devices and\/or one or more CEC enabled devices and a television of an audio\/visual (A\/V) system.","In today's digital audio\/visual (A\/V) systems, devices of varying types and protocols need to be in communication with a television, such as a digital television (DTV). The data signal paths provided by multiple interfaces between devices of an A\/V system can and do vary in protocol and number. For example, a TV or DTV may communicate via multiple data signaling paths to the various modules connected to it, including High Definition Multimedia Interface (HDMI\u00ae) CEC, HDMI IC, HDMI Video, Universal Serial Bus (USB), Ethernet (wired or wireless), IEEE 1394 (so-called Firewire\u2122 or I-link\u2122), Bluetooth, and RF. HDMI\u00ae, for instance, is a digital audio\/visual connector interface capable of transmitting uncompressed and compressed streams, and can provide an interface between any compatible digital audio\/video (A\/V) source device, or module, and a compatible digital audio and\/or video monitor device, such as a TV. Using HDMI, audio, visual, status and control information may be transmitted via one cable in the system. Consumer Electronic Control (CEC) is a protocol used to control devices that are attached using HDMI. CEC features, as may be defined from time to time in the CEC Specification, include routing control, standby, system information, and feature abort.","A\/V devices that operate in accordance with the CEC control protocol are referred to herein as CEC enabled devices, and A\/V devices that do not operate in accordance with the CEC control protocol are referred to herein as non-CEC enabled devices. Examples of such A\/V device types which may be on a CEC bus connected to a television, in accordance with the CEC specification, include Player, Recorder and Tuner. These devices may communicate with the television via a set-top box (STB) or set-back box (SBB).","Skilled artisans will appreciate that elements in the figures are illustrated for simplicity and clarity and have not necessarily been drawn to scale. For example, the dimensions of some of the elements in the figures may be exaggerated relative to other elements to help to improve understanding of embodiments of the present invention.","While this invention is susceptible of embodiment in many different forms, there is shown in the drawings and will herein be described in detail specific embodiments, with the understanding that the present disclosure is to be considered as an example of the principles of the invention and not intended to limit the invention to the specific embodiments shown and described. In the description below, like reference numerals are used to describe the same, similar or corresponding parts in the several views of the drawings.","In this document, relational terms such as first and second, top and bottom, and the like may be used solely to distinguish one entity or action from another entity or action without necessarily requiring or implying any actual such relationship or order between such entities or actions. The terms \u201ccomprises,\u201d \u201ccomprising,\u201d or any other variation thereof, are intended to cover a non-exclusive inclusion, such that a process, method, article, or apparatus that comprises a list of elements does not include only those elements but may include other elements not expressly listed or inherent to such process, method, article, or apparatus. An element proceeded by \u201ccomprises . . . a\u201d does not, without more constraints, preclude the existence of additional identical elements in the process, method, article, or apparatus that comprises the element.","Reference throughout this document to \u201cone embodiment\u201d, \u201ccertain embodiments\u201d, \u201can embodiment\u201d or similar terms means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus, the appearances of such phrases or in various places throughout this specification are not necessarily all referring to the same embodiment. Furthermore, the particular features, structures, or characteristics may be combined in any suitable manner in one or more embodiments without limitation.","The term \u201cor\u201d as used herein is to be interpreted as an inclusive or meaning any one or any combination. Therefore, \u201cA, B or C\u201d means \u201cany of the following: A; B; C; A and B; A and C; B and C; A, B and C\u201d. An exception to this definition will occur only when a combination of elements, functions, steps or acts are in some way inherently mutually exclusive.","It will be appreciated that embodiments of the invention described herein may be comprised of one or more conventional processors and unique stored program instructions that control the one or more processors to implement, in conjunction with certain non-processor circuits, some, most, or all of the functions described herein. The non-processor circuits may include, but are not limited to, a radio receiver, a radio transmitter, signal drivers, clock circuits, power source circuits, and user input devices. As such, these functions may be interpreted as a method to perform functions such as acquisition of a new policy in accordance with certain embodiments consistent with the present invention. Alternatively, some or all functions could be implemented by a state machine that has no stored program instructions, or in one or more application specific integrated circuits (ASICs), in which each function or some combinations of certain of the functions are implemented as custom logic. Of course, a combination of the two approaches could be used. Thus, methods and means for these functions have been described herein. Further, it is expected that one of ordinary skill, notwithstanding possibly significant effort and many design choices motivated by, for example, available time, current technology, and economic considerations, when guided by the concepts and principles disclosed herein will be readily capable of generating such software instructions and programs and ICs with minimal experimentation.","An HDMI switching apparatus or module, herein referred to as an HDMI switching module, facilitates communication between not only CEC enabled devices and a television in an A\/V system but also between non-CEC enabled devices and the television. The HDMI switching module allows multiple HDMI inputs to be provided to a television. The switching module may be used as part of a set-back-box (SBB) or a set-top box (STB), or it may be used as a standalone module.","In an audio\/visual (A\/V) system operable to facilitate communications between multiple high definition multimedia interface (HMDI) input devices and digital television of the audio\/visual system, in addition to the HDMI switching module, there is the digital television, and one or more non-CEC enabled devices; there may also be one or more CEC enabled devices, as will be discussed. The HDMI switching module is operable to facilitate communications between the one or more non-CEC enabled devices and the digital television in accordance with user control of the HDMI switching module. In response to user control, an HDMI input port of the HDMI switching module is selected and a default HDMI device type and corresponding HDMI logic address is set for each non-CEC enabled device of the one or more non-CEC enabled devices and the HDMI switching module outputs the default HDMI device type of the non-CEC enabled device to the digital television which displays the non-CEC enabled device.","The switching module also accommodates the situation where one or more CEC enabled devices may be coupled to HDMI input ports of the switching module. When a CEC enabled device of the one or more CEC enabled devices is coupled to an HDMI input port of the HDMI switching module, the CEC enabled device polls a plurality of HMDI logical addresses of the HDMI switching module in priority order of first those logical addresses of the plurality of HDMI logical addresses that correspond to a CEC device type of the CEC enabled device and selects the first logical address of the plurality of HDMI logical addresses that is available. More specifically, the CEC enabled device polls the CEC bus in priority order of first those logical addresses of a plurality of HDMI logical addresses that correspond to a CEC device type of the CEC enabled device and selects the first logical address of the plurality of HDMI logical addresses that is available. The programmed processor controls the HDMI output port to output the first logic address and a logical device type of the first logic address selected by the CEC enabled device. As will be illustrated, when a CEC enabled device is connected to the CEC bus of the HDMI switching module, the module polls the logical address of the first device of the type corresponding to the type of the CEC enabled device. If it is not acknowledged, i.e. it is available and not taken by another device, then the CEC enabled devices knows that it is the first A\/V device of that type on the bus and takes that logical address. If, however, it is not acknowledged, the switching module tries the second logical address of its device type and so on until it finds an open logical address that is available and takes that. If the CEC enabled device tries all of the logical addresses of its specific type and finds all are in use, it then takes an \u201cunregistered\u201d address. It is noted that several devices may share this address so that the TV can access the address but it may be broadcast to several devices.","Referring now to , it can be seen that a number of A\/V devices , referenced as NV Device, , . . . , N-, N-, N , which may be CEC or non-CEC enabled devices, may be coupled to HDMI switching module  as shown. HDMI switching module  has a number of HDMI input ports , referenced as HDMI,, , . . . , M-, M, to which the A\/V devices  may connect. It can be seen that the number of A\/V Devices  need to match the number of HDMI input ports . The HDMI input ports  receive signals which are provided to processor or central processing unit (CPU) . CPU  is a programmed processor, operable to run code or software segments, that controls operation of the HDMI switching module and receives information about any of the one or more devices coupled to the plurality of HDMI input ports. CPU  controls user interface , which has a select and set element, such as that illustrated in , and a software segment running on the programmed processor . As shown, the output signal(s) of HDMI output port  may be provided to television  under control of CPU . The software segment may be an Internet video player, such as Microsoft's Windows media player, a DVD player, an Internet browser, etc.","In the case of one or more non-CEC enabled devices coupled to one or more HDMI input ports , in response to user control via the user interface , an HDMI input port of the HDMI switching module is selected and a default HDMI device type and corresponding HDMI logic address is set for each non-CEC enabled device coupled to the HDMI input port. The HDMI switching module CPU  causes the default HDMI device type of the non-CEC enabled device to be output via the HDMI output port  to the television which displays the non-CEC enabled device. A remote commander  may be used by the user to interface with user interface .","In the case of CEC enabled devices coupled to one or more of the HDMI input ports , such as a CEC enabled device so coupled polls the HMDI logical addresses of the CEC bus to which the HDMI switching module  is coupled in priority order of first those logical addresses of the plurality of HDMI logical addresses that correspond to a CEC device type of the CEC enabled device and selects the first logical address of the plurality of HDMI logical addresses that is available. The CEC control signal associated with the CEC enabled device will pass through the HDMI switcher module to the TV, the TV acknowledging the CEC command line and then displaying the logical device on the TV Menu screen, for instance. The programmed processor  controls the HDMI output port  to output the first logic address and a logical device type of the first logic address selected by the CEC enabled device. It can then be provided to the television  for display on the screen display element .","Conversely, as will be described in connection with , the user interface may interface a user with the television via a remote control or commander; screenshots of user interface via the television is illustrated extensively in  and -. In these instances, the user interface  of the television is used.","In diagram  of  the front and rear views of an exemplary HDMI switching module  is shown. The A\/V devices  may be coupled to a number of different HDMI Input Ports , , , ,  and HDMI output signal(s) are output via HDMI output port , illustrated in the rear view of the switching module. Again, as discussed, the A\/V devices  may be CEC as well as non-CEC devices as will be described. The front view of HDMI switching module illustrates an exemplary embodiment of the user interface for use by a user: HDMI indicators  and select\/set button , shown in this example as a toggle button. For non-CEC enabled devices, HDMI indicators  and select\/set button can together by used as part of the user interface to allow the user to first select which HDMI input port to set, using the HDMI indicators, and then to set the device type of the A\/V device coupled to the selected HDMI port, using the select\/set button. The HDMI output port  is controlled by the programmed processor to output the set default HDMI device type of the non-CEC enabled device coupled to that particular HDMI input port. This information may be provided to a television as shown in .","As previously described, the select and set element of the user interface of the HDMI switching module, in response to user manipulation selects an HDMI input port of the HDMI input ports to which a non-CEC enabled device of the is coupled and sets a default HDMI device type having a corresponding HDMI logic address that is mapped to the non-CEC enabled device. Consider the example of where an HDMI cable is connected from the output of a non-CEC enabled device to HDMI input port  in the back of the HDMI switcher. The \u201cSelect\/Set\u201d button  is used to toggle up\/down until the indicator, such as an LED indicator, associated with the HDMI input is lit. The select\/set button  can then be used to set the HDMI input port to the device type, such as recorder, player, tuner, etc., associated with HDMI input port. For example, the select\/set button may be held for an adequate period of time, such as 3-5 seconds, to perform this set function. This process may be repeated by the user for the rest of the A\/V devices coupled to the HDMI input ports.","In the case of CEC enabled devices coupled to the HDMI input ports, the user interface of the switching module is used less, as a particular CEC enabled device will manage the connection itself. Consider the case where a HDMI cable is used to connect the output of a CEC enabled device to another HDMI input port, such as HDMI input port , at the back of the HDMI switching module . The CEC enabled device polls a plurality of HMDI logical addresses of the CEC bus to which the HDMI switching module is coupled in priority order of first those logical addresses of the plurality of HDMI logical addresses that correspond to a CEC device type of the CEC enabled device and then selects for the CEC enabled device the first logical address of the plurality of HDMI logical addresses that is available. The programmed processor controls the HDMI output port to output the first logic address and a logical device type of the first logic address selected by the CEC enabled device. When no logical addresses of the plurality of HDMI logical addresses correspond to a device type of the CEC enabled device, the first logical address is an unregistered HDMI logical address of the HDMI switching module.","With regard to the CEC protocol specification, there are a number of Logical Addresses. The HDMI specification for CEC allows only 12 identified devices are on any CEC Bus. The specification of the CEC protocol only allows certain types of A\/V devices to be defined on any CEC Bus connected to a TV; these are:",{"@attributes":{"id":"p-0040","num":"0039"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["LOGICAL ADDRESS","DEVICE"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["0","TV"]},{"entry":["1","RECORDING DEVICE 1"]},{"entry":["2","RECORDING DEVICE 2"]},{"entry":["3","TUNER 1"]},{"entry":["4","PLAYBACK DEVICE 1"]},{"entry":["5","AUDIO SYSTEM"]},{"entry":["6","TUNER 2"]},{"entry":["7","TUNER 3"]},{"entry":["8","PLAYBACK DEVICE 2"]},{"entry":["9","RECORDING DEVICE 3"]},{"entry":["10","TUNER 4"]},{"entry":["11","PLAYBACK DEVICE 3"]},{"entry":["12","RESERVED"]},{"entry":["13","RESERVED"]},{"entry":["14","FREE USE"]},{"entry":["15","UNREGISTERED (AS INITIATOR ADDRESS)"]},{"entry":[{},"BROADCAST (AS DESTINATION ADDRESS)"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},"It has been mentioned the HDMI switching module described herein may be part of a SBB or STB coupled to a television, or it may be a stand-alone device. Referring now to , an example of an exemplary interactive cable or satellite television (TV) system  that uses a STB is shown.","The system  includes, at a head end of the service provider , a media server  for providing, on demand, movies and other programming obtained from a media database . The media server  might also provide additional content such as interviews with the actors, games, advertisements, available merchandise, associated Web pages, interactive games and other related content. The system  also includes an electronic programming guide (EPG) server  and a program listing database  for generating an EPG. Set-top box  can generally provide for bidirectional communication over a transmission medium  in the case of a cable STB . In other embodiments, bidirectional communication can be effected using asymmetrical communication techniques possibly using dual communication media\u2014one for the uplink and one for the downlink. In any event, the STB  can have its own Universal Resource Locator (URL) or IP address or other unique identifier assigned thereto to provide for addressability by the head end and users of the Internet.","The media server  and EPG server  are operatively coupled by transmission medium  to a set-top box (STB) . The transmission medium  may include, for example, a conventional coaxial cable network, a fiber optic cable network, telephone system, twisted pair, a satellite communication system, a radio frequency (RF) system, a microwave system, other wireless systems, a combination of wired and wireless systems or any of a variety of known electronic transmission mediums. In the case of a cable television network, transmission medium  is commonly realized at the subscriber's premises as a coaxial cable that is connected to a suitable cable connector at the rear panel of the STB . In the case of a Direct Satellite System (DSS), the STB  is often referred to as an Integrated Receiver Decoder (IRD). In the case of a DSS system, the transmission medium is a satellite transmission at an appropriate microwave band. Such transmissions are typically received by a satellite dish antenna with an integral Low Noise Block (LNB) that serves as a down-converter to convert the signal to a lower frequency for processing by the STB .","The exemplary system  further includes a TV , such as a digital television, having a display  for displaying programming, an EPG, etc. The STB  may be coupled to the TV  and various other audio\/visual devices  (such as audio systems, Personal Video Recorders (PVRs), Video Tape Recorders (VTRs), Video Cassette Recorders (VCRs) and the like), storage devices (e.g., hard disc drives) and Internet Appliances  (such as email devices, home appliances, storage devices, network devices, and other Internet Enabled Appliances) by an appropriate interface , which can be any suitable analog or digital interface. In one embodiment, interface  conforms to an interface standard such as the Institute of Electrical and Electronics Engineers (IEEE) 1394 standard, but could also be wholly or partially supported by a DVI interface (Digital Visual Interface-Digital Display Working Group, www.ddwg.org), HDMI or other suitable interface.","The STB  may include a central processing unit (CPU) such as a microprocessor and memory such as Random Access Memory (RAM), Read Only Memory (ROM), flash memory, mass storage such as a hard disc drive, floppy disc drive, optical disc drive or may accommodate other electronic storage media, etc. Such memory and storage media is suitable for storing data as well as instructions for programmed processes for execution on the CPU, as will be discussed later. Information and programs stored on the electronic storage media or memory may also be transported over any suitable transmission medium such as that illustrated as . STB  may include circuitry suitable for audio decoding and processing, the decoding of video data compressed in accordance with a compression standard such as the Motion Pictures Experts Group (MPEG) standard and other processing to form a controller or central hub. Alternatively, components of the STB  may be incorporated into the TV  itself, thus eliminating the STB . Further, a computer having a tuner device and modem may be equivalently substituted for the TV  and STB .","By way of example, the STB  may be coupled to devices such as a personal computer, video cassette recorder, camcorder, digital camera, personal digital assistant and other audio\/visual or Internet related devices. In addition, a data transport architecture, such as that set forth by an industry group which includes Sony Corporation and known as the Home Audio-Video Interoperability (HAVi) architecture may be utilized to enable interoperability among devices on a network regardless of the manufacturer of the device. This forms a home network system wherein electronic devices and Internet appliances are compatible with each other. The STB  runs an operating system suitable for a home network system such as Sony Corporation's Aperios\u2122 real time operating system. Other operating systems could also be used.","The STB  includes an infrared (IR) receiver  for receiving IR signals from an input device such as remote control or commander . Alternatively, it is noted that many other control communication methods may be utilized besides IR, such as wired or wireless radio frequency, etc. In addition, it can be readily appreciated that the input device  may be any device suitable for controlling the STB  such as a remote control or commander, personal digital assistant, laptop computer, keyboard or computer mouse. In addition, an input device in the form of a control panel located on the TV  or the STB  can be provided.","The STB  may also be coupled to an independent service provider (ISP) host  by a suitable connection including dial-up connections, DSL (Digital Subscriber Line) or the same transmission medium  described above (e.g., using a cable modem) to, thus, provide access to services and content from the ISP and the Internet. The ISP host  provides various content to the user that is obtained from a content database . STB  may also be used as an Internet access device to obtain information and content from remote servers such as remote server  via the Internet  using host  operating as an Internet portal, for example. In certain satellite STB environments, the data can be downloaded at very high speed from a satellite link, with asymmetrical upload speed from the set-top box provided via a dial-up or DSL connection.","While the arrangement illustrated in  shows a plurality of servers and databases depicted as independent devices, any one or more of the servers can operate as server software residing on a single computer. Moreover, although not explicitly illustrated, the servers may operate in a coordinated manner under centralized or distributed control to provide multiple services as a Multiple Service Operator (MSO) in a known manner. Additionally, the services provided by the servers shown in  may actually reside in other locations, but from the perspective of the user of STB , the service provider  serves as a portal to the services shown. Those skilled in the art will appreciate that the illustration of  represents a simplified depiction of a cable system configuration shown simply as service provider . The actual configuration of the service provider's equipment is more likely to follow a configuration defined by the CableLabs OpenCable\u2122 specification. The simplified illustration shown is intended to simplify the discussion of the service provider 's operation without unnecessarily burdening the discussion with architectural details that will be evident to those skilled in the art. Those details can be found in the publicly available CableLabs OpenCable\u2122 specification or in the text \u201cOpenCable Architecture (Fundamentals)\u201d by Michael Adams, Cisco Press, November 1999.","Referring now to , a typical system configuration for a digital set-top box  is illustrated. In this exemplary set-top box, the transmission medium , such as a coaxial cable, is coupled by a suitable interface through a diplexer  to an in-band tuner . Tuner  may, for example, include a broadcast in-band tuner for receiving video content. An out-of-band (OOB) tuner  is provided for receiving data transmissions, including ATM formatted SI data, and providing information to ATM Interface . A return path through diplexer  provides an OOB return path for outbound data (destined for example for the head end). A separate tuner (not shown) may be provided to receive conventional RF broadcast television channels. Modulated information formatted, for example, as MPEG-2 information is then demodulated at a demodulator . The demodulated information at the output of demodulator  is provided to a demultiplexer and descrambler circuit  where the information is separated into discrete channels of programming. The programming is divided into packets, each packet bearing an identifier called a Packet ID (PID) that identifies the packet as containing a particular type of data (e.g., audio, video, data). The demodulator and descrambler circuit  also decrypts encrypted information in accordance with a decryption algorithm to prevent unauthorized access to programming content, for example.","Audio packets from the demultiplexer  (those identified with an audio PID) are decrypted and forwarded to an audio decoder  where they may be converted to analog audio to drive a speaker system (e.g., stereo or home theater multiple channel audio systems) or other audio system  (e.g., stereo or home theater multiple channel amplifier and speaker systems) or may simply provide decoded audio out at . Video packets from the demultiplexer  (those identified with a video PID) are decrypted and forwarded to a video decoder . In a similar manner, data packets from the demultiplexer  (those identified with a data PID) are decrypted and forwarded to a data decoder .","Decoded data packets from data decoder  are sent to the set-top box's computer system via the system bus . A central processing unit (CPU)  can thus access the decoded data from data decoder  via the system bus . Video data decoded by video decoder  is passed to a graphics processor , which is a computer optimized to processes graphics information rapidly. Graphics processor  is particularly useful in processing graphics intensive data associated with Internet browsing, gaming and multimedia applications such as those associated with MHEG (Multimedia and Hypermedia information coding Experts Group) set-top box applications. It should be noted, however, that the function of graphics processor  may be unnecessary in some set-top box designs having lower capabilities, and the function of the graphics processor  may be handled by the CPU  in some applications where the decoded video is passed directly from the demultiplexer  to a video encoder. Graphics processor  is also coupled to the system bus  and operates under the control of CPU .","Many set-top boxes such as STB  may incorporate a smart card reader  for communicating with a so called \u201csmart card,\u201d often serving as a Conditional Access Module (CAM). The CAM typically includes a central processor unit (CPU) of its own along with associated RAM and ROM memory. Smart card reader  is used to couple the system bus of STB  to the smart card serving as a CAM (not shown). Such smart card based CAMs are conventionally utilized for authentication of the user and authentication of transactions carried out by the user as well as authorization of services and storage of authorized cryptography keys. For example, the CAM can be used to provide the key for decoding incoming cryptographic data for content that the CAM determines the user is authorized to receive.","STB  can operate in a bidirectional communication mode so that data and other information can be transmitted not only from the system's head end to the end user, or from a service provider to the end user of the STB , but also, from the end user upstream using an out-of-band channel. In one embodiment, such data passes through the system bus  to a modulator  through the diplexer  and out through the transmission medium . This capability is used to provide a mechanism for the STB  and\/or its user to send information to the head end (e.g., service requests or changes, registration information, etc.) as well as to provide fast outbound communication with the Internet or other services provided at the head end to the end user.","Set-top box  may include any of a plurality of I\/O (Input\/Output) interfaces represented by I\/O interfaces  that permit interconnection of I\/O devices to the set-top box . By way of example, and not limitation, a serial RS- port  can be provided to enable interconnection to any suitable serial device supported by the STB \u2032s internal software. Similarly, communication with appropriately compatible devices can be provided via an Ethernet port  (wired or wireless), a USB (Universal Serial Bus) port , an IEEE 1394 (so-called firewire\u2122 or i-link\u2122) or IEEE 1394 wide port , S-video port  or infrared port , or Bluetooth. Such interfaces can be utilized to interconnect the STB  with any of a variety of accessory devices such as storage devices, audio\/visual devices , gaming devices (not shown), Internet Appliances , etc.","I\/O interfaces  can include a modem (be it dial-up, cable, DSL or other technology modem) having a modem port  to facilitate high speed or alternative access to the Internet or other data communication functions. In one preferred embodiment, modem port  is that of a DOCSIS (Data Over Cable System Interface Specification) cable modem to facilitate high speed network access over a cable system, and port  is appropriately coupled to the transmission medium  embodied as a coaxial cable. Thus, the STB  can carry out bidirectional communication via the DOCSIS cable modem with the STB  being identified by a unique IP address. The DOCSIS specification is publicly available.","A PS\/2 or other keyboard\/mouse\/joystick interface such as  can be provided to permit ease of data entry to the STB . Such inputs provide the user with the ability to easily enter data and\/or navigate using pointing devices. Pointing devices such as a mouse or joystick may be used in gaming applications.","Of course, STB  also may incorporate basic video outputs  that can be used for direct connection to a television set such as  instead of (or in addition to) an IEEE 1394 connection such as that illustrated as . In one embodiment, Video output  can provide composite video formatted as NTSC (National Television System Committee) video. In some embodiments, the video output  can be provided by a direct connection to the graphics processor  or the demultiplexer\/descrambler  rather than passing through the system bus  as illustrated in the exemplary block diagram. S-Video signals from output  can be similarly provided without passing through the system bus  if desired in other embodiments.","The infrared port  can be embodied as an infrared receiver  as illustrated in , to receive commands from an infrared remote control , infrared keyboard or other infrared control device. Although not explicitly shown, front panel controls may be used in some embodiments to directly control the operation of the STB  through a front panel control interface as one of interfaces . Selected interfaces such as those described above and others can be provided in STB  in various combinations as required or desired.","STB  will more commonly, as time goes on, include a disc drive interface  and disc drive mass storage  for user storage of content and data as well as providing storage of programs operating on CPU . STB  may also include floppy disc drives, CD ROM drives, CD R\/W drives, DVD drives, etc. CPU , in order to operate as a computer, is coupled through the system bus  (or through a multiple bus architecture) to memory . Memory  may include a combination any suitable memory technology including Random Access Memory (RAM), Read Only Memory (ROM), Flash memory, Electrically Erasable Programmable Read Only Memory (EEPROM), etc.","While the above exemplary system including STB  is illustrative of the basic components of a digital set-top box suitable for use with the present invention, the architecture shown should not be considered limiting since many variations of the hardware configuration are possible without departing from the present invention. The present invention could, for example, also be implemented in more advanced architectures such as that disclosed in U.S. patent application Ser. No. 09\/473,625, filed Dec. 29, 1999, entitled \u201cInternet Set-Top Box Having and In-Band Tuner and Cable Modem\u201d and issued as U.S. Pat. No. 6,757,909 on Jun. 29, 2004 to Jun Maruo and Atsushi Kagami. This patent describes a set-top box using a multiple bus architecture with a high level of encryption between components for added security. This application is hereby incorporated by reference as though disclosed fully herein.","In general, during operation of the STB , an appropriate operating system  such as, for example, Sony Corporation's Aperios\u2122 real time operating system is loaded into, or is permanently stored in, active memory along with the appropriate drivers for communication with the various interfaces. In other embodiments, other operating systems such as Microsoft Corporation's Windows CE\u2122 could be used without departing from the present invention. Along with the operating system and associated drivers, the STB  usually operates using browser software  in active memory or may permanently reside in ROM, EEPROM or Flash memory, for example. The browser software  typically operates as the mechanism for viewing not only web pages on the Internet, but also serves as the mechanism for viewing an Electronic Program Guide (EPG) formatted as an HTML document. The browser  can also provide the mechanism for viewing normal programming (wherein normal programming is viewed as an HTML video window\u2014often occupying the entire area of screen ).","STB software architectures vary depending upon the operating system. However, in general, all such architectures generally include, at the lowest layer, various hardware interface layers. Next is an operating system layer as previously described. The software architectures of modern STB have generally evolved to include a next layer referred to as \u201cmiddleware.\u201d Such middleware permits applications to run on multiple platforms with little regard for the actual operating system in place. Middleware standards are still evolving at this writing, but are commonly based upon Javascript and HTML (hypertext Markup Language) virtual machines. At the top layer is the application layer where user applications and the like reside (e.g., browsing, email, EPG, Video On Demand (VOD), rich multimedia applications, pay per view, etc.). The current invention can be utilized with any suitable set-top box software and hardware architecture.","Referring now to , a system diagram  illustrating an exemplary connection example for connecting a number of devices to an HDMI switching module, which can then in turn be connected to a television  with user interface , is shown. In this particular example, HDMI switching module or link  has five HDMI input ports , labeled as input ports , , ,  and , respectively, by which a device, CEC or non-CEC enabled, may be connected to HDMI switching module . HDMI switching module  may be provided power by an AC power source  as shown.","There are illustrated Recorder, Player, and Tuner HDMI CEC-enabled device types, corresponding to Inputs , , , , and  of the switching module. Recorder device type at Input  is a camcorder  and Recorder device type at Input  is a DVD recorder . Player device type at Input  is a PS  while Player device type at Input  is a Blu-ray disc player device . Tuner device type at Input  is shown as a cable box, set-back box, set top box, or the like, . It is understood that the specific devices for each of the Recorder, Player and Tuner device types are provided by way of example and not limitation. Thus the exemplary system illustrated in  may employ other types of device types without departing from the spirit and scope of the invention.",{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 6","b":"600"},"HDMI 1.2a, released in December 2005 supports CEC features, command sets, and CEC compliance tests. Using a single cable, CEC control allows a user to control all HDMI devices with a remote control or commander user interface, including powering on or off connected devices, commands initiated by devices to other devices. It thus solves the problem of \u201ctoo many remote controls.\u201d For instance, a user can press play on one HDMI device, such as a DVD, and operation of CEC commands causes the A\/V receiver to automatically turn on and switch to the correct input, which in turn automatically turns on the TV, which automatically switches to the correct input received from the A\/V receiver; such is an example of \u201cone-touch play.\u201d","CEC features, as may be defined from time to time in the CEC Specification, Section 3.1, include one touch play, system audio control, etc. Other, optional features may include one touch recording, deck control, tuner control, On Screen Display (OSD) display, OSD name transfer, device menu control, RC pass-through, power status and vendor-specific commands (such as a vendor remote command). CEC control commands that may be particularly of interest in the communication between a STB (SBB) and TV may include the following: request active source, image view on, text view on, standby, give physical address, get menu language, polling message, report physical address, set menu language, device vendor ID, give device ID, user remote control pressed, user control released, set OSD string, give OSD name, set OSD name, give device power status, report power status, feature abort.","Of course, it is understood that the HDMI specification continues to mature, new CEC commands may be expected to be added from time to time as developed. A standard CEC command structure is illustrated in . This structure may remain the same to provide for back-ward compatibility.",{"@attributes":{"id":"p-0070","num":"0069"},"figref":["FIGS. 8A-8B","FIG. 8A","FIG. 8B","FIGS. 9A and 9B","FIG. 9A","FIG. 9B","FIGS. 8A-8B"],"b":["9","9","1","1","1","2","9","9"]},"Consider the following examples of interfacing of non-CEC and\/or CEC enabled A\/V devices to a television via an HDMI switching module. Referring to , block diagram  illustrates an interface with non-CEC enabled devices, in accordance with various embodiments. There are five non-CEC enabled devices in this example: Recorder , Recorder , Player , Player , and Tuner . These may be connected to the HDMI input ports -, corresponding to Recorder , Recorder , Player , Player , and Tuner  as shown. These pre-defined categories or types of devices are assigned by the respective HDMI input ports. HDMI output port to the television is also shown.","Now consider the case where these five non-CEC enabled devices of  as first connected to the HDMI switching module, followed by three CEC enabled devices subsequently coupled to various HDMI ports. This is illustrated in , in accordance with various embodiments. The HDMI switching module in this example is coupled to HDMI input port of the television.  illustrates the first five non-CEC enabled devices coupled to five HDMI input ports. In , the first additional recorder has been added, indicated by ; this may be a HDD recorder, for example. This is the third and last available \u201crecorder\u201d logical address permitted by the CEC specification. This additional recorder CEC enabled device is coupled to the HDMI port on the television. In , a CEC \u201cplayer\u201d device is added to the HDMI input ports of the switcher at ; this also represents the last available \u201cplayer\u201d logical address permitted by the CEC specification. This additional \u201cplayer\u201d CEC device is coupled to HDMI input port on the television. In , a user wishes to add an additional tuner, such as indicated by DMeX IDCR . This additional tuner CEC enabled device is coupled to HDMI input port on the television.","Next consider the usage example of  in which multiple CEC enabled devices are coupled to an HDMI switcher, followed by multiple non-CEC enabled devices coupled to the HDMI switcher, in accordance with various embodiments. In this example, the television as two CEC enabled player devices, such as a DVD and a Blu-Ray, connected directed to the television, at  in . In , a user connects the HDMI switching module to the television and then attaches a non-CEC device to HDMI input port  (HDMI), a player port, at . Next, in , the user attaches another non-CEC enabled device to input port  (HDMI) of the HDMI switching module at . While Port 's default device type may be a \u201cplayer\u201d type, there are already three player devices at HDMI Ports -, the maximum number of player logical addresses allowed by the specification. The fourth device, then, must take the next available address, which is Tuner  (logical address ) and not a player type device address.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":["FIGS. 13A-13C","FIG. 13A","FIG. 13B","FIG. 13C"],"b":["3","4","1310","1320","1330","3","4","1330"]},"Referring now to flow  of , a control for HDMI function of the user interface of the television is enabled at Block . The initial setup and update with regard to the control for HDMI function of the user interface is described below in connection with  and A-C below.","At Block  the inquiry is whether an A\/V device of one or more A\/V devices coupled to HDMI port(s) of the HDMI switching module is a non-CEC enabled device. If yes, the flow continues to Block , where a user controls the HDMI switching module via the control for HDMI function of the user interface to assign a default HDMI device type with corresponding HDMI logical address that is mapped to the non-CEC enabled device. This may be accomplished by the user selecting the HDMI input port and setting a default HDMI device type having a corresponding HDMI logical address that is mapped to the non-CEC enabled device, as previously described. The user may select and set using a user interface of the HDMI switching module or of the television, as has been described. At Block , a control for HDMI list of the user interface is updated with the default HDMI device type of the non-CEC enabled device. The flow next goes to Block  to ask whether there is another A\/V device coupled to another HDMI input port of the HDMI switching module. If yes, then flow returns to Block . If no, then the flow continues to Block . The television controls the HDMI switching module to control the A\/V device coupled to the module, as indicated at Block . This control may occur at any time within the flow. The television may display the set default HDMI device type of the non-CEC enabled device on a TV menu screen displayed to the user.","If an A\/V device coupled to an HDMI input port is not a non-CEC enabled device, i.e. a CEC enabled device, then the flow goes from Block  to Block . At Block , the CEC enabled device polls in order of priority first those logical addresses of a plurality of HDMI logical addresses that correspond to a CEC device type of the CEC enabled device, wherein each logical address of the plurality of HDMI logical addresses defines a device type and a unique identifier and then selects for the CEC enabled device the first logical address of the plurality of HDMI logical addresses that is available, wherein the first logical address has a device type and a unique identifier corresponding to the CEC enabled device at Block . At Block , the first logic address and the device type and the unique identifier of the first logic address selected by the CEC enabled device are communicated to the television. At Block , the control for HDMI list of the user interface is updated with the first logical address of the CEC enabled device. The flow next goes to Decision Blocks  and , previously described.","With regard to the initial setup and update of the control for HDMI function of the user interface of the TV, consider the following discussion in conjunction with  and A-C below. Setting up the user interface control for HDMI function may be performed when the HDMI switching module is used for the first time, when power is lost or disconnected from the television or the HDMI switching module link, when new A\/V devices are connected to and existing HDMI inputs of the HDMI switching module are changed, and when the HDMI switching module is connected to a different HDMI INPUT port on the television.","Before beginning the setup of the HDMI switching module, the various components of the system may be powered on in the following fashion: the A\/V devices (HDMI equipment) is powered ON, the television is powered ON, the HDMI OUT port of the HDMI switching module is connected to a HDMI IN port of the television using an appropriate HDMI cable, the A\/V devices are connected to the HDMI switching module, and the DHMI switching module is powered ON. A nominal period of time, such as 90 seconds, elapses before the HDMI switching module and the A\/V devices connect to the television.","The control for HDMI function of the user interface, accessed by the user through a remote control or commander, for example, is enabled.  illustrates an example of how a television employing a panel menu user interface permits this function to be enabled. Or, a television employing a graphical user interface, such as XMB, might enable the control for HDMI function to be enabled as illustrated in .  illustrates that the control for HDMI function may be enabled for each device coupled to the HDMI switching module, also in a XMB example.","Next, the initial setup of the HDMI switching module calls for the External Inputs portion of the user interface to be accessed. If a panel menu is being employed, then  illustrates an example of selecting External Inputs from connected equipment. The arrow keys of a remote controller may be used to navigate to the External Inputs menu. Once External Inputs of  is selected, then the desired device or equipment may be highlighted and then selected with the input link label from a control for HDMI list. This illustrated in  for a panel menu style user interface.  illustrates how External Inputs of a XMB user interface may be accessed. The arrow keys of a remote controller may be used to navigate to the External Inputs menu. Both  illustrate how devices connected to the HDMI switching module\/link may be access to verify an HDMI connection.","The control for HDMI list may be updated for the control for HDMI function of the user interface. For a user interface using XMB,  illustrates how the control for HDMI device list may be enabled or updated. In , updating control for HMDI list is illustrated in the panel menu example. Once the control for HDMI list is updated, the \u201cinput link\u201d is removed for devices that support control for HDMI and only the pre-assigned labels are displayed, e.g. DVD, BD, etc. This is illustrated in , B, C, D, A, B, C, B, C, D, B, C, for example.","In accordance with the various embodiments, it has been described that a HDMI switching module is operable to work with both CEC and non-CEC enabled devices allows devices of both types to be coupled to a television. The HDMI switcher is able to act as a CEC proxy for non-CEC enabled devices that will assign a device type (Player, Recorder, Tuner) and send that identity to the television via the HDMI output port. The TV can then control the HDMI switching module and select the appropriate HDMI input port; neither the TV nor the HDMI switching module actually controls the device(s). This allows the user to correctly identify their device types by allowing them to assign via a user interface default device types for each device that is coupled to the HDMI switching module. Any non-CEC enabled device attached to the input will be identified as a default device type regardless of its actual type. This enables the television to select HDMI inputs corresponding to non-CEC enabled devices. Moreover, if an attached CEC enabled device takes an unregistered address, due to too many of that device type already attached to HDMI input ports corresponding to certain HDMI logical addresses, it is possible to assign a default device type based on the specific input to which it is attached.","In the foregoing specification, specific embodiments of the present invention have been described. However, one of ordinary skill in the art appreciates that various modifications and changes can be made without departing from the scope of the present invention as set forth in the claims below. Accordingly, the specification and figures are to be regarded in an illustrative rather than a restrictive sense, and all such modifications are intended to be included within the scope of present invention. The benefits, advantages, solutions to problems, and any element(s) that may cause any benefit, advantage, or solution to occur or become more pronounced are not to be construed as a critical, required, or essential features or elements of any or all the claims. The invention is defined solely by the appended claims including any amendments made during the pendency of this application and all equivalents of those claims as issued."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The features of the invention believed to be novel are set forth with particularity in the appended claims. The invention itself however, both as to organization and method of operation, together with objects and advantages thereof, may be best understood by reference to the following detailed description of the invention, which describes certain exemplary embodiments of the invention, taken in conjunction with the accompanying drawings in which:",{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIGS. 8A-8B","FIGS. 9A-9B"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIGS. 11A-11D"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIGS. 12A-12C"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIGS. 13A-13C"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 15A-15E"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIGS. 16A-16C"}]},"DETDESC":[{},{}]}
