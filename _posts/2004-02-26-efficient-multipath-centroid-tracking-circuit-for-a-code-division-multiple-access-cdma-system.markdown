---
title: Efficient multipath centroid tracking circuit for a code division multiple access (CDMA) system
abstract: A spread spectrum signal having an associated code is tracked at a receiver. A plurality of components of the spread spectrum signal are despread using the associated code. Each of the plurality of components has a different code phase than all others of the plurality of code phases. Each of the plurality of components is weighted based on a phase difference between that component and a center code phase associated with the plurality of components. A tracking error is determined based on the weighted components.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07593453&OS=07593453&RS=07593453
owner: InterDigital Technology Corporation
number: 07593453
owner_city: Wilmington
owner_country: US
publication_date: 20040226
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATION(S)","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT(S)"],"p":["This application is a continuation of U.S. patent application Ser. No. 10\/071,899, filed Feb. 8, 2002, which is a continuation of U.S. patent application Ser. No. 09\/261,689, filed on Mar. 3, 1999, now U.S. Pat. No. 6,381,264, issued on Apr. 30, 2002, which is a continuation of U.S. patent application Ser. No. 08\/669,771, filed on Jun. 27, 1996, now U.S. Pat. No. 5,912,919, issued on Jun. 15, 1999, which claims the benefit of U.S. Provisional Application 60\/000,775 filed on Jun. 30, 1995.","The present invention generally pertains to code sequence tracking in Code Division Multiple Access (CDMA) communication systems, also known as spread-spectrum communication systems. More particularly, the present invention pertains to a system and method for efficient tracking of multipath signal components allowing for combining of multipath signal components to improve data signal detection and despreading by reducing effects of multipath interference, and increase CDMA communication system efficiency by reducing the required transmit power.","Providing quality telecommunication services to user groups which are classified as remote, such as rural telephone systems and telephone systems in underdeveloped countries, has proved to be a challenge over recent years. The past needs created by these services have been partially satisfied by wireless radio services, such as fixed or mobile frequency division multiplex (FDM), frequency division multiple access (FDMA), time division multiplex (TDM), time division multiple access (TDMA) systems, combination frequency and time division systems (FD\/TDMA), and other land mobile radio systems. Usually, these remote services are faced with more potential users than can be supported simultaneously by their frequency or spectral bandwidth capacity.","Recognizing these limitations, recent advances in wireless communications have used spread spectrum modulation techniques to provide simultaneous communication by multiple users. Spread spectrum modulation refers to modulating a information signal with a spreading code signal; the spreading code signal being generated by a code generator where the period, Tc, of the spreading code is substantially less than the period of the information data bit or symbol signal. The code may modulate the carrier frequency upon which the information has been sent, called frequency-hopped spreading, or may directly modulate the signal by multiplying the spreading code with the information data signal, called direct-sequence spreading (DS). Spread-spectrum modulation produces a signal with bandwidth substantially greater than that required to transmit the information signal. The original information is recovered by synchronously demodulating and despreading of the signal at the receiver. The synchronous demodulator uses a reference signal to synchronize the despreading circuits to the input spread-spectrum modulated signal to recover the carrier and information signals. The reference signal may be a spreading code which is not modulated by an information signal. Such use of a synchronous spread-spectrum modulation and demodulation for wireless communication is described in U.S. Pat. No. 5,228,056 entitled SYNCHRONOUS SPREAD-SPECTRUM COMMUNICATIONS SYSTEM AND METHOD by Donald L. Schilling, which is incorporated herein by reference.","One area in which spread-spectrum techniques are used is in the field of mobile cellular communications to provide personal communication services (PCS). Such systems desirably support large numbers of users, control Doppler shift and fade, and provide high speed digital data signals with low bit error rates. These systems employ a family of orthogonal or quasi-orthogonal spreading codes, with a pilot spreading code sequence that is synchronized to the family of codes. Each user is assigned one of the spreading codes from the family as a spreading function. Related problems of such a system include handling multipath fading effects. Solutions to such problems include diversity combining of multipath signals. The problems associated with spread spectrum communications, and methods to increase capacity of a multiple access, spread-spectrum system are described in U.S. Pat. No. 4,901,307 entitled SPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS by Gilhousen et al. which is incorporated herein by reference.","The problems associated with the prior art systems focus around reliable reception and synchronization of the receiver despreading circuits to the received signal. The presence of multipath fading introduces a particular problem with spread spectrum receivers in that a receiver must somehow track the multipath components to maintain code-phase lock of the receiver's despreading means with the input signal. Prior art receivers generally track only one or two of the multipath signals, but this method may not be satisfactory because the combined group of low-power multipath signal components may actually contain far more power than the one or two strongest multipath components. The prior art receivers track and combine only the strongest components to maintain a predetermined Bit Error Rate (BER) of the receiver. Such a receiver is described, for example, in U.S. Pat. No. 5,109,390 entitled DIVERSITY RECEIVER IN A CDMA CELLULAR TELEPHONE SYSTEM by Gilhousen et al. which is incorporated herein by reference. A receiver that combines all multipath components, however, is able to maintain the desired BER with a signal power that is lower than that of prior art systems because more signal power is available to the receiver. Consequently, there is a need for a spread spectrum communication system employing a receiver that tracks substantially all of the multipath signal components, so that substantially all multipath signals may be combined in the receiver. This would reduce the required transmit power of the signal for a given BER.","A spread spectrum signal having an associated code is tracked at a receiver. A plurality of components of the spread spectrum signal are despread using the associated code. Each of the plurality of components has a different code phase than all others of the plurality of code phases. Each of the plurality of components is weighted based on a phase difference between that component and a center code phase associated with the plurality of components. A tracking error is determined based on the weighted components.","Three CDMA spreading-code tracking methods in multipath fading environments are described which track the code phase of a received multipath spread-spectrum signal. The first is the prior art tracking circuit which simply tracks the spreading code phase with the highest detector output signal value, the second is a tracking circuit that tracks the median value of the code phase of the group of multipath signals, and the third, the system and method of the present invention, is the centroid tracking circuit which tracks the code-phase of an optimized, least mean squared weighted average of the multipath signal components. The following describes the methods by which the spreading code phase of the received CDMA signal is tracked.","A tracking circuit has operating characteristics that reveal the relationship between the time error and the control voltage that drives a Voltage Controlled Oscillator (VCO) of a spreading-code phase tracking circuit. When there is a positive timing error, the tracking circuit generates a negative control voltage to offset the timing error. When there is a negative timing error, the tracking circuit generates a positive control voltage to offset the timing error. When the tracking circuit generates a zero value, this value corresponds to the perfect time alignment called the \u2018lock-point\u2019.  shows the basic tracking circuit. Received signal r(t) is applied to matched filter , which correlates r(t) with a local code-sequence c(t) generated by Code Generator . The output signal of the matched filter x(t) is sampled at the sampler  to produce samples x[nT] and x[nT+T\/2]. The samples x[nT] and x[nT+T\/2] are used by a tracking circuit  to determine if the phase of the spreading-code c(t) of the code generator  is correct. The tracking circuit  produces an error signal e(t) as an input to the code generator . The code generator  uses this signal e(t) as an input signal to adjust the code-phase it generates.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},"Referring to , the input signal x(t) to the system includes interference noise of other message channels, multipath signals of message channels, thermal noise, and multipath signals of the pilot signal. The input signal is provided to AVC  which includes a despreading means , channel estimation means for estimating the channel response , correction means for correcting a signal for effects of the channel response , and adder  in the present invention. The AVC despreading means  is composed of multiple code correlators, with each correlator using a different phase of the pilot code c(t) provided by the pilot code generator . The output of this despreading means corresponds to a noise power level if the phase of the local pilot code of the despreading means is not in phase with the input code signal, or it corresponds to a received pilot signal power level plus noise power level if the input pilot code and locally generated pilot code have the same phase. The output signals of the correlators of the despreading means are corrected for the channel response by the correction means  and are applied to the adder  which collects all multipath pilot signal power. The channel response estimation means  receives the combined pilot signal and the output signals of the despreading means , and provides a channel response estimate signal, w(t), to the correction means  of the AVC. The output signal of the despreading means  is also provided to the acquisition decision means  which decides, based on a particular algorithm such as a sequential probability ratio test (SPRT), if the present output levels of the despreading circuits correspond to synchronization of the locally generated code to the desired input code phase. If the detector finds no synchronization, then the acquisition decision means sends a control signal a(t) to the local pilot code generator  to offset its phase by one or more chip period. When synchronization is found, the acquisition decision means informs tracking circuit , which achieves and maintains a close synchronization between the received and locally generated code sequences.","In a CDMA system, the signal, s(t), shown in Equation (1) transmitted by the reference user is written in the low-pass representation as.",{"@attributes":{"id":"p-0019","num":"0018"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"s","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"k","mo":"=","mrow":{"mo":"-","mi":"\u221e"}},"mi":"\u221e"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"msub":{"mi":["c","k"]},"mo":"\u2062","mrow":{"msub":{"mi":["P","Tc"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":"-","msub":{"mi":["kT","c"]}}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"1"}}]}}}},"br":{},"sub":["k ","Tc ","c "],"figref":"FIG. 1"},{"@attributes":{"id":"p-0020","num":"0019"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"r","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"M"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"msub":{"mi":["a","i"]},"mo":"\u2062","mrow":{"mi":"s","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":"-","msub":{"mi":["\u03c4","i"]}}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"2"}}]}}}}},"In Equation (2), ais an attenuation factor due to fading effect of the multipath channel on the i-th path and \u03c4is the random time delay associated with the same path. The receiver passes the received signal through a matched filter, which is implemented as a correlation receiver and is described below. This operation is done in two steps: first the signal is passed through a chip matched filter and sampled to recover the spreading code chip values, then this spreading sequence is correlated with the locally generated code sequence.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 1","b":["301","302"],"sub":"Tc "},{"@attributes":{"id":"p-0023","num":"0022"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"mrow":[{"mi":"x","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"munderover":{"mo":"\u2211","mrow":{"mi":["i","k"],"mo":"="},"mi":"M"},"mo":"\u2062","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"k","mo":"=","mrow":{"mo":"-","mi":"\u221e"}},"mi":"\u221e"},"mo":"\u2062","mrow":{"msub":[{"mi":["a","i"]},{"mi":["c","k"]}],"mo":["\u2062","\u2062"],"mrow":{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":["-","-"],"msub":[{"mi":["\u03c4","i"]},{"mi":["kT","c"]}]}}}}}}],"mo":"="},"mo":["\u2062","\u2062"],"mstyle":{"mtext":{}},"mi":"where"}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"3"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mrow":[{"msub":{"mi":["P","Tc"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"msub":{"mi":["h","R"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}],"mo":"*"}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"4"}}]}]}}},"br":{},"sub":"R "},{"@attributes":{"id":"p-0024","num":"0023"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"mrow":[{"mi":"x","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"k","mo":"=","mrow":{"mo":"-","mi":"\u221e"}},"mi":"\u221e"},"mo":"\u2062","mrow":{"msub":{"mi":["c","k"]},"mo":"\u2062","mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":"-","msub":{"mi":["kT","c"]}}}}}}],"mo":"="},"mo":["\u2062","\u2062"],"mstyle":{"mtext":{}},"mi":"where"}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"5"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"M"},"mo":"\u2062","mrow":{"msub":{"mi":["a","i"]},"mo":"\u2062","mrow":{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":"-","msub":{"mi":["\u03c4","i"]}}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"6"}}]}]}}}},"In the multipath channel described above, the sampler samples the output signal of the matched filter to produce x(nT) at the maximum power level points of g(t). In practice, however, the waveform g(t) may be distorted due to the multipath signal reception, and a perfect time alignment of the signals may not be available.","When the multipath distortion in the channel is negligible and a perfect estimate of the timing is available, i.e., a1 a=1, \u03c4=0, and a=0, i=2, . . . , M, the received signal is r(t)=s(t). Then, with this ideal channel model, the output of the chip matched filter becomes",{"@attributes":{"id":"p-0027","num":"0026"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"x","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"munderover":{"mo":"\u2211","mrow":{"mi":"k","mo":"=","mrow":{"mo":"-","mi":"\u221e"}},"mi":"\u221e"},"mo":"\u2062","mrow":{"msub":{"mi":["c","k"]},"mo":"\u2062","mrow":{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":"-","msub":{"mi":["kT","c"]}}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},"mn":"7"}}]}}}}},"When there is multipath fading, however, the received spreading code chip value waveform is distorted, and has a number of local maxima that can change from one sampling interval to another depending on the channel characteristics","For multipath fading channels with quickly changing channel characteristics, it is not practical to try to locate the maximum of the waveform. f(t) in every chip period interval. Instead, a time reference can be obtained from the characteristics of f(t) that may not change as quickly. Three tracking methods are described based on different characteristics of f(t)","Prior art tracking methods include a code tracking circuit in which the receiver attempts to determine the maximum matched filter output value of the chip waveform and sample the signal at that point. However, in multipath fading channels, the receiver despread spreading-code waveform can have a number of local maxima, especially in a mobile environment. In the following, f(t) represents the received signal waveform of the spreading code chip convolved with the channel impulse response. The frequency response characteristic of and the timing of its maximum correlation can change rather quickly making it impractical to track the maximum of f(t).","Define \u03c4 to be the time estimate that the tracking circuit calculates during a particular sampling interval. Also, define the following error function",{"@attributes":{"id":"p-0032","num":"0031"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"\u025b","mo":"=","mrow":{"mo":"{","mrow":{"mrow":[{"msub":{"mo":"\u222b","mrow":{"mo":"{","mrow":{"mi":"t","mo":":","mrow":{"mrow":{"mi":["\u03c4","t"],"mo":"-"},"mo":">","mi":"\u03b4"}}}},"mo":"\u2062","mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}},{"mrow":[{"mrow":[{"mo":["\uf603","\uf604"],"mrow":{"mi":["\u03c4","t"],"mo":"-"}},{"mi":["\u03b4","\u025b"],"mo":["\u2062","\u2062"],"mstyle":{"mtext":{}}}],"mo":">"},{"mrow":{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"10.8em","height":"10.8ex"}}},"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":["\u03c4","t"],"mo":"-"}}},"mo":"<","mi":"\u03b4"}],"mo":"="}],"mo":[",","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}}}}}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"8"}}]}}}},"br":{}},{"@attributes":{"id":"p-0033","num":"0032"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":["min","\u025b"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mn":"1","mo":"-","mrow":{"msubsup":{"mrow":{"mo":"\u2003","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mi":["\u03c4","max"]},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mrow":[{"mi":["\u03c4","\u03b4"],"mo":"-"},{"mi":["\u03c4","\u03b4"],"mo":"+"}]},"mo":"\u2062","mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"9"}}]}}}}},"Assuming f(t) has a smooth frequency response characteristic in the values given, the value of \u03c4 for which f(t) is maximum minimizes the error \u03b5, so the tracking circuit tracks the maximum point of f(t)","The Median Weighted Tracking Method minimizes the absolute weighted error, defined as,",{"@attributes":{"id":"p-0036","num":"0035"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"\u025b","mo":"=","mrow":{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"mrow":[{"mo":["\uf603","\uf604"],"mrow":{"mi":["t","\u03c4"],"mo":"-"}},{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"10"}}]}}}}},"This tracking method calculates the \u201cmedian\u201d signal value of f(t) by collecting information from all paths, where f(t) is as in Equation (6). In a multipath fading environment, the waveform f(t) can have multiple local maxima, but only one median.","To minimize \u03b5, the derivative of Equation (10) is taken with respect to \u03c4 and is equated it to zero, which yields Equation (11).",{"@attributes":{"id":"p-0039","num":"0038"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u03c4"},"mo":"\u2062","mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":"\u2062"}},{"msubsup":{"mo":"\u222b","mi":["\u03c4","\u221e"]},"mo":"\u2062","mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":"\u2062"}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"11"}}]}}}}},"The value of \u03c4 that satisfies (11) is called the \u201cmedian\u201d of f(t). Therefore, the Median Tracking Method of the present embodiment tracks the median of f(t).  shows an implementation of the tracking circuit based on minimizing the absolute weighted error defined above. The signal x(t) and its one-half chip offset version x(t+T\/2) are sampled by the A\/D  at a rate 1\/T. Equation (12) determines the operating characteristic of the circuit in :",{"@attributes":{"id":"p-0041","num":"0040"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"\u025b","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03c4"}},{"munderover":{"mo":"\u2211","mrow":[{"mi":"n","mo":"=","mn":"1"},{"mn":"2","mo":"\u2062","mi":"L"}]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"\u03c4","mo":"-","mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"T","mo":"\/","mn":"2"}}}}},{"mo":["\uf603","-","\uf604"]},{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"\u03c4","mo":"+","mrow":{"mi":"n","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"T","mo":"\/","mn":"2"}}}}}],"mo":["\u2062","\u2062"]}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"12"}}]}}}}},"Tracking the median of a group of multipath signals keeps the received energy of the multipath signal components equal on the early and late sides of the median point of the correct locally generated spreading-code phase C. The tracking circuit consists of an A\/D converter  which samples an input signal x(t) to form the half chip offset samples. The half chip offset samples are alternatively grouped into even samples called an early set of samples x(nT+\u03c4) and odd samples called a late set of samples x(nT+(T\/2)+\u03c4). The first correlation bank adaptive matched filter  multiplies each early sample by the spreading-code phases c(n+1), c(n+2), . . . , c(n+L), where L is small compared to the code length and approximately equal to number of chips of delay between the earliest and latest multipath signal. The output of each correlator is applied to a respective first sum-and-dump bank . The magnitudes of the output values of the L sum-and-dump circuits are calculated in the calculator  and then summed in summer  to give an output value proportional to the signal energy in the early multipath signals. Similarly, a second correlation bank adaptive matched filter  operates on the late samples, using code phases c(n\u22121), c(n\u22122), . . . , c(n\u2212L), and each output signal is applied to a respective sum-and-dump circuit in an integrator . The magnitudes of the output signals of the L sum-and-dump circuits are calculated in calculator  and then summed in summer  to give a value for the late multipath signal energy. Finally, the adder  calculates the difference and produces error signal \u03b5(\u03c4) of the early and late signal energy values.","The tracking circuit adjusts by means of error signal \u03b5(\u03c4) the locally generated code phases c(t) to cause the difference between the early and late values to tend toward 0.","The optimal spreading-code tracking circuit of one embodiment of the present invention is called the squared weighted tracking (or centroid) circuit. Defining \u03c4 to denote the time estimate that the tracking circuit calculates, based on some characteristic of .function.(t), the centroid tracking circuit minimizes the squared weighted error defined as",{"@attributes":{"id":"p-0045","num":"0044"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"\u025b","mo":"=","mrow":{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":["t","\u03c4"],"mo":"-"}},"mn":"2"},"mo":["\u2062","\u2062","\u2062"],"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"13"}}]}}}},"br":{}},{"@attributes":{"id":"p-0046","num":"0045"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"mrow":[{"mo":["(",")"],"mrow":{"mrow":[{"mrow":{"mo":"-","mn":"2"},"mo":"\u2062","mi":"t"},{"mn":"2","mo":"\u2062","mi":"\u03c4"}],"mo":"+"}},{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}},"mo":"=","mn":"0"}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"14"}}]}}}},"br":{}},{"@attributes":{"id":"p-0047","num":"0046"},"maths":{"@attributes":{"id":"MATH-US-00013","num":"00013"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"mi":"\u03c4","mo":"-","mrow":{"mfrac":{"mn":"1","mi":"\u03b2"},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"mrow":[{"mi":"tf","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}}},"mo":"=","mn":"0"}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"15"}}]}}}},"br":{}},"Based on these observations, a realization of the tracking circuit of the present invention minimizing the squared weighted error is shown in . The following equation determines the error signal \u03b5(\u03c4) of the centroid tracking circuit:",{"@attributes":{"id":"p-0049","num":"0048"},"maths":{"@attributes":{"id":"MATH-US-00014","num":"00014"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"\u025b","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03c4"}},{"mrow":{"munderover":{"mo":"\u2211","mrow":[{"mi":"n","mo":"=","mn":"1"},{"mn":"2","mo":"\u2062","mi":"L"}]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"n","mo":"\u2061","mrow":{"mo":["[","]"],"mrow":{"mrow":[{"mo":["\uf603","\uf604"],"mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"\u03c4","mo":"-","mrow":{"mi":"nT","mo":"\/","mn":"2"}}}}},{"mo":["\uf603","\uf604"],"mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"\u03c4","mo":"+","mrow":{"mi":"nT","mo":"\/","mn":"2"}}}}}],"mo":"-"}}}},"mo":"=","mn":"0"}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"16"}}]}}}},"br":{}},"The early and late multipath signal energy on each side of the centroid point are equal. The centroid tracking circuit shown in  consists of an A\/D converter  which samples an input signal x(t) to form the half chip offset samples. The half chip offset samples are alternatively grouped as an early set of samples x(nT+\u03c4) and a late set of samples x(nT+(T\/2)+\u03c4). The first correlation bank adaptive matched filter  multiplies each early sample and each late sample by the positive spreading-code phases c(n+1), c(n+2), . . . , c(n+L), where L is small compared to the code length and approximately equal to number of chips of delay between the earliest and latest multipath signal. The output signal of each correlator is applied to a respective one of L sum-and-dump circuits of the first sum and dump bank . The magnitude value of each sum-and-dump circuit of the sum and dump bank  is calculated by the respective calculator in the calculator bank  and applied to a corresponding weighting amplifier of the first weighting bank . The output signal of each weighting amplifier represents the weighted signal energy in a multipath component signal.","The weighted early multipath signal energy values are summed in sample adder  to give an output value proportional to the signal energy in the group of multipath signals corresponding to positive code phases which are the early multipath signals. Similarly, a second correlation bank adaptive matched filter  operates on the early and late samples, using the negative spreading phases c(n\u22121), c(n\u22122), . . . , c(n\u2212L), each output signal is provided to a respective sum-and-dump circuit of discrete integrator . The magnitude value of the L sum-and-dump output signals is calculated by the respective calculator of calculator bank  and then weighted in weighting bank . The weighted late multipath signal energy values are summed in sample adder  to give an energy value for the group of multipath signals corresponding to the negative code phases which are the late multipath signals. Finally, the adder  calculates the difference between the early and late signal energy values to produce error sample value \u03b5(\u03c4).","The tracking circuit of  produces error signal \u03b5(\u03c4) which is used to adjust the locally generated code phase c(nT) to keep the weighted average energy in the early and late multipath signal groups equal. The embodiment shown uses weighting values that increase as the distance from the centroid increases. The signal energy in the earliest and latest multipath signals is probably less than the multipath signal values near the centroid. Consequently, the difference calculated by the adder  is more sensitive to variations in delay of the earliest and latest multipath signals.","In another embodiment of the tracking method, the tracking circuit adjusts sampling phase to be \u201coptimal\u201d and robust to multipath. Let f(t) represent the received signal waveform as in Equation 16 above. The particular method of optimizing starts with a delay locked loop with an error signal \u03b5(\u03c4) that drives the loop. The function \u03b5(\u03c4) must have only one zero at \u03c4=\u03c4where \u03c4is optimal. The optimal form for \u03b5(\u03c4) has the canonical form",{"@attributes":{"id":"p-0054","num":"0053"},"maths":{"@attributes":{"id":"MATH-US-00015","num":"00015"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"\u025b","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03c4"}},{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"mrow":[{"mi":"w","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["t","\u03c4"],"mo":","}}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062","\u2062"],"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}},"mn":"2"},"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"17"}}]}}}},"br":{}},{"@attributes":{"id":"p-0055","num":"0054"},"maths":{"@attributes":{"id":"MATH-US-00016","num":"00016"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"\u025b","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"\u03c4","mo":"+","msub":{"mi":"\u03c4","mn":"0"}}}},{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"mrow":[{"mi":"w","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":",","mrow":{"mi":"\u03c4","mo":"+","msub":{"mi":"\u03c4","mn":"0"}}}}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062","\u2062"],"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}},"mn":"2"},"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"18"}}]}}}},"br":{},"sub":"0"},{"@attributes":{"id":"p-0056","num":"0055"},"maths":{"@attributes":{"id":"MATH-US-00017","num":"00017"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"M","mo":"=","mrow":{"mrow":[{"mfrac":{"mrow":[{"mo":"\u2146","mrow":{"mi":"\u025b","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03c4"}}},{"mo":"\u2146","mi":"\u03c4"}]},"mo":"\u2062","msub":{"mo":"\u2758","msub":{"mi":"\u03c4","mn":"0"}}},{"mo":"-","mrow":{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"mrow":[{"mi":"w","mo":"'"},{"mo":["(",")"],"mrow":{"mi":"t","mo":"-","msub":{"mi":"\u03c4","mn":"0"}}},{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}}],"mo":"="}}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"19"}}]}}}},"br":{},"sup":"2"},"The error \u03b5(\u03c4) has a deterministic part and a noise part. Let z denote the noise component in \u03b5(\u03c4), then |z|is the average noise power in the error function \u03b5(\u03c4). Consequently, the optimal tracking circuit maximizes the ratio",{"@attributes":{"id":"p-0058","num":"0057"},"maths":{"@attributes":{"id":"MATH-US-00018","num":"00018"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"F","mo":"=","mfrac":{"msup":[{"mi":"M","mn":"2"},{"mrow":{"mo":["\uf603","\uf604"],"mi":"z"},"mn":"2"}]}}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"20"}}]}}}},"br":[{},{},{}],"in-line-formulae":[{},{}],"sup":"T","figref":"FIG. 5"},"The Quadratic Detector described above may be used to implement the centroid tracking system described above with reference to . For this implementation, the vector y is the output signal of the sum and dump circuits : y={f(\u03c4\u2212LT), f(\u03c4\u2212LT+T\/2), f(\u03c4\u2212(L\u22121)T), . . . f(\u03c4, f(\u03c4+T\/2), f(\u03c4+T), . . . f(\u03c4+LT)} and the matrix B is set forth in Table 1.",{"@attributes":{"id":"p-0060","num":"0059"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"B matrix for quadratic form of Centroid Tracking System"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"chemistry":{"@attributes":{"id":"CHEM-US-00001","num":"00001"},"img":{"@attributes":{"id":"EMI-C00001","he":"39.37mm","wi":"63.08mm","file":"US07593453-20090922-C00001.TIF","alt":"embedded image","img-content":"table","img-format":"tif"}}}}},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"To understand the operation of the Quadratic Detector, it is useful to consider the following. A spread spectrum (CDMA) signal, s(t) is passed through a multipath channel with an impulse response h(t). The baseband spread signal is described by Equation (22).",{"@attributes":{"id":"p-0062","num":"0061"},"maths":{"@attributes":{"id":"MATH-US-00019","num":"00019"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"s","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"munderover":{"mo":"\u2211","mi":"i","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"msub":{"mi":["C","i"]},"mo":"\u2062","mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"t","mo":"-","msub":{"mi":["iT","c"]}}}}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"22"}}]}}}},"br":{},"sub":["i ","c ","c","c ","c "]},"The received baseband signal is represented by Equation (23)",{"@attributes":{"id":"p-0064","num":"0063"},"maths":{"@attributes":{"id":"MATH-US-00020","num":"00020"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"r","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mrow":[{"munder":{"mo":"\u2211","mi":"i"},"mo":"\u2062","mrow":{"msub":{"mi":["C","i"]},"mo":"\u2062","mrow":{"mi":"q","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["t","\u03c4"],"mo":["-","-"],"msub":{"mi":["iT","c"]}}}}}},{"mi":"n","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}],"mo":"+"}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},"mn":"23"}}]}}}},"br":{},"sub":["c","R "]},{"@attributes":{"id":"p-0065","num":"0064"},"maths":{"@attributes":{"id":"MATH-US-00021","num":"00021"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"x","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mrow":[{"munder":{"mo":"\u2211","mi":"i"},"mo":"\u2062","mrow":{"msub":{"mi":["C","i"]},"mo":"\u2062","mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["t","\u03c4"],"mo":["-","-"],"mrow":{"mi":"\u2148","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["T","c"]}}}}}}},{"mi":"z","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}],"mo":"+"}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"24"}}]}}}},"br":{},"sub":["R ","R "]},"In the exemplary receiver, samples of the received signal are taken at the chip rate, that is to say, 1\/T. These samples, x(mT+\u03c4\u2032), are processed by an array of correlators that compute, during the rcorrelation period, the quantities given by Equation (25)",{"@attributes":{"id":"p-0067","num":"0066"},"maths":{"@attributes":{"id":"MATH-US-00022","num":"00022"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msubsup":{"mi":["v","k"],"mrow":{"mo":["(",")"],"mi":"r"}},"mo":"=","mrow":{"munderover":{"mo":"\u2211","mrow":[{"mi":["m","rL"],"mo":"="},{"mi":["rL","L"],"mo":["+","-"],"mn":"1"}]},"mo":"\u2062","mrow":{"mrow":{"mi":"x","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mi":"m","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["T","c"]}},"mo":"+","msup":{"mi":["\u03c4","\u2032"]}}}},"mo":"\u2062","msubsup":{"mi":"C","mrow":{"mi":["m","k"],"mo":"-"},"mo":"*"}}}}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"25"}}]}}}},"br":[{},{},{}],"in-line-formulae":[{},{}],"i":["y","=E[v","]=Lf","kT"],"sub":["k","k","c"],"sup":["(r)","(r)"]},"The samples are processed to adjust the sampling phase, \u03c4\u2032, in an optimum fashion for further processing by the receiver, such as matched filtering. This adjustment is described below. To simplify the representation of the process, it is helpful to describe it in terms of the function f(t+\u03c4), where the time-shift, \u03c4, is to be adjusted. It is noted that the function f(t+\u03c4) is measured in the presence of noise. Thus, it may be problematical to adjust the phase \u03c4\u2032 based on measurements of the signal f(t+\u03c4). To account for the noise, the function v(t): v(t)=f(t)+m(t) is introduced, where the term m(t) represents a noise process. The system processor may be derived based on considerations of the function v(t).","The process is non-coherent and therefore is based on the envelope power function |v(t+\u03c4)|. The functional e(\u03c4\u2032) given in Equation (27) is helpful for describing the process.",{"@attributes":{"id":"p-0070","num":"0069"},"maths":{"@attributes":{"id":"MATH-US-00023","num":"00023"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"e","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":["\u03c4","\u2032"]}}},{"mrow":[{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":"v","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["t","\u03c4"],"mo":["+","-"],"msup":{"mi":["\u03c4","\u2032"]}}}}},"mn":"2"},"mo":"\u2062","mrow":{"mo":"\u2146","mi":"t"}}},{"msubsup":{"mo":"\u222b","mn":"0","mi":"\u221e"},"mo":"\u2062","mrow":{"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":"v","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["t","\u03c4"],"mo":["+","-"],"msup":{"mi":["\u03c4","\u2032"]}}}}},"mn":"2"},"mo":"\u2062","mrow":{"mo":"\u2146","mi":"t"}}}],"mo":"-"}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"27"}}]}}}}},"The shift parameter is adjusted for e(\u03c4\u2032)=0, which occurs when the energy on the interval (\u2212\u221e,\u03c4\u2032\u2212\u03c4] equals that on the interval [\u03c4\u2032\u2212\u03c4, \u221e) The error characteristic is monotonic and therefore has a single zero crossing point. This is the desirable quality of the functional. A disadvantage of the functional is that it is ill-defined because the integrals are unbounded when noise is present. Nevertheless, the functional e(\u03c4\u2032) may be cast in the form given by Equation (28).",{"@attributes":{"id":"p-0072","num":"0071"},"maths":{"@attributes":{"id":"MATH-US-00024","num":"00024"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"e","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":["\u03c4","\u2032"]}}},{"msubsup":{"mo":"\u222b","mrow":{"mo":"-","mi":"\u221e"},"mi":"\u221e"},"mo":"\u2062","mrow":{"mrow":[{"mi":"w","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062"],"msup":{"mrow":{"mo":["\uf603","\uf604"],"mrow":{"mi":"v","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["t","\u03c4"],"mo":["+","-"],"msup":{"mi":["\u03c4","\u2032"]}}}}},"mn":"2"}}}],"mo":"="}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"28"}}]}}}},"br":{}},"To optimize the characteristic function w(t), it is helpful to define a figure of merit, F, as set forth in Equation (29).",{"@attributes":{"id":"p-0074","num":"0073"},"maths":{"@attributes":{"id":"MATH-US-00025","num":"00025"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"F","mo":"=","mfrac":{"msup":{"mrow":{"mo":["[","]"],"mover":{"mrow":{"mrow":[{"mi":"e","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msubsup":{"mi":["\u03c4","\u2032"],"mn":"0"},"mo":"+","msub":{"mi":["T","A"]}}}},{"mi":"e","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msubsup":{"mi":["\u03c4","\u2032"],"mn":"0"},"mo":"-","msub":{"mi":["T","A"]}}}}],"mo":"-"},"mi":"_"}},"mn":"2"},"mrow":{"mi":"VAR","mo":"\u2062","mrow":{"mo":["{","}"],"mrow":{"mi":"e","mo":"\u2061","mrow":{"mo":["(",")"],"msubsup":{"mi":["\u03c4","\u2032"],"mn":"0"}}}}}}}},{"mrow":{"mi":"Equation","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mn":"29"}}]}}}}},"The numerator of F is the numerical slope of the mean error characteristic on the interval [\u2212T, T] surrounding the tracked value, \u03c4\u2032. The statistical mean is taken with respect to the noise as well as the random channel, h(t). It is desirable to specify a statistical characteristic of the channel in order to perform this statistical average. For example, the channel may be modeled as a Wide Sense Stationary Uncorrelated Scattering (WSSUS) channel with impulse response h(t) and a white noise process U(t) that has an intensity function g(t) as shown in Equation (30).\n\n()=\u221a{square root over (())}()\u2003\u2003Equation 30\n\nThe variance of e(\u03c4) is computed as the mean square value of the fluctuation\n\n\u2032(\u03c4)=(\u03c4)\u2212(\u03c4)\u2003\u2003Equation 31\n\nwhere <e(\u03c4)> is the average of e(\u03c4) with respect to the noise.\n","Optimization of the figure of merit F with respect to the function w(t) may be carried out using well-known Variational methods of optimization.","Once the optimal w(t) is determined, the resulting processor may be approximated accurately by a quadratic sample processor which is derived as follows.","By the sampling theorem, the signal v(t), bandlimited to a bandwidth W may be expressed in terms of its samples as shown in Equation (32).\n\n()=\u03a3()sinc[()\u03c0]\u2003\u2003Equation 32\n\nsubstituting this expansion into equation (z+6) results in an infinite quadratic form in the samples v(k\/W+\u03c4\u2032\u2212\u03c4). Making the assumption that the signal bandwidth equals the chip rate allows the use of a sampling scheme that is clocked by the chip clock signal to be used to obtain the samples. These samples, vk are represented by Equation (33).\n\n(+\u03c4\u2032\u2212\u03a3)\u2003\u2003Equation 33\n\nThis assumption leads to a simplification of the implementation. It is valid if the aliasing error is small.\n","In practice, the quadratic form that is derived is truncated. An example normalized B matrix is given below in Table 2. For this example, an exponential delay spread profile g(t)=exp(\u2212t\/T) is assumed with .tau. equal to one chip. An aperture parameter Tequal to one and one-half chips has also been assumed. The underlying chip pulse has a raised cosine spectrum with a 20% excess bandwidth.",{"@attributes":{"id":"p-0080","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Example B matrix"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"11"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"6","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"7","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"8","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"9","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"char","char":"."}},{"@attributes":{"colname":"11","colwidth":"14pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["0","0","0","0","0","0","0","0","0","0","0"]},{"entry":["0","0","\u22120.1","0","0","0","0","0","0","0","0"]},{"entry":["0","\u22120.1","0.22","0.19","\u22120.19","0","0","0","0","0","0"]},{"entry":["0","0","0.19","1","0.45","\u22120.2","0","0","0","0","0"]},{"entry":["0","0","\u22120.19","0.45","0.99","0.23","0","0","0","0","0"]},{"entry":["0","0","0","\u22120.2","0.23","0","\u22120.18","0.17","0","0","0"]},{"entry":["0","0","0","0","0","\u22120.18","\u22120.87","\u22120.42","0.18","0","0"]},{"entry":["0","0","0","0","0","0.17","\u22120.42","\u22120.92","\u22120.16","0","0"]},{"entry":["0","0","0","0","0","0","0.18","\u22120.16","\u22120.31","0","0"]},{"entry":["0","0","0","0","0","0","0","0","0","\u22120.13","0"]},{"entry":["0","0","0","0","0","0","0","0","0","0","0"]},{"entry":{"@attributes":{"namest":"1","nameend":"11","align":"center","rowsep":"1"}}}]}}]}}},"Code tracking of the above form in a CDMA system employing a Pilot signal can be implemented via a loop phase detector that is implemented in a digital signal processing device (DSP) as follows. The vector y is defined as a column vector which represents the 11 complex output level values of the Pilot AVC 1711, and B denotes an 11\u00d711 symmetric real valued coefficient matrix with pre-determined values to optimize performance with the non-coherent Pilot AVC output values y. The output signal of the phase detector is given by Equation (21).","The following calculations are then performed to implement a proportional plus integral loop filter and the VCO:\n\n1]+\u03b2\u03b5\u2003\u2003Equation 34\n\n1]+\u2003\u2003Equation 35\n\nfor \u03b2 and \u03b1 which are constants chosen from modeling the system to optimize system performance for the particular transmission channel and application, and where x[n] is the loop filter's integrator output value and z[n] is the VCO output value. The code phase adjustments are made by the modem controller the following C-subroutine:\n",{"@attributes":{"id":"p-0083","num":"0082"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"if (z > zmx) }"]},{"entry":[{},"delay phase 1\/16 chip;"]},{"entry":[{},"z \u2212 = zmax;"]},{"entry":[{},"} else if (z < \u2212zmax) {"]},{"entry":[{},"advance phase 1\/16 chip;"]},{"entry":[{},"z + = zmax;"]},{"entry":[{},"}"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The value of L in the previous section determines the minimum number of correlators and sum-and-dump elements. L is chosen as small as possible without compromising the functionality of the tracking circuit.","The multipath characteristic of the channel is such that the received chip waveform f(t) is spread over QTseconds, or the multipath components occupy a time period of Q chips duration. The value of L chosen is L=Q. Q is found by measuring the particular RF channel transmission characteristics to determine the earliest and latest multipath component signal propagation delay. QTis the difference between the earliest and latest multipath component arrival time at a receiver.","The previous description of acquisition and tracking algorithm focuses on a non-coherent method because the acquisition and tracking algorithm described requires non-coherent acquisition following by non-coherent tracking because during acquisition a coherent reference is not available until the AMF, Pilot AVC, Aux AVC, and DPLL are in an equilibrium state. However, it is known in the art that coherent tracking and combining is always optimal because in non-coherent tracking and combining the output phase information of each Pilot AVC finger is lost. Consequently, another embodiment of the invention employs a two step acquisition and tracking system, in which the previously described non-coherent acquisition and tracking algorithm is implemented first, and then the algorithm switches to a coherent tracking method. The coherent combining and tracking method is similar to that described previously, except that the error signal tracked is of the form:\n\n\u03b5=yAy\u2003\u2003Equation 36\n\nwhere y is defined as a column vector which represents the 11 complex output level values of the Pilot AVC 1711, and A denotes an 11.times. 11 symmetric real valued coefficient matrix with pre-determined values to optimize performance with the coherent Pilot AVC outputs y. An exemplary A matrix is shown below.\n",{"@attributes":{"id":"p-0087","num":"0086"},"maths":{"@attributes":{"id":"MATH-US-00026","num":"00026"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"A","mo":"=","mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"1"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"1"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"1"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"1"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mrow":{"mo":"-","mn":"1"}},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mrow":{"mo":"-","mn":"1"}},{"mn":"0"},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mrow":{"mo":"-","mn":"1"}},{"mn":"0"},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mrow":{"mo":"-","mn":"1"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mn":"0"},{"mrow":{"mo":"-","mn":"1"}}]}]}}}}},"While the present invention has been described in terms of exemplary embodiments, it is understood by one skilled in the are that it may be practiced as described above with variations within the scope of the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWING(S)","p":[{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
