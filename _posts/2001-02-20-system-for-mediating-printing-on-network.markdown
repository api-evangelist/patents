---
title: System for mediating printing on network
abstract: A print portal system utilizing a server connected to the network intermediates between the client and the printer to execute a printing operation. The client outputs a printing requirement, which specifies print data of interest and a printer as an output resource, to the print portal system. The print portal system converts the input print data into data of a general purpose format, which does not depend upon the type of the printer, and transfers the converted print data to the specified printer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07461138&OS=07461138&RS=07461138
owner: Seiko Epson Corporation
number: 07461138
owner_city: Tokyo
owner_country: JP
publication_date: 20010220
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND ART","DISCLOSURE OF THE INVENTION","BEST MODES OF CARRYING OUT THE INVENTION","INDUSTRIAL APPLICABILITY"],"p":["The present invention relates to a technique of intermediating between client computers and printing apparatuses, both connected to a network, to execute printing operations via the network.","A variety of printers are used as an output device of computers. The printer is conventionally one-to-one connected to a computer via a specific cable like a two-way parallel interface (hereinafter referred to as \u2018local connection\u2019), and receives data from the computer to carry out printing. With recent advancement of LANs (Local Area Networks), multiple printers connecting with a network share one or plural printers connected to the network.","Application of a certain protocol called IPP (Internet Printing Protocol) actualizes printing between an arbitrary client and an arbitrary printing apparatus, both connecting with the Internet. In this application, however, the output resource is restricted to printing apparatuses having known URIs (Uniform Resource Indicators). The simple application of IPP thus does not attain printing with the high utility that allows free choice of the output resource on the network.","In any of the known applications mentioned above, the state of connection of the printer with the computer is generally fixed. In other words, printing is typically carried out at a fixed location for each owner of the computer.","The recent development of the information infrastructure, such as the Internet, and the improvement in mobility of terminals used for access to the information infrastructure, such as mobile computers and cellular phones, enable access to information from any locations. In such circumstances, the technique of allowing free choice of the output resource for printing on the network has highly been demanded. One desired procedure uses a closest printing apparatus to carry out printing immediately after collection of information to be printed. Such a printing requirement should readily be executable from any mobile terminal.","In the structure of allowing free choice of the output resource on the network, however, there are a diversity of requirements as discussed below.","Requirements Relating to Transmission of Print Data:","The print data is generally converted into print control data proper to each printer (hereinafter referred to as \u2018raw data\u2019) by a printer driver and supplied to the printer. In order to enhance the degree of freedom in selection of the printing apparatus, it is required to assure the flexibility of print data supplied to the printing apparatus.","Requirements Relating to Accuracy and Stability of Printing:","The enhanced degree of freedom in selection of the output resource leads to the possibility that printing is carried out with an unintentional output resource due to wrong specification by the client. The printing apparatus specified as the output resource may be located at a place apart from the client. Even under such conditions, it is required to ensure successful printing. The printing system utilizing the printing apparatus requires various costs, for example, of expendables like printing paper and ink, power supply to the printing apparatus, and maintenance of the printing apparatus. Proper charging for these costs is required without mistakes.","Requirements Relating to Prevention of Illegal Printing","The enhanced degree of freedom in selection of the output resource leads to the possibility that faithless printing requirements damage the benefits of the owners of the respective printing apparatuses and the well-intentioned common users. This includes the case of non-required printing of an extremely large volume and the case of leaving prints uncollected after the user's output of a printing requirement. These cases are disadvantageous to the owners of printing apparatuses, since they can not properly charge for expendables like ink and paper. These cases are also disadvantageous to the well-intentioned common users, since the mass-volume printing interferes with normal use of the printing apparatuses.","In order to prevent illegal printing, it is required to make the relationship between the respective users and available printing apparatuses under certain management. An increase in number of available printing apparatuses as the possible options significantly increase the loading of management. The requirement is thus construction of a system that allows flexible selection among a large number of printing apparatuses, while avoiding an extreme increase in loading of management.","Requirements Relating to Enhancement of Utility","In the actual services, there are requirements to collectively print a plurality of contents. Especially in the case of printing gained information at any out-home or out-office place, collective printing of multiple contents is highly demanded to reduce the required printing time and printing cost and to simplify the required operations.","The user may desire to print an identical document at multiple places. Documents like catalogs, application forms, and estimate sheets used on business correspond to such requirements. If the user is required to always carry document data for printing such typical documents, this damages the utility of the printing environment that allows free choice of the output resource.","From these viewpoints, the requirement is thus construction of a system having high utility in the printing process.","Requirements Relating to Ensuring Accurate Delivery of Prints","In the printing environment that allows free choice of the output resource, there is a possibility that printing requirements from unspecific plural people are concentrated on one identical printing apparatus. It is thus required to ensure accurate delivery of resulting prints to the right users. It is also required to readily find the cause if the user receives a print different from the requirement.","Requirements Relating to Protection of Profits of Printer Owners","For example, it is assumed that a business proprietor locates a printer in a shop and provides printing services with this printer via the Internet. In such cases, there may be a business requirement that the shop owner who owns the printer desires to restrict printing of contents, which may benefit competitors' shops. There may also be another business requirement that the content provider who provides contents on Web pages via the Internet desires to restrict the output resource to printers located at specific shops. The requirement on business is thus the functionality of controlling the output resource and other printing conditions according to contents to be printed.","Each printing service provider naturally desires to make its services unique and different from those of other printing service providers. The system that allows arbitrary choice of the output resource should thus be constructed for each printing service provider who provides printing services. Under such circumstances, to attain the functionality of restricting output resources, individual registration is required between each content provider and each printing service provider who provides printing services. The registration work is remarkably troublesome when there are a large number of content providers and printing service providers.","The object of the present invention is to meet at least part of the requirements described above and to provide a printing system that allows free selection of an output resource for printing on a network. The present invention provides a print portal system that intermediates between multiple content provider servers and multiple printing apparatuses to execute a printing operation in response to an instruction from a client connected to a network.","The client is a hardware structure, which has the function of gaining access to the network and is used by a user of the print portal system. Personal computers and cellular phones are typical examples of the client.","The network of the present invention may be either a LAN (Local Area Network) or a WAN (Wide Area Network). The system of the present invention is especially effective for the wide area network like the Internet. In the description below, the server may represent a single server or a group of multiple servers that attain a diversity of processing in a distributed manner.","A first print portal system of the present invention utilizes a print portal server that intermediates between multiple content provider servers and multiple printing apparatuses to execute a printing operation in response to an instruction from a client connected to a network. The print portal server includes: a lower-layer portal server management module that manages a plurality of lower-layer portal servers, which manage the multiple printing apparatuses and interact with a selected one of the printing apparatuses under management to transmit print data to the selected printing apparatus; and an upper-layer portal module that transmits the print data from one of the content provider servers to one of the lower-layer portal servers, based on a specification of the client. The upper-layer portal module has: a printing condition database that stores therein a printing condition mapped to at least one of the client, a user, the print data, and the printing apparatus; and a portal controller that refers to the printing condition database and controls the transmission of the print data to the lower-layer portal server, based on the specification of the client.","The user represents an entity who issues a printing requirement utilizing the print portal system via the client. When a cellular phone is the client, for example, the user is coincident with the owner of the client. The owner of the client may, however, not be identical with the user.","The first print portal system ensures selective use of the lower-layer portal servers on business.","In accordance with one preferable application of the first print portal system, the printing condition represents an available printing apparatus specified by a relation to at least one of the client, the user, and the print data, and the portal controller selects the lower-layer portal server as a destination of the transmission, according to the printing condition.","This arrangement restricts the output resource and thereby has advantages discussed below.","In some cases, a certain printing apparatus wants to give a printing permission to only specified clients. For example, when the printing apparatus is owned by an individual or a legal entity, it is probable that the printing permission is not given to outsiders. In other cases, there is a requirement to restrict printing of certain print data, which may benefit competitors of a specific lower-layer portal server. In still other cases, a content provider wants to restrict printing apparatuses used as the output resource. By taking into account such restrictions, the \u2018available printing apparatuses\u2019 are related to the client and the print data and are registered in the printing condition database. This readily attains the selective use of the printing apparatuses or the lower-layer portal servers.","In accordance with another preferable application of the first print portal system, the printing condition represents an output specification of a resulting print, and the portal controller transmits the printing condition mapped to the print data.","The condition regarding the output specification may be the printing paper, the selection of monochromatic or color printing, the number of copies, the print layout, or the printing time. Construction of the printing condition database assigned to each use enables the printing operation to be carried out in a specific output specification proper to the user or proper to the print data.","In accordance with still another preferable application of the first print portal system, the upper-layer portal module has a printing condition customization unit that accepts registration of the printing condition database by one of the user, an owner of the print data, and an owner of the printing apparatus.","Such customization further enhances the utility of print service system. The user of the print service system can register a generally used printing apparatus and typical printing conditions in the printing condition database. This arrangement makes the user free from the labor of specifying the printing conditions on every occasion of printing. It is preferable that the structure with the customization function further has an authentication function to authenticate each accessed user.","The first print portal system has the double-layered server structure, but may alternatively have a single-layered structure.","A second print portal system of the present invention utilizes a print portal server that intermediates between multiple content provider servers and multiple printing apparatuses to execute a printing operation in response to an instruction from a client connected to a network. The print portal server includes: a print data storage module that stores print data mapped to a predetermined identification code, which is open to only either of a specified user and a specified client, regardless of a printing requirement; a printing requirement input module that receives a printing requirement, which is sent from the client and includes the identification code and output resource specification information for specifying a printing apparatus as an output resource; and a storage data transmission module that transmits the print data mapped to the identification code and stored in the print data storage module to the specified printing apparatus in a specific form processible by the specified printing apparatus.","The print data storage module maps a predetermined identification code, which is open to only one or plural specified users or clients to each print data and stores the mapping. This is different from the spool file, since the mapping is stored regardless of the printing requirement. The print data represents a document or a content, which is a potential object of printing operation. In the case where the main body of the print data is stored in a server other than the print portal system, information for specifying its location on the network may be stored as the print data.","The printing requirement input module receives a printing requirement, which is sent from the client and includes the identification code and the output resource specification information for specifying the printing apparatus as the output resource. The storage data transmission module transmits the print data mapped to the identification code and stored in the print data storage module to the specified printing apparatus in a specific form processible by the specified printing apparatus.","The printing apparatus represents a unit including a printer as the hardware structure to execute printing and a controller, for example, a computer, for controlling the operations of the printer. In the process of printing with a printer, a printer driver generally functions to convert print data into control signals proper to the printer (hereinafter referred to as raw data) and transfer the raw data to the printer. Namely the printing apparatus represents a unit that carries out conversion of print data into raw data and thereby executes printing of the print data. The specific form processible by the printing apparatus means a format that enables conversion into raw data. When the stored print data is processible by the printing apparatus, the print data is transmitted without any conversion. When the stored print data is not processible by the printing apparatus, on the other hand, file conversion is required. Since there are diverse printing apparatuses that are possibly specified as the output resource, the file conversion desirably converts the print data into a general purpose format. Typical examples of the general purpose format include the PDF format and a page description language, such as PostScript (registered trade mark).","In the technique of the present invention, documents frequently used by the one or plural specified users or clients are stored in the print data storage module, and the printing operation is carried out in response to a simple input of the identification code. This arrangement enables the user to gain a resulting print without transmitting the print data to the print portal system, thus ensuring the enhanced utility.","In one preferable embodiment of the second print portal system, the identification code is assigned to either of each client and its user to unequivocally identify either of the client and its user.","A user ID required to enter the services of the print portal system may be set as the identification code of the user. An identification signal proper to the hardware structure used in the process of communication may be set as the identification code of the client. The arrangement of utilizing the identification code assigned to each user enables frequently used print data to be stored for the user. The arrangement of utilizing the identification code assigned to each client enables preset print data to be supplied to a specific client without identifying the user. One example of the latter application maps advertisement data, which benefits a certain shop, to a client installed in the shop and stores the mapping. An advertisement expressed by the advertisement data is readily printed without identifying the user.","In another preferable embodiment of the second print portal system, the identification code is assigned to each print data to unequivocally identify the print data.","In this embodiment, the identification code is related to each print data, regardless of the user or the client. The identification code should, however, be a restrictive code open to only one or plural specified users or clients. The arrangement of utilizing the identification code for unequivocally identifying each print data facilitates the identification of the print data, thus enhancing the utility. Notifying the identification code assigned to each print data enables a plurality of users to share the print data. This is useful in the case of restrictively providing specific members or specific Web page browsers with information.","In the second print portal system, the identification code may be generated by combining a user code for identifying either of each client and its user with a document code for individually identifying a document related to either of the client and its user.","One example is an identification code including a user ID in its upper place and a document number in its lower place. Assignment of the user code to each enterprise allows the print data to be shared by members of the enterprise. This arrangement enables members of the enterprise to share catalogs and application forms used on business, thus enhancing the utility.","The identification code is not restricted to the code of unequivocally identifying either the user or the print data like the above embodiments, but may be any code open to only one or plural specified users or clients. For example, an identification code assigned to an enterprise or any other organization independently of the user may be mapped to each stored print data.","In accordance with one preferable application of the second print portal system, the storage data transmission module includes: a storage data display unit that causes the print data mapped to the identification code included in the printing requirement and stored to be displayed on the client; and a print data identification unit that receives information sent from the client for identifying the print data to be transmitted to the specified printing apparatus.","This arrangement gives the client a list of print data corresponding to a certain identification code and enables the client to select desired print data out of the list for the printing operation","In another preferable application of the second print portal system, the print portal server further includes: an addition requirement input module that receives an addition requirement, which is sent from the client and includes the identification code and print data to be newly stored; and a print data addition module that maps the print data specified by the addition requirement to the identification code and adds the mapping to the print data storage module.","In still another preferable application of the second print portal system, the print portal server further includes: a delete requirement input module that receives a delete requirement, which is sent from the client and includes information for specifying print data to be deleted from the print data storage module; and a print data deletion module that deletes the print data specified by the delete requirement from the print data storage module.","This arrangement enables the contents of the print data storage module to be customized. The customization includes the function of additionally registering new print data to the print data storage module and the function of deleting non-required print data from the print data storage module.","The technique of the present invention is not restricted to the applications of the print portal system and the print portal server discussed above, but may be actualized as corresponding print portal methods. The present invention may also be attained by programs for causing the server to exert the functions discussed above, a diversity of signals equivalent to the programs, and recording media in which such programs are recorded. Computer recording media include both computer storage media and printed media. Typical examples of computer storage media include, but are not limited to, flexible disks, CD-ROMs, magneto-optic discs, IC cards, ROM cartridges, internal storage devices (memories like a RAM and a ROM) and external storage devices of the computer. Printed media typically include punched cards and prints with barcodes or other codes printed thereon.","Some modes of carrying out the invention are discussed below in the following sequence:","A. Basic System Architecture",{"@attributes":{"id":"p-0126","num":"0000"},"ul":{"@attributes":{"id":"ul0001","list-style":"none"},"li":{"@attributes":{"id":"ul0001-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0002","list-style":"none"},"li":["A1. Overview of System","A2. Functionality","A3. Configuration of Functional Blocks","A4. Connection with Printing Service Provider","A5. Print request","A6. File Conversion\n\nB. Examples of Printing\n","B1. Printing Mails","B2. Printing Web Pages","B3. Printing Tickets","B4. Printing User's Own Documents","B5. Delivery of Electronic Newspapers ()","B6. Delivery of Electronic Newspapers ()","B7. Image Processing Service\n\nC. Various Processes of Designating Output resource\n\nD. Additional Functionality of Printing\n","D1. Addition of Input Source ID Information","D2. Layout Print","D3. Addition of Ad\n\nE. Customization Functionality\n","E1. Customization Functionality for Users","E2. Customization Functionality for Content Providers","E3. Customization Functionality for Printing Stations\n\nF. Settings of Printing Conditions\n\nG. Accounting\n","G1. Accounting","G2. Authentication\n\nH. Maintenance and Management of Printers\n\nI. Mediation via Single-Layer Server\n\nA. Basic System Architecture\n\nA1. Overview of System\n"]}}}},{"@attributes":{"id":"p-0127","num":"0145"},"figref":"FIG. 1"},"In the system of this embodiment, a diversity of servers and clients are connected to the Internet INT. For convenience of explanation, the connection is shown in a hierarchical manner, but the respective constituents enable mutual transmission of information via the Internet INT. For clarity of illustration and explanation, only a limited number of constituents are shown, although there is no limit of in number of connections. The technique of the embodiment executes a printing operation with an arbitrary printer under the system architecture including a large number of servers and clients connected with one another via the Internet INT.","This embodiment uses, as the clients, mobile phones MP, MP, MP, MP, MP, MP having the access functionality to the Internet. Each of these mobile phones, for example, MP gains access to the Internet via any of service providers SP, SP, and SP. The clients are not restricted to the mobile phones but may be personal computers.","Content providers CP and CP are also connected to the Internet INT. In the system of this embodiment, these content providers, for example, CP, provide contents to be printed. The content providers include Web page providers on the Internet INT.","In the system of this embodiment, printing stations, for example, PS, are output resources. The printing stations like PS represent printers that enable transmission of data via the Internet. The printing station is constructed, for example, by combining a computer connected to the Internet with a printer locally connected to the computer. The printing stations may be located in rather private spaces with relatively limited users like individual houses and offices or in rather public spaces like stores and hotels.","In the system of this embodiment, in response to an instruction from the client MP, contents provided by the content provider CP are transmitted to the printing station, which executes an actual printing operation. Two different-layered servers, that is, upper-layer and lower-layer servers, mediate data between the clients and the printing stations.","In the illustrated example, the upper-layer server is a printing mediation system (print portal) PP, and the lower-layer servers are printing service providers PSP and PSP.","The lower-layer servers, such as the printing service provider PSP, function to manage the printing stations like PS. In the illustrated example, the printing service provider PSP manages printing stations PS to PS, whereas the printing service provider PSP manages printing stations PS to PS. In the case where the printing stations like PS are located in individual stores, for example, the respective printing service providers PSP may be owned by different business proprietors. A business proprietor A owns the printing service provider PSP and manages the printing stations PS to PS located in its head quarter and branch shops. A business proprietor B owns the printing service provider PSP and manages the printing stations PS to PS. Such arrangement enables each business proprietor to manage its own printing stations and supply unique services relating to the mediation of print data, for example, discount service.","The upper-layer server, that is, the print portal PP, manages the printing service providers PSP and PSP. The print portal PP thus indirectly manages the printing stations like PS via the printing service providers PSP and PSP. The upper-layer server provides common functionality even when the printing service providers PS and PS are run by the different business proprietors. For example, the upper-layer server provides a standard interface in response to a print request from the client MP. This desirably enhances the utility of the users.","The upper-layer server and the lower-layer server are functionally parted from each other, and each server may not be constructed as a single server. The functionality of the upper-layer server and the lower-layer server discussed below may be distributed into multiple servers.","A2. Functionality","The internal structure of each constituent included in the system of the embodiment will be discussed later. In order to elucidate the functionality of the servers and the other constituents, the following description regards a concrete example of printing E mails utilizing the print portal.",{"@attributes":{"id":"p-0138","num":"0156"},"figref":["FIG. 2","FIG. 3","FIG. 4"]},"The user first gains access from a client MP to the mail service CP, checks E mails addressed to the user, and selects one or plural mails to be printed. A series of interface windows appearing on a display unit DISP of the mobile phone is shown in . The left-side window shows that there are four mails Mail  to Mail  addressed to the user and that Mail  and Mail  have been selected as objects of printing. This interface is provided by the mail service CP. When the user presses a button \u2018iPrint\u2019 on the window, a requirement for execution of printing is transmitted from the mail service CP to the print portal PP (see Sa in  and ).","When the mail service CP is registered in advance as a content provider in the print portal PP, the button \u2018iPrint\u2019 appears on the window. This button functions as a link to the print portal PP. In response to the requirement for printing by a press of the \u2018iPrint\u2019 button, the destination of access by the client MP is changed to the print portal PP. Print data, that, is, data of Mail  and Mail , is then transmitted from the mail service CP to the print portal PP (see Sa in  and ).","The print portal PP subsequently provides the client MP with interfaces for specifying the output resource and printing conditions (see Sa in  and ).","The center drawing of  shows an interface window for designating the output resource. Available printing stations are enumerated for the designation of the output resource. The list of the available output resources may be displayed in a hierarchical manner. For example, when the user selects \u2018XX Store\u2019 in the list shown in , all shops belonging to the XX Store chain are enumerated. One modified procedure may cause the use to select one among available printing service providers on the first stage of the hierarchical designation.","The right-side drawing of  shows an interface window for specifying the printing conditions. Typical examples of the printing conditions include the paper size, the layout, and the resolution. Selection of a \u2018Printing Paper\u2019 menu enables the detailed settings for the printing paper, for example, the size A4 or B5. Selection of a \u2018Layout\u2019 menu enables the detailed settings for the layout, for example, 1 page\/sheet or 2 pages\/sheet. Selection of other menus enables the detailed settings for other printing conditions. The settings of printing are not restricted to this example, but a diversity of fields may be provided by taking into account the utility.","When the user completes the specification of the output resource and the printing conditions with the above interface, the specified information is transmitted to the print portal PP (see Sa in  and ). The print portal PP selects the printing service provider PSP as the destination of transmission of a print job, based on the received information, and transfers the print job to the selected printing service provider PSP (see Sa in  and ). Here the printing service provider PSP, which manages the printing station PS designated by the user as the output resource, is selected as the destination of transmission of the print job.","The printing service provider PSP that has received the print Job selects the printing station PS and transfers the print job to the selected printing station PS (see Sa in  and ). Here the printing station PS designated by the user is selected as the destination of transmission.","The print data is converted to a PDF file, which is a general purpose format, in the course of mediation with the print portal PP and the printing service provider PSP. The printing station PSll analyzes the PDF file and executes a printing operation.","As shown by Sa in , a display including the designated output resource and the specified printing conditions may be given to the client MP for the purpose of check and confirmation, prior to the transfer of the print job from the printing service provider PSP to the printing station PS.","On completion of the printing operation, a report of printing results may be transmitted from the printing station PS to the print portal PP. The print portal PP detects the normal completion of the printing operation based on the report, and carries out post services like accounting.","The above example mediates printing with the two different layered servers, that is, the print portal PP as the upper-layer server and the printing service providers like PSP as the lower-layer servers.","The use of the two-layered servers for the mediation have advantages discussed below.","The lower-layer server may be organized by each business line, in order to provide unique services characteristic of the business line and allow discrimination from other business proprietors. Each business proprietor can rather readily take in the users and the content providers registered with the print portal PP as the potential customers of its business line.","Even when the lower-layer servers are individually organized by different business lines, the upper-layer server provides the users with a standard interface. This enhances the utility of the print portal.","The user who has been registered with the print portal PP can readily utilize a diversity of lower-layer servers under the control of the print portal PP. This arrangement does not require time-consuming, complicated registration and other related work for each lower-layer server, thus enhancing the utility. The content providers share such advantages. The content provider that has been registered with the print portal PP can readily increase in number the users and the output resources of the offered contents.","The printing mediation system is not restricted to the construction utilizing the two-layered servers, but may be organized by a single-layer server configuration having the combined functions of the print portal and the printing service providers. This configuration is discussed later as a modified example of the embodiment.","A3. Configuration of Functional Blocks",{"@attributes":{"id":"p-0155","num":"0173"},"figref":["FIG. 5","FIG. 1"]},"As illustrated, a print portal  mainly includes three functional blocks, a core module , a file conversion unit , and an application unit . In this embodiment, these functional blocks are attained by the software.","The file conversion unit  converts the format of print data to a predetermined intermediate file in the course of mediation of the print data. The PDF is used as the general purpose format in this embodiment.","The application unit  executes the main functions of the print portal PP to mediate the print data and a diversity of additional functions. The additional functions include, for example, addition of advertisement (ad) and accounting, which will be discussed later.","The core module  cooperates with the file conversion unit  and the application unit  to mediate the print data. The core module  takes charge of communication with a content provider , a service provider , and a printing service provider . The printing service provider  has an interface module  to ensure the flexibility of a protocol in connection with the print portal PP.",{"@attributes":{"id":"p-0160","num":"0178"},"figref":"FIG. 6","b":["130","130"]},"A controller  controls the operations of the respective functional blocks of the print portal  and transmission of information to and from the outside via the internet INT. The control includes registration and management of users and providers, control of the status of print jobs, acceptance and cancellation of print requests, and retrieval of printers as the output resource. The controller  also provides an interface window to allow transmission of data between the print portal  and the outside.","A registration management unit  takes charge of registration and management of the user utilizing the print portal PP, the content provider , and the printing service provider . The registration management unit  creates an interface window for the registration and management and stores and updates registration-related data in a predetermined data base.","A queuing system  relays the operations of the respective functional blocks. In this embodiment, the respective functional blocks are constructed by the object-oriented software. Each functional block refers to a message registered in the queuing system , detects the presence of a job to be processed, and executes the actual processing. On completion of the processing, a message representing conclusion of the processing is registered in the queuing system . The respective functional blocks execute the processing with the queuing system  as the relay. The print portal PP accordingly actualizes a series of processing, from acceptance of a print request to completion of a printing operation.","In order to attain the series of processing, the queuing system  has a content fetching queue, a file conversion queue, a job sending queue, and a job canceling queue.","A content fetching unit  gains access to the content provider  and fetches a content specified by the user as an object of printing. The fetched content is temporarily stored in a content storage unit . The content fetching unit  refers to the content fetching queue provided in the queuing system  and performs the above operation according to the message accumulated in the content fetching queue. After fetching the content, the content fetching unit  registers a message to require file conversion of the content in the fine conversion queue provided in the queuing system .","The file conversion unit  functions to convert the content to the PDF format. The PDF is the general purpose format. Conversion of the print data to this format advantageously enables output of the print data to a diversity of printers. Another advantage is relatively accurate reproduction of the selected layout in prints. The PDF allows conversion from practically any print data including documents and pictures, so that a wide range of contents can be the object of printing. A page description language, such as Postscript (registered trademark), may alternatively be used as the general purpose format.","In the structure of this embodiment, with a view to relieving the load applied to each server, the file conversion unit  is constructed as a separate server from the core module . The core module  accordingly has a DF interface  to allow transmission of data to and from the file conversion unit .","The DF interface  transfers data to the file conversion unit , in response to the message accumulated in the file conversion queue provided in the queuing system . When receiving a processed PDF file from the file conversion unit , the DF interface  registers a message of print job transmission in the job sending queue provided in the queuing system . One possible modification omits the DF interface  and constructs the file conversion unit  to gain direct access to the queuing system .","A PSP interface  functions to transmit a print job to the printing service provider . More specifically, the PSP interface  transmits a print job to the designated printing service provider , in response to the message accumulated in the job sending queue provided in the queuing system . The PSP interface  also sends a message of job cancellation accumulated in the job canceling queue. The transmission is attained according to a diversity of protocols set by the printing service provider , for example, HTTP (Hypertext Transport Protocol).","The core module  includes a diversity of databases, such as a user database  and a printer database . Although only two databases are illustrated in this embodiment, a greater number of databases may be provided in the core module . The registration management unit  manages these databases. The databases are utilized for the processing executed in the core module , as well as for the processing executed by the application unit .",{"@attributes":{"id":"p-0171","num":"0189"},"figref":"FIG. 7","b":["150","150","100","150"]},{"@attributes":{"id":"p-0172","num":"0190"},"figref":"FIG. 8","b":["152","150","152","100","152"]},"Various pieces of information other than those mentioned above may also be registered in the printer database . In the structure of this embodiment, the printer database  stores the information by the unit of printing stations. The printer database  may alternatively store the information by the unit of printing service providers.","As described above, the series of processing is executed in the print portal , based on the messages registered in the queuing system . The functions of the queuing system  are discussed concretely with the example of the printing operation shown in .",{"@attributes":{"id":"p-0175","num":"0193"},"figref":"FIG. 9","b":["140","01","132","100","02","132","03","04","132","140","05"]},"The print portal  then fetches the content specified by the print request. This content fetching process is carried out in parallel to the print request acceptance process. The content fetching unit  refers to the queuing system  at regular intervals and picks up a message accumulated therein (step Sb). The content fetching unit  gains access to the content provider according to the picked-up message (step Sb) and fetches the specified content (step Sb). On completion of fetching the content, the content fetching unit  registers a message representing conclusion of the content fetching process in the queuing system  (step Sb). This concludes the process of fetching the content.","The print portal  subsequently carries out file conversion of the content. This file conversion process is carried out in parallel to the print request acceptance process and the content fetching process. The DF interface  refers to the queuing system  at regular intervals and picks up a message accumulated therein (step Sb). The DF interface  causes the file conversion unit  to carry out the file conversion according to the picked-up message. On completion of file conversion, the DF interface  registers a message representing conclusion of the file conversion in the queuing system . This concludes the process of file conversion.","The print portal  then transmits the print job to the printing service provider. The transmission is carried out in parallel to the above processes. The PSP interface  refers to the queuing system  at regular intervals and picks up a message accumulated therein (step Sb). The PSP interface  sends the print job to the designated printing service provider according to the picked-up message (step Sb). This concludes the process of sending the print job.","As discussed above, the print portal  implements the four processes to accept the print request, fetch the content, convert the file, and send the print job in the course of mediation of printing. With regard to each print job, these processes are performed in sequence. The respective functional blocks, however, do not perform the processing in a synchronous manner. In the print portal , the respective functional blocks execute the individual processes at intrinsic timings, while the queuing system  relays these processes to actualize a series of processing as a whole.","In this embodiment, the use of the queuing system  ensures the excellent extensibility.",{"@attributes":{"id":"p-0181","num":"0199"},"figref":"FIG. 10","b":["132","160","136","138","140","132","132","102","102","132","132","132","132"]},"In the structure of this embodiment, the respective functional blocks independently execute the processing, based on the messages accumulated in the queuing system . This arrangement ensures easy extension of the system. The example of  multiplies all the functional blocks. The extension of the system can be actualized flexibly according to the loading applied to the respective functional blocks.","The example of  shows the extension of the system in the core module . Similar extension of the system may be applied for the file conversion unit .",{"@attributes":{"id":"p-0184","num":"0202"},"figref":"FIG. 11","b":["110","11","140","110","110"]},"In the example of , there are the multiple controllers  and A and content fetching units  and A.","File conversion Web servers  and A are also provided as additional functional blocks. The file conversion Web servers  and A carry out only the file conversion, regardless of the mediation of printing. Namely the file conversion Web servers  and A are not the essential functional blocks for the mediation of printing.","The user sends either a print request or a file conversion requirement to the load distribution unit . The load distribution unit  transmits the print request to either one of the controllers  and A, while transmitting the file conversion requirement to either one of the Web servers  and A. In the case of the file conversion requirement, the content as the object of conversion is transmitted together with the requirement.","The controllers  and A register the print request in a content fetching queue . The content fetching units  and A fetch a content according to the registered message and register a message of requiring file conversion in a file conversion queue . The file conversion Web servers  and A are not required to fetch a content and thus directly register a message of requiring file conversion in the file conversion queue .","The file conversion units  and A individually refer to the file conversion queue  and execute the processing in response to a message registered therein, if any. The individual operations of the two file conversion units  and A enable distribution of the loading of file conversion.","The examples of  extend the system utilizing a single queuing system . Providing multiple queuing systems  in parallel allows greater-scaled system extension.","A4. Connection with Printing Service Provider",{"@attributes":{"id":"p-0191","num":"0209"},"figref":"FIG. 12","b":["100","100"]},"As illustrated, the PSP interface  has two-layered interfaces. The upper-layer interface is a general purpose PSP interface . The general purpose PSP interface  transmits messages and data to and from other functional blocks, such as the queuing system , included in the print portal .","The lower-layer interface includes individual PSP interfaces and The individual PSP interfaces like are provided for the respective printing service providers, and transmit data to and from the general purpose PSP interface  according to protocols adequate for the respective requirements.","In one example, the individual PSP interface communicates with the printing service provider by SMTP (Simple Mail Transfer Protocol) for both sending and receiving. The individual PSP interface communicates with the printing service provider by HTTP for both sending and receiving. The individual PSP interface transmits data to the printing service provider by HTTP, while receiving data from the printing service provider by FTP (File Transfer Protocol). The individual PSP interfaces may transmit data by diverse protocols other than those discussed above, according to requirements of the printing service providers.",{"@attributes":{"id":"p-0195","num":"0213"},"figref":"FIG. 13","b":["100","140"]},"The PSP interface  monitors the queuing system  at regular intervals and picks up a print request (step Sc). The PSP interface  then transmits the print request to the printing service provider designated by this message (step Sc). The printing service provider sends a job number as the response (step Sc), and the PSP interface registers the job number in the queuing system  (step Sc). In this example, the printing service provider temporarily holds the print request. One possible modification omits the transmission of the job number and causes the printing service provider to directly transmit the print request to the designated printing station.","When the user gives an instruction to cancel the printing operation, data transmission is carried out in a similar manner. In response to registration of a cancellation requirement in the queuing system , the PSP interface picks up the cancellation requirement (step Sc) and transmits the cancellation requirement to the printing service provider (step Sc). The printing service provider sends a response message (step Sc), and the PSP interface registers the response message in the queuing system  (step Sc). The transmission of the message of canceling the printing operation is carried out in parallel to the transmission of the print request.","In the example of , the printing operation is executed in response to input of the job number into the printing station. The user inputs the job number through an operation of, for example, a panel, on the printing station (step Sc). The printing station accordingly requires the printing service provider to send data (step Sc), receives the required data (step Sc), and carries out an actual printing operation. On completion of the printing operation, the printing station sends a notification representing conclusion of the printing operation to the printing service provider (step Sc). The notification is registered in the queuing system via the PSP interface (steps Sc and Sc).","In response to detection of the concluded printing operation, the print portal  notifies the user of completion of the printing process, deletes various data relating to the concluded job, and carries out post services like accounting.","A5. Print Request","As discussed previously with , in this embodiment, the printing process starts in response to a click of the \u2018iPrint\u2019 button displayed on the window of the client. At the starting time, the destination of access by the client is changed from the content provider, which provides a content to be printed, to the print portal, and information representing the address of the content is transferred from the content provider to the print portal. The following describes transmission of data between the client, the content provider, and the print portal at the starting time of the printing process.",{"@attributes":{"id":"p-0201","num":"0219"},"figref":"FIG. 14","b":["30","10","100","10","100"]},{"@attributes":{"id":"p-0202","num":"0220"},"figref":"FIG. 15","b":["10","1","100","100","2","10","100"]},"One exemplified procedure of transmitting the content information provides a CGI (Common Gateway Interface) called on a click of the \u2018iPrint\u2019 button and utilizes a method like GET\/POST to send the content information to the print portal.","The transmitted content information includes, for example, the URL and the name of the content. By taking into account the possible restriction on the settings of printing with regard to each content set by the content provider , the content information may further include the paper size, the selection of color printing or monochromatic printing, the maximum copies permitted, the permission to contract, the requirement of a notice to inform the content provider  of completion of printing, and the price of the content.",{"@attributes":{"id":"p-0205","num":"0223"},"figref":"FIG. 16","b":["10","11","10","12","10","100","13","10","100"]},"Either of these procedures may be adopted to issue the print request.","There are a diversity of interface windows applicable to issue the print request.",{"@attributes":{"id":"p-0208","num":"0226"},"figref":["FIG. 17","FIG. 4","FIGS. 15 and 16"]},{"@attributes":{"id":"p-0209","num":"0227"},"figref":"FIG. 18"},"When the user clicks the menu name \u2018File\u2019 on the menu bar, a pull-down menu including commands like \u2018New\u2019 and \u2018Open\u2019 appears. The pull-down menu includes the \u2018iPrint\u2019 command as the function of the browser. A user's click of the \u2018iPrint\u2019 command issues the print request. The function of notifying the browsed content provider of selection of the \u2018iPrint\u2019 command is provided in advance in the browser. This actualizes the data transmission shown in either  or . The print portal may provide the browser with an additional module to attain the function.",{"@attributes":{"id":"p-0211","num":"0229"},"figref":"FIG. 19"},"The Web page of the print portal has an input box for specifying a printer as the output resource. A diversity of methods may be adopted to specify a printer as the output resource. The window of this example allows selection of a printer in a printer list.","When the user clicks a dialog box for specifying the printer, a first pull-down menu includes relatively wide districts, for example, Aichi Pref., Gifu Pref., and Nagano Pref. When the printer of the desired output resource is located in Aichi Prefecture, the user clicks \u2018Aichi Pref.\u2019. A second pull-down menu then appears to include relatively narrow regions in Aichi Prefecture, for example, \u2018Kita Ward, Nagoya City\u2019 and \u2018Nishi Ward, Nagoya City\u2019. When the user clicks \u2018Naka Ward, Nagoya City\u2019 where the printer of the desired output resource is located, the exact locations of all the available printers registered in the print portal service PS are displayed. The user selects the name of the hotel where the user stays, so as to specify the printer PRT of the desired output resource. This arrangement enables a desired printer to be readily selected among available printers by the hierarchical selection.","After specifying the printing conditions including the address of the print data and the desired output resource, the user clicks the \u2018iPrint\u2019 button to issue the print request.","A6. File Conversion",{"@attributes":{"id":"p-0215","num":"0233"},"figref":"FIG. 20","b":["130","110","136"]},"As mentioned previously, the content to be printed is converted to the general purpose format by the file conversion unit . In this embodiment, PDF is applied for the general purpose format. The file conversion unit  works according to the messages registered in the queuing system . The configuration of this embodiment enables communication between the core module  and the file conversion unit  and file conversion to be executed at different timings. Such configuration ensures smooth processing even in the case of concentration of many file conversion requirements. Another applicable configuration maintains the communication until the file conversion executed by the file conversion unit  is completed.","As illustrated, when the file conversion process starts, a request of file conversion is sent from the core module  to the file conversion unit . In the configuration of this embodiment, the request is transmitted by the protocol HTTP. The request accordingly has an HTTP header and an HTTP body, which includes a command part and a file part. The command part includes a command for controlling the state of file conversion, and the file part includes a content as the object of file conversion.","The file conversion unit  temporarily holds the request and sends a return value, which represents acceptance of the request, to the core module . Then the communication between the core module  and the file conversion unit  is suspended. Meanwhile the file conversion unit  may receive another request.","The file conversion unit  executes file conversion at a predetermined timing in response to the request, and transfers the result of the file conversion as a reply to the core module . In the configuration of this embodiment, the transfer of the file conversion result utilizes a POST command based on the HTTP protocol. In order to enable the transfer utilizing the POST command, the core module  is constructed to function as an HTTP server . The file conversion unit  transmits the replay to the URL specifying the HTTP server . The replay has an HTTP header and an HTTP body, which includes a status part and a file part. The status part includes information representing the state of execution of the file conversion job, such as \u2018completion of conversion\u2019. When the status part includes \u2018completion of conversion\u2019 information, the result of the file conversion is attached to the file part. In the case of any failure of conversion, the status part includes \u2018error\u2019 information. In the case of a replay to the inquiry about the status from the core module , the status part includes \u2018stand-by\u2019 information.","The file conversion unit  executes the acceptance of the request and the transfer of the file conversion result at different timings. This enhances the rate of file conversion. The file conversion unit  posts the file conversion result to the core module , so that the core module  is free from the process of actively fetching the file conversion result. This arrangement advantageously relieves the load of the core module .","A diversity of procedures other than that discussed above may be applied to transfer the file conversion result from the file conversion unit  to the core module .","In one modified example, the core module  provides an internal mail server, and the file conversion unit  sends the file conversion result in the form of a mail to this mail server.","In another modified example, the core module  carries out polling for the completion of the file conversion executed by the file conversion unit  according to the following procedure. The core module  gives an inquiry about the status of the file conversion job to the file conversion unit  at regular intervals. When the job is incomplete, the return value representing the incomplete state is sent to the core module . When the job is complete, on the other hand, the result of the file conversion is sent to the core module . This application requires the core module  to take the load of polling, but facilitates mounting of the file conversion unit .","The communication between the file conversion unit  and the core module  may be kept over the whole time period from the acceptance of the request to the completion of the file conversion. Another possible application estimates a time required for file conversion based on the file size, and changes the replay timing of the conversion result according to the estimation. When the estimation result, requires a relatively long time, the timing of the replay is differentiated from the timing of the registration of the request. When the estimation result requires a relatively short time, on the other hand, the result may be transmitted as the return value to the registration of the request.","In this embodiment, the file conversion unit  is organized inside the print portal . The file conversion unit  may execute the file conversion in a variety of phases of mediating the print data.  shows variations on timing of file conversion.","Four cases, Case A to Case D, are shown here. For convenience of explanation, original data before file conversion is called \u2018content\u2019, and converted data after file conversion is called \u2018PDF data\u2019.","In Case A, the content provider carries out file conversion. When the user sends a self-made document from the client to the print portal, the client simultaneously corresponds to the content provider. In Case A, the content provider outputs data in the form of a PDF file. Neither the print portal nor the printing service provider is required to carry out the file conversion.","In Case B, the print portal carries out file conversion. This corresponds to this embodiment. The content transmitted to the print portal in Case B may follow any of diverse formats, for example, HTML, XML, text file, JPEG. The data output from the print portal to the printing service provider are unified to the PDF file.","In Case C, the printing service provider carries out file conversion. Data of various formats are supplied from the content provider to the printing service provider via the print portal, and are unified to the PDF file immediately before transmission to the printing station. As the printing service provider is individually organized by each business proprietor, the business proprietor may individually select the format after the file conversion.","B. Examples of Printing","A variety of examples utilizing the system of the embodiment are discussed below.","B1. Printing Mails",{"@attributes":{"id":"p-0231","num":"0249"},"figref":"FIG. 22"},"The printer PRT functioning as the output resource is registered in advance in a print portal PP and is identified by an ID number allocated thereto. In this example, the printer PRT has the ID number \u20181111\u2019. The ID number is a code set by the print portal PP, irrespective of the information for identifying the printer PRT on the network, for example, an IP address used in the TCP\/IP protocol or a URI code used in the IPP protocol. As discussed later, in this example, the user specifies the printer PRT of the desired output resource with this ID number. The arrangement of setting no relation between the information for identifying the printer PRT on the network and the ID number open to the general users enables the address of the printer PRT on the network to be hidden from the public. This effectively prevents unauthorized and illegal accesses.","The print portal PP, the mail service RM, and the mail server MS may be provided by different business proprietors, as long as they are mutually connected. For example, the mail server MS is registered in the mail service RM, which is registered in the print portal PP. The mail service RM offers functions required for printing via the print portal PP as one of the services. These functions include, for example, providing an interface for issuing print requests to the print portal PP and transferring contents to the print portal PP.","One concrete procedure of printing E mails is discussed below with referring to .  show a sequence of printing E mails.  show an exemplified interface in the process of printing E mails.","The user gains access from the mobile phone MP to the mail service RM (communication Cm in ). The mail service RM then accesses the mail server MS to fetch data regarding E mails addressed to the user, and displays the data, such as \u2018where the mail is sent from\u2019 and \u2018subject\u2019, on the mobile phone MP (communications Cm and Cm in ). The user selects desired E mails as the objects of printing out of the displayed list of E mails and transmits the selected E mails to the mail service RM (see step Sd in ).","The left-side drawing of  shows an interface used for selection of desired E mails. A list of E mails addressed to the user is displayed with corresponding checkboxes on a display DISP of the user's mobile phone MP. In this embodiment, there are four mails Mail  to Mail  addressed to the user. The user operates a cursor key on the mobile phone MP to tick the checkbox corresponding to each E mail of interest as the object of printing. In this example, the user ticks two E mails, that is, Mail  and Mail . The \u2018iPrint\u2019 button is displayed together with the list of E mails. After ticking the checkboxes corresponding to the E mails to be printed, the user shifts the cursor to the \u2018iPrint\u2019 button and presses the \u2018iPrint\u2019 button to transmit the selected E mails as the results of the selection to the mail service RM. This interface is only illustrative. A diversity of other interfaces are applicable, as long as the interface exerts the function of selecting desired E mails as objects of printing among all the received E mails and the function of transmitting the results of the selection to the mail service RM.","When receiving the results of the selection, the mail service RM accesses the mail server MS and fetches data on the selected E mails (steps Sd and Sd in ). The mail service RM also fetches data of a file attached to the E mail, if any.","The mail service RM then transfers the data on each E mail of interest as the object of printing to the print portal PP through communication Cm in  (step Sd in ). The print portal PP estimates the number of pages to be printed, the charge, and the required time, based on the transmitted information, such as the quantity of print data, and sends back the results of the estimation as an estimate printing information overview to the mail service RM (step Sd in ). At this moment, the detailed conditions like the output resource and the print mode have not yet been specified, so that the results of the estimation like the charge and the required time include some errors. The data transferred from the mail service RM at step Sd should be sufficient for specifying the estimate printing information overview. It is accordingly not required to transfer all the data of the E mail, but transmission of only the information, such as the quantity of data of the E mail and the discrimination code representing color or monochromatic, may be sufficient.","The mail service RM causes the estimate printing information overview received from the print portal PP to be displayed on the mobile phone MP (step Sd in ). The right-side drawing of  illustrates a display example of the estimate printing information overview. The number of pages to be printed, the charge, and the required time are displayed for each designated E mail. Each field may show the total of all the designated E mails. Fields other than those illustrated in  may be included in the estimate printing information overview.","The user checks the displayed estimate printing information overview and determines execution or non-execution of the printing operation. When the printing operation is to be executed, the user gives a print start command (step Sd in ). The user presses an \u2018Execute\u2019 button displayed on the display unit DISP with the estimate printing information overview to give the print start command. The print start command may alternatively be given by pressing any button originally set on the mobile phone MP.","The print start command given by the user is transmitted to the print portal PP via the mail service RM through communications Cm and Cm in  (step Sd in ). The print data, that is, the text of each E mail and a file attached thereto, if any, is also sent from the mail service RM to the print portal PP. When all the print data has already been sent to the print portal PP at step Sd, only the print start command is transmitted here. In response to this command, the mail service RM concludes the communication with the mobile phone MP. The subsequent communication is communication Cm of  established between the mobile phone MP and the print portal PP.","Receiving the print start command, the print portal PP causes a standard menu of printing to be displayed on the mobile phone MP (step Sd in ). The left-side drawing of  illustrates a standard menu. The standard menu includes fields for specifying the printing-related conditions, such as the URL of a content of interest to be printed, the number of copies, and the printer of the desired output resource. Selection of a specific field out of this menu changes the display to an input box. The example of  shows the case of specifying the printer of the desired output resource. A box IP for inputting the ID number allocated to the printer of the desired output resource appears in response to selection of the field \u2018Printer No.\u2019 The user inputs the ID number \u20181111\u2019 allocated to the printer PRT of the desired output resource in this box IP. When the user specifies the printer of the desired output resource and presses a \u2018Send\u2019 button, the input ID number is sent to the print portal PP to specify the output printer (step Sd in ). The other printing conditions, such as the number of copies, are sent simultaneously.","Address information for locating the printer PRT of the desired output resource on the network, for example, an IP address or a URI, has been registered in advance in the printing service provide or in the print portal PP. Information on the type of the printer like an inkjet printer or a laser printer, as well as other required pieces of information have been registered in the print portal PP. The print portal PP specifies detailed estimate printing information based on the registered information and causes the estimate printing information to be displayed on the mobile phone MP (step Sd in ).","It is desirable to display the ID number of the printer as the desired output resource, together with the detailed estimate printing information. The display effectively prevents the printing operation from being carried out at any unintentional place, due to the user's input of a wrong ID number.","The user confirms the detailed estimate printing information and gives a print execution command (step Sd in ). In this embodiment, the user inputs a password assigned to the user, to give the print execution command. The input of the password proves that the user agrees with the specified printing conditions.","The center drawing of  shows an interface window for inputting the password. After the display of the detailed estimate printing information including the charge and the required time, the display is changed to an input box for inputting the password. When the user inputs the password and presses the \u2018Send\u2019 button, the input password is sent to the print portal PP. Although the password is displayed as \u2018****\u2019 in this embodiment, the input password may be displayed explicitly.","The user password has been registered in advance in the print portal PP. The print portal PP refers to the registered information and verifies the identity of the logging-on user as an authorized user having the right of access to the printer PRT. In the case of the authenticated user, the display on the mobile phone MP is changed to a print start window (step Sd in ). Simultaneously, the print portal PP transmits preset banner data to the printer PRT through communication Cm in  and causes the printer PRT to print a banner ad (hereinafter referred to as the banner page) (step Sd in ).","The banner data may be kept in advance in the print portal PP or may be sent from a specific content provider. With a view to saving the resource, it is desirable to transfer the content and the banner data to the file conversion unit  each time. The banner data is provided by diverse sponsors that desire the use of the print portal PP. The display on the mobile phone MP is then changed to a check window to request the user to confirm successful printing of the banner page (step Sd in ). The right-side drawing of  shows an example of such display.","Printing the banner page has two major advantages discussed below. The first advantage is to gain advertising rates from dealers, sales agents, and traders that desire to advertise. This reduces the cost of the users that utilize the print portal PP. The second advantage is test printing. The banner page without any secrecy is printed first and the result of printing is checked. This desirably prevents the wrong designation of the desired output resource and the wrong settings of the printing conditions. This is especially effective for printing documents with high secrecy.","The user confirms successful printing of the banner page and presses an \u2018OK\u2019 button shown in  to notify the print portal PP of the confirmation (step Sd). The print portal PP sends data of all the designated E mails to the printer PRT in response to the notification (step Sd in ). On completion of printing all the designated E mails, the print portal PP outputs data regarding the total account of printing to the address of account (step Sd in ). This concludes the series of processing.","A diversity of settings may be applied for the address of account. In the case of charged mail service RM, the mail service RM may carry out the accounting procedures. In this case, the account information is transmitted to the mail service RM. The accounting procedures may also be carried out by the carrier of the mobile phone MP, by the print portal, or at the store or any other place where the printer PRT is located.",{"@attributes":{"id":"p-0252","num":"0270"},"figref":"FIGS. 27 to 29"},"In this modified example, the print data is transmitted from the mail service RM to the print portal at steps Scl to Sc discussed above. The print portal outputs content information to the. printing service provider (step Sd), in order to collect estimate printing information overview. The printing service provider specifies the estimate printing information overview based on the content information and sends back the estimate printing information overview to the print portal (step Sd). The procedure subsequently carries out the series of processing in the same manner as the above example, such as the display of the estimate printing information overview on the mobile phone MP (steps st to st). The print portal may alternatively specify the estimate printing information overview.","When the user designates the output printer (step Sd), the print portal outputs the content information and information regarding the designation of the printer to the printing service provider (step Sd), in order to collect detailed estimate printing information. The printing service provider checks the current status or working conditions of the printer based on the received information (steps Sd and Sad), specifies detailed estimate printing information, and sends back the detailed estimate printing information to the print portal (step Sd). The check of the working conditions determines whether the remains of expendables, such as printing paper and toner set in the printer, are sufficient for printing all the designated contents. When there is a fear of failure in printing, for example, in the case of insufficient remains of the expendables, a notice telling \u2018no printing due to insufficient expendables\u2019 is displayed on the mobile phone MP.","When there is no fear of failure in printing, on the other hand, the print portal displays the detailed estimate printing information, receives input of the password, and displays the print start window (steps Sd, Sd, and Sd) and causes the printer to print the banner page. The banner data is transmitted from the print portal to the printer via the printing service provider (steps Sd and Sd). The notification showing completion of the printing operation is sent back to the print portal via the inverse route (steps Sd and Sd).","When the user confirms successful printing of the banner page in response to the request from the print portal (steps Sd and Sd), the print portal starts printing the designated E mails according to the same procedures as those of printing the banner page (steps Sd to Sd). On completion of printing, the print portal transmits the account data to the address of account (step Sd).","The two sequences of printing E mails discussed above are only illustrative, and all the processing steps may not be essential. One possible modification may omit the display of the estimate printing information overview (steps Sd to Sd in ) or printing of the banner page (steps Sd to Sd in ). Another possible modification may allow the user to make a choice about printing the banner page.","B2. Printing Web Pages",{"@attributes":{"id":"p-0258","num":"0276"},"figref":"FIG. 30"},"The computer PC as the client, the printer PRT as the desired output resource, the print portal PP, and a Web server WS providing data of browsed Web pages are involved in this printing process. These constituents are all connected to a network to allow mutual data transmission. The printer PRT of the desired output resource is registered in advance in the print portal PP.","The user downloads data from the Web server WS to the computer PC through communication Cm in  and browses Web pages. The user who requires printing the browsed Web pages gains access to the print portal PP and causes the printing operation to be executed with the designated printer PRT located in the place of accommodation.","The interface shown in , for example, may be utilized to issue the print request.","The sequence of processing after the issuance of the print request follows the sequence of printing E mails. The print portal PP causes the computer PC to display printing information, input the password, and confirm successful printing through communication Cm. In response to a print execution command, the print portal PP transmits banner data to the printer PRT and causes the printer PRT to successively print the banner page and designated Web pages through communication Cm.","B3. Printing Tickets","The above examples use plain paper for printing. The following describes the case of printing tickets as an example of restricting the printing paper to special paper. The user gains online or offline access to a ticket center and reserves a ticket, for example, for a concert. At this moment, the user receives a reservation number from the ticket center. The user accesses the ticket center again, identifies the reservation number, and prints the ticket via the print portal. Printing on plain paper is prohibited to guarantee the validity of the ticket. Namely printing is restricted on specific paper exclusively provided for printing tickets. The restriction is not changed by the user but is set by the ticket center TC.",{"@attributes":{"id":"p-0264","num":"0282"},"figref":"FIG. 31"},"In the case of printing tickets, the mobile phone MP corresponds to the client, the printer PRT corresponds to the printing station, and a ticket center TC corresponds to the content provider.","The user gains access from the mobile phone MP to a Web page provided by the ticket center TC through communication Cml. The user identifies the reservation number and presses the \u2018iPrint\u2019 button on the Web page to issue a print request. In response to this print request, the ticket center TC transmits print data of the corresponding ticket to the print portal PP through communication Cm. Subsequent communication is established between the mobile phone MP and the print portal PP.",{"@attributes":{"id":"p-0267","num":"0285"},"figref":["FIG. 32","FIG. 26"],"b":["10","12"]},"The print portal PP subsequently refers to attribute information mapped to the printer ID number (step S) and determines whether or not the designated printer is available for printing tickets (step S). The printer available for printing tickets means a printer provided with an exclusive ticket paper tray PTt in addition to a standard paper tray PTn.","When the user's designated printer is not available for printing tickets, the print portal PP displays an instruction to change the designation of the printer on the mobile phone MP (step S) and waits for input of another printer ID number (step S).","When the user's designated printer is available for printing tickets, on the other hand, the print portal PP authenticates the user as an authorized user based on the input password (step S), outputs a signal for selecting the exclusive ticket paper tray PTt to the printer (step S), and outputs the print data of the ticket to the printer (step S).","The above explanation regards the simplified sequence, and the sequence may additionally include the display of estimate printing information and the confirmation of successful banner printing. In the case of printing tickets, there is a greater necessity of guaranteeing transfer of the print to the authenticated user, compared with the case of standard printing. The banner printing accordingly has high effectiveness as test printing. In order to enhance the certainty of transferring the print to the authenticated user, the procedure may print a randomly set password with the banner page and ask the user to input this password, in place of pressing the \u2018OK\u2019 button shown in . The procedure may also control selection of the paper tray to use the standard paper tray PTn for banner printing.","B4. Printing User's Own Documents",{"@attributes":{"id":"p-0272","num":"0290"},"figref":"FIG. 33","b":["1","2"]},"In this example, the computers PC and PC correspond to the client and the content provider, while the printer PRT corresponds to the printing station.","In the first case, the user creates an estimate sheet with the user's own computer PC. The user gains access to a Web page provided by the print portal PP for printing through communication Cm shown in . As discussed previously with , this Web page allows settings for the diversity of printing-related conditions. A print request is issued when the user specifies printing-related conditions, such as the address of the print data and the desired output resource, and gives a \u2018Print Start\u2019 command.",{"@attributes":{"id":"p-0275","num":"0293"},"figref":"FIG. 34"},"The print data is present in the computer PC, so that the user inputs a pass representing the address of the print data. In response to the print start command, the designated file is transferred to the print portal PP, for example, by FTP (File Transfer Protocol). The user may input the pass via the keyboard or by a drag and drop operation as shown in . In this example, a window of a \u2018Print Portal\u2019 Web page and a window showing files present in the computer PC in the form of icons are open on a display DSP of the computer PC. The user drags a file of interest \u2018ABC.TXT\u2019 as the object of printing and drops the dragged file onto the \u2018Print Portal\u2019 Web page, so that the pass representing the address of the print data is written into an input box of the field \u2018Print data\u2019.","In this example, the printer does not have the ID number, so that address information for locating the printer on the network is input into the input box of the field \u2018Printer\u2019. The address information may be, for example, an IP address or a URI (Uniform Resource Indicator). In this example, an URI is input into the input box.","The sequence of the processing after the input of such conditions follows the sequence of the examples discussed previously. The print portal PP receives the print data and transmits the print data to the printer designated as the desired output resource.","The above description regards the case of transmitting the file of interest to be printed from the user's computer PC to the print portal PP. The information for specifying the file, that is, combination of the pass representing the address of the file in the user's computer PC with the address of the user's computer PC on the network, may alternatively be transmitted to the print portal PP. In this arrangement, the print portal PP fetches the file of interest as the object of printing from the computer PC based on the transmitted information, and causes the file to be printed.","In the second case, the user causes the estimate sheet to be created by the computer PC at the user's office and to be printed with the printer at the customer's office. The user inputs data for estimation into the user's own computer PC at the customer's office, and transmits the input data to the computer PC at the user's office through communication Cm. The computer PC at the user's office creates an estimate sheet based on the transmitted information and stores the file of the estimate sheet at a predetermined address of the computer PC. In this case, the user enables the estimate sheet to be printed according to the similar procedures to those in the case of printing the data file in the user's own computer PC. The user gains access to the \u2018Print Portal\u2019 Web page and specifies the URL representing the address of the estimate sheet file in the computer PC at the user's office as the location of the print data.","B5. Delivery of Electronic Newspapers (1)","In the above examples, the printing operation is immediately carried out just once in response to a print request from the client. The following example describes the case of setting time and frequency conditions of printing.",{"@attributes":{"id":"p-0282","num":"0300"},"figref":"FIG. 35"},"In this example, the computer PC corresponds to the client, the printer PRT corresponds to the printing station, and an electronic newspaper service NS providing electronic newspapers corresponds to the content provider. The electronic newspaper service NS is provided as one of additional services of the print portal PP.","The user gains access from the computer PC to a Web page provided by the print portal PP and subscribes for an electronic newspaper through communication Cm. At the time of subscription, the user registers various pieces of information including a selected electronic newspaper for delivery, a user password, a printer PRT designated as the output resource, and a desired time of delivery. When the output resource is the printer PRT at home, the registered information should include address information that enables unequivocal location of the printer PRT on the network, for example, a URI or an IP address. The term of subscription to the selected electronic newspaper may also be specified. The registered information is stored as user's attribute information in the print portal PP. Part of the attribute information is shown in the form of a table in . The print portal PP refers to the attribute information and manages when, where, and what electronic newspaper should be output.","No specific user's operations are required at the time of delivery of the electronic newspaper, as the print request has already been registered in the print portal. The only requirement to the user is to set the printer PRT at home in the active state. The print portal PP fetches the content from the electronic newspaper service NS, which provides the electronic newspaper designated by the user for delivery, through communication Cm at the user's designated time of delivery, at 7 am in the example of , and causes the electronic newspaper to be printed with the printer PRT through communication Cm. Since the required information for authentication, such as the user password, has been registered in advance, no authentication is required at the time of printing. The electronic newspaper may be printed with the banner page, or the user may make a choice for printing the banner page. Information representing the choice for printing the banner page may be registered as part of the user's attribute information in a directory service block of the print portal PP. This facilitates management of the choice for printing the banner page and the accounting based on the choice.","After completion of the printing operation, the attribute information on the delivery of the electronic newspaper remains. This arrangement allows delivery of the electronic newspaper in a regular manner. The information provided by the electronic newspaper service NS is sequentially updated, unlike standard offline newspapers. The user may designate a plurality of times for delivery according to the requirements and gain the latest information at arbitrary frequencies.","One modified application may provide the service of printing only an updated part at the time of updating the server of the electronic newspaper service NS. Such service is readily attained by transmitting a notice of information updating and updated information including print data of the updated part from the electronic newspaper service NS to the print portal PP, each time the information is updated. In response to input of the updated information, the print portal PP refers to the registered attribute information, extracts the users who desire delivery on every occasion of information updating and their designated output resources, and causes the updated part to be printed with the designated printers. The designation of time and the periodical printing discussed above may be applied for a diversity of contents, other than the electronic newspapers.","B6. Delivery of Electronic Newspapers (2)","While the electronic newspaper is delivered in a regular manner, the user may require a temporary change of the output resource. For example, the user who is not at home but stays in another place requires temporarily changing the place of delivery of the electronic newspaper to the place of accommodation.",{"@attributes":{"id":"p-0289","num":"0307"},"figref":"FIG. 36"},"In this example, in addition to the above constituents, the mobile phone MP corresponding to the client and a printer Photel located in the place of accommodation, which corresponds to a temporary output resource, are involved in the delivery of the electronic newspaper.","The user gains access from the mobile phone MP to a Web page provided by the print portal PP through communication Cm and changes the designated output resource. Information for changing the designation or modified designation information includes a user password, information for identifying a printer as the temporary output resource, a term of the change, and a desired time of delivery during the change. The printer of the changed output resource may be identified by the ID number, the URI, or the IP address. The print portal PP modifies the user's attribute information according to the change of the designation. In the example of , the output resource is changed to the printer Photel in the place of accommodation. One preferable procedure backs up the original registration and returns the modified attribute information to the original registration when the tem of the change specified by the user has elapsed.","A variety of other procedures may be applied to change the output resource of the electronic newspaper. One modified procedure allows registration of both the standard designation information and the modified designation information as the attribute information regarding the delivery of the electronic newspaper. The print portal PP gives preference to the modified designation information and delivers the electronic newspaper. The temporary change of the designation is readily attained by restricting the term of the change or deleting the modified designation information at the time when the term of the change has elapsed.","B7. Image Processing Service","The following describes an example of processing data transmitted by the user and printing the processed data.",{"@attributes":{"id":"p-0294","num":"0312"},"figref":"FIG. 37"},"In this example, the computer PC corresponds to the client, the printer PRT corresponds to the printing station, and a processing service AS corresponds to the content provider. The processing service AS is provided as one of additional services of the print portal PP. The processing service AS may alternatively be organized as a separate service from the print portal PP.","The user gains access from the computer PC to a Web page provided by the print portal PP through communication Cm and transmits a picture image PIC as the object of printing. The interface shown in  may be used for transmission of the picture image. The user then specifies a background image. The background image may be provided by the user or may be selected out of a menu provided by the processing service AS.","The user subsequently specifies the printer PRT as the desired output resource and issues a print request. A superimposed picture is then printed according to the following procedure.","In response to input of a print execution command, the print portal PP outputs the picture data PIC and code information for specifying the background image, which have been sent from the user, to the processing service AS (communication Cm). Background image data PIC corresponding to the input code information is stored in advance in the processing service AS. The processing service AS superimposes the input picture data PICI on the background image data PIC to create composite picture data PIC and sends the composite picture data PIC to the print portal PP (communication Cm). The print portal PP may alternatively perform such image processing. The print portal PP outputs the input composite picture data PIC to the designated printer PRT and causes the composite picture data PIC to be printed with the designated printer PRT (communication Cm).","The printing process is not restricted to the above procedure. In one possible modification, the user gains access to a Web page provided by the processing service AS and transmits the picture data PIC as the object of printing to the Web page to make the picture data PIC superimposed on the background image data PIC. On completion of the processing, the user gives an instruction to print the superimposed picture data via the print portal PP. The sequence of printing in this arrangement is equivalent to the sequence of printing the Web page discussed previously.","The image processing is not restricted to superimposing. Another example retouches picture data transmitted from the user. Still another example adjusts the resolution and the tone according to the characteristics of the model of the printer PRT designated as the desired output resource. The object of processing is not restricted to picture data. Another example receives text data from the user and processes the input text data, prior to printing, according to a predetermined form, for example, in writing paper or formal documentation to public authorities. Still another example fills out a diversity of blank forms with information sent from the user in the form of text data.","C. Various Processes of Designating Output Resource","A diversity of settings may be applied to designate the printer as the desired output resource in the process of printing via the print portal.  enumerates various methods of designating the printer. There are four major processes of designation.","In Cases A and B, information for identifying the printer is input from the client.","In Case A, the user recognizes the ID number allocated to each printer (i), and transmits the ID number from the client MP to the print portal PP (ii). This corresponds to the arrangement shown in . The ID number may be replaced with any information for identifying the printer on the network, such as a URI or an IP address.","In Case B, the print portal PP provides a list of printers (i), and the user selects a desired output resource out of the printer list (ii). This corresponds to the arrangement shown in . The printer list is not restricted to the hierarchical structure. In one preferable application, the user sends specific search conditions for selection of the printer, prior to creation of the printer list. The print portal PP searches for printers satisfying the specific search conditions and sends the result of the search as a printer list to the user. The process of designating the printer based on the search will be discussed later with a concrete example.","In Cases C and D, the information for identifying the client or the user is input from the printer, so that specific printers are mapped to specific clients.","In Case C, information for identifying the client or the user is input on a panel attached to the printer (i). The information may be the IP address of the client MP, the user ID, or the user password. The input information is transmitted to the print portal PP (ii). The print portal PP searches for a print request meeting the input information and carries out mapping to specify the output resource. This arrangement will be discussed later with a concrete example.","In Case D, in response to a print request sent to the print portal PP (i), the user is notified of a job number (ii). The job number may be given by the print portal or by the printing service provider. The user inputs the job number into the printer PRT of the output resource. At this moment, the connection between the client MP and the print portal PP may be cut off. The printer PRT sends the job number to the print portal PP and receives print data corresponding to the job number for printing (iii). The printer PRT receives the print data transmitted by the push method in Cases A to C, while the printer PRT fetches the print data by the pull method in Case D.","In Cases C and D, information for identifying the user or the client is input from the printer of the output resource to specify the output resource. This requires the user to be present in a neighborhood of the printer of the output resource at the time of printing. This arrangement effectively prevents the designation of a wrong output resource and advantageously reduces illegal printing.",{"@attributes":{"id":"p-0309","num":"0327"},"figref":["FIG. 39","FIG. 40"]},"As shown in , a printer PRT has a touch panel TP for inputting the user ID. The series of processing from selection of E mails to display of the standard menu (steps Se to Se) is identical with the processing shown in . In this example, the display of the standard menu asks the client MP to input the \u2018User ID\u2019, in place of the \u2018Printer No.\u2019. The user selects this menu with the client MP and inputs the user ID. In this arrangement, however, the client MP is not used for the input of the user ID, but the user ID is input on the touch panel TP of the printer PRT designated as the desired output resource. The user ID \u2018ABCD\u2019 is input in the example of .","The input user ID is sent from the printer PRT to the print portal PP (step Se in ). Since the client MP and its user have been identified in the process of steps Se to Se, the print portal specifies the printer PRT as the desired output resource based on the user ID input from the printer PRT.","Information used for mapping the client MP to the printer PRT is not restricted to the user ID. Another example receives the user ID sent from the printer PRT and the user ID-relating password sent from the client MP. The requirement is that the information collected from the client MP should be mapped to the information collected from the printer PRT.","In the example of , the printer PRT has the touch panel TP. One possible modification supplies the client MP with a remote control function and attains the above series of processing through communication between the client MP and the printer PRT. Infrared communication or Bluetooth may be applied for the communication. In this modified arrangement, the client MP is used as the interface of inputting the user ID at step Se in . The user ID input into the client MP is transmitted to the printer PRT. In still another example, the user ID not newly input but registered in advance in the client MP may automatically be sent to the printer PRT.","The following describes the system of searching for the output resource based on specific search conditions given by the user, as one example of Case B.",{"@attributes":{"id":"p-0315","num":"0333"},"figref":"FIG. 41","b":["152","180","305"]},"The user specifies search conditions of the output resource with the client MP. One example of the search conditions is the output resource closest to the current location of the client MP. The current location of the client MP may be specified by a landmark like a near-by building or a near-by station. Another example attaches a GPS (Global Positioning System) to the client MP and monitors the output of the GPS. The search conditions may also include the charge of printing and the functions of the printer, for example, the availability of color printing. The search conditions may be specified according to the user's requirements.","The printer management unit  refers to the printer database , searches for the printers meeting the specified search conditions, and displays the result of the search as a printer list on the client MP. The user selects a desired printer out of the printer list. In the case of a relatively small display area like the mobile phone, the printer list is scrolled up and down. The upper limit may be set to the number of items displayed simultaneously on the display unit.","In order to actualize the search, various pieces of information regarding each printer, for example, the location of the printer, the charge of printing, the performances of the printer, and the restriction on printing, are registered in the printer database . In the system of the embodiment, the print portal PP manages the information of all the printing stations PS. The print portal can thus readily find the printer satisfying the user's requirements without any specific inquiry about the performances and properties of each printer.","D. Additional Functionality of Printing","The print portal system may cause the print data to be subjected to diverse additional processing in the printing process. Some examples of additional processing are discussed below.","D1. Addition of Input Source ID Information",{"@attributes":{"id":"p-0320","num":"0338"},"figref":"FIG. 42","b":["180","181"]},{"@attributes":{"id":"p-0321","num":"0339"},"figref":"FIG. 43","b":"181"},"When the program enters the routine, the input source ID information generator  first collects input source ID information from the client (step S). The input source ID information includes user information for identifying the user who gives a print request and source information for identifying the source of a content to be printed. The name of the user or the user ID may be used as the user information, and the URL or the name of the document may be used as the source information.","The input source ID information generator  generates print data of the input source ID information (step S). A concrete procedure fills out a predetermined format with these pieces of information. The image of the processing is illustrated in the flowchart. Data of the respective fields, that is, the user information, the source information and the date, are inserted in preset positions (input boxes shown by the broken lines) in a space of one page P. The data format may be any of various formats that are convertible to the PDF format by the core module .","The input source ID information generator  then fetches the content designated by the user (step S) and transfers the print data of the input source ID information and the content to the core module  (step S). The print data of the input source ID information and the content may be transferred as combined print data or as mutually related individual data. The functional block other than the input source ID information generator  may be used to fetch the content.","In the above example, the page for printing the input source ID information is separate from the content. One possible modification prints the input source ID information in each page of the content.","This arrangement is shown as a modified example.  is a flowchart showing a modified routine of adding input source ID information. In this processing routine, the input source ID information generator  successively collects the input source ID information and fetches the content (steps S and S). The content is printed in a preset area of the page P (the hatched area in the drawing).","The input source ID information generator  inserts the input source ID information in the blank of the printed content (step S). The user information, the source information, and the date are written in preset places of the blank (defined by the broken lines in the drawing). The input source ID information generator  transfers the resulting data to the core module (step S).","Addition of the input source ID information may be carried out after the conversion to the PDF format or in the course of conversion to the PDF format. The input source ID information may include either one of the user information and the source information, or may include additional pieces of information.","The addition of the input source ID information advantageously prevents confusion of prints between plural users, in the case where print requests from the plural users are concentrated on one specific printer. This application ensures the accurate delivery of the resulting print to the right user, especially when a document with high secrecy, for example, an E mail or a user's own document, is printed.","The source information facilitates comparison between the resulting print and the print request. Namely the source information functions to readily identify the wrong designation of the content, in the case where the actual print is different from the user's requirement.","D2. Layout Printing","The function of layout printing lays out a plurality of contents or a content including plural pages in one page sheet according to the user's specification.",{"@attributes":{"id":"p-0332","num":"0350"},"figref":"FIG. 45","b":"110"},"The file conversion unit  includes several functional blocks. A PDF converter  carries out file conversion to the PDF format. A content holder  keeps the converted PDF files. A layout unit  lays out the contents kept in the content holder  in one page sheet. The specification of the layout is registered in advance as a template .",{"@attributes":{"id":"p-0334","num":"0352"},"figref":["FIG. 46","FIG. 46","FIG. 46","FIG. 46"]},"In the example of , three different contents A, B, and C are laid out in the locations defined by the arrows. Each page of the contents is contracted or magnified corresponding to the preset space, if necessary. In this embodiment, the length-to-width ratio of each page of the contents is kept after contraction or magnification.","Although the procedure of this embodiment lays out the contents after the file conversion to the PDF format, the contents may be laid out before or in the course of file conversion.","The layout function enhances the utility of this print portal system.","D3. Addition of Ad","One application of the layout function is addition of ad. The income of ad advantageously reduces the total charge of printing paid by the user.",{"@attributes":{"id":"p-0339","num":"0357"},"figref":"FIG. 47","b":["180","182"]},{"@attributes":{"id":"p-0340","num":"0358"},"figref":["FIG. 48","FIG. 49"]},"In response to a print request, the print portal  collects the user ID and content information (step S). The content information includes, for example, the URL of a Web page designated as the object of printing.","At the time of executing the printing operation in response to the print request, the print portal PP asks the user to select acceptance or rejection of addition of ad. In a desirable arrangement, the content provider can restrict the addition of ad. When the user accepts the addition of ad, the addition of ad is implemented by the procedure discussed below.","The ad setting unit  refers to the user database  based on the user information and selects an ad to be supplied (step S). For example, when the user's interest registered in the user database  is \u2018music\u2019, a music-relating ad is selected. The age and the sex of the user are also taken into account.","In parallel to the above processing, the content fetching unit  fetches the content designated by the user (step S). The fetched content and ad content are transferred to the file conversion unit , which generates resulting print data with the ad according to a preset layout (step S). The procedure of layout printing discussed previously may be applied for the addition of ad.",{"@attributes":{"id":"p-0345","num":"0363"},"figref":"FIG. 50"},"The second example has an ad in the blank of each page of the content. Different ads may be attached to different pages. The ad may be supplied in at least one of these two applications.","A diversity of methods may be applied to select the ad in this embodiment.","One applicable method selects the ad, based on the content designated as the object of printing. When the user designates a music-relating Web page as the content to be printed, a music-relating ad may be attached. Another applicable method selects the ad, based on a record of contents designated by the user as the object of printing. When the record proves that Web pages in the field of music are frequently printed, a music-relating ad may be attached. When the record proves that the tendency of frequently printed Web pages shifts from the field of music to the field of computer technology, a computer-relating ad may be attached.","Still another applicable method selects the ad, based on information on the client. For example, the selected ad may be related to the carrier of the client or may be concerned with the business proprietor that provides the printer designated as the output resource. Another applicable method attaches a preset ad, regardless of the user information and the content to be printed. The ad to be attached may otherwise be selected at random.","The ad setting unit  gains access to the ad content provider  and fetches the selected ad content (step S). Ad contents may be kept in advance in the print portal .","E. Customization Functionality","The print portal system of the embodiment preferably has a diversity of customization functionality for the enhanced utility. The customization functionality is briefly classified into the three groups: the functionality for users, the functionality for content providers, and the functionality for printing service providers and printing stations.","E1. Customization Functionality for Users",{"@attributes":{"id":"p-0352","num":"0370"},"figref":"FIG. 51","b":["134","134","134","134"]},"The user management unit A registers and manages customized information of each user in the user database . The customization-relating information, such as interfaces discussed later, is stored in the user database . A content holder A keeps frequently used contents by each user.","The content provider management unit B registers and manages customized information of each content provider in the content provider database . The PSP management unit C registers and manages customized information of each printing service provider or printing station in the printer database .","In the arrangement of this embodiment, with a view to smooth customization functionality, the controller  is divided into an interface display unit A and a job controller B.","The interface display unit A provides an interface for customization, as well as an interface for execution of printing.","The job controller B executes diverse controls required for printing, for example, transfer of jobs to the printing service provider.",{"@attributes":{"id":"p-0358","num":"0376"},"figref":"FIG. 52"},"When the user issues a print request, the user management unit A collects the user information like the user ID (step Sf).","The user management unit A refers to the user database  based on the collected user information, and transfers customized information to the interface display unit A (step Sf). The customized information on the output resource and the printing conditions with regard to each user is stored in the user database . The interface display unit A outputs an interface for specifying the output resource corresponding to each user, based on the customized information (step Sf).",{"@attributes":{"id":"p-0361","num":"0379"},"figref":"FIG. 53"},"When the user specifies the printer of the desired output resource on this interface, the information representing the specification is transmitted to the job controller B (step Sf). The job controller B selects the printing service provider, based on the received information.","The interface display unit A then displays an interface for setting the printing conditions, based on the customized information (step Sf). The right-side drawing of  shows a customized interface for setting the printing conditions. There is an option \u2018User Settings\u2019 for selecting the customized settings. Customized data of the printing paper, the layout, and other printing conditions set by each user is registered in the user database . When the user selects the option \u2018User Settings\u2019, the printing operation is carried out under the registered conditions, without any specific settings.","When the user sets the printing conditions via this interface, the information on the settings is transmitted to the job controller B (step Sf). The job controller B sends the print data and the information on the settings of printing conditions to the printing service provider selected corresponding to the designated output resource.",{"@attributes":{"id":"p-0365","num":"0383"},"figref":"FIG. 54","b":["100","150","134"]},"The customized information includes information on the output resource and information on the settings of printing conditions. A typical example of the information on the output resource is the priority of available output resources to the user. Registration of the available output resources may be set adequately by taking into account the storage capacity permitted for each user.","The information on the settings of printing conditions includes the layout, the paper size, the selection of color printing or monochromatic printing, the maximum number permitted, the printing time, and the information on the interface for setting the printing conditions. The layout represents a print form, such as 1 page\/sheet or 2 pages\/sheet. The paper size represents the size of generally used printing paper, such as A4 or B5. The selection of color printing or monochromatic printing is effectively used, for example, when the user desires to print color print data in monochrome. The maximum number permitted represents the maximum number of printing sheets permitted for each print job. This limits the needless cost when the user unintentionally sends a print job of an extremely large volume. The printing time represents the time zone specified for printing. This is effectively used, for example, for printing news provided on a Web page in a regular manner. The information on the interface for setting the printing conditions represents selected display of the settings of printing conditions, for example, a beginner mode or an expert mode. A diversity of other conditions, for example, the printing quality or the presence of a stamp mark, may also be included in the settings of printing conditions.","As one of the customization functionality, frequently used documents may be stored, as well as the output resource and the settings of printing conditions.",{"@attributes":{"id":"p-0369","num":"0387"},"figref":"FIG. 55","b":"150"},{"@attributes":{"id":"p-0370","num":"0388"},"figref":["FIG. 56","FIG. 57","FIG. 58"]},"The user first gains access to a Web page provided by the print portal and transmits the user ID and the user password (step Sg in ). The print portal PP refers to the content holder A and causes a list of contents corresponding to the transmitted user ID to be displayed on the client MP (step Sg). The left-side drawing of  illustrates a display window of the list. In this example, there are four documents, that is, \u2018catalog\u2019, \u2018application form\u2019, \u2018instructions manual\u2019, and \u2018map\u2019, registered as the contents frequently used by the user. One modified procedure displays a menu window to allow the user to select either printing of a registered content or specification of another content, prior to the display of the list.","The user selects a content of interest as the object of printing out of the list (step Sg). In the example of , the \u2018application form\u2019 has been selected. In the case where only one content is registered, the display of the contents list and the selection of a desired content may be omitted.","The print portal  then displays interfaces for specifying the output resource and the printing conditions (step Sg). The center drawing of  illustrates an interface for specifying the output resource. The right-side drawing of  illustrates an interface for specifying the printing conditions.","Information on the settings of printing conditions, such as the paper size and the layout, may be mapped to each content and stored with the content in the content holder A. This application enables the specification of the printing conditions to be omitted.","When the user utilizes these interfaces and sets the desired output resource and the printing conditions, information on the settings is transmitted to the print portal PP (step Sg). The print portal PP transfers the designated content to the designated printing service provider, based on the transmitted information (step Sg).","When the address of each content, for example, the URL, is kept in the content holder A, the print portal  gains access to the designated content provider, fetches a desired content, and transfers the fetched content to the printing service provider.","The printing service provider receiving the print job selects a printing station and transfers the print job to the selected printing station (step Sg). The printing station executes the print job to implement printing. One modified procedure may give a display including the designated output resource and the specified printing conditions to the client MP for the purpose of check and confirmation, prior to the transfer of the print job to the printing station (step Sg). On completion of the printing operation, a report of printing results may be transmitted from the printing station PS to the print portal PP (step Sg).","The user may manage the contents registered in the content holder A. The user can arbitrarily add contents to the registration in the content holder A or delete contents from the registration in the content holder A.",{"@attributes":{"id":"p-0379","num":"0397"},"figref":["FIG. 59","FIG. 60"]},"The user gains access to a Web page provided by the print portal and selects a menu for adding contents. The user subsequently transmits the user ID, the user password, and a selected content to be added to the print portal PP (step ShOl). The user may alternatively transmit the URL representing the address of the selected content.","The user management unit A of the print portal PP receives the transmitted information and executes a series of processing to add the selected content. The user management unit A transfers the user ID and the user password to an authentication unit , which identifies the accessed user as the authenticated user who is allowed to add contents (step Sh). One possible application issues different passwords for printing and for adding contents. This can discriminate the manager of the registered contents from the user of the registered contents.","When the accessed user is identified as the authenticated user who is allowed to add contents, the user management unit A stores the content transmitted from the client MP in a specific area of the content holder A corresponding to the user ID (step Sh). In the case where the user transmits the URL, the URL may be stored (step Sh). The alternative procedure fetches a content specified by the URL from the content provider and stores the content (step Sh). The user can add a new content according to the above series of processing.",{"@attributes":{"id":"p-0383","num":"0401"},"figref":"FIG. 61"},"The user gains access to a Web page provided by the print portal and selects a menu for deleting contents. The user subsequently transmits the user ID and the user password to the print portal PP (step Sh in ).","The print portal PP carries out a series of processing to delete a selected content, based on the transmitted information. The user management unit A transfers the user ID and the user password to the authentication unit , which identifies the accessed user as the authenticated user who is allowed to delete contents (step Sh).","When the accessed user is identified as the authenticated user who is allowed to delete contents, the user management unit A displays a list of registered contents (step Sh). The user selects a content to be deleted out of the list (step Sh). An interface similar to that of  may be used for selecting the content to be deleted. The user management unit A then actually deletes the selected content from the registration in the content holder A (step Sh). The user can delete a non-required content according to the above series of processing.","The customization functionality discussed above does not require the detailed settings of the output resource and the printing conditions every time the user utilizes the print portal system, thus enhancing the utility.","The contents registration functionality does not require transfer of a content every time the content is printed. In the actual service, the user may desire to print an identical document at different places. Typical examples of such document include catalogs, application forms, and estimate sheets. If the user is required to always carry document data for printing these forms, such requirement undesirably damages the utility of the printing environment that allows free choice of the output resource. The contents registration functionality enables the user to print these forms, while the user is not required to carry and manage the print data. This accordingly ensures the printing environment with high utility.","In the above embodiment, each content is mapped to the user ID and registered. One possible modification may manage each registered content independently of the user ID.  shows functional blocks in a modified example to attain the contents registration functionality. The difference from the structure of  is that a content management unit D and a content holder AA are separate from the user management unit A and the user database .","The content management unit D registers and manages contents in the content holder AA. In this modified example, an identification code, which is different from the user ID, is used for the management of each content. The content management unit D maps each content to the identification code, to the user who is allowed to use the registered content, and to the user who is allowed to delete the registered content. The user management unit A manages the users with or without the authentication of adding contents. A diversity of settings may be applied for the identification code. In the description below, it is assumed that a unique code one-to-one mapped to each content is applied for the identification code.","The process of printing a content registered in the content holder AA follows the procedure discussed in the above embodiment (see ). In this modified example, the identification code is unequivocally mapped to the content, so that the user inputs the identification code to specify the content to be printed. This application does not require display of the contents list.","The process of newly registering a desired content also follows the procedure discussed in the above embodiment (see ). In the above embodiment, each content is mapped to the user ID and registered. In the modified example, on the other hand, the content is related to the identification code. The identification code is unequivocally mapped to each content and is thus created by the print portal PP. The client MP is notified of the identification code at the time when registration of the corresponding content is completed. Each content is registered with the user who is allowed to use the content and the user who is allowed to delete the content.","Sequential numbers may be applied for the identification codes of the respective contents. The identification code may be created in combination with the user ID. For example, the identification code may include the user ID as the upper digits and the content number as the lower digits.","The arrangement of the modified example uses the identification code for unequivocally identifying each content, thus facilitating specification of the content for printing. Management of the content with the identification code enables a plurality of users to share the registered content. For example, when the common content is news or a circular magazine provided to registered users, each user can print the content according to the requirements. In another example, when the common content is a catalog or an application form to be uniformly used in the organization, members of the organization are notified of the identification code of the common content.","An identification code may be mapped to a plurality of contents. Separately from the user ID given to each user, an identification code for contents registration may be assigned to an organization like a corporation. Registration of contents mapped to this identification code allows members of the organization to readily share the registered contents. Input of the identification code assigned to the organization causes a list of common contents to be displayed for printing.","The arrangement of the modified example ensures flexible management of registered contents according to the definition of the identification code, thus further enhancing the utility.","E2. Customization Functionality for Content Providers",{"@attributes":{"id":"p-0397","num":"0415"},"figref":"FIG. 63","b":["10","100","151","134"]},"The customization information may include information regarding restriction on the output resource and information on the settings of printing conditions. The former information is effectively used, for example, when the owner of a certain printing service is affiliated with the content provider and other printing services should be excluded from the available output resources.","The information on the settings of printing conditions may include the layout, the paper size, the selection of color or monochromatic printing, and the maximum number of printing sheets permitted. This information is effectively used, for example, when the content provider desires to restrict the user's settings, in order to maximize the value of its own information. Setting the maximum number of printing sheets permitted protects the copyright and other benefits of the content provider.","When the user clicks the \u2018iPrint\u2019 button to link with the print portal , the print portal  specifies the customization information, based on content provider information, such as a domain name. The printing operation is carried out under the conditions specified by the customization information.","In this embodiment, the print portal  manages the customization information. One possible modification minimizes the customization with regard to the content provider and transmits the restrictions attached to the content to the print portal at the time of printing the content.","E3. Customization Functionality for Printing Stations",{"@attributes":{"id":"p-0402","num":"0420"},"figref":"FIG. 64","b":["134","152"]},"When the user specifies the desired output resource and the settings of printing conditions to implement the printing operation, the PSP management unit C collects output resource information (step Si).","The PSP management unit C subsequently refers to the printer database , based on the collected output resource information, and transfers customization information to the job controller B (step Si). The customization information represents restrictions on the authenticated users and contents to be printed, which are set by the printing station PS. In the case where any of the user, the selected print data, and the settings of printing conditions do not meet the customization information, the job controller B displays a requirement to change the output resource (step Si). In the case where all the conditions meet the customization information, on the other hand, the job controller B transmits the print job to the printing service provider (step Si).",{"@attributes":{"id":"p-0405","num":"0423"},"figref":"FIG. 65","b":["100","132"]},"In the print portal , the PSP management unit C registers the customization information in the printer database .","The customization information may include information regarding restrictions on the authenticated users for printing. Namely user information on the authenticated users for printing are registered as the customization information. Such information is effectively used, for example, when the owner of the printing station is a general individual or corporation.","The customization information may also include information on,the settings of printing conditions; for example, the maximum number of printing sheets permitted for each job and the restriction on the printing time. Setting the maximum number of printing sheets permitted is effectively used to prevent a certain user from printing an extremely large volume and exclusively occupying the printer and to prevent any unauthorized person from printing an extremely large volume. The restriction on the printing time is effectively used, for example, to allow printing only during business hours of a shop. The customization information is not restricted to such pieces of information but may include additional pieces of information.","F. Settings of Printing Conditions","In the print portal system of the embodiment, plural entities may set different printing conditions. This is because the user, the content provider, and the printing station individually set and restrict the printing conditions. The arrangement of this embodiment sets the order of priority to the authorities for setting the printing conditions, in order to handle the contradictory settings of the printing conditions.",{"@attributes":{"id":"p-0410","num":"0428"},"figref":"FIG. 66"},"The processing routine first takes into account the printing conditions set by the printing service provider having the first priority (step S). The flowchart shows exemplified settings for the paper size, the color\/mono printing, and the double-face printing.","The settings of step S specify A3 or A4 as the available paper size, availability of both the color printing and the monochromatic printing, and availability of both the double-face printing and the single-face printing, based on the conditions set by the printing service provider (PSP). Namely there are no specific restrictions on the color printing and the double-face printing.","The processing routine then takes into account the printing conditions set by the content provider (CP) having the second priority (step S). The conditions set by the content provider (CP) are considered only in the available range of the settings by the printing service provider PSP.","In the illustrated example, the content provider sets either B4 or A4 as the available paper size, while the printing service provider allows printing in the size A3 or A4. By referring to both the settings, A4 is selected as the paper size. In a similar manner, color printing and single-face printing are selected for the other settings.","The processing routine subsequently takes into account the printing conditions set by the user having the third priority (step S). In the illustrated example, the user does not set the paper size, so that the size A4 set at step S is determined as the ultimate printing condition.","The user requires color printing. This is consistent with the settings at step S. The color printing is thus set as the ultimate printing condition.","The user requires double-face printing. This is contradictory to the settings at step S. The user's requirement is thus rejected, and the single-face printing is set as the ultimate printing condition.","The order of priority may be specified arbitrarily. As illustrated in this embodiment, however, it is preferable to give the higher priority to the settings based on the printing performances and the settings by the content provider than the settings by the user.","G. Accounting","G1. Accounting",{"@attributes":{"id":"p-0419","num":"0437"},"figref":"FIG. 67","b":"30"},"The charging from the content provider to the user depends upon the pay for the content, that is, either the pay content provider or the free content provider. A free content provider B that provides information free does not charge the user for the information. A pay content provider A that provides charged information, on the other hand, charges the user for the information (charge B in the drawing). Here the term \u2018pay\u2019 or \u2018charge\u2019 means that a fee is required for printing. The content provider that allows free browsing but charges the user for printing is regarded as the \u2018pay content provider\u2019. The content provider that allows only charged browsing but does not separately charge the user for printing is regarded as the \u2018free content provider\u2019. The pay content providers include the provider that charges the user for browsing information and has already made a contract with the user for accounting, and the provider that allows free browsing of information and makes no contract with the user for accounting.","The charging from the printing service provider (PSP) to the user depends upon the printer used for printing, that is, either the printer installed in a public space or the printer owned by any individual or private entity. In the case of a public printing station A that uses a printer installed in a public space, the charge is mainly for consumption of expendables, for example, printing paper and toner (charge C in the drawing). Depreciation of the printer and its peripheral equipment may be reflected on the charge. The public printing station A provides, for example, many and unspecified people with services at a store, a hotel, or a station. A private printing station B that uses a printer owned by any individual or private entity does not charge the user for printing. Although the expendables are naturally consumed by printing, the users of such a printer are limited. There is accordingly little necessity of specifically charging the users for printing. The private-printing station B may utilize, for example, a printer owned by the user, a company, or another corporation.","The charges A to C arise on every execution of printing. The print portal  charges the respective system users for the services. In the discussion below, for the clarity of explanation, the printing service provider is included in the print portal . This is because the details and the process of accounting by the print portal  are similar to those by the printing service provider.","The print portal  charges the user, the content providers A and B, and the printing stations A and B for the services of the system (charges D to H in the drawing). Diverse accounting systems may be applied for these charges. One applicable procedure sets a fixed rate for every specified time period. For example, a fixed fee may be collected every month. Another applicable procedure sets a charge at the time of registration for the services of the print portal . One typical example of this application is an admission fee. Still another applicable procedure sets a quantity-based rate, for example, according to the frequency of printing via the print portal . In the description below, the system sets a fixed rate for every specified time period.","In the drawing of , the boxes of the solid line may function to collect the charges. The service provider , the pay content provider A, the public printing station A, and the print portal  are potential payment collectors. Each accounting source may work as the payment collector. The respective accounting sources may thus individually collect the charges shown in .","In the print portal system of this embodiment, printing-related information like print data is transmitted among the respective entities shown in  in the printing process. Transmission of information on accounting together with the printing-related information enables total management of plural charges at one place. This arrangement effectively reduces the load of collecting charges and enhances the utility. The lump sum accounting system is especially effective for charging the user on every execution of printing. As examples of the lump sum accounting system, the following describes processes of collecting charges at the printing station, at the print portal, and at the service provider in the case of printing a pay content.",{"@attributes":{"id":"p-0426","num":"0444"},"figref":"FIG. 68","b":["70","70"]},"When the client MP issues a printing requirement for a certain pay content provided by the pay content provider A, the access of the client MP is changed over to the print portal . At this moment, the pay content provider A transmits accounting information as well as print data to the print portal . The accounting information represents a charge for printing the certain pay content, which is varied according to the number of copies or the number of pages included in the content.","The print portal  transfers the input print data to the printing service provider , in response to a user's requirement. The accounting information transmitted from the pay content provider A is attached to the print data. The printing service provider  then transmits the print data and the accounting information attached thereto to the designated printing station A. The printing station A accordingly receives the accounting information on the fee of the pay content. On completion of the printing operation, the printing station A generates accounting information that represents a printing fee charged to the user corresponding to the consumption of printing paper and toner, in addition to the fee of the content. The printing station A thus collects all the pieces of accounting information regarding the charges to the user.","The user fetches prints from the printing station A, so that the fees can readily be collected at this moment by cash. The payment may alternatively be settled by prepaid card, by credit card, or by transfer to the bank account.","The printing station A gains the details of accounting and pays the pay content provider A for the fee of the pay content. The payment may be settled individually between the printing station A and the pay content provider A, but is preferably settled via the print portal  as discussed below. After collection of the fees, the printing station A transmits the accounting information, which clearly discriminates the fee of the pay content from the printing fee, to the print portal . The print portal  keeps the accounting information for a preset time period. The print portal  regularly processes the stored accounting information and clarifies the accounting between pay content provider A and the printing station A. In a preferable application, the print portal  additionally takes into account the charges to the printing station A and the pay content provider A for services of the print portal system. The provider of the print portal  temporarily pays the pay content provider A for the fee of the pay content and demands payment corresponding to the fee of the pay content from the printing station A. The printing station A and the pay content provider A settle the printing-related accounting through transactions with the provider of the print portal . This arrangement desirably reduces the load of accounting and decreases the possibility of oversight of charging.","This system is applicable for the case in which the public printing station A having the capability of collecting charges is designated as the output resource. Another system is suitable for the case in which the private printing station B having no capability of collecting charges is designated as the output resource.",{"@attributes":{"id":"p-0432","num":"0450"},"figref":["FIG. 69","FIG. 68"],"b":["10","100"]},"The print job is then transferred via the printing service provider to the printing station A. The accounting information on the fee of the pay content is related to either the print job or the user and is stored in the print portal .","On completion of the printing operation, the printing station A creates accounting information on the printing fee. This accounting information is transferred to the print portal  via the pathway reverse to the path of the transmission of the print job. The accounting information may be transmitted together with a print report, which represents normal completion of the printing operation. The accounting information may be transmitted directly from the printing station A to the print portal .","The print portal  accordingly gains all the pieces of accounting information on the printing-related charges. The print portal  charges the user, based on the collected accounting information. For the enhanced utility, it is preferable to demand payment in a lump sum for every preset time period. The user makes a contract with the print portal  to pay for the services of the print portal system. The charges can thus be settled readily by utilizing the same system as the payment for the services; for example, by credit card, by transfer to the bank account, or by electronic prepaid card. The electronic prepaid card gains electronic points, for example, by advanced transfer to the bank account, and decreases the electronic points to pay for the printing-related charges. Another applicable procedure settles the payment by cash via a window opened by the provider of the print portal .","The payment to the print portal  is distributed to the pay content provider A and the printing station A by a similar procedure to that in the system of . In the system of , the print portal  carries out all the required processes to distribute the payment, demand payment from the user, and charge the respective system users for the services. This arrangement desirably reduces the load of accounting.",{"@attributes":{"id":"p-0437","num":"0455"},"figref":["FIG. 70","FIG. 70","FIGS. 68 and 69"],"b":["30","30","30"]},"The transmission of accounting information until completion of the printing operation follows the process in the system of . Namely accounting information is transmitted from the pay content provider A to the print portal  in response to a printing requirement and is kept in the print portal  until completion of the printing operation. The printing station A transmits information on the printing fee to the print portal  on completion of the printing operation. The print portal  thus collects all the pieces of printing-related accounting information on completion of the printing operation.","In this system, the service provider  takes charge of accounting, so that the print portal  transmits the accounting information including the fee of the pay content and the printing fee to the service provider . The print portal  may add the charges for the services of the print portal system to the transmission to the user. Here the total sum of the charges is transmitted to the service provider , and transmission of the details of accounting is not required. The service provider  charges the user for the total of the communication fee and the total sum transmitted from the print portal . The accounting is settled by a specific method, for example, by credit card, by transfer to the bank account, or by cash, according to a contract between the user and the service provider .","The service provider  distributes a certain amount of money, which is part of the payment from the user and corresponds to the total sum demanded by the print portal , to the print portal  based on the accounting information transmitted from the print portal . The print portal  further distributes the payment to the pay content provider A and the printing station A.","The system of collecting charges at the service provider  advantageously has the high certainty. Delinquency in payment for the communication fee of the service provider  imposes the significant disadvantages, for example, no use of the cellular phone, on the user. The system of  thus desirably ensures collection of charges demanded by the print portal. The above discussion regards the case in which the cellular phone is used as the client MP. One possible modification uses a carrier of the general communication line or an access service provider, which is utilized for access to the Internet via dialup connection, for the payment collector in place of the service provider  in the system of .","The above description omits the charges for the services of the printing service provider. The printing service provider may require each user to pay for the services. In such cases, the print portal  may collect the information on the service charges in addition to the other pieces of accounting information and settle the accounting.","The above description also omits a process of collecting charges at the pay content provider A. This is because there is a relatively small number of pay content providers and thus little necessity of constructing the system for collecting charges at the pay content provider. As one application of the process of collecting charges at the service provider , the pay content provider A may collect all the pieces of accounting information and function as the payment collector.","G2. Authentication","Appropriate authentication of each system user is essential for the proper accounting. Many and unspecified users use the print portal system via the network, so that authentication is very important to eliminate illegal uses. The print portal  functions as the hub of the system users and thus enables unified authentication.",{"@attributes":{"id":"p-0445","num":"0463"},"figref":"FIG. 71"},"Authentication of the user is mainly based on three objects. The first object is to identify the accessed user as a user authorized by the print portal. The print portal system is pay services, so that elimination of illegal accesses is essential for protection of the profits of the print portal business. The print portal utilizes information and equipment owned by third entities for the printing services, and is required to meet user's printing requirements with certainty. From this point of view, adequately handling the potential troubles in printing and definitely rejecting illegal printing requirements are important to assure the benefits of the respective users of the print portal system.","The second object is to identify the accessed user as a user authorized to use pay contents. This is based on the necessity that collection of a content fee should be assured in the case of printing a pay content. The pay content provider allows only contractors to browse information, so that the printing services should be restricted to the users authorized by the pay content provider.","The third object is to assure adequate charging and payment. In the case of an illegal access, the charges for printing may not be paid. The authentication of the user is thus required to avoid such troubles and ensure proper accounting.","Because of such objects, the print portal authenticates the user. The authentication is carried out, for example, by comparing user information collected from the user at the time of a printing requirement with user information registered in advance in the user database . The user information may be the user ID and the user password registered in the print portal. When it is highly probable that the client MP is one-to-one mapped to the user, as in the case of the cellular phone, address information for identifying the client MP on communication via the network may be applied for the user information.","The user information may be collected at diverse timings. One applicable procedure collects the user information at the time of an access from the client MP to the print portal . The authentication is, however, not restricted to this timing, but may be carried out on completion of the settings of the output resource and the printing conditions.","In the case of a printing requirement from the pay content provider, the pay content provider may have already authenticated the user who desires to browse information. In such cases, the print portal may collect information regarding the authenticated user from the pay content provider, instead of independently carrying out the authentication.","Authentication of the content provider is mainly based on two objects. The first object is to identify the content provider as a legal registrant authorized by the print portal. The content provider provides information that is object to be printed. It is technically possible to make the content provider free without registration into the print portal. In the actual state, however, there are often business-based requirements of restricting the output resource and the maximum number of printing sheets permitted, according to the information to be printed. The print portal should register the content provider, in order to ensure stable management of such requirements. The print portal advantageously provides the content provider with flexible printing environments. Authentication of the legal registrant is required from the business-based viewpoint, that is, to collect the service fees from the content provider.","The second object is to confirm whether the content to be printed is a free content or a pay content. In the case of the pay content provider, specific processing is required to allow only authorized users to print the content and to collect the content fee.","Because of these objects, the print portal authenticates the content provider. The authentication is carried out, for example, by comparing content information collected from the content provider or the user at the time of a printing requirement with information registered in advance in the content provider database . The content information may be the URL of the content or the domain name.","The content information may be collected at diverse timings. One applicable procedure collects the content information simultaneously with transmission of print data from the content provider to the print portal . The print portal  may authenticates the content provider at a timing that does not affect the user interface. For example, the print portal  gains access to the content provider and confirms that execution of printing is permitted under the specified settings of printing conditions, while the print portal  transfers the print job to the printing service provider on completion of the settings of printing conditions.","Authentication of the printing service provider or the printing station is mainly based on two objects. The first object is to identify the printing service provider or the printing station as a legal registrant of the print portal. The second object is to confirm if the printing service provider or the printing station functions as a payment collector. These lead to assure proper printing operations and adequate accounting. A diversity of procedures may be applied for the authentication. The print portal  may directly authenticate the printing station. The hierarchical authentication policy may be adopted; that is, the print portal  authenticates the printing service provider, while the printing service provider authenticates the printing station.","The authentication is carried out, for example, by comparing output resource information for identifying the output resource with information registered in advance in the printer database . The output resource information may be the TP address used for communication. The authentication may be carried out at diverse timings, for example, at the time of specifying the output resource or at the time of transferring a print job to the printing service provider and the printing station A.","The print portal may not carry out the authentication by itself but may entrust any of various authentication services constructed outside the print portal. The system users who are not required for authentication may be excluded from the subjects of authentication by taking into account the objects discussed above.","H. Maintenance and Management of Printers","In the system of this embodiment, the print portal  collects information on the working state of each printing station. The print portal may manage and maintain the respective printing stations by taking advantage of this functionality.",{"@attributes":{"id":"p-0460","num":"0478"},"figref":"FIG. 72"},"In this embodiment, the application unit  includes a printer maintenance unit  as a functional block of the maintenance and management functionality. A print record A of each printer is stored in the printer database .","The printer PRT utilized in this system includes an MIB (Management Information Base). The MIB is a database for storing the status of the printer PRT and reports the remaining quantity of the toner and the loss of the photosensitive drum in response to an external inquiry.","The printer maintenance unit  regularly checks the working status of each printer PRT. The check is implemented by, for example, asking the MIB of each printer PRT about the remaining quantities of the expendables via the printing service provider.","In the case where the printer PRT is used exclusively for printing via. the print portal, the remaining quantities of the expendables may be estimated from the print record A.","In order to relieve the load of checking a large number of printers PRT, one practical procedure selects the printers that require inspection based on the print record A and collect their status information via the MIB.","The printer maintenance unit  checks the status of each printer PRT and provides maintenance information according to the requirements. The maintenance information includes pieces of information to instruct supplement of the toner and paper and replacement of the photosensitive drum. The maintenance information is preferably given to the printing station or the printing service provider that owns the printer PRT. Required expendables may be ordered simultaneously with issuance of the maintenance information, based on the advanced approval of the printing station or the printing service provider.","I. Mediation Via Single-Layer Server","The above embodiment and examples regard the process of printing information via the double-layer servers, that is, the print portal and the printing service provider. Mediation of printing may be implemented by a single-layer server.",{"@attributes":{"id":"p-0468","num":"0486"},"figref":"FIG. 73","b":["200","250","200"]},"The printer controller  functions as a printing station. In this example, the printer controller  has the functions of managing several printers connected by a LAN or the like. The printer controller  managing several printers also exerts part of the functions of the printing service provider.","The printer controller  includes a logic printer management unit , a physical printer management unit , a data conversion unit , and a security module . The logic printer management unit  manages printers by the unit of executing each print job. For example, when one document is printed with two printers, the two printers constitute one logic printer.","The physical printer management unit  functions to manage the working status of each printer, for example, the remaining quantities of toner and paper. The physical printer management unit  is provided for each machine of the printer, irrespective of the construction of the logic printer.","The data conversion unit  exerts functions corresponding to the printer driver. The data conversion unit  converts data transmitted from the portal system  to control data intrinsic to the printer, which is the object to be controlled, that is, data representing the dot on-off state in each pixel. The security module  functions to encode data and authenticate data transmission, in order to eliminate illegal accesses to the printer controller .","The portal system  mainly includes a standard functionality unit , an application unit , an accounting unit , and a security module . The standard functionality unit  exerts the main functions to attain printing via the portal system . The standard functionality unit  includes a data conversion unit , a status management unit , a job controller , a directory service , an API (Application Programming Interface) , and a security module . The functions of the security modules  and  are substantially identical with those of the security module  in the printer controller .","The data conversion unit  functions to convert print data specified by the client  to a general purpose format, which does not depend upon the model of the printer.","The status management unit  functions to monitor the working status of each printer. The working status represents the conditions of each printer intimately related to execution of printing, for example, the remaining quantity of ink or toner and the remaining quantity of printing paper. The object of management is the physical printer. The status management unit  carries out such management via communication with the physical printer management unit .","The job controller  functions to manage print jobs output to the printer controller . As discussed previously, the printer as the output resource is designated arbitrarily on the network. The job controller  transmits print jobs to the respective output resources and manages a record of the transmission, in response to the designation. In the case where an instruction is given to stop a certain print job or change the print mode in the course of printing, the job controller  identifies the printer that has received the print job and outputs the instruction to the identified printer. Like the spooler, the job controller  controls execution of print jobs. The difference from the spooler is that the job controller  controls not only accumulated print data but transmitted print data.","The directory service  functions to manage information for identifying the authenticated users of the portal system  and the available printers. The user-related information includes an identification number and a password assigned to each user and information on the address of charging. The printer-related information includes information required for communication with the printer, for example, information for identifying the printer on the network like the URI or the IP address. The printer-related information also includes information on the connection of the printer with the network, such as an exclusive line or dialup connection.","The application unit  is a functional block of exerting diverse functions to enhance the utility. For example, the application unit  causes a window for specifying the content to be printed and the printer of the output resource to be displayed on the client . The displayed window depends upon the type of the client ; for example, different windows are provided for the computer and the cellular phone. The application unit  is the functional block provided individually corresponding to the type of the client and the content to be printed.","The API (Application Programming Interface)  is an interface between the application unit  and the standard functionality unit . The API  functions to transfer the individually provided data of the application unit  to the standard functionality unit  in a specific format. The mediation of the API  enables application of a common module to the standard functionality unit , while providing diverse application units  for each portal system.","The accounting unit  takes charge of accounting in the case of printing via the print portal . This functional block is provided individually corresponding to the type of the client .","The functional blocks of the portal system are not restricted to the configuration of .",{"@attributes":{"id":"p-0482","num":"0500"},"figref":"FIG. 74","b":["200","200","250","250","200","200"]},"Directory services  and A in the respective portal systems manage mapping of the clients to the printer controllers. Exemplified pieces of information managed by the directory services  and A are shown in the drawing. The directory service  maps information for identifying the destination of transmission of print data to the identification number of each printer under management of its own portal system  and manages the mapping. For example, the print controller  as the destination of transmission of print data is mapped to a printer with an identification number \u20181111\u2019 under management of its own portal system . Information for identifying the destination of transmission on the network, for example, the IP address, is registered as the destination of transmission of print data. In a similar manner, the print controller A as the destination of transmission of print data is mapped to a printer with an identification number \u20182222\u2019 under management of its own portal system A, and the mapping is registered in the directory service A.","Each directory service also stores the mapping of printers to the other directory service. For example, the identification number \u20182222\u2019 allocated to the specific printer under management of the cooperative portal system A is registered in the directory service . The portal system A that manages the specific printer is registered as the destination of transmission of print data.","On the contrary, the identification number \u20181111\u2019 allocated to the specific printer under management of the cooperative portal system  is registered in the directory service A of the other portal system A. The portal system  that manages the specific printer is registered as the destination of transmission of print data.","The following briefly describes the printing process via the plurality of portal systems in response to a printing requirement from the client MP. In response to a printing requirement that specifies the printer of the identification number \u20181111\u2019 under management of the portal system  as the output resource, print data is transmitted to the printer controller , based on the information managed by the directory service  (see the arrow A in the drawing).","In response to a printing requirement that specifies the printer of the identification number \u20182222\u2019 under management of the cooperative portal system A as the output resource, on the other hand, both the portal systems  and A are used for printing. The job controller  in the portal system  transfers the printing requirement to the cooperative portal system A, based on the information managed by the directory service  (see the arrow B in the drawing). The portal system A receives the transferred printing requirement and causes the printer controller A to execute the printing operation. The PDF conversion may be performed in either of the portal systems  and A.","A printing requirement from the client MPA is treated in a similar manner. In the case where the printer under management of the portal system A is designated as the output resource, the portal system A transmits print data to the printer controller A. In the case where the printer under management of the cooperative portal system  is designated as the output resource, the portal system A transfers the printing requirement to the portal system .","The above description regards cooperation of two portal systems. Storage of management information in the directory service enables cooperation of three or more portal systems. The portal systems  and A may be cooperated in a single direction, instead of the interactive manner. For example, the directory service  stores information of printers under management of the portal system A, whereas the directory service A does not store information of printers under management of the portal system . In this configuration, the clients MP can use all the printers under management of either the portal system  or the portal system A, whereas the clients MPA can use only the printers under management of the portal system A. The system of  enables construction of such unbalanced cooperation.","The present invention provides a technique of intermediating between multiple content provider servers and multiple printing apparatuses to execute a printing operation in response to an instruction from a client connected to a network."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0051","num":"0049"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0052","num":"0050"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0053","num":"0051"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0054","num":"0052"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0055","num":"0053"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0056","num":"0054"},"figref":"FIG. 6","b":"130"},{"@attributes":{"id":"p-0057","num":"0055"},"figref":"FIG. 7","b":"150"},{"@attributes":{"id":"p-0058","num":"0056"},"figref":"FIG. 8","b":"152"},{"@attributes":{"id":"p-0059","num":"0057"},"figref":"FIG. 9","b":"140"},{"@attributes":{"id":"p-0060","num":"0058"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0061","num":"0059"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0062","num":"0060"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0063","num":"0061"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0064","num":"0062"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0065","num":"0063"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0066","num":"0064"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0067","num":"0065"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0068","num":"0066"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0069","num":"0067"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0070","num":"0068"},"figref":"FIG. 20","b":["130","110"]},{"@attributes":{"id":"p-0071","num":"0069"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0072","num":"0070"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0073","num":"0071"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0074","num":"0072"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0075","num":"0073"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0076","num":"0074"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0077","num":"0075"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0078","num":"0076"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0079","num":"0077"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0080","num":"0078"},"figref":"FIG. 30"},{"@attributes":{"id":"p-0081","num":"0079"},"figref":"FIG. 31"},{"@attributes":{"id":"p-0082","num":"0080"},"figref":"FIG. 32"},{"@attributes":{"id":"p-0083","num":"0081"},"figref":"FIG. 33"},{"@attributes":{"id":"p-0084","num":"0082"},"figref":"FIG. 34"},{"@attributes":{"id":"p-0085","num":"0083"},"figref":"FIG. 35"},{"@attributes":{"id":"p-0086","num":"0084"},"figref":"FIG. 36"},{"@attributes":{"id":"p-0087","num":"0085"},"figref":"FIG. 37"},{"@attributes":{"id":"p-0088","num":"0086"},"figref":"FIG. 38"},{"@attributes":{"id":"p-0089","num":"0087"},"figref":"FIG. 39"},{"@attributes":{"id":"p-0090","num":"0088"},"figref":"FIG. 40"},{"@attributes":{"id":"p-0091","num":"0089"},"figref":"FIG. 41"},{"@attributes":{"id":"p-0092","num":"0090"},"figref":"FIG. 42"},{"@attributes":{"id":"p-0093","num":"0091"},"figref":"FIG. 43"},{"@attributes":{"id":"p-0094","num":"0092"},"figref":"FIG. 44"},{"@attributes":{"id":"p-0095","num":"0093"},"figref":"FIG. 45"},{"@attributes":{"id":"p-0096","num":"0094"},"figref":"FIG. 46"},{"@attributes":{"id":"p-0097","num":"0095"},"figref":"FIG. 47"},{"@attributes":{"id":"p-0098","num":"0096"},"figref":"FIG. 48"},{"@attributes":{"id":"p-0099","num":"0097"},"figref":"FIG. 49"},{"@attributes":{"id":"p-0100","num":"0098"},"figref":"FIG. 50"},{"@attributes":{"id":"p-0101","num":"0099"},"figref":"FIG. 51"},{"@attributes":{"id":"p-0102","num":"0100"},"figref":"FIG. 52"},{"@attributes":{"id":"p-0103","num":"0101"},"figref":"FIG. 53"},{"@attributes":{"id":"p-0104","num":"0102"},"figref":"FIG. 54"},{"@attributes":{"id":"p-0105","num":"0103"},"figref":"FIG. 55"},{"@attributes":{"id":"p-0106","num":"0104"},"figref":"FIG. 56"},{"@attributes":{"id":"p-0107","num":"0105"},"figref":"FIG. 57"},{"@attributes":{"id":"p-0108","num":"0106"},"figref":"FIG. 58"},{"@attributes":{"id":"p-0109","num":"0107"},"figref":"FIG. 59"},{"@attributes":{"id":"p-0110","num":"0108"},"figref":"FIG. 60"},{"@attributes":{"id":"p-0111","num":"0109"},"figref":"FIG. 61"},{"@attributes":{"id":"p-0112","num":"0110"},"figref":"FIG. 62"},{"@attributes":{"id":"p-0113","num":"0111"},"figref":"FIG. 63"},{"@attributes":{"id":"p-0114","num":"0112"},"figref":"FIG. 64"},{"@attributes":{"id":"p-0115","num":"0113"},"figref":"FIG. 65"},{"@attributes":{"id":"p-0116","num":"0114"},"figref":"FIG. 66"},{"@attributes":{"id":"p-0117","num":"0115"},"figref":"FIG. 67"},{"@attributes":{"id":"p-0118","num":"0116"},"figref":"FIG. 68","b":"70"},{"@attributes":{"id":"p-0119","num":"0117"},"figref":"FIG. 69"},{"@attributes":{"id":"p-0120","num":"0118"},"figref":"FIG. 70"},{"@attributes":{"id":"p-0121","num":"0119"},"figref":"FIG. 71"},{"@attributes":{"id":"p-0122","num":"0120"},"figref":"FIG. 72"},{"@attributes":{"id":"p-0123","num":"0121"},"figref":"FIG. 73"},{"@attributes":{"id":"p-0124","num":"0122"},"figref":"FIG. 74"}]},"DETDESC":[{},{}]}
