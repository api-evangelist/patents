---
title: Method and system to facilitate securely processing a payment for an online transaction
abstract: A computer-implemented method, to facilitate processing a payment for an online transaction, includes, responsive to receiving secure transaction data from a merchant server, using a payment processor to generate a transaction data identifier to identify the transaction data. The payment processor communicates the transaction data identifier to the merchant server. In response to receiving a request to process a payment, including the transaction data identifier, the payment processor requests user credentials from a user. Upon receiving user credentials from the user, the payment processor verifies the user credentials. The payment processor processes the payment and generates a payment identifier to identify payment data associated with the payment. The payment processor communicates the payment identifier to the merchant server. Upon receiving a request for payment data, including the payment identifier, over a secure communication channel from the merchant server, the payment processor communicates the payment data to the merchant server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09542671&OS=09542671&RS=09542671
owner: PAYPAL, INC.
number: 09542671
owner_city: San Jose
owner_country: US
publication_date: 20040512
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present invention relates generally to the field of commerce automation. More specifically, the present invention relates to a method and system to facilitate securely processing payments for online transactions.","Electronic commerce (\u201ce-commerce\u201d) has been increasing in popularity as more people are becoming accustomed to purchasing products online via the Internet. However, online transactions can raise security issues for merchants.","In a typical e-commerce transaction, a customer uses a web client (e.g., a browser, such as the Internet Explorer browser developed by Microsoft Corporation of Redmond, Wash. State) to access a merchant website hosted on a merchant server. The customer browses the merchant website selecting items to purchase. When the customer is ready to pay for the selected items, a checkout web page including a list of the items selected for purchase is displayed. To confirm the selection of items, the user selects a \u201ccheckout\u201d button on the checkout web page.","Next, a payment web page is displayed to the customer. At the payment web page, the customer enters payment information for the e-commerce transaction. For example, the customer may be prompted to enter a credit card number, a billing address for the credit card number, and a shipping address for the items selected for purchase. Once the information is entered, the customer selects a \u201csubmit payment\u201d button and the payment information is posted to the merchant server. The merchant server will then communicate the payment information to a server administered by a third party payment processor. The payment processor server will verify the information entered by the customer, process the payment, and communicate to the merchant server whether the payment was successful. Upon a successful payment, the merchant server will display a payment verification web page to the user.","An alternative method is commonly referred to as a \u201cbuyer push\u201d payment method, in which the seller \u201cpushes\u201d funds to the merchant. A \u201cbuyer push\u201d transaction may proceed as follows.","At a checkout web page downloaded to the customer's computer, the customer is presented with a virtual shopping cart listing all of the items the customer has selected to purchase. In addition, the checkout web page may list other transaction data, such as the price for each item, a sub-total for all items, any applicable tax, and a total cost of the transaction. When the customer selects the \u201ccheckout\u201d button, the customer's computer communicates all of the transaction information to a third party server for payment processing via a Hypertext Transfer Protocol (HTTP) Post method.","The payment processor server receives the transaction information and then presents the user with a user credentials web page. The user credentials web page prompts the customer to enter a username and password for verification purposes. Once the customer enters a username and password, the customer selects the \u201cOK\u201d button to submit the user credentials to the payment processor server.","Upon successful verification, the customer is presented with a payment web page. At the payment web page, the customer selects a form of payment that is available to the customer based on the customer's user credentials and the customer's current account standings with the payment processor. For customers with existing accounts, a previously selected default shipping address is used. However, the customer might select an alternative shipping address at the payment web page. After entering the payment information, the customer selects the \u201csubmit payment\u201d button to confirm the payment and to communicate the payment information to the third party payment processor server.","After receiving and validating the payment information, the payment processor server displays a payment confirmation web page and communicates the payment information to the merchant server with a payment status (e.g., whether the payment was successful). If the payment status indicates that the payment was successful, then the merchant server will display its own payment confirmation web page.","The \u201cbuyer push\u201d method described has potential technical problems that can raise security concerns for merchants. In the traditional \u201cbuyer push\u201d scheme described above, when the transaction information is communicated from the merchant checkout page to the third party payment processor, the transaction information is susceptible to being intercepted and\/or modified. For example, the transaction information is simply embedded in a hypertext markup language (HTML) document and communicated to the third party payment processor server via the Hypertext Transfer Protocol (HTTP) Post method. Therefore, the transaction information can be viewed and edited by simply editing the source HTML document prior to submitting the data to the third party payment processor server. A customer might modify the payment price and pay less for a product than the merchant intended. Similarly, the status of the payment is communicated to the merchant server via the HTTP Post method and therefore subject to the same security issues. Consequently, security flaws exist in the traditional \u201cbuyer push\u201d method.","In accordance with one aspect of the present invention, there is provided a computer-implemented method and system to facilitate the processing of payments for e-commerce transactions. A merchant server encrypts and digitally signs transaction data (e.g., items selected by a customer for purchase, the price of the items, any applicable sales tax, and\/or shipping and handling charges) and communicates the transaction data to a third party payment processor server. Upon receiving secure transaction data from a merchant server, the payment processor server decrypts and authenticates the transaction data and generates a transaction data ID to identify the transaction data. Next, the payment processor server digitally signs and communicates the transaction data ID to the merchant server. After receiving and authenticating the transaction data ID, the merchant server digitally signs and communicates a request to process a payment to the payment processor server. The request to process the payment includes the transaction data ID to identify the transaction and related transaction data for which the merchant server would like the payment processed. The payment processor server receives and authenticates the request to process the payment and prompts the customer to enter user credentials to verify the identity of the customer and access the customer's previously stored account data. Once the customer's credentials have been verified, the payment processor automatically processes the payment by directing the customer's funds to the merchant's account.","In accordance with a second aspect of the invention, after a payment is processed, the payment processor server generates a secure payment ID to identify payment data related to the transaction payment. The payment processor server digitally signs and communicates the secure payment ID to the merchant server. Next, the merchant server digitally signs and communicates a request for payment data, such as payment status, to the payment processor server. The request for payment data includes the secure payment ID to identify the payment data being requested. The payment processor server receives and authenticates the request for payment data and subsequently communicates the payment data to the merchant server over a secure communication channel. Other features of the present invention will be apparent from the accompanying drawings and from the detailed description that follows.","A computer-implemented method and a system to process a payment for an e-commerce transaction are described. In the following description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be evident, however, to one skilled in the art that the present invention may be practiced without these specific details.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 1","FIG. 1","FIG. 1"],"b":["20","22","24","26","20","20","20"]},"The merchant of server  executes Internet server software including, but not limited to, web server software and Application Program Interface (API) server software. The web server software executing on merchant server  serves web pages to web clients, such as a web browser executing on client . The web pages provide an interface to a virtual store that customers can browse with the web browser software. While browsing the virtual store, customers can select items to purchase. Items selected for purchase are temporarily stored by the merchant server  and accessed for checkout by selecting a link to a virtual shopping cart. For one embodiment of the present invention, to process a payment for the customer's selected items, the merchant server  interacts with the payment processor server . Similarly, the API server software provides a programmatic interface to the merchant server .","The payment processor server  is connected to the client PC  and the merchant server  via the Internet . Like the merchant server , the payment processor server  also executes Internet server software including, but not limited to, web server software. For one embodiment of the invention, a customer directs a web browser to the website hosted by the payment processor server  by entering the uniform resource locator (URL) of the payment processor server  (e.g., http:\/\/www.xyz-paymentprocessor.com). The payment processor server  prompts the customer to create an account, including a username and password to identify the customer as the holder of the account. In addition, the payment processor server  might prompt the customer to enter account information for accounts held at other financial institutions, such as bank accounts and credit card accounts. As will be discussed below, by establishing an account with the payment processor, the customer can later use the account to make a payment for items selected for purchase on the virtual store hosted by the merchant server .","For one embodiment of the present invention, the customer will have already created an account with the payment processor at the time the customer decides to enter into a transaction via merchant server . However, in an alternative embodiment, a customer will be directed to the payment processor website to create an account at or near the time the customer enters into the transaction.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 2","FIG. 2"],"b":["27","24","29","30","26","26","32","33","26","26","34","24"]},"In accordance with one embodiment of the present invention, a customer, or buyer, uses a web client  to browse a virtual store hosted on merchant server . Once the customer has selected a number of items for purchase, the customer is presented by the merchant server with a preliminary checkout web page . The preliminary checkout web page  displays the contents of the customer's virtual shopping cart, including a listing of the items selected for purchase by the customer, as well as the prices of each item. In addition, for one embodiment of the invention, the preliminary checkout web page  prompts the customer to select a shipping address and shipping method (e.g., overnight or two day air shipping) for the items. After the customer has entered a shipping address and chosen a shipping method, the customer selects a web button or link to a checkout web page .","For one embodiment of the invention, the customer's shipping address is stored on the payment processor server, and therefore the customer does not have to input or select a shipping address on web page  of the merchant website. However, alternatively, for one embodiment of the invention, the shipping address is selected or input by the customer at the merchant website. For example, the customer may select a shipping address from a list of addresses previously input at the merchant website, or alternatively, the customer may be prompted to input a shipping address at web page . Accordingly, for one embodiment of the invention, the merchant server  will communicate the customer's shipping address to the payment processor server  along with a variable indicating that the payment processor should process the transaction with the shipping address selected at the merchant website, and not a default shipping address stored by the payment processor. Additionally, prior to displaying the checkout web page , the merchant server  may calculate any shipping and handling fees, as well as any applicable taxes  for the transaction, based on the customer selected shipping address.","The first communication to the payment processor is begun as follows. At the payment processor, the transaction is initiated when the merchant server  sends or provides the transaction data (e.g., merchant ID, shopping cart ID, payment amount, additional fees, address, etc.) to the payment processor server . For one embodiment of the present invention, before the transaction data is communicated from the merchant server  to the payment processor server , it is digitally signed utilizing a public-private key encryption scheme . By digitally signing the transaction data before communicating it from the merchant server  to the payment processor server  in operation , the payment processor server  can authenticate the source of the data. For example, the payment processor server  can verify and confirm that no one has intercepted and modified the transaction data en route from the merchant server  to the payment processor server . Under the digital signature scheme, each merchant server  digitally signs the transaction data with its own private key before communicating the transaction data to the payment processor server . The payment processor server  utilizes the public key assigned by the merchant to verify that the digital signature matches that of the particular merchant server  from which the transaction data was received. Digitally signing the transaction data provides the payment processor server  with a method to authenticate the transaction data, but it does not prevent an interceptor from reading or monitoring the transaction data.","For one embodiment of the present invention, as an added security precaution for merchants, the transaction data is encrypted utilizing an asymmetric encryption scheme with public and private keys before digitally signing and communicating the data from the merchant server  to the payment processor server  at operation . Encrypting the transaction data prevents an interceptor from reading or monitoring the data. Under the encryption scheme, the payment processor provides each merchant with a public key of a public-private key pair. Each merchant server  utilizes the public key to encrypt the transaction data  prior to digitally signing and communicating the data to the payment processor server . After the transaction data is received at the payment processor server , the payment processor server  decrypts the transaction data with its private key, and then verifies the source of the transaction data with the public key of the merchant server  that sent the data. Consequently, the transaction data is securely communicated from the merchant server  to the payment processor server .","In an alternative embodiment, rather than using public-private key encryption, a secure communication channel is used to communicate the transaction data from the merchant server  to the payment processor server . Alternatively, a secure communication protocol is used to communicate the transaction data from the merchant server  to the payment processor server .","Once the payment processor server  has received, decrypted and authenticated the transaction data sent by the merchant server, the payment processor displays a payment web page  in the browser executing on the client . The payment web page  displays to the user the transaction data including a listing of the items selected for purchase, the price of each item, the shipping and handling charges, and any applicable taxes. In addition, the payment web page  prompts the customer to enter a username and password to verify the customer's identity and for purposes of determining whether the selected form of payment is available to the customer. For example, if the customer selects as a form of payment an account held with the payment processor, the customer must have previously established an account with the payment processor in order for the selected form of payment to be valid. If the customer does not have a previously established account, the customer might be presented with one or more web pages prompting the customer to establish an account with the payment processor. However, if the customer has already established an account, the customer will simply enter a username and password, and select a button or link  to submit the user credentials.","After receiving and successfully verifying the user credentials, the payment processor server  delivers to the client web browser  an order confirmation web page . For one embodiment of the invention, the order confirmation web page  displays transaction data including the selected form of payment, the exact amount to be charged for the transaction and the shipping address for the transaction. When the customer has confirmed that the displayed transaction data is accurate, the customer selects a button or link  on the order confirmation web page  to confirm the payment.","After the customer has confirmed the payment, the payment processor server  submits the payment request for processing and performs an operation  to generate a payment ID to identify payment data related to the payment. For example, payment data might include, amongst other things, the status of the payment (e.g., whether the payment is successful, unsuccessful, or still pending), the amount of the payment successfully processed, and the date on which the payment was successfully processed. Next, the payment processor server  communicates the payment ID as part of an HTML document to the merchant server  using the HTTPS post method, as indicated by reference numeral  in . Because the payment ID, instead of the payment data itself, is being communicated to the merchant server , there is virtually no opportunity for someone to intercept and edit the payment data. However, in alternative embodiments, the payment ID may be digitally signed to ensure its authenticity, and to provide further security, the payment ID may be encrypted. Furthermore, a protocol other than the HTTPS post method may be used to communicate the payment ID from the payment processor  to the merchant server .","When the merchant server  receives the payment ID, it will verify the authenticity  of the payment ID by using the public key of the payment processor server's public-private key pair. Furthermore, if the payment ID has been encrypted with the merchant server's  public key, the merchant server will decrypt the payment ID using its private key. At operation , the merchant server  generates a request for payment information. For one embodiment, the request is made by calling a function that is part of an application programming interface API . The request, which includes the payment ID to identify the particular transaction data that is being requested, is communicated to the payment processor server  at operation . In response to the request, the payment processor server  looks up the payment status and other payment information related to the payment ID, and returns  the payment data  to the merchant server .","The merchant server , after receiving the payment data, performs a business operation  to determine how to proceed based on the status of the payment. For example, as indicated by reference numeral  in , if the payment status indicates a successful payment, the merchant server  presents the customer with an order confirmation web page  confirming the successful payment with the customer.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 3","FIG. 2","FIG. 3"],"b":["69","20","24","70","70","70","26","70","82"]},"When the customer selects the link to the checkout web page , the merchant server  first performs a business operation  to calculate any additional charges, including shipping and handling charges as well as any applicable taxes. Next, the merchant server  performs an operation  to communicate the transaction data  to the payment processor server . The payment processor server  receives the transaction data  and performs an operation  to generate a transaction data ID to identify the transaction data . The payment processor server  communicates the transaction data ID to the merchant server , as indicated by reference numeral . Upon receiving the transaction data ID, the merchant server  displays the checkout web page  to the customer.","For one embodiment of the present invention, before the transaction data  is communicated from the merchant server  to the payment processor server , it is digitally signed utilizing a public-private key encryption scheme as described above with reference to . Under the digital signature scheme, each merchant provides the payment processor server  with a public key of a public-private key pair. The payment processor stores each merchant's public key in a key database . Each merchant server  digitally signs the transaction data  with its own private key before communicating the transaction data  to the payment processor server . The payment processor server  utilizes the public key assigned by the merchant to verify that the digital signature matches that of the particular merchant server  from which the transaction data  was received.","For one embodiment of the present invention, as an added security precaution, the transaction data  is encrypted utilizing an asymmetric encryption scheme as described above with reference to . Under the encryption scheme, the payment processor provides each merchant with a public key of a public-private key pair. Each merchant server  utilizes the public key to encrypt the transaction data  prior to digitally signing and communicating the data  to the payment processor server . After the transaction data  is received at the payment processor server , the payment processor server  decrypts the transaction data with its private key, and then verifies the source of the transaction data with the public key of the merchant server that sent the data . Consequently, the transaction data  is securely communicated from the merchant server  to the payment processor server .","In an alternative embodiment, rather than using public-private key encryption, a secure communication channel is used to communicate the transaction data from the merchant server  to the payment processor server . Alternatively, a secure communication protocol is used to communicate the transaction data from the merchant server  to the payment processor server .","Once the transaction data  is received at the payment processor server , the payment processor server  generates a unique transaction data ID to identify the transaction data , as illustrated by reference numeral . For one embodiment of the present invention, the transaction data ID is generated by performing a hash operation on the transaction data. In an alternative embodiment, a random number generator is used to generate the transaction data ID.","In , the transaction data  is shown to include a merchant ID, shopping cart ID, dollar amount and shipping address. However, it will be understood that the transaction data  could include any data related to the transaction that may be required to process the payment.","Once the payment processor has generated a unique transaction data ID , the payment processor communicates the transaction data ID  to the merchant server . In turn, the merchant server  displays the checkout web page  to the customer. When the customer has selected the payment processor as the payment method, the transaction data ID is communicated from the customer's client PC  to the payment processor server  in the form of a request  to process a payment. For one embodiment of the present invention, the request  to process the payment, including the transaction data ID, is part of an HTML document that is communicated to the payment processor server  using the HTTPS post method, as indicated by reference numeral  in . However, in alternative embodiments, a communication protocol other than HTTPS POST may be used. Because the transaction data ID, rather than the transaction data itself, is being communicated from the client  to the payment processor server , there is no opportunity to intercept and edit the transaction data .","Next, the payment processor server  receives the transaction data ID and delivers a payment web page  to the client web browser . The payment processor server  uses the transaction data ID to identify the previously received transaction data  associated with the particular transaction. For one embodiment of the invention, the payment web page  displays transaction data , including a listing of the items selected for purchase, the price of each item, the shipping and handling charges, and any applicable taxes. In addition, the payment web page  prompts the customer to enter a username and password to verify the customer's identity and for purposes of determining which forms of payment are available to the customer. For example, if the customer selects as a form of payment an account held with the payment processor, the customer must have previously established an account with the payment processor in order for the selected form of payment to be valid. If the customer does not have a previously established account, the customer might be presented with one or more web pages prompting the customer to establish an account with the payment processor. However, if the customer has already established an account, the customer will simply enter a username and password, and select a button or link  to submit the user credentials.","In response to receiving the user credentials, the payment processor server  delivers to the client web browser  an order confirmation web page . For one embodiment of the invention, the order confirmation web page  displays transaction data including the selected form of payment, the exact amount to be charged for the transaction and the shipping address for the transaction. For one embodiment of the invention, the shipping address that is displayed is selected by the customer at the merchant website, and communicated to the payment processor server . However, in an alternative embodiment, the shipping address is selected or input at the payment processor website, or a default shipping address stored by the payment processor is displayed.","For one embodiment of the invention, the customer may have the option of changing the form of payment. For example, the customer may be able to select a different credit card or bank account to use for the transaction. When the customer has confirmed that the displayed transaction data is accurate, the customer selects a button or link  on the order confirmation web page  to confirm the payment.","After the customer has confirmed the payment, the payment processor server  submits the payment request for processing and performs an operation  to generate a payment ID to identify payment data related to the payment. For example, payment data might include, amongst other things, the status of the payment (e.g., whether the payment is successful, or still pending), the amount of the payment successfully processed, and the date on which the payment was successfully processed. For one embodiment of the invention, if a selected form of payment (e.g., bank or credit card account) is not valid or fails, the customer is prompted to enter a different payment method.","Next, the payment processor server  communicates the payment ID as part of an HTML document to the merchant server  using the HTTPS post method, as indicated by reference numeral  in . Because the payment ID, instead of the payment data itself, is being communicated to the merchant server , there is virtually no opportunity for someone to intercept and edit the payment data. However, in alternative embodiments, the payment ID may be digitally signed to ensure its authenticity, and may be encrypted. Furthermore, a protocol other than the HTTPS post method may be used to communicate the payment ID from the payment processor  to the merchant server .","In addition to generating a payment ID to identify the payment data, after the customer has confirmed the payment, the payment processor server  generates an instant payment notification (IPN) and communicates the IPN to the merchant server . In one embodiment, the payment processor server  also makes funds immediately available to the merchant in the amount of the payment. The IPN provides the merchant server  with real-time notification and confirmation of payments made by the customer. In addition, an IPN might provide the merchant server with additional data relating to pending, cancelled, or failed transactions. For example, a separate IPN might be generated by the payment processor server  and communicated to the merchant server  when the status of a payment changes.","Alternatively, the merchant server  can request payment data at any time by simply communicating a request  for payment data, including the payment ID to identify the transaction to which the payment data relates. As illustrated in , at reference numeral  the merchant server  performs a business operation to generate  a request for payment data. Next, the merchant server  performs an operation  to communicate a request for payment data, including the payment ID, to the payment processor server . Upon receiving the request for payment data, the payment processor server  performs an operation  to retrieve the payment data, identified by the payment data ID, and communicates the payment data to the merchant server , as indicated by reference numeral .","For one embodiment of the invention, prior to sending the payment data to the merchant server , the payment data is digitally signed and encrypted using the digital signature and encryption scheme described above. For example, the payment processor server  encrypts the payment data using the public key assigned to the payment processor server  by the merchant server . After encrypting the payment data, the payment processor server  digitally signs the encrypted payment data with the payment processor server's private key. When received at the merchant server , the payment data is authenticated using the public key assigned by the payment processor and then decrypted using the merchant server's private key. In an alternative embodiment the payment data is communicated over a secure communication channel, or using a secure communications protocol.","The merchant server , after receiving the payment data, performs a business operation  to determine how to proceed based on the status of the payment. For example, as indicated by reference numeral  in , if the payment status indicates a successful payment, the merchant server  presents the customer with an order confirmation web page  confirming the successful payment with the customer.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIGS. 4A and 4B","b":["112","114","26","36","24","36","24","36","116","26","118"]},"At operation , the payment processor server  generates a transaction data ID to identify the transaction data received in operation . Next, at operation , the payment processor server  digitally signs the transaction data ID with the payment processor's private key. At operation , the payment processor communicates the digitally signed transaction data ID to the merchant server .","At operation , the payment processor server  receives a request  to process a payment from merchant server . The request  to process the payment, which includes the transaction data ID, might be communicated using the HTTPS post method. For one embodiment of the invention, at operation , the payment processor server  sends a web page to the client  that prompts the customer to enter user credentials including a usemame and password. The customer's user credentials are received from the client  at operation . For one embodiment of the present invention, the user credentials are communicated to the payment processor server  via the HTTPS post method. At operation , the payment is processed using an account associated with the user credentials.","At operation  of , the payment processor server  generates a payment ID to identify payment data associated with the payment. Next, at operation , the payment processor server  digitally signs the payment data ID with the payment processor server's private key. At operation , the payment processor server communicates the digitally signed payment ID to the merchant server . For one embodiment of the present invention, the payment ID is communicated to the merchant server  as part of an HTML document using the HTTPS post method. However, in alternative embodiments, other communication protocols are used.","At operation , the payment processor server  receives a request for payment data  from the merchant server . The request for payment data  includes the payment ID, generated at operation , to identify the payment data that is being requested. In response to the request for payment data , at operation  the payment processor server  communicates the payment data  to the merchant server . For one embodiment of the invention, the payment processor server  encrypts the payment data with a public key of a public-private key pair before communicating the payment data to the merchant server . When the payment data is received at the merchant server , the merchant server  decrypts the payment data with the private key of the public-private key pair. In alternative embodiments, the payment data is communicated over a secure communication channel or via a secure communication protocol.","One of the advantages of the method described with respect to the description of  is that the transaction data and payment data are referenced only by transaction data ID and payment ID, respectively, when using communication protocols such as the HTTP or HTTPS post methods. Consequently, there is little opportunity for someone to intercept and misuse the transaction data and\/or payment data. Another advantage of the present invention is the ability to implement the method as a standard set of application programming interface (API) function calls to be distributed to merchants as part of a software development kit, consequently, cutting down on the development time required for a merchant to integrate systems with the payment processor.",{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 5","b":["142","144","26","24","36","24","36","146","26","148"]},"At operation , in response to prompting a user to enter user credentials, the payment processor server  receives user credentials from the user. The payment processor server  verifies the identity of the user using the user credentials of the user requesting payment. Assuming the verification is successful, at operation , the payment processor server  processes the payment using an account associated with the user credentials entered by the user.","At operation , the payment processor server  generates a payment ID to identify payment data associated with the payment. At operation , the payment processor  digitally signs the payment ID using the payment processor's private key. Once the payment ID is digitally signed, the payment processor server  communicates the digitally signed payment ID to the merchant server  at operation .","At operation , the payment processor server  receives a request for transaction details. The request includes the payment ID to identify payment data associated with the transaction payment. In response to receiving the request, the payment processor server communicates transaction details, including payment status, to the merchant server at operation .",{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 6","b":"200"},"The computer system  includes a processor , a main memory  and a static memory , which communicate with each other via a bus . The computer system  may further include a video display unit  (e.g., a liquid crystal display (LCD) or cathode ray tube (CRT)). The computer system  also includes an alphanumeric input device  (e.g. a keyboard), a cursor control device  (e.g. a mouse) a disk drive unit , a signal generation device  (e.g. a speaker) and a network interface device .","The disk drive unit  includes a machine-readable medium  on which is stored a set of instructions (software)  embodying any one, or all, of the methodologies described above. The software  is also shown to reside, completely or at least partially, within the main memory  and\/or within the processor . The software  may further be transmitted or received via the network interface device . For the purposes of this specification, the term \u201cmachine-readable medium\u201d shall be taken to include any medium which is capable of storing or encoding a sequence of instructions for execution by the machine and that cause the machine to perform any one of the methodologies of the present invention. The term \u201cmachine-readable medium\u201d shall accordingly be taken to include, but not be limited to; solid-state memories, optical and magnetic disks, and carriers wave signals.","Thus, a computer-implemented method and system to process a payment for an e-commerce transaction are described. It will be evident that various modifications and changes may be made to these embodiments without departing from the broader spirit and scope of the invention. Accordingly, the specification and drawings are to be regarded in an illustrative rather than a restrictive sense. For example, the invention may also be applied in a peer-to-peer computing environment."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention is illustrated by way of example and not limitation in the figures of the accompanying drawings, in which like references indicate similar elements and in which:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIGS. 4A and 4B"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
