---
title: Turn restriction handling enhancement
abstract: A method, apparatus, and article of manufacture determine a path on a network. A Global search is commenced for one or more Global paths on the network. Thereafter, when a turn restriction on a first node on the network exists, a hidden node that is not reachable from the first node due to the turn restriction is detected. A Local search commences from the hidden node in a reverse direction creating a Local search path. When the Local search can connect to the Global search, the Local search path is converted to a new Global path, and added as an alternative to the Global search.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07124199&OS=07124199&RS=07124199
owner: Autodesk, Inc.
number: 07124199
owner_city: San Rafael
owner_country: US
publication_date: 20021227
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS","EXAMPLE","CONCLUSION"],"p":["This application claims the benefit under 35 U.S.C. Section 119(e) of the following and commonly assigned U.S. provisional patent application, which is incorporated by reference herein:","Provisional Application Ser. No. 60\/344,103, filed Dec. 28, 2001, by Martin Miller and Kevin Robinson, entitled \u201cTURN RESTRICTION HANDLING ENHANCEMENT,\u201d.","1. Field of the Invention","The present invention relates generally to network search algorithms, and in particular, to a method, apparatus, and article of manufacture for improving the handling of turn restrictions in a network search algorithm.","2. Description of the Related Art","Computer systems are often used to provide directions or paths to a destination. To provide the best\/shortest path to a destination, network trace algorithms are commonly used. Network trace algorithms such as a standard Dijkstra algorithm and A* algorithm operate on a model (referred to as a net trace model) in the form of a mathematical graph that is constructed using links (that represent street\/road segments) and nodes (that represent intersection and road ends). However, when turn restrictions are introduced, which represent physical and\/or legally enforced restrictions (e.g., \u201cno left turn\u201d), the algorithm(s) potentially miss some best paths because the turn restrictions can hide a path that could be followed if the node (intersection) was entered via another link (road). In other words, if a turn restriction is encountered at a node, a node that may be reached but for the turn restriction (referred to as a hidden node) may not be examined. However, such a hidden node may be reached via a different link\/road. Accordingly, the best\/shortest path may not be found. To address such turn restrictions, a transformed graph approach may be utilized. However, this approach has several disadvantages. These problems may be better understood by describing network search algorithms, turn restrictions, and the transformed graph approach.","Network Search Algorithms","Dijkstra's algorithm was introduced in 1959 and provides a method for solving the shortest-path problem. In a network, it is frequently desired to find the shortest path between two nodes. The weights attached to the edges can be used to represent quantities such as distances, costs, or times. Dijkstra's algorithm is used to find the minimum distance from one given node of a network, called the source node or start node, to all the nodes of the network. In general, the distance along a path is the sum of the weights of that path. The minimum distance from node A to node B is the minimum of the distance of any path from node A to node B. Thus, all paths and their associated distances (also referred to as costs) are determined and the minimum path is then determined.","The A* algorithm is very similar to Dijkstra, but it uses a heuristic function to help prioritize what nodes are searched next. This results in far fewer total nodes being examined before a specific destination node is found. If the heuristic guarantees to always underestimate the actual value, then it can be shown that applying the heuristic continues to find the best route. An example of a heuristic function that satisfies this requirement is the straight-line distance from the examined node to the end point.","Turn Restrictions","Turn restrictions ate part of the net trace model. They are based on network data and are loaded from a database at the same time as the other model information (links and nodes). Each turn restriction identifies a case where it is prohibited to continue a route from one link to another at a specific node. Further, turn restrictions are typically used to represent real life traffic restrictions at specific intersections, where one or more turns are not allowed.","Although turn restrictions may have been supported in the prior art, and all the calculated routes may \u201cobey\u201d them correctly, there is a limitation. The problem with the prior art processing of turn restrictions is that a turn restriction may prevent a full expansion of a node. In other words, not all links leading out of a node may be considered for the best path, depending on which link was used to arrive at the node. Once the node is expanded, however, under the prior art, a re-entry to the same node (via a different link) is prevented, so that some \u2018best routes\u2019 may not be found.","Transformed Graph Approach","The transformed graph approach for handling turn restrictions is more fully described in T. Caldwell, , Communications of the ACM 4(2), 1961, which is incorporated by reference herein. In the transformed graph approach, a road network is transformed into a new network. During this transformation, links in the road network become nodes in the transformed network. Additionally, any two nodes in the transformed network are connected by links if: (1) the corresponding links in the road network are connected at a common node; and\/or (2) there is no turn restriction prohibiting traversal from between the corresponding links in the road network.","One advantage of the transformed graph approach is that search algorithms can be used without modification on the transformed network to find minimum cost routes that honor all turn restrictions. However, there are many disadvantages. For example, the original network must be transformed either ahead of time, or at runtime. Further, routes calculated from the transformed network must be translated back into the original network. Additionally, the transformed network is significantly larger than the original network. Accordingly, since runtime performance of the search algorithm is a function of network size, the search algorithms run significantly slower on the transformed network than on the original network.","One or more embodiments of the invention provide a method, apparatus, and article of manufacture for solving the problem of the best path(s) being possibly missed by an algorithm due to turn restrictions. Any nodes that are hidden by the fact that a turn restriction is being applied are detected. A parallel Local search is started from the hidden node in a reverse direction, looking for a \u201cloopback\u201d, connecting to the Global search. The Global search and the Local search proceed in parallel one step at a time.","The Local search keeps track of the visited nodes as well as the links that were used to arrive at the nodes, to ensure that nodes can be revisited using all of the possible links. If the hidden node is found by the Global search or a maximum number of steps predefined for the Local search is reached, the Local search is abandoned. Further, if a loopback from the hidden node to the Global search is found, the Local search path is converted to a Global path, it is added (as an alternative) to the Global search, and the Local search is complete.","In the following description, reference is made to the accompanying drawings which form a part hereof, and which is shown, by way of illustration, several embodiments of the present invention. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.","Overview","One or more embodiments of the invention provide the ability to process turn restrictions to fully utilize and find all possible paths to\/from a node. Accordingly, the invention avoids the above-described problems by allowing, under certain conditions, reentry of nodes to fully utilize all possible links leading out of each node.","Hardware Environment",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1","b":["100","102","104","106","100"]},"Embodiments of the invention may also be implemented on a distributed computer system using a network to connect multiple computers  together (e.g., client computers to server computers). In this regard, a typical combination of resources may include a network comprising the Internet, LAN (Local area network), WAN (wide area network), or the like, clients that are personal computers or workstations, and servers that are personal computers, workstations, minicomputers, or mainframes.","One or more embodiments of the invention are implemented by a computer-implemented graphics program , wherein the graphics program  is represented by a window displayed on the display device . Generally, the graphics program  comprises logic and\/or data embodied in or readable from a device, media, carrier, or signal, e.g., one or more fixed and\/or removable data storage devices  connected directly or indirectly to the computer , one or more remote devices coupled to the computer  via a data communications device, etc.","Those skilled in the art will recognize that the exemplary environment illustrated in  is not intended to limit the present invention. Indeed, those skilled in the art will recognize that other alternative environments may be used without departing from the scope of the present invention.","Software Embodiments","To determine the most appropriate path on a network, the computer  (e.g., the graphics program ), conducts a Global search to find multiple alternative Global paths that can be used to arrive at a given destination. The alternative Global paths and their costs may then be evaluated to select a particular path for use\/recommendation.","To determine a path on a network, the Global search commences by individually examining one or more nodes to find links to subsequent nodes. Accordingly, a node is expanded to find all links that lead out of the node. In the prior art, when a node is expanded, a list of applicable links leading out of the node is retrieved (e.g., via a getLinksForNode call). However, links that cannot be entered due to turn restrictions are filtered out and are not returned.  illustrates nodes A\u2013F and X with links to each of the nodes. As illustrated, a turn restriction exists at node B such that the link BX cannot be followed directly from Link AB. Thus, in the prior art, link BX will be filtered out and not returned when expanding node B. This example illustrates how a turn restriction can limit the evaluation of particular links\/nodes.","In one or more embodiments of the invention, instead of returning one list of links, two lists are returned: (1) an eligible list\u2014the same list as in the prior art, containing all the links that can be used to travel out of the node (i.e., excluding links that have been filtered out due to turn restrictions); and (2) a pending list\u2014list of all the links that would be applicable in all other respects except for the turn restrictions.","The global search keeps a Closed list and an Open list. The Closed list contains those nodes that have already been evaluated\/expanded. The Open list contains those nodes that have been reached but have not yet been evaluated\/expanded.","Hidden Nodes","As described above, the pending list contains links that cannot be followed due to a turn restriction. Accordingly, the node (e.g., node X) pointed to by the link in the pending list (i.e., the node at the other end from the current node being examined) cannot currently be reached due to the turn restriction. Such a non-reachable node is referred to as a \u201chidden node\u201d.","For each link in the pending list, the hidden node is excluded from further expansion. Accordingly, hidden nodes are not placed on the Open list since the hidden node is not reachable at this point. However, it is desirable not to loose track of this hidden node because it could still be reached if the current node is re-entered via another link.","Parallel Local Search","For each hidden node encountered, a separate Local search is started\/initialized, with its own Search Space (Open\/Closed list), going backwards. Since the Global trace (i.e., the original path determination that excludes examination of hidden nodes) and the Local backward search expand concurrently, one step at a time, both ways are effectively searched for a loop that would close the gap created by the turn restriction.","To make sure that all of the possible ways of connecting back to the Global search are examined, the Local search may use directed nodes. Such directed nodes may be based on an identification (ID) and a link used to enter the node instead of just an identification. Accordingly, the directed nodes may take into consideration not only each node but also which link was used to reach the node.","In more detail, when a pending link is returned and a hidden node is encountered, various steps may be performed. Initially, a new Local search may be obtained\/initialized, with its own search space (Open\/Closed list). Nodes are created for the hidden node and the current node and placed on Local Closed and Open lists, respectively.","In the subsequent search steps, the Local Open list is expanded (using a reverse search) in parallel with the Global list. After each step, a check is made to determine if the hidden node has been reached via the Global search. When the hidden node has been reached, the node is no longer \u201chidden\u201d and the Local search is cancelled. For each node in the Local search, a check is made for a connection between the Global and the Local search. In other words, it is determined whether there is a way to continue the path at that node by switching from the Global path to the Local path.","Once a connection between the Global search and the Local search is found, the connecting path is retraced, placing any re-entered nodes as directed nodes on the Global search Closed list and the Local search is ended.","The present invention may be better illustrated by example using the nodes and links of . In , the path starts with node A. Accordingly, node A is placed on the Global Open list as illustrated in Table 1.",{"@attributes":{"id":"p-0039","num":"0038"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"center"}}],"thead":{"row":{"entry":[{},"TABLE 1"]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Global",{},"Local",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Closed","Open","Closed","Open"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"A",{}]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"Node A is then expanded resulting in the placement of node B on the Global Open list as illustrated in Table 2.",{"@attributes":{"id":"p-0041","num":"0040"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"center"}}],"thead":{"row":{"entry":[{},"TABLE 2"]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Global",{},"Local",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Closed","Open","Closed","Open"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"A","B",{}]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},"The Global search continues with the expansion of the first node on the Global Open list\u2014node B. By expanding node B, nodes X, C, and D are found. However, due to the turn restriction, node X cannot be reached. Since link BX cannot be taken due to the turn restriction, the link BX is placed in the pending list.","Accordingly, a new Local search is created with a Local Open\/Closed list. Directed nodes X\u2032 and B\u2032 are created, and X\u2032 is placed on the Local Closed list and B\u2032 on the Local Open list as illustrated in Table 3.",{"@attributes":{"id":"p-0044","num":"0043"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"center"}}],"thead":{"row":{"entry":[{},"TABLE 3"]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Global",{},"Local",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Closed","Open","Closed","Open"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"A","B","X'","B'"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 2B","FIG. 2A"]},{"@attributes":{"id":"p-0046","num":"0045"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"center"}}],"thead":{"row":{"entry":[{},"TABLE 4"]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Global",{},"Local",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Closed","Open","Closed","Open"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"A, B","C, D","X', B'","C', D'"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},"Note that in Table 4, A\u2032 is not placed on the Local Open list, since the application is currently in reverse mode and the link BX cannot follow AB.","Once node B and node B\u2032 have been expanded, node X is checked to determine if it has been reached via the Global search. In this example, the answer is no. Thereafter, the Local Open list is checked to determine if any of the shadow nodes can connect to the Global search. In this example, the answer is no (assuming a U-turn is not allowed in nodes B, C, D, and E).","The next search step is performed with both the Global and Local lists, wherein nodes C and C\u2032 are expanded. The lists subsequently appear as illustrated in Table 5.",{"@attributes":{"id":"p-0050","num":"0049"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"center"}}],"thead":{"row":{"entry":[{},"TABLE 5"]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Global",{},"Local",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"77pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Closed","Open","Closed","Open"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"A, B, C","D, E, F","X', B', C'","D', E', F'"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},"Once expanded, node X is checked to determine if it has been reached via the Global search (resulting in a negative answer at this point). Thereafter, the Local Open list is checked to determine if any of the shadow nodes in the Local Open list can connect to the Global search (also resulting in a negative determination).","At this stage, the next search step is performed with both the Global and Local lists, wherein nodes D and D\u2032 are expanded and the lists subsequently appear as illustrated in Table 6.",{"@attributes":{"id":"p-0053","num":"0052"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"14pt","align":"center"}}],"thead":{"row":{"entry":[{},"TABLE 6"]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Global",{},"Local",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"63pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Closed","Open","Closed","Open"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"A, B, C, D","E, F","X', B', C', D'","E', F', E'"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},"As illustrated in Table 6, note that when node D is expanded, a second copy of node E is not placed on the Global Open list. A second copy of node E\u2032, however, is placed on the Local Open list, since the Local search algorithm uses directed nodes and node E\u2032 was entered via a different link this time.","Node X is again checked to determine if it has been reached via the Global search (resulting in a negative determination). The Local Open list is then checked to determine if any of the shadow nodes in the Local open list can connect the Global to the Local search. At this stage, reaching node E from node C can be connected with reaching (backwards) node E\u2032 from node D\u2032. Accordingly, the determination is positive and the two arcs are connected by placing the directed nodes D\u2032 and B\u2032 on the Global Closed list with updated costs and previous node pointers. Node X is updated with a previous node pointer to B\u2032 and the whole Local search is ended. Table 7 illustrates these results.",{"@attributes":{"id":"p-0056","num":"0055"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"91pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"center"}}],"thead":{"row":{"entry":[{},"TABLE 7"]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Global",{},"Local",{}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"63pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Closed","Open","Closed","Open"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"A, B, B', C, D,","X, F",{}]},{"entry":[{},"D', E"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},"If there was a link FX and node X was reached before the loop-back of the Local search was found, then the Local search would be cancelled. Further, in any case, the Global search continues as normal, without the turn restriction having any more impact.","Logical Flow",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 3","b":["300","302","304"]},"If a hidden node is detected, a Local search is commenced from the hidden node in a reverse direction to create a local search path at step . During the Local search, shadow nodes (i.e., the hidden node and current node) are placed on a Local Open List and Local Closed list at step . In this regard, the Local open list comprises directed nodes that have not yet been examined and the Local closed list comprises directed nodes that have already been examined.","At step , a node on the Local Open list is expanded. Once expanded, the system determines if the hidden node can be reached by the Global search at step . If the hidden node has already been reached by the Global search, it means the hidden node is no longer hidden and the Local search is cancelled at step . Thereafter, the Global search continues at step .","If the hidden node has not yet been reached by the Global search, a determination is made regarding whether the Local search can connect to the Global search at step . In other words, a determination is made regarding whether there exists any way to continue the path at the current node by switching from the Global path to the Local path. If a connection is not possible, the local search and\/or global search may continue at step  (and\/or step ). Once a connection between the Global search and Local search has been found, the Local path is added as a Global path at step . To add\/convert the Local path to a Global path, the Local path is converted to a new Global path and the new Global path is added as an alternative to the Global search. Thereafter, the Local search is complete at step  and the Global search continues at step .","U-turn Handling","U-turn handling can be divided into two groups: U-turns on a road\/street that has its two directions represented by two separate links (both one-way, going in opposite directions) and U-turns on a road\/street represented by a single link.","The prior art may not perform any special processing with two link U-turns. Further, the prior art may not even detect a two link U-turn. The validity of a two link U-turn is controlled entirely by the network data (i.e., the turn may be disallowed by a presence of an appropriate turn restriction). Additionally, two link U-turns may often involve more that the two links representing the two directions. For example, a third small connector link between (and perpendicular to) the two ends of the two links may be part of the path.","Single link U-turns (i.e. turns where a node is exited via the same link that was used to reach it) are not allowed in the prior art. While this may represent a slight limitation, cases where a single-link U-turn would be a valid and desirable part of a route calculated and returned to a user are extremely rate.","One case where a single link U turn may be valid under certain conditions is when the U-turn is taken to bypass a turn restriction. For example, a left turn at a particular node may not be allowed. Accordingly, the user turns right and at the first intersection, performs a U-turn, arrives back at the same node, and proceeds straight in the originally desired direction. It is assumed that cases where this kind of a U-turn would be needed are very rare, since the majority of such cases are handled by the loop-back solution described above (where the node is re-entered via a loop-back consisting of several links, rather than a U-turn on one link).","Nonetheless, in one or more embodiments of the invention, turn restriction handling may include the single link U-turn as part of its processing. In such embodiments, the model may be updated to include information about where it is and where it is not legal to make a U-turn. Further, such required data may be provided in the database. As an example, in some countries a U-turn is legal at intersections without lights but it is illegal at controlled intersections. Other countries (may) have other rules. The legality of a U turn at a certain node (or link end) must be available in the model, because the legality of the U-turn may be verified before it is a part of the path suggested to the user.","Advantages and Alternative Embodiments","Many advantages may be gained by using the above-described invention. Actual processing overhead and any additional memory requirements are minimal and the extra processing to handle the turn restriction is local. Further, the extra processing is temporary only. In other words, the extra processing starts when a turn restriction is encountered and finishes as soon as the \u201cturn restriction bypass\u201d is found (usually in just a few steps of the algorithm).","There are several parameters that can be used to modify or provide alternatives to the above methodology, thereby controlling the balance between the resources used to solve the problem and the scope of the cases addressed.","In one or more embodiments, the Local search and Global search may proceed in parallel one step at a time. Further, the Local search can start one or more steps behind the normal search to avoid starting it if a normal\/forward search reaches the hidden node in the next few steps. Also, the parallel Local search may proceed at a slower speed (e.g., one step for every two steps of the Global search). Using a slower speed favors finding the forward solution and would use the loop-back solution only if required. Lastly, a maximum number of Local search steps can be specified. Once the maximum number has been reached, the Local search would be abandoned.","This concludes the description of the preferred embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention. For example, any type of computer, such as a mainframe, minicomputer, or personal computer, or computer configuration, such as a timesharing mainframe, Local area network, or standalone personal computer, could be used with the present invention. In summary, embodiments of the invention provide the ability to find various alternatives for a Global search while effectively analyzing turn restrictions.","The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Referring now to the drawings in which like reference numbers represent corresponding parts throughout:",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 2B","FIG. 2A"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
