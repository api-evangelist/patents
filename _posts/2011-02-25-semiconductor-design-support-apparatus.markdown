---
title: Semiconductor design support apparatus
abstract: A disclosed semiconductor design support apparatus reads circuit description information and generates information required for delay adjustment. The semiconductor design support apparatus includes a logic simulation unit configured to perform logic simulation based on the circuit description information and output logic simulation result information; a latency information acquiring unit configured to acquire, from the logic simulation result information, latency information relating to signals at a signal junction, the signals being output from multiple blocks; an adjustment latency calculating unit configured to calculate, from the latency information, adjustment latency information required for the delay adjustment; and an adjustment delay information generating unit configured to generate, from the adjustment latency information, adjustment delay information required for the delay adjustment.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08701061&OS=08701061&RS=08701061
owner: Ricoh Company, Ltd.
number: 08701061
owner_city: Tokyo
owner_country: JP
publication_date: 20110225
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["This patent application is based upon and claims the benefit of priority of Japanese Patent Application No. 2010-044598 filed on Mar. 1, 2010 the entire contents of which are incorporated herein by reference.","1. Field of the Invention","The present invention is generally directed to electronic design technologies for semiconductor products.","2. Description of the Related Art","For designing pipelined circuits, it may be required to design latency (the amount of delay) of each block to be the same among multiple blocks. The term \u201clatency\u201d here refers to a clock cycle number from when data reach the input of a block to when the data are transmitted to the output of the block.","Adjustment of such latency is explained with reference to . In , latency of Block A is \u201c3\u201d and latency of Block B is \u201c2\u201d. That is, in Block A, a change at an input AIN is output from an output AOUT in the third clock cycle due to the interposition of registers and, therefore, the latency is \u201c3\u201d. Combinational circuits have no effect on the latency. In a similar manner, in Block B, a change at an input BIN is output from an output BOUT in the second clock cycle and, therefore, the latency is \u201c2\u201d.","With such pipelined circuits, in some cases, the data arrival time (clock cycle time) needs to be the same between inputs CIN and CIN of Block C in . In the case of , since the latency of Block A is \u201c3\u201d, data arrive at the input CIN of Block C three clock cycles after the arrival of the data at the input AIN of Block A. On the other hand, since the latency of Block B is \u201c2\u201d, data arrive at the input CIN of Block C two clock cycles after the arrival of the data at the input BIN of Block B. Assume here that the data arrive at the input AIN of Block A and the input BIN of Block B at the same time.","In such conditions, the data arrival times at the inputs CIN and CIN of Block C are conventionally set to be the same in the following manner.","First, the data arrival times at the inputs CIN and CIN of Block C are visually checked based on logic simulation results, and the difference between the data arrival times is calculated manually.","Next, if there is a difference in the data arrival times, a register (flip-flop) or registers for latency adjustment are manually inserted into circuit data.  shows that a register DELAY_FF has been added to Block B.","Thus in the case of calculating the difference in the data arrival times and inserting a register\/registers manually, if there are many data junctions, a point or points at which the data arrival times are not the same may fail to be noticed, or the difference in the data arrival times may be incorrectly calculated. As a result, the design efficiency decreases.","In order to solve such problems, Patent Document 1 discloses a technique for, by high-level synthesis, adjusting latency among multiple threads which operate concurrently.\n\n","However, because of being based on high-level synthesis, the technique disclosed in Patent Document 1 is not applicable for adjusting latency between a block designed by high-level synthesis and a block designed by existing design technology which is not high-level synthesis. Also, the disclosed technique cannot be applied to a circuit composed only of blocks designed by existing design technology which is not high-level design technology.","Accordingly, embodiments of the present invention may provide a novel and useful design apparatus solving one or more of the problems discussed above.","More specifically, the embodiments of the present invention may provide a semiconductor design support apparatus capable of applying latency adjustment also to blocks designed by existing design technology which is not high-level design technology.","One aspect of the present invention may be to provide a semiconductor design support apparatus that reads circuit description information and generates information required for delay adjustment. The semiconductor design support apparatus includes a logic simulation unit configured to perform logic simulation based on the circuit description information and output logic simulation result information; a latency information acquiring unit configured to acquire, from the logic simulation result information, latency information relating to signals at a signal junction, the signals being output from multiple blocks; an adjustment latency calculating unit configured to calculate, from the latency information, adjustment latency information required for the delay adjustment; and an adjustment delay information generating unit configured to generate, from the adjustment latency information, adjustment delay information required for the delay adjustment.","Another aspect of the present invention is a semiconductor design support control method applied to a semiconductor design support apparatus that reads circuit description information and generates information required for delay adjustment. The semiconductor design support control method includes a logic simulation step of performing logic simulation based on the circuit description information and outputting logic simulation result information; a latency information acquiring step of acquiring, from the logic simulation result information, latency information relating to signals at a signal junction, the signals being output from multiple blocks; an adjustment latency calculating step of calculating, from the latency information, adjustment latency information required for the delay adjustment; and an adjustment delay information generating step of generating, from the adjustment latency information, adjustment delay information required for the delay adjustment.","Yet another aspect of the present invention is a computer-readable storage medium storing a semiconductor design support control program for causing a computer to execute a process. The computer constitutes a semiconductor design support apparatus that reads circuit description information and generates information required for delay adjustment. The process includes a logic simulation step of performing logic simulation based on the circuit description information and outputting logic simulation result information; a latency information acquiring step of acquiring, from the logic simulation result information, latency information relating to signals at a signal junction, the signals being output from multiple blocks; an adjustment latency calculating step of calculating, from the latency information, adjustment latency information required for the delay adjustment; and an adjustment delay information generating step of generating, from the adjustment latency information, adjustment delay information required for the delay adjustment.","Additional objects and advantages of the embodiments will be set forth in part in the description which follows, and in part will be obvious from the description, or may be learned by practice of the invention. The object and advantages of the invention will be realized and attained by means of the elements and combinations particularly pointed out in the appended claims.","It is to be understood that both the foregoing general description and the following detailed description are exemplary and explanatory only and are not restrictive of the invention as claimed.","A description is given below, with reference to the  through  of embodiments of the present invention.","[First Embodiment]",{"@attributes":{"id":"p-0035","num":"0035"},"figref":"FIG. 3","b":"1"},"In , the semiconductor design support apparatus  is constructed with a stand-alone computer system, or multiple computer systems connected via a network. A storage area  of the semiconductor design support apparatus  holds circuit description information , logic simulation result information , latency information , adjustment latency information  and adjustment delay information . In a calculation mechanism  of the semiconductor design support apparatus , a logic simulation unit (logic simulator) , a latency information acquiring unit , an adjustment latency calculating unit  and an adjustment delay information generating unit  are realized by the operation of a computer program.","The logic simulation unit  inputs the circuit description information  from the storage area , then performs logic simulation and outputs the logic simulation result information  to the storage area . Specific examples of the circuit description information  include circuit descriptions using hardware description languages, such as Verilog HDL and SystemC. In the present embodiment, an RTL (Register Transfer Level) description in Verilog HDL is used as a specific example of the circuit description information .","The logic simulation result information  includes information of signal names and signal values associated with times (clock cycle times). Note that instead of explicitly outputting the logic simulation result information  to the storage area , the succeeding latency information acquiring unit  may acquire necessary logic simulation result information from the logic simulation unit  using an API (Application Programming Interface) installed in the logic simulation unit . A specific API is, for example, \u201cVPI (Verilog Procedural Interface)\u201d.","The logic simulation unit  usually applies a test pattern for verifying functions of the circuit to an external input of the circuit description. In the case of an RTL description, the external input is an externally input valid signal, and the logic simulation unit  performs logic simulation by applying a logical value \u201c0\u201d or \u201c1\u201d to the valid signal.","In the above test pattern, a valid signal inside the circuit is initialized to the logical value \u201c0\u201d at the start of the logic simulation, and the logical value \u201c1\u201d is applied to the externally input valid signal at a predetermined timing. Assume that, after the logical value \u201c1\u201d is applied to the externally input valid signal, the logical value of the internal valid signal changes to \u201c1\u201d during the logic simulation. In this case, the time of the logical value change indicates the time when data have arrived at the internal signal position. It is therefore possible to know latency from the difference between the arrival time and the time of the application of the logical value \u201c1\u201d.","The valid signals are more specifically explained with reference to .  shows an example of the targeted circuit description information . In , valid_a and valid_b are externally input valid signals. On the other hand, valid_c and valid_c are internal valid signals. At the start of the logic simulation, valid_a, valid_b, valid_c and valid_c are initialized to the logical value \u201c0\u201d by the logic simulation unit . Subsequently, the logical value \u201c1\u201d is applied to the externally input valid_a and valid_b by the logic simulation unit . The application of the logical value \u201c1\u201d to the externally input valid_a and valid_b and the occurrence of the logical value \u201c1\u201d at the internal valid_c and valid_c are recorded in the logic simulation result information  together with the corresponding times.","Referring back to , the latency information acquiring unit  inputs the logic simulation result information  from the storage area , or acquires the logic simulation result information from the logic simulation unit  via the API. The latency information acquiring unit  then performs predetermined information extraction processing and outputs the latency information  to the storage area .","Assume here that the time when the logical value \u201c1\u201d is applied to the external signals valid_a and valid_b is \u201c0\u201d, and that time \u201c1\u201d corresponds to 1 clock cycle. In this case, the logic simulation result information  based on the circuit description information  shown in  includes information indicating that valid_c changes to the logical value \u201c1\u201d at time \u201c3\u201d and valid_c changes to the logical value \u201c1\u201d at time \u201c2\u201d. Accordingly, the latency information acquiring unit  acquires information indicating that the latency of valid_c, i.e. the latency of Block A, is \u201c3\u201d and the latency of valid_c, i.e. the latency of Block B, is \u201c2\u201d, and then outputs the information to the storage area  as the latency information .","Referring back to , the adjustment latency calculating unit  inputs the latency information  from the storage area , then calculates the amount of delay to be added for latency adjustment, and outputs the adjustment latency information  to the storage area . That is, the adjustment latency calculating unit  calculates a difference in the latency of individual blocks at the internal signal junction, and outputs the difference as the adjustment latency information . The latency information  based on the circuit description information  of  includes the information indicating that the latency of valid_c, i.e. the latency of Block A, is \u201c3\u201d and the latency of valid_c, i.e. the latency of Block B, is \u201c2\u201d. Accordingly, the adjustment latency calculating unit  calculates [the latency of Block A]\u2212[the latency of Block B]=3\u22122=1, and outputs \u201c1\u201d as the adjustment latency information  for the signal junction.","Referring back to , the adjustment delay information generating unit  inputs the circuit description information  and the adjustment latency information  from the storage area , then generates delay information required for latency adjustment, and outputs the delay information to the storage area  as the adjustment delay information . The present embodiment uses an RTL description in Verilog HDL as an example of the circuit description information , and in this case, the adjustment delay information  is an RTL description to which a register description has been added. Note that instead of the entire RTL description to which a register description has been added, only the added register-description part may be output as the adjustment delay information .","The following procedures can be used to cause the signal arrival times of valid_c and valid_c to be the same based on the circuit description information  of : one register is added to Block B so that the latency of Block B becomes \u201c3\u201d; and conversely, one of the registers in Block A is deleted so that the latency of Block A becomes \u201c2\u201d. Here is considered the case of adding a register to Block B.","The adjustment delay information generating unit  generates a circuit description in which, as shown in , a register DELAY_REG is added to Block B and a register DELAY_REG is also added to a data path through which a signal of the input BIN propagates, and outputs the circuit description to the storage area  as the adjustment delay information . Note that, in , the registers are added to the inside of Block B; however, the registers DELAY_REG and DELAY_REG may be added to the outside of Block B as shown in . This allows the latency to be adjusted without alteration of the existing Block B.","[Second Embodiment]",{"@attributes":{"id":"p-0048","num":"0048"},"figref":"FIG. 7","b":"1"},"In , the semiconductor design support apparatus  is constructed with a stand-alone computer system, or multiple computer systems connected via a network. The storage area  of the semiconductor design support apparatus  holds circuit description information , circuit description information , logic simulation result information , latency information , adjustment latency information  and adjustment delay information . In the calculation mechanism  of the semiconductor design support apparatus , a high-level synthesis unit , a logic simulation unit (logic simulator) , a latency information acquiring unit , an adjustment latency calculating unit  and an adjustment delay information generating unit  are realized by the operation of a computer program.","According to the above first embodiment, the processing is started with the circuit description information  that is an RTL description or the like; however, in the second embodiment, the processing is started with the circuit description information  which is, for example, a high-level circuit description in SystemC or the like.","As preprocessing, FIFOs (First-In First-Out) with a depth of \u201c1\u201d are placed, within the circuit description information , at parts requiring latency adjustment. This placement is handled by the user of the semiconductor design support apparatus .  shows, as the circuit description information , a concept of a high-level description in which FIFO and FIFO are placed.  shows an example of a description in SystemC. According to , under SC_MODULE(TOP), the placement of FIFO and FIFO and connections of Blocks A, B and C to respective signals are described. DEPTH and DEPTH indicate depths of FIFO and FIFO, respectively, and the user is allowed to designate specific values for these depths. Assume here that both DEPTH and DEPTH  are set to \u201c1\u201d at first.","Referring back to , the high-level synthesis unit  inputs the circuit description information  from the storage area , then performs high-level synthesis based on a functional (operational) description included in the circuit description information , and outputs the circuit description information  to the storage area . As the circuit description information , an RTL description or the like in Verilog HDL is assumed. The FIFOs with a depth of \u201c1\u201d are preliminarily placed here; however, FIFOs with a depth of \u201c0\u201d may be placed (described) if allowed grammatically.",{"@attributes":{"id":"p-0053","num":"0053"},"figref":["FIG. 10","FIG. 8"],"b":["202","201","1","0","1","1","2","0","2","1","201"]},"Referring back to , the logic simulation unit  inputs the circuit description information  from the storage area , then performs logic simulation and outputs the logic simulation result information  to the storage area . The logic simulation result information  includes information of signal names and signal values associated with times (clock cycle times). Note that instead of explicitly outputting the logic simulation result information  to the storage area , the succeeding latency information acquiring unit  may acquire necessary logic simulation result information from the logic simulation unit  using an API installed in the logic simulation unit .","In order that latency of each block can be determined at following functional units, the logic simulation unit  initializes valid signals inside the circuit to the logical value \u201c0\u201d at the start of the logic simulation, and applies the logical value \u201c1\u201d to externally input valid signals at a predetermined timing. In the case of the circuit description information  of , valid_a, valid_b, valid_c, valid_c and the like are initialized to the logical value \u201c0\u201d by the logic simulation unit  at the start of the logic simulation. Subsequently, the logical value \u201c1\u201d is applied to the externally input valid_a and valid_b by the logic simulation unit . The application of the logical value \u201c1\u201d to the externally input valid_a and valid_b and the occurrence of the logical value \u201c1\u201d at the internal valid_c and valid_c are recorded in the logic simulation result information  together with the corresponding times.","Referring back to , the latency information acquiring unit  inputs the logic simulation result information  from the storage area , or acquires the logic simulation result information from the logic simulation unit  via the API. The latency information acquiring unit  then performs predetermined information extraction processing and outputs the latency information  to the storage area .","Assume here that the time when the logical value \u201c1\u201d is applied to the external signals valid_a and valid_b is \u201c0\u201d, and that time \u201c1\u201d corresponds to 1 clock cycle. In this case, the logic simulation result information  based on the circuit description information  shown in  includes information indicating that valid_c changes to the logical value \u201c1\u201d at time \u201c5\u201d and valid_c changes to the logical value \u201c1\u201d at time \u201c3\u201d. Accordingly, the latency information acquiring unit  acquires information indicating that the latency of valid_c is \u201c5\u201d (the latency of Block A is \u201c4\u201d) and the latency of valid_c is \u201c3\u201d (the latency of Block B is \u201c2\u201d), and then outputs the information to the storage area  as the latency information .","Referring back to , the adjustment latency calculating unit  inputs the latency information  from the storage area , then calculates the amount of delay to be added for latency adjustment, and outputs the adjustment latency information  to the storage area . That is, the adjustment latency calculating unit  calculates a difference in the signal latency at the internal signal junction, and outputs the difference as the adjustment latency information . The latency information  based on the circuit description information  of  includes the information indicating that the latency of valid_c is \u201c5\u201d and the latency of valid_c is \u201c3\u201d. Accordingly, the adjustment latency calculating unit  calculates [the latency of valid_c]\u2212[the latency of valid_c]=5\u22123=2, and outputs \u201c2\u201d as the adjustment latency information  for the signal junction.","Referring back to , the adjustment delay information generating unit  inputs the adjustment latency information  from the storage area , then generates depth information required for latency adjustment, and outputs the depth information to the storage area  as the adjustment delay information .","In the case when the logic simulation is performed based on the circuit description information  of , the adjustment delay information generating unit  specifies the depths of FIFO_ and FIFO_ belonging to the paths with longer latency to be \u201c0\u201d and the depths of FIFO_ and FIFO_ belonging to the paths with shorter latency to be \u201c2\u201d which corresponds to the difference in arrival times of valid_c and valid_c. In this case, a circuit description after the adjustment is shown in . At the condition before the adjustment, as shown in , data arrive at valid_c at time \u201c3\u201d. However, since data have yet to arrive at valid_c at time \u201c3\u201d, Block C cannot make a calculation using the data having already arrived at valid_c and therefore cannot take in the data from Block B at time \u201c4\u201d. The data not taken in are stored in FIFO_ and FIFO_. In , when data arrive at valid_c of Block C at time \u201c4\u201d, Block C starts a calculation. After this point, data arrive at valid_c and valid_c each cycle, and thus latency adjustment is achieved. Note that information indicating that FIFO_ and the like are FIFOs for delay adjustment can be determined by setting rules or the like to include names of registers, e.g., a character string of \u201cFIFO\u201d, in the RTL description.","Referring back to , the high-level synthesis unit  inputs the circuit description information , the circuit description information  and the adjustment delay information  from the storage area , then performs once again high-level synthesis using FIFO depth information included in the adjustment delay information , and outputs the result of the high-level synthesis to the adjustment delay information . The term \u201cFIFO depth information\u201d here is information indicating that the depth of FIFO and FIFO of the circuit description information  as shown in  is to be changed to \u201c0\u201d and \u201c2\u201d, respectively. In other words, the information indicates that the values of DEPTH and DEPTH of  are \u201c0\u201d and \u201c2\u201d, respectively. Note however that, in this repeated round, high-level synthesis is not performed on Block A and Block B, but performed only on FIFO and FIFO shown in . For Block A and Block B, the circuit description information , which is an RTL description obtained as a result of the first round of high-level synthesis, is reused.  shows the adjustment delay information  which is an RTL description obtained as a result of the second round of high-level synthesis. In , FIFOs whose depths have been changed to \u201c0\u201d (i.e. FIFO_ and FIFO_) have been deleted. Note that, instead of repeating high-level synthesis, FIFOs with a depth of \u201c0\u201d may be deleted by scanning the circuit description for such FIFOs.","[Modification]","If the above described first and second embodiments are applied, for example, to an image forming apparatus, the amount of delay to be added for latency adjustment may become significantly large, possibly corresponding to multiple lines of image data. In this case, delay circuits realized by a RAM (Random Access Memory) may be used instead of registers (flip-flops).","[General Overview]","The embodiments explained above offer the following advantages.","(1) Latency is calculated not by conventional visual inspection but using a logic simulator, and therefore accurate latency calculation is performed.","(2) Latency is calculated by not a high-level synthesis apparatus but a logic simulator, and therefore latency calculation can be performed for a circuit description which cannot be input to a high-level synthesis apparatus.","(3) In the case of embedding parts requiring latency adjustment in a circuit description, there is no need to provide a new information medium for specifying the parts requiring latency adjustment.","(4) Since information on the amount of delay required for latency adjustment is generated, latency can be adjusted by performing once again high-level synthesis using the information.","According to the embodiments of the present invention, a unit for calculating a difference in data arrival times is provided to a logic simulator, instead of being provided to such a high-level synthesis apparatus disclosed in Patent Document 1. The present invention is therefore capable of applying latency adjustment also to blocks designed by existing design technology which is not high-level design technology.","All examples and conditional language recited herein are intended for pedagogical purposes to aid the reader in understanding the principles of the invention and the concepts contributed by the inventor to furthering the art, and are to be construed as being without limitation to such specifically recited examples and conditions, nor does the organization of such examples in the specification relate to a showing of the superiority or inferiority of the invention. Although the embodiments of the present invention have been described in detail, it should be understood that the various changes, substitutions, and alterations could be made hereto without departing from the spirit and scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0022","num":"0022"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0023","num":"0023"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0024","num":"0024"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0025","num":"0025"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0026","num":"0026"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0027","num":"0027"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0028","num":"0028"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0029","num":"0029"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0030","num":"0030"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0031","num":"0031"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0032","num":"0032"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0033","num":"0033"},"figref":"FIG. 12"}]},"DETDESC":[{},{}]}
