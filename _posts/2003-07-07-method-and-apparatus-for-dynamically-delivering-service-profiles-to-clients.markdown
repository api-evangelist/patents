---
title: Method and apparatus for dynamically delivering service profiles to clients
abstract: One embodiment of the present invention provides a system that facilitates dynamic delivery of service profiles to a client. During operation, the system performs a discovery operation to allow the client to discover new services on a network. If a new service is discovered for which the client does not possess a service profile, the client to obtains the service profile from the new service and subsequently installs it, thereby enabling the client to interact with the new service.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07668903&OS=07668903&RS=07668903
owner: Xerox Corporation
number: 07668903
owner_city: Norwalk
owner_country: US
publication_date: 20030707
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["RELATED APPLICATION","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The subject matter of this application is related to the subject matter in a co-pending non-provisional application by Warren Keith Edwards, Mark Webster Newman and Jana Zdislava Sedivy and filed 20 Apr. 2001, entitled, \u201cSystem and Method for Enabling Communication Among Arbitrary Components,\u201d having Ser. No. 09\/838,933.","1. Field of the Invention","The present invention relates to techniques for providing interoperability between devices on a network.","2. Related Art","The increasing sophistication of small computing devices and corresponding advances in wireless networking technology are creating a world in which devices as diverse as personal digital assistants (PDAs) and stereo systems are able to interact with each other. A number of standards have been developed to facilitate these interactions. In particular, the BLUETOOTH\u2122 wireless specification provides a standard that enables disparate wireless devices to interoperate with each other.","The Bluetooth wireless specification defines \u201cdevices profiles\u201d for a large number of different devices. These device profiles specify how to use services provided by the corresponding devices. For example, a device profile for a printer can specify a protocol that allows a client to use the printer. In order to use the printer, the client first installs an implementation of the device profile. (Note that the terms \u201cdevice\u201d and \u201cservice\u201d and the terms \u201cdevice profile\u201d and \u201cservice profile\u201d are used interchangeably throughout this specification. Although in some instances the term \u201cservice\u201d may be a more generic term, since\u2014from a networking point of view\u2014a service can be a device or something that's purely software.)","Standards such as Bluetooth have been successful in facilitating interoperability between devices provided by different vendors. However, there is often a considerable delay between the time the initial implementation of a new device profile is developed and the time when the new device profile becomes accepted as part of the standard. This delay can lead to a slow \u201clock-step\u201d evolution process for device profiles. In the intervening time before a new device profile is accepted into the standard, only the company that developed the device profile is able to make use of it, which defeats the main advantage of using a standard. Moreover, by the time the new device profile is accepted into the standard, a newer more advanced profile may have been developed. Hence, the delay in accepting device profiles into the standard can cause devices profiles in the standard to continually lag behind the state of the art.","Furthermore, portable devices, such as PDAs and cell phones, typically encode device profiles in Read-Only Memory (ROM). This means that when new device profiles become available, existing portable devices are unable to make use of them. The existing portable devices are often simply discarded in order to be replaced with new devices that include the new device profiles. Although this rapid obsolescence of portable devices can greatly benefit device manufacturers, it is bothersome and expensive for device owners.","Hence, what is needed is a method and an apparatus that facilitates updating devices profiles without the problems described above.","One embodiment of the present invention provides a system that facilitates dynamic delivery of service profiles to a client. During operation, the system performs a discovery operation to allow the client to discover new services on a network. If a new service is discovered for which the client does not possess a service profile, the client to obtains the service profile from the new service and subsequently installs it, thereby enabling the client to interact with the new service.","In a variation on this embodiment, the client obtains the service profile from the new service by sending a request for the service profile to the new service, and then receiving the service profile from the new service.","In a variation on this embodiment, the service profile includes code, and installing the service profile on the client involves installing the code on the client.","In a variation on this embodiment, the service profile includes a specification that describes how to use the new service, and installing the service profile on the client involves, generating code to implement the specification, and then installing the code on the client.","In a variation on this embodiment, the service profile is encoded in a universal form that can be executed by different types of clients.","In a variation on this embodiment, there exist different service profile implementations for different types of clients. In this variation, the client obtains the service profile by: communicating characteristics of the client to the new service: allowing the new service to select a service profile implementation for the client based on the characteristics; and then allowing the new service to send the selected service profile implementation to the client.","In a variation on this embodiment, the client obtains the service profile from the new service by executing a dynamic extension profile, which implements a standard protocol that enables the client to acquire any profile the client needs at the time the profile is needed.","In a variation on this embodiment, the client and the new service communicate using the Bluetooth networking standard, and initial the discovery operation involves using the Bluetooth Service Discovery Protocol (SDP).","In a variation on this embodiment, the service profile can define a service-specific Application Programming Interface (API).","In a variation on this embodiment, the service profile implements a domain-specific protocol stack associated with the new service.","The following description is presented to enable any person skilled in the art to make and use the invention, and is provided in the context of a particular application and its requirements. Various modifications to the disclosed embodiments will be readily apparent to those skilled in the art, and the general principles defined herein may be applied to other embodiments and applications without departing from the spirit and scope of the present invention. Thus, the present invention is not intended to be limited to the embodiments shown, but is to be accorded the widest scope consistent with the principles and features disclosed herein.","The data structures and code described in this detailed description are typically stored on a computer readable storage medium, which may be any device or medium that can store code and\/or data for use by a computer system. This includes, but is not limited to, magnetic and optical storage devices such as disk drives, magnetic tape, CDs (compact discs) and DVDs (digital versatile discs or digital video discs), and computer instruction signals embodied in a transmission medium (with or without a carrier wave upon which the signals are modulated). For example, the transmission medium may include a communications network, such as the Internet.","Wireless Devices",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1","b":["100","102","104","106","108","110","112","112","100"]},"The wireless devices illustrated in  can be divided into wireless clients, namely cell laptop , cell phone  and PDA , and wireless service providers, namely printer , storage device  and appliance . In general, wireless clients use services provided by wireless service providers. For example, PDA  can use a print service provided by printer  to print a document, and laptop  can use a data storage service provided by storage device  to store data. However, note that the distinction between wireless clients and wireless service providers is somewhat artificial because in some situations printer , storage device  and appliance  can possibly act as wireless clients, and laptop , cell phone  and PDA  can possibly act as wireless service providers.","Furthermore, although the present invention is described in the context of a wireless network, in general, the present invention can be used with devices on any type of wire-based or wireless communication channel capable of coupling together computing nodes. This includes, but is not limited to, a local area network, a wide area network, or a combination of networks.","Each of the wireless devices illustrated in  includes a computing engine with a memory that is able to run implementations of device profiles as is described below with reference to .","Profiles",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2","b":"206"},"A device profile may be comprised of code. For example, it may represent a Java object and its implementation, which are serialized and downloaded to the client. Upon reception of this object, the client would deserialize it, whereupon it would be available for use by applications and other code running on the client. As the client interacts with the operations provided by this Java representation of the profile, the downloaded Java code would invoke the remote service.","Alternatively, a device profile may be comprised of \u201cnative\u201d code, intended to be used directly by the operating system or arbitrary applications. For example, a video camera might provide a number of drivers for use on different platforms. Once received by a client, such a driver would be integrated into the client operating system, making it available for use by all applications running on the client.","Alternatively, a device profile may comprise a set of declarative specifications, enumerating the operations available in the device profile. For example, it may comprise a Web Services Description Language (WSDL) declaration of the operations available on the service, their parameters, and their return types. Client-side \u201cwrapper\u201d code could be generated upon receipt of such a specification, allowing applications and other code to interact with the service.","Referring to , device profiles  operate over a baseline Bluetooth system. This baseline system provides data transfer capabilities through a data transfer mechanism , which implements the Bluetooth Host Controller Interface (HCI). The baseline system also provides service discovery capabilities through the Bluetooth Service Discovery Protocol (SDP). This service discovery protocol enables a device to determine whether another device provides a specific service.","One of devices profiles  is a special \u201cdynamic extension\u201d profile , which allows the device to dynamically load other profiles. In a sense, this is a \u201cprofile to end all profiles,\u201d because it facilitates the dynamic acquisition of profiles as they are needed. Dynamic extension profile  is fairly simple. It provides commands that allow a first device to query second device to determine which profile implementations are available on the second device. It also provides commands to transfer profile implementations from the second device to the first device.","Note that for dynamic extensibility purposes, it is desirable for the device profile to be in a form that can be universally executed on all clients. Alternatively, multiple implementations can be provided for different device platforms (one for WINDOWS\u2122, one for MACINTOSH\u2122, and so on).","Process of Loading a Profile",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 3","b":["102","108"]},"At the beginning of the process, laptop  and printer  both execute a service discovery protocol, such as Bluetooth SDP (steps  and ). During this service discovery protocol, laptop  and printer  discover each other, and they also learn about which device profiles they each support.","Next, suppose laptop  requires a device profile from printer . In order to obtain this device profile, laptop  requests the profile from printer  (step ). Along with this request, laptop  can send type information that identifies what type of device platform exists within laptop . For example, laptop  can say that it is running the Windows operating system.","Next, printer  looks up a profile implementation based on the type information (step ), and sends the profile implementation to laptop  (step ).","In an alternative embodiment of the present invention, printer  does not lookup a platform-specific implementation of a device profile. Instead, printer  sends a \u201cuniversal\u201d device profile to laptop  that can be executed by different types of clients. In yet another alternative embodiment, printer  sends a bundle containing a number of different device profile implementations to laptop , and laptop  selects an implementation that is appropriate for its underlying device platform.","After receiving the device profile, laptop  installs it (step ). In one embodiment of the present invention, the device profile contains code (such as a driver), and the installation process involves installing the code in laptop . In another embodiment of the present invention, the device profile provides a specification that describes how to use a service provided by printer , and installing the device profile involves generating code within laptop  to implement the specification, and then installing the code in laptop .","After the device profile has been installed in laptop , laptop  is able to request a service using the device profile (step ). For example, laptop  can make a request to printer  to print a document. In response to this request, printer  performs the service (step ), which in this example involves printing a document. Note that performing a service may entail a number of interactions between laptop  and printer , and these interactions are not illustrated in .","The present invention not only allows clients to obtain implementations of standard profiles that they weren't initially configured to use, but it also allows clients to obtain arbitrary device-specific protocol stacks. This capability can potentially be used to subvert the standards process, because it means that device manufacturers no longer have to agree to ratify a standard profile to ensure interoperability. Instead a developer can create a \u201cone off\u201d profile that can be used to communicate with a particular device. This device can then transfer the protocol to any clients it needs to communicate with through the dynamic extension protocol. Also note that a new device profile can define a device-specific Application Programming Interface (API) for the client that is unlike other APIs presently used by the client.","Furthermore, although the present invention is described in terms of Bluetooth device profiles, the present invention is not meant to be limited to Bluetooth device profiles. In general, the present invention can be used with any type of protocol or other type of interaction specification, not just implementations of Bluetooth device profiles.","Moreover, although this specification describes a system that operates on profiles for devices, the present invention also applies to systems that operate on profiles for services, such as Universal Plug'n'Play services or Block Extension Exchange Protocol (BEEP) services.","The foregoing descriptions of embodiments of the present invention have been presented for purposes of illustration and description only. They are not intended to be exhaustive or to limit the present invention to the forms disclosed. Accordingly, many modifications and variations will be apparent to practitioners skilled in the art. Additionally, the above disclosure is not intended to limit the present invention. The scope of the present invention is defined by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE FIGURES","p":[{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
