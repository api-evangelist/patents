---
title: Independent bi-directional margin control per level and independently expandable reference cell levels for flash memory sensing
abstract: A memory system includes reference level generators that may provide programmable margins, and programmable verify voltage levels. The reference levels may be shifted within a range of voltages with varying differences between reference voltage levels and with different margins and verify levels.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07596037&OS=07596037&RS=07596037
owner: Silicon Storage Technology, Inc.
number: 07596037
owner_city: Sunnyvale
owner_country: US
publication_date: 20070914
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present invention relates to multilevel memory system, and more particularly relates to adjustable reference and margin levels for multilevel memory systems.","As information technology progresses at an unprecedented pace, the need for information storage increases proportionately. Accordingly, the non volatile information in stationary or portable communication demands higher capability and capacity storage. One approach to increasing the amount of storage is by decreasing physical dimensions of the stored bit (e.g., memory cell) to smaller dimensions such as nanocell technology. Another approach is to increase the storage density per bit. The second approach is known as digital multilevel nonvolatile storage technology. A sense amplifier reads the content of a memory cell by comparison to reference levels. As more bits are stored in a multilevel memory cell, the voltage separation of reference level cells decreases. Variation within the memory cell, the sense amplifier, and other circuits may change reference levels to cause erroneous detection of the content of a memory cell.","The present invention provides a multi level memory system that includes adjustment of reference cell windows and margins. The voltage mode reference cell window adjustment may be a bi-directional cell window adjustment, independently expandable individual levels with absolute voltage reference levels, or independent bi-directional margin control per level and with relative margin levels per window.","A digital multilevel memory system includes a reference voltage generator that generates reference voltages for memory operations. The reference voltages may have adjustable voltage levels and adjustable relative margin levels.",{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 1","FIG. 1"],"b":["100","100"]},"In one embodiment, the memory array includes a source side injection flash technology, which uses lower power in hot electron programming, and efficient injector based Fowler-Nordheim tunneling erasure. The programming may be done by applying a high voltage on the source of the memory cell, a bias voltage on the control gate of the memory cell, and a bias current on the drain of the memory cell. The programming in effect places electrons on the floating gate of memory cell. The erase is done by applying a high voltage on the control gate of the memory cell and a low voltage on the source and\/or drain of the memory cell. The erase in effect removes electrons from the floating gate of memory cell. The verify (sensing or reading) is done by placing the memory cell in a voltage mode sensing, e.g., a bias voltage on the source, a bias voltage on the gate, a bias current coupled from the drain (bitline) to a low bias voltage such as ground, and the voltage on the drain is the readout cell voltage VCELL. The bias current may be independent of the data stored in the memory cell. In another embodiment, the verify (sensing or reading) is done by placing the memory cell in a current mode sensing, e.g., a low voltage on the source, a bias voltage on the gate, a load (resistor or transistor) coupled to the drain (bitline) from a high voltage supply, and the voltage on the load is the readout voltage. In one embodiment, the array architecture and operating methods may be one or more of those disclosed in U.S. Pat. No. 6,282,145, entitled \u201cArray Architecture and Operating Methods for Digital Multilevel Nonvolatile Memory Integrated Circuit System\u201d by Tran et al., U.S. Pat. No. 7,139,196, entitled \u201cSub-Volt Sensing For Digital Multilevel Flash Memory\u201d by Tran, and U.S. patent application Ser. No. 11\/235,901, U.S. Published Patent Application 2007\/0070703 A1, entitled \u201cFlash Memory Array System including Top Gate Memory Cell\u201d by Tran et al, the subject matter of which are incorporated herein by reference.","The digital multilevel bit memory array system  includes a plurality of regular memory arrays , a plurality of redundant memory arrays (MFLASHRED) , a spare array (MFLASHSPARE) , and a reference array (MFLASHREF) . An N-bit digital multilevel cell is defined as a memory cell capable of storing 2levels.","In one embodiment, the memory array system  stores one gigabits of digital data with 4-bit multilevel cells, and the regular memory arrays  are equivalently organized as 8,192 columns and 32,768 rows. Addresses A<12:26> are used to select a row, and addresses A<0:11> are used to select two columns for one byte. A page is defined as a group of 512 bytes corresponding to 1,024 columns or cells on a selected row. A page is selected by the A<9:11> address. A row is defined here as including 8 pages. A byte within a selected page is selected by the address A<0:8>. Further, for each page of 512 regular data bytes, there are 16 spare bytes that are selected by the address A<0:3>, which are enabled by other control signals to access the spare array and not the regular array as is normally the case. Other organizations are possible such as a page including 1024 bytes or a row including 16 or 32 pages.","The reference array (MFLASHREF)  is used for a reference system of reference voltage levels to verify the contents of the regular memory array . In another embodiment, the regular memory arrays  may include reference memory cells for storing the reference voltage levels.","The redundancy array (MFLASHRED)  is used to increase production yield by replacing bad portions of the regular memory array .","The spare array (MFLASHSPARE)  may be used for extra data overhead storage such as for error correction and\/or memory management (e.g., status of a selected block of memory being erased or programmed, number of erase and program cycles used by a selected block, or number of bad bits in a selected block). In another embodiment, the digital multilevel bit memory array system  does not include the spare array .","The digital multilevel bit memory array system  further includes a plurality of y-driver circuits , a plurality of redundant y-driver circuits (RYDRV) , a spare y-driver circuit (SYDRV) , and a reference y-driver (REFYDRV) circuit .","The y-driver circuit (YDRV)  controls bit lines (also known as columns, not shown in ) during write, read, and erase operations. Each y-driver (YDRV)  controls one bitline at a time. Time multiplexing may be used so that each y-driver  controls multiple bit lines during each write, read, and erase operation. The y-driver circuits (YDRV)  are used for parallel multilevel page writing and reading to speed up the data rate during write to and read from the regular memory array . In one embodiment, for a 512-byte page with 4-bit multilevel cells, there are a total of 1024 y-drivers  or a total of 512 y-drivers .","The reference y-driver circuit (REFYDRV)  is used for the reference array (MFLASHREF) . In one embodiment, for a 4-bit multilevel cell, there are a total of 15 or 16 reference y-drivers . The function of the reference y-driver  may be similar to that of the y-driver circuit .","The redundant y-driver circuit (RYDRV)  is used for the redundant array (MFLASHRED) . The function of redundant y-driver circuit (RYDRV)  may be similar to that of the y-driver circuit (YRDRV) .","The spare y-driver circuit (SYDRV)  includes a plurality of single spare y-drivers (SYDRV)  used for the spare array (MFLASHSPARE) . The function of the spare y-driver circuit (SYDRV)  may be similar to the function of the y-driver circuit (YDRV) . In one embodiment, for a 512-byte page with 4-bit multilevel cells with 16 spare bytes, there are a total of 32 spare y-drivers .","The digital multilevel bit memory array system  further includes a plurality of page select (PSEL) circuits , a redundant page select circuit , a spare page select circuit , a reference page select circuit , a plurality of block decoders (BLKDEC) , a multilevel memory precision spare decoder (MLMSDEC) , a byte select circuit (BYTESEL) , a redundant byte select circuit , a spare byte select circuit , a reference byte select circuit , a page address decoder (PGDEC) , a byte address decoder (BYTEDEC) , an address pre-decoding circuit (X PREDEC) , an address pre-decoding circuit (XCGCLPRE) , an input interface logic (INPUTLOGIC) , and an address counter (ADDRCTR) .","The page select circuit (PSEL)  selects one bit line (not shown) out of multiple bitlines for each single y-driver (YDRV) . In one embodiment, the number of multiple bitlines connected to a single y-driver (YDRV)  is equal to the number of pages. The corresponding select circuits for the reference array , the redundant memory array , and the spare memory array  are the reference page select circuit , the redundant page select circuit , and the spare page select circuit , respectively.","The byte select circuit (BYTESEL)  enables one byte data in or one byte data out of a pair of the y-driver circuits (YDRV)  at a time. The corresponding byte select circuits for the reference array , the redundant memory array , and the spare memory array  are the reference byte select circuit , the redundant byte select circuit , and the spare byte select circuit , respectively.","The block decoder (BLKDEC)  selects a row or a block of rows in the arrays  and  based on the signals from the address counter  (described below) and provides precise multilevel bias values over temperature, process, and power supply used for consistent single level or multilevel memory operation for the regular memory array  and the redundant memory array . The multilevel memory precision spare decoder (MLMSDEC)  selects a spare row or block of spare rows in the spare array  and provides precise multilevel bias values over temperature, process corners, and power supply used for consistent multilevel memory operation for the spare array . The intersection of a row and column selects a cell in the memory array. The intersection of a row and two columns selects a byte in the memory array.","The address pre-decoding circuit  decodes addresses. In one embodiment, the addresses are A<16:26> to select a block of memory array with one block comprising 16 rows. The outputs of the address pre-decoding circuit  are coupled to the block decoder  and the spare decoder . The address pre-decoding circuit  decodes addresses. In one embodiment, the addresses are addresses A<12:15> to select one row out of sixteen within a selected block. The outputs of address pre-decoding circuit  are coupled to the block decoder  and the spare decoder .","The page address decoder  decodes page addresses, such as A<9:11>, to select a page, e.g., P<0:7>, and provides its outputs to the page select circuits , , , and . The byte address decoder  decodes byte addresses, such as A<0:8>, and provides its outputs to the byte select circuit  to select a byte. The byte predecoder  also decodes spare byte address, such as A<0:3> and AEXT (extension address), and provides its outputs to the spare byte select circuit  to select a spare byte. A spare byte address control signal AEXT is used together with A<0:3> to decode addresses for the spare array  instead of the regular array .","The address counter (ADDRCTR)  provides addresses A<11:AN>, A<9:10>, and A<0:8> for row, page, and byte addresses, respectively. The outputs of the address counter (ADDRCTR)  are coupled to circuits , , , and . The inputs of the address counter (ADDRCTR)  are coupled from the outputs of the input interface logic (INPUTLOGIC) .","The input interface logic circuit (INPUTLOGIC)  provides an external interface to external systems, such as an external system microcontroller. Typical external interface for memory operations are read, write, erase, status read, identification (ID) read, ready busy status, reset, and other general purpose tasks. A serial interface can be used for the input interface to reduce pin counts for a high-density chip due to a large number of addresses. Control signals (not shown) couple the input interface logic circuit (INPUTLOGIC)  to the external system microcontroller. The input interface logic circuit (INPUTLOGIC)  includes a status register that indicates the status of the memory chip operation such as pass or fail in program or erase, ready or busy, write protected or unprotected, cell margin good or bad, restore or no restore, and the like.","The digital multilevel bit memory array system  further includes an algorithm controller (ALGOCNTRL) , a bandgap voltage generator (BGAP) , a voltage and current bias generator (V&IREF) , a precision oscillator (OSC) , a voltage algorithm controller (VALGGEN) , a test logic circuit (TESTLOGIC) , a fuse circuit (FUSECKT) , a reference control circuit (REFCNTRL) , a redundancy controller (REDCNTRL) , voltage supply and regulator (VMULCKTS) , a voltage multiplexing regulator (VMULREG) , input\/output (IO) buffers , and an input buffer .","The algorithm controller (ALGOCNTRL)  is used to handshake the input commands from the input logic circuit (INPUTLOGIC)  and to execute the multilevel erase, programming and sensing algorithms used for multilevel nonvolatile operation. The algorithm controller (ALGOCNTRL)  is also used to algorithmically control the precise bias and timing conditions used for multilevel precision programming.","The test logic circuit (TESTLOGIC)  tests various electrical features of the digital circuits, analog circuits, memory circuits, high voltage circuits, and memory array. The inputs of the test logic circuit (TESTLOGIC)  are coupled from the outputs of the input interface logic circuit (INPUTLOGIC) . The test logic circuit (TESTLOGIC)  also provides timing speed-up in production testing such as in faster write\/read and mass modes. The test logic circuit (TESTLOGIC)  also provides screening tests associated with memory technology such as various disturb and reliability tests. The test logic circuit (TESTLOGIC)  also allows an off-chip memory tester to directly take over the control of various on-chip logic and circuit bias circuits to provide various external voltages and currents and external timing. This feature permits, for example, screening with external voltage and external timing or permits accelerated production testing with fast external timing. The test logic circuit  may include test circuits such as those described below in conjunction with .","The fuse circuit (FUSECKT)  is a set of nonvolatile memory cells configured at the external system hierarchy, at the tester, at the user, or on chip on-the-fly to achieve various settings. These settings can include precision bias values, precision on-chip oscillator frequency, programmable logic features such as write-lockout feature for portions of an array, redundancy fuses, multilevel erase, program and read algorithm parameters, or chip performance parameters such as write or read speed and accuracy.","The reference control circuit (REFCNTRL)  is used to provide precision reference levels for precision voltage values used for multilevel programming and sensing. The redundancy controller (REDCNTRL)  provides redundancy control logic.","The voltage algorithm controller (VALGGEN)  provides various specifically shaped voltage signals of amplitude and duration used for multilevel nonvolatile operation and to provide precise voltage values with tight tolerance, used for precision multilevel programming, erasing, and sensing. A bandgap voltage generator (BGAP)  provides a precise voltage value over process, temperature, and supply for multilevel programming and sensing.","The voltage and current bias generator (V&IREF)  is a programmable bias generator. The bias values are programmable by the settings of control signals from the fuse circuit (FUSECKT)  and also by various metal options. The oscillator (OSC)  is used to provide accurate timing for multilevel programming and sensing.","The input buffer  provides buffers for input\/output with the memory array system . The input buffer  buffers an input\/output line  coupled to an external circuit or system, and an input\/output bus B, which couples to the arrays , , , and  through the y-drivers , , , and , respectively. In one embodiment, the input buffer  includes TTL input buffers or CMOS input buffers. In one embodiment, the input buffer  includes an output buffer with slew rate control or an output buffer with value feedback control. Input\/output (IO) buffer blocks  include typical input buffers and typical output buffers. A typical output buffer is, for example, an output buffer with slew rate control, or an output buffer with level feedback control. A circuit block R is an open drained output buffer and is used for ready busy handshake signal (R\/RB) RB.","The voltage supply and regulator (VMULCKT)  provides regulated voltage values above or below the external power supply used for erase, program, read, and production tests. In one embodiment, the voltage supply and regulator  includes a charge pump or a voltage multiplier. The voltage multiplying regulator (VMULREG)  provides regulation for the regulator  for power efficiency and for transistor reliability such as to avoid various breakdown mechanisms.","The system  may execute various operations on the memories , , , and . An erase operation may be done to erase all selected multilevel cells by removing the charge on selected memory cells according to the operating requirements of the non-volatile memory technology used. A data load operation may be used to load in a plurality of bytes of data to be programmed into the memory cells, e.g., 0 to 512 bytes in a page. A read operation may be done to read out in parallel a plurality of bytes of data if the data (digital bits), e.g., 512 bytes within a page, stored in the multilevel cells. A program operation may be done to store in parallel a plurality of bytes of data in (digital bits) into the multilevel cells by placing an appropriate charge on selected multilevel cells depending on the operating requirements of the non-volatile memory technology used. The operations on the memory may be, for example, the operations described in U.S. Pat. No. 6,282,145, incorporated herein by reference above.","Control signals (CONTROL SIGNALS) L, input\/output bus (IO BUS) L, and ready busy signal (R\/BB) RB are for communication with the system .","A flash power management circuit (FPMU)  manages power on-chip such as powering up only the circuit blocks in use. The flash power management circuit  also provides isolation between sensitive circuit blocks from the less sensitive circuit blocks by using different regulators for digital power (VDDD)\/(VSSD), analog power (VDDA) (VSSA), and IO buffer power (VDDIO)\/(VSSIO). The flash power management circuit  also provides better process reliability by stepping down power supply VDD to lower levels required by transistor oxide thickness. The flash power management circuit  allows the regulation to be optimized for each circuit type. For example, an open loop regulation could be used for digital power since highly accurate regulation is not required; and a closed loop regulation could be used for analog power since analog precision is normally required. The flash power management also enables creation of a \u201cgreen\u201d memory system because power is efficiently managed.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 2","b":"101"},"A block (MFLSUBARY)  includes a plurality of blocks (ARYSEG) . Blocks (ARYSEG)  are first tiled horizontally NH times and then the horizontally tiled blocks  are tiled vertically NV times. For a page with 1024 memory cells, NH is equal to 1024. NV is determined such that the total number of memory cells is equal to the size of the desired physical memory array.","The blocks  comprise a plurality of memory arrays that may be arranged in rows and columns. Sense amplifiers may be disposed locally in a block  or globally in the memory array  or a combination of both.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 3","b":"290"},"A plurality of blocks (RDSEG)  are multi-level decoders and comprise a portion of the decoder (MLMDEC)  (). In the block (ARYSEG) , there are 8 columns and  shows only 8 rows of memory cells, while other rows, e.g., 120 rows, are not shown for clarity. Each ARYSEG  includes a plurality, e.g. 8, of array blocks (ARYLBLK) A tiled vertically. A set of transistors , , , , , , ,  couples a set of segment bitlines (SBLO) A and (SBL) B, (SBL) A and (SBL) B, (SBL) A and (SBL) B, (SBL) A and (SBL) B, respectively, to a set of top bitlines (BLP) , (BLP) , (BLP) , and (BLP) , respectively. Top bitlines refer to bitlines running on top of the whole array and running the length of the MFLSUBARY . Segment bitlines refer to bitlines running locally within a basic array unit ARYSEG . A set of transistors , , , , , , ,  couples respectively segment bitlines (SBL) A and (SBL) B, (SBL) A and (SBL) B, (SBL) A and (SBL) B, (SBL) A and (SBL) B to an inhibit line (VINHSEGO) . A line (CL)  is the common line coupled to common lines of the first four rows of memory cells. A line (CL)  couples to common lines of the last four rows of memory cells. A set of control gates (CG) , (CG) , (CG) , (CG)  couples to control gates of memory cells of the first four rows respectively. A set of control gates (CG) , (CG) , (CG) , (CG)  couples to control gates of memory cells of the last four rows, respectively. A pair of inhibit select lines INHBLB  and INHBLB  couples to gates of transistors , , ,  and transistors , , ,  respectively. A pair of bitline select lines (ENBLB)  and (ENBLA)  couples to gates of transistors , , ,  and transistors , , , , respectively.","Multiple units of the basic array unit (ARYSEG)  are tiled together to make up one sub-array (MFLSUBARY)  as shown in . And multiples of such (MFLSUBARY)  are tiled horizontally to make up the final 8192 columns for a total of 32768\u20328192=268,435,460 physical memory cells, or called 256 mega cells. The logical array size is 256 mega cells\u00d74 bits per cell=1 giga bits if 4-bit digital multilevel memory cell is used or 256 mega cells\u00d78 bits per cell=2 giga bits if 8-bit digital multilevel memory cell is used. The top bitlines (BLP) , (BLP) , (BLP) , and (BLP)  run from the top of the array to the bottom of the array. The segment bitlines (SBL) A, (SBL) B, (SBL) A, (SBL) B, (SBL) A, (SBL) B, (SBL) A, and (SBL) B only run as long as the number of rows within a segment, for example, 128 rows. Hence the capacitance contributed from each segment bitline is very small, e.g., 0.15 pF.","The layout arrangement of the top bitlines - in relative position with each other and with respect to the segment bitlines (SBL) A, (SBL) B, (SBL) A, (SBL) B, (SBL) A, (SBL) B, (SBL) A, (SBL) B are especially advantageous in reducing the bitline capacitance. The purpose is to make the top bitlines as truly floating as possible, hence the name of truly-floating-bitline scheme.",{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 4","b":["172","0","15","0","15","172","172"]},"The reference voltage generators of FIGS.  and - may be a part of the V&IREF block  (see ).",{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 5","b":"501"},"In response to voltage and current references  received from the bandgap reference generator , the reference voltage generator  generates a plurality of adjustable reference voltage levels  with relative margin level adjustment. The reference voltage generator  comprises an absolute read reference level generator , an absolute read reference level trim decoder , a relative margin level generator , a relative margin level trim decoder , an absolute read reference level buffer  and a plurality of multiplexers  through .","The absolute read reference level generator  generates read reference voltage levels  (e.g., reference voltage level , , and  of ) in response to the voltage and current references  from the bandgap reference generator . The bandgap reference generator  may be, for example, the bandgap reference generator described in U.S. Pat. No. 6,841,982, entitled \u201cCurved Fractional CMOS Bandgap Reference\u201d, Inventor Hieu Van Tran, or the U.S. Pat. No. 6,943,617, entitled \u201cLow Voltage CMOS Bandgap Reference\u201d, Inventors Hieu Van Tran, et al. The absolute read reference level generator  provides the read voltage levels  to the multiplexer . The absolute read reference level trim decoder  select the reference levels, such as shown in , which the multiplexer  outputs to the absolute read reference level buffer .","The reference margin level generator  generates positive margin levels  and negative margin levels , which are provided to the multiplexers  and , respectively. The multiplexer  selects the positive margin level  or the negative margin level  outputs from the multiplexers  and , respectively, in response to a positive\/negative selection signal . The relative margin level generator  further provides a margin reference  to the absolute read reference level buffer . The relative margin level trim decoder  selects the relative margins, such as the margins  and  as shown in .",{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 6"},"A line  indicates the read window range of the multilevel memory cells. The range may depend on the floating gate voltage range or may depend on the sensing scheme. The read window range  is between an upper voltage  and a lower voltage . As an illustrative example,  show a two-bit four level read window, but other numbers of bits may be used. In this example, three read voltage levels are generated, mainly read voltage level () , read voltage level () , and read voltage level () . The read voltage levels , ,  divide the full voltage range  into subranges in which the data value stored in the data cell is determined to correspond to the stored data. In the illustrative example of 2-bits, the read voltage levels , ,  define ranges of data voltages corresponding to the data values , , , and . Each read voltage level , ,  has an upper program verify level and a lower program verify level. Specifically, the read voltage levels , ,  have an upper program verify level , , and , respectively. The read voltage level , , and  have a lower program verify levels , , and , respectively. Each read voltage level , ,  has a corresponding programmable positive margin and a programmable negative margin. Specifically, the read voltage levels , , and  have a programmable positive margin , , and , respectively. Each read voltage level , , and  has a programmable negative margin , , and , respectively. The programmable positive margins , , and  may be different from each other. The programmable negative margins , , and  may be different from each other, and different from the programmable positive margins , , and .","The read voltage reference levels  correspond to the read voltage levels , ,  of . The positive margin signals  correspond to the programmable positive margin signals , , . The negative margin signals  correspond to the programmable negative margin signals , , .",{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 7"},"The voltage range  may be the same as shown in the illustrative embodiment of . For the sake of clarity, reference numbers for the read voltage levels, programmable margin levels and the program verify levels are not shown in . In this embodiment, the voltage range  may be shifted within the voltage range . The shift may be up for the range  or may be down for the voltage range .","Referring again to , the absolute read reference level trim decoder  controls the multiplexer  to select the read voltage reference levels to thereby generate the shifts of the window range  to be one of the ranges  or .",{"@attributes":{"id":"p-0071","num":"0070"},"figref":["FIG. 8","FIG. 8"]},"In this embodiment, the read voltage levels , ,  are shifted so that the difference  and  between read levels may be increased to read level differences  and , respectively, to form a voltage read range . The read voltage level , ,  may be decreased so that the read levels  and  are decreased to form read levels  and , respectively, to form a smaller read voltage range .","Referring again to , the shift in the voltage read levels may be done by the absolute read reference level trim decoder  that selects appropriate read voltage reference levels  that cause the increase or decrease between the read levels.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":["FIG. 9","FIG. 9"]},"In this embodiment, the reference read levels , ,  may be adjusted independent of each other so that the voltage , which is adjusted to a voltage range  and , has reference levels that may be increased or decreased or both. For example, the voltage range  is for reference levels that have a read level range  that differs from a read range . Similarly, a read voltage range  includes a read range  and  with the range  being smaller than the range .",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 10","b":"1000"},"The reference level generator  generates a plurality of reference levels - through -N in response to a voltage reference  and a current reference  from the bandgap reference generator . The absolute read reference level generator  (see ) may include the reference level generator . The reference level generator  comprises an operational amplifier , a current source , and a voltage divider . The current source  is biased by the current reference  and provides a current to the operational amplifier . The voltage divider  is coupled between an output of the operational amplifier  and ground and provides feedback to the operational amplifier . The voltage divider  generates reference voltage levels - through -N. The voltage divider  comprises a plurality of series coupled resistors - through -N. The resistors  may be fixed or variable resistors.",{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 11","b":"1100"},"The read reference generator  comprises an operational amplifier , a current source , a voltage divider circuit , a mirror circuit , and a plurality of trim decoders  and . The voltage divider circuit  generates a biased voltage for controlling the mirror circuit  which generates the reference voltage levels -N. The voltage divider circuit  generates a stable current with negative feedback to the operational amplifier . The voltage divider circuit  comprises a diode connected PMOS transistor , an NMOS transistor , a plurality of resistors  and  coupled in series between a supply voltage and ground. The node formed between terminals of the resistors  and  is coupled to the second input of the operational amplifier  for negative feedback. The gate of the NMOS transistor  is biased by the output of the operational amplifier . The mirror circuit  mirrors the current flowing through the voltage divider . The mirror circuit  comprises a PMOS transistor  and a plurality of transistors ---N coupled in series between a supply voltage and ground. The gate of the PMOS transistor  is biased by the drain of the PMOS  to mirror the current in the voltage divider . The resistors  form a voltage divider for generating the reference level -N from the respective resistor ---N. In one embodiment, the resistors  are trimmable resistors. The mirror circuit  comprises a selection circuit  for selecting the trim of the trimmable resistors . Specifically, for each resistor  there is an associated plurality of transistors ---N that selectively shorts portions of the trimmable resistor  to adjust the resistance of the resistor . The trim decoders  and  provide the selection control signals to the gates of the transistors  for controlling the resistance of the trim resistors .",{"@attributes":{"id":"p-0080","num":"0079"},"figref":"FIG. 12","b":"1200"},"The reference level generator  generates a plurality of reference levels that are then selected to provide an output absolute read reference level  in response to a voltage reference  and a current reference  from the bandgap reference generator . The absolute read reference level generator  (see ) may include the reference level generator . The reference level generator  comprises an operational amplifier  and a bias current source  that are arranged in the similar manner as the reference level generator  (). The reference level generator  further comprises a voltage divider  that includes a plurality of resisters - through - that are coupled in series between the output of the operational amplifier  and ground. The voltage divider  is a coupled in a similar manner as a voltage divider  () with a feedback voltage to the operational amplifier  from the resister -. The resisters  are trimmable to provide the absolute read reference levels . The reference level generator  further comprises a multiplexer  that selects the absolute read reference levels  to provide the absolute read reference level  in response to control signals from an absolute read reference trim decoder .",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 13","b":"1300"},"The reference level generator  generates a relative margin level  in response to a voltage reference  and a current reference  from the bandgap reference generator . The reference level generator  comprises an operational amplifier  and a current source  configured in a similar manner as the reference level generator  (). The reference level generator  further comprises a voltage divider  arranged in the similar manner as the voltage divider  of the reference level generator  (), but generates a relative positive margin  and a relative negative margin , which are applied to a multiplexer . The voltage divider  comprises a plurality of series coupled resisters - through -. The trimmable resister - provides the relative positive margin level  to a positive margin multiplexer  of the multiplexer . The trimmable resister - provides the relative negative margin level signals  to a negative margin multiplexer  of the multiplexer . A trim decoder  selects the relative positive margin level  and a relative negative margin level  and provides the selected level to the positive\/negative select multiplexer  of the multiplexer , to generate the relative margin level .",{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 14","b":"1400"},"The buffering circuit  comprises an operational amplifier array OA, a plurality of capacitors C, C, and C and a plurality of switches SW, SW, SW, SW, SW, SW, and SW. The switches SW, SW, SW and SW are referred to as phase I (\u03a6) switches. The switches SW, SW, and SW are referred to as phase II (\u03a6) switches. The operation of the buffering circuit  is now described. During the phase-I time, all the phase I switches are ON (closed) and the phase II switches are OFF (open). During the phase-II time, all phase II switches are ON and all phase I switches are OFF. The phase I switches are turned ON for an autozero and to set up an initial voltage condition. During the phase II, the output of the operational amplifier OA is driven to the read reference level adjusted by the margin level.","The operation is further described. During the phase I interval, an offset voltage is stored across the capacitor C. The bandgap (BGP) voltage plus an opamp offset voltage is set on a node N, which is coupled to an input of the operational amplifier OA. A node N is driven with the positive\/negative margin voltage (positive or negative with respect to margin reference voltage). The current flow through the capacitor C ensures that the voltage on the node N minus the voltage on the node N is stored as a charge across the capacitor C. Similarly a node N is driven by the absolute read reference voltage. Current flow through the capacitor C ensures that the voltage on the node N minus the voltage on the node N is charged across the capacitor C. During phase I, the bandgap voltage is driven on an output node N, which is coupled to the output of the operational amplifier OA, because the switch SW is ON and the operational amplifier array OA is in a unity gain configuration. During phase II, the switch SW is ON and the bandgap reference voltage is forced at one end of the capacitor C causing current flow through the capacitor C. Because the node N is fixed, the current flows through the capacitor C adjusting the output read voltage reference voltage on the node N (the output of the operational amplifier array OA) appropriately for the positive or negative margin depending on the case.","In the foregoing description, various methods and apparatus, and specific embodiments are described. However, it should be obvious to one conversant in the art, various alternatives, modifications, and changes may be possible without departing from the spirit and the scope of the invention which is defined by the metes and bounds of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0005","num":"0004"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0006","num":"0005"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0007","num":"0006"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 10","FIG. 1"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 11","FIG. 1"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 12","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 13","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 14","FIG. 1"]}]},"DETDESC":[{},{}]}
