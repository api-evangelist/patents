---
title: Object property data referencing location property
abstract: A method, apparatus, and article of manufacture provide the ability to specify and maintain a “location” for an object in a drawing program. A drawing is obtained in a drawing program. One or more objects are obtained in the drawing program. In this regard, one or more of the is a collection of one or more graphical elements. For at least one of the objects, an automatic location property is defined. A value for the location property is obtained from property data of another object, area, or space where the object is “located” (which is based on the location property).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07589744&OS=07589744&RS=07589744
owner: Autodesk, Inc.
number: 07589744
owner_city: San Rafael
owner_country: US
publication_date: 20030908
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS","CONCLUSION"],"p":["This application claims the benefit under 35 U.S.C. Section 119(e) of the following commonly-assigned U.S. provisional patent application(s), which is\/are incorporated by reference herein:","U.S. Patent Application Ser. No. 60\/408,717, filed on Sep. 6, 2002, by Scott Matthew Reinemann, Paul Joseph McArdle, Scott Anthony Arvin, Chad Steven Ames, and Simon Alan Jones, entitled \u201cOBJECT PROPERTY DATA REFERENCING\u201d.","1. Field of the Invention","The present invention relates generally to computer-aided design (CAD) application programs, and in particular, to a method, apparatus, and article of manufacture for providing, accessing, and using properties for objects in a CAD application program.","2. Description of the Related Art","CAD applications are often used to create drawings used in the architectural, engineering, and construction (AEC) industry. The drawings are often defined by a collection (referred to as objects) of one or more graphical elements, such as lines, circles, polylines, text, or dimensions. For example, a collection of various lines may make up a door or window object. CAD programs may treat each object as a single element for creation, manipulation, and modification. Some CAD programs may also provide objects that are special entities with predefined behaviors and display characteristics.","Information relating to an object may be entered and defined in one or more properties of the object. For example, users may have the capability to enter information about the style, dimensions, location, schedule data, and\/or other important characteristics of an object.","There are two types of properties, automatic properties and manual properties. Automatic properties are those properties that a program defines for you, such as the width of a door or the length of a wall. Further, some automatic properties may be established by individual objects, while other automatic properties may be established by a style of an object. For example, a number of doors may have the same style but different widths. A Width automatic property would answer differently for each door. However, those same doors may all have the same thickness, since that is a property of the style. A Thickness automatic property would then answer the same way for each door.","Manual properties are those that the user defines and manually applies to an object. Manual properties may be specific to a user's needs, such as a door number, manufacturer, or finish.","Schedules provide access to both automatic and manual properties. A schedule is a tabulation of data extracted from objects in a drawing. Schedule tables provide a graphic representation (e.g., in tabular form) of schedule data extracted from the drawing, and formatted based on rules that may be established in a schedule table style. Schedule tags may also provide special annotation tags that are linked to a drawing object by a schedule anchor, for the purpose of extracting schedule data, and displaying it on the drawing. Thus, schedule tags provide the capability for displaying schedule data in a drawing. The information contained in a schedule may be used to determine the quantity and type of objects needed for a project. For example, a schedule may list the number, size, and manufacturer for the doors in a project.","As used in the prior art, a schedule contains information extracted from the properties of objects. The value of the properties of the object may either be automatically created or manually created. The creation and editing of manually created properties are time consuming and may be conducted frequently. For example, if a door number is manually created for a series of door objects, and one door is then moved or duplicated to a different location, the number must be manually adjusted to reflect the correct information. Further, the numbers for all the doors may also need to be adjusted.","Automatic properties also have many limitations. For example, prior art automatic properties are limited to being defined by the particular object with the property or by the style for the property. Further, a user may desire to have some manual properties automatically determined. For example, a user may desire to have all of the door numbers automatically determined.","In addition to the above-described deficiencies, the prior art fails to provide the capability for an object to obtain property data from different nearby objects or areas. Accordingly, what is needed is a diverse, flexible, property whose value may be automatically determined based on other nearby objects or areas.","One or more embodiments of the invention provide the capability for an object to automatically obtain data based on the object's location with respect to another object. In this regard, a location property definition provides a mechanism for an object to obtain property values from property data on a polygonal object, area, or space near the object. The retrieved information may then be used to instantiate the object's own properties. Further, the retrieved data may be used in the schedule data for the object.","A grip (referred to as a data location grip or schedule data location grip) for the object may also be displayed and used to associate the object with a particular polygonal object, area, or space. The grip may be displayed for those objects that have a location property definition. The grip can be used to modify where an object is \u201clocated\u201d (e.g., for schedule data purposes).","In the following description, reference is made to the accompanying drawings which form a part hereof, and which is shown, by way of illustration, several embodiments of the present invention. It is understood that other embodiments may be utilized and structural changes may be made without departing from the scope of the present invention.","Overview","One or more embodiments of the invention provide the ability to specify and maintain a \u201clocation\u201d for an object in a computer drawing program. Property data for the object may then be based\/retrieved from another object, area, or space where the object is located on or near. A grip may be displayed and used to determine and control where the object is \u201clocated\u201d for schedule data\/tag (and property data) purposes.","Hardware Environment",{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 1","b":["100","102","104","106","100"]},"One or more embodiments of the invention are implemented by a computer-implemented graphics program , wherein the graphics program  is represented by a window displayed on the display device . Generally, the graphics program  comprises logic and\/or data embodied in or readable from a device, e.g., one or more fixed and\/or removable data storage devices  connected directly or indirectly to the computer , one or more remote devices coupled to the computer  via a data communications device, etc.","Those skilled in the art will recognize that the exemplary environment illustrated in  is not intended to limit the present invention. Indeed, those skilled in the art will recognize that other alternative environments may be used without departing from the scope of the present invention.","Software Embodiments",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2","b":["108","108","200","202","204","206"]},"The Graphical User Interface  displays information to the operator and provides the functionality for the operator's interaction with the graphics program .","The Image Engine  processes the DWG files  and delivers the resulting graphics to the monitor  for display. In one or more embodiments, the Image Engine  provides a complete application programming interface (API) that allows other computer programs to interface to the graphics program  as needed.","The Database  is comprised of two separate types of databases: (1) a 3D database  known as the \u201c3D world space\u201d that stores 3D information; and (2) one or more 2D databases  known as the \u201c2D view ports\u201d that stores 2D information derived from the 3D information.","Object List",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 3","b":["300","208","300","302","304","306","300","208","304","300","208"]},"Property Sets and Property Set Definitions","As described above, drawings (e.g., stored in DWG files ) are often defined by a collection of one or more graphical elements (referred to as objects ), such as lines, circles, polylines, text, or dimensions. Information relating to an object  may be entered and defined in one or more properties of the object . For example, users may have the capability to enter information about the style, dimensions, location, schedule data, and\/or other important characteristics of an object .","A number of object properties (e.g., that may be related) may be grouped together by a user into a property set. The property set may then be attached to an object  or a style and becomes the container for the property data associated with the object  or style.","A property set definition specifies the characteristics of a group of properties that can be attached to an object . For example, a user can create a property set definition named DoorProps that contains property definitions for DoorNumber, DoorWidth, and FireRating. Each property may have a name, description, data type, data format, and default value.","When a property set is created, the user may specify whether the property set applies\/attaches to an object(s) or a style(s). Further, property sets, whether attached to objects or to styles, may include both manual and automatic properties.","Location Property","A location property definition may be added to a property set definition. A location property definition is a type of automatic property since the value displayed may be determined automatically, based on its definition, and may not be edited directly. Thus, the location property definition is part of a property set that is attached to\/associated with a particular object.","A location property provides a location for the attached object with respect to another object, area, or space. Further, location properties may provide both graphical and non-graphical data for scheduling purposes. In this regard, the values for location properties may be obtained from property data on the other objects, areas, or spaces in or near the attached object. Since the values are obtained from property data for other objects, areas, or spaces, the schedule data for the location property reflects this property data. For example, a user may assign doors to spaces or areas that represent rooms. With the location property, door numbers may be automatically generated and based upon the room number. Accordingly, if a door is located within a space, it can get the space's number and use that value in its own schedule data. Thus, the space's number may be used to create automatic door numbers based on the room\/space the door is located in.","To easily and visually identify the location of the attached object, a data location grip may be displayed. Such a grip may be displayed for any entity that has a property set attached to it that contains a location property definition. The grip can be used to modify where an object is \u201clocated\u201d for purposes of property values (e.g., schedule data purposes). For example, if the normal schedule data location for a door is in a space on the swing side, the grip can be used to change the data location to the adjacent space.",{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 4","b":["402","404","402"]},"Since the location grip  is located within office space , the door  is able to obtain the room number  for its' own data. Thus, the object (e.g., door ) retrieves the property data from a space, area, or polygon (e.g., room ) under the position of the grip . To move the location, the grip  may be selected and moved over another space in the drawing (e.g., into room ). A curved dashed line may represent the attachment between the grip  and the object .","Once the location property has been created for an object, data for the object reflects the data for the space where the object is located. Further, when the grip  is moved, the data may be dynamically updated to reflect the current data for the object . In this regard, schedule data for an object  may automatically reflect the appropriate location information.","If the location grip  is located in an area where no space has been defined, the data for the object  may contain an appropriate message (e.g., \u201cSpace Not Found\u201d). Alternatively, embodiments of the invention may not permit the location grip  to be located in an undefined location. In yet another embodiment, the location grip  may have an altered display to indicate whether the space has been defined or not (e.g., the grip  may be dimmed, change colors, or a tip may be displayed when the cursor is located over the grip ).","Thus, as described above, a property set for an object may contain a location property definition that specifies an associated location for the object. The value of the location may vary from a particular area, space, polygon, or other type of location. Data for the object may then be automatically retrieved from another object (e.g., the area, space, polygon, etc.) where the original object is \u201clocated\u201d. Further, the location of the object may be changed easily using a location grip. Such an automatic retrieval of information and ease of use provides flexibility and versatility in establishing drawings and schedules in the AEC industry.","Logical Flow",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 5","b":["500","502"]},"At step , an automatic location property is defined for one or more of the objects. In this regard, the location property may be part of a property set definition attached to one or more of the objects. A value for the location property is obtained from property data of another object area, or space. The value may then be retrieved and used for schedule data or a tag of the object.","As described above, one of the objects may be a door and the location property may be used to create an automatic door number for the door based on a space the door is located in or near.","At step , a grip is displayed. A position of the grip in the drawing determines the object, area, or space where the property data is obtained from. In this regard, to modify or change the object, area, or space where property data is obtained from, the grip may be moved\/dragged by the user (e.g., using a cursor control device).","Property Set Overrides","In addition to the above, entity based property set \u201coverrides\u201d allow the user to override a property set of an entity in an external reference (referred to as an xref). This allows treating copies of building elements as unique elements (e.g., 3 copies of an xref of an office may exist and overrides allow each door to be treated uniquely).","Property sets may allow the ability to override property set data on entities in xrefs somewhere higher up in a xref hierarchy. Such override capabilities allows one to programmatically differentiate between copies of the same building element. Tags may be enhanced to tag objects in xrefs and provide the user with the ability to put property set data in an xref drawing. Further, scheduling may be enhanced to look for overridden property sets.","Entity based property set \u201coverrides\u201d allow the user to override a property set of an entity in an xref. Typically, these overrides are placed in the system level drawing if in a project management environment, or in the current drawing if not. When tags or schedules look for property set data for entities in xrefs (or blocks), they start in the drawing containing the tags or schedules and ask at each block reference in the insert path if there is a valid overridden property set for the specified entity. As soon as it finds a valid override, it stops looking and uses that. If it doesn't find an override, it looks to see if it can find the property set on the actual entity (or style). The term override may be slightly misleading because unlike the display system, the entity itself doesn't need to have a property set attached to it in order for it to be overridden.","Property set data that is meant to be overridden (e.g., door number or door finish if door finish varies per floor) is placed as an override in the system drawing (e.g., the construct level drawing). With one or more exceptions, all commands that create property set overrides (e.g., tagging, edit schedule data, browse property data, etc.) create the override in the system level drawing (if above or at the system level drawing when in a project management setup) or in the current drawing (if below the system or not in a project management setup).","Property sets may also be obtained through a tag reference (e.g., a user may select a tag that references a door in an xref). If one object is selected, then a referenced name of an object (referred to as ObjectName) may be replaced with the actual name as displayed in an object property manager (OPM). If multiple objects are selected, then ObjectName may be replaced with \u201cObjects\u201d, unless all objects are of the same (known) type in which case a plural form may be used.","This concludes the description of the preferred embodiment of the invention. The following describes some alternative embodiments for accomplishing the present invention. For example, any type of computer, such as a mainframe, minicomputer, or personal computer, or computer configuration, such as a timesharing mainframe, local area network, or standalone personal computer, could be used with the present invention.","The foregoing description of the preferred embodiment of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Referring now to the drawings in which like reference numbers represent corresponding parts throughout:",{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
