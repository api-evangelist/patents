---
title: Sub room level indoor location system using wideband power line positioning
abstract: An indoor location system uses an electrical power line, power line signal injection devices, and portable position receivers (tags) to generate location data relating to positions of the tags in a structure such as a residence or business. The indoor location system fingerprinting of multiple signals transmitted along the power line to achieve sub-room-level localization of the positioning receivers. In one embodiment, the fingerprinting techniques utilizes wideband power line positioning (WPLP) that injects up to 44 different frequencies into the power line infrastructure of a structure. The WPLP technique improves upon overall positioning accuracy, improved temporal stability and may be implemented in commercial indoor spaces.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08494762&OS=08494762&RS=08494762
owner: Georgia Tech Research Corporation
number: 08494762
owner_city: Atlanta
owner_country: US
publication_date: 20090915
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application is a continuation in part of U.S. patent application Ser. No. 11\/824, 204, filed Jun. 28, 2007 by Patel et al. which claims priority to U.S. Provisional Application No. 60\/817225, filed Jun. 28, 2006, and further claims priority to U.S. Provisional Patent Application Ser. No. 61\/097, 006, filed Sep. 15, 2008, the subject matters all of which are incorporated herein by this reference for all purposes.","The present invention relates generally to indoor location systems, and more particularly, to indoor location systems that employ radio signals transduced via power lines.","Recent advances in indoor location systems leverage existing wireless communication infrastructure (e.g., 802.11 and GSM) to provide a value-added location service. The major advantage of these approaches is that a user does not have to purchase any specialized equipment and can still benefit from location-aware computing. Leveraging public infrastructure has many advantages, but one major drawback is that users have very little control of the infrastructure itself. Service providers adjust the operational parameters of WiFi access points and cellular towers with little or no warning. These changes require recalibration of the location system and may result in inaccurate location data until the changes are discovered. An alternative is to introduce new infrastructure in the home by distributing many low-cost, short-range beacons. The time required for installation and the possible impact to home aesthetics, however, may limit adoption.","Indoor positioning has been very active in the ubiquitous computing research community in the subsequent half decade. Several characteristics distinguish different solutions, such as the underlying signaling technology (e.g., IR, RF, load sensing, computer vision or audition), line-of-sight requirements, accuracy, and cost of scaling the solution over space and over number of items. Although we do not intend to provide a complete survey of this topic, we highlight those projects with characteristics most relevant to the motivation for power line positioning, namely the requirements for additional infrastructure and algorithmic approach.","The earliest indoor positioning solutions introduced new infrastructure to support localization. See, for example, \u201cActive Bat.\u201d The BAT Ultrasonic Location System, 2006; O'Connell, T., Jensen, P., Dey, A. K., and Abowd, G. D., \u201cLocation in the Aware Home,\u201d Position paper for Workshop on Location Modeling for Ubiquitous Computing at Ubicomp 2001 Sep. 30, Atlanta, Ga., 2001; Priyantha, N. B., Chakraborty, A., and Balakrishnan, H., \u201cThe Cricket Location-Support System,\u201d Proceedings of The International Conference on Mobile Computing and Networking (Mobicom 2000), Boston, Mass., August, 2000; and Want, R., Hopper, A., Falcao, V., and Gibbons, J., \u201cThe active badge location system,\u201d \u201cACM Transactions on Information Systems,\u201d Volume 10, pp. 91-102, January, 1992.","Despite some success, as indicated by some commercialized products, the cost and effort of installation are a major drawback to wide-scale deployment, particularly in domestic settings. Thus, many new projects in location-based systems research reuse existing infrastructure to ease the burden of deployment and lower the cost. The earliest demonstrations leveraged 802.11 access points (see, for example, Bahl, P. and Padmanabhan, \u201cV. RADAR: An In-Building RF-Based User Location and Tracking System,\u201d Proceedings of IEEE Infocom, Los Alamitos, pp. 775-784, 2000; Castro, P., Chiu, et al., \u201cA Probabilistic Room Location Service for Wireless Networked Environments,\u201d Proceedings of Ubicomp 2001, pp. 18-34, 2001; and LaMarca, A., et al., \u201cPlace Lab: Device Positioning Using Radio Beacons in the Wild,\u201d Proceedings of Pervasive 2005, Munich, Germany, pp. 116-133, 2005. More recent examples explore Bluetooth (see, for example, Madhavapeddy, A. and Tse, T., \u201cStudy of Bluetooth Propagation Using Accurate Indoor Location Mapping,\u201d The Seventh International Conference on Ubiquitous Computing (UbiComp 2005), Tokyo, Japan, pp 105-122, September 2005, and wireless telephony infrastructure, such as GSM (see, for example, V. Otsason et al., \u201cAccurate GSM Indoor Localization,\u201d Proceedings of The Seventh International Conference on Ubiquitous Computing (UbiComp 2005), Tokyo, Japan, September, 2005), or FM transmission towers (see, for example, Krumm, J., Cermak, G., and Horvitz, E., \u201cRightSPOT: A Novel Sense of Location for a Smart Personal Object,\u201d Proceedings of Ubicomp 2003, Seattle, Wash., pp. 36-43, 2003. Concerns about system resolution eliminate the FM solution for domestic use.","Another concern we highlighted in the introduction is that individuals and households may not be able to control the characteristics of this infrastructure, resulting in the need to recalibrate if parameters change. The desire to control the infrastructure and to scale inexpensively to track a large number of objects inspired the search for a solution like the power line system presented here.","Traditional wireless signal triangulation, such as 802.11 access point triangulation, uses Received Signal Strength Indicator (RSSI) information to estimate distance and determine a location based on geometric calculations employing the RSSI data. Other techniques include the use of Time of Arrival, as in the case of ultrasound, or Angle of Arrival, such as with Ultra-wideband positioning (see the Ubisense website, for example). Ultrasonic solutions, such as Cricket (see Priyantha, N. B., et al., \u201cThe Cricket Location-Support System,\u201d Proceedings of The International Conference on Mobile Computing and Networking (Mobicom 2000), Boston, Mass., August, 2000, and Active Bat, the BAT Ultrasonic Location System, provide precise centimeter resolution, but require line-of-sight operation indoors. Therefore, they require extensive sensor installations for full coverage. Some radio frequency technologies, such as 802.11 triangulation, employ overdetermination of transmitting sites (e.g., wireless access points) to avoid issues of occlusion induced by multipath propagation caused by reflections in the environment.","Fingerprinting of the received signals can help overcome the multipath problem. Fingerprinting improves on other means of estimation by taking into account the effects that buildings, solid objects, or people may have on a wireless or RF signal, such as reflection and attenuation. Fingerprinting works by recording the characteristics of wireless signals at a given position and later inferring that position when the same signature is seen again. A survey of signals over a surveyed space allow for the creation of a map that can be used to relate a signal fingerprint to a location.","Power lines are already in place in most buildings and the power network reaches more homes than either cable systems or telephone lines. Thus, for many years, people have been using power lines in buildings (especially homes) to deliver more than just electricity. Several home automation technologies leverage the power line for communications and control. The most popular example is the X10 control protocol for home automation, a standard that is more than 30 years old and is a very popular, low-cost alternative for homeowners. Over the past decade, there have been a number of efforts to produce power line communications capabilities, driven by industrial consortia such as the HomePlug Power line Alliance, and efforts such as Broadband over Power line (BPL). Because electricity used for power is sent over power lines at a lower frequency (e.g., 60 Hz) than Internet data signals modulated on high frequency carriers, power and data can coexist on the same power line without interference.","It would be desirable to have an indoor location system that takes advantage of existing infrastructure, such as electrical power lines, and the like, and which does not require additional infrastructure.","Fingerprinting-based localization systems are susceptible to accuracy degradation over time due to variability in the fingerprint. For a system such as PLP whose fingerprint is the amplitude of a limited number of RF signals, this variability comes in the form of ambient RF noise as well as changes over time in the transmitting and receiving hardware. The use of a wideband signal consisting of the amplitudes of 44 different frequencies ranging from 447 kHz to 20 MHz can both improve the initial post-deployment accuracy of the system, and also mitigate performance degradation over time and that increasing the size of the wideband signal fingerprint serves to reduce accuracy degradation over time.","According to one aspect, an indoor location apparatus for use with an electrical power line infrastructure disposed in a structure comprises: at least one injector device electrically coupled to the electrical power line infrastructure at an electrical node within the electrical power line infrastructure, the injector device configured to inject a plurality of signals into the electrical power line infrastructure; and at least one positioning tag disposed to detect the plurality of injected signals emanating from the electrical power line infrastructure. In one embodiment, the injector device comprises a signal generator, amplifier and processor. In another embodiment, the positioning tag comprises an antenna, analog to digital converter, software radio and processor. In other embodiments, the signal injector injects a number of signals having different frequencies into the electrical power line infrastructure, the number of signals within the range from 3 to 44, or more specifically from 5 to 35. The still other embodiments, the plurality of signals injected into the electrical power line infrastructure by the signal injector are injected in sequentially or in a recurring pattern.","According to a second aspect, a method comprises: a) injecting more than two electromagnetic signals into an electrical power line infrastructure disposed in a structure; b) wirelessly detecting at least some of the electromagnetic signals using at least one positioning tag; and c) processing the plurality of detected electromagnetic signals in the positioning tag to generate a signal fingerprint that is associated with the positioning tag. In one embodiment, the method further comprises d) processing the signal fingerprint remotely from the positioning tag to identify a location in the structure associated with the positioning tag.","Disclosed is an exemplary indoor location system that uses an electrical power line as a signaling infrastructure to simultaneously track multiple objects, and which may be used in buildings or structures, such as homes and business buildings, and the like. An affordable, whole-building indoor localization system is described below, that works in a vast majority of households, scales cost-effectively to support tracking of multiple objects simultaneously and does not require the installation of additional new infrastructure. The solution requires installation of at least two transmission modules that are connected to or plugged-into a building's electrical system at different locations within the building. These modules inject a low-frequency, attenuated signal throughout the electrical system of the building. Simple receivers, or positioning tags, listen for these signals and wirelessly transmit their positioning readings back to a base station. The base station is used to process the transmitted signals to produce a location map containing spatial locations of the positioning tags. The base station may use a two-phase localization algorithm based on signal fingerprinting to provide position location. Alternatively, in other embodiments, the processing sometimes performed in the base station may be incorporated into the positioning tag.","This solution, referred to as power line positioning (PLP) is capable of providing sub-room-level positioning for multiple regions of a building and has the ability to track multiple tags simultaneously. Power line positioning has a localization accuracy of 87-95% for classifying regions at 3-4 meters resolution. An embodiment of this system has been reduced to practice, installed and tested in several buildings, and its performance has been compared against existing 802.11 and GSM solutions.","Referring to the drawing figures,  illustrates an exemplary indoor location system , comprising a power line positioning system . The indoor location system  uses an electrical power line  (or wiring of an electrical system ) as a signaling infrastructure to simultaneously track multiple objects (positioning tags ) located in a home , for example. The indoor location system  may be used in any structures , including homes  and businesses , for example.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 1","b":["13","11","13","11","13","10","13","14","15","16","17","18","19","14","17"]},"Theory of Operation","The power line positioning system  is loosely related to a wire-finding technique employed by many electricians and utility workers to locate or trace hidden wires behind a wall or underground. In the wire-finding technique an electrician connects an exposed end of a wire to a tone generator, whose signal can range from 10-500 kHz, and locates the hidden wire using a handheld, inductive tone detector. Some detectors use LEDs to indicate the tone strength and others play an audible sound. In either case, the electrician scans the area for the loudest tone, indicating the approximate location of the wire. Following the presence of the tone reveals the path of the wire.","The following properties of the wire-finding technique are leveraged and extended to produce a viable solution for the location system . (1) It is easy and inexpensive to propagate a signal or tone throughout the entire electrical system  in the home  without any electrical interference. (2) It is possible to set the power of the signal so that it attenuates as it reaches the periphery of the home , and the electrical wiring appears in varying densities throughout the home , creating a time-independent spatial variation of the signal throughout the home . (3) The tone detectors or receivers (position tags ) are fairly simple, inexpensive to construct, and have low power requirements. It should be appreciated that it is anticipated that a system may consist of more than one position tag .","In the power line positioning system , and as is illustrated in , the wire-finding technique is extended to include at least two plug-in signal generator modules . The modules  are connected directly into electrical outlets of the electrical system , and their respective signals emanate from those outlets to the rest of the home . One of the at least two modules  is installed in an outlet close to a main electrical panel or circuit breaker, for example, and the other module  is plugged into an outlet which is placed along the power line infrastructure furthest from the first module . In most cases, physical distance is a good estimate of electrical distance.","In the case of a two-story house  with a basement, for example, one module  may be placed at a west end of the house  in the basement (where the main panel is located), for example, and the other in the east end on the second floor, for example. Each module  emits a different frequency signal throughout the power line of the electrical system . As part of the installation, the signal strength is adjusted so that significant attenuation occurs and the signal still reaches the opposite end of the home . Both modules  continually emit their respective signals over the power line and portable tag(s)  equipped with specially-tuned tone detectors (receivers ) sense these signals in the home  and relay them wirelessly to the base station . Depending on the location of the portable tag(s) , the detected signal levels provide a distinctive signature, or fingerprint, resulting from the density of electrical wiring present at the given location. The base station  (e.g., wireless receiver  and antenna  connected to a PC) analyzes the fingerprint and maps the signal signature to its associated location based on a site survey. More than one tag  may be present in the building and each tag  may independently receive power line transduced signals for the purpose of computing the position of each tag .","Phase difference between signals is another signal feature that may be leveraged for localization. A pair or group of signals generated in relative synchrony at harmonically or sub-harmonically related frequencies will exhibit a phase difference due to radio propagation in the building's wiring as well as due to differences in radio propagation delay through the interior of the building. This phase difference can be employed as another feature in the fingerprinting localization algorithm presented herein.","When the modules  are active, the tone detector or positioning tag(s)  picks up the presence and amplitude of the power line transduced signals throughout the home . Because electrical wiring typically branches inside the walls, ceiling, and floors, signal will be present throughout much of the main living areas of the home . Three factors contribute to the amplitude of the signal received by the tag(s)  at any given location: (1) the distance between the tag(s)  and electrical wiring; (2) the density of electrical wiring in an area; and (3) the distance from the transmitting modules  to the tag(s) .",{"@attributes":{"id":"p-0048","num":"0047"},"figref":["FIG. 2","FIG. 2"],"i":["a ","b "],"b":["17","17","11","14","17"]},{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 3","FIG. 3","FIGS. 3"],"i":["a ","b ","a ","b"],"b":["11","11","13","13","3","11","13"]},"Most residential homes and apartments in North America and many parts of Asia have a single phase or a split single phase electrical system, which enables any signal generated on a given outlet to reach the entire electrical system. Larger buildings and some homes in Europe have two and three phase electrical systems, in which the electrical system may split into separate legs for lower voltage applications. For multi-phase electrical systems, the signal can be coupled between the phases using a capacitor. In a home, this would typically be plugged-in in a 240 V outlet, such as that used for clothes dryer. The present description focuses on common residential single or split single phase electrical systems operating at 60 Hz. However, the system may be readily adapted for use in other electrical systems.","Power Line Positioning Localization Algorithm","The power line positioning system  relies on a fingerprinting technique for position localization. This technique requires generation of a signal topology map via a site survey which may be performed either manually or automatically, for example by a robotic device that automatically visits multiple locations in the building to perform the site survey. The granularity of the survey influences the final accuracy of the positioning system . For power line positioning in the home , the site survey is a one-time task provided the transmitting modules  emit a consistent power level, stay fixed in place, and the electrical characteristics of the home  remain substantially the same.","Effective application of fingerprinting requires the signals to have low temporal variations, but high spatial variation and relatively low correlation from one location to another. As discussed above, the propagation of signals transmitted via the power line  exhibits both of these properties, because the detected signals vary little unless the modules  are moved or the electrical system  has been significantly remodeled. The use of two different signals and the variability in the electrical wire density throughout the home  provides this spatial variation.","An exemplary localization algorithm that may be used in the power line positioning system  proceeds in two steps. The first step predicts the location of a positioning tag  in terms of which room it is located within, and the second predicts the location of a positioning tag  in terms of sub-regions within that room. Both may use k-nearest neighbor (KNN) classification.","k-Nearest Neighbor (KNN) Classification","The room and sub-room localizers (positioning tag(s) ) may use k-nearest neighbor (KNN) classification to determine the receiver's room location. KNN is discussed by T. Mitchell, in Machine Learning, McGraw Hill, ISBN 0070428077, 1997. KNN is a memory-based model defined by a set of objects known as learned points, or samples, for which the outcomes are known. Each sample consists of a data case having a set of independent values labeled by a set of dependent outcomes. Given a new case of dependent values (the query point or unknown value), the outcome based on the KNN instances was estimated. KNN achieves this by finding k examples that are closest in distance to the query point. For KNN classification problems, as discussed herein, a majority vote determines the query point's class. For this task, given an unlabeled sample, the k closest labeled room samples in the surveyed data are found and assigned to the room that appears most frequently within the k-subset. For our distance measure d, the Euclidean distance,\n\nd .function. (x, y)=(i=1 2.times. (xi\u2212yi)2),\n\nin which tuples x=<Signal A.sub.x1, Signal B.sub.x2>and y=<Signal A.sub.y1, Signal B.sub.y2>. The tuple x refers to a labeled signal point and triple y refers to the unlabeled query point sensed by the positioning tag . For more modules , the dimension is increases to match the number of modules .\n\nRoom and Sub-Room Localization\n","One difference between the room and sub-room classifiers are the labels assigned to the data points and the value for k used in the localization. For room level classification, room labels are assigned to samples from the site survey. In the sub-room classification, the same samples are subdivided and sub-room labels are assigned to them. For each home , there is an optimal and initially unknown value of k for the room level localizer. Within the same home  there is an optimal value for the sub-room level localizer for each room. Thus, for localization, the KNN classification is first executed using the room labeled samples and its optimal k value. After determining the room, KNN is executed on the sub-room labeled samples from that room and its optimal k value to determine the sub-room.","Training the System and Determining k in KNN","The choice of k is essential in building the KNN model and strongly influences the quality of predictions, for both room-level and sub-room-level localization. For any given problem, a small value of k will lead to a large variance in predictions. Alternatively, setting k to a large value may lead to a skewed model. Thus, k should be set to a value large enough to minimize the probability of misclassification and small enough (with respect to the number of cases in the example sample) so that the k nearest points are close enough to the query point. Thus, an optimal value for k that achieves the tight balance between the bias and the variance of the model. KNN can provide an estimate of k using a cross-validation technique discussed in the Machine Learning reference previously cited.","Splitting the localization into two steps can help control the cluster sizes. In classifying the room, a larger value of k is used so that a larger region is considered when trying to find where the unknown signal potentially maps. To localize within a room, smaller values of k are used so that finer clusters are match and because of the smaller data sets within a room than the whole home .","The training interface allows end users to build a signal map of the home  (see and ). The user loads a pre-made or hand-drawn floor plan of the home  into the application. The interface displays the floor plan, and one physically travels to different locations in the home  and chooses the approximate location on the floor plan. When a location is selected, the application stores the fingerprint for that location, which is a one-second average of the amplitude of the at least two detected signals from the at least two transmitting modules. The same process continues throughout the home . Surveying at a granularity of approximately 2-3 meters in each room produces more than sufficient accuracy for the test cases presented below. The interface allows the user to assign meaningful labels to different room and sub-room areas, such as \u201ckitchen\u201d and \u201ccenter of master bedroom.\u201d","For optimal performance in sub-room level localization, each room may be segmented into five regions: the center of the room and areas near the four walls of the room. The user is free to select the location granularity (assuming sufficient training sets) of their choice for important regions. However, the desired segmentation may not reflect the actual segmentation the underlying set of signals can provide. For example, a user may want to segment the middle part of a bedroom into four regions, but there might not be enough signal disparity among those regions for the KNN classifier to work well. Some assistance may be provided in overcoming those limitations by automatically clustering the room into potential sub-regions that are likely to be accurately classified based on the room's signal map. A k-means clustering algorithm may be employed to provide graphical suggestions on where to segment for a desired number of sub-regions.","After construction of the signal map and all data has been labeled, the algorithm cross-validates model data to find suitable k values for the room and sub-room classifiers. Cross-validation involves the division of the data samples into a number of v folds (randomly drawn, disjoint sub-samples or segments). For a fixed value of k, the KNN model is applied on each fold and the average error is evaluated. The algorithm repeats these steps for various k values. The algorithm selects the value for k achieving the lowest error (or the highest classification accuracy) as the optimal value for k. This value for k depends on the home  and the number of sample points. Generally, optimal k values are seen near 10 for the room localizer and k values near 3-5 for the sub-room localizer.","Module Design","For rapid development and investigation, commercially available tone generators (modules ) and tone detectors (tags ) used by electricians were modified for use as part of the tags . In particular, a Textron Tempo 508S tone generator module and a Pasar Amprobe 2000 were used in one embodiment. These modules  produce a 447 kHz and 33 kHz tone, respectively, on an energized 120 VAC power line  without causing any interference to household appliances. In addition, the modules  are powerful enough to transmit a tone up to 500 meters over the electrical wire  (both hot and ground). The modules  are tuned to emit at a lower signal to control propagation through the electrical system . For one prototype that has been reduced to practice as part of a power line positioning system  discussed herein, the signal strength was manually adjusted depending on the size of the home . Samples were collected with the tag  near the module  and samples near the opposite side of the home  where the second module is located. The signal strength was tuned so that a large signal difference between the two locations was produced without turning it down so much that the signal did not reach the far end. In most cases, approximately a 2.5 dB loss was produced from end to end.","Although the steps described above were manually performed, it is anticipated to build the modules  to self-calibrate during the installation and surveying steps. It is also anticipated to perform a manual or robotic check step wherein the calibration is confirmed over time at specific location(s).","Tag Design","A Textron Tempo 508R passive wideband tone detector was modified to act as a prototype tag  that would send sensed signals to a portable computer  for analysis and position location determination. The tone detector has a built in frequency divider that maps a range of high frequency tones to audible sounds while still preserving the amplitude of the original signal. The tone detector's internal frequency divider translated a 447 kHz signal to about 1000 Hz and 33 kHz signal to about 80 Hz. The tone detector was altered to interface with the audio line-in jack of a portable computer to capture the signals.","A rather large prototype tag  was used that was easy to build. There are a variety of ways to construct a small and inexpensive version of this tag . One way is to feed the radio transducer or antenna  through a series of operational-amplifiers and into a DsPIC microcontroller. A low-power radio transmitter, such as those manufactured by Ming or Linx, or a WiFi (IEEE 802.11), Bluetooth radio, Zigbee radio, or any other wireless communication device may be used to transmit the readings back to the base station computer . Alternatively the need for a microcontroller may be bypassed by using multiple tone decoder ICs, similar to the NE567 IC, which supports signal power output. Powered by a small lithium cell, the tag  may easily be the size of a small key fob and run for a significant period of time using a motion switch to enable the circuitry when the positioning tag  is moved.","Software","In the experimental set-up, an application was written in C++ using a Microsoft Windows Win32 application programming interface (API) to sample the signal from the sound card's line-in jack where the prototype receiver tag is connected. The application acquires 16-bit samples from the receiver of the positioning tag  at a rate of up to 44 kHz and performs a Fast Fourier Transform (FFT) on the incoming signal to separate component frequencies for analysis. The application performs this analysis in very close to real-time and makes the raw signal strengths for the two frequencies of interest (447 kHz and 33kHz) available through a TCP connection for other parts of the power line positioning system  to access (see ).  illustrates an exemplary tagging implementation that may be used in the indoor location system .","The experimental prototype used for empirical validation consisted of a Sony Vaio-U handheld computer with all software applications (signal receiver, learner, and the user interfaces) loaded and the receiver hardware connected (see ).  illustrates an exemplary user interface used for mapping and localizing the position of the tag . Using this small but powerful device provides an easy way to survey homes .","Performance Evaluation","The performance of the power line positioning system  was evaluated in 8 different homes  of varying styles, age, sizes, and locations, all in the same metropolitan city. Both older homes  with and without remodeled and updated electrical systems were chosen (see Table 1 for specifications of the homes). In addition to evaluating the system , infrastructure tests of WiFi and GSM availability was simultaneously conducted to provide some comparison with other indoor localization results. The infrastructure tests only involved logging the availability of wireless 802.11 access points and multiple GSM towers in the home. A WiFi spotter application running on the Sony Vaio-U computer logged the wireless access points, and an application written on the Audiovox SMT-5600 GSM mobile phone logged available cellular telephone base stations.","In each home  that was analyzed, the power line positioning system  was installed, the two transmitting devices or modules  were calibrated and a signal map was created by surveying the home . When creating the signal map, multiple signal readings were taken every 2-3 meters throughout the home  to ensure enough training and test data was gathered for cross-validation. After creating the signal map, the interface on the handheld computer  was used to assign the appropriate room and sub-room labels to the data.","The classification accuracy of the room and sub-room predictors is presented below. The sub-room accuracy was calculated independent of the room-level predictor. Thirty-four (34) meter regions were used for the sub-room-level tests. To obtain the room-level accuracy, a 10-fold cross-validation on the room localizer was conducted using the collected data samples. This test was repeated for various k values to find the best accuracy measure. To determine the sub-room level accuracy, the data samples for each room were taken and a 10-fold cross-validation was performed using the sub-room localizer, again for different values of k. Similar to the room-level tests, the k value that provided the highest accuracy for predicting regions in a room were searched for. After testing each room, all the sub-room localization accuracies were averaged to produce an overall accuracy value.","Table 1 shows details of the homes where the power line positioning system  was deployed and evaluated.","TABLE-US-00001 TABLE 1 Floors\/Electrical Total Size Bedrooms\/Year Remodel (Sq Ft)\/Bathrooms\/ Population Home Built Year (Sq M) Style Total Rms. Density 1 2003 2003 3\/4000\/371 1 Family House 4\/4\/13 Suburb 2 2001 2001 3\/5000\/464 1 Family House 5\/5\/17 Suburb 3 1992 1992 1\/1300\/120 Apartment 2\/2\/6 Downtown 4 2002 2002 3\/2600\/241 1 Family House 3\/3\/12 Suburb 5 1967 2001 2\/2600\/241 1 Family House 3\/3\/11 Suburb 6 1950 1970 1\/1000\/93 1 Family House 2\/2\/5 Suburb 7 1926 1990 1\/800\/74 1 Bedroom Loft 1\/1\/5 Downtown 8 1935 1991 1\/1100\/102 1 Family House 2\/1\/7 Suburb","Power Line Positioning Accuracy Between Homes Comparison","In Table 2, the results of room-level and sub-room level accuracies of the power line positioning system  are reported for various homes . Room accuracy ranged between 78-100% and sub-room accuracy ranged between 87-95%. The modern homes  and the older homes  with updated electrical infrastructure resulted in similar performance results. The updated electrical systems  in these homes  were accompanied with an overall remodel of the home  which tends to include the addition of electrical outlets and lighting. The single family home  that exhibited a significantly lower accuracy (Home 8) was an older home  with an updated electrical system . However, that home  had a two phase electrical system  was learned after installing the power line positioning system. Because it is a small home  and electrical phase one drives a small number of outlets, the modules  were placed on electrical phase two to produce acceptable (though not optimal) coverage throughout the home . However, it is anticipated that installing a simple phase coupler to couple some of the positioning signal from electrical phase one to electrical phase two would have improved its performance.","Condominium and apartment test cases also produced promising results. The condominium was converted from an office building, but the electrical system  was completely remodeled to a residential style system. Although one wall of the condominium used a metal conduit to run its electrical wire, the power line positioning system still worked because the room with the conduit was small and the receiver was never too far from the wall. The apartment also featured a similar residential style electrical system. Because of the small size of the living spaces, the power of the modules list turned down significantly in the two cases, unlike the larger homes  that were tested.","Older homes  without an updated electrical system  exhibited lower results for two reasons. First, these homes  lack a proper electrical ground, resulting in one less path for the signal to propagate, because the signal was sent both on the hot and ground wires. Homes  with an updated electrical system  have an extra electrical ground wire running through the home , which is usually grounded to the copper water pipes. This grounding enables additional signal propagations to certain areas of the home. Second, these homes  tended to have fewer electrical outlets than the modern or remodeled ones, resulting in poor detection in some areas.","Table 2 shows accuracy results for each home . For each home , the accuracy of room-level prediction and the average sub-room-level prediction across all rooms are reported. The sub-room-level regions where defined to be approximately a 34 meters square. The WiFi and GSM measurements indicate the maximum number of access points or towers seen at all times during the surveying and the total number of unique access points or towers seen during the whole surveying period.","TABLE-US-00002 TABLE 2 Size Room Sub-WiFi GSM Sq Ft\/Sample Rooms Accuracy Room Always\/Always\/Home Sq M points surveyed at 3-4 m Accuracy Max Max 1 4000\/371 194 13 89% 92% 3\/12 3\/5 2 5000\/464 206 15 95% 93% 1\/3 2\/4 3 1300\/120 95 6 90% 90% 3\/7 4\/12 4 2600\/241 183 11 88% 87% 1\/3 3\/5 5 2600\/241 192 10 92% 93% 2\/4 3\/6 6 1000\/93 76 5 100% 94% 0\/2 4\/6 7 800\/74 65 5 93% 95% 2\/11 3\/9 8 1100\/102 80 7 78% 88% 2\/6 3\/7","Classification Errors","To understand the types of classification errors encountered by the power line positioning system , the confusion matrices for each home  were analyzed. For some homes , most of the classification errors resulted from misclassifying rooms as one of the adjacent rooms. The adjacency errors appeared when trying to localize very near the boundary or the wall of a room. These errors were more prevalent in larger homes  near common walls between two adjacent rooms of similar size. Open spaces that were divided into multiple rooms also resulted in errors. Other homes , however, exhibited more random classification errors possibly due to errors in the survey map, sparse sampling, or in error readings coming from the receiver at that time. One possible solution to guard against miss classifications is to use hysteretic data to compare against certain classifications and see if those classifications follow a valid trail. Some homes  could benefit from hysterics, especially those with significant random error (see ).  is a graph that shows the percentage of incorrect room predictions identifying a room that is adjacent to the correct room.","Number of Modules and Performance","Accuracy tests were conducted using a varying number of modules . Although the goal was to minimize the additional hardware the user must install in a home , there might be cases in which higher accuracy is more desirable. Adding additional modules  is a primary way to increase overall accuracy.  shows temporal signal stability in the kitchen area of Home 2. The graphs show the signal values for the two transmitting modules  (combined using the Euclidean distance) over various intervals during four days of continuous recording. The average signal values and the standard deviations are shown above each graph.",{"@attributes":{"id":"p-0079","num":"0078"},"figref":"FIG. 6","b":["13","13","11","13","11","13"]},"Resolution","In the initial evaluation, rooms were sub-divided into approximately 34 meter regions. This subdivision yielded high classification accuracies typically around 90%. Higher resolution, or smaller subdivisions of each room, is possible, but at the cost of classification accuracy. In addition, higher resolution also requires a more dense mapping of an area. To investigate the specific accuracy to resolution tradeoff, a fine-grain survey (sampling down to every 0.5 meter for a total of 96 samples) of a room (6 m.times.6 m) in Home 1 was performed. With the current implementation, the best obtainable practical resolution is 1 meter. The accuracy falls below 70% for 1 meter regions (see Table 3), because there is a theoretical limit to the detectable differences between small movements in the space and the signal. From observation, the maximum signal differential is about 20 units when moved 1 meter for a modern home .","Table 3 shows the sub-room-level accuracies for smaller sub-regions for a particular room in home 1. A total of 96 points were surveyed.","TABLE-US-00003 TABLE 3 Sub-room region size 4 m 3 m 2 m 1 m 0.5 m % Accuracy 94% 91% 74% 67% 42%","Temporal Signal Stability","Fingerprinting works best with a signal that is time-independent but spatially diverse. The data presented so far only considered results over relatively short periods of time, usually around an hour's worth of data collected at a particular home . To test the stability of the signals over time, two separate tests were conducted. First, in Home 1, we conducted separate surveys over the course of several weeks. The system  was trained on data from one survey and checked its accuracy against data collected from different surveys. Room prediction was correct 88% of the time (compared with the value of 89% for Home 1 in Table 3) and sub-room level prediction was correct 89% of the time (compared with the value of 90% in Table 3). Second, in Home 2, 45 hours of data was collected over a three-day period (Saturday through Monday) in a single location (the kitchen). The kitchen is interesting because it contains a large number of features that could affect the transmitted signals (plentiful overhead lighting, appliances being turned on and off throughout the day, talking on a cordless phone, and people gathering around the tag). -depict the stability of the signal for four different 3-hour intervals. The results suggest there is deviation (17 units on average), but it is not significant enough to cause major classification errors.","Modifications to the electrical infrastructure can contribute to accuracy errors and require recalibration, a problem we noted for other infrastructure solutions (802.11 and GSM). However, most situations such as turning on a light only energize a portion of the electrical line and do not affect significantly the accuracy in our experience. Construction of a \u201cday\u201d and \u201cnight\u201d map using a richer data set can allay some of these concerns. The addition of an extension cord may impact the accuracy, depending on location and length. The power line positioning system  may be designed to recognize potential changes in the infrastructure from hysteretic data to notify the user that re-surveying of a particular area is necessary.","Although no problems were observed regarding electrical interference with continuous logging, electrical interference caused by home electronics and appliances was observed, such as from computers, televisions, and stereos. When the receiver was held next to some of these electronic devices, its broadband electrical noise often overwhelmed the receiver and caused spurious readings. This problem only existed when the receiver was very close (within a few centimeters) of such devices. To guard against learning or localizing incorrect fingerprints, one solution is to look for these signal interferences and filter out those readings, indicated by a clear broadband signature, before using the data in analysis.","The power line positioning system  is very promising as an inexpensive and reliable sub-room-level indoor positioning service. In this section, we investigate the viability of this system and offer some comparison to previous solutions.","Infrastructure and Cost Comparison Against WiFi and GSM","The cost of infrastructure for WiFi is distributed across a community and assuming dense enough living conditions, it is a reasonable expectation a single residence will be able to leverage other access points nearby. This is less likely in sparser housing, in which case users would be required to purchase multiple WiFi access points. The cost of the infrastructure for GSM is covered by various cellular telephony service providers. The coverage is fairly dense in most metropolitan areas and will only get better over time. However, coverage is still fairly sparse in rural settings and many homes do not get very good cellular service in some rooms (see Table 2). Almost every home in the U.S. has electrical power and it is an assumed cost of the homeowner to maintain this infrastructure over the lifetime of the home. Thus, the infrastructure is already available and usually well maintained.","One key advantage of leveraging the power line infrastructure  is user control of the infrastructure . Users have very little control of the parameters of GSM cellular towers or a neighbor's WiFi access point, thus changes can happen unexpectedly. In contrast, users have control of the power line infrastructure . Furthermore, there is stability in signal propagation over this infrastructure .","The cost and power requirements of the location tags  favors that of the power line positioning system  because of its simple sensing requirements, whereas as opposed to the more sophisticated chipset associated with GSM and WiFi reception. In addition, the cost of the transmitting module or device  would also be less expensive than buying additional access points if one were investing in a location system for the home .","The Power Line Infrastructure","In the United States, modern homes  follow a strict electrical code called the National Electronic Code (NEC). Electrical codes only became widely enforced in the 1980s, although many homes before that already followed similar guidelines. Although the specific regulations may change depending on state and city ordinances, each follows the same general requirements. These regulations ensure the electrical systems are consistent across homes  of different sizes and styles. Specifically, the requirements outlined in the NEC favor the infrastructure requirements needed for the power line positioning system  to work in modern homes . These requirements include regulations for certain \u201chome run\u201d circuits through the home , a minimum number of outlets in a given space, and minimum lighting requirements throughout the home. Although the power line positioning system already performed reasonably well in older homes , it consistently achieved very good results in the new or remodeled homes  that follow these requirements (see Table 3).","The power line positioning system  was developed to provide an affordable location system for home environments. However, commercial buildings must comply with strict electrical codes for which the power line positioning system  must be altered to support. First, commercial wiring typically uses a two or three phase electrical system which prevents the signals from propagating throughout the entire electrical system. This problem is solved by installing an inexpensive phase coupler to couple transmitted signals back and forth among electrical phases. Second, most commercial electrical wiring runs through a metal conduit, which blocks significant portions of the tune emanating from the wire. One solution to this problem is to greatly increase the signal strength and the other is to send the signal both through electrical wiring and the metallic conduit itself. This problem also applies to homes  that have been converted from commercial buildings without remodeling the electrical system .","General Comparison of the Power Line Positioning System with 802.11 and GSM","The significant advantage of PLP when compared against two popular fingerprinting techniques using WiFi\/802.11 and GSM lies in the better resolution, control of the infrastructure and power requirements (see Table 4). Table 4 shows an overall comparison of PLP against two popular location systems that also use fingerprinting.","TABLE-US-00004 TABLE 4 PLP GSM WiFi Output Type symbolic symbolic symbolic(geometric Using triangulation Resolution and 3-4 m-90% 20 m-90% 6 m-90% Accuracy 1 m-67% 2-5 m-50% 2-3 m-50% Infrastructure 2 plug-in signal Located within GSM 3-4 WiFi access points Requirements. modules cellular service range Infrastructure Full No Partial (dependent on Control ownership of access points) Spectral 10 kHz-500 kHz 900 MHz and 1800 MHz 2.4 GHz Requirements Update Rate >20 Hz>20 Hz>20 Hz Tag power Req. \u221250 mA (Pie+op-\u2212200 mA (GSM -100 mA (.mu.controller) amp+antenna) receiver module operated will detector Simultaneous Theoretically no limit Theoretically no limit Theoretically no limit tracking","The power line positioning system  is an indoor positing system for the home  or business that leverages its power line infrastructure  and requires only the addition of two plug-in modules  to the electrical infrastructure  and using simple location tags . The system  is capable of localizing to sub-room level precision using a fingerprinting technique on the amplitude of signals produced by the two modules  installed in extreme locations of the home . The density of electrical wiring at different locations throughout the home  provides a time-independent spatial variation of signal propagation.","The experimental validation in eight different homes  identified the following advantages of the power line positioning system  over current indoor location solutions. (1) The power line positioning system  leverages a truly ubiquitous resource, the power line infrastructure , available in almost all homes . (2) The power line positioning system  requires minimal additions to the infrastructure  (two plug-in modules ). (3) The power line positioning system  achieves superior sub-room-level classification, with an accuracy of 93% on average at a resolution of 34 meters. (4) The power line positioning system  does not detract from the appearance of the home .","In addition, other spatially varying signal features may be incorporated into the power line positioning system , such as phase differences between the signals in addition to the amplitude to increase the accuracy of the power line positioning system in the fingerprinting process.","Wideband Power Line Positioning System Alternative","As noted previously, with Power Line Positioning (PLP), the electrical infrastructure any building or structure acts as an antenna, and artificially-generated signals transmitted over this antenna demonstrate the spatially differentiable and temporally stable signal map that is necessary for a fingerprinting approach to work.","A concern of this approach is the temporal instability in certain environments. The previously disclosed PLP solution described with reference to system  (referred to herein as PLP-1) suggests the use of a pair of frequencies independently injected into the power lines at separate points in the house, however, due to certain factors, such a pair of frequencies cannot be guaranteed to work in every setting over a period of time, resulting in frequent labor-intensive retuning and recalibration of the entire system. This is not only a concern of PLP, but of all fingerprinting based localization systems. The experimental data discussed herein shows that the temporal stability of a naive fingerprinting approach can be much worse than expected, depending on the variability of signal generation and propagation. As a solution to this problem, an alternative embodiment described with reference to system , referred to herein as Wideband Power Line Positioning (WPLP) system , utilizes multiple frequencies to mitigate the effect of temporal variation in signal propagation.","Localization Techniques","Traditional wireless signal triangulation, such as WiFi access point triangulation, uses Received Signal Strength Indicator (RSSI) information to estimate distance and determine a location based on its geometric calculations. Other techniques include the use of Time of Arrival, as in the case of ultrasound, or Angle of Arrival, such as with Ultra-wideband positioning [20]. Ultrasonic solutions, such as Cricket (see, for example, PRIYANTHA, N. B., CHAKRABORTY, A., AND BALAKRISHNAN, H. The cricket location-support system. In (Mobicom 2000) (2000)) and Active Bat (see, for example, WARD, A., JONES, A., AND HOPPER, A. A new location technique for the active office. 4, 5 (1997), 42-47.) provide precise centimeter resolution, but require line-of-sight operation indoors. Therefore, they require dense sensor installations for full coverage. Technologies that avoid issues of occlusion, such as WiFi triangulation, suffer from multipath problems caused by reflections in the environment. Thus, fingerprinting of the received signals can help overcome the multipath problem by leveraging the multipath phenomenon (see, for example, KIRGAARD, M. Towards a taxonomy for location fingerprinting. In Lo CA (2007)). Fingerprinting improves on other means of estimation by taking into account the effects that buildings, solid objects, or people may have on a wireless or RF signal, such as reflection and attenuation. Finger printing works by recording the characteristics of wireless signals at a given position and later inferring that position when a similar signature is seen again. A survey of signals over some space allows for the creation of a map that can be used to relate a signal fingerprint to a location.","Experiments using system  were conducted in a research laboratory designed to imitate a residential environment. The building contained two floors with identical floorplans, each with a kitchen, living room, two bedrooms, two bathrooms, and an office. Although the facility appeared to be a home, it differed in two important ways from a typical home. First, the facility contained a large number of computers and other electronic devices, leading to a noisier RF environment than true residential spaces. Second, the facility was constructed to meet industrial building codes, which required electrical wiring to be surrounded by metal conduit. This metal conduit, which can block the signals injected over the power lines from radiating as RF energy, is neither required nor common in most residential construction. These factors mean that the performance of system  would likely improve in a true residential environment, and that the results with WPLP would extend to other commercial indoor spaces.","Grid Layout","for external purposes, survey points consisted of 66 locations throughout the first floor of the structure on a 0.9 by 0.9 meter grid, shown in . Each point on the grid was identified by a letter (A-O) for the row and a number (1-9) for the column. Occasionally, due to the layout of the floor, surveyable points fell halfway between major grid points. These points were designated by a \u20180.5\u2019 in the column number for a point falling halfway between two columns, and a \u2018+\u2019 after a row letter for a point falling halfway between two rows. Due to the size of the antenna (l m diameter) relative to the size of the grid, its orientation at each point can be a significant factor. Data was obtained at each of the 66 points with the antenna facing either north, south, east, or west. One direction was used for each point, and the same direction was used each time data was taken at that point. Most points were sampled with the antenna facing north, although occasionally the placement of walls and furniture dictated a different orientation. As illustrated in , injector  is located at a single location within the kitchen of the diagram.","Data Collection Equipment",{"@attributes":{"id":"p-0105","num":"0104"},"figref":["FIGS. 9A-B","FIG. 1"],"b":["20","20","10","13","22","22","24","26","24","24","24"]},"The output of the signal generator  is coupled to the power line injector box  which enables the electrical coupling or injection of the signal to either the hot and neutral, hot and ground, or neutral and ground wire pairs of an electrical outlet within the structure. To compare results as closely as possible with those of PLP-1, the signal was injected on the hot and neutral wires. Alternatively, the signal may be coupled to the metal conduit itself to distribute the signal throughout the electrical infrastructure within the building, particularly in industrial environments.","WPLP system  further comprises a receiver  comprising an amplified broadband antenna , a software radio , and a standard laptop computer . In the illustrative embodiment, antenna  may be implemented with a Wellbrook Communications ALA-1530+ loop antenna, having a range of 150 kHz-30 MHz (see, for example, Wellbrook communications ala-1530-antenna. http:\/\/www.wellbrook.uk.com\/products.html) The software radio  may be implemented with an Ettus Research Universal Software Radio Peripheral (USRP), commercially available from Ettus Research, LLC Mountain View, Calif. 94043, containing a 64 MHz 12-bit analog-to-digital converter to which the output of the antenna was connected through a low-pass antialiasing filter . A battery and power inverter, not shown, were used to power the equipment in order to both isolate the receiver  from the power line and to make the receiver  electrically similar to a battery-powered mobile tag.","All components of the receiver , including laptop , antenna , and software radio , were placed onto an electrically isolated plastic cart to ensure no signal was coupled through the cart. The signal generator  and injector box  were coupled to an outlet or node of the electrical power infrastructure within the building in the kitchen, and remained there throughout the experiments. The a conceptual schematic configuration of system  is illustrated in .","Experimental Procedure","When capturing data the cart containing receiver  was moved in succession to each point on the grid (marked with tape on the floor), where a marker placed on the cart was used to align it consistently across data captures. For each frequency, a sample was taken with the signal generator output both on and off, allowing the capture the ambient RF noise in the environment as well as the signal transmitted. Samples were captured using the software radio , which digitizes the raw signal from the antenna . The amplitude of the frequency of interest was calculated from this raw signal using a Fourier transform. To reduce the effect of any variation in the electronics of the software radio , its input was directly connected to the output of the signal generator  and a calibration performed before each survey.","The signal generator  was controlled over a WiFi connection (which operates well outside the frequency range of interest), enabling the programmatic adjustment its output parameters and the configuration of the tone generator output signal to each of the 44 frequencies in sequence. The signal generator  and injector box  were connected to an outlet in the kitchen, illustrated in . Note that when using a fingerprinting-based approach, it is not necessary to know anything about the design or placement of the electrical infrastructure within the building. The only purpose of the power line is as a conduit to spread the signal used for fingerprinting throughout the space of interest. In this manner, a measurement of the amplitude of all 44 frequencies was taken at each of the 66 grid points. Collection of this data over the entire grid for one injection point took approximately three hours. Six complete datasets were collected over a two-month period, approximately every week. A classifier computer program application, refered to hereafter as the \u201cclassifier\u201d was utilized to evaluate the collected experimental values and correlate the results according to specific parameters such as frequency and amplitude, etc. The classifier application is not hard of either system  or system  but is utilized for evaluation of the data collected therefrom.","Revisiting PLP-1 Results","Previously described system  (PLP-1) utilized two injectors, each transmitting a single unique frequency. Accordingly, two frequencies from a larger set of 44 were selected to replicate the original system the original frequencies used by system  (447 kHz and 600 kHz). To replicate the original system as closely as possible, the original frequencies used by PLP-1 (447 kHz and 600 kHz) were selected. Note that although Patel et al. utilized 33 kHz rather than 600 kHz, 33 kHz was outside the operating range of the antenna, and switching to 600 kHz obtained results similar to those previously presented.","Another difference from the implementation of system  is that a single injection point, rather than two physically separated injection points, was utilized. Physically separating the injectors can serve to add information useful to the classifier that may not be present if both signals are transmitted from the same location. A measure of the amount of additional information provided by using a second frequency (over using just one for classification) is the correlation between the amplitudes of the two frequencies. In this case, the correlation between 447 kHz and 600 kHz ranged from 0.35 to 0.42. A correlation of 1 indicates that the second frequency provides no additional information, and a correlation of 0 means that the two frequencies share no information. Patel et al. found correlations between the two injectors ranging from 0.05 to 0.6. Our values thus fall within this range, and we therefore believe the use of a single injection point for multiple frequencies serves as a valid comparison.","To evaluate the performance of 10 in the test environment, the amplitude data at 447 kHz and 600 kHz was captured at each of the 66 surveyed points. This data was used to perform room-level, sub-room-level, and grid-level classification of a test dataset. The classification was performed using the K-Nearest-Neighbors (KNN) method on the signal space using the received signal amplitudes. Thus, each physical location on the grid, as shown in , ha associated with it, the amplitude of the two signals (447 kHz and 600 kHz) as sensed at that particular location, as well as the symbolic label given to that grid point. The test and training datasets were completely independent, captured several hours apart. A K value of 1 was used, which was found to produce optimal results under these conditions. Room-level accuracy ranged from 48.5% to 60% depending on which of the two datasets was used for training and which was used for testing, which is significantly lower than the 78%-100% accuracy achieved by Patel et al. in their experiments. Subroom-level performance ranged from 39.4%-51.5%, again much lower than the 87%-95% achieved in the original work. The average of the two accuracies is shown in  for each localization granularity.","The lower accuracies observed can be attributed to both ambient RF noise and the construction of the electrical infrastructure. As discussed earlier, although the layout of the test environment appeared to be that of a home, it is actually a laboratory and as such was constructed according to commercial building standards. Substantial ambient noise, possibly caused by the large amount of electrical equipment operating within the test environment, was observed in the 400600 kHz range. This phenomenon was not observed in the deployment of PLP-1 in residential spaces. This may also be due to the electrical wiring being deployed within metal conduit, as described earlier. Note that the hot and neutral wires on which the signals are injected are completely contained within this conduit, which can serve to reduce the amount of signal radiated. The experiments conducted in PLP-1 were in homes with residential grade wiring without conduit.","Frequency Selection","Given these results, an exhaustive search of all possible combinations of two frequencies from the 44 that were captured was performed to determine the best accuracy achievable with two frequencies, the idea being that if a pair of frequencies could be found that consistently provide the best accuracy across each of the three classification granularities, PLP-1 could be adapted to use these frequencies in commercial and industrial environments. The classification was again done using the KNN method with a K value of 1.","The results of a room-level classification of each of the 66 samples taken throughout the floor for all 1,892 possible combinations of frequencies revealed that. the best possible room-level accuracy was 87.88% (achieved with 447 kHz and 11.5 MHz), the best sub-room-level accuracy was 83.33% (achieved with 8.5 MHz and 11 MHz), and the best grid-level accuracy was 78.79% (achieved with 8.5 MHz and 9.0 MHz). These results, along with those of the PLP-1 frequencies and the worst-case two frequencies, are summarized in .","Two important result can be deduced from such an exhaustive search. First, we see that significant improvements in accuracy can be made simply by using frequencies other than the 447 kHz and 600 kHz signals used by PLP-1. Room-level accuracy improves by 33.6%, sub-room-level accuracy by 37.9%, and grid-level accuracy by 44.7% simply by using alternative frequencies. Second, the frequencies that provide the best possible accuracy are not consistent across the three classification granularities. Not only are they inconsistent, but they also span most of the range tested, starting with the lowest frequency tested of 447 kHz all the way to 11 MHz. No obvious pattern was observed in the collected data that would lead to a formula for a priori selection of two frequencies to be used in a PLP localization system.","Temporal Stability","For a fingerprinting-based localization system to work accurately, the fingerprint space should exhibit both temporal stability and spatial differentiability. The previously discussed results, with room-level accuracy of up to 88% for two frequencies based on training and testing sets taken the same day, demonstrate that the amplitude of these signals is spatially differentiable. Next, the stability of the signal amplitudes in time, as well as the effect that any instability has on localization results, was examined.","To understand the impact of any temporal instability in the signal amplitudes, tests were run for each dataset where the original dataset was used for training, and a noisy version of that same dataset was used as the subsequent testing set. The noisy version was generated by adding independently generated samples of zero-mean Gaussian noise to the amplitude of each of the PLP-1 frequencies at each of the 66 physical locations in the dataset. The impact of noise with standard deviation ranging from 0 dB to 30 dB was examined, and is shown in . The accuracies shown represent the mean over 100 independent generations of the noisy dataset versions, as well as over all collected datasets. These results show that with just 1 dB of noise, the localization accuracy drops below 50% for all classification granularitics when using the PLP-1 frequencies of 447 kHz and 600 kHz.","To determine the amount of temporal instability of the signal amplitudes in the real-world measurements were taken over four separate 24-hour periods at two physical locations. Approximately 950 samples at each of the 44 frequencies were obtained across each 24-hour period. One of these locations was at point K5 on the grid, and the other was in the laboratory space. During these tests the cart containing the system  remained completely stationary, eliminating any change in signal amplitude that may be present in the datasets taken over the entire grid due to inconsistent cart placement between measurements. The results of these long-term tests are illustrated in , which shows the mean standard deviation in amplitude at each of the 44 frequencies across the 24 hours of each test.","Two important conclusions can be deduced from the data illustrated in . First, the mean standard deviation across all four tests and all 44 frequencies is 1.17 dB, which is above the 1 dB that was determined earlier to cause classifier accuracy to drop below 50%. Three out of the four 24-hour periods had 21 frequencies with standard deviations above 1 dB, and one had 15 frequencies above 1 dB. Of these same tests, two had five frequencies with standard deviations above 2 dB, one had six, and one had three.  shows that at 2 dB of standard deviation, localization accuracy ranges from 25% to 35% depending on localization granularity. Second, it can be seen that although some frequencies show low standard deviation (<1 dB) in one location, they may experience high standard deviation (>2 dB) in another location, Therefore, it is difficult to select two frequencies that will produce consistently good localization results over both time and space.","A real-world deployment of either system  or system  would last much longer than the 24-hour tests and would also suffer from additional \u2018noise\u2019 due to inconsistent placement of the receiver between training and testing samples. To get an indication of what real-world standard deviation in the signal amplitude might look like, the same value were calculated as before (standard deviation in amplitude at each of the 44 frequencies) across all six datasets. These values are shown in . Values were computed by finding the standard deviation among the six amplitude samples at each frequency for each of the 66 surveyed locations, and then taking the mean over all 66 locations. For the six datasets collected over a two month period, the mean standard deviation in amplitude across all 44 frequencies was 3.74 dB, and the minimum was 2.16 dB, whereas the localization accuracy of a two frequency system was less than 35% with noise of greater than 2 dB (shown in ). Based on these results, WPLP system  demonstrates that the use of a wideband signal consisting of multiple signals at distinct frequencies not only improves initial localization accuracy, but also better maintains that accuracy over time by mitigating some of the effects of temporal instability in each of the constituent signals.","Accuracy Improvements","The use of up to a 44-frequency wideband signal significantly improves localization accuracy.  shows localization performance for a training and testing set taken several hours apart, which should yield excellent localization results since changes in the physical environment that could affect the RF signals are minimal. However, as seen saw earlier in , this is not necessarily the case when using only two frequencies for localization. In fact, the PLP-1 system achieves only 54% room-level accuracy with 447 kHz and 600 kHz, even for these relatively ideal conditions. A wideband signal provides additional features to the classifier, allowing it to make better decisions. In this case, the wideband signal leads to 100% accuracy at room, sub-room, and grid level. This represents a gain of 46%-66% over the accuracy achieved with the PLP-1 frequencies.  also shows that even with the optimal selection of two frequencies (with each of the three localization granularities having its optimal frequencies selected independently), the wideband signal provides gains in accuracy of 12%-21%.","Temporal Stability","Using a wideband signal for localization not only improves initial performance of the system , but also helps maintain that performance over time. Having observed the effect that a wideband signal has on initial localization results, its effect on sensitivity to noise with tested next. Noise sensitivity of the classifier was first shown in , which presented results for a system utilizing the two PLP-1 frequencies of 447 kHz and 600 kHz.  illustrates this information for the 44-frequency wideband signal. As before, this information was obtained by adding independently generated zero-mean Gaussian noise samples with varying standard deviation to the amplitude of each of the 44 frequencies sampled at each of the 66 datapoints. The classifier was then trained on the initial dataset, and tested on the noisy version of that same dataset.  represents the mean over 100 independent generations of a noisy version of all six datasets.",{"@attributes":{"id":"p-0125","num":"0124"},"figref":["FIG. 15","FIG. 11","FIG. 15"]},"With results showing that a wideband signal can improve temporal stability by increasing the noise tolerance of the classifier, the results of a real-world experiment with a 44-frequency wideband signal for training and testing data taken two months apart are examined. The results for the two-frequency PLP-1 signal, the optimal two frequency signal (with optimal selection being independent for each level of localization granularity), and the 44-frequency wideband signal are shown in . Two important effects can be observed from the data illustrated in , which illustrates the decrease in performance for each of the three types of signals from initial deployment () to two months later (). First, although a two-month temporal separation between training and testing data has reduced the accuracy of the 44 frequency wideband signal to 59%-91% depending on the localization granularity, it has maintained significantly better accuracy than either the two-frequency PLP-1 signal or the optimal two-frequency signals across all three localization granularities. Second, the decrease in performance with the 44-frequency wideband signal for all localization granularites (except grid-level) is lower than with the two-frequency PLP-1 signal and the two-frequency optimal signal. Thus, not only does a wideband signal deliver better initial accuracy, it also serves to better maintain that accuracy over time.","The data discussed thus far is based on the comparison of three independently collected datasets\u2014two separated by several hours, and one separated from the initial set by two months. The earliest dataset has been used as the training set, which simulates the initial site survey necessary upon deployment of a fingerprinting-based localization system. Over the two-month period, three additional datasets were collected in the interim. Using these interim datasets as additional testing data for a classifier trained on the initial site-survey provided insight into how localization accuracy degrades over time, and is shown in . From the data displayed in , it can be reduced that there does not appear to be a pattern in accuracy degradation over the two-month period as time increases. Any significant temporal separation between training and testing datasets degrades accuracy, but that accuracy degradation is not necessarily correlated with increasing time after a point.","Wideband Signal Size","The experimental results have shown the benefit of the wideband signal over a two-frequency signal, although it is unclear if a wideband signal with fewer than 44 constituent frequencies may provide the same accuracy. Using the fewest number of signals possible to obtain the demonstrated benefits of a wide-band signal is desirable since additional frequencies may increase the cost, complexity, and size of receivers designed for a real-world practical localization system based on the wideband approach.","To determine the effect of additional frequencies on localization performance, the performance of a wideband signal ranging in size from five frequencies all the way to the complete set of 44 frequencies on the two-month separated datasets was examined. Since a key benefit of the use of a wideband signal is resistance to performance degradation over time, examining the two-month separated data made more sense than the datasets captured closer together in time. To determine the order in which frequencies were added to the signal, they were ranked in order of decreasing signal-to-noise ratio (SNR) based upon the training dataset. Although other orderings could be used, and may produce different results, the problem space was too large to perform an exhaustive analysis. Adding frequencies by decreasing SNR is a logical approach since frequencies closer to the ambient noise level are more likely to be affected by noise, and will thus have a higher standard deviation in amplitude. Recall , showed that this adversely affects localization performance. Frequencies with higher SNR's will thus likely provide better localization accuracy. Localization accuracies for the wideband signal ranging in size from five to 44 frequencies are shown in . The general trend is that the use of additional frequencies provides additional localization accuracy, although it appears that the marginal utility of each additional frequency begins to decrease in excess of 35 frequencies.","Alternative WPLP System implementations","As an alternative to the components disclosed in WPLP system , special purpose hardware and software components may be optimized for a specific set of operating parameters, including the desired operating frequency range, injector transmission levels, and receiver dynamic range and selectivity. Such component design could leverage several technologies to achieve good wideband performance at modest cost and complexity, as well as low power consumption for the PLP receiver.",{"@attributes":{"id":"p-0131","num":"0130"},"figref":["FIGS. 9B","FIG. 9B"],"b":["22","24","29","36","29","27","24","24","31","22","28"]},"In one embodiment, the injector  may be implemented as previously described with an Agilent 33220A, which is based on an arbitrary waveform generator architecture where a time series of arbitrary output voltages is played back from a large internal memory. In such implementation, however, not all of the full arbitrary waveform generation capabilities are utilized as the contemplated injector  transmits only 1 of 44 frequencies at a time.","Alternatively, an injector , which is practically deployable for the described the wideband solution, may be implemented with a commercially available single chip direct digital synthesizer to generate frequency agile single excitation tones, such as the Analog Devices AD9834, for example, which is capable of generating tones at frequencies ranging from near-DC to 37.5 MHz. Such single-chip direct digital synthesizer may be controlled by any number of programmable processors ranging from a laptop or desktop computer down to a simple 8-bit microcontroller programmed to generate a sequence of injection tones, as required. With such implementation, a high-speed operational amplifier  is recommended to amplify the AD9834's 0.8 V output signal to the 10 V output signal.","In WPLP system  illustrated in , the receiver  employs a large broadband receiving loop antenna  connected to a software radio  development system (USRP) which is, in turn, connected to an ordinary laptop computer  which performs some of the required signal processing tasks. This combination of components was chosen for flexibility and high performance, but it consumes a great deal of power and is physically very large. In an alternative embodiment of the more practical wideband receiver, a single chip superheterodyne receiver such as the NXP TEA5757, commercially available from NXP Semiconductor, Eindhoven, The Netherlands, contains on a single chip all of the receiver functions needed for measuring the amplitude of incoming signals from 144 kHz to 30 MHz. In operation, such single chip superheterodyne receiver consumes 18 mA at 2.5 V, or 45 mW, which is about half the power consumption of a typical Bluetooth transceiver implementation. A microcontroller more suitable logic is used to configure the receiver to various frequencies. One of the real challenges for the production of a small WPLP tag is the development of a small but sensitive magnetic field antenna to receive the incident signals from the power line without requiring a large shielded loop. In one embodiment, such an antenna may be implemented with an untuned ferrite rod antenna.",{"@attributes":{"id":"p-0135","num":"0134"},"figref":"FIGS. 9C","b":["28","30","38","37","32","34","28"]},"Alternative Embodiments","As an alternative implementation, although  seems to demonstrate diminishing returns for further expansion of the wideband signal beyond 44 frequencies, larger wideband signals, as well as wideband signals using other areas of the spectrum, such as the GHz region used for WiFi localization, may potentially be utilized with the systems and techniques described herein.","As an alternative consideration, interference with other wireless devices is a potential concern with WPLP. Wired power line communication systems operate within the frequency band of interest for WPLP, as well as various other wireless services, such as amateur radio. Since WPLP uses a number of frequencies, the system could overcome potential interference issues by continually sensing for other users of the various frequencies and adapting its frequency set in real-time. Such method has been used successfully with power line communication systems, which emit unintentional radiation from the power lines.","Thus, indoor location systems that employ power line positioning techniques have been disclosed. The use of a wideband signal consisting of the amplitudes of 44 different frequencies ranging from 447 kHz to 20 MHz can both improve the initial post-deployment accuracy of the system, and also mitigate performance degradation over time and that increasing the size of the wideband signal fingerprint serves to reduce accuracy degradation over time.","It is to be understood that the above-described embodiments are merely illustrative of some of the many specific embodiments that represent applications of the principles discussed above. Clearly, numerous and other arrangements can be readily devised by those skilled in the art without departing from the scope of the invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The various features and advantages of the present invention may be more readily understood with reference to the following detailed description taken in conjunction with the accompanying drawings, wherein like reference numerals designate like structural elements, and in which:",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2","i":"a "},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2","i":"b "},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIGS. 3","i":["a ","b "],"b":"3"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 7","i":["a","d "],"b":"7"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIGS. 9A-B"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 9C"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 19"}]},"DETDESC":[{},{}]}
