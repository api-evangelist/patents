---
title: Print setting processing apparatus and print setting processing method
abstract: A print setting processing apparatus includes a functional information acquisition unit configured to acquire functional information which is set for each of a plurality of printer drivers, a classification unit configured to classify the functional information into a common item applicable to the plurality of printer drivers and a specified item applicable to at least a part of the printer drivers and display the classified functional information, a generation unit configured to generate integrated functional information including the common item and the specified item, and a transfer unit configured to transfer the integrated functional information to the printer drivers.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08274686&OS=08274686&RS=08274686
owner: Canon Kabushiki Kaisha
number: 08274686
owner_city: Tokyo
owner_country: JP
publication_date: 20090316
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates to a print setting processing apparatus usable for print settings in an information processing apparatus such as a personal computer, and a relevant print setting processing method.","2. Description of the Related Art","Recently, various types of network devices are commonly used. For example, in a network environment including a plurality of printing apparatuses, a host PC can cause a printing apparatus having various functions to perform print processing. In such an environment, a user is required to install printer drivers corresponding to respective printing apparatuses on the host PC. When a document is printed by using an application installed on the host PC, the user needs to select an appropriate printer driver to cause the corresponding printing apparatus to perform print processing.","However, in the above-described environment, it may be difficult for the user to identify an optimum printing apparatus to be used and determine print settings (functions) to be set to obtain a desired print output.","For example, when a user instructs a staple or a bookbinding print, it may be difficult for the user to identify which printing apparatus has required functions. Even when the user can identify the printing apparatus having required functions, if the identified printing apparatus and its printer driver are not so frequently used by the user, the user may be unable to smoothly perform required print settings for the printer driver.","Print setting information can be stored when the application executes a print, so that the stored print setting information can be used for the next print execution. However, a user may be unable to accurately identify to which printer driver the stored print setting information corresponds.","Further, in a case where a printing apparatus to be used for the print execution is currently processing a great amount of print job or is malfunctioned, a user may use another printing apparatus. However, the user may be unable to identify an optimum printing apparatus as an alternate printing apparatus. Even when an appropriate alternate printing apparatus can be selected, print setting items of the alternate printing apparatus are usually different from those of the initially designated printing apparatus. The print settings of the initially designated printing apparatus cannot be directly reflected to the print settings of the alternate printing apparatus.","To solve these problems, a conventional application includes a print setting alternate function and a conventional printer driver (hereinafter, referred to as a \u201cgeneric driver\u201d) includes the print setting alternate function. The print setting alternate function, for example, includes providing a unique print setting screen by which a user can easily perform print settings instead of using a print setting screen of the printer driver, or performing print processing based on settings determined using an individual setting screen provided by utilizing a printer driver of an appropriate printing apparatus. Thus, the print setting alternate function enables a user to perform print settings adequately. Further, there is a print setting alternate function which can be applied to a plurality of printing apparatuses to rearrange differences among installed functions of respective printing apparatuses and present (notify) them to a user so that the users can select an optimum printing apparatus based on the supplied information.","There is a print setting alternating application which is applied only to a specific printing apparatus or specific print settings. For example, an application for performing layout processing on print data enables a user to edit only layout settings using an individual setting screen and changes the print settings of the printer driver to prevent the printing apparatus from performing the layout processing. Such an application can be regarded as an example of the print setting alternate function.","To realize the above-described print setting alternate function, the application needs to acquire functional information and setting information about the printing apparatus from the printer driver, edit print setting contents, and cause the printer driver to perform print processing based on the updated print settings.","As a technique capable of realizing the above-described print setting alternate function, an individual interface (I\/F)  illustrated in  can be used to transmit and receive the functional information and the setting information between the application and the printer driver. For example, the Microsoft Windows\u00ae operating system (OS) provides a printing system referred to as Graphics Device Interface (GDI). In the GDI printing system, a memory block referred to as a DEVMODE structure can be used to transmit and receive print setting data between the application and the printer driver.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 24","b":["401","402","401","402","401","402"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 25","FIG. 25"],"b":["401","402","401"]},"In general, items that the application can acquire or change with respect to the settings of the printer driver are limited to the items regulated in the public portion . The application cannot directly access the private portion  that describes most of the functions of the printing apparatus. In the GDI printing system, the application can use a DeviceCapabilities application programming interface (API) to acquire the functional information about the printing apparatus, including information about sheet size supported by printing apparatus and information about two-sided printing capability. The application constructs a print screen based on the acquired information. However, acquisition of specific functional information by the DeviceCapabilities API is limited to the functions defined by the Windows system. Therefore, the DeviceCapabilities API cannot be used to acquire any other functional information not defined by the Windows system.","According to the system illustrated in  that includes the individual I\/F , a print setting processing unit  of an application program  acquires the DEVMODE public portion  from a user interface processing unit  of a printer driver  via the DEVMODE. After completing editing processing, the print setting processing unit  returns the DEVMODE public portion  to the printer driver  via the DEVMODE.","With regard to the DEVMODE private portion , an individual I\/F processing unit  of the application program  requests a driver software development kit (SDK) processing unit  of the printer driver  to acquire and edit item information relating to the DEVMODE private portion  via the individual I\/F . Then, the driver SDK processing unit  edits the DEVMODE private portion  and sends the edited DEVMODE private portion  to the user interface processing unit . Similarly, the application can acquire the functional information, which cannot be acquired by the DeviceCapabilities API, from the printer driver via the individual I\/F .","In this case, the application and the printer driver are required to mutually determine a specification of the individual I\/F  beforehand. If the specification of the individual I\/F  is not determined beforehand, transmission\/reception of information between the application and the printer driver cannot be performed sufficiently.","A text-based file, such as Extensible Markup Language (XML), can be used to transmit\/receive the functional information and the setting information between the application and the printer driver. In this case, the application can acquire and edit XML keys if the application can interpret them. Therefore, a number of processible items increases, compared to the DEVMODE-based technique which performs transmission\/reception of the information using binary memory blocks.","The Microsoft Windows Vista\u00ae operating system newly provides an XML Paper Specification (XPS) based printing system in addition to the conventional GDI based printing system. For example, the new XPS-based printing system is introduced in the web site (e.g., http:\/\/www.microsoft.com\/japan\/whdc\/device\/print\/default.ms px). The XPS, which is one of electronic document formats, is composed of the XML that stores information relating to a document structure, rendering information, and print settings and various elements (e.g., binary resources of bitmap and font data).","An XML file that stores the print settings of the printer driver is referred to as a print ticket. The print ticket can be characterized by \u201cdescribed using the XML and its specification is opened to the public,\u201d \u201ctext and is therefore readable,\u201d and \u201caccessible by not only the printer driver but also the application\u201d. Accordingly, the print ticket is functionally expanded compared to the DEVMODE.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 27","b":["701","702","703","702"]},"In the XPS printing system, an XML-formatted structure \u201cPrintCapabilities\u201d is provided, so that the application can acquire functional information of a printing apparatus.  illustrates an example of the PrintCapabilities which is returned from the printer driver to the application. A PrintCapabilities tag  includes a plurality of Feature tags  each indicating a function. In the Feature tag , a plurality of Option tags  is present as candidates for a setting value of the function. The PrintCapabilities describes all functions supported by the printing apparatus and setting items of respective functions. The application can select a setting of each function based on the PrintCapabilities and can generate a print ticket including print settings.","As illustrated in , according to the technique using the text-based file (e.g., XML), the setting values of respective functions of the printer driver  can be transferred with a PrintTicket . Moreover, a PrintCapabilities  can be used to acquire functions of the printing apparatus and candidates of the setting values. The PrintTicket  and the PrintCapabilities  include texts describing Features each indicating the function and Options each indicating setting values and candidates. Therefore, the print setting processing unit  of the application program  can search for processible Features (functions) from the PrintTicket  and the PrintCapabilities  to acquire Options (setting values) and correct them. In this case, an XML analysis unit  of the print setting processing unit  performs analysis processing.","As discussed in Japanese Patent Application Laid-Open No. 11-143664 and Japanese Patent Application Laid-Open No. 2003-162388, using the above-described technique enables the application and the generic driver to acquire the functional information from the printer driver and perform functional settings or construct a print setting screen that a user can easily understand. When a plurality of printing apparatuses is usable, the print setting alternate function can be used to easily select a printing apparatus or easily perform settings of the functions.","However, only using the print setting alternate function is insufficient to effectively operate the plurality of printing apparatuses, even if selection of the printing apparatus and setting of its functions become easier.","More specifically, the print setting information that the print setting alternate function of the application can acquire from the printer driver and the print setting information that is set to the printer driver after completing editing processing are only applicable to the printer driver itself. Therefore, when print processing is performed by another printing apparatus, the print setting alternate function is again used to select an optimum printing apparatus. It is further required to perform print settings for another printer driver. For example, when the print setting alternate function selects a desired printing apparatus from the plurality of printing apparatuses, the print setting information is transmitted to a printer driver of the selected printing apparatus.","However, the selected printing apparatus may be unable to perform print processing as requested, if the printing apparatus has malfunctioned, is in a stalled state due to paper jam, or is currently performing a great amount of print job. In such cases, if the selected printing apparatus is replaced with another printing apparatus, the print setting alternate function is activated again to select another desired printing apparatus from the plurality of printing apparatuses. The print setting information is transmitted to a printer driver of the newly selected printing apparatus.","In a case where a printing apparatus stores print setting information specific thereto which is generated by the print setting alternate function of the application for a long-term reuse of the settings, the stored information cannot be reused if the printing apparatus is replaced with another printing apparatus. Therefore, print settings need to be performed again for the newly selected printing apparatus.","Moreover, when print data (e.g., XPS data) and print setting information are stored as a single document file, the document file can be directly transferred to the printing apparatus to perform direct print processing. In this case, even when the print setting alternate function is used to perform print settings suitable for a specific printing apparatus, a user may not select an appropriate printing apparatus in the direct print processing.","Exemplary embodiments of the present invention are directed to a print setting processing apparatus and a print setting processing method which enable a user to easily perform settings for a plurality of printer drivers when printing settings can be performed on the plurality of printer drivers.","According to an aspect of the present invention, a print setting processing apparatus includes a functional information acquisition unit configured to acquire functional information which is set for each of a plurality of printer drivers, a classification unit configured to classify the functional information into a common item applicable to the plurality of printer drivers and a specified item applicable to at least a part of the printer drivers and display the classified functional information, a generation unit configured to generate integrated functional information including the common item and the specified item, and a transfer unit configured to transfer the integrated functional information to the printer drivers.","According to another aspect of the present invention, a method for processing a print setting includes acquiring functional information which is set for each of a plurality of printer drivers, classifying the functional information into a common item applicable to the plurality of printer drivers and a specified item applicable to at least a part of the printer drivers and displaying the classified functional information, generating integrated functional information including the common item and the specified item, and transferring the integrated functional information to the printer drivers.","Further features and aspects of the present invention will become apparent from the following detailed description of exemplary embodiments with reference to the attached drawings.","The following description of exemplary embodiments is illustrative in nature and is in no way intended to limit the invention, its application, or uses. It is noted that throughout the specification, similar reference numerals and letters refer to similar items in the following figures, and thus once an item is described in one figure, it may not be discussed for following figures. Exemplary embodiments features, and aspects of the invention will be described in detail below with reference to the drawings.",{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 1"},"The print setting processing apparatus includes a general personal computer (information processing apparatus) The print setting processing apparatus includes a central processing unit (CPU) , a read only memory (ROM) , a random access memory (RAM) , an input interface (I\/F) , a storage apparatus , an output interface (I\/F) , and a system bus . A keyboard  and a pointing device  are connected to the input I\/F . A monitor  and a printing apparatus  are connected to the output I\/F . The storage apparatus  stores an application program , a print related program , a printer driver , and an operating system (OS) .","The above-described functional units can mutually transfer information and data via the system bus . The CPU  performs entire control of the apparatus according to programs stored in the ROM , the RAM , or the storage apparatus . The RAM  can be used as a work area for the CPU  that performs various processing. The keyboard  and the pointing device , each functioning as an input device, transmit a user's instruction to the CPU  via the input I\/F . The output I\/F  outputs processed data to the monitor  or the printing apparatus .","Although not illustrated in , the present exemplary embodiment includes a plurality of printing apparatuses  connected to the output I\/F . Further, the storage apparatus  stores a plurality of printer drivers  corresponding to respective printing apparatuses .","Example print processing according to the first exemplary embodiment is described with reference to .","A user inputs a print processing instruction with the keyboard  or the pointing device  when the monitor  displays document data  which is generated by the user using the application program . The print processing performed by the CPU  includes three processes, selection of a printing apparatus, generation of print setting information, and conversion of rendering data, which are successively performed. These three processes are described below based on operations performed by the application program  and the OS .","First, the OS  selects, based on a user's instruction, a printer driver  corresponding to the printing apparatus  that executes print processing.","Next, a user interface processing unit  of the printer driver  generates initial values of print setting information  included in the document data , and acquires an instruction relating to changes of the print setting information . Then, a print setting processing unit  of the application program  changes the print setting information  according to the user's instruction and sets the print setting information  including the changed contents.","For example, the print setting processing unit  changes a sheet size to \u201cA5\u201d and changes a print pattern to two-sided printing. The print setting information  includes two types of data formats, one of which is a binary data format data structure referred to as \u201cDEVMODE\u201d (see ) and the other is a markup language XML format text data using a tag referred to as a \u201cprint ticket\u201d (see ). These print patterns are variable depending on specifications of the printer driver  and the OS .","After completing the setting of the print setting information , if the user enters a print execution instruction, the application program  notifies the OS  of the print execution instruction. When the OS  receives the notification, a graphics engine  of the OS  generates rendering data to be supplied to the designated printer driver . If the print setting information  designates layout processing, the OS  generates a temporary spool file  before supplying the rendering data to the printer driver  and activates a layout module . The layout processing performed by the layout module  includes processing for changing an order of sheets and processing for locating a plurality of pages on a sheet.","The layout module , after completing the layout processing, transfers the rendering data  to the printer driver . A rendering data processing unit  of the printer driver  converts the received rendering data  into a data language (i.e., a printer control language) that the printing apparatus  can process. In this case, the rendering data processing unit  also converts the print setting information  into a corresponding printer control language.","The user interface processing unit  and the rendering data processing unit  are devices commonly used for a plurality types of the printing apparatuses . Differences of each printing apparatus  are described in a device-dependent data file  stored in the printer driver . The user interface processing unit  and the rendering data processing unit  can refer to the device-dependent data file . Converted data are successively stored as the spool file .","If all of the rendering processing is completed, a print manager  of the OS  acquires the spool file  and stores the acquired file as a print job file. The print manager  performs a schedule management for the print processing. When the printing apparatus  is in a printable state, the print manager  transmits print job data to the printing apparatus  via an input\/output (I\/O) module . In this manner, the print data supplied from the application program  can be converted into the printer language and printed by the printing apparatus .","As a comparison with the present exemplary embodiment, a configuration of a general print setting alternate function is described below.  illustrates the configuration of the general print setting alternate function.","When a user performs print settings, the user can use a user interface provided by the user interface processing unit  of a printer driver A . However, when the application program  causes the user to perform a part or all of print settings using an individual user interface , instead of using the user interface provided by the printer driver A , the application program  performs processing based on the print setting alternate function.","More specifically, a print setting alternate function processing unit  constitutes a part of the print setting processing unit  and acquires printer driver settable values  from the printer driver  using the PrintCapabilities (see ), the DeviceCapabilities API, or the individual I\/F  (see ).","Then, the print setting alternate function processing unit  generates the individual user interface  based on the printer driver settable values  and printer driver setting values  and displays the generated individual user interface . In this case, a name of the interface can be prepared beforehand. When the PrintCapabilities is used, any character string used in the Feature which indicates a function or the Option which indicates a setting value in the PrintCapabilities can be used. Further, any template for the layout can be prepared beforehand. When the PrintCapabilities is used, each Feature indicating the function can be itemized.","If a user  edits any value on the displayed individual user interface , a result of the editing processing is transmitted to the print setting alternate function processing unit . The print setting alternate function processing unit  generates setting values  according to the setting alternate function based on the editing result, and transmits the generated setting values  to the printer driver A , for example, using the DEVMODE (see ), the individual I\/F  (see ), or the PrintTicket (see ).","The print setting alternate function processing unit  performs alternate print setting not only for the printer driver A  but also for another printer driver B . In this case, the print setting alternate function processing unit  acquires printer driver settable values from the printer driver B . For example, the print setting alternate function processing unit  displays an individual common setting user interface , a printer driver A specified setting user interface , and a printer driver B specified setting user interface . In this case, when the printer driver settable values in the setting alternate function are transferred to the printer driver, the print setting alternate function processing unit  generates print settings specified to the printer driver, according to the printer driver. The general print setting alternate function can be realized in this manner.","The following is a print setting alternate function realized by the present exemplary embodiment.  illustrates a configuration of the print setting alternate function according to the first exemplary embodiment of the present invention.","In the first exemplary embodiment, a printer driver extraction processing unit  of the print setting alternate function processing unit  extracts a printer driver to be subjected to the print setting alternate function processing. In this case, the printer driver extraction processing unit  can extract a part or all of the printer drivers  installed on the OS  of the computer. For example, the printer driver extraction processing unit  can exclude printer drivers not specified for the printing apparatuses or specific vendors. In other words, the printer driver extraction processing unit  can extract only printer drivers which satisfy predetermined conditions.","Example drivers not subjected to the print setting alternate function processing include a driver that outputs a tag image file format (TIFF) Bitmap or XPS document to be used by another application program and a Fax driver that performs transmission of facsimiles. An object to be subjected to the print setting alternate function processing can be automatically specified, for example, according to a name of an output destination or the printer driver, or can be selected by a user, or can be determined based on other standard.","After the printer driver to be subjected to the print setting alternate function processing is extracted, a driver function acquisition unit  which serves as a functional information acquisition unit acquires print settable values of each extracted printer driver as functional information. In the first exemplary embodiment, the driver function acquisition unit  acquires the print settable values using the PrintCapabilities illustrated in . Then, the driver function acquisition unit  stores the acquired PrintCapabilities as an XML file to store the print settable values of each printer driver.","A driver function corresponding user interface (UI) generation unit  generates an individual user interface for the stored print settable values of each printer driver. A user interface (UI) display unit  displays the generated individual user interface. A content of the individual user interface is described below in more detail. If the user performs print settings using the generated individual user interface, which is operable as a setting changing unit , a least common multiple print setting generation unit  generates least common multiple print setting information.","In other words, the setting changing unit  functions as a change acceptance unit and receives a change instruction from the user. If the least common multiple print setting information is already generated, the setting changing unit  functions as a changing unit and changes (updates) a content of the least common multiple print setting information. Then, the least common multiple print setting information is used as print setting information in the print processing based on rendering data generated by a rendering data processing unit . The content of the least common multiple setting information is described below in more detail.",{"@attributes":{"id":"p-0092","num":"0091"},"figref":["FIG. 5","FIG. 5"],"b":["1001","1002","112"]},"In step S, the printer driver extraction processing unit  extracts a printer driver installed on the computer. In step S, the driver function acquisition unit  acquires print settable values from the extracted printer driver using the PrintCapabilities, the DeviceCapabilities API, or the individual I\/F. In step S, it is determined whether the processing of steps S and S has been completed for all printer drivers installed on the computer. If the acquisition of the print settable values from all printer drivers extracted by the printer driver extraction processing unit  is completed for all printer drivers (YES in step S), the application program  terminates the processing of this routine.","Outline of print setting alternate function processing according to the first exemplary embodiment is described below.  illustrates operations of the print setting alternate function processing unit  and a flow of print processing.","The driver function corresponding UI generation unit  converts the settable values which are acquired from each printer driver by the driver function acquisition unit  into common function classification information . A content of the common function classification information  is described below in more detail. Then, the driver function corresponding UI generation unit  generates an alternate UI  by integrating settings of various printer drivers based on the common function classification information . The UI display unit  displays the alternate UI . The alternate UI  enables the user to determine the settings and input a print instruction.","In response to the above-described user's operation, the least common multiple print setting generation unit  generates least common multiple print setting values  based on a setting status of the alternate UI . If the user's operation is the print instruction, the least common multiple print setting generation unit  sends the least common multiple print setting values  and the print instruction to the rendering data processing unit . Then, the rendering data processing unit  sends the rendering data (print object) to the printer driver  and, as a transfer unit, transfers the least common multiple print setting values  to perform print processing using the printer driver . The least common multiple print setting values  are described below in more detail.","The driver function corresponding UI generation unit  is described in more detail.  illustrates a configuration and processing of the driver function corresponding UI generation unit . In the first exemplary embodiment, the driver function corresponding UI generation unit  includes a function classification processing unit  and a classification UI generation unit .","The function classification processing unit  converts settable values  which are acquired from each printer driver into the common function classification information . In this case, the function classification processing unit  extracts Features (functions) and Options (selection values) commonly used among the printer drivers, from the settable values  acquired from respective printer drivers, and classifies the extracted Features and Options into a common setting item or a dependent setting item of each driver.",{"@attributes":{"id":"p-0099","num":"0098"},"figref":["FIG. 8","FIG. 8","FIG. 8","FIG. 5"],"b":["1202","1202","1101","112","1101","1101","1101"]},"In step S, the function classification processing unit  acquires settable information (settable values) of all drivers to be subjected to alternate settings which are acquired by the driver function acquisition unit . In step S, the function classification processing unit  selects settable information of one driver (i.e., a target driver). In step S, the function classification processing unit  selects a function key indicating the function (e.g., Feature) from the selected settable information.","In step S, the function classification processing unit  determines whether settable information of any other driver includes a similar function key. If there is no similar function key in the other drivers (NO in step S), then in step S, the function classification processing unit  stores the function key and selectable values which are described by the Option in the dependent setting item of the target driver which are prepared beforehand.","If any similar function key is present in the other drivers (YES in step S), then in step S, the function classification processing unit  extracts selectable values corresponding to the function key from the target driver. Next, in step S, the function classification processing unit  determines whether all of the selectable values of the target driver are present in the other driver. If all of the selectable values of the target driver are present in the other driver (YES in step S), then in step S, the function classification processing unit  stores the function key and the selectable values of the target driver in the common setting item which are prepared beforehand. In step S, the function classification processing unit  deletes, from the settable information of all drivers, the function key and the selectable values which are stored in the common setting item.","If at least one of the selectable values is not present in the other driver (NO in step S), then in step S, the function classification processing unit  extracts selectable value(s) existing in a corresponding function key of the other driver. In step S, the function classification processing unit  stores the extracted selectable value and the function key in the common setting item. In step S, the function classification processing unit  deletes the selectable values stored in the common setting item from the settable information of all drivers.","In step S, the function classification processing unit  stores the non-deleted selectable value(s) and the function key in the dependent setting item of the target driver. In step S, the function classification processing unit  newly adds a selectable value of \u201cusage of common setting item\u201d and stores the newly added selectable value in the dependent setting item of the target driver.","In step S, the function classification processing unit  determines whether the processing of steps S to S has been completed for all function keys included in the selectable information of the target driver. In step S, the function classification processing unit  determines whether the processing of steps S to S has been completed for the settable value information of all drivers. If the processing of steps S to S has been completed for the settable value information of all drivers (YES in step S), the function classification processing unit  terminates the processing of this routine.","The classification UI generation unit  generates the alternate UI , in which the settings of various printer drivers are integrated, based on the common function classification information . In this case, the classification UI generation unit  generates independent UI sheets corresponding to the common setting item and the dependent setting item of the common function classification information  respectively.",{"@attributes":{"id":"p-0107","num":"0106"},"figref":"FIG. 9","b":["1203","1203","1101"]},"In step S, the classification UI generation unit  starts its operation when the print setting alternate function processing unit  receives an instruction from the user to display the alternate UI . In step S, the classification UI generation unit  acquires the common setting item. In step S, the classification UI generation unit  generates a common setting sheet based on the common setting item. In step S, the classification UI generation unit  acquires the dependent setting items. In step S, the classification UI generation unit  generates a device specified setting sheet.","The processing of steps S and S is repeated until the device specified setting sheets are generated for all dependent setting items of each printer driver (i.e., the target of the alternate UI ). In step S, if the classification UI generation unit  determines that the device specified setting sheets for all dependent setting items have been completely generated (YES in step S), then in step S, the classification UI generation unit  combines the common setting sheet and device specified setting sheets to generate an integrated user interface screen. In step S, the classification UI generation unit  displays the generated alternate print setting UI as the alternate UI . Then, the classification UI generation unit  terminates the processing of this routine.",{"@attributes":{"id":"p-0110","num":"0109"},"figref":["FIG. 10","FIG. 11","FIG. 12"],"b":["1201","1102"]},"As illustrated in , the function classification processing unit  uses the PrintCapabilities (see ) that describes settable values for the printer driver A and the printer driver B, and generates the common function classification information  based on the PrintCapabilities. The common function classification information  includes the Feature indicating the function and the Options corresponding to the Features which are classified into the common setting item or a printer specified dependent setting item, and are individually stored as XML files.","More specifically, the function classification processing unit  stores the Features in the common setting item, if the same Features are present in both the printer driver A and the printer driver B. For example, \u201cresolution\u201d, \u201cprinting method\u201d, \u201cpage size\u201d and \u201clayout\u201d are common Feature names and therefore stored in the common setting item.","Further, the function classification processing unit  stores the Options corresponding to the Features stored in the common setting item, if the same Options are present in both the printer driver A and the printer driver B. For example, in the items of the Feature name \u201cresolution\u201d, two Option names \u201c600 dpi\u201d and \u201c1200 dpi\u201d are common values and therefore stored in the common setting item. On the other hand, if the printer driver A and the printer driver B include different Options (e.g., the options in the Feature name \u201clayout\u201d), only the same Options are stored in the common setting item.","The function classification processing unit  stores the Feature in the dependent setting item generated for each printer driver if the Feature is present only in the specific printer driver. For example, Feature names \u201crotate printing orientation by 180\u00b0\u201d, \u201cperform printing in wider print area\u201d, and \u201cperform borderless printing\u201d are specified for each printer driver and are therefore stored in the dependent setting item.","As described in the \u201clayout\u201d of the <printer A specified item>, if a part of the Options is stored in the common setting item, the Features and the Options not stored in the common setting item are stored in the dependent setting item and a new Option \u201cusage of common setting item\u201d is added. When the Option \u201cusage of common setting item\u201d is selected as a setting, the Option in the common setting item is valid.","In the first exemplary embodiment, as described above, the settable values  of each printer driver are classified into the common setting item or the dependent setting item of the common function classification information.","The common setting item and the dependent setting item are independent XML files, or can be a single XML file using tags for classifying the items and a binary file since only the classification method and the order becomes different.","To generate the common setting item UI sheet, as illustrated in , the classification UI generation unit  generates the common setting sheet based on the common setting item of the common function classification information . According to the illustrated example, layout of each setting item is associated with a position of the Features according to a rule prepared beforehand. However, the Feature names and the Option names can be arbitrarily arranged. In particular, Features not applicable to the rule prepared beforehand can be arbitrarily arranged.","To generate the dependent setting item (printing apparatus specified setting item) UI sheet, as illustrated in , the classification UI generation unit  generates a printer specified value setting sheet based on the dependent setting items of the common function classification information. As illustrated in , the Option \u201cusage of common setting item\u201d which is added by the function classification processing unit  is also displayed as one of selection items.","The least common multiple print setting generation unit  is described below in more detail.  illustrates a configuration and processing of the least common multiple print setting generation unit . In the first exemplary embodiment, the least common multiple print setting generation unit  includes a print setting value finalizing unit  and a setting value information combining processing unit .","The print setting value finalizing unit  is activated when the user finalizes the settings using the alternate UI  and when the user inputs a print instruction. The print setting value finalizing unit  generates classified print setting value information . The classified print setting value information  is expressed by, for example, the common setting values and the dependent setting values. In the first exemplary embodiment, the print setting value finalizing unit  allocates the values which are set using the common setting sheet of the alternate UI  as the common setting values and allocates the values which are set using the device specified setting sheet of the alternate UI  as the dependent setting values.","A combination of the Options designated by the alternate UI  for respective Features is stored as an XML file, whose detailed content is described below with reference to . A relationship between the common function classification information  and the classified print setting value information  is similar to a relationship between the PrintCapabilities describing selection items of respective Features and the PrintTicket describing setting values of respective Features.","The setting value information combining processing unit  generates the least common multiple print setting values  as integrated functional information based on the classified print setting value information .",{"@attributes":{"id":"p-0124","num":"0123"},"figref":"FIG. 14","b":["1004","1004","1101"]},"In step S, the least common multiple print setting generation unit  starts its operation when the print setting alternate function processing unit  receives an instruction from the user to finalize the setting changes on the alternate UI  or an instruction to display a print instruction. In step S, the least common multiple print setting generation unit  generates a common setting PrintTicket based on a result of the common setting sheet.","In step S, the least common multiple print setting generation unit  generates a dependent setting PrintTicket based on a result of the dependent setting sheet. In step S, the least common multiple print setting generation unit  determines whether the dependent setting PrintTicket includes a selection value \u201cusage of common setting item.\u201d If the selection value \u201cusage of common setting item\u201d is present (YES in step S), then in step S, the least common multiple print setting generation unit  deletes the selection value and the corresponding function key indicating the function from the dependent setting PrintTicket.","In step S, the least common multiple print setting generation unit  determines whether the processing of steps S to S has been completed for all dependent setting sheets. If the generation of the dependent setting PrintTicket has been completed for all dependent setting sheets (YES in step S), then in step S, the least common multiple print setting generation unit  combines the common setting PrintTicket and all dependent setting PrintTickets to generate the least common multiple print setting values . Then, the least common multiple print setting generation unit  terminates the processing of this routine. The least common multiple print setting values  are stored in, for example, the ROM  and can be repetitively used.",{"@attributes":{"id":"p-0128","num":"0127"},"figref":["FIG. 15","FIG. 16"],"b":["1602","1103"]},"As illustrated in , the classified print setting value information  includes, for example, common setting values, dependent setting values A, and dependent setting values B. The setting values illustrated in  correspond to the common setting item, the dependent setting item A, and the dependent setting item B of the common function classification information  illustrated in , although only the Options selected using the alternate UI  are left and other Options not selected are deleted.","As illustrated in , in the first exemplary embodiment, the setting value information combining processing unit  generates the least common multiple print setting values  as a PrintTicket (). Therefore, a tag <PrintTicket> is added. The setting value information combining processing unit  stores the Features and the Options of the common setting values in the least common multiple print setting values  and also stores the Features and the Options of the printer specified values.","Regarding the item whose Option is \u201cusage of common setting item\u201d, the setting value information combining processing unit  does not store corresponding Features and Options. Then, the setting value information combining processing unit  performs the above-described processing for all of the extracted printer drivers and generates the least common multiple print setting values  as the PrintTicket.","Processing performed by the printer driver A  in response to reception of the least common multiple print setting values  and rendering data is described below with reference to .","First, the printer driver A  recognizes the least common multiple print setting values  as an ordinary PrintTicket.","Then, in the rendering data processing unit , a Feature confirmation unit  extracts the Features and the Options from the least common multiple print setting values  of the received PrintTicket. Next, a Feature valid\/invalid determination unit  of the printer driver  determines whether each extracted Feature can be processed. The Features, if determined as being processible, and the Options are sent to a rendering data analysis\/print command generation unit . The rendering data analysis\/print command generation unit  can perform rendering processing based on the received values (Features and Options) or can reflect the received values to a print command.","As illustrated in , the printer driver A  cannot \u201cperform borderless printing.\u201d Therefore, even if the least common multiple print setting values  includes the Feature \u201cperform borderless printing\u201d, the Feature valid\/invalid determination unit  of the printer driver A  determines that the Feature \u201cperform borderless printing\u201d is not processible. Accordingly, the printer driver A  can use only the common setting values and the printer A specified setting values.","On the other hand, when the printer driver B  receives the least common multiple print setting values  and the rendering data, the printer driver B  cannot \u201crotate printing orientation by 180\u00b0\u201d as illustrated in . Therefore, a Feature valid\/invalid determination unit of the printer driver B  determines that the Feature \u201crotate printing orientation by 180\u00b0\u201d is not processible. Accordingly, the printer driver B  can use only the common setting values and the printer B specified setting values.","As described above, the first exemplary embodiment can directly process the print setting information generated by the user using the alternate UI  after the least common multiple print setting values  are generated, when the least common multiple print setting values  are sent to any one of the printer drivers.","Accordingly, when a plurality of printer drivers and a plurality of printing apparatuses are usable, a user can easily identify and select an optimum printing apparatus having desired functions. As the alternate UI  is a common user interface, the user can easily perform setting operations. As the print setting information of the alternate UI  can be commonly used among the plurality of printing apparatuses, the print setting information can be effectively used not only for the target printing apparatus subjected to the print settings but also for another printing apparatus. Moreover, when a direct print of electronic data which is generated beforehand is performed, the printing apparatus using the alternate UI  for print settings enables the user to obtain intended output products.","A second exemplary embodiment of the present invention is described below. According to the first exemplary embodiment, as described above, the common setting sheet summarizes the functions (Features) whose names are commonly used for a plurality of printer drivers and the specified setting sheet describes device specified functions (Features). Therefore, if different Feature names are used for the same function, the print setting alternate function processing unit  cannot recognize that the different Feature names indicate the same function and accordingly classifies these names into individual specified setting sheets.  illustrates example functions that are similar but may be regarded as different functions in the common function classification information .","Regarding a function for stapling printed sheets together, the Feature name can be selected from \u201cstaple\u201d, \u201cstaple sort\u201d, \u201cstapling machine\u201d, and \u201cfinishing (post-processing of print processing).\u201d In particular, a name of each function is dependent on each vendor of the printing apparatus. For example, the dependent setting item A indicating the printer A specified setting item of the common function classification information  includes a Feature name \u201cstaple sort.\u201d The dependent setting item B indicating the printer B specified setting item includes a Feature name \u201cfinishing.\u201d In this case, due to difference between the Feature names, similar functions cannot be summarized into the common setting sheet and separately described in respective printing apparatus specified setting sheets. Thus, user's setting operations become complicated.","In the second exemplary embodiment, to solve the above-described problem, the driver function corresponding UI generation unit  generates, for each printer driver, a device specified setting sheet including a button that enables a user to instruct grouping of functions. For example, as illustrated in , an additional button \u201cgrouping of functions\u201d can be newly provided. When the \u201cgrouping of functions\u201d button  is operated by a user, an UI including all of the Feature names and the Option names described in the dependent setting item of the common function classification information  is displayed to enable the user to select the function(s) to be included in the common setting sheet.",{"@attributes":{"id":"p-0142","num":"0141"},"figref":"FIG. 19","b":["2502","2502","1102","2502","1102","2502","1102","2502"]},"In the example illustrated in , a Feature name \u201cstapler\u201d in the common setting portion is allocated to a grouping of \u201cstaple sort\u201d of the printing apparatus A specified portion, \u201cfinishing\u201d of the printing apparatus B specified portion, and \u201cstapling machine\u201d of the printing apparatus C specified portion. Similarly, an Option name \u201cupper left (one portion)\u201d in the common setting portion is allocated to a grouping of \u201cupper left (one portion)\u201d of the printing apparatus A specified portion, \u201cleft stapler at one portion\u201d of the printing apparatus B specified portion, and \u201cupper left (one portion)\u201d of the printing apparatus C specified portion. In , a gray-out display indicates the Feature names and the Option names which have been subjected to the function grouping processing.","According to the example illustrated in , a user intends to make a new group of \u201cupper right (one portion)\u201d of the printing apparatus A specified portion, \u201cright stapler at one portion\u201d of the printing apparatus B specified portion, and \u201cupper right (one portion)\u201d of the printing apparatus C specified portion. More specifically, the user checks boxes of the fourth item of the printing apparatus A specified portion, the third item of the printing apparatus B specified portion, and the third item of the printing apparatus C specified portion.","In this state, if the user inputs an arbitrary character string (e.g., \u201cupper right (one portion)\u201d in the third text box of the common setting portion and presses an \u201cOK\u201d button, the character string is allocated as a new Option name and added to the common setting item. Thus, the above-described Option items relating to the Feature \u201cstapler\u201d are displayed in the common setting portion every time when the alternate UI  is displayed. The function classification processing unit  and the classification UI generation unit  of the driver function corresponding UI generation unit  perform the function grouping processing for the UI .",{"@attributes":{"id":"p-0146","num":"0145"},"figref":"FIG. 20","b":"1102"},"First, similar to the first exemplary embodiment, the function classification processing unit  generates the common function classification information  (see an upper part of ). According to the illustrated example, only one Feature name \u201cresolution\u201d is present in the common setting item. On the other hand, the Feature name \u201cstaple sort\u201d is present in the dependent setting item A and the Feature name \u201cfinishing\u201d is present in the dependent setting item B. In this manner, before the function grouping processing is performed, similar functions are separately described in the specified setting sheets.","However, if the user presses the \u201cgrouping of functions\u201d button  to perform the function grouping processing, a new Feature name \u201cstapler\u201d is added to the common setting item and a new Option name \u201cupper right (one portion)\u201d is added. On the other hand, the corresponding names (\u201cfinishing\u201d and \u201cstaple sort\u201d) are deleted from the dependent setting items. Accordingly, the setting items relating to the Features \u201cfinishing\u201d and \u201cstaple sort\u201d are included in the common setting sheet when the alternate UI  is displayed next time.","The function classification processing unit  generates a function grouping Map table  to change the common function classification information  as described above.  illustrates an example of the function grouping Map table . In the function grouping Map table , the type of Feature name or Option name and dependent setting items are associated for each common setting item which is newly generated by the user using the UI .",{"@attributes":{"id":"p-0150","num":"0149"},"figref":"FIG. 22","b":["1101","1102"]},{"@attributes":{"id":"p-0151","num":"0150"},"figref":["FIG. 23","FIG. 23"],"b":["1003","2901","2902"]},"The function grouping button adding unit  adds the \u201cgrouping of functions\u201d button  in the device specified setting sheet when the classification UI generation unit  generates the alternate UI . The \u201cgrouping of functions\u201d button  has a function for automatically activating the function grouping processing unit  when the \u201cgrouping of functions\u201d button  is operated. Therefore, the function grouping processing unit  starts its operation when the user presses the \u201cgrouping of functions\u201d button .","When the function grouping processing unit  is activated, a function grouping UI generation unit  included within extracts each dependent setting item from the common function classification information  and generates the UI  for grouping of the functions based on the extracted dependent setting items.","If the user performs \u201cgrouping of functions\u201d setting using the generated UI  for grouping of the functions and presses the OK button to finalize the setting, the function grouping processing unit  activates a function grouping UI setting value acquisition unit . The function grouping UI setting value acquisition unit  acquires, from the UI , the Feature names and the Option names in the common setting item and the dependent setting item which are allocated by the user. Then, the function grouping UI setting value acquisition unit  sends the acquired information to a common function setting item updating unit  and a function grouping Map table generation unit  in the function grouping processing unit .","The function grouping Map table generation unit  generates the function grouping Map table  based on the information received from the function grouping UI setting value acquisition unit . The common function setting item updating unit  changes the common function classification information  based on the information acquired from the function grouping UI setting value acquisition unit  as illustrated in .","When the common function classification information  is updated, the function grouping processing unit  terminates its processing.","Then, processing similar to that described in the first exemplary embodiment is performed.","As described above, the second exemplary embodiment provides the UI  for grouping of functions, based on the dependent setting items of respective printing apparatuses in the common function classification information . Thus, a user can make a group of functions using the UI  when the functions are different in the Feature name but similar in the content of the function. An alternate UI  is newly generated based on a result of function grouping processing. The newly generated alternate UI  includes the Feature names and the Option names, which are functionally the same, in the common setting sheet. Therefore, the user can easily operate the alternate UI .","The print setting processing apparatus is not limited to the above-described exemplary embodiment illustrated in  and can be constituted as a single device or a system including a plurality of devices connected via a network (e.g., a local area network (LAN) or a wide area network (WAN)).","A computer can execute software program to realize the above-described exemplary embodiments of the present invention. Any means for supplying the software program to the computer, such as a compact disc-ROM (CD-ROM) storing the program or comparable computer-readable recording media or the Internet or comparable communication media capable of transmitting the program can constitute the exemplary embodiments of the present invention. The above-described program is an exemplary embodiment of the present invention. The present invention encompasses the above-described program, recording media, communication media, and related program products. According to the exemplary embodiments of the present invention, common items applicable to respective printer drivers and specified items applicable to a part of the printer drivers are separately classified. The integrated information including both the common items and the specified items is transferred to the printer drivers. Therefore, a user can perform settings of each printer driver based on the integrated information. Accordingly, the user can easily perform setting operations for each printer driver.","While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all modifications, equivalent structures, and functions.","This application claims priority from Japanese Patent Application No. 2008-070411 filed Mar. 18, 2008, which is hereby incorporated by reference herein in its entirety."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate exemplary embodiments and features of the invention and, together with the description, serve to explain at least some of the principles of the invention.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 29"}]},"DETDESC":[{},{}]}
