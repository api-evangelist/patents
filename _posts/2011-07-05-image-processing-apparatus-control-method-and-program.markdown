---
title: Image processing apparatus control method and program
abstract: A method of controlling an image processing apparatus communicating with an image server storing first images, second images wherein one of the first images and one of the second images are managed as one image data in the image server. The method includes downloading a plurality of first images from the image server and displaying the plurality of first images; selecting at least one of the first images from the displayed plurality of first images; requesting the image server for second images associated with the selected at least one first images; and downloading the requested second images from the image server. When at least one of the second images is downloaded, a determination is made as to whether the downloaded second images correspond to the selected images, and if it is determined not, a notice indicating that the selected images can not be downloaded is displayed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09411826&OS=09411826&RS=09411826
owner: Canon Kabushiki Kaisha
number: 09411826
owner_city: Tokyo
owner_country: JP
publication_date: 20110705
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE EMBODIMENTS","Other Embodiments"],"p":["1. Field of the Invention","The present invention relates to an image management system of downloading desired images from a Web site including a plurality of images based on a keyword search and storing\/printing the images.","2. Description of the Related Art","In recent years, various information is obtainable by accessing Web sites on the Internet. Users can download desired images from a Web site covering many images and display\/store\/print the desired images by software called an image management system application. When a user downloads a desired image from such a Web site and stores\/prints the desired image, generally, the user first downloads corresponding thumbnail images of actual images by keywords and displays a list of the thumbnail thereof. Next, from the list of thumbnail images, the user selects a desired thumbnail image and downloads an actual image corresponding to the thumbnail image.","However, this method involves a time lag between when the user downloads a thumbnail image and when the user downloads an actual image. Thus, the actual image may already have been deleted by the time the user downloads the actual image. If the user still tries to download the actual image, the user ends up receiving a different image (for example, an image displaying \u201cSorry\u201d) as if it were the corresponding actual image. In this case, there is a problem that the user stores\/prints the different image, so that much disk capacity may be consumed or expensive paper media may be printed.","According to one aspect of the present invention, there is provided a method of controlling an image processing apparatus communicating with an image server storing first images, second images wherein one of the first images and one of the second images are managed as one image data in the image server. The method includes downloading a plurality of first images from the image server and displaying the plurality of first images; selecting at least one of the first images from the displayed plurality of first images; requesting the image server for second images associated with the selected at least one first images; and downloading the requested second images from the image server. When at least one of the second images is downloaded, a determination is made as to whether the downloaded second images correspond to the selected images, and if it is determined that at least one of the downloaded second images does not correspond to any one of the selected first images, a notice indicating that the selected images can not be downloaded is displayed. The downloaded second image determined to correspond to the at least one of the selected first images are stored or printed and the downloaded second image that is determined not to correspond to any one of the selected first images is not stored or printed.","According to another aspect of the present invention, there is provided an image processing system for controlling an image processing apparatus communicating with an image server storing first images, second images wherein one of the first images and one of the second images are managed as one image data in the image server, including at least one processor coupled via a bus to a memory, the processor being programmed to control one or more of: a downloading unit for downloading a plurality of first images from the image server and displaying the plurality of first images; a selecting unit for selecting at least one of the first images from the displayed plurality of first images; and a requesting unit for requesting the image server for second images associated with the selected at least one first images. The downloading unit is configured to download the requested second images from the image server. When at least one of the second images is downloaded, a determination is made as to whether the downloaded second images correspond to the selected images, and if it is determined that at least one of the downloaded second images does not correspond to any one of the selected first images, a notice indicating that the selected images can not be downloaded is displayed. The downloaded second image determined to correspond to the at least one of the selected first images are stored or printed and the downloaded second image that is determined not to correspond to any one of the selected first images is not stored or printed.","Further features and aspects of the present invention will become apparent from the following detailed description of exemplary embodiments with reference to the attached drawings.","Various exemplary embodiments, features, and aspects of the invention will be described in detail below with reference to the drawings. However, the scope of the present invention is not limited to dimensions, materials, and shapes of components described in the exemplary embodiments or to the relative arrangement of the components, unless otherwise specified.","A first exemplary embodiment of the present invention will be hereinafter described.  is a block diagram illustrating a configuration of an image management system including a download image storage\/printing apparatus of the present invention. In , a personal computer (PC)  is an image processing apparatus connected to the Internet . To display desired images, the PC  downloads the desired images from an image server  via the Internet , a relay server , and a redirect server  in an image management site . The image server  may include a redirect function as the redirect server . The PC  can store images downloaded from the image site  in a hard disk  in the PC . Further, the PC  can locally be connected to a printer  and can cause the printer  to print the images. Image site  is example of an image server. The image site  can be implemented by plural computers as shown . The image server may be implemented by one computer.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2","b":["101","201","202","203","204","202","201","204"]},"For example, a communication interface  is an interface such as a universal serial bus (USB), a small computer system interface (SCSI), or a wireless device that executes data communication with the printer . The communication interface  also serves as a network interface that executes data communication with the external image site  via the Internet . A display device  includes a cathode-ray tube or a liquid crystal display and a graphics controller to display a graphical user interface (GUI).","A mouse  and a keyboard  are input devices through which users give various instructions to the PC . A system bus  transfers data between the CPU  and the RAM , the ROM , the hard disk , or the like.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIGS. 3 and 4","FIGS. 3 and 4","FIG. 3"],"b":["101","101","302","301","301","104","302"]},"To search for a desired image, the user inputs an image Web site name and a keyword to unit  in the image search module . The image Web site  holds each of the actual images and data such as a thumbnail image and image attributes associated with the actual images. The image Web site  also gives keywords to the pair of the actual image and the data. The image search module  notifies the input image Web site  of the keyword, and a thumbnail image acquisition unit  acquires corresponding thumbnail images as first images. A thumbnail image display unit  displays a list of the acquired thumbnail images. An actual image selection unit  enables the user to select a desired image from the list of thumbnail images. An actual image acquisition unit  sends a request to the image Web site  to acquire an actual image as a second image associated with the selected thumbnail image.","Referring to , when the actual image acquisition unit  accesses the image Web site , the redirect server  of the image Web site  receives the access and sends a uniform resource locator (URL) of the actual image. An actual image URL acquisition unit  receives the URL. An actual image acquisition unit (main unit)  accesses the received actual image URL again, to acquire the actual image (second image). A thumbnail image to actual image comparison unit  compares the acquired actual image (second image) file with the previously acquired thumbnail (first image) information. If the images do not match, the thumbnail image to actual image comparison unit  determines that the acquired actual image (second image) is not the desired actual image. In this case, a message display unit  displays an acquisition failure message. If the images match, an actual image determination unit  determines that the acquired actual image is the desired actual image. An actual image storage unit  can store the acquired image data in a storage unit . In addition, an actual image printing unit  can cause the printer  to print the acquired image data.","When the image search module  receives print start instructions from the user, the actual image printing unit  causes a printer driver  to execute a rendering process on the image acquired from the actual image acquisition unit  via an OS . The OS  provides an application programming interface (API) so that the image search module  can exchange print setting data with the printer driver . In addition, the OS  provides an API to execute the rendering process. In addition, the OS  includes various types of control software, such as a spooler system that manages print jobs and a port monitor that outputs printer commands to ports. However, detailed descriptions of such software will be omitted herein. Based on the rendering process executed by the actual image printing unit , the printer driver  generates print data. After conversion to printer commands, the printer driver  sends the printer commands to the printer  via the OS . The printer  records the actual image on a recording paper.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIGS. 5 to 8","FIG. 5","FIG. 6","FIG. 7"],"b":["101","301","502","302","502","601","602","603","104","701"]},"By a drag-and-drop operation, the user selects (operation illustrated by  and ) desired images from the list of thumbnail images. The selected images are displayed in a selection area. When the user has selected all the desired images, the user presses a selection image storage button  or a selection image print button. The image search module  downloads actual images associated with the selected thumbnail images from the image Web site  and causes the storage unit  to store the images therein or causes the printer  to print the images. In this process, if the selected thumbnail images and the downloaded actual images do not match, the unmatched actual images are not stored (or printed). Instead, as illustrated in , a message stating that not all of the actual images are available (an acquisition failure message ) is displayed.","The operation will be hereinafter described with reference to the flow chart in , the state transition diagram in , and the data flow diagram in . First, in step S, to acquire images from the image site , the user presses the button  on the output application . With the press of this button , the image search module  is activated, and the image search screen  is displayed. In step S, the user inputs the name of the image Web site  and a search keyword on the image search screen . By pressing the search button , the PC  sends the input information to the relay server , as illustrated in flow . The relay server  accesses the image Web site  based on the sent information, as illustrated in flow . In step S, the relay server  acquires information concerning the searched images (URLs of thumbnail and actual images, for example) from the image site , as illustrated in flow . The relay server  provides the image search module  (client PC ) with only the images of joint photographic experts group (JPEG) format, which is an image type indicated by the image attribute.","Next, in step S, the image search module  directly accesses the image Web site  based on the acquired URLs of the thumbnail images. The redirect server  in the image Web site  first receives the access and once returns the URLs where the thumbnail images actually exist as illustrated in flow . In step S, by accessing the returned URLs again, as illustrated in flow , the PC  can acquire the thumbnail images. In step S, by repeating this process, a list of thumbnail images is displayed. In step S, the user selects desired images from the displayed list of thumbnail images.","Next, in step S, by pressing the selection image storage (or print) button, the user acquires the actual images corresponding to the selected thumbnail images. As in the case of the acquisition of the thumbnail images, when acquiring the actual images, the image Web site  first causes the redirect server  to return the URLs where the actual images actually exist. In step S, by accessing the returned URLs again, the image search module  can acquire the actual images. Next, in step S, the image search module  determines whether each of the received actual images is a JPEG image. If not (\u2260JPEG in step S), the image search module  determines that not all of the received actual images are the desired images. Thus, in step S, instead of storing (or printing) the received actual images, the message display unit  displays the acquisition failure message . On the other hand, if the received actual images are JPEG images (=JPEG in step S), the image search module  determines that the received actual images are the desired images. Thus, in step S, the actual image storage unit  stores the received actual images or the actual image printing unit  prints the received actual images.","A second exemplary embodiment according to the present invention will be hereinafter described. Another method that does not download undesired actual images will be described with reference to the flow chart in . Since steps  to  of the flow chart in  are identical to steps  to  of the flow chart in  according to the first exemplary embodiment, repetitive descriptions thereof will be omitted.","In step S, by pressing the selection image storage (or print) button, the user acquires the URLs of the actual images. As in the case of the acquisition of the thumbnail images, when acquiring the actual images, the redirect server  in the image Web site  first receives the access and once returns the URLs where the actual images actually exist. In step S, by analyzing the returned URLs, the image search module  determines whether each of the sent actual image URLs indicates a JPEG image. If so (=JPEG in step S), in step S, the image search module  accesses the returned URLs again to acquire the actual images. In step S, the actual image storage unit  stores the received actual images or the actual image printing unit  prints the received actual images. On the other hand, if any one of the received actual image URLs does not indicate a JPEG image (\u2260JPEG in step S), the image search module  determines that not all of the received actual images are the desired images. Thus, in step S, the message display unit  displays the acquisition failure message , and the image search module  does not access the image server .","A third exemplary embodiment according to the present invention will be hereinafter described. Another method that does not download undesired actual images will be hereinafter described with reference to the flowchart of . In the third exemplary embodiment, the same steps as steps  to  of the flow chart in  according to the first exemplary embodiment are used. Thus, the subsequent determination processes will be hereinafter described.","In step S, by pressing the selection image storage\/print button, the user acquires the desired thumbnail images, again. In step S, the image search module  compares the thumbnail images displayed in the list with the thumbnail images acquired again. If the thumbnail images match (YES in step S), in step S, the image search module  acquires the actual images. Next, in step S, the image search module  stores (or prints) the images. On the other hand, if the thumbnail images do not match (NO in step S), the image search module  determines that not all of the thumbnail images are the desired images. Next, in step S, instead of downloading the actual images, the message display unit  displays the acquisition failure message  (i.e., \u201cnot all of the actual images have been acquired\u201d).","A fourth exemplary embodiment according to the present invention will be described. Another method that does not download undesired actual images will be hereinafter described with reference to the flowchart in . In the fourth exemplary embodiment, the same steps as steps  to  of the flow chart in  according to the first exemplary embodiment are used. Thus, the subsequent determination processes will be hereinafter described.","In step S, by pressing the selected image storage (or print) button, the user acquires the actual images. In step S, the image search module  generates thumbnail images from the acquired actual images. Next, in step S, the image search module  compares the thumbnail images displayed in the list with the thumbnail images generated from the actual images. If the thumbnail images match (YES in step S), in step S, the image search module  stores\/prints the acquired actual images. On the other hand, if the thumbnail images do not match (NO in step S), in step S, the image search module  determines that not all of the acquired actual images are the desired images. As a result, instead of storing (or printing) the acquired actual images, the message display unit  displays the acquisition failure message  (i.e., \u201cnot all of the actual images have been acquired\u201d).","Another example of displaying a notice of acquisition failure will be hereinafter described with reference to a example of GUI screen in . In , the acquisition failure message  is displayed overall on a separate screen. In this way, the user can recognize that images n which can not acquired are included in a plurality of desired images. Furthermore, as illustrated in , since acquisition failure messages  and  are displayed on the respective desired thumbnail images, the user can recognize which images cannot be acquired. Other than by attachment of messages, the message display unit  may display acquisition failure only by attachment of symbols or marks. In such a way, the user can recognize acquisition failure more clearly.","As described above, according to the present exemplary embodiment, since users acquire only the desired images, the users do not need to store unnecessary images. Thus, the disk capacity for the unnecessary images can be reduced. In addition, since users can determine actual images that do not need to be printed, unnecessary consumption of ink or expensive media can be avoided. In addition, since display of messages allows users to recognize that images which can not acquired are included in desired images, by reaffirming the message the users can execute appropriate operations, without the misconception that all of the desired images have been acquired.","Aspects of the present invention can also be realized by a computer of a system or apparatus (or devices such as a CPU or MPU) that reads out and executes a program recorded on a memory device to perform the functions of the above-described embodiments, and by a method, the steps of which are performed by a computer of a system or apparatus by, for example, reading out and executing a program recorded on a memory device to perform the functions of the above-described embodiments. For this purpose, the program is provided to the computer for example via a network or from a recording medium of various types serving as the memory device (e.g., computer-readable medium). In such a case, the system or apparatus, and the recording medium where the program is stored, are included as being within the scope of the present invention.","While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all modifications, equivalent structures, and functions.","This application claims priority from Japanese Patent Application No. 2010-161941 filed Jul. 16, 2010, which is hereby incorporated by reference herein in its entirety."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate exemplary embodiments, features, and aspects of the invention and, together with the description, serve to explain the principles of the invention.",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 11A and 11B"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
