---
title: Classifying network sites using search queries
abstract: Disclosed are various embodiments for classifying network sites into site categories. A network site is classified into at least one of a plurality of categories based at least in part on similarity. Query popularity, query competitiveness, and/or query importance may be used in determining similarity. The similarity is measured between a first plurality of search queries and a second plurality of search queries. The first plurality of search queries is one that produced first search results that include the network site. The second plurality of search queries is one that produced second search results that include other network sites. Each of the other network sites has a respective category. The query-similarity based scoring may be combined with more scoring based on crawling and processing network page or network site contents.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08762365&OS=08762365&RS=08762365
owner: Amazon Technologies, Inc.
number: 08762365
owner_city: Reno
owner_country: US
publication_date: 20110805
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","DETAILED DESCRIPTION"],"p":["Online users are often interested in finding network sites that fit particular categories, for example, Retail, News, Blogs, Finance, Commercial, etc. Conventional computerized methods of classifying network sites into particular categories often involve visiting individual network pages within the network site, and parsing content on these network pages.","The present disclosure relates to computer-implemented classification of network sites into site categories and, more specifically, to classification using previously executed search engine queries. Particular attributes of search queries are used to determine similarity among sets of search queries. When a set of search queries that produces results in an unclassified network site is determined to be similar to another set of search queries that produces results in a particular classified network site, the unclassified network site is assigned into the category of the similar classified network site.","For example, suppose that network site \u201cabc.com\u201d is already classified into the category \u201cNews,\u201d and that network site \u201cxyz.com\u201d is not yet classified. Using the techniques described herein, when one set of 100 search queries that produced results containing \u201cxyz.com\u201d is determined to be similar to another set of 500 search queries that produced results containing \u201cabc.com,\u201d then \u201cxyz.com\u201d may be classified as a \u201cNews\u201d network site.","The search query attributes used to determine similarity may include direct attributes of a search query, or may include attributes that are derived from other attributes. Examples of attributes used to determine similarity include query importance, query popularity, and query competitiveness. These particular query attributes will be described in further detail below. However, other suitable attributes may be used to measure similarity. In some embodiments, a single query attribute is used to determine similarity between sets of queries. In other embodiments, determining similarity takes into account multiple attributes, and may involve weighting some attributes more than others. In the following discussion, a general description of the system and its components is provided, followed by a discussion of the operation of the same.","With reference to , shown is a networked environment  according to various embodiments. The networked environment  includes one or more computing devices  in data communication with one or more client devices  by way of a network . The network  includes, for example, the Internet, intranets, extranets, wide area networks (WANs), local area networks (LANs), wired networks, wireless networks, or other suitable networks, etc., or any combination of two or more such networks.","The computing device  may comprise, for example, a server computer or any other system providing computing capability. Alternatively, a plurality of computing devices  may be employed that are arranged, for example, in one or more server banks or computer banks or other arrangements. A plurality of computing devices  together may comprise, for example, a cloud computing resource, a grid computing resource, and\/or any other distributed computing arrangement. Such computing devices  may be located in a single installation or may be distributed among many different geographical locations. For purposes of convenience, the computing device  is referred to herein in the singular. Even though the computing device  is referred to in the singular, it is understood that a plurality of computing devices  may be employed in the various arrangements as described above.","Various applications and\/or other functionality may be executed in the computing device  according to various embodiments. Also, various data is stored in a data store  that is accessible to the computing device . The data store  may be representative of a plurality of data stores as can be appreciated. The data stored in the data store , for example, is associated with the operation of the various applications and\/or functional entities described below.","The components executed on the computing device , for example, include a network site classification application  and a search engine application . The components executed on the computing device  may also include other applications, services, processes, systems, engines, or functionality not discussed in detail herein. The data stored in the data store  includes data accessed by the network site classification application , such as, for example, site categories , a search query log , and search query attributes  as well as potentially other data. Entries in the search query log  describe search queries  and corresponding search results . The search query log  may also include information which indicates whether the user merely viewed search results listing various network pages, or also clicked on a particular search result  to access the network page provided in the search result . In some embodiments, the search results  may separately store impression results  and click results . Storing impression results  as well as click results  allows the network site classification application  to take into account metrics related to user interest. The search query log  may also include information about sponsored links or advertisements included with the search results, such as the identity of the advertiser, the price bid by the advertiser, and the price paid by the advertiser. Although in this disclosure the sponsored link or advertisement information is described as part of the search query log , in some embodiments the sponsored link or advertisement information is stored in a separate advertisement log (not shown). In some embodiments, the search queries and advertisements are logged separately but can be joined into a single view.","The search engine application  is executed to search a network  to find network pages which match a search query . Execution of a search query  produces a set of network pages matching the query, referred to as search results . Information about the query and its results are logged by the search engine application  in the search query log  within the data store . The search engine application  may be a general-purpose search engine that operates to search the Internet as a whole, or may be a site-specific search engine that is limited to searching one or more network sites.","The network site classification application  is executed to place a network site into an appropriate site category . In some embodiments, a network site includes any group of related network pages, such as web pages that are arranged in a hierarchy. A network site may thus refer to a web site for a top level domain (e.g. yahoo.com), and may also refer to a web site that is not a top level domain (e.g., finance.yahoo.com). The site category  is selected from a set of site categories  that are associated with network sites that have already been classified. For example, if three network sites www.abc.com, www.def.com, and www.xyz.com have been already been classified into News, Dictionary, and Retail (respectively), then the network site classification application  operates to classify a network site (e.g., www.foo.com) into News, Dictionary, and\/or Retail. The techniques described herein apply to any type of site categories . Non-limiting examples of category types include topical categories and product categories. Also, site categories  may have a hierarchical structure or a flat structure.","The network site classification application  uses past search queries, stored in the search query log , to choose the appropriate site category  or site categories . Specifically, the network site classification application  determines similarity between search queries  that list the unclassified network site in the search results  and search queries  that list classified network sites in the search results . When a search query  producing a classified network site is determined to be similar to a search query  producing the unclassified network site, the network site classification application  sets the site category  of the unclassified network site to the site category  of the similar classified network site.","In various embodiments, the network site classification application  and the search engine application  may utilize any type of middleware framework to communicate with a client application executing on a client device  or with other applications executing on the computing device . Examples of such frameworks include remote procedure calls, simple object access protocol (SOAP), representational state transfer (REST), Windows Communication Foundation, and other frameworks.","The client device  is representative of a plurality of client devices that may be coupled to the network . The client device  may comprise, for example, a processor-based system such as a computer system. Such a computer system may be embodied in the form of a desktop computer, a laptop computer, a personal digital assistant, a cellular telephone, a set-top box, a music player, a video player, a media player, a web pad, a tablet computer system, a game console, or other devices with like capability.","The client device  may be configured to execute various applications such as a browser  and other applications. The browser  may be executed in a client device , for example, to access and render network pages, such as web pages, or other network content served up by a web server, a page server, or other servers. The client device  may be configured to execute applications beyond browser  such as, for example, email applications, instant message applications, and\/or other applications.","Next, a general description of the operation of the network site classification application  is provided, along with a description of various data used by the network site classification application . To begin, users interact with the search engine application  to execute search queries . The search queries  may include, for example, keywords or terms, term connectors, and\/or criteria to limit the search by date, language, data type, network domain, etc. Each of the search queries  produces a set of corresponding search results , where a set of search results  includes at least a set of network pages. Each network page resides in a particular domain or network site, specified in the Uniform Resource Locator (URL) of the network page. For example, the network page with the URL www.foo.com\/list.htm resides on the network site www.foo.com, as does the network page with the URL www.foo.com\/myspace\/dir.htm.","Information about the search queries  and the corresponding search results  are stored in the search query log . The entries in the search query log  may be organized into search query attributes . A list of non-limiting examples of search query attributes  includes date\/time of the query, number of network pages in the search results, number of different network sites in the search results, terms in the query, frequency of the query, rate at which the user visits a network page in the search results (known as \u201cclick through\u201d), number of advertisements placed on the search results network page; etc.","Site categories  are assigned to some of the network sites produced by the search queries . This assignment may be manual, automatic, or a combination of both. After some but not all of the network sites have been classified, the network site classification application  uses search queries  to classify at least some of the remaining network sites into one or more of the site categories . Specifically, the network site classification application  uses a similarity measure of search queries  for the classification, so that an unclassified network site that is determined to have similar queries as compared to a classified network site is assigned the category of the similar classified network site.","For example, when the search queries  in the search query log  which produce results residing in the network site www.xyz.com are determined to be similar to search queries  which produce results in the network site www.abc.com, then the network site classification application  may assign the site category  for www.abc.com (e.g., News) to www.xyz.com. In this manner, the network site classification application  uses similarity of search queries  to determine the appropriate site category  for an unclassified network site.","Various techniques or algorithms can be used to compute similarity across sets of search queries . Non-limiting examples of such techniques include the vector space model, support vector machines, and random forest classifiers. In embodiments which use machine learning algorithms, the attributes of the search queries  can be used as features of the machine learning algorithm.","The techniques used by the network site classification application  do not require accessing the individual network sites (sometimes referred to as \u201cweb crawling\u201d), but instead use search queries which produce the network sites as search results. However, comparison of search query attributes as described herein can be used in addition to information obtained from traversing individual network sites, such as terms appearing on the network pages of a network site. In addition, the query-similarity based scoring described herein may be combined with scoring based on crawling and processing network page or network site contents.","Turning now to , shown is a flowchart that provides one example of the operation of a portion of the network site classification application  according to various embodiments. It is understood that the flowchart of  provides merely an example of the many different types of functional arrangements that may be employed to implement the operation of the portion of the network site classification application  as described herein. As an alternative, the flowchart of  may be viewed as depicting an example of steps of a method implemented in the computing device  () according to one or more embodiments.","Beginning at box , the network site classification application  obtains, from the search query log  (), one set of search queries  () which include a particular unclassified network site in the corresponding search results  (). At box , the network site classification application  also obtains, from the search query log , multiple groups of search queries , where each group includes a classified network site in the corresponding search results .","Thus, the search queries  are grouped by a network site: one group of search queries  produced results containing the unclassified network site (e.g., www.abc.com); another group of search queries  produced results containing a first one of the classified network sites (e.g., www.def.com); yet another group of search queries  produced results containing a second one of the classified network sites (e.g., www.xyz.com); etc. As described above, each of the classified network sites has already been classified into a site category  (). The network site classification application  then proceeds to use the search queries  to place the unclassified network site into the site category  of one of the classified network sites, as follows.","At box , the network site classification application  examines the search queries  retrieved at box  to obtain a search query attribute  () for each of the search queries . The search query attribute  may measure, for example, importance of the search query , popularity of the search query , competitiveness of the query, or any other suitable attribute. Query importance involves query volume and indicates how effective the search query  is in generating traffic to a particular site. This behavior is sometimes referred to as \u201cclick through,\u201d as the user clicks through a particular search result on a search results page to arrive at a different network site. A search query  with high importance is one that generates high traffic to the site compared to other search queries . For example, the query \u201cpresident\u201d may be considered important to the network site \u201cwhitehouse.gov\u201d if the query results in a lot of visits to \u201cwhitehouse.gov.\u201d Query popularity involves query frequency and indicates how many times a particular search query  is generated by a user or users, so that a search query  with high popularity is one that is submitted by many users (or by the same user many times) relative to other search queries . For example, the search query \u201cGeorge Washington president\u201d may be considered more popular than the query \u201cMillard Fillmore president.\u201d Where query importance is specific to a particular network site, query popularity is agnostic to, or independent of, a particular network site. The measure of popularity may be an absolute number of queries or an absolute frequency for the query, but can also be a popularity ranking relative to other queries. The query popularity may be computed, for example, as query frequency divided by the entire query volume. Query competitiveness indicates how valuable the search query  is to advertisers. Query competitiveness may be measured, for example, by the number of advertisements associated with the search results  produced by a search query , the number of advertisers associated with the search results  produced by a search query , the average price paid by advertisers for advertisements associated with the search results , or another measure of advertiser value. Query competitiveness thus involves a market for search terms where neither query popularity nor query importance necessarily involves such a market.","In some embodiments, the search query attribute  may be a numeric value produced by mapping the search query  to a numeric value. The search query attribute  may be obtained directly from the search query , or may be obtained indirectly through derivation from other attributes in the search query . Next, at box  the network site classification application  combines all the attributes from a group of search queries  into a vector (e.g., a first vector combining attributes of the search queries  for an unclassified site www.abc.com; a second vector combining attributes of the search queries  for a classified site www.def.com., etc.).","At box , the network site classification application  compares the similarity of the unclassified site vector to similarities of the classified site vectors. In some embodiments, the comparison involves first computing a similarity score for pairs of vectors. In such embodiments, each query in the vector may include one numeric entry, and each query is mapped to a numeric value using some function of a search query attribute . In some embodiments, each part of the search query attribute  is mapped to a numeric value and the product of those parts is computed. For example, query popularity could be computed as the log transformed query volume multiplied by a weight. Techniques used for computing document similarities (e.g., term frequency\u2014inverse document frequency) may be applied here, as should be appreciated, by first mapping the search queries  to a document corpus. For example, the queries against each already classified or to-be-classified domain could comprise a \u201cdocument\u201d representing the domain and the term frequency\u2014inverse document frequency scores could then be computed using this corpus.","In some embodiments, the computation of a similarity score involves vector space calculations. In some embodiments, the similarity computation involves computing the similarity of an unknown site vector to centroid of each category cluster. The centroid vector of a particular category may be generated, for example, by averaging the vectors of sites that fall into that category.","Having compared the vectors, at box  the network site classification application  also selects one or more of the classified network sites based on the similarity comparison. In some embodiments, the network site classification application  selects the classified site with the highest similarity. In other embodiments, the network site classification application  selects a classified site having a similarity that exceeds a predefined threshold. In some embodiments, multiple classified sites are chosen, for example, the classified sites with the highest N similarity scores, or all classified sites with a similarity score exceeding a predefined threshold. In some embodiments, the similarity score can be retained as an indicator of the confidence with which a network site can be asserted to be a member of a site category . In some embodiments, the network site classification application  aggregates search queries  at the network site level. For example, xyz.com\/index1.html may be aggregated with xyz.com\/index2.html.","Next, at box , the network site classification application  classifies the unclassified site by assigning the site category  of the classified site(s) selected in box  to the unclassified site. If multiple classified sites are chosen in box , then the network site classification application  may assign the unclassified network site to multiple site categories . The process of  is then complete.","Moving on to , shown is a schematic block diagram of the computing device  according to an embodiment of the present disclosure. The computing device  includes at least one processor circuit, for example, having a processor  and a memory , both of which are coupled to a local interface . To this end, the computing device  may comprise, for example, at least one server computer or like device. The local interface  may comprise, for example, a data bus with an accompanying address\/control bus or other bus structure as can be appreciated.","Stored in the memory  are both data and several components that are executable by the processor . In particular, stored in the memory  and executable by the processor  are the network site classification application , the search engine application , and potentially other applications. Also stored in the memory  may be a data store  and other data. In addition, an operating system may be stored in the memory  and executable by the processor . While not illustrated, the client device  () also includes components like those shown in , whereby the browser  is stored in a memory and executable by a processor.","It is understood that there may be other applications that are stored in the memory  and are executable by the processors  as can be appreciated. Where any component discussed herein is implemented in the form of software, any one of a number of programming languages may be employed such as, for example, C, C++, C#, Objective C, Java, JavaScript, Perl, PHP, Visual Basic, Python, Ruby, Delphi, Flash, or other programming languages.","A number of software components are stored in the memory  and are executable by the processor . In this respect, the term \u201cexecutable\u201d means a program file that is in a form that can ultimately be run by the processor . Examples of executable programs may be, for example, a compiled program that can be translated into machine code in a format that can be loaded into a random access portion of the memory  and run by the processor , source code that may be expressed in proper format such as object code that is capable of being loaded into a random access portion of the memory  and executed by the processor , or source code that may be interpreted by another executable program to generate instructions in a random access portion of the memory  to be executed by the processor , etc. An executable program may be stored in any portion or component of the memory  including, for example, random access memory (RAM), read-only memory (ROM), hard drive, solid-state drive, USB flash drive, memory card, optical disc such as compact disc (CD) or digital versatile disc (DVD), floppy disk, magnetic tape, or other memory components.","The memory  is defined herein as including both volatile and nonvolatile memory and data storage components. Volatile components are those that do not retain data values upon loss of power. Nonvolatile components are those that retain data upon a loss of power. Thus, the memory  may comprise, for example, random access memory (RAM), read-only memory (ROM), hard disk drives, solid-state drives, USB flash drives, memory cards accessed via a memory card reader, floppy disks accessed via an associated floppy disk drive, optical discs accessed via an optical disc drive, magnetic tapes accessed via an appropriate tape drive, and\/or other memory components, or a combination of any two or more of these memory components. In addition, the RAM may comprise, for example, static random access memory (SRAM), dynamic random access memory (DRAM), or magnetic random access memory (MRAM) and other such devices. The ROM may comprise, for example, a programmable read-only memory (PROM), an erasable programmable read-only memory (EPROM), an electrically erasable programmable read-only memory (EEPROM), or other like memory device.","Also, the processor  may represent multiple processors and the memory  may represent multiple memories that operate in parallel processing circuits, respectively. In such a case, the local interface  may be an appropriate network  () that facilitates communication between any two of the multiple processors , between any processor  and any of the memories , or between any two of the memories , etc. The local interface  may comprise additional systems designed to coordinate this communication, including, for example, performing load balancing. The processor  may be of electrical or of some other available construction.","Although the network site classification application  and other various systems described herein may be embodied in software or code executed by general purpose hardware as discussed above, as an alternative the same may also be embodied in dedicated hardware or a combination of software\/general purpose hardware and dedicated hardware. If embodied in dedicated hardware, each can be implemented as a circuit or state machine that employs any one of or a combination of a number of technologies. These technologies may include, but are not limited to, discrete logic circuits having logic gates for implementing various logic functions upon an application of one or more data signals, application specific integrated circuits having appropriate logic gates, or other components, etc. Such technologies are generally well known by those skilled in the art and, consequently, are not described in detail herein.","The flowchart of  shows the functionality and operation of an implementation of portions of the network site classification application . If embodied in software, each block may represent a module, segment, or portion of code that comprises program instructions to implement the specified logical function(s). The program instructions may be embodied in the form of source code that comprises human-readable statements written in a programming language or machine code that comprises numerical instructions recognizable by a suitable execution system such as a processor  in a computer system or other system. The machine code may be converted from the source code, etc. If embodied in hardware, each block may represent a circuit or a number of interconnected circuits to implement the specified logical function(s).","Although the flowchart of  shows a specific order of execution, it is understood that the order of execution may differ from that which is depicted. For example, the order of execution of two or more blocks may be scrambled relative to the order shown. Also, two or more blocks shown in succession in  may be executed concurrently or with partial concurrence. Further, in some embodiments, one or more of the blocks shown in  may be skipped or omitted. In addition, any number of counters, state variables, warning semaphores, or messages might be added to the logical flow described herein, for purposes of enhanced utility, accounting, performance measurement, or providing troubleshooting aids, etc. It is understood that all such variations are within the scope of the present disclosure.","Also, any logic or application described herein, including the network site classification application , that comprises software or code can be embodied in any non-transitory computer-readable medium for use by or in connection with an instruction execution system such as, for example, a processor  in a computer system or other system. In this sense, the logic may comprise, for example, statements including instructions and declarations that can be fetched from the computer-readable medium and executed by the instruction execution system. In the context of the present disclosure, a \u201ccomputer-readable medium\u201d can be any medium that can contain, store, or maintain the logic or application described herein for use by or in connection with the instruction execution system. The computer-readable medium can comprise any one of many physical media such as, for example, magnetic, optical, or semiconductor media. More specific examples of a suitable computer-readable medium would include, but are not limited to, magnetic tapes, magnetic floppy diskettes, magnetic hard drives, memory cards, solid-state drives, USB flash drives, or optical discs. Also, the computer-readable medium may be a random access memory (RAM) including, for example, static random access memory (SRAM) and dynamic random access memory (DRAM), or magnetic random access memory (MRAM). In addition, the computer-readable medium may be a read-only memory (ROM), a programmable read-only memory (PROM), an erasable programmable read-only memory (EPROM), an electrically erasable programmable read-only memory (EEPROM), or other type of memory device.","It should be emphasized that the above-described embodiments of the present disclosure are merely possible examples of implementations set forth for a clear understanding of the principles of the disclosure. Many variations and modifications may be made to the above-described embodiment(s) without departing substantially from the spirit and principles of the disclosure. All such modifications and variations are intended to be included herein within the scope of this disclosure and protected by the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Many aspects of the present disclosure can be better understood with reference to the following drawings. The components in the drawings are not necessarily to scale, emphasis instead being placed upon clearly illustrating the principles of the disclosure. Moreover, in the drawings, like reference numerals designate corresponding parts throughout the several views.",{"@attributes":{"id":"p-0004","num":"0003"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0005","num":"0004"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0006","num":"0005"},"figref":["FIG. 3","FIG. 1"]}]},"DETDESC":[{},{}]}
