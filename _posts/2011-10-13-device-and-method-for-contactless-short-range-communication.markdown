---
title: Device and method for contactless short range communication
abstract: The subject innovation relates to a device for contactless short range communication. An exemplary device comprises a contactless communication module enabled for contactless short range communication with an external target. A processor of the device is configured to execute at least one contactless application. The exemplary device includes a smart card external to the processor and connected to the contactless communication module. The smart card provides an interface used by the contactless application to access functions of the contactless communication module via the smart card.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08831518&OS=08831518&RS=08831518
owner: Vodafone Holding GmbH
number: 08831518
owner_city: Dusseldorf
owner_country: DE
publication_date: 20111013
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF SPECIFIC EMBODIMENTS"],"p":["This application claims priority to European (EP) Patent Application No. 10 188 081.3-2413, filed on Oct. 19, 2010, the contents of which are incorporated by reference as if set forth in their entirety herein.","Portable contactless devices, such as, for example, mobile communication devices, such as cellular phones, PDAs (PDA: Personal Data Assistant), or dedicated devices can dispose of a communication interface for wireless short range communication with a target. Such an interface can be used for executing transactions between the mobile device and the target. The transactions may be financial transactions allowing making an electronic payment using the mobile device. Another example is an electronic ticketing transaction, in which an electronic ticket is provided by the mobile device and validated by the target.","The contactless communication interface usually comprises a controller that controls the antenna on the lower levels, particularly on the physical level and possibly on the level of the contactless data exchange protocols. On an application level the execution of transactions is controlled by contactless applications. In case of transactions, such as financial transactions, which involve sensitive data, the contactless applications are executed in a secure element connected to the contactless communication interface. The secure element provides a security architecture preventing unauthorized third parties from accessing the sensitive data.","It has already been proposed to integrate the secure element into a smartcard included in the contactless device, which includes a processor for executing applications, and which is coupled to the contactless interface. In case of a mobile communication device, the smart card may be a user identification card, which may be a SIM (Subscriber Identity Module) card according to the GSM (Global System for Mobile Communications) standard or a UICC (Universal Integrated Circuit Card) comprising a USIM (Universal Subscriber Identity Module) application according to the UMTS (Universal Mobile Telecommunications System), for example. Such smart card provides secure identification and\/or authentication services towards a mobile communication network, in which the mobile communication device is used. By utilizing the user identification card for executing contactless transactions, the existing security architecture of the user identification card can be used.","However, the resources of a smart card to store and\/or execute applications are usually relatively restricted and there may be contactless applications which require a lower degree of security than the smart card provides. Therefore, it may be advantageous to be able to execute at least selected contactless applications not in the smart card but in another processor of a contactless device in order to conserve resources of the smart card. A further reason for executing a contactless application in another processor of the contactless device may be that such applications may be easier to develop than applications for execution in a smart card, particularly since higher level programming languages may be used.","Contactless applications executed in a further processor outside of the smart card coupled to the contactless interface may use an interface within the device to access the contactless interface. One example of such interface is the Contactless Communication API (Application Programming Interface) described in the document JSR (Java Specification Request) 257.","A first drawback of such interface may be that accesses to the contactless interface via the interface may conflict with accesses by contactless applications executed in the smart card, so that an appropriate conflict management has to be provided. Conflict management may for example involve the user manually selecting whether contactless applications in the smart card or in the processor external to the smart card are allowed access to the contactless communication interface.","Furthermore, the security level of contactless applications executed in the smart card may be reduced, when the smart card loses exclusive access to the communication interface. For instance, a malicious application executed outside the smart card could be presented to the user with a similar look and feel as a secure application executed in the smart card and the user could not be aware of different security levels. The application could, for example, launch a phishing attack and ask the user to input sensitive data, such as, for example, banking details or passwords. Also, a malicious application executed outside the smart card may preempt the communication interface and prevent that contactless applications executed on the smart card gain access to the communication interface.","The subject innovation relates to contactless short range communication. More specific ally, the subject innovation is related to a device and a method for short range communication. Furthermore, the subject innovation relates to a smart card for use in the device.","An embodiment of the subject innovation allows contactless applications to be executed in a processor outside a smart card coupled to a contactless interface of a contactless device in a more secure way.","According to a first aspect of the subject innovation, a device for contactless short range communication is suggested. The device comprises a contactless communication module enabled for contactless short range communication with an external target and a smart card being connected to the contactless communication module and the device further comprises a processor outside the smart card, the processor being adapted to execute at least one contactless application. The smart card provides an interface used by the contactless application to access functions of the contactless communication module via the smart card.","According to a second aspect, the subject innovation suggests a smart card for use in the device and in its embodiments. The smart card provides an interface used by a contactless application executable in a processor of the device outside the smart card for accessing functions of the contactless communication module via the smart card.","According to a further aspect, the subject innovation suggests a method for contactless short range communication using a device comprising a contactless communication module enabled for contactless short range communication with an external target and a smart card being connected to the contactless communication module. In the method, a contactless application executed in a processor of the device outside the smart card executes a transaction with the external target using the contactless communication module, the contactless application accessing the contactless communication module via an interface provided by the smart card.","The interface of the smart card allowing contactless applications outside the smart card to access the communication module via the smart card makes it possible to maintain the exclusive access to the communication module by the smart card also when contactless applications are executed outside the smart card. Hereby, also the high security level connected with an exclusive access by the smart card can be maintained.","Furthermore, it is not necessary to modify the communication module such that it is directly accessible for contactless applications executed outside the smart card. In particular, the communication module does not require a conflict management. Rather, a conflict management can be provided by the smart card, for example.","In one exemplary embodiment of the device and the method, the device comprises a handset to which the smart card is connected, the contactless communication module being included in the handset. Thus, the invention can be applied in connection with a handset, which provides a contactless communication module which is adapted to interact with a smart card through an interface of the handset. Such handsets may be particularly provided for use with a smart card as secure element for executing contactless transactions as already described before.","In a further exemplary embodiment of the method, the device and the smart card, the smart card is adapted to provide to the contactless application via the interface information about communication capabilities supported by the contactless communication module. This particularly allows the contactless application to adapt its functionality to the supported communication capabilities, such as, for example the transmission modes supported by the communication module.","Furthermore, in one exemplary embodiment of the method, the device and the smart card, the smart card is adapted to set parameters stored in the contactless communication module in response to a command received from the contactless application via the interface. Thus, the contactless application is able to configure the contactless communication module via the interface provided by the smart card.","In one exemplary embodiment of the method, the device and the smart card, the smart card is adapted to provide to the contactless application via the interface information about an operating state of the contactless communication module. The information about the operating state may comprise information whether the communication module is activated or deactivated.","Moreover, in one exemplary embodiment of the method, the device and the smart card, the smart card is adapted to activate and\/or deactivate the contactless communication module and\/or a radio field generated by the contactless communication module in response to a command received from the contactless application via the interface.","A further exemplary embodiment of the method, the device and the smart card provides that the smart card is adapted to send via the interface a notification to the contactless application in response to a detection of an external target by the contactless communication module. Upon this notification, the contactless application may initiate the execution of a transaction with the external target. As an alternative, the notification may include a first message of the transaction sent by the external target, if the target initiates the transaction.","Advantageously, when executing a transaction, data may be exchanged between the contactless application and the external target via the smart card and the interface provided by the smart card. For this purpose, one exemplary embodiment of the method, the device and the smart card provides that the smart card is adapted to forward via the interface data received from an external target connected to the contactless communication module to the contactless application and\/or to forward data provided by the contactless application via the interface to the external target.","In a further exemplary embodiment of the device, the method and the smart card, the smart card is adapted to block an access of the contactless application to the interface, if a further contactless application is accessing the communication module. Hereby, it is prevented that multiple contactless applications interact with the communication module simultaneously. In this way, conflicts between contactless applications are prevented. In particular, the contactless communication module does not have to implement conflict management functionality.","Furthermore, the smart card may host further contactless applications and these applications may have priority over the applications executed outside the smart card. Therefore, in one exemplary embodiment of the device, the method and the smart card, the smart card includes at least one internal contactless application and wherein the smart card is adapted to block an access to the interface by the external contactless application, when the internal contactless application is executed.","A further exemplary embodiment of the method, the device and the smart card includes that information is exchanged between the interface and the contactless application using HTTP (Hypertext Transfer Protocol) or HTTPS (Hypertext Transfer Protocol Secure). The information may comprise data of a transaction and or commands. It is an advantage of this embodiment that existing functionality of the contactless device for handling HTTP and HTTPS can be used for realizing the communication between the contactless application and the interface. In particular, in mobile communication devices enabled to access Internet services, such functionality is already present.","In one implementation, which allows the utilization of HTTP or HTTPS, the interface comprises a web server provided by the smart card. In particular, the interface may comprise a Smart Card Web Server (SCWS) as specified by the OMA (Open Mobile Alliance).","Moreover, in one exemplary embodiment of the device, the method and the smart card, the device is a mobile communication device and the smart card provides functionality for identifying and\/or authenticating a subscriber in a mobile communication network. In particular, the smart card may be SIM card or a UICC comprising a USIM application.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 1","FIG. 1"],"b":["101","102","102","102","101","102","102","102","102"]},"The device  comprises a communication module , which includes a controller  and an antenna . The antenna  is configured to receive radio signals from the target  and\/or to transmit radio signals that can be received in the target . The target  disposes of corresponding transmitting and\/or receiving modules so that the target  can transmit radio signals to the device  and\/or receive radio signals sent from the device .","The controller  controls the antenna  on the physical layer. This means that the controller  sets up the operation mode of the communication module  and controls the exchange of the radio signal between the antenna  and the target . For this purpose, the controller  implements one or more communication protocols, each of which may be supported by at least one target . Moreover, the controller  communicates with a contactless application that controls the data exchange between the device  and the target  on the application level. Here, the controller  forwards data messages received via the antenna  to the contactless application concerned and controls the antenna  to transmit data messages received from this application to the target . The functionalities of the controller  are preferably provided by a microcontroller comprising a microprocessor for executing software code implementing the control functions and a memory for storing programs and data used by the programs.","The communication between the device  and the target  uses a short range communication technology, which allows for exchanging data between the device  and the target  over a short range between several centimeters and several ten centimeters. In one embodiment, the communication is based on at least one of the specifications ISO 14443 Type A, ISO 14443 Type B, ISO 18092 and ISO 15693.","In particular, the NFC technology (NFC: Near Field Communication) may be used, which is specified in ISO 18092 and 21481, ECMA 340, 352 and 356, and ETSI TS 102 109 and implements the aforementioned specifications. The NFC technology allows for contactless communication between devices over a short distance of a few centimeters, for example about 1 to 4 centimeters. In this embodiment, the antenna  is configured as a magnetic loop antenna operating at a carrier frequency of 13.56 MHz and a radio signal can be exchanged over a distance of about several centimeters. Moreover, the communication module  can be operated in several different modes, which correspond to the different tag types defined in the NFC specifications and which differ in the communication protocols used and in the data transmission rates, for example. Type 1 and type 2 tags are based on the specification ISO 14443 type A, type 3 tags use the specification ISO 18092 and type 4 tags are compatible to the specifications ISO 14443 type A and type B.","Furthermore, an NFC enabled communication module  can be operated in an active and in a passive communication mode. In the active communication mode the communication component  and the target  each generate a high frequency field at the carrier frequency in order to send data to the communication partner. In the passive communication mode only one communication partner, which is called initiator, generates a high frequency field at the carrier frequency that is used by the initiator to transmit data to the other communication partner which is called target. The target uses load modulation for transmitting data to the initiator. This means that the current through the antenna  of the target is modulated using a controllable resistor. In the passive communication mode, the communication component  may be the initiator of the communication as well as the target. In case the communication component  acts as the target, the communication component , and in particular the controller , may be powered by the high frequency field generated by the initiator. For being operable in further operation modes the communication component  disposes of a power supply.","In case the communication module  implements the NFC technology and in further embodiments, the device  can interact with the target  in order to execute transactions with the target . The transactions may be payment transactions or ticketing transactions, for example. From the perspective of the user of the device , a transaction may simply be executed by bringing the device  in proximity to the target  for a relatively short time. Thus, payment can be made or an electronic ticket can be presented for validation by passing the device  past the target .","In the device , the transaction is controlled by one or more contactless applications, which control the execution of the transactions and which provide the data necessary for executing the transactions. For each type of transaction, one corresponding contactless application may be provided. Furthermore, a contactless application may be configured to interact with certain targets , such as, for example terminals  operated by a certain service provider. The contactless applications may be executed in card emulation mode or in reader mode.","In card emulation mode, a contactless application is activated in a selection process using information included in a message received from the terminal . This message may be the message that initiates the transaction. For carrying out the selection process, the device  comprises a selection unit, which evaluates the message from the terminal  and determines an application based on information included in the message. For instance, such information may identify a specific application, a service provider and\/or a specific transaction. The determined contactless application may be activated by the selection unit, i.e. the selection may initiate the application and\/or it may allow the application to access the communication module .","Contactless applications installed in the device , which are executed in card emulation mode, are preferably registered in the selection unit. The registration of an application comprises the information which is used by the selection unit to select the application. Particularly, the registration may specify the content of a message of a target , which is representative for a selection of the application. In one embodiment, all registered applications may be selectable. In a further embodiment, the selectable applications may be pre-selected by the user or by another process in the contactless device .","A contactless application executed in reader mode is selected in the device  before a transaction is executed and independent of information received from a target . In particular, the application may be selected by the user of the device. For this purpose the selection unit may provide a suitable user interface, which presents the available contactless applications at the device  and allows the user to select one contactless application using a user input at the device . In response to a user selection of a contactless application, the selection unit may activate the application. In addition or as an alternative, a contactless application executed in reader mode may be selected and activated automatically by the selection unit in response to a detection of certain predetermined event in the device , which is different from a user input. The contactless applications installed in the device , which are executed in reader mode, are preferably also registered in the selection unit . For such a contactless application, the registration may specify that the application is to be presented to the user for selection, and\/or the registration may specify the event or events leading to an activation of the application.","The device  comprises a handset  and a smart card  which is connected to the handset . The handset  includes a main processor  for controlling functions of the handset  and for executing software programs stored in the handset, particularly in a memory  coupled to the main processor . For interacting with the user of the device , the handset comprises a user interface . The user interface  may include visual and\/or acoustic output device, such as, for example, a display unit and\/or a loudspeaker. Furthermore, it may comprise input device, such as for example a keyboard, keypad and\/or a joystick or the like.","In the embodiment depicted in , the device  is a mobile communication device and may be configured as a cellular phone, a PDA (Personal Data Assistant) or the like. In this embodiment, the device  can be connected wirelessly to a mobile communication network, which is not shown in the FIGURE, using a radio module  included in the handset . For instance, the mobile communication network may be a GSM or a UMTS network (GSM: (Global System for Mobile Telecommunications; UMTS: Universal Mobile Telecommunications System).","The smart card  includes a microcontroller, which may comprise a processor for controlling functions of the smart card  and for executing software applications. Furthermore, the microcontroller comprises a memory for storing software that can be executed in the processor and for storing further data. The smart card  and its microcontroller preferably provide a secure environment for executing software applications in the processor and for storing data in the memory. In particular, this means that the microcontroller is especially secured against unauthorized access to and manipulations of processes executed in the microcontroller and data stored therein. Furthermore, the microcontroller of the smart card  is enabled to securely provide cryptographic functions using cryptographic algorithms implemented in the processor or in another co-processor of the microcontroller. The cryptographic functions may be particularly accessed by applications and\/or processes executed the smart card .","In case the device  is a mobile communication device, the smart card  may be used in conjunction with a utilization of the device  in the mobile communication network. In particular, the smart card  may comprise an application, which provides secure identification and authentication services to the mobile communication network. If the mobile communication network is a GSM network, the smart card may be configured as a SIM card according to the GSM standard comprising a SIM application, which provides the identification and authentication services. If the mobile communication network is a UMTS network, the smart card  may be configured as a UICC comprising a USIM application that provides the identification and authentication services.","The smart card  is coupled to the contactless communication module  which is integrated into the handset  of the device . The coupling is achieved using an interface  that may implement the SWP (Single Wire Protocol) which has been developed particularly in view of NFC applications. The SWP enables the smart card  to communicate with the communication module  via an electric contact of the smart card , which is particularly not used in telecommunications for a communication between the smart card  and the handset . In a higher layer, the communication between the smart card  and the communication module  may be based on the HCI (Host Controller Interface) protocol. In alternative embodiment, the interface  between the smart card  and the communication module  may implement one or more other communication protocols.","In the microcontroller of the smart card , one or more contactless applications may be stored and executed. Such applications may require a relatively high degree of security and may involve sensitive data which are protected against unauthorized access using the security architecture of the smart card . Examples of such applications are banking and\/or payment applications or ticketing applications. The contactless applications hosted in the smart card  may access the contactless communication module  directly through the interface  between the smart card  and the communication module .","Furthermore, at least one contactless application is installed and executed in the contactless device  outside the smart card . In particular, the contactless application may be executed in the main processor  of the device . However, it is likewise possible that the contactless application is installed and executed in another processor of the device , which is not shown in . For instance, this may be another secured or unsecured processor which may be integrated into the handset , or which may be included in another smart card inserted into the handset . In particular, if the contactless application is executed in the main processor  of the handset, the contactless application may require a lower level of security compared with the contactless application executed in the smart card . An example is an application which is capable of communicating with contactless tags applied to certain products in order to read product information.","The contactless applications executed outside the smart card  access the contactless communication module  of the handset via the smart card . For this purpose, the smart card  provides an interface , particularly an API, which is used by such application to access the functions of the communication module . When an application access the interface, the smart card  can interact with the communication module  for the application using the interface  between the smart card and the communication module .","In one embodiment, the interface  for accessing the functions of the communication module  is configured as a web server provided by the smart card . The web server may be particularly a Smart Card Web Server (SCWS) as specified by the OMA and may be implemented as software executed in the microcontroller of the smart card . The communication between contactless application and the web server is based on the HTTP or the HTTPS. Thus, for exchanging messages and further data between an application and the web server the handset may provide functionality of establishing connections using HTTP or HTTPS. In particular, this functionality facilitates the routing of data within the mobile communication device  using HTTP or HTTPS. Such functionality may be provided by the operating system of the handset  and is already included in the operating of many handsets, particularly mobile communication devices in which HTTP or HTTPS are also used for other purposes. In particular, the HTTP channel to the web server may be implemented using TCP (Transmission Control Protocol) and BIP (Bearer Independent Protocol) or TCP over a USB (Universal Serial Bus) interface of the smart card . For addressing data to the web server, a URL (Uniform Resource Locator) is assigned to the web server, which is known in the device .","In further embodiments, the interface  is not configured as a web server, For instance, the interface  can also be realized using a JAVA API, particularly an API realized using JSR .","The interface  is connected to a control unit , which is enabled to access the communication module  via the interface  between the smart card  and the communication module . The control unit  may be configured as a servlet application. In some embodiments, the control unit  may also be integrated into the interface  provided to the contactless application executed outside the smart card .","Access to the interface  of the smart card  may be restricted with access rules. Such access rules may provide that a utilization of the interface  is restricted to contactless applications having predetermined properties. The properties are verified with a corresponding function of the interface , which allows or denies access based on the result of the check. In particular, the access rules may allow restricting access to the functions of the interface  to predetermined defined contactless applications or to groups of contactless applications. A group may comprise applications of a predetermined application provider or applications having other common properties. It may be possible for an administrator (i.e. an authorized entity or person) to modify the access rules during the lifetime of the smart card  in order to adapt the access rules.","Via the interface , a (authorized) contactless application may retrieve information about the communication capabilities of the communication module . In particular, the contactless application may retrieve information about the RF technology types, particularly the supported tag types, and\/or the communication modes supported by the communication module . For retrieving the capability information, the contactless application may transmit a corresponding request to the interface . The request may be forwarded to the control unit . The control unit  answers the request and the answer is transmitted back to the contactless application. For answering the request, the capabilities may be specified within the smart card  and accessible by the control unit . As an alternative, the control unit  forwards the request to the communication module , which provides the information about its communication capabilities to the control unit  which forwards the information as an answer to the contactless application.","A contactless application may be able to use different communication technologies (particularly different tag types and\/or communication modes) in order to be executable in different contactless devices . Using the information about the communication capabilities, the contactless application may configure itself such that it uses the available communication technologies.","Furthermore, the interface  may allow a contactless application to configure parameters, particularly protocol parameters, to be used by the communication module . The parameters may be transmitted to the interface  within a setting request. The setting request may be forwarded to the control unit , which transmits the parameters to the communication module  together with a command to set the parameters. Examples of such parameters are the protocol parameters described in ETSI TS 102 622. The protocol parameters may be set in the RF gate registries of the communication module  as described in the aforementioned document. For applications operating in reader mode, particularly according to ISO 14443 type A, the parameters include the maximum supported data rate. For applications operating in reader mode according to ISO 14443 type B parameters include the application family identifier and the higher layer data. For applications operating in card emulation mode according to ISO 14443 type A the protocol parameters include values for the UID, SAK, ATQA, historical bytes, FWI, SFGI, CID and maximum data rate; and for applications operating in card emulation mode according to ISO 14443 type B the protocol parameters include values for PUPI, AFI, ATQB, response to ATTRIB and the maximum data rate. ISO 14443-3 and ISO 14443-4 describe how these protocol parameters may be used by the communication module  as part of a contactless transaction between the device  and the target .","A contactless application may also be able retrieve the current operating state of the communication module  via the interface , i.e. whether the communication module  is activated or deactivated. For this purpose, a corresponding request may be transmitted to the interface  and forwarded to the control unit  which answers the request after having determined the operating state of the communication module . The operating state of the communication module  may be known in the control unit ; or alternatively the control unit  may request the current operating state of the communication module  via the interface .","Furthermore, a contactless application may control or change the operation state of the communication module  via the interface . In particular, the contactless application may activate and deactivate a radio field generated by the communication module  (in active mode). Thus, the contactless application can activate the radio field for executing a transaction, when it is deactivated. The radio field particularly allows external targets  to discover the contactless device . The radio field may be deactivated after the execution of a transaction with an external target  in order to avoid contacting further external targets . In addition to or as an alternative of the activation and deactivation of the radio field, a contactless application may activate and deactivate the communication module  via the interface . The contactless application may again activate and deactivate the communication module  before and after the execution of a transaction with an external target .","In contrast to the deactivation of the radio field, which prevents the contactless device  from getting into contact with external targets  communicating in passive mode, the deactivation of the communication module  also prevents that the contactless device  can be accessed by external targets communicating in active mode. The option to deactivate the communication module  may be selected, if it is intended to safeguard the contactless device against being discovered and accessed by external devices. When only the radio field is turned off, the contactless device is still capable of executing transactions with external targets communicating in active mode.","After a contactless application executed outside the smart card  has finished a transaction with an external target, it may set the communication module  into the operating state used before the transaction, which has been changed by the application in order to execute the transaction. This particularly means that the communication module  is deactivated, if it has been activated by the application, and that only the radio field is deactivated, if it has been activated by the application, but if the communication module  has been activated before. Thus, a \u201cdefault state\u201d which has been set before can be maintained.","For controlling the operating state of the communication module  in the way described before, commands may be provided for activating and deactivating the radio field and\/or the communication module . Such commands may be transmitted to the interface  and upon receipt of a command the control unit  may set the operating state of the communication module  accordingly via the interface  between the smart card  and the communication module.","Particularly in order to initiate a communication with an external target , a contactless application outside the smart card  may command the control unit  via the interface  to notify the application, when an external target  has been detected by the communication module .","If the contactless application is a reader mode application, the contactless application may command the control unit  to poll for external targets  (i.e. targets operating in card emulation mode). Upon receipt of the command, the control unit  controls the communication module  accordingly and the communication module  notifies the control module , when an external target  is detected. Thereupon, the control module  may send a notification to the contactless application that an external target  has been detected. The notification may comprise details concerning the detected external target  which may have been transmitted by the target . The details may comprise an identification code of the target , the supported data transmission rates of the target and\/or one or more further parameters specified in ETSI TS 102 622.","If the contactless application is executed in card emulation, the control unit  may notify the application, when the signals of an external target operating in reader mode have been received in the communication module . The notification may include details or parameters concerning the external target . Examples are particularly described in ETSI TS 102 622 as described before. The notification may also comprise the initial message of the external target for initiating a transaction. If multiple contactless applications are active in the contactless device , the notification about the detection of an external target  in reader mode may be transmitted to an application selected from the active applications as described above. The selection may be made by a selection unit included in the smart card  which is coupled to the control unit  forwarding the notification upon selection of an application in the selection unit.","In order to allow a contactless application outside the smart card  to execute a transaction with the external target, data to be send to the external target may be forwarded from the contactless application to the communication module  via the interface . Transaction data sent from the external target  may be forwarded to the contactless application via the interface .","In case of a reader mode contactless application, the contactless application may send data to be transmitted to the external target to the interface  together with a command to send the data. The data and the command are received in the control unit . Upon receipt of the data and the command the control unit  forwards the data to the contactless communication module  via the interface  between the smart card  and the communication module  and instructs the communication module  to transmit the data to the external target . The answer of the external target , which is received in the communication module  and forwarded via the smart card  particularly via the interface  and preferably also via the control unit .","When the communication module  receives data from an external target  operating in reader mode, the communication module  forwards the data to the smart card  and the data are received in the control unit . The control unit forwards the data via the interface  to the contactless application provided for executing the transaction. In case of several active contactless applications this may be the application which has been selected before. The answer of the application is transmitted to the smart card  via the interface, and the control unit  forwards the answer to the communication module , which sends the answer to the external target .","Furthermore, the smart card  provides functionality for avoiding the conflict of contactless application, which may occur, when two or more applications access the communication module  simultaneously. In one embodiment, it is ensures that (at maximum) one contactless application accesses the communication module  at each time. Hereby, conflicts between contactless applications can be avoided and the security can be increased, since it is prevented that an application executed in a processor with a low security level and an application executed in the smart card  simultaneously access the communication module .","In order to achieve this, the interface  may be configured such that access by a contactless application is blocked, when another application is already accessing the interface . Hereby, a conflict of contactless applications executed outside the smart card  is avoided. Moreover, the conflict of a contactless application executed in the smart card  with contactless applications executed outside the smart card  is prevented. In one embodiment, the applications executed in the smart card  have priority over the external applications. In this embodiment, the interface  may not be accessible by external applications, when a contactless application executed in the smart card  accesses the communication module .","Conflicts may also be avoided for contactless applications executed in the card emulation mode. In particular, the interface  may be blocked for other contactless applications after one contactless application has been selected for executing a transaction. Thus, the interface  is blocked for applications executed outside the smart card  until the termination of the transaction, when an internal contactless application has been selected. When an external application has been selected, the interface  is being blocked for further external applications. In both cases, the blocking of the interface  effects reader mode applications and card emulation applications. The selection may be made by a selection unit within the smart card  as described before.","The selection of external and internal contactless applications may be centralized in the smart card . For this purpose, external and internal applications may be registered in the selection unit of the smart card  and the selection unit is capable of accessing the user interface  of the handset  in order to present the registered applications for selection to the user of the contactless device . Upon selection, the selection unit initiates the selected application within the handset . In this embodiment, the selection unit may not allow the user to select a further application, when one application is already accessing the communication module . Here, the conflict avoidance mechanism described before avoids conflicts with an application that is initiated independent from the selection unit (e.g. a malicious application).","In further embodiments, external and internal applications may be selected independently of each other using an external and an internal selection unit. In this case, particularly the conflict avoidance mechanism described before ensures that external and internal applications do not collide.","According to one of the aforementioned embodiments, the selection of reader mode applications may be made. In addition or as an alternative, the pre-selection of card emulation mode applications may be done in the same way. Here, multiple card emulation mode applications may be pre-selected simultaneously. However, the conflict avoidance mechanism may ensure that only one application accesses the communication module  at a time.","While the invention has been illustrated and described in detail in the drawings and foregoing description, such illustration and description are to be considered illustrative or exemplary and not restrictive; the invention is not limited to the disclosed embodiments. Other variations to the disclosed embodiments can be understood and effected by those skilled in the art in practicing the claimed invention, from a study of the drawings, the disclosure, and the appended claims.","In the claims, the word \u201ccomprising\u201d does not exclude other elements or steps, and the indefinite article \u201ca\u201d or \u201can\u201d does not exclude a plurality. A single processor or other unit may fulfill the functions of several items recited in the claims. A computer program may be stored\/distributed on a suitable medium, such as an optical storage medium or a solid-state medium supplied together with or as part of other hardware, but may also be distributed in other forms, such as via the Internet or other wired or wireless telecommunication systems."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWING","p":["The aforementioned and other aspects of the subject innovation will be apparent from and elucidated with reference to the embodiments described hereinafter making reference to the accompanying drawing. In the drawing,",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1"}]},"DETDESC":[{},{}]}
