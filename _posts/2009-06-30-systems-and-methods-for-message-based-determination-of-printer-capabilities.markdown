---
title: Systems and methods for message based determination of printer capabilities
abstract: Methods disclosed facilitate the identification of printers from among a plurality of network accessible printers based on information about at least one printer sub-state using commonly available messaging techniques such as e-mail. In some embodiments, an email message, which includes queries with search criteria pertaining to the at least one printer sub-state, is received and a sub-state database is queried based on the search criteria pertaining to the printer sub-state to obtain a set of printers that satisfy the search criteria. The sub-state database comprises information that correlates printer identification information with corresponding printer sub-state information of the plurality of network accessible printers. The response to the query is used to respond to the e-mail request with the e-mail response including identification information about printers in the set of printers that satisfy the search criteria.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08610921&OS=08610921&RS=08610921
owner: Konica Minolta Laboratory U.S.A., Inc.
number: 08610921
owner_city: San Mateo
owner_country: US
publication_date: 20090630
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["1. Field of the Invention","The present invention relates to the field of printing and in particular, to systems and methods for determining the capability of networked printing devices using commonly available electronic messaging techniques.","2. Description of Related Art","Computer printers, which are ubiquitous in most modern organizations, permit the quick printing of stored documents. In organizations, which have a large number of physically distributed printers, it may difficult to determine the capabilities of various printers. For example, if a user in the organization wants a color printer capable of printing in high resolution, there is no easy way for the user to locate a printer that provides the desired capabilities. The problem is compounded if the user happens to be a visitor to that organizational facility and if the organization has a large number of printers available. Typically, in such situations the user asks a system administrator for printer capability information to identify a printer with the desired capabilities. A printer driver for the identified printer is then installed on to the user's computer. Finally, the user configures the identified printer appropriately before sending a print job to the printer.","The process described above to locate and utilize printers with specific capabilities can be cumbersome and lengthy. Moreover, the process may also involve technical support staff to help install drivers on the user's computer, even for a one-time use of a specific printer. Finally, there is no easy mechanism for the system administrator to apprise individual users of changes in capability as older printers are retired and new printers deployed. Therefore, the ability to quickly obtain accurate and current printer capability information would facilitate the utilization of printers, increase user productivity, and greatly simplify system administration. Accordingly, there is a need for systems and methods that facilitate the determination of printing device capability.","Consistent with embodiments disclosed herein, systems and methods for obtaining printer information are presented. In some embodiments, a method for identifying printers from among a plurality of network accessible printers based on information about at least one printer sub-state comprises: receiving an email message, wherein the e-mail message comprises at least one query with search criteria pertaining to the at least one printer sub-state; querying a database based on the search criteria pertaining to the at least one printer sub state to obtain a set of printers that satisfy the search criteria, wherein the database comprises information that correlates printer identification information with corresponding printer sub-state information of the plurality of network accessible printers; and responding to the e-mail request, wherein the e-mail response comprises identification information about printers in the set of printers that satisfy the search criteria. The printer state comprises a plurality of sub-states and the at least one sub-state is one of the plurality of printer sub-states,","Embodiments also relate to software, firmware, and program instructions created, stored, accessed, or modified by processors using computer-readable media or computer-readable memory. These and other embodiments are further explained below with respect to the following figures.","In accordance with embodiments disclosed herein, systems and methods for automatically determining the capabilities of networked printing devices are presented.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1","b":["100","110","130","170"]},"As shown in , exemplary system  includes computers or computing devices , printers , and server . Network  may include subnets, Local Area Networks (\u201cLAN\u201ds), and\/or Wide Area Networks (\u201cWAN\u201ds). Further, network  may also include modems, routers, repeaters, and other communication devices (not shown) that permit devices that are coupled to a network  to communicate with other devices over wired or wireless connections in accordance with the policies set by a network administrator.","In general, computing device  may be a computer workstation or desktop computer (e.g. -), laptop or portable computer, handheld device, or any other mobile computing device (e.g. -) capable of being used in a networked environment. Computing devices -, -, and\/or server  may be capable of executing software (not shown) that facilitates obtaining the capabilities of individual printers and processing print requests for printers - through -.","Computing devices  and server  may contain removable media drives . Removable media drives  may include, for example, 3.5 inch floppy drives, CD-ROM drives, DVD ROM drives, CD\u00b1RW or DVD\u00b1RW drives, USB flash drives, Memory Sticks\u2122, Secure Digital High Capacity (\u201cSDHC\u201d) cards, and\/or any other removable media drives consistent with embodiments of the present invention. Portions of software applications may reside on removable media and be read and executed by computing devices -, -, and\/or server  using removable media drive . In some embodiments, intermediate and final results and\/or reports generated by applications may also be stored on removable media.","Printers  (such as printers - through -) may be laser printers, ink jet printers, LED printers, plotters, and of various other types. From a functional perspective, printers  may take the form of computer printers, facsimile machines, digital copiers, multi-function devices, and\/or various other devices that are capable of printing documents. In some embodiments, printers  may also support Management Information Bases (\u201cMIB\u201ds), which can be based on Requests for Comments (\u201cRFC\u201ds) issued by standard setting bodies. In some embodiments, the information in the MIB may pertain to descriptions, alerts, and\/or status of various parameters tracked by printer . Information in the MIB may also include printer capability information. The information in the MIB may be seen as indicative of the state of the printer.","Connection  couples computing device , printers --- to network . Connection  may be implemented as a wired or wireless connection using appropriate conventional communication protocols and\/or data port interfaces. In general, connection  can be any communication channel that allows transmission of data between the devices. In one embodiment, for example, devices may be provided with data ports, such as USB\u2122, SCSI, FIREWIRE\u2122, and\/or BNC ports for transmission of data through the appropriate connection . The communication links could be wireless links or wired links or any combination that allows communication between computing devices , server , print controller , and printers . For example, in one embodiment, printer - may be shared and computer - may permit access to printer - over network  using connection .","Printers  may be controlled by hardware, firmware, or software, or some combination thereof. Printers  may include one or more print controller boards , such as exemplary print controllers - and -, which may control the operation of printers , and may also be capable of receiving printer capability and status requests for printers  and sending responses from printers  to the requesting device. In some embodiments, printers  may be controlled by firmware or software resident on memory devices in print controllers . In general, print controllers  may be internal or external to printers . Exemplary print controllers  may also be controlled in part by software, including print servers, printer drivers, or other software, running on computing devices , and\/or server .","Printers, such as exemplary printer -, may also include consoles  such as consoles - and -, or other interfaces to allow configuration options to be set, passwords and\/or user identification and authentication information to be entered, printer capability, and other status messages to be displayed. In some embodiments, configuration options may be set or displayed using a display or user-interface on a monitor for a computer coupled to printers . For example, user interfaces to set one or more configuration options on printer - may be displayed on console -. For example, the print resolution, document sizes, color options, and other configuration parameters may be user-configurable.","Users may also be able to log in to a printer  to perform administrative functions such as to enable software or firmware on printer  to perform various functions. In some embodiments, the log in process may require a password or other user-authentication mechanism. For example, a user may be able to specify input trays  and\/or output trays , secure printing options, and the use of automatic document feeders to allow batch processing of documents. Printers  may have multiple input trays  and\/or output trays . Output trays  can hold printed documents that have been processed by a printer. If a document is printed securely, the user may be asked to enter information on exemplary console  before the document is released from a secure output tray  and\/or printed to an output tray .","Exemplary server  and computers  may also include database software such as a database management system (\u201cDBMS\u201d) and Application Programming Interfaces (\u201cAPI\u201ds) to facilitate the storing of information into and the obtaining of information from the DBMS. In some embodiments, server  and\/or computers  may also run Simple Message Transfer Protocol (\u201cSMTP\u201d) clients and\/or servers, Simple Network Management Protocol (\u201cSNMP\u201d) clients and\/or servers, mail servers, applications to request capability information from peripherals including printers , applications to accept message based print requests from users and to send out SNMP and\/or message-based requests to print or process documents, and routines to parse and process SMTP and SNMP requests and responses. In some embodiments, server  may also be capable of executing software to process message based printer capability responses, parse the responses, extract capability information, and store the capability information in a database.","A computer software application to obtain printer capability information for one or more printers  and\/or print documents to printers  with appropriate capabilities may be deployed on one or more of the exemplary computers , server , print controllers , and\/or printers , as shown in . For example, printer - may execute software or firmware that permits printer - to respond to message-based inquiries about its capabilities and accept print jobs for printing using message-based techniques. An independent application to respond to message-based printer capability inquiries and facilitate printing may also execute concurrently on printer -. In another example, an application to respond to message-based printer capability inquiries and facilitate printing may be resident on server  or computer -, and operate on printer -. In general, applications may execute in whole or in part on one or more computers , servers , print controllers , and\/or printers  in the system. The embodiments described herein are exemplary only and other embodiments and implementations will be apparent to one of ordinary skill in the art. In some embodiments, message-based capability queries to printer  may be delivered via e-mail or any another appropriate protocol.",{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 2","FIG. 2","FIG. 1"],"b":["170","4","110","2","130","140","170","4","170","170","4","174","176","171","172","181","177","173"]},"Exemplary printer - may also contain other Application Specific Integrated Circuits (ASICs), and\/or Field Programmable Gate Arrays (FPGAs)  that are capable of executing portions of an application to respond to message-based capability inquiries, and to accept message-based requests to print or process documents, and routines to parse and process SMTP and SNMP requests and responses. In some embodiments, exemplary printer - may also be capable of executing software including, a printer operating system, SMTP clients and\/or servers, SNMP clients and\/or servers, mail servers, mail parsing and conversion routines, database management software, software to process message based printer capability requests and print job requests, printer status request processing and printer configuration software, as well as other appropriate application software.","Exemplary I\/O module  may also permit communication with server  and computer - over network . Information received from computers , server , and\/or print controllers  may be processed by I\/O module  and stored in memory . I\/O module  may also notify CPU  about the communications. The communications may include data, commands, capability requests, status requests, SMTP requests and responses, SNMP and MIB requests and responses, job requests, and\/or acknowledgements according to the communications protocol being used. CPU  may retrieve any information stored in memory  and process the information further.","Exemplary CPU  may be a general-purpose processor, a special purpose processor, or an embedded processor. CPU  can exchange data including control information and instructions with memory  and\/or firmware . Memory  may be any type of Dynamic Random Access Memory (\u201cDRAM\u201d) such as but not limited to SDRAM, or RDRAM. Firmware  may hold instructions and data including but not limited to a boot-up sequence, pre-defined routines including routines for processing incoming requests and messages, composing outgoing responses and messages, routines for configuration management, routines for processing message based requests including routines for processing e-mail, SMTP messages, SNMP requests and data, document processing, and other code. In some embodiments, code and data in firmware  may be copied to memory  prior to being acted upon by CPU . Data and instructions in firmware  may be upgradeable using one or more of computer , server , network , removable media coupled to printer , and\/or secondary storage .","Exemplary CPU  may act upon instructions and data and provide control and data to ASICs\/FPGAs  and print engine  to generate printed documents. ASICs\/FPGAs  may also provide control and data to print engine . FPGAs\/ASICs  may also implement one of configuration management, message processing, and other print related algorithms.","Intermediate and final printable data, messages, printer status, and configuration information pertaining to one or more printers  may be stored in memory  or secondary storage . In some embodiments, \u201cdescriptions\u201d\u2014which provide information about printer capabilities, printer status information, alerts etc. may be stored in a Management Information Base (\u201cMIB\u201d) in memory , secondary storage , or firmware . Information in the MIB as a whole may be viewed as describing the printer state. Information within the MIB pertaining to printer capabilities (sometimes called \u201cDescriptions\u201d in the Printer-MIB), status, and configuration can then be viewed as describing sub-states of the printer. Sub-state information can include information about a single capability, or a single configuration or status parameter; or it may include information about a set of capabilities, and\/or sets of configuration and status parameters.","Note that information pertaining to some sub-states may be static (will not normally change), while others may be dynamic (changing). In the MIB, \u201cdescriptions\u201d convey information about the configuration and capabilities of the printer and its various sub-units. This information is largely static information and does not generally change during the operation of the system. However, descriptions can change if the printer is repaired, reconfigured, redeployed, or upgraded. For example, sub-state capability information such as the number of output trays will not change for a printer unless a tray is removed or another tray added. Therefore, such information can be considered static. On the other hand, the sub-state status information pertaining to an input tray\u2014such as whether the tray is full or empty can change rapidly. Therefore, such information can be considered dynamic.","In some embodiments, the information in the MIB may relate to the status of various parameters tracked by printer . In some embodiments, the values of objects may be obtained initially when the printer is reset or started-up and then updated periodically. In some embodiments, an interrupt may be used to inform CPU  that an update is needed or that one or more tracked parameters have changed. The MIB for a printer, or printer-MIB, is specified in various standards documents (such as RFC 1759 and\/or RFC 3805).","The MIB structure is typically organized in terms of a System MIB (such as RFC 1213), a Host MIB (such as RFC 2790), and a Printer MIB, in which the following exemplary MIB objects can be used to maintain and obtain printer status.","System MIB\n\n","Host MIB\n\n","Printer MIB\n\n","Note that the description above is exemplary and for descriptive purposes only and may represent only a subset of the MIB objects available and\/or tracked in a given printer. Various other MIB objects that are specified in the RFC may also be used according to the parameters tracked by a specific printer and\/or the degree of printer status detail specified for retrieval. The System MIB lists several objects such as the exemplary SysDescr, SysName, and SysLocation objects listed above that specify the system description, system name and system location, respectively. The Host-MIB provides several status objects that can describe printer status in the context of two tables. For example, the hrPrinterStatus object can take on a range of values, where each value indicates a specific printer status. For example, the values may indicate whether the printer is busy, idle, warming up, or performing various other tasks.","The Printer MIB also includes several objects, which can be printer sub-states, such as the exemplary objects prtGeneralPrinterName, prtCoverStatus, prtCoverDescription, prtInputStatus, prtMarkerSuppliesDescription, prtMarkerSuppliesLevel, and prtAlertDescription. For the subset of objects listed above, object prtGeneralPrinterName specifies the printer name; object prtCoverStatus specifies the status of the printers covers and interlocks (i.e. whether any printer doors, trays, etc are open or closed); object prtCoverDescription specifies the manufacturer's name for the provided cover sub-mechanism; object prtinputStatus specifies the current status of the specified input sub-unit; object prtMarkerSuppliesDescription specifies the description of the marker (ink, toner etc) in the specified supply container or receptacle; object prtMarkerSuppliesLevel specifies the current level of the marker (if the specified supply is a container) or the remaining space (if this supply is a receptacle); and object prtAlertDescription, which further elaborates on a specified enumerated alert or provides information in the case where the alert code is classified as \u2018other\u2019 or \u2018unknown\u2019.","Additional state or sub-state information that may be obtained from the MIB for printer - may include the number of input and output trays, the maximum capacity of each tray, the maximum and minimum physical dimensions of media that can be used by the various trays, printing modes such as duplex, marking technology (e.g. laser, inkjet, thermal, etc), maximum resolution, number of colors supported, print speed, etc.","Note also that the specification of standards above is exemplary only and various other established or de-facto standards may also be used to obtain printer state related information such as sub-states. In addition, ongoing updates to the standards, which are published and updated periodically by the Internet Society, the Internet Engineering Task Force, and other standard-setting organizations, may be used to update information contained in the MIB. The methods, systems, and apparatus disclosed herein may be easily adapted to any changes to the MIB structure, and\/or to changes in information contained within the MIB as would be apparent to one of ordinary skill in the art.","As shown in , the MIB may be stored in memory  during operation. In some embodiments, the MIB may be stored in secondary storage  or firmware  and then loaded into memory  when the printer is powered on. Portions of the MIB may be updated periodically or in response to specific requests. The MIB may be updated by CPU , which may periodically obtain status from various components and sub-assemblies of printer -. For example, CPU  may monitor its interrupts, and read memory locations and\/or registers on various components, and\/or invoke applications to determine current status.","Note that exemplary printer - may be capable of providing the MIB information, when requests are made in accordance with SNMP over network . In some embodiments, exemplary server  may send SNMP requests to printer - to obtain information pertaining to printer sub-states, including printer capability. Note that various other methods and protocols may also be used by server  to obtain printer state related information including sub-state information from printers . For example, Printer Job Language (\u201cPJL\u201d) may be used to obtain state-related information. Other protocols that may be used include (without limitation) various XML-based protocols. One such example is Job Definition Format (\u201cJDF\u201d), which is an industry standard designed to simplify information exchange. JDF includes the Job Messaging Format (\u201cJMF\u201d), which is the language used to communicate between JDF agents and controllers. JMF allows a controller to communicate with JDF management information system or a workflow information system to obtain printer state related information. Note that various printer manufacturers may also use proprietary systems or de facto standards to enable server  or other devices to obtain printer state related information. For example, Microsoft\u2122 offers Web Services on Devices (\u201cWSD\u201d) protocol, which can also be used to access printer state related information by server . In general, server  may use one or more of various available mechanisms to obtain printer state related information depending on the protocol supported by the individual printers .","The requests from server  may be forwarded to CPU , which may obtain the requested information and generate a response to server . In some embodiments, server  may use network and\/or operating system protocols to determine the various printers available on a network\u2014such as a local area network (\u201cLAN\u201d) and query each printer  using a supported protocol for capability information. In some embodiments, the queries may take the form of SNMP MIB requests. In some embodiments, the processing of SNMP and\/or SMTP requests and responses may be performed by print controller .","In some embodiments, the responses to MIB requests received by server  may be parsed to extract capability information for storage in a printer sub-state or printer capability database. In some embodiments, each record in the database may correlate a printer identifier with capability information pertaining to the identified printer. For example, the printer identifier comprise the printer's network \u201cname\u201d, or Internet Protocol (\u201cIP\u201d) address, or Media Access Control (\u201cMAC\u201d) address, and the identifier can be associated with capability information for that printer. In some embodiments, the identifier may serve as a primary or secondary key to obtain capability information for the identified printer from the printer sub-state or printer capability database, which can be a relational database.","In some embodiments, users may request printer capability information from server  using e-mail. For example, e-mail messages to an e-mail account \u201cprinter@organization_name.com\u201d (where \u201corganization_name.com\u201d is part of the address of the organization) may be routed to server  and appropriate routines to parse and process the e-mail message may be invoked. In some embodiments, a user may query server  using computing device -, which may be a mobile or handheld computing device. The user e-mail may be parsed to extract the desired printer capability information and then followed by a query to the database to obtain the requested capability. Finally, the requested information may be formatted and put into an e-mail response to the user.","Exemplary e-mail queries are shown below for illustrative purposes along with a comment (delimited by \u201c\/*\u201d and \u201c*\/\u201d) that briefly describes their functions. Various other formats and structure for the e-mail queries can be used as will be apparent to one of ordinary skill in the art.",{"@attributes":{"id":"p-0047","num":"0057"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["@REQUEST - DUPLEX","\/*Return printers with Duplex capability*\/"]},{"entry":["@REQUEST - A3 paper","\/*Return printers A3 paper capability*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"@REQUEST - DUPLEX AND A3 paper"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\/*Return printers with Duplex and A3"]},{"entry":[{},"paper capability*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["@REQUEST","\/*Return REQUEST \u201cHelp\u201d information*\/"]},{"entry":["@HELP","\/*Return general \u201cHelp\u201d information*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"@QUERY - PRINT OPTION <PRINTER_NAME>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/*Return available printing options for"]},{"entry":[{},"printer specified by \u201cPRINTER_NAME\u201d*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"@PRINT <PRINTER_NAME> \/*Print email body and\/or attachments at"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"printer specified by \u201cPRINTER_NAME\u201d*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"@QUERY - CAPABILITY <PRINTER_NAME>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/*Return printer capability information for"]},{"entry":[{},"printer specified by \u201cPRINTER_NAME\u201d*\/"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"The queries above may appear in the message body or in the subject line and the SMTP server on printer - or print controller  may be appropriately configured to process and respond to queries of the type shown above. For example, as shown above, the syntax for the command may comprise the delimiter \u201c@\u201d followed by the command \u201cREQUEST\u201d and a term indicating the nature of the request. Requests or queries may also include one or more logical operators such as AND, OR, NOT, etc. and parentheses to specify order of evaluation to permit users to identify printers that match more than one search criteria.","The printer may also be configured to support various other options to facilitate easier use. For example, e-mails sent to the printer that are unrecognizable may result in a response with general \u201cHelp\u201d information. Similarly, if no sub-option, or an unrecognized or incoherent sub-option is specified with \u201c@REQUEST\u201d then the printer may interpret the message as a \u201c@REQUEST\u201d command and return \u201cHelp\u201d information for the \u201c@REQUEST\u201d command.","Additional examples pertaining to various individual commands present in some embodiments are shown below. For example, when an e-mail message is sent to printer - or print controller  with the command \u201c@REQUEST-DUPLEX\u201d the response may return the various printers with duplex capabilities.","Message:","@REQUEST-DUPLEX","Response:","[PRINTERS]\n\n","Message:","@REQUEST-A3 paper","Response:","[PRINTERS]\n\n","If one of the printers returned is deemed adequate by the user then the user may send another e-mail message to \u201cprinter@organization_name.com\u201d to request printing of the job. For example, the \u201c@PRINT<PRINTER_NAME>\u201d may be used to specify that the job is to be printed at the printer identified by \u201cPRINTER_NAME\u201d.","In some embodiments, printers  may support additional queries, for example by using the command \u201c@QUERY-PRINT OPTION<PRINTER_NAME>\u201d a user can determine printing options supported by the printer \u201cPRINTER_NAME\u201d that may be included as part of the print request. In some embodiments, server  may determine the printing options available based on the capabilities of the printer.","[PRINT OPTIONS]",{"@attributes":{"id":"p-0061","num":"0000"},"ul":{"@attributes":{"id":"ul0011","list-style":"none"},"li":{"@attributes":{"id":"ul0011-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0012","list-style":"none"},"li":["@PMCMD DOCUMENT FORMAT=AUTO*\/PDF\/WORD\/TIFF\/ . . .","@PMCMD PRINT DATA=ATTACHMENT\/BODY\/ALL*\/ . . .","@PMCMD PAGE RANGE=ALL*\/(\u201cx-y\u201d, \u201cx, y, z\u201d)\/ . . .","@PMCMD PAPER SIZE=A4\/LTR*\/A3\/LGR(A4*)\/ . . .","@PMCMD COLOR MODE=BW*\/COLOR(BW*)\/ . . .","@PMCMD COPIES=1*-100\/ . . .","@PMCMD DUPLEX=OFF*\/AUTO\/LEFT BIND\/TOP BIND\/ . . .","@PMCMD STAPLE=OFF*\/TOP LEFT\/TOP RIGHT\/ . . .","@PMCMD SECURE MODE=OFF*\/HOLD\/HOLD+PASSWORD\/","@PMCMD NOTIFICATION=YES*\/NO\/ . . ."]}}}},"As indicated above, the response to the query command indicates that printer \u201cPRINTER_NAME\u201d supports specification of various options in a print command including the document format of the document, the portions of the e-mail sent that is to be printed, page ranges to print, paper size to be used, color mode, number of copies of the document to be printer, duplex options, stapling, secure mode printing, and notifications regarding job status. In secure mode, printer \u201cPRINTER_NAME\u201d may hold a print job until the user enters user-id and\/or password information using a console  coupled to the specified printer. In some embodiments, commonly used options may be specified as default options\u2014so that the user can omit the specification of options that are compatible with the print job being sent to the specified printer. In the example above, some default options are indicated in the response to the query with an asterisk (\u201c*\u201d). In some embodiments, an \u201cAUTO\u201d option is available\u2014when the \u201cAUTO\u201d option is selected the printer may use data from the print job and\/or internal sensors to automatically change configuration settings. For example, document formats and paper size may be automatically determined by the printer.","The user may specify one or more of the above print options in an e-mail message sent to server . Server  may parse the e-mail and send the job with the specified print options to printer \u201cPRINTER_NAME\u201d. The receiving printer \u201cPRINTER_NAME\u201d can then print the job as specified by server . In embodiments, where printers  support message-based printing, server  may simply forward the e-mail to the specified printer . Printer  may then invoke routines to parse the incoming e-mail message and print the job as specified in the e-mail. An exemplary print command that can be sent to server  is shown below.","@PRINT<PRINTER_NAME>",{"@attributes":{"id":"p-0064","num":"0000"},"ul":{"@attributes":{"id":"ul0013","list-style":"none"},"li":{"@attributes":{"id":"ul0013-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0014","list-style":"none"},"li":["@PMCMD PRINT DATA=BODY+ATTACHMENT","@PMCMD COLOR MODE=COLOR","@PMCMD COPY=5","@PMCMD STAPLE=TOP LEFT\n\nAs shown above, the print command for the printer specified by \u201cPRINTER_NAME\u201d indicates that both the body of the e-mail and all attachments to the e-mail are to be printer by receiving printer \u201cPRINTER_NAME\u201d. Five copies of the job are to be printed in color and each copy is to be stapled in the top-left corner. In some embodiments, commands to printer  may be filtered prior to printing so that they will not appear in the printed document.\n"]}}}},"Printers  may also support various other queries including queries for printer and\/or job status. For example, if the user print command includes the \u201cNOTIFICATION\u201d option\u2014then the user may automatically notified via e-mail when the print job has completed, or if there is an error that temporarily prevents completion. In some embodiments, a \u201cPREVIEW\u201d command may also be available which may direct printer  to send a preview of the document to be printed to server  or to the user via e-mail.",{"@attributes":{"id":"p-0066","num":"0094"},"figref":"FIG. 3","b":["300","130","110","310","315","170","170","130"]},"In step , the first or next printer capability request may be sent to one of the identified network accessible printers . For example, an SNMP request for MIB information on a printer  may sent by server . In step , the response to the printer capability request may be parsed to extract printer capability information. For example, MIB data from printer  may be parsed and information pertaining to the capability of printer  may be extracted. Next, in step , the database record for printer  may be created (if it does not exist) or updated (if it exists) using the extracted information. If there are additional printers  that have not been processed that can be added to the database, or printers whose records need updating (\u201cY\u201d in step ) then the algorithm returns to step  to begin another iteration. For example, if there are additional network accessible printers coupled to network  that have not been processed previously, or existing printers  whose configuration may have changed then one of these printers  may be selected for processing during the next iteration. If there are no additional printers to be processed (\u201cN\u201d in step ) the algorithm terminates. In some embodiments, method  may performed periodically by server  to ensure that the information in the database is current and accurate.","Table 1 below shows an exemplary organization for printer capability information in a relational database. As shown in Table 1, printers may be identified by one or more of \u201cPrinter_Name\u201d and\/or IP Address. In some embodiments, the MAC address of the printer may also be used to identify a printer . Information pertaining to various capabilities may be listed in the table. The \u201c*\u201d indicates that the field may occur multiple times for each printer record. For example, a printer may be capable of printing at different print resolutions.",{"@attributes":{"id":"p-0069","num":"0097"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"9"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"14pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"9","align":"center","rowsep":"1"}}},{"entry":["Printer_Name","IP Address","Duplex","Resolution*","Color","Paper Sizes*",". . .",". . .",". . ."]},{"entry":{"@attributes":{"namest":"1","nameend":"9","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Printer_A","192.1.168.2","Y","1200 dpi\u2002","Y","A4",{},{},{}]},{"entry":[{},{},{},"600 dpi",{},"Letter"]},{"entry":[{},{},{},"300 dpi",{},"Legal"]},{"entry":[{},{},{},"150 dpi",{},"11 \u00d7 17"]},{"entry":["Printer_X","192.10.0.1","N","300 dpi","N","Letter"]},{"entry":[". . .",". . .",". . .",". . .",". . .",". . .",". . .",". . .",". . ."]},{"entry":[". . .",". . .",". . .",". . .",". . .",". . .",". . .",". . .",". . ."]},{"entry":["Graphics_1","192.8.2.7","Y","2400 dpi\u2002","Y","11 \u00d7 17"]},{"entry":[{},{},{},"1200 dpi\u2002",{},". . ."]},{"entry":{"@attributes":{"namest":"1","nameend":"9","align":"center","rowsep":"1"}}}]}}}}},"In Table 1, information pertaining to duplex mode, resolution, color capability, and paper sizes has been shown. In general, the database may set up so that various capabilities are enumerated in a standardized manner to facilitate easy retrieval. When a user message with a \u201c@REQUEST\u201d string pertaining to one or more capabilities is requested, the e-mail may be parsed and routines or callback functions may be invoked to generate an appropriate query to the database. The data retrieved from the database may then be formatted and sent to the user in a reply e-mail.",{"@attributes":{"id":"p-0071","num":"0099"},"figref":"FIG. 4","b":["400","400","130","110","175","130","110","410","130"]},"In step , the first or next e-mail message may be received from a user. In some embodiments, an SMTP server or mail server in server  may receive the e-mail message. Next, in step , the e-mail request may be parsed to extract commands within the e-mail message. In step , the extracted commands may be checked to determine if the command is a query or status command.","If the command is a query or status command (\u201cY\u201d in step ) with search criteria pertaining to one or more sub-states then, in step , a query to the sub-state and\/or printer capability database may be generated to identify printers that meet the search criteria. In some embodiments, one or more \u201ccallback functions\u201d may be used by a SMTP server running on server  to generate the database queries. In some embodiments, the callback functions may invoke or use appropriate DBMS Application Programming Interfaces (\u201cAPI\u201ds) to generate the database queries and receive responses from the DBMS.","After processing the sub-state query, the DBMS may respond with current printer sub-state information such as capability or status information. In step , a reply e-mail including the information requested by the user may then be sent to the user identifying printers that meet the search criteria. In some embodiments, the data returned by the DBMS in response to the query may be processed and formatted before being sent to the user in a reply e-mail. The process then returns to step  to begin a subsequent iteration. Note that if the query is for \u201chelp\u201d or for other information that may be available without a database query, then server  may respond directly via reply e-mail with the requested information without generating a query.","If the command is not a sub-state query (\u201cN\u201d in step ) then, in step , the command may be checked to determine if the command is a print command. If the command is a print command (\u201cY\u201d in step ) then, in step , the print request may be processed in accordance with the options specified in the command. If the command is not a print command (\u201cN\u201d in step ) (and if no other command types are available) then the command may be deemed unrecognized and \u201cHelp\u201d options may be sent to the user in step . The algorithm then returns to step  to begin a subsequent iteration.","In step , the print command may be sent to the identified printer. In some embodiments, printers  may also be capable of accepting and processing print commands embedded in e-mail. In these implementations, the user's e-mail message may simply be forwarded to the printer by server . In implementations where printers  cannot accept print commands embedded in e-mail messages, server  may parse the e-mail, generate a print command for printer  based on the print options specified in the e-mail, and send a print command to the printer using conventional method such as Printer Job Language (\u201cPJL\u201d), Printer Control Language (\u201cPCL\u201d) etc. For example, the print command embedded in the e-mail message to the user may be parsed to determine if one or more print options are present. For example, the print command may be parsed to determine if a print job notification or other options have been enabled by the user.","In step , the status of the print job sent to printer  may be monitored. In some embodiments, a print server running on server  and\/or print controller  may be tasked with reporting status. In step , if a job notification has been requested (\u201cY\u201d in step ), then the print job may be monitored and event-based notifications may be sent to the user in step . For example, the user may be notified when the job is complete, or about any error conditions preventing completion, or when some specified number of pages or copies have been printed. If secure printing has been enabled then the user may be prompted via e-mail to retrieve the job. If no job notification has been requested (\u201cN\u201d in step ), or the requested notification has already been sent (in step ) then the algorithm returns to step  to begin a subsequent iteration.","Using disclosed embodiments, an employee, or an authorized visitor to an organizational facility may be able to print documents easily without the need to install printer drivers and other software. The user may simply send an e-mail message to an appropriately configured server at an easily-remembered e-mail address such as \u201cprinter@organization_name.com\u201d to obtain printer state or sub-state information, including information about configuration, the capabilities of the printer, status information, print options, and help with commands etc. The commands embedded in the e-mail may be parsed by server , which can then send appropriate commands to direct printer  to print content, documents, and\/or other attachments to the e-mail. Jobs may be sent to printer  for printing by server  using specified print options, and the sender can receive notifications about the print job status. In some embodiments, the tasks specified above may be performed by sending an e-mail message from a wireless handheld device such as a smart phone, Personal Data Assistant (\u201cPDA\u201d), netbook, and\/or other computing devices that have e-mail capabilities.","In some embodiments, server  may be configured to recognize \u201cuser groups\u201d from user e-mail addresses and may respond to capability queries based on information about capabilities available to the user group. For example, certain user groups may be prevented from utilizing specified printers in the organization. For example, in situations where server  determines that the e-mail originates from a member of a user group that is prohibited from using printer -, then it may respond to requests pertaining to printer - by indicating that it is \u201cunavailable\u201d. In other situations, server  may respond to a user request from a member of a specified user-group with a message that omits listing printers that the user is prohibited from utilizing. In general, server  may redact some sub-state information, or otherwise alter its response, if it determines that there are restrictions associated with the sender or the sender's user group. Accordingly, in some embodiments, servers  may be configured to enforce organizational policies pertaining to device usage. In some embodiments, methods  and  may be performed concurrently. For example, server  may respond to user commands embedded in e-mail messages, while concurrently updating the database to reflect any capability and\/or printer changes.","In some embodiments, a program for conducting the process described in algorithms  and  can be recorded on computer-readable media  or computer-readable memory. These include, but are not limited to, Read Only Memory (ROM), Programmable Read Only Memory (PROM), Flash Memory, Non-Volatile Random Access Memory (NVRAM), or digital memory cards such as secure digital (SD) memory cards, Compact Flash\u2122, Smart Media\u2122, Memory Stick\u2122, and the like. In some embodiments, one or more types of computer-readable media may be coupled to printer . In certain embodiments, portions of a program to implement the systems, methods, and structures disclosed may be delivered over network .","Other embodiments of the present invention will be apparent to those skilled in the art from consideration of the specification and practice of one or more embodiments of the invention disclosed herein. It is intended that the specification and examples be considered as exemplary only, with a true scope and spirit of the invention being indicated by the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3","b":"300"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
