---
title: Feature-extraction-based image scoring
abstract: Methods, apparatuses and systems directed to calculating a probability that a user or set of users will engage with a multimedia object for customizing content in a social networking system. In one embodiment, a generative model representing all users is utilized to calculate the probability that all users will interact with a given multimedia object. In another embodiment, the same generative model is utilized to calculate a user-specific engagement probability for a given multimedia object. In particular embodiments, the generative model uses Bayesian probability. In particular embodiments, one or more policies are applied to the photos to customize the browsing experience for users.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08929615&OS=08929615&RS=08929615
owner: Facebook, Inc.
number: 08929615
owner_city: Menlo Park
owner_country: unknown
publication_date: 20111103
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","DETAILED DESCRIPTION OF EXAMPLE EMBODIMENT(S)"],"p":["The present disclosure relates generally to image analysis.","Social networks, or social utilities that track and enable connections between users (including people, businesses, and other entities), have become prevalent in recent years. In particular, social networking systems allow users to communicate information more efficiently. For example, a user may post contact information, background information, job information, hobbies, or other user-specific data to a location associated with the user on a social networking system. Other users can then review the posted data by browsing user profiles or searching for profiles including specific data. Social networking systems also allow users to associate themselves with other users, thus creating a web of connections among the users of social networking system. These connections among the users can be leveraged by the website to offer more relevant information to each user in view of the users' own stated interests in their connections.","A system, such as a website, that allows users to interact with the system typically stores a record for each users of the system. These records may comprise information provided by the user as well as information gathered by the system related to activities or actions of the user on the system. For example, a system may require a user to enter information such as contact information, gender, preferences, interests, and the like in an initial interaction with the system, which is stored in the user's record. A user's activities on the system, such as frequency of access of particular information on the system, also provide information that can be stored in the user's record. The system may then use information provided by the user and information gathered about the user, to customize interactions of the system with the user.","Users may post multimedia objects, such as photos and videos, to share with other users of the social networking system. Traditionally, the uploading user controls the order in which multimedia objects are arranged in a photo album, and the social networking system determines based on a preset rule what photo to display to other users.","The figures depict various embodiments of the present disclosure for purposes of illustration only. One skilled in the art will readily recognize from the following discussion that alternative embodiments of the structures and methods illustrated herein may be employed without departing from the principles of the invention described herein.","Overview","Particular embodiments relate to a social networking environment including a social networking system. A social networking system offers its users the ability to communicate and interact with other users of the social networking system. Users join the social networking system and then add connections to a number of other users to whom they desire to be connected. Once they are members of the social network, the users may interact with the social network itself, by posting stories and status messages on their own page, other users, by commenting, posting stories, etc. on other users' pages, or with non-user entities, such as fan pages that they subscribe to, online deals they redeem or subscribe to, or locations that they check in to. Additionally, users may upload multimedia objects, such as photos and videos, to the social networking system to share with other users of the social network. Users may take explicit actions on a social network to associate a photo with another element the social network, such as uploading a photo or video to an event page, or tagging individuals in the multimedia object. In particular embodiments, the social networking system may create implicit connections between user nodes and object nodes based on various factors, such as objects, brands, and locations recognized in uploaded photos through computer vision algorithms.","In the present disclosure, the social network environment may be described in terms of a social graph including social graph information. In particular embodiments, one or more computing systems of the social network environment implementing the social network environment include, store, or have access to a data structure that includes social graph information for use in implementing the social network environment described herein. The social network utilizes a social graph that includes nodes representing users and concepts in the social network environment as well as edges that define or represent connections between such nodes.","In particular embodiments, the social graph information includes a first set of user nodes that each correspond to a respective user, and a second set of concept nodes that each correspond to a respective concept. As used herein, a \u201cuser\u201d may be an individual (human user), an entity (e.g., an enterprise, business, or third party application), or a group (e.g., of individuals or entities) that interacts or communicates with or over such a social network environment. As used herein, a \u201cconcept\u201d may refer to virtually anything that a user may declare or otherwise demonstrate an interest in, a like towards, or a relationship with, such as, by way of example, a sport, a sports team, a genre of music, a musical composer, a hobby, a business (enterprise), an entity, a group, a third party application, a celebrity, a person who is not a registered user, etc. In particular embodiments, each node has, represents, or is represented by, a corresponding web page (\u201cprofile page\u201d) hosted or accessible in the social network environment.","By way of example, a user node may have a corresponding user profile page in which the corresponding user can add content, make declarations, and otherwise express him or herself, while a concept node may have a corresponding concept profile page (\u201chub\u201d) in which a plurality of users can add content, make declarations, and express themselves, particularly in relation to the concept. In particular embodiments, the social graph information further includes a plurality of edges that each define or represent a connection between a corresponding pair of nodes in the social graph.","In particular embodiments, photographs uploaded to the social networking system are subject to an image object recognition algorithm. The image object recognition algorithm compares the uploaded image to images stored in a photographic object database and searches for similar objects. Methods for object searching are well-known in the art, and may include frequency-domain image processing, filtering, wavelet analysis, feature extraction, learning-algorithms such as neural networks, texture recognition, and the like. This disclosure contemplates any type of computer vision algorithms for finding matching objects. This disclosure hereby incorporates by reference commonly-owned U.S. utility patent application, U.S. patent application Ser. No. 13\/212,344 entitled, \u201cComputer-Vision Content Detection for Connecting Objects in Media to Users,\u201d previously filed on 18 Aug. 2011.","The present disclosure extends these concepts by scoring an uploaded multimedia object based on a generative model that predicts how engaging the multimedia object is to all users, a particular user, or a particular set of users.","Various portions of such a social networking platform may be implemented via a hardware architecture or software framework that enables various software components or processes to implement particular embodiments, as is described in more detail, by way of example and not by way of limitation, below. The platform may include one or more hardware or software components, one or more of which may be located or embodied in one or more consolidated or distributed computing systems. Additionally, as used herein, \u201cor\u201d may imply \u201cand\u201d as well as \u201cor;\u201d that is, \u201cor\u201d does not necessarily preclude \u201cand,\u201d unless explicitly stated or implicitly implied.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 1","FIG. 1"],"b":["100","250","300","260","300","250","250","250","240","250","240","300","250","250"]},"Social networking system  comprises a computing system that allows members to communicate or otherwise interact with each other and access content as described herein. Social networking system  stores member profiles that describe the members of a social network, including biographic, demographic, and other types of descriptive information, such as work experience, educational history, hobbies or preferences, location, and the like. Social networking system  may be a website that further stores data describing one or more relationships between different members. The relationship information may indicate members who have similar or common work experience, group memberships, hobbies, or educational history.","A user of the client device  interacts with the social networking system  via an application, such as a web browser or a native application, to perform operations such as browsing content, posting and sending messages, retrieving and sorting messages received from other users, uploading multimedia objects, and the like. Client device  may also use an application or browser to pull and view profile information for various user nodes and hubs in social networking system .","Social networking system  comprises an object store , and a graph information store . The object store  stores information on objects, such as users, represented in or by the social networking environment . The graph information store  stores information on the relationships of the objects in the object store .","Object store  includes various storage areas. User store  includes profile pages for specific user accounts or members of social networking system . Hubs store  includes profile or hub pages for concept nodes such as businesses, locations, and celebrities. Apps store  includes third-party applications that users may install and run on their profile page. Media store  includes uploaded user media such as photos, videos, audio files, and other types of multimedia objects.","Image object database  stores information regarding physical real-world objects or logos, that may be associated with concept nodes, such as brand, product, or company. Image object database  may also include multiple images associated with real-world physical locations. Image object database  is communicatively coupled to hubs store , concepts store , events store , and locations store .","In one implementation, each object can be maintained as a node in a social graph or other data structure maintained by the social networking system. Social networking system  may allow users to access information regarding each object using a client application (e.g., a browser) hosted by a wired or wireless station, such as a laptop, desktop or mobile device. For example, social networking system may serve web pages (or other structured documents) to users that request information about an object. In addition to user profile and place information, the social networking system may track or maintain other information about the user. For example, the social networking system may support geo-social networking system functionality including one or more location-based services that record the user's location. For example, users may access the geo-social networking system using a special-purpose client application hosted by a mobile device of the user (or a web- or network-based application using a browser client). The client application may automatically access Global Positioning System (GPS) or other geo-location functions supported by the mobile device and report the user's current location to the geo-social networking system. In addition, the client application may support geo-social networking functionality that allows users to check-in at various locations and communicate this location to other users.","Feature extraction API  accesses photographic object database . Photographic object database  contains a collection of images of logos, products, brands, and the like. In particular embodiments, photographic object database  includes, for each photo, an association with a particular concept node stored in concept store . In particular embodiments, searchable text extracted through OCR is stored in association with photo images containing signage or other sources of text. For example, photographic object database  may store the text \u201cCoca-Cola\u201d in a searchable format in association with a photo of a Coca-Cola product. In particular embodiments, photographic object database  stores a link to the node associated with the object, and pulls text or other related data directly from the node as necessary. Feature extraction API also extracts a number of features from photos. For example, feature extraction API may detect the number of people in a photo, the gender of people in a photo, the size of their faces, whether or not they are smiling, and, dependent on facial recognition algorithms, the identity and user node of people detected in photographs. In particular embodiments, Feature extraction API  may also extract information about the photo itself via EXIF data or other forms of metadata. This disclosure contemplates any suitable type of feature extraction by feature extraction API .","Photographic object database  may be updated to keep the photographs current. In particular embodiments, photos and videos received from other users may be utilized to update photographic object database . In particular embodiments, location feature extraction API  may pull images from third-party sites  such as Yelp! or Google Images to update photographic object database .","Additionally, social networking system  includes a web server , an action logger , an action log , a newsfeed generator , an ad server , and a database of ad requests . In other embodiments, social networking system  may include additional, fewer, or different modules for various applications.","Web server  links social networking system  via network  to one or more client devices , as well as to one or more third party websites . Web server  may include a mail server or other messaging functionality for receiving and routing messages between social networking system  and client devices  or third party websites . The messages can be instant messages, queued messages (e.g., email), text and SMS messages, or any other suitable messaging technique.","Action logger  is capable of receiving communications from the web server  about member actions on or off social networking system . Newsfeed generator  generates communications for each member about information that may be relevant to the member. These communications may take the form of stories, each story is an information message comprising one or a few lines of information about an action in the action log that is relevant to the particular member. The stories are presented to a member via one or more pages of the social networking system , for example in each member's home page or newsfeed page.","Ad server  performs an ad selection algorithm. Ad server  is communicatively coupled to the database of ad requests  and to action log  for this purpose.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 2","b":["200","200","205","206","201","204","140","100","201","140","202","150","200","140"]},"Feature extraction API  may also extract other features of a given multimedia object or image. For example, API  may detect the number of people in image . In particular embodiments, API  may detect the gender of the people in photo . In particular embodiments, API  may, through facial recognition algorithms, match detected faces to users in the social networking system. In particular embodiments, API  may detect the relative or average distance between users in photograph . In particular embodiments, API  may detect the size of the faces detected in photograph . In particular embodiments, API  may detect the number of people who are actually looking at the camera lens in photo . In particular embodiments, API  may detect or estimate the ethnicity of individuals in photo . In particular embodiments, API  may estimate the state of undress of the people in photo , by detecting large swaths of a set of common colors, such as identified skin tones. This disclosure contemplates any suitable method of feature extraction through application of computer vision algorithms.","In particular embodiments, API  may also extract information from metadata or EXIF data attached to the uploaded image. For example, in particular embodiments, API  may determine the time of day a photo was captured, the day of the week it was captured, the type of device or camera with which the photo was captured, and the settings with which the photo was captured (such as the aperture, exposure, shutter speed, ISO setting, focal length, flash settings, etc.) from the EXIF data appended to the image file. In particular embodiments, where the capture device includes location data from GPS or geo-tagging, API  may extract the location from which the image was captured. In particular embodiments, API  may extract the resolution and color depth from the image, whether the image was modified and by what software, the metering and autofocus settings, or any other metadata of the image. This disclosure contemplates extracting and coding any suitable data from an image file.","Extracted features  displays a list of features or characteristics -extracted by API  from photo . In particular embodiments, each feature corresponds to a characteristic or feature node in the social graph. In particular embodiments, extracted data may be categorized into generally characteristic nodes. For example, time characteristic indicates that the photo was taken late on a Saturday evening. While the EXIF or metadata for the photograph may be expressed in a month, day, year, time format, (for example, Saturday, Jan. 24, 2011 at 23:39 PST), it is unlikely that such a degree of granularity is necessary to identify patterns in the level of engagement of the photo. Thus in particular embodiments, various extracted features may be generalized and placed into broad feature categories such as \u201ccaptured Saturday\u201d or \u201ccaptured during evening.\u201d In particular embodiments, a specific characteristic node may be generated for the precise date and time, and the social networking system may generate edges from the precise date\/time node to a broader feature category node. This disclosure contemplates any suitable method of generating and categorizing nodes representing extracted features of multimedia objects.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 3","b":["300","300","307","306","307","300","300","307","307","300"]},"The social networking system may generate engagement edges between photo  and a specific user node such as node , or a specialized node for all users . Thus in particular embodiments, the social networking system tracks the degree of engagement for a given photo for all users. In particular embodiments, a direct edge may be generated from engaged photo  to node  representing all users. In particular embodiments, a \u201cmember of\u201d edge  may be generated between user node  and all users node . In particular embodiments, the social networking system may generate custom nodes representing a set of more than one user. For example, users may be placed into \u201cbuckets\u201d based on social demographics, such as age, social proximity, and the like. As an example, photo  may be highly engaged by single male users in the 21 to 28 age group, and the social networking system, upon detecting this pattern, may add the photo to a model or profile for the single males in the 21-28 age group, or any other \u201cbucket\u201d of users.","The social graph may contain nodes for each of the features -extracted by API . For the sake of clarity, only four extracted features are displayed in , but one of ordinary skill would easily recognize that a separate node may exist for each of the features -. In particular embodiments, the nodes are preexisting user and object nodes detected by API , such as detected user node \u201cJohn Smith\u201d and detected object node \u201cGrey Goose Vodka\u201d . Each of the aforementioned nodes and are connected to the node for engaged photo  via \u201cdetected\u201d edges , indicating that the features were detected by feature extraction API . In particular embodiments, the nodes may be generic nodes, such as the node  representing an \u201cunknown female.\u201d In particular embodiments, features are defined by an edge and a node, such as a \u201cdetected\u201d edge  and nodes , and . In particular embodiments, features are defined only by a node, such as \u201cface size=medium\u201d node  connected by a generic \u201cfeature\u201d edge . This disclosure contemplates any suitable manner of representing extracted features -on a social graph.","In particular embodiments, nodes on the social networking system associated with engaged photo , such as user and object nodes and , may include explicit edge connections to user nodes that have engaged photo  or other nodes on the social networking system (not shown). For example, user node  has \u201cliked\u201d Grey Goose , and the social networking system connects the two nodes via a \u201cliked\u201d edge . However, it is possible, in particular embodiments, that the majority of extracted features -are represented by nodes on the social networking system that are invisible to the users, and therefore do not contain explicit edge connections to other nodes. For example, the node , representing the characteristic that one of the detected people in the photo is an \u201cunknown female\u201d, is generally invisible to users, and users cannot \u201clike\u201d, comment on, or otherwise explicitly interact with this node. However, it may be the case that the user consistently and frequently views multimedia objects with unknown females. This relationship is captured in the generative model as described with respect to .","In particular embodiments, the social networking system may calculate features of engaged photo  that are specific to a particular user. For example, the social networking system may calculate, the number of users detected in the photo who are friends with the viewing user. As another example, the social networking system may calculate an average social distance between the users detected in a photograph and the users viewing the photo. For example, if there are three users detected in a photo, and two are friends with the viewing user (one degree of separation) and one is a friend of a friend, the average social distance would be 1.33. In particular embodiments, the social networking system may calculate or utilize a social coefficient that expresses the closeness between two users on the social networking system. For example, a user is more likely to view a photo containing friends that he often chats, messages, or otherwise interacts with on the social networking system. This disclosure contemplates any suitable manner of utilizing social networking information between the users detected in the photo and the viewing user. In particular embodiments, this social networking information may be expressed as an edge between the photo and the viewing user node, such as edge , which contains information about the average social distance between the detected users in photo  and user node .",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 4","b":["307","306","306"]},"In particular embodiments, the engagement metric is calculated by Bayesian probability. For didactic purposes, the model M of  is the model\/profile for user node . In particular embodiments, the generative model, also referred to as a \u201clatent variable model\u201d or \u201ccausal model\u201d, includes a set of multivariate data D, in this case, a set of photos D-Dthat user  has permission to view. In particular embodiments, the social networking system may maintain a separate model for each type of engagement for each type of user. For example, the social networking system may only draw links between data points and features for photos that user  has commented on, and generate a separate model for the probability a user comments on a given photo. In particular embodiments, each type of link is assigned a different weight, for example, commenting on or \u201cliking\u201d a photo may be factored more heavily than simply viewing a photo. For didactic purposes, the links include all interactions of any manner, including viewing. The multivariate data D may be explained in terms of a set of underlying causes \u03b1. In the generative model of , the causes are the extracted features from photos D-D, in this example, detected unknown female , detected user node , detected object node , and medium-sized detected faces . The extracted features may be connected by one or more links that represent how the causes interact with each other. For example, it may be possible that unknown female faces  are often detected in the same photograph as Grey Goose vodka . In particular embodiments, the links may be linear (as in the case of factor analysis), or more generally they may instantiate highly non-linear interactions among the features or between the features or the data. In particular embodiments, the data set D is updated dynamically, that is, as users upload photos or multimedia objects to the social networking system, new data points Dn are added, and as users interact with photos by viewing, liking, commenting, etc. on photos, new links are added from the photos to the features for the user or users that interacted with the photos.","There are two fundamental problems to solve in the generative model. One is to infer the best set of features to represent a specific data item D-Din set D. The other is to learn the best model, M, for explaining the entire set of data D. The first problem may be seen as one of perception, while the second is one of adaptation.","In particular embodiments, inferring the best set of causes to explain a given piece of data involves maximizing the posterior over a (or alternatively computing its mean).",{"@attributes":{"id":"p-0049","num":"0048"},"maths":[{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mover":{"mi":"\u03b1","mo":"^"},"mo":"=","mrow":{"mi":"arg","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"munder":{"mi":["max","\u03b1"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"P","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"\u03b1","mo":"|","mrow":{"msub":{"mi":["D","i"]},"mo":"\u2062","mi":"M"}}}}}}}}},{"@attributes":{"id":"MATH-US-00001-2","num":"00001.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mover":{"mi":"\u03b1","mo":"^"},"mo":"=","mrow":{"mi":"arg","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"munder":{"mi":["max","\u03b1"]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mrow":[{"mi":"P","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":[{"mi":["D","i"]},{"mi":["\u03b1","i"]}],"mo":"|"},"mo":",","mi":"M"}}},{"mi":"P","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03b1","M"],"mo":"|"}}}],"mo":"\u2062"}}}}}}]},"In particular embodiments, the model M specifies the set of potential causes, their prior probabilities, and the generative process by which they give rise to the data. Learning a specific model M, that best accounts for all the data is accomplished by maximizing the posterior distribution over the models, which according to Bayes' rule is:\n\n()\u03b1()()\n","In particular embodiments, the calculation is agnostic in the prior over the model, and thus the model maximizes the likelihood of P(D|M); i.e., the probability that the user engages the entire set of photos. The total probability that user  engages a photo for all the data is therefore:\n\n()=()\u00d7()\u00d7 . . . \u00d7()\n\n()=\u03a0()\n","where Ddenotes an individual data item (e.g., a particular image). The probability of the user engaging an individual data item (i.e., any particular photo) is thus obtained by summing over all the possible features for the data:",{"@attributes":{"id":"p-0053","num":"0052"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"P","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["D","i"]},"mo":"|","mi":"M"}}},{"munder":{"mo":"\u2211","mi":"\u03b1"},"mo":"\u2062","mrow":{"mrow":[{"mi":"P","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"msub":{"mi":["D","i"]},"mo":"|","mi":"\u03b1"},"mo":",","mi":"M"}}},{"mi":"P","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03b1","M"],"mo":"|"}}}],"mo":"\u2062"}}],"mo":"="}}}},"In other words, the probability that a user or set of users engages a particular photo Dfor a model M is the summation of the probability that a user engages the particular photo given that the photo has a certain feature, multiplied by the probability that a user engages all photos having that feature the certain feature, for all features. In particular embodiments, this sum may be approximated by other less-computationally-intensive functions. Although this disclosure describes a particular method of calculating a probability of engagement (or \u201cengagement metric\u201d), any suitable mathematical method may be employed. In particular embodiments, genetic algorithms may be utilized. Methods of generating learning models based on observed occurrences are well-known in the art.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 5"},"At Step , the social networking system receives a multimedia object (in this example, a photo). As is well-known in the art users may upload photos to the social networking system through a variety of network connections, such as through a traditional wired internet connection and PC, or a wireless cellular data network through a mobile device such as a mobile phone or tablet. In particular embodiments, uploaded photos have privacy settings that specify what users on the social networking system may view the photo. In particular embodiments, the generative model takes into account the potential audience of a photo versus its degree of engagement; photos that have a low potential audience (i.e., it is visible to very few people) will naturally have a very low degree of engagement. Although  describes a method of calculating an engagement metric for all users, it should be readily apparent that the method of  may be applied to generating an engagement metric for any model, whether for a single user or a set of demographically grouped users.","At Step , feature extraction API  extracts the various features discussed with respect to  from the uploaded image. In particular embodiments, feature extraction API  begins extracting features immediately upon upload. In particular embodiments, feature extraction API  cycles through the uploaded photos in accordance with a load-balancing algorithm. For example, if a large number of users upload photos simultaneously, feature extraction API  may queue photos at a later time so as to not overtax the processors of the social networking system.","In Step , the social networking system compares the extracted features to the features of a global engagement profile, and in Step  the social networking system calculates a global engagement metric. Mathematically, Steps  and  occur in the same step. The social networking system calculates the probability that all users will engage the uploaded photo based upon a model M that represents all users.","At Step , the engagement metric is stored in association with the photo. In particular embodiments, the engagement metric may be updated based upon newer observed interactions or engagements. In particular embodiments, the engagement metric is updated substantially in real time. In particular embodiments, the engagement metric is updated periodically at predetermined intervals. This disclosure contemplates any suitable method of updating the engagement metric.","At Step , the social networking system applies various policies to the photo based on its calculated engagement metric. For example, the social networking system may not show the photo to a user in his or her newsfeed if the engagement metric is below a predetermined threshold. In particular embodiments, the social networking system may boost photos with a high engagement metric to the top of a user's newsfeed, or promote the photos with a high engagement metric to the album cover. In particular embodiments, the social networking system may increase the permanence of photos in users' newsfeeds for photos having an engagement metric over a predetermined threshold. In particular embodiments, the social networking system may promote photos with an engagement metric above a predetermined threshold to different portions of the uploading user's profile. In particular embodiments, the social networking system prioritizes photos with higher engagement metrics for sponsored stories. This disclosure contemplates any suitable policy or action performed by the social networking system for photos based on engagement metric.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":["FIG. 6","FIG. 6"]},"At Step , the social networking system receives a request for content from a particular user. The content may be any web or mobile web content that includes one or more photos or links to one or more photos, such as a newsfeed, place page, the user's own profile page, another user's profile page, business hub page, fan page, and the like. In particular embodiments, any view that pulls from a set of photos is also considered to \u201ccontain\u201d the photos. For example, generally when a user posts a set of photos, the most recently posted four photos are included in a newsfeed story for display to the user's friends. Although the newsfeed view does not contain all the photos in the album, because it contains a link to the entire set of photos, the newsfeed view is, for the purposes of this application, considered to include every single photo or multimedia object in the album.","At Step , the social networking system identifies all the photos that may possibly be displayed in the content. As discussed above, the set of all the photos may include photo sets from which photos are to be pulled. As another example, viewing a user's profile page may include four or five photos in which the user is tagged; generally these are arranged chronologically, but the social networking system may pull from the entire set of photos in which the users is tagged. The process then begins a loop for each identified photo.","At Step , feature extraction API  obtains the features for the first photo in the set of photos identified in Step . This process is substantially identical to the feature extraction processes as described above.","At Step , the social networking system compares the extracted features to the features of the requesting user's model or engagement profile, and at Step , the social networking system generates an engagement metric for the particular photo and particular user model M. As described above, mathematically Steps  and  occur in the same step.","At step , the social networking system checks if engagement metrics have been calculated for all photos, if not, the process selects the next photo in Step  and loops back to extracting the features for that photo in Step . The process continues until all photos have been scored.","At Step , the social networking system applies a set of predetermined policies and generates the requested view\/content for display to the user. For example, the social networking system may generate a newsfeed view including a photo album story for the user, wherein the four photos displayed in the newsfeed story are the four photos with the highest engagement score uploaded within a predetermined period. Thus, a user is informed that new photos were uploaded, but on the most personally interesting photos are displayed. As another example, when a user requests to view another user's profile, the top four photos by engagement score may be displayed at the top of the other user's profile. In particular embodiments, the engagement score may be used as album covers when a user requests to view a thumbnail view of all of another user's albums; each album cover would comprise the most personally interesting photo within that album. In particular embodiments, photos may be sorted by engagement metric; for example, if a user clicks another user's albums, the photos with the most personally interesting photos will be displayed to the requesting user first. This disclosure contemplates any suitable policy based on engagement metrics. Through application of the method of , the social networking system may tailor individual users' browsing experiences such that the photos they wish to see are surfaces with greater frequency, and photos they generally avoid will effectively vanish from their browsing experience.","While the foregoing embodiments may be implemented in a variety of network configurations, the following illustrates an example network environment for didactic, and not limiting, purposes.  illustrates an example network environment . Network environment  includes a network  coupling one or more servers  and one or more clients  to each other. Network environment  also includes one or more data storage  linked to one or more servers . Particular embodiments may be implemented in network environment . For example, social networking system frontend  may be written in software programs hosted by one or more servers . For example, event database  may be stored in one or more storage . In particular embodiments, network  is an intranet, an extranet, a virtual private network (VPN), a local area network (LAN), a wireless LAN (WLAN), a wide area network (WAN), a metropolitan area network (MAN), a portion of the Internet, or another network  or a combination of two or more such networks . The present disclosure contemplates any suitable network .","One or more links  couple a server  or a client  to network . In particular embodiments, one or more links  each includes one or more wired, wireless, or optical links . In particular embodiments, one or more links  each includes an intranet, an extranet, a VPN, a LAN, a WLAN, a WAN, a MAN, a portion of the Internet, or another link  or a combination of two or more such links . The present disclosure contemplates any suitable links  coupling servers  and clients  to network .","In particular embodiments, each server  may be a unitary server or may be a distributed server spanning multiple computers or multiple datacenters. Servers  may be of various types, such as, for example and without limitation, web server, news server, mail server, message server, advertising server, file server, application server, exchange server, database server, or proxy server. In particular embodiments, each server  may include hardware, software, or embedded logic components or a combination of two or more such components for carrying out the appropriate functionalities implemented or supported by server .","In particular embodiments, one or more data storages  may be communicatively linked to one or more servers  via one or more links . In particular embodiments, data storages  may be used to store various types of information Particular embodiments may provide interfaces that enable servers  or clients  to manage, e.g., retrieve, modify, add, or delete, the information stored in data storage .","In particular embodiments, each client  may be an electronic device including hardware, software, or embedded logic components or a combination of two or more such components and capable of carrying out the appropriate functions implemented or supported by client . For example and without limitation, a client  may be a desktop computer system, a notebook computer system, a netbook computer system, a handheld electronic device, or a mobile telephone. The present disclosure contemplates any suitable clients . A client  may enable a network user at client  to access network . A client  may enable its user to communicate with other users at other clients .","A client  may have a web browser , such as MICROSOFT INTERNET EXPLORER, GOOGLE CHROME or MOZILLA FIREFOX, and may have one or more add-ons, plug-ins, or other extensions, such as TOOLBAR or YAHOO TOOLBAR. A user at client  may enter a Uniform Resource Locator (URL) or other address directing the web browser  to a server , and the web browser  may generate a Hyper Text Transfer Protocol (HTTP) request and communicate the HTTP request to server . Server  may accept the HTTP request and communicate to client  one or more Hyper Text Markup Language (HTML) files responsive to the HTTP request. Client  may render a web page based on the HTML files from server  for presentation to the user. The present disclosure contemplates any suitable web page files. Herein, reference to a web page encompasses one or more corresponding web page files (which a browser may use to render the web page) and vice versa, where appropriate.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 8","b":["800","800","800","800","800"]},"This disclosure contemplates any suitable number of computer systems . This disclosure contemplates computer system  taking any suitable physical form. As example and not by way of limitation, computer system  may be an embedded computer system, a system-on-chip (SOC), a single-board computer system (SBC) (such as, for example, a computer-on-module (COM) or system-on-module (SOM)), a desktop computer system, a laptop or notebook computer system, an interactive kiosk, a mainframe, a mesh of computer systems, a mobile telephone, a personal digital assistant (PDA), a server, a tablet computer system, or a combination of two or more of these. Where appropriate, computer system  may include one or more computer systems ; be unitary or distributed; span multiple locations; span multiple machines; span multiple datacenters; or reside in a cloud, which may include one or more cloud components in one or more networks. Where appropriate, one or more computer systems  may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation, one or more computer systems  may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more computer systems  may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein, where appropriate.","In particular embodiments, computer system  includes a processor , memory , storage , an input\/output (I\/O) interface , a communication interface , and a bus . Although this disclosure describes and illustrates a particular computer system having a particular number of particular components in a particular arrangement, this disclosure contemplates any suitable computer system having any suitable number of any suitable components in any suitable arrangement.","In particular embodiments, processor  includes hardware for executing instructions, such as those making up a computer program. As an example and not by way of limitation, to execute instructions, processor  may retrieve (or fetch) the instructions from an internal register, an internal cache, memory , or storage ; decode and execute them; and then write one or more results to an internal register, an internal cache, memory , or storage . In particular embodiments, processor  may include one or more internal caches for data, instructions, or addresses. This disclosure contemplates processor  including any suitable number of any suitable internal caches, where appropriate. As an example and not by way of limitation, processor  may include one or more instruction caches, one or more data caches, and one or more translation lookaside buffers (TLBs). Instructions in the instruction caches may be copies of instructions in memory  or storage , and the instruction caches may speed up retrieval of those instructions by processor . Data in the data caches may be copies of data in memory  or storage  for instructions executing at processor  to operate on; the results of previous instructions executed at processor  for access by subsequent instructions executing at processor  or for writing to memory  or storage ; or other suitable data. The data caches may speed up read or write operations by processor . The TLBs may speed up virtual-address translation for processor . In particular embodiments, processor  may include one or more internal registers for data, instructions, or addresses. This disclosure contemplates processor  including any suitable number of any suitable internal registers, where appropriate. Where appropriate, processor  may include one or more arithmetic logic units (ALUs); be a multi-core processor; or include one or more processors . Although this disclosure describes and illustrates a particular processor, this disclosure contemplates any suitable processor.","In particular embodiments, memory  includes main memory for storing instructions for processor  to execute or data for processor  to operate on. As an example and not by way of limitation, computer system  may load instructions from storage  or another source (such as, for example, another computer system ) to memory . Processor  may then load the instructions from memory  to an internal register or internal cache. To execute the instructions, processor  may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions, processor  may write one or more results (which may be intermediate or final results) to the internal register or internal cache. Processor  may then write one or more of those results to memory . In particular embodiments, processor  executes only instructions in one or more internal registers or internal caches or in memory  (as opposed to storage  or elsewhere) and operates only on data in one or more internal registers or internal caches or in memory  (as opposed to storage  or elsewhere). One or more memory buses (which may each include an address bus and a data bus) may couple processor  to memory . Bus  may include one or more memory buses, as described below. In particular embodiments, one or more memory management units (MMUs) reside between processor  and memory  and facilitate accesses to memory  requested by processor . In particular embodiments, memory  includes random access memory (RAM). This RAM may be volatile memory, where appropriate Where appropriate, this RAM may be dynamic RAM (DRAM) or static RAM (SRAM). Moreover, where appropriate, this RAM may be single-ported or multi-ported RAM. This disclosure contemplates any suitable RAM. Memory  may include one or more memories , where appropriate. Although this disclosure describes and illustrates particular memory, this disclosure contemplates any suitable memory.","In particular embodiments, storage  includes mass storage for data or instructions. As an example and not by way of limitation, storage  may include an HDD, a floppy disk drive, flash memory, an optical disc, a magneto-optical disc, magnetic tape, or a Universal Serial Bus (USB) drive or a combination of two or more of these. Storage  may include removable or non-removable (or fixed) media, where appropriate. Storage  may be internal or external to computer system , where appropriate. In particular embodiments, storage  is non-volatile, solid-state memory. In particular embodiments, storage  includes read-only memory (ROM). Where appropriate, this ROM may be mask-programmed ROM, programmable ROM (PROM), erasable PROM (EPROM), electrically erasable PROM (EEPROM), electrically alterable ROM (EAROM), or flash memory or a combination of two or more of these. This disclosure contemplates mass storage  taking any suitable physical form. Storage  may include one or more storage control units facilitating communication between processor  and storage , where appropriate. Where appropriate, storage  may include one or more storages . Although this disclosure describes and illustrates particular storage, this disclosure contemplates any suitable storage.","In particular embodiments, I\/O interface  includes hardware, software, or both providing one or more interfaces for communication between computer system  and one or more I\/O devices. Computer system  may include one or more of these I\/O devices, where appropriate. One or more of these I\/O devices may enable communication between a person and computer system . As an example and not by way of limitation, an I\/O device may include a keyboard, keypad, microphone, monitor, mouse, printer, scanner, speaker, still camera, stylus, tablet, touchscreen, trackball, video camera, another suitable I\/O device or a combination of two or more of these. An I\/O device may include one or more sensors. This disclosure contemplates any suitable I\/O devices and any suitable I\/O interfaces  for them. Where appropriate, I\/O interface  may include one or more device or software drivers enabling processor  to drive one or more of these I\/O devices. I\/O interface  may include one or more I\/O interfaces , where appropriate. Although this disclosure describes and illustrates a particular I\/O interface, this disclosure contemplates any suitable I\/O interface.","In particular embodiments, communication interface  includes hardware, software, or both providing one or more interfaces for communication (such as, for example, packet-based communication) between computer system  and one or more other computer systems  or one or more networks. As an example and not by way of limitation, communication interface  may include a network interface controller (NIC) or network adapter for communicating with an Ethernet or other wire-based network or a wireless NIC (WNIC) or wireless adapter for communicating with a wireless network, such as a WI-FI network. This disclosure contemplates any suitable network and any suitable communication interface  for it. As an example and not by way of limitation, computer system  may communicate with an ad hoc network, a personal area network (PAN), a local area network (LAN), a wide area network (WAN), a metropolitan area network (MAN), or one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example, computer system  may communicate with a wireless PAN (WPAN) (such as, for example, a BLUETOOTH WPAN), a WI-FI network, a WI-MAX network, a cellular telephone network (such as, for example, a Global System for Mobile Communications (GSM) network), or other suitable wireless network or a combination of two or more of these. Computer system  may include any suitable communication interface  for any of these networks, where appropriate. Communication interface  may include one or more communication interfaces , where appropriate. Although this disclosure describes and illustrates a particular communication interface, this disclosure contemplates any suitable communication interface.","In particular embodiments, bus  includes hardware, software, or both coupling components of computer system  to each other. As an example and not by way of limitation, bus  may include an Accelerated Graphics Port (AGP) or other graphics bus, an Enhanced Industry Standard Architecture (EISA) bus, a front-side bus (FSB), a HYPERTRANSPORT (HT) interconnect, an Industry Standard Architecture (ISA) bus, an INFINIBAND interconnect, a low-pin-count (LPC) bus, a memory bus, a Micro Channel Architecture (MCA) bus, a Peripheral Component Interconnect (PCI) bus, a PCI-Express (PCI-X) bus, a serial advanced technology attachment (SATA) bus, a Video Electronics Standards Association local (VLB) bus, or another suitable bus or a combination of two or more of these. Bus  may include one or more buses , where appropriate. Although this disclosure describes and illustrates a particular bus, this disclosure contemplates any suitable bus or interconnect.","Herein, reference to a computer-readable storage medium encompasses one or more non-transitory, tangible, computer-readable storage media possessing structure. As an example and not by way of limitation, a computer-readable storage medium may include a semiconductor-based or other integrated circuit (IC) (such, as for example, a field-programmable gate array (FPGA) or an application-specific IC (ASIC)), a hard disk, an HDD, a hybrid hard drive (HHD), an optical disc, an optical disc drive (ODD), a magneto-optical disc, a magneto-optical drive, a floppy disk, a floppy disk drive (FDD), magnetic tape, a holographic storage medium, a solid-state drive (SSD), a RAM-drive, a SECURE DIGITAL card, a SECURE DIGITAL drive, or another suitable computer-readable storage medium or a combination of two or more of these, where appropriate. Herein, reference to a computer-readable storage medium excludes any medium that is not eligible for patent protection under 35 U.S.C. \u00a7101. Herein, reference to a computer-readable storage medium excludes transitory forms of signal transmission (such as a propagating electrical or electromagnetic signal per se) to the extent that they are not eligible for patent protection under 35 U.S.C. \u00a7101. A computer-readable non-transitory storage medium may be volatile, non-volatile, or a combination of volatile and non-volatile, where appropriate.","This disclosure contemplates one or more computer-readable storage media implementing any suitable storage. In particular embodiments, a computer-readable storage medium implements one or more portions of processor  (such as, for example, one or more internal registers or caches), one or more portions of memory , one or more portions of storage , or a combination of these, where appropriate. In particular embodiments, a computer-readable storage medium implements RAM or ROM. In particular embodiments, a computer-readable storage medium implements volatile or persistent memory. In particular embodiments, one or more computer-readable storage media embody software. Herein, reference to software may encompass one or more applications, bytecode, one or more computer programs, one or more executables, one or more instructions, logic, machine code, one or more scripts, or source code, and vice versa, where appropriate. In particular embodiments, software includes one or more application programming interfaces (APIs). This disclosure contemplates any suitable software written or otherwise expressed in any suitable programming language or combination of programming languages. In particular embodiments, software is expressed as source code or object code. In particular embodiments, software is expressed in a higher-level programming language, such as, for example, C, Perl, or a suitable extension thereof. In particular embodiments, software is expressed in a lower-level programming language, such as assembly language (or machine code). In particular embodiments, software is expressed in JAVA. In particular embodiments, software is expressed in Hyper Text Markup Language (HTML), Extensible Markup Language (XML), or other suitable markup language.","The client-side functionality described above can be implemented as a series of instructions stored on a computer-readable storage medium that, when executed, cause a programmable processor to implement the operations described above. While the client device  may be implemented in a variety of different hardware and computing systems,  shows a schematic representation of the main components of an example computing platform , according to various particular embodiments. Multipoint sensing devices generally include a controller  which may comprise a microcontroller or one or more processors configured to execute instructions and to carry out operations associated with a computing platform. In various embodiments, controller  may be implemented as a single-chip, multiple chips or other electrical components including one or more integrated circuits and printed circuit boards. Controller  may optionally contain a cache memory unit for temporary local storage of instructions, data, or computer addresses. By way of example, using instructions retrieved from memory, controller  may control the reception and manipulation of input and output data between components of computing platform .","Controller  together with a suitable operating system may operate to execute instructions in the form of computer code and produce and use data. The operating system, other computer code (including control client  described below) or data may be physically stored within a memory block  that is operatively coupled to controller . Memory block  encompasses one or more storage media and generally provides a place to store computer code (e.g., software or firmware) and data that are used by the computing platform . Memory block  may also include one or more fixed storage devices in the form of, by way of example, solid-state hard disk drives (HDDs), among other suitable forms of memory coupled bi-directionally to controller . Information may also reside on a removable storage medium loaded into or installed in multipoint sensing devices when needed.","Controller  is also generally coupled to a variety of interfaces such as graphics control, video interface, input interface, output interface, and storage interface, and network interface, and these interfaces in turn are coupled to the appropriate devices. In certain embodiment, Controller  may connected to an input structure  and display  may be provided together, such an in the case of a touchscreen where a touch sensitive mechanism is provided in conjunction with the display . In such embodiments, the user may select or interact with displayed interface elements via the touch sensitive mechanism. In this way, the displayed interface may provide interactive functionality, allowing a user to navigate the displayed interface by touching the display .","Electric signals (e.g., analog) may be produced by microphone  and fed to earpiece . Controller  may receive instruction signals from input structure  and control the operation of display . By way of example, display  may incorporate liquid crystal display (LCD), light emitting diode (LED), Interferometric modulator display (IMOD), or any other suitable display technology. Audio signals may be transmitted and received by means of an antenna  that may be connected through a radio interface  or audio input interface such as microphone  to codec  configured to process signals under control of controller . Additionally, multipoint sensing devices may be powered power source .","Computing platform  may also include one or more user input devices  (other than input structure ) that are operatively coupled to the controller . Generally, input devices  are configured to transfer data, commands and responses from the outside world into multipoint sensing devices. By way of example, mobile device may include a keyboard or mouse. Input devices  may also include one or more hard buttons.","Display device  is generally configured to display a graphical user interface (GUI) that provides an easy to use visual interface between a user of the computing platform  and the operating system or application(s) running on the mobile device. Generally, the GUI presents programs, files and operational options with graphical images. During operation, the user may select and activate various graphical images displayed on the display  in order to initiate functions and tasks associated therewith.","Herein, \u201cor\u201d is inclusive and not exclusive, unless expressly indicated otherwise or indicated otherwise by context. Therefore, herein, \u201cA or B\u201d means \u201cA, B, or both,\u201d unless expressly indicated otherwise or indicated otherwise by context. Moreover, \u201cand\u201d is both joint and several, unless expressly indicated otherwise or indicated otherwise by context. Therefore, herein, \u201cA and B\u201d means \u201cA and B, jointly or severally,\u201d unless expressly indicated otherwise or indicated otherwise by context.","This disclosure encompasses all changes, substitutions, variations, alterations, and modifications to the example embodiments herein that a person having ordinary skill in the art would comprehend. Similarly, where appropriate, the appended claims encompass all changes, substitutions, variations, alterations, and modifications to the example embodiments herein that a person having ordinary skill in the art would comprehend. Moreover, reference in the appended claims to an apparatus or system or a component of an apparatus or system being adapted to, arranged to, capable of, configured to, enabled to, operable to, or operative to perform a particular function encompasses that apparatus, system, component, whether or not it or that particular function is activated, turned on, or unlocked, as long as that apparatus, system, or component is so adapted, arranged, capable, configured, enabled, operable, or operative.","The foregoing description of the embodiments of the invention has been presented for the purpose of illustration; it is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Persons skilled in the relevant art can appreciate that many modifications and variations are possible in light of the above disclosure. For example, although the foregoing embodiments have been described in the context of a social network system, it will apparent to one of ordinary skill in the art that the invention may be used with any electronic social network service and, even if it is not provided through a website. Any computer-based system that provides social networking functionality can be used in accordance with the present invention even if it relies, for example, on e-mail, instant messaging or other form of peer-to-peer communications, and any other technique for communicating between users. The invention is thus not limited to any particular type of communication system, network, protocol, format or application.","Some portions of this description describe the embodiments of the invention in terms of algorithms and symbolic representations of operations on information. These algorithmic descriptions and representations are commonly used by those skilled in the data processing arts to convey the substance of their work effectively to others skilled in the art. These operations, while described functionally, computationally, or logically, are understood to be implemented by computer programs or equivalent electrical circuits, microcode, or the like. Furthermore, it has also proven convenient at times, to refer to these arrangements of operations as modules, without loss of generality. The described operations and their associated modules may be embodied in software, firmware, hardware, or any combinations thereof.","Any of the steps, operations, or processes described herein may be performed or implemented with one or more hardware or software modules, alone or in combination with other devices. In one embodiment, a software module is implemented with a computer program product comprising a computer-readable medium containing computer program code, which can be executed by a computer processor for performing any or all of the steps, operations, or processes described.","Embodiments of the invention may also relate to an apparatus for performing the operations herein. This apparatus may be specially constructed for the required purposes, or it may comprise a general-purpose computing device selectively activated or reconfigured by a computer program stored in the computer. Such a computer program may be stored in a tangible computer readable storage medium or any type of media suitable for storing electronic instructions, and coupled to a computer system bus. Furthermore, any computing systems referred to in the specification may include a single processor or may be architectures employing multiple processor designs for increased computing capability.","While the foregoing processes and mechanisms can be implemented by a wide variety of physical systems and in a wide variety of network and computing environments, the server or computing systems described below provide example computing system architectures for didactic, rather than limiting, purposes.","The present invention has been explained with reference to specific embodiments. For example, while embodiments of the present invention have been described as operating in connection with a social network system, the present invention can be used in connection with any communications facility that allows for communication of messages between users, such as an email hosting site. Other embodiments will be evident to those of ordinary skill in the art. It is therefore not intended that the present invention be limited, except as indicated by the appended claims.","Finally, the language used in the specification has been principally selected for readability and instructional purposes, and it may not have been selected to delineate or circumscribe the inventive subject matter. It is therefore intended that the scope of the invention be limited not by this detailed description, but rather by any claims that issue on an application based hereon. Accordingly, the disclosure of the embodiments of the invention is intended to be illustrative, but not limiting, of the scope of the invention, which is set forth in the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
