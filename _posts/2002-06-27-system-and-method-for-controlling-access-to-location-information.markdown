---
title: System and method for controlling access to location information
abstract: A system and method for providing location information associated with a location owner to location consumers. A location server includes an owner profile for controlling access to the owner's location information. The owner profile contains a time period during which particular location consumers are authorized to access location information associated with the location owner. In response to a location consumer requesting the location owner's location information, the location server determines whether the request lies within the time period associated with the location consumer. If the request lies within the time period associated with the location consumer, the location server obtains location information from a location provider and transmits the location information to the location consumer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07305365&OS=07305365&RS=07305365
owner: Microsoft Corporation
number: 07305365
owner_city: Redmond
owner_country: US
publication_date: 20020627
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["This invention relates to computer software and communication networks and, more particularly, the invention relates to a system and method for providing personal location information to third parties.","In an information age, remaining connected to information at all times is extremely important. People use many devices and services to stay connected to information and to other people, such as cell phones, pagers, personal digital assistants (PDAs), and laptop computers. A by-product of this connectivity is the tremendous amount of personal information that is generated, or known, concerning each \u201cuser.\u201d This personal information covers a broad spectrum of categories, such as credit information, phone numbers, and addresses, to name just a few.","Personal information, in general, is becoming more and more valuable. In order to be more effective with their marketing efforts, merchants are willing to pay large amounts of money to find out very personalized information about individuals. On the other hand, personal information is also extremely important to control. For many important personal reasons, individuals generally do not want their personal information disclosed, including information the service providers possess. However, individuals may be willing to allow some personal information to be distributed to others, including merchants, if the individuals can control the type and amount of information distributed and possibly receive some value in exchange for that information. For example, a person may be willing disclose his or her whereabouts in exchange for valuable opportunities, such as a special sale or discount with a merchant.","One area of personal information that is increasingly useful, important, and valuable is a person's physical location. Automated guidance and global location services depend upon identifying a person's, or a thing's, location. Fleet management can greatly benefit from monitoring the physical location of a fleet of vehicles. Merchants make use of a person's location, offering specials to those who are in a certain area. As mentioned above, some merchants are willing to pay for such information. Alternatively, it may be nice to locate one's friends in order to determine a convenient gathering location. As can be seen, there are many times that it is advantageous for a person to disclose the person's physical location.","Many devices or services are capable of generating or collecting location information. For example, wireless telephone services are able to locate a person by sensing the presence of a person's wireless telephone in a particular coverage area, or cell. Similarly, a wireless network service is able to locate a person by sensing the presence of the person's computing device with a range of wireless gateways, such as an IEEE 802.11 (b) or a Bluetooth-enabled network. In both of these examples, the service senses the location of a broadcasting device and therefore knows that the device is within a certain area. In another embodiment, global positioning system (\u201cGPS\u201d) devices utilize geosynchronous satellite signals to calculate a person's position, which can be displayed to the person.","Electronic calendars and e-mail applications can also generate location information. For example, a person may enter an appointment in an electronic calendar that specifies location information. Additionally, an e-mail message may include statements such as, \u201cI'm at work,\u201d that correspond to location information. Clearly, there are many ways which devices, or services, or both, can generate information about a person's location.","Although there are a number of ways to obtain location information, most location information generating systems are closed, meaning that the location information is used only within the system, if the location information is used at all. For example, wireless devices typically use location information to obtain wireless service. Current location information is displayed by a GPS device to the person operating the device. Both of these closed location information generating system examples are not well suited to allow a \u201clocated\u201d person to exploit the value of that location information by providing it to others outside of the system. In general, typical location information generating systems do not allow a \u201clocated\u201d person to distribute the location information to third parties and\/or permit the \u201clocated\u201d person to control the distribution of the location information to the third parties.","Rather than a single device or service, a person may be associated with multiple sources of location information. For example, a person may have a wireless telephone, a computing device running an electronic calendar and e-mail, and a GPS device. All of these devices and services are able to generate location information for that person with differing degrees of accuracy. However, in the past, no mechanism for collecting and\/or processing the various sources of location information to provide a person's location information when a request for the persons location is made.","In addition to the above-described shortcomings, most existing location information generating systems do not provide individuals with adequate resources for controlling the way third-party entities access the individual's location information. For example, when a location owner provides access to their location information, the location information may be indiscriminately received by any person, computer, or third-party entity having access to the system. As a result, most existing location information generating systems cannot readily meet the privacy needs of location information owners.","Existing systems that allow uncontrolled access to an owner's location information also present other disadvantages. For instance, uncontrolled access of an owner's location information does not allow the owner to provide different types of access to different recipients of the location information. Moreover, uncontrolled access of an owner's location information does not allow the owner to restrict the availability of their location information to specific time periods. A need for such restriction capabilities may arise in a number of situations where a location owner has different reasons for sharing his or her location information with different individuals. For example, an employee may only want to share his or her location information with other employees during business hours. However, at the same time, the same employee may want to share his or her location information with family members at all times. To date, existing systems fail to provide location owners with the ability to selectively share location information with different users at different times.","What is needed is an improved location information generating system that provides controlled access to a person's location information. In addition, there is a need for a location information generating system that allows a location owner to control access to the owner's location information to different users at different times.","The present invention is directed to providing a system, method, and computer-readable medium for providing controlled access to location information associated with an owner of the location information. More specifically, the present invention provides a method and system that allows a location owner to control the time periods during which different users can access the owner's location information. In accordance with the invention, a location consumer submits a request to a location server to retrieve location information associated with a particular location owner. In response to the receipt of the request for the owner's location information, the location server obtains location information associated with the location owner. The location server examines an owner profile associated with the location owner and determines if the requesting consumer is authorized to access the location information during a time period associated with the request, which may be the time period in which the request was made. If authorization is granted, the location server processes the request and transmits the processed location information to the location consumer.","In accordance with other aspects of this invention, authorizing access to the location information comprises obtaining a time associated with a request for location information, obtaining authorization data from an owner profile, wherein at least a portion of the authorization data is associated with the requesting location consumer, determining if the time associated with the request for location information coincides with a time period when the location information can be accessed by the requesting location consumer, and if the time associated with the request for location information coincides with at least one time period indicated in the authorization data, granting authorization for the requesting location consumer to receive the location information.","As will be readily appreciated from the foregoing summary, processing location information according to an owner profile allows a location owner to selectively control the availability of his or her location information to individual location consumers in different ways. For example, the owner profile may be configured to authorize a specific location consumer to access the owner's location information during weekdays between the hours of 9 A.M. and 5 P.M. At the same time, the owner profile may provide unlimited access to a separate select group of location consumers at all times.","A system formed in accordance with the present invention preferably obtains and stores an owner profile that controls the availability of an owner's location information in a location server. Preferably, the server includes an administrative module for allowing a location owner to configure the owner profile. In this exemplary embodiment of the invention, the administrative module allows the location owner to configure privacy information in the owner profile such that location information can be accessed by specific location consumers only during predetermined time periods. Preferably, the predetermined time periods can be any configurable period of time, including, but not limited to, repeated blocks of time, a date, a series of dates, etc. Preferably, the format of the owner profile allows the location owner to associate one or more predefined time blocks with individual location consumers or groups of location consumers. Such formatting provides a clear indication when the individuals or groups can access the location information.","Computer-readable medium formed in accordance with the invention includes computer-executable components for providing an owner's location information to a location consumer. Preferably, the computer-executable components comprise a core services module, an owner profile database, and a location provider module. The core services module processes requests received from location consumers according to the owner profile. More specifically, the owner profile database is communicatively coupled to the core services module and provides the owner profile to the core services module. The location provider module is communicatively coupled to the core services module and obtains information about the location of the location owner from a location provider. The core services module determines whether the location consumer is authorized to access the location owner's location information by the use of a number of predetermined time periods described in the owner profile that indicate when a requesting location consumer can access the owner's location information. If it is determined that the location consumer is authorized to receive the location information, the core services module obtains the location owner's location information from the location provider module, processes the location owner's location information according to the owner profile, and transmits the processed location information to the location consumer.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 1"},"With reference to , an exemplary system for implementing the invention includes a conventional personal computer , including a processing unit , a system memory , and a system bus  that couples the system memory to the processing unit . The system memory  includes read only memory (ROM)  and random access memory (RAM) . A basic input\/output system (BIOS) , containing the basic routines that help to transfer information between elements within the personal computer , such as during start-up, is stored in ROM . The personal computer  further includes a hard disk drive , a magnetic disk drive , e.g., to read from or write to a removable disk , and an optical disk drive , e.g., for reading a CD ROM disk  or to read from or write to other optical media. The hard disk drive , magnetic disk drive , and optical disk drive  are connected to the system bus  by a hard disk drive interface , a magnetic disk drive interface , and an optical drive interface , respectively. The drives and their associated computer-readable media provide nonvolatile storage for the personal computer . Although the description of computer-readable media above refers to a hard disk, a removable magnetic disk, and a CD ROM disk, it should be appreciated by those skilled in the art that other types of media, which are readable by a computer, such as magnetic cassettes, flash memory cards, digital video disks, Bernoulli cartridges, ZIP disks, and the like, may also be used in the exemplary operating environment.","A number of program modules may be stored in the drives and RAM , including an operating system , one or more application programs , other program modules , and program data . A user may enter commands and information into the personal computer  through input devices such as a keyboard  or a mouse . Other input devices (not shown) may include a microphone, touch pad, joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit  through a user input interface  that is coupled to the system bus, but may be connected by other interfaces (not shown), such as a game port or a universal serial bus (USB). A monitor (not shown) or other type of display device is also connected to the system bus  via an interface, such as a video adapter (not shown). In addition to the monitor, personal computers typically include other peripheral output devices (not shown), such as speakers or printers.","The personal computer  may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer . The remote computer  may be a server, a router, a peer device, or other common network node, and typically includes many or all of the elements described relative to the personal computer . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) . Such networking environments are commonplace in offices, enterprise-wide computer networks, Intranets, and the Internet.","When used in a LAN networking environment, the personal computer  is connected to the LAN  through a network interface . When used in a WAN networking environment, the personal computer  typically includes a modem  or other means for establishing communications over the WAN , such as the Internet. The modem , which may be internal or external, is connected to the system bus  via the user input interface . In a networked environment, program modules depicted relative to the personal computer , or portions thereof, may be stored in the remote memory storage device. It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 2","b":["200","200","202","204","210","212","218","220","222","226","210","230","210","210","202"]},"In an illustrative embodiment of the present invention, the location providers  may be characterized by communication classifications: single\/multiple, and push\/pull. A single\/multiple classification refers to whether a location provider submits information for one or multiple location owners. For example, a wireless telephone service will typically provide information for multiple persons and would therefore be classified as a multiple location provider. On the other hand, a person's PDA will usually provide information for just the person, and would be single location provider. A push\/pull classification, refers to whether a location provider \u201cpushes\u201d location information to the location services server  on its own, i.e., without receiving a query for the information, or whether the location provider must be queried, or \u201cpulled,\u201d for information before it will provide the location information. In addition to the classifications listed, one skilled in the art will recognize that additional or alternative classifications may also be utilized.","In accordance with the present invention, a location provider's classification in one category may influence its classification in another category. As an example, those location providers  classified as multiple location providers are often also classified as push location providers. Wireless telephone services may be an example of a multiple\/push location provider. This is primarily because multiple location providers could be easily overwhelmed with individual requests for location information if they did not control the flow of location information to the location services server  in a rational manner. Thus, according to one embodiment of the present invention, when dealing with multiple\/push location providers, the locations services server  provides the location providers  the names of locations owners, such as location owner , for which the location provider is to \u201cpush\u201d location information to the location services server .","As shown in , according to one aspect of the present invention, the location providers  communicate with the location services server  which may take the form of a personal computer  of the type shown in , through the Internet . One skilled in the art will appreciate that other channels of communication between the location providers  and the location services server  are possible. As an example, the location providers may communicate with the location services server through local area networks or direct communication such as land-based lines or wireless telephone connections. Thus, while  illustrates that the location providers  communicate with the location services server  through the Internet , it is for illustrative purposes only, and not intended to be a limitation on the present invention.","The location consumers  are those persons, or entities, that query the location services server  for location information concerning a location owner, such as location owner . The location consumers may include a spouse, friends, employers, and merchants. The location consumers  submit requests to the location services server  in order to obtain location information corresponding to a location owner.  illustrates that these location consumers  communicate with a location services server  through the Internet . One skilled in the art will recognize that the location consumers  may communicate with a location services server  through other communication means not illustrated in . For example, the location consumers  may communicate with the location services server  through direct landlines or wireless communication devices. Thus, while  illustrates that the location consumers  communicate with the location services server  through the Internet , is for illustration purposes only, and not intended to limit the manner in which location consumers  may communicate with the location services server .",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 3","FIG. 2"],"b":["202","202","304","220","220","304","202","220","304","306","202"]},"According to one aspect of the present invention, the core services module  acts as the general processing module for the location services server . The core services module  takes care of many duties, such as authenticating and authorizing location consumers, and filtering location information according to privacy information provided by a location owner in response to an information request. In accordance with an aspect of the present invention, privacy information may include: an access control list describing location consumers authorized to view the information; granularity of the location information where some location consumers are given more or less diffuse location information; and restrictions on a location consumer to particular location providers.","In accordance with the present invention, the privacy information also includes control parameters that allows a location owner  to selectively restrict a location consumer's access to the owner's location information to specified time periods. In one illustrative example, an employee of a particular company may allow his or her location information to be accessed by a supervisor on weekdays between the hours of 9 A.M. and 5 P.M. At the same time, the employee may provide unlimited access to his or her location information to family members. Thus, the invention allows a location owner  to control access to his or her location information.","In the illustrated embodiment of the invention, the core service module  is configured to restrict the distribution of a location owner's location information based on a number of time restriction parameters. In accordance with the invention, a time restriction parameter may restrict access to location information to a specific time of day, a specific duration of time, a set of repeated time blocks, or any other set of time restrictions specified by the location owner . Individual time restriction settings can be associated with individual location consumers  or a group of location consumers . Thus, embodiments of the present invention can be configured to provide controlled access to different consumers with varying levels of access capabilities.","The privacy information may also include geographic-based restrictions to determine a user's ability to access an owner's location information. Additional information related to the embodiment involving the geographic-based restriction features is described in greater detail in commonly assigned and co-pending U.S. application Ser. No. 10\/184,136, filed Jun. 27, 2002, entitled \u201cSYSTEM AND METHOD FOR CONTROLLING ACCESS TO LOCATION INFORMATION,\u201d the subject matter of which is specifically incorporated herein by reference. Geographic and time-based restrictions can be combined in actual embodiments of the invention, if desired, such that a location consumer will only be provided with an owner's location information if the location owner is within (or without) a prescribed geographic area when a location request is received that falls within the time parameters contained in the owner profile associated with the requesting location consumer.","In one embodiment of the present invention, location owners enter their owner profile information, including the time and\/or geographic information described above, as well as any other privacy information, through an owner administration module . The owner profile information is stored by the owner administration module  in an owner profile database . The owner profile stored in the owner profile database  allows the core services module  to restrict the location information requested by a location consumer according to the location owner's specifications.","Preferably, privacy information, namely, time restriction parameters, is stored in the owner profile database . As will be readily appreciated by those of ordinary skill in the art, the format of the time restriction parameters stored in the owner profile database  can take a variety of forms. The use of any suitable generally known database format allows the time restriction parameters to be accessed by the core services module  when determining the access authorization for a location consumer. Preferably, the format allows the location owner to associate one or more predefined time blocks with individual location consumers or groups of location consumers to indicate when the individuals or groups can access the location information. In addition, preferably, the chosen database formats will allow the location owner  to enter and manage their time restriction parameters by the use of a graphical user interface, provided, for example, by the owner administration module .","Although the illustrated embodiments of the invention utilizes an owner profile database , owner administration module , and a core services module  to control and access the time restriction parameters, those skilled in the art will appreciate that there are many ways in which a location owner can authorize or restrict authorization to location consumers. Thus, the herein-described embodiments of the invention should be construed as illustrative and not limiting. For instance, the time restriction parameters of the privacy information can be stored in and accessed from other databases, such as the subscription database  described below, or any other like storage device.","The core services module  may also interact with a subscription module  and a subscription database  when the location request, received at the consumer request module , is a subscription request. In one embodiment of the present invention, a subscription request indicates that the location consumer wishes to be notified of events relating to one or more location owners. In an alternative embodiment, a subscription request may identify only one location owner. The subscription request may identify a number of subscribed events, including, but not limited to, changes in location, entering or leaving a particular geographic region, or the expiration of a time interval. Information necessary for the subscription module  to process the subscription request is stored in the subscription database .","In accordance with an embodiment of the present invention, the subscription module  is responsible for processing and monitoring events related to the subscription requests. When the subscription module  detects a subscribed event relating to a location owner, the subscription module  sends appropriate location information to the core services module . The subscription module  also interacts with a location provider module  (described below) to initiate a subscribed event, or alternatively, to notify location providers of the subscribed event.","The core services module  processes the location information according to the privacy restrictions discussed above, and sends the processed location information to a notification module  to notify the location consumer. In one embodiment, the notification module  transmits the location information to the location consumer. Alternatively, the notification module  may also utilize an external notification server. Thus, the notification module  performs the function of a notification facilitator. Those skilled in the art will recognize that there are many ways that may be utilized to provide notification to a location consumer that fall within the scope of the present invention. Thus, these examples should be construed as exemplary and not limiting.","The location provider module  interacts with one or more location providers . The location provider module  sends requests to the location providers , indicating that a location owner will be monitored, or that location information pertaining to a particular location owner has been requested. According to one embodiment of the present invention, the location provider module  may synchronously request and receive location information from a location provider . According to another embodiment, the location provider module  includes a listening module  that listens for location information automatically generated by one or more push-type location providers , or by location providers that respond asynchronously to an information request. The listening module  receives location information from location providers  and supplies the received location information to the location provider module . In an alternative embodiment (not shown), the listening module  is a peer to the location provider module  and maintains connections to other components of the locations services server . In yet another alternative embodiment (also not shown), the tasks of the listening module  are integrated into the location provider module .","The listening module  may store received location information in a location cache  until it is needed, either by the subscription module , to monitor for a particular event, or the core services module , to respond to a particular location request. Storing location information in the location cache  is especially useful when the intervals between when push-type location providers  transmit subscribed location information do not correspond to the intervals specified in a subscription request. According to the embodiment shown in , both the location provider module  and the core services module  are able to directly access the location cache  in order to obtain location information. The subscription module  has indirect access. Alternatively, the subscription module  may also have directly access location information stored in the location cache .",{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIG. 3","FIG. 3"]},{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 4","FIG. 3"],"b":["202","220","202"]},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 4","b":["402","202","401","304","202","402"]},"The consumer request module  transfers the location request to the core services module , as indicated by arrow . The core services module  conducts an authentication and an authorization process on the location consumer  to verify that the location consumer is permitted to access information from the location services server . Assuming that the location consumer  is properly authenticated and authorized, the core services module  identifies the location owner in the location request and retrieves owner profile information from the owner profile database , as indicated by arrow . The core services module  then determines, using the owner profile information, whether the location consumer  may access location information for the specified location owner, what, if any, filters to apply, and any restrictions on the location information","The owner profile information also includes location provider information. In one embodiment of the present invention, the location provider information identifies all location providers that generate information about the location of the location owner. Because some location information pertaining to the location owner may already be cached in the location cache , the core services module  queries the location cache, as designated by arrow , for any relevant information. For location information not found in the location cache , the core services module  submits location request information, including any location providers to be queried, to the location provider module , as designated by arrow . The location provider module  issues location information queries to all of the specified location providers, according to specifics previously established between the locations services server  and the location provider, as indicated by arrow . The location provider module  may receive some responses from location providers synchronously, while other will be received asynchronously through the listening module .","After all responses have been received, as designated by arrow , the location provider module  sends the information obtained from the location providers to the core services module , designated by arrow . According to one embodiment of the present invention, in order to avoid a blocking condition if one of the information providers fails to timely respond, the location provider module  may limit the amount of time it waits for responses, and return an incomplete response to the core services module . Once the location information is retrieved from the location providers, the core services module  generates a current location for the location owner according to any privacy restrictions the information owner may have indicated. Finally, the core services module  returns the generated location to the consumer request module , shown by arrow , which in turn returns the location to the location consumer , as designated by arrow .",{"@attributes":{"id":"p-0063","num":"0062"},"figref":["FIG. 5","FIG. 3","FIG. 4"],"b":["202","502","501","304","202","304","306","503","306","308","505"]},"Because the location request is an asynchronous location request, as described above, the location consumer's  process does not immediately require a response. Instead, the location consumer's  process initiates an internal process within the location services server  to complete the asynchronous request, and then returns. This internal process performs functions similar to those described in regard to , which result in location information being sent to the location consumer . In this internal process, the core services module  retrieves any location information already stored in the location cache , as indicated by arrow . For those location providers not having information stored in the location cache , the core services module  sends information identifying the information owner to the location provider module , as shown by arrow . The location provider module  queries the location providers, as shown by arrow . As previously mentioned, the location provider module  may receive both synchronous and asynchronous responses from the location providers, shown by arrow .","The location provider module  transfers the location information from the location providers back to the core services module , as shown by arrow . The core services module  processes the location information obtained from the location providers and generates a single location according to the restrictions and privacy filters identified in the owner profile information already retrieved from the owner profile database . The core services module  transfers the generated location information to the notification module , as shown by arrow . The notification module  then transmits to the generated location to the location consumer , as shown by arrow .",{"@attributes":{"id":"p-0066","num":"0065"},"figref":["FIG. 6","FIG. 3","FIG. 6"],"b":"202"},"Subscriptions may persist, or remain valid, indefinitely, or for a certain amount of time. Alternatively, they may persist for a specified number of occurrences. Further, subscription requests may identify more than one targeted location owner.","As shown in , a location consumer  submits a subscription request to the consumer request module  of the location services server, as shown by arrow . The consumer request module  transfers the request to the core services module , as illustrated by arrow . A subscription request is similar to an asynchronous location request in that the location consumer's process returns and terminates, as described in regard to . However, a separate process within the location services server  is initiated to complete the processing of the subscription request. In this process, the core services module  identifies the targeted location owner of the subscription request and retrieves the owner profile information corresponding to the location owner from the owner profile database , as shown by arrow . Thereafter, the core services module  transfers the subscription request to the subscription module , as illustrated by arrow .","The subscription module  receives the subscription request and saves that request in the subscription database  for future processing, as shown by arrow . The subscription module  initializes any processes that need to be completed in order to fulfill the subscription request. These may include timer-based modules, such that after a certain amount of time the location services server will generate a location for the targeted location owner and return that to the location consumer . This process may also include listening modules that listen for location information related to the location owner. Those skilled in the art will appreciate that there may be many other modules needed to process a subscription event that are not enumerated here.","After having generated the appropriate subscription processes, the subscription module  transfers to the location provider module  identities of the location providers having location information about the targeted location owner, as indicated by arrow . The location provider module  sends notices to the location providers requesting that they respond with location information for the targeted location owner. As illustrated in this example, the location providers may respond both synchronously to the location provider module , as indicated by arrow , or alternatively, they may respond asynchronously via the listening module , as indicated by arrow . If the information is received by the listening module , the listening module stores the received location information in the location cache , as indicated by arrow . The location provider module  first retrieves the location information about the location of the location owner already stored in the location cache , as shown by arrow . The location provider module  returns the location information to the subscription module , as shown by arrow . After receiving the location information, the subscription module  processes the information and returns it to the core services module , as shown by arrow . The core services module  processes the information according to the privacy restrictions identified in the owner profile information retrieved from the owner profile database . The core services module  then generates location information responsive to the subscription request and transfers the location information to the notification module , as shown by arrow . The notification module  forwards the location information to the location consumer , as shown by arrow .",{"@attributes":{"id":"p-0071","num":"0070"},"figref":["FIG. 7A","FIG. 2"],"b":["700","202","702","202","220","704","202","220","202","202","220","202","220","708","202","700"]},"After having authenticated the location consumer, the routine  proceeds to block  where the location services server  obtains authorization information to determine if the authenticated location consumer is authorized to receive the requested location information. Generally described, process of block  retrieves owner profile information, such as a location owner's privacy information, from the owner's profile database  (). The location services server  then uses the privacy data to determine whether the location consumer is authorized to access the location owner's location information. A more detailed description of the process of block  is described below with reference to .",{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIG. 7B","FIG. 7C"],"b":["740","740","308","740","742","202","230","742"]},"Once the time-based restriction authorization has been processed in block , the subroutine  proceeds to decision block  where the location services server  examines other authorization parameters in the owner profile. In an alternative embodiment (not shown), if a location consumer is not authorized to access the location owner's location information according to the processing of the time-based authorization information, prior to decision block , the location services server  may proceed to directly to block  where the process terminates. According to this alternative embodiment, the location services server  is able to terminate additional authorization processing at the earliest moment that it is determined that authorization will not be granted.","As stated above, the location owner can establish a number of parameters in the owner profile that grants authorization to different consumers for different reasons. For example, the authorization in the owner profile information may categorize location consumers, and permit authorization based on categorizations. These categories may include, but are not limited to, consumer friends, and consumer services.","Consumer friends may be defined as individuals the targeted location owner has authorized to access the location information. Consumer friends may include a spouse, family members, friends, employers, and any other identifiable individual the targeted owner authorizes to access the targeted owner's location information. Consumer services may be defined as entities, or individuals, that seek the location owner's location information for commercial purposes.","For both exemplary categories of location consumers, the location owner may specify particular limitations or restrictions on accessing the targeted location owner's location information. For example, the location owner may decide that consumer services should not have access to personal location information once the location owner has quit working for the day. As a consequence, a location owner may restrict all consumer services access to the location owner's location information to normal business hours. Or, the location owner may also restrict the location owner's employer's access to the targeted owner's location information to normal business hours. Alternatively, the location owner may permit the location owner's consumer friends to have access at all times of the day.","At decision block , if the location services server  determines that there are no other authorizations to verify in the owner profile, the subroutine  proceeds to blocks  where the subroutine  terminates. However, if the subroutine  determines, at decision block , that there are additional authorizations to verify, the subroutine  proceeds to process block  where the location services server  processes the other authorizations. This authorization may include the processing of a number of parameters entered in the owner profile database , including, but not limited to, the restrictions to different categories of location consumers, geographic restrictions, or the like. Once the location services server  processes the other authorization parameters at block , the subroutine  terminates.","Referring now to , an exemplary routine  for verifying a time-based restriction is shown. Generally described, the routine  involves the retrieval and examination of time restriction parameters stored in location owner's profile database . Once the time-based restriction parameters are retrieved, the system compares the time restriction parameters with the time at which the location consumer's request was received by the server. If the location consumer's request was received at a time that coincides with the location owner's time-based restriction parameters, the server sets a memory flag to indicate that the location consumer is authorized to receive the information. As described above, the time restriction parameters may include any predetermined time period, a repeated time period, or any other time period established by the location owner.","In the illustrated example of , the routine  starts at process block  where the location services server  obtains the owner's privacy information, such as the time restriction parameters, from the owner profile database . As described above, the owner profile database  may be in a database format that allows a system to retrieve such parameters by the use of generally known database queries. Once the time restriction parameters are retrieved from the owner profile database , the routine  proceeds to decision block  where the location services server  determines if a time associated with the request corresponds to the time restriction parameters. As can be appreciated by one of ordinary skill in the art, a time associated with the request (received in process block  of ) can be any time associated with the request, e.g., a time when the request was received, sent, etc. As can be appreciated by those of ordinary skill in the art, any general comparison can be made to determine if the time of the request coincides with the time periods defined in the owner profile.","At decision block , if the location services server  determines that the time associated with the request does not correspond with the time restriction parameters, the routine  proceeds to block  where the location services server  sets a memory flag to indicate that the location consumer is not authorized to receive the location information. However, at decision block , if the location services server  determines that the time associated with the request does coincide with the location owner's time restriction parameters, the routine  proceeds to block  where the server  sets a memory flag to indicate that the location consumer is authorized to receive the location information.","Although the above-described example describes one embodiment involving the use of privacy information, one skilled in the art will appreciate that there are many ways in which the location owner may authorize or restrict authorization to location consumers. In addition, although the above example illustrates one embodiment where the examination of the privacy information is processed in block , it can be appreciated by one of ordinary skill in the art that the examination of the privacy information can be performed in other sections of the routine . For instance, as described below, with respect to , the examination of the privacy information may be performed in the subroutine  for processing the location information. As can be appreciated by one of ordinary skill in the art, the embodiments described above are for illustration purposes and not intended to limit the scope of the present invention.","Returning now to , at decision block , the location services server  determines whether, according to authorization restrictions specified by the location owner in the owner profile, the location consumer is authorized to access the requested location information. The process of decision block  may involve the examination of one or more memory flags, such as those established in process blocks  and  of . If the location request is outside of the permission's granted by the location owner, or if one of the memory flags indicates that the consumer is not authorized, the process proceeds to block  where the location services server  returns an error condition to the location consumer. After returning the error condition to the location consumer, the routine terminates at block . Alternatively, if the consumer is properly authorized to access the targeted information, or if one of the memory flags indicates that the consumer is authorized, the process proceeds to block  where the location services server  obtains the location owner's location information from the information providers.",{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 8","b":["800","202","802","202","202","308","804"]},"At decision block , a test is conducted to determine whether the location information from the location provider is already in the location cache  (). This typically occurs when the location provider is a push-type provider. If the location is found in the location cache , at block , the location is retrieved from the location cache . At block , the subroutine iterates to the next location provider in the location provider list. At decision block , the subroutine  continues until location information from each remaining location provider in the location provider list has been sent a location request.","If, at decision block , the location is not already in the location cache , a test is conducted to determine whether the current location provider in the location provider list is a synchronous location provider. See, decision block . If the location provider is a synchronous location provider, at block , the location information from the synchronous location provider is retrieved. Then, as described above, at block , the subroutine iterates to the next location provider in the location provider list. Again, at decision block , the subroutine  continues until location information from each remaining location provider in the location provider list has been sent a location request.","If, at decision block , the location provider is not a synchronous location provider, at block , a message is sent to the asynchronous location provider requesting location information corresponding to the location owner. Because an asynchronous location provider responds asynchronously, the subroutine  does not wait for an immediate reply. Rather, at block , the subroutine  iterates to the next location provider in the location provider list. The subroutine  continues to cycle through decision block  until each location provider in the location provider list has been sent a location request, or location information from each location provider has been retrieved from the location cache.","After iterating through the location providers in the location provider list, at decision block , a test is made to determine whether any responses from location providers in the location provider list have not yet been received. This typically arises if any asynchronous requests were made. If there are outstanding location provider responses, at delay block , the subroutine delays a certain amount of time in order to give the asynchronous location providers a period of time to reply to the location request. At block , the location cache  is read to determine whether any of the outstanding responses from location providers have been received. Then, looping back to decision block , a test is again made to determine whether there are any remaining outstanding responses. Additionally (not shown), the test in decision block  may also consider the amount of time elapsed since the location provider module sent the request to the location provider. Preferably, the subroutine proceeds to block  after a predetermined amount of time has elapsed in order to prevent a blocking condition. At block , after all of the responses from the location providers have been received, the location information from the location providers is returned. At block  the subroutine terminates.","Returning to , at block , after having obtained location from all of the location providers for the location owner, the location information is processed according to the authorization constraints specified by the location owner. Preferably, processing the location information generates a single location in response to the location request.",{"@attributes":{"id":"p-0090","num":"0089"},"figref":["FIG. 9","FIG. 9"],"b":["900","202","308","902","904","906","908"]},"Alternatively, at block , the remaining sources of location information are processed to generate a single location for the location consumer in response to the location request. For example, the subroutine  may determine the single location according to rankings of the location providers according to a hierarchy previously established by the location owner. Alternatively, the single location may be generated according to resolution information previously established by the location owner. Resolution information permits the location owner to control how precise the location will be. For example, while the information from the location providers may be able to locate the location owner within a few feet, the location owner may wish that location consumers receive only more general location information in response to a request. Alternatively, depending on privacy constraints, the current location may always be a given location. For example, otherwise authorized consumer services may receive a response of \u201caway\u201d during weekend days. In another alternative, the location owner may label certain geographic locations or regions in order to give greater meaning to the location information. For example, an answer such \u201cBuilding C\u201d may be more meaningful than specific location coordinates. At block , the generated location information is returned and the subroutine terminates at block . While this description identifies certain criteria for determining a current location from multiple location sources, the criteria are for illustration purposes should not be construed as limiting the invention. Those skilled in the art will recognize that other rules and criteria may be used to determine a current location from multiple location sources.","Returning to , if, at block , an error condition was detected during processing the location sources, an error condition is returned to the location consumer (not shown). After processing the location information to generate a single current location, at block , the generated location is returned to the location consumer. The routine  then terminates at block .",{"@attributes":{"id":"p-0093","num":"0092"},"figref":["FIG. 10","FIG. 7A","FIG. 7A"],"b":["1000","202","1002","202","1004","202","704","1006","202","308","706"]},"After retrieving the authorization information for the targeted location owner, at block , a test is made to determine whether the location consumer is authorized to make the location request, as described above in regard to  (block ). If the location consumer is not authorized, or does not have the necessary permissions to make the location request, at block , an error condition is returned to the location consumer. Alternatively, if the location consumer is authorized to request the location owner's location information, at block , an asynchronous location retrieval subroutine is initiated. In contrast to the synchronous location request described in , an asynchronous location request initiates a separate asynchronous location retrieval subroutine and then terminates the current routine, thus freeing the location consumer from waiting for a response to the location request. While this method describes certain steps prior to termination, they are to be construed as illustrative and not limiting. Those skilled in the art will recognize that more or fewer steps may be taken prior to terminating the asynchronous location request without departing from the scope of the present invention. At block  the routine terminates.",{"@attributes":{"id":"p-0095","num":"0094"},"figref":["FIG. 11","FIG. 8","FIG. 9"],"b":["1100","1102","1104","1106","202","202","1108"]},{"@attributes":{"id":"p-0096","num":"0095"},"figref":["FIG. 12","FIG. 7A","FIG. 7A"],"b":["1200","1202","202","1204","1206","308"]},"At decision block , a test is made to determine whether the location consumer is authorized to subscribe to the targeted location owner. If the location consumer is not authorized to subscribe to the location owner according to the authorization information retrieved, at block , an error condition is returned to the location consumer. Alternatively, if the location consumer is authorized to subscribe to the location owner's location information, at block , a subscription process is initiated. At block  the routine terminates. Those skilled in the art will recognize that more or fewer steps may be taken prior to terminating the subscription request without departing from the scope of the invention.",{"@attributes":{"id":"p-0098","num":"0097"},"figref":["FIG. 13","FIG. 12"],"b":["1300","1210","1302","1304"]},"Event triggers are processes that monitor certain information according to a subscribed event, and generate, or \u201ctrigger,\u201d an event message when the subscribed event occurs. For example, a subscribed event may be a timer event such that an event trigger generates an event message after a certain amount of time, identified in the timer event, expires. As another example, a subscribed event may be a geographic area event such that an event trigger generates an event message when the location owner's location information changes with respect to a particular geographic location. The location services server  notifies the location providers of the subscribed event, so that the location providers will able to provide the necessary notification when the subscribed event occurs.","At block , the subscription process waits for an event message, indicating that the subscribed event has occurred. At block , the location services server  obtains location information from the location providers corresponding to the location owner. Location information may be obtained in the manner previously described with regard to . Next, at block , the location services server  processes the location information retrieved from the location providers to generate a single location. Preferably, the retrieved location information is processed in the manner previously described in relation to . At block , the location consumer is notified of the generated location information according to the subscription request, as described previously in relation to  (block ).","After notifying the location consumer of the generated location according to the subscription request, at decision block , a test is made to determine whether to terminate the subscription process. This determination may be based on termination information provided the in the subscription request. Alternatively, the determination may be based on internal predetermined values. The termination information may include, but is not limited to, expiration dates, and frequency of subscribed event processing. Alternatively, the location consumer may issue a request to terminate the subscription request. Or, the location owner may cause the subscription request to be terminated. Those skilled in the art will appreciate that there are other mechanisms may be used to terminate the subscription request which, although not described, fall within the scope of the invention. At block , if the subscription process is not to be terminated, the subscription process waits for another event message. Alternatively, if the subscription process is to be terminated, at block , the subscription process clears any remaining event triggers. Termination may include notifying the location providers of the termination of the subscription request. At block  the subscription process terminates.","While various embodiments of the invention have been illustrated and described, it will be appreciated that various changes can be made therein without departing from the spirit and scope of the invention as defined by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing aspects and many of the attendant advantages of this invention will become more readily appreciated as the same become better understood by reference to the following detailed description, when taken in conjunction with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 5","FIG. 3"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 6","FIG. 3"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 7A"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 7B"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 7C"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 8","FIG. 7A"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 9","FIG. 7A"]},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 11","FIG. 10"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 13","FIG. 12"]}]},"DETDESC":[{},{}]}
