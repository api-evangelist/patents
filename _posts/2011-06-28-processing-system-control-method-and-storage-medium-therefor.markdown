---
title: Processing system, control method, and storage medium therefor
abstract: A processing system may include a server group connectable to an image forming apparatus, a request processing unit, a backend processing unit, a receiving unit, a determination unit, and a sending unit. The receiving unit receives information relating to a document file corresponding to a processing request from the image forming apparatus. If the determination unit determines that that the processing method is a synchronous processing method, then the request processing unit processes the document file based on the processing request. If the determination unit determines that that the processing method is an asynchronous processing method, then the request processing unit requests the backend processing unit to process the processing request. After the document file has been processed according to the determined processing method, the sending unit sends a notification to the image forming apparatus that the document file has been processed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08570574&OS=08570574&RS=08570574
owner: Canon Kabushiki Kaisha
number: 08570574
owner_city: Tokyo
owner_country: JP
publication_date: 20110628
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates to a processing system, a control method, and a storage medium therefor.","2. Description of the Related Art","A content management system using a network technique has become popular. In the content management system, a user can operate content on a web page established by a server computer, via a client.","Japanese Patent Application Laid-Open No. 2003-022165 discusses a printer which acquires data from a server based on a uniform resource locator (URL) designated from a client computer and prints the acquired data.","In recent years, a technique called cloud computing has been used as a format of performing various types of processing on the side of a server computer. In a cloud computing system, data processing is performed for various document files stored in various content management systems.","According to an aspect of the present invention, a processing system including a server group connectable to an image forming apparatus includes a request processing unit configured to receive a processing request from the image forming apparatus and perform processing based on the processing request; a backend processing unit configured to perform processing based on the processing request; a receiving unit configured to receive information relating to a document file corresponding to the processing request from the image forming apparatus; a determination unit configured to determine, based on the information relating to the document file received by the receiving unit, whether a processing method is one of a synchronous processing method and an asynchronous processing method, wherein, if the determination unit determines that that the processing method is a synchronous processing method, then the request processing unit processes the document file based on the processing request and, if the determination unit determines that that the processing method is an asynchronous processing method, then the request processing unit sends a notification to the image forming apparatus that the processing request is being processed and requests the backend processing unit to process the processing request, wherein the backend processing unit processes the document file based on the processing request; and a sending unit configured to send to the image forming apparatus, after one of the request processing unit and the backend processing unit has processed the document file according to the processing method determined by the determination unit, a notification that the document file has been processed.","Further features and aspects of the present invention will become apparent from the following detailed description of exemplary embodiments with reference to the attached drawings.","Various exemplary embodiments, features, and aspects of the invention will be described in detail below with reference to the drawings.","In cloud computing, a user may utilize distant, shared servers for data storage and data processing, allowing the device of the user to employ smaller and more efficient chips that consume less energy than standard computers. When data processing is performed in a cloud computing system, and an application for an information processing apparatus (e.g., a web browser for a printer) acquires data that has been subjected to the data processing, a situation, described below, occurs. In the situation, a different period of time elapses until the application acquires data depending on the data to be acquired. For example, a different period of time elapses until the application acquires data from the cloud computing system depending on a storage location of the data.","As a result, an application for a printer that acquires data, if it takes much time to acquire the data, is occupied by an acquisition instruction until the data is acquired, and a screen of the application does not change. As a result, it seems to a user that the screen is frozen. An embodiment is directed to switching a processing method according to data to be processed. Thus, an appropriate cloud computing resource can be used.","Approaches for carrying out the embodiments will be described below with reference to the drawings.","A system configuration of an image forming system according to a first exemplary embodiment will be first described.  illustrates the whole configuration of the system according to the first exemplary embodiment. The system includes an Internet , a print server , a document management server , a printing apparatus , and a firewall . While the print server  in the first exemplary embodiment includes one print server, it may include a print server group including a plurality of print servers. In that case, the print server may virtualize a plurality of information processing apparatuses and start the information processing apparatuses as if they were one computer. If such a print server assumes cloud computing, the print server may have a plurality of virtual machines generated in its own system. The print server uses the plurality of virtual machines to perform processing in parallel. The print server  will be referred to as a printing system in consideration of the foregoing. The printing apparatus  corresponds to an image forming apparatus.","The Internet  functions as a communication line for exchanging information among the above-mentioned devices. The communication line may be wired or wireless. Each of the devices in the image forming apparatus is connectable to the other device via the Internet . The print server  includes a control unit  and a storage unit . The storage unit  stores print data for the print server  to be operated as a spooler. The control unit  performs a general known function as an application server. For example, a web application for executing each processing is installed according to a processing request from a web browser  () in the printing apparatus . The web application in the print server  performs processing such as spool processing for converting an input document file into print data and storing the print data in a storage unit , and processing for subjecting the print data stored in the storage unit  to printing processing.","The document management server  includes a control unit  and the storage unit . The storage unit  stores a document file. The control unit  performs a generally known function as an application server. For example, a web application for executing each processing is installed in the document management server  according to a processing request from the web browser  in the printing apparatus . The document management server  has a function of sending the document file in response to a document file acquisition request from the print server . The web application in the document management server  executes document file storage processing for the storage unit , and display processing and acquisition processing of the stored document file.","The printing apparatus  is a multi-function peripheral (MFP) for inputting or outputting and sending and receiving a content and performing various types of image processing, and is connected to the print server  to receive a service. A control unit  controls an operation unit , a printing unit , and a scanner unit, which are components of the printing apparatus . The operation unit  includes a user interface, and is instructed to operate the printing apparatus  from the user. The printing unit  performs various types of image processing and outputs an image under control of the control unit . The scanner unit inputs an image under control of the control unit .","The firewall  functions as a device for limiting access from the exterior via the Internet  to enhance security of the printing apparatus  regardless of whether it is hardware or software. Since the firewall  exists, the print server  itself cannot send data to the printing apparatus  as a starting point. When the printing apparatus  receives data at the firewall  from the print server , therefore, the firewall  needs to receive a response to the processing request from the printing apparatus .","The above-mentioned service will be described. The service includes a print service and a scan service. An example of the print service will be described in a first exemplary embodiment, as will be described in detail below. A user who desires to receive the print service instructs the print server  to receive a service to print a content, i.e., a print service via the web browser  () in the printing apparatus , described below. The print server , which has been so instructed, converts the content into a format printable by the printing apparatus  (this format is referred to as print data in the present exemplary embodiment). The print server  sends the print data to the printing apparatus . The printing apparatus  prints the print data. Thus, the user can receive the print service. A printing method includes a synchronous processing method and an asynchronous printing method, described below. In both the methods, the printing apparatus  issues the processing request, and receives data from the print server .","A system of various devices, including the document management server , the print server , and the printing apparatus , the collective of which provide a service to a user in cooperation, is referred to as a device cooperation system in the present exemplary embodiment. The user can receive a desired service by using the device cooperation system.","A hardware configuration of various devices constituting the device cooperation system in the first exemplary embodiment will be described below.  illustrates a hardware configuration of the document management server  and the print server  in the first exemplary embodiment. The hardware configuration illustrated in  corresponds to a hardware configuration of a general information processing apparatus. The hardware configuration of the general information processing apparatus is applicable to the document management service  and the print server  in the first exemplary embodiment.","A central processing unit (CPU)  functions to load a program stored in a read-only memory (ROM)  or an external storage device  into a random-access memory (RAM)  and execute the program. The program includes an operating system (OS) and an application. The control unit  and the control unit , described above, are implemented when the CPU  executes the program. Each process in a flowchart according to the first exemplary embodiment is carried out by functions implemented by the CPU  executing the program. The external storage device  also has a function of storing a document file.","The RAM  is a main memory of the CPU , and also functions as a work area. A keyboard controller  controls key input from a pointing device connected to a keyboard  or a general information processing apparatus, which is not illustrated in . A display controller  controls display on various displays . An external memory controller  controls data access in the external storage device  storing various types of data, e.g., a hard disk drive (HDD). The external storage device  corresponds to the storage units  and , respectively, in the document management server  and the print server . A network controller  is connected to the Internet , to perform control processing for communication with an external apparatus via a network.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 3","b":["104","104","1041","104","1041","1043"]},"The control unit  includes a CPU . The CPU  is connected to a RAM , a ROM , a hard disk drive (HDD) , an image bus interface , an operation unit interface , and a network interface  via a system bus .","The RAM  functions as a main memory of the CPU , a work area, and an image memory for temporarily storing image data. The ROM  is a boot ROM storing a boot program for the printing apparatus . The hard disk drive (HDD)  functions as an external storage area storing system software, image data, and so on.","The operation unit interface  performs input and output to and from the operation unit , and functions to output image data to be displayed on the operation unit  to the operation unit  and transmit information input via the operation unit  by the user to the CPU , for example. The network interface  performs control processing for communication with an external apparatus connected via the Internet .","The image bus interface  functions as a bus bridge for connecting the system bus  and an image bus  to transfer image data at high speed and convert a data structure. The image bus  functions as a bus for performing communication among a raster image processor (RIP) , a device interface , an image processing unit , the printing unit , and the scanner unit. The RIP  generates a raster image based on print data. The image processing unit  subjects the raster image to image processing such as halftone processing.","A software configuration in the device cooperation system according to the first exemplary embodiment will be described below.  illustrates a software configuration of the document management server , the print server , and the printing apparatus , which constitute the device cooperation system according to the first exemplary embodiment.","The document management server  includes a web server unit , an application server unit , an authentication unit , and a document file management unit . Program files for implementing each of the units are stored in the storage unit  (the external storage device ). Various functions provided as a web application by the document management server  are implemented when the program files are read into the RAM  and executed by the CPU . The web server unit  receives a hypertext transfer protocol (HTTP) request from a web requester unit  in the print server , described below, via the Internet . The web server unit  calls the application server unit  when it receives the request, to perform processing in response to the request.","The application server unit  corresponds to a business logic in the web application. The application server unit  calls the document file management unit , to perform processing such as registration, acquisition, search, and deletion of the document file stored in the storage unit  and management processing of related information appended to the document file. The document file management unit  performs processing such as storage, search, and deletion of the document file.","The authentication unit  has a function of executing authentication processing. If the authentication has succeeded, the document management server  performs processing in response to the request based on authority of an authenticated user. If the authentication has failed, an authentication failure error is returned to a request source, to end the processing. A range in which functions of the printing management server  can be used is determined according to an authority level of the user based on the authority of the authenticated user. For example, a manager can use all the functions of the document management server , and a general user can use only some of the functions of the document management server . An authentication may be performed by any method. A content of specific processing performed by the document management server  in the first exemplary embodiment will be described in detail in the following flowchart.","The print server  includes a web server unit , an application server unit , an authentication unit , a printing apparatus management unit , a document file management unit , a print data management unit , the web requester unit , and a print data conversion unit . Program files for implementing each of the units are stored in the storage unit  (the external storage device ). Various functions provided as a web application by the document management server  are implemented when the program files are read into the RAM  and executed by the CPU .","The web server unit  receives a HTTP request from a web requester unit  in the printing apparatus , described below, via the Internet . The web server unit  calls the application server unit  when it receives the request, to perform processing in response to the request. The application server unit  corresponds to a business logic in the web application, and calls the printing apparatus management unit , the document file management unit , the print data conversion unit , and the print data management unit , to generate an execution result. The application server unit  includes a request processing unit  for performing printing processing using a synchronous processing method, and a backend processing unit  for performing printing processing using an asynchronous processing method.","The printing processing using the synchronous processing method and the printing processing using the asynchronous processing method will be described. The printing apparatus  provides a session in the print server  in response to a processing request (a printing instruction request) for a document file designated from the user. The print server  in which the session is provided remains in a session held state. The printing processing using the synchronous processing method means a method for performing output processing in response to the processing request, and when responding to the processing request, a notification is returned that the processing has been performed via the held session. The printing processing using the asynchronous processing method means a method for responding to a processing request from the printing apparatus  by returning a screen display response during output processing, performing the output processing in the background, and returning a notification that the processing has been performed in a stage where the output processing is completed. In the printing processing using the asynchronous processing method, when the print server  returns the notification that the processing has been performed, the printing apparatus  returns the notification via the provided session when it sends the processing request again.","The printing apparatus management unit  manages a device capacity and a status of the printing apparatus . The print data management unit  temporarily manages print data in the storage unit . A print queue  stores a processing request message (processing request) issued by the request processing unit . The authentication unit  has a function of performing authentication processing. When the web server unit  in the print server  receives a processing request, the authentication unit  performs authentication processing. If the authentication has succeeded, the print server  performs processing in response to the request based on authority of an authenticated user. If the authentication has failed, an authentication failure error is returned to a request source and the processing ends. A range in which functions of the print server  can be used is determined according to an authority level of the user based on the authority of the authenticated user. For example, a manager can use all the functions of the print server , and a general user can use only some of the functions of the print server . An authentication may be performed by any method. A content of specific processing performed by the print server  in the first exemplary embodiment will be described in detail in the following flowchart.","The request processing unit , the backend processing unit , and the print queue  in the print server  will be described below. The request processing unit  receives a request from the printing apparatus  via the web server unit . In the printing processing using the synchronous processing method, the request processing unit  performs the printing processing. On the other hand, in the printing processing using the asynchronous processing method, the request processing unit  sends a processing request to the backend processing unit  via the print queen .","The backend processing unit  acquires a processing request message stored in the print queue  via the print queue . The backend processing unit  executes the processing request received from the request processing unit  via the print queue . The print queue  provides a service for the request processing unit  and the backend processing unit  to asynchronously perform data communication. The request processing unit  and the backend processing unit  issue various instructions to the print queue , to asynchronously perform data communication. An instruction issued to the print queue  by the request processing unit  includes an instruction to add and an instruction to delete a queue message. An instruction issued to the print queue  by the backend processing unit  includes an instruction to acquire a queue message and an instruction to change a status of the queue message.","In the printing processing using the asynchronous processing method, a series of operations for the request processing unit  and the backend processing unit  to asynchronously perform data communication will be described. The request processing unit  generates a queue message (a processing request message) in response to the processing request from the printing apparatus , and sends an addition instruction to the print queue  to add the queue message to the print queue . The request processing unit  writes \u201cprint data is being generated\u201d as the status of the queue message in a management table (not illustrated). The request processing unit  and the backend processing unit  rewrite the status on the management table. As a result, the request processing unit  can confirm a progress status of processing corresponding to the processing request from the printing apparatus . The print queue , which has received the addition instruction from the request processing unit , adds the queue message to the print queue . The backend processing unit  issues an acquisition instruction to the print queue  to acquire the queue message. The backend processing unit  changes the status of the queue message in the management table when the printing processing is completed. The status of the queue message in the management table is changed to \u201cprint data has been generated\u201d. If a virtual machine is mounted on the backend processing unit , the number of backend processing units  can also be increased or decreased. The backend processing unit  issues an acquisition instruction to the print queue  when it does not perform processing.","The printing apparatus  includes a user interface , the web browser , a sending application , the web requester unit , a control application programming interface (API) , and a job manager . The printing apparatus  further includes a print manager , a procedure definition language (PDL) manager , a data management unit , a printing apparatus information management unit , and an encryption management unit . Program files for implementing each of the units are stored in the hard disk drive (HDD) . Various functions provided by the printing apparatus  are implemented when the program files are read into the RAM  and are executed by CPU .","The user interface  has a function of mediating, when the user uses various functions provided by the printing apparatus , between the printing apparatus  and a user operation. The user interface  transfers operation information to various programs, described below, according to the user operation input via the operation unit . The web browser  has a function of performing HTTP connection to the document management server  via the Internet  and performing various types of processing provided by the document management server . The web browser  is displayed on the operation unit  to receive input by the user. Information relating to the user operation input to the web browser  is transferred to various programs, described below, in the printing apparatus  via the user interface , as described above. The sending application  has a function of sending image data input from the scanner unit to an external apparatus.","The web requester unit  has a function of sending a web service request to the web server unit  in the document management server  via the Internet  and receiving a response to the web service request. The control API  functions as an interface for accessing the job manager , the print manager , and the PDL manager  for the user interface . The control API  can reduce a dependence relationship among programs and enhance diversion of each program. The job manager  has a function of interpreting various types of processing designated by the control API  and giving instructions to the print manager  and the PDL manager . The job manager  manages hardware processing to be performed by the printing apparatus  in an integrated fashion.","The print manager  has a function of managing and controlling printing processing designated by the job manager . The PDL manager  has a function of subjecting print data designated by the job manager  to PDL conversion. The application server unit  also has functions of the print manager  and the PDL manager . The data management unit  has a function of managing and controlling data stored in the HDD . The printing apparatus information management unit  manages printing apparatus identification information relating to the printing apparatus , and installation location information relating to the printing apparatus  (including information such as an Internet Protocol (IP) address on a network).","A format conversion manager  performs processing for converting scanned image data into a document file such as a portable document format (PDF) and processing for converting the document file into print data. An application execution unit  has a function of performing some of the various types of processing of the web browser , acting as a proxy.","The user interface  will be described below.  illustrates an example of the user interface  in the printing apparatus . On a program start area , buttons for starting the various programs in the device cooperation system are displayed to receive previously registered services. When a sending button  is pressed, the sending application  is started to receive a sending service. When a browser button  is pressed, the web browser  is started. On a program display area , a setting screen is displayed to perform setting for reflecting a user operation on a program started to receive a predetermined service. On a status display area , a status of the printing apparatus  is displayed.","Processing for printing a document file according to the present exemplary embodiment will be described below.  is a flowchart illustrating processes performed until the printing apparatus  starts the web browser  and issues a printing instruction.","In step S, the CPU  in the printing apparatus  reads the web browser  stored in the HDD  into the RAM . When the reading is completed, the CPU  in the printing apparatus  starts the web browser , which has been read into the RAM , and displays the web browser  on the operation unit . In step S, the CPU  in the printing apparatus  causes the web browser  to make a request to acquire a document list screen. In step S, the CPU  in the print server  causes the web server unit  to send the request to acquire a document list information to the document management server , from the web requester unit  in the print server  in response to the request to acquire the document list screen from the printing apparatus .","In step S, the CPU  in the document management server  sends the document list information in response to the request from the print server  to acquire the document list information. In step S, the CPU  in the print server  generates the document list screen based on the document list information acquired from the document management server  and document list information acquired from the document file management unit , and sends the document list screen to the printing apparatus . In step S, the CPU  in the printing apparatus  receives the received document list screen, and causes the web browser  to display the document list screen on the operation unit . In step S, the CPU  in the printing apparatus  sends a printing request to the print server  in response to an instruction to print the document designated in the web browser  by the user. In this case, a session is provided between the printing apparatus  and the print server  when the printing instruction, i.e., a processing request is sent. The print server  returns a response to the processing request to the printing apparatus  via the session. In step S, the CPU  in the print server  performs printing processing. Details of the printing processing in step S will be described below.",{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 7","b":["603","103"]},"First, the application server unit  in the print server  determines whether the document file management unit  storing a document file belongs to the same domain as that to which the print server  belongs using a URI. For example, it is assumed that an address of the print server  is http:\/\/xxx.yyy.zz\/aa, and an address of the document file management unit  is http:\/\/xxx.yyy.zz\/bb. In this case, the addresses are the same in a part, \u201cxxx.yyy.zz\u201d. Accordingly, the application server unit  specifies that the domain to which the document file management unit  storing the document file belongs and the domain to which the print server  belongs are the same.","In step S, the CPU  in the print server  causes the application server unit  to determine whether a document file, which the printing apparatus  has been instructed to print, is managed by the document file management unit  or by the document file management unit . A management location is determined using a URI of a document storage location in a printing instruction request. If the document file is managed by the document file management unit  in the print server , the processing proceeds to step S. If the document file is managed by the document file management unit  in the document management server , the processing proceeds to step S. More specifically, point is that a management unit storing a document file exists in the same domain as that to which a processing unit for performing processing belongs.","In step S, the CPU  in the print server  causes the backend processing unit  to perform the printing processing using the asynchronous processing method. Details will be described with reference to the following flowchart. The printing processing is performed using the asynchronous processing method because the document file management unit  belongs to a domain different from that to which the print server  belongs so that it takes much time for the print server  to acquire data from the document file management unit .","In step S, the CPU  in the print server  causes the application unit  to determine whether a designated document file is ready for printing. The document file ready for printing, for example, a PDF, can be directly printed by the printing apparatus . The type of document file that can be directly printed differs for each printing apparatus. Information relating to the type of document file that can be directly printed for each printing apparatus is held in the printing apparatus management unit . The application unit  determines whether the document file is ready for printing based on request destination information relating to the printing apparatus , which has been instructed to perform printing, and the printing apparatus management unit . More specifically, the application unit  specifies whether the printing processing is performed using the synchronous processing method or using the asynchronous processing method depending on whether the document file is ready for printing.","The request destination information includes identification information relating to the designated document file. A file format of the document file can be inquired of the document management server  using the identification information. The document management server  confirms a file format of a target document file based on the received identification information, and sends a confirmation result to the print server . If the document file is ready for printing (YES in step S), the processing proceeds to step S. If the document file is not ready for printing (NO in step S), the processing proceeds to step S. Thus in the first exemplary embodiment, either one of the synchronous processing method and the asynchronous processing method is determined based on information relating to the document file (a URI of the document file).","In step S, the CPU  in the print server  causes the request processing unit  to perform the printing processing using the synchronous processing method. Details will be described in the following flowchart. There are two reasons why the printing processing is performed using the synchronous processing method. The first reason is that it takes hardly any time for the print server  to acquire the document file because the document file management unit  storing the document file belongs to the same domain as that to which the print server  belongs. The other reason is that no time is required to convert the acquired document file because the printing apparatus  can print the document file without subjecting the document file to conversion processing.",{"@attributes":{"id":"p-0069","num":"0068"},"figref":["FIG. 8","FIG. 8"],"b":["703","104","103","40221","40222","104"]},"In step S, the CPU  in the print server  causes the request processing unit  to add a queue message to the print queue . At this time, information relating to the newly added queue message is written on the management table, and the status of the queue message is \u201cprint data has not been processed yet\u201d. In step S, the CPU  in the print server  causes the web server unit  to generate a screen being processed as response data, and send the response data to the printing apparatus . In this case, the screen is returned to the printing apparatus  via the session provided when the printing apparatus  makes an output request. If the processing proceeds to step S via step S, however, response data is generated for the web browser  to confirm the progress status again.","In step S, the CPU  in the printing apparatus  causes the web browser  to display the received response data serving as the screen being processed on the operation unit . In step S, the CPU  in the printing apparatus  causes the web browser  to request the print server  to confirm the progress status. The request to confirm the progress status is previously written in the response data in the print server , and is made using a timer for each predetermined period as a trigger. The above-mentioned processing can be implemented by writing the response data in Java (registered trademark) Script. The web browser  sends a request to confirm the progress status again in response to the response data.","In step S, the CPU  in the print server  causes the request processing unit  to confirm the management table that manages the status of the queue message in the print queue . If the status is \u201cprint data is being generated\u201d, the processing proceeds to step S. If the status is \u201cprint data has been generated\u201d, the processing proceeds to step S. In step S, the CPU  in the print server  causes the web server unit  to generate and send response data for acquiring print data. When the sending is completed, the request processing unit  instructs the print queue  to delete a corresponding queue message. The print queue  deletes the queue message. In step S, the CPU  in the printing apparatus  causes the web browser  to acquire print data. In step S, the CPU  in the print server  causes the web server unit  to send the print data. In step S, the CPU  in the printing apparatus  causes the web browser  to acquire data. In step S, the CPU  in the printing apparatus  issues an instruction to print the acquired document file. In step S, the CPU  in the printing apparatus  performs printing.",{"@attributes":{"id":"p-0073","num":"0072"},"figref":"FIG. 9","b":["40222","103","812","201","103","40222","4029","813","201","103","40222","4029","4029","813","814","4029","813","812","814"]},"In step S, the CPU  in the print server  causes the backend processing unit  to determine whether the document file, which the printing apparatus  has been instructed to print, is managed by the document file management unit  in the print server  or by the document file management unit  in the document management server . If the document file is managed by the document file management unit  in the print server , the processing proceeds to step S. If the document file is managed by the document file management unit  in the document management server , the processing proceeds to step S. When the processing proceeds to step S, the request processing unit  acquires a document file stored in the print data management unit .","In step S, the CPU  in the print server  causes the backend processing unit  to request the document management server  to acquire a document file from the web requester unit . In step S, the CPU  in the document management server  sends the document file to the print server .","In step S, the CPU  in the print server  causes the backend processing unit  to store the acquired document file in the document file management unit . In step S, the CPU  in the print server  causes the backend processing unit  to determine whether the document file is ready for printing. If the document file is ready for printing (YES in step S), the processing proceeds to step S. If the document file is not ready for printing (NO in step S), the processing proceeds to step S.","In step S, the CPU  in the print server  causes the backend processing unit  to use the print data conversion unit  to convert the document file into print data. In step S, the CPU  in the print server  causes the backend processing unit  to store the print data in the print data management unit . In step S, the CPU  in the print server  causes the backend processing unit  to change the status of the queue message in the management table corresponding to the processed queue message to \u201cprint data has been generated\u201d.",{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 10","b":["704","901","201","103","40221","104","40221","4025","902","201","103","4021"]},"In step S, the CPU  in the printing apparatus  causes the web browser  to acquire data based on the response data. In step S, the CPU  in the printing apparatus  issues an instruction to print the acquired document file. In step S, the CPU  in the printing apparatus  performs printing. Further, there is a method using a locale of a storage location of a document file as a criterion for determining whether the printing processing is performed using the synchronous processing method or using the asynchronous processing method. The synchronous printing processing and the asynchronous printing processing may be performed, respectively, when the locale is near and when the locale is far. Further, the synchronous printing processing and the asynchronous printing processing may be performed, respectively, when printing can be immediately performed and when printing cannot be immediately performed, depending on the status of the printing apparatus . The printing apparatus , which has acquired the response data in which the storage location is written, acquires a document from the document management server .","As described above, the print server  determines whether the printing processing is performed using the synchronous processing method or using the asynchronous processing method depending on a characteristic of the document file that the printing apparatus  has been instructed to print and changes the processing method accordingly. This can avoid unnecessarily making a request from the printing apparatus  to the print server  to confirm the status, so that a load on the print server  can be reduced. Further, the problem that a screen of the operation unit  in the printing apparatus  looks frozen until a response to the printing apparatus  returns from the print server  is solved so that user operability in the printing apparatus  can be improved.","A method for confirming a progress status of an output request with a print server  using a web browser  and an application execution unit  in a printing apparatus  will be described below. A system configuration is similar to that in the first exemplary embodiment. Processing for printing a document file according to a second exemplary embodiment will be described below. Processes performed from start of the web browser  in the printing apparatus  to issuance of a printing instruction is similar to those in the flow from step S to step S.",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 11","b":["603","103"]},"In step S, the CPU  in the print server  causes an application server unit  to determine whether a document file, which the printing apparatus  has been instructed to print, is managed by a document file management unit  in the print server  or by a document file management unit  in a document management server . A management location is determined using a URI of a document storage location in a printing instruction request. If the document is managed by the document file management unit  in the print server , the processing proceeds to step S. If the document is managed by the document file management unit  in the document management server , the processing proceeds to step S.","In step S, the CPU  in the print server  causes the application unit  to determine whether a designated document file is ready for printing. The document file ready for printing means a document file that can be directly printed by the printing apparatus , for example, a PDF. A type of the document file that can be directly printed differs for each printing apparatus. Information relating to the type of document file that can be directly printed for each printing apparatus is held in the printing apparatus management unit . The application unit  determines whether the document file is ready for printing based on request destination information relating to the printing apparatus , which has been instructed to perform printing, and the printing apparatus management unit . If the document file is ready for printing (YES in step S), the processing proceeds to step S. If the document file is not ready for printing (NO in step S), the processing proceeds to step S.","In step S, the CPU  in the print server  causes the application unit  to determine whether the file size of the designated document file is larger than a threshold value. If the file size is larger than the threshold value (YES in step S), the processing proceeds to step S. In step S, the CPU  in the print server  specifies the asynchronous processing method. If the file size is smaller than the threshold value (NO in step S), the processing proceeds to step S. In step S, the CPU  in the print server  specifies synchronous processing method. The threshold value is set in advance by a manager of the print server . When the file size is larger than the threshold value, asynchronous processing is performed so that the web browser  in the printing apparatus  can be opened, and a user can use the web browser . When synchronous processing is performed, the web browser  does not accept an execution instruction from the user because it is occupied by acquisition processing. As a result, it seems to the user that a screen of the browser  is frozen.","In step S, the CPU  in the print server  causes a backend processing unit  to perform the printing processing using the asynchronous processing method. Details will be described in the following flowchart. In step S, the CPU  in the print server  causes a request processing unit  to perform the printing processing using the asynchronous processing method. Details will be described in the following flowchart. In step S, the CPU  in the print server  causes the request processing unit  to perform the printing processing using the synchronous processing method. The processes are similar to those in step S to S.",{"@attributes":{"id":"p-0087","num":"0086"},"figref":["FIG. 12","FIG. 9"],"b":["104","103","1004","40222","103"]},"In step S, the CPU  in the print server  causes the request processing unit  to register a task in a print queue . A status of a task in a management table at this time is \u201cprint data is being generated\u201d. In step S, the CPU  in the print server  causes the web server unit  to generate response data serving as a screen being processed, and send the generated response data to the printing apparatus . In step S, the CPU  in the printing apparatus  causes the web browser  to display the received response data serving as the screen being processed on an operation unit .","In step S, the CPU  in the printing apparatus  causes the web browser  to assign the processing to the application execution unit . More specifically, the web browser  confirms the progress status of the output request by the print server , and also takes charge of acquiring data. Thus, the web browser  is opened so that the user can operate the web browser . In step S, the CPU  in the printing apparatus  causes the application execution unit  to request the print server  to confirm the progress status. In step S, the CPU  in the print server  causes the request processing unit  to monitor the status of the task in the management table corresponding to the task in the print queue . If the status is \u201cprint data is being generated\u201d, the processing proceeds to step S. If the status is \u201cprint data has been generated\u201d, the processing proceeds to step S","In step S, the CPU  in the printing apparatus  causes the application execution unit  to generate response data for acquiring print data, and send the generated response data. In step S, the CPU  in the printing apparatus  causes the application execution unit  to acquire the print data. In step S, the CPU  in the print server  causes the web server unit  to send the print data. In step S, the CPU  in the printing apparatus  causes the application execution unit  to acquire the print data. In step S, the CPU  in the printing apparatus  issues an instruction to print an acquired document file. In step S, the CPU  in the printing apparatus  performs printing.","In the synchronous processing, it takes hardly any time to acquire the document file. Therefore, the printing apparatus  and the print server  perform the flow illustrated in .","As described above, when it takes much time to acquire the document file, the processing performed by the web browser  in the printing apparatus  is assigned to the application execution unit  so that a problem of occupation of the operation unit  can be solved and user operability can be improved.","Other Embodiments","Aspects can also be realized by a computer of a system or apparatus (or devices such as a CPU or MPU) that reads out and executes a program recorded on a memory device to perform the functions of the above-described embodiment(s), and by a method, the steps of which are performed by a computer of a system or apparatus by, for example, reading out and executing a program recorded on a memory device to perform the functions of the above-described embodiment(s). For this purpose, the program is provided to the computer for example via a network or from a recording medium of various types serving as the memory device (e.g., computer-readable medium). In an example, a computer-readable medium may store a program that causes an apparatus or system to perform a method described herein. In another example, a central processing unit (CPU) may be configured to control at least one unit utilized in a method, apparatus, system, etc. described herein.","While the present invention has been described with reference to exemplary embodiments, it is to be understood that the invention is not limited to the disclosed exemplary embodiments. The scope of the following claims is to be accorded the broadest interpretation so as to encompass all modifications, equivalent structures, and functions.","This application claims priority from Japanese Patent Application No. 2010-156924 filed Jul. 9, 2010, which is hereby incorporated by reference herein in its entirety."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and constitute a part of the specification, illustrate exemplary embodiments, features, and aspects of the invention and, together with the description, serve to explain the principles of the invention.",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 10","b":"704"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 12","b":"1004"}]},"DETDESC":[{},{}]}
