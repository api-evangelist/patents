---
title: Method and apparatus for streaming XML content
abstract: A method and apparatus are disclosed for streaming XML content in a manner that allows the receiver to decode the XML data that is actually received, even if an entire XML document is not received. Each XML document is decomposed and encoded as a collection of sub-trees. Each sub-tree from the larger XML document tree can be parsed and validated by the XML receiver as if it is an independent tree. Each streamed XML document utilizes a structure node that serves as a sub-tree wrapper function around each independent sub-tree. The structure node indicates the relationship of the sub-tree to other sub-trees, thereby allowing the XML receiver to reconstruct the full tree.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06966027&OS=06966027&RS=06966027
owner: Koninklijke Philips Electronics N.V.
number: 06966027
owner_city: Eindhoven
owner_country: NL
publication_date: 19991004
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present invention relates to the streaming of continuous media, and more particularly, to a method and apparatus for streaming XML content.","The Extensible Markup Language (XML) is a standard for encoding textual information that has been recommended by the World Wide Web Consortium (W3C). For a discussion of the XML standard, see, for example \u201cExtensible Markup Language (XML) 1.0 W3C Recommendation\u201d, incorporated by reference herein. The XML standard allows XML-enabled applications to inter-operate with other compliant system for the exchange of encoded information.","XML documents store textual data in a hierarchical tree structure. Each XML document has one root node, often referred to as the root element, with the other nodes in the hierarchical tree being arranged as descendants of the root node. The XML standard specifies four types of nodes, namely, character nodes, processing instruction (PI) nodes, comment nodes and element nodes. A character node contains only one character. A processing instruction node contains a name field and a content field (a sequence of characters). A comment node has only a content filed (a sequence of characters). Character nodes, processing instruction (PI) nodes and comment nodes are always leaf nodes in an XML document. Element nodes have children, a name (often referred to as a generic identifier (GI)), and a set of attributes (keyword-value pairs). An XML-based application can store data in all the different types of nodes and in all the fields of each node type.","A number of applications, such as video on demand and other continuous media applications, have emerged for encoding and transmitting continuous media streams. The proposed MPEG-7 standard, for example, from the Motion Pictures Group, provides a specification for encoding video information as well as textual information related to the video source. Continuous media streams are typically transmitted using a packet-based communication system. Due to the unreliable nature of packet-based communication systems, however, the quality of the received stream may be impacted by packet loss. Thus, such continuous media transmission systems generally must include a mechanism that allows the receiver to adapt to lost packets. A number of techniques have been proposed or suggested for addressing packet loss in a continuous media transmission system, including redundant transmissions, retransmission, interleaving and forward error correction techniques. For a general discussion of such techniques for addressing packet loss in continuous media systems, see, for example, \u201cOptions for Repair of Streaming Media,\u201d Network Working Group, Request for Comments No. 2354 (June 1998), incorporated by reference herein.","XMLNet is an application programming interface (API) for streaming XML documents. XMLNet allows information to be transferred over the Internet or another network in real time as a series of XML documents. The XML documents are delivered to the receiver in a serial fashion. The receiver must receive an entire XML document, however, before the receiver can decode and process any of the XML content contained in the XML document. For a discussion of XMLNet, see for example \u201cXMLNet,\u201d Dec. 9, 1998 downloadable from.","A need therefore exists for a method and apparatus that allows a receiver to decode the portions of the XML encoded content that are actually received, even if portions of the complete XML document are not received, for example, in the event of a packet loss or before the complete XML document is received. A further need exists for a method and apparatus that permits streaming of XML content in a manner that allows the transmitted XML to be decoded by the receiver even if an entire XML document is not received.","Generally, a method and apparatus are disclosed for streaming XML content in a manner that allows the receiver to decode the XML data that is received even if an entire XML document is not received. An XML receiver may decode only a portion of the streamed XML content, for example, if part of the XML data is subject to a packet loss or if the complete XML document has not yet arrived. Thus, the present invention allows the XML receiver to begin processing an XML stream in mid-transmission.","According to one aspect of the invention, each XML document is decomposed and encoded as a collection of sub-trees. Each sub-tree from the larger XML document tree can be parsed and validated by the XML receiver as if it is an independent tree. According to another aspect of the invention, each sub-tree in the streamed XML document utilizes a structure node that serves as a sub-tree wrapper function around each independent sub-tree. The structure node indicates the relationship of the sub-tree to other sub-trees, thereby allowing the XML receiver to reconstruct the full tree, provided enough of the streamed XML content is received. As used herein, a \u201cstructure node\u201d is any node that identifies the content nodes included in a given sub-tree and indicates where the sub-tree is positioned within the larger XML document tree.","A more complete understanding of the present invention, as well as further features and advantages of the present invention, will be obtained by reference to the following detailed description and drawings.",{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 1","FIG. 1"],"b":["100","300","400","300","400","400","400"]},"According to another feature of the present invention, each XML document is encoded as a collection of sub-trees. Thus, the receiver  no longer needs to receive the entire XML tree.  illustrates an XML document tree , and  illustrates a portion of the corresponding pseudo-code  necessary to construct the XML tree  of . As shown in , the XML document tree  includes a root node  and a number of sub-nodes , , ,  and .","As previously indicated, the XML tree  is decomposed and encoded as a collection of sub-trees. A sub-tree is said to be mounted on a given node, and contains the given node and all nodes beneath the given node in the hierarchical tree structure. For example, as shown in , sub-tree  is mounted on node  and contains nodes ,  and . Each sub-tree, such as the sub-tree , in the larger XML document tree  can be parsed and validated by the receiver  as if it is an independent tree. It is noted that a given sub-tree can include additional sub-trees.","According to another feature of the present invention, each sub-tree in the streamed XML document utilizes a structure node that serves as a sub-tree wrapper function around each independent sub-tree. The structure node indicates the relationship of the sub-tree to other sub-trees. In this manner, the XML receiver  can reconstruct the structure of the full tree  provided enough of the streamed XML content is received. Thus, the present invention utilizes structure nodes, in addition to the well-known XML content nodes. With reference to , nodes , ,  and  are content nodes, while the root node  and node  are structure nodes. In addition, the present invention modifies the XML provisions regarding Document Type Definitions (DTDs) to allow parts of the DTDs (DTD chunks) to be present with the sub-trees. The DTD chunks are used in accordance with the present invention to verify the validity of the sub-tree. In one variation, the DTD chunks are not included in the sub-trees, but rather, a reference is included to the full DTD.","Generally, document templates are utilized to parse the XML content for streamed transmission. One or more of the sub-nodes in the full XML tree  are treated as root nodes to establish the independent sub-trees. For example, the root node for sub-tree  in  is the node  upon which the sub-tree  is mounted. Each sub-tree has a structure node to allow the transmitted XML content to be reconstructed into the larger XML tree , if desired. The larger XML tree  can be decomposed into a collection of sub-trees in accordance with the requirements of a given user or application. For example, if the XML document tree  was decomposed to establish node C and everything below it as an independent sub-tree , the structure node for the sub-tree would indicate that content nodes D and E should be collected and attached to node C.","Thus, as used herein, a \u201cstructure node\u201d is any node that identifies the content nodes included in a given sub-tree and indicates where the sub-tree is positioned within the larger XML document tree . The structure node can identify the content nodes included in a given sub-tree by generally indicating that all previous content nodes since the previous structure node should be collected, or by providing a specified list of content nodes.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"b":["300","300","300","310","320","310","320","310"]},"The data storage device  includes a text source  that may be retrieved from memory or generated in real-time. Thus, the text source  may be a pre-recorded textual file, such as a database or another document, or a document generated in real time, for example, by a user entering textual information from a keyboard  or by a speech recognition system . The data storage device  also includes one or more XML templates  that indicates how the textual information should be decomposed in constructing the XML tree , and the independent sub-trees. Thus, the XML transmitter  will process the text source using the identified XML template  to generate the transmitted content in a streamed XML format, in accordance with the present invention. As previously indicated, each transmitted sub-tree, such as the sub-tree , will include one or more content nodes and at least one structure node indicating how the sub-tree is positioned in the complete XML tree .",{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 4","FIG. 4","FIG. 3"],"b":["400","400","400","400","410","420","300"]},"The data storage device  includes a streamed XML process , discussed below in conjunction with . Generally, the streamed XML process  processes each node that is actually received from the XML transmitter , even if portions of the larger XML document are not received. In accordance with the present invention, the streamed XML process  utilizes the structure nodes to collect the content nodes and subsequently rebuild the full XML document tree . Thus, the data storage device  also includes storage for the received content nodes  that are associated with a current XML tree  that is being received by the XML receiver .",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 5","FIG. 4"],"b":["500","400","500","300","400","400"]},"As shown in , the streamed XML process  initially performs a test during step  to determine if a received node is a content node or a structure node. If it is determined during step  that a received node is a content node, then the content node is processed directly during step , for example, by displaying the content or storing the content in a specified location. If, however, it is determined during step  that a received node is a structure node, then the structure node is evaluated during step  and the identified content nodes are assembled to form the current sub-tree, and to position the sub-tree in the full XML document  under construction.","Thereafter, a test is performed during step  to determine if additional nodes have been received that are associated with the current sub-tree. If it is determined during step  that there are additional nodes in the current sub-tree to be processed, then program control returns to step  and continues processing the next node in the manner described above. If, however, it is determined during step  that there are no additional nodes in the current sub-tree to be processed, then a further test is performed during step  to determine if an additional sub-tree has been received that is associated with the current XML tree .","If it is determined during step  that there is additional sub-tree to be processed in the current XML tree  being constructed, then program control returns to step  and continues processing the next sub-tree in the manner described above. If, however, it is determined during step  that there are no additional sub-trees to be processed in the current XML tree  being constructed, then the full XML tree  can be assembled during step . Thereafter, program control terminates during step  until additional nodes are received for processing.","It is to be understood that the embodiments and variations shown and described herein are merely illustrative of the principles of this invention and that various modifications may be implemented by those skilled in the art without departing from the scope and spirit of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 2B","FIG. 2A"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 5","FIG. 4"]}]},"DETDESC":[{},{}]}
