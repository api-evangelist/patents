---
title: Method and system for specifying, applying and extending application related aspects through policies, rules and/or triggers
abstract: A method and system for the creation of aspects from a service or application, the method defining related service aspects; inserting or encapsulating service aspects as named aspects into an abstraction layer in an execution environment; and associating the named aspects with logic in the abstraction layer to support application or service function points.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08255482&OS=08255482&RS=08255482
owner: Research In Motion Limited
number: 08255482
owner_city: Waterloo, Ontario
owner_country: CA
publication_date: 20081212
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD OF THE DISCLOSURE","BACKGROUND","DETAILED DESCRIPTION"],"p":["The present application claims the benefit of U.S. Provisional Patent Application 61\/013,834; filed Dec. 14, 2007, and U.S. Provisional Patent Application 61\/056,889, filed May 29, 2008, the entire disclosures of which are incorporated by reference herein in their entireties.","The present disclosure relates to application context awareness, and in particular to application context awareness in a mobile network.","Applications possess functional utilities that have important characteristics known as context. Context is defined as \u201cthe set of information which surrounds, and gives meaning to something else\u201d. Examples of context can be found, for example, in presence applications, location applications, among others.","With regard to presence information, presence metadata provides meaning and the presence information is the basis of the context. The meaning is applied to or part of a particular function or a particular feature of a function within an application to establish an appropriate set of processing steps.","In one example, an instant message (IM) client application operable on a first user's mobile device may require functionality to establish whether other individuals or peers are reachable to permit the first user to initiate an IM chat session. It is also possible that within an IM client, functionalities are required to establish a peer user status icon to represent a second user. In the first scenario, context relates to whether the second user is reachable to initiate a chat. In the second scenario, the first user's IM client discriminates and derives a status icon based on the second user's status and availability to display the correct status icon, indicia or avatar. In the context of the IM client, reachability as it relates to peer status icon feature may not be relevant, whereas reachability is helpful for facilitating the initiated chat function.","The above demonstrates, in a presence environment, that context plays a significant role in how an individual's presence information may be computed to derive presence related aspects, including reachability, availability, among others. As will be appreciated, context also applies in other scenarios besides presence.","A presence service captures presence information from one or more presence sources. Once this data is collected, a presence service composes the captured metadata and distributes a raw presence metadata document to authorized watchers. The OMA-Presence service platform is a demonstrative example of a presence service. The OMA-Presence enabler outlines, in very detailed written form, semantics and policy related to the publication and consumption of presence information.","Terms:","In the present description the following terms are used and defined as follows:\n\n","The present disclosure provides a method of enabling a context aware mechanism in an execution environment, the method comprising: defining aspects that at least one application employs, an aspect being an application level abstraction relevant to a source or service; associating at least one of rules and triggers against said aspects from the defining step; and associating policies with a context at a point in an application lifecycle, said policies being used as a basis for evaluating rules within the context aware mechanism, wherein said aspects, rules and policies enable said at least one application to abstract functionality to the context aware mechanism.","The present disclosure further provides a context aware mechanism comprising: aspects, said aspects being application level abstractions related to a context; rules and triggers providing a sequence of steps or logic employed to compute aspects; and policies associated with a context at a point in an application lifecycle, said policies being used as a basis for evaluating rules within the context aware mechanism, wherein said aspects, rules and policies enable at least one client to abstract functionality to the context aware mechanism.",{"@attributes":{"id":"p-0027","num":"0035"},"figref":["FIG. 1","FIG. 1"],"b":["110","112","120","112","110","120","120"]},"In the system of , a desktop  (e.g., a computing device that is similar or different than user devices ) with a PoC client can communicate with one or more of the user devices  through a wide area network  and network .","A presence platform  receives and sends out presence information flow from network  to user devices  or desktop . Presence platform  is adapted to store raw data regarding states of clients and to update client records when new state data is received. Presence platform  is further adapted to provide presence information to a watcher. Thus presence information flows both to and from presence platform .","A push talk over cellular (PoC) server  exists within the system of  and in one embodiment could publish state information on behalf of a presentity or a watcher. As will be appreciated by those skilled in the art with reference to , the consumption and interpretation of presence metadata to achieve functions or features within the context of an application relating to a subject of interest may be performed by the application. An application in this case could be the PoC server, a PoC client or an IM client, among others.","User devices , desktop  and PoC Server  could act as both watchers and presence sources in the example of .","As will be further appreciated by those skilled in the art, the requirement for the consumption and interpretation of presence metadata to achieve functions or features within the context of an application increases the complexity of a client application. Undesirably, this complexity has the net effect of increasing the associated memory footprint as well as the overall processing, power consumption and network bandwidth requirements for the application. In addition, a presence related application further becomes susceptible to changes or additions to the underlying metadata or changes presence platform semantics or policy. For example, a bug fix or a change in the OMA standards could require a client application to be updated or changed in order to correctly interpret metadata in the future. Also, metadata could be added or changed in presence semantics.","The above has the net effect of frequent changes to the application deployed within a user's execution environment in order to properly maintain an appropriate watcher and\/or presentity view. There is also a further time cost and cost related to the deployment of a given application.","This is further illustrated with reference to the example of . Reference is now made to , which shows a flow chart of an example transaction in which a PoC client application is to initiate a PoC-alert to a subject of interest. In this case, a first user, Alice, wishes to send a PoC alert to a presentity, Bob, using her PoC client (a watcher).","The process starts at block  and proceeds to block  in which the PoC client fetches or is notified of Bob's presence document by a presence server. As will be appreciated by those skilled in the art, when service is implemented for Bob and Alice to be able to push-to-talk to each other, either a subscription is made with the presence server to provide a presence document related to Bob, or when the PoC wishes to communicate with Bob then a fetch is done from the presence server and this information is received as a presence document in block .","The process then proceeds to block  in which a check is made to see whether the presence document contains any PoC alert service tuples. As will be appreciated, this is a check to see whether or not anything in the presence document is related to the service identifier for this service (in this case the PoC alert service).","If, in block , the presence document does contain PoC-alert service tuples the process proceeds to block  in which the PoC client sifts through the presence document to find relevant PoC-alert service tuples according to the OMA presence semantics. As will be appreciated, this provides a way to distill out relevant information for the service being requested. The client in this case employs embedded knowledge of the OMA presence semantics in order to do this.","The process then proceeds to block  in which the PoC client finds the most relevant person element in the presence document according to the OMA presence semantics. As will be appreciated, the presence document could include multiple person elements. OMA\/Presence defines semantics for determining the most relevant person.","The process, in block , next checks to see whether Bob is willing to be contacted by PoC-alert and if he is available for the resolved service tuple. As will be appreciated, the terms \u201cwilling\u201d and \u201cavailable\u201d are specific to presence and have predefined criteria for resolving whether or not someone is \u201cwilling\u201d and\/or \u201cavailable.\u201d","If Bob is \u201cwilling\u201d and \u201cavailable,\u201d the process proceeds to block  in which the PoC client establishes contact means including the device for the PoC alert service for Bob. As will be appreciated, multiple addresses could be provided and priority for those addresses could also be provided.","The process then proceeds to block  in which a check is made to see whether Bob is \u201ccontactable.\u201d Again this has a specific meaning within the presence semantics and indicates that if Bob is \u201cwilling\u201d and \u201cavailable\u201d then a contact means may be established.","The process then proceeds to block  if Bob is \u201ccontactable.\u201d At block  a check is made to see whether the contact means is valid. The contact means may be invalid if it is expired or if it is too old and a time limit on the validity of the context means has been placed, among others.","From blocks , , , or  if a negative conclusion is reached the process proceeds to block , which indicates that Bob is unreachable, and the process ends at block .","From block , if the contact means is valid the process proceeds to block  in which each device element in the presence document is identified. For each presence document the process proceeds to block  in which the device identifier is matched with the contact means. If a match is made the process proceeds to block . Otherwise the process proceeds to block  in which a check is made to see whether there are more device elements available. If yes, the process proceeds back through block  and . Otherwise, the process proceeds to block  in which Bob is deemed unreachable and the process ends at block .","At block , the process isolates each network's sub-element in network availability within the device and a check is made at block  to see if the network is equivalent to the required or applicable network type for the PoC alert service, and that the network is available. This is a decision that the client application makes based on policy, or it may be embedded in the client (or server) talking to the P\/CAM layer. If the process of block  receives a positive result, the process proceeds to block  in which Bob is deemed reachable and the process then ends at block .","Otherwise, the process proceeds to block  in which a check is made to see if there are other network sub-elements that can be utilized and if yes the process proceeds through blocks  and  again to make the check to see whether or not the network is equivalent to the required or applicable network type and is available. From block , if no other network subtypes are available the proceeds to block  in which Bob is deemed unreachable and process ends at .","Having regard to  above, the contextual interpretation of presence information may be embedded within each client application. Each client application can receive a different or the same set of presence metadata and in situations where multiple applicants share the same raw presence metadata, the fact that the contextual interpretation is individually tied to each of them increases the possibility that two different client applications will arrive at differing conclusions about a specific presence aspect. This may not provide the desired outcome and may lead to interoperability issues, particularly between client applications that share or treat specific presence aspects in an orthogonal and consistent manner.","For example, an email and an IM client that both derive a person's reachability from the same raw presence document may come to different conclusions as to whether someone is reachable based on subtle variations in each client application's presence processing steps. This may result in the email client concluding that the person is reachable while the IM client determines that the individual is unreachable. In addition to a bad quality of service, this could result in issues with interoperability such as not being able to spawn an IM chat session from an email client when reviewing an individual's email due to a state mismatch error.","Abstracting raw presence information into a dedicated context aware layer which supports \u201cpresence aspects\u201d based on contextual rules and policies allows for the possibility of applications to work collaboratively to achieve derived functionality and to carry out intelligent workflows as a result of a compound context presence. For example, a project manager wishes to host a project status meeting. The project manager establishes a meeting invitation (e.g., from an enterprise email\/calendaring application) on her desktop execution environment to meeting participants. A presence-context platform working on behalf of the mail\/calendaring application may be able to support the following types of functions as a result of the user initiating the invite:\n\n","Further, various application servers can integrate the presence context aware mechanism (P\/CAM) to gain efficiency by reducing the number of communication and processing steps. For example, a mobile advertisement server could integrate with a P\/CAM to simplify and streamline its presence aspects to focus on core functionality such as the delivery of contextually relevant mobile advertisements.","The present disclosure provides for a method and system for establishing a context where a mechanism is connected with a server platform to support a given application. Context awareness resides in whole or in part within the network and provides a composite view of presence\/location or other related aspects to an application or multiple applications on behalf of various entities such as a given presentity and\/or watcher in the presence case. For each case, this is achieved by associating rules, triggers, and policies against presence related aspects such as availability, contactability, reachability, state, among others, into a context aware layer. Rules or triggers may be extended or overridden to provide additional or application specific behavior to different classes of applications or enablers.","Context awareness may be replicated to a presence or location context aware mechanism connected with a presence or location service platform to provide a client application or a service with location related aspects. A location context aware mechanism (L\/CAM) makes use of location information provided by a location enabler, location information stored in a presence service or other location information store. For example, the location could be derived using GPS, base station, or extended cell tower information.","Location specific rules and policies are associated against location related aspects such as within a geographical area, who is close by, am I there yet, among others, into a location context aware layer. As with a P\/CAM, rules or triggers may be extended or overridden to provide additional\/application specific behavior to different classes of applications or service enablers.","Similarly, a \u201cgeneric\u201d context aware layer (context aware mechanism) could contain a combination of a P\/CAM, L\/CAM and specific application context aware mechanism. An example could be a mobile advertising platform where presence, location and campaign related information are used in combination to target advertisements of interest towards a user. Other generic platforms could include a network address book service, a network community service, among others.","As will be appreciated by those skilled in the art, a context aware mechanism is applicable to both a wired and wireless execution environment and computing domain. This approach has several benefits including a dramatic reduction in the complexity of an associated application running within a user's execution environment. A contextually aware platform located on the network permits a given client application or enabler to focus on its core competency such as chat within an IM client, visualizing a person's location in a location client, among others. Functionality is achieved by injecting (e.g., at execution time) the applicable policies and by invoking specific rules and\/or triggers relevant to the context of the client application or the enabler to provide utility on behalf of the user.","In a further embodiment, a context aware platform or context aware layer includes both an x\/CAM server and an x\/CAM client or agent that work in concert. Further, in some embodiments of the x\/CAM, the same distributed or non-distributed aspects as the P\/CAM and L\/CAM mentioned above are possible. For instance, the context aware layer may exist only server side in some embodiments. The context aware layer client or agent is embedded within an execution environment. The interface to a context aware platform may be web-centric. Examples include extensible markup language (XML) web services such as simple object access protocol (SOAP), representational state transfer (REST) or XML over hypertext transfer protocol (HTTP). The above supports a context aware layer deployment scenario whereby an application or enabler could directly interact or manipulate the context aware mechanism to more closely model the appropriate behavior. For example, a mobile advertising server co-located with a P\/CAM agent could be used to override presence policies to better align presence with the underlying functionality of the platform. For example, a mobile advertising server can integrate or make use of an x\/CAM \u2018layer\u2019. Such x\/CAM could be a superset of a P\/CAM, L\/CAM and specific advertisement\/CAM.","Reference is now made to .  illustrates a system diagram for a presence platform with a PoC client application utilizing a P\/CAM as the context aware layer. As will be appreciated,  utilizes similar network aspects to those of  with the addition of the P\/CAM.","In , user devices  communicate through a base station  to a network . Further, a desktop  (e.g., a computing device that is similar or different than user devices ) communicates through a wide area network  with network .","A presence platform  is adapted to store raw data and state updates that have been received from clients.","Further, a PoC server  exists and is adapted to publish or consume state information on behalf of users.","A presence context aware mechanism server  provides the context aware layer and communicates with network  and receives policies, dynamic rules and\/or triggers from clients over network  and further publishes and receives presence aspects through network .","A presence context aware mechanism server  further communicates with presence platform  to provide and receive presence information flow.",{"@attributes":{"id":"p-0063","num":"0075"},"figref":"FIG. 3","b":["332","320","330","332","330","350","350"]},"Based on the above, P\/CAM server  receives policies, rules and triggers and is adapted to provide and receive presence aspects based on these rules and logic to clients such as devices  or desktop , or PoC server .","As will be appreciated, in other embodiments, various aspects or functionality of the P\/CAM can be distributed throughout the network and in some instances the entire P\/CAM can be placed onto other devices or clients within the network.","Reference is now made to .  shows a system similar to that of  in which the P\/CAM functionality has been distributed through P\/CAM agents on various devices.","Specifically, user devices  communicate through a base station  with network . Further, a desktop  (e.g., a computing device that is similar or different than user devices ) communicates over a wide area network  with network .","A presence platform  is adapted to store raw data and state updates that are received from clients.","Further, a PoC server  is adapted to communicate with network  and publish or consume state on behalf of client applications.","The context aware layer embodied as a P\/CAM server  is adapted to communicate with network  and to receive policy, rules and thresholds and provide and receive presence aspects to and from clients such as user devices  and desktop  through P\/CAM agent  or PoC server  through P\/CAM agent .","P\/CAM  is further adapted to communicate with presence platform  to receive and send presence information flow.","In the embodiment of , some of the functionality of P\/CAM server  may be distributed in order to allow the full functionality of the P\/CAM, or part of it, to be performed on the device , desktop  or PoC server , for example. This is illustrated by P\/CAM agent  on user devices  or desktop  and P\/CAM agent  on PoC server . In this case, the context aware layer comprises both P\/CAM server  and P\/CAM agent  and\/or .","P\/CAM agent  or  could contain rules and\/or policies that are predefined. Further, the P\/CAM agent  or  can be used to manipulate presence information or interoperate with metadata or clients on the host execution environment in some embodiments.","As will be appreciated, in some embodiments the entire P\/CAM can be located on a client or other server.","Reference is now made to .  illustrates a system diagram in which the P\/CAM server (context aware layer) is embedded within the PoC server.","Specifically, in , user devices  communicate through base station  with a network . Further, desktop  (e.g., a computing device that is similar or different than user devices ) communicates over a wide area network  and to network .","A presence platform  is adapted to store raw data and updates received from clients regarding presence.","A PoC server  is adapted to communicate with network  and to publish or consume state on behalf of clients.","PoC server  further includes P\/CAM  embedded therein. P\/CAM  communicates with presence platform  to exchange presence information flow and further communicates over network  to receive policy information, rules and thresholds and to further receive and publish presence aspects. Specifically, communications  provide P\/CAM  with policy and dynamic overloaded rules, whereas communications  provide network  with presence aspects.","Further, an implementation could be defined as a P\/CAM layer integrated within an enabler, e.g.: as part of the Presence Platform itself. The latter implementation, as illustrated in , could also support a variation whereby a context aware layer embodied as a P\/CAM client\/agent resides on the mobile device and\/or as part of an associated enabler (e.g. a MobAd server).","Reference is now made to .  illustrates a system diagram in which the P\/CAM server is embedded within the presence platform .","Specifically, in , user devices  communicate through base station  with a network . Further, desktop  (e.g., a computing device that is similar or different than user devices ) communicates over a wide area network  with network .","A presence platform  is adapted to store raw data and updates received from clients regarding presence.","A PoC server  is adapted to communicate with network  and to publish or consume state on behalf of clients.","Presence platform  further includes P\/CAM  embedded therein. P\/CAM  communicates with presence platform  to exchange presence information flow and further communicates over network  to receive policy information, rules and thresholds and to further receive and publish presence aspects. Communication  shows policy\/dynamic overloaded rules being received from network . Communication  shows presence aspects being sent and received between presence platform  and network . Communication  shows presence information flow between presence platform  and network .","As will be appreciated with reference to , ,  and , context awareness reduces network latency by reducing the amount of data transmitted between a user's execution environment and a presence platform. This is helpful in a wireless domain where CPU usage, battery consumption and network bandwidth are precious resources. Further, given a context abstracts the specific details of a presence platform, a client application or enabler is less brittle and significantly more resistant to underlying changes in the model or semantics of the presence platform.","As will be appreciated, , ,  and  described above are provided with reference to a P\/CAM. However, example systems and methods herein could equally be applicable with a location platform and a L\/CAM or a generic platform and an x\/CAM. Further, a combination of these platforms is possible. The P\/CAM, L\/CAM, X\/CAM or combination form the context aware layer.","With reference to , user devices  communicate through a base station  with a network . Further, a desktop  can communicate through a wide area network  with network . A location platform  is adapted to provide and store raw data regarding the location of user devices  and further to receive updates from user devices  and store this information.","A location server  is further adapted to communicate with a network  and can provide the location of various clients.","An L\/CAM  could be a stand alone server communicating with a network  and with location platform . In an alternative embodiment the L\/CAM server can be co-located on the location server as illustrated by reference numeral . In further embodiments, L\/CAM agents can be located on devices such as agent  on user devices  or on the location server such as agent . In the case that agents  and  are used, various functionalities or all of the functionality of the L\/CAM can be distributed to the user devices or the location server.","In further embodiments, the L\/CAM can be part of the location platform , as shown by L\/CAM .","Referring to , a generic environment is provided. In , user devices  communicate through a base station  with a network . Further, a desktop  (e.g., a computing device that is similar or different than user devices ) communicates through a wide area network  with network . Also, a generic platform  is adapted to store data and states for various devices. Other servers such as a generic server  can exist within the network and can communicate over network .","Further, a generic x\/CAM  is adapted to communicate with network  and with generic platform . In other embodiments, the x\/CAM can be located on server  and this is shown as x\/CAM .","In yet further embodiments, the x\/CAM can have agents  or  that are located on user devices  or on server  respectively.","In further embodiments, the x\/CAM can be part of the generic platform , as shown by x\/CAM .",{"@attributes":{"id":"p-0096","num":"0108"},"figref":"FIG. 8"},"The above may be implemented utilizing policies and rules\/triggers. A process relating to this mechanism is provided below.","In accordance with one embodiment, a context or mechanism, whether it is presence, location or generic, may include one or more of policies, aspects, rules and triggers. Each is described in detail below. The description below has been presented with reference to a presence context or mechanism. This is, however, not meant to be limiting and those skilled in the art would appreciate that the below could be equally applicable to location or generic context or mechanisms.","Policy:","Policy is associated with a particular presence context at an appropriate point in the application life cycle, to specify the behavior or treatment of presence, location or generic related aspects. Policies augment rules\/logic flows in terms of how they operate, to provide a more accurate and meaningful computation of aspects on behalf of a client application or enabler. As will be appreciated, a policy can apply to a class of applications, an individual application or even to a user and can be provisioned with settings on how aspects are computed.","Policy may be expressed using the Open Mobile Alliance's (OMA) policy evaluation, enforcement and management (PEEM)\/policy expression language (PEL). PEL defines a generic and extensible grammar in which policies may be expressed using a rule set language. PEL is based on Internet Engineering Task Force (IETF) request for comments (rfc) . Conditions and\/or actions (as specified in rfc ) may be enhanced within the scope of PEEM, through the OMA XDM (XML Document Management) common policy extensions, as detailed in OMA-SUP-XSD_XSD_xdm_extensions-V10. The policy can also be expressed on IETF rfc .","As will be appreciated, PEEM is a continuing standards effort by the OMA to define common functions needed by its enablers.","As an example, the following table describes relevant presence policies for use by a presence context in the computation of presence aspects. These policies have applicability to the OMA presence platform. However, given policies may be added or removed from the given context as required and the concept is applicable to a multiplicity of presence platforms. In the table below, the default value, if applicable, is shown in italics.",{"@attributes":{"id":"p-0103","num":"0115"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"287pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Presence Policies"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Policy","Description","Values"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["opt-in-source","Indicate which pres. element is","willing |"]},{"entry":[{},"an indicator of service opt-in.",{"i":"ignore"}]},{"entry":[{},"Default value indicates opt-in not"]},{"entry":[{},"relevant for the given comm."]},{"entry":[{},"service."]},{"entry":["applicable-network-","Indicate the applicable network",{"i":"IMS"}]},{"entry":["type","type(s) for the given comm."]},{"entry":[{},"service."]},{"entry":["threshold-value-","Establish an equality comparison","<label> <qn-elem> <value>"]},{"entry":["equals","operation threshold named label,"]},{"entry":[{},"with qn-elem, and value. A"]},{"entry":[{},"boolean value of \u2018true\u2019 or \u20181\u2019 or"]},{"entry":[{},"\u2018yes\u2019 would apply if the policy"]},{"entry":[{},"was applied to the xml-ns and"]},{"entry":[{},"the resulting target matched"]},{"entry":[{},"value."]},{"entry":["threshold-value-less-","Identical to equality, with the","<label> <qn-elem> <value>"]},{"entry":["than","exception that the comparison"]},{"entry":[{},"operator is less than (<)."]},{"entry":["threshold-value-","Identical to equality, with the","<label> <qn-elem> <value>"]},{"entry":["greater-than","exception that the comparison"]},{"entry":[{},"operator is greater than (>)."]},{"entry":["unavailable-activies-","Indicate the subset of activities","busy, holiday, meal, in-transit,"]},{"entry":["set","from the watcher perspective that","permanent-absence, sleeping,"]},{"entry":[{},"would render a contact",{"i":"unknown"}]},{"entry":[{},"unavailable. This set may be"]},{"entry":[{},"defined as empty which is an"]},{"entry":[{},"indication that activities has no"]},{"entry":[{},"bearing on availability."]},{"entry":["undef-servcaps-sub-","Indicate how to interpret the",{"i":"unknown "}]},{"entry":["elements","absence or omission of specific"]},{"entry":[{},"<servcaps> sub-elements in"]},{"entry":[{},"presence metadata."]},{"entry":["undef-barring-state","Indicate how to interpret the",{"i":"ignore "}]},{"entry":[{},"absence or omission of <barring-"]},{"entry":[{},"state> sub-elements in presence"]},{"entry":[{},"metadata."]},{"entry":["undef-registration-","Indicate how to interpret the",{"i":"ignore "}]},{"entry":["state","absence or omission of"]},{"entry":[{},"<registration-state> sub-element"]},{"entry":[{},"in presence metadata."]},{"entry":["undef-willingness","Indicate how to interpret the","(open,indefinite) | ()"]},{"entry":[{},"absence or omission of","| (open, time-ofs-value) | (closed,time-"]},{"entry":[{},"<willingness> for the given","ofs-value)"]},{"entry":[{},"comm. service."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Table 1 above defines various policies and values for the policies. As indicated in the table, various policies exist and the description of the policy and the values are provided.","In the first row of the table, a first policy is \u201copt-in-source\u201d. The policy is used to indicate which presence element is an indicator of service opt-in. The default value indicates that opt-in is not relevant for the given communication service.","The values that are possible for the opt-in-source policy are willing, or ignore. As will be appreciated, these could be selected by various entities such as the service provider, among others. The entity choosing the policy can choose which values to utilize. Thus, for example, the service provider could choose to ignore opt-in source for the first policy.","The second policy described in Table 1 is applicable-network-type and indicates the applicable network types for a given communication service. A default, as shown, is IMS. However, other values include session initiation protocol (SIP) or a token and can be chosen by the selecting entity.","The third policy is \u201cthreshold-value-equals\u201d and could be utilized to establish an equality comparison operation threshold named label with a qualified name XML element and value. A boolean value of one or true or yes would apply if the policy was applied in the XML name space and the resulting target matched the value.","The next policy in Table 1 is \u201cthreshold-value-less-than\u201d. This is similar to the threshold-value-equals policy except that it utilizes the less-than comparator.","Similarly, the next policy is \u201cthreshold-value-greater-than\u201d which is similar to the above-mentioned threshold-value policies, except with the greater-than operator.","The next policy is \u201cunavailable-activities-set\u201d and could include a subset of activities that would render the contact unavailable in the context of the application, service or enabler. In the default setting this is unknown, but it could include things like busy, holiday, meal, among others.","The next policy is \u201cundef-servcaps-sub-elements\u201d and indicates undefined service capabilities and how the application is to interpret these. For example, Table 1 indicates that if the service capability is undefined it could be considered to be unsupported.","The next policy in Table 1 is \u201cun-def-barring-state\u201d and indicates how to interpret the absence or omission of a barring-state XML element in presence metadata and could include that the state is active or terminated. The default is that the state will be ignored.","Similarly, an \u201cundef-registration-state\u201d indicates how to interpret the absence or omission of a registration-state XML element and is by default ignored but could also be active and terminated in the example of Table 1 above.","The final policy defined in Table 1 above is \u201cundef-willingness\u201d and indicates how to interpret the absence or omission of a willingness XML element for a given communications service and could include a pair consisting of a state (open, or closed) along with a validity period (either an indefinite period or a preset validity period).","As will be appreciated by those skilled in the art, Table 1 above is merely meant as an example and other policies are possible based on the needs of a system or user.","To support the policies in the preceding table, the P\/CAM requires additional XML types and element definitions in order to extend the PEL common-policy \u201cactions\u201d. The following XML schema document provides further details relating to how these actions may be extended for use by a P\/CAM.",{"@attributes":{"id":"p-0118","num":"0130"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"},{"entry":"<xs:schema"},{"entry":"\u2002targetNamespace=\u201curn:oma:xml:xdm:extensions:cam\u201d"},{"entry":"\u2002xmlns=\u201curn:oma:xml:xdm:extensions:cam\u201d"},{"entry":"\u2002xmlns:xs=\u201chttp:\/\/www.w3.org\/2001\/XMLSchema\u201d"},{"entry":"\u2002elementFormDefault=\u201cqualified\u201d attributeFormDefault=\u201cunqualified\u201d>"},{"entry":"\u2009<!-- This import brings in the XML language attribute xml:lang -->"},{"entry":"\u2009<xs:import namespace=\u201chttp:\/\/www.w3.org\/XML\/1998\/namespace\u201d"},{"entry":"\u2002schemaLocation=\u201chttp:\/\/www.w3.org\/2001\/xml.xsd\u201d\/>"},{"entry":"\u2002<!- P\/CAM specific \u201cactions\u201d child element extensions to -->"},{"entry":"\u2002<!- namespace urn:ietf:params:xml:ns:common-policy -->"},{"entry":"\u2009<xs:element name=\u201copt-in-source\u201d type=\u201cOptInSourceType\u201d\/>"},{"entry":"\u2009<xs:element name=\u201capplicable-network-type\u201d"},{"entry":"\u2009type=\u201cApplicableNetworkType\u201d\/>"},{"entry":"\u2009<xs:element name=\u201cthreshold-value-equals\u201d type=\u201cThresholdEqType\u201d\/>"},{"entry":"\u2009<xs:element name=\u201cthreshold-value-less-than\u201d"},{"entry":"\u2009type=\u201cThresholdLtType\u201d\/>"},{"entry":"\u2009<xs:element name=\u201cthreshold-value-greater-than\u201d"},{"entry":"\u2009type=\u201cThresholdGtType\u201d\/>"},{"entry":"\u2009<xs:element name=\u201cunavailable-activities-set\u201d"},{"entry":"\u2009type=\u201cUnavailActivityType\u201d\/>"},{"entry":"\u2002<xs:element name=\u201cundef-servcaps-sub-elements\u201d"},{"entry":"\u2003\u2003type=\u201cUndefServCapsSubElemsType\u201d\/>"},{"entry":"\u2009<xs:element name=\u201cundef-barring-state\u201d"},{"entry":"\u2009type=\u201cUndefBarringStateType\u201d\/>"},{"entry":"\u2002<xs:element name=\u201cundef-registration-state\u201d"},{"entry":"\u2003\u2003type=\u201cUndefRegistrationStateType\u201d\/>"},{"entry":"\u2009<xs:element name=\u201cundef-willingness\u201d type=\u201cUndefWillingnessType\u201d\/>"},{"entry":"\u2009<!-- Type definitions defined by this document-->"},{"entry":"\u2009<!-- OptInSource indicator -->"},{"entry":"\u2009<xs:simpleType name=\u201cOptInSourceType\u201d>"},{"entry":"\u2003\u2003\u2002<xs:annotation>"},{"entry":"\u2003\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2003Policy: opt-in-source"},{"entry":"\u2003\u2003\u2003The associated service(s) use \u2018willing\u2019, or \u2018ignore\u2019 as opt-in"},{"entry":"\u2003\u2003\u2003indicator."},{"entry":"\u2003\u2003\u2003The default is \u2018ignore\u2019 which means no opt-in indicator is relevant."},{"entry":"\u2003\u2003\u2003<\/xs:documentation>"},{"entry":"\u2003\u2003\u2002<\/xs:annotation>"},{"entry":"\u2002<xs:restriction base=\u201cxs:token\u201d>"},{"entry":"\u2003\u2002<xs:pattern value=\u201cwilling|ignore\u201d\/>"},{"entry":"\u2002<\/xs:restriction>"},{"entry":"<\/xs:simpleType>"},{"entry":"<!-- NetType -->"},{"entry":"<xs:simpleType name=\u201cNetType\u201d>"},{"entry":"\u2002<xs:restriction base=\u201cxs:string\u201d>"},{"entry":"\u2003\u2002<xs:pattern value=\u201cIMS|SIP|[a-zA-Z][a-zA-Z0-9][a-zA-Z0-9]+\u201d\/>"},{"entry":"\u2002<\/xs:restriction>"},{"entry":"<\/xs:simpleType>"},{"entry":"<!-- ApplicableNetworkType indicator -->"},{"entry":"<xs:simpleType name=\u201cApplicableNetworkType\u201d>"},{"entry":"\u2003\u2003\u2002<xs:annotation>"},{"entry":"\u2003\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2003Policy: applicable-network-type"},{"entry":"\u2003\u2003\u2003Indicator of applicable network type(s) for the given"},{"entry":"\u2003\u2002communication service."},{"entry":"\u2003\u2003\u2003<\/xs:documentation>"},{"entry":"\u2003\u2003\u2002<\/xs:annotation>"},{"entry":"\u2002<xs:list itemType=\u201cNetType\u201d\/>"},{"entry":"<\/xs:simpleType>"},{"entry":"<!-- Threshold indicator types -->"},{"entry":"<xs:complexType name=\u201cBaseThresholdType\u201d abstract=\u201ctrue\u201d>"},{"entry":"\u2002<xs:annotation>"},{"entry":"\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003Base type definition for threshold types. \u2002Specifies \u2018label\u2019 which"},{"entry":"\u2003\u2003is used to identify the specific threshold, along with the qualified"},{"entry":"\u2003\u2003name."},{"entry":"\u2003<\/xs:documentation>"},{"entry":"\u2002<\/xs:annotation>"},{"entry":"\u2002<xs:all>"},{"entry":"\u2003\u2003<xs:element name=\u201clabel\u201d\u2002 type=\u201cxs:token\u201d\/>"},{"entry":"\u2003\u2003<xs:element name=\u201cqn-elem\u201d type=\u201cxs:QName\u201d\/>"},{"entry":"\u2003\u2003<xs:element name=\u201cvalue\u201d type=\u201cxs:anyType\u201d\/>"},{"entry":"\u2002<\/xs:all>"},{"entry":"<\/xs:complexType>"},{"entry":"<xs:complexType name=\u201cThresholdEqType\u201d>"},{"entry":"\u2002<xs:annotation>"},{"entry":"\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2009Policy: threshold-value-equals"},{"entry":"\u2003\u2003\u2009Comparison operation (equality) threshold for \u2018label\u2019 for"},{"entry":"\u2003\u2003\u2009qualified"},{"entry":"\u2003\u2003\u2009element name \u2018qn-elem\u2019 with value specified as \u2018value\u2019."},{"entry":"\u2003\u2003<\/xs:documentation>"},{"entry":"\u2002<\/xs:annotation>"},{"entry":"\u2002<xs:complexContent>"},{"entry":"\u2003\u2003\u2003<xs:extension base=\u201cBaseThresholdType\u201d\/>"},{"entry":"\u2002<\/xs:complexContent>"},{"entry":"\u2009<\/xs:complexType>"},{"entry":"<xs:complexType name=\u201cThresholdLtType\u201d>"},{"entry":"\u2002<xs:annotation>"},{"entry":"\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2009Policy: threshold-value-less-than"},{"entry":"\u2003\u2003\u2009Comparison operation (less-than) threshold for \u2018label\u2019 for"},{"entry":"\u2003\u2003\u2009qualified element name \u2018qn-elem\u2019 with value specified as \u2018value\u2019."},{"entry":"\u2003\u2003<\/xs:documentation>"},{"entry":"\u2002<\/xs:annotation>"},{"entry":"\u2002<xs:complexContent>"},{"entry":"\u2003\u2003\u2003<xs:extension base=\u201cBaseThresholdType\u201d\/>"},{"entry":"\u2002<\/xs:complexContent>"},{"entry":"<\/xs:complexType>"},{"entry":"<xs:complexType name=\u201cThresholdGtType\u201d>"},{"entry":"\u2002<xs:annotation>"},{"entry":"\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2009Policy: threshold-value-greater-than"},{"entry":"\u2003\u2003\u2009Comparison operation (greater-than) threshold for \u2018label\u2019 for"},{"entry":"\u2003\u2003\u2009qualified element name \u2018qn-elem\u2019 with value specified as \u2018value\u2019."},{"entry":"\u2003\u2003<\/xs:documentation>"},{"entry":"\u2002<\/xs:annotation>"},{"entry":"\u2002<xs:complexContent>"},{"entry":"\u2003\u2003\u2003<xs:extension base=\u201cBaseThresholdType\u201d\/>"},{"entry":"\u2002<\/xs:complexContent>"},{"entry":"<\/xs:complexType>"},{"entry":"<!-- Unavailable activities indicator -->"},{"entry":"<xs:simpleType name=\u201cUnavailActivityType\u201d>"},{"entry":"\u2002<xs:annotation>"},{"entry":"\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2009Policy: unavailable-activities-set"},{"entry":"\u2003\u2003\u2009Used to describe all activities related to an application or enabler"},{"entry":"\u2003\u2003\u2009that would render an individual unavailable."},{"entry":"\u2003\u2003<\/xs:documentation>"},{"entry":"\u2003\u2003<\/xs:annotation>"},{"entry":"\u2002<xs:list itemType=\u201cxs:QName\u201d\/>"},{"entry":"<\/xs:simpleType>"},{"entry":"<!-- UndefServCapsSubElems indicator -->"},{"entry":"<xs:simpleType name=\u201cUndefServCapsSubElemsType\u201d>"},{"entry":"\u2002<xs:annotation>"},{"entry":"\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2009Policy: undef-servcaps-sub-elements"},{"entry":"\u2003\u2003\u2009Indicate how to interpret the absence or omission of specific"},{"entry":"\u2003\u2003\u2009&lt;servcaps&gt; sub-elements in presence metadata. Value of"},{"entry":"\u2003\u2003\u2009\u2018unknown\u2019 is considered the default which does not give the"},{"entry":"\u2003context any hints as to how to deal with missing\/absent"},{"entry":"\u2003&lt;servcaps&gt; sub-elements."},{"entry":"\u2003\u2003<\/xs:documentation>"},{"entry":"\u2002\u2009<\/xs:annotation>"},{"entry":"\u2002<xs:restriction base=\u201cxs:token\u201d>"},{"entry":"\u2003\u2002<xs:pattern value=\u201cunknown|unsupported\u201d\/>"},{"entry":"\u2002<\/xs:restriction>"},{"entry":"<\/xs:simpleType>"},{"entry":"<!-- UndefBarringState indicator -->"},{"entry":"<xs:simpleType name=\u201cUndefBarringStateType\u201d>"},{"entry":"\u2003\u2003\u2009<xs:annotation>"},{"entry":"\u2003\u2003\u2002<xs:documentation>"},{"entry":"\u2003\u2003\u2003Policy: undef-barring-state"},{"entry":"\u2003\u2003\u2003Indicate how to interpret the absence or omission of specific"},{"entry":"\u2003\u2003\u2003\u2002\u2009&lt;barring-state&gt; sub-elements in presence metadata."},{"entry":"\u2003\u2003\u2003\u2002<\/xs:documentation>"},{"entry":"\u2003\u2003\u2003<\/xs:annotation>"},{"entry":"\u2003\u2003\u2003<xs:restriction base=\u201cxs:token\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002<xs:pattern value=\u201cignore|active|terminated\u201d\/>"},{"entry":"\u2003\u2002<\/xs:restriction>"},{"entry":"\u2002<\/xs:simpleType>"},{"entry":"\u2002<!-- UndefRegistrationState indicator -->"},{"entry":"\u2002<xs:simpleType name=\u201cUndefRegistrationStateType\u201d>"},{"entry":"\u2003\u2003\u2003<xs:annotation>"},{"entry":"\u2003\u2003\u2003\u2002<xs:documentation>"},{"entry":"\u2003\u2003\u2003\u2002\u2009Policy: undef-registration-state"},{"entry":"\u2003\u2003\u2003\u2002\u2009Indicate how to interpret the absence or omission of specific"},{"entry":"\u2003\u2003\u2003\u2002\u2009&lt;registration-state&gt; sub-elements in presence metadata."},{"entry":"\u2003\u2003\u2002Default value of \u2018ignore\u2019 indicates that the sub-element has"},{"entry":"\u2003\u2003\u2002no meaning in this context."},{"entry":"\u2003\u2003\u2003\u2002<\/xs:documentation>"},{"entry":"\u2003\u2003\u2003<\/xs:annotation>"},{"entry":"\u2003<xs:restriction base=\u201cxs:token\u201d>"},{"entry":"\u2003\u2003\u2003\u2002<xs:pattern value=\u201cignore|active|terminated\u201d\/>"},{"entry":"\u2003<\/xs:restriction>"},{"entry":"\u2002<\/xs:simpleType>"},{"entry":"\u2002<!-- UndefWillingnessType indicator -->"},{"entry":"\u2002<xs:simpleType name=\u201cUndefWillingnessType\u201d>"},{"entry":"\u2003\u2009<xs:annotation>"},{"entry":"\u2003\u2003\u2003<xs:documentation>"},{"entry":"\u2003\u2003\u2003\u2002Policy: undef-willingness"},{"entry":"\u2003\u2003\u2003\u2002Indicator of how to interpret absence or omission of"},{"entry":"\u2003\u2003\u2003\u2002&lt;willingness&gt; sub-element for the given service."},{"entry":"\u2003\u2003\u2003\u2002Default value is \u2018closed\/indefinite\u2019."},{"entry":"\u2003\u2003\u2003<\/xs:documentation>"},{"entry":"\u2003\u2009<\/xs:annotation>"},{"entry":"\u2003\u2009<xs:restriction base=\u201cxs:token\u201d>"},{"entry":"\u2003\u2003\u2003\u2009<xs:enumeration value=\u201copen\/indefinite\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2009<xs:enumeration value=\u201cclosed\/indefinite\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2009<xs:enumeration value=\u201copen\/time-ofs-value\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2009<xs:enumeration value=\u201cclosed\/time-ofs-value\u201d\/>"},{"entry":"\u2003\u2009<\/xs:restriction>"},{"entry":"\u2002<\/xs:simpleType>"},{"entry":"<\/xs:schema>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The above XML schema provides for the definition of element name in the lines that begin <xs:element name=\u201copt-in-source\u201d type=\u201cOptinSourceType\u201d\/>. The element names are further defined for the remaining policies in Table 1 above.","As will be seen by those skilled in the art, the remainder of the XML Schema above defines the policy types as indicated by the description and value fields in Table 1. Specifically, for the \u201cOptinSourceType\u201d a xs:pattern value is set to willing or ignore. The above therefore provides the additional XML type and element definitions in order to extend PEL common policy actions.","By extending common policy actions, P\/CAM policies may be incorporated into a common policy PEL \u2018ruleset\u2019 XML document. A \u2018ruleset\u2019 may apply at a user scope or a global scope. For example, the \u2018ruleset\u2019 may apply to a class of service or a specific application. The ruleset may also apply to an individual user or group of users.","P\/CAM related policies are manipulated and evaluated through the various PEEM requester interfaces by the P\/CAM server itself or a P\/CAM enabled client\/agent. That is, application or authentication protocols may provide specific metadata such as the requester identity to the PEEM requester interface along with other metadata available to the PEEM servers as the basis for applying rules.","The following is an example of a common policy PEL rule set XML document, which consists of a single rule \u2018a101\u2019. This rule associates with a service enabler such as a PoC alert and defines specific policy settings\/values be applied as a result of a match for a target resource. In this case the target resource is the service identifier itself. As will be appreciated by those skilled in the art, this example makes an intentional correlation between the value of the common policy extension \u2018ext:service[@enabler]\u2019 attribute and the OMA PoC alert service-id as defined by OMA presence.","The above is illustrated with reference to , which shows how a aware layer (AL) such as a context aware layer (CAL), for example, can preload a given set of policy-type XSD. As will be appreciated, these are types as shown by Table 1 above.","An AL-client device  communicates with a AL , which communicates with a PEEM .","AL  sends a loadPolicyExtension(xsd,service-id) message  to PEEM  which is processed, as shown by arrow . PEEM  then sends an accept message  to AL .","At some later point the AL-enabled client device  attempts to initiate and authenticate with a AL  service enabler such as a PoC alert service. This is done with the authenticate (watcher-id, service-id, user-id) message .","As part of the initiation and authentication the AL  sends a pellnit (watcher-id, service-id, user-id) message  to PEEM . PEEM  evaluates the policy as shown by arrow  and returns the policy in message . Evaluation  allows the PEEM to apply a specific set of policy settings on a per server or per user basis.","AL  initiates the context arrow  and further optionally returns the AL context as message  back to AL client device .","It is possible that, as an example, the match criteria could be the service-id relating to an OMA enabler (such as PoC alert). Other match criteria could be based on a user or a group sphere.",{"@attributes":{"id":"p-0131","num":"0143"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d?>"},{"entry":"<!-- Sample policy ruleset for OMA PoC Alert service. -->"},{"entry":"<!- A ruleset may apply on a per-user or global basis. -->"},{"entry":"<cr:ruleset \u2003xmlns=\u201curn:ietf:params:xml:ns:common-policy\u201d"},{"entry":"\u2003\u2003xmlns:ext=\u201curn:oma:xml:xdm:extensions\u201d"},{"entry":"\u2003\u2003\u2009xmlns:cr=\u201curn:ietf:params:xml:ns:common-policy\u201d"},{"entry":"\u2003\u2003\u2003\u2002xmlns:cs=\u201curn:oma:xml:xdm:extensions:cam\u201d"},{"entry":"\u2003\u2003\u2003xmlns:rpid=\u201curn:ietf:params:xml:ns:pidf:rpid\u201d>"},{"entry":"\u2003\u2002<!-- A rule for PoC alert service, establish context policies -->"},{"entry":"\u2003\u2003\u2003<cr:rule id=\u201ca101\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2002<cr:conditions>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<ext:service-list>"},{"entry":"\u2003\u2003\u2003\u2003<!--Match against a specific OMA enabler by service-ID... -->"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ext:service"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003enabler=\u201corg.openmobilealliance.PoC-alert\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/ext:service-list>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/cr:conditions>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<cr:actions>"},{"entry":"\u2003\u2003\u2003\u2003\u2002<!-- Following policy values for document scope... -->"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<cs:undef-servcaps-sub-elements>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003unsupported"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/cs:undef-servcaps-sub-elements>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<cs:undef-willingness>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003closed\/indefinite"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/cs:undef-willingness>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<cs:opt-in-source>willing<\/cs:opt-in-source>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<cs:unavailable-activities-set>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003rpid:busy rpid:sleeping"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/cs:unavailable-activities-set>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<cs:undef-registration-state>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003terminated"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/cs:undef-registration-state>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<cs:undef-barring-state>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ignore"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/cs:undef-barring-state>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<cs:applicable-network-type>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003IMS"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2002<\/cs:applicable-network-type>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2002<\/cr:actions>"},{"entry":"\u2003\u2003\u2003<\/cr:rule>"},{"entry":"<\/ruleset>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"As will be appreciated by those skilled in the art, the above defines rule \u2018a101\u2019. In this case the service-id is defined as \u201corg.openmobilealliance.PoC-alert\u201d the OMA PoC Alert service, and the P\/CAM policy extensions are defined as part of the XML namespace \u201curn:oma:xml:xdm:extensions:cam\u201d. The above is therefore a manifestation of the schema defined with regard to Table 1 above. The context aware layer values based on rule \u2018a101\u2019 firing are shown below with reference to Table 1A.",{"@attributes":{"id":"p-0133","num":"0145"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1A"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Policy Setting\/Values (OMA PoC Alert Service)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"91pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Policy","Value"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"opt-in-source","willing"]},{"entry":[{},"applicable-network-type",{"i":"IMS"}]},{"entry":[{},"unavailable-activies-set","rpid:busy rpid:sleeping"]},{"entry":[{},"undef-servcaps-sub-elements","unsupported"]},{"entry":[{},"undef-barring-state",{"i":"ignore"}]},{"entry":[{},"undef-registration-state","terminated"]},{"entry":[{},"undef-willingness","()"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"As will be appreciated, the PEEM could utilize multiple application policies and multiple services or exclusions could be established as part of a ruleset.","The actions as seen in the XML above define specific policy values for document scope.","Aspects:","Aspects are application level abstractions relevant to a source, for example, presence aspects are application level abstractions relevant to presence. Presence aspects can be considered the conceptual interface of a presence context to a P\/CAM client application or enabler. Table 2 below outlines a base set of applicable presence aspects that may be incorporated for use by a presence context aware mechanism and exposed to client applications. For each presence aspect, a description is provided, along with the associations the aspect relates to in terms of the standard presence data model outlined in IETF rfc .","In particular, to specify and apply contextually relevant behavior across a disparate set of interworking components and user devices, a general mechanism is required for the encapsulation of aspects related to a presence platform. That is, an aspect captures a first-order abstraction related to a given application or enabler. Aspects relating to a presence platform would describe or relate to underlying indications of presence. Aspects may be expanded to encapsulate other indications as well. For example, location may be incorporated (or inferred) to derive or compute an associated aspect within a presence platform. This is illustrated in Table 2 below with regard to the who-is-nearby aspect.","The present disclosure provides a mechanism for an arbitrary number of aspects as required by the presence platform. These may include common aspects such as availability and reachability. They may also include application specific aspects. A mechanism within the presence platform or management interface exists to associate an appropriate set of aspects with a given service. Association of aspects of contextual in nature and may apply at different levels. For example, a given aspect may apply to a service enabler such as all OMA push-to-talk over cellular (i.e. PoC) compliant service.","An aspect may also be applicable at a user or group level.","For each aspect, an associated set of rules or logic may be defined which outline the steps or processing required to achieve the given aspect. The logic also identifies the raw presence\/data indicators\/elements relevant to the calculation of the associated aspect. A given aspect may combine two or more predefined rules together as part of its logic processing. Further, underlying logic may be reused as a library or routines in support of aspects within a presence platform. This library may include aspects as other high-level modules or components which may be incorporated. This allows multiple client application types to utilize a context aware layer.","In one embodiment presence aspects are extensible. For example, if a given service or enabler requires specific functionality, the presence platform could support the extension or re-definition in one or more aspects, as required.","As will be appreciated by those skilled in the art, Table 2 may be modified or extended to support other presence platforms or application\/enabler requirements. The particular presence aspects shown in Table 2 are demonstrative of an OMA presence platform.",{"@attributes":{"id":"p-0143","num":"0155"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"center"}},"thead":{"row":{"entry":"TABLE 2"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Presence Aspects"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"35pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Presence",{},{},{},"Common"]},{"entry":["Aspect","Description","Associations","Visibility","visibility"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["opt-in","Presentity is willing to","Person \u2212>","OTA,","Server"]},{"entry":[{},"participate in a","service.","Server"]},{"entry":[{},"session for a given"]},{"entry":[{},"service or application."]},{"entry":["Available","Presentity is available","Person \u2212>","OTA,","Server"]},{"entry":[{},"to communicate using","service.","Server"]},{"entry":[{},"a given service or"]},{"entry":[{},"application."]},{"entry":["contact-means","Presentities most","Person(addr) \u2212>","OTA,","Server"]},{"entry":[{},"applicable method of","service.","server"]},{"entry":[{},"contact for a given"]},{"entry":[{},"service or application."]},{"entry":["contactable","Presentity is willing,","Person(addr) \u2212>","OTA,","Server"]},{"entry":[{},"available, and has a","service.","server"]},{"entry":[{},"currently valid contact"]},{"entry":[{},"means for a given"]},{"entry":[{},"service or application."]},{"entry":["reachable","Presentity is","Person \u2212> service \u2212>","OTA,","OTA"]},{"entry":[{},"contactable for a","device","server"]},{"entry":[{},"given Service or"]},{"entry":[{},"application."]},{"entry":["where-are-you","Presentities current","Person,","OTA,","OTA"]},{"entry":[{},"location.","Person \u2212> service \u2212>","server"]},{"entry":[{},{},"device"]},{"entry":["personal-avatar","Presentities current","Person","OTA,","OTA"]},{"entry":[{},"personal iconic",{},"server"]},{"entry":[{},"representation."]},{"entry":["service-avatar","Presentities current","Person \u2212> service","OTA,","OTA"]},{"entry":[{},"iconic representation",{},"server"]},{"entry":[{},"for a given service or"]},{"entry":[{},"application."]},{"entry":["personal-interests","Presentities current","Person(extended-","OTA,","Server"]},{"entry":[{},"interests or hobbies.","info)","server"]},{"entry":["who-is-","Watchers that","Winfo","OTA,","Server"]},{"entry":["subscribing-to-me","currently have",{},"server"]},{"entry":[{},"\u2018pending\u2019"]},{"entry":[{},"subscriptions for a"]},{"entry":[{},"given presentity."]},{"entry":["who-is-nearby","A list of zero or more","Person \u2212> service","OTA,","Either"]},{"entry":[{},"presentities that are",{},"server"]},{"entry":[{},"within close proximity"]},{"entry":[{},"and meet an optional"]},{"entry":[{},"set of criteria (e.g."]},{"entry":[{},"interested in football)."]},{"entry":["who-is-blocked","Watchers who have","Winfo, common-","OTA,","Server"]},{"entry":[{},"had subscriptions","policy","server"]},{"entry":[{},"terminated or have"]},{"entry":[{},"been blocked for a"]},{"entry":[{},"given presentity"]},{"entry":["eligible-session-","Whether a presentity","Person \u2212> service \u2212>","OTA,","Server"]},{"entry":["participant","is reachable and","device,","Server"]},{"entry":[{},"meets an optional set","Shared"]},{"entry":[{},"of criteria in order to","UserProfile,"]},{"entry":[{},"participate in a","Other XDMS"]},{"entry":[{},"session of the","meta-data"]},{"entry":[{},"associated service."]},{"entry":["Session-","An indicator of","Person \u2212> service","OTA,","OTA"]},{"entry":["answermode","whether a presentity",{},"Server"]},{"entry":[{},"will accept an"]},{"entry":[{},"incoming session for"]},{"entry":[{},"a given service in"]},{"entry":[{},"automatic (no"]},{"entry":[{},"intervention) or"]},{"entry":[{},"manual (user must"]},{"entry":[{},"accept\/reject) mode."]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":"NOTE:"},{"entry":"A positive indication for reachable indicates that a presentity is willing, available, contactable, and their device is in-coverage to establish communication over the defined service."}]}}]}}},"Table 2 defines various presence\/application\/service aspects applicable to a presence platform. For each aspect there is a short description along with the association or applicability of the aspect to the standard presence data model. In addition, the visibility is declared. Visibility describes the applicable point at which the associate aspect is referred to. Common visibility defines or declares the most common or relevant point at which the associated aspect is likely to be referred. Choices for visibility include over the air (OTA) versus server. As would be appreciated, \u201cserver\u201d would surface on the network side in an application server.","In the first row of Table 2 above, the opt-in aspect is defined which indicates that the presentity is willing to participate in a given session for a given service or application. As indicated in Table 2, the person is associated with the service.","A second row of Table 2 indicates that a presence aspect is \u2018available\u2019. This aspect indicates that the presentity is available to communicate using a given service or application and again there is an association between the person and the service.","The next row in Table 2 indicates the presence aspect of contact-means. A presentity's most applicable method of contact for a given service or application is provided and the association is between the person's address and the service.","The next row of Table 2 indicates an aspect of \u2018contactable\u2019. This aspect shows whether the presentity is willing, available and has currently valid contact means for a given service or application. Again, in this case, the association is between the address of a person and the service.","The next row of the table indicates an aspect of \u2018reachable\u2019. This shows that the presentity is contactable for a given service or application. A positive indication for reachable shows that a presentity is willing, available, contactable and that their device is in coverage to establish communication over the defined service. The association is therefore between the person, service and the device.","\u2018Where-are-you\u2019 is the next aspect defined in Table 2 and shows the presentity's current location. As indicated, the association for this aspect is at the person, and the person, service, and the device.","Other aspects are further defined in Table 2 and include various associations thereto.","For an OMA presence realization, an example presence platform call flow may look like that shown in . Those skilled in the art will appreciate that  shows that the context aware layer may be configured between a client device and the OMA presence\/XDM layer. In one embodiment, the access layer can be an application layer or proxy. Such a context aware layer could be a separate layer or an internal layer of the application (for example a mobile advertising application with a split or integrated context aware layer).","As shown in , the aspect \u201creachable\u201d may include, in the back end, further processing which incorporates rules and possibly the use of other aspects in the computation. As previously noted, these aspects may exist within a standard library of aspects for reuse within higher level applications or service aspects when required.","Reference is now made to .  shows a client device  which communicates with an access layer (AL)  (e.g., a context aware layer (CAL)), which in turn communicates with an OMA PRS\/XDM entity .","Client device  sends a query concerning the presence aspect \u201creachable\u201d, shown as communication . In turn, access layer (AL)  sends an HTTP\/GET request  to OMA PRS\/XDM .","OMA PRS\/XDM  authenticates as shown by  and returns a response in the form of HTTP\/1.1<pidf> .","The access layer (AL)  then checks whether the process is reachable as shown by arrow . The processing within the AL for the aspect \u201creachable\u201d invokes other rules such as \u201ccontactable\u201d, \u201ccontact-means\u201d, \u201cavailable\u201d and \u201copt-in or willing\u201d.","The arrow shown by  determines that the presentity is unreachable and returns this in message .","As shown in  reachable query  and unreachable response  travel over the air. However, this is meant only as an example and other communications techniques would be applicable in different embodiments.","Rules\/Triggers:","A third branch of the context awareness mechanism solution consists of rules and\/or triggers. The example below uses presence as an example.","Rules reside within a presence context and establish a sequence of steps or logic flows required to compute presence aspects based on the metadata provided by the underlying presence platform. Rules are conceptually similar to database stored procedures or user defined functions (UDFs). Base or default presence rules may be changed or supplemented by an application client or an individual user. For example, the injection by a client of dynamic rules may override or extend base rule behavior. In addition, rules incorporate policies associated with the presence context by the application or the enabler to augment or provide hints surrounding the interpretation of metadata. This permits an application or service to directly affect the outcome of one or more presence aspects, as required.","Table 3 below shows a set of rules relating to computation of presence related aspects with pseudo-logic specific to the OMA presence platform. It should be noted that this is only a subset of the rules\/logic that may be exposed by a presence context. It is possible to change the composition or granularity of rules as required by the presence context. In addition, as noted with reference to  above, it is possible for a presentity or watcher to continue to fetch or be notified of raw presence information by the underlying presence platform in order to reach specific conclusions if context is not applicable. This could, as would be appreciated, occur in specific situations.","As used in Table 3 below, \u2018def\u2019 indicates \u201cdefined\u201d and means that the entity exists and is established with reasonable values, whereas \u2018undef\u2019 means \u201cundefined\u201d\u2014the complement of \u2018def\u2019. \u2018Undef\u2019 thus has values such as nil, null, or invalid.","\u2018Valid\u2019 in Table 3 below means the associated entity still contains timely or meaningful data.",{"@attributes":{"id":"p-0165","num":"0177"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"315pt","align":"center"}},"thead":{"row":{"entry":"TABLE 3"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Rules"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Rule","Description","Pseudo-logic"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["findServicePresInfo","Return most applicable pres.","For each <tuple> \u2018t\u2019 in list with t.service-"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"information element \u2018svc\u2019 for the given","id == service-id"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"service or application within","Items.add(\u2018t\u2019)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"service \u2018list\u2019.","If Items.size == 1"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"NOTE: pseudo-logic method","Res=Items[0]"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2018resolveService( )\u2019 implements","Else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"semantics outlined in OMA-TS-Pres","Res=resolveService(Items)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"V2_0 Section (5.2.3).","Return Res"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["hasOptedInForService","Makes use of opt-in-source policy to","Switch (opt-in-source policy)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"establish a user \u2018p\u2019 willingness to","Case willing:"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"communicate given a service or","Uwp=undef-willingness policy"]},{"entry":[{},"application \u2019svc\u2019. Willingness is an","If svc.willingness undef"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ordered pair (open|closed,","Return Uwp"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"indefinite|time-ofs-value).","Else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"NOTE: pseudo-logic method","Return svc.willingness"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"implements semantics outlined","Case session-participation:"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"in OMA-TS-Pres V2_0 Section","Return Willingness(svc.session-"]},{"entry":[{},"(10.4.1).","participation, indefinite)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Default: \/\/ ignore"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"203pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Return Willingness(open,"]},{"entry":[{},"indefinite)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["isAvailable","Return boolean value indicating","Urs=undef-registration-state policy"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"whether a presentity \u2018p\u2019 is","Ubs=undef-barring-state policy"]},{"entry":[{},"available to communicate for a","Uas=unavailable-activities-set policy"]},{"entry":[{},"given Service or applicaiton \u2018svc\u2019.","If (p.activities valid and <activities> non-"]},{"entry":[{},"NOTE: pseudo-logic method","empty-set)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"implements semantics outlined","For each <activities> \u2018a\u2019 in p:"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"in OMA-TS-Pres V2_0 Section","If (\u2018a\u2019 match 1+ element"]},{"entry":[{},"(10.4.3). The logic in this method also","in Uas)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"factors in activity (if directed to by","Return false"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"policy) into availability","If (svc.reg-state undef)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"calculation.","If (Urs == \u2018ignore\u2019)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"217pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Reg-state=active"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"203pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"217pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Reg-state=Urs"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"203pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Reg-state=svc.reg-state"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"If (svc.bar-state undef)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"203pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"If (Ubs == \u2018ignore\u2019)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"217pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Bar-state=active"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"203pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"217pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Bar-state=Ubs"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"203pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Bar-state=svc.bar-state"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"If (Reg-State == \u2018active\u2019 AND Bar-state"]},{"entry":[{},"== \u2018active\u2019 AND svc.status.basic =="]},{"entry":[{},"\u2018open\u2019)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"203pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Return true"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Return false"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["establishContactMeans","Return applicable contact \u2018c\u2019 for a","Return svc.contact"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"245pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"given a service or application service"]},{"entry":[{},"\u2018svc\u2019."]},{"entry":[{},"NOTE: pseudo-logic follows rfc"]},{"entry":[{},"3863."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["isContactable","Return a valid ContactMeans","W = hasOptedInForService(p,svc)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"consisting of the tuple","If (W valid AND isAvailable(p,svc))"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"(contact,Idev,validity) if a presentity \u2018p\u2019","C ="]},{"entry":[{},"is contactable for a given service or","establishContactMeans(svc)"]},{"entry":[{},"applicaiton\u2018svc\u2019.","If (C def AND svc.deviceID def)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"NOTE: pseudo-logic method","Cm=ContactMeans("]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"implements semantics outlined","\u2002Contact, svc.deviceID(s),"]},{"entry":[{},"in OMA-TS-Pres V2_0 Section","w.validity)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"(10.4).","Return Cm"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["isReachable","Return boolean value indicating","Ant=applicable-network-type policy"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"whether an applicable device","If (cm valid)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2018dev\u2019 may be reached over the","For each \u2018d\u2212>deviceID\u2019 in Idev:"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"required network type given a","Find \u2018dev\u2019 in <device>"]},{"entry":[{},"contactable contact-means.","elements where"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"217pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"dev.deviceID == \u2018d\u2212"]},{"entry":[{},">deviceID\u2019"]},{"entry":[{},"If match"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"231pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"For each"]},{"entry":[{},"<network> \u2018n\u2019"]},{"entry":[{},"in \u2018dev\u2019:"]},{"entry":[{},"If (\u2018n\u2019.id match"]},{"entry":[{},"1+ element in"]},{"entry":[{},"Ant and \u2018n\u2019"]},{"entry":[{},"available)"]},{"entry":[{},"Return true"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Return false"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"Table 3 above describes a number of rules. The first rule defined is \u2018findServicePresinfo\u2019 which returns the most applicable presence information element for the given service or application within a service list. As indicated in the pseudo logic, for each tuple t in the list, a check is made to see whether the service-id of \u2018t\u2019 matches the desired service-id, and if so the tuple t is added to a list. Thereafter, once the compilation is finished, if the item size is 1 then that item is returned. Otherwise the function \u2018resolveService\u2019 is invoked. As will be appreciated by those skilled in the art, the \u2018resolveService\u2019 function is an OMA specific function that finds the most relevant service.","Similar rules are defined with regard to the remainder to the Table 3, in which various pseudo logics are utilized to define what will be returned when a rule is implemented.","Presence rules and\/or logic flows may be specified using OMA's PEEM\/PEL. The following is an example of a PEEM\/PEL \u2018abstract process\u2019 document which characterizes the logic flow for the \u2018findServicePresinfo\u2019 rule as shown in the pseudo-logic of Table 3 above:",{"@attributes":{"id":"p-0169","num":"0181"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<process name=\u201cfindServicePresInfo\u201d"},{"entry":"\u2003\u2002targetNamespace=\u201chttp:\/\/example.com\/ws-bp\/purchase\u201d"},{"entry":"\u2003\u2002xmlns=\u201chttp:\/\/docs.oasis-open.org\/wsbpel\/2.0\/process\/abstract\u201d"},{"entry":"\u2003\u2002xmlns:pcam=\u201chttp:\/\/pcam.example.com\/wsdl\/oma-pres-pcam\u201d>"},{"entry":"\u2002<documentation xml:lang=\u201cEN\u201d>"},{"entry":"\u2003A WS-BPEL process for finding the appropriate service tuple(s)."},{"entry":"\u2002<\/documentation>"},{"entry":"\u2002<!-- Input\/output parameters: -->"},{"entry":"\u2002<!-- presinfo - inbound body containing service-ID, and presence info -->"},{"entry":"\u2002<!-- theResult - the most relevant service tuple for service-ID -->"},{"entry":"\u2002<variables>"},{"entry":"\u2003<variable name=\u201cpresinfo\u201d messageType=\u201c##opaque\u201d\/>"},{"entry":"\u2003<variable name=\u201cmatchingTupleList\u201d messageType=\u201c##opaque\u201d\/>"},{"entry":"\u2003<variable name=\u201ctheResult\u201d messageType=\u201c##opaque\u201d\/>"},{"entry":"\u2002<\/variables>"},{"entry":"\u2002<partnerLinks>"},{"entry":"\u2003<partnerLink name=\u201cservice\u201d partnerLinkType=\u201c##opaque\u201d"},{"entry":"\u2003\u2002partnerRole=\u201c##opaque\u201d\/>"},{"entry":"\u2003<partnerLink name=\u201ccustomer\u201d partnerLinkType=\u201c##opaque\u201d"},{"entry":"\u2003\u2002partnerRole=\u201c##opaque\u201d"},{"entry":"\u2003\u2002myRole=\u201c##opaque\u201d\/>"},{"entry":"\u2002<\/partnerLinks>"},{"entry":"\u2002<sequence>"},{"entry":"\u2003<receive partnerLink=\u201ccustomer\u201d"},{"entry":"\u2003operation=\u201cfindServicePresInfoRequest\u201d"},{"entry":"\u2003\u2002variable=\u201cpresinfo\u201d createInstance=\u201cyes\u201d>"},{"entry":"\u2003<\/receive>"},{"entry":"\u2003<forEach counterName=\u201ci\u201d parallel=\u201cno\u201d>"},{"entry":"\u2003\u2002<!-- Iterate over $presinfo.msg\/tuple and find all matches -->"},{"entry":"\u2003\u2002<!-- between $presinfo.msg\/service-id and \u2003\u2003\u2003\u2003\u2003-->"},{"entry":"\u2003\u2002<!-- $presinfo.msg\/tuple[i]\/service-description\/service-id -->"},{"entry":"\u2003\u2002<!-- Store in matchingTupleList \u2003\u2003\u2003\u2003\u2003\u2003\u2003-->"},{"entry":"\u2003<\/forEach>"},{"entry":"\u2003<if>"},{"entry":"\u2003\u2002<condition opaque=\u201cyes\u201d>$matchingTupleList.num-items =="},{"entry":"\u20031<\/condition>"},{"entry":"\u2003\u2002<flow>"},{"entry":"\u2003\u2003<!-- $theResult is the first item in $matchingTupleList -->"},{"entry":"\u2003\u2002<\/flow>"},{"entry":"\u2003\u2002<else>"},{"entry":"\u2003\u2003<!-- $theResult is the outcome of invoking resolveService -->"},{"entry":"\u2003\u2003<!-- method with $matchingTupleList -->"},{"entry":"\u2003\u2002<\/else>"},{"entry":"\u2003<\/if>"},{"entry":"\u2003<reply partnerLink=\u201cservice\u201d portType=\u201c##opaque\u201d"},{"entry":"\u2003\u2003operation=\u201c##opaque\u201d variable=\u201ctheResult\u201d>"},{"entry":"\u2003<\/reply>"},{"entry":"\u2002<\/sequence>"},{"entry":"<\/process>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The other portion of the rules\/triggers branch is triggers. Triggers reside within a presence context and associate a sequence of steps (or logic flows) based on an underlying presence state change detected in the presence platform. Triggers are conceptually similar to database triggers. Triggers are, by default, initially notifications. Triggers may be defined by an application client, or an individual user as needed. For example, the injection by a client of dynamic triggers may override or extend base trigger behavior(s).","Table 4 lists a set of triggers relating to the computation of presence related aspects with pseudo-logic specific to the particular trigger. It should be noted that aspects may also be defined with a corresponding trigger definition.",{"@attributes":{"id":"p-0172","num":"0184"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 4"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Triggers"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Trigger","Description","Pseudo-logic"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["onOptIn\/Out","Application defined","notification(default)"]},{"entry":[{},"trigger which is"]},{"entry":[{},"invoked when a"]},{"entry":[{},"presentity is"]},{"entry":[{},"determined to have"]},{"entry":[{},"opted-in\/out for the"]},{"entry":[{},"given service or"]},{"entry":[{},"application"]},{"entry":["onUn\/Available","Application defined","notification (default)"]},{"entry":[{},"trigger which is"]},{"entry":[{},"invoked when a"]},{"entry":[{},"presentity is"]},{"entry":[{},"un\/available for the"]},{"entry":[{},"given service or"]},{"entry":[{},"application."]},{"entry":["onUn\/Reachable","An application","notification (default)"]},{"entry":[{},"defined trigger"]},{"entry":[{},"which is invoked"]},{"entry":[{},"when a presentity"]},{"entry":[{},"is un\/reachable for"]},{"entry":[{},"the given service"]},{"entry":[{},"or application."]},{"entry":["onNearby\/onOutOfRange","Invoked when a","notification (default)"]},{"entry":[{},"presentity is nearby"]},{"entry":[{},"or they have moved"]},{"entry":[{},"out of a specified"]},{"entry":[{},"range for the given"]},{"entry":[{},"service or"]},{"entry":[{},"applicaiton."]},{"entry":["on-pending-subscription","Invoked when a","notification"]},{"entry":[{},"presentity has one","w\/list<AOR>"]},{"entry":[{},"or more","(default)"]},{"entry":[{},"subscriptions in a"]},{"entry":[{},"\u2018pending\u2019 state."]},{"entry":["on-terminated-subscription","Invoked when a","notification"]},{"entry":[{},"presentity has one","w\/list<AOR>"]},{"entry":[{},"or more","(default)"]},{"entry":[{},"subscriptions in a"]},{"entry":[{},"\u2018terminated\u2019 state."]},{"entry":["on-update-note","When a presentity","notification"]},{"entry":[{},"adds or updates a","w\/note-text"]},{"entry":[{},"personal note.","(default)"]},{"entry":["on-is-in\/eligible-session-","When a presentity","notification (default)"]},{"entry":["participant","is un\/reachable and"]},{"entry":[{},"in\/eligible for the"]},{"entry":[{},"given service or"]},{"entry":[{},"application."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"The first trigger in Table 4 above indicates that the trigger will be invoked when a presentity opts in or out of a given service or application. The trigger allows specific functionality to be carried out when the associated state occurs within the context. The pseudo-logic can be defined by the application client if the client wishes the P\/CAM to do something on the occurrence of a given event which is when a trigger is invoked.","The other triggers defined by Table 4 have similar functionality and are invoked pursuant to a predefined condition being met.","Triggers are specified using OMA's PEEM\/PEL (Policy Expression Language) and are substantially similar (in structure and composition) to presence rules. Thus the code example used above with reference to rules could be adapted for the triggers of Table 4.","Triggers are useful in a complex presence-aware system. Triggers provide a network initiated encapsulation to be defined and applied for a given scenario. Triggers, in one embodiment, provide a simple notification to a client or service or may incorporate complex business logic that is executed completely within the network. This is helpful within a wireless domain where network bandwidth and processing resources are limited.","For example, a wireless content delivery service may require specific behavior based on the state of users and their associated device capabilities. That is, two users who have opted in for a sports ticker\/alert service with different devices may receive content in different ways. For example, a first user who has a very simple text based wireless device and is only able to receive short message service (SMS) with baseball related content and\/or a web-based URL pointing to additional information requires different data than a second user who has a full featured personal digital assistant\/smart phone with a built in media handling capability. The second user may receive multimedia alert messages containing short full-color video clips of a sports \u2018play of the day\u2019.","Each case above illustrates the underlying complexity of a content delivery service for delivering appropriate\/timely content relevant to each user's device. That is, a content delivery service typically has some understanding of a given user's current state, along with their associated interests, and the relevant device capabilities for receiving content. A content delivery service working in combination with a contextually aware presence capability is such a platform. Further, a contextually aware platform that exposes relevant \u201caspect triggers\u201d on behalf of a content delivery service provides useful means for notifying or pushing relevant information to an associated subscriber base.","An aspect with an associated trigger is a \u201cmonitored aspect\u201d on a continuous or specified basis. That is, when an entity, whether a person or a logical entity, reaches or qualifies for an associated aspect trigger, the associated trigger \u201cfires,\u201d and a set of logics or actions takes place. The logic is contextual in nature and allows services and\/or user specific actions to be defined and executed. This may be sending or pushing relevant information to an appropriate client device. As with aspects, aspect triggers may be expanded to encapsulate a variety of non-presence indicators such as location.","The present systems and methods include a mechanism for an arbitrary number of aspects as required by the service\/presence platform. This may include a set of common aspect triggers such as \u201cavailability\u201d, \u201copt-in\u201d, \u201creachable\u201d, among others, as well as application specific triggers. A method exists in one embodiment within the presence platform or management interface for associating an appropriate set of aspect triggers with a given service. Association of aspect triggers is contextual in nature and may apply at different levels. For example, a given aspect trigger may apply to a service enabler such as OMA push-to-talk over cellular PoC compliant services. Further, the trigger may be applicable or scoped at a class of service level. For example, this may apply \u201cavailability\u201d to all class of services. Further, a trigger may be applicable at a user or group level.","As will be appreciated with reference to , the determination of whether a client is \u201creachable\u201d is simplified by abstracting the aspect to the context aware layer. Further, a trigger can invoke the aspect or the aspect can be invoked on behalf of the trigger. This could be done by the underlying service enabler without any involvement from any client device. Triggers may invoke defined aspects and\/or may incorporate logic consisting of rules\/procedures which include the invocation of other aspects.","Aspect triggers by default will send an appropriate notification back to an associated client. However, it is possible for a service, class-of-service, enabler, user or group to modify\/define a trigger which performs actions exclusively within the network without any client involvement.","Call flow is shown below with regard to . Aspect triggers do not require an associated subscription on behalf of a client or service. Given triggers are calculated or derived within the network, an interested observer, whether a client device or interworking service\/enabler, may receive an unprompted or asynchronous notification as a result of an aspect trigger. Notifications may be handled using different communication means. For example, a client device may receive an SMS notification as a result of an aspect trigger firing. Additionally other services may receive OMA SIP\/PUSH 1.0 notification or notifications in response to an associated trigger.","The contents of a notification are specific to the trigger and could include items such as the address of record for one or more presentities, an aspect indicator or mask for one or more aspects of relevance, a URL, a service or application routing mask for the receiving entity to ensure the aspect is directed or associated with the appropriate observer, among others.","Each client or service receiving a notification may respond according to the associated transport protocol. Additionally, it is possible for aspect trigger indications to be durable. That is, if a trigger is calculated for a given \u201cinterested observer\u201d but that observer is unreachable, the aspect indication may be persisted or queued until the given user is able to properly receive the associated trigger. This is useful for scenarios where a given notification may outlast a given client user session.","Referring to , a client device  communicates with a service enabler  which communicates, or is integrated with an aware layer (AL)  (e.g., a context aware layer (CAL)).","As seen in , a trigger is established with message , at which point AL  sets a trigger as shown in , and evaluates the trigger as shown by arrow in .","Arrow  establishes the trigger. This may include overriding or extending default steps for the trigger, obtaining\/evaluating data from various sources and possibly sending out notifications to one or more users.","The evaluation shown by arrow  shows that when a trigger fires an address of record, an aspect or application information is packaged and notification is sent to the client device or service. This notification is shown with arrow .","In some cases a response or acknowledgement may be returned, and this is shown by arrow .","As shown in , the AL  could then continue to monitor or evaluate whether the trigger should fire as shown by arrow .","The above policies, aspects and rules\/thresholds could utilize a web services business process execution language in the form of WSBPEL 2.0. WSBPEL 2.0 provides a mechanism with which to express logical sequences required to implement presence rules or triggers (either whole or in part) in a P\/CAM solution. A formal language (like PEEM\/PEL) for specifying logic flows and invoking primitives (through web service description language (WSDL) type bindings) provides a presence context with limitless combinations of rules and\/or triggers on behalf of an application or service. It should also be noted that more complex context flows may be created and chained together (e.g. through partner links) to carry out workflows and or business logic that is presence related and contextually relevant to the connected platform. Rules are able to invoke other rules, as nested rules. Similarly, triggers may also invoke rules where applicable. In other embodiments, expressing rules could be performed utilizing a traditional programming language (e.g. Java) or diagramming tools (e.g. a Sequence, Flow-Chart, or Use-Case diagram in UML being translated to a rule(s)).","As will be appreciated by those skilled in the art, the use of a context aware layer saves device and network resources by reducing the amount of information flowing between a mobile device and a network, and by removing processing from the mobile device.","For comparison with the present system and method, an example of information flow is shown hereafter with regard to . Specifically, when Alice wishes to send a PoC alert to Bob, the following XDM fetch could made:",{"@attributes":{"id":"p-0195","num":"0207"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"GET \/pidf-manipulation\/users\/sip:bob@example.com\/index\/~~\/tuple\/"]},{"entry":[{},"service-desciption\/service-id=%22org.openmobilealliance:PoC-"]},{"entry":[{},"alert%22 HTTP\/1.1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"In response, a \u2018raw presence document\u2019 as illustrated below is returned:",{"@attributes":{"id":"p-0197","num":"0209"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"HTTP\/1.1 200\/OK"},{"entry":"Etag: \u201ceti87\u201d"},{"entry":"Content-Type: application\/pidf+xml"},{"entry":"..."},{"entry":"<?xml version=\u20331.0\u2033 encoding=\u2033UTF-8\u2033?>"},{"entry":"<presence xmlns=\u2033urn:ietf:params:xml:ns:pidf\u2033"},{"entry":"\u2003xmlns:pdm=\u2033urn:ietf:params:xml:ns:pidf:data-model\u2033"},{"entry":"\u2003xmlns:rpid=\u2033urn:ietf:params:xml:ns:pidf:rpid\u2033"},{"entry":"\u2003xmlns:caps=\u2033urn:ietf:params:xml:ns:pidf:caps\u2033"},{"entry":"\u2003xmlns:op=\u2033urn:oma:xml:prs:pidf:oma-pres\u2033"},{"entry":"\u2003xmlns:xsi=\u2033http:\/\/www.w3.org\/2001\/XMLSchema-instance\u2033"},{"entry":"\u2003entity=\u2033sip:bob@example.com\u2033>"},{"entry":"\u2003\u2002<!-- Document returned to agent, from presentity Bob... -->"},{"entry":"\u2003\u2002<tuple id=\u201da1232\u201d>"},{"entry":"\u2003\u2003<!-- User \u2018Bob\u2019 basic availability (available)... -->"},{"entry":"\u2003\u2003\u2003\u2003<status>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<basic>open<\/basic>"},{"entry":"\u2003\u2003\u2003\u2003<\/status>"},{"entry":"\u2003\u2003\u2003\u2003<!-- User \u2018Bob\u2019 willingness (willing)... -->"},{"entry":"\u2003\u2003\u2003\u2003<op:willingness>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:basic>open<\/op:basic>"},{"entry":"\u2003\u2003\u2003\u2003<\/op:willingness>"},{"entry":"\u2003\u2003\u2003\u2003<!-- User \u2018Bob\u2019 registration state... -->"},{"entry":"\u2003\u2003\u2003\u2003<op:registration-state>active<\/op:registration-state>"},{"entry":"\u2003\u2003\u2003\u2003..."},{"entry":"\u2003\u2003\u2003\u2003<!-- User \u2018Bob\u2019 service description... -->"},{"entry":"\u2003\u2003\u2003\u2003<\/op:service-description>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:service-id>org.openmobilealliance:PoC-"},{"entry":"\u2003\u2003\u2003\u2003\u2003alert<\/op:service-id>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:version>1.0<\/op:version>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:description>PoC Alert Service v1.0<\/op:description>"},{"entry":"\u2003\u2003\u2003\u2003<\/op:service-description>"},{"entry":"\u2003\u2003\u2003\u2003<!-- User \u2018Bob\u2019 contact means... -->"},{"entry":"\u2003\u2003\u2003\u2003<contact priority=\u201d0.90\u201d>sip:bob@example.com<\/contact>"},{"entry":"\u2003\u2003\u2003\u2003<!-- User \u2018Bob\u2019 deviceID... -->"},{"entry":"\u2003\u2003\u2003\u2003<pdm:deviceID>urn:uuid:d27459b7-8213-4395-aa77-"},{"entry":"\u2003\u2003\u2003\u2003ed859<\/pdm:deviceID>"},{"entry":"\u2003\u2003\u2003\u2003<timestamp>2007-02-22T20:07:07Z<\/timestamp>"},{"entry":"\u2003\u2002<\/tuple>"},{"entry":"\u2003\u2003\u2003<!-- Additional service tuple for PoC-Alert... -->"},{"entry":"\u2003\u2003\u2003<tuple id=\u201da1233\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<status>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<basic>open<\/basic>"},{"entry":"\u2003\u2003\u2003\u2003<\/status>"},{"entry":"\u2003\u2003\u2003\u2003<op:willingness>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:basic>open<\/op:basic>"},{"entry":"\u2003\u2003\u2003\u2003<\/op:willingness>"},{"entry":"\u2003\u2003\u2003\u2003<op:registration-state>active<\/op:registration-state>"},{"entry":"\u2003\u2003\u2003\u2003<caps:servcaps>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<caps:audio>true<\/caps:audio>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<caps:text>true<\/caps:audio>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<caps:video>false<\/caps:video>"},{"entry":"\u2003\u2003\u2003\u2003<\/caps:servcaps>"},{"entry":"\u2003\u2003\u2003\u2003..."},{"entry":"\u2003\u2003\u2003\u2003<\/op:service-description>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:service-id>org.openmobilealliance:PoC-"},{"entry":"\u2003\u2003\u2003\u2003\u2003alert<\/op:service-id>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:version>1.0<\/op:version>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:description>PoC Alert Service v1.0<\/op:description>"},{"entry":"\u2003\u2003\u2003\u2003<\/op:service-description>"},{"entry":"\u2003\u2003\u2003\u2003<contact priority=\u201d0.90\u201d>sip:bob@example.com<\/contact>"},{"entry":"\u2003\u2003\u2003\u2003<pdm:deviceID>urn:uuid:d27459b7-8213-4395-aa77-"},{"entry":"\u2003\u2003\u2003\u2003ed859<\/pdm:deviceID>"},{"entry":"\u2003\u2003\u2003\u2003<timestamp>2007-02-22T22:07:27Z<\/timestamp>"},{"entry":"\u2003\u2003\u2003<\/tuple>"},{"entry":"\u2003\u2003\u2003<!-- Person definition for Bob (as authorized for class"},{"entry":"\u2003\u2003\u2003\u2018forFriends\u2019... -->"},{"entry":"\u2003\u2003\u2003<pdm:person id=\u201da1234\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<!-- Activities (meeting)... -->"},{"entry":"\u2003\u2003\u2003\u2003<rpid:activities>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<rpid:meeting\/>"},{"entry":"\u2003\u2003\u2003\u2003<\/rpid:activities>"},{"entry":"\u2003\u2003\u2003\u2003<rpid:class>forFriends<\/rpid:class>"},{"entry":"\u2003\u2003\u2003\u2003<!-- Place Additional service tuple for PoC-Alert... -->"},{"entry":"\u2003\u2003\u2003\u2003<rpid:place-type> <lt:office\/> <\/rpid:place-type>"},{"entry":"\u2003\u2003\u2003\u2003<pdm:timestamp>2007-02-22T22:07:07Z<\/pdm:timestamp>"},{"entry":"\u2003\u2003\u2003<\/pdm:person>"},{"entry":"\u2003\u2003\u2003<!-- Device associated with PoC-Alert... -->"},{"entry":"\u2003\u2003\u2003<pdm:device id=\u201da1235\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<op:network-availability>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<op:network id=\u201dIMS\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<op:active>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<\/op:network>"},{"entry":"\u2003\u2003\u2003\u2003<\/op:network-availability>"},{"entry":"\u2003\u2003\u2003\u2003<pdm:deviceID>urn:uuid:d27459b7-8213-4395-aa77-"},{"entry":"\u2003\u2003\u2003\u2003ed859<\/pdm:deviceID>"},{"entry":"\u2003\u2003\u2003\u2003<pdm:timestamp>2007-02-22T22:07:07Z<\/pdm:timestamp>"},{"entry":"\u2003\u2003\u2003<\/pdm:device>"},{"entry":"<\/presence>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The above therefore illustrates the large (in terms of number of bytes or characters) presence document that is returned by conventional systems and methods, requiring significant battery resources to receive and network resources to transmit.","As will be appreciated by those skilled in the art, the resulting \u2018raw presence document\u2019 illustrated above could also be delivered by an OMA\/Presence SIP:NOTIFY request (on behalf of an authorized watcher). An XDM fetch is used to simplify the network flows for this example.","Reference is now made to .  shows an example process on a mobile device when a context aware layer (P\/CAM) is utilized. The method of  replaces and simplifies that of .","In , the process starts at block  and proceeds to block  in which the P\/CAM is invoked to establish a \u2018reachable\u2019 presence aspect for \u2018Bob\u2019 and service \u2018PoC Alert\u2019. Block  waits for the P\/CAM to return a result and based on the result the process may proceed to block , which indicates \u2018Bob-unreachable\u2019, and ends at block . Alternatively, the process proceeds from block  to block  which indicates \u2018Bob reachable\u2019 and ends at block .","As will be appreciated from the above, reachability within a PoC alert client is now a single processing block (reachable\/unreachable). It should be noted that the number of processing blocks for a given context aware application is reduced in proportion to the complexity and number of presence related functionalities associated with that application or service.","Comparing network bandwidth requirements between the traditional PoC client application outlined in , and the context aware client application in , an order of magnitude reduction in network overhead is provided. Comparing an XDM fetch using raw presence information for the traditional PoC client, with a SOAP method invocation (as an example deployment scenario) for the context aware \u2018reachable\u2019 presence aspect, the following is an example of a request:",{"@attributes":{"id":"p-0204","num":"0216"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"POST \/CAM-1 HTTP\/1.1"]},{"entry":[{},"..."]},{"entry":[{},"HOST: pcam.example.com"]},{"entry":[{},"Content-Type: text\/xml; charset=\u201cutf-8\u201d"]},{"entry":[{},"..."]},{"entry":[{},"<!-- SOAP request... -->"]},{"entry":[{},"<SOAP-ENV:Envelope"]},{"entry":[{},"\u2002xmlns:SOAP-ENV=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2003SOAP-ENV:encodingStyle="]},{"entry":[{},"\u2003\u201chttp:\/\/schemas.xmlsoap.org\/soap\/encoding\/\u201d>"]},{"entry":[{},"\u2003<SOAP-ENV:Body>"]},{"entry":[{},"\u2003<pcam:reachable xmlns:pcam="]},{"entry":[{},"\u2003\u201chttp:\/\/pcam.example.com\/wsdl\/oma-pres-pcam\u201d>"]},{"entry":[{},"\u2003\u2002<aor>sip:bob@example.com<\/aor>"]},{"entry":[{},"\u2003\u2002<service>org.openmobilealliance:PoC-alert<\/service>"]},{"entry":[{},"\u2003<\/pcam:reachable>"]},{"entry":[{},"\u2002<\/SOAP-ENV:Body>"]},{"entry":[{},"<\/SOAP-ENV:Envelope>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The following is an example of a response:",{"@attributes":{"id":"p-0206","num":"0218"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"HTTP\/1.1 200\/OK"]},{"entry":[{},"Connection: close"]},{"entry":[{},"..."]},{"entry":[{},"Content-Type: text\/xml; charset=\u201cutf-8\u201d"]},{"entry":[{},"..."]},{"entry":[{},"<!-- SOAP response... -->"]},{"entry":[{},"<SOAP-ENV:Envelope"]},{"entry":[{},"\u2002xmlns:SOAP-ENV=\u201chttp:\/\/schemas.xmlsoap.org\/soap\/envelope\/\u201d"]},{"entry":[{},"\u2002SOAP-ENV:encodingStyle="]},{"entry":[{},"\u2002\u201chttp:\/\/schemas.xmlsoap.org\/soap\/encoding\/\u201d>"]},{"entry":[{},"\u2002<SOAP-ENV:Body>"]},{"entry":[{},"\u2003<pcam:reachableResp xmlns:pcam="]},{"entry":[{},"\u2003\u201chttp:\/\/pcam.example.com\/wsdl\/oma-pres-pcam\u201d>"]},{"entry":[{},"\u2003\u2003<result>reachable<\/result>"]},{"entry":[{},"\u2003<\/pcam:reachable>"]},{"entry":[{},"\u2002<\/SOAP-ENV:Body>"]},{"entry":[{},"<\/SOAP-ENV:Envelope>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The above therefore illustrates the reduction in data required to be transferred and also the reduction in processing required by a client.","A further example is illustrated below with reference to .  is provided to show the example where an ad Agency \u2018Ad-Inc.\u2019 wishes to reach consumers with a generic mobile advertising campaign. Ad-Inc. would like to optimize delivery of advertisements to the resource constrained devices based on specific criteria. For example, the ad-campaign consists of small video sequences, therefore the device must be reachable, have specific media capabilities, and have a modicum of battery level so that the ads can i) render properly on the device and ii) will not cause the device to lose significant battery so as to upset the prospective consumer and cause a negative association with the brand(s) being campaigned. A mobile advertising enabler \u201cMobAd\u201d specifies a new presence aspect known as \u2018ad-eligibility\u2019 to the P\/CAM through the introduction of a Policy (e.g. PEEM\/PEL) \u2018process\u2019 document with suitable logic flows. Similarly or in combination, the MobAd application could specify a location aspect.","In , the process starts at block  and proceeds to block  in which the P\/CAM is invoked to establish the device is \u2018ad eligible\u2019, the presence aspect for the presentity prospect and the service \u2018MobAd\u2019.","Block  waits for a response from the P\/CAM and depending on the result proceeds to block  in which the prospect is deemed NOT \u2018ad eligible\u2019. The process proceeds to block  from block  and ends.","Conversely, from block , the process could proceed to block  if the result from the P\/CAM deems the prospect to be \u2018ad eligible\u2019. As will be appreciated, \u2018ad eligible\u2019 could be considered a specific variant of the aspect \u2018eligible-session-participant\u2019 as defined in Table 2 above. The process then proceeds to block  and ends.","The processing blocks related to the MobAd ad-eligibility presence aspect in  is significantly less than would be required by a stand-alone MobAd agent or client processing this metadata on its own. Additional complexity would need to be added over and above the logic flow shown in  to support the additional logic of resolving a threshold policy and media capabilities. This logic instead is incorporated as a new presence aspect (presence aspect building block) within a context aware layer and tied together to compute contextual presence on behalf of MobAd (ad-eligibility).","A further example is illustrated with reference to .  illustrates the example a scenario in which a dynamic content delivery (DCD) Server wishes to send DCD content to a DCD enabled client application (DECA) via a DCD Client residing on a user's device. The DCD Server is considered a watcher of the DCD enabled client application (a presentity). The DCD Server would like to send content to the associated DCD enabled client application only if that DCD client is reachable and the storage capacity of the associated device is above a predefined minimal memory threshold after the DCD client has pushed the content. In this way, the DCD Server seeks to ensure that the pushed or otherwise sent content does not undesirably exhaust the device's storage capacity. To this end, DCD establishes a new presence aspect known as \u2018content-pushable\u2019 to the P\/CAM by introducing a PEEM\/PEL \u2018process\u2019 document with suitable logic flows. Again, this is analogous to \u2018eligible-session-participant\u2019 aspect, except here the criteria or aspect has been adapted, overridden or otherwise configured for a DCD enabler. In the present case the client is reachable, and has a given storage-free capacity.","Referring to , the process starts at block . The process then proceeds to block  in which the P\/CAM is invoked to establish \u2018content pushable\u2019 presence aspect for presentity \u2018Prospect\u2019 and service \u2018DCD\u2019. A result from the P\/CAM determines whether the process proceeds to block  and decides that the DECA is not \u2018content pushable\u2019 or to block  and decides that the DECA is \u2018content pushable\u2019.","The process proceeds to block  or block  from blocks  and  respectively, and ends.","The processing blocks related to the DCD content-pushable presence aspect in  are executed by the P\/CAM so that the DCD Server simply invokes the rule in the P\/CAM providing input parameters such as deviceID, service-id, and content-size. This rule can now be incorporated as a new presence aspect (presence aspect building block) within P\/CAM and tied together to compute contextual presence on behalf of DCD (content-pushable).","The above is illustrated in the examples below.","Instant Messaging Client","One exemplary client application for the use of a context aware layer is an instant messaging application. The instant messaging application is called \u201cMyFriendlyChat\u201d herein.","In a university setting, for example, several friends may have the \u201cMyFriendlyChat\u201d application loaded onto their mobile device. In this example, user Alice is a university student having finished a day of classes. She is heading towards the college restaurant and wonders whether any of her friends are nearby to join her for dinner.","Alice takes out her wireless device and starts the \u201cMyFriendlyChat\u201d application and invokes the \u201cInvite-nearby-friends-to-chat\u201d function. This function utilizes both presence and location to return a list of friends that are within a predetermined distance and have a reachable status. The \u201cMyFriendlyChat\u201d application returns the active buddy list showing that Bob and Jane are nearby and reachable.","Alice enters a short message on her device letting her friends know that she is going to the college restaurant. Both Bob and Jane receive the message from Alice and reply that they will join her shortly.","The above shows a client application which utilizes both presence and location in order to make determinations and return relevant information to a user. In particular, the \u201cinvite-nearby-friends-to-chat\u201d function requires knowledge of the location of nearby friends, as well as presence information to allow the instant messaging to occur.","Under a traditional model of instant messaging, a presence platform will need to be queried to obtain a list of raw data which must then be processed by the client application. Further, in this case a location platform would also be required to be queried to find the location of individuals in a buddy list.","According to the present disclosure, the aspects can be abstracted to a context aware layer that is located within the network. The context aware layer can be part of a platform such as the location and presence platform, part of a dedicated server, part of a presence or location server, or could be distributed among these entities. In some cases an agent for the context aware layer could also exist on the wireless device or on another computer.","The functionality of the client application is placed within the context aware layer thus providing for consistent results between varied client applications and also reducing signaling required between the mobile device and network.","For the above, the \u201cMyFriendlyChat\u201d client application functions as both a watcher and a presence source in an OMA\/PRS realization and functions as a presence source in a context aware layer realization.","The context aware layer makes use of a predefined aspect to determine whether Bob and Jane can be reached. In this case, the aspect may be \u201celigible-session-participant\u201d which is defined to select one or more presentities based on a given criteria. In this case, the aspect \u201celigible-session-participant\u201d is overridden for application \u201cMyFriendlyChat\u201d to select from a group list those \u201cbuddies\u201d who are \u201cwilling, reachable, and nearby\u201d. The overridden presence aspect is configured prior to the indication of any aspects from a \u201cMyFriendlyChat\u201d client executing on the wireless device.","With regard to call flows, the client application must determine who is willing, reachable, and nearby to initiate a message datagram to invite these \u201cbuddies\u201d to dinner. To fulfill this functionality, it is assumed that the \u201cMyFriendlyChat\u201d application subscribes to members of Alice's buddy list through OMA PRS\/RLS components.","The client application thereafter needs only to initiate communications towards eligible session participants based on the context aware layer result.","Various rules could be applied to the aspect to narrow it further. For example a limit could be placed on a subset of buddies when determining who is close by and reachable. Thus, the rule could be that only university buddies are returned when the request is made.","In a continuation of the above example, once Alice, Bob and Jane reach the restaurant, Alice could set an aspect trigger on her mobile device to alert her if any of her friends come within a certain distance of the restaurant within a predetermined time period. For example, Alice could set a trigger on her device to indicate that if any \u201cbuddies\u201d come within 0.5 kilometers within the next half hour she should be alerted.","In this example, Jim meets these criteria and Alice receives a notification on her mobile device that Jim has entered the specified area and Alice can thus invite Jim to join the group.","As will be appreciated the above illustrates an example of an aspect trigger. Specifically, a trigger is established for the aspect \u201celigible-session-participant\u201d and can be called, for example, \u201cis EligibleSessionParticipant\u201d which could cause an alert to be sent to Alice once true. As will be appreciated, such an alert could include an audible tone, vibration or any such notification to indicate to a user that the trigger conditions have been met.","Again, the use of a context aware layer facilitates a use of triggers, as well as reducing communications between the mobile device and the network, thereby saving battery life and processing power on the mobile device as well as network resources.","Mobile Advertising Scenario","In a further example of the above, car company XYZ Motor Cars wants an advertising campaign to coincide with the launch of a new sports-activity car model. XYZ Motor Cars hires Split-second Advertising Company to run the ad campaign and Split-second makes use of ABC Telecom as the wireless service\/content delivery provider.","Split-second has established an advertising campaign for the new car model targeting individuals between 23 and 30 years of age with interests in biking, camping, kayaking. The ad contains various photos, video-clips or the like, of the new model being used with different sports activities.","Jack, Phyllis, Lynn and George have all agreed to receive advertising related content. Andrew is within the target market for XYZ Motors but has not opted to receive advertising content. Jack, Lynn and George are within the target market for XYZ Motors.","With the above scenario, ABC Advertising Company configures their wireless advertising platform for the advertising campaign. A trigger is established within the wireless advertising platform, where the trigger monitors individuals who meet the Split-second criteria for the given ad campaign, who have opted in to receive the advertising, are \u201creachable\u201d, and have an appropriate device with capabilities of receiving an associated video clip.","ABC turns on the campaign to coincide with the launch date of the new model for XYZ, resulting in the context aware layer trigger, defined above, firing.","A short time later, Jack, Lynn and George receive messages containing information related to the new vehicle being introduced by XYZ Motors. The ad content is adapted appropriately for each device. For example, Jack could receive a WAP-Push SMS with the WAP-URL to XYZ Motor's launch site while Lynn and George both receive multi-media messages (MMS) with a short video clip attached.","Since Phyllis and Andrew did not meet the criteria for the ad campaign, they are not contacted. However, if at a future time but still during the ad campaign, Andrew opts in to receive wireless advertising messages the XYZ Motor Company ad would be sent to Andrew.","The above is implemented utilizing various aspects. The \u201creachable\u201d aspect can be used to determine whether Jack, Lynn and George can be reached to send advertising messages to. An aspect such as \u201copt-in\u201d can be used to determine whether the user has opted in to receive advertising.","Triggers could also be utilized. In this case, a trigger such as \u201cis EligibleSessionParticipant\u201d is used to return one or more users who have opted into the wireless advertising and content delivery services, are reachable and have a device with an appropriate set of media capabilities. In this case, the default action for the aspect trigger could be to direct the context aware layer to initiate content appropriate to the user. Thus, for example, no direct over-the-air indication could be sent to an advertising application on the client device.","The context aware layer could include information such as MobileAdvertisingPreferences\u201d defining a collection of mobile advertising specific preferences stored in an appropriate XDMS. The wireless advertising client located in the device may invoke this entity to return mobile advertising related preferences.","Other information could include \u201cContentDeliveryPreferences\u201d having a collection of content-delivery preferences stored in an appropriate XDMS. The wireless advertising client or other component within the device may invoke this entity to return content-delivery\/service\/application\/device preferences.","The advertising example provides for a context aware layer utilizing two separate enablers working together. Specifically a mobile advertising and content delivery enabler are used to achieve a specific function point. Such interactions are not possible under present services.","Research has shown that data transfer savings utilizing a context aware layer are between about 40% and about 75% under certain conditions. Thus, the use of the context aware layer provides savings of network resources and battery life on the mobile device.","The context aware layer further provides for the connection of multiple and varied client applications by allowing aspects, rules, policies and triggers to be defined at the context aware layer. This provides the advantage that the context aware layer can service multiple client applications and does not need to be recreated for each specific client application.","The embodiments described herein are examples of structures, systems or methods having elements corresponding to elements of the techniques of this application. This written description may enable those skilled in the art to make and use embodiments having alternative elements that likewise correspond to the elements of the techniques of this application. The intended scope of the techniques of this application thus includes other structures, systems or methods that do not differ from the techniques of this application as described herein, and further includes other structures, systems or methods with insubstantial differences from the techniques of this application as described herein."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present disclosure will be better understood with reference to drawings in which:",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
