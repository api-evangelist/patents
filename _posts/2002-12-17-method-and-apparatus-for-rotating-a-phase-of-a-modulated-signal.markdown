---
title: Method and apparatus for rotating a phase of a modulated signal
abstract: Techniques to adjust the phase rotation of a modulated signal to compensate for the phase rotation introduced by circuit elements associated with the transmit signal path. In one implementation, at least one control signal is received, with each control signal being provided to adjust a particular characteristic (e.g., gain, bias current) of one or more circuit elements (e.g., VGA, PA) associated with the transmit signal path. The circuit elements can be located directly in, or operatively coupled to, the transmit signal path. A phase rotation corresponding to an operating state defined by the received control signal(s) is then determined, and the phase of the modulated signal is rotated by an amount related to the determined phase rotation. The phase rotation compensation can be performed at various locations along the transmit signal path by rotating either the data, the PN sequences used to spectrally spread the data, or the carrier signals used to modulate the data.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07106782&OS=07106782&RS=07106782
owner: Qualcomm, Inc.
number: 07106782
owner_city: San Diego
owner_country: US
publication_date: 20021217
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE SPECIFIC EMBODIMENTS"],"p":["This application claims priority from U.S. application Ser. No. 09\/397,429, filed Sep. 17, 1999, entitled \u201cMethod and Apparatus for Rotating a Phase of a Modulated Signal\u201d and assigned to the Assignee of the present invention.","I. Field of the Invention","The present invention relates to data transmissions. More particularly, the present invention relates to method and apparatus for rotating a phase of a modulated signal.","II. Description of the Related Art","In many communications systems, data is processed, modulated, and conditioned prior to transmission to a receiving device. The data processing can include encoding for compression, coding for error detection\/correction, covering to provide orthogonal channels, spreading to spectrally disperse the data, and others. The processed data is then modulated with one or more carrier signals to generate a modulated signal more suitable for transmission. Various modulation schemes can be used such as quadrature phase shift keying (QPSK), offset QPSK, quadrature amplitude modulation (QAM), frequency modulation (FM), amplitude modulation (AM), and others. The modulated signal is typically further conditioned (e.g., buffered, amplified, filtered, and so on) prior to transmission.","The signal processing is performed by a number of circuit elements in a transmit signal path, and some of these elements can introduce distortions to the signal. For example, the non-linearity of a circuit element (e.g., amplifier, mixer) can generate intermodulation distortions. Moreover, the circuit elements can introduce phase rotation in the modulated signal. Conventionally, these distortions are maintained at an acceptable levels by proper design of the circuit elements.","To improve performance and enhance system capacity, the transmit signal path can include circuit elements that can be selectively controlled based on the operating condition of the transmitting device. The transmit signal path may include, for example, one or more variable gain elements having gains that can be adjusted to provide a variable output transmit power level. The transmit signal path may further include active circuit elements having bias currents that can be adjusted to reduce power consumption while providing the required (e.g., linearity, bandwidth) performance.","The characteristics of the modulated signal can change as the variable circuit elements in the transmit signal path are adjusted. Specifically, the phase of the modulated signal can rotate as the circuit elements are adjusted. When the circuit elements are adjusted in a step-wise fashion, the modulated signal can include phase discontinuities, which can cause performance degradation. Such phase transitions can be tracked at the receiver. However, this places a constraint on the bandwidth of the phase estimate. In order to operate at very low signal-to-noise ration (SNR), it is desirable to use narrowband estimators (i.e., having long time constant) that, in turn, have poor tracking performance.","Thus, techniques that can rotate the phase of the modulated signal to compensate for the phase rotation due to adjustments of circuit elements associated with the transmit signal path are highly desirable.","The present invention provides techniques to adjust the phase rotation of a modulated signal, to compensate for the phase rotation introduced by circuit elements associated with a transmit signal path. By rotating the phase of the modulated signal by approximately the same amount introduced by the circuit elements, in the opposite direction, and at approximately the same time, phase discontinuity in the modulated signal is reduced. The phase rotation compensation can be performed at various locations along the transmit signal path. In some embodiments, the phase rotation is performed digitally by rotating either the data, the PN sequences used to spectrally spread the data, or the carrier signals used to modulate the data. The phase rotation compensation can be applied to many modulation techniques including CDMA, TDMA, FDMA, and others, and can be applied to many modulation formats including QPSK, OQPSK, PSK, QAM, and others.","An embodiment of the invention provides a method for providing a phase rotation of a modulated signal from a transmit signal path. In accordance with the method, at least one control signal is received, with each control signal being provided to adjust a particular characteristic (e.g., gain, bias current) of one or more circuit elements (e.g., VGA, PA) associated with the transmit signal path. The circuit element(s) can be located directly in, or operatively coupled to, the transmit signal path. A phase rotation corresponding to an operating state defined by the received at least one control signal is then determined, and the phase of the modulated signal is rotated by an amount related to, or approximating, the determined phase rotation.","The phase rotation can be achieved with a complex multiplier, and can be performed digitally. The phase rotation can also be performed at designated times such that phase discontinuities in the modulated signal are reduced as the circuit element(s) are adjusted. The magnitude of the phase rotation can have any resolution and accuracy, and can be stored in a look-up table.","For some CDMA systems, the phase of the modulated signal is rotated by rotating the phases of the PN sequences used to spectrally spread the data. For these systems, at least one data stream and a pair of PN sequences are received. The received data stream(s) are then spectrally spread with the PN sequences. The PN sequences can comprise the short PN I and PN Q sequences defined by the IS-95-A standard.","Another embodiment of the invention provides a method for providing a phase rotation of an output signal from a CDMA transmitter. In accordance with the method, at least one data stream and a pair of PN sequences are received. The received data stream(s) are then spectrally spread with the PN sequences to generate spread data. The spread data is modulated to generate a modulated signal that is then conditioned by at least one circuit element to generate the output signal. At least one control signal is received, with each control signal used to adjust a particular characteristic (e.g., gain, bias current) of one or more circuit elements. A phase rotation corresponding to an operating state defined by the received control signal(s) is determined, and the phases of the PN sequences are rotated by an amount related to, or approximating, the determined phase rotation to provide the phase rotation of the output signal.","Yet another embodiment of the invention provides a transmitter that includes a signal processor coupled to a controller and to at least one circuit element. The signal processor receives and multiplies at least one data stream with at least one carrier signal to generate a modulated signal. The circuit element(s) receive and condition the modulated signal to generate an output signal. At least one control signal is provided to the circuit element(s), with each control signal configured to adjust a particular characteristic of one or more circuit elements. The controller receives the control signal(s) and determines a phase rotation corresponding to an operating state defined by the received control signal(s). The phase of the output signal is rotated by an amount related to, or approximating, the determined phase rotation.","The signal processor may include a spreader that receives and spectrally spreads the data stream(s) with a pair of PN sequences to generate spread data. Alternatively or additionally, the signal processor may include a modulator that receives and modulates the data stream(s) with an inphase carrier signal and a quadrature carrier signal to generate the modulated signal. The phase of the modulated signal can be rotated by rotating the phases of the PN sequences, the phases of the data streams, or the phases of the carrier signals. The controller may also include a look-up table that receives the control signal(s) and provides a phase rotation value corresponding to an operating state defined by the received control signal(s).","The invention can be extended to provide phase adjustment of the modulated signal to compensate for phase shifts introduced by the circuit elements associated with the transmit signal path.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1","b":["100","110","112","114","116","112","114","114","118","118","120","122","118","122"]},"The IF modulated signal is provided to a buffer  that buffers the signal and provides the buffered signal to a mixer . Mixer  also receives another carrier signal (e.g., a sinusoid) at a radio frequency (RF_LO), and upconverts the buffered signal with the RF_LO to generate a RF signal. Mixer  can be implemented with a complex multiplier. The RF signal is provided to a variable gain amplifier (VGA)  that amplifies the signal with a gain determined by a gain control signal from controller . The amplified RF signal is provided to a power amplifier\/driver (PA\/DRV)  that provides the required signal drive. To conserve power, the bias current of PA\/DRV  can be adjusted by a bias control signal from controller .","The modulated signal from PA\/DRV  is typically filtered by an external filter to remove images and spurious signals. The filtered signal is then routed through an isolator and a duplexer and transmitted via an antenna to a receiving device. These elements are not shown in .","Transmitter  can be designed to implement various code division multiple access (CDMA) standards. For example, transmitter  can be designed to conform to: (1) the \u201cTIA\/EIA\/IS-95-A Mobile Station-Base Station Compatibility Standard for Dual-Mode Wideband Spread Spectrum Cellular System,\u201d (2) the TIA\/EIA\/IS-98-A, -B, and -C entitled \u201cRecommended Minimum Performance Standard for Dual-Mode Spread Spectrum Cellular and PCS Mobile Stations,\u201d (3) \u201cThe cdma2000 ITU-R RTT Candidate Submission,\u201d and (4) \u201cThe ETSI UMTS Terrestrial Radio Access (UTRA) ITU-R RTT Candidate Submission,\u201d which are herein referred to as the IS-95-A standard, the IS-98 standard, the IS-2000 standard or submission, and the WCDMA standard or submission, respectively. These standards are incorporate herein by reference.","Transmitter  can further be designed to implement various CDMA architectures such as that described in U.S. Pat. No. 4,901,307, entitled \u201cSPREAD SPECTRUM MULTIPLE ACCESS COMMUNICATION SYSTEM USING SATELLITE OR TERRESTRIAL REPEATERS,\u201d U.S. Pat. No. 5,103,459, entitled \u201cSYSTEM AND METHOD FOR GENERATING WAVEFORMS IN A CDMA CELLULAR TELEPHONE SYSTEM,\u201d and U.S. patent application Ser. No. 08\/963,386, entitled \u201cMETHOD AND APPARATUS FOR HIGH RATE PACKET DATA TRANSMISSION,\u201d filed Nov. 3, 1997, now U.S. Pat. No. 6,574,211, issued on Jun. 3, 2003 to Padovani et al. These patents and patent applications are assigned to the assignee of the present invention and incorporate herein by reference. It will be recognized by one skilled in the art that the invention can be adopted for application to the CDMA standards and architectures identified above and other pending and future CDMA standards and architectures.","Various modifications can be made to the transmitter embodiment shown in . For example, the digital signal processing can include additional, fewer, or different steps than those shown in . For example, the signal processing can include symbol repetition, symbol puncturing, interleaving, and so on, as is known in the art. Also, fewer or additional filter, buffer, mixer, and amplifier stages can be provided in the transmit signal path. The elements can further be arranged in different configurations. In a specific implementation, transmitter unit  is implemented within one integrated circuit and the remaining circuit elements are implemented within another integrated circuit, although different number of integrated circuits and\/or discrete elements can be used.","As shown in , it is sometimes advantageous or required to adjust some characteristics of some of the circuit elements associated with the transmit signal path. For example, one or more variable gain elements (e.g., VGA ) may be provided to allow for adjustment of the output transmit power level. The gain adjustment may be necessary, for example, to maintain a particular level of performance (e.g., a particular bit-error-rate) at the receiving device while reducing interference to other units in the system. In addition, some circuit elements within the transmit signal path (e.g., PA\/DRV ) may have their bias currents adjusted to conserve power and extend operating life. An example of an amplifier having adjustable bias current is described in U.S. Pat. No. 6,175,279, issued on Jan. 16, 2001 entitled \u201cAMPLIFIER With ADJUSTABLE BIAS CURRENT,\u201d assigned of the assignee of the present invention, and incorporate herein by reference. High bias current is typically used when transmitting at a high output transmit power level, and low bias current is used at other times to conserve power.","The adjustment of a circuit element affects the desired circuit characteristic (e.g., gain, bias current), but may also affect other characteristics of the signal being processed. For example, adjustment of the gain of VGA  affects the signal level, as expected, but also affects the phase of the modulated signal, which may be undesirable or unacceptable. Similarly, adjustment of the bias current of PA\/DRV  affects the drive capability of the circuit, as expected, but typically also affects the phase of the modulated signal. The phase of the modulated signal varies, or rotates, with the control signals used to adjust the circuit elements associated with the transmit signal path.","In accordance with the invention, the phase of the modulated signal is rotated to compensate for the phase rotation due to adjustments of the circuit elements. For example, if a particular phase rotation is introduced when a variable gain element is adjusted from one gain setting to another gain setting, the phase of the modulated signal is rotated by approximately the same amount and in the opposite direction at approximately the time of the circuit adjustment. In this manner, phase discontinuity in the modulated signal is reduced, which can provide improved demodulation performance and better signal tracking at the receiving device.","The phase rotation compensation can be performed at any point along the transmit signal path. In a specific embodiment, the phase rotation is performed digitally, for ease of implementation and to provide consistent performance. For clarity, a specific implementation of the phase rotation of the invention is described below for a specific transmitter design.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 2","b":["118","118"],"sub":["DATA","DATA","OUT","OUT","DATA ","DATA ","DATA ","DATA ","OUT ","OUT "]},"As shown in , spreader  receives the Iand Qand the PN_I and PN_Q sequences. The Iis provided to multipliers and and the Qis provided to multipliers and . Similarly, the PN_I sequence is provided to multipliers and and the PN_Q sequence is provided to multipliers and . Each multiplier  multiplies, or spectrally spreads, the received input data with the received PN sequence to generate a respective output spread data. The outputs of multipliers and are provided to a summer that subtracts the output of multiplier from the output of multiplier to generate the Ispread data. Similarly, the outputs of multipliers and are provided to a summer that combines the outputs to generate the Qspread data. The function performed by spreader  and the spread data outputs can be expressed as:\n\n()=()\u00b7()\u2003\u2003, (1)\n\n=()\u2212(), and\u2003\u2003(2)\n\n=()+().\u2003\u2003(3)\n\nSpreader  effectively modulates the Iand Qdata streams with the PN_I and PN_Q sequences via a complex multiply operation.\n",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 3","b":["122","314","314","314","314","314","316","316","318","318","316","314","318","320","320","320","322","320","322"],"sub":["OUT ","OUT "],"i":["a ","b ","a ","b ","a ","b ","a ","b ","a ","b "]},"In some transmitter designs, the quadrature modulation is performed digitally. In these transmitter designs, the I and Q data from respective filters and are digitally modulated with the inphase and quadrature carrier signals. The digital I and Q modulated components are then combined, possibly filtered, and provided to a DAC that generates the IF modulated signal.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 4","FIG. 4"],"b":["120","432","436","436","434","436","436"],"i":["a ","b","a ","b"]},"Each multiplier  multiplies the received long and short PN sequences to generate a respective output PN sequence. The IPN and QPN sequences from multipliers and , respectively, are provided to a phase rotation circuit  that phase rotate the sequences, as directed by a control signal CTRL. The phase rotated PN_I and PN_Q sequences are used to spread the data. A timing\/control circuit  provides the timing signal for PN generators  and  such that the PN sequences can be started at a particular time.","Referring back to , the Iand Qare first spectrally spread with the PN_I and PN_Q sequences and subsequently modulated with the I_LO and Q_LO. The phase rotation of the invention can be performed at either of these stages, or both. The phase rotation at the spreading stage (i.e., via multipliers ) can be performed by rotating the phases of the PN sequences or the phases of the data, as described below. The phase rotation at the modulation stage can be performed by rotating the phases of the I_LO and Q_LO carrier signals.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 5","b":["438","438"],"sub":["ROT","\u2014","ROT","ROT","\u2014","ROT","ROT"],"br":[{},{}],"in-line-formulae":[{},{},{},{}],"i":["PN","I=[IPN\u00b7","\u2212QPN\u00b7","PN","Q=[IPN\u00b7","+QPN\u00b7"]},"A specific implementation of the invention is now described for transmitter  shown in , in which two control signals CTRL[1:0] are provided. One control signal (e.g., CTRL) adjusts the gain of VGA  and the other control signal (e.g., CTRL) adjusts the bias current of PA\/DRV . Each set of specific control values of CTRL[1:0] defines a particular operating state of the transmitter. For example, the control values of CTRL[1:0]=00 can define a low gain, low bias current operating state, the control values of 01 can define a low gain, high bias current operating state, the control values of 10 can define a high gain, low bias current operating state, and the control values of 11 can define a high gain, high bias current operating state. Each operating state can be associated with a particular phase rotation of the modulated signal. One of the operating states is designated as the baseline state having a phase rotation of zero. The remaining operating states are each associated with a particular phase rotation relative to the baseline state. For example, the operating states of CTRL[1:0]=00, 01, 10, and 11 can be associated with phase rotations of 0, \u03c0\/2, \u03c0, and 3\u03c0\/2, respectively.","When the transmitter is adjusted, or set, to a new operating state, the phase rotation associated with the new operating state is determined. The phases of the PN sequences are then rotated by the determined phase rotation to compensate for the phase rotation due to the circuit elements operating at the new operating state. The PN sequences are rotated at approximately the same time that the circuit element(s) are adjusted. By rotating the phases of the PN sequences by approximately the same amount, in the opposite direction, and at approximately the same time, phase discontinuity in the modulated signal is reduced.","Each of the operating states, as identified by the control signals CTRL[1:0], is associated with one of the four possible phase rotation values. In a simple implementation, four phase rotation values of 0, \u03c0\/2, \u03c0, and 3\u03c0\/2 are provided and identified by the signals PHASE[1:0]. In this implementation, the phase rotated PN_I and PN_Q sequences can be generated from the input IPN and QPN sequences as shown in Table 1.",{"@attributes":{"id":"p-0048","num":"0047"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"63pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},{},"Phase",{},{}]},{"entry":[{},"PHASE[1:0]","Rotation","PN_I","PN_Q"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"0\u20030","0","IPN","QPN"]},{"entry":[{},"0\u20031","\u03c0\/2","\u2212QPN","IPN"]},{"entry":[{},"1\u20030","\u03c0","\u2212IPN","\u2212QPN"]},{"entry":[{},"1\u20031","3\u03c0\/2","QPN","\u2212IPN"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}}}},"When a new operating state is selected, as identified by the control signals CTRL[1:0], the phase rotation associated with this new operating state is determined. The mapping of operating states to phase rotation values can be achieved with a look-up table (LUT), combinatorial logic, or other implementations. The PN_I and PN_Q sequences are then adjusted, as required and by the amount identified by the signals PHASE[1:0], to provide the desired phase rotation.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 6","b":["438","642","642","644"],"i":"a "},"As shown in Table 1, the PN_I and PN_Q sequences are equal to the IPN and QPN sequences, respectively, for a phase rotation of zero. For phase rotations of \u03c0\/2 and 3\u03c0\/2, the IPN and QPN sequences are swapped. The IPN sequence is inverted for phase rotations of \u03c0 and 3\u03c0\/2, and the QPN sequence is inverted for phase rotations of \u03c0\/2 and \u03c0. Exclusive-or (XOR) gates  and multiplexers (MUXes)  are used to implement these relationships.","As shown in , the signal PHASE is provided to one input of an XOR gate and the IPN sequence is provided to a second input of XOR gate . XOR gate inverts the IPN sequence when the phase rotation is \u03c0 or 3\u03c0\/2. The output of XOR gate is provided to the \u201c0\u201d input of a MUX and the \u201c1\u201d input of a MUX ","The signals PHASE[1:0] are provided to the inputs of an XOR gate . When the phase rotation is \u03c0\/2 or \u03c0, XOR gate generates a logic high that is used to invert the QPN sequence. The output of XOR gate is provided to one input of an XOR gate and the QPN sequence is provided to a second input of XOR gate . XOR gate inverts the QPN sequence when the phase rotation is \u03c0\/2 or \u03c0. The output of XOR gate is provided to the \u201c1\u201d input of MUX and the \u201c0\u201d input of MUX . The signal PHASE is provided to a select (S) input of MUXes and to swap the PN sequences when the phase rotation is \u03c0\/2 or 3\u03c0\/2.","Register  also receives an enable signal EN that allows the register to update at designated times. The enable signal EN can be used to align the phase rotation of the PN sequences with the adjustment of the circuit elements associated with the transmit signal path. In this manner, when the phase of the modulated signal rotates due to adjustment of the circuit elements, a corresponding phase rotation compensation is performed on the modulated signal to approximately cancel the phase rotation due to the circuit elements. The reset signal RESET can be used to reset the register, and can be asserted (e.g., to logic high), for example, when a software reset bit is set or when a hardware reset line is active.","In the simple embodiment shown in , two control signals CTRL[1:0] are provided, with each control signal controlling one circuit element and having a value of either \u201c0\u201d or \u201c1\u201d. Generally, the transmit signal path may include any number of adjustable circuit elements. Moreover, each circuit element can be adjusted to one of any number of states. For example, it may be desirable to adjust the gain of a VGA with four bits of resolution and the bias current of a circuit element with eight bits of resolution. Each specific setting of the circuit elements corresponds to a specific operating state of the transmit signal path. Although each operating state can be associated with a particular phase rotation of the modulated signal, it may be desirable to provide phase rotation compensation for only a subset of the possible operating states. For the example above, although the bias current of the circuit element may be adjusted with eight bits of resolution, it may be desirable to provide phase rotation compensation for eight operating states defined by the three most significant bits of the control signal for this circuit element.","Generally, each control signal can be used to adjust a particular characteristic of one or more circuit elements. For example, it may be desirable to adjust the gains of two VGAs in the transmit signal path using one common control signal. For simplicity, the M control signals for the M or more circuit elements for which phase rotation compensation is desired are concatenated into N bits, where M\u2266N.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 7","b":["438","742","744"],"i":"b "},"In an embodiment, L phase rotation values are stored in look-up table . Each operating state, as defined by the received control signals CTRL[N-1:0], is associated with one of the L phase rotation values. In an embodiment, each of the phase rotation values stored in look-up table  has P bits of resolution and identifies a particular phase rotation of between 0 and 2\u03c0.","A phase rotation value \u03b8corresponding to the operating state defined by the received control signals is provided from LUT  to a complex multiplier  that also receives the IPN and QPN sequences. Multiplier  multiplies the received PN sequences with the appropriate sine and cosine of the received phase rotation value \u03b8in accordance with equations (4) and (5) to generate the phase rotated PN sequences. The phase rotation value \u03b8is substituted for the phase rotation value \u03b8in equations (4) and (5). Multiplier  provides the output PN_I and PN_Q sequences having a phase rotation of between 0 and 2\u03c0 from the input IPN and QPN sequences.","Complex multiplier  can be implemented with logic, a look-up table, or other circuits. Complex multiplier  can also be integrated with look-up table . Each of the IPN and QPN sequences typically has one bit of resolution. Each of the output PN sequences from multiplier  can have K bits of resolution. A look-up table having 2K\u00b72bits can be used to implement complex multiplier . Since the output PN sequences are sinusoid in nature, the look-up table can be simplified by storing one quadrant of the sinusoid and deriving the other three quadrants from the stored quadrant.",{"@attributes":{"id":"p-0061","num":"0060"},"figref":["FIG. 7","FIG. 1"],"b":["748","136","134","134","748"]},"As noted above, the phase rotation can be performed at various locations in the transmit signal path. For example, the phase rotation can be performed on the complex data (i.e., the Iand Q), the complex PN sequences (i.e., IPN and QPN), or the carrier signals (i.e., I_LO and Q_LO). These various forms of phase rotation can be expressed as:",{"@attributes":{"id":"p-0063","num":"0062"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":[{"mi":"s","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mi":"Re","mo":"\u2062","mrow":{"mo":["{","}"],"mrow":{"mrow":{"mrow":[{"mi":"m","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}],"mo":["\u00b7","\u00b7"],"msup":{"mi":"\u2147","mrow":{"mi":["j","t"],"mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mover":{"mi":["\u03c9","_"]},"mi":"c"}}}},"mo":"\u2062","msup":{"mi":"\u2147","mrow":{"mi":"j","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["\u03b8","ROT"]}}}}}}],"mo":"="}}},{"mtd":{"mrow":{"mo":"=","mrow":{"mi":"Re","mo":"\u2062","mrow":{"mo":["{","}"],"mrow":{"mrow":[{"mi":"m","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mo":["[","]"],"mrow":{"mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},"mo":"\u00b7","msup":{"mi":"\u2147","mrow":{"mi":"j","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["\u03b8","ROT"]}}}}}],"mo":["\u00b7","\u00b7"],"msup":{"mi":"\u2147","mrow":{"mi":["j","t"],"mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mover":{"mi":["\u03c9","_"]},"mi":"c"}}}}}}}}},{"mtd":{"mrow":{"mo":"=","mrow":{"mi":"Re","mo":"\u2062","mrow":{"mo":["{","}"],"mrow":{"mrow":[{"mo":["[","]"],"mrow":{"mrow":{"mi":"m","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},"mo":"\u00b7","msup":{"mi":"\u2147","mrow":{"mi":"j","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":["\u03b8","ROT"]}}}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}],"mo":["\u00b7","\u00b7"],"msup":{"mi":"\u2147","mrow":{"mi":["j","t"],"mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mover":{"mi":["\u03c9","_"]},"mi":"c"}}}}}}}}},{"mtd":{"mrow":{"mrow":{"mo":"=","mrow":{"mi":"Re","mo":"\u2062","mrow":{"mo":["{","}"],"mrow":{"mrow":[{"mi":"m","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}],"mo":["\u00b7","\u00b7"],"msup":{"mi":"\u2147","mrow":{"mi":"j","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mo":["(","\u2062",")"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mrow":{"msub":{"mover":{"mi":["\u03c9","_"]},"mi":"c"},"mo":"\u2062","mi":"t"},"mo":"+","msub":{"mi":["\u03b8","ROT"]}}}}}}}}},"mo":[",","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mi":"and"}}}]}},{"mrow":{"mo":["(",")"],"mn":"6"}}]}}}},"br":{},"sup":["j{overscore (\u03c9)}",{"sub2":"c"},"t "]},{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIGS. 8A and 8B","FIG. 8A","FIG. 8B"]},"In , a spreader  receives and spreads the complex data (Iand Q) with the complex PN sequence (IPN and QPN) and provides the spread data to a phase rotator . Phase rotator  also receives a signal indicative of the desired phase rotation (\u03b8) and rotates the spread data by the phase amount of \u03b8. The phase rotation can be performed digitally or at the modulation stage, as described above.","In , a phase rotation circuit  receives and rotates the complex PN sequence (IPN and QPN) by the phase amount of \u03b8and provides the rotated PN sequences (PN_I and PN_Q) to a spreader . Spreader  also receives and spreads the complex data (Iand Q) with the complex PN sequence (PN_I and PN_Q) to generate the spread data. For some specific implementations (e.g., phase rotation in increments of 90\u00b0), this implementation may be more computationally efficient since the PN sequences typically have one bit of resolution and the phase rotation can be easily achieved with simple circuitry, as described above,","The amount of phase rotation in the modulated signal caused by adjustment of circuit elements can be determined through various means. For example, the phase rotation can be determined by circuit simulation, empirical measurements of the transmitter, or by other means. For each circuit configuration (i.e., each particular operating state defined by the control signals CTRL[N-1:0]), the phase of the modulated signal is determined. A baseline operating state is selected, and the phase value associated with each remaining operating state is compared against the phase value of the baseline state to obtain the phase rotation value for the operating state. Each operating state is thus mapped to, or associated with, a particular phase rotation value.","In an embodiment, a look-up table stores the phase rotations for various operating states. The look-up table can be loaded when the transmitter is initialized or when a reset signal is received. Alternatively, the phase rotation values can be provided on a system bus (i.e., from another integrated circuit) whenever the control signals change state.","In the description above, phase rotation compensation is provided by rotating the phases of the PN sequences. The phase rotation can also be provided by rotating the data, such as the Iand Qin . In some transmitter designs, the data may comprise more bits of resolution than the PN sequences, in which case rotating the PN sequences may require less circuitry.","The phase rotation compensation can also be performed at other points along the transmit signal path. For example, the phase rotation can also be performed by rotating the carrier signals used to modulate the data. Referring back to , the filtered I and Q data are modulated by the inphase (I_LO) and quadrature (Q_LO) carrier signals, respectively, by a modulator comprised of multipliers and . To rotate the phase at the modulation stage, the phases of the inphase and quadrature carrier signals can be rotated to provide the required phase rotation of the modulated signal.","In some embodiments of the invention, the phase rotation is performed digitally for ease of implementation and to provide consistent, performance. The digital implementation allows for phase rotation in discrete steps, although the step size can vary depending on the resolution of the signal PHASE. The phase rotation can also be performed using analog signals (e.g., at the modulation stage). The analog implementation may allow for phase rotation compensation in a more continuous manner.","The elements shown in  can be implemented in various manners. The digital processing elements (e.g., encoder , spreader ) can be implemented in hardware with special circuitry, by software executed on a processor (e.g., controller ), or a combination of both. Controller  can be implemented with a microcomputer, a microprocessor, a processor, a signal processor, an application specific integrated circuit (ASIC), or other electronic units designed to perform the functions described herein. The look-up tables can be implemented using a random-access memory (RAM), a dynamic RAM (DRAM), a read-only memory (ROM), a programmable ROM (PROM), an electronically programmable ROM (EPROM), a FLASH memory, other memory devices, or any combination thereof.","As shown in , the control signals CTRL[1:0] adjust the characteristics of the circuit elements located in the direct transmission path. The invention can also be used to compensate for phase rotation due to adjustment of other circuit elements not in the direct transmission path. For example, a voltage-controlled oscillator (VCO) and its associated buffer may have their bias currents adjusted to reduce power consumption. Adjustment of the bias currents of these circuit elements may cause variation in the phase of the signal generated by the VCO, which can cause a phase rotation in the modulated signal. Thus, as the VCO and\/or buffer is adjusted, a phase of the modulated signal can be rotated to compensate for the phase rotation in the modulated signal due to these circuit elements.","The invention described herein can be applied to many communications systems such as CDMA communications systems. The invention is applicable to various CDMA systems that currently exist and new systems that are continually being considered. A specific CDMA system is described in the aforementioned U.S. patent application Ser. No. 08\/963,386, now U.S. Pat. No. 6,574,211, issued on Jun. 3, 2003 to Padovani et al. This system includes a spreader in the transmitting unit at the base station and at the mobile station. The spreader spectrally spreads the received data with a pair of PN sequences in a manner similar to that described above. Another CDMA system is disclosed in the aforementioned U.S. Pat. No. 4,901,307 and U.S. Pat. No. 5,103,459.","The invention is particularly applicable to a mobile station of a CDMA system, which is required to adjust its output transmit power over a large range (e.g., 85 dB). The mobile station may include multiple circuit elements having variable gains and multiple circuit elements having adjustable bias currents, to reduce power consumption and to extend the operating life of the unit.","The invention can also be applied to other communications systems that employs other modulation techniques such as time division multiple access (TDMA), frequency division multiple access (FDMA), frequency modulation (FM), and amplitude modulation (AM) schemes such as amplitude companded single sideband (ACSSB). The invention can also be applied to other transmission systems such as broadcast television, paging, and others.","The invention can be extended to provide phase adjustment of the modulated signal due to phase shift introduced by the circuit elements associated with the transmit signal path. As the circuit elements are adjusted, the phase of the modulated signal can be shifted to compensate for the phase shift introduced by the circuit elements, to reduce phase discontinuity in the modulated signal.","The foregoing description of the preferred embodiments is provided to enable any person skilled in the art to make or use the present invention. Various modifications to these embodiments will be readily apparent to those skilled in the art, and the generic principles defined herein may be applied to other embodiments without the use of the inventive faculty. Thus, the present invention is not intended to be limited to the embodiments shown herein but is to be accorded the widest scope consistent with the principles and novel features disclosed herein."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The features, nature, and advantages of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings in which like reference characters identify correspondingly throughout and wherein:",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIGS. 6 and 7"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIGS. 8A and 8B"}]},"DETDESC":[{},{}]}
