---
title: Model-based virtual networking
abstract: Architecture that facilitates the virtual specification of a connection between physical endpoints. A network can be defined as an abstract connectivity model expressed in terms of the connectivity intent, rather than any specific technology. The connectivity model is translated into configuration settings, policies, firewall rules, etc., to implement the connectivity intent based on available physical networks and devices capabilities. The connectivity model defines the connectivity semantics of the network and controls the communication between the physical nodes in the physical network. The resultant virtual network may be a virtual overlay that is independent of the physical layer. Alternatively, the virtual overlay can also include elements and abstracts of the physical network(s). Moreover, automatic network security rules (e.g., Internet Protocol security-IPSec) can be derived from the connectivity model of the network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09379946&OS=09379946&RS=09379946
owner: Microsoft Technology Licensing, LLC
number: 09379946
owner_city: Redmond
owner_country: US
publication_date: 20091112
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["Network administration is no longer a simple task. Large companies typically have a large presence in a single location or dispersed across several geographic locations which are interconnected via a corporate enterprise. With such large and complex deployments, the frequently changing dynamics associated with the networks involves adding\/deleting employees, adding\/deleting employee devices (e.g., computers, printers.), etc., and is particularly evident when dealing with complex networks that span multiple locations, or include multiple subnets, VPNs (virtual private networks), multiple routers or other network devices, such as servers, routers, gateways, switches, and so on. Moreover, today's network management oftentimes includes a vendor-specific knowledge and data further complicating network management and administration.","The following presents a simplified summary in order to provide a basic understanding of some novel embodiments described herein. This summary is not an extensive overview, and it is not intended to identify key\/critical elements or to delineate the scope thereof. Its sole purpose is to present some concepts in a simplified form as a prelude to the more detailed description that is presented later.","The disclosed architecture facilitates the virtual specification of a connection between endpoints. A network can be defined as an abstract connectivity model expressed in terms of the connectivity intent, rather than any specific technology. The architecture compiles (translates) the connectivity model into configuration settings, policies, firewall rules, etc., to implement the connectivity intent based on available physical networks and devices capabilities.","The connectivity model is used to define the connectivity semantics of a network. The model can be translated into a set of policies and network configuration that control the communication between the physical nodes in the physical network. The resultant virtual network may be a virtual overlay that is independent of the physical layer. Alternatively, the virtual overlay can also include elements and abstracts of the physical network(s). Moreover, automatic network security rules (e.g., Internet Protocol security-IPSec) can be derived from the connectivity model of the network.","To the accomplishment of the foregoing and related ends, certain illustrative aspects are described herein in connection with the following description and the annexed drawings. These aspects are indicative of the various ways in which the principles disclosed herein can be practiced and all aspects and equivalents thereof are intended to be within the scope of the claimed subject matter. Other advantages and novel features will become apparent from the following detailed description when considered in conjunction with the drawings.","The disclosed architecture facilitates the development and implementation of a connectivity model that defines a virtual network to configure and manage a physical network. In other words, a physical network is defined as an abstract model, expressed in terms of the connectivity intent, rather than any specific technology. For example, the connectivity model can specify virtually that computers X, Y and Z should freely communicate with each other and should also have controlled communication on particular ports with computer D. Translation (compiling) of the model applies the virtual network to the physical network such that configuration settings, policies, firewall rules, etc., implement the connectivity intent given available physical networks and physical devices capabilities.","For example, IP addresses in a specific range can be assigned to physical machines A and B. Rather than specifically calling out the routing between appropriate subnets, as represented in the existing techniques for configuring the physical network, the connectivity semantics of connectivity model simply define that machines A and B should be able to communicate with each other.","The connectivity model operates in terms of identities (e.g., machines and users), groups (e.g., machines and users) and other abstractions (logical model without the details of connectivity), rather than physical network addresses.","Implementation of the desired connectivity can be accomplished by creating one or more network overlays that are independent of the physical network(s), and\/or by controlling physical networks via appropriate API (application programming interface)\/settings. In configurations that use network overlays, the connectivity model also can be used to control IP address assignment to machines and\/or users in the network overlay. For example, it is possible to allocate a specific IP address to a machine and that address will then be valid regardless of the physical network or IP address of the machine, since the assigned IP address is in the network overlay space. This capability facilitates supporting legacy applications.","The architecture includes a mechanism for defining the connectivity model of a network or networks as a set of rules expressing connectivity intent. The mechanism can be a GUI (graphical user interface) editor, for example, for graphically editing the connectivity model. A mechanism is also included for compiling the connectivity model into configuration settings, policies, firewall rules, etc., to implement the desired connectivity model.","The connectivity model translator (compiler) can be specific to a set of networking technologies utilized by a particular implementation. For example, one possible implementation can be via Windows\u2122 Direct Access\u2122 (DA) by Microsoft Corporation, where the connectivity model can be compiled into a series of IPSec, Teredo (an transmission protocol for sending IPv6 datagrams through NAT(network address translation) devices), SSTP (secure socket tunneling protocol), firewall and other settings used in an implementation.","It is possible to create translators for other overlay network technology sets, such as IPv4 and IPv6, for example. Translators (compilers) can also be created for applying the connectivity model to the physical networks by controlling programmable switches and VLANs (virtual local area networks), for example.","The disclosed architecture also makes possible the implementation of hybrid systems, where parts of the connectivity model are supported by the network overlay(s) while other parts of the model are supported by the physical networks. An example of such arrangement is a blend of machines connected to a LAN which can be controlled programmatically (e.g., via VLANs, IPSec, etc.), and machines connected remotely (e.g., via Teredo or SSTP), all of which are controlled by the single connectivity model.","The architecture also provides the mechanism for executing necessary elements of the connectivity model. This necessity administration depends on the physical implementation (e.g., overlay network versus physical network, Teredo versus SSTP versus L2TP (Layer 2 tunneling protocol) versus other protocols).","The architecture significantly simplifies network creation, management and use by focusing on the desired connectivity (connectivity intent) rather than implementation details (e.g., IP ranges, IPSec, policies, etc.). Moreover, IT personnel no longer need to have deep networking knowledge to create or manage the network. In simple cases, such as small or medium business, and consumer applications, the complexity can be completely eliminated, allowing administrators with no networking knowledge to successfully setup and manage the network.","Additionally, simplification is provided by making the network consistent and coherent and by deriving all relevant settings, policies, etc., from the single connectivity model. All required settings\/policies are guaranteed to be well aligned and non-conflicting. This is different from existing situations when each type of setting\/policy\/rule is defined independently, leaving room for error and inconsistencies.","The simplification also provides high reliability by ensuring consistency and coherency, and by including built-in self-test mechanisms that verify that actual settings and connectivity are aligned with the intended connectivity model.","Self-adjusting capabilities of the architecture allow the network to automatically switch to alternative connectivity technologies and systems (e.g., SSTP versus direct IPv6 or Teredo) to preserve the desired connectivity model while underlying network systems are changing (e.g., a portable computer moving between different networks).","Additionally, high security can be achieved by automatically deriving network security rules (e.g., IPSec) from the connectivity model. This allows secure connectivity without spending any time to configure or manage network security.","The disclosed connectivity model also allows for the creation of more complex networks and systems that use a combination of technologies with hosted systems.","Reference is now made to the drawings, wherein like reference numerals are used to refer to like elements throughout. In the following description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding thereof. It may be evident, however, that the novel embodiments can be practiced without these specific details. In other instances, well known structures and devices are shown in block diagram form in order to facilitate a description thereof. The intention is to cover all modifications, equivalents, and alternatives falling within the spirit and scope of the claimed subject matter.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 1","b":["100","100","102","104","106","102","108","106","102","104"]},"The connectivity model  describes a virtual network that overlays a physical layer and is independent of the physical layer. The connectivity model  describes a virtual network that overlays a physical layer and includes elements and abstracts of the physical network . The connectivity model  can also define network security as part of the connectivity semantics . The connectivity semantics  can include machine identities and user identities of the nodes, groups of nodes and groups of users and\/or node identities. The connectivity semantics  manage ports and gateways of the physical network .","Thus, network administration involved with a portable computer moving from one network to another network (e.g., across corporate geographic locations) is handled seamlessly since the connectivity model indicates the groups to which the user should be connected even when mobile.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 2","b":["200","202","200","102","104","106","102","108","106","102","104","202","108","102","104"]},"Put another way, the system  includes the arrangement of nodes  of the physical network , the connectivity model  that defines virtual connectivity between the nodes  using the connectivity semantics , and the translation layer  that translates the connectivity semantics  into policies and configuration information that manage communications between the nodes  of the physical network .","The virtual connectivity describes a virtual network  that overlays a physical layer and is independent of the physical layer. The virtual connectivity describes a virtual network  that overlays a physical layer and includes elements and abstracts of the physical network . The connectivity model  defines network security as part of the connectivity semantics . The connectivity semantics  include machine identities and user identities of the nodes, groups of nodes and groups of users, and\/or node identities.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 3","b":["300","300","106","302","202","202","302"]},"The system  also includes a user interface  (e.g., graphical UI) for developing and configuring the connectivity model  using model definitions . The definitions  can include a wide variety of definitions for selective deployment in different connectivity models. The system  can also include a storage component  for the storage of existing models for automatic or dynamic retrieval and utilization as desired. Connectivity models can be developed online or offline, and stored for later retrieval and use, on demand.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 4","b":["400","106","108","402","404","406","108","408","108","108","410","412"]},"Similarly, a second connectivity model  includes the connectivity semantics  that can define machine and\/or user IDs , groups  (of machines and\/or users), and other abstractions . The semantics  are passed through a translator  specific to the second connectivity model  (or semantic portions thereof) for translating the semantics  into settings, policies, and rules  that facilitate managing communications of a physical network .","In other words, multiple connectivity models can be employed to configure and management corresponding physical networks, subnets of a network, physical devices (e.g., gateways, routers, etc.), and ports, for example, of physical devices and nodes, restricted only by the semantics employed and translatable in the connectivity semantics. With respect to the multiple translators, one translator can be dedicated to handling IPsec policies, a second translator can be dedicated to handling firewall policies, a third translator is dedicated to handling SSL (secure socket layer) connections, a fourth translator can be dedicated to handling gateways, and so on.","The connectivity model disclosed herein provides a convenient and powerful mechanism for administrators of networks to define policies for system health requirements, such as assigning policies to groups of machines\/users as facilitated by NAP (network access protection), a technology developed by Microsoft Corporation. The health requirements can be related to nodes having the desired version of malware detection and prevention software and an active firewall, for example.","Included herein is a set of flow charts representative of exemplary methodologies for performing novel aspects of the disclosed architecture. While, for purposes of simplicity of explanation, the one or more methodologies shown herein, for example, in the form of a flow chart or flow diagram, are shown and described as a series of acts, it is to be understood and appreciated that the methodologies are not limited by the order of acts, as some acts may, in accordance therewith, occur in a different order and\/or concurrently with other acts from that shown and described herein. For example, those skilled in the art will understand and appreciate that a methodology could alternatively be represented as a series of interrelated states or events, such as in a state diagram. Moreover, not all acts illustrated in a methodology may be required for a novel implementation.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 5","b":["500","502"]},{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 6","FIG. 5"],"b":["600","602","604","606","608"]},"As used in this application, the terms \u201ccomponent\u201d and \u201csystem\u201d are intended to refer to a computer-related entity, either hardware, a combination of hardware and software, software, or software in execution. For example, a component can be, but is not limited to being, a process running on a processor, a processor, a hard disk drive, multiple storage drives (of optical, solid state, and\/or magnetic storage medium), an object, an executable, a thread of execution, a program, and\/or a computer. By way of illustration, both an application running on a server and the server can be a component. One or more components can reside within a process and\/or thread of execution, and a component can be localized on one computer and\/or distributed between two or more computers. The word \u201cexemplary\u201d may be used herein to mean serving as an example, instance, or illustration. Any aspect or design described herein as \u201cexemplary\u201d is not necessarily to be construed as preferred or advantageous over other aspects or designs.","Referring now to , there is illustrated a block diagram of a computing system  operable to develop, translate, and implement a connectivity model in accordance with the disclosed architecture. In order to provide additional context for various aspects thereof,  and the following description are intended to provide a brief, general description of the suitable computing system  in which the various aspects can be implemented. While the description above is in the general context of computer-executable instructions that can run on one or more computers, those skilled in the art will recognize that a novel embodiment also can be implemented in combination with other program modules and\/or as a combination of hardware and software.","The computing system  for implementing various aspects includes the computer  having processing unit(s) , a computer-readable storage such as a system memory , and a system bus . The processing unit(s)  can be any of various commercially available processors such as single-processor, multi-processor, single-core units and multi-core units. Moreover, those skilled in the art will appreciate that the novel methods can be practiced with other computer system configurations, including minicomputers, mainframe computers, as well as personal computers (e.g., desktop, laptop, etc.), hand-held computing devices, microprocessor-based or programmable consumer electronics, and the like, each of which can be operatively coupled to one or more associated devices.","The system memory  can include computer-readable storage such as a volatile (VOL) memory  (e.g., random access memory (RAM)) and non-volatile memory (NON-VOL)  (e.g., ROM, EPROM, EEPROM, etc.). A basic input\/output system (BIOS) can be stored in the non-volatile memory , and includes the basic routines that facilitate the communication of data and signals between components within the computer , such as during startup. The volatile memory  can also include a high-speed RAM such as static RAM for caching data.","The system bus  provides an interface for system components including, but not limited to, the memory subsystem  to the processing unit(s) . The system bus  can be any of several types of bus structure that can further interconnect to a memory bus (with or without a memory controller), and a peripheral bus (e.g., PCI, PCIe, AGP, LPC, etc.), using any of a variety of commercially available bus architectures.","The computer  further includes machine readable storage subsystem(s)  and storage interface(s)  for interfacing the storage subsystem(s)  to the system bus  and other desired computer components. The storage subsystem(s)  can include one or more of a hard disk drive (HDD), a magnetic floppy disk drive (FDD), and\/or optical disk storage drive (e.g., a CD-ROM drive DVD drive), for example. The storage interface(s)  can include interface technologies such as EIDE, ATA, SATA, and IEEE 1394, for example.","One or more programs and data can be stored in the memory subsystem , a machine readable and removable memory subsystem  (e.g., flash drive form factor technology), and\/or the storage subsystem(s)  (e.g., optical, magnetic, solid state), including an operating system , one or more application programs , other program modules , and program data .","The one or more application programs , other program modules , and program data  can include the connectivity model and connectivity semantics described herein, the translation layer and translators, the system  of , models  and associated entities of , and the methods represented by the flow charts of , for example.","Generally, programs include routines, methods, data structures, other software components, etc., that perform particular tasks or implement particular abstract data types. All or portions of the operating system , applications , modules , and\/or data  can also be cached in memory such as the volatile memory , for example. It is to be appreciated that the disclosed architecture can be implemented with various commercially available operating systems or combinations of operating systems (e.g., as virtual machines).","The storage subsystem(s)  and memory subsystems ( and ) serve as computer readable media for volatile and non-volatile storage of data, data structures, computer-executable instructions, and so forth. Computer readable media can be any available media that can be accessed by the computer  and includes volatile and non-volatile internal and\/or external media that is removable or non-removable. For the computer , the media accommodate the storage of data in any suitable digital format. It should be appreciated by those skilled in the art that other types of computer readable media can be employed such as zip drives, magnetic tape, flash memory cards, flash drives, cartridges, and the like, for storing computer executable instructions for performing the novel methods of the disclosed architecture.","A user can interact with the computer , programs, and data using external user input devices  such as a keyboard and a mouse. Other external user input devices  can include a microphone, an IR (infrared) remote control, a joystick, a game pad, camera recognition systems, a stylus pen, touch screen, gesture systems (e.g., eye movement, head movement, etc.), and\/or the like. The user can interact with the computer , programs, and data using onboard user input devices  such a touchpad, microphone, keyboard, etc., where the computer  is a portable computer, for example. These and other input devices are connected to the processing unit(s)  through input\/output (I\/O) device interface(s)  via the system bus , but can be connected by other interfaces such as a parallel port, IEEE 1394 serial port, a game port, a USB port, an IR interface, etc. The I\/O device interface(s)  also facilitate the use of output peripherals  such as printers, audio devices, camera devices, and so on, such as a sound card and\/or onboard audio processing capability.","One or more graphics interface(s)  (also commonly referred to as a graphics processing unit (GPU)) provide graphics and video signals between the computer  and external display(s)  (e.g., LCD, plasma) and\/or onboard displays  (e.g., for portable computer). The graphics interface(s)  can also be manufactured as part of the computer system board.","The computer  can operate in a networked environment (e.g., IP-based) using logical connections via a wired\/wireless communications subsystem  to one or more networks and\/or other computers. The other computers can include workstations, servers, routers, personal computers, microprocessor-based entertainment appliances, peer devices or other common network nodes, and typically include many or all of the elements described relative to the computer . The logical connections can include wired\/wireless connectivity to a local area network (LAN), a wide area network (WAN), hotspot, and so on. LAN and WAN networking environments are commonplace in offices and companies and facilitate enterprise-wide computer networks, such as intranets, all of which may connect to a global communications network such as the Internet.","When used in a networking environment the computer  connects to the network via a wired\/wireless communication subsystem  (e.g., a network interface adapter, onboard transceiver subsystem, etc.) to communicate with wired\/wireless networks, wired\/wireless printers, wired\/wireless input devices , and so on. The computer  can include a modem or other means for establishing communications over the network. In a networked environment, programs and data relative to the computer  can be stored in the remote memory\/storage device, as is associated with a distributed system. It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers can be used.","The computer  is operable to communicate with wired\/wireless devices or entities using the radio technologies such as the IEEE 802.xx family of standards, such as wireless devices operatively disposed in wireless communication (e.g., IEEE 802.11 over-the-air modulation techniques) with, for example, a printer, scanner, desktop and\/or portable computer, personal digital assistant (PDA), communications satellite, any piece of equipment or location associated with a wirelessly detectable tag (e.g., a kiosk, news stand, restroom), and telephone. This includes at least Wi-Fi (or Wireless Fidelity) for hotspots, WiMax, and Bluetooth\u2122 wireless technologies. Thus, the communications can be a predefined structure as with a conventional network or simply an ad hoc communication between at least two devices. Wi-Fi networks use radio technologies called IEEE 802.11x (a, b, g, etc.) to provide secure, reliable, fast wireless connectivity. A Wi-Fi network can be used to connect computers to each other, to the Internet, and to wire networks (which use IEEE 802.3-related media and functions).","The illustrated aspects can also be practiced in distributed computing environments where certain tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, program modules can be located in local and\/or remote storage and\/or memory system.","Referring now to , there is illustrated a schematic block diagram of a computing environment  that for development, translation, and implementation of a connectivity model. The environment  includes one or more client(s) . The client(s)  can be hardware and\/or software (e.g., threads, processes, computing devices). The client(s)  can house cookie(s) and\/or associated contextual information, for example.","The environment  also includes one or more server(s) . The server(s)  can also be hardware and\/or software (e.g., threads, processes, computing devices). The servers  can house threads to perform transformations by employing the architecture, for example. One possible communication between a client  and a server  can be in the form of a data packet adapted to be transmitted between two or more computer processes. The data packet may include a cookie and\/or associated contextual information, for example. The environment  includes a communication framework  (e.g., a global communication network such as the Internet) that can be employed to facilitate communications between the client(s)  and the server(s) .","Communications can be facilitated via a wire (including optical fiber) and\/or wireless technology. The client(s)  are operatively connected to one or more client data store(s)  that can be employed to store information local to the client(s)  (e.g., cookie(s) and\/or associated contextual information). Similarly, the server(s)  are operatively connected to one or more server data store(s)  that can be employed to store information local to the servers .","What has been described above includes examples of the disclosed architecture. It is, of course, not possible to describe every conceivable combination of components and\/or methodologies, but one of ordinary skill in the art may recognize that many further combinations and permutations are possible. Accordingly, the novel architecture is intended to embrace all such alterations, modifications and variations that fall within the spirit and scope of the appended claims. Furthermore, to the extent that the term \u201cincludes\u201d is used in either the detailed description or the claims, such term is intended to be inclusive in a manner similar to the term \u201ccomprising\u201d as \u201ccomprising\u201d is interpreted when employed as a transitional word in a claim."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
