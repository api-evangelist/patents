---
title: Selective map marker aggregation
abstract: The selective aggregation of marker objects on a map is disclosed. A plurality of marker objects is received in response to a query. The marker objects are each defined by a set of coordinates to a specific location on the map. The map is segregated into a plurality of bounding areas each defined by a set of bounding coordinates. A bounding area count of the number of marker objects having coordinates within a first one of the bounding areas is generated. The bounding area count is compared to a predetermined threshold. If the bounding area count is greater, a first aggregate marker is displayed in the first one of the bounding areas of the map. Otherwise, each of the marker objects within the first one of the bounding areas of the map is displayed. The marker objects are positioned according to the set of coordinates associated therewith.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09401100&OS=09401100&RS=09401100
owner: Adtile Technologies, Inc.
number: 09401100
owner_city: San Diego
owner_country: US
publication_date: 20110817
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","STATEMENT RE: FEDERALLY SPONSORED RESEARCH\/DEVELOPMENT","BACKGROUND","BRIEF SUMMARY","DETAILED DESCRIPTION"],"p":["Not Applicable","Not Applicable","1. Technical Field","The present disclosure relates generally to location-based services, and more particularly to selective map marker aggregation of query results of search engines, social networking sites, and other online services.","2. Related Art","Geographic mapping applications are particularly suitable for computer-based implementations because of the high volumes of data involved, and because interactive graphics display capabilities lend well to visual map navigation. Accordingly, a wide variety of electronic mapping applications have been developed. Earlier commercially available mapping applications were offered as standalone products installable on desktop computers, and included interface software that retrieved and displayed map data stored locally on the hard drive, or on an optical storage medium such as a CDs and DVDs. Although some specialized Global Positioning System (GPS) devices continue to store map data locally, web-based mapping applications are becoming increasingly popular.","In so-called web mapping services, geographic data is stored on a remote database and is retrieved by a web service application that is accessed from a client computer system via a conventional web browser. There are several advantages to web mapping, chief among these being substantially decreased storage requirements on the client side, as well as the lack of a need for the end user to regularly update map data through purchased content and the like. Some of the earlier web mapping services utilized raster image data, in which each zoom or detail level is represented as a series of separate images that was indexed according to a coordinate system. Accordingly, retrieving and rendering maps was a computationally burdensome process on both the client end and the server end that was further delayed on a limited bandwidth Internet connection. Conventional web mapping services utilize vector data that is downloaded to the client and rendered by browser-side scripts cooperating with the web service application. Additional graphical data may be overlaid or otherwise tied to specific coordinates, including satellite imagery, traffic level indicators, street-level perspective images, point of interest graphics, and so forth. Providers of web mapping services have also made available application programming interfaces (API) so that data from any other web-based service can be incorporated into maps.","Due to the proliferation of GPS receiver modules in many different mobile computing platforms including smartphones, tablet devices, laptop computers, and the like, user geographic location data has become more available. Several online, web-based social networking sites have attempted to harness location data for further interactivity and utility in maintaining online and offline interpersonal relationships.","Generally, social networking involves connecting users with each other to communicate and share information. Users may establish accounts and create profiles containing biographic data such as current location, schools attended, employment experiences, personal relationships, and so forth. Furthermore, various updates of interest with messages, photographs, videos, and links to other sites may be posted on the profile. Access to this personal information may be limited to those who have approved and set up links or affiliations with the user account. Depending on preference, information of limited privacy concern may be made accessible to secondary contact links, or to all users on the social networking service. A group of contacts, which can minor the user's real-life personal network, may thus be established online.","When posting update content in messages, photographs, and videos, concurrently recorded location data may also be posted. The location data, in turn, may be utilized by a web mapping service to visually represent the location of each contact in the user's social network. Even though participation in social networking services through exchanging content can be enjoyable for its own sake, the capability to facilitate in-person, real-life interaction continues to be a significant draw and reason for its popularity, as offline contact often proves to be a richer, more rewarding experience.","Besides showing the location of users on social networking sites, the integration of location data from different sources into a web mapping service is applicable to other contexts. For instance, a common Internet search query relates to finding local businesses with physical facilities such as retailers, restaurants, and so forth. Markers overlaid on locations for businesses corresponding to the search results are helpful for quickly visualizing and deciding which (or in which order) they can be visited, among numerous other uses.","Visually presenting numerous location point data on a map may be challenging due to the limited space in which they may be shown. This problem is compounded where numerous query results are returned, and an attempt to render the location point data may result in a disorganized clutter. Furthermore, the maximum number of location point data that can be rendered on the map at any given point is also limited by the data processing resources of the client computer system. Some search engine implementations attempt to break up the results into multiple segments, with only the location point data for a given segment of results being rendered on the map at any time. Although this may decrease clutter on the map, a complete picture of the query cannot be visualized. The navigation of the query results becomes entirely divorced from the visual navigation of the map, with the map becoming a mere secondary indicator that complicates mental process of parsing search queries. Accordingly, there is a need in the art for selective map marker aggregation.","In accordance with one embodiment of the present disclosure, a method for selectively aggregating marker objects on a map is contemplated. The method may include receiving a plurality of marker objects in response to a query. The marker objects may each be defined by a set of coordinates to a specific location on the map. There may be a step of segmenting the map into a plurality of bounding areas. Each of the bounding areas may be defined by a set of bounding coordinates. The method may further include generating a bounding area count of the number of marker objects that have coordinates within a first one of the bounding areas. Additionally, the method may include comparing the bounding area count to a predetermined threshold. If the bounding area count is greater than the predetermined threshold, the method may include displaying a first aggregate marker in the first one of the bounding areas of the map. On the other hand, if the bounding area count is less than the predetermined threshold, the method may instead include displaying each of the marker objects within the first one of the bounding areas of the map. The marker objects may be positioned according to the set of coordinates associated therewith. The present invention will be best understood by reference to the following detailed description when read in conjunction with the accompanying drawings.","Common reference numerals are used throughout the drawings and the detailed description to indicate the same elements.","Various methods and systems for selective map marker aggregation are disclosed. Multiple results from a location-based query can be aggregated into a single marker, depending on the number of results that would otherwise have been overlaid in a given bounding area on the map. These methods may be implemented as executable software instructions. The detailed description set forth below in connection with the appended drawings is intended as a description of the several presently contemplated embodiments of these methods, and is not intended to represent the only form in which the disclosed invention may be developed or utilized. The description sets forth the functions and features in connection with the illustrated embodiments. It is to be understood, however, that the same or equivalent functions may be accomplished by different embodiments that are also intended to be encompassed within the scope of the present disclosure. It is further understood that the use of relational terms such as first and second and the like are used solely to distinguish one from another entity without necessarily requiring or implying any actual such relationship or order between such entities.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1","b":["10","12","14","12","12","16","18"]},"The client computer system  is understood to have executable instructions of a web browser application that are loaded thereon. The web browser application communicates with various web servers also connected to the Internet  over the hypertext transfer protocol (HTTP), among others protocols known in the art. Requests for data are initiated by the client computer system  and transmitted to the servers, while the server transmits the requested data to the client computer system .","Among the services accessible via the Internet  include a web mapping service , a social networking service , and a search engine . It will be understood that there are several competing providers for each of these services, and each generally function in the same way, save for a few feature differences. In further detail, the web browser application on the client computer system  renders a map generated by the web mapping service  and retrieved from the same. The geographic locations to show, as well as the detail or zoom level at which such locations are shown, are specified through commands and queries issued via the web browser application. One of the most popular web mapping service  is the Google Maps though others such as Yahoo! Maps, Bing Maps, Mapquest, and so forth are available. The web mapping service  includes a mapping application programming interface (API)  through which additional content may overlaid on the generated map. Additionally, the API  can be used to incorporate mapping features into other websites such as the social networking service .","The social networking service  is understood to facilitate interactive online communications between the user  and the associated network of contacts  including a first contact , a second contact , and a third contact , among possibly many others. As indicated above, numerous social networking services are known in the art, and any one may be utilized in connection with various embodiments of the present disclosure, including the previously mentioned Facebook, Google Plus, MySpace, Friendster, etc. Each provides a slightly different user experience, though there are some key features that are common to all. These commonalities include a specific user account  that is assigned to the primary user , as well as a viewable profile  containing biographic information and user-generated content .","The contacts -of the user  likewise have corresponding accounts -on the social networking service , along with corresponding profiles  and user-generated content . Each of the contacts  accesses the Internet  via a computing device , which is similar to the client computer system . In some embodiments, the computing device  may be a mobile device such as a smart phone, a laptop computer, a tablet computer, or the like that has Internet connectivity features. The computing device  is understood to have a web browser application or other dedicated application for accessing the data stored on the social networking service , and also capable of rendering maps retrieved from the web mapping service . For purposes of the present disclosure, the computing device  will be referenced as a specific kind of the client computer system , and thus the terms are, for the most part, interchangeable.","Communications between the user  and the contacts  via the respective profiles  can be facilitated in public, semi-private, and private settings. The primary user account  is linked to the accounts -associated with the contacts -, such that content posted to the profile  of the primary user  is viewable thereby. Depending on the particular service, the feature of posting user-generated content may be variously referred to as a \u201cwall,\u201d or a \u201cstream.\u201d The user-generated content  may be text messages, photographs, videos, and links to other websites on the Internet . Additionally, such data may be appended with location data . As indicated above, the social networking service  may be accessed by the contacts  with mobile devices, which typically include GPS receivers incorporated therein. The coordinate values corresponding to the geographical position of the mobile device can be recorded, transmitted to the social networking service , and displayed together with the user-generated content . By utilizing the mapping API , the location can be visualized with a map embedded into the web page of the social networking service .","The functionality of the social networking service  may be extendible through third party application providers that employ the data associated with the user accounts  in different ways from the social networking service  itself. Accordingly, there is a social networking API  that can be accessed by an application provider to access and retrieve the data on the social networking service . In addition, the social networking API  can be used by the application provider to generate further content for the social networking service . As noted above, the present disclosure contemplates methods and systems for selective map marker aggregation. The web mapping service  is used to generate the map, and the social networking service  is used to obtain the data points for the markers that are overlaid on the marks. The resultant map can be generated as part of the webpage of the social networking service , or alternatively, on a separate independent webpage. In one embodiment, this feature is provided by an external location based service  that connects to the social networking API  and the mapping API . It will be recognized by those having ordinary skill in the art, however, that the functionality may be directly incorporated into the web mapping service , or in the social networking service . Although the details of the present disclosure will be explained in relation to the social networking service , it is understood that the contemplated map marker aggregation methods and systems are applicable in other contexts. This includes the search engine , various online review services, or any other online service that includes location data which can be visually represented as markers on the map.","Referring now to the flowchart of , the method begins with a step  of receiving a plurality of marker objects in response to a query. As utilized herein, and in the context of the social networking service , the marker object is understood to be a data object that is at least partially defined by a set of coordinates to a specific location on the map. Furthermore, the data object may include a field identifying the particular user and the profile  to which the location data  is associated. The query may be a general one made to the social networking service  by the location based service  to retrieve the profiles  of all contacts  of the user . The query may also be narrower, with only a subset of the profiles  that meet a specified criteria being retrieved. The particular way in which such queries are directed to the social networking service  will be recognized by those having ordinary skill in the art.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 3","b":["46","48"]},"If it is determined that the region boundary  includes too many retrieved marker objects, i.e., the count of the marker objects with coordinate values within the region boundary  exceeds a certain threshold, the method continues with a step  of segmenting the map into a plurality of bounding areas , including a northeast bounding area , a northwest bounding area , a southwest bounding area , and a southeast bounding area . The illustrated embodiment of  shows that the bounding areas  are adjacent to each other, and have a generally quadrangular configuration. It is also illustrated that there are four bounding areas  segregated by a vertical boundary line  and a horizontal boundary line , which, like the region boundary , are not rendered visible to the client computer system . It will be recognized that there may be a different number of bounding areas  with other shapes, depending on the geography of the region shown on the map. The borders of the bounding areas  is shown by way of example only, and in most embodiments this is hidden or rendered invisible on the map .","In step , the method continues with generating a bounding area count of the number of marker objects having coordinates within a first one of the bounding areas , for example, the northeast bounding area . The step  may be repeated for each of the remaining bounding areas -, with a separate bounding area count being generated therefor. Broadly, if the density of marker objects for any bounding area  is sufficiently low, then each of the marker objects therein can be shown. On the other hand, if the density of marker objects in the particular bounding area  is too high, that is, where too much visual clutter would result by displaying each of the marker objects in that bounding area , they are not displayed and instead represented with an aggregate marker.","With reference again to the flowchart of , the method includes a step  of comparing the bounding area count to a predetermined threshold value. For each of the bounding area counts generated for the bounding areas -, this step is repeated. If the bounding area count is greater than the predetermined threshold, as shown in the northeast bounding area of , a first aggregate marker is displayed per step . The southeast bounding area also, by way of example, has a bounding area count greater than the predetermined threshold value, so a second aggregate marker is displayed, again according to step . However, where the bounding area count is less than the predetermined threshold value as is the case with the northwest bounding area , the individual markers , are displayed in accordance with step .","The aggregate marker  may be implemented in a variety of different ways to convey representative information of its constituent marker objects. In its simplest form, the aggregate marker  is an icon including the number of marker objects within the particular bounding area . The first aggregate marker indicates that there are  marker objects within the northeast bounding area , while the second aggregate marker indicates that there are  marker objects within the southeast bounding area . As will be described more fully below, other information may be included in the aggregate markers . By way of example, the aggregate markers  may be positioned in a central region of the bounding area .","When utilized in conjunction with the social networking service , the individual markers  may include a photograph  or other identifying graphic that is associated with the corresponding user account . The markers  are positioned on the map  in accordance with the location data  associated with the corresponding user account . Because the comparatively large photograph  likely would not point to the specific location with any degree of precision, it may be embedded within an icon  having a pinpoint section . This is shown by way of example only and not of limitation; other implementations may be substituted without departing from the scope of the present disclosure.","In some instances, even when the aggregate marker  is generated for a given bounding area , an individual marker  may nevertheless be displayed. The social networking service  stores additional data about the user  and the contacts  such as the profile  and the user-generated content . Where a specific contact  is likely to be of interest to the user  for one reason or another (for example, the user  and the contact  share the same hobby or activity) then the marker  therefor can be displayed as illustrated in . This determination may be based upon the derivation of a relevance value for each of the profiles  linked to the social network of the user . Again, although this example is illustrated in the context of the social networking service , this feature is also possible for other services in which marker objects representative of something other than contacts  are displayed on the map , such as restaurants, retail establishments, and the like. The particular example shows that the northeast bounding area has  marker objects, and a particular contact  of interest as indicated by the marker . In some instances, any number of additional markers  may be generated from a random selection of profiles .","With reference to , several embodiments of the present disclosure contemplate additional information being provided in the aggregate markers  in the form of icons, colors, further text-based indicators, and so forth. For example, the first aggregate marker may include an icon  that is representative of some demographic information culled from the profiles  of those contacts located within the northeast bounding area . The second aggregate marker indicates that the southeast bounding area is comprised of 75% males, another demographic data point retrieved from the profiles .","When a map zoom command is invoked, the above-described method of selectively aggregating marker objects including steps  through  is repeated for the new map view. Aside from conventional map navigation inputs to zoom out and zoom in to different views of the map, the map zoom command may also be invoked via a selection of the aggregate marker  with a mouse click or the like. By way of example, when the second aggregate marker is selected, the view is expanded to show only the southeast bounding area , as shown in . The southeast bounding area is then segmented into multiple sub-bounding areas, each of which are defined by a set of sub-bounding coordinates. A count of marker objects in each of the sub-bounding areas is generated, and if the count for any one of the sub-bounding areas is greater than the predetermined threshold, then another third aggregate marker is displayed therefor. Otherwise, the individual markers , are displayed. While the foregoing zooming operation and subsequent marker aggregation process is described in terms of sub-bounding areas, it will be recognized that such description is for purposes of comparison to the original bounding areas  only. Various implementations perform the same operation recursively on the sub bounding areas as on the bounding areas . Accordingly, the same parameters are understood to apply, including the shape and number of bounding\/sub-bounding areas.","The particulars shown herein are by way of example and for purposes of illustrative discussion of the embodiments of the present disclosure only and are presented in the cause of providing what is believed to be the most useful and readily understood description of the principles and conceptual aspects. In this regard, no attempt is made to show details of the present invention with more particularity than is necessary, the description taken with the drawings making apparent to those skilled in the art how the several forms of the present invention may be embodied in practice."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["These and other features and advantages of the various embodiments disclosed herein will be better understood with respect to the following description and drawings, in which:",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
