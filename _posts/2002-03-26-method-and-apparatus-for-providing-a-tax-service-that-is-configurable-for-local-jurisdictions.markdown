---
title: Method and apparatus for providing a tax service that is configurable for local jurisdictions
abstract: One embodiment of the present invention provides a system that implements a tax service that is configurable for local jurisdictions by an expert in the field, such as a tax professional, who may have little or no knowledge of computer programming. The system operates by receiving a request from a subscriber, wherein servicing the request involves calculating taxes for one or more local jurisdictions. Tax rules for a local jurisdiction can be fed into a tax rule base that is used by a tax engine that is configured to use these externally specified rules in performing tax computations. Next, the system uses the tax engine to calculate taxes for each local jurisdiction, and subsequently uses the results of the calculations in servicing the request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07693760&OS=07693760&RS=07693760
owner: Oracle International Corporation
number: 07693760
owner_city: Redwood Shores
owner_country: US
publication_date: 20020326
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["1. Field of the Invention","The present invention relates to computer-based systems for calculating and administering taxes. More specifically, the present invention relates to a method and an apparatus for providing tax services in a manner that is configurable for local jurisdictions.","2. Related Art","As companies expand their businesses beyond national borders and into the global marketplace, it is becoming increasingly harder to ensure that taxes are accurately determined. Determining taxes and managing tax compliance on a global scale is an enormously complicated task because each legislature with a right to levy taxes within its jurisdictional boundaries can establish its own set of taxes, as well as its own set of rules for regulating tax compliance. For example, in the United States alone there are over 6,000 individual jurisdictions that have the right to levy taxes, and perhaps that many more again worldwide.","The ad-hoc nature of the information required to calculate taxes makes codification and structuring of such information difficult. Consequently, existing computer-based systems for managing tax compliance are custom-built for each jurisdiction. This requires large amounts of programmer time to build systems for each jurisdiction, which can result in a considerable expense. Moreover, adding new countries or complying with new rules involves producing yet even more code, and consequently requires even more programmer time. Unfortunately, much of this programmer time is wasted because similar solutions are typically developed for each of the different jurisdictions.","Moreover, tax rules continually change for each jurisdiction. Hence, the underlying code for a computer-based tax management system must be continually modified to keep pace with these changes. At present, these changes are made at significant cost by a skilled programmer operating under the direction of a tax expert for each of the different jurisdictions.","What is needed is a method and an apparatus for determining taxes and managing tax compliance requiring little or no programming for individual tax jurisdictions.","One embodiment of the present invention provides a system that implements a tax service that is configurable for local jurisdictions. The system operates by receiving a request from a subscriber, wherein servicing the request involves calculating a tax for a local jurisdiction. Tax rules for the local jurisdiction (in a computer-readable format) can be fed into a tax engine that is configured to use these externally specified rules in performing tax computations. Next, the system uses the tax engine to calculate the tax for the local jurisdiction, and subsequently uses the result of the calculations in servicing the request.","In one embodiment of the present invention, receiving the tax rules additionally involves receiving tax data for the local jurisdiction, wherein the tax data includes one or more tax rates. In a variation on this embodiment, feeding the tax rules into the tax engine involves storing the tax rules in a tax rule base within the tax engine. It additionally involves storing the tax data into a tax knowledge base within the tax engine, wherein the tax knowledge base is separate from the tax rule base.","In one embodiment of the present invention, the tax rules for the local jurisdiction are received from a third party.","In one embodiment of the present invention, servicing the request optionally involves utilizing a service provided by a third party in order to service the request.","In one embodiment of the present invention, calculating the tax involves first determining a taxable basis for the request, and then determining an applicable tax rate for the request based upon the tax rules for the local jurisdiction. It also involves calculating the tax, and optionally feeding the result of the calculation into an accounting system, as well as other business processes like Sales Order processing and Accounts Payable.","In one embodiment of the present invention, receiving the tax rules for the local jurisdiction involves receiving tax rules for tax regimes and taxes that are applicable to the local jurisdiction.","In one embodiment of the present invention, calculating the tax involves determining which tax regimes, taxes and tax jurisdictions are applicable. It also involves determining the tax status and performing the tax (amount) computations.","In one embodiment of the present invention, prior to receiving the request from the subscriber, the system receives a registration request from the subscriber to register with the tax service. In response to this registration request, the system registers the subscriber with the tax service, so that the subscriber can send requests to the tax service.","Table 1 illustrates different tax regimes, tax jurisdictions and taxes for different countries in accordance with an embodiment of the present invention.","The following description is presented to enable any person skilled in the art to make and use the invention, and is provided in the context of a particular application and its requirements. Various modifications to the disclosed embodiments will be readily apparent to those skilled in the art, and the general principles defined herein may be applied to other embodiments and applications without departing from the spirit and scope of the present invention. Thus, the present invention is not intended to be limited to the embodiments shown, but is to be accorded the widest scope consistent with the principles and features disclosed herein.","The data structures and code described in this detailed description are typically stored on a computer readable storage medium, which may be any device or medium that can store code and\/or data for use by a computer system. This includes, but is not limited to, magnetic and optical storage devices, such as disk drives, magnetic tape, CDs (compact discs) and DVDs, and computer instruction signals embodied in a transmission medium (with or without a carrier wave upon which the signals are modulated). For example, the transmission medium may include a communications network, such as the Internet.","Distributed Computer System",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1","b":["100","100","102","104","130","120"]},"Clients - can generally include any device on a network including computational capability and including a mechanism for communicating across the network. Clients - operate under control of parties -, respectively.","Server  can generally include any computing device including a mechanism for servicing requests from clients - for computational and\/or data storage resources. Note that clients - and server  can generally include any type of computing device, including, but not limited to, a computer system based on a microprocessor, a mainframe computer, a digital signal processor, a portable computing device, a personal organizer, a device controller, and a computational engine within an appliance.","Network  can generally include any type of wire or wireless communication channel capable of coupling together computing nodes. This includes, but is not limited to, a local area network, a wide area network, or a combination of networks. In one embodiment of the present invention, network  includes the Internet.","Server  is coupled to a database , which contains data that is used by applications running on server . Note that these server-based applications may be running on behalf of remote applications on clients -. Database  can generally include any type of system for storing data in non-volatile storage. This includes, but is not limited to, systems based upon magnetic, optical, and magneto-optical storage devices, as well as storage devices based on flash memory and\/or battery-backed up memory.","Server  acts as a host machine for tax service . This allows applications running on clients - to make requests across network  to tax service  running on server . For example, an application running on client  can send a request to tax service  to perform the tax calculation, including determination of the local jurisdictions involved and, further, performing the computations necessary for each of the local jurisdictions.","Note that tax service  is configured so that it can receive tax rules and data for local jurisdictions  from an external source, such as a tax expert for the local jurisdiction. Furthermore, tax rules and data  can be encoded in a published format, such as extensible markup language (XML) or electronic data interchange (EDI) format, to facilitate receiving the tax rules and data  from different sources. Note that tax rules and data  can be communicated to tax service  across network .","Tax service  is additionally configured so that it can operate with an external tax service  provided by an external tax service provider. In this way, the external tax service provider can perform an operation, such as a database lookup or a tax computation, in order to facilitate completing a tax operation for a specific jurisdiction. Furthermore, note that this external tax service provider may be located on a remote server that is accessible through network . A given request can be partially fulfilled by tax service  using tax rules and data  for one or more local jurisdictions, while using an external tax service provider to perform the computations for another local jurisdiction that might be simultaneously applicable.","Tax Service Structure",{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 2","b":["132","132","202","204","206","208","210","217","212","214","216"]},"TSRM  generally manages interactions between external business transactions and tax processing operations. In one embodiment of the present invention, TSRM  is implemented as a set of methods. As is illustrated in , TSRM  receives a request  to perform an operation from an application running on one of clients -.","Open subscription model  defines the security and access protocols used by TSRM  as well as tax rules navigator , tax determination manager (TDM)  and tax configuration manager (TCM) . It also allows subscribers, such as parties -, to select and receive services from either tax service  and\/or various external service providers, such as tax service . During operation, open subscription module  communicates with architecture model , which represents various parties, sites and locations involved in the tax operations in a standardized format.","Geography model  contains information about the geographical boundaries of the various jurisdictions associated with different tax regimes.","Tax rules navigator  facilitates access to tax data contained in knowledge base  and tax rules contained in rule base . Note that knowledge base  and tax rules  may actually reside within database  illustrated in .","Tax determination manager (TDM)  is called by TSRM  to determine the local jurisdiction for which tax computation needs to be performed. TDM  uses information from architecture model  and geography model  in ascertaining the local jurisdictions. Optionally, TDM  can use tax rules navigator  to access the necessary information contained within the knowledge base  and\/or rule base .","After the local jurisdictions (for which tax must be computed) are identified, TSRM  invokes the services of either tax service  or TDM  to perform the computations for each of the identified local jurisdictions. In deciding whether to use tax service , TSRM  makes use of information in the open subscription model .","When the TDM  is used to perform the computations for one or more local jurisdictions, it makes use of trading community model  and geography model , as well as the tax rules navigator . (Tax rules navigator  is used to access relevant information from knowledge base  and rule base .)","TSRM  then invokes the services of TDM  to collect and summarize the information of the results of the various tax computations performed. In doing so, TDM  uses tax rules navigator  to access information from the knowledge base  and\/or rule base . TSRM  then returns the information, summarized to the appropriate level as above, to the request .","Finally, tax repository manager  stores a cumulative history of tax services rendered so far by the system.","The above-described components work together to provide tax services as is described below with reference to .","Operation of Tax Service",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 3","b":["132","112","102","302","132","304","144"]},"The system also receives tax rules and data  for one or more local jurisdictions (step ). The system feeds tax rules and data  into rule base  and knowledge base  using services provided by TDM  and TCM . (step )","Next, the system receives a request from the subscriber (step ), wherein servicing the request involves calculating a tax for a local jurisdiction. In response to this request, the system calculates the tax for the local jurisdiction by using the tax rules and tax data stored in knowledge base  and rule base  (step ). The system subsequently uses a result of this calculation in order to service the request (step ).","For example, the request from the subscriber may involve a sale of an item. In this case, the system first determines the local jurisdiction using the geography model . Further, it could identify that a local sales tax is the applicable tax using the knowledge base . The system could also determine the taxable basis and tax status using the knowledge base . The system may optionally also use the rule base  to determine the taxable basis. Similarly, the system could lookup the tax rate from the knowledge base . The system may also determine that a reduced rate applies for the local sales tax, by applying a rule from rule base . Note that the service request may be initiated by an external system while performing a financial transaction to complete the sale.","Unlike prior tax computation systems, the above-described system allows new jurisdictional rules to be implemented by merely loading additional data and rules. Time-consuming programming is not required to effect changes in tax rules. Also, there is little or no necessity on the part of the calling system to be aware of such changes.","Process of Determining Taxes",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 4","b":["402","217","217","214","212","216"]},{"@attributes":{"id":"p-0052","num":"0051"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"63pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":[{},"Tax",{},{},{}]},{"entry":["Country","Regime","Tax","Tax Type","Tax Jurisdiction"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["United","US Sales","State Sales","Sales Tax","California (State)"]},{"entry":["States","Tax","Tax"]},{"entry":[{},"US Sales","Local Sales","Sales Tax","San Jose (City)"]},{"entry":[{},"Tax","Tax"]},{"entry":["Canada","Canadian","GST","GST","Canada\/Ontario"]},{"entry":[{},"Goods",{},{},"(Country\/Province)"]},{"entry":[{},"and"]},{"entry":[{},"Services"]},{"entry":[{},"Tax"]},{"entry":[{},"Canadian","HST","GST","Canada\/New"]},{"entry":[{},"Goods",{},{},"Brunswick"]},{"entry":[{},"and",{},{},"(Country\/Province)"]},{"entry":[{},"Services"]},{"entry":[{},"Tax"]},{"entry":[{},"Canadian","PST","Sales Tax","Ontario (Province)"]},{"entry":[{},"Sales Tax"]},{"entry":["Singapore","Singapore","GST","GST","Singapore (Country)"]},{"entry":[{},"Goods"]},{"entry":[{},"and"]},{"entry":[{},"Services"]},{"entry":[{},"Tax"]},{"entry":["India","India","Excise Tax","Excise Tax","India (Country)"]},{"entry":[{},"Excise"]},{"entry":[{},"and"]},{"entry":[{},"Customs"]},{"entry":[{},"India","Additional","Excise Tax","India (Country)"]},{"entry":[{},"Excise","Excise Tax"]},{"entry":[{},"and"]},{"entry":[{},"Customs"]},{"entry":[{},"India","Customs","CUSTOMS","India (port of entry)"]},{"entry":[{},"Excise","Duty"]},{"entry":[{},"and"]},{"entry":[{},"Customs"]},{"entry":["Brazil","RICMS -","ICMS","ICMS","Sao Paulo (City)"]},{"entry":[{},"Brazil"]},{"entry":[{},"ICMS"]},{"entry":[{},"Rules"]},{"entry":[{},"RICMS -","ICMS-ST","ICMS","Sao Paulo (City)"]},{"entry":[{},"Brazil"]},{"entry":[{},"ICMS"]},{"entry":[{},"Rules"]},{"entry":[{},"RIPI -","IPI","IPI","Brazil (Country)"]},{"entry":[{},"Brazil IPI"]},{"entry":[{},"Rules"]},{"entry":["Portugal","Portugal","Domestic","VAT","Portugal (Country)"]},{"entry":[{},"VAT","VAT"]},{"entry":["Portugal","Portugal","Inter-EU","VAT","Portugal (Country)"]},{"entry":[{},"VAT","VAT"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}},"For example, a jurisdiction may include a country, a state within a country, a county within a state, or a city within a county. A tax regime may include a set of different taxes that fall under a specific jurisdictional authority. Finally, a tax may include any tax involved in a business transaction, such as a sales tax or a value added tax. For example, Table 1 illustrates different tax regimes, tax jurisdictions and taxes for different countries. Table 1, reading from left to right, goes from the highest level to the most detailed level of granularity. There may be one or more tax regimes in a country; each regime can consist of one or more taxes. Each tax is of a given tax type, which is a high level classification such as Sales Tax, Excise Tax and Mineral Oil Tax; and each tax can be levied in one or more tax jurisdictions (for one or more geographical elements).","TDM  determines the taxable basis for each applicable tax, using the knowledge base  and, optionally, the tax rules navigator  and tax rule base  (step ). TDM  then determines the tax status for each applicable tax, using the knowledge base  and, optionally, the tax rules navigator  and tax rule base  (step ). TDM  then determines the tax rate, using the knowledge base  and, optionally, the tax rules navigator  and tax rule base  (step ).","This enables TDM  to subsequently calculate the tax involved in the transaction (step ). Tax repository manager  then records the calculated tax (step ). The system can be utilized to account for the tax involved in the transaction by communicating the tax information, possibly along with other non-tax-related transactional information, to an accounting system (see  in ) (step ) capable of interpreting the same and creating the relevant accounting entries.","Note that the above-described system is modularized so that the means of acquiring the data in the knowledge base  and\/or the rule base  do not affect the means of fulfilling a service request.","In other words, gathering, receiving and storing data in the knowledge base  and\/or the rule base  can be accomplished by using a computer readable format, either procured from a third party (provider) or obtained from other sources, such as a tax authority (responsible for administering one or more taxes in the local jurisdiction). It can also be entered manually by a tax professional\/end user.","The process of servicing requests from a subscriber can involve performing all determinations and calculations using the system (). This entails determining all the local jurisdictions for which tax may need to be determined. For each local jurisdiction, the system determines all the applicable taxes () of the local jurisdiction. For each applicable tax of the local jurisdiction, the system determines the taxable basis (), which may in turn need the tax (amount) of another applicable tax. The system also determines the tax status (), tax rate () and tax amount (), which may in turn need the tax amount of another applicable tax to calculate, for instance, its own taxable basis.","Referring to , the system also collects and organizes () the tax details for all local jurisdictions, which may involve performing computations pertaining to balances due to\/from Tax Authorities, if necessary.","The system additionally records tax amounts (, ) and details for each applicable tax, if necessary.","The system then returns tax information (, ) in the requisite level of summarization, thereby servicing the request.","Alternatively, tax determination and calculation can be done utilizing services provided by a third party. This involves first determining all the local jurisdictions for which tax may need to be determined (). Next, for each local jurisdiction, the system determines, using the Open Subscription Model (), the identity of the third party to perform the determination and calculation for the local jurisdiction. The system then sends a service request to the third party with the necessary details for the local jurisdiction (-), and receives the tax details for the local jurisdiction from the third party.","The system also collects and organizes the tax details for all local jurisdictions (). This may involve performing computations pertaining to balances due to\/from Tax Authorities, if necessary.","The system additionally records tax amounts () and details for each applicable tax, if necessary, and returns tax information () in the requisite level of summarization, thereby servicing the request.","Note that the system may also perform tax determinations and calculations partially utilizing services provided by a third party.","Operations Performed by Tax Service",{"@attributes":{"id":"p-0066","num":"0065"},"figref":["FIG. 5","FIG. 5","FIG. 5","FIG. 5"],"b":["132","501","502","506"]},"The services provided by the system are the public face of the tax domain. Rather like an ATM machine, these services clearly announce what they will do. Moreover, clear instructions are provided on how to interact with tax service , and what to expect as an outcome.","To understand this diagram, consider an ATM as a system. Examples of actors are \u201cAccount Holder\u201d, \u201cMaintenance Person\u201d and \u201cCurrency Note Filler\u201d. External services are like the services that an \u201cAccount Holder\u201d (actor) can avail of at an ATM\u2014such as \u201cDeposit Cash\u201d, and \u201cWithdraw Cash\u201d. There may be different services available to other actors, such as\u201d, \u201cMaintenance Person\u201d and \u201cCurrency Note Filler\u201d. Internal Services are like \u201cDebit Account\u201d, and \u201cConfiscate Card\u201d which cannot be seen by an actor.","Within the system boundary, the system providing tax services is composed of a number of services, such as the Define Tax Content service . The arrows emanating from an actor and which have \u201cRequest\u201d alongside, are services which are \u201cexposed\u201d to the external world. Examples are manage tax accounts  and determine tax . Services such as record tax  are not allowed to be directly requested by an actor.","The services illustrated in  operate on a content repository  as well as a record repository . Content repository  includes knowledge base  and rule base . It is the primary source of tax information for tax services and includes knowledge about transaction-based taxes. A key interaction with content repository happens through the \u201cdefine tax content\u201d service , which is used to input data into content repository .","Record repository  stores information relating to tax events and tax status. It stores tax records along with any relevant changes to the tax records. Hence, it essentially contains the current, historical record of the results of interactions of the tax domain with the outside world. It also serves as a key source of information in: managing tax liabilities and assets with tax authorities; reporting taxpayer audit information on taxes collected or accrued; and in providing tax information for analysis and planning. A key interaction with record repository  happens through the \u201crecord tax\u201d service .","The \u201cdefine tax content\u201d service  provides methods to manage permanent definitions within content repository  for the tax domain. These methods can include adding, updating, disabling, purging, validating or listing data.","The \u201cdetermine tax\u201d service  uses information from both content repository  and record repository  to determine the applicable taxes; determine the tax status for a given tax; determine the tax rate for a tax status of a specific tax; calculate the tax amount given the tax rate. It is composed of a number of internal services (not shown in the diagram), which make use of rules in the rule base  as well as the information contained in knowledge base .","The \u201cmanage tax accounts\u201d service  provides a number of services to support administration, including the settlement of liabilities to a tax authority and recovery of amounts owed by a tax authority. The manage tax accounts service  may additionally maintain cumulative fiscal balances for a taxpayer and the current balances in tax authority specified registers.","The \u201crecord tax\u201d service  is used to maintain record repository . It is typically called by other services, such as determine tax service  and manage tax accounts service .","The \u201creport tax\u201d service  manages and responds to the various reporting needs that a tax domain management system may have to support. It generally extracts raw data from record repository  and makes it presentable to the outside world. Note that this raw data may be formatted into report form, or alternatively as a data set that is capable of being reformatted by a reporting tool.",{"@attributes":{"id":"p-0077","num":"0076"},"figref":["FIG. 6","FIG. 6"],"b":"132"},"Note that diagram is split vertically into \u201cswim lanes\u201d. The vertical bars between the swim lanes represent separation between actors. The passage of time is represented by vertical arrows from top to bottom. For example, a request to Determine Tax  happens after the request to Manage Tax Content  is completed. Horizontal lines represent a point in time. Activities represented by arrows flowing down to a horizontal line must be completed before any activity below the horizontal line can begin.","Each service can be accessed via an application programming interface (API), or alternatively through a message from an external requester. Once a request is passed to a service, the service is responsible for determining the relevant actions needed to fulfill the request.","A first set of activities are \u201coccasional activities\u201d that mainly involve setup and content management. These are actions that do not occur on a regular basis, and include actions such as purging, or requiring a service to upload revised or new tax information.","A second set of activities are \u201ctransaction activities\u201d that occur more frequently and may require one or more services. These activities may include actions such as determining tax and managing tax account information.","A third set of activities are \u201cperiodic activities\u201d that are performed routinely at periodic intervals. These activities can include preparing tax declarations and remittances to tax authorities for a given tax period.","The foregoing descriptions of embodiments of the present invention have been presented for purposes of illustration and description only. They are not intended to be exhaustive or to limit the present invention to the forms disclosed. Accordingly, many modifications and variations will be apparent to practitioners skilled in the art. Additionally, the above disclosure is not intended to limit the present invention. The scope of the present invention is defined by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE FIGURES","p":[{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
