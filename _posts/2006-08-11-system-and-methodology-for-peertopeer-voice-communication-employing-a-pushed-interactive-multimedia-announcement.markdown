---
title: System and methodology for peer-to-peer voice communication employing a pushed interactive multimedia announcement
abstract: A system, method and corresponding software application installed on communication devices of the system for communicating a media-based call alert from a calling-party device to a called-party device prior to establishing the voice call therebetween. The media-based call alert is played on the called-party device prior to (or concurrent with) the establishment of the voice call. Preferably, the communication of the media-based call alert is realized as part of a service that is available to subscribers of the service.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07421067&OS=07421067&RS=07421067
owner: Emotive Communications, Inc.
number: 07421067
owner_city: Woodland Hills
owner_country: US
publication_date: 20060811
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application claims the benefit of U. S. Provisional application No. 60\/745,134 filed on Apr. 19, 2006.","1. Field of the Invention","This invention relates broadly to communication systems. More particularly, this invention relates to communications systems that provide for peer-to-peer voice communication.","2. State of the Art","In modern communication systems, when a call is made to a called party, a ring tone is played at the called party's telephony device in order to announce the incoming call to the called party. In the case of a traditional wire line telephone, the ring tone is played in response to a 90-volt 20-hertz AC wave generated by the central office switch that is connected to the called party's telephony device. In the case of a wireless communication system, the ring tone is typically generated on the called party's mobile handset in response to a call connection request communicated thereto from a switching center or the like. Mobile handsets typically also allow for a vibrating alert to announce incoming calls. The vibrating alert is especially useful in noisy environments, in places where ring tone noise would be disturbing, and for the hearing impaired.","Newer wireless mobile handsets allow the user to select the ring tone from a collection of ring tones, and also to select a ring tone for each user listed in the handset's phone book. When the handset receives a call connection request from a user listed in the handset's phone book, the ring tone associated with the user is played to announce the incoming call. Newer mobile handsets can also use short pieces of music as ring tones, and the sale of these ring tones has become a major sector of the mobile music industry.","Early mobile handsets had the ability to play only monophonic ring tones, which are short tunes played with simple tones. These early phones also had the ability to have ring tones programmed into them using an internal ring tone composer. Various formats were developed to enable ring tones to be sent via SMS text, for example RTTTL encoding.","Modern mobile handsets are now able to play more complex polyphonic ring tones. Polyphonic means that multiple notes can be played at the same time using instrument sounds such as guitar, drums, electronic piano, etc. Polyphonic ring tones are typically pieces of recorded music or other sounds contained in a conventional audio file (e.g., AAC, MP3, WMA, WAV, QCP, or AMR format) and played by suitable software applications that execute on the mobile handset. Polyphonic ring tones can also be based upon midi sequences. Many polyphonic capable handsets are able to play standard midi files, others play sp-midi files. The sp-midi file encodes a scalable polyphonic ring tone. The number of available channels that can be concurrently played on the handset dictates the notes played by the handset in rendering the sp-midi file. More particularly, an older polyphonic capable handset may play 4 notes at once, while a newer handset may be capable of rendering 128 notes at once.","Ring tones have proven a popular method of personalizing mobile handsets. In response to this demand, wireless carriers and other content providers have developed businesses that generate significant revenue resulting from the distribution of ring tones to mobile handset users. However, personalization of the ring tones played on mobile handset is controlled exclusively by the user of the handset. This limits the amount of personalization that can be achieved as part of the voice call process and thus limits potential revenues that could be derived by additional personalization of the voice call process.","U.S. Patent Publication No. 2006\/0026277 to Sutcliffe describes a system and method for \u201cpushing\u201d a caller-defined multimedia announcement or alert within the call set-up process. It is possible for the called party to hear or see the caller-defined multimedia announcement before answering the incoming call. The caller-defined multimedia content is transferred during call set-up and replaces standard ring tones on the recipient's mobile handset. This process allows for additional personalization of the voice call process. However, U.S. Patent Publication No. 2006\/0026277 fails to address many important issues that arise in this process, including but not limited to user control and management of the multimedia announcement communication process on a system wide basis and on a user by user basis, and access control over the multimedia content transferred to the recipient's mobile handset.","Thus, there remains a need in the art for methods, systems and services based thereon for peer-to-peer voice call communication that allow for additional personalization of the voice call process while also providing user control and management of the multimedia announcement communication process on a system wide basis and on a user by user basis, and access control over the multimedia content transferred to the recipient's mobile handset.","It is therefore an object of the invention to provide a system and methodology for peer-to-peer voice communication that allows for additional personalization of the voice call process.","It is another object of the invention to provide a system and methodology for peer-to-peer voice communication that allows for potential revenue growth from such additional personalization of the voice call process.","It is a further object of the invention to provide such a system and methodology that enriches the voice call process with customizable ring tones.","In accord with these objects, which will be discussed in detail below, a method, system and software application installed on communication devices of the system provides for communicating a media-based call alert from a calling-party device to a called-party device prior to establishing the voice call therebetween. The media-based call alert is played on the called-party device prior to (or concurrent with) the establishment of the voice call. Preferably, the communication of the media-based call alert is realized as part of a service that is available to subscribers of the service.","According to one embodiment of the invention, a query server is used to maintain presence data and permissions data for users of the service. The presence data provides an indication of the availability of users on a user-by-user basis and is dynamically updated. The permissions data is used to selectively initiate (or not initiate) communication of the media-based call alert and is dynamically updated by users to provide users with the ability to selectively control the reception of such media-based call alerts on a global basis as well as on a user-by-user basis.","According to another embodiment of the invention, the media content of the media-based call alert is protected by digital rights management (DRM) information to allow for controlled access and distribution of such media content as desired by content providers and users, when appropriate.","Additional objects and advantages of the invention will become apparent to those skilled in the art upon reference to the detailed description taken in conjunction with the provided figures.","Turning now to , there is shown a schematic diagram of an exemplary communication system  that enables a ringtone or other media-based announcement or alert (referred to below as a \u201cmedia-based call alert\u201d) to be communicated from a calling-subscriber terminal device  to a called-subscriber terminal device  over one or more communication networks . The media-based call alert is communicated to the called-subscriber terminal device  prior to establishing the voice call between the calling-subscriber terminal device  and the called-subscriber terminal device , in a manner which can vary dependent upon the equipment and communication protocols of the communication network(s)  and the subscriber terminal devices. In many instances, such call establishment involves provisioning the communication network(s)  to establish communication channels over the communication network(s)  that allow for duplex communication between the subscriber terminal devices. The media-based call alert is played on the called-subscriber terminal device  prior to (or concurrent with) the establishment of the voice call between the subscriber terminal devices. The communication of the media-based call alert is realized as part of a service that is available to subscribers of the service. The voice call between subscriber terminal devices ,  can be carried over a suitable telephony connection (e.g., a wireless telephony connection and\/or a \u201cvoice over IP\u201d data connection). In addition, the voice call between subscriber terminal devices ,  can be supplemented with ancillary data communication (e.g., video data for a video call, data exchange for whiteboarding, file sharing or other collaborative features).","The subscriber terminals ,  can be any of a number of communication devices including cellular handset devices, personal digital assistants, personal computers, networked kiosks, VOIP phone, traditional phone connected to a VOIP gateway, and the like.  illustrates, in block diagram form, the architecture of an exemplary embodiment of the subscriber terminals, including a central processor unit  that is interfaced to memory  by interface logic . The memory , which is typically realized by persistent memory (such as one or more ROM memory modules and\/or one or more flash memory modules) as well as non-persistent memory (such as one or more DRAM modules), stores an operating system and core applications  as well as an application , which is referred to below as the \u201cmedia-based call alert application\u201d. The central processor unit  also interfaces to a display device  (e.g., a liquid crystal display panel), a keypad or keyboard  and\/or other user input device (e.g., a touch screen disposed on the display device ), a microphone  for voice input, and a speaker  for voice\/audio output. The central processor unit  interfaces to a communication subsystem  that provides for bidirectional communication with the communication network .","A query server  interfaces to the network .  illustrates, in block diagram form, the architecture of an exemplary embodiment of the query server , including a central processor unit  that is interfaced to memory  by interface logic . The memory , which is typically realized by persistent memory (such as one or more ROM memory modules and\/or one or more flash memory modules) as well as non-persistent memory (such as one or more DRAM modules), stores an operating system  as well as application logic . The operating system  and application logic  are typically stored in a storage device, such as magnetic disk drive or disk array (not shown), and loaded into memory  as needed. The central processor unit  interfaces to a communication subsystem  that provides for bidirectional communication with the communication network .","The application logic  of the query server  maintains a database  that stores presence information which provides communication states associated with the subscribers of the service. Such communication states are selected from a variety of states that indicate the availability of the corresponding subscriber to receive communication as part of the service. For example, in the preferred embodiment, the presence information represents at least an \u201copt-in\u201d state (meaning that the subscriber is available for voice call communication initiated as part of the service) and an \u201copt-out\u201d state (meaning the subscriber is not available for voice call communication initiated as part of the service). A subscriber updates his\/her presence information by execution of the application  on a respective subscriber terminal device, which communicates with the query server  to update the presence information of the subscriber maintained therein.","In the preferred embodiment of the invention, the database  of the query server  also maintains a buddy list for each subscriber. The buddy list for a given subscriber is created by the given subscriber and identifies other subscribers of the service that are known by the given subscriber. The buddy list can possibly identify subscribers by their mobile identifier number, screen-name, email address, etc. The buddy list for a given subscriber also includes (or points to) permission data for each subscriber on the list. The permission data, which is set by the given subscriber, allows the given subscriber to selectively allow\/prohibit the receipt of media-based call alert communications originating from other subscribers in the buddy list. The buddy list for a given subscriber also includes (or points to) status data that provides an indication whether the other subscribers in the buddy list are allowing or prohibiting (or status unknown) the receipt of media-based call alert communications originating from given subscriber. Preferably, the buddy list for a given subscriber is created by execution of the application  on a respective subscriber terminal device by the given subscriber and uploaded to the query server  for remote storage therein. The buddy list can be downloaded to the application  for access by the given subscriber as needed.","In alternate embodiments, the presence information can encompass other communication services (e.g., instant messaging communication services, VOIP communication services, etc) and represent various degrees of availability of the subscriber (e.g., Unavailable, Available-Desktop, Available-Mobile, Busy, Idle(Away)). Moreover, presence information, buddy lists, permission data, or parts thereof can be maintained in the central registry (or possibly in a distributed registry) and updated by communication between the subscriber terminals ,  and the registry via a communication interface therebetween. In such embodiments, the presence information, buddy lists, permission data, or parts thereof maintained in the registry can be communicated to the query server  via a communication interface therebetween.","In the preferred embodiment, the communication network(s) , the operating system  of the subscriber terminal devices and the operating system  of the query server  provide support for the TCP\/IP networking protocol and the Session Initiation Protocol (SIP) in order set up communication sessions between either one of the subscriber terminal devices ,  and the query server  and communication sessions between the subscriber terminal devices , . Once set up, the communication sessions employ Real-Time Transport Protocol (RTP) packets as the carrier of the information itself. Support for SIP in the communications network  requires proxy and registrar network elements (not shown) as is well known. Support for SIP by the subscriber terminals is realized by a SIP\/TCPIP stack  included as part of the operating system as is well known. Support for SIP by the query server is realized by a SIP\/TCPIP stack  included as part of the operating system as is well known.","The application  executing on the subscriber terminals and the application logic  of the query server  include software-based functionality for communicating a media-based call alert from the calling-subscriber terminal device  to the called-subscriber terminal device  prior to establishing the voice call therebetween, and for playing the media-based call alert on the called-subscriber terminal device  prior to (or concurrent with) the establishment of such voice call. In the preferred embodiment, such software-based functionality is logically partitioned into a set of functions shown in  and described below in more detail. Note that for simplicity of description, the functionality of the application  for originating calls (i.e., calling-subscriber functionality) and for receiving calls (i.e., called-subscriber functionality) is shown and described separately with respect to the calling-subscriber terminal  and the called-subscriber terminal device . However, because such subscriber terminal devices can be used as both calling- and called-subscriber terminal devices, the application logic  stored and executed on each respective subscriber terminal device includes the collection (e.g., union) of functions separately described herein.","Turning now to  in conjunction with , the Subscriber Terminal (ST) Set Status function  is executed on both the calling-subscriber terminal device  and the called-subscriber terminal device  during the media-based call alert communication process. It is responsible for updating the presence information (e.g., \u201copt-in\u201d\/\u201copt-out\u201d status) of the particular subscriber that is executing the application  on the respective subscriber terminal device. The updated presence information is carried as part of a \u201cSet Status\u201d command communicated from the respective subscriber terminal device to the query server . The Query Server (QS) Set Status function  on the query server  receives and parses the \u201cSet Status\u201d command, collects the updated presence information from the received \u201cSet Status\u201d command, and updates the presence information stored in the database  for the particular subscriber in accordance with the received updated presence information, if needed.","Preferably, the database  is initialized such that the presence information for the particular subscriber has a system-wide default value (e.g., \u201copt-out\u201d status), and the initial execution of the application  by the particular subscriber invokes the ST Set Status function  to set the presence information for the particular subscriber in the database  to a subscriber-modifiable default state (e.g., \u201copt-in\u201d). The presence information can then be updated by subscriber interaction with a graphical user interface presented to the particular subscriber, which again invokes the ST Set Status function  to update the presence information for the particular subscriber in the database .","The ST Get Status function  may be executed on both the calling-subscriber terminal device  and the called-subscriber terminal device  during the media-based call alert communication process. The ST Get Status function  cooperates with QS Get Status Function  on the query server  to synchronize the buddy list and associated permissions data and status data of the particular subscriber that is executing the application  on the respective subscriber terminal device. The updated buddy list and associated permission data is carried as part of a \u201cGet Status\u201d command communicated from the respective subscriber terminal device to the query server , which updates the database  accordingly. Updates to the status data associated with the buddy list are carried as part of an \u201cUpdate Status\u201d command communicated from the query server  to the respective subscriber terminal device, which updates the status data stored on the respective subscriber terminal device as needed. In the preferred embodiment, the ST Get Status function  is carried out by both the calling-subscriber terminal device and the called-subscriber terminal device on a predefined, periodic basis (e.g., every 300 seconds) so as to maintain the query server  with up-to-date permissions and status data for subscribers of the service. The period between the ST Get Status function calls can be configurable on each subscriber terminal device and\/or by a parameter setting on the query server .","In alternate embodiments, presence information, buddy lists, permission data, or parts thereof can be maintained in the central registry (or possibly in a distributed registry) and updated by communication between the subscriber terminals ,  and the registry via a communication interface therebetween. In such embodiments, the presence information, buddy lists, permission data, or parts thereof maintained in the registry can be communicated to the query server  via a communication interface therebetween.","A calling subscriber initiates the communication of a media-based call alert to a called subscriber, which is typically accomplished by user interaction with a graphical user interface displayed by the application  on the display device  of the calling-subscriber terminal device . In response thereto, the Originating Party (OP) Initiate Media Package Transfer function  is executed on the calling-subscriber terminal device . It communicates an \u201cInitiate Media Package Transfer\u201d command to the query server . The \u201cInitiate Media Package Transfer\u201d command identifies the called subscriber typically by the user name (e.g., screen name or email address assigned to the called subscriber). In response thereto, the QS Initiate Media Package Transfer function  executing on the query server  accesses the database  to retrieve the presence information for the called subscriber. The query server  can also retrieve the permissions associated with the buddy list of the called subscriber. In distributed architectures, the query server  may be required to communicate with a central registry (or possibly a distributed registry) in order to retrieve the appropriate presence information, buddy list, permissions data or parts thereof for the called subscriber.","The query server  then checks whether the permissions data of the called subscriber indicates that the media-based call alert communication originating from the calling subscriber should be \u201callowed\u201d or \u201cblocked.\u201d The serviceability status (i.e., \u201cauthorized\u201d or \u201cnot-authorized\u201d) for the media-based call alert communication is returned to the calling-subscriber terminal device . Such serviceability status is based upon the presence information and\/or permission data for the called subscriber (e.g., the serviceability status is \u201cauthorized\u201d in the event that the presence information for the called-subscriber indicates the \u201copt-in\u201d state and the permissions data for the called subscriber indicate that media-based call alert communication originating from the called subscriber should be \u201callowed\u201d; or the serviceability status is \u201cnot-authorized\u201d in the event that the presence information for the called-subscriber indicates the \u201copt-out\u201d state or the permissions data for the called subscriber indicate that media-based call alert communication originating from the called subscriber should be \u201cblocked\u201d). The OP Initiate Media Package Transfer function  determines if the returned status indicates that the called subscriber is \u201cavailable\u201d, and if so initiates the OP Transfer Media Package function  as described below. The transition from the OP Initiate Media Package Transfer function  to the OP Transfer Media Package function  is designated by arrow . If the returned status indicates that the called subscriber is \u201cnot available\u201d, the OP Initiate Media Package Transfer function  can display such status to the calling subscriber on the display device  and\/or possibly raise other alerts on the calling-subscriber terminal device , and then end the processing of the media-based call alert communication to the called subscriber.","Note that in response to the \u201cInitiate Media Package Transfer\u201d command, the QS Initiate Media Transfer function  may initiate an Accounting Function (not shown) that performs the following tasks: (i) creating a transaction\/call record for reporting purposes, and\/or (ii) validating that the calling subscriber and the called subscriber can be correctly billed for the media-based call alert communication of the present invention, if necessary.","The OP Transfer Media function  is executed on the calling-subscriber terminal device . It communicates a \u201cTransfer Media Request\u201d command to the called-subscriber terminal device . The \u201cTransfer Media Request\u201d command preferably includes the following: (i) a file name and possibly corresponding file type of one or more media files that make up the media-based call alert, (ii) the size of these media file(s), and (iii) digital rights management (DRM) information for the media file(s). Such DRM information preferably includes:\n\n","The RP Transfer Media Package function  executing on the called-subscriber terminal device  processes the \u201cTransfer Media Request\u201d command to determine if the media file(s) identified therein can be received and processed by the called-subscriber terminal device , and returns the \u201cAck Transfer Media Request\u201d command to the calling-subscriber terminal device . The \u201cAck Transfer Media Request\u201d command preferably includes the following: (i) a preferred format for the media file(s), (ii) available memory on the called-subscriber terminal device , and (iii) acknowledgement of ability to comply with the DRM restrictions imposed on the media file(s).","Upon receipt of the \u201cAck Transfer Media Request\u201d command, the OP Transfer Media Package function  executing on the calling-subscriber terminal device  validates the information supplied therein for compliance. Such validation preferably confirms that the called-subscriber terminal device  can accept and consume the media file(s) that make up the media-based call alert as intended and in the format provided by the calling-subscriber terminal device . If such validation is successful, the OP Transfer Media Package function  initiates communication of the \u201cSend Media Packet\u201d command to the called-subscriber terminal device . The \u201cSend Media Packet\u201d command preferably includes the following: (i) the media file(s) that make-up the media-based call alert in encrypted form, (ii) meta-data relevant to these media file(s) (e.g., name, creator(s), performer(s) etc.), and (iii) DRM information for the media file(s) as described above. Upon receipt of the \u201cSend Media Packet\u201d command, the RP Transfer Media Package function  initiates communication of a corresponding acknowledge command that is returned back to the calling-subscriber terminal device . Upon receipt of this acknowledge command, the OP Transfer Media Package function  is placed into a wait state pending receipt of the \u201cMedia Received\u201d command to be issued by the RP Transfer Media Package function  as described below.","In the event that the validation of the \u201cAck Transfer Media Request\u201d command fails, the OP Transfer Media Package function  can display such status to the calling subscriber on the display device  and\/or possibly raise other alerts on the calling-subscriber terminal device , and then end the processing of the media-based call alert communication to the called subscriber.","If the processing of \u201cAck Transfer Media Request\u201d command indicates that the called-subscriber terminal device  requires the media-based caller alert in a different format, the OP Transfer Media Package function  can initiate the \u201cSend Media Packet To\u201d command to the query server . The \u201cSend Media Packet To\u201d command preferably includes the following information: (i) the address of the called-subscriber terminal device , (ii) optionally, details about the media file(s) that make up the media-based call alert, (iii) optionally, the media file(s), (iii) the required format for the media file(s) as requested by the called subscriber in the \u201cAck Transfer Media Request\u201d command, and (iv) DRM information for the media file(s) as described above. Upon successful receipt of the \u201cSend Media Packet To\u201d command, QS Transfer Media Package function  executing on the query server  sends a corresponding acknowledge command back to the calling-subscriber terminal device . Upon receipt of this acknowledge command, the OP Transfer Media Package function  is placed into a wait state pending receipt of the \u201cMedia Received\u201d command to be issued by the RP Transfer Media Package function  as described below.","The QS Transfer Media Package function  operates to either (i) transcode the media file(s) received from the calling-subscriber terminal device  into the suitable format as identified by the calling-subscriber device  in the \u201cSend Media Packet To\u201d command or (ii) acquire a new copy of the media file(s) in the suitable format. The new copy can be acquired from a media store maintained by the query server  or a media store operably coupled thereto. Upon generating (or acquiring) the media file(s) in the suitable format, the QS Transfer Media Package function  initiates the communication of the \u201cSend Media Packet\u201d command (which is described above in detail) to the called subscriber terminal device . Upon receipt of the \u201cSend Media Packet\u201d command, the RP Transfer Media Package function  initiates communication of a corresponding acknowledge command that is returned back to the query server , thereby indicating successful delivery of the \u201cSend Media Packet\u201d command to the called-subscriber terminal device .","After issuing the acknowledge command in response to successful delivery of a \u201cSend Media Command\u201d communicated by the calling-subscriber terminal device  or by the query server , the RP Transfer Media Package function  issues a \u201cGet Media Entitlement\u201d command to the query server . The QS Media File Entitlement Processing function  executing on the query server  receives the \u201cGet Media Entitlement\u201d command and obtains the necessary decryption key(s) and DRM license(s) associated with the media file(s) of the media-based call alert. Such DRM licenses can be stored locally on the query server  or obtained from another server operably coupled thereto. Upon acquisition of the necessary decryption key(s) and DRM license(s), the QS Media File Entitlement Processing function  forwards the necessary decryption key(s) and DRM license(s) to the called-subscriber terminal device  as part of a \u201cSend Media Entitlement\u201d command communicated thereto. Alternatively, the Media File Entitlement Processing function  can be carried out as part of the called-subscriber terminal device  to interact with the appropriate servers to acquire the necessary decryption key(s) and DRM license(s) for the media file(s) that make up the media-based call alert.","The RP Transfer Media Package function  receives the \u201cSend Media Entitlement\u201d command and the necessary decryption key(s) and DRM license(s) included therein. Upon receiving the \u201cSend Media Entitlement\u201d command, the RP Transfer Media Package function  initiates communication of a \u201cMedia Received\u201d command to the calling-subscriber terminal device . As described above, the OP Transfer Media Package function  is placed into a wait state for receipt of the \u201cMedia Received\u201d command. Upon receipt of this \u201cMedia Received\u201d command, the OP Transfer Media Package function  initiates communication of a corresponding acknowledge command that is returned back to the called-subscriber terminal device  and then initiates the OP Voice Call Setup function . The transition from the OP Transfer Media Package function  to the OP Voice Call Setup function  is designated by arrow .","Upon receiving the acknowledge signal that is returned from the calling-subscriber terminal device  indicating receipt of the \u201cMedia Received\u201d command, the RP Transfer Media Package function  initiates the RP Voice Call Setup function . The transition from the RP Transfer Media Package function  to the RP Voice Call Setup function  is designated by arrow .","The OP Voice Call Setup function  cooperates with the ST Voice Call Processing logic  executing on the calling-subscriber terminal device  in order to provision a voice call to the called-subscriber terminal device  using available network resources. Such functionality may tear down the SIP session between the calling and called-subscriber terminal devices ,  before provisioning the voice call. Such provisioning is preferably realized by passing a phone number (or other identifier) of the called-subscriber terminal device  to the ST Voice Call Processing logic  via an application programming interface. In the preferred embodiment, the ST Voice Call Processing logic  is realized as part of the operating system  of the subscriber terminal and embodies the necessary functionality in provisioning the voice call between the calling subscriber terminal  and the called subscriber terminal device . The voice call can be accomplished over a cellular network, a data packet network (e.g., VOIP call over the Internet), or other suitable communication network.","The RP Voice Call Setup function  cooperates with the ST Voice Call Processing logic  executing on the called-subscriber terminal device  such that called-subscriber terminal device  is placed in \u201cincoming call wait mode\u201d. In this mode, the processing of all incoming voice calls is diverted to the RP Voice Call Setup function . More particularly, the ST Voice Call Processing Logic  passes caller identifier information for each incoming call to the RP Voice Call Setup Function . The RP Voice Call Setup function  validates this caller identifier information against caller identifier information that it has stored for the calling subscriber. If the caller identifier information for the incoming call does not match the stored caller identifier information, the RP Voice Call Setup function  releases the call such that the call is handled by the ST Voice Call Processing Logic . If the caller identifier information for the incoming call does match the stored caller identifier information, the RP Voice Call Setup function  bypasses the traditional incoming call processing and invokes the appropriate DRM client on the called subscriber terminal  to decrypt the media file(s) that make up the media-based call alert, which passes the media file(s) in decrypted form to the appropriate media player (which is typically stored as part of the core applications and operating system  of the called-subscriber terminal device ). In this manner, the media player executing on the called-subscriber terminal device  plays the media file(s) that make up the media-based call alert as received by the RP Transfer Media Package function as described above. The DRM client cooperates with the media player to conform to the consumption restrictions (e.g., execute and not save) imposed on the media file(s) as dictated by the DRM information associated therewith. An example of such processing is illustrated in the flow chart of .","The RP Voice Call Setup function  also invokes a graphical user interface that allows the called subscriber to select one of various actions with respect to the incoming call (Answer, Decline, Forward, etc). User selection of a given action causes the RP Voice Call Setup function  to cooperate with the ST Voice Call Processing logic  to carry out the desired action (e.g., answer the call, decline the answering of the call, forward the call to another number). In this manner, the media file(s) that make up the media-based call alert is played on the called-subscriber terminal device  prior to (or concurrent with) the establishment of the voice call between the subscriber terminal devices , .","In the preferred embodiment, the application  may be discovered and installed onto a subscriber terminal device in one of four ways:\n\n","In the preferred embodiment, there are two different types of media-based call alert communications: \u201cMy Ring\u201d-type pushed media communications and \u201cRecord Ringer\u201d-type pushed media communications. The \u201cMy Ring\u201d-type pushed media communication employs a media file whose content (e.g., audio or video content) is available from a generally-available public source. The \u201cRecord Ringer\u201d-type push media communication employs a media file whose content (e.g., audio or video content) is generated or available from a private source. Once registered, a user will immediately be able to select any of the audio, graphical or video files on his or her device for use as media content in originating \u201cMy Ring\u201d-type pushed media communications. An exemplary display window for registering and subscribing to a media-based call alert communication service as described herein is shown in .","As described above the application  executing on a subscriber terminal device maintains a buddy list, which allows the subscriber to see presence information associated with other known subscribers, to manage who can make media calls to the subscriber (e.g., selectively block or enable media-based call alert communications from other known subscribers), arid to see whether or not the subscriber is blocked or enabled from making media-based call alert communications to other known subscribers. The buddy list can also provide an indication if other known users (who may or may not be subscribers) have a compatible device for receiving media-based call alert communications.","An exemplary graphical display of a buddy list is shown in . Each buddy in the list is displayed in the first column and can be a subscriber or a non-subscriber to the service blames (or other identifiers) can be added, renamed or removed from the buddy list. Preferably, the buddy list is initially populated with all names in a phone book or other data structure maintained by the operating system and core applications  of the device. Note that the buddy list may be stored off-device by the service provider.","The second column of the buddy list of  provides the presence information for each buddy. More particularly, if the user has an \u201copt-in\u201d status, \u201cYes\u201d is displayed for that buddy in the second column of the buddy list. If the user has an \u201copt-out\u201d status, \u201cNo\u201d is displayed for that buddy in the second column of the buddy list.","The third column of the buddy list of  allows the subscriber to selectively enable or block the receipt of media-based call alert communications for each respective buddy on the list. When a subscriber selects \u201cYes\u201d for the third column entry for a given buddy, media-based call alert communications from the given buddy are received. Conversely, when a subscriber selects \u201cNo\u201d for the third column entry for the given buddy media-based call alert communications from the given buddy are blocked.","The fourth column of the buddy list of  provides indications whether or not the subscriber is blocked or enabled from making media-based call alert communication to buddies on the list. A \u201cRed (No)\u201d indicator in the fourth column entry corresponding to a given buddy represents that the subscriber is blocked from making media-based call alert communications to the given buddy. A \u201cGreen\/(Yes)\u201d indicator in the fourth column entry corresponding to a given buddy represents that the subscriber is allowed to make media-based call alert communications to the given buddy. An \u201cUnknown\/<Check?>\u201d indicator in the fourth column entry corresponding to a given buddy represents that it is unknown whether the subscriber is allowed to make media-based call alert communications to the given buddy. Note that the subscriber can selecting <Check?>, which initiates a media-based call alert communication to the Buddy with the intention of both technically probing the capability of that Buddy's device and requesting permission to make media-based call alert communications to that Buddy's device.","Note that the \u201cAdvanced\u201d option is only available to subscribers and allows for more detailed control over permissions, such as what kinds of media calls the subscriber will accept from Buddies (e.g., Accept All (default), Decline All Record Rings, Decline All My Rings). The subscriber can also set usage rights for his or her outgoing media-based call alert communications. For example, for \u201cRecord Ring\u201d-type pushed media communication, such permissions can selectively allow\/block the buddy from saving the recorded media content and\/or can selectively allow\/block the buddy from forwarding the recorded media content.","In the preferred embodiment, the application  provides a graphical user interface that makes the initiation of media-based call alert communications as easy as making a regular phone call. The first step is to click on a name\/number to call from the Phone Book or the Buddy List, which results in an extended option menu being displayed that allows for user selection of a \u201cNormal Call\u201d <default> and a media-based call alert communication (e.g., \u201cMy Ring\u201d-type or \u201cRecord Ringer\u201d-type pushed media communication).","If the \u201cNormal Call\u201d selection is made, a regular call is made to the user\/buddy's phone will ring with the ringtone played in accordance with the voice call processing functionality of the user's\/buddy's phone.","If the \u201cMy Ring\u201d-type selection is made, the user interacts with a graphical user interface to select media content (audio file or video file) from the media store on the subscriber's device. Preferably, the graphical user interface presents the user with selection options including \u201cSame\u201d, \u201cNew\u201d (default) or \u201cSearch\u201d. The result of each selection is as follows:","The \u201cNew\u201d display pops up a browser set to the media directory(ies) on the subscriber's device and with which the subscriber may browse to any particular file in his or her media directory; with the selection of each title an option to \u201cPreview\u201d and \u201cUse\u201d will appear. If the desired media content cannot be found, the browser will offer the option to \u201cSearch\u201d a content storefront for other media content that can be purchased and used. As soon as \u201cUse\u201d is selected for media content, the selected media content is integrated as part of the \u201cMy-Ring\u201d-type pushed media communication as described above.","The \u201cSame\u201d display selects the media content that the calling subscriber had selected before for this particular Buddy; if no prior selection was made, the \u201cSame\u201d selection will operate the same as \u201cNew\u201d. The selected media content is integrated as part of the \u201cMy-Ring\u201d-type pushed media communications as described above.","The \u201cSearch\u201d display pops up an integrated content storefront offering a list of the \u201cTop 10 Choices\u201d (displayed from local data while the application connects in the background to a fully searchable list of titles). The 11\u201d choice on the \u201cTop 10 Choices\u201d list is \u201cTop Categories\u201d the selection of which offers five top sub-categories of media content, including \u201cTop Songs\u201d, \u201cTop Seasonal\u201d, \u201cTop Greetings\u201d, \u201cTop Film\/TV\u201d and \u201cTop Humor\u201d sub-categories each of which displays ten titles; with each title is the option to \u201cPreview\u201d, the purchase price and \u201cBuy\u201d. As soon as media content is purchased (selects \u201cBuy\u201d), \u201cBuy for Me\u201d or \u201cBuy for Buddy (Gift)\u201d options pop up. If \u201cBuy for Me\u201d is selected, the title is downloaded to the subscriber's device, and the selected media content is integrated as part of the \u201cMy-Ring\u201d-type pushed media communications as described above. From then on, until a different title is selected for making media-based call alert communications to that Buddy, that title will appear as the \u201cSame\u201d title selection wherein the subscriber calls the same Buddy or number. If \u201cBuy for Buddy (Gift)\u201d is selected the selected media content is integrated as part of the \u201cMy-Ring\u201d-type pushed media communications as described above. Note that during and after the particular media-based call alert communication, the called subscriber is preferably offered the option to \u201cSave (Gift)\u201d the content title.","If the \u201cRecord Ringer\u201d-type selection is made, the graphical user interface is updated to prompt the user to select a recording mode (e.g., \u201cRecord Audio\u201d mode, \u201cRecord Video\u201d mode, possibly \u201cRecord Streaming Audio\u201d mode, and possibly \u201cRecord Streaming Video\u201d mode). Each selection will open up a recorder screen and begin recording the selected source while displaying {Stop} and {Quit} buttons.","In the \u201cRecord Audio\u201d mode, recording commences immediately using the device's microphone, displaying two new options on the calling subscriber's device\u2014{Stop} and {Quit}. An additional option button will allow the subscriber to take a picture, or select one from the photo library on his or her device, for display on the called subscriber's device while the audio recording plays. In the \u201cRecord Video\u201d mode, recording commences immediately using the device's video camera, displaying two new options oil the calling subscriber's device {Stop} and {Quit}. Recordings are limited to a maximum period of time, e.g., 15 seconds. After the recording is complete, the application  will offer the option to \u201cReview\u201d or \u201cUse\u201d (\u201cUse\u201d is the default). \u201cReview\u201d will offer you the option to \u201cRecord Again\u201d or \u201cUse\u201d (\u201cUse\u201d is the default). When you select \u201cUse\u201d, the recorded media content is integrated as part of the \u201cRecord Ringer\u201d-type pushed media communications as described above.","In the preferred embodiment, any telephony device can experience an incoming call mediated by the media-based call alert application as described above, provided that the device has compatible equipment, the application has been downloaded and installed, and media-based call alert communications have not been blocked by the calling subscriber. Once a media-based call alert communication has been initiated from the calling subscriber's side, the calling subscriber will listen on the line until the called subscriber has made one of several possible responses to the media-based call alert communication based on the called subscriber's equipment capabilities and preferences. On the calling subscriber, all incoming media-based call alerts will play once through and will then loop until the called subscriber responds (e.g., Accept, Decline) or the call is transferred to voicemail. The media-based call alerts are programmed to play (immediately or after being paused or snoozed) on the called subscriber's device only once and self-delete, except in the case where a \u201cRecord Ringer\u201d-type announcement is saved for later review.","On the called subscriber side, while the incoming media-based call alert is playing, the graphical user interface presented to the called subscriber will preferably display the following options for response: {Accept}, {Hold}, {Snooze} {Decline} and {Block}. Each of these options triggers a further action, as follows.","The {Accept} option accepts the voice call (e.g., answers the phone) and pops up {Disconnect}, {Forward} and {Block} options for the in-call phase.","The {Hold} option pauses the playback of the incoming media-based call alert and pops up {Unhold\/Resume} {Accept}, {Disconnect} and {Block} on the display window of the called-subscriber terminal device  and preferably notifies the calling subscriber on his or her display that the call request is on hold.","The {Snooze} option declines the call and the connection and connects the calling subscriber and the called subscriber five, ten or fifteen minutes later (as determined by the setting on the called subscriber's application) and notifies the calling subscriber on his or her display device that the call will be reconnected in five, ten or fifteen minutes.","The {Decline} option declines the call with no explanation to the calling subscriber.","The {Block} option declines the call and updates the permissions on the called subscriber's device such that the calling subscriber is blocked from making media-based call alert communications to the called subscriber. The called subscriber can re-enable the calling subscriber's permission at any time by management of the buddy list as described above.","In certain situations {Other} may appear as an additional option to offer the user additional responses, including transmitting the other party one of a selection of \u201ccanned\u201d textual messages (e.g., \u201cCan't Talk Now\u201d) that will appear on the display screen of the recipient's devices.","At the termination of each media-based call alert mediated call, the called subscriber is preferably presented with a graphical user interface that enables the called subscriber to buy, save and\/or forward the media content communicated thereto as the media-based call alert. More particularly, the graphical user interface preferably displays a {Save\/Buy} option, a {Save\/Gift} option, a {Save} option, and a {Forward} option.","The {Save\/Buy} option allows the called subscriber to buy and save the media content presented by the calling subscriber for the called subscriber to keep and use in accordance with the DRM restriction associated therewith. In this way so-called viral or pass-along marketing of media content is built into the service where applicable, and calling subscribers may be rewarded for content sales resulting from called subscriber purchases with loyalty points that can be redeemed against future media call purchases or services.","The {Save\/Gift} option allows the called subscriber to save the media content presented by the calling subscriber for the called subscriber to keep and use in accordance with the DRM restriction associated therewith in the event that it has been gifted by the calling subscriber (or possibly gifted by a marketing service that gifts media content to select subscribers).","The {Save} option applies to \u201cRecorded-Ring\u201d-type pushed media communications and allows the called subscriber to save the media content of the media-based call alert in the event that the calling subscriber has set \u201cSave\u201d rights for this called subscriber to allow for saving the calling subscriber's recordings.","The {Forward} option applies to \u201cRecorded-Ring\u201d-type pushed media communications and allows the called subscriber to forward the media content of the media-based call alert depending on the intent of the calling subscriber and the associated DRM rights and permissions programmed into the underlying media content.","On the calling subscriber side, once the media-based call alert communication has been initiated all status and progress information generated and\/or captured by the query server  may be communicated to the calling-subscriber terminal device  where a user interface on the display screen of that device can indicate applicable status or progress information and optionally provide instances of response or interactivity to the status or progress information.","For example, in a case wherein the called subscriber {Decline} the attempted media-based call alert communication, the calling subscriber may be offered a pop-up button on the user Interface to allow him or her to save the media announcement on the network for later re-use or to retry the media-based call alert communication with a {Urgent} notice.","In another example, in a case wherein the called subscriber places the incoming media-based call alert communication on {Hold}, the calling subscriber may be offered a pop-up button on the user interface to indicate to him or her that the called subscriber has the media-based call alert communication on a temporary hold, or to allow the calling subscriber to change media-based call alert communication to a {Snooze} connection attempt that will be automatically re-attempted by the query server  at a later time (e.g., 2, 5, 10 or 15 minutes later).","In yet another example, in a case wherein the called subscriber has set up a particular image, sound or video clip in a \u201cringback tone\u201d type of configuration, the calling subscriber may be displayed that particular image, sound or video clip on the user interface while the calling subscriber is waiting for the called subscriber to respond to the incoming media-based call alert communication. The communication of the \u2018ringback tone\u2019 between the called subscriber terminal and the calling subscriber terminal may also carry data that represents one or more interactive messages or elements (e.g., \u201cis this call important? (Yes\/No)\u201d) that is displayed on the user interface of the calling subscriber terminal. Such data can be communicated from the called subscriber terminal to the calling subscriber terminal at the option of the called subscriber via user interaction in conjunction with the incoming media-based call alert communication (or possibly by setting parameters associated with incoming media-based call alert communications for all users and\/or for individual subscribers on the buddy list of the called subscriber). The calling subscriber can respond to the interactive message (\u201cYes\u201d\u2014the call is important) and the response communicated from the calling subscriber terminal to the called subscriber terminal, where it is displayed to the called subscriber. The called subscriber can then use the calling subscriber's response in deciding the called subscriber's response (e.g., {Accept}, {Hold}, {Snooze} {Decline} and {Block}) for the incoming media-based call alert communication as described above.","In other example, other types of progress reporting and interactive options for the calling subscriber may be offered that are peculiar to the kind of media-based call alert communication that is made.","Turning now to , there is shown a functional block diagram of an exemplary communication system that includes a variety of different access networks (mobile, fixed and wireless access networks). Mobile subscriber terminals A communicate over wireless communication links to a mobile access network A. The mobile access network A includes a plurality of base stations  (one shown) that are operably coupled to radio network controllers  (one shown). The radio network controllers  are responsible for radio resource allocation to the mobile subscriber terminals A, and for frequency administration and handover between base stations . The radio network controller function may be physically located within a base station  itself.","Each base station  includes at least one antenna and a group of one or more radio transmitter-receiver pairs. Each transmitter-receiver pair operates on a pair of radio frequencies to create a communication channel: one frequency to transmit radio signals to a mobile subscriber terminal A and the other frequency to receive radio signals from the mobile subscriber terminal A. Each base station  defines a cell of the mobile access network A, which is a predetermined volume of space radially arranged around its antenna. In order to prevent the radio signals transmitted from one base station from interfering with radio signals transmitted from an adjacent base station, the transmitter frequencies for adjacent base stations are selected to be different so that there is sufficient frequency separation between adjacent transmitter frequencies. In order to reuse the same frequencies, the cellular telecommunication industry has developed a small but finite number of transmitter frequencies and allocation patterns that ensure that adjacent cell sites do not operate on the same frequency. When a mobile subscriber terminal A initiates a call connection, control signals transmitted from the local base station  cause the frequency agile transponder in the mobile subscriber terminal A to operate at the frequency of operation designated for that particular base station. As the mobile subscriber terminal A moves from one cell to another, the call connection is handed off to the successive base station and the frequency agile transponder in the mobile subscriber terminal A adjusts its frequency of operation to correspond to the frequency of operation of the base station  located in the cell in which the mobile subscriber terminal A is presently operational.","Numerous technologies, such as EDGE technology and W-CDMA technology, can be used to implement the mobile access network A. EDGE technology provides enhanced GPRS services, which can be used for any packet switched applications such as an Internet connection. High-speed data applications such as video services and other multimedia services benefit from the increased data capacity provided by the enhanced GPRS services. W-CDMA technology employs wideband code division multiplexing technology to provide high speed packet switched data rates that is suitable for high-speed data applications such as video services and other multimedia services.","Fixed Subscriber terminals B communicate over communication links to a fixed access network B (e.g., a cable modem coupled to a hybrid fiber coax data network) as is well known. Fixed Subscriber terminals C communicate over communication links to another fixed access network C (e.g., a DSL modem coupled to a DSL access network) as is well known. Fixed or Mobile Subscriber terminals D communicate over communication links to a wireless access network D (e.g., a Wi-Fi or Wi-Max access network) as is well known. The mobile subscriber terminals A can be any of a number of communication devices including cellular handset devices, personal digital assistants, laptop computers, personal computers, networked kiosks, and the like. The subscriber terminals B, C, D can be any of a number of communication devices including personal computers, laptop computers, personal digital assistants, networked kiosks, VOIP phones, traditional phones connected to VOIP gateways, and the like.","The subscriber terminals A, B, C, D connect to the respective access networks using various methods based upon the standard Internet Protocol (IP). The access networks A, B, C, D interface to a core network  that provides the signaling functions that are necessary to establish voice over IP calls to and from the subscriber terminals. The core network  also preferably interfaces to the Public Switched Telephone Network  to allow for voice over IP calls to be transformed into a form suitable for communication over the PSTN.","The communication system of  supports peer-to-peer voice over IP call communications which employ push-type communication of a media-based announcement from a calling-subscriber terminal device to a called-subscriber terminal device in accordance with the present invention.","The core network  provides call session control functionality  and user database functionality . The call session control functionality  sets up\/modifies and tears down sessions between the subscriber terminal devices. The user database functionality  maintains information relating to subscribers, such as authentication and authorization information, presence information, location information, billing information. The call session control functionality  preferably supports the standardized SIP protocol and can be realized by a variety of network architectures (e.g., SIP Network, IMS Network) based thereon. A SIP Network includes a set of network elements (e.g., Registrar, Location Server(s), Proxy Server(s), Redirect Server(s)) for supporting the SIP protocol. An IMS Network is based upon the SIP protocol and embodies a set of network functions (including P-CSCF, I-CSSF, S-SCSF, BGCF, SGW, MGCF, MGW) for setting up, modifying and tearing down sessions between the subscriber terminal devices. It also includes a Home Subscriber Server (HSS), which is a master database containing subscriber-related information, such as authentication and authorization information, presence information, location information, billing information.","The mobile subscriber terminals A embody the media-based call alert communication application  as described herein and shown in the exemplary architecture of . Similarly, the subscriber terminals B, C, D embody the media-based call alert communication application  as described herein and shown in the exemplary architecture of . A query server  interfaces to the core network . The query server  embodies the functionality of the query server  as described herein. The query server  exchanges subscriber-related information (e.g., subscriber presence information) with the user database functionality  of the core network  preferably by a standardized mechanism (e.g., OSA\/ParlayX services). In alternative embodiments, the query server  can be part of the functionality of the core network  and\/or can interface to (or possibly be part of) one of the access networks A, B, C, D. The functionality of the query server  can also possibly be distributed amongst multiple network elements that are interfaced to (or part of) different parts of the communication system. The subscriber terminals A, B, C, D communicate to one another and to the query server  over sessions (preferably SIP sessions) that carry information via TCPIP packets communicated therebetween in order to carry out the media-based call alert communication processing described herein.","There have been described and illustrated herein several embodiments of a system and method for communication of media-based call alert from a calling-subscriber device to a called-subscriber device over one or more communication networks. The media-based call alert is communicated to the called-subscriber device prior to establishing the voice call between the calling-subscriber device and the called-subscriber device. The media-based call alert is played on the called-subscriber device prior to (or concurrent with) the establishment of the voice call therebetween. While particular embodiments of the invention have been described, it is not intended that the invention be limited thereto, as it is intended that the invention be as broad in scope as the art will allow and that the specification be read likewise. Thus, while particular communication technologies, system architectures, device architectures and message formats have been disclosed, it will be appreciated that other current and future communication technologies, system architectures, device architectures and message formats can be used as well to carry out the media-based call alert communication processing of the present invention as described herein. For example, the management of subscriber-related information as well as call session control can be carried out by a protocol different from the SIP protocol (or those networks based thereon). Such a protocol might be standardized protocol or possibly proprietary depending upon the application. In another example, the subscriber's presence information maintained by the query server of the service can possibly represent a series of \u201copt-in\u201d states, for example, a \u201cvoice only opt-in\u201d state (meaning that the subscriber is available only for voice call communication initiated as part of the service and not for data communication initiated as part of the service), a \u201cdata only opt-in\u201d state (meaning that the subscriber is available only for data communication initiated as part of the service and not for voice call communication initiated as part of the service for only voice call communication initiated as part of the service, opt-in for only data), or other states. Such presence states are updatable by subscribers and maintained by the query server. Such presence states are used to selectively initiate (or not initiate) communication to subscribers of the service on a per call basis. Moreover, the service may be open to registered users (or possibly other user classes) and thus not require subscription. In addition, while particular graphical user interfaces have been disclosed, it will be understood that other graphical user interfaces can be used. It will therefore be appreciated by those skilled in the art that yet other modifications could be made to the provided invention without deviating from its spirit and scope as claimed."],"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIGS. 6A and 6B","FIG. 5"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 7","FIG. 2"]}]},"DETDESC":[{},{}]}
