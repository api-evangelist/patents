---
title: Hybrid transcoding for mobile media sharing
abstract: A source file representing media such as video, photographs or graphics, is uploaded and stored. During a pre-transcoding process, the source file is converted to a predetermined number of different formats, and the converted files are stored. When the source file is requested, the best file format for the requesting device is determined. If the best file format is one of the pre-transcoded formats, a pre-transcoded file is provided to fulfill the request. If the best file format is not one of the pre-transcoded formats, then the source file is transcoded to generate an on-demand transcoded file in the best file format and the on-demand transcoded file is provided to fulfill the request.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09037674&OS=09037674&RS=09037674
owner: Thwapr, Inc.
number: 09037674
owner_city: New York
owner_country: US
publication_date: 20100921
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application claims priority from U.S. provisional patent application Ser. No. 61\/277,195, filed Sep. 22, 2009, and having common inventors herewith. The disclosure of U.S. provisional patent application Ser. No. 61\/277,195 is hereby incorporated by reference herein in its entirety.","The present invention relates to sharing content media for mobile devices, and more particularly, is directed to transcoding of content in both pre-transcoded formats and on-demand transcoded formats with selection of a particular format based on the capabilities of each mobile device.","Mobile communications has exploded in popularity, and is expected to continue to grow. Manufacturers continue to innovate in the types and capabilities of mobile devices. Content providers wish to make their content available to the growing community of mobile device users. However, due to the staggering quantity and variety of device physical and functional capabilities, it is extremely difficult to easily provide content to the community. At present, there are over 6,000 different devices used by the community. Additionally, desktop computer users should also be included in the community.","Accordingly, there is a need for an intermediate system that attends to the details of how to present content depending on the capabilities of a receiving device, particularly when the receiving device is a mobile device.","In accordance with the present invention, there is provided a method of processing information, comprising receiving and storing, at a computer, content from a content provider. The computer generates a plurality of pre-transcoded files based on the content, having respectively different formats. The computer receives a request to send the content to a user, and determines a format based on characteristics of the user. When the determined format is one of the pre-transcoded formats, the computer delivers the pre-transcoded file having the determined format from the computer to the user to fulfill the request. When the determined format is not one of the pre-transcoded formats, the computer transcodes the stored content to the determined format to generate an on-demand transcoded file, and delivers the on-demand transcoded file having the determined format from the computer to the user to fulfill the request.","It is not intended that the invention be summarized here in its entirety. Rather, further features, aspects and advantages of the invention are set forth in or are apparent from the following description and drawings.","As used herein, \u201ckeyword\u201d has one of two meanings, depending on context. A \u201cdescriptive keyword\u201d describes the nature of content, and typically appears in metadata for a content file. A \u201cmobile keyword\u201d is part of an SMS message, typically to identify to which channel a user wants to subscribe.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 1A","FIG. 1A"],"b":["10","20","25","10","20"]},"Community antenna television (CATV) system  is coupled to data network . CATV system  includes a head-end with suitable general purpose computers, and a cable plant between the head-end and subscriber locations (homes or offices) having both downstream and upstream capability.","In one subscriber location, there is set-top box  including cable modem  and a general purpose computer sufficient to provide access to data network , such as AppleTV, GoogleTV, or other browser software or application software. Set-top box  communicates with television  and with keyboard . In some cases, keyboard  is a game console or mobile phone, and communication between set-top box  and keyboard  is via an infra-red channel or other wireless or wireline channel.","At another subscriber location, there is cable modem  coupled personal computer (PC) . PC  has a general purpose processor, display, keyboard, mouse (not shown), storage and possibly a printer. PC  has an operating system and an Internet browser, both conventional, and available from a variety of vendors.","Wireless controller (WiFi)  is coupled to data network  and to PC  and phone . WiFi  provides wireless communication channels to PC  and to phone . PC  and phone  each have a general purpose processor, storage, display capability and an input interface, and execute software including an operating system and an Internet browser.","Mobile switching center (MSC)  is coupled to data network  and telephone network , and antennas  and , which provide cellular communication channels to tablet computer , phone , PC  and phone . Communication protocols supported by MSC  include text messaging, SMS, MMS, GPRS and other protocols. The 3GPP format enables concurrent video and voice delivery to one device.","Telephone  is a conventional voiceband telephone coupled to telephone network .","PC  is a conventional personal computer having an operating system and browser, using a dial-up connection provided by telephone network  to ISP .","Media sharing system (MSS)  is a general purpose computer or system of general purpose computers with suitable processing, software, communications and storage capability to operate according to the present invention. The functions of MSS  are discussed in detail below. MSS  is coupled to data network  and telephone network . MSS  includes an internal database of device characteristics.",{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 1B","FIG. 1B","FIG. 1B"],"b":["70","71","71","71","10","72","71","71","20","72","73","73","73","73","74","74","74","74","74","74","74","72","70","70"]},"B2B2C server , media server , ad server , short link server , phone number server , and look-up table (LUT) server  are each a general purpose computer with suitable processing, software, communications and storage capability to operate according to the present invention, and are each coupled to data network .","B2B2C server  is an instance of a content syndication server that automatically sends (uploads) content to MSS .","Media server  enables uploading and viewing of media including photographs, video and\/or graphics. An instance of media server  is www.photobucket.com. Another instance of media server  is www.watchmojo.com.","Short link server  converts a full data network address, corresponding to a uniform resource identifier when data network  is the Internet, into a shorter address. An instance of short link server  is the bit.ly service available on the Internet. Another instance of short link server  is www.tinyurl.com.","Phone number server  provides information about phone numbers. An instance of phone number server  is www.netnumber.com.","LUT server  uses a device identifier to provide characteristics regarding the device. Instances of LUT server  include www.deviceatlas.com, wurfl.sourceforge.net, and www.ripcode.com.","Generally, users upload content to MSS , then send the content to other users. Each user is associated with one or more devices that can communicate via data network , telephone network , or both.","The present invention categorizes devices into one of four tiers. However, this invention is not limited to the particular tier configuration discussed below, that is, more or less tiers may be used. A device represented by a device profile and is assigned to a tier based on its characteristics. The tier of a device determines how MSS  interacts with the device.","More specifically, device characteristics include: type of communication channel, physical device, and software available on the device. The interaction consequences include: notification, how MSS  notifies a device of media available to it; file delivery, how MSS  delivers the media to the device; file communication technique, the communication technique used by MSS  to support the chosen file delivery method; and adaptive rendering, how MSS  presents information tailored to the physical and functional display capabilities available on the device.","In this embodiment, device functionality decreases by tier.","Tier  has devices capable of the broadest range of functions.","Tier  communication channel characteristics include high bandwidth cellular data, 4G long term evolution (LTE), and WiMax.","Tier  devices include mobile phones with data plans operating on a cellular network. Some mobile phones can operate on either cellular or WiFi, these are Tier  devices when operating on a cellular network, and Tier  devices when operating on a WiFi network. Tier  devices may have keypad, keyboard or touch screen input interface(s).","Tier  software includes an Internet browser, the ability to execute JavaScript and to stream or download video files, and a graphical user interface (GUI) that may be limited due to the physical dimensions of the device.","Tier  notification methods include short message service (SMS), email, and \u201cpush\u201d to a native application on the phone, such as available with iPhone applications. When notification occurs, it may use one or more notification methods. For instance, providing SMS and email notification ensures that a phone that can operate on both cellular and WiFi services is promptly notified, regardless of which service is being used. When notification occurs, it uses a technique appropriate for the receiving device. For instance, if a receiving device has downloaded a native application, corresponding to client software, such as from MSS , then only push notifications are sent to that device because the native application is best configured to coordinate push notices.","Tier  file delivery methods include streaming, downloading, and a multi-media messaging service (MMS) message with embedded content. A user who has actively registered can explicitly choose a default file delivery method for each of their devices.","Tier  file communication techniques include downloading, progressive downloading, regular streaming and adaptive streaming.","Tier  adaptive rendering adapts to the device's interaction ability and the size of the physical display.","Phone  is an example of a Tier  device.","Tier  communication channel characteristics include wireline data transmission via either cable, digital subscriber line (DSL), optical fiber, integrated service digital network (ISDN) or telephone modem; or WiFi. Generally, a Tier  communication channel is assumed to not have latency or bandwidth concerns. Typically, SMS and MMS are not available; if they are available, only selected functionality is available.","Tier  devices include a PC communicating via a wireline or WiFi channel; a personal digital assistant (PDA), a tablet computer, a mobile phone communicating via a WiFi channel; an Internet TV device; and a so-called next generation landline device having Internet protocol connectivity, such as a Verizon Hub or AT&T Open Tablet, both using hardware from Open Peak, and operational on DSL or fiber optic channels.","Tier  software includes an Internet browser, a full GUI, and the ability to execute JavaScript and to stream or download video.","Tier  notification methods include email and a \u201cpush\u201d application indicated by an icon or pop-up window from native application software indicating that a message has arrived. The native software provides one or more icons as part of a GUI to advise the user of the status of incoming messages. For example, one icon may indicate total incoming notices of new media, while another icon may indicate total incoming notices of only a specific type of media, such as photographs, messages from contacts or messages from originators within a predetermined distance from the receiving device.","Tier  file delivery methods include streaming and downloading from a website using hypertext transfer protocol (http).","Tier  file communication techniques include downloading, streaming and adaptive streaming.","Tier  adaptive rendering assumes a full-sized GUI.","Set-top box , PC , phone , tablet computer , PC  and PC  are examples of Tier  devices.","Tier  communication channel characteristics include low bandwidth cellular data.","Tier  devices include mobile devices lacking a data plan.","Tier  software provides local functions only, that is, there is no web browser.","Tier  notification methods include SMS.","Tier  file delivery methods include MMS.","Tier  file communication techniques include downloading.","Tier  adaptive rendering does not occur, since Tier  devices lack browsers.","Phone  is an example of a Tier  device.","Tier  communication channel characteristics include voiceband channels, provided via circuit-switched telephone network , or voice over Internet protocol (VOIP) provided via data network .","Tier  devices include conventional wireline telephones and cellular telephones without SMS.","Tier  software does not exist.","Tier  notification methods include a call in the voiceband providing a message to call another phone number to listen to an audio file, and the ringing of a call that includes audio content.","Tier  file delivery methods include real-time content delivery.","Tier  file communication techniques include a voiceband channel.","Tier  adaptive rendering does not exist.","Phone  is an example of a Tier  device.","Progressive registration will now be discussed.","A conventional consumer-oriented service requires a user to subscribe to gain access to the functionality of the service. In contrast, the present invention recognizes that there are many people who do not want to actively subscribe, and yet their friends and co-workers would like to share information with them. Furthermore, even someone willing to subscribe prefers the subscription process to be as fast as possible. Accordingly, the present invention provides for passive registration, in which MSS  gathers information about a user but does not require the user to provide any information, and for active registration, in which a user provides certain information to gain access to certain functions, such as the abilities to upload, subscribe and view previously received content.","Further, the present invention generally asks for information only when it is about to be used to provide functionality to the user. Of course, a user may voluntarily provide additional information whenever the user chooses to do so. It is helpful to consider a continuum, starting from a completely unknown user to a passively registered user to an actively registered user ending with a fully registered user. Information that is gathered, as needed, during passive registration includes:\n\n","There are two main ways for a user to receive content from MSS . One way is for the content to be sent to that user by another user, on a case by case basis. The other way is for the user to subscribe.","Subscription will now be discussed.","Objects that can be subscribed to include a single file and a channel.","A single file is a particular content file that has been uploaded; subscribing enables the subscriber to receive updates to the file and\/or comments left by others regarding the file. An Internet web page is provided for the file enabling all comments to be viewed, see .","A channel is a construct created by a user. The creator of the channel can upload multiple files, at various times, and subscribers will receive each uploaded file when it is added to the channel. The creator can enable commenting, and subscribers can subscribe to comments. A comment can be text, graphic information, photographic information, audio or video.\n\n",{"@attributes":{"id":"p-0095","num":"0125"},"figref":"FIG. 2"},"At step , the uploading device, such as phone  or PC , actively registers at MSS  by providing an email address. For example, the uploading device may be associated with a corporation named Brand X. Via advertising, Brand X encourages people to subscribe to its media channel. As an example, assume Brand X produces trendy advertising videos, and allows people to subscribe to its advertising video channel.","At step , MSS  receives and stores the registration information for the uploading device.","At step , the downloading device, such as phone  (when it is not the uploading device) or phone  or PC , sends a channel subscription message to MSS . If the message is sent via email, it may be of the form \u201cBrandXsubscribe@MSS70.com\u201d; if sent via SMS, it may be of the form \u201cstart\u201d addressed to \u201c757575 BrandX advids\u201d. The action of providing an address, that is, the originating address of the subscribe request, serves as active registration for the downloading device, if it is not already registered at MSS .","At step , MSS  receives the subscription request, and replies with an acknowledgement message and\/or welcome video.","At step , the uploading device uploads a media file, which may be video, photographic, audio, or other such as Powerpoint or Flash video. As used herein, video includes video and accompany audio, and\/or video without audio. The uploading device also may provide metadata data for the file, such as a title, author name, creation date (as opposed to uploading date that is automatically provided by MSS ), short description, descriptive keywords, mobile keywords, channel that the file should be associated with, for example, \u201cadvids\u201d or \u201cdraftvids\u201d, latitude and longitude of the uploading device that the file was uploaded from (if applicable), the data network address (uniform resource identifier) for a file uploaded from a third party website (if applicable), and so on.","At step , MSS  receives the source file and metadata, stores the source file and metadata, pre-transcodes the source file and stores pre-transcoded versions of the source file. Transcoding is discussed in detail below with regard to , B and .","At step , MSS  checks to see whether the just-transcoded file has been subscribed to by anyone.","If the file has been subscribed to, individually or as part of a channel, at step , MSS  sends a notice message to the subscribers that content is available. For each subscriber, the notice message is sent in accordance with the subscriber's preferences, if any. At step , the subscriber receives the notice message, and continues at step . The form of the notice message depends on the tier of the receiving device. When the receiving device is Tier  or Tier , the notice is an email or a \u201cpush\u201d notification to an application executing on the device. When the receiving device is Tier , the notice is an MMS message with embedded content. When the receiving device is Tier , the notice is a phone call, with the ringing serving as notice.","For devices that support multiple notification methods, the notice method may be directly determined by a user in their registration preferences, or may be indirectly determined. An instance of indirect determination is downloading a native application; this results in a default push notification, to avoid confusing the user with a link that instantiates a web browser.","At step , the uploading device provides, to MSS , identification information for parties with whom the content is to be shared. The identification information is a phone number or an email address or both.","At step , MSS  receives the recipient identifying information, and, similar to step , sends one or more notices to the identified recipients that content is available. More specifically, the notice is sent to the receiving device associated with the identifying information.","At step , the receiving device requests the media. For a Tier  or Tier  device, the request is a message sent to MSS , or clicking on a hyperlink provided in the notice message. For a Tier  device, the request is opening the MMS message. For a Tier  device, the request is picking up the telephone (going to an \u201coff hook\u201d condition).","If the receiving device is a Tier  or Tier  device as yet unregistered with MSS , then receiving the request message from the device is an instance of collecting passive registration information, namely, the phone number or email address that originates the request.","At step , MSS  delivers the media to the requesting device. To do this, MSS  may need to collect information about the characteristics of the requesting device, as discussed below with regarding to the downloading process.","At step , the receiving device optionally provides a comment relating to the file to MSS . At step , MSS  stores the comment in association with the file. Although not shown in , it will be appreciated that MSS  also checks whether there are any subscribers that the comment should be delivered to, similar to step , and if so, similar to step , delivers notice of the comment.","At step , the receiving device optionally subscribes to the file, assuming that the file was forwarded to the receiver. This is an instance of active registration. At step , MSS  receives and stores the subscription information.","Although not shown in , the receiving device may optionally share the content with other parties by providing identification information for the parties, similar to step .",{"@attributes":{"id":"p-0113","num":"0143"},"figref":"FIG. 3","b":"70"},"Path A is from phone  via MSC  and data network  to MSS . Phone  is a Tier 1 device, and uploads a file by sending it as an attachment to a conventional data network email, such as a simple message transfer protocol (SMTP) email. Typically, the software for phone  allows its user to select from sending SMTP email, an SMS message or an MMS message.","At MSS , verification of the uploaded content can be by one or more techniques, including (a) the email is sent to \u201cme@MSS70.com\u201d from an email address that is registered with MSS , if there is no match to a registered email address, MSS  asks the uploader if he or she wishes to add the email address to his or her registration information, an example of progressive registration; note that an account may have several email addresses registered for uploading privileges; (b) the email is sent to \u201cusername.pin@MSS70. com\u201d, where \u201cpin\u201d is a multi-digit personal identification number, and the originating email address matches the email address associated with the pin; (c) the email is sent to \u201cme@MSS70. com\u201d, MSS  responds by sending a confirming email to the registered email address, and if confirmed, decides that the upload is valid for the account.","Instead of the originating device being phone , it could be PC , a Tier  device. Media creation software for personal computers is widely available, such as Apple iMovie, Apple FinalCutPro or Adobe Photoshop for photographs. The uploaded media may have been downloaded to PC  from a web site.","Path B is from set-top box  via CATV system  and data network  to MSS . Set-top box  is a Tier  device, and uploads a file by going to a web site, such as provided by media server , and selecting a file for sharing.","An additional upload path, not shown in , is for a device, such as a PC or mobile phone, having a locally stored file, to go to a web site interface provided by MSS , and to upload the file using http protocol via data network .","Path C is from phone  via MSC  and data network  to MSS . Phone  is a Tier 3 device, and uploads by sending an MMS message with embedded content. Phone  has software to record and edit video. It is noted that such phone software usually enables the user to upload the video to a local PC, and then, as a Tier  device, the PC could upload via data network  to MSS .","Path D is from phone  via telephone network  to MSS . Phone  is a Tier  device, and uploads by making a phone call to MSS  and recording content such as spoken words into a storage facility at MSS . Path Z is from B2B2C server  via data network  to MSS . B2B2C server  is a content syndication server that is part of a workflow system for a corporate user of MSS . The corporate user generates new content videos from time to time, along with metadata for the content videos, and uses the media really simple syndication (mRSS) protocol to send the content videos and accompanying metadata to a bulk uploading application programming interface (API) executing at MSS , so that the uploaded videos will be pre-transcoded (see  step ).","The metadata provided from B2B2C server  indicates when the content videos should be made available for downloading, such as immediately, at a predetermined time or at a to-be-determined time, on which channel(s), and optionally controls downloading by recipient characteristics, e.g., only recipients in a particular geographic area.","A corporate user may conduct a promotion or contest, and make the bulk uploaded videos available in association with the promotion or contest.","These uploading paths are exemplary, not exhaustive.","Uploading files to MSS  can occur using any standard protocol, including but not limited to web based distributed authoring and versioning (WebDAV), simple object access protocol (SOAP), file transfer protocol (FTP), trivial FTP (TFTP), secure FTP (SFTP), or news network transfer protocol (NNTP).","As used herein and in the claims, \u201cuploading\u201d includes file by file uploading in response to direct action from a human, and\/or bulk uploading from a content syndication system operated by a third party.",{"@attributes":{"id":"p-0126","num":"0156"},"figref":"FIG. 4"},"When a registered user signs in at a website provided by MSS , MSS  sends a web page to the user having media tab . When the user clicks on media tab , the display shown in  is prepared by MSS  and sent to the user.","Area  shows the folders and sub-folders created by the user. A user can designate a folder or sub-folder as a channel, and others can then subscribe to new material, updates to existing material and\/or comments on material in that channel. As indicated by boldface in , the user has selected \u201cAll\u201d as the media to display, so that all media uploaded by, or received by, the user will be displayed.","When a user actively registers at MSS , all of the material previously shared to that user is available to that user. That is, MSS  keeps track of media sent to passively registered users. This is another example of progressive registration.","Area  provides options for sorting the media, here, by date, number of plays, geographic location or length. As indicated in boldface, the user has selected \u201cplays\u201d. In one embodiment, the number of plays means how often the media has been played across the entire community of users of MSS ; in another, the number of plays means how often the media has been played by this user. In some embodiments, a user can adjust their registration information so that number of plays is computed based on the number of views by the user and all of the contacts that the user has registered with MSS .","Each media file corresponds to a row in the central part of the display of .","Element  is a thumbnail image corresponding to the media file. When the file is a video, play button  is super-imposed on the thumbnail; clicking play button  causes the media to play in the area of element .","Element  is the filename for the media file. Element  identifies how the media file was provided to MSS . The uploader-provided title for the media file, if any, is shown in some embodiments, along with an uploader-provided short description for the media file, if any, and uploader-provided descriptive keywords and mobile keywords, if any.","Elements - are function buttons that the user may click on.","Element  generates a large pop-up window for better viewing of the media. If the video is associated with a media player that can be embedded in other web pages, the media player is modified to have a send-to-phone capability built into the media player, with phone number input and send to phone action displayed as an overlay in the lower portion of the video window.","Element  generates a pop-up window enabling the user to designate recipients with whom the media file should be shared.","Element  identifies the number of comments left by other users for this file.","Element  provides a pop-up window, enabling other websites to link to this file.","Element  enables the user to delete this file.","Area  shows the device types and third party applications that recently viewed this file. In this case, a non-keypad phone icon , a flip-type phone icon  and a social network icon  are shown. Other device types (not shown) include a personal computer, a tablet computer and a set-top box for Internet TV. As used herein, a social network views a media file when a request for the media file originates from a website associated with the social network or a device application provided by the social network. An example of a social network is Facebook.","Clicking on one of the icons  or  or  generates a pop-up window showing (a) a window with a media player corresponding to how the media will appear on the device, (b) statistics relating to how many users and which users have accessed media on the device, with device data sortable by various criteria such as popularity, time last viewed and so on. This information may influence a user's decision on how to share the media.","Area  shows an image of the user who sent the media to the current user. If the user is a corporate user, then the image is usually the logo of the corporation.","Area  provides more descriptive information about the media file. In this case, the descriptive information includes when the media was provided to this user, how many times the media has been viewed summed across everyone who the sending user sent the media to, and the user name of the user who sent the media.",{"@attributes":{"id":"p-0144","num":"0174"},"figref":["FIG. 5","FIG. 4","FIG. 5"],"b":"70"},"Element  is the filename.","Element  is a thumbnail of the file. When the file is a video file, play button  is superimposed on the thumbnail.","Area  provides information about the file.","Subscribe button  enables a user viewing this file to subscribe to the file, when the uploader has designated the file as an object that can be subscribed to.","Area  provides instructions for how a user can subscribe to this file using a SMS message from their mobile phone, namely, by sending a message \u201c757575 Nike Becksoc START\u201d. This illustrates the hierarchical use of mobile keywords. Specifically, \u201c757575\u201d is the address for MSS, \u201cNike\u201d is the primary mobile keyword, and \u201cBecksoc\u201d is a secondary mobile keyword defined by the file uploader, Nike. In some cases, tertiary mobile keywords are also used.","Area  enables the viewer to select comments by type of comment, here video, non-video or all.","Area  enables the user to sort the comments by various criteria, here, how recently the comment was made, how many times the comment was shared, proximity of the comment maker to the user, and whether the comment maker was part of the user's contacts list.","The main area of  is a \u201cvideo board\u201d showing thumbnail images of comments left by various users. Typically, a user records himself or herself speaking a comment, so the thumbnails are headshots of the users. In one embodiment, only headshot type videos may be posted as comments, which is automatically enforced by MSS  looking for facial structures in the images. Another embodiment permits uploading of any video, graphic, photograph or text as a comment. Comments are uploaded from storage associated with an uploaded device, or media previously uploaded by the commenter may be designated by the commenter as a comment.","Element  is a thumbnail image of the comment, with play button  superimposed thereon. Share button  is associated with the comment file, so that the comment by itself can be shared. In some embodiments, sharing the comment file automatically also shares the file that the comment is related to.","Instead of a video file, a commenter can provide a text or graphic or photographic comment.","Element  is a text comment, and share button  is associated with the text comment, in similar manner as share button .","In some embodiments, underneath each comment there is descriptive text corresponding to the sort criteria in area .",{"@attributes":{"id":"p-0157","num":"0187"},"figref":["FIGS. 6A and 6B","FIG. 4","FIG. 6A"],"b":["401","70"]},"The display in  shows a world map with a pin for each media file sent to the user (pins with circular white heads), received by the user (pins with circular grey heads), or sent to the user from MSS  (pins with square grey heads), along with the location of the sender. In some embodiments, a user can restrict the display to only one type of pin.","The geographic information associated with a media file is referred to as its \u201cgeotag\u201d. A file can be geotagged according to one or more of the following techniques:\n\n","In one embodiment, clicking on a geographic area in  causes MSS  to generate a display such as shown in , that is, a more detailed view of the indicated geographic area.","Clicking on a pin generates a pop-up window containing a thumbnail image of the file and descriptive text for the file, that is meta-data for the file, and enabling download of that file to the current device.","The displays of  have controls, not shown, similar to areas  and , enabling selectivity in media display and sorting of the media by various criteria.","Additionally, clicking on the proximity filter cycles through the content files starting with the geotagged content file closest to the location of the file being viewed. In another embodiment, the proximity filter considers distance to the user instead of location of the file. The location of a user may be determined from the user's registration information, or from geographic information available from a device being used by the user, such as GPS coordinates or nearest WiFi station.",{"@attributes":{"id":"p-0164","num":"0197"},"figref":"FIG. 7A","b":["1","2","3"]},"At step , the uploading device captures a video file, either using local video file creation software, or by downloading the video file from a website or another device such as a video camera.","At step , the uploading device prepares the video for uploading. For a Tier  or Tier  device, the video file is attached to a SMTP email. For a Tier  device, the video file is embedded as content in an MMS message.","At step , the uploading device sends the prepared video to MSS .","At step , MSS  receives the email or MMS message with the video content.","At step , MSS  processes the received information to extract the video content and the meta-data, then stores the video content and the meta-data. In some cases, processing includes binary file processing to correctly extract the video content from the SMTP email. Meta-data includes textual information such as title, short description, descriptive keywords, author name, creation date and so on. In some embodiments, the meta-data includes a thumbnail image for the video file. Alternatively or additionally, the uploading user can provide meta-data for an uploaded file through a website interface (not shown).","At step , MSS  determines whether this file has already been transcoded, such as by comparing the filename with stored file names or by digital fingerprinting of the file. If so, MSS  stores a pointer to the already transcoded file, and proceeds to step .","At step , MSS  determines whether advertising, referred to as static advertising to distinguish from on-demand advertising discussed at  step , should be added. When the media is a video file, the advertisement may precede (pre-roll) or succeed (post-roll) or be inserted (mid-roll) into the video file, or be an overlay to the video, where the overlay can be static for a brief duration or can vary over the duration of the video. The advertising, if any, undergoes similar transcoding and delivery as the media file. The ad selection can occur based on characteristics of the media content and\/or media metadata and\/or uploading user. Static advertising cannot depend on recipient characteristics as the recipient is unknown when the static advertising is inserted. In contrast, on-demand advertising can be chosen based on recipient characteristics (see  step ).","At step , MSS  pre-transcodes the file, shown in detail in  for a video file and in  for a graphic file. In some embodiments, MSS  pre-processes the audio track of a video file to remove audio noise, increase the amplitude, adjust the frequency response, normalize the audio track and\/or apply dynamic range compression, resulting in improved audio quality.","At step , MSS  requests a short link from short link server . At step , short link server  provides a short link corresponding to the file. For example, \u201cwww.MSS70.com\/BrandX\/shoes\/viper_hightop_famous_athlete.flv\u201d might be shortened to \u201cbit.ly\/a1b2c3\u201d. For compact message formats such as SMS, it is more convenient to have a short filename even if the filename is apparently random alphanumeric characters, than a longer filename that is more memorable to a human.","At step , MSS  prepares a notice message to the uploading device that the content is ready for sharing, and may be accessed at the short link obtained for the transcoded file.","At step , MSS  sends the notice message to the uploading device. If the uploading device is a Tier  device, the notice message is sent as both an SMS message and a SMTP email; in some embodiments, only one type of notice message is sent. If the uploading user has set their registration preferences to a particular type of notice message, then the registration preferences are followed. If the uploading device is a Tier  device, then the notice message is sent as a SMTP email. If the uploading device is a Tier  device, then the notice message is sent as an SMS message.",{"@attributes":{"id":"p-0176","num":"0209"},"figref":"FIG. 7B","b":["4","305","70","320","70"]},"At step , the caller generates an audio signal, such as by speaking a message, singing \u201cHappy Birthday\u201d and so on. At step , MSS  receives the audio signal and stores it. The user may also provide meta-data via speech, and MSS  converts the speech to text and associates the text with the stored audio signal.","At step , MSS  determines whether static audio advertising should be added. The advertisement may precede (pre-roll) or succeed (post-roll) or be inserted (mid-roll) into the audio file. The advertising, if any, undergoes similar transcoding and delivery as the media file.","At step , MSS  pre-transcodes the audio signal, as shown in .","Steps  and  correspond to steps  and  of .","At step , MSS  checks whether the caller is still on the phone. If not, at step , MSS  places a call to the caller.","At step , MSS  automatically generates a spoken message, using stored text or text-to-speech synthesis, informing the caller that their file is ready and providing the short link for the file.","At step , the caller receives the notice that the file is ready for sharing.",{"@attributes":{"id":"p-0184","num":"0217"},"figref":"FIG. 8A"},"Processing begins at step , where MSS  begins two or more independent threads of processing, which can occur in parallel. The threads are generating one or more thumbnail images, transcoding to a predefined set of video formats and a predefined set of audio formats, and converting the file to adaptive streaming formats. In some embodiments, MSS  pre-processes the audio track of a video file to remove audio noise, increase the amplitude, adjust the frequency response, normalize the audio track and\/or apply dynamic range compression, resulting in improved audio quality. MSS  has profiles for pre-transcoded files including the x-y resolution of the file, and a set of devices that the file is appropriate for.","At step , MSS  checks whether the user provided a thumbnail image when the file was uploaded. If not, MSS  automatically selects an image, such an image located a predetermined number of seconds into the duration of the video, as the thumbnail for the file. In some embodiments, MSS  enables the user to choose one of the video frames as the thumbnail image, or designate an entirely unrelated image as the thumbnail for the file. In some embodiments, MSS  enables the user to choose different images for different sizes of thumbnails. Then, MSS  stores the thumbnail, and this processing thread is complete.","At step , MSS  converts the source file to a first predefined format, such as mp4 at 800 kbps.","At step , MSS  checks whether the file is to be converted into chapters, such as by determining if the file size exceeds a predetermined threshold. If not, processing continues at step .","At step , MSS  suggests chapters, that is, shorter files that are quicker to transmit, to the user. The separation may be based on time, on scene changes or on other criteria. At step , MSS  enables the uploading user to adjust the chapter boundaries for a pre-transcoded file. The information may explicitly be provided by the receiving user for this particular instance of reception, or may passively be provided as a preference in the registration information of the receiving user. When a user first explicitly provides information, MSS  inquires if the user wishes to save this as a default preference, an example of progressive registration. As discussed below, for an on-demand transcoded file, the chapter boundaries can be adjusted by the receiving user either explicitly or passively via a profile preference.","In some embodiments, for long videos, MSS  enables an uploading user to divide the long video into separate videos linked together by a playlist for the separate videos. Each of the separate videos can be separately chaptered.","At step , MSS  divides the converted file into chapters.","At step , MSS  stores the converted file, or if chaptering has occurred, stores the chapters and pointers so that chapters are automatically delivered in the correct sequence.","For each additional predefined format, up to n video formats, corresponding steps are performed. Steps - correspond to steps -, and for brevity, will not be discussed in detail. Other suitable video formats include mp4 at 512 kbps, fly at 2 Mbps for PCs (flv files cannot be chaptered), 3gp at 256 kbps, and m3u8 format at multiple bit rates. File formats may be optimized for downloading in full, for regular streaming, or for progressive downloading, where playback can begin before downloading is completed.","If the source file was an audio only file, steps - may be omitted.","At step , MSS  converts the video file to an audio-only file, useful for Tier  devices, generally in one audio format such as AMR format. The source file may be an audio-only file, in which case it is converted to the predefined audio file format. In some embodiments, there are multiple audio file formats. Steps - correspond to steps -, and for brevity, will not be discussed in detail. In some cases, listening to an audio-only file provides incentive for a user to go to the MSS  website and view the entire video file.","At step , MSS  begins converting the source file to adaptive streaming formats. In one embodiment, for adaptive streaming, a high bit rate stream is at 820 kbps, a medium bit rate stream is at 320 kbps, a low bit rate streams is at 160 kbps, and an audio only stream is at 64 kbps. In some embodiments, there are multiple formats for adaptive streaming for various classes of devices. In an adaptive streaming format, the file is converted into segments of 5-10 seconds in length, with the segment boundary at the same place in each of the streams, so that a media player can switch between streams during playback, usually in accordance with characteristics of the communication channel. Segments of adaptive streaming files are quite distinct from chapters of regular files, and should not be confused.","The m3u8 format can be pre-transcoded or on-demand transcoded, depending on the receiving device.",{"@attributes":{"id":"p-0198","num":"0231"},"figref":"FIG. 8B"},"Processing begins at step , where MSS  begins two or more independent threads of processing, which can occur in parallel. The threads are generating a thumbnail, transcoding to a predefined set of image formats such as gif, jpg, png, bmp and tif, and converting the file to adaptive streaming formats. Conversion of graphic and photographic files is similar to conversion of video files, except that graphic and photographic files are not chaptered. Files converted for adaptive streaming are segmented.","MSS  has profiles for its pre-transcoded files including the x-y resolution of the file, and a set of devices that the file is appropriate for.","Step  corresponds to step  of , and for brevity, will not be discussed in detail.","Steps  and  correspond to steps  and  of , and for brevity, will not be discussed in detail.","Steps  and  correspond to steps  and  of , and for brevity, will not be discussed in detail.","For certain legacy Sprint phones, image (jpg) files could not be provided as a link in an SMS message as the link would not work properly when the user clicked on it. So, a special format was defined and added to the set of n pre-transcoded file formats, wherein MSS  imposes a maximum size limit on the jpg file and provides a general content descriptor (GCD) file with descriptive text such as file size and a link to the size-restricted jpg file. Then, during sending to a receiving device (see  step ), when MSS  determined the receiving device is one of the relevant legacy Sprint, the GCD file is selected for downloading.","Steps , , , ,  and  respectively correspond to steps , , , ,  and  of , and for brevity, will not be discussed in detail.",{"@attributes":{"id":"p-0206","num":"0239"},"figref":"FIG. 9"},"Advertising added to a file can be formed as a playlist.","At step , the playlist author, via a sending device, which is a Tier  or Tier  device, goes to the website provided by MSS  and selects already uploaded media files for combination into a playlist.","At step , MSS  displays the already uploaded media files and receives the author's selection.","At step , MSS  combines the selected files into a playlist, displays the start and end frame for each file, and enables the author to adjust the file ordering and\/or the start and finish of each file.","At step , the author optionally adjusts the file ordering and\/or the start and finish of each file.","At step , MSS  stores the adjusted playlist.","Steps  and  correspond to steps  and  of , and will not be discussed for brevity.","At step , MSS  prepares a message notifying the author that the playlist is ready for sharing and providing the short link associated with the playlist.","At step , the author receives the notification message.","Downloading of already uploaded files will now be discussed.",{"@attributes":{"id":"p-0217","num":"0250"},"figref":"FIG. 10"},"Path E corresponds to downloading in response to a subscription, and downloading in response to instructions provided at the website of MSS , such as the send to phone interface. Additionally, a third party server such as media server  may provide a send to phone interface supported by MSS , in this case, instructions are sent from media server  to MSS  to effectuate the download. In this path, media is delivered from storage at MSS  to the recipient device. Due to the large community of possible recipient devices, substantial processing is involved in downloading, as discussed below.","An advantage of the present invention is that a large community of possible recipient devices is supported in a manner generally transparent to the uploading user.","Path F corresponds to downloading when a recipient of a send to phone message forwards that message to another recipient. In this path, the first recipient sends the notice message to the second recipient. If the first recipient is a Tier  device, the forwarded message includes embedded media content. If the first recipient is a Tier  or Tier  device, the forwarded message includes a short link, which the second recipient clicks on to receive the media content, and as described below, the media content is suitably presented for the device of the second recipient, even though the device of the second recipient has different characteristics than the device of the first recipient.","An advantage of the present invention is that first recipients can simply forward links and be assured that MSS  will take care of the details to appropriately format the content for whatever types of devices the second recipients have. If the second recipients happen to be actively registered at MSS , then their predefined preferences influence how content is delivered to them, without any effort from the first recipients.","These downloading paths are exemplary, not exhaustive.",{"@attributes":{"id":"p-0223","num":"0256"},"figref":["FIG. 11","FIG. 12"],"b":["82","1000","1010","1015","1020"]},"A send to phone application programming interface (API) executes at MSS . The send to phone API accepts requests from other programs so that the functionality of MSS  can be made available through a third party website such as media server . In other words, the third party website can enable sharing of its videos, photographs and graphics to hundreds of types of mobile devices while the third party website itself is unconcerned with the details of any of the various types of mobile devices. Users of the third party website do not have to actively register at MSS  to either send or receive files from the third party website that uses the send to phone API.","The send to phone API at MSS  can also be used by a third party mobile phone application, that is, the send to phone API can accommodate traffic from a website application or an application executing in a mobile phone.","The send to phone API enables any of the media sharing functions available at the website associated with MSS  to be accessed from other applications that use the send to phone API, such as updating file metadata, adding contacts and so on.",{"@attributes":{"id":"p-0227","num":"0260"},"figref":"FIG. 12","b":["1050","70"]},"Area  enables the user to enter an optional text message as a personal note to the recipient. If the user does not provide a personal note, and is not registered at MSS , then the sender of the file will be anonymous to the recipient.","Area  enables the user to enter phone numbers of the recipients. By clicking on icon , the user can select one of the contacts from their contacts book. In one embodiment, the contacts are stored at MSS  as part of the user's registration information. In another embodiment, the contacts are stored in the user's device and the contact information for a selected recipient is uploaded to MSS  via the interface at media server .","Button  is actuated by the user to transmit the send to phone information to MSS . If real time transcoding is needed due to this being the first time that the file has been selected for sharing, or because of the characteristics of the receiving device, then the sending may take some time. In one embodiment, MSS  ignores repeated clicks of the send button while transcoding is occurring. In another embodiment, the send button blinks while transcoding is occurring, and possibly an hourglass icon pops up on the screen.","Alternatively or additionally, the user can send the file to a social networking service by actuating button , which provides a list of social networking services, and the user then selects from among the list.","Alternatively or additionally, the user can upload the file to their account at MSS , perhaps for inclusion in a playlist. It will be recalled that a user must be actively registered to upload a file to MSS .","If a user who is not actively registered at MSS  attempts to use button  or , MSS  invites the user to register to use the functions. This is an example of progressive registration.",{"@attributes":{"id":"p-0234","num":"0267"},"figref":["FIG. 13","FIG. 11"],"b":"82"},{"@attributes":{"id":"p-0235","num":"0268"},"figref":"FIG. 24B"},{"@attributes":{"id":"p-0236","num":"0269"},"figref":"FIG. 14","b":"70"},"Area  enables the user to filter which of their contacts are shown. In this example, the filtering can be by work or personal status.","Area  enables the user the sort the display of their contacts. In this example, sorting can be done alphabetically, by online\/offline status, by proximity or by how many messages the user and the contact have exchanged.","In the display of , each contact corresponds to one row. For example, the first contact is \u201cZoe Doe\u201d, and the user has associated four devices with this contact: work PC , work phone , personal PC  and personal phone . Here, each PC is accessed via an email address, and each phone is accessed via a telephone number. The icon for personal PC  is highlighted, indicating that MSS  considers that Zoe Doe is currently online with this PC.","MSS  determines that a device is online when it is sending information to MSS , interacting at the website associated with MSS , or receiving information from MSS  in response to a request for information. In other embodiments, other techniques for determining whether a user is online may be employed.","For instance, if the display is sorted by proximity, it will display which of a user's contacts is online and closest to the user.","The display of  is helpful, because it enables a user to see who might quickly receive information sent to them, and can reduce the incompatibility between media and devices. For example, a high resolution high bandwidth video file would best be shared (sent) to a device with a high resolution screen, but MSS  enables sharing to any video-capable device.","As part of registration preferences, a user may specify which of their devices they prefer to receive notices on, and\/or a priority ordering for sending notices to devices, either serially or in parallel. For instance, a user may specify that they wish to receive notices via SMS on their personal phone and via SMTP email on their personal PC, and wish to block notice traffic from their work devices unless the sender is a work contact. When a user blocks traffic from being sent to one of their devices, that device will always appear as offline in other people's contacts displays.","A user can send a file to another user having a personal computer by sending a SMTP email to the recipient including the short link for the file. This is conventional, and will not be further discussed herein.","A user can send a file to another user having a device with a phone number in various ways, depending on the characteristics of the receiving device. This process is discussed below.",{"@attributes":{"id":"p-0246","num":"0279"},"figref":"FIG. 15","b":["1","1","1","4"]},"At step , the sending device selects a stored file for send to phone, for example, by using share button  in . More particularly, the sending device goes to the website associated with MSS , and requests a display of stored files available for sharing via send to phone.","At step , MSS  provides a display or list of files available for sharing, and the sending device selects which file is to be shared.","At step , the sending device provides the phone number for at least one receiving device, and optionally a personal note, using an interface such as shown in . A phone number may be provided by direct entry, such a typing on a keypad, or by selecting from contacts associated with the user's registration information, or by uploading a phone number stored in a contacts file in the user's device, or other suitable technique.","At step , MSS  receives the phone number for the at least one receiving device, and possibly a personal note.","At step , MSS  obtains characteristics of the device based on phone number analysis, as shown in . Using the device characteristics obtained through phone number analysis, MSS  then determines the tier of the device and, if a new phone number, passively registers the device, an example of progressive registration.","At step , MSS  checks if the receiving device is a Tier  device. If the receiving device is a Tier  device, at step , MSS  automatically dials the phone number for the device to deliver an audio signal for the selected file. At step , the Tier  receiving devices receives the call, that is, the device picks up either because a user causes the device to go to an off hook state or because the device has an automatic answering capability such as an answering machine. The Tier  device receives the audio signal in the voiceband, and delivery of the media is complete.","At step , MSS  checks if the receiving device is a Tier  device. If the receiving device is a Tier  device, at step , MSS  generates an MMS message including the optional personal note and the media as embedded content and sends it to the receiving device. The message may be sent to \u201cphonenumber@carrier.com\u201d where \u201cphonenumber\u201d was provided by the sending user and \u201ccarrier\u201d was obtained through phone number analysis. At step , the Tier  receiving device receives the MMS message, opens it, views the content, and delivery of the media is complete.","If the sending user is a corporate user, the sending user may specify that even if the receiving device is a Tier  or Tier  device, the media should be delivered embedded in an email or MMS message, avoiding the intermediate notice message and web experience, described below.","At step , MSS  considers the receiving device to be a Tier  or Tier  device. MSS  prepares a notice message including a short link to the media, the optional personal note, and automatically generated message content. When the sending user is an individual, the automatically generated message content is generic. When the sending user is a corporation, the automatically generated message includes branding specific to the corporation and usually message content provided by the corporation. As a simple example, the automatically generated message content might be \u201cThis is a video of ABCDE sent to you by NAME\u201d where \u201cABCDE\u201d is the title of the media obtained from the metadata for the media, and \u201cNAME\u201d is the user's registered name. If the user is a corporation, \u201cNAME\u201d is the name of the corporation. If the sending user is unregistered, then a suitable phrase, such as \u201ca friend\u201d, is substituted for \u201cNAME\u201d.","The notice message is generally an SMS message, and in some cases, is alternatively or additionally an email message. Some versions of SMS messages cannot contain hyperlinks; these versions of SMS messages are not used when MSS  determines that the recipient device does not support hyperlinks. If the receiving device is outside of SMS regions, as determined from phone number analysis, then MSS  automatically asks the sending user to provide an email address for the recipient, instead of a phone number. For example, since Fiji is outside the SMS region of the U.S. and Canada, a sending user in the U.S. or Canada must provide an email address for a recipient in Fiji. If the notice message is a \u201cpush\u201d notification message to software in the receiving device, these distinctions are not applicable.","At step , the Tier  or Tier  receiving device receives the notice message.","At step , MSS  stores the event of media delivery. It will be recalled that if the receiving user is only passively registered, and chooses to actively register, all of the media delivered to the user while they were passively registered becomes available as soon as they actively register.",{"@attributes":{"id":"p-0259","num":"0292"},"figref":"FIG. 16"},"At step , MSS  checks whether this is a new phone number by comparing the phone number with phone numbers for registered users. If the phone number is associated with a user that is either passively or actively registered, phone number analysis is unnecessary, the tier of the device is determined based on the registration information, and phone number analysis is complete.","At step , MSS  provides the phone number to phone number server  and requests information about phone number characteristics. In some embodiments, multiple services are used to provide phone number information.","At step , phone number server  receives the request from MSS  and provides information, such as but not limited to: whether the phone number is valid, the carrier associated with the phone number, whether it is a mobile phone number or a wireline phone number, and the country of the phone number.","At step , MSS  determines whether it needs more information. For example, if MSS  has enough information to determine that the device is in Tier  or Tier , further information is not needed. As another example, MSS  might believe that the device is capable of receiving SMS messages, but be unsure as to whether the device can receive SMS messages due to uncertainty over whether the receiving user has purchased a data plan for the device.","At step , if more information is needed, MSS  attempts to communicate with the user of the receiving device, such as sending an SMS message inquiring if the user has a data plan for streaming media, or prefers to receive the media as an email attachment. This is an example of progressive registration, as information is being collected only when it is needed to carry out a function. The collected information can be saved permanently or for a predetermined time, encouraging the user to actively register to avoid repeatedly answering the data plan inquiry prior to receiving media.","At step , the receiving device may or may not receive the SMS inquiry, and if the inquiry is received, the user may or may not choose to respond to MSS . If MSS  can determine that the message was not deliverable, then it can conclude with reasonable assurance that the device does not have a data plan unless it finds a different explanation for the non-delivery such as carrier outage. If MSS  receives an explicit response from the user, then it can definitely determine the unknown information.","At step , MSS  now determines the tier of the device.","At step , if the device has voice only receiving capability, MSS  determines that it is a Tier  device.","At step , if the device is a mobile phone but without a data plan, MSS  determines that it is a Tier  device. Note that for certain LG Verizon phones that do not support file downloading in their native browser, it is necessary to send an initial SMS message and then to send a second message to the MMS inbox for the device. MSS  maintains an internal database with such device specific information.","At step , MSS  determines that the device is a Tier  or Tier  device, and stores the carrier information and country code associated with the phone number.","At step , MSS  performs country specific processing, such as looking up the maximum size of an SMS message (160 characters for the U.S., 136 characters for Canada), setting the mobile keyword lexicon to the appropriate language (English for the US, or possibly French for Canada). A specific example is that French mobile keywords include \u201carret\u201d for \u201cstop\u201d, and \u201caide\u201d for \u201chelp\u201d.","To recapitulate, if MSS  has determined that the receiving device is a Tier  or Tier  device, or the sending user is a corporate user that specifies immediate delivery of the media, then at this point, the media has been delivered to the received device. However, if the receiving device is a Tier  or Tier  device, then MSS  will provide a compact structured web experience to the user as a prelude to delivery of the media. More specifically, at this point, MSS  has sent a notice to the Tier  or Tier  device with a short link to the media.","As described below, the receiving user clicks on the short link at their convenience, and receives the compact web experience adapted to the characteristics of their device, and receives the media in a format best suited to the characteristics of their device.",{"@attributes":{"id":"p-0273","num":"0306"},"figref":"FIG. 17"},"At step , the receiving user clicks on the short link in the notice message received from MSS . This action launches the web browser software in the device. Alternatively, if the notice message was a \u201cpush\u201d notification, then when the user of the receiving device launches the application software on their mobile device, there will be an icon indicating a new notification has arrived for the user. The user clicks on the icon and is presented with a list of waiting notifications. It will be recalled that push notification is used only when the receiving device is known, at MSS , to have a native application. During provision of the native application from MSS  to the device, MSS  collects data commensurate with the contents of the user agent string. Accordingly, the user agent string is not required for a device executing a native application that interacts with MSS .","At step , the web browser in the receiving device generates a user agent string that describes some of the characteristics of the device, typically, the phone model, the operating system and version executing in the device and the browser type and version executing in the device.","At step , the receiving device sends the short link and the user agent string to MSS.","At step , MSS  receives the short link and user agent string from the receiving device.","At step , MSS  performs device detection for the receiving device, as shown in .","At step , the user optionally provides information to MSS  during device detection. The information may be explicitly provided by the receiving user for this particular instance of reception, or may be passively provided as a preference in the registration information of the receiving user. When a user first explicitly provides information, MSS  inquires if the user wishes to save this as a default preference, an example of progressive registration.","At step , MSS  adaptively renders the web experience, as shown in .","At step , the user optionally provides information to MSS  during adaptive rendering. The information may be explicitly provided or passively provided, as discussed above.","At step , MSS  determines whether on-demand advertising should be added to the media itself, as distinguished from a banner ad discussed below. When the media is a video file, the advertisement may precede (pre-roll) or succeed (post-roll) or be inserted (mid-roll) into the video file, or be an overlay to the video where the video overlay can be a one-time limited duration overlay or a dynamic set of changing overlays. The advertising, if any, undergoes similar transcoding and delivery as the media file.","The advertising can be provided from MSS  and\/or an ad server and\/or an ad network. The ad selection can occur based on the characteristics for static advertising (see  step ) and\/or characteristics of the receiving device and\/or the user associated with the receiving device.","At step , MSS  performs transcoding of the media to be delivered, as shown in .","At step , the user optionally provides information to MSS  during transcoding. The information may be explicitly provided or passively provided, as discussed above.","At step , MSS  delivers the media, as shown in .","In practice, for delivery via streaming or adaptive streaming, after an initial period during which transcoding of the initial portion of a video file occurs, video transcoding occurs concurrently with delivery, so that playback can start as soon as possible. This practice is similar to progressive downloading whereby an initially downloaded portion of a video file starts playing while the remainder of the file is being downloaded.","In some embodiments, when a file is on-demand transcoded and downloaded, progressive downloading occurs.","At step , the user receives the media.","At step , MSS  stores an activity record for delivery of the media to the receiving device.",{"@attributes":{"id":"p-0291","num":"0324"},"figref":"FIG. 18"},"At step , MSS  gets attributes from the user agent string of the receiving device. The attributes includes the phone model, the operating system type, the operating system version, the browser type and the browser version.","At step , MSS  determines whether this device model is known to MSS . If not, processing proceeds to step . If the device model is known, then processing continues at step .","At step , MSS  makes its best guess at the device characteristics, such as by finding a similar device. In one example, MSS  finds a known device from the same manufacturer and having the same model name but a different model version. In another example, MSS  finds a device having the same model name but from a different manufacturer. After finding a similar device, MSS  uses the operating system and browser information from the profile for the similar device as its best guess for the receiving device.","At step , MSS  writes a report record for the unknown device, for possible manual analysis by an administrator at MSS . If the unknown device is popular, the administrator will manually investigate it and add to the database of known devices. If the unknown device is rare, it will be ignored by the administrator. Alternatively, a user of the device can go to a form at the website associated with MSS , and manually provide the characteristics of the device so that it becomes a known device; this is an example of \u201ccrowd sourcing\u201d device database information. Processing continues at step .","At step , MSS  determines that the device is known, but its characteristics are not yet stored in MSS . So, MSS  requests information, from LUT server , about the device based on the information in the user agent string of the receiving device. It will be appreciated that LUT server  may be a plurality of servers operated by independent parties.","At step , LUT server  receives the request, uses the information from the user agent string as an index to a look up table, and returns the looked-up information to MSS , which may include:\n\n","At step , MSS  presents the user with its understanding of the characteristics of the receiving device.","At step , the user of the receiving device can optionally adjust the characteristics presented thereto.","At step , MSS  stores the device characteristics in association with the phone number of the receiving device. At this point, a new phone number has characteristics associated with it from phone number analysis, from device detection, and possibly as provided by the user of the device.",{"@attributes":{"id":"p-0301","num":"0343"},"figref":["FIG. 19","FIGS. 24A and 24B"]},"The results of phone number analysis are used with the results of device detection and optional input from the receiving user to determine the parameters for adaptive rendering of the web experience associated with media delivery. As used herein, the \u201cweb experience\u201d comprises the display screens associated with delivery of the media to the receiving device. The first web page of the web experience is referred to as the \u201clanding page\u201d. The landing page comprises an optional banner ad, a title, a thumbnail image of the requested media file, a text description, and buttons for at least the functions of playing the media file and sharing the media file with another user. The text description includes the personal note, if any, from the sending user and text generated by MSS  of the form, \u201cThis file FILE was sent to you by NAME\u201d where \u201cFILE\u201d is the title of the media file from its metadata and \u201cNAME\u201d is the name of the sending user from his\/her\/its registration profile, if actively registered, or simply \u201ca friend\u201d if the sending user is passively registered.","Except for the thumbnail, the form and placement of parts of the landing page are represented in hypertext markup language (HTML), to be displayed on a screen, that is, rendered by a browser in the receiving device, using a style sheet.","Style sheets are well-known, and enable uniform presentation of colors, fonts, tables, buttons, background, corners, shadows, animation and so on for a web page. A variety of formats exist for style sheets depending on the capabilities and complexity of the receiving device. Using the selected page profile to select a style sheets ensures that the resulting landing page will look appropriate for the receiving device.","At step , MSS  retrieves the stored device display characteristics associated with the receiving phone number.","At step , based on the retrieved device display characteristics, MSS  selects an ad-banner profile from among a set of stored ad-banner profile, selects a thumbnail profile from among a set of stored thumbnail profiles, and selects a page profile from among a set of stored page profiles. The stored ad-banner, thumbnail and page profiles correspond to a variety of device configurations intended to represent the majority of Tier  and Tier  devices. A page profile specifies a combination of HTML version and style sheet version. The selection of each profile is made by comparing the receiving device characteristics with the profile characteristics and choosing the closest match. For example, there may be three or four ad-banner profiles corresponding to three or four different sized ad banners; there may be three page profiles","Page profile 1: HTML 4 and CSS 1,","Page profile 2: HTML 5 and CSS 2,","Page profile 3: HTML 5 and CSS3;","and there may be six or seven different thumbnail profiles corresponding to different receiving device screen resolutions.","At step , MSS  determines whether a banner advertisement is to be displayed as part of the page. If so, processing continues at step . If not, processing continues at step ","At step , MSS  determines whether the banner ad is from a third party ad server or third party ad network or is stored at MSS .","An ad server may be a distinct physical entity, such as ad server , or may be operative as a component of MSS , or of B2B2C server  or media server . An ad network is a distinct physical entity such as ad server . Generally, when an ad server or ad network supports ad sizing for mobile devices, MSS  sends a request for an ad to the ad server or ad network, the request including sizing information for the receiving device, and the ad is delivered from the ad server or the ad network directly to the receiving device. When the ad server or ad network does not support ad sizing for mobile devices, then the ad is delivered from the ad server or ad network to MSS  for sizing in accordance with display capabilities of the receiving device.","Assuming the banner is from a third party ad server or ad network that supports ad sizing for mobile devices, at step , MSS  sends a request to ad server  to send an ad of the proper size to the receiving device.","If the ad is stored at MSS , or is sent to MSS  from an ad server or ad network that does not support ad sizing for mobile devices, at step , MSS  retrieves the ad and renders the ad using the selected ad-banner profile from step .","At step , MSS  checks whether there is a personal note from the sender. If there is a personal note from the sender, at step , MSS  includes the personal note in the landing page it is generating. It will be recalled that the personal note was also included in the notice message to the receiving device sent at step  of .","At step , MSS  checks the media file for any HTML. For example, if the file is part of a playlist, the HTML may define \u201cforward\u201d and \u201cback\u201d buttons for navigating within the playlist.","At step , MSS  checks whether the source of the media is an individual user or a corporate user. Note that the source of the media is not necessarily the same as the party sending the media to the receiving user. The source of the media is the party that uploaded the media to MSS , which MSS  determines from the meta-data associated with the stored media. If the source is an individual, processing continues at step . If the source is a corporation, processing continues at step .","At step , MSS  retrieves the HTML and the style sheet for a generic landing page. As used herein, generic means non-branded, or branded with a logo from MSS .","At step , MSS  checks the sending user registration information and the receiving user registration information to see if there is any HTML and\/or style sheet customization. If not, processing continues at step .","At step , MSS  obtains the HTML and\/or style sheet customization from the registration information of the sending and\/or receiving user. An example of HTML customization is a face picture of the sending user to be included in the receiving user's landing page. An example of style sheet customization is specification of a particular background for the receiving user's web experience, such as hot pink and bright red zebra stripes. Processing continues at step .","At step , MSS  determines whether the corporate use is running a promotion.","If the corporate user is not running a promotion, at step , MSS  gets the HTML and style sheet for a branded landing page for the corporate user.","An example of branded HTML is that the play button has a different name such as \u201cstream now\u201d. Another example of branded HTML is a button to be placed on the landing page named \u201cstore locator\u201d that links to a webpage of authorized sellers. Another example of branded HTML is a \u201cbuy now\u201d button that links to a mobile commerce application of the corporate user.","An example of branded CSS is a background showing the logo of the corporate user repeated according to a color scheme chosen by the corporate user.","If the corporate user is running a promotion, at step , MSS  gets the HTML and style sheet for the promotional page provided by the corporate user. Generally, the promotional descriptive material provides for additional web pages as part of the web experience, prior to the landing page, to describe the promotion to the user and\/or enable the user to participate in the promotion.","A promotion may include a coupon with a bar code that can be presented for redemption via the receiving device, such as a restaurant coupon presented on the receiving device prior to ordering from the restaurant menu. A promotion may be restricted to devices in particular geographic areas. A promotion may be offered to selected users, such as an individual user that has subscribed to a file or channel of the corporate user.","At step , MSS  renders the page content using the selected page profile HTML and selected style sheet, optionally modified as described above. The result is a landing page that is adapted to the capabilities and configuration of the receiving device.","At step , MSS  renders the thumbnail associated with the stored media using the selected thumbnail profile.","At step , MSS  delivers the rendered landing page including the relevant content and the rendered thumbnail to the receiving device.","At step , the receiving device interacts with the rendered page.",{"@attributes":{"id":"p-0331","num":"0373"},"figref":["FIGS. 20A and 20B","FIG. 20A","FIG. 20B","FIG. 20A","FIG. 20B"],"b":"1750"},{"@attributes":{"id":"p-0332","num":"0374"},"figref":["FIG. 21","FIG. 18","FIGS. 20A and 20B"],"b":["1925","1930","1935","70","1945"]},{"@attributes":{"id":"p-0333","num":"0375"},"figref":["FIG. 22","FIG. 22"]},"At step , MSS  retrieves the characteristics associated with the phone number from phone number analysis and device detection.","At step , MSS  selects delivery parameters based on the retrieved characteristics, and sends a message to the receiving device confirming the file delivery method (download, streaming or adaptive streaming), and the chapter size, if any. In some cases, other information may be provided for confirmation such as the file type (audio only, high resolution video, standard resolution video, low resolution video).","At step , the receiving device receives the confirmation message, and optionally replies to alter the information presented for confirmation. For example, the user may believe herself to be in an area with poor cellphone reception, and prefer download instead of streaming.","At step , MSS  chooses the file preparation method based on the user's adjustments, if any, to the presented information. If the file preparation method is audio-only, processing continues at step . If the file preparation method is pre-transcoding, processing continues at step . If the file preparation method is on-demand transcoding, processing continues at step .","An example of an audio-only file is AMR-NB or AMR-WB, to be delivered as voiceband audio via telephone network . An example of a pre-transcoded file is an MPEG-4 video tile for a receiving device having an H.264 video codec and an AAC-HE audio codec, to be delivered via data network . An example of an on-demand transcoded file is a 3GP file delivered, according to the IETF RTSP communication standard, via data network . See the discussion for selecting a GCD file at  step .","At step , for audio-only delivery, MSS  converts the text in the landing page, or promotional page, to speech using text-to-speech synthesis. For example, the text may be \u201cThis file is FILENAME sent to you by a friend\u201d where \u201cFILENAME\u201d is the title of the media file in the metadata for the media file.","At step , MSS  retrieves a pre-transcoded audio file for the selected media, stored at one of steps  and  of , and the transcoding process is complete.","At step , MSS  retrieves a pre-transcoded file for the selected media, stored at one of steps , , , ,  of  for a video file, optionally adds background filler, referred to as \u201cletterboxing\u201d, so that the dimensions of the displayed media will properly correspond to the media player window of the receiving device, and the transcoding process is complete. It will be appreciated that pre-transcoding enables step  to be fast.","If the media file is a graphic file, and the media width is greater than the media height, MSS  maps the graphic file to the device's window width,'and adds filler at the top and\/or bottom of the image. See .","If the media height is greater than the media width, MSS  maps the graphic file to the device's window height, and adds filler at the left and\/or right sides of the image.","The transcoding process is complete.","At step , MSS  checks whether it has a cached version of the on-demand transcoded","If there is a cached version, at step , MSS  retrieves the cached version.","If there is not a cached version, at step , MSS  transcodes the file in real-time to the selected format. It will be appreciated that on-demand transcoding may introduce a user-perceivable processing delay in providing the media, relative to pre-transcoded formats, in which case pre-transcoding is preferred. However, if the receiving device is best suited to use of a file format that is transcoded on-demand, then the delay introduced by on-demand transcoding is deemed worthwhile, because the on-demand transcoded file will look better on the receiving device.","In one embodiment, the on-demand transcoding starts with the source format of the originally uploaded file; this usually results in better quality output because there is only one translation of the file from its source format. In another embodiment, on-demand transcoding always starts with the highest quality pre-transcoded format; this means when a new file format is added, MSS  needs only include a software module for translating from pre-transcoded format to the new file format, rather than from all of the possible source formats to the new file format, but the resulting file is typically of lower quality as it has been translated twice, once to the pre-transcoded format and a second time to the new file format.","At step , MSS  caches the on-demand transcoded file, in case this receiving device, or a similar receiving device, requests the file again in the near future.","The transcoding process is complete.",{"@attributes":{"id":"p-0351","num":"0393"},"figref":"FIG. 23"},"At step , based on the characteristics associated with the phone number, MSS  checks whether the destination device can accept streaming. Streaming is preferred to downloading due to improved apparent response time. If not, processing continues at step . If the device can accept streaming, processing continues at step .","At step , MSS  downloads the media file to the receiving device.","At step , MSS  checks whether the user has selected downloading (see  step ); if so, processing continues at step . A user device may support both streaming and downloading. If the user is in an area with a constrained wireless signal and\/or a signal with high latency, then downloading could be preferable to streaming.","As used herein, \u201clatency\u201d refers to the minimum time needed to send information from MSS  to the receiving device. Latency depends on things like line speed and the receive and retransmit delay in routers and modems. A low latency indicates a high network efficiency","At step , MSS  checks whether the receiving device is capable of adaptive streaming. If not, processing continues at step . If so, processing continues at step .","Bandwidth adaptive streaming serves to smooth latency variability. For bandwidth adaptive streaming, MSS  may select the bandwidth for streaming based on the network access bandwidth of the receiving device, e.g., EDGE, 3G or WiFi, and\/or the real-time status of the network access of the receiving device, e.g., a device on a train going from an EDGE network area to a 3G network area.","In one embodiment, the decision regarding bandwidth adaptive streaming depends only on the type of the receiving device.","In another embodiment, the decision regarding bandwidth adaptive streaming depends on how busy the carrier network is, which is determined by MSS  sending a ping to the receiving phone and getting a reply to the ping that reports timing and latency along the route.","In a further embodiment, the decision regarding bandwidth adaptive streaming depends upon the location of the receiving device. The location of the receiving device is determined automatically from a geographically aware device, that is, a device with GPS or similar location sensing equipment, that responds to a query from MSS ; or is determined by MSS  asking the user. MSS  combines the location of the receiving devices with information from an external sources that measures carrier delay and data rate variability in that area.","At step , MSS  sends the file to the device using regular streaming.","At step , MSS  sends the file to the device using bandwidth adaptive streaming.",{"@attributes":{"id":"p-0363","num":"0405"},"figref":"FIGS. 24A and 24B"},{"@attributes":{"id":"p-0364","num":"0406"},"figref":"FIG. 24A"},{"@attributes":{"id":"p-0365","num":"0407"},"figref":"FIG. 24B","b":["70","2315","2320","2340","2335"]},"A use case for adaptive rendering will now be described.","Let it be assumed that John Doe, an individual user, is sending a video to another individual user, Jane Smith. Both John Doe and Jane Smith are registered users of MSS . More specifically, Doe uploaded a video of his birthday cake to his account, and at the website for MSS , used the send to phone capability, entering Smith's phone number as the recipient for his new birthday cake video. MSS  detects that Smith is a registered user, and has a Tier  device, an Apple iPhone 3GS. So, MSS  sends an SMS message to Smith's iPhone with a short link to Doe's video. Smith clicks on the short link, and MSS  processing has proceeded to . At this point, the contents of user registration database B are shown in Table 1, the contents of device profiles database C are shown in Table 2, the contents of media and metadata database D are shown in Table 3, the contents of ad database E are shown in Table 4 and the contents of web experience database F are shown in Table 5.",{"@attributes":{"id":"p-0368","num":"0410"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Registration database 74B"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Registration START ---"]},{"entry":[{},"Name: John Doe"]},{"entry":[{},"User Device: Blackbery Bold"]},{"entry":[{},"Phone Number: 555-444-3210"]},{"entry":[{},"Email: johndoe@othersite.com"]},{"entry":[{},"User Type: Individual"]},{"entry":[{},"Source of ads: TripleClick"]},{"entry":[{},"Landing Page Color: body{ background-color: #000000;}"]},{"entry":[{},"Profile Picture: johnDoe.jpg"]},{"entry":[{},"--- Registration END"]},{"entry":[{},"Registration START ---"]},{"entry":[{},"Name: Jane Smith"]},{"entry":[{},"User Device: iPhone 3GS"]},{"entry":[{},"Phone Number: 555-555-1212"]},{"entry":[{},"Email: janesmith@anothersite.com"]},{"entry":[{},"User Type: Individual"]},{"entry":[{},"Landing Page Color: body{ background-color: #FFFFFF;}"]},{"entry":[{},"Profile Picture: JaneSmith.jpg"]},{"entry":[{},"--- Registration END"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0369","num":"0411"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Device profiles database 74C"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Profile START ---"},{"entry":"Model: iPhone 3GS"},{"entry":"Vendor: Apple"},{"entry":"Width: 320"},{"entry":"Height: 480"},{"entry":"Usable Width: 320"},{"entry":"Usable Height: 420"},{"entry":"Year Released: 2008"},{"entry":"Touchscreen_ Yes"},{"entry":"JavaScript Support: Yes"},{"entry":"Streaming Media: No"},{"entry":"Downloading Media: Yes"},{"entry":"Media Types: Mov, MP4, 3GP"},{"entry":"Video Codecs Supported: H.264, H.263, and MPEG-4"},{"entry":"Audio Codecs Supported: AAC-LC, AAC-HE, AAC-NB, and AAC-WB"},{"entry":"Java support: No"},{"entry":"SMTP Upload Support:Yes"},{"entry":"MMS Message Support: Yes"},{"entry":"--- Profile END"},{"entry":"ad_banner_prof_1: 300 width \u00d7 75 height"},{"entry":"ad_banner_prof_2: 216 width \u00d7 54 height"},{"entry":"ad_banner_prof_3: 168 width \u00d7 42 height"},{"entry":"thumb_prof_1: 100 width \u00d7 100 height"},{"entry":"thumb_prof_2: 80 width \u00d7 80 height"},{"entry":"thumb_prof_3: 70 width \u00d7 70 height"},{"entry":"thumb_prof_4: 50 width \u00d7 50 height"},{"entry":"thumb_prof_5: 40 width \u00d7 40 height"},{"entry":"page_prof_1: HMTL4 & no CSS"},{"entry":"page_prof_2: HMTL4 & CSS 1"},{"entry":"page_prof_3: HMTL4 & CSS 2"},{"entry":"page_prof_4: HTML 5 & CSS 2"},{"entry":"page_prof_5: HTML 5 & CSS 3"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0370","num":"0412"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Media and metadata database 74D"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"File START ---"]},{"entry":[{},"Filename: birthdaycake.mp4"]},{"entry":[{},"Uploader source: John Doe"]},{"entry":[{},"File Title: My Birthday Cake"]},{"entry":[{},"Latitude: 40.760399"]},{"entry":[{},"Longitude: \u221273.981247"]},{"entry":[{},"Resolution: 480 width \u00d7 360 height"]},{"entry":[{},"Codec: MPEG-4"]},{"entry":[{},"Duration: 45 seconds"]},{"entry":[{},"Banner Ads: Yes"]},{"entry":[{},"Thumbnail Source: thumbnail_birthdayCake.jpg"]},{"entry":[{},"Thumbnail Source Resolution: 480\u00d7360"]},{"entry":[{},"--- File END"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},{"@attributes":{"id":"p-0371","num":"0413"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 4"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Ad database 74E"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Name: TripleClick, Type: Ad Server, Mobile Media Sizing:Yes"},{"entry":"Name: ACME Ads, Type: Ad Server, Mobile Media Sizing:Yes"},{"entry":"Name: Joe's Ad Network, Type: Ad Network, Mobile Media Sizing:Yes"},{"entry":"Name: AdPlus, Type: Ad Network, Mobile Media Sizing: No"},{"entry":"Name: ExpertAds, Type: Ad Network, Mobile Media Sizing: No"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0372","num":"0414"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 5"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Web experience database 74F"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Title HTML - <title>% FileTitle<\/title>"},{"entry":"Thumbnail HTML- <img id=\u2033imgVideoThumbnail\u2033 class=\u2033thumbnail \u2033 border=\u20330\u2033"},{"entry":"src=%ThumbnailSource>"},{"entry":"Thumbnail CSS - .thumbnail {display:block; }"},{"entry":"Description HTML - <div id=\u201ddescription\u201d> This is a file of %FileTitle sent to you by"},{"entry":"%Name<\/div>"},{"entry":"Description CSS - .description{margin-right:auto; margin top:6px; padding:8px; width:84%;}"},{"entry":"PlayButton HTML - <div class=\u201dplay\u2033><a href=\u201dvideo\/MP4AAC.9913.mp4\u2033 Play<\/a><\/div>"},{"entry":"PlayButton CSS - .play{color:black;display:block;border:1px solid;}"},{"entry":"ShareButton HTML - <a href=\u2033ShareWithOthers.aspx?videoid=q35wt26c\u2033><img"},{"entry":"src=\u2033images\/share.jpg\u2033><span class=\u2033share\u2033>Share<\/span><\/a>"},{"entry":"ShareButton CSS - .share{color:black;display:block;border:1px solid;}"},{"entry":"Coupon HTML<div id=\u2033coupon\u2033><img style=\u2033border-width: 0px;\u2033 src=\u2033coupon\/newCD.jpg"},{"entry":"width=\u201d300\u201d height=\u201d55\u201d><\/div>"},{"entry":"Coupon CSS - .coupon{background-color:#ffffff; display:block;}"},{"entry":"Landing Page Color: body{ background-color: #F88017;}"},{"entry":"Landing page = title HTML, thumbnail HTML, thumbnail CSS, description HTML, description"},{"entry":"CSS, play button HTML, play button CSS, share button HTML, share button CSS"},{"entry":"Promotion Page background color: #F88017"},{"entry":"Promotion page = title HTML, title CSS, description HTML, description CSS, coupon HTML,"},{"entry":"coupon CSS"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"At step , MSS  retrieves from device profiles database C (see Table 2) the stored device display characteristics associated with the receiving device, namely Smith's iPhone. The retrieved information is shown in Table 6.",{"@attributes":{"id":"p-0374","num":"0416"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"TABLE 6"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Width: 320"},{"entry":"Height: 480"},{"entry":"Usable Width: 320"},{"entry":"Usable Height: 420"},{"entry":"Touchscreen_ Yes"},{"entry":"JavaScript Support: Yes"},{"entry":"Media Types: Mov, MP4, 3GP"},{"entry":"Video Codecs Supported: H.264, H.263, and MPEG-4"},{"entry":"Audio Codecs Supported: AAC-LC, AAC-HE, AAC-NB, and AAC-WB"},{"entry":"Java support: No"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"At step , based on the retrieved device display characteristics of the iPhone 3GS, MSS  selects from device profiles database C (see Table 2) an ad-banner profile from among a set of stored ad-banner profiles, and selects a thumbnail profile from among a set of stored thumbnails. Specifically, since the iPhone's display is 320 width\u00d7480 height, thumb_prof1 and ad_banner_prof1 are selected as they are best matched to the iPhone's display resolution. Because the iPhone's browser supports multiple levels of HTML and CSS, the highest quality page profile, page_profile5, is selected as that produces HTML 5 and CSS 3 resulting in the richest experience.","At step , MSS  determines a banner advertisement is to be displayed as part of the page, by looking at the metadata for the content file (Banner Ads: Yes).","At step , MSS  checks the sending user profile to determine that the ad source is a third party ad server, TripleClick, an instance of ad server . MSS  also determines that the third party ad server is capable of mobile media sizing by looking at the descriptive information in ad database E (see Table 4).","At step , MSS  sends an http request to TripleClick to send an ad to the receiving device 555-555-1212 having a size of 300\u00d775 determined by ad_banner_prof1.","At step , MSS  checks whether there is a personal note from the sender. There is no personal note in this example.","At step , MSS  checks the media file for any HTML. There is no associated HTML, as this file is standalone and not part of a playlist.","At step , MSS  checks the source of the media from the meta-data associated with the media file. Based on the meta-data element UploaderSource, MSS  determines that the source is John Doe, then MSS  consults registration database B to determine the user type of John Doe, specifically \u201cindividual\u201d.","At step , MSS  retrieves the HTML and the style sheet from web experience database F for the web page in accordance with the selected page profile. Since this is not a corporate source, MSS  retrieves information for a generic landing page. First, MSS  retrieves the HTML that defines a landing page (see Table 5):\n\n","At step , MSS  checks the sending user registration information to see if HTML and\/or style sheet customization has been determined. In this case there is user information specifying customization.","At step , MSS  obtains the HTML and style sheet customization, first the default information from web experience database F, then the customization from the sending user, then the customization from the receiving user. The last obtained information overwrites earlier obtained information. Web Experience database F defines the Custom Landing Page Color as #F88017 (orange). John Doe's profile in registration database B defines the Custom Landing Page Color as #000000 (black). Jane Smith's profile in registration database B defines the Custom Landing Page Color as #FFFFFF (white). Therefore, MSS decides to include #FFFFFF white for the landing page color sent to Jane at 555-555-1212. The other defined elements are as defined in F for the generic (non-branded) landing page.","At step , MSS  renders the page content using the selected page profile HTML and selected style sheet, optionally modified as described above by the user in step . For brevity, only selected examples of the rendering are discussed.","A first example is the generic description HTML, converted from\n\n","A second example is the share button, converted from\n\n","A third example is the background color, converted from\n\n","The result is a landing page that is adapted to the capabilities and configuration of the receiving device.","At step ; MSS  renders the thumbnail associated with the stored media using the selected thumbnail profile. The stored thumbnail has a resolution of 320\u00d7240, the thumbnail profile specifies 100\u00d7100, so the thumbnail rending converts the thumbnail to the proper size of 100\u00d7100. If there were multiple stored thumbnail images, it is likely that the desired size would be one of the stored sizes, so instead of a thumbnail rendering operation, a faster thumbnail retrieval operation would occur.","At step , MSS  delivers the rendered landing page including the relevant content and the rendered thumbnail to the receiving device. The ad-banner is delivered by TripleClick to the receiving device.","At step , the receiving device receives the ad-banner and rendered page and its web browser combines these into a page that is presented to the user.","Although an illustrative embodiment of the present invention, and various modifications thereof, have been described in detail herein with reference to the accompanying drawings, it is to be understood that the invention is not limited to this precise embodiment and the described modifications, and that various changes and further modifications may be effected therein by one skilled in the art without departing from the scope or spirit of the invention as defined in the appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1B","b":"70"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIGS. 6A and 6B"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIGS. 7A and 7B"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIGS. 8A and 8B"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIGS. 20A and 20B"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIGS. 24A and 24B"}]},"DETDESC":[{},{}]}
