---
title: Control apparatus and control method for internal combustion engine valve actuation
abstract: An apparatus controls actual actuation of each of a first and a second valve to the corresponding target actuation. A first computing portion computes the target actuation of the first valve and a target valve overlapping amount according to a engine operational state. A second computing portion computes a requested actuation of the second valve based on the target valve overlapping amount and the target actuation of the first valve. When the requested actuation is out of the permitted range of the second valve actuation, the second computing portion corrects the target actuation of the first valve based on the margin between the requested actuation and a limit of the permitted range. Hence, the engine operational state is maintained in a preferable state.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07137367&OS=07137367&RS=07137367
owner: Toyota Jidosha Kabushiki Kaisha
number: 07137367
owner_city: Toyota
owner_country: JP
publication_date: 20041020
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["The present invention relates to control apparatus and control methods for valve actuation of an internal combustion engine.","A variable valve mechanism is known for improving engine power or reducing exhaust emission. The mechanism varies the valve actuation of intake and exhaust valves such as valve timing (timings for opening or closing the valves) and valve lift amount. Particularly for automobile engines, a variable valve timing mechanism (VVT mechanism) is generally employed for the aforementioned purpose. The VVT mechanism varies the valve timings of the intake and exhaust valves by, for example, changing the relative rotational phase of a camshaft with respect to a crankshaft.","An engine having a so-called dual VVT system, as described in Japanese Laid-Open Patent Publication No. 11-218035, is also in use. In accordance with the dual VVT system, a VVT mechanism for an intake camshaft is installed separately from a VVT mechanism for an exhaust camshaft. In this manner, the valve timing of the intake valve and that of the exhaust valve may be varied independently.","The valve actuation control apparatus of the aforementioned publication, which includes the dual VVT system, separately computes the optimal valve timing for the intake valve and that for the exhaust valve according to the engine operational state. Each of the obtained valve timings is set to a target valve timing for the corresponding VVT mechanism. Each of the VVT mechanisms is then controlled to operate such that the actual valve timing becomes the target valve timing.","Through such controlling, the apparatus is capable of operating both of the intake and exhaust valves at the corresponding optimal valve timings, each of which corresponds with the engine operational state. However, the following problem may be presented when the valve timings are adjusted by the corresponding VVT mechanisms.","Generally, controlling of the valve actuation includes adjustment of the valve overlapping amount between the intake valve and the exhaust valve. That is, by optimizing the valve overlapping amount in accordance with the engine operational state, the internal EGR amount is adjusted such that the exhaust emission is reduced.","The above-described apparatus selects the target valve timings for each of the VVT mechanisms such that the valve overlapping amount becomes optimal in accordance with the engine operational state. However, the optimization of the valve overlapping amount is brought about only after both of the VVT mechanisms complete the adjustment of the valve timings to the corresponding target values. The response of the apparatus is thus relatively delayed, regarding the adjustment of the valve overlapping amount. Particularly, depending on the engine operational state, the adjustment of the valve overlapping amount greatly affects the exhaust emission. If this is the case, the exhaust emission may be increased due to the delayed response, which is until both of the VVT mechanisms complete the adjustment of the actual valve timings to the target values.","Further, even though the VVT mechanisms for the intake and exhaust valves are configured identical, the passages supplying fluid for driving the VVT mechanisms may not have equal dimensions. This causes a time lag between the response of the VVT mechanism for the intake valve and that for the exhaust valve. The following problem may thus occur, with reference to .",{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 11","FIG. 11","FIG. 11"]},"After the target valve timings are determined for changing the actual valve timings, each of the VVT mechanisms starts to retard the valve timing of the corresponding valve at timing T. Since the response of the VVT mechanism for the intake valve is retarded with respect to that for the exhaust valve, as aforementioned, the valve timing of the exhaust valve is changed relatively quickly as compared to that of the intake valve. This increases the valve overlapping amount, as compared to the initial state (timing T).","When the valve timing of the exhaust valve reaches the target valve timing at timing T, the valve overlapping amount starts to decrease as the valve timing of the intake valve is gradually retarded. When the valve timing of the intake valve reaches the target valve timing at timing T, the valve overlapping amount reaches the value corresponding to the engine operational state.","That is, the required valve overlapping amount is brought about when both of the VVT mechanisms complete the adjustment of the valve timings to the respective target values. However, although the valve overlapping amount must be decreased from the initial state, the valve overlapping amount is increased temporarily in an undesirable manner, before the adjustment is completed for both of the intake and exhaust valve. This increases the internal EGR amount excessively, thus raising the HC exhaust amount of the engine. The combustion temperature may also be lowered excessively. Further, the flow of the intake air from the intake passage to the exhaust passage may be increased excessively, destabilizing the combustion state. This may lead to an engine stall, which is least desirable.","In the same manner, when the valve timings of the intake and exhaust valves are adjusted such that the valve overlapping amount is increased, the valve overlapping amount may be decreased temporarily before the adjustment is completed. In this state, the internal EGR amount of each cylinder is decreased in an undesirable manner, thus raising the combustion temperature excessively, or increasing the NOx exhaust amount.","As has been described, the operation of the conventional apparatus, which sets the target valve timings of the intake and exhaust valves according to the engine operational state, is not necessarily appropriate in terms of the adjustment of the valve overlapping amount. Even if the apparatus may employ a different type of variable valve mechanisms than the VVT mechanisms, a similar problem may occur as long as the variable valve mechanisms are provided separately for the intake valve and the exhaust valve for varying the valve actuation of the intake valve and that of the exhaust valve respectively.","Accordingly, it is an objective of the present invention to provide a apparatus and a method for controlling valve actuation that maintain the engine operational state in a preferable state when adjustment is carried out, used in an internal combustion engine adjusting the valve actuation of intake and exhaust valves.","To achieve the foregoing and other objectives and in accordance with the purpose of the present invention, the invention provides a control apparatus for valve actuation of intake and exhaust valves of an internal combustion engine. The apparatus controls actual actuation of each of the intake valve and the exhaust valve to the corresponding target actuation. One of the intake valve and the exhaust valve is a first valve and the other is a second valve. The actuation of the second valve is set within a predetermined permitted range. The apparatus includes a first computing portion that computes the target actuation of the first valve and a target valve overlapping amount according to the engine operational state. The target valve overlapping amount is a target amount of a valve overlapping amount of a valve opening period of the first valve and a valve opening period of the second valve. The first computing portion computes the target actuation of the second valve based on the target valve overlapping amount and the actual actuation of the first valve. A second computing portion computes a requested actuation of the second valve based on the target valve overlapping amount and the target actuation of the first valve. When the requested actuation is out of the permitted range of the second valve actuation, the second computing portion corrects the target actuation of the first valve based on the margin between the requested actuation and a limit of the permitted range.","Another aspect of the present invention provides a method for controlling valve actuation of intake and exhaust valves of an internal combustion engine. The method includes obtaining a target actuation of the first valve and a target valve overlapping amount according to the engine operational state. A target actuation of the second valve is obtained based on the target valve overlapping amount and the actual actuation of the first valve. A requested actuation of the second valve is obtained based on the target valve overlapping amount and the target actuation of the first valve. The target actuation of the first valve is corrected based on the margin between the requested actuation and a limit of the permitted range when the requested actuation is out of the permitted range of the second valve actuation. The actual actuation of each of the intake valve and the exhaust valve are made to the corresponding target actuation.","Other aspects and advantages of the invention will become apparent from the following description, taken in conjunction with the accompanying drawings, illustrating by way of example the principles of the invention.","An embodiment of the present invention will now be described with reference to .",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 1","b":"1"},"A cylinder block  of the engine  includes a plurality of cylinders  (only one is shown in ). A piston  is received in each of the cylinders . The piston  is connected to a crankshaft  through a connecting rod . The connecting rod  converts the reciprocation of the piston  to the rotation of the crankshaft .","A cylinder head  is attached to an upper portion of the cylinder block . In each cylinder , a combustion chamber  is defined between an upper end of the piston  and the cylinder head .","A spark plug  is provided in each of the combustion chambers . An intake port  and an exhaust port  are disposed in correspondence with each combustion chamber . The intake port  and the exhaust port  are connected respectively to an intake passage  and an exhaust passage . An injector  is provided in correspondence with each combustion chamber  and formed in the corresponding intake port . The injector  injects fuel into the corresponding combustion chamber .","An intake valve  and an exhaust valve  are provided in correspondence with each of the combustion chambers  for selectively opening or closing the intake port  and the exhaust port , respectively. An intake camshaft  and an exhaust camshaft  are deployed respectively in correspondence with the intake valve  and the exhaust valve . The intake camshaft  and the exhaust camshaft  each include a cam (not illustrated). When the intake camshaft  is rotated, the intake valve  is selectively opened or closed by the cam rotating with the intake camshaft . Likewise, when the exhaust camshaft  is rotated, the exhaust valve  is selectively opened or closed by the cam rotating with the exhaust camshaft . A timing pulley  is formed at a distal end of the intake camshaft , and a timing pulley  is formed at a distal end of the exhaust camshaft . The timing pulleys ,  are operationally connected to the crankshaft  through a timing belt . If the crankshaft  is rotated two cycles, each of the timing pulleys ,  is rotated one cycle. When the engine  is operated, the rotation of the crankshaft  is transmitted to the intake camshaft  and the exhaust camshaft  through the timing belt  and the timing pulleys , . In this manner, the intake valve  and the exhaust valve  are selectively opened or closed at predetermined timings when the crankshaft  is rotated, or the piston  is reciprocated.","A crank angle sensor  is disposed in the vicinity of the crankshaft  for detecting the rotational phase (the displacement angle) of the crankshaft . In accordance with the detection, the engine speed NE of the engine  (the rotation speed of the crankshaft ) is obtained. An intake cam angle sensor is arranged in the vicinity of the intake camshaft . Based on the output signals generated by the intake cam angle sensor and the crank angle sensor , the rotational phase (the cam angle) of the intake camshaft  is obtained. Likewise, an exhaust cam angle sensor is deployed in the vicinity of the exhaust camshaft . Based on the output signals generated by the exhaust cam angle sensor and the crank angle sensor , the rotational phase (the cam angle) of the exhaust camshaft  is obtained.","An igniter  applies high voltage to each of the spark plugs . The timing at which each spark plug  is activated is determined depending on the timing at which the igniter  applies the high voltage to the spark plug . The spark plug  ignites a mixture of the intake air supplied from the intake passage  and the fuel injected by the injector  in the corresponding combustion chamber . The air-fuel mixture is thus combusted in the combustion chamber  for generating drive force for the engine . Meanwhile, the gas produced by the combustion is discharged into the exhaust passage .","A surge tank  is formed in a portion of the intake passage  for suppressing pulsation of the intake air. A throttle valve  is arranged in the intake passage  at a position upstream from the surge tank . The opening size of the throttle valve  is changed depending on the operation of an accelerator pedal . In this manner, the amount of the intake air supplied to each combustion chamber  is adjusted. A throttle valve opening size sensor  and an idle switch  are disposed in the vicinity of the throttle valve . The throttle valve opening size sensor  detects the opening size of the throttle valve . The idle switch  is turned on when the throttle valve  is fully closed. An air flow meter  is provided at a position upstream from the throttle valve . The air flow meter  generates an output corresponding to the intake air amount Qa of the engine .","In the illustrated embodiment, an intake valve timing varying mechanism is formed in the timing pulley  of each camshaft . Further, an exhaust valve timing varying mechanism is formed in the timing pulley  of each exhaust camshaft .","The intake valve timing varying mechanism changes the rotational phase of the timing pulley  and the intake camshaft  relative to the crankshaft  using hydraulic pressure. This varies the valve timing of the intake valve  in a continuous manner. Likewise, the exhaust valve timing varying mechanism changes the rotational phase of the timing pulley  and the exhaust camshaft  relative to the crankshaft  using hydraulic pressure. This varies the valve timing of the exhaust valve  in a continuous manner. More specifically, the intake valve timing varying mechanism includes an advancing oil passage Pand a retarding oil passage P. The intake valve timing varying mechanism receives oil from the advancing oil passage Pwhen advancing the rotational phase of the intake camshaft  relative to the timing pulley  but from the retarding oil passage Pwhen retarding such rotational phase. In the same manner, the exhaust valve timing varying mechanism includes an advancing oil passage Pand a retarding oil passage P","The exhaust valve timing varying mechanism receives oil from the advancing oil passage Pwhen advancing the rotational phase of the exhaust camshaft  relative to the timing pulley  but from the retarding oil passage Pwhen retarding the rotational phase. The oil is retained in an oil pan  and pumped by an oil pump . The oil pump  then supplies the oil to a pair of oil control valves (hereinafter, referred to as \u201cOCVs\u201d) , . The OCV sends the oil to the advancing oil passage Por the retarding oil passage Pselectively. The OCV sends the oil to the advancing oil passage Por the retarding oil passage Pselectively. Each of the OCVS , is a so-called linear solenoid valve and incorporates an electromagnetic valve. Each OCV , changes the duty ratio of voltage supplied to the electromagnetic solenoid for selecting the oil passage to which the oil is supplied and the speed at which the oil is sent. In this manner, each OCV , supplies the oil to the selected oil passage at a selected speed. This changes the rotational phase of the intake camshaft  and that of the exhaust camshaft  relative to the crankshaft , thus varying the valve timing of the intake valve  and that of the exhaust valve .","A control apparatus  (an ECU) controls the ignition timing and fuel injecting amount of the engine , as well as the valve timings of the intake valve  and the exhaust valve  based on controlling of the rotational phase by means of the corresponding valve timing mechanisms. A control apparatus  deal with the intake valve  as a first valve and the exhaust valve as a second valve. The main component of the control apparatus  is a microcomputer having a central processing unit (CPU). The control apparatus  includes, for example, a read only memory (ROM) and a random access memory (RAM). The ROM pre-stores various programs and maps and the RAM temporarily stores the computation results obtained by the CPU. Further, the control apparatus  is provided with a backup RAM for continuously storing the computation results and the pre-stored data after the engine  is stopped, as well as an input interface and an output interface. The crank angle sensor , the intake cam angle sensor , the exhaust cam angle sensor , a coolant temperature sensor , the throttle valve opening size sensor , the idle switch , and the air flow meter  each input an output signal to the control apparatus  via the input interface. The control apparatus  detects the operational state of the engine  according to the output signals of the sensors  to  and the sensors  to .","The output interface is connected to the injector , the igniter , and the OCVs , through corresponding drivers.","The control apparatus  preferably controls the injector , the igniter , the OCV (the intake valve timing varying mechanism ), and the OCV (the exhaust valve timing varying mechanism ) with reference to the programs and initial data stored by the ROM, according to the output signals of the sensors  to  and the sensors  to .","Next, controlling of the spark timing of the engine  and controlling of the valve timing of each of the intake valve  and the exhaust valve , which are performed by the control apparatus , will be explained in detail respectively.","[Controlling of Spark Timing]","The control apparatus  controls the spark timing of the engine  using a spark timing instruction ST. The spark timing instruction ST is obtained by the following equation (1):\n\n\u2003\u2003(1)\n","ST: Spark Timing Instruction","SR: Most Advanced Spark Timing","F: Feedback Correcting Value","AG: KCS Learned Value","In the equation (1), the most advanced Spark Timing SR corresponds to a spark timing advanced by a predetermined margin from a spark timing advanced to a state immediately before knocking is caused (knock limit). The most advanced Spark Timing SR is varied depending on the engine operational state such as the engine speed NE and the engine load L.","The engine speed NE is determined according to a detection signal generated by the crank angle sensor . The engine load L is computed in accordance with the intake air amount Qa, detected by the air flow meter , and the engine speed NE. As a parameter corresponding to the intake air amount Qa, an intake air pressure determined according to a detection signal of a vacuum sensor provided in the intake passage , or a throttle opening size obtained according to a detection signal of the throttle valve opening size sensor , or an accelerator pedal depressed amount determined according to a detection signal of an accelerator pedal position sensor may be used.","In the equation (1), the feedback correcting value F and the KCS learned value AG are correcting values for retarding the spark timing for suppressing knocking if the knocking occurs. These values are increased or decreased depending on the state of the knocking, or whether or not the knocking occurs.","That is, if the knocking occurs, the feedback correcting value F is changed such that the spark timing instruction ST is retarded. Without the knocking, the feedback correcting value F is changed such that the spark timing instruction ST is advanced.","The KCS learned value AG is adjusted such that the feedback correcting value F is maintained in a predetermined range. As the value AG, for example, a total of a knocking correcting learned value and a low load learned value is employed. The knocking learned value is adjusted such that the feedback correcting value F is maintained in the predetermined range over the entire load range of the engine . The low load learned value is adjusted such that the feedback correcting value F is maintained in the predetermined range when the engine  is in a relatively low load range.","If the feedback correcting value F is out of the predetermined range such that the spark timing instruction ST is retarded, the KCS learned value AG is changed such that the instruction ST is retarded. If the feedback correcting value F is out of the predetermined range such that the spark timing instruction ST is advanced, the KCS learned value AG is changed such that the instruction ST is advanced. As long as the engine  is in the relatively low load range, the change of the KCS learned value AG is brought about by adjusting both of the knocking correcting value and the low load correcting value. However, when the engine  is in a range other than the relatively low load range, the KCS learned value AG is changed by adjusting only the knocking correcting value.","[Controlling of Valve Timing]","The control apparatus  controls the valve timing of the intake valve  by controlling the intake valve timing varying mechanism . More specifically, the intake valve timing varying mechanism is operated such that the actual valve timing of the intake valve  approaches a target valve timing. The actual valve timing of the intake valve  corresponds to an actual intake angle VTin, which is the actual displacement angle of the intake camshaft . The target valve timing of the intake valve  corresponds to a target intake angle VTTin, that is a target displacement angle of the intake camshaft .","The control apparatus  controls the valve timing of the exhaust valve  by controlling the exhaust valve timing varying mechanism . More specifically, the exhaust valve timing varying mechanism is operated such that the actual valve timing of the exhaust valve  approaches a target valve timing. The actual valve timing of the exhaust valve  corresponds to an actual exhaust angle VTex, which is the actual displacement angle of the exhaust camshaft . The target valve timing of the exhaust valve  corresponds to a target exhaust angle VTTex, which is a target displacement angle of the exhaust camshaft .","In this controlling, the displacement angle of the intake or exhaust camshaft ,  corresponds to the rotational phase of the corresponding camshaft ,  relative to the crankshaft . The displacement angle is converted to a crank angle (indicated with unit \u201cdegree CA\u201d).","The actual intake angle VTin is determined according to detection signals of the crank angle sensor  and the intake cam angle sensor . When the valve timing of the intake valve  is maximally retarded, the actual intake angle VTin corresponds to a reference value, that is \u201c0 degrees CA\u201d. That is, the actual intake angle VTin indicates the advanced amount of the valve timing of the intake valve  with respect to the maximally retarded state.","The actual exhaust angle VTex is determined according to detection signals of the crank angle sensor  and the exhaust cam angle sensor . When the valve timing of the exhaust valve  is maximally advanced, the actual exhaust angle VTex corresponds to a reference value, that is \u201c0 degrees CA\u201d. That is, the actual exhaust angle VTex indicates the retarded amount of the valve timing of the exhaust valve  with respect to the maximally advanced state.","With reference to the timing chart of , which indicates the valve timings of the intake valve  and the exhaust valve  with respect to the change of the crank angle, the relationship between the displacement angle of the intake valve  or the exhaust valve  and the valve overlapping amount will now be explained.","The valve overlapping amount is a value corresponding to the changing amount of the crank angle from when the intake valve  is opened to when the exhaust valve  is closed. If the intake valve  is opened when the changing amount of the crank angle reaches \u201c\u03b8\u201d after the exhaust valve  is closed, the valve overlapping amount corresponds to \u201c\u2212\u03b8\u201d. If the actual intake angle VTin and the actual exhaust angle VTex are both zero degrees CA, as indicated by the broken lines in , the valve overlapping amount corresponds to an initial value X (in this embodiment, \u201c\u221224 degrees CA\u201d, for example). Therefore, the actual valve overlapping amount OR is indicated by the following equation (2), using the actual intake angle VTin, the actual exhaust angle VTex, and the initial value X:\n\n\u2003\u2003(2)\n\n","With reference to the flowchart of , a procedure for computing the target intake angle VTTin of the intake valve  and the target exhaust angle VTTex of the exhaust valve , that is a target displacement angle computing procedure, will be explained. The control apparatus  executes the computing procedure as an interrupting procedure at, for example, predetermined crank angles. The procedure is performed by a first computing portion of the control apparatus .","First, in step S, the control apparatus  reads the engine speed NE computed according to an output signal of the crank angle sensor , the intake air amount Qa calculated according to an output signal of the air flow meter , and the actual intake angle VTin.","The control apparatus  then obtains the engine load L based on the engine speed NE and the intake air amount Qa in step S.","In the subsequent step S, a target valve overlapping amount ORT and a target intake angle base VTinb are determined according to the engine speed NE and the engine load L, with reference to the corresponding map stored in the ROM of the control apparatus .","Further, in step S, the control apparatus  obtains a final target value, that is the target intake angle VTTin, based on the target intake angle base VTinb and a predetermined correcting value H, using the following equation (3). The correcting value H is a total of a first correcting value H and a second correcting value H, which will be described later. Additional correcting values may be added as needed.\n\n\u2003\u2003(3)\n\n","Next, in step S, the control apparatus  computes the target exhaust angle VTTex according to the target valve overlapping amount ORT and the actual intake angle VTin, using the following equation (4):\n\n()\u2003\u2003(4)\n\n","The equation (4) is obtained by modifying the aforementioned equation (2), which represents the relationship between the actual camshaft angles VTin, VTex and the valve overlapping amount OR. That is, the valve overlapping amount OR of the equation (2) corresponds to the target valve overlapping amount ORT of the equation (4), and the actual exhaust angle VTex of the equation (2) corresponds to the target exhaust angle VTTex of the equation (4).","Afterwards, the procedure from step S to step S is executed repeatedly at predetermined time intervals.","The intake valve timing varying mechanism is controlled such that the actual intake angle VTin becomes the target intake angle VTTin, which is obtained in accordance with the procedure. More specifically, the controlling is performed by setting the duty ratio of the voltage supplied to the OCV in correspondence with the margin between the actual intake angle VTin and the target intake angle VTTin. The target intake angle VTTin is thus achieved. The exhaust valve timing varying mechanism is controlled in a similar manner.","Hereafter, the operation of the valve actuation control apparatus  of the illustrated embodiment according to the procedure for computing the target displacement angles will be explained.",{"@attributes":{"id":"p-0076","num":"0088"},"figref":"FIG. 4(","i":"a","b":["18","17","18","1","18","32","2","17","31","3","4"]},"At timing T, a request for the aforementioned controlling, in which the actual intake angle VTin is retarded and the valve timing of the exhaust valve  is advanced for reducing the valve overlapping amount, is generated. At this stage, according to the computing procedure, the target intake angle VTTin is calculated as a value retarded with respect to the current actual intake angle VTin, and the target valve overlapping amount ORT is determined as a value smaller than the current actual overlapping amount OR.","The target exhaust angle VTTex is then obtained in correspondence with the target overlapping amount ORT and the current actual intake angle VTin. The actual intake angle VTin is advanced with respect to the target intake angle VTTin at this time. The obtained target exhaust angle VTTex is advanced with respect to the goal of the controlling. The obtained target exhaust angle VTTex is the final target displacement angle of the exhaust camshaft , which corresponds to the target intake angle VTTin and the target valve overlapping amount ORT.","In accordance with the computed target intake angle VTTin and target exhaust angle VTTex, controlling of the intake valve timing varying mechanism and the exhaust valve timing varying mechanism is started. Adjustment of the actual intake angle VTin and the actual exhaust angle VTex is thus started. More specifically, the actual intake angle VTin is gradually retarded while the actual exhaust angle VTex is gradually advanced. In correspondence with the gradual retarding of the actual intake angle VTin, the target exhaust angle VTTex is also gradually retarded. Even after the actual exhaust angle VTex reaches the target exhaust angle VTTex, the phase of the exhaust camshaft  is continuously adjusted unless the phase adjustment of the intake camshaft  is completed.","In this manner, the phase adjustment, that is the angle advancing, of the exhaust camshaft  is continued until the actual exhaust angle VTex corresponds to the target exhaust angle VTTex at timing T. At this stage, the required valve overlapping amount is achieved prior to the completion of the phase adjustment of the intake camshaft .","Afterwards, the actual intake angle VTin is continuously retarded until the actual intake angle VTin corresponds to the target intake angle VTTin at timing T. Meanwhile, the target exhaust angle VTTex is continuously retarded, such that the required valve overlapping amount is maintained.",{"@attributes":{"id":"p-0082","num":"0094"},"figref":"FIG. 4(","i":"b","b":["18","17","18"]},"The target exhaust angle VTTex is then obtained according to the target overlapping amount ORT and the current actual intake angle VTin. The actual intake angle VTin is retarded with respect to the target intake angle VTTin at this point. The obtained target exhaust angle VTTex is retarded with respect to the goal of the controlling. The final target displacement angle of the exhaust camshaft , which corresponds to the target intake angle VTTin and the target valve overlapping amount ORT.","In accordance with the computed target intake angle VTTin and target exhaust angle VTTex, controlling of the intake valve timing varying mechanism and the exhaust valve timing varying mechanism is started. Adjustment of the actual intake angle VTin and the actual exhaust angle VTex is thus started. More specifically, the actual intake angle VTin is gradually advanced while the actual exhaust angle VTex is gradually retarded. In correspondence with the gradual advancing of the actual intake angle VTin, the target exhaust angle VTTex is also gradually advanced. In this manner, the phase adjustment, that is the angle retarding, of the exhaust camshaft  is continued until the actual exhaust angle VTex corresponds to the target exhaust angle VTTex at timing T. At this stage, the required valve overlapping amount is achieved prior to the completion of the phase adjustment of the intake camshaft .","Afterwards, the actual intake angle VTin is continuously advanced until the actual intake angle VTin corresponds to the target intake angle VTTin at timing T. Meanwhile, the target exhaust angle VTTex is continuously advanced, such that the required valve overlapping amount is maintained.","As has been described, according to the computing procedure, the valve timing adjustment of the intake valve  does not necessarily have to be completed for achieving the required valve overlapping amount.","Further, according to the procedure, the target exhaust angle VTTex is always set to a value at which the required valve overlapping amount is achieved in correspondence with the actual intake angle VTin. Accordingly, during the phase adjustment of the intake and exhaust camshafts , , the actual valve overlapping amount is continuously changed toward the target valve overlapping amount ORT.","Now, a procedure for computing the first correcting value H, which is executed by the control apparatus , will be described.","[Procedure for Computing First Correcting Value]","The valve overlapping amount (the internal EGR amount) is adjusted to an optimal value set selectively for, for example, improving the engine power or decreasing the exhaust emission and fuel consumption, depending on the engine operational state. Thus, when the spark timing is retarded for suppressing knocking, the optimal value of the valve overlapping amount may be greatly decreased or maintained substantially unchanged, depending on the engine operational state. In the following, the state in which the optimal value of the valve overlapping amount is greatly decreased, or [engine operational state ], and the state in which the optimal value of the valve overlapping amount maintains substantially unchanged, or [engine operational state ], will be explained respectively.","[Engine Operational State ]","The engine operational state  corresponds to a state in which controlling of the engine  focuses on, for example, reduction of the exhaust emission and of the fuel consumption and is brought about in the relatively low load range of the engine . In this state, the actual internal EGR amount is adjusted to a maximum value for reducing the exhaust emission and fuel consumption. Generally, the maximum value of the actual internal EGR amount is decreased as the spark timing is retarded for suppressing knocking. Therefore, for suppressing knocking, the valve overlapping amount, which is a parameter for controlling the internal EGR amount, must also be decreased. The optimal value of the valve overlapping amount is thus decreased as the spark timing is retarded for suppressing knocking. In this case, the actual valve overlapping amount becomes larger than the optimal value of the valve overlapping amount. The actual internal EGR amount in each cylinder becomes excessively large, which may disadvantageously affect the fuel consumption and the torque variation.","[Engine Operational State ]","This state corresponds to a state in which controlling of the engine  focuses on, for example, improvement of the engine power and is brought about in a relatively high load range of the engine . In this state, the optimal value of the valve overlapping amount is smaller than a value maximizing the internal EGR amount according to the current engine operational state. Generally, as the internal EGR amount is increased, the (exhaust) gas in the combustion chamber , which does not contribute to the combustion of the engine , is increased. Therefore, if the internal EGR amount is maximized, the engine power may be lowered. In other words, if the engine  is operated in this engine operational state and, particularly, the throttle valve  is substantially fully open, the controlling focuses on maximization of the intake air amount, rather than maximization of the internal EGR amount. The corresponding optimal value of the valve overlapping amount is thus set to a value maximizing the intake air amount. Accordingly, the optimal amount of the valve overlapping amount of this state is smaller than the value maximizing the internal EGR amount.","Thus, in this [Engine Operational State ], as long as the valve overlapping amount corresponds to the optimal value of the valve overlapping amount, the actual internal EGR amount is maintained as a value smaller than the maximum value, regardless of retarding of the spark timing. That is, regardless of the retarded spark timing, the actual internal EGR amount does not become excessively great. Thus, the valve overlapping amount, which serves as a parameter for controlling the internal EGR amount, does not have to be decreased. Further, the optimal value of the valve overlapping amount is not greatly changed even when the spark timing is retarded.","As has been described in [Engine Operational State ], if the spark timing is retarded for suppressing knocking, the actual valve overlapping amount thus becomes larger than the optimal value of the valve overlapping amount, leading to excessive increase of the internal EGR amount. To solve this problem, the valve overlapping amount may be reduced with a correcting value used when retarding the spark timing, which is, for example, the KCS learned value AG. If the KCS learned value AG is used in [Engine Operational State ], the internal EGR amount may be prevented from becoming excessively large, thus suppressing disadvantageous effects on the fuel consumption and torque variation. However, if the KCS learned value AG is used in [Engine Operational State ], the valve overlapping amount may become smaller than the optimal value of the valve overlapping amount, such that the internal EGR amount may become excessively small.","Therefore, in the illustrated embodiment, a guard value G is employed for restricting an upper limit of the valve overlapping amount. The guard value G is set according to the KCS learned value AG and the engine load L. The guard value G is thus allowed to restrict the upper limit of the valve overlapping amount such that the internal EGR amount does not become excessively great when the spark timing is retarded.","With reference to ), the guard value G is varied according to the KCS learned value AG in the relatively low load range of the engine  in which [Engine Operational State ] may be brought about. As is clear from the graph, the guard value G corresponding to [Engine Operational State ] is set to a smaller value as the KCS learned value AG becomes smaller. With reference to ), in the relatively high load range of the engine  in which [Engine Operational State ] may be brought about, the guard value G corresponding to [Engine Operational State ] is maintained as a relatively large value, regardless of the KCS learned value AG.","More specifically, in [Engine operational State ], if knocking occurs and the KCS learned value AG is set to a predetermined value, the actual optimal value of the valve overlapping amount is decreased. The actual valve overlapping amount thus becomes larger than the optimal value of the valve overlapping amount. In this state, the valve overlapping amount is larger than the guard value G. However, the actual valve overlapping amount is reduced by the upper limit restriction with the guard value G. The internal EGR amount is thus prevented from becoming excessively great.","In contrast, in [Engine Operational State ], the optimal value of the valve overlapping amount is maintained substantially constant, regardless of the change of the KCS learned value AG caused by the knocking. That is, the actual valve overlapping amount does not become larger than the optimal value of the valve overlapping amount. In this state, the actual valve overlapping amount may be smaller than the guard value G, which is set in the aforementioned manner. If this is the case, the actual valve overlapping amount is not subjected to the upper limit restriction with the guard value G. Accordingly, the actual valve overlapping amount does not become excessively small. That is, the actual valve overlapping amount does not become smaller than a value required for stopping the internal EGR amount from becoming excessively large.","In the illustrated embodiment, the target intake angle base VTinb is corrected with the correcting value H, for performing the upper limit restriction of the valve overlapping amount.","With reference to the flowchart of , a procedure for computing the first correcting value H will be explained. The procedure is performed by the control apparatus  as an interrupting procedure at predetermined crank angles.","First, in step S, the control apparatus  calculates the guard value G according to the KCS learned value AG and the engine load L, with reference to the map of . In the subsequent step S, the lower limit of the guard value G is determined by a minimum value varied according to the engine speed NE and the engine load L.","Next, in step S, between the target valve overlapping amount ORT and the guarded value G, the smaller value is set to a guarded target valve overlapping amount ORG.","The control apparatus  then computes a distributing coefficient K according to the engine operational state including the engine speed NE and the engine load L in step S. The distributing coefficient K is larger than zero but smaller than 1.0. The distributing coefficient K is used for determining, or distributing, the retarding amount of the actual intake angle VTin relative to the advancing amount of the valve timing of the exhaust valve , when reducing the valve overlapping amount. That is, when the valve overlapping amount is reduced by the upper limit restriction with the guard value G, the retarding amount of the actual intake angle VTin is increased and the advancing amount of the actual exhaust angle VTex is decreased as the distributing coefficient K approaches \u201c1.0\u201d.","Subsequently, in step S, the control apparatus  determines the first correcting value H by using the following equation (5). The target intake angle base VTinb is corrected by the first correcting value H using the equation (3).\n\n1=()\u00d7\u2003\u2003(5)\n","H: First Correcting Value\n\n","When the guard value G is smaller than the target valve overlapping amount ORT, the guard value G is set to the guarded target valve overlapping amount ORG. The target intake angle VTTin is thus decreased (advanced) in correspondence with the first correcting value H, which is obtained using the equation (5). Therefore, the actual intake angle VTin, which is controlled based on the target intake valve VTTin, is advanced, decreasing the actual valve overlapping amount. In other words, the actual valve overlapping amount is reduced by the upper limit restriction with the guard value G.","In contrast, if the guard value G is larger than the target valve overlapping amount ORT, the target valve overlapping amount ORT is set to the guarded target valve overlapping amount ORG. The first correcting value H is determined as \u201czero\u201d using the equation (5). If this is the case, advancing of the actual intake angle VTin is not performed. That is, the reduction of actual the valve overlapping amount by the upper limit restriction with the guard value G does not occur.","With reference to , the map used for computing the guard value G in step S will be explained.","The map corresponds to the coordinates of engine load versus KCS learned value AG. The map includes zones E, E, and E. The zones E and E correspond to ). The zone E corresponds to ). In zone E, the engine load is not larger than a predetermined value \u201cb\u201d and the KCS learned value AG is not smaller than a predetermined value \u201ca\u201d. In zone E, the engine load is not larger than the value \u201cb\u201d and the KCS learned value AG is smaller than the value \u201ca\u201d. In zone E, the engine load is larger than the value \u201cb\u201d. If the KCS learned value AG falls in the range corresponding to zone E of the map, the spark timing is retarded such that knocking is decreased.","When the engine operational state corresponds to zone E of the map, which corresponds to the dead zone of ), the guard value G is determined as a value equal to the target valve overlapping amount ORT. In this case, the guarded target valve overlapping amount ORG is equal to the target valve overlapping amount ORT. Thus, as long as the engine  is operated in a state corresponding to zone E, or before the engine operational state is changed to a state corresponding to zone E in which the knocking may increase, the first correcting value H is maintained as \u201czero\u201d. In this state, the upper limit restriction of the actual valve overlapping amount is not performed.","If the engine operational state corresponds to zone E of the map, the guard value G is determined as a value equal to the target valve overlapping amount ORT, like zone E. Thus, as long as the engine  is operated in the relatively high load range, which is higher than the value \u201cb\u201d, the first correcting value H is maintained as \u201czero\u201d, as in zone E. Accordingly, the upper limit restriction of the valve overlapping amount is not performed.","However, when the engine operational state corresponds to zone E of the map, the guard value G is reduced as the KCS learned value AG is decreased, or the knocking is increased, referring to ). That is, in zone E, the guard value G is varied continuously according to the KCS learned value AG.","In this manner, by correcting the target intake angle base VTinb with the first correcting value H using the equation (3), the actual valve overlapping amount is adjusted to the optimal value of the valve overlapping amount corresponding to the engine operational state.","Next, a procedure for computing the second correcting value H executed by the control apparatus  will be described.","[Procedure for Computing Second Correcting Value]","In the illustrated embodiment, the actual exhaust angle VTex is changed by controlling the exhaust valve timing varying mechanism . However, since the controlling is restricted to a certain range, the actual exhaust angle VTex, which is the displacement angle of the exhaust camshaft , is also controlled in a limited range. The control range corresponds to the range from zero degrees CA to the maximally retarded valve timing. The zero degrees CA is the reference value at which the actual exhaust angle VTex is maximally advanced (see ). Thus, the upper limit of the actual exhaust angle VTex of the exhaust camshaft  corresponds to the maximally retarded valve timing. The lower limit of the actual exhaust angle VTex corresponds to the maximally advanced valve timing, which is the aforementioned reference value, \u201czero\u201d (see ).","As has been described, in the illustrated embodiment, the target exhaust angle VTTex is obtained according to the actual intake angle VTin and the target valve overlapping amount ORT. The target exhaust angle VTTex may thus become larger than the upper limit of the permitted range or smaller than the lower limit of the range of the actual exhaust angle VTex. Since the actual exhaust angle VTex is restricted by the upper or lower limit, the actual exhaust angle VTex is hard to be increased exceeding the upper limit or fall below the lower limit. Hence, when the target exhaust angle VTTex becomes larger than the upper limit of the permitted range or smaller than the lower limit, the actual exhaust angle VTex is hard to achieve the target exhaust angle VTTex. The target valve overlapping amount ORT cannot be achieved.","If the target exhaust angle VTTex is set to a value smaller than the lower limit \u201czero\u201d when the valve overlapping amount must be decreased, advancing of the actual exhaust angle VTex is restricted by the lower limit, prematurely. This may make it impossible to achieve the target valve overlapping amount ORT. Accordingly, the internal EGR amount may be increased exceeding the optimal amount corresponding to the engine operational state. This may lead to a problem like destabilization of the engine operation.","To solve this problem, in the illustrated embodiment, a requested displacement angle of the exhaust camshaft  is computed according to the target valve overlapping amount ORT and the target intake angle VTTin. The lower limit of the actual exhaust angle VTex is set to a displacement angle corresponding to the control limit of the exhaust valve timing varying mechanism , which is, more particularly, the maximally advanced angle \u201czero\u201d. The control apparatus  functions as a target actuation correcting portion, which is a second computing portion. If the requested exhaust angle is smaller than the lower limit \u201czero\u201d, the control apparatus  corrects the target intake angle VTTin in correspondence with the margin between the requested displacement angle and the lower limit, using the second correcting value H.","In this embodiment, the requested actuation value of the exhaust camshaft  corresponds to the resulting valve actuation, which is a value set as the target exhaust angle VTTex when the actual intake angle VTin reaches the target intake angle VTTin. If the requested actuation value is smaller than the lower limit \u201czero\u201d, the target intake angle VTTin is corrected in correspondence with the margin between the requested actuation value and \u201czero\u201d. In this manner, the target exhaust angle VTTex is prevented from being set to a value smaller than the lower limit \u201czero\u201d. The actual exhaust angle VTex is thus reliably adjusted to the target exhaust angle VTTex. Accordingly, also in this case, the target valve overlapping amount ORT is reliably achieved.","The procedure for computing the second correcting value H will now be described with reference to the flowchart of . The procedure is performed by the control apparatus  as an interrupting procedure at predetermined crank angles.","First, in step S, the control apparatus  computes a corrected target intake angle VTRin, which is a corrected target displacement angle of the intake camshaft , based on the target intake angle base VTinb and the first correcting value H, using the following equation (6). The corrected target intake angle VTRin corresponds to a target displacement angle of the intake camshaft , which is set for optimizing the valve overlapping amount in correspondence with retarding of the spark timing.\n\n\u2003\u2003(6)\n\n","Next, in step S, a requested exhaust angle EXREST, which corresponds to the aforementioned requested exhaust angle, is computed in correspondence with the corrected target intake angle VTRin, the guard value G, and the initial value X, using the following equation (7).\n\n\u2212()\u2003\u2003(7)\n\n","The equation (7) is obtained in the following manner. First, the aforementioned equation (2) representing the relationship between the actual intake angle VTin and the valve overlapping amount is modified. This modification is performed by replacing the valve overlapping amount OR in the Equation (2) with the guard value G, the actual intake angle VTin with the corrected target intake angle VTRin, and the actual exhaust angle VTex with the requested exhaust angle EXREST.","The requested exhaust angle EXREST obtained by the equation (7) corresponds to an actual exhaust angle VTex required for ensuring to obtain the guard value G with the corrected target intake angle VTRin set.","If the corrected target intake angle VTRin is set as the target intake angle VTTin for ensuring to obtain the guard value G, the actual exhaust angle VTex is adjusted in the permitted range, as long as the requested exhaust angle EXREST is equal to or larger than the lower limit \u201czero\u201d.","However, if the requested exhaust angle EXREST is smaller than the lower limit when the corrected target intake angle VTRin is set as the target intake angle VTTin in the aforementioned manner, the actual exhaust angle VTex cannot be adjusted to the target exhaust angle VTTex. This makes it necessary to correct the target intake angle VTTin. In this case, the margin between the requested exhaust angle EXREST and the lower limit \u201czero\u201d corresponds to an unachieved amount of the adjustment of the actual exhaust angle VTex with respect to the target exhaust angle VTTex.","In other words, based on the requested exhaust angle EXREST obtained by the equation (7), it is determined whether or not the actual exhaust angle VTex can be adjusted to the target exhaust angle VTTex. Further, if the determination is negative, the requested exhaust angle EXREST indicates the unachieved adjustment amount of the actual exhaust angle VTex with respect to the target exhaust angle VTTex.","Accordingly, if the requested exhaust angle EXREST obtained by the equation (7) is equal to or larger than the lower limit \u201czero\u201d, the actual exhaust angle VTex can be adjusted to the target exhaust angle VTTex. In contrast, if the requested exhaust angle EXREST obtained by the equation (7) is smaller than \u201czero\u201d, the obtained result corresponds to the unachieved adjustment amount of the actual exhaust angle VTex with respect to the target exhaust angle VTTex.","In the equation (7), the guard value G may be replaced by the guarded target valve overlapping amount ORG. However, the guard value G corresponds to the maximum value of the target valve overlapping amount ORT. Therefore, as long as the guard value G is ensured to be obtained, the guarded target valve overlapping amount ORG is also ensured to be obtained. The equation (8) of the illustrated embodiment thus employs the guard value G instead of the guarded target valve overlapping amount ORG.","After computing the requested exhaust angle EXREST, the control apparatus  determines, in step S, whether or not the requested exhaust angle EXREST is smaller than the lower limit \u201c0\u201d. If the determination is positive (YES in step S), the actual exhaust angle VTex cannot achieve the requested exhaust angle EXREST. The unachieved adjustment amount of the actual exhaust angle VTex (the margin between the resulting target exhaust angle VTTex and \u201czero\u201d) corresponds to the absolute value of the requested exhaust angle EXREST. Thus, in step S, the absolute value of the requested exhaust angle EXREST is set to the second correcting value H for correcting the target intake angle VTTin.","If it is determined that the requested exhaust angle EXREST is equal to or larger than \u201czero\u201d (NO in step S), the adjustment of the actual exhaust angle VTex can achieve the requested exhaust angle EXREST. In this case, the second correcting value H for correcting the target intake angle VTTin is set to \u201czero\u201d in step S.","The second correcting value H, which is obtained in the above-described manner, is reflected in the correcting value H of the equation (3). The target intake angle base VTinb is thus corrected by the first correcting value H and the second correcting value H in correspondence with the unachieved adjustment amount of the actual exhaust angle VTex.","When the requested exhaust angle EXREST is equal to or larger than \u201czero\u201d, the second correcting value H is set to \u201czero\u201d. In this case, the target intake angle base VTinb is corrected with only the first correcting value H.",{"@attributes":{"id":"p-0133","num":"0155"},"figref":["FIG. 9","FIG. 9(","FIG. 9("],"i":["a","b"],"b":["2","2"]},"As indicated in ), if the second correcting value H is not employed, advancing of the actual exhaust angle VTex is unachieved with respect to the target exhaust angle VTTex advanced exceeding the lower limit \u201czero\u201d. The corresponding actual valve overlapping amount OR thus may become larger than the target valve overlapping amount ORT in correspondence with the unachieved advancing amount of the actual exhaust angle VTex, which is the margin between the target exhaust angle VTTex and the lower limit \u201czero\u201d.","In contrast, as indicated by ), the second correcting value H is employed. The target intake angle VTTin is retarded in correspondence with the second correcting value H, which corresponds to the unachieved advancing amount of the actual exhaust angle VTex with respect to the requested exhaust angle EXREST as shown in ). The target exhaust angle VTTex is then determined from the actual intake angle VTin, which is adjusted to the target intake angle VTTin at last, and the target valve overlapping amount ORT.","The unachieved advancing amount of the actual exhaust angle VTex is thus compensated by the second correcting value H. Accordingly, the actual exhaust angle VTex is adjusted to the target exhaust angle VTTex, which is equal to or larger than the lower limit of the actual exhaust angle VTex, and the corresponding actual valve overlapping amount OR is adjusted to the target valve overlapping amount ORT.","The illustrated embodiment has the following advantages.","(1) In the illustrated embodiment, the target exhaust angle VTTex is computed in correspondence with the target valve overlapping amount ORT and the actual intake angle VTin, which are obtained in accordance with the engine operational state. The target valve overlapping amount ORT is thus achievable even before the phase adjustment of the actual intake angle VTin and the actual exhaust angle VTex is completed. In other words, the valve overlapping amount is adjusted relatively quickly.","(2) Further, the valve overlapping amount is varied always toward the target valve overlapping amount ORT. This suppresses the undesirable variation of the valve overlapping amount in the valve timing adjustment. The engine operational stage is thus controlled further preferably during the adjustment of the actual intake angle VTin and the actual exhaust angle VTex.","(3) The upper limit of the valve overlapping amount is restricted by the guard value G. The guard value G is set according to the KCS learned value AG and the engine load L. As shown in ) and , this makes it possible for the guard value G to restrict the upper limit of the target valve overlapping amount to a value smaller than the value at which the internal EGR amount becomes excessively large when the spark timing is retarded for suppressing knocking. In [Engine Operational State ] as shown in ), if the target valve overlapping amount ORT becomes larger than the guard value G, the target valve overlapping amount ORT is decreased by the upper limit restriction with the guard value G correspond to the spark time retarding. In this manner, the actual valve overlapping amount is restricted to the target valve overlapping amount ORT, thus suppressing excessive increase of the internal EGR amount. In contrast, in [Engine Operational State ] as shown in ), the target valve overlapping amount may become smaller than the guard value G even when the spark timing is retarded. If this is the case, the upper limit restriction of the target valve overlapping amount ORT by the guard value G is not performed. This prevents the valve overlapping amount from becoming excessively small due to the upper limit restriction for suppressing excessive increase of the internal EGR amount caused by the retarding of the spark timing.","(4) When the engine operational state corresponds to zone E of the map of , the guard value G is decreased as the KCS learned value AG is changed to a value retarding the spark timing to suppress the knocking. The guard value G is varied continuously in function with the KCS learned value AG. Accordingly, in terms of the upper restriction of the valve overlapping amount by the guard value G, the valve overlapping amount is varied smoothly by varying the guard value G in this manner.","(5) When the engine operational state corresponds to zone E of the map of  in which the retarding amount of the spark timing is relatively small, the change of the optimal (target) valve overlapping amount caused by the retarded spark timing with respect to the actual valve overlapping amount is relatively small. Thus, such change of the target valve overlapping amount is unlikely to cause a problem. In this case, the guard value G is set to a value equal to the target valve overlapping amount ORT. Accordingly, the guarded target valve overlapping amount ORG is set to the target valve overlapping amount ORT, and the item [(ORT\u2212ORG)\u00d7K] of the equation (5) is maintained as \u201czero\u201d. This makes it unnecessary to perform the upper limit restriction of the valve overlapping amount when the engine operational state corresponds to zone E. The valve overlapping amount is thus prevented from becoming excessively small due to restriction, and the internal EGR amount does not become excessively small.","(6) The lower limit of the guard value G, which is obtained referring to the ), () and , is restricted not to become smaller than the minimum value varied according to the engine operational state. This prevents the guard value G from being set to an excessively small value. Therefore, in the upper limit restriction of the valve overlapping amount by the guard value G, the valve overlapping amount does not become excessively small.","(7) When the engine operational state corresponds to zone E of the map, which is the relatively high load state, the intake air amount of the engine  is increased. To meet the requirement, the valve overlapping amount is increased to a relatively large level. If the valve overlapping amount is subjected to the upper limit restriction by the guard value G and thus maintained as a relatively small value, the required intake air amount cannot be obtained, hampering the output performance of the engine . As has been described, when the intake air amount of the engine  is relatively large, the internal EGR amount, which is affected by the valve overlapping amount, is relatively small. It is thus unnecessary to perform the controlling for suppressing excessive increase of the internal EGR amount. Further, when the engine  is operated in the relatively high load state corresponding to zone E of the map, the guard value G is set to a value equal to the target valve overlapping amount ORT. Also, the item [(ORT\u2212ORG)\u00d7K] of the equation (5) is maintained as null. The upper limit restriction of the valve overlapping amount is thus not performed. This prevents the valve overlapping amount from becoming excessively small, and the output performance of the engine  is maintained at a relatively high level.","(8) When the valve overlapping amount is subjected to the upper limit restriction by the guard value G, the valve overlapping amount is decreased by advancing the actual intake angle VTin and retarding the actual exhaust angle VTex. The ratio between the advancing amount of the actual intake angle VTin and the retarding amount of the actual exhaust angle VTex is varied in correspondence with the distributing coefficient K, which is set depending on the engine operational state. This makes it possible to set the ratio to an appropriate value according to the engine operational state. The decreasing of the valve overlapping amount is thus performed appropriately according to the engine operational state.","(9) As has been described, the guard value G is determined using the map of . In other words, the guard value G is selected in a manner suitable for each of the engine operational states corresponding to zones E, E, or E, by using the single map.","(10) The requested exhaust angle EXREST is computed according to the guard value G, which is the maximum value of the permitted range of the target valve overlapping amount ORT, and the corrected target intake angle VTRin. If the requested exhaust angle EXREST is advanced exceeding the lower limit \u201czero\u201d of the permitted range of the actual exhaust angle VTex, the margin between the requested exhaust angle EXREST corresponding to the exceeding amount and the lower limit is set as the second correcting value H. The intake target angle base VTinb is thus corrected with the second correcting value H, obtaining the target intake angle VTTin. This makes it possible to set the target exhaust angle VTTex to a value not smaller than the lower limit \u201czero\u201d. The actual exhaust angle VTex is thus adjusted to the target exhaust angle VTTex. Accordingly, the target valve overlapping amount ORT is achieved reliably.","(11) The valve timings corresponding to the control limits of the exhaust valve timing varying mechanism are set as the upper and lower limits of the actual exhaust angle VTex. In other words, the exhaust valve timing varying mechanism is incapable of advancing or retarding the actual exhaust angle VTex exceeding such limits. The permitted range of the actual exhaust angle VTex is set in accordance with a variable range of the exhaust valve timing varying mechanism . In this regard, the limit of the permitted range of the actual exhaust angle VTex is preferably adjusted.","The present invention is not restricted to the illustrated embodiment but may be modified in the following forms.","In the illustrated embodiment, the guard value G is computed referring to the ), () and , according to the engine load and retarding of the spark timing for suppressing knocking. However, the guard value G may be corrected or adjusted in accordance with additional engine conditions such as the engine speed.","Instead of the map, the guard value G may be computed using an equation.","When the valve overlapping amount is decreased by the upper limit restriction with the guard value G, the decreasing rate of the valve overlapping amount may be varied in accordance with the engine operational state including the engine speed and engine load. The decreasing rate of the valve overlapping amount thus can be set to an optimal value of the valve overlapping amount corresponding to the engine operational state. That is, the valve overlapping amount is decreased in a manner suitable for the engine operational state.","In the illustrated embodiment, the guard value G is varied continuously in correspondence with the KCS learned value AG, when the engine operational state corresponds to the zone E of the map of . However, the guard value G may be varied in a stepped manner in correspondence with the KCS learned value AG.","In the illustrated embodiment, the procedure for computing the first correcting value H may be omitted and the guard value G of the equation (7) may be replaced by the target valve overlapping amount ORT. In this case, the computation of the first correcting value H is not performed, and the first correcting value H is set to \u201czero\u201d. Therefore, the corrected target intake angle VTRin becomes a value equal to the target intake angle base VTinb (see the equation (6)).","Further in the aforementioned modification omitting the first correcting value H, the requested exhaust angle EXREST is calculated in correspondence with the target valve overlapping amount ORT and the target intake angle base VTinb. If the requested exhaust angle EXREST is smaller than the lower limit \u201czero\u201d, the absolute value of the requested exhaust angle EXREST is set as the second correcting value H. The target intake angle base VTinb is then corrected with the second correcting value H, determining the final, target intake angle VTTin. The target exhaust angle VTTex is thus set to a value equal to or larger than the lower limit \u201czero\u201d. It is thus possible to adjust the actual exhaust angle VTex to the target exhaust angle VTTex. Accordingly, in this modification, the target valve overlapping amount ORT is reliably achieved. Also, the advantage (11) of the illustrated embodiment is reliably obtained.","In the illustrated embodiment and above-described modifications, the lower limit (advance limit) of the target exhaust value VTTex, which corresponds to the maximally advanced angle of the actual exhaust angle VTex, is set as the lower limit of the control range of the exhaust valve timing varying mechanism . And when the requested exhaust angle EXREST is advanced exceeding the lower limit, the target intake angle VTTin is retarded in correspondence with the margin between the requested exhaust angle EXREST and the lower limit.","With reference to ), the requested exhaust angle EXREST is retarded exceeding the upper limit of the control range of the exhaust valve timing varying mechanism , which is the maximally retarded angle. In this case, retarding of the actual exhaust angle VTex may be unachieved in correspondence with the exceeding amount of the target exhaust angle VTTex with respect to the upper limit, which is the margin between the requested exhaust angle EXREST and the upper limit. The resulting valve overlapping amount OR may become insufficient with respect to the target valve overlapping amount ORT.","However, referring to ), when the requested exhaust angle EXREST is retarded with respect to the upper limit, the target intake angle VTTin is advanced in correspondence with the margin between the requested exhaust angle EXREST and the upper limit. The target exhaust angle VTTex is advanced in correspondence with the margin. This prevents the final target exhaust angle VTTex from being set to a value larger than the upper limit (the retarding limit). In other words, by advancing the target intake angle VTTin in correspondence with the margin between the requested exhaust angle EXREST and the upper limit of the actual exhaust angle VTex, retarding of the actual exhaust angle VTex is prevented from becoming insufficient. The target valve overlapping amount ORT is thus achieved.","The limits of the actual exhaust angle VTex may include the upper and lower limits of the control range of the exhaust valve timing varying mechanism ","In the illustrated embodiment and above-described modifications, the control limit of the exhaust valve timing varying mechanism is set to a value corresponding to the actual exhaust angle VTex (limit of the displacement angle of the exhaust camshaft ). By the way, the valve actuation such as the actual exhaust angle VTex affect the operation efficiency of the engine . If an excessively large or small value is set as the limit of the actual exhaust angle VTex, the operation efficiency of the engine  may be lowered. Thus, limits of the valve actuation in terms of a sufficient operation efficiency of the engine  such as a engine operational state, a engine efficiency, combustion efficiency, a engine speed, or engine load to be prevented from being hampered may be set to the limits of the actual exhaust angle VTex. This suppresses the lowering of the engine operation efficiency preferably.","In the illustrated embodiment and above-described modifications, the target exhaust angle VTTex is computed based on the actual intake angle VTin and the target valve overlapping amount ORT. However, in a similar manner, the target intake angle VTTin may be determined based on the actual exhaust angle VTex and the target valve overlapping amount ORT. In this case, the first and second correcting values H, H may be computed as correcting values for the target exhaust angle VTTex, in a manner similar to those of the illustrated embodiment.","In the illustrated embodiment and above-described modifications, the displacement angles of the intake valve  and the exhaust valve  are used as the values representing the valve timings of the intake valve  and the exhaust valve , respectively. However, the present invention is not restricted to this but may employ different parameters as the values representing the valve timings of the intake and exhaust camshafts , , other than the displacement angles.","The variable valve mechanism of the illustrated embodiment and above-described modifications varies the valve timing of each of the intake valve  and the exhaust valve  as the valve actuation. However, the valve actuation control apparatus of the present invention does not necessarily have to be applied to this type of the variable valve mechanism. The present invention may be applied to, for example, a variable valve mechanism that varies the valve lift amount and valve timing of each of the intake valve  and the exhaust valve  and a variable valve mechanism that varies only the valve lift amount of each of the valves. Even if the valve timing is fixed and only the valve lift amount of each valve is varied by the variable valve mechanism, the internal EGR amount is changed in correspondence with the variation of the valve lift amount, thus leading to the problem described in BACKGROUND OF THE INVENTION.","In these case, procedures similar to those of the illustrated embodiment and above-described modifications may be performed using the valve lift amount of each valve and an amount corresponding to the valve overlapping amount, which is, for example, an assumed valve overlapping amount obtained in correspondence with the valve lift amount and the valve timing of each valve. The advantages of the illustrated embodiment and above-described modifications are thus obtained.","More specifically, for example, the control apparatus  may function as a first computing portion for computing a target valve lift amount of one of the intake valve  or the exhaust valve , which is a first valve, according to the engine operational state. Based on the obtained target valve lift amount and the actual valve lift amount of the first valve, a target valve lift amount of the remaining valve, which is a second valve, is computed.","Further, a requested valve lift amount of the second valve may be computed in correspondence with the target valve overlapping amount and the target valve lift amount of the first valve. If the requested valve lift amount of the second valve is larger than an upper limit of an permitted range of the second valve or smaller than a lower limit of the range, the control apparatus  functions as a target actuation correcting portion (a second computing portion) that corrects the target valve lift amount of the first valve in correspondence with the margin between the requested valve lift amount of the second valve and the upper or lower limit of the corresponding permitted range.","More specifically, for example, if the requested valve lift amount of the second valve is larger than the upper limit of the corresponding permitted range, the target valve lift amount of the first valve is increased in correspondence with the margin between the requested valve lift amount of the second valve and the upper limit of the second valve. This prevents the target valve overlapping amount from becoming smaller than the actual valve overlapping amount.","In contrast, if the requested valve lift amount of the second valve is smaller than the lower limit of the corresponding permitted range, the target valve lift amount of the first valve is decreased in correspondence with the margin between the requested valve lift amount of the second valve and the corresponding lower limit of the second valve. This prevents the target valve overlapping amount from becoming larger than the actual valve overlapping amount.","In the illustrated embodiment and above-described modifications, the present invention is applied to the valve actuation control apparatus for the gasoline engine . However, the present invention is not restricted to this type of application but may be applied to different types of engines as long as the engines include a variable valve mechanism varying valve actuation of an intake valve and a separate variable valve mechanism for varying valve actuation of an exhaust valve."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The invention, together with objects and advantages thereof, may best be understood by reference to the following description of the presently preferred embodiments together with the accompanying drawings in which:",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1","b":"1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2","b":"1"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIGS. 4(","FIG. 1"],"i":["a","b"],"b":"4"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIGS. 5(","FIG. 1"],"i":["a","b"],"b":["5","1"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 7","FIG. 1"],"b":"1"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 8","FIG. 1"],"b":"2"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIGS. 9(","FIG. 1"],"i":["a","b"],"b":"9"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIGS. 10(","FIG. 1"],"i":["a","b"],"b":"10"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 11"}]},"DETDESC":[{},{}]}
