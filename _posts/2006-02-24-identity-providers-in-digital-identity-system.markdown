---
title: Identity providers in digital identity system
abstract: A digital identity system includes a principal including an identity selector programmed to receive a security policy from a relying party, review a plurality of digital identities associated with the principal, and request one or more claims related to an identity of the principal from an identity provider. The principal is further programmed to receive one or more security tokens including the claims from the identity provider, and to forward the security tokens to the relying party.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08104074&OS=08104074&RS=08104074
owner: Microsoft Corporation
number: 08104074
owner_city: Redmond
owner_country: US
publication_date: 20060224
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["COPYRIGHT NOTICE","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["A portion of the disclosure of this patent document contains material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the United States Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","Identity is an important component enabling interactions in everyday life. For example, an individual's credit card enables merchants to identify and allow the individual to purchase products and services on credit. The same is true in the digital world, where digital identities enable digital interactions. For example, digital identities can be used to authenticate parties to each other in the digital environment. Knowing with whom one is interacting is an important element in deciding whether or not to trust and provide information to a party.","An entity can use a digital identity to authenticate a party's identity or other personal information about the party. A digital identity can be issued by another entity, such as a trusted third party, and can include information about the party. Examples of such information include the party's name, address, social security number, age, telephone number, etc. A party can have multiple digital identities issued by one or more other entities, similar to that of an individual having a driver's license, a credit card, and a frequent flyer card.","In the online environment, a third party, such as an online service, can require that a party authenticate its identity before the third party allows the party to access goods or services. In order to authenticate its identity, the party can forward to the third party a digital identity in the form of a security token issued by another entity trusted by the third party. Once authentication is complete, the third party can provide access to the goods or services requested by the party.","In typical systems, it is necessary for the party to manually collect all of the security tokens required by the third party and then provide the information to the third party for authentication. In many cases, the party has little or no ability to control the contents of a security token issued by another entity. When the party shares a security token with a third party during authentication of the party's identity, the party's privacy can become a concern. For example, the party can unknowingly share personal information in the security token with the third party that the party does not need to share for authentication. In addition, the party can unknowingly provide personal information that the party does not want to share with the third party (e.g., social security number, telephone number, etc.).","This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used as an aid in determining the scope of the claimed subject matter.","One aspect relates to a digital identity system including a principal including an identity selector programmed to receive a security policy from a relying party, review a plurality of digital identities associated with the principal, and request one or more claims related to an identity of the principal from an identity provider. The principal is further programmed to receive one or more security tokens including the claims from the identity provider, and to forward the security tokens to the relying party.","Another aspect relates to method for providing a digital identity, the method including: receiving a request for one or more claims related to an identity of a principal; providing the claims; transforming the claims; and generating a security token including the claims.","Another aspect relates to a computer-readable medium having computer-executable instructions for performing steps including: receiving a request for one or more claims related to an identity of a principal; providing the claims; transforming the claims; and generating a security token including the claims.","Example embodiments will now be described more fully hereinafter with reference to the accompanying drawings. These embodiments are provided so that this disclosure will be thorough and complete. Like numbers refer to like elements throughout.","Example embodiments disclosed herein relate generally to digital identity systems including digital identities that can be exchanged between a first party and a second party to authenticate an identity and\/or information related to the first party. In example embodiments herein, the first party can be an individual, a company, an organization, a computer or other device, a service, or any other type of entity. The first party is referred to herein as the principal. In example embodiments, the second party can be an individual, a company, an organization, a computer or other device, a service, or any other type of entity. The second party has goods, services, or other information that the principal desires to access and\/or obtain. The second party is referred to herein as the relying party.","In example embodiments disclosed herein, digital identity systems enable the exchange of digital identities between parties across different subsystems using different technologies. Generally, the parties\/subsystems of these example digital identity systems can include one or more of the following attributes:\n\n","Referring now to , an example digital identity system  is shown including a principal  and a relying party . Principal  and relying party  can communicate with each other over one or more networks, such as the Internet . In example embodiments, principal  can request goods, services, or other information from relying party . Relying party  can require authentication of the identity of or information about principal  before or in conjunction with providing the requested goods, services, or information to principal .","Also shown in  is an example identity provider  including a claims transformer  and a claims authority . The claims transformer  is sometimes referred to as a \u201csecurity token service.\u201d In the example shown, identity provider  can provide one or more claims about principal . A claim is a statement or assertion made about the principal related to the principal's identity or information about the principal such as, for example, name, address, social security number, age, etc. As described further below, identity provider I  can provide claims to principal  and\/or relying party  in the form of a signed security token. In example embodiments, identity provider  is in a trusted relationship with relying party , so that relying party  trusts the claims in the signed security token from identity provider .","Although claims transformer  and claims authority  of identity provider  are shown as separate entities in , in alternative embodiments claims transformer  and claims authority  can be the same entity or different entities.","In example embodiments disclosed herein, system  is implemented as an InfoCard system provided in the WINFX application programming interface developed by Microsoft Corporation of Redmond, Wash. The InfoCard system allows principals to manage multiple digital identities from various identity providers.","The InfoCard system utilizes a web services platform such as the Windows Communication Foundation in the WINFX application programming interface. In addition, the InfoCard system is built using the Web Services Security Specifications propagated at least in part by Microsoft Corporation of Redmond, Wash. These specifications include a message security model WS-Security, an endpoint policy WS-SecurityPolicy, a metadata protocol WS-MetadataExchange, and a trust model WS-Trust. Generally, the WS-Security model describes how to attach security tokens to messages. The WS-SecurityPolicy model describes end point policy requirements, such as required security tokens and supported encryption algorithms. Such policy requirements can be conveyed and negotiated using a metadata protocol defined by WS-MetadataExchange. The WS-Trust model describes a framework for trust models that enables different web services to interoperate.","Example embodiments described herein refer to the Web Services Security Specifications described above. In alternative embodiments, one or more other specifications can be used to facilitate communications between the various subsystems in system .","In example embodiments, principal , relying party , and identity provider  can each utilize one or more a computer systems. Each computer system includes one or more of volatile and non-volatile computer readable media. Computer readable media includes storage media, as well as removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. The computer system also includes communication media that typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. Communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, RF, infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.","The computer system includes an operating system, such as the WINDOWS operating system from Microsoft Corporation, and one or more programs stored on the computer readable media. The computer system also includes one or more input and output communications devices that allow the user to communicate with the computer system, as well as allow the computer system to communicate with other devices. Communications between the computer systems used by principal , relying party , and identity provider  can be implemented using wired and\/or wireless technologies.","Referring now to , example principal  and relying party  are again shown. In the example shown, principal  sends a request to relying party  for goods, services, or other information. For example, in one embodiment, principal  sends a request to relying party  for access to information from relying part  that principal  desires.","The request sent by principal  can include a request for the authentication requirements of relying party  using, for example, the mechanisms provided in WS-MetadataExchange. In response to the request, relying party  sends principal  requirements for relying party  to authenticate its identity or other information about principal . The requirements of relying party  for authentication are referred to herein as a security policy. The security policy defines the set of claims from a trusted identity provider that the principal  must provide to relying party  for relying party  to authenticate principal .","In one example, relying party  specifies its security policy using WS-SecurityPolicy, including both the claim requirements and type of security token required by relying party . A basic form for a security policy in accordance with WS-SecurityPolicy is illustrated in the example below.",{"@attributes":{"id":"p-0035","num":"0038"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<sp:IssuedToken ...>"},{"entry":"\u2003\u2003<sp:RequestSecurityTokenTemplate>"},{"entry":"\u2003\u2003\u2003\u2003<wst:TokenType>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:assertion"},{"entry":"\u2003\u2003\u2003\u2003<\/wst:TokenType>"},{"entry":"\u2003\u2003\u2003\u2003<wst:Claims"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003wst:Dialect=\u201chttp:\/\/schemas.microsoft.com\/ws\/2005\/05\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003identity\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ic:Claim"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003URI=\u201chttp:\/\/...\/ws\/2005\/05\/identity\/claims\/givenname\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003<wst:Claims>"},{"entry":"\u2003\u2003<\/sp:RequestSecurityTokenTemplate>"},{"entry":"<\/sp:IssuedToken>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0003","list-style":"none"},"li":{"@attributes":{"id":"ul0003-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0004","list-style":"none"},"li":["First Name\u2014Type: xs:string\u2014preferred name or first name of a subject;","Last Name\u2014Type: xs:string\u2014surname or family name of a subject;","Email Address\u2014Type: xs:string\u2014preferred address for the \u201cTo:\u201d field of email to be sent to the subject, usually of the form <user>@<domain>;","Street Address\u2014Type: xs:string\u2014street address component of a subject's address information;","Locality Name or City\u2014Type: xs:string\u2014locality component of a subject's address information;","State or Province\u2014Type: xs:string\u2014abbreviation for state or province name of a subject's address information;","Postal Code\u2014Type: xs:string\u2014postal code or zip code component of a subject's address information;","Country\u2014Type: xs:string\u2014country of a subject;","Primary or Home Telephone Number\u2014Type: xs:string\u2014primary or home telephone number of a subject;","Secondary or Work Telephone Number\u2014Type: xs:string\u2014secondary or work telephone number of a subject;","Mobile Telephone Number\u2014Type: xs:string\u2014mobile telephone number of a subject;","Date of Birth\u2014Type: xs:date\u2014the date of birth of a subject in a form allowed by the xs:date data type;","Gender\u2014Type: xs:token\u2014gender of a subject that can have any of these exact string values\u2014\u201cMale,\u201d \u201cFemale\u201d or \u201cUnspecified;\u201d and","Private Personal Identifier\u2014Type: xs:base64binary\u2014indicates a private identifier that identifies the subject to a relying party."]}}}},"The security policy can also be used to specify the type of security token required by relying party , or a default type can be used as determined by the identity provider. For example, the above-noted policy specifies a certain type of security token that is required by relying party  (see the \u201cwst:TokenType\u201d element).","In addition to specifying the required claims and token type, the security policy can specify a specific identity provider required by the relying party (see the \u201csp:Issuer\u201d element), as shown below.",{"@attributes":{"id":"p-0038","num":"0055"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<sp:IssuedToken sp:Usage=\u201cxs:anyURI\u201d"]},{"entry":[{},"sp:IncludeToken=\u201cxs:anyURI\u201d ...>"]},{"entry":[{},"\u2003\u2003<sp:Issuer>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<!-- Identity provider's service endpoint -->"]},{"entry":[{},"\u2003\u2003<\/sp:Issuer>"]},{"entry":[{},"\u2003\u2003<sp:RequestSecurityTokenTemplate>"]},{"entry":[{},"\u2003\u2003\u2003\u2003..."]},{"entry":[{},"\u2003\u2003<\/sp:RequestSecurityTokenTemplate>"]},{"entry":[{},"\u2003\u2003<wsp:Policy>"]},{"entry":[{},"\u2003\u2003\u2003\u2003..."]},{"entry":[{},"\u2003\u2003<\/wsp:Policy>"]},{"entry":[{},"\u2003\u2003..."]},{"entry":[{},"<\/sp:IssuedToken>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{},"b":"110"},"In some embodiments, principal  can require that relying party  identify itself to principal  so that principal  can decide whether or not to satisfy the security policy of relying party , as described below. In one example, relying party  identifies itself using an X509 certificate. In other embodiments, relying party  can identify itself using other mechanisms such as, for example, a Secure Sockets Layer (\u201cSSL\u201d) server certificate.","For example, in one embodiment, endpoint verification of relying party  is provided using the provisions in WS-Addressing, such as the \u201cwsid:Identity\u201d element in the example X509v3 certificate shown below:",{"@attributes":{"id":"p-0041","num":"0058"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<wsa:EndpointReference>"]},{"entry":[{},"\u2003\u2003<wsa:Address>http:\/\/...<\/wsa:Address>"]},{"entry":[{},"\u2003\u2003<wsid:Identity>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<ds:KeyInfo>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<ds:X509Data>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ds:X509Certificate>...<\/ds:X509Certificate>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/ds:X509Data>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/ds:KeyInfo>"]},{"entry":[{},"\u2003\u2003<\/wsid:Identity>"]},{"entry":[{},"<\/wsa:EndpointReference>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Referring now to , an example computer system  of principal  includes one or more digital identities  for principal . These digital identities  (sometimes referred to as \u201cInfoCards\u201d in the InfoCard system provided in the WINFX application programming interface developed by Microsoft Corporation of Redmond, Wash.) are artifacts that represent the token issuance relationship between principal  and a particular identity provider, such an identity provider . In the examples shown, each digital identity  corresponds to a particular identity provider, and principal  can have multiple digital identities  from the same or different identity providers.","Digital identities  can include, among other information, the identity provider's issuance policy for security tokens, including the type of tokens that can be issued, the claim types for which it has authority, and\/or the credentials to use for authentication when requesting security tokens. In example embodiments, digital identities  are represented as XML documents that are issued by identity providers  and stored by principals  on a storage device such as computer system . An example format for a digital identity  is provided below.",{"@attributes":{"id":"p-0044","num":"0061"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<ic:InfoCard xml:lang=\u201cxs:language\u201d? ...>"},{"entry":"\u2003\u2003<ic:InfoCardReference>"},{"entry":"\u2003\u2003\u2003\u2003<ic:CardId> xs:anyURI <\/ic:CardId>"},{"entry":"\u2003\u2003\u2003\u2003<ic:CardVersion> xs:unsignedInt <\/ic:CardVersion> ?"},{"entry":"\u2003\u2003<\/ic:InfoCardReference>"},{"entry":"\u2003\u2003<ic:CardName> xs:string <\/ic:CardName> ?"},{"entry":"\u2003\u2003<ic:CardImage MimeType="},{"entry":"\u2003\u2003\u201cxs:string\u201d> xs:base64Binary <\/ic:CardImage> ?"},{"entry":"\u2003\u2003<ic:IssuerName> xs:string <\/ic:IssuerName>"},{"entry":"\u2003\u2003<ic:TimeIssued> xs:dateTime <\/ic:TimeIssued>"},{"entry":"\u2003\u2003<ic:TimeExpires> xs:dateTime <\/ic:TimeExpires> ?"},{"entry":"\u2003\u2003<ic:TokenServiceReference>"},{"entry":"\u2003\u2003\u2003\u2003(<ic:TokenService>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<wsa:EndpointReference ...> ... <\/wsa:EndpointReference>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ic:CredentialHint>xs:string<\/ic:CredentialHint> ?"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003("},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ic:UserNamePasswordAuthenticate>..."},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ic:UserNamePass"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003wordAuthenticate> |"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ic:KerberosV5Authenticate>..."},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ic:KerberosV5Authenticate> |"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ic:X509V3Authenticate>..."},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ic:X509V3Authenticate> |"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ic:SelfIssuedAuthenticate>..."},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ic:SelfIssuedAuthenticate>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003)"},{"entry":"\u2003\u2003\u2003\u2003<\/ic:TokenService>) +"},{"entry":"\u2003\u2003<\/ic:TokenServiceReference>"},{"entry":"\u2003\u2003<ic:InfoCardPolicy>"},{"entry":"\u2003\u2003\u2003\u2003<ic:SupportedTokenTypes>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ic:TokenType URI=\u201cxs:anyURI\u201d \/> +"},{"entry":"\u2003\u2003\u2003\u2003<\/ic:SupportedTokenTypes>"},{"entry":"\u2003\u2003\u2003\u2003<ic:SupportedClaims>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003(<ic:SupportedClaim URI=\u201cxs:anyURI\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ic:DisplayTag> xs:string <\/ic:DisplayTag> ?"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ic:Description> xs:string <\/ic:Description> ?"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<\/ic:SupportedClaim>) +"},{"entry":"\u2003\u2003\u2003\u2003<\/ic:SupportedClaims>"},{"entry":"\u2003\u2003\u2003\u2003<ic:RequireAppliesTo \/> ?"},{"entry":"\u2003\u2003<\/ic:InfoCardPolicy>"},{"entry":"\u2003\u2003..."},{"entry":"<\/ic:InfoCard>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0005","list-style":"none"},"li":{"@attributes":{"id":"ul0005-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0006","list-style":"none"},"li":["\/ic:InfoCard\u2014an InfoCard issued by an identity provider;","\/ic:InfoCard\/@xml:lang\u2014an optional language identifier, using the language codes specified in [RFC 3066];","\/ic:InfoCard\/ic:InfoCardReference\u2014a specific reference for the InfoCard that should be used in future requests for security tokens from the identity provider based on that InfoCard;","\/ic:InfoCard\/ic:InfoCardReference\/ic:CardId\u2014this element provides a globally unique identifier in the form of a URI for the specific InfoCard;","\/ic:InfoCard\/ic:InfoCardReference\/ic:CardVersion\u2014this optional element provides a versioning epoch for the InfoCard issuance infrastructure used by the identity provider;","\/ic:InfoCard\/ic:CardName\u2014this optional element provides a friendly textual name for the issued InfoCard;","\/ic:InfoCard\/ic:CardImage\u2014this optional element contains a base64 encoded inline image that provides a graphical image for the issued InfoCard that can be displayed in user interfaces;","\/ic:InfoCard\/ic:CardImage\/@MimeType\u2014this attribute provides a MIME type specifying the format of the included logo image;","\/ic:InfoCard\/ic:IssuerName\u2014this element provides a friendly name for the issuer of the InfoCard;","\/ic:InfoCard\/ic:TimeIssued\u2014this element provides the date and time when the InfoCard was issued;","\/ic:InfoCard\/ic:TimeExpires\u2014this optional element provides the date and time after which the InfoCard should be treated as expired and invalid;","\/ic:InfoCard\/ic:TokenServiceReference\u2014this element provides an ordered list of child elements that specify the security token service endpoints, the corresponding authentication method and credentials needed to request security tokens;","\/ic:InfoCard\/ic:TokenServiceReference\/ic:TokenService\u2014this element provides a security token service reference;","\/ic:lnfoCard\/ic:TokenServiceReference\/ic:TokenService\/wsa:EndpointReference\u2014this element provides the endpoint reference for the security token service;","\/ic:InfoCard\/ic:TokenServiceReference\/ic:TokenService\/ic:CredentialHint\u2014this optional element provides a hint (string) to be displayed to the user to help provide the right credential;","\/ic:InfoCard\/ic:TokenServiceReference\/ic:TokenService\/<credential selector element>\u2014this element provides an unambiguous description of the credentials to use for authenticating to the security token service, with example credential types including Kerberos, X509, or self-issued credentials;","\/ic:InfoCard\/ic:InfoCardPolicy\u2014this element provides the token issuance policy of the identity that allows a principal to determine if the InfoCard satisfies a relying party's token requirements in a given interaction;","\/ic:InfoCard\/ic:InfoCardPolicy\/ic:SupportedTokenTypes\u2014this element contains the list of token types, as child elements, that the identity provider can issue;","\/ic:InfoCard\/ic:InfoCardPolicy\/ic:SupportedTokenTypes\/ic:TokenType (one or more)\u2014this element indicates an individual token type that is supported;","\/ic:InfoCard\/ic:InfoCardPolicy\/ic:SupportedClaims\u2014this element contains the list of claim types, as child elements, that the identity provider can provide in security tokens;","\/ic:InfoCard\/ic:InfoCardPolicy\/ic:SupportedClaims\/ic:SupportedClaim (one or more)\u2014this element indicates an individual claim type that is supported; and","\/ic:InfoCard\/ic:InfoCardPolicy\/ic:RequireAppliesTo\u2014this optional empty element indicates that the service requester (InfoCard system) must submit the relying party identity to the identity provider.\n\nAn example digital identity is provided below.\n"]}}}},{"@attributes":{"id":"p-0045","num":"0084"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<InfoCard"]},{"entry":[{},"\u2003\u2003xmlns=\u201chttp:\/\/schemas...\u201d"]},{"entry":[{},"\u2003\u2003xmlns:wsa=\u201chttp:\/\/schemas.xmlsoap.org\/ws\/2004\/08\/addressing\u201d"]},{"entry":[{},"\u2003\u2003xmlns:wsp=\u201chttp:\/\/schemas.xmlsoap.org\/ws\/2002\/12\/policy\u201d"]},{"entry":[{},"\u2003\u2003xml:lang=\u201cen-us\u201d>"]},{"entry":[{},"\u2003\u2003<InfoCardReference>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<CardId>http:\/\/...<\/CardId>"]},{"entry":[{},"\u2003\u2003<\/InfoCardReference>"]},{"entry":[{},"\u2003\u2003<CardName>...<\/CardName>"]},{"entry":[{},"\u2003\u2003<CardImage MimeType=\u201cimage\/gif\u201d> ... <\/CardImage>"]},{"entry":[{},"\u2003\u2003<IssuerName>XYZ Identity Provider<\/IssuerName>"]},{"entry":[{},"\u2003\u2003<TimeIssued>2003-08-24T00:30:05Z<\/TimeIssued>"]},{"entry":[{},"\u2003\u2003<TokenServiceReference>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<TokenService>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<wsa:EndpointReference>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<wsa:Address>http:\/\/...<\/wsa:Address>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<wsid:Identity>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ds:KeyInfo>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ds:X509Data>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<ds:X509Certificate>...<\/ds:"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003X509Certificate>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ds:X509Data>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/ds:KeyInfo>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<\/wsid:Identity>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/wsa:EndpointReference>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<UserNamePasswordAuthenticate>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003<Username>...<\/Username>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/UserNamePasswordAuthenticate>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/TokenService>"]},{"entry":[{},"\u2003\u2003<\/TokenServiceReference>"]},{"entry":[{},"\u2003\u2003<ic:InfoCardPolicy>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<SupportedTokenTypes>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<TokenType URI="]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003\u201curn:oasis:names:tc:SAML:1.0:assertion\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/SupportedTokenTypes>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<SupportedClaims>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<SupportedClaim"]},{"entry":[{},"\u2003\u2003\u2003\u2003URI=\u201chttp:\/\/...\/ws\/2005\/05\/identity\/claims\/givenname\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<DisplayTag>Given Name<\/DisplayTag>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/SupportedClaim>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<SupportedClaim"]},{"entry":[{},"\u2003\u2003\u2003\u2003URI=\u201chttp:\/\/...\/ws\/2005\/05\/identity\/"]},{"entry":[{},"\u2003\u2003\u2003\u2003claims\/surname\u201c> <DisplayTag>Last"]},{"entry":[{},"\u2003\u2003\u2003\u2003Name<\/DisplayTag>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<\/SupportedClaim>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<\/SupportedClaims>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<RequireAppliesTo \/>"]},{"entry":[{},"\u2003\u2003<\/ic:InfoCardPolicy>"]},{"entry":[{},"<\/InfoCard>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"Digital identities  can be issued to principal  using a variety of methods. For example, in some embodiments, principal  can request a digital identity  over a hypertext transfer protocol connection, or digital identities  can be emailed from identity provider  to principal . In example embodiments, identity provider  signs each digital identity  sent to principal  so that principal  can verify that the digital identity  is from identity provider .","Computer system  also includes an identity selector . Generally, identity selector  selects between one or more digital identities  of principal  on computer system  to request and obtain security tokens from one or more identity providers, such as identity provider . For example, as described further below, when a security policy from relying party  is received by computer , identity selector  is programmed to identify one or more digital identities  that satisfy one or more of the claims required by the security policy using the information in digital identities . In one embodiment, identity selector  presents the one or more relevant digital identities  to principal , and principal  can decide whether or not to use digital identities .","Referring now to , once principal  receives the security policy from relying party , principal  can communicate with (using, for example, computer ) one or more identity providers to gather the claims required by the policy. In the example shown, principal  communicates the requirements of the security policy to identity provider .","In example embodiments, principal  requests one or more security tokens from identity provider  using the issuance mechanism described in WS-Trust. In one example, principal  forwards the claim requirements in the policy of relying party  to identity provider . The identity of relying party  can, but need not, be specified in the request sent by principal  to identity provider  (see the \u201cRequireAppliesTo\u201d element in the example digital identity described above). The request can include other requirements as well, such as a request for a display token, as described further below.","An example of a request for a security token is provided below.",{"@attributes":{"id":"p-0051","num":"0090"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<wst:RequestSecurityToken>"]},{"entry":[{},"\u2003\u2003<wst:TokenType>"]},{"entry":[{},"\u2003\u2003\u2003\u2003urn:oasis:names:tc:SAML:1.0:assertion"]},{"entry":[{},"\u2003\u2003<\/wst:TokenType>"]},{"entry":[{},"\u2003\u2003<wst:Claims"]},{"entry":[{},"\u2003\u2003\u2003\u2003wst:Dialect=\u201chttp:\/\/schemas.microsoft.com\/ws\/2005\/05\/"]},{"entry":[{},"\u2003\u2003\u2003\u2003identity\u201d>"]},{"entry":[{},"\u2003\u2003<ic:Claim"]},{"entry":[{},"\u2003\u2003\u2003\u2003URI=\u201chttp:\/\/...\/ws\/2005\/05\/identity\/claims\/givenname\u201d\/>"]},{"entry":[{},"\u2003\u2003<\/wst:Claims>"]},{"entry":[{},"<\/wst:RequestSecurityToken>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{},"b":["115","110","310","115"]},{"@attributes":{"id":"p-0052","num":"0091"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<wst:RequestSecurityToken>"]},{"entry":[{},"\u2003\u2003..."]},{"entry":[{},"\u2003\u2003<ic:InfoCardReference>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<ic:CardId>http:\/\/xyz.com\/CardId\/"]},{"entry":[{},"\u2003\u2003\u2003\u2003d795621fa01d454285f9<\/ic:CardId>"]},{"entry":[{},"\u2003\u2003\u2003\u2003\u2003\u2003<ic:CardVersion>1<\/ic:CardVersion>"]},{"entry":[{},"\u2003\u2003<\/ic:InfoCardReference>"]},{"entry":[{},"\u2003\u2003..."]},{"entry":[{},"<\/wst:RequestSecurityToken>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"In example embodiments, identity provider  has its own security policy as specified in WS-SecurityPolicy and can require authentication of principal  before identity provider  forwards a security token to principal .","Generally, claims authority  of identity provider  can provide one or more of the claims required by the policy from relying party . For example, claims authority  is programmed to generate one or more claims request by principal . Claims transformer  of identity provider  is programmed to transform the claims and to generate one or more signed security tokens  that include the claims.","In example embodiments, claims transformer  is programmed to generate a security token that can be understood by relying party . As noted above, principal  can request a security token in a certain format (see the \u201cwst:TokenType\u201d element in the example request provided above) in its request to identity provider , based on requirements from relying party  (see the \u201cwst:TokenType\u201d element in the example security policy provided above). Claims transformer  can be programmed to generate security tokens in one of a plurality of formats including, without limitation, X509, Kerberos, SAML (versions 1.0 and 2.0), Simple eXtensible Identity Protocol (\u201cSXIP\u201d), etc.","For example, in one embodiment, claims authority  is programmed to generate claims in a first format A, and the security policy of relying party  requires a security token in a second format B. Claims transformer  can transform the claims from claims authority  from format A into format B before sending security token  to principal .","In addition, claims transformer  can be programmed to refine the semantics of a particular claim. In example embodiments, the semantics of a particular claim are transformed to minimize the amount of information provided in a particular claim and\/or security token to reduce or minimize the amount of personal information that is conveyed by a given claim.","For example, in one embodiment, the security policy of relying party  requires a claim stating that principal  is over 21 years of age. When this requirement is communicated to identity provider , claims authority  is programmed to provide a claim of the actual age of principal  (e.g., \u201cBirth Date =Jan. 1, 1966\u201d). When this claim is provided to claims transformer , claims transformer  transforms the semantics of the claim from the actual birth date of principal  to a claim that principal  is over 21 years of age (e.g., \u201cAge>21=TRUE\u201d). In this manner, when this claim is packaged into security token  that is forwarded through principal  to relying party , less personal information about principal  is shared with relying party , while the requirements of relying party  are still met.","Once security token  is generated by claims transformer  of identity provider , security token  can be forwarded to principal . In example embodiments, claims transformer  forwards the security token  to principal  using the response mechanisms described in WS-Trust. In one embodiment, claims transformer  includes a security token service (sometimes referred to as an \u201cSTS\u201d) such as that disclosed in U.S. patent application Ser. No. 10\/436,880 filed on May 12, 2003, the entirety of which is hereby incorporated by reference.","Referring now to , an example security token  is shown. In the embodiment shown, security token  includes a computational token  and a display token . Computational token  includes the claims provided by identity provider  in an encrypted format. Claims transformer  generates computational token  in an encrypted format that can be understood (i.e., decrypted) by relying party .","Claims transformer  also generates display token . Generally, display token  includes at least a summary of the claims that are included in computational token  of security token . For example, in some embodiments, display token  includes a list of all of the claims included in computational token . Display token  can be generated in a format that can be reviewed by principal  using, for example, computer system . In some examples, display token  is generated in a plain text format or a hypertext markup language format. One example of a display token included as part of a security token response is shown below.",{"@attributes":{"id":"p-0062","num":"0101"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<ic:RequestedDisplayToken>"},{"entry":"\u2003\u2003<ic:DisplayToken xml:lang=\u201cen-us\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<ic:DisplayClaim"},{"entry":"\u2003\u2003URI=\u201chttp:\/\/...\/ws\/2005\/05\/identity\/claims\/givenname\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ic:DisplayTag>Given Name<\/ic:DisplayTag>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ic:DisplayValue>John<\/ic:DisplayValue>"},{"entry":"\u2003\u2003\u2003\u2003<\/ic:DisplayClaim>"},{"entry":"\u2003\u2003\u2003\u2003<ic:DisplayClaim URI=\u201chttp:\/\/...\/ws\/2005\/05\/identity\/claims\/"},{"entry":"\u2003\u2003\u2003\u2003surname\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ic:DisplayTag>Last Name<\/ic:DisplayTag>"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003<ic:DisplayValue>Doe<\/ic:DisplayValue>"},{"entry":"\u2003\u2003\u2003\u2003<\/ic:DisplayClaim>"},{"entry":"\u2003\u2003<ic:DisplayToken>"},{"entry":"<\/ic:RequestedDisplayToken>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0007","list-style":"none"},"li":{"@attributes":{"id":"ul0007-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0008","list-style":"none"},"li":["\/ic:RequestedDisplayToken\/ic:DisplayToken\u2014the returned display token;","\/ic:RequestedDisplayToken\/ic:DisplayToken\/@xml:lang\u2014this attribute indicates a language identifier, using the language codes specified in RFC 3066, in which the display token content is localized;","\/ic:RequestedDisplayToken\/ic:DisplayToken\/ic:DisplayClaim\u2014this element indicates an individual claim returned in the security token;","\/ic:RequestedDisplayToken\/ic:DisplayToken\/ic:DisplayClaim\/@URI\u2014this attribute provides the unique identifier (URI) of the individual claim returned in the security token;","\/ic:RequestedDisplayToken\/ic:DisplayToken\/ic:DisplayClaim\/ic:DisplayTag\u2014this optional element provides a common or friendly name for the claim returned in the security token;","\/ic:RequestedDisplayToken\/ic:DisplayToken\/ic:DisplayClaim\/ic:Description\u2014this optional element provides a description of the semantics for the claim returned in the security token;","\/ic:RequestedDisplayToken\/ic:DisplayToken\/ic:DisplayClaim\/ic:DisplayValue\u2014this optional element provides one or more displayable values for the claim returned in the security token; and","\/ic :RequestedDisplayToken\/ic :DisplayToken\/ic:DisplayTokenText (not shown)\u2014this optional element provides an alternative textual representation of the entire token as a whole when the token content is not suitable for display as individual claims."]}}}},"In some embodiments, security token  including computational token  is issued in accordance with the SAML standard. For example, security token  can be issued in accordance with SAML 1.1 or SAML 2.0 standards. Other standards can also be used such as, for example and without limitation, an X.509 certificate and a Kerberos ticket.","In addition, security token  can be cryptographically signed or endorsed by claims transformer  using a known algorithm. In one embodiment, for example and without limitation, a 2048-bit asymmetric Rivest-Shamir-Adleman (\u201cRSA\u201d) key is used. In other embodiments, other encryption algorithms can be used such as, for example, a base64 encoded symmetric encryption key. In one embodiment, a symmetric key is used by default. In this manner, in the example shown, a party such as relying party  can cryptographically verify that security token  originated from identity provider .","In example embodiments, computational token  is cryptographically bound to display token  using one or more known algorithms such as a digital signature over the entire response message from the claims authority containing both the computational token  and the display token .","In example embodiments, a display token is provided by default in each security token issued by a claims transformer. In other embodiments, a display token is provided only if the principal requests the display token. An example of such a display token request included in a security token request is as follows.",{"@attributes":{"id":"p-0067","num":"0114"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<wst:RequestSecurityToken>"]},{"entry":[{},"\u2003\u2003<ic:RequestDisplayToken LangId=\u201cen-us\u201d \/>"]},{"entry":[{},"<\/wst:RequestSecurityToken>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},"In example embodiments, a principal can review the display information from the display token and decide whether or not to forward the security token to a relying party. In other embodiments, the principal can review the display information, but does not have the option to stop the forwarding of the security token to the relying party. In other words, once the security token is requested by the principal, the security token is automatically forwarded to the relying party once the security token is received by the principal.","In example embodiments, if a security token lacks a display token, the principal is notified of the lack of the display token, and the principal can decide whether or not to forward the security token to the relying party. In other embodiments, if no display token is provided, no display information is presented to the principal.","In example embodiments, only the computational token portion of a security token is forwarded by the principal to the relying party. In other embodiments, the principal forwards the entire security token including both the computational token and the display token to the relying party.","Additional details about example embodiments of security tokens including display tokens can be found in U.S. patent application Ser. No. 11\/312,920, filed on Dec. 19, 2005, the entirety of which is hereby incorporated by reference.","Referring now to , principal  can forward security token  to relying party  to satisfy all or a part of the security policy of relying party . In one example, principal  can forward security token  to relying party  by binding security token  to an to application message using the security binding mechanisms described in WS-Security.","Once relying party  receives security token , relying party  can cryptographically verify the origin of signed security token . Relying party  can also utilize the claims in computation token  of security token  to satisfy the security policy of relying party  to authenticate principal . Once authentication is complete, relying party  can provide access to the goods, services, or other information requested by principal .","In exampled disclosed herein, communication between principal , relying party , and identity provider  can be conducted in a technology-neutral fashion. For example, the embodiments disclosed herein use the mechanisms provided in WS-MetadataExchange and WS-SecurityPolicy to facilitate communication between components using different technologies and communication protocol formats. In this manner, the various components in digital identity system  can communicate with one another.","Referring now to , an example method  for authenticating a principal is shown. Method  is described with reference to a non-limiting example in which the principal is Employee A. Employee A is an employee of a company referred to as \u201cCompany A,\u201d and the relying party is a travel agency referred to as \u201cTravel Agency A.\u201d Company A has partnered with Travel Agency A for making travel arrangements for employees of Company A at discounted rates.","At operation  of method , a principal requests information from a relying party. In the example embodiment, Employee A utilizes an application program on Employee A's computer to request travel arrangements from the web site of Travel Agency A. Next, at operation , Employee A's computer receives the security policy from the web site of Travel Agency A. This policy requires that Employee A submit a security token with a claim establishing that Employee A is an employee of Company A before Employee A can access the discounted travel arrangements on the web site of Travel Agency A.","At operation , Employee A's computer forwards a request based on the security policy to an identity provider, which in the present example is a security token service or STS operated by Company A. The STS of Company A can issue a security token with a claim establishing that Employee A is an employee of Company A. For example, the claim can be \u201cIs Employee of Company A=True.\u201d Next, at operation , Employee A's computer receives a signed security token from the STS of Company A. The security token includes a computational token and a display token, with the computational token including the claim establishing that Employee A is an employee of Company A.","Control is then passed to operation , and Employee A's computer presents the summary of the claims from the display token to Employee A for review. In some embodiments, Employee A is given the option to review the contents of the security token using the display token, and then decide whether or not to forward the security token to the web site of Travel Agency A based on the information in the display token presented to Employee A. In other embodiments, Employee A is not given the option regarding whether or not to forward the security token to Travel Agency A.","Next, at operation , the security token is forwarded to the web site of Travel Agency A. Control is then passed to operation , and Employee A gains access to the requested discounted travel arrangements on the web site of Travel Agency A.","Referring now to , operation  of method  related to forwarding of a request based on the security policy of a relying party to an identity provider is shown in greater detail. At operation , the security policy from relying party  is reviewed. At operation , digital identities  for principal  are reviewed to identify identity providers  that can provide the claims required in the security policy. Next, at operation , the relevant identity providers are identified based on the digital identities. Finally, at operation , a request is forwarded to the relevant identity providers for the requested claims.","For example, with reference to the non-limiting example provided above, once Employee A's computer receives the security policy from the web site of Travel Agency A, Employee A's computer reviews the digital identities on Employee A's computer to identify the identity providers that can provide the claims required in the security policy. Once the identity providers are identified, Employee A's computer sends requests one or more of the identified identity providers for security tokens including the required claims.","In some embodiments, relying party  identifies a particular identity provider for a particular claim or set of claims (see the \u201csp:Issuer\u201d element in the example security policy provided above). In this case, principal  can forward a request to the appropriate identity provider for the required claims. In some embodiments, the process of selecting identity providers can be automated by, for example, computer . In other embodiments, principal  can be involved in the selection of identity providers.","Referring now to , an example method  for an identity provider to generate a requested security token is provided. Once again, method  is described with reference to the non-limiting example provided above. At operation , the identity provider for Company A receives the request for claims forwarded by Employee A. Next, at operation , Company A generates the requested claims.","Control is then passed to operation , wherein any transformation of the claims is conducted. For example, Travel Agency A can require a claim specifying that Employee A is an employee of Company A. The claims authority of Company A provides a claim stating that Employee A is employee number \u201c9999\u201d of Company A (e.g., \u201cEmployee A=9999\u201d). The claims transformer of Company A can transform this claim into a claim that simply indicates that Employee A is an employee of Company A (e.g., \u201cIs Employee of Company A=True\u201d), thereby minimizing the amount of personal information about Employee A contained in the security token.","Next, at operation , the security token including the claim is generated. As part of the formation of the security token, the claims transformer of Company A can transform the security token into one of plurality of formats, as required by the request or default. Finally, at operation , the security token is forwarded to Employee A.","Although in some of the embodiments disclosed herein the principal is an individual, in alternative embodiments, the principal can be a company, an organization, a computer or other device, a service, or any other type of entity. For example, in one alternative embodiment, the principal is a device that is part of a network. The device can request information, such as a software update, from another device on the network functioning as a relying party. The relying party can require authentication of the identity of the device before the relying party provides the requested update. The device can request one or more claims required by the security policy of the relying party from one or more claims transformers, and the claims transformers can provide one or more security tokens including display tokens to the device. The device can be programmed to review the contents of the display tokens and decide whether or not to forward the security token to the relying party based on its contents. If the device forwards the security token to the relying party, the relying party can then complete the authentication process and provide the requested update to the device.","Although example embodiments shown herein illustrate a security token that is forwarded by an identity provider to a principal and then on to a relying party, in alternative embodiments the security token can be forwarded directly from the identity provider to the relying party. For example, in some embodiments, one security token including a computational token (and possibly a display token) can be forwarded to the relying party, and another security token including a display token (and possibly the computational token) can be forwarded to the principal. Other configurations are possible.","Although the example embodiments shown herein illustrate a security policy requiring only a single claim and a single security token issued by one identity provider, in other embodiments a policy can require multiple claims, and one or more identity providers can issue one or more security tokens with one or more claims to satisfy the policy.","There can be various advantages associated with digital identities systems configured as disclosed herein. For example, example identity systems disclosed herein utilize various subsystems that communicate or facilitate communication using a variety of protocols and message formats. In addition, such identity systems can automate the process of gathering required authentication information. Further, such systems can increase user control and decrease personal information shared among subsystems of the system.","The various embodiments described above are provided by way of illustration only and should not be construed to limiting. Those skilled in the art will readily recognize various modifications and changes that may be made to the embodiments described above without departing from the true spirit and scope of the disclosure or the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"DESCRIPTION OF THE DRAWINGS","p":["Reference will now be made to the accompanying drawings, which are not necessarily drawn to scale, and wherein:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 6","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
