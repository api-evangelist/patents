---
title: Methods and apparatus for facilitating the interaction between multiple telephone and computer users
abstract: AIN based call routing, transfer and conferencing methods and apparatus are disclosed. In various embodiments initial call routing is based on the availability of a party to service a call as determined from a computer system associated with the party selected to service the call. The party's computer system supports a telephone programming application interface (TAPI) which allows a telephone network server to determine the availability of the party selected to service the call from, in part, TAPI obtained telephone line status information. The network server supplies call related data to the computer system of the party assigned to service the call. Call transfer and conferencing operations along with the transfer of call related data are also supported. AIN mid-call triggers are used in some embodiments to support call transfer and conferencing operations.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06920213&OS=06920213&RS=06920213
owner: Verizon Services Corp.
number: 06920213
owner_city: Arlington
owner_country: US
publication_date: 20010320
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATION","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present application claims the benefit of U.S. Provisional Application Ser. No. 60\/233,313 filed Sep. 15, 2000.","The present invention is directed to communications systems and, more particularly, to methods and apparatus for providing call routing, call transfer and call conferencing operations.","Telephone service users, e.g., sales people, businesses, and even individuals, have come to rely on the ability of the public switched telephone network (PSTN) to provide a host of voice services including telephone conferencing, call transfer, voice mail, etc. As computers and the Internet continue to grow in importance, people using telephones are becoming ever more dependent on their computers to provide and\/or enter relevant information needed to service a telephone call. Examples of cases where computer access is important to servicing a telephone call include, e.g., providing product information, entering a telephone order for merchandise, etc. During conference calls it is frequently helpful if conference call participants can share information on their computers while engaged in discussions over the telephone.","Until recently, telephone companies focused primarily on providing voice services to customers. With the advent of the computer age and the ever increasing demand for the ability to display and enter information using a computer, the need for integrated voice and data services is becoming ever more apparent.","In order to provide enhanced telephone services, many telephone companies now implement a telephone communications network as an Advanced Intelligent Network (AIN) which has made it easier to provide a wide array of previously unavailable telephone services. In an AIN system, telephone central offices, each of which serves as a signal switching point (SSP), detect one of a number of call processing events identified as AIN \u201ctriggers\u201d. An SSP which detects a trigger suspends processing of the call which activated the trigger, compiles a call data message and forwards that message via a common channel interoffice signaling (CCIS), utilizing the Signal System 7(SS-7) protocol, link to a database system, such as a Service Control Point (SCP). The SCP may be implemented as part of an integrated service control point (ISCP). If needed, the SCP can instruct the central office SSP at which the AIN trigger was activated to obtain and forward additional information, e.g., information relating to the call. Once sufficient information about the call has reached the ISCP, the ISCP accesses stored call processing information or records (CPRs) to generate from the received message data, a call control message. The call control message is then used to instruct the central office on how to process the call which activated the AIN trigger. As part of the call control message, an ISCP can instruct the central office to send the call to an outside resource, such as an intelligent peripheral (IP) using a send to outside resource (STOR) instruction. IPs are frequently coupled to SSPs to provide message announcement capabilities, voice recognition capabilities and other functionality which is not normally provided by the central office. The control message is normally communicated from the ISCP to the SSP handling the call via the CCIS\/SS-7 link. Once received, the SCP completes the call in accordance with the instructions received in the control message.","One service which can be enhanced with the use of AIN functionality is Centrex. Centrex takes a group of normal telephone lines and provides call processing to add business features to the otherwise standard telephone lines. For example, Centrex adds intercom capabilities to the lines of a specified business group so that a business customer can dial other stations within the same group, e.g., lines belong to the same company, using extension numbers such as a two, three, or four digit numbers, instead of the full telephone number associated with each called line. Other examples of Centrex service features include call transfer between users at different stations of a business group, and a number of varieties of call forwarding. Thus, Centrex adds a bundle of business features on top of standard telephone line features without requiring special equipment, e.g., a private branch exchange (PBX) at the customer's premises. U.S. Pat. No. 5,247,571, which is hereby expressly incorporated by reference, describes in detail a Wide Area Centrex system implemented using AIN techniques.","In order to make it easier to manage various Centrex services, e.g., call forwarding services, it has been suggested that users of Centrex services be allowed to manage various service features from their computers via the Internet. U.S. Pat. No. 5,958,016 discusses the use of a server accessible via the Internet, to allow users limited control of AIN based telephone services from their computers.","While AIN systems are beginning to take advantage of computers and Internet Protocol (IP) network access to the telephone system for making management of telephone services easier, the ability of an AIN network to provide new services by interacting with subscriber's computers and\/or computer network has generally gone overlooked.","To facilitate telephone system and computer system interaction, a TAPI (telephone application programming interface) has begun to be supported by Microsoft Corporation and other computer software providers. TAPI is intended for use by computer systems which are coupled to a telephone device thereby allowing the computer system to receive signals from, and send signals to, the attached telephone device. Using TAPI, a computer system user can initiate telephone operations by activating icons on his\/her computer screen and\/or entering relevant information such as the telephone number to be dialed. Modern TAPI applications frequently focus on enhancing customer premise equipment to merge computer and telephony functions normally provided by separate telephone and computer devices at the customer's premise into a single computer\/telephony device.","In view of the above discussion, it should be apparent that a host of new telephony\/computer services based on the integration of voice and computer services is desirable. Rather than simply focus on computer\/telephony enhancements to customer premise equipment, new network based services which provide integrated computer\/telephony features are desirable.","For example, in many cases, it would be desirable to perform network based call routing or call distribution operations based on information available from the computer systems associated with individuals to whom a call might be routed by the telephone network. It would also be desirable if the telephone network could populate the computer screen of an individual with information relevant to servicing the call before or as the call is being routed to the individual. It would also be desirable if call related information could be automatically transferred and\/or shared between computers as a call is transferred or conferenced.","The present invention is directed to methods and apparatus for providing call routing, call transfer and call conferencing operations using Advanced Intelligent Network (AIN) capabilities and various levels of computer\/telephony integration.","Various embodiments are directed to methods and apparatus for providing network services, e.g., advanced Centrex services, that utilize AIN capabilities of a telephone system including, e.g., a network server, end user computers and telephones, service control points, e.g., an integrated service control point (ISCP), and digital telephone switches. One or more intelligent peripherals (IPs), e.g., interactive voice response peripherals (IVR IPs) may also be used.","In accordance with the present invention incoming telephone call and\/or caller information is passed to a network server included in the telephone network. The network server is connected to an end-user's computer desktop via a network or Internet connection. The network server, under software control, identifies and selects a user, e.g., service representative or telephone operator, to receive an incoming call based on, e.g., the user's availability, skills, and\/or other call related information. The network server instructs the AIN ISCP to route the call to a specific communications station, e.g., by sending the ISCP the telephone number of the station to which the call is to be directed. Each communications station may include, e.g., a telephone and a computer equipped for use by an operator or sales representative.","In various embodiments, as the ISCP causes the incoming call to be routed to the station selected by the network server, the network server populates the end-user's, e.g., service representative's, computer screen with pertinent data specific to the incoming call. The user, e.g., first user, to whom the call is directed may redirect, e.g., transfer, the call to another user (e.g., second user) or initiate a conference call between the calling party and the second user.","The call transfer and conference calling features of the present invention can be activated via the user's computer system and a TAPI interface or, alternatively through a switch hook flash, sometimes called a hook flash for short. In various embodiments, the hook flash activates an AIN trigger, e.g., a mid call trigger, set on the user's line. AIN triggers which are activated by a switch hook flash are sometimes called hook flash triggers. Table 4-1 of Bellcore document GR-1298-CORE (Issue Sep. 4, 1997 w\/revision Oct. 1, 1998) lists several AIN hook flash triggers. As a result of activation of the hook flash mid-call trigger, the ISCP, in accordance with the present invention, is contacted by the user's switch and a transfer or conference call operation is initiated under control of the ISCP. A second hook flash is used to activate the mid-call trigger for a second time causing the ISCP to complete the call transfer operation or conference call operation.","While numerous features of the present invention are described in the following pages, in the context of an exemplary Centrex embodiment it is to be understood that the features of the present invention are not necessarily limited to a Centrex embodiment and that many features including the use of mid-call triggers for call transfer and conferencing operations can be used in non-Centrex applications and embodiments.","Various additional features and advantages of the present invention will be apparent from the detailed description which follows.","As discussed above, the present invention is directed to methods and apparatus for servicing calls by performing call routing, call transfer and call conferencing operations. As part of servicing a call, call related information or data, under direction of a network server, is provided to or shared between computers used by parties servicing a call. The telephone\/computer services of the present invention may be provided as stand-alone services, as part of a Centrex service, or as part of another telephone service package.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1","b":["100","100","30","90","90","2","4","6","12","14","16","32","10","20","90","34","35"]},"The SSPs , ,  may be implemented using known Class V telecommunications switches capable of supporting the Signaling System seven (SS7) protocol. Each SSP , ,  may correspond to a different telephone central office. Trunk lines (TL), which may be implemented using fiber optic cables, interconnect the various SSPs , , .","Each SSP , ,  is normally connected to one or more customer premises (CPs) which may include, e.g., Centrex subscriber residences and\/or offices as well as the residences and offices of non-Centrex subscribers. In the  example, first and second customer premises  and  are coupled to the second SSP . Additional customer premises ,  include telephones , , respectively. Telephone , which is coupled to SSP , and telephone , which is coupled to SSP , are located at additional customer premises , . Connections between the SSPs and CPs may be by POTS lines, ISDN lines, DSL, or other known communications lines.","Communications equipment, referred to as customer premise equipment (CPE) is located at each customer premises , , , . Customer premise equipment may include, e.g., telephones, faxes, computers, etc. In , a computer , and land-line telephone  are shown as being located at the first customer premises . As will be discussed below, each of these devices corresponds in the exemplary embodiment shown in  to a first Centrex service subscriber. The computer , located at the first customer premises  is coupled by any one of a plurality of known connection techniques, e.g., telephone dial-up, ISDN, DSL, etc., to the Internet , also known as the World Wide Web. The computer  is also coupled to a local network, e.g. business LAN . The computer  and telephone  are coupled together by a communications link  which supports the known TAPI interface. Via TAPI, the computer  can initiate various telephone operations and receive voice calls via SSP  and telephone .","The computer  and telephone  located at the Nth customer premises  are coupled together by communications link  in the same manner that computer  and telephone  are coupled together. In addition, computer  is coupled to business LAN  and the Internet .","Computers ,  can receive and transmit data using the business LAN . Thus, customer information may be supplied to computers ,  at the direction of network server  which is also coupled to LAN . Information supplied to a called party's computer may be forwarded from network data storage device , from storage included in the network server , or from another data storage location which can be accessed under direction of network server  and\/or computers , .","While the third and fourth customer premises ,  are illustrated as including only landline phones, it is to be understood that they may have any number of communications devices including, e.g., telephone, fax, and computer devices. For purposes of explanation, it will be assumed that the first customer premises  corresponds to a first Centrex service subscriber while the second customer premises  corresponds to a second Centrex service subscriber. Additional Centrex service subscribers may be coupled to any one of the SSPs , , .","The system  is implemented using AIN techniques. Accordingly, the processing of calls directed to a customer's telephone line and received by an SSP from a telephone customer's line may be controlled by instructions included in customer call processing records (CPRs). In the system , the CPRs are stored at the Integrated Services Control Point (ISCP) . At least one CPR exists for each Centrex service subscriber. A customer's CPR is accessed in response to activation of an AIN trigger set at, e.g., the SSP , , or  to which the telephone line or lines to the subscriber's customer premises are connected.","The ISCP  includes an SCP , an AIN provisioning system  and a network interface (NI) . A local network  couples the various components of the ISCP  together.","The network interface  couples the ISCP  to various other components of the telephone network  via a TCP\/IP based network referred to as an operational services network (OSN) . The OSN  connects the Centrex Internet Customer Access Server , network server , SSPs , , , Intelligent Peripherals (IPs) , , and the ISCP  together. Thus, the OSN  is a network over which control and signaling information can be passed between the various telephone network system components, e.g., using TCP\/IP. Significantly, OSN  allows for interaction between the ISCP and network server  used to provide various route selection and data forwarding features of the present invention. The network server  is coupled to the business LAN  and serves as a bridge between telephone network components and external devices such as business LAN  over which data and control signals can pass.","In addition to being connected to the OSN , ISCP  is connected, via its SCP , to the SSPs via one or more signal transfer points (STPs) ,  and Signaling System Seven (SS7) interconnects over which messages, data, and requests for call processing control instructions can be communicated between the SSPs , , , and ISCP .","The SCP  includes a multi-service application platform (MSAP) database  which includes customer data (CD)  for each of a plurality of Centrex and\/or other service subscribers. The customer data  includes, for each customer: 1) a list of the services to which the customer subscribes; 2) a password which may be input via DTMF signals; and 3) a call processing record (CPR) which is used to instruct an SSP how to process a call in response to an AIN trigger to thereby implement the services to which the customer subscribes. Exemplary services which may be supported by the ISCP  include, e.g., call routing, call transfer, conference calling, call forwarding, call screening, voice dialing, voice mail and a host of other services which may be provided to Centrex subscribers as well as non-Centrex telephone customers.","For purposes of explaining the call routing, transfer and conferencing features of the present invention, the services will be described in the context of a Centrex environment. However, it is to be understood that the services of the present invention can be provided outside the Centrex environment, e.g., call routing, call transfer and call conferencing services can be provided to non-Centrex telephone customers as well as Centrex service subscribers.","The customer data  which includes call processing records  is generated, at least initially, by the AIN provisioning system  in response to input received from a service representative or operator. Customer data in the database  may, after initial provisioning of a service for a customer, be updated by the customer via the Internet and the use of a Web browser by way of the Centrex ICAS server  which can access and modify the contents of the customer data .","Among other things, the AIN provisioning system circuitry  is responsible for setting and\/or updating AIN triggers, including mid-call triggers, at the various signal switching points (SSPs) required to implement AIN based services to the subscribers. In addition to setting AIN triggers, the AIN provisioning system circuitry  is responsible for generating and\/or updating customer data, e.g., call processing records , and other information stored in various locations in the system , as required to implement a service order. As will be discussed below, various IPs ,  are used to provide services to Centrex and other telephone service subscribers. Thus, in addition to updating information in the customer database , the AIN provisioning system circuitry  is responsible for updating information in the various IPs  and . The updating of the IPs and the setting of AIN triggers can be performed by the AIN provisioning system circuitry  through communications with the various system components conducted using the OSN  and\/or via SS7 links to the ISCP .","Once service to a customer has been initially configured, a Centrex service subscriber can, in accordance with the present invention, update various service information though the use of a personal computer and a Web Browser application, various known browsers include Internet Explorer and Netscape. In the  system, the service subscriber to whom the first customer premises  corresponds can update the subscriber's Centrex information via the use of computer  and an Internet connection.","The ICAS  serves as a secure gateway via which Centrex subscribers can update and configure their Centrex telephone service information using a computer coupled to the Internet. The ICAS  includes security routines, e.g., a firewall, designed to prevent individuals other than the subscriber gaining access to and\/or modifying via the Internet, subscriber service information. The ICAS  is coupled to the OSN  thereby allowing a customer, upon satisfying various security checks, to access and modify service information stored in any one of the various network devices, e.g. ISCP , and\/or IP , , coupled to the OSN .","In order to implement various services, such as voice dialing and telephone access to Centrex customer service information, IPs ,  are used. The first IP  is an interactive voice response (IVR) IP which is capable of performing speech recognition and DTMF signal detection operations, as well as playing voice prompts and other messages to Centrex customers.","IVR IP  is coupled to the first SSP  via audio (voice) and signaling lines. It is also coupled to the OSN through a network interface (NI) . In this manner, the IVR IP  can interact with other components of the system , e.g., ISCP , via communications transmitted over OSN  or through the SSP . The IVR IP  may be implemented using known hardware. Accordingly, the hardware used to implement IVR IP  will not be described in detail.","The IVR IP  serves as a platform by which a Centrex service subscriber can update his\/her service information, e.g., voice dialing directory information, through a telephone as opposed to an Internet connection. A Centrex service subscriber can establish a service updating or management session with the IVR IP , by dialing a telephone number associated with the IVR IP . Dialing of the IVR IP's telephone number results in the subscriber's call being routed to SSP  and a voice\/DTMF connection to the IVR IP  being established.","IVR  includes various security features, e.g., customer identification and password entry requirements, as does the ICAS , to insure that Centrex customers are limited to accessing and updating their own service records and not those of other Centrex service subscribers.","Voice mail IP , coupled to SSP , can be used to provide voice mail services to Centrex as well as non-Centrex voice mail subscribers.","As mentioned above, network server  interacts with the SCP  and other PSTN  components to perform call routing, e.g., automated call distribution, call transfer, and call conferencing functions.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 2","b":["35","35","308","304","306","302","320","308","310","312","310","312","304","35","33","34","35","16","36","37","35","32","64","304"]},"The memory  includes a set of subscriber information , a call routing\/transfer\/conferencing routine  and an operating system . The set  of subscriber information includes, for each of a first through Nth service subscriber, a record of subscriber information , \u2032. Each subscriber record , \u2032 includes a subscriber identifier, the subscriber's telephone number, the IP address of the subscriber's computer, information about the subscriber's skills and\/or services the subscriber is responsible for providing to telephone calling parties and, optionally, a backup telephone number corresponding to another individual who may be assigned to service a call in the event that the subscriber is unavailable to take an incoming call.","The CPU  controls operation of the network server  under control of an operating system  and call routing\/transfer\/conferencing routine  stored in memory . Routine  includes a plurality of computer instructions for controlling various telephone service operations. Under control of the routine  the CPU  controls the network server  to interact with various other system components including the ISCP  and business LAN . Operations performed by the server  will be discussed further in regard to the flow charts of .",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 3","b":["302","304","100"]},"After initialization, in step , the SSPs ,  and  are operated to receive calls. Operation proceeds from step  to step  when a call is received by an SSP , , or . In step , a determination is made at the SSP receiving the call as to whether or not an AIN terminating attempt trigger (TAT) was set on the called line. If no TAT was set on the called line, operation proceeds to step  wherein the call is completed with SCP involvement.","However, if a TAT was set on the called line, e.g., because the line corresponds to a call routing service subscriber, operation proceeds to step . For purposes of explanation, it will be assumed that a call was directed to the first Centrex service subscriber located at CP and that SSP  received the call.","In step , in response to activation of the TAT at SSP , a query, e.g., request for call processing instructions, is launched to the SCP  for call processing instructions. The query includes the telephone number of the called party, e.g., the telephone number of the first service subscriber. In response to the query, the SCP opens the CPR  corresponding to the called party using the received called party telephone number to identify the correct CPR and generates an incoming call message to be sent to the network server . The incoming call message includes, e.g., calling party ID information such as the calling party telephone number, the called party telephone number and the original called party telephone number. In cases where calls have been forwarded to a different telephone number than the original telephone number which was called, the called party number will differ from the original called party number. In cases where a received call has not been forwarded, the original calling number and calling number will be the same. After generation of the incoming call message, in step  the SCP  transmits the message to the network server  via network interface  and OSN .","As discussed above, the network server  performs various call routing including automated call distribution, operations. As part of the routing operation the sever  is responsible for determining the actual telephone number to which an incoming call should be directed. Destination number selection information  and\/or subscriber information  is accessed in order to determine the telephone number to which the incoming call should be routed. Destination number selection information  includes criteria for selecting the service representative or service subscriber to whom a call should be directed and, in the event of unavailability, redirected.","Destination selection criteria may include the type of call to be serviced, calling party number, operator availability, and a host of other criteria which are known in the art for selecting a party to service a call. Input from the calling party in the form of responses to one or more questions can be used in making a routing decision. For example, a user's selection from a menu of call routing options can be used in the selection of the destination number.","In step , the network server  makes a determination as to whether or not additional information, e.g., calling party responses to menu selections, is required for call routing purposes. This determination may be based on the called party number and the specific call distribution process associated with that number that the network server  is programmed to implement.","If in step  the network server  determines that additional information from the calling party is required for call routing purposes, operation proceeds to step  wherein the server  sends a message to the SCP  requesting that the caller be played a specific message and that information, e.g., a menu selection, be collected from the caller.","In response to the request to collect information message from the server , the SCP  selects, in step , an IP ,  to be used to play the requested message to the caller and to collect information form the caller. Then in step , the SCP  sends a send to outside resource (STOR) message to the SSP  wherein the incoming call is being held. The message identifies the IP to which the call is to be directed. For purposes of explanation, it will be assumed that IP  is selected by the SCP  to service the incoming call.","In response to the STOR message, the SSP , in step  couples the incoming call to the specified IP . Then, in step  the IP plays the calling party the message specified by the network server . Next, in step  the IP  received input, e.g., DTMF or voice input, from the calling party. Following receipt of information from the calling party, the IP  sends a message including the received information to the SCP . Then, in step , the SCP  forwards the information obtained from the calling party to the network server , e.g., via OSN . From step , operation proceeds to step .","In step , if the server determined that no input from the calling party was required to route the call, operation would have proceeded directly to step .","In step , the network server uses the information from the received incoming call message and\/or additional information collected from the calling party to select a subscriber, e.g., telephone operator or sales representative to service the call. For purposes of explanation, the party selected to receive the call will be referred to as the called party (CP).","Once the CP has been selected by the network server , in step  the server contacts, via LAN  or Internet , the CP's computer  or  to determine if the CP is available, e.g., logged in and not engaged in an active telephone call, to service the incoming call. In one embodiment the network server does this by initiating a check to determine if the user's TAPI interface is enabled, indicating that the CP is logged in to service a call, and by using the CP's TAPI interface to determine whether the CP's telephone line is busy. If the TAPI interface is active and the CP's telephone line is not busy, it is assumed that the CP is available to service incoming calls.","Using the network server to determine CP availability to service a call can be more reliable than simply checking using SSP's whether a CP's telephone line is busy. In many cases, a CP's telephone line may not be busy but the CP may not be available to service a call, e.g., because the CP is out to lunch, not on duty or for various other reasons. Thus, it should be apparent that status information available from a CP's computer, e.g., whether it is active, the user is logged in, TAPI enabled, etc., combined with whether or not the CP's phone line is busy provides a better indicator regarding CP availability than telephone line status alone.","In step , the CP's computer ,  returns, via LAN  or Internet , the telephone line and\/or computer status information to the network server . Then in step , the server determines CP availability by determining from the information received from the CP's computer whether the CP's telephone line is busy.","If the CP's computer indicated that the CP's telephone line was not busy, operation proceeds to two paths which both end at step . The two paths beginning with steps  and  may be performed in parallel, as shown in  or sequentially.","In the first processing path, in step , the network server  transmits call related data to the CP's computer , . The data may include automatic number identification (ANI) information, call type information, sales data relevant to serving calls received at the particular called number, pre-existing customer data such as previous purchase information, address information, etc., which was retrieved based on ANI information or information entered by the calling party in response to one or more prompts. The information supplied to the CP's computer ,  in step  may be obtained from network data storage , the PSTN  or from any other source of data accessible by network server . Once the CP's computer ,  is supplied with the data intended to facilitate servicing of the call, processing proceeds to step .","In step , the first step in the second processing path leading to step , the network server  sends the SCP  the telephone number of the CP as the called party number to be used in completing the call. Then, in step  the SCP sends a message to the SSP instructing it to complete the called party number received from the network server . Then, in step  the SSP  responds to the message from the SCP  by completing the call to the called party telephone number received from the SCP . Operation proceeds from step  to step  wherein the CP responds to and services the incoming call, e.g., using the information displayed on his\/her computer system , . In step  call servicing is allowed to terminate in the normal manner, e.g., by one of the parties hanging up.","If in step , it was determined that the CP selected to service the call was unavailable, operation proceeds to step . In step  a determination is made as to whether the CP's telephone line was busy indicating that the CP is logged into the computer ,  but is busy servicing another call. If in step  it is determined that the CP's phone line is not busy, indicating that the CP is not available for a reason other than being on the phone, operation proceeds to step  via connecting node . As will be discussed further below, in step  another CP is selected by the server  to service the incoming call.","However, if in step  it is determined that the CP's phone line is busy, indicating that the reason the CP is unavailable to service the incoming call is because he\/she is servicing another call, operation proceeds via connecting node  to step .","In step , the network server , via messages and\/or control signals sent over LAN  or Internet , causes the CP's computer ,  to display a message indicating that there is an incoming call, providing calling party information, and presenting the CP with call disposition options including 1) take the call; 2) forward the call to voice mail; 3) route the call to a telephone number supplied by the CP, e.g., via his computer; and 4) reassign the call.","The CP enters the selected call disposition option into the computer ,  via, e.g., a keyboard attached thereto. If the CP selects to route the call to a CP specified number, the CP's response will include the telephone number to which the call is to be routed.","In step , the server receives the call disposition information entered by the CP from the CP's computer , . Server operation proceeds from step  depending on the call disposition selected by the CP.","If the CP selected to accept the incoming call, operation proceeds from step  to step  wherein the network server  sets the called party telephone number to the CP's telephone number. Then operation proceeds to steps  and . Steps  and  represent the start of two parallel processing paths that both terminate at step . While the paths are shown in parallel they may be performed sequentially if desired.","In step , the network server  supplies call related data to the CP's computer ,  in a manner that is the same as, or similar to, that described previously in regard to step . Operation proceeds from step  to step .","In step  the network server  sends the SCP  the CP number as the called party number. In response to receiving the called party number to be used with the incoming call the SCP , in step , sends a message to the SSP instructing it to complete the incoming call to the called party number provided by the network server . Then, in step  the SSP signals to the CP that there is an incoming call, e.g., in the manner used to notify call waiting service subscribers of an incoming call while they are on the line with another call.","In step  the CP initiates a hook flash by temporarily depressing the switch on the telephone or by activating an icon on the computer ,  to signal to the SSP  to put the existing call on hold and to connect the incoming call. In step , in response to the signal from the CP, the SSP  puts the existing call on hold and provides the incoming call the CP. Operation then proceeds to step  wherein the CP services the incoming call using, e.g., the information supplied to the computer , . Operation proceeds from step  to step  wherein the call is terminated in the normal manner, e.g., in response to one of the parties hanging up.","If the CP selected to forward the incoming call to voice mail in response to the presented disposition options, operation would proceed from step  along the second call disposition path to step . In step , the network server  sets the called party telephone number to the CP's voice mail telephone number. Then, in step  the network server  sends the SCP  the voice mail number as the called party number.","In response to receiving the called party number from the network server , the SCP  sends a message to the SSP  causing the SSP  to complete the incoming call to the called party number received from the network server , i.e., the CP's voice mail number.","In step , in response to the signal from the SCP , the SSP  connects the incoming call to the CP's voice mail system and then in step  the call is terminated in the normal manner.","If the CP selected the third call disposition option presented in step , i.e., to have the call routed to a CP supplied telephone number, operation would proceed from step  along the third processing path to step . In step , the server sets the telephone number to be used as the CP telephone number to the telephone number supplied by the CP. Operation then proceeds to step  via connecting node . Call processing will go forward using the CP supplied number as the CP number with ultimate call completion depending on the availability of the party corresponding to the new CP telephone number.","If the CP selected the fourth call disposition option presented in step , i.e., to have the network server  reassign the call, operation would proceed from step  along the fourth processing path to step . In step , the network server  selects a different party to service the call, e.g., a backup operator or the next best qualified service representative, and sets the CP telephone number to the additional party's telephone number. Operation then proceeds to step  via connecting node . As in the case of the CP supplied telephone number, call processing will go forward using the new CP number with ultimate call completion depending on the availability of the party corresponding to the new CP telephone number.","The method shown in  addresses the assignment, e.g., distribution of calls, and the provision of relevant data to the computer system of the party assigned to service an incoming call.","As part of the process of servicing a call, a first called party (CP) may wish to transfer the call to another party, e.g., a 2party or to conference in a 2party. From an efficiency and service standpoint, it is often desirable that the 2party have access to the service information provided to the CP's computer and\/or to information entered by the CP into the computer system while servicing the call being transferred or conferenced.  illustrate alternative techniques for performing call transfer and conferencing operations in accordance with the present invention while supplying call related data to the computer system of the party to which the call is being transferred or who is being conferenced in on the existing call.","In the  example, a party's computer system and TAPI interface included therein, is used to determine the party's availability to accept a call or to join in an existing call. In the  example, AIN mid-call trigger functionality is used to determine whether a party's telephone line is busy and to initiate call transfer or conferencing in the case where the party's line is not busy.","The call transfer\/conferencing method  illustrated in  begins in step  with a called party (CP) with a calling party. Operation proceeds from step  to step  wherein the CP initiates a call transfer or conference operation, e.g., by activating one of a corresponding call transfer or call conference icon displayed on the CP's computer screen and entering a telephone number of party (2party) to be added to the call or to whom the call is to be transferred. In step , the CP's computer system  transmits the telephone number and conference or transfer request to the network server .","The network server , in step , responds to the transfer or conference request by checking the status of the 2party's computer and telephone line by querying the 2party's computer . The 2party's computer system is identified by the network server  from the subscriber telephone number, e.g., by accessing computer IP address information stored in the SCP's set of customer data .","In step , assuming the 2nd party's computer is on and the 2party is logged in to receive calls, the status of the 2party's line is returned by the party's computer  to the network server , e.g., via the Internet  or business LAN . Alternatively, the time period for receiving status information times out and operation proceeds from step , to step . Failure for the 2subscriber's line status to be returned in a preselected amount of time is interpreted as indicating the second subscriber is unavailable.","In step , the server  determines the availability of the 2patty to receive or join the ongoing call. If it is determined in step  that the 2party is unavailable, operation proceeds to step . In step  the server sends a message to the CP's computer  notifying the CP that the 2party is unavailable. Operation then returns to state  wherein the CP is on the call with the calling party.","If in step  the network server  determines that the 2party is available to take the call, operation proceeds to step  wherein the server  sends a message to the CP's computer  notifying the CP that the 2party is available. Then in step  the network server  initiates a switch hook on the CP's telephone line via the TAPI interface on the CP's computer  or, alternatively, in response to the notification of the 2party's availability, the CP manually performs a switch hook operation by briefly depressing and releasing the switch hook on the CP's telephone .","In step  the SSP detects the hook flash resulting from the switch hook operation and responds by placing the first caller on hold. Then, in step , the network server  initiates dialing of the 2CP from the CP's phone  via TAPI or, alternatively, the CP manually dials the 2party's telephone number. Operation proceeds along separate paths from step  depending on whether a call transfer operation is to be performed or a conference call is being initiated.","If a call transfer operation is being performed, operation proceeds from step  along two paths to step . The first path begins with step  wherein the CP manually hangs up the telephone , or the network server , via TAPI, controls the computer system  to hang up the telephone . Operation then proceeds to step  wherein the SSP connects the calling party to the 2party's telephone . From step , operation proceeds to step .","In step , which forms the second processing path from step  to step , the network server supplies call related data, e.g., data previously supplied to the CP's computer  or data entered by the CP, to the 2party's computer . Operation then proceeds to step . In step  the 2party services the call before the call is terminated in step .","As a result of being automatically supplied with call related data prior to or while servicing the 2call, the 2party is able to service the call more efficiently than might otherwise be possible.","If the CP initiates a conference call, as opposed to transferring a call, operation proceeds along two parallel paths starting with steps  and . In step , the network server  supplies call related data to the 2party's computer . Operation proceeds from step  to step .","In step , the SSP  connects the CP to the 2party before operation proceeds to step . In step , the CP & 2party are on the line together at which point they can talk about the call to be processed while both having the call related data available to them via their computers. Then, in step  the CP initiates a hook flash by briefly depressing the switch hook on the telephone  or by activating an icon on the CP's computer terminal  causing the computer to perform a hook flash operation via TAPI.","In response to the hook flash in step , the SSP  adds the calling party to the existing call between the CP and 2party. Then in step  the CP and 2party service the call before the call is terminated in step .",{"@attributes":{"id":"p-0099","num":"0098"},"figref":"FIG. 5","b":"500"},"The method begins in step  with a called party (CP) being on call with a calling party. For purposes of explanation it will be assumed that the CP corresponds to telephone  and that as part of the Centrex service to which the CP subscribes, a mid-call trigger has been set on the subscriber's line. In step  the CP briefly depresses the switch hook causing a hook flash which is detected by the SSP  to which the telephone  is coupled. In step , the SSP  responds to the hook flash by putting the calling party on hold and providing the CP with dial tone. Next in step , the CP responds to the dial tone by entering the telephone number of the 2party, e.g., the party to be added to the call or to whom the call is to be transferred. In step , the telephone number can be entered by the keypad of telephone  or via computer  and the supported TAPI.","In step , the SSP  responds to the entered telephone number by analyzing to check that it is a valid telephone number. Then in step  a determination is made as to whether or not the entered telephone number is a valid telephone number.","If the telephone number entered by the CP is not valid, operation proceeds to step  wherein the SSP  generates a fast busy or other audible error signal which is supplied to the CP. In step  the CP responds to the error signal by initiating another hook flash which causes the SSP , in step , to reconnect the CP to the calling party. This returns the CP to the state in step  of being on the call with the calling party and allows the CP to initiate a new call transfer or conferencing operation.","If the telephone number entered by the CP is determined to be valid, operation proceeds from step  to step  wherein the SSP  sends a mid-call trigger message to the SCP  with the 2party's telephone number. Then, in step , the SCP  reopens the CP's CPR in response to receiving the mid-call trigger message. Next, in step , the SCP  sends a monitor for change message to the SSP  with the 2party's telephone number to determine the status of the 2party's line.","In response to the monitor for change message, in step , the SSP  determines using SS7 functionality, the status of the 2party's line. Then, in step , the SSP returns the 2party's lines status to the SCP .","In step , the SCP  determines from the returned information if the 2party's line is busy. If the 2party's line is busy, operation proceeds to step . In step , the SCP controls an IP, e.g., using a STOR message sent to SSP , to notify the CP that the 2party is unavailable. Then in step  the SCP  terminates the call to the 2CP line. Following termination of the call to the 2CP line, in step  the SSP  reconnects the CP to the calling party causing the state of the call to return to the state found in step  wherein the called party (CP) and calling party are both on the line together.","In step , if the SCP  determines that the 2party's line is not busy, operation proceeds to step . In step , the SCP  sends an invoke app message to the network server  causing the server to invoke an application which causes call related data from the first CP's computer  or call related data previously supplied to the computer , to be supplied to the 2party's computer .","In step  the network server delivers the call related data to the 2party's computer  and requests that the 2party indicate via the computer  whether or not they are willing to accept the call. In reply, in step , the 2party's computer transmits to the network server  information provided by the 2party indicating whether or not they are willing to accept the call. In step , the network server determines from the received information if the 2party is willing to accept the call.","If the 2party is not willing to accept the call, operation proceeds to step  wherein the network server  determines an alternative 2party telephone number to use. This may involve identifying a backup party to the initial 2party or another available individual with a similar set of skills as the 2party. A telephone number corresponding to the alternative 2party is provided as part of step , to the network server  to be used as the 2party number.","If in step  the server determines that the 2party is willing to accept the call, operation proceeds directly to step .","In step  the network server  returns a message to the SCP  with the 2party's telephone number. Then in step  the SCP  sends a message, e.g., an Analyze_Route message, with the telephone number of the 2party received from the network server  to the SSP  to complete the call.","In response to the message from the SCP , in step  the SSP  connects the CP with the 2party while the calling party is still on hold. Once connected, the CP and 2party are free to discuss the call being serviced without the calling party on the line.","After being connected to the 2party, in step  the CP initiates a hook flash using the telephone switch hook or by activating an icon on his computer . In step  the SSP responds to the hook flash by adding the calling party to the call with the CP and the 2party. If the CP wished to transfer the call, he could hang up at that point. However, the flow in  assumes that both the CP and 2party will service the call as per step . Following servicing of the call in step , the call is terminated in step , e.g., in response to the calling party or CP and 2party hanging up.","Numerous variations on the above described methods and apparatus are possible without departing from the scope of the invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 2","b":"1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 3","FIGS. 3A and 3B"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
