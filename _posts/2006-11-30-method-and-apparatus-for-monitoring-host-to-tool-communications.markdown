---
title: Method and apparatus for monitoring host to tool communications
abstract: An aspect of the present invention includes a method and device for listening to communications between processes and tools, recording report and report trigger definitions, matching reports from tools with the recorded definitions, and translating messages into a context-insensitive format. Other aspects of the present invention include dynamically enhancing tool status reports, migrating processes form tool control hosts to distributed processors, and screening requests for tool status information from hosts and distributed processors. More detailed descriptions of aspects of the present invention are described in the claims, specification and drawings.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07437204&OS=07437204&RS=07437204
owner: MKS Instruments, Inc.
number: 07437204
owner_city: Andover
owner_country: US
publication_date: 20061130
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATION DATA","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present application is a divisional of U.S. patent application Ser. No. 09\/935,213, as amended, entitled METHOD AND APPARATUS FOR MONITORING HOST TO TOOL COMMUNICATIONS, filed 22 Aug. 2001, invented by Uzi Lev-Ami and Yossef Ilan Reich, which is a continuation-in-part of U.S. patent application Ser. No. 09\/847,937, entitled METHOD AND APPARATUS FOR TWO PHASE STRUCTURED MESSAGE TO TAGGED MESSAGE TRANSLATION, filed 2 May 2001, invented by Uzi Lev-Ami, Tal Lev-Ami, Ezra Shabi and Yoav Sherf; and claims the benefit of U.S. Provisional Patent Application No. 60\/227,408, entitled WEB BASED TOOL CONTROL, filed 23 Aug. 2000, invented by Mitchell Weiss, Uzi Levi-Ami, and Yossi Reich. Such applications are incorporated by reference as if fully set forth herein.","The protocols, communication infrastructure and hosting modes used by tools and other automated or semi-automated equipment in semi conductor fabs and foundries, metal cutting shops, healthcare and other domains developed over the years, when communication and processor speeds were relatively limited. Message protocols for foundry, shop floor and healthcare applications were designed to utilize low-speed, serial communications. These message protocols included structured messages, which could be transmitted quickly even with low-speed communications. Structured messages were and remain difficult to translate and understand. The difficulty is exacerbated when a first message sets a context for a response and a second, responsive message does not repeat the context; that is, the context-sensitive response is only meaningful when paired with the corresponding context-setting message. Matching context-setting and context-sensitive messages can be a very tedious task, especially when the context-setting-messages precede the context-setting messages by hours, days or weeks, instead of immediately preceding the responsive messages. The communication infrastructure may utilize serial communications or a bus structure, compliant with SECS or CAN+. Hosts are centralized, monolithic programs that are difficult to modify.","Therefore, it is desirable to introduce methods and devices for improved communications between tools and processes requiring information from tools and other automated or semi-automated equipment.","An aspect of the present invention includes a method and device for listening to communications between processes and tools, recording report and report trigger definitions, matching reports from tools with the recorded definitions, and translating messages into a context-insensitive format. Other aspects of the present invention include dynamically enhancing tool status reports, migrating processes form tool control hosts to distributed processors, and screening requests for tool status information from hosts and distributed processors. More detailed descriptions of aspects of the present invention are described in the claims, specification and drawings.","The following detailed description is made with reference to the figures. Preferred embodiments are described to illustrate the present invention, not to limit its scope, which is defined by the claims. Those of ordinary skill in the art will recognize a variety of equivalent variations on the description that follows.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1","b":["100","102","104","106","108","112","110","106","102"]},"Some arrangements for practicing the present invention are illustrated in . At least one machine  communicates with at least one host . The host may be a controller or a management system for one or more machines. The host may be centralized, distributed among processors, or centralized with some functions distributed among processors. Software implementing aspects of the present invention may run  on the host (), on other equipment that listens to communications between the host and the machine (), or on other equipment that has protocol translation capabilities (). The equipment with translation capabilities may translate messages from a serial protocol to a network protocol or among other types of communication or transport protocols. For instance, it may translate from a CAN+ or IEC 62026 bus protocol to an Ethernet protocol. One description of CAN+ bus and other sensor\/actuator bus (SAB) protocols appears in James R Moyne, Nader Najafi, Daniel Judd and Allen Stock, \u201c\u201d, Sensor Expo Conference Proceedings (Sept. 1994). SAB protocols which may be used with the present invention include WorldFIP fieldbus, DeviceNet protocol, SDS, J-1939, LONWorks protocol, Seriplex protocol, ISP Fieldbus, and BITBUS, and the later, derivative or updated implementations of these protocols. Software implementing aspects of the present invention also may run on equipment that listens to communications between the host and the machine (FIG. D,) tapping into communications lines. In configurations A, C and D, the listening device is removable and distinct from either the host or tool. It can be added near the host or tool, or remote from either the host or tool. It functions independently of either the host or tool. When removed, it is reusable with another tool without physical alteration, with reprogramming or resetting. In configuration D, several types of couplings can be used to tap into the communication lines. A connector may be inserted into the lines. The tap lines leading out of the connector may be physically coupled to the communications lines, may be magnetically coupled or in any other way effective to split or replicate the signal in the communication lines. A hub with an extra port can supply access. Magnetic sensors may be placed proximate to the communications line to sense signals in the lines to provide magnetic coupling without inserting a connector or hub in the communications lines.","The communications between the host and machine include a series of structured messages, for instance untagged messages constructed according to a standard or protocol. These messages may include both context-setting and context-sensitive messages, which sometimes are inquiries and responses. Context-sensitive response messages may omit the inquiries to which they respond. For instance, a context-setting message may ask for read-outs of four variables that the machine monitors. The context-sensitive message may respond with read-out values for the four variables, without identifying the variables being reported. Alternatively, one or more context-setting messages may define at least one report and at least one report triggering event. The triggering event may be logical, such as when a process step is completed or an operating condition reaches a threshold, or it may be time-based, such as every two seconds during an etching process. When the machine senses occurrence of the triggering event or when the report is specifically requested, it may issue the report. The report may take the form of read-out values for a plurality of variables, without identifying the variables being reported.","The machines may be semiconductor manufacturing equipment in a clean room, numerically controlled equipment in a machine shop, or any other automated or semi-automated equipment. The machines may be standalones, machines connected by robot work piece handlers, or fully integrated multi-station work cells. Each machine may have its own controller or a plurality of machines may share a controller. Similarly, devices used for or in the business of healthcare may benefit from the present invention. These devices may be connected to patients or may store information regarding patients.","Communications may involve RS-232 serial communications, CAN or other bus communications, Ethernet connections or any other suitable communications or message transport layer. This invention may most benefit structured message protocols that were designed for slower, RS-232 serial communications or SAB communications, as such legacy protocols may often employ context-setting and context-sensitive messages. This invention also may apply to protocols that utilize context-insensitive messages.","Devices that can be used to implement aspects of the present invention include a variety of general-purpose computer systems. PRI Automation, Inc. produced one such eQonnector hardware. PRI's eQonnector was a fully functional x86 based computer running Windows NT without a keyboard or monitor. The system includes a variety of input output ports: 2 Ethernet connections for 10\/100 base T connection; 2 isolated RS 232-c ports using DB-9 connectors; and one DeviceNet (CAN-compatible) interface using a DIN jack. The eQonnector further includes 128 MB of RAM, a 4 GB hard disk and a universal power supply. Its size is approximately 200 mm diameter (generally round) and 50 mm high. Another eQonnector is a generic computer system, a portion of which is depicted in an interface block diagram, . Two alternative Advantech single board computers (\u201cSBC\u201d) that may be suitable are Advantech PCM-9550F and PCM-9572F. The latter SBC provides more capability to support advanced functions. An interface PCB provides functions not included on the SBC. The SBC and interface PCB are housed in a rectangular aluminum enclosure, constructed from standard extrusions provided by Parvus Corporation, with sheet metal end caps. The overall dimensions are 3.5\u2033 H\u00d76.6\u2033 W\u00d79\u2033 D. The hard disk is an IBM Travelstar DJSA-210 with a 10 GB capacity or larger.  depicts components of the interface PCB. Several connectors are provided for linking the interface PCB and the SBC. A digital input output connector  provides eight bits of digital input output, connected to the SBC. The digital input output connector  may be compatible with OPTO-22I\/O module racks. The eight bits are allocated by the header . Bit seven is connected to the shutdown switch, for signaling the SBC to shut down. Bit  indicates whether the system is operating in eavesdrop or pass-through mode. This bit controls the connection relay . The default power off condition is for the device to be in eavesdrop mode. The connection relay  controls the configuration of the COM  and COM  port connectors, A & B. These ports are optically isolated from each other (A & B) and from the monitored communications channel. The pin assignments in the eavesdrop and pass-through modes are:",{"@attributes":{"id":"p-0020","num":"0019"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"SBC Signal","Eavesdrop","Pass-Thru"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"COM1 - Tx","N\/c","DB9a - pin 3"]},{"entry":[{},"COM1 - Rx","DB9a - pin 2, DB9b -","DB9a - pin 2"]},{"entry":[{},{},"pin 3"]},{"entry":[{},"COM1 - Gnd","DB9a - pin 5, DB9b -","DB9a - pin 5"]},{"entry":[{},{},"pin 5"]},{"entry":[{},"COM2 - Tx","N\/c","DB9b - pin 3"]},{"entry":[{},"COM2 - Rx","DB9b - pin 2, BD9a -","DB9b - pin 2"]},{"entry":[{},{},"pin 3"]},{"entry":[{},"COM2 - Gnd","DB9b - pin 5, DB9a -","DB9a - pin 5"]},{"entry":[{},{},"pin 5"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}},"br":[{},{}],"b":["4","5","309","0","3","310","302","305","312","303","311","311","306","306","321","322","323","332","335","331","333","335","336","334","332","341","342","343","344","345","346","349","350","347","348"]},"One communications protocol utilizing structured messages, including context-setting and context-sensitive messages, is a SEMI Equipment Communications Standard (SECS). Two aspects of this standard, SECS-I or HSMS for message transfer and SECS-II for message content are detailed in SEMI documents E4-0699, E37-0298, and E5-0600. The SECS-I standard defines a communication interface suitable for the exchange of messages between semiconductor processing equipment and a host. Semiconductor processing equipment includes equipment intended for wafer manufacturing, wafer processing, process measuring, assembly and packaging. A host is a computer or network of computers, which exchange information with the equipment to accomplish manufacturing. The SECS-I standard includes the description of the physical connector, signal levels, data rate and logical protocols required to exchange messages between the host and equipment over a serial point-to-point data path. This standard does not define the data contained within a message. The meaning of messages must be determined through some message content standard such as SEMI Equipment Communications Standard E5 (SECS-II). These standards provide a means for independent manufacturers to produce equipment and\/or hosts, which can be connected without requiring specific knowledge of each other.","HSMS is intended as an alternative to SEMI E4 (SECS-I) for applications where higher speed communication is needed or when a simple point-to-point topology is insufficient. SEMI E4 (SECS-I) can still be used in applications where these and other attributes of HSMS are not required. HSMS is also intended as an alternative to SEMI E13 (SECS Message Services) for applications where TCP\/IP is preferred over OSI. It is intended that HSMS be supplemented by subsidiary standards that further specify details of its use or impose restrictions on its use in particular application domains. High-Speed SECS Message Services (HSMS) defines a communication interface suitable for the exchange of messages between computers in a semiconductor factory.","The SEMI Equipment Communications Standard Part 2 (SECS-II) defines the details of the interpretation of messages exchanged between intelligent equipment and a host. This specification was developed in cooperation with the Japan Electronic Industry Development Association Committee 12 on Equipment Communications. It was indeed to be fully compatible with SEMI Equipment Communications Standard E4 (SECS-I). It is was intended to allow for compatibility with alternative message transfer protocols. This standard defines messages to such a level of detail that some consistent host software may be constructed with only minimal knowledge of individual equipment. The equipment, in turn, may be constructed with only minimal knowledge of the host. The messages defined in the standard support the most typical activities required for integrated circuit manufacturing. The standard also provides for the definition of equipment-specific messages to support those activities not covered by the standard messages. While certain activities can be handled by common software in the host, it is expected that equipment-specific host software may be required to support the full capabilities of the equipment. SECS-II gives form and meaning to messages exchanged between equipment and host using a message transfer protocol, such as SECS-I or HSMS. SECS-II defines the method of conveying information between equipment and host in the form of messages. These messages are organized into categories of activities, called streams, which contain specific messages, called functions. A request for information and the corresponding data transmission is an example of such an activity. SECS-II defines the structure of messages into entities called items and lists of items. This structure allows for a self-describing data format to guarantee proper interpretation of the message. The interchange of messages is governed by a set of rules for handling messages called the transaction protocol. The transaction protocol places some minimum requirements on any SECS-II implementation. SECS-II applies to equipment and hosts used in the manufacturing of semiconductor devices. Examples of the activities supported by the standard are: transfer of control programs, material movement information, measurement data, summarized test data, and alarms. A given piece of equipment will require only a subset of the functions described in this standard. The number of functions and the selection of functions will depend upon the equipment capabilities and requirements. The equipment typically will define the messages used in a particular implementation of SECS-II.","The structure of the SECS messages is detailed in standards documents sometimes referred to as E4-0699 and E5-0600. The following example illustrates at least part of the structure. The header structure is adapted from E4-0699 and the data structure from E5-0600. Additional structure may be provided, for instance by a transport layer. The processing of this structured message from binary through structure-tagged format to context-insensitive tagged format follows. Consider a so-called S, F (or SF) message. This is the Selected Equipment Status Data (SSD) message. In this message, the equipment reports the status variable value (SV) corresponding to each status variable ID (SVID) requested in the order requested, for instance, requested by sending a S, F Selected Equipment Status Request (SSR). An SVID may include any parameter that can be sampled in time such as temperature or quantity of a consumable. The host needs to remember the SVIDs requested, because they are not identified in the SF response message. The SECS I\/II structure specified in the standards resembles the binary portion of the following:",{"@attributes":{"id":"p-0025","num":"0024"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"10000000","\u201cReverse bit\u201d=1 (equipment to host)"]},{"entry":[{},"00000000","Device ID, e.g. ID=0"]},{"entry":[{},"00000001","Wait bit=0 (no response required), Stream=1"]},{"entry":[{},"00000100","Function 4"]},{"entry":[{},"10000000","End bit=1 (no blocks to follow)"]},{"entry":[{},"00000000","Block 0 (only one block this message)"]},{"entry":[{},"00000000","Four System Bytes, including source and transaction IDs"]},{"entry":[{},"00000010","E.g., Source ID=2"]},{"entry":[{},"00000000"]},{"entry":[{},"10000001","Transaction ID=129"]},{"entry":[{},"00000001","List format"]},{"entry":[{},"00000011","3 Elements"]},{"entry":[{},"10110001","Unsigned 4-byte integer next"]},{"entry":[{},"00000100","Length 4 bytes"]},{"entry":[{},"00000000","Most significant byte first"]},{"entry":[{},"00000000"]},{"entry":[{},"00000001","Value=500"]},{"entry":[{},"11110100"]},{"entry":[{},"01110001","Signed 4-byte integer next"]},{"entry":[{},"00000100","Length 4 bytes"]},{"entry":[{},"11111111","Twos complement format"]},{"entry":[{},"11111111"]},{"entry":[{},"11111111","Value= \u22127"]},{"entry":[{},"11111001"]},{"entry":[{},"00100001","Binary unspecified value 1-byte next"]},{"entry":[{},"00000001","Length 1 byte"]},{"entry":[{},"00000010","Value=02"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"The entire message includes 17 bytes of data, 1-byte length (not shown), 10 bytes of header and 2 bytes checksum (not shown) for a total of 30 bytes. This short a message is quickly transmitted, even at a slow serial transmission rate such as 9600 baud.","One way of representing the data section of the binary message above, consistent with the list orientation of SECS-II, follows.",{"@attributes":{"id":"p-0028","num":"0027"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"16:40:54 Received S1F4",{}]},{"entry":[{},"\u2003<L [3]"]},{"entry":[{},"\u2003\u2003<U4","500>"]},{"entry":[{},"\u2003\u2003<I4","\u22127>"]},{"entry":[{},"\u2003\u2003<B","02>"]},{"entry":[{},"\u2003>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"Parsing this representation, a time stamp indicates when the message was received. This time stamp can be extracted from the transport layer, can be included by the sender at the application layer, or added by the receiving or logging facility. \u201cL [3]\u201d indicates a list of three elements. The <elements> include a data format followed by a value. This message representation is closed with a \u201c>\u201d and a final \u201c.\u201d This message is context-sensitive. It cannot be understood without knowing the inquiry that prompted the response, because it does not identify the SVIDs for which SVs are being reported.","The data portion of a context-setting messaging, which could be used to prompt the response above, can be represented as:",{"@attributes":{"id":"p-0031","num":"0030"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"16:40:53 Sending S1F3"]},{"entry":[{},"\u2003<L [3]"]},{"entry":[{},"\u2003\u2003<U4 \u2003\u200361>"]},{"entry":[{},"\u2003\u2003<U4 \u2003\u200362>"]},{"entry":[{},"\u2003\u2003<U4 \u2003\u200363>"]},{"entry":[{},"\u2003>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{},"b":["1","4","61","62","63","1","4","1","3","1","4"]},{"@attributes":{"id":"p-0032","num":"0031"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"11:58:46 : Sending S2F33 [define a report]"},{"entry":"\u2003<L [2]"},{"entry":"\u2003\u2003<U4 \u2003\u20031>"},{"entry":"\u2003\u2003<L [1]"},{"entry":"\u2003\u2003\u2003<L [2]"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003\u2003\u2003<U4 \u2003\u20037>","[report #7]"]},{"entry":"\u2003\u2003\u2003\u2003<\u2003L [1]"},{"entry":["\u2003\u2003\u2003\u2003\u2003<U4 \u2003\u20031>","[reports one variable, #1]"]},{"entry":"\u2003\u2003\u2003\u2003>"},{"entry":"\u2003\u2003\u2003>"},{"entry":"\u2003\u2003>"},{"entry":"\u2003>"},{"entry":"."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"11:58:46 \u2003: Received S2F34 [acknowledgement of S2F33]"},{"entry":"\u2003<B 00>"},{"entry":"."},{"entry":"12:01:12 \u2003: Sending S2F35 [define link event for triggering a report]"},{"entry":"\u2003<L [2]"},{"entry":"\u2003\u2003<U4 \u2003\u20031>"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003<L [1]","[one event trigger in this link definition]"]},{"entry":"\u2003\u2003\u2003<L [2]"},{"entry":["\u2003\u2003\u2003\u2003<U4 \u2003\u20031>","[event #1 is the trigger]"]},{"entry":"\u2003\u2003\u2003\u2003<L [1]"},{"entry":["\u2003\u2003\u2003\u2003\u2003<U4 \u2003\u20037>","[report #7 is triggered]"]},{"entry":"\u2003\u2003\u2003\u2003>"},{"entry":"\u2003\u2003\u2003>"},{"entry":"\u2003\u2003>"},{"entry":"\u2003>"},{"entry":"."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"12:01:12 : Received S2F36 [acknowledgement of S2F35]"},{"entry":"\u2003<B 00>"},{"entry":"."},{"entry":"12:15:26 : Sending S2F37 [enabling event report]"},{"entry":"\u2003<L [2]"},{"entry":"\u2003\u2003<BOOL T>"},{"entry":"\u2003\u2003<L [0]"},{"entry":"\u2003\u2003>"},{"entry":"\u2003>"},{"entry":"."},{"entry":"12:15:27 : Received S2F38 [acknowledgement of S2F37]"},{"entry":"\u2003<B 00>"},{"entry":"."},{"entry":"12:02:36 : Sending S6F19 [individual report request, alternative to event"},{"entry":"happening]"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003<U4 \u2003\u20037>","[report #7 requested]"]},{"entry":"."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"12:02:37 : Received S6F20 [individual report data, responsive to S6F19]"},{"entry":"\u2003<L [1]"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003<U4 \u2003\u20032>","[report #7 issued (it is the value of variable #1)]"]},{"entry":"\u2003>"},{"entry":"."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"12:15:39 : Received S6F11 [event report sent from tool, as defined"},{"entry":"inS2F33\/35]"},{"entry":"\u2003<L [3]"},{"entry":"\u2003\u2003<U4 \u2003\u20031>"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003<U4 \u2003\u20031>","[event #1 occurred]"]},{"entry":["\u2003\u2003\u2003<L [1]","[one report triggered]"]},{"entry":"\u2003\u2003\u2003\u2003<L [2]"},{"entry":["\u2003\u2003\u2003\u2003<U4 \u2003\u2003\u20037>","[report #7 issued]"]},{"entry":"\u2003\u2003\u2003\u2003\u2003<L [1]"},{"entry":["\u2003\u2003\u2003\u2003<U4 \u2003\u2003\u20033>","[reported value (of variable #1) is 3]"]},{"entry":"\u2003\u2003\u2003>"},{"entry":"\u2003\u2003>"},{"entry":"\u2003>"},{"entry":">"},{"entry":"."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"12:15:39 : Sending S6F12 [acknowledgement of S2F11]"},{"entry":"\u2003<B 00>"},{"entry":"."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{},"b":["2","37","38","2","37","2","37","2","37","2","37"]},"One aspect of the present invention includes a desired format for structure tagged messages. This embodiment uses XML rules for tagging messages to represent their structure. Structure tagged messages compliant with XML can be processed using XML tools, which are available in variety. In this embodiment, an XML message may include a header with: a name field in the SECS II stream and function (\u201cSxFy\u201d) format; a wait bit, indicating whether the recipient of the message is expected to acknowledge receipt (0 for off, 1 for on); a source ID, identifying the port that received the incoming message, or, alternatively, identifying the device that sent the message; transaction ID, identifying an open communication transaction, used for matching a response to an inquiry; and an optional header only flag, used if there is no data other than the header. The XML message further may include data, in a tree-type structure. Data nodes include a format conforming to one of the SECS-II format types, a length, and a data value.","Continuing with our examples, the following structure tagged messages are generated by processing the structured messages.",{"@attributes":{"id":"p-0035","num":"0034"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<Message Name=\u201cS1F4\u201d Wbit=\u201c0\u201d SourceID=\u201c2\u201d TransactionID=\u201c129\u201d>"},{"entry":"\u2003<Structure Format=\u201cL\u201d Length=\u201c3\u201d>"},{"entry":"\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>500<\/Value>"},{"entry":"\u2003\u2003<Value Format=\u201cI4\u201d Length=\u201c1\u201d>\u22127<\/Value>"},{"entry":"\u2003\u2003<Value Format=\u201cB\u201d Length=\u201c1\u201d>02<\/Value>"},{"entry":"\u2003<\/Structure>"},{"entry":"<\/Message>"},{"entry":"<Message Name=\u201cS1F3\u201d Wbit=\u201c1\u201d SourceID=\u201c1\u201d TransactionID=\u201c129\u201d>"},{"entry":"\u2003<Structure Format=\u201cL\u201d Length=\u201c3\u201d>"},{"entry":"\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>61<\/Value>"},{"entry":"\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>62<\/Value>"},{"entry":"\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>63<\/Value>"},{"entry":"\u2003<\/Structure>"},{"entry":"<\/Message>"},{"entry":"<Message Name=\u201cS2F33\u201d Wbit=\u201c1\u201d SourceID=\u201c1\u201d"},{"entry":"TransactionID=\u201c257\u201d>"},{"entry":"\u2003<Structure Format=\u201cL\u201d Length=\u201c2\u201d>"},{"entry":"\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>1<\/Value>"},{"entry":"\u2003\u2003<Value Format=\u201cL\u201d Length=\u201c1\u201d>"},{"entry":"\u2003\u2003\u2003<Value Format=\u201cL\u201d Length=\u201c2\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>7<\/Value>"},{"entry":"\u2003\u2003\u2003\u2003<Value Format=\u201cL\u201d Length=\u201c1\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>1<\/Value>"},{"entry":"\u2003\u2003\u2003\u2003<\/Value>"},{"entry":"\u2003\u2003\u2003<\/Value>"},{"entry":"\u2003\u2003<\/Value>"},{"entry":"\u2003<\/Structure>"},{"entry":"<\/Message>"},{"entry":"<Message Name=\u201cS6F11\u201d Wbit=\u201c1\u201d SourceID=\u201c2\u201d"},{"entry":"TransactionID=\u201c194\u201d>"},{"entry":"\u2003<Structure Format=\u201cL\u201d Length=\u201c3\u201d>"},{"entry":"\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>1<\/Value>"},{"entry":"\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>1<\/Value>"},{"entry":"\u2003\u2003<Value Format=\u201cL\u201d Length=\u201c1\u201d>"},{"entry":"\u2003\u2003\u2003<Value Format=\u201cL\u201d Length=\u201c2\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>7<\/Value>"},{"entry":"\u2003\u2003\u2003\u2003<Value Format=\u201cL\u201d Length=\u201c1\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<Value Format=\u201cU4\u201d Length=\u201c1\u201d>3<\/Value>"},{"entry":"\u2003\u2003\u2003\u2003<\/Value>"},{"entry":"\u2003\u2003\u2003<\/Value>"},{"entry":"\u2003\u2003<\/Value>"},{"entry":"\u2003<\/Structure>"},{"entry":"<\/Message>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"Information from the messages themselves, both the context-setting and the context-sensitive messages, can be combined with information retrieved from a dictionary or other reference external to the translation code. A tool compliant with the SECS standards should maintain a dictionary for providing information about system variables, equipment constants, data variables, collected event IDs and alarm IDs supported by the tool. In this context, system variables describe the status of the machine. Equipment constants are user modifiable operating parameters. Data variables are measurements of process conditions at the tool or machine. Collected event IDs describe triggers for reporting conditions. Alarm IDs describe triggers for alarms. Part of the information that may be maintained in the dictionary for these items is summarized in the table below.",{"@attributes":{"id":"p-0037","num":"0036"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"10"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"9","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"10","colwidth":"21pt","align":"center"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"10","align":"center","rowsep":"1"}}},{"entry":[{},{},{},{},"Format\/",{},{},{},{},{}]},{"entry":["Item","ID","Name","Class","Type","Min","Max","Default","Units","Desc"]},{"entry":{"@attributes":{"namest":"1","nameend":"10","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SV","\u2713","\u2713","\u2713","\u2713","N\/A","N\/A","N\/A","\u2713","opt"]},{"entry":["EC","\u2713","\u2713","\u2713","\u2713","\u2713","\u2713","\u2713","\u2713","opt"]},{"entry":["DV","\u2713","\u2713","\u2713","\u2713","N\/A","N\/A","N\/A","\u2713","opt"]},{"entry":["CEID","\u2713","opt","N\/A","N\/A","N\/A","N\/A","N\/A","N\/A","opt"]},{"entry":["ALID","\u2713","\u2713","N\/A","\u2713","N\/A","N\/A","N\/A","N\/A","opt"]},{"entry":{"@attributes":{"namest":"1","nameend":"10","align":"center","rowsep":"1"}}}]}}}},"br":{}},"It is useful in creating a dictionary to verify the correct format, type and structure of information reported by a particular machine, as machines may be less than perfectly compliant with standards. It is also useful in creating a dictionary to combine automatic inquiries to the machine with manual insertion of data in the file, especially in instances where the machine does not provide a list of variables, the machine provides only a partial list of rebels, or list provided is not compliant with a standard.","Sample dictionary entries relevant to these examples are:",{"@attributes":{"id":"p-0040","num":"0039"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"61:","Name","SV_1"]},{"entry":[{},{},"Format","U4"]},{"entry":[{},{},"Length","1"]},{"entry":[{},{},"Descriptor"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Min","N\/A"]},{"entry":[{},"Max","N\/A"]},{"entry":[{},"Def","N\/A"]},{"entry":[{},"Description","Describe this variable here"]},{"entry":[{},"Units","N\/A"]},{"entry":[{},"Class","SV"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"62:","Name","SV_2"]},{"entry":[{},{},"Format","I4"]},{"entry":[{},{},"Length","1"]},{"entry":[{},{},"Descriptor"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Min","N\/A"]},{"entry":[{},"Max","N\/A"]},{"entry":[{},"Def","N\/A"]},{"entry":[{},"Description","Describe this variable here"]},{"entry":[{},"Units","N\/A"]},{"entry":[{},"Class","SV"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"63:","Name","SV_3"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Format","B"]},{"entry":[{},"Length","1"]},{"entry":[{},"Descriptor"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Min","N\/A"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Max","N\/A"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Def","N\/A"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Description","Describe this variable here"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Units","N\/A"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Class","SV"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"A further aspect of the present invention includes a desired format for context tagged messages. This embodiment uses XML rules for tagging messages to represent their structure. Each tagged message includes the two branches described in the table below:",{"@attributes":{"id":"p-0042","num":"0041"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"189pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Branch",{},{}]},{"entry":["Name","Field Name","Explanation"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Header","FormType","One of the forms: Data Form, Definition Form, Only Log Form"]},{"entry":[{},{},"and Time Form"]},{"entry":[{},"SECSMsg","Stream and function of the message"]},{"entry":[{},"Descriptor","Subtype of specific Form Type"]},{"entry":[{},"Descriptor","Status related to specific descriptor"]},{"entry":[{},"Status"]},{"entry":[{},"ID","Identification related to specific descriptor"]},{"entry":[{},"IsError","Indication (true\/false) whether the message"]},{"entry":[{},{},"contains an error indication. Messages containing"]},{"entry":[{},{},"an error indication (true) are only logged and their data is"]},{"entry":[{},{},"ignored"]},{"entry":["DBLogInfo","Identifier","A unique tag for database data insertion and"]},{"entry":[{},{},"retrieval"]},{"entry":[{},"Timestamp","The time at which the primary message related to"]},{"entry":[{},{},"the transaction was received."]},{"entry":[{},"TimeFolding","A time folding indication"]},{"entry":[{},"Ind"]},{"entry":[{},"Duration","The duration (in seconds) between the primary and"]},{"entry":[{},{},"secondary messages related to a transaction"]},{"entry":[{},"Parameter","For future use"]},{"entry":[{},"Status type","The type of the status related to the message"]},{"entry":[{},"Status","One of the values acceptable for the specific status"]},{"entry":[{},"value","type"]},{"entry":[{},"Description","Free text used in several messages for additional"]},{"entry":[{},{},"indications"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"In addition to the Header and DBLogInfo branches described above, messages of a data or definition form can have additional branches, as described below:",{"@attributes":{"id":"p-0044","num":"0043"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"168pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":["Form","Branch","Field",{}]},{"entry":["Name","Name","Name","Explanation"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Data","Variable","Name","Variable name"]},{"entry":[{},{},"Variable","VID"]},{"entry":[{},{},"ID"]},{"entry":[{},{},"Report ID","Report identification"]},{"entry":[{},{},"Value","(See following branch)"]},{"entry":[{},"Value","Name","Name of the item"]},{"entry":[{},"(sub-","Format","SECS format"]},{"entry":[{},"branch","Length","Number of items"]},{"entry":[{},"of",{},"length = 1 means it's a leaf with data"]},{"entry":[{},"Variable)",{},"length > 1 means it's a branch itself that"]},{"entry":[{},{},{},"contains array or a list of values (in a recursive manner)"]},{"entry":["Definition","Delete","Report ID","The identification of the deleted report"]},{"entry":[{},"Report"]},{"entry":[{},"Delete","Trace ID","The identification of the deleted trace"]},{"entry":[{},"Trace"]},{"entry":[{},"Delete","Event ID","The identification of the deleted event"]},{"entry":[{},"Event"]},{"entry":[{},"Link"]},{"entry":[{},"Define","Report ID","The identification of the defined report"]},{"entry":[{},"Report","Variable","Actually a branch(es) that holds a VID"]},{"entry":[{},"Define","Trace ID","The identification of the defined trace"]},{"entry":[{},"Trace","Variable","Actually a branch(es) that holds a VID"]},{"entry":[{},"Define","Event ID","The identification of the linked event"]},{"entry":[{},"Event","Variable","Actually a branch(es) that holds report ID"]},{"entry":[{},"Link"]},{"entry":[{},"Delete",{},"No parameters"]},{"entry":[{},"All"]},{"entry":[{},"Reports"]},{"entry":[{},"Delete",{},"No parameters"]},{"entry":[{},"All"]},{"entry":[{},"Traces"]},{"entry":[{},"Delete",{},"No parameters"]},{"entry":[{},"All Event"]},{"entry":[{},"Links"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}},"br":{}},{"@attributes":{"id":"p-0045","num":"0044"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<SECSMessage>"},{"entry":"\u2003<Header ID=\u201c#\u201d IsError=\u201cfalse\u201d SECSMsg=\u201cS1F3\u201d"},{"entry":"\u2003FormType=\u201cData Form\u201d"},{"entry":"\u2003Descriptor=\u201cQuerySimple\u201d DescriptorState=\u201c#\u201d\/>"},{"entry":"\u2003<DBLogInfo Duration=\u201c0\u201d Parameter=\u201c#\u201d TimeStamp=\u201c14-Feb-2001"},{"entry":"\u200316:40:36\u201d Identifier=\u201c3726866688\u201d StatusType=\u201c#\u201d Description=\u201c#\u201d"},{"entry":"\u2003StatusValue=\u201c#\u201d TimeFoldingInd=\u201cfalse\u201d\/>"},{"entry":"\u2003<Variable Name=\u201cSV_1\u201d VariableID=\u201c61\u201d>"},{"entry":"\u2003\u2003<Value Name=\u201cSV_1\u201d Format=\u201cU4\u201d Length=\u201c1\u201d>500<\/Value>"},{"entry":"\u2003<\/Variable>"},{"entry":"\u2003<Variable Name=\u201cSV_2\u201d VariableID=\u201c62\u201d>"},{"entry":"\u2003\u2003<Value Name=\u201cSV_2\u201d Format=\u201cI4\u201d Length=\u201c1\u201d>\u22127<\/Value>"},{"entry":"\u2003<\/Variable>"},{"entry":"\u2003<Variable Name=\u201cSV_3\u201d VariableID=\u201c63\u201d>"},{"entry":"\u2003\u2003<Value Name=\u201cSV_3\u201d Format=\u201cB\u201d Length=\u201c1\u201d>02<\/Value>"},{"entry":"\u2003<\/Variable>"},{"entry":"<\/SECSMessage>"},{"entry":"<SECSMessage>"},{"entry":"\u2003<Header ID=\u201c#\u201d IsError=\u201cfalse\u201d SECSMsg=\u201cS2F33\u201d"},{"entry":"\u2003FormType=\u201cDefinitionForm\u201d Descriptor=\u201cChange\u201d"},{"entry":"\u2003DescriptorState=\u201c#\u201d\/>"},{"entry":"\u2003<DBLogInfo Duration=\u201c0\u201d Parameter=\u201c#\u201d TimeStamp=\u201c05-Mar-2001"},{"entry":"\u200311:58:46\u201d Identifier=\u201c3889340592\u201d StatusType=\u201cDRACK\u201d"},{"entry":"\u2003Description=\u201cAck: Accept\u201d StatusValue=\u201c00\u201d"},{"entry":"\u2003TimeFoldingInd=\u201cfalse\u201d\/>"},{"entry":"\u2003<DefineReport MapperID=\u201c7\u201d>"},{"entry":"\u2003\u2003<Link LinkID=\u201c1\u201d\/>"},{"entry":"\u2003<\/DefineReport>"},{"entry":"<\/SECSMessage>"},{"entry":"<SECSMessage>"},{"entry":"\u2003<Header ID=\u201c1\u201d IsError=\u201cfalse\u201d SECSMsg=\u201cS6F11\u201d"},{"entry":"\u2003FormType=\u201cDataForm\u201d Descriptor=\u201cGotEvent\u201d DescriptorState=\u201c#\u201d\/>"},{"entry":"\u2003<DBLogInfo Duration=\u201c#\u201d Parameter=\u201c#\u201d TimeStamp=\u201c05-Mar-2001"},{"entry":"\u200312:15:38\u201d Identifier=\u201c3889340598\u201d StatusType=\u201c#\u201d Description=\u201c#\u201d"},{"entry":"\u2003StatusValue=\u201c#\u201d TimeFoldingInd=\u201cfalse\u201d\/>"},{"entry":"\u2003<Variable Name=\u201cV1\u201d ReportID=\u201c7\u201d VariableID=\u201c1\u201d>"},{"entry":"\u2003<Value Name=\u201cV1\u201d Format=\u201cU4\u201d Length=\u201c1\u201d>3<\/Value>"},{"entry":"\u2003<\/Variable>"},{"entry":"<\/SECSMessage>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"In these examples, the \u201cTime Folding Ind\u201d is used to flag a discontinuity in time, such as a shift out of daylight savings time, which could make a response appear to precede a query. The \u201c#\u201d symbol is a filler or null value.","The process of converting structured messages into structure tagged messages is straight forward. A very short routine can accomplish the conversion. Optionally, error checking can be added to the conversion process and the routine expanded. However, standard tools can be applied to error checking, including format checking and data validation, if the checking is postponed until the structured messages are fully translated into context tagged XML messages.","The process of converting structure tagged messages into context tagged messages is more involved. Context can come from context-setting messages or from context tables, which may be constructed from context-setting messages or the results of context-setting messages, e.g., values received by the machines in context-setting messages, stored by the machines and revealed in response to inquires. Additional useful information can come from dictionaries.  illustrate converting structured messages into structure tagged messages.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 4","FIGS. 2A-2D","FIG. 2C"],"b":["401","403","405","402","405","402","410","411","412","420","425","410","411","412","420","420","425","421","426","422","427","430","431","421","432","422"]},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 5","b":["561","520","565","566","522","562","540"]},"In the second phase of translation, a number of steps may be carried out which do not depend on the form of message received. The resources available for processing incoming messages include the dictionary , a dynamic mapper , and various tables . The dictionary is described above.","The dynamic mapper records definitions of reports (links to variables), of traces (links to variables) and of events (links to reports or to datasets.)",{"@attributes":{"id":"p-0053","num":"0052"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"154pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<FormMappers>"]},{"entry":[{},"\u2003<Reports>"]},{"entry":[{},"\u2003\u2003..."]},{"entry":[{},"\u2003\u2003<Mapper MapperID=\u201c7\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<Link LinkID=\u201c1\u201d\/>"]},{"entry":[{},"\u2003\u2003<\/Mapper>"]},{"entry":[{},"\u2003<\/Reports>"]},{"entry":[{},"\u2003<EventLinks>"]},{"entry":[{},"\u2003\u2003<Mapper MapperID=\u201c1\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<Link LinkID=\u201c7\u201d\/>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<Link LinkID=\u201c2\u201d\/>"]},{"entry":[{},"\u2003\u2003<\/Mapper>"]},{"entry":[{},"\u2003\u2003<Mapper MapperID=\u201c10\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<Link LinkID=\u201c11\u201d\/>"]},{"entry":[{},"\u2003\u2003<\/Mapper>"]},{"entry":[{},"\u2003\u2003<Mapper MapperID=\u201c11\u201d>"]},{"entry":[{},"\u2003\u2003\u2003\u2003<Link LinkID=\u201c12\u201d\/>"]},{"entry":[{},"\u2003\u2003<\/Mapper>"]},{"entry":[{},"\u2003<\/EventLinks>"]},{"entry":[{},"\u2003..."]},{"entry":[{},"<\/FormMappers>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Reports and EventLinks provide  to many connections, between reports and variables and between events and reports, respectively. In this example, report  is linked to variable  and event  is linked to reports  and . Event  is set to trigger report  including variable  and report  which is not defined in the excerpt shown.","The tables include a primary\/secondary table, a name cross reference table and a message format table. One of the tables can be used to relate primary and secondary messages as illustrated by the following primary\/secondary table excerpt:",{"@attributes":{"id":"p-0056","num":"0055"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"Session",{},"Empty"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Primary","Secondary","Ack","List"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Data Form Sessions"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"S1F3","S1F4",{},"\u2713"]},{"entry":[{},"S2F13","S2F14",{},"\u2713"]},{"entry":[{},"S2F15","S2F16","\u2713"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Definition Form Sessions"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"70pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"S2F23","S2F24","\u2713",{}]},{"entry":[{},"S2F33","S2F34","\u2713","\u2713"]},{"entry":[{},"S2F35","S2F36","\u2713","\u2713"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}]}}},"In this table, primary and secondary messages are associated with each other. The acknowledgment column marks the existence of an acknowledgment value that can be either a success or failure acknowledgment. The empty list column indicates a session that can include an empty variable list. In addition, a column can be provided which indicates that certain fields in the tagged message may be different from one session to another. Examples are provided for both data form sessions and definition form sessions. The data form sessions include an inquiry, which sets a context, and a response. The definition form sessions set contexts for later reporting, such as defining a report, an event, a trace or a data set. Additional session types include log only form sessions and time form sessions. The log only form sessions include messages that are not processed as data or definitions, but are only logged. The time form sessions include special messages which reflect resetting of the clock running on a machine. These messages are useful when the clock needs to be set back to be accurate or when hours are gained or lost due to daylight savings time.","Another useful table is a name cross-reference table. The name cross-reference table can be used to differentiate between message types that validly can originate with either a host or a machine. A combination of source, which is associated with either a host or machine, and message type can be translated into a differentiated message type. The entries below include one of our examples and an instance in which the handling of a message type (its mapper name or differentiated message type) depends on where it originated.",{"@attributes":{"id":"p-0059","num":"0058"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<Port PortID=\u201c1\u201d PortType=\u201cHost\u201d>"]},{"entry":[{},"..."]},{"entry":[{},"\u2003<Message Name=\u201cS7F3\u201d MapperName=\u201cS7F3_H\u201d"]},{"entry":[{},"\u2003MainDestPort=\u201c2\u201d>"]},{"entry":[{},"\u2003\u2003<DestPortID>0<\/DestPortID>"]},{"entry":[{},"\u2003<\/Message>"]},{"entry":[{},"..."]},{"entry":[{},"<\/Port>"]},{"entry":[{},"<Port PortID=\u201c2\u201d PortType=\u201cEquipment\u201d>"]},{"entry":[{},"..."]},{"entry":[{},"\u2003<Message Name=\u201cS1F4\u201d MapperName=\u201cS1F4\u201d"]},{"entry":[{},"\u2003ReturnToSender=\u201cTrue\u201d>"]},{"entry":[{},"\u2003\u2003<DestPortID>0<\/DestPortID>"]},{"entry":[{},"\u2003<\/Message>"]},{"entry":[{},"..."]},{"entry":[{},"\u2003<Message Name=\u201cS7F3\u201d MapperName=\u201cS7F3_E\u201d"]},{"entry":[{},"\u2003MainDestPort=\u201c1\u201d>"]},{"entry":[{},"\u2003\u2003<DestPortID>0<\/DestPortID>"]},{"entry":[{},"\u2003<\/Message>"]},{"entry":[{},"..."]},{"entry":[{},"<\/Port>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The mapping of the SF message in this example depends on whether it originated with the host (SF_H) or the equipment (SF_E).","A third useful table is the message format table.",{"@attributes":{"id":"p-0062","num":"0061"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<Mapper Name=\u201cS1F4\u201d Reply=\u201cfalse\u201d WaitForAck=\u201cfalse\u201d"},{"entry":"FormType=\u201cDataForm\u201d Descriptor=\u201cQuerySimpleReply\u201d"},{"entry":"TransactionInfo=\u201cReply\u201d>"},{"entry":"\u2003<Structure Format=\u201cL\u201d KnownLength=\u201cfalse\u201d"},{"entry":"\u2003ZeroAction=\u201cCutMessage\u201d>"},{"entry":"\u2003\u2003<Value Format=\u201cUnknown\u201d SpecialItem=\u201cVariable\u201d"},{"entry":"\u2003\u2003Duplicated=\u201ctrue\u201d\/>"},{"entry":"\u2003\u2003<\/Structure>"},{"entry":"<\/Mapper>"},{"entry":"<Mapper Name=\u201cS6F11\u201d Reply=\u201cOptional\u201d WaitForAck=\u201cfalse\u201d"},{"entry":"FormType=\u201cDataForm\u201d Descriptor=\u201cGotEvent\u201d"},{"entry":"TransactionInfo=\u201cCreateDoc\u201d>"},{"entry":"\u2003\u2003<Structure Format=\u201cL\u201d KnownLength=\u201ctrue\u201d Length=\u201c3\u201d>"},{"entry":"\u2003\u2003\u2003<Value IrrelevantItem=\u201ctrue\u201d\/>"},{"entry":"\u2003\u2003<Value Format=\u201cDataItem\u201d Type=\u201cCEID\u201d SpecialItem=\u201cEventID\u201d"},{"entry":"\u2003\u2003\u2002TagID=\u201cID\u201d\/>"},{"entry":"\u2003\u2003<Value Format=\u201cL\u201d KnownLength=\u201cfalse\u201d"},{"entry":"\u2003\u2003ZeroAction=\u201cNoReportLink\u201d"},{"entry":"\u2003\u2003SpecialItem=\u201cEvent\u201d>"},{"entry":"\u2003\u2003\u2003<Value Format=\u201cL\u201d KnownLength=\u201ctrue\u201d Length=\u201c2\u201d"},{"entry":"\u2003\u2003\u2003Duplicated=\u201ctrue\u201d>"},{"entry":"\u2003\u2003\u2003\u2003<Value Format=\u201cDataItem\u201d Type=\u201cRPTID\u201d"},{"entry":"\u2003\u2003\u2003\u2003SpecialItem=\u201cReportID\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003<Value Format=\u201cL\u201d KnownLength=\u201cfalse\u201d"},{"entry":"\u2003\u2003\u2003\u2003SpecialItem=\u201cReport\u201d>"},{"entry":"\u2003\u2003\u2003\u2003\u2003<Value Format=\u201cUnknown\u201d Duplicated=\u201ctrue\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003SpecialItem=\u201cVariable\u201d\/>"},{"entry":"\u2003\u2003\u2003\u2003<\/Value>"},{"entry":"\u2003\u2003\u2003<\/Value>"},{"entry":"\u2003\u2003<\/Value>"},{"entry":"\u2003<\/Structure>"},{"entry":"<\/Mapper>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Two useful tools for manipulating data structures used during the second phase of translation are with document object model (DOM) tools and the C++ standard template library (STL). Those of ordinary skill in the art will recognize that many other ways of manipulating data structures are substantially equivalent: for instance, SAX (Simple API for XML) has a different origin than DOM, but is substantially equivalent to DOM. DOM is a platform- and language-neutral interface that permits script to access and update the content, structure, and style of a document. It includes an application programming interface (API) for well-formed XML documents. It defines the logical structure of documents and ways that a document can be accessed and manipulated. In the DOM specification, the term \u201cdocument\u201d is used in a broad sense. Increasingly, XML is being used as a way of representing many different kinds of information that may be stored in diverse systems, and much of this would traditionally be seen as data rather than as documents. Nevertheless, XML presents this data as documents, and the DOM may be used to manage this data. The DOM interface enables those practicing aspects of the present invention to build documents, navigate their structure, and add, modify, or delete elements and content. Tools for practicing DOM are provided by Microsoft and others.","The Standard Template Library, or STL, is a C++ library of container classes, algorithms, and iterators; it provides many of the basic algorithms and data structures of computer science. The STL is a generic library, having components that are heavily parameterized: almost every component in the STL is a template. Other data manipulation libraries will be equivalent to STL; many of them are extensions of STL provided by various vendors. DOM and STL can be mixed and matched. For instance, the dictionary and message format table could be implemented using DOM, leaving the name cross reference table and the dynamic mapper to be implemented using STL.","The second phase translation steps may be traced from when an input buffer is filled with a structure tagged message . (Not all of these steps will be needed to practice the present invention.) Some steps are followed regardless of the so-called \u201cform\u201d of the structure tagged message . The incoming message is identified as a primary or secondary message, using the primary\/secondary table or some other data structure. A primary message is given a timestamp and unique identifier, both of which are useful if the context tagged messages are stored in a database. A secondary message is associated with a previously received primary message. A transaction ID or similar matching field can be used to match the secondary message with its primary message. The incoming structure tagged message is translated from XML into a DOM tree. The SECS-II message name is retrieved from the tree. This message name and the source of the message are used to access the name cross-reference table, to find a differentiated message name. The differentiated message name is used to locate the appropriate message format entry in the message format table. The appropriate message format entry includes a form type, such as data form or definition form, which can be used to control processing in addition to the steps common to all form types. Again for a secondary message, a primary message structure is stored for the session closing secondary message. The message format entry is used to parse the incoming structure tagged message. The structures of these two data structures can be matched. At this stage, the incoming message may be classified as a publishable context tagged message. For instance, a primary message with no wait bit (requesting an acknowledgement) or a primary message with a meaningless acknowledgement (e.g., SF) or with a secondary message may be a candidate for publication.","Processing beyond the common steps  proceeds according to the form type of the incoming message. Separate modules or segments of logic may process data forms , definition forms , log only forms  and time forms , before publishing a context tagged message .","The equipment, data structures and program steps described above can be combined with other components in a variety of useful embodiments. In one embodiment, a removable listening device is provided to monitor a wired communications channel between one or more tool hosts and one or more tools. The listening device is passive. It optionally may have a standard isolation device to protect the communications channel from noise generated by the listening device. This isolation device may be an optical isolator, a high impedance amplifier or any other components that effectively isolate the wired communications channel from the listening device. The wired communications channel may be an RS 232 or CAN-compliant channel, or it may be any of the communications channels previously mentioned. It alternatively may be a less commonly used communications channel such as RS422, USB, Firewire, Apple APB, Appletalk, or Ethernet. The listening device records report definitions and report trigger definitions sent by the tool hosts to the tools. This recording of report and report trigger definitions may take advantage of the data structures process steps described in detail above. The report definitions may be compliant with a SECS, HL7 or DIACOM standard. Structured messages in integrated circuit manufacturing fabs, metal cutting shops, general manufacturing, automotive manufacturing, health-care facilities and many other environments can be processed in accordance with the present invention. The report trigger definitions similarly may be adapted to a variety of environments. Report trigger definitions may be based on or more process conditions or the passage of time.",{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 6","b":["620","630","640","610","620","621","622","623","624","630","631","632","633","634","640","641","642","643","644"]},"The SECS-XML parts , , and  gather and translate data transferred between host  and the tool , the tool , and the tool , respectively. The data is stored in a database server , which is in communication with SECS-XML parts, , , and . The data is published through the COM based tool data servers , , and . The tool data servers , , and  collect data from miscellaneous other hardware , , and  respectively, via hardware interface , , and , respectively.","The SECS-XML parts , , and  convert the SECS II data into XML. SECS II uses an untagged data format. Therefore, the data is usable by transmitting and receiving devices that possess additional required and\/or have established the \u201cmeaning\u201d of the data in context of the current communication session. This data is converted into tagged XML format, rendering it accessible to a wide variety of clients, such as browser based client , which for example uses some combination of HTML pages, XML, and Java Beans. The SECS-XML parts , , and  convert data in the opposite direction, from XML to SECS II, for communication either with the host , or the tool , , or  respectively. The conversion is a multi-step process, in which the actual conversion is based upon a previously created, expandable infrastructure of dictionary\/mappers. This infrastructure is created in a semi-automatic process, and enables quick and accurate acquisition of a new tool, such as tool , , or .","The database server  stores a database of the XML data. The database is commercial off-the-shelf software such as Oracle, 8i that allows storage of data received from the various tools, and retrieval of information by interested clients. Data can be filtered and analyzed to provide trends and various statistics. The database is designed to provide the capabilities of reliability, scalability, archiving, replication, and web connectivity.","The tool data servers , , and  provide real-time data for tools and applications to complement the database's capabilities of massive data storage and relatively slow response time. A tool data server uses dynamic software structures to maintain current system state data. Using a publish\/subscribe data distribution model and well-documented public interfaces, the tool data server provides updates on specified variable changes to registered clients.","The hardware interface , , and  enable the removable listening device , , and  respectively to receive data from tools or tool components that are not monitored by SECS. In such case, a dedicated interface is created, using standard drivers (serial, parallel, DeviceNet). The data received from hardware , , and  is then manipulated like the data transmitted via SECS communication.","The web interface , , and  plugs into a COTS web server to enable external browser-based clients to selectively access and modify online data in the removable listening device's tool data server. The web interface provides tool data server access to HTML, XML, and beans browser-based clients. HTML pages are displayed on a standard browser or thin GUI, enabling quick and painless interfacing of any deployed tool. XML requires use of XSL to enable and control the display of XML on the client's browser. Beans, or Java applets downloaded to the client, enable presentation and animation of data from the tool. Beans can be extended to support any further manipulation of data on a specific tool, a group of tools, or data exchanged between tools for interoperability. The removable listening device is an equipment web server.","External clients access removable listening device data by means of generic tools, such as SQL, HTML, DCOM, XML, and Java. External client types that can be used have: database interfaces such as software applications using SQL or HTML, for example database interface  communicating via database server  with the SECS-XML parts , , and ; application interfaces using DCOM such as application interface client  in communication with tool data server , , and ; and browser-based clients such as browser-based clients  communicating via firewall  with web interface , , and . External clients use standard protocols to access the removable listening device, so standard commercial security solutions, such as firewalls, can be used. In addition, the removable listening device supports fine granularity definition of access control lists to achieve maximum security.",{"@attributes":{"id":"p-0076","num":"0075"},"figref":["FIG. 7","FIG. 6"],"b":["720","620","630","640","720","710","720","721","722","723","724","750","721","725","723","726","750","751","722","760","724","771"]},"The term tool host is used in a broad sense to include both tool control hosts and more limited or flexible distributed processors. Tool hosts include both hosts with comprehensive, integrated tool control functions and hosts that run on distributed processors with more limited, task-specific functions. Tool hosts include products such as Consilium's FAB300(\u2122) software, which is described as providing a single comprehensive factory management system driven by a centralized definition of customer-specific business processes. This category of tool hosts is designed to replace traditional manufacturing execution systems, which are designed to control tools provided by different vendors. At the opposite end of the tool host spectrum from traditional manufacturing execution systems, component processes may be run on distributed processors to handle a variety of specific functions, without claiming to be comprehensive management systems. Along the spectrum, a product such as Consilium's FAB300(\u2122) software may be considered a tool control host for some purposes and a process running on a distributed processor, for other purposes.","The listening device includes logic to match the first triggered report from the tools with the report and report trigger definitions in real-time. The listening device may finish generating a context-insensitive report based on the first triggered report before it assesses a second triggered report. Depending on the architecture of the processor and operating system included in the listening device, there may or may not be overlap between the beginning of processing a second triggered report and completion of processing a first triggered report. The generation of a context-insensitive report based on the first triggered report proceeds promptly. Alternatively, several reports could be queued for processing as a group within 1, 2, 5, 10, 15, 30 or any time less than or equal to 60 minutes. The outside time for batch processing should be 60 minutes, due to urgent data needs of most facilities utilizing the present invention. The first context-insensitive report is output. The output may be on a display terminal, to hardcopy, or to persistent memory such as a disk drive, an optical drive, a non-volatile memory, or a computer-output microfilm or microfiche. The output of the process may be in a field tagged format. This field tagged format may be XML, HTML, comma-separated values, or a standard or custom field tagged format. Alternatively, the context-insensitive report may be in a tabular format or a textual format.","Another embodiment of the present invention includes a method of dynamically annotating tool status reports. A removable listening device is provided to monitor wired communications between one or more tool hosts and one or more tools. The wired communication may take place on a channel using any of a wide variety of protocols. The listening device records report definitions and report trigger definitions sent by the tool hosts to the tools. Aspects of the report and report trigger definitions are described in the prior embodiment. The listening device matches a first triggered report from the tools with the report and report trigger definitions to generate a first context-insensitive report. The first and second triggered reports, in this embodiment, are not accompanied by report definitions or report trigger definitions, either in the form sent by the tool hosts or any other form. The triggered reports may identify the event or other cause of being triggered, without including report definitions or report trigger definitions. The listening device may match the first triggered report from the tools with the report and report trigger definitions in real-time. The listening device may finish generating a context-insensitive report based on the first triggered report before it assesses a second triggered report. Depending on the architecture of the processor and operating system included in the listening device, there may or may not be overlap between the beginning of processing a second triggered report and completion of processing a first triggered report. The generation of a context-insensitive report based on the first triggered report proceeds promptly, rather than been queued for batch processing of several reports as a group. The report and report trigger definitions may be compliant with a SECS protocol, a HL-7 protocol, a DIACOM protocol, a CANS-compliant protocol or any standard or custom protocol. The report trigger definitions may be based upon equipment status or on time periods that trigger reporting. This embodiment may further include outputting the first context insensitive report in a field tagged format. More generally, the output of this process may be to a machine or human-perceptible output media. The format may be as a report or data file, data file formats including structured formats and field tagged formats.","A further embodiment is a method of migrating one or more processes from a tool control host in communication with one or more tools to one or more distributed processors. In this embodiment, an intercept device is provided which screens requests for information from tools. The tool control host is the legacy controller. The distributed processors handle updated, most likely more flexible processes. The migration process allows the tool control host to remain in communication with the tools even as the distributed processors begin communication with the tools. The intercept device includes logic to retain tool status information from the tools and to retain pending requests for tool status from the tool control hosts. The tool status information may include state information, as well as values of variables. The requests for tool status information may be requests for specific variables, request for reports, or report and report trigger definitions which periodically generate triggered reports. In an alternative embodiment, for instance one adapted to quick response to requests, the logic would only need to retain tool status information and not pending requests. This embodiment involves moving one or more processes from the tool control hosts to one or more distributed processors. Another aspect of this embodiment is activating one or more processes on distributed processors which were not supported by the tool control hosts. These processes are activated on the distributed processors as an alternative to integrating them into the logic of the tool control hosts. Request from both the tool control hosts and the distributed processors are routed to the intercept device, instead of the tool. Intercept device satisfies request for tool status information using either retained information or by generating new requests to the tool. The retained information may be tool status information or it may be a pending request. The intercept device includes logic to avoid making duplicate requests for tool status information, if an incoming request duplicates a pending request. The output of this process may be to a machine or human-perceptible output media. The format may be as a report or data file, data file formats including structured formats and field tagged formats.","A further aspect of the present invention is that a listening or intercept device may monitor one or more events reported by the tools and identify retained tool status information that is rendered stale by the reported events. The device may include logic to expire the stale tool status information, such as by setting a flag or by erasing stale information.","A further aspect of the present invention is that the intercept device may monitor one or more events reported by the tools and determine when or whether collection of tool status information should be modified. For instance, when an event changes the state of the tool, sampling of variables may be increased or decreased. For instance, collection of data regarding the tool status may be reduced in between processing of work pieces. If a tool is operating a multi-step process, the intercept device may include logic request collection of values of different variables during different process steps.","Either the listening or intercept device may be programmed to modify tool status information, in certain circumstances. When tool status information is received from the tools, rules or translation tables may be supplied to modify reported values. The values of reported variables may be modified as a matter of calibrating the tool or as an external means of fixing bugs in the tool. Or a semiconductor manufacturing fab uses a plurality of the same tool type, the listening or intercept devices may be programmed to modify reported results without having to attempt any modification of the tools themselves. The listening or intercept devices further may be programmed to derive values calculated from values reported by the tool, without any need to extend the capabilities of the tool itself.","In a process of migration from tool control host to distributed processors, the tool control host may include comprehensive factory management processes and the distributed processors may include more limited processes, not as extensive as comprehensive factory management processes. That is, the tool control host may run software such as FAB300\u2122. Alternatively, the tool control hosts may include legacy programs to control the tools and the distributed processors may include updated comprehensive factory management process logic, such as FAB300\u2122. The migration process involves intelligent assistance in supplementing or supplanting an incumbent system. A further aspect of the intercept devices is that they may receive communications from both the tool control host and the distributed processor and may be programmable to select the instructions of either the incumbent or new controllers for forwarding to the tools. During a trial, the intercept device may receive communications from both the tool control host and the distributed processor and report similarities and differences between the communications. The distributed processors may include logic to schedule tools, logic to manage yield from tools, logic to manage the logistics of moving materials among tools or logic to modify production steps based on deviations from plan in prior process steps. Logic to schedule tools may include detection of the load and operational status of the tool and time to completion of a process step. Logic to manage yield from tools may include monitoring of process conditions for later comparison to yields. Logic to manage yield from tools also may include monitoring of process conditions and modification of those conditions based on prior analyses of yields. Logic to manage logistics of moving materials among tools may include reporting of events on one tool which require readiness of a tool or work piece transport process that supplies material or work pieces to the tool or uses the work piece produced by the tool. Logic to modify process steps based on deviations from plan in prior process steps may support advanced process control. In advanced process control, subsequent process steps are modified to take into account prior process steps. Deviations from plan are monitored and compensated for.","Another embodiment of the present invention includes a method of screening requests for tool status information, when requests are received from a variety of sources. The variety of sources may include a plurality of tool hosts, using tool host in a broad sense. An intercept device is provided which includes logic to retain tool status information and pending requests to tools for status information. The intercept device is positioned logically or physically in between the tool host and the tools, in communication with both. It receives a request for tool status and satisfies the request using the retained tool status information, the retained pending request for tool status information or by making one or more new requests, in much the fashion of the prior embodiment. The new requests optionally may be directed to either the tool or external sensors monitoring the tool. The external sensors may determine environmental conditions surrounding the tool or conditions of the tool itself, such as temperature, spectral emission of radiation from processes, exhaust gases, or other externally observable process parameters. Either digital or analog external sensors may be used in conjunction with the intercept device. This embodiment need not include moving processes from tool control host distributed processors. It may be useful, for instance, when one or more new hosts supplement an existing host.","One aspect of this embodiment is that the tool host may include both tool control hosts and distributed processors, as those terms have been used above. The tool control host may include comprehensive factory management processes and the distributed processors may include limited processes for less than comprehensive factory management. Alternatively the tool control host may include legacy programs to control tools and the distributed processors may include updated logic for comprehensive factory management processes. The distributed processors may include logic to schedule tools, manage yields, manage logistics or modify production steps based on deviations from plan in prior process steps.","The process of this embodiment may further include: monitoring one or more events reported by the tool and determining which tool status information is stale due to the events; expiring tool status information which is rendered stale by events reported to the intercept device by the tool; receiving one or more events reported by the tool and determining whether collection of tool status information should be modified, for instance when the tool status advances from one process step to another; determining appropriate modifications to the tool status information received from the tool and substituting modified tool status information when satisfying requests for tool status information; and determining whether a request for tool status information would be satisfied by the tool or by external sensors coupled with the tool.","The embodiments and aspects of the embodiments may be combined in permutations that are readily apparent from this description, but not enumerated with excessive particularity.","While the preceding examples are cast in terms of a method, devices and systems employing this method are easily understood. A magnetic memory containing a program capable of practicing the claimed method is one such device. A computer system having memory loaded with a program practicing the methods described is another such device.","While the present invention is disclosed by reference to the preferred embodiments and examples detailed above, it is understood that these examples are intended in an illustrative rather than in a limiting sense. It is contemplated that modifications and combinations will readily occur to those skilled in the art, which modifications and combinations will be within the spirit of the invention and the scope of the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2A-2D"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
