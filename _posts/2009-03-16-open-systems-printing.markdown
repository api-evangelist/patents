---
title: Open systems printing
abstract: A method for open systems printing including routing print jobs automatically from different types of source computers to different types of printers without the source computers selecting printers for each print job. The method including routing print jobs automatically from an arbitrary number of source computers to an arbitrary number of printers without the source computers selecting printers for each print job. The method using a print server for use with different types of source computers and different types of printers, the print server directs print jobs received from the source computers to the printers without the source computers selecting printers for each print job. The print server being for use with an arbitrary number of similar types of source computers and an arbitrary number of similar types of printers, the print server directing print jobs received from the source computers to the printers without the source computers selecting printers for each print job.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09158491&OS=09158491&RS=09158491
owner: Pitney Bowes Inc.
number: 09158491
owner_city: Stamford
owner_country: US
publication_date: 20090316
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","PRINTING\/OPERATOR INTERFACE","REFERENCE TO MICROFICHE APPENDIX"],"p":["The present invention is a continuation U.S. application Ser. No. 11\/449,479, filed on Jun. 7, 2006, entitled METHOD FOR ROUTING AND PROCESSING OF PRINT JOBS IN AN OPEN SYSTEMS PRINTING ENVIRONMENT (now Publication No.: 2006\/0268337), which is a continuation of application Ser. No. 10\/627,497, now U.S. Pat. No. 7,072,067, issued on Jul. 4, 2006, entitled OPEN SYSTEMS PRINTING, which is a continuation of the priority application Ser. No. 08\/609,776, filed Mar. 2, 1996, entitled OPEN SYSTEMS PRINTING now abandoned. The disclosure of these prior applications and corresponding microfiche appendices are considered part of (and is incorporated by reference in) the disclosure.","This invention relates to open systems printing. Printing is often a proprietary sub-system of computer operating systems. This is especially true for production or high-speed printing (i.e., greater than 100 pages per minute). For example, IBM\u2122 MVS\u2122 mainframes ,  () are connected to IBM\u2122 printers ,  over IBM\u2122 bus-and-tag channels , , Microsoft\u2122 NT\u2122 server  is connected to NT\u2122 printer  over proprietary bus , and image server  is connected to image printers  over proprietary busses . In a typical MVS\u2122 environment, print files are generated from a mainframe MVS\u2122 application and sent to a Job Entry Sub-System (JES). The print job is routed over the proprietary bus to a printer directly connected to the proprietary bus. The job is then printed using JES commands.","When new processors are developed and installed, new printers corresponding to the new technology are also installed. Dedicated, high-bandwidth channel bus extenders are used to connect remote high-speed printers to a central mainframe location.","Client\/server systems typically include smaller desktop computers (clients) connected to larger more powerful computers (servers). To print a client\/server print stream on a high-speed printer, the print stream is typically routed (arrow ) to a mainframe, e.g., MVS\u2122 , and then routed to a high-speed printer, e.g., printers . The mainframe is effectively made a high-cost print server for the distributed client\/server system.","Switch  enables either MVS\u2122  or a VAX\u2122 mainframe  to send print streams to printer . If MVS\u2122  is configured to send print streams through switch  and a user instead wants to send print streams from VAX\u2122  to the printer, the user enables the VAX\u2122 and disables the MVS\u2122 and configures the switch accordingly. Approximately 20 minutes to an hour is required to re-configure the mainframes and switch. A new switch is needed to allow a different hardware platform, e.g., NT\u2122 server , to share a printer with MVS\u2122  and\/or VAX\u2122 .","In general, in one aspect, the invention features a method for open systems printing including routing print jobs automatically from different types of source computers to different types of printers without the source computers selecting printers for each print job. In general, in another aspect, the invention features a method for open systems printing including routing print jobs automatically from an arbitrary number of source computers to an arbitrary number of printers without the source computers selecting printers for each print job.","Implementations of the invention may include one or more of the following. Routing may include sending the print jobs from the source computers to a print server and sending the print jobs from the print server to output managers connected to the printers. The print jobs may be sent from the source computers to the print server over a first network, e.g., a TCP\/IP network, and the print jobs may be sent from the print server to the output managers over a second network, e.g., a local area network. The method may include transforming data in the print jobs into a format compatible with the printers, and the transformation may be carried out by the print server or an output manager. After sending the print jobs from the source computers to the print server, the method may include storing the print jobs in a server spool coupled to the print server. Before sending the print jobs from the print server to the output managers, the data in the print jobs may be manipulated, for example, two print jobs may be merged into one print job. The method may also include printing the print jobs on paper, sending the print jobs to an electronic mail system, recording the print jobs on microfiche, and recording the print jobs on laser disk. Each of the print jobs may include at least two reports and routing may include sending the print jobs from the source computers to a print server and sending individual reports from the print server to output managers connected to the printers. After sending the print jobs from the source computers to the print server, the method may include bringing the source-computers down for maintenance while printing the print jobs.","In general, in another aspect, the invention features a method for printing including controlling the printing of print jobs on high-speed production printers through a graphical user interface.","Implementations of the invention may include one or more of the following. The method may include receiving the print jobs at a print server coupled to the graphical user interface and listing the received print jobs in the graphical user interface. Controlling may include selecting a print job from the list of received print jobs, determining if a printer coupled to the print server has a set-up compatible with the selected print job's set-up, and sending the selected print job from the print server to an output manager connected to the printer. Selecting may include dragging-and-dropping the selected print job from the list of print jobs onto a printer icon, and the method may also include preventing the drag-and-drop of the selected print job if the printer set-up is determined to be incompatible with the selected print job's set-up.","In general, in another aspect, the invention features a print server for use with different types of source computers and different types of printers, the print server directs print jobs received from the source computers to the printers without the source computers selecting printers for each print job. In general, in another aspect, the invention features a print server for use with an arbitrary number of similar types of source computers and an arbitrary number of similar types of printers, the print server directs print jobs received from the source computers to the printers without the source computers selecting printers for each print job.","Implementations of the invention may include one or more of the following. The print server may include an \u201cinput receiver, coupled to the source computers, for receiving the print jobs from the source computers, a server spool, coupled to the input receiver, for storing received print jobs, a queue manager, coupled to the server spool and the input receiver, for directing each of the print jobs to a selected one of the printers through an output manager, and a data transformer, coupled to the server spool, for converting data in print jobs into a format compatible with the corresponding selected printers.","In general, in another aspect, the invention features an open systems printing environment including a source computer connected to a first network, a print server connected to the first network and a second network, an output manager connected to the second network, and a printer connected to the output manager, the print server directs print jobs generated by the source computer to the printer.","Implementations of the invention may include one or more of the following. The open systems printing environment may also include a server spool coupled to the printer server and a graphical user interface coupled to the print server.","Advantages of the invention may include one or more of the following. Print streams generated on an arbitrary number of dissimilar\/similar types of source computers, including client\/server systems, are efficiently routed to an arbitrary number of dissimilar\/similar high speed printing hardware. User application programs on source computers need not be modified, and the number of source computers and the number of printers is scalable. New technology (i.e., types of computers and printing hardware) is easily added to the printing system. Local print management provides cost effective operation of a large print center remote from a data center. A graphical user interface (GUI) provides a flexible, easy-to-use operator interface. Printing may continue when source computers are down for maintenance or due to failures.","Print streams generated by source computers may be manipulated in the open print server prior to being routed to available printing hardware. For example, bank statement data from a mainframe may be merged with image data (i.e., pictures of processed checks) from an image server before being routed to available printing hardware. Merging print streams in the open print server prior to printing reduces the handling required to process the merging of two print streams and reduces errors associated with known physical merging techniques.","Other advantages and features will become apparent the following description, and from the claims.","Referring to , an open systems printing environment  includes an open print server  connected to source computers  through a Transmission Control Protocol\/Internet Protocol (TCP\/IP) network . The open print server receives print jobs from the source computers and efficiently routes the jobs over a local area network (LAN)  to various output managers . The output managers then have the jobs printed on directly connected printers .","TCP\/IP is a communications protocol that was developed under contract from the United States Department of Defense in the 1970's to connect dissimilar computer systems. Today TCP\/IP is a defacto standard after becoming the network protocol of choice for corporate data networks. TCP\/IP is flexible and available on a wide range of hardware platforms. The protocol enables programmatic linking and routing of data between dissimilar computer systems. As a result, the open print server accepts print files from different hardware platforms, including IBM\u2122 MVS\u2122 mainframes  (), UNIX servers , Microsoft\u2122 Windows NT\u2122 servers , IBM\u2122 AS\/400 servers , and Digital Equipment Corporation\u2122 VAX\u2122 mainframes .","The highest level of TCP\/IP is Application Layer  (). User level programming is incorporated at the top of the TCP\/IP protocol stack at the Application layer. For example, File Transfer Protocol (FTP) is an application layer program. The Application Layer permits computers to connect to and work together over the network.","TCP layer  defines the transport standard, providing end-to-end reliability and sequencing of transmitted bytes of data. This ensures that each byte of data sent from a source computer is received correctly by the open print server. IP layer  of the TCP\/IP protocol stack provides the routing mechanism\/computer addressing information. Addressing information is used to forward bytes from source computers to the open print server. Network Interface layer  defines the physical attributes of the network connection.","Many hardware platforms may serve as the open print server. For instance, the open print server may be a Sun\u2122 SPARC\u2122 10\/20 server  (), a Sun\u2122 SPARC\u2122 1000 server , an IBM\u2122 RS\/6000 server , or a Hewlett Packard\u2122 server . Many output managers and printers are also available. The printers may be Advance Function Printing (AFP) in Page or Line mode printers, intelligent printer data stream (IPDS) printers, impact,\u2019 simplex, DUPLEX, line conditioned data stream (LCDS) and intelligent print stream (IPS), rolled, sheet-fed, postscript, color, or continuous tone printers. For example, an output manager  including an ISI\/OPS printer driver  may receive print jobs from the open print server and direct them to IBM\u2122 3800-3 and 4245\/8 printers ,  and Siemens\u2122 2140\/2240 page mode printers . Similarly, an output manager  including a PSF\/6000 printer driver  may direct print jobs to IBM\u2122 3900, 3828\/9, and 3900 duplex printers , , , an output manager  including a SNPS\/8000 printer driver  may direct print jobs to Siemens\u2122 2140\/2240 IPDS printers , Siemens\u2122 page stream printers , and Siemens\u2122 twin duplex printers , and an output manager  including a XEROX\u2122 printer driver  may direct print jobs to a XEROX\u2122 printer .","Referring to , an open printing client program  is installed on each source computer  to transfer print files from the source computers to open print server  over TCP\/IP network  without modifying applications running on the source computers. As an example, source computer  is an IBM\u2122 MVS\u2122 mainframe. Application  running on the MVS\u2122 mainframe transfers print files into a Job Entry Sub-system (JES) which stores the print jobs on one or more MVS\u2122 JES spools . Program  includes a JES2Q Program for each JES spool available to the MVS\u2122 mainframe. Each JES2Q program searches a corresponding JES spool for print jobs having a destination identification (DESTID) corresponding to an open print server.","The JES2Q programs \u201cstrip\u201d print jobs destined for the open print server from the JES spools, add open print server header information to the print jobs, and encapsulate the print jobs into TCP packets. The TCP packets are transferred to the open print server. The JES2Q programs interface with a TCP\/IP stack  to pass print jobs to TCP\/IP network routers via; for example, an IBM\u2122 3172 gateway  (). The routers send the print jobs over the TCP\/IP network to an input receiver  on the open print server. The JES2Q programs communicate with the input receiver program through a sockets interface (program-to program) in the Application level of the TCP\/IP protocol stack in a many-to-one relationship.","When the input receiver receives incoming print jobs, it writes the data onto a server spool  and uses the header information to log the job in a database, for example, a Sybase, Inc. database. Server spool  is a direct access \u2018storage device (DASD) and may include mirrored disks. The array contains, for example, four 16 gigabyte partitions which provide a total capacity of 64 gigabytes. File sizes may exceed the UNIX limit of 2 gigabytes. The input receiver notifies Queue Manager  of the status of all incoming print jobs.","Open print server error conditions, for instance, insufficient disk space or failed network lines, are communicated to the JES2Q programs on the MVS\u2122 mainframe through TCP\/IP error codes. When the error condition is removed e.g., disk space becomes available, the print job is restarted. Checkpoint restart capabilities allow the print job transmission to be re-initiated from the point of failure reducing the time required to finish the transmission.","The Queue Manager functions as a traffic cop by controlling the distribution of print jobs across the various printers. The Queue Manager forwards database update information to one or more Motif\u2122 graphical user interfaces  (GUIs) through an operator application programming interface  (API). The GUIs provide print operators with a current view of the printing environment (discussed in more detail below). The Queue Manager also processes commands received from the operator via the GUI and updates the database accordingly. The Queue Manager maintains Job accounting files and server log files and stores these files on the server spool. Job accounting records  are generated in various formats, SMF included. These may be automatically sent to standard billing packages on other computers connected to the TCP\/IP network.","While a print job is being received from a source computer, the Queue Manager accesses the print job's header information to determine which print resources are required to print the job and then accesses a resource manager  to determine if the required print resources are available. Print resources include fonts, coded fonts, overlays, page definitions, form definitions, page segments, FCBs, media maps, data maps, and graphics (e.g., logos and signatures). If a required print resource is not available, then the Queue Manager notifies the operator through the GUI. Similarly, the Queue Manager checks for a required printer set-up, for example, that a required form type is loaded, and notifies the operator if a required printer set-up is not available.","Using the GUI, a print operator selects a job in the server spool and directs the job to a specific printer. The Queue Manager initiates a data transformation (DTF) process  corresponding to the selected output manager and printer. The DTF process interrogates the job to determine, for example, if it is an AFP page or line mode job. The DTF process then reads the job from the spool, converts the data stream to, for example, a channel command word (CCW) format compatible with the target printer make\/model, and writes the data back onto the spool. The DTF process also updates the database with status information and error condition messages, and this information is made available to the GUI through the Queue Manager.","After a sufficient amount of data has been properly transformed, the Queue Manager notifies the selected output, manager that a print job is ready, and the output manager begins reading the transformed portion of the print job from the server spool. For non-IPDS printers (i.e., Siemens\u2122 2140, 2240, IBM\u2122 3800, 4245), the output manager may be a Sun\u2122 SparcClassic\u2122 workstation with a printer adapter card to support the attached printer. For IPDS printers, the output manager may be an IBM\u2122 RS\/6000 workstation with PSF\/6000 software or an OS\/2 workstation with SNPS 8000 software and a Channel emulation card to support the attached printer. In the IPDS printing environment, the output manager reads data from the server spool that has not been transformed and completes the data transformation.","A programmer may generate data application programming interfaces  and corresponding DTF processes for manipulating data stored on the print server. For example, many bank statements include data forms listing transactions and account status (accounting data) as well as image forms\u2014with graphical representations of processed checks (image data). In the past, these forms were either printed separately and physically merged together before being mailed to the account holder, or the image data was routed to a mainframe where the image data and account data was merged before being printed. Physically merging forms is error prone and may require substantial personnel time. Because image data files are generally large, routing image data to the mainframe may cause bandwidth problems in the network connecting the image server and mainframe requiring the installation of an expensive, high bandwidth bus. This routing may also require a substantial amount of time. The problem is multiplied if the mainframe is remote from the image server.","Through the open print server, data is routed once to the open print server where it is merged into one print job before being printed. After an image print job and an accounting print job are stored in the server spool, the Queue Manager initiates a merge DTF through a merge data API to merge image and accounting data into one print job. An output manager corresponding to a printer capable of printing both data types is then notified of the print job.","LAN  () and TCP\/IP network  provide the open printing environment with scalability. Both networks permit many connections, for example, the LAN may have 256 connections. This allows additional source computers and output managers\/printers to be easily connected to the environment when printing needs increase. Additionally, the environment may be updated with new technology, e.g., new source computers and output managers\/printers, by generating corresponding open printing client programs  () and DTF  processes.","Additionally, the TCP\/IP network allows large print files to be easily and quickly transmitted from a data center of source computers to a remote print shop including the open print server, output managers, and printers. Because print resources are stored on the open print server, print file transmissions are smaller and require less bandwidth. Once the files are transmitted, the source computers may be brought down for maintenance without interrupting the printers. Local printer management permits efficient use of printer time and capabilities, and because the open print server routes print jobs across various printers, individual printers may be drained of print jobs and brought down for maintenance without bringing down the entire printing environment. Moving printer queue management to the open print server may increase source computer performance by eliminating the need for such a function on the source computers. Source computers need not select, keep track of, or even know of available printers.","The GUI provides an operator with complete control over printer management.","Referring to , the GUI includes a main status display  that allows the operator to manage the print operation, system configuration, and logging in and out of the system. In addition to standard Motif\u2122 X-Windows\u2122 features, the GUI includes features specific to the open print server. For example, source computer and printer icons , , respectively, are displayed and indicate through words  and the color of the icon the status of the corresponding device. For instance, a green printer icon indicates that the printer is active, paused, or draining, blue indicates that the printer is idle or drained, brown that the print driver is running but that the printer is unavailable, red that the print driver is unavailable, and yellow that operator intervention is required. Similarly, a green source computer icon indicates that the computer is active while a blue source computer icon indicates that the computer is idle.","The operator may double-click a left mouse button on a printer or client icon , , respectively, to cause additional information (e.g., forms, mode), specific to the corresponding device, to be displayed. A single-click of the right mouse button on a printer icon brings up a pop-up menu of printer functions including pause, resume, cancel job, drain, enable. The user may click the left mouse button on a printer function to cause the corresponding printer to execute that function.","Referring to , the operator may select a Printer Layout option  or a Client Layout option  from an Edit menu  to cause a Screen Layout Dialog box  or a Client Layout Dialog box , respectively, to appear. The operator then uses the dialog boxes to select those printer and source computer icons to be displayed on the main status display window.","Referring to , the operator may select a Job Queue option  from a View menu  to cause a Job Queue Status table  to be displayed. The operator may then sort the Job Queue Status table display using options  () in a Job Queue Status table View menu . These sort by options include class, priority, source, status, mode, name, form, criteria, or all jobs.","When the class option is selected, a class pop-up menu  () of alpha codes from A through Z and numeric codes from 0 through 9 is displayed representing classes that the Job Queue Status table may be sorted on. The operator may then select one of these codes to sort the Job Queue Status table. When the priority option is selected, a Job View By Priority Selection Dialog box  () is displayed. The operator may enter the priority on which he would like the Job Queue Status table sorted on. When the source option is selected, a source computer pop-up menu  () is displayed from which the operator may select a source computer to sort the Job Queue Status table on, and when the status option is selected, a status pop-up menu  () is displayed from which the operator may select a status to sort the Job Queue Status table on. Similarly, when the mode option is selected, a mode pop-up menu  () is displayed, when the name or form options are selected, a Selection Entry dialog box  (),  (), respectively, is displayed, and when the criteria option is selected, a Criteria Display dialog box  () is displayed through which the operator can select a combination of criteria, such as class and priority, to sort on. The operator may select the all jobs option to cause all jobs to be displayed in the Job Queue Status table.","To perform an operation on a job, the operator selects the job in the Job Queue Status table by clicking the left mouse button on the desired job and selects the desired operation from the Operations menu  (). The operations include Hold, Release, Delete, Copy, Change Priority, Change Retention Time, Change Class, Print, and Report Queue. The Hold option allows the operator to put a print job on hold, and the Release option allows the operator to change the status of a print job to ready. When a print job has a ready status, the operator may print the job by selecting the print option and a desired printer from a Print Panel  () or by moving the cursor over the job in the Job Queue Status table, pressing the left mouse button down, and dragging-and-dropping the print job onto the desired printer icon (i.e., drag-and-drop technology). If the print job set-up does not match the printer set-up, for example, the form required for the print job is not loaded on the printer, then the GUI indicates that the print job cannot be printed on the selected printer by not allowing the print option to be selected or by not allowing the print job to be dropped onto the printer icon.","Alternatively, the open print server may be configured to automatically print jobs with a ready status if a printer having a matching set-up is available.","If a job in a secure class is selected, a Security Authorization Dialog box  () is displayed, and the operator must enter an authorized user name  and password  before an operation may be performed on the selected job.","Each print job may contain one or more reports (i.e., smaller print jobs). When the report queue option is selected, a Report Queue window  () is displayed. The Report Queue window provides many of the same operational controls at the report level through an Operations menu  () that are provided at the job level through the operations menu in the Job Queue Status table. Report operations include Hold, Release, Delete, Print, Resources, View Report Ticket, and Browse Report. The Hold, Release, Delete, and Print report operations work as described above with respect to print jobs. When the Resources option is selected, a Resources Display window  () is displayed. The Resources Display window shows a list of printer resources required to print the selected report. Each necessary printer resource also includes a status: Unchecked indicates that the Queue Manager has not determined whether the resource is available in the resource manager; Missing indicates that the resource is not available through the resource manager; and Present indicates that the resource is available. Selecting the view report ticket option displays a Report Ticket window  (). The following information about a selected report is displayed: job name; data definition name; form used; print date; print start time; print end time; total lines in report; and total pages printed. An operator or a user connected to a source computer may add notes to a report in a notes dialog box . For example, the user may add a note telling the operator where to send copies of each report. Selecting the Report Browser option displays a Report Browser window  (). The Report Browser window displays the actual contents of a selected report.","Referring back to , selecting the printer status option from the View menu of the Main Status Display window displays a Printer Status display window  () including a one line status summary for each printer. Through the printer set-up option in the View menu, the operator may configure available printers. When this option is selected, a pop-up menu  () of available printers is displayed, and when a printer is selected from this menu or the operator double-clicks on the printer icon, a printer configuration dialog box  is displayed. The operator enters information into this dialog to configure the corresponding printer. Selecting the status log option causes a Status Log  () to be displayed allowing the operator to view and search for recorded events.","System menu  () includes a Print Resource option and a Spool Utilization option. Selecting the Print Resource option displays a Resource Dialog box . The Resource Dialog box displays existing resource directory paths for the selected printer and allows the operator to add and delete resource directory paths for the selected printer. Selecting the Spool Utilization option displays a Spool Utilization window  (). The Spool Utilization window displays the path name of each directory, the percentage of the total space currently used, total number of megabytes, total number of megabytes currently in use, total number of megabytes available for storage, and total megabytes for each column.","A microfiche appendix containing C language source code for open systems printing consisting of 1648 microfiche images on 17 microfiche cards is filed herewith. A portion of the disclosure of the patent document contains material which is subject to copyright protection. The copyright owners have no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","Other embodiments are within the following claims.","For example, multiple open print servers at locations remote from the source computers may be connected to a common TCP\/IP network.","As another example, the term \u201cprinters\u201d as used in this specification refers to many different types of devices, including, but not limited to, paper printers, email, computer output microfiche (COM) recorders, archival systems, or computer output laser disk (COLD) recorders."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIGS. 2 and 3"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIGS. 6-31"}]},"DETDESC":[{},{}]}
