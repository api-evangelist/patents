---
title: Boxed and lined input panel
abstract: A method and apparatus for receiving strokes of electronic ink in more than one language is provided. An input device is used to enter at least one stroke of electronic ink into a processing device. The processing device stores a language indication associated with the electronic ink, such that the language indication provides a way to associate a handwriting recognizer with the ink. The user may change the language or recognizer associated with the ink by flipping over a pen and using another tip of the pen or may use another pen or other input device. Aspects of the described system and method accommodate various optional interfaces to associate a pen tip or click of a button to one or more languages. Other aspects of the system and method include language switching of a displayed software keyboard when a pen input device is within a predetermined distance from a display.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07424154&OS=07424154&RS=07424154
owner: Microsoft Corporation
number: 07424154
owner_city: Seattle
owner_country: US
publication_date: 20031110
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","BRIEF SUMMARY","DETAILED DESCRIPTION OF THE DRAWINGS","A. Factoring","B. Redefinition","C. Inline Coding","D. Divorce","E. Rewriting"],"p":["1. Field of the Invention","Aspects of the invention relate to a method and an apparatus for recognizing handwritten information written in various languages. More particularly, aspects of the invention allow a user to easily enter handwritten information in various languages, and having the handwritten information associated with a language for recognition purposes.","2. Description of Related Art","People often rely on graphical representations more than textual representations of information. They would rather look at a picture than a block of text that may be equivalent to the picture. For instance, a home owner may cut out pictures from magazines to show contractors exactly what is desired when remodeling a kitchen or bathroom. Textual descriptions of the same material often fall short. The tool that the home owner may use is no more complex than a pair of scissors.","In the computing world, however, attempting to capture and convey the identical content is cumbersome. Typical computer systems do not provide an easy interface for capturing and conveying graphically intensive content. Rather, they are optimized for capturing and rendering text. For instance, typical computer systems, especially computer systems using graphical user interface (GUI) systems, such as Microsoft WINDOWS, are optimized for accepting user input from one or more discrete input devices such as a keyboard for entering text, and a pointing device such as a mouse with one or more buttons for driving the user interface.","Handwritten information received into a computer may be used in a variety of ways. For example, the handwritten information may remain as only handwritten information. Also, the handwritten information may be processed by a handwriting recognition engine and the information replaced by text from the handwriting recognition engine. Finally, the handwritten information may remain displayed to a user and the results of the handwriting recognition engine associated with the handwritten information (being displayed in conjunction with the handwriting information or hidden from the user, but still being associated with the handwriting information).","A variety of handwritten information recognizers exist (English, French, German, and the like). After selecting a default language (and associated handwritten information recognizer), a user may write in the default language and have the handwritten information processed by a default recognizer to return text in the default language. While this approach is fine for most uses, a significant portion of the world speaks more than one language. In these situations, users may be writing in a first language yet find some concepts more easily expressed in a second language. A resulting line of handwritten notes may have some words in the first language, some words in the second language, and yet more words in the first language. While the user may easily be able to discern what concepts he was writing at the time, the recognition engine may have a significantly more difficult time. Thus, the user who wishes the freedom to express concepts in a variety of languages is at a disadvantage. Further, the input environment should be conducive to writing in various languages. A better solution is needed.","Aspects of the present invention relate to easily modifying which handwriting recognizer is associated with handwritten ink, thereby solving one or more problems described above. In some aspects of the present invention, a user interface may be modified to accommodate ink relating to a type of language (symbolic and non-symbolic). For symbolic languages, a boxed or segmented user interface may be used. For non-symbolic languages a writing line or lines may be used. Both interfaces may be used in combination on the same writing area, thereby making possible recognition of ink one language that has been written next to ink in another language.","These and other aspects are addressed in relation to the Figures and related description.","Aspects of the present invention relate to providing a user interface that allows switching between user input modes to enable better multi-language support for recognition and other purposes.","The following is arranged into a number of subsections to assist the reader in understanding the various aspects of the invention. The subsections include: terms; general-purpose computer; pen tip associations, button associations; language assistance; illustrative processes; user interfaces; and user interface selection processes.","Characteristics of Ink","As known to users who use ink pens, physical ink (the kind laid down on paper using a pen with an ink reservoir) may convey more information than a series of coordinates connected by line segments. For example, physical ink can reflect pen pressure (by the thickness of the ink), pen angle (by the shape of the line or curve segments and the behavior of the ink around discreet points), and the speed of the nib of the pen (by the straightness, line width, and line width changes over the course of a line or curve). Because of these additional properties, emotion, personality, emphasis and so forth can be more instantaneously conveyed than with uniform line width between points.","Electronic ink (or ink) relates to the capture and display of electronic information captured when a user uses a stylus-based input device. Electronic ink refers to a sequence of strokes, where each stroke is comprised of a sequence of points. The points may be represented using a variety of known techniques including Cartesian coordinates (X, Y), polar coordinates (r, \u0398), and other techniques as known in the art. Electronic ink may include representations of properties of real ink including pressure, angle, speed, color, stylus size, and ink opacity. Electronic ink may further include other properties including the order of how ink was deposited on a page (a raster pattern of left to right then down for most western languages), a timestamp (indicating when the ink was deposited), indication of the author of the ink, and the originating device (at least one of an identification of a machine upon which the ink was drawn or an identification of the pen used to deposit the ink), among other information.","Terms","Ink\u2014A sequence or set of strokes with properties. A sequence of strokes may include strokes in an ordered form. The sequence may be ordered by the time captured or by where the strokes appear on a page or in collaborative situations by the author of the ink. Other orders are possible. A set of strokes may include sequences of strokes or unordered strokes or any combination thereof. Further, some properties may be unique to each stroke or point in the stroke (for example, pressure, speed, angle, and the like). These properties may be stored at the stroke or point level, and not at the ink level.","Ink object\u2014A data structure storing ink with or without properties.","Stroke\u2014A sequence or set of captured points. For example, when rendered, the sequence of points may be connected with lines. Alternatively, the stroke may be represented as a point and a vector in the direction of the next point. In short, a stroke is intended to encompass any representation of points or segments relating to ink, irrespective of the underlying representation of points and\/or what connects the points.","Point\u2014Information defining a location in space. For example, the points may be defined relative to a capturing space (for example, points on a digitizer), a virtual ink space (the coordinates in a space into which captured ink is placed), and\/or display space (the points or pixels of a display device).","General-Purpose Computing Environment",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 1","FIG. 1"],"b":["100","110","120","130","110","130","120","140","150"]},"A basic input\/output system  (BIOS), containing the basic routines that help to transfer information between elements within the computer , such as during start-up, is stored in the ROM . The computer  also includes a hard disk drive  for reading from and writing to a hard disk (not shown), a magnetic disk drive  for reading from or writing to a removable magnetic disk , and an optical disk drive  for reading from or writing to a removable optical disk  such as a CD ROM or other optical media. The hard disk drive , magnetic disk drive , and optical disk drive  are connected to the system bus  by a hard disk drive interface , a magnetic disk drive interface , and an optical disk drive interface , respectively. The drives and their associated computer-readable media provide nonvolatile storage of computer readable instructions, data structures, program modules and other data for the personal computer . It will be appreciated by those skilled in the art that other types of computer readable media that can store data that is accessible by a computer, such as magnetic cassettes, flash memory cards, digital video disks, Bernoulli cartridges, random access memories (RAMs), read only memories (ROMs), and the like, may also be used in the example operating environment.","A number of program modules can be stored on the hard disk drive , magnetic disk , optical disk , ROM  or RAM , including an operating system , one or more application programs , other program modules , and program data . A user can enter commands and information into the computer  through input devices such as a keyboard  and pointing device . Other input devices (not shown) may include a microphone, joystick, game pad, satellite dish, scanner or the like. These and other input devices are often connected to the processing unit  through a serial port interface  that is coupled to the system bus, but may be connected by other interfaces, such as a parallel port, game port or a universal serial bus (USB). Further still, these devices may be coupled directly to the system bus  via an appropriate interface (not shown). A monitor  or other type of display device is also connected to the system bus  via an interface, such as a video adapter . In addition to the monitor, personal computers typically include other peripheral output devices (not shown), such as speakers and printers. In one embodiment, a pen digitizer  and accompanying pen or stylus  are provided in order to digitally capture freehand input. Although a direct connection between the pen digitizer  and the serial port interface  is shown, in practice, the pen digitizer  may be coupled to the processing unit  directly, parallel port or other interface and the system bus  by any technique including wirelessly. Also, the pen  may have a camera associated with it and a transceiver for wirelessly transmitting image information captured by the camera to an interface interacting with bus . Further, the pen may have other sensing systems in addition to or in place of the camera for determining strokes of electronic ink including accelerometers, magnetometers, and gyroscopes.","Furthermore, although the digitizer  is shown apart from the monitor , the usable input area of the digitizer  may be co-extensive with the display area of the monitor . Further still, the digitizer  may be integrated in the monitor , or may exist as a separate device overlaying or otherwise appended to the monitor .","The computer  can operate in a networked environment using logical connections to one or more remote computers, such as a remote computer . The remote computer  can be a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer , although only a memory storage device  has been illustrated in . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) . Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.","When used in a LAN networking environment, the computer  is connected to the local network  through a network interface or adapter . When used in a WAN networking environment, the personal computer  typically includes a modem  or other means for establishing a communications over the wide area network , such as the Internet. The modem , which may be internal or external, is connected to the system bus  via the serial port interface . In a networked environment, program modules depicted relative to the personal computer , or portions thereof, may be stored in the remote memory storage device. Further, the system may include wired and\/or wireless capabilities. For example, network interface  may include Bluetooth, SWLan, and\/or IEEE 802.11 class of combination abilities. It is appreciated that other wireless communication protocols may be used in conjunction with these protocols or in place of these protocols.","It will be appreciated that the network connections shown are illustrative and other techniques for establishing a communications link between the computers can be used. The existence of any of various well-known protocols such as TCP\/IP, Ethernet, FTP, HTTP and the like is presumed, and the system can be operated in a client-server configuration to permit a user to retrieve web pages from a web-based server. Any of various conventional web browsers can be used to display and manipulate data on web pages.","A programming interface (or more simply, interface) may be viewed as any mechanism, process, protocol for enabling one or more segment(s) of code to communicate with or access the functionality provided by one or more other segment(s) of code. Alternatively, a programming interface may be viewed as one or more mechanism(s), method(s), function call(s), module(s), object(s), etc. of a component of a system capable of communicative coupling to one or more mechanism(s), method(s), function call(s), module(s), etc. of other component(s). The term \u201csegment of code\u201d in the preceding sentence is intended to include one or more instructions or lines of code, and includes, e.g., code modules, objects, subroutines, functions, and so on, regardless of the terminology applied or whether the code segments are separately compiled, or whether the code segments are provided as source, intermediate, or object code, whether the code segments are utilized in a runtime system or process, or whether they are located on the same or different machines or distributed across multiple machines, or whether the functionality represented by the segments of code are implemented wholly in software, wholly in hardware, or a combination of hardware and software.","Notionally, a programming interface may be viewed generically, as shown in  or .  illustrates an interface Interface as a conduit through which first and second code segments communicate.  illustrates an interface as comprising interface objects I and I (which may or may not be part of the first and second code segments), which enable first and second code segments of a system to communicate via medium M. In the view of , one may consider interface objects I and I as separate interfaces of the same system and one may also consider that objects I and I plus medium M comprise the interface. Although  show bi-directional flow and interfaces on each side of the flow, certain implementations may only have information flow in one direction (or no information flow as described below) or may only have an interface object on one side. By way of example, and not limitation, terms such as application programming interface (API), entry point, method, function, subroutine, remote procedure call, and component object model (COM) interface, are encompassed within the definition of programming interface.","Aspects of such a programming interface may include the method whereby the first code segment transmits information (where \u201cinformation\u201d is used in its broadest sense and includes data, commands, requests, etc.) to the second code segment; the method whereby the second code segment receives the information; and the structure, sequence, syntax, organization, schema, timing and content of the information. In this regard, the underlying transport medium itself may be unimportant to the operation of the interface, whether the medium be wired or wireless, or a combination of both, as long as the information is transported in the manner defined by the interface. In certain situations, information may not be passed in one or both directions in the conventional sense, as the information transfer may be either via another mechanism (e.g. information placed in a buffer, file, etc. separate from information flow between the code segments) or non-existent, as when one code segment simply accesses functionality performed by a second code segment. Any or all of these aspects may be important in a given situation, e.g., depending on whether the code segments are part of a system in a loosely coupled or tightly coupled configuration, and so this list should be considered illustrative and non-limiting.","This notion of a programming interface is known to those skilled in the art and is clear from the foregoing detailed description of the invention. There are, however, other ways to implement a programming interface, and, unless expressly excluded, these too are intended to be encompassed by the claims set forth at the end of this specification. Such other ways may appear to be more sophisticated or complex than the simplistic view of , but they nonetheless perform a similar function to accomplish the same overall result. We will now briefly describe some illustrative alternative implementations of a programming interface.","A communication from one code segment to another may be accomplished indirectly by breaking the communication into multiple discrete communications. This is depicted schematically in . As shown, some interfaces can be described in terms of divisible sets of functionality. Thus, the interface functionality of  may be factored to achieve the same result, just as one may mathematically provide 24, or 2 times 2 times 3 times 2. Accordingly, as illustrated in , the function provided by interface Interface  may be subdivided to convert the communications of the interface into multiple interfaces Interface A, Interface B, Interface C, etc. while achieving the same result. As illustrated in , the function provided by interface I may be subdivided into multiple interfaces I, I, I, etc. while achieving the same result. Similarly, interface I of the second code segment which receives information from the first code segment may be factored into multiple interfaces I, I, I, etc. When factoring, the number of interfaces included with the 1st code segment need not match the number of interfaces included with the 2nd code segment. In either of the cases of , the functional spirit of interfaces Interface and I remain the same as with , respectively. The factoring of interfaces may also follow associative, commutative, and other mathematical properties such that the factoring may be difficult to recognize. For instance, ordering of operations may be unimportant, and consequently, a function carried out by an interface may be carried out well in advance of reaching the interface, by another piece of code or interface, or performed by a separate component of the system. Moreover, one of ordinary skill in the programming arts can appreciate that there are a variety of ways of making different function calls that achieve the same result.","In some cases, it may be possible to ignore, add or redefine certain aspects (e.g., parameters) of a programming interface while still accomplishing the intended result. This is illustrated in . For example, assume interface Interface of  includes a function call Square (input, precision, output), a call that includes three parameters, input, precision and output, and which is issued from the 1st Code Segment to the 2nd Code Segment., If the middle parameter precision is of no concern in a given scenario, as shown in , it could just as well be ignored or even replaced with a meaningless (in this situation) parameter. One may also add an additional parameter of no concern. In either event, the functionality of square can be achieved, so long as output is returned after input is squared by the second code segment. Precision may very well be a meaningful parameter to some downstream or other portion of the computing system; however, once it is recognized that precision is not necessary for the narrow purpose of calculating the square, it may be replaced or ignored. For example, instead of passing a valid precision value, a meaningless value such as a birth date could be passed without adversely affecting the result. Similarly, as shown in , interface I is replaced by interface I\u2032, redefined to ignore or add parameters to the interface. Interface I may similarly be redefined as interface I\u2032, redefined to ignore unnecessary parameters, or parameters that may be processed elsewhere. The point here is that in some cases a programming interface may include aspects, such as parameters, which are not needed for some purpose, and so they may be ignored or redefined, or processed elsewhere for other purposes.","It may also be feasible to merge some or all of the functionality of two separate code modules such that the \u201cinterface\u201d between them changes form. For example, the functionality of  may be converted to the functionality of , respectively. In , the previous 1st and 2nd Code Segments of  are merged into a module containing both of them. In this case, the code segments may still be communicating with each other but the interface may be adapted to a form which is more suitable to the single module. Thus, for example, formal Call and Return statements may no longer be necessary, but similar processing or response(s) pursuant to interface Interface  may still be in effect. Similarly, shown in , part (or all) of interface I from  may be written inline into interface I to form interface I\u2033. As illustrated, interface I is divided into Iand I, and interface portion Ihas been coded in-line with interface I to form interface I\u2033. For a concrete example, consider that the interface I from  performs a function call square (input, output), which is received by interface I, which after processing the value passed with input (to square it) by the second code segment, passes back the squared result with output. In such a case, the processing performed by the second code segment (squaring input) can be performed by the first code segment without a call to the interface.","A communication from one code segment to another may be accomplished indirectly by breaking the communication into multiple discrete communications. This is depicted schematically in . As shown in , one or more piece(s) of middleware (Divorce Interface(s), since they divorce functionality and\/or interface functions from the original interface) are provided to convert the communications on the first interface, Interface, to conform them to a different interface, in this case interfaces InterfaceA, InterfaceB and InterfaceC. This might be done, e.g., where there is an installed base of applications designed to communicate with, say, an operating system in accordance with an Interface protocol, but then the operating system is changed to use a different interface, in this case interfaces InterfaceA, InterfaceB and InterfaceC. The point is that the original interface used by the 2nd Code Segment is changed such that it is no longer compatible with the interface used by the 1st Code Segment, and so an intermediary is used to make the old and new interfaces compatible. Similarly, as shown in , a third code segment can be introduced with divorce interface DI to receive the communications from interface I and with divorce interface DI to transmit the interface functionality to, for example, interfaces Iand I, redesigned to work with DI, but to provide the same functional result. Similarly, DI and DI may work together to translate the functionality of interfaces I and I of  to a new operating system, while providing the same or similar functional result.","Yet another possible variant is to dynamically rewrite the code to replace the interface functionality with something else but which achieves the same overall result. For example, there may be a system in which a code segment presented in an intermediate language (e.g. Microsoft IL, Java ByteCode, etc.) is provided to a Just-in-Time (JIT) compiler or interpreter in an execution environment (such as that provided by the Net framework, the Java runtime environment, or other similar runtime type environments). The JIT compiler may be written so as to dynamically convert the communications from the 1st Code Segment to the 2nd Code Segment, i.e., to conform them to a different interface as may be required by the 2nd Code Segment (either the original or a different 2nd Code Segment). This is depicted in . As can be seen in , this approach is similar to the Divorce scenario described above. It might be done, e.g., where an installed base of applications are designed to communicate with an operating system in accordance with an Interface  protocol, but then the operating system is changed to use a different interface. The JIT Compiler could be used to conform the communications on the fly from the installed-base applications to the new interface of the operating system. As depicted in , this approach of dynamically rewriting the interface(s) may be applied to dynamically factor, or otherwise alter the interface(s) as well.","It is also noted that the above-described scenarios for achieving the same or similar result as an interface via alternative embodiments may also be combined in various ways, serially and\/or in parallel, or with other intervening code. Thus, the alternative embodiments presented above are not mutually exclusive and may be mixed, matched and combined to produce the same or equivalent scenarios to the generic scenarios presented in . It is also noted that, as with most programming constructs, there are other similar ways of achieving the same or similar functionality of an interface which may not be described herein, but nonetheless are represented by the spirit and scope of the invention, i.e., it is noted that it is at least partly the functionality represented by, and the advantageous results enabled by, an interface that underlie the value of an interface.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 2","FIG. 1","FIG. 2"],"b":["201","201","202","203","204","202","202","201","204"]},"The stylus  may be equipped with one or more buttons or other features to augment its selection capabilities. In one embodiment, the stylus  could be implemented as a \u201cpencil\u201d or \u201cpen\u201d, in which one end constitutes a writing portion and the other end constitutes an \u201ceraser\u201d end, and which, when moved across the display, indicates portions of the display are to be erased. Other types of input devices, such as a mouse, trackball, or the like could be used. Additionally, a user's own finger could be the stylus  and used for selecting or indicating portions of the displayed image on a touch-sensitive or proximity-sensitive display. Consequently, the term \u201cuser input device\u201d, as used herein, is intended to have a broad definition and encompasses many variations on well-known input devices such as stylus . Region  shows a feedback region or contact region permitting the user to determine where the stylus  as contacted the display surface .","In various embodiments, the system provides an ink platform as a set of COM (component object model) services that an application can use to capture, manipulate, and store ink. One service enables an application to read and write ink using the disclosed representations of ink. The ink platform may also include a mark-up language including a language like the extensible markup language (XML). Further, the system may use DCOM as another implementation. Yet further implementations may be used including the Win32 programming model and the .Net programming model from Microsoft Corporation.","Pen Tip Associations",{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"b":["300","302","304","300","306"]},"In other examples of the pen , it may only have one pen tip  and the button . In yet other examples, the pen  may have two or more pen tips and no buttons. Additional pen tips may include the ends of pen caps and other removable portions. It is appreciated that primary, secondary, and other designations for one pen tip over another is made purely for the purpose of explanation. All pen tips may be considered equal or have a hierarchy.","In a first example of a pen with multiple pen tips, each pen tip may have its own pen tip identification. This identification may become known to the computer system in a variety of ways. For example, the digitizer may be able to determine the pen tip ID. Also, the shape of the footprint created by the pen tip may help identify the pen tip. Other techniques for identifying the pen tip may be used as well.","In the example where the digitizer determines the pen tip ID, the pen tip ID may be determined when the pen tip is near the screen or when it is touching the screen. Where different pen tip IDs are used, the pen tip ID may be mapped to a language.","For example, a user may write in both English and French. The pen the user is using may have two tips, each with its own pen tip ID. The primary tip may be mapped to English and the secondary tip may be mapped to French. Using this arrangement, the user may flip the pen around when she wants to write in French then flip the pen around again when she wants to write in English.","The mapping may include one or more associations. For example, the mapping may associate a first handwriting recognizer with ink created with the first pen tip  and associate a second handwriting recognizer with ink created with the second pen tip . The recognizer may be word based or character based. A character-based recognizer provides the benefit of being simple to implement and requiring a small memory and processor footprint. A word-based recognizer provides the benefit of having higher recognition rates and may permit a natural language model to be applied to the recognized ink to suggest corrections and the like.","In some cases, it may be beneficial to show which language (and associated recognizer) is currently being associated with the created ink. In this case, an indication of the current language (or recognizer) may be displayed in a variety of helpful ways. First, the language associated with the recognizer may be displayed. Alternatively, each language (or recognizer) may be associated with a color or set of colors. Switching pen tips would switch to the color associated with the language or recognizer. Further, the color of the ink may be modified to reflect the language or recognizer associated with it. This way, the user may view a paragraph of ink and see what words, characters, symbols, drawings and the like are associated with which recognizer. Further, instead of color, sound may be used to alert the user to the use of one language or recognizer over the other.","Handwriting recognition capabilities may be used to recognize handwritten ink. The results from the recognition process may be hidden from the user, replace the handwritten ink on the display, or may be displayed in conjunction with the handwritten ink. In some cases, the results of the recognition engine may be stored in an ink object. In other cases, the result may be stored separate from the ink in, for example, a database or table and indexed to the handwritten ink. The recognition engine may run while the handwritten ink is deposited, when handwriting is completed, or some combination of both (for example, if there is a pause of 2 or more seconds).",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIGS. 4A and 4B","FIG. 4A","FIG. 5A"]},"Referring to , a user can configure a different language for each pen tip ID, such that when the pen tip ID associated with the respective pen tip is sensed, the current input language changes accordingly. Using a language selection palette as shown in , a user may select pen tip ID , pen tip ID , or pen tip ID  (as represented by tabs for example) and may associate a different language (or the same language) with each of the respective pen tip IDs.  shows one selection mechanism (here, a drop down menu ) for associating the selected pen tip ID tab (here, ) with a language from the language selection menu (e.g., drop down menu ). It is appreciated that a drop down menu as shown as element  is for illustrative purposes only. Alternatively, one could use radio buttons, mouse or hover-over menus, and dialog boxes, directory navigation windows, and other selection techniques to associate the pen tip  with a language.","Further, one may have predefined languages as tabs (representing recognizers stored in or accessible by the system (e.g., stored remotely over a network)) and having the pen tip IDs in a selection system .",{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 4B","b":["410","414","410","414"]},"Further, some pen tip IDs may not be associated with a language or recognizer. This may be a default setting or a non-recognition setting. So, for example, if one were attempting to draw a picture, the system would not attempt to associate the ink (ink object or strokes of the picture) with a recognizer (which may eventually attempt to recognize the ink, producing erroneous results).","The above ability to associate a pen tip ID with a non-traditional language property (math, graphical shapes, and the like), may be realized in a variety of ways. First, for example, a single non-language pen tip ID may be assigned and the interpretation of the pen tip ID is left to the software context (such as currency field of Excel or a music sheet of some sort of music composing assistance software, for instance). The interpretation of the pen tip may depend on the context. For example, if the pen tip ID is associated with a language, ink is recognized as text, otherwise, ink may be associated with an alternative identity (for example, musical notes in the music composing-assistance software or a geographical graphics element in a graphic or drawing software, or the like).","Second, an alternative approach is to enumerate all non-language properties (such as graphical shapes, currency number, musical notes) and then treat them equally in reference to the language property.","Further, in some embodiments, a recognizer may recognize a shape and map that shape based on the current language associated with an input device, such as the currently used pen tip. For example, a rectangular shape drawn while the language setting for the input device is U.S. English may result in the \u201cthe stars and stripes\u201d flag being displayed, while the same rectangle drawn when the language setting for the input device is UK English may result in the Union Jack being displayed.","In other embodiments, a particular recognizer to be used is selected based on the language setting of the input device and a software context of the input. For example, when a number is written into a currency field of a spreadsheet when the language setting for the input device is U.S. English, the recognizer not only recognizes the ink as a number, but also may enter an appropriate currency sign, such as $, a thousand separator, and a decimal point. Using other examples, the input device or pen tip may have no language associated with it when being used in another software context, for example, with music composing aid software or a graphics software. Such input may be recognized as musical notes or graphics elements, respectively; however, if a language is associated with the input device, in this situation, the input may be recognized as text.","In some embodiments, the language setting of the input device may affect items already displayed. For example, when a software keyboard is displayed and an input device, such as a pen having a pen tip configured with an ID indicating French is within a predetermined distance of the display, the pen tip ID of the pen is detected and a French software keyboard may be displayed. When the pen, at a later time, is within a predetermined distance of the display, and the pen tip ID of the pen is detected to map to U.S. English, the displayed software keyboard may be changed to a U.S. English software keyboard. In this example, the language setting of the input device is not associated with ink. Rather, it is associated with changing the language associated with another information pathway.","Button Associations","Aspects of the present invention may be applied to both pen-based and non-pen based computing systems. For example, aspects of the present invention relate to associating a language or recognizer with a button click. As shown in , some pens may have one or more buttons (, , and ). Mice and trackballs have buttons as well. Aspects of the present invention permit one to map a button click to a language or recognizer. If one was writing with a pen and needed to change languages, he may click an action button on the pen and have the pen tip ID associated with the next recognizer. This may also be applied to mice and trackballs in that, when one is using the mouse as a handwriting input mechanism, clicking a mouse button may provide the same cycling through the languages or recognizers.","Some input devices, such as, for example, a computer mouse, a stylus, or an electronic pen having only one pen tip may also be used with embodiments of the invention. A predetermined list of languages may be configured by using a language palette such as a language palette , shown in . In this embodiment, to configure a list of input languages, a user may select one of tabs ,  or  and choose an input language from menu . While entering electronic ink input, a user may indicate a change of input language by various means. For example, if a computer mouse is used, depressing a button may be used to cause the next language to be selected. For example, a switch from a first language to a second language will occur. If a stylus is used, a button on the stylus may be used. Further, if no button on the stylus or pen, one may tap on a displayed button on the user interface that indicates the current or next language selection.","Illustrative language palette  shows that three clicks may be configured; however, other embodiments are possible in which fewer or more clicks may be configured. In a related embodiment, for use with a pen that has a single tip with one unchangeable pen tip ID or for use with an input device that includes, for example, a stylus or a pointing device with no electronic ID, the user may change the input language by using a language palette similar to that of , but one that allows only one language to be configured. Thus, tabs  and  would not be displayed. In this embodiment, the user may change the input language by selecting the language palette and selecting another desired language by means of the pop-up menu. This approach of having a language palette readily available for a user provides the benefit of an easy user interface to navigate, as opposed to drilling down through a number of menu options to change the language associated with an input device.","Accordingly, using the pen of , a user may have a number of languages associated with the pen. For example, the user may have a first language set dedicated to the first pen tip  with its associated pen tip ID and a second language set dedicated to the second pen tip  with its associated pen tip ID. If only one button  is used, the clicking of the button may cycle through the language sets for that pen tip ID. If two or more buttons are used (buttons  and , for example), the clicking of the different buttons may cycle through different sets of languages or recognizers. Further, both buttons may operated at the same time to click through even more languages or recognizers, or may be used to reset all click states back to a default or initial click state.",{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 5C","b":["518","520","521","522"]},"Instead of the clicking of a button, as described above, to change a language association with an input device, other techniques may be used. For example, a temporary language association change may be performed when a gesture is made with an electronic pen, such as making a circular motion with the pen while hovering above the display, or slanting the pen by an angle more than a predetermined number of degrees from the upright position. Of course, many other techniques may be used and the invention is not limited to only those techniques listed above.","Language Assistance","In some situations, it may be difficult for a user to remember what language was assigned to a pen tip or to a current click state of the pen (or mouse or trackball). As an option, the system may provide to a user a visual or audible indication of a current language or change in language. For example,  shows a process for modifying a user interface to reflect a language or recognizer being associated with received ink. In step , the system checks to see if a pen tip is at least near the display screen (near or touching). If there is a pen tip near or touching the display screen, then the system steps to step . Otherwise, the system checks later or waits until an event is received that indicates a pen tip is near or touching the display screen. Next, in step , the system determines if a language identification (language ID) is associated with the pen tip. The pen tip may include a pen tip ID or may not. If yes, then the user interface may be modified in step  to accommodate the language associated with the pen tip from step . This step  reflects to a user that the ink being captured will be associated with a language or recognizer. Otherwise, in step , the user will be shown a default interface and the ink will be associated with a default language. The checking of step  may be event driven. That is, an event may be generated each time the pen tip is near or touching the display screen. Alternatively, the checking of step  may be performed every predetermined time period, i.e. in a polling manner.","Illustrative Processes",{"@attributes":{"id":"p-0081","num":"0080"},"figref":["FIG. 7","FIG. 7"],"b":["701","702","703","702","704"]},{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 8","b":["801","165"]},"Language palette  maps the input strokes to a particular language (language ID) or recognizer. That is, strokes input from a pen having a pen tip ID that is mapped to a particular language ID are mapped to the language ID by language palette . The input strokes and the language indicator (or identification of the recognizer) may be stored in storage device , which may include, but not be limited to computer memory, such as Random Access Memory (RAM), optical disk, floppy disk, and hard disk.","Language palette  provides an indication to assister  to inform assister  of the current input language. Assister  (optional aspect as shown in broken lines) may cause a visual indication to appear on the display  so as to provide an indication of the current input language. Further, assister  may alternatively (or additionally) cause an audio indication to be heard, which provides an indication of the current input language.","Language palette , recognizers  and  and optional assister  may be implemented as program modules residing in RAM  and executed by processing unit . Further, the storage device  may include, but not be limited to RAM , hard disk  or magnetic disk .","The visual indication, which may be provided by assister , may be presented in a number of ways, including, but not limited to displaying a textual message, such as a name of the current input language, displaying electronic ink in a particular color (with the color providing an indication of the current input language\u2014e.g., red for English and blue for Japanese), indicating the current input language by the background color, and indicating the current input language by a thickness of entered strokes of the electronic ink (for instance, thick strokes indicating English and thin strokes indicating Japanese). , B, and C provide additional examples of a visual indication of the language to be associated with received ink. For instance, a straight horizontal line may indicate that the language to be associated with received ink is a character-based language (e.g., English), while a three-quarter box from  or a boxed input region  may indicate that the language to be associated with the ink is a symbolic language (e.g., Japanese). Display  may be used to display the visual indication and may be used to display the strokes electronic ink as they are entered.","The audio indication, which may be provided by assister , may be presented as, for example, particular tones, such as a high tone for English and a low tone for Japanese. Further, a tune may be played as an indication. For example, the national anthem of a particular country may be played, such as the national anthem of the United States to indicate English and the national anthem of Japan to indicate Japanese. The audio indication may be played through a speaker, as is well-known in the art.","Storage device  stores input strokes of electronic ink along with a language or recognizer identification.","The system may have a plurality of handwriting recognizers, for example, one for each language. In the system shown in , a first recognizer  and a second recognizer  are illustrated, although the system may have more than two recognizers.",{"@attributes":{"id":"p-0090","num":"0089"},"figref":["FIG. 9","FIGS. 4A and 5A"],"b":["901","902","903"]},"User Interfaces",{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIG. 11","b":["1101","1101","1102","1103","1104","1105","1106","1107"]},"One of the benefits of using a boxed input is that recognition may occur shortly after (or immediately after) a user starts entering information in another segmented or boxed region. For symbolic languages (e.g., Chinese), recognition may start as soon as a user starts entering another character or symbol in another box or input region.","Referring to , symbolic characters are being written in region . The user is now writing character  in region . The user has previously written character  in region . Recognition of character  may occur based on one or a number of factors including writing in another region, moving a pen tip away from a surface, waiting for a predetermined time after the last ink stroke was entered in character , and the like.",{"@attributes":{"id":"p-0094","num":"0093"},"figref":["FIG. 12","FIG. 11","FIG. 1201"],"b":["1201","1202","1203","1204","1205","1206","1207","1205","1207","1202","1204"]},{"@attributes":{"id":"p-0095","num":"0094"},"figref":"FIG. 13","b":["1302","1303","1304","1305","1306"]},{"@attributes":{"id":"p-0096","num":"0095"},"figref":"FIG. 14","b":["1401","1402","1403","1404","1405","1406","1406"]},{"@attributes":{"id":"p-0097","num":"0096"},"figref":["FIG. 15","FIG. 15"],"b":["1501","1502","1505","1506","1509","1510","1512","1506","1509","1506","1509","1402","1405"]},{"@attributes":{"id":"p-0098","num":"0097"},"figref":["FIGS. 16-18","FIG. 16"],"b":["1601","1602","1603","1603"]},{"@attributes":{"id":"p-0099","num":"0098"},"figref":["FIG. 17","FIG. 16"],"b":["1701","1702","1702","1703","1704"]},{"@attributes":{"id":"p-0100","num":"0099"},"figref":"FIG. 18","b":["1801","1802","1803"]},{"@attributes":{"id":"p-0101","num":"0100"},"figref":"FIG. 19","b":["1901","1902","1904","1907","1909","1905"]},{"@attributes":{"id":"p-0102","num":"0101"},"figref":["FIG. 20","FIG. 2001"]},{"@attributes":{"id":"p-0103","num":"0102"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0104","num":"0103"},"figref":"FIG. 22"},"User Interface Selection Processes",{"@attributes":{"id":"p-0105","num":"0104"},"figref":"FIGS. 23-25","b":["2301","2302","2303","2304","2305","2302","2306","2304","2305"]},{"@attributes":{"id":"p-0106","num":"0105"},"figref":"FIG. 24","b":["2303","2401","2402","2403","2404"]},"In one alternative aspect, the system may continue with correction step . Here, the user is provided with the option of correcting ink written in step . If the user desires to correct the ink in step , then the user is allowed to rewrite the ink or choose it from an alternative list in step . Finally, the system ends in step . If no from step , the system may return in step .",{"@attributes":{"id":"p-0108","num":"0107"},"figref":"FIG. 25","b":["2306","2501","2502","2503","2504"]},"In another alternative aspect, the system may continue with correction step . Here, the user is provided with the option of correcting ink written in step . If the user desires to correct the ink in step , then the user is allowed to rewrite the ink or choose it from an alternative list in step . Finally, the system ends in step . If no from step , the system may return in step .","The user interfaces shown in  relate to simple user interface distinctions. As previously described, a specific recognizer may be associated with handwritten ink. Which recognizer is currently selected may be provided to a user in addition to the lined or boxed input mode.","The actual display of the selected recognizer may be further modified by which recognizers are installed or available. For instance, if only a Japanese recognizer is installed in a system for symbolic input and both French and German recognizers are installed for linear input, then, when in symbolic user interface mode, no indication of the Japanese recognizer may be provided as there is only available recognizer that relates to symbolic language.","The boxed input mode may be associated with one or more types of recognizers and each recognizer may support boxed input and\/or lined input. For example, the boxed input mode may be associated with a symbolic (or sometimes referred to as East Asian) language. Also, the boxed input mode may be associated with an alphanumeric input as well (to recognize printed characters). Further, the boxed input may be associated with math or digit-type recognizers. The line input mode may be associated with written words (or a recognizer that looks for written words). Alternatively, the line input mode may be a generic input mode and may wait for custom selection (or previous selection) of a recognizer to be associated with it.","Further, the boxed input mode and\/or the lined input mode may be associated with zero recognizers. For instance, the user may make no overt association of a language with a recognizer. However, the system may be able to determine a recognizer (from reviewing installed recognizers) or use as default a recognizer in association with a language.","The number of recognizers that may be associated with a language may vary. In a general sense, there may be a one-to-one identity between a language and a recognizer. Alternatively, a user may select from a variety of recognizers to be associated with a language. For instance,  shows a user interface for selecting an active language. Here, for instance, one may select button  and be shown a variety of different languages. The different languages include Chinese-Taiwan , Korean , Japanese , Chinese\u2014China , and English\u2014US 2606. These available languages may relate to the different display languages resident in a system. Some of these display languages may or may not have actual recognizers for that specific language. For instance, there may be no Mandarin China recognizer available, but only a Simplified Chinese recognizer available. Thus, upon the selection of Chinese-Taiwan  and Chinese-China , the actual recognizer that may be associated is the Simplified Chinese recognizer.  is provided for illustrative purposes only. It is appreciated that other incarnations of a language switching interface are possible. Also, a user may select a recognizer for each input mode for a language. So, one may select Simplified Chinese for a boxed input mode and English for a lined input mode (or Simplified\u2014Chinese or any other single or combination of recognizers as desired by a user).","A decision table may be present for determining which recognizer may be associated with a language selection and what type of input mode is supported.",{"@attributes":{"id":"p-0116","num":"0115"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"Language","Recognizer","Boxed Input?","Lined Input?"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Arabic","None",{},{}]},{"entry":[{},"French","Company A","No","Yes"]},{"entry":[{},"Simplified","Company A","Yes","Yes"]},{"entry":[{},"Chinese"]},{"entry":[{},"Japanese","Company A","Yes","Yes"]},{"entry":[{},"Japanese","Company B","Yes","No"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]}}}}},"From the above table, some languages may have no recognizers associated with them. Some languages have exactly one recognizer associated with them. Some languages may have more than one recognizer associated with them. Some recognizers support both boxed and lined input modes, some only support one input mode.","It is further recognized that a user may specify a language to which no recognizer is currently installed on a local machine. In this situation, recognition may be performed when a recognizer becomes available for the entered information. For instance, the recognizer may be stored at a remote location and accessible over a network (for example, an intranet, and extranet or the internet).","One may switch between the various modes through the processes described in relation to . For instance, one may cycle through various mappings identifiers to modify which recognizer or which user interface mode is to be used.  shows an illustrative example of an input mode switching user interface . In this example, the user interface may take the form of a bar . Various mappings between languages, recognizers, and boxed\/lined input modes may exist in bar . Here, the bar  is shows the current mode being a boxed input (option  having been selected). A first option  may be provided to a user that allows switching to a lined input mode. The lined input mode may be associated with the current or another recognizer. In this example, the English recognizer is associated with the lined input mode and the user interface provides an indication of the identity of the recognizer. In an alternate approach, option  may only be entitled \u201cWord\u201d so as to indicate a lined input mode that accepts a written word. Number  and Alphanumeric\/Number  options may relate to an East Asian recognizer or English recognizer as both may support these types of inputs. The specific recognizer associated with the \u201cword\u201d , \u201cNumber\u201d , \u201cAlphanumeric\u201d , and \u201call\u201d  may or may not be configurable by a user.","Further, various mappings may exist for various pens or selectable buttons (hardware, software, and the like) that allow a user to change which input mode he wants to use.","Aspects of the present invention have been described in terms of various illustrative embodiments. Numerous other embodiments, modifications and variations within the scope and spirit of the appended claims will occur to persons of ordinary skill in the art from a review of this disclosure."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention is illustrated by way of example and not limited in the accompanying figures in which like reference numerals indicate similar elements and in which:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIGS. 1 through 1M"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIGS. 4A and 4B"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIGS. 5A","b":["5","5"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 10A","b":["10","10"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIGS. 11-15","b":["19","20"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIGS. 16-18"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 21 and 22"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIGS. 23-25"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 27"}]},"DETDESC":[{},{}]}
