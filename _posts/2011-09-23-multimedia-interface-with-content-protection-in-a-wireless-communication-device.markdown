---
title: Multimedia interface with content protection in a wireless communication device
abstract: In general, this disclosure relates to techniques for management of a multimedia connection between a wireless communication device (WCD) and one or more output devices. The connection may be a multimedia interface connection with content protection, e.g., High Definition Multimedia Interface (HDMI). In some cases, the multimedia interface connection with content protection may be inactive because the output device is no longer connected or the multimedia application is stopped or paused. The techniques include detecting a use mode of the multimedia interface connection with content protection between the WCD and one or more output devices. When the use mode of the multimedia interface connection with content protection is inactive, the WCD may reduce at least one of content processing or content protection processing. In this way, the techniques may reduce battery power consumption from multimedia processing by the WCD.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08838845&OS=08838845&RS=08838845
owner: QUALCOMM Incorporated
number: 08838845
owner_city: San Diego
owner_country: US
publication_date: 20110923
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The disclosure relates to multimedia applications and, more particularly, management of multimedia applications in a wireless communication device.","Wireless communication devices (WCDs), such as mobile telephones, portable computers with wireless communication cards, and personal digital assistants (PDAs), portable media players, or other flash memory devices with wireless communication capabilities, are typically powered by limited battery resources. Improved battery life and battery life conservation are, therefore, of paramount concern when designing WCDs. The concern for battery life is offset, however, by demands by users for increased use of multimedia applications on WCDs and transferring multimedia content over a multimedia interface between WCDs and display devices.","Multimedia applications on a WCD can be displayed and\/or played back on external devices by transferring multimedia content between the WCD and the external devices via multimedia interfaces. Typically, a multimedia interface with content protection, e.g. High Definition Multimedia Interface (HDMI), is utilized to ensure secure transmission of content between devices to prevent unauthorized users from receiving the content. The content protection requires additional processing for authentication, revocation, encryption, and link integrity checks. The processing associated with receiving and\/or creating multimedia content on WCDs in addition to the processing associated with content protection when multimedia content is transmitted using multimedia interfaces with content protection consumes a significant amount of power.","In general, this disclosure relates to techniques for management of multimedia applications in a wireless communication device (WCD). The techniques include detecting a use mode of a multimedia interface connection with content protection, e.g., High Definition Multimedia Interface (HDMI), between a WCD and one or more output devices, and reducing at least one of content processing or content protection processing when the use mode is inactive. In this way, the techniques may reduce battery power consumption from multimedia processing by the WCD.","To transmit multimedia content to an output device via the multimedia interface connection with content protection, the WCD may perform content processing for one or more multimedia applications for presentation by the output device. In addition, the WCD may perform content protection processing for secure transmission of the processed content to the output devices via the connection. In some cases, however, the multimedia interface connection with content protection may be inactive because the output device is no longer connected or the multimedia application is stopped or paused. According to the techniques of this disclosure, when the use mode of the multimedia interface connection with content protection is inactive, the WCD may reduce power consumption by reducing content processing and\/or content protection processing.","In one example, the disclosure is directed to a method of managing external connections of a wireless communication device, the method comprising detecting, with a processor in the wireless communication device, a use mode of a connection between the wireless communication device and one or more output devices, wherein the connection comprises a multimedia interface connection with content protection, performing content processing for at least one application of the wireless communication device for presentation by the output devices, performing content protection processing for secure transmission of the processed content to the output device via the connection, and reducing at least one of the content processing or the content protection processing when the use mode of the connection is inactive.","In another example, the disclosure is directed to a wireless communication device capable of managing external connections, the wireless communication device comprising one or more processors that detects a use mode of a connection between the wireless communication device and one or more output devices, wherein the connection comprises a multimedia interface connection with content protection, performs content processing for at least one application of the wireless communication device for presentation by the output devices, performs content protection processing for secure transmission of the processed content to the output device via the connection, and reduces at least one of the content processing or the content protection processing when the use mode of the connection is inactive.","In another example, the disclosure is directed toward a wireless communication device capable of managing external connections, the wireless communication device comprising means for detecting a use mode of a connection between the wireless communication device and one or more output devices, wherein the connection comprises a multimedia interface connection with content protection, means for performing content processing for at least one application of the wireless communication device for presentation by the output devices, means for performing content protection processing for secure transmission of the processed content to the output device via the connection, and means for reducing at least one of the content processing or the content protection processing when the use mode of the connection is inactive.","The techniques described in this disclosure may be implemented in hardware, software, firmware, or any combination thereof. If implemented in software, the software may be executed in a processor, which may refer to one or more processors, such as a microprocessor, application specific integrated circuit (ASIC), field programmable gate array (FPGA), or digital signal processor (DSP), or other equivalent integrated or discrete logic circuitry. Software comprising instructions to execute the techniques may be initially stored in a computer-readable medium and loaded and executed by a processor.","Accordingly, in another example, the disclosure is directed to a computer program product comprising a computer-readable medium having stored thereon instructions that, when executed cause a processor to detect a use mode of a connection between a wireless communication device and one or more output devices, wherein the connection comprises a multimedia interface connection with content protection, perform content processing for at least one application of the wireless communication device for presentation by the output devices, perform content protection processing for secure transmission of the processed content to the output device via the connection, and reduce at least one of the content processing or the content protection processing when the use mode of the connection is inactive.","The details of one or more examples of the disclosure are set forth in the accompanying drawings and the description below. Other features, objects, and advantages will be apparent from the description and drawings, and from the claims.","In general, this disclosure relates to techniques for reducing battery consumption associated with a wireless communication device (WCD) with multimedia applications. The techniques may detect a use mode of a multimedia interface connection with content protection, e.g., High Definition Multimedia Interface (HDMI), between a WCD and one or more external output devices. When the use mode is inactive, at least one of content processing or content protection processing may be reduced to reduce battery power consumption from multimedia processing by the WCD. The WCD may perform content processing for one or more media applications for presentation by the output devices and\/or content protection processing for secure transmission of the processed content to the output devices via the connection. According to the techniques of this disclosure, when the use mode of the multimedia interface connection with content protection is inactive, the WCD may reduce the power consumption by reducing the content processing and\/or the content protection processing.",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1","b":["100","102","104","104","104","102","112","114","116","118","120","122","124","102","102","102","102","122"]},"Multimedia interfaces with content protection are becoming common, and in some cases mandatory, interfaces for digital multimedia devices that include multimedia applications. The multimedia interfaces with content protection may be used to connect digital multimedia source devices, such as set-top boxes, DVD and Blu-Ray Disc players, digital video recorders, personal computers, video game consoles, and the like, with compatible digital multimedia sink devices (also referred to herein as external output devices), such as digital televisions, digital audio devices, computer monitors, video projectors, and other devices capable of outputting and\/or displaying multimedia content. The multimedia interfaces with content protection may support wired connections or wireless connections between the source devices and the sink devices. A source device processes the multimedia content for presentation on a given sink device in the format required by the sink device. The multimedia interface with content protection enables a source device to securely transmit the multimedia content for presentation by the sink device using an encryption standard, e.g., high-bandwidth digital content protection (HDCP), to prevent unauthorized users from receiving the content. The content protection over the multimedia interfaces requires additional processing for device detection, authentication, revocation, encryption, and link integrity checks, for example.","WCD  may comprise, for example, a smart phone or pad that receives multimedia content. In the illustrated example of , WCD  includes multimedia interface with content protection  in order to transmit the multimedia content to output devices  for presentation. In this way, a user is able to have the content presented on one of output devices , such as a digital television or computer monitor, capable of providing much higher video resolution or higher fidelity audio than local display  of WCD .","In one example, multimedia interface  of WCD  may include a high-definition multimedia interface (HDMI), wireless HDMI, mobile high-definition link (MHL), or another interface capable of providing secure digital multimedia content. When WCD  with multimedia interface with content protection  is connected to the one or more external output devices , WCD  may perform processing of media (e.g., audio and\/or video) content from multimedia applications  for presentation by external output devices . WCD  may also perform content protection processing to securely transmit the multimedia content to output devices  via multimedia interface connections with content protection A, B, and C (\u201cmultimedia interface connections \u201d).","Traditionally, multimedia interfaces with content protection have been included only in wired devices (e.g., a desktop computer) that have little or no concern for battery usage. The techniques of this disclosure recognize that the processing required for operations over multimedia interface with content protection  may utilize a significant amount of battery power in WCD . The techniques may include detecting a use mode of multimedia interface connections with content protection  between WCD  and one or more output devices , and, when the use mode is inactive, reducing at least one of content processing or content protection processing to reduce battery consumption. As noted above, content processing may include preparing multimedia content from one or more multimedia applications running on WCD  for presentation on local display  or on external output devices . Content protection processing may include processing that ensures secure transmission of the multimedia content from one device to another, for example from WCD  to external output devices . Content protection procession may include, for example, encryption of the multimedia content. Secure transmission of the multimedia content may ensure that multimedia content does not get accessed by an unauthorized party or device.","WCD  may run processes and applications, such as multimedia applications . In some examples, WCD  may include display  (e.g., LCD screen) that displays multimedia content produced by multimedia applications . Display  of WCD  may display the multimedia content at a low-resolution, because display  of WCD  may be small and it may not make a difference whether the multimedia content is high or low resolution. Additionally, displaying multimedia content at a low-resolution may conserve processing power in WCD . However, in some examples, WCD  may be connected to output devices , which may present multimedia content received from WCD  for multimedia applications . WCD  may process the multimedia content for multimedia applications  and provide it to output devices  at a higher resolution appropriate for presentation on a larger display, for example.","Processor  of WCD  may be operable to execute one or more algorithms that include, for example, an algorithm for managing external connections between WCD  and external output devices . The algorithm for managing external connections may be stored in memory  or may be stored in a separate module accessible by processor . In one example, processor  may execute the algorithm for managing external connections to manage operations associated with multimedia interface with content protection  and multimedia interface connections  to reduce battery usage. The operations may include content processing and content protection processing of content transferred from WCD  to output devices  via multimedia interface connections  through multimedia interface . For example, processor  may detect a use mode of one of connections  between WCD  and external output devices , and reduce at least one of content processing or content protection processing when the detected use mode is inactive, according to the techniques described in this disclosure.","Memory  may include one or more computer-readable storage media. Memory  may comprise one or more storage devices, capable of long-term and short-term storage of information. Short-term storage of memory  may also be described as a volatile memory. Examples of volatile memories include random access memories (RAM), dynamic random access memories (DRAM), static random access memories (SRAM), and other forms of volatile memories known in the art. Long-term storage of memory  may also be described as non-volatile memory. Examples of such non-volatile storage elements may include magnetic hard discs, optical discs, floppy discs, flash memories, or forms of electrically programmable memories (EPROM) or electrically erasable and programmable (EEPROM) memories. In one example, memory  may be used to store program instructions for execution by processor  such as, for example, an algorithm for managing external connections. Memory  may also be used by software and\/or applications running on WCD  to store information during program execution or during operation.","Multimedia applications  may be applications running on WCD  and may provide multimedia content, such as video and\/or audio content. Some examples of multimedia applications  may be video and\/or audio playback applications, Web-TV, Web-Radio, and the like. The content provided by multimedia applications  may be obtained from memory  (e.g., captured video and\/or audio) or from an external source (e.g., the Internet). Processor  may process the multimedia content for presentation on display  of WCD . It may be desirable, however, to have the multimedia content presented on output devices  that provide higher video resolution and\/or higher fidelity audio.","WCD  may establish connections  with one or more output devices  via multimedia interface . Multimedia interface  comprises a multimedia interface with content protection capable of providing secure digital multimedia content. As noted above, some examples of multimedia interface with content protection may be HDMI, MHL, and the like. The example of HDMI will be used for purposes of this discussion; it should be understand, however, that the techniques of this disclosure may be applicable to other types of multimedia interfaces with content protection.","When WCD  is connected to one or more output devices , WCD  may process the multimedia content from multimedia applications  for presentation on output devices . WCD  may also perform content protection processing to ensure secure transmission of the multimedia content to output devices  via multimedia interface . As noted above, processor  of WCD  may execute an algorithm for managing external connections. For example, processor  may detect a use mode of connections  between WCD  and one or more output devices , and adjust the multimedia processing based on the detected use mode.","In one example, processor  may monitor connections  for a signal to determine whether one or more output devices  is connected to WCD . In one example, the signal may be a hot-plug-detect (HPD) signal. If a HPD signal, for example, is not detected on the connection, processor  determines that one or more output devices  are no longer connected to WCD  and sets the use mode of the connection as inactive. In this example, where the multimedia interface connection with content protection  is disconnected during active operation (i.e., during operation of multimedia applications ), processor  may determine the use mode to be inactive and reduce processing on WCD  to conserve power of battery .","When the multimedia interface connection with content protection  is disconnected, processor  may stop processing multimedia content in high resolution that is typically required for presentation on output devices . Processor  may instead process multimedia content in a low resolution format that may be more suitable and acceptable for presentation on local display  of WCD . Local display  may have a much smaller resolution than output devices  and may also require much less battery power for content processing. For example, processor  may reconfigure a graphic processing unit (GPU) of WCD  to process content for local display . In addition to reducing multimedia content processing, processor  may also suspend content protection processing for the disconnected multimedia interface connection with content protection , which may also reduce the amount of battery power consumed.","In another example, processor  may monitor the operation of one of multimedia applications  running on WCD  to determine the status of the one of multimedia applications . The status of the multimedia application may be playing, paused, or stopped. If the application is paused or stopped, processor  determines that no content is being transmitted over multimedia interface connection  and, therefore, the use mode is inactive. Processor  may then reduce processing of the multimedia content to conserve battery power. Typically, when one of multimedia applications  is stopped or paused, the multimedia application presents a blank frame or the last displayed frame on the display. For example, according to the techniques, processor  may process the blank frame or the last displayed frame from the one or multimedia applications  at a minimum data resolution acceptable by the one of output devices  currently presenting the multimedia content. In another example, processor  may stop processing content from the one of multimedia applications  and instead process a low resolution test pattern from memory  for presentation by the output devices . Reducing the resolution of the multimedia content for presentation on the output devices  consumes much less battery power for content processing.","In addition, if the one of multimedia applications  is paused or stopped, processor  may suspend content protection processing for the multimedia interface connection with content protection , because no unique or new content is being transmitted over the connection. For example, processor  may suspend one or more content protection functionalities, such as device detection processing, revocation procession, encryption processing, and link-integrity check processing. Suspending additional content protection processing on WCD  when no content in need of protection is being transmitted to output devices  may significantly reduce battery usage.","Regardless of whether the use mode of the connection is active or inactive, however, processor  may continue to perform authentication processing with each of output devices . The authentication processing requires WCD  to perform a handshake with each of output devices , which in the example of the HDCP specification may include up to 7 repeaters and 127 sink devices (e.g., output devices ). By maintaining the authenticated connections with each of output devices , even when the use mode of the connection is inactive, WCD  may avoid using a large amount of battery power for re-authentication processing.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 2","FIG. 2","FIG. 1","FIG. 2","FIG. 1"],"b":["202","218","202","102","218","202","218","202","202","204","104","204"]},"In one example, as  illustrates, WCD  may include several components, though the architecture of WCD  is not limited to that shown in . WCD  may include several communication modules and units, e.g., modem , WiFi , global positioning system (GPS) , and Bluetooth (BT) . The communication modules and units may be managed by connection processor , which may be a dedicated processor for communication purposes or may be part of a general processor of WCD . WCD  may also include a peripheral devices and interfaces module , security module , clock module , battery unit , and sensors and user interface devices . Battery unit  may include a battery monitor, and platform resource and power management functionalities for monitoring and managing a power source of WCD , such as battery , for example. WCD  may utilize an external memory unit  to supplement its internal on-chip memory , where external memory  may be connected to several modules and units in WCD .","WCD  may also include a graphical processing unit (GPU) and applications , which may include, for example, multimedia applications such as multimedia applications  of WCD  from . GPU and apps  may interact with several units within WCD  during its operation of processing and producing multimedia content. Application processor  may provide processing of multimedia content, and may be a dedicated processor or part of a general processor associated with WCD . Application data mover  may manage moving data, e.g., multimedia data, to the appropriate memory location (e.g., external memory  and\/or on-chip memory ). In some examples, multimedia content may be obtained from network sources (e.g., the Internet) or may be obtained by sensors in WCD  (e.g., built-in camera) and\/or from another multimedia unit (e.g., audio unit ). WCD  may also include audio\/video decoder , which may decode encoded multimedia content obtained by WCD  before display. Multimedia content may be processed for display by display processor and controller . In some examples, multimedia content may be processed and displayed locally on display . In other example, multimedia content may be processed for display on external devices, e.g., output devices , to which multimedia content is transmitted through multimedia interface .","WCD  may establish a connection with one or more output devices  via multimedia interface . Multimedia interface  may be a multimedia interface with content protection capable of providing secure digital multimedia content. Multimedia interface  may be connected to external interface , through which protected multimedia content is transmitted to external devices (e.g., repeater  and\/or output devices ). External interface  may be an external interface bridge or docking station.","Output devices  may be connected to WCD  to display multimedia content provided by a multimedia application in GPU and apps  on WCD . The multimedia content may be processed to a higher resolution that is more suitable for presentation on output devices . Output devices  may be connected to WCD  via a multimedia interface with content protection , e.g., HDMI. Display processor and controller  may manage the HDMI connection by detecting a use mode of the HDMI connection between WCD  and one or more output devices , and adjust the multimedia processing based on the detected use mode. For example, when the HDMI connection is inactive, display processor and controller  may reduce at least one of content processing and content protection processing in order to reduce battery consumption by WCD , as explained above.","Content processing for the HDMI connection may include preparing multimedia content from one or more multimedia applications in GPU and apps  operating on WCD  for presentation on local display  or on HDMI-connected output devices .","Content protection processing of the HDMI connection may include performing device detection, authentication, revocation, encryption, and link integrity check for each external device, e.g., one or more output devices  or repeater . In this discussion the example of high bandwidth digital content protection (HDCP) may be utilized as the digital protection standard for the multimedia content. However, it should be understood that other forms of digital content protection may be utilized.","For detection of external devices, the HDMI connector may include an HPD pin that allows an external device, which may be a repeater (e.g., repeater ) or a sink device (e.g., output device ), to provide a signal (e.g., +5 VDC) on the HPD pin, causing WCD  to initiate a display data channel (DDC) query. The DDC query may interrogate external HDMI-connected output device  to determine the display capabilities of output device . The DDC query may also determine whether output device  is HDCP-compliant. Typically, an HDMI source (e.g., WCD ) may be required to supply a minimum of 55 mA over the HPD pin.","After WCD  detects output device , the WCD may authenticate output device  and\/or repeater . In the case of output device , based on the DDC query, WCD  may determine if output device  is authorized to receive the multimedia content. Authentication may involve output device  and WCD  exposing their public key. WCD  and output device  may then independently derive a common session-key with their private key to complete authentication. If output device  is authorized to receive the multimedia content, WCD  then encrypts multimedia content transmitted to output device  to prevent eavesdropping. WCD  may similarly authenticate repeater . WCD  may maintain connection integrity to avoid a re-authentication penalty, which is potentially re-authentication overhead for all downstream HDMI devices (e.g., repeaters  and output devices ). For example, HDCP allows WCD  to connect to as many as 127 sink devices (e.g., output device ) with 7 repeaters (e.g., repeater ), therefore, up to 127 devices connected together with up to 7 levels.","Following authentication, revocation may take place, where WCD  reviews System Renewability Messages (SRMs) provided within the multimedia content. The SRMs may contain lists of revoked Key Selection Vectors (KSVs). WCD  then compares the revoked KSVs to downstream KSVs obtained from repeater  and\/or output devices , and stops transmitting protected multimedia content to repeaters\/output devices listed in SRM.","WCD  may then encrypt multimedia content using encryption keys. For example, WCD  may exclusive-OR (XOR) the multimedia content with cipher values, which may be derived from the session key. Repeater  and\/or output devices  also XOR the encrypted multimedia content with the same cipher values derived from the initial session key to decrypt the multimedia content.","In addition, WCD  may periodically check integrity of the link with repeater  and\/or output devices  to ensure encryption of the multimedia content is reliable, by using a verification process. For example, WCD  may utilize a 16-bit integrity check delivered by repeater  and\/or output devices  every 128 frames. The verification process may occur periodically, e.g., every 1.5-2.5 seconds. Display processor and controller  may configure display settings based on the status of a connection between the HDMI-device (e.g., output device ) and WCD . In one example, output device  may be connected through a multimedia interface connection with content protection  (e.g., HDMI). Multimedia applications running on WCD  may provide multimedia content, which may be processed by a processor (e.g., display processor and controller ). When output device  is connected to WCD , the multimedia content may be processed to accommodate the requirements of output device  (e.g., higher resolution, higher audio quality, and the like) for presenting the multimedia content. The multimedia content is processed for presentation on the connected output device  and processed for content protection for transmission to the output device over the multimedia interface with content protection .","If output device  becomes disconnected or the multimedia application is paused or stopped, processing of the multimedia and\/or the content protection processing may be reduced to reduce the battery power consumed. If output device  becomes disconnected, display processor and controller  may stop processing multimedia content in high resolution typically required for presentation on output devices . Display processor and controller  may instead process multimedia content in a low resolution format that may be more suitable and acceptable for presentation on local display , which may require much less battery power for content processing. In addition to reducing multimedia content processing, content protection processing may be suspended for the disconnected multimedia interface connection with content protection, which may also reduce the amount of battery power consumed.","If the multimedia application is paused or stopped, processing of the multimedia content may be modified to reduce the battery power consumption. In one example, display processor and controller  may process a blank frame or the last displayed frame from the multimedia application at a minimum data resolution acceptable by output device  presenting the multimedia content. In another example, display processor and controller  may stop processing content from the multimedia application and instead process a low resolution test pattern from memory  for presentation by output device . Reducing the resolution of the multimedia content for presentation on the output devices consumes much less battery power for content processing. In addition to reducing the processing of the content, content protection processing for the multimedia interface connection with content protection may be suspended, because no unique or new content is being transmitted over the connection. For example, one or more content protection functionalities may be suspended, such as device detection processing, revocation procession, encryption processing, and link-integrity check processing. Suspending additional processing on WCD  when no content in need of protection is being transmitted may significantly reduce battery usage.","Examples of multimedia applications running on WCD  that may allow pause\/stop include AUD\/VID FilePlayback, WEB-TV (e.g., YouTube), WEB-News (e.g., CNN), WEB-Tune (e.g., NPR), OnLine-Gaming, and the like. As described above, according to the techniques, asserting pause\/stop may result in modifying processing of the multimedia content. For example, pause\/stop may result in configuring the HDMI connection for minimum multimedia content resolution acceptable by output device . For example, a pause\/stop may result in reconfiguring the HDMI connection by asserting AVMUTE, which results in stopping encryption, in addition to causing the output device to stop processing incoming data.","Additionally, the traditional device detection processing may be suspended by switching off the +5 VDC and ignoring signals on the HPD pin to conserve battery power. In this example, WCD  may continue to detect the presence of downstream HDMI devices (e.g., repeater  and output devices ) by checking that transition minimized differential signaling (TMDS) differential pairs remain terminated. TMDS is the data transmission protocol of HDMI and may be terminated during pause\/stop status. WCD  may signal to output device  not to process any received multimedia content, and may optionally cache the multimedia content from on-chip memory  for local display on display . WCD  may also stop the HDCP authentication process. Finally, during this mode, the link integrity check and revocation processing may be suspended, which further reduces the amount of battery power consumed.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"b":["302","304","306","102","112"]},"The software model for the WCD may include hardware platform , software platform , and application environment . Hardware platform  may include, for example, network access units (e.g., modem, WiFi, GPS, and BT), interconnects and interfaces (e.g., hot-plug detect ), multimedia accelerators and interfaces, sensors and user interface devices, processors and memory units, clock-related modules, and the like.","Software platform  may include software modules such as, for example, application framework application programming interface (API), operating system and memory management and security units, local area networks (LAN) and wide area networks (WAN) networking units, protocols associated with network access units, graphics units, multimedia (e.g., audio, video, imaging) protocols, system libraries and drivers, and battery monitoring and management modules. Software platform  may include, for example, system configuration module  and connection management modules (e.g., HDMI connection manager , and HDMI integrity check ).","Application environment  may include native and high level operating system applications, third party extensions and virtual machine applications, and other application services and extensions. Application environment  may include, for example, application runtime manager  and application registration module .","Processing associated with multimedia applications may be implemented in application environment . Such processing may include application runtime manager  and application registration module . Processing associated with system configuration, including HDMI-related processing, may be implemented in software platform . Hardware platform  may include various hardware components and interfaces, including a multimedia interface connection with content protection, e.g., HDMI. When an external output device is connected to the WCD, hot plug detect  may be used by HDMI connection manager  to detect the external output device and interrogate the device to collect information, e.g., display capabilities of the output device and compliance information. HDMI integrity check  may utilize the collected information to authenticate the output devices, as described above.","HDMI connection manager  may then manage processing associated with multimedia content from the multimedia applications and the multimedia content protection as described above. In one example, HDMI connection manager  may be a processing component of display processor and controller  of . In another example, HDMI connection manager may be a processing component that is separate from display-specific operations and\/or components. The multimedia content protection includes device detection, authentication, encryption, revocation and integrity check. HDMI integrity check  may periodically check integrity of the link with the output devices, which may determine whether an output device is disconnected via hot-plug detect . Additionally, HDMI connection manager  may determine whether a multimedia application is paused or stopped via hot-plug detect .","If an output device is disconnected or a multimedia application is paused or stopped, system configuration  may set use mode to inactive and reduce or suspend multimedia content processing at high resolution and\/or multimedia content protection processing, as discussed above. Reducing multimedia content processing and\/or multimedia content protection processing may reduce the amount of battery power consumed by the multimedia application processing associated with external output devices.",{"@attributes":{"id":"p-0059","num":"0058"},"figref":["FIG. 4","FIG. 4","FIG. 1","FIG. 2"],"b":["102","202"]},"During detection, system controller  may receive from an output device an HPD signal  (e.g., +5 VDC) on the HPD pin, causing the WCD to initiate a display data channel (DDC) query . The DDC query  may interrogate the external HDMI-connected output device to determine the display capabilities of the output device. The DDC query may also determine whether output device  is HDCP-compliant.","After detection of the output device, authentication may be performed, where based on the DDC query, the WCD may determine if the output device is authorized to receive the multimedia content from the WCD. The multimedia content may be generated by audio\/video generator  from local sources on the WCD or from one or more external sources via video data interface  and\/or audio data interface . If the output device is authorized to receive the multimedia content, the WCD then encrypts multimedia content transmitted to the output device using the encryption sessions keys, as explained above. For example, the WCD may include multiplexer and XOR unit , which may XOR the multimedia content with cipher values derived from the session key.","The output devices may be presenting multimedia content from the multimedia applications, where high resolution and\/or high quality multimedia content may be transmitted to the output devices through HDMI transmitter  as long as connection is maintained with the device and the multimedia content is being played by the output device. As noted above, if the output device becomes disconnected or the multimedia application or the output device is paused or stopped, processing of the multimedia content may be modified to reduce the battery power consumption. In one example, when the video paused or stopped, a blank frame or the last displayed frame may be presented.","During video processing, multimedia content may be cached and then processed for transmission by the HDMI transmitter  to the output device. The video content may be cached in a video data interface  and the audio content may be cached in an audio data interface , for example. In one example, when the multimedia application is paused or stopped, a blank frame may be transmitted to the output device for presentation until the multimedia application resumes playing the multimedia content. In another example, when the multimedia application is paused or stopped, the last displayed frame may be presented on the output device. Since the multimedia content is not being played back, the transmitted frame to display while the multimedia application is paused or stopped may not need to be displayed at a high resolution. A cached version of the last frame may be transmitted to the output device, without processing. In this manner, battery power may be reduced as a result of not having to process the frame to produce a high resolution frame. In addition, the last frame or blank frame may be transmitted without having to perform content protection processing, which may further reduce battery consumption.",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 5","FIG. 5","FIG. 1"],"b":["112","102","102","104","102","112","102","104","102","104","102","104","118"]},"In one example, processor  may execute the algorithm to detect a use mode associated with the connection between WCD  and external devices  (). When an output device is connected to WCD  via the multimedia interface connection with content protection , and new multimedia content is being processed for transmission to output devices , the use mode is active. The algorithm may monitor the connections between WCD  and output devices  by detecting a signal associated with the connection, e.g., HPD signal. In one example, if the signal is not detected during active operation (e.g., while a multimedia application is running), the algorithm may determine that an output device is no longer connected (e.g., disconnected, turned off, or the like), and may set the use mode to inactive. The algorithm may also monitor the operation of the multimedia applications. In one example, if the algorithm determines that the multimedia application is paused or stopped and not producing any new multimedia content, the algorithm may set the use mode to inactive.","If the use mode is active (NO branch of ), processor  may continue processing the multimedia content and the content protection () according to the used standard, e.g., HDCP, and the interface, e.g., HDMI. If the use mode is inactive (YES branch of ), processor  may reduce processing the multimedia content and\/or the content protection () to reduce the amount of power consumed in connection with the multimedia content processing and content protection.","In the example where the use mode is inactive because one or more external devices is disconnected during active operation, processor  may stop processing multimedia content in high resolution typically required for presentation on the disconnected external devices. Processor  may instead process multimedia content in a low resolution format that may be more suitable and acceptable for presentation on a local display  of WCD . In addition to or instead of reducing multimedia content processing, processor  may suspend content protection processing for the disconnected multimedia interface connection with content protection .","In the example where the use mode is inactive because the multimedia application is paused or stopped, processor  may determine that no new content is being transmitted over the multimedia interface connection . Processor  may then reduce processing of the multimedia content by processing a blank frame or the last displayed frame from the multimedia application at a minimum data resolution acceptable by the external output device. In another example, processor  may stop processing content from the multimedia application and instead process a low resolution test pattern or frame cached in a memory  of WCD  for presentation by output devices . In addition to or instead of processing a frame at a low resolution during pause or stop, processor  may suspend content protection processing for the multimedia interface connection with content protection, because no unique or new content is being transmitted over the connection. For example, processor  may suspend one or more content protection functionalities (e.g., device detection processing, revocation procession, encryption processing, and link-integrity check processing).",{"@attributes":{"id":"p-0069","num":"0068"},"figref":["FIG. 6","FIG. 6","FIG. 2"],"b":["202","202","202","204","202","224","224","202","218","204"]},"Output devices  may be devices capable of presenting multimedia content provided by the multimedia applications and transmitted from WCD . Output devices  may have certain presentation and display requirements that are different from the local display requirements. For example, the multimedia content may need to be provided at a higher resolution for an acceptable presentation on output devices . As such, WCD  may include one or more processors capable of processing the multimedia content to provide the content at the resolution and quality required by output devices . Additionally, the multimedia content may be processed for transmission over the HDMI interface  to provide content protection. Performing the content processing and the content protection processing may consume more battery power than typically consumed when multimedia content is presented locally.","Output devices , also referred to as \u201csinks,\u201d may be connected to WCD  via the multimedia interface with content protection, e.g., HDMI. Content protection processing for the HDMI connection may include performing device detection, authentication, revocation, encryption, and link integrity check. During its operation, the HDMI connector may detect whether HDMI-sinks (e.g., output devices ) are connected (). The HDMI connector may be equipped an HPD pin that allows the repeater\/sink (e.g., output devices ) to provide a signal (e.g., +5 VDC) on HPD so that the output devices are detected. If no device is detected, i.e., no output device is connected to the WCD, the method may determine whether a multimedia application is working (i.e., multimedia application running and providing multimedia content) (). If no application is working, the method may return to periodically checking whether connection to an external output device is detected. If an application is working, but no external device is connected, all registered applications may be stopped or paused (). In other words, if no output device is connected and multimedia applications are running, then content processing is switched to local display processing and no content protection processing is performed until a connected output device is detected at ().","If at (), external output devices are detected, management of the HDMI may perform authentication. If during device detection it is determined that an external device is connected, the method may determine whether the external device is connected through a repeater (). If the external device is connected through a repeater, the repeater may authenticate each external output device connected thereto to determine the devices' eligibility (). A device's eligibility may include whether the output device is authorized to receive multimedia content from the WCD. The repeater may then report each device's private key and connection topology to the WCD (). The method may then determine whether the maximum number of connected repeaters and sinks (i.e., output devices) has not yet been reached, and whether the detected device (sink) is not on the list of revoked devices (). For example, in HDCP, up to 127 sinks with 7 repeaters are allowed as output devices. Therefore, the check may be whether less than 7 repeaters and 127 output devices are connected to the WCD. If the maximum number of repeaters or output devices is connected to the WCD or the detected output device is on the list of revoked devices, the connection is not established and the method may return to periodically checking whether connection to an external output device is detected. If the maximum number of repeaters and output devices is not yet reached, and the detected output device is not on the list of revoked devices, the method may proceed to encryption of the content using a session key known by the WCD and the output device ().","If the external output device is not connected through a repeater, the WCD may authenticate the connected output device to determine its eligibility (). The method may then proceed to encryption of the multimedia content by the WCD, using a session key known by the WCD and the output device (). The output device may be expected to decrypt and render the multimedia content using the session key. When output devices are connected and authenticated, the method may check whether any multimedia application providing content is stopped or paused (). If a multimedia application is stopped or paused, the HDMI connection may be configured to process the multimedia content at a minimum resolution, and cached content may be transmitted to the external output device (). For example, the cached content may be a blank frame or the last presented frame for video content and\/or the audio content may be set to mute. In this manner, processing of the content may be minimized and the amount of battery power consumed may be reduced. Additionally, while the multimedia application is stopped or paused, WCD  may stop or reduce content protection processing, including device detection, content encryption, link integrity check, and revocation.","If no multimedia application is paused or stopped, the method may continue to perform link integrity check. For link integrity check, the method may involve checking if the currently-processed frame is where an integrity check should be performed, e.g., frame  since the last check (). If the a check should be performed, the WCD may check integrity of the link with the corresponding output devices to ensure encryption of the multimedia content is reliable, by using a verification process (). For example, the source (e.g., the WCD) may utilize a 16-bit integrity check delivered by the output devices every 128 frames. The verification process may occur periodically, e.g., every 1.5-2.5 seconds, for example. The method may also include the WCD determining whether the output device can correctly decrypt the protected (i.e., encrypted) multimedia content (). The output device can correctly decrypt the protected multimedia content if the output device has the same session key. If the WCD determines that the output device cannot correctly decrypt the protected content, the method may return to periodically checking whether connection to an external output device is detected.","If the WCD determines that the output device can correctly decrypt the protected content, the WCD may determine whether the output device is a revoked device (). A device is revoked if the device's KSV is in any SRM provided within the multimedia content. If the output device is revoked, the WCD may stop content delivery to the output device and purge its KSV (). The method may then return to periodically checking whether connection to an external output device is detected. If the output is not revoked, the method may return to encryption of the multimedia content for transmission to the sink ().","In one or more examples, the functions described may be implemented in hardware, software, firmware, or any combination thereof. If implemented in software, the functions may be stored on or transmitted over as one or more instructions or code on a computer-readable medium. Computer-readable media may include computer data storage media or communication media including any medium that facilitates transfer of a computer program from one place to another. In some examples, computer-readable media may comprise non-transitory computer-readable media. Data storage media may be any available media that can be accessed by one or more computers or one or more processors to retrieve instructions, code and\/or data structures for implementation of the techniques described in this disclosure.","By way of example, and not limitation, such computer-readable media can comprise non-transitory media such as RAM, ROM, EEPROM, CD-ROM or other optical disk storage, magnetic disk storage, or other magnetic storage devices, flash memory, or any other medium that can be used to carry or store desired program code in the form of instructions or data structures and that can be accessed by a computer. Also, any connection is properly termed a computer-readable medium. For example, if the software is transmitted from a website, server, or other remote source using a coaxial cable, fiber optic cable, twisted pair, digital subscriber line (DSL), or wireless technologies such as infrared, radio, and microwave, then the coaxial cable, fiber optic cable, twisted pair, DSL, or wireless technologies such as infrared, radio, and microwave are included in the definition of medium. Disk and disc, as used herein, includes compact disc (CD), laser disc, optical disc, digital versatile disc (DVD), floppy disk and blu-ray disc where disks usually reproduce data magnetically, while discs reproduce data optically with lasers. Combinations of the above should also be included within the scope of computer-readable media.","The code may be executed by one or more processors, such as one or more digital signal processors (DSPs), general purpose microprocessors, application specific integrated circuits (ASICs), field programmable logic arrays (FPGAs), or other equivalent integrated or discrete logic circuitry. Accordingly, the term \u201cprocessor,\u201d as used herein may refer to any of the foregoing structure or any other structure suitable for implementation of the techniques described herein. In addition, in some aspects, the functionality described herein may be provided within dedicated hardware and\/or software modules configured for encoding and decoding, or incorporated in a combined codec. Also, the techniques could be fully implemented in one or more circuits or logic elements.","The techniques of this disclosure may be implemented in a wide variety of devices or apparatuses, including a wireless handset, an integrated circuit (IC) or a set of ICs (e.g., a chip set). Various components, modules, or units are described in this disclosure to emphasize functional aspects of devices configured to perform the disclosed techniques, but do not necessarily require realization by different hardware units. Rather, as described above, various units may be combined in a codec hardware unit or provided by a collection of interoperative hardware units, including one or more processors as described above, in conjunction with suitable software and\/or firmware.","Various embodiments of the invention have been described. These and other embodiments are within the scope of the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
