---
title: Devices as services in a decentralized operating system
abstract: Various embodiments of the present invention transform devices into Web services or special-purpose servers that are capable of communicating with personal computers. Various embodiments of the present invention allow various low-level aspects of device drivers to reside in the devices, eliminating the need for the devices to be compatible with legacy specification. Various embodiments of the present invention allow various devices to be shipped from the factory with low-level software already built in so that users are liberated from having to deal with the experience of installing and upgrading device drivers. In various embodiments of the present invention, each device is preferably a network node identifiable by a Uniform Resource Identifier (URI).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08112764&OS=08112764&RS=08112764
owner: Microsoft Corporation
number: 08112764
owner_city: Redmond
owner_country: US
publication_date: 20031120
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["The present invention relates to devices as subsystems of computing systems, and more particularly, to a basic design structure in which devices are represented as services in a decentralized operating system.","What's bright blue that strikes terror into the heart of a personal computer user? It is the dreaded blue screen, which is caused almost always by programming errors. Device drivers are a common source of these errors. A device driver is a software component that permits a computer system to communicate with a device. If a correct driver is not installed in a system, a device cannot be used, because, in most cases, the driver is the only piece of software that understands how to manipulate the hardware used to communicate with the device. Given the proliferation of devices and device drivers, programming errors have exploded exponentially. It is virtually impossible for a programmer to visualize all the interactions between devices and computers or to determine the results of interactions with every other device to which a computer may be interconnected.  shows a system  that illustrates these problems and other problems in greater detail.",{"@attributes":{"id":"p-0004","num":"0003"},"figref":"FIG. 1","b":["101","101","114","106","101","102","104","108","102","101","102","114","104","102","101","101","102","106","104","102","108","102","101","101","102","110"]},"One problem with such a tightly coupled design is that it is vulnerable. By exposing device drivers  in the single address space, these device drivers can act as Trojan horses for housing unreliable code that can deadlock the Linux operating system . In almost all cases, the only way for applications  to communicate with the input\/output devices  is by means of device drivers  in kernel mode. Kernel mode is the most privileged execution mode of the Linux operating system . Privileged means that there is no way for the Linux operating system  to monitor the running code of the device drivers  or to protect memory from being accessed. Thus, errant kernel-mode device drivers  can do whatever they want with no oversight by the Linux operating system . One example is the issue of handling hardware-interrupt generation. Due to the asynchronous nature of hardware interrupts, just one programming error in the interrupt handler may deadlock the system or corrupt data in a pathologic, rarely reproducible manner.","Devices of yesteryear seemed stable because their numbers were few and their interconnections to computers were simple. Devices nowadays have proliferated to the benefit of users but such proliferation is attended by a marked increase in the number of device drivers necessary to provide links between applications  and input\/output devices . Without a solution to increase reliability of errant device drivers, users may eventually no longer trust the system  to provide a desired computing experience, causing demand for the system  to diminish from the marketplace. Thus, there is a need for a method and a system for representing devices as services while avoiding or reducing the foregoing and other problems associated with existing systems.","In accordance with this invention, a system, method, and computer-readable medium for representing devices as services is provided. The system form of the invention includes, in a networked system, a device that is a computer subsystem. The device comprises one or more services executing in the device. Each service includes a port identifiable by an identifier that includes a uniform resource identifier and a contract for describing one or more behaviors of the service.","Another system form of the invention includes, in a networked computer system, a terminal service. The terminal service comprises a display service with a port identifiable by an identifier that includes a uniform resource identifier and a contract for describing one or more behaviors of the display service. The terminal service further comprises a keyboard service with a port identifiable by an identifier that includes a uniform resource identifier and a contract for describing one or more behaviors of the keyboard service. The terminal service further comprises a mouse service with a port identifiable by an identifier that includes a uniform resource identifier and a contract for describing one or more behaviors of the mouse service.","A method form of the invention includes a computer-implemented method for processing input\/output events by devices as services. The method comprises requesting a service representing a device for an input\/output event. The service includes a port identifiable by an identifier that includes at a uniform resource identifier and a contract for describing one or more behaviors of the service. The method further comprises receiving a customizable, tag-based message that contains the input\/output event. The method yet further comprises requesting the service to remove the input\/output event.","A computer-readable form of the invention includes a computer-readable medium having computer-executable instructions for implementing a computer-implemented method for processing input\/output events by devices as services. The method comprises requesting a service representing a device for an input\/output event. The service includes a port identifiable by an identifier that includes a uniform resource identifier and a contract for describing one or more behaviors of the service. The method further comprises receiving a customizable, tag-based message that contains the input\/output event. The method yet further comprises requesting the service to remove the input\/output event.","Another system form of the invention includes, in a networked system, a device that is a computer subsystem. The device comprises one or more services executing in the device. Each service includes a port identifiable by an identifer that includes a uniform resource identifier. The device is capable of coupling to the networked system to exchange customizable, tag-based messages.","Various embodiments of the present invention transform devices into Web services or special-purpose servers that are capable of communicating with other devices, such as personal computers. Various embodiments of the present invention allow various low-level aspects of device drivers to reside in the devices, hence eliminating the need for the devices to be compatible with legacy specification. Various embodiments of the present invention allow various devices to be shipped from the factory with low-level software already built in so that users are liberated from having to deal with the experience of installing and upgrading device drivers. In various embodiments of the present invention, each device is preferably a network node identifiable by a Uniform Resource Identifier (URI). The term \u201cservice\u201d as used hereinbelow and hereinbefore means the inclusion of loosely coupled services.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 2A","b":["210","210","210","1","210","1","210","2","210","2","210","210","210","1","210","1","210","210","210","2","210","2","210","210"]},"Sharing resources is possible through interaction in a way compatible with the behaviors of the resources. Behaviors of resources (represented by services) are expressed in unilateral contracts. A service can be regulated by a unilateral contract. Thus, one can attach behavioral conditions to files via unilateral contracts to govern access control. A portion of the unilateral contract A- is illustrated in . Line A- contains the key word UNILATERALCONTRACT followed by the designator \u201cPDA,\u201d and a pair of open and closed curly brackets \u201c{ }\u201d for delimiting the definition of the unilateral contract A-. Line A- declares the signature of the OPEN operation that takes a file name \u201cFILENAME\u201d as a parameter. To use the operating system service A, external services specify a name of a file to be opened via the OPEN operation. Thus, the OPEN operation should be the first operation that is invoked by other services for each session. The PLAY operation is declared in line A-. The PLAY operation takes another service's port as a parameter. When the PLAY operation is invoked by other services, the operating system service A reads a stream of data from an open file and transmits the read data toward the given service's port. Other services, such as the operating system service B, can also record information to opened files via the RECORD operation, which is declared on line A-. The RECORD operation takes data as a parameter. This data is written by the RECORD operation to the opened file. When all desired operations have been carried out on the opened file, the opened file can be closed via the CLOSE operation, which is declared on line A-. The CLOSE operation takes a file name \u201cFILENAME\u201d as an argument so that the CLOSE operation knows which file to close.","Lines A--A- contain the behaviors of the operating system service A. Line A- contains a behavior sentence: B=OPEN.BPR, where B is a behavior rule; OPEN denotes that the OPEN operation is the first operation to be invoked in using the operating system service A; the period \u201c.\u201d denotes that additional behaviors are to follow the invocation of the OPEN operation; and BPR refers to a second behavior sentence defined further on line A-. Line A- contains the following behavioral sentence: BPR=PLAY.BPR+RECORD.BPR+CLOSE, where BPR denotes the second behavior; PLAY.BPR denotes the invocation of the PLAY operation, which is then followed by the second behavior again (a recursion); RECORD.BPR denotes the invocation of the RECORD operation, which is then followed, recursively, by the second behavior; CLOSE denotes the invocation of the CLOSE operation; and the plus signs \u201c+\u201d denote choices that other services, such as the operating system service B, can make to invoke among the PLAY operation, the RECORD operation, or the CLOSE operation.","A portion of the unilateral contract B- is illustrated in . Line B- contains the keyword UNILATERALCONTRACT followed by the designator \u201cSPEAKER,\u201d and a pair of open and closed curly brackets \u201c{ }\u201d for delimiting the definition of the portion of the unilateral contract B-. Line B- declares the signature of the OPEN operation that takes a file name \u201cFILENAME\u201d as a parameter. The REPRODUCE operation is declared on line B-. The REPRODUCE operation takes another service's port as a parameter. The CLOSE operation is declared on line B- and it takes a filename \u201cFILENAME\u201d as an argument so that the CLOSE operation knows which file to close.","Lines B--B- contain the behaviors of the operating system service B.","Line B- contains a behavior sentence: B=OPEN.BP, where B is a behavior rule; OPEN denotes that the OPEN operation is the first operation to be invoked in a session with the operating system service B; the period \u201c.\u201d denotes that the additional behaviors are to follow the invocation of the OPEN operation; and BP refers to a second behavior sentence defined further on line B-. Line B- contains the following behavioral sentence: BP=REPRODUCE.BP+CLOSE, where BP denotes the second behavior; REPRODUCE.BP denotes the invocation of the REPRODUCE operation, which is then followed by the second behavior again (a recursion); CLOSE denotes the invocation of the CLOSE operation; and the plus sign \u201c+\u201d denotes choices that an external service, such as the operating system service A, can make to invoke among the REPRODUCE operation and the CLOSE operation.","The unilateral contract A-, when accepted by the service B, and the unilateral contract B-, when accepted by the service A, creates an instance of communication between the service A and the service B. Each unilateral contract A-, B- can be accepted by the services A, B by a mere promise to perform, but preferably is accepted by the performance of unilateral contracts A-, B- in accordance with the behaviors expressed in those unilateral contracts. Thus, if the service B complies with and performs the behaviors as expressed by behavior sentences A-, A- of the unilateral contract A-, the service B is bound to provide the promised services. For example, if the operating system service B has performed by first invoking the OPEN operation as specified by the behavioral sentence A- and then either invokes the PLAY operation or the RECORD operation or the CLOSE operation as specified by the behavioral sentence shown on line A-, then the operating system service A complies with the requested invocations to provide the desired services, such as opening a file, playing the content of the file, recording content into a file, or closing the file.","A number of devices as services -, each with a port identifiable by an identifier (such as a URI) B-B, and a unilateral contract A-A, are illustrated at . The display service  represents a display which is the visual output device of a computer, which is commonly a CRT-based video display, but increasingly is comprised of an LCD-based or gas plasma-based flat-panel display. The mouse service  represents a mechanical mouse, which is a common pointing device. The basic features of a mechanical mouse are a flat-bottom casing designed to be gripped by one hand; one or more buttons on the top; a multi-directional detection device (usually a ball and some shaft encoders) on the bottom; and a cable connecting the mouse to the computer. By moving the mouse on a surface (such as a desktop), the user typically controls an on-screen cursor. A mouse is a relative pointing device because there are no defined limits to the mouse's movement and because its placement on a surface does not map directly to a specific screen location. To select items or choose commands on the screen, the user presses one of the mouse's buttons, producing a \u201cmouse click.\u201d The keyboard service  represents a keyboard, which is a hardware unit with a set of switches that resembles a typewriter keyboard and that conveys information from a user to a computer or data communication circuit. The PDA service  represents a personal digital assistant, which is a lightweight computer designed to provide specific functions like personal organization (calendar, note-taking, database, calculator, and so on) as well as communications. (One exemplary unilateral contract A for the PDA service  includes the unilateral contract A-.) More advanced personal digital assistants also offer multimedia features, such as music playing. Many personal digital assistants rely on a pen or other pointing device for input instead of a keyboard or a mouse, although some offer a keyboard too small for touch typing to use in conjunction with a pen or pointing device. For data storage, a personal data assistant relies on flash memory instead of power-hungry disk drives. The loudspeakers service  represents loudspeakers, which are devices that accept customizable, tagged-based messages containing a digital encoding of sound, which transform the contents of the messages into sounds loud enough to be heard by the user. (One exemplary unilateral contract A for the loudspeakers service  includes the unilateral contract B-.)","Whereas, conventionally, each device\u2014represented by the display service , the mouse service , the keyboard service , the PDA service , and the loudspeaker service \u2014would require separate device drivers, various embodiments of the present invention dispense with a specific device driver for each device represented by one of the services -. Only one network device driver  need be present for various services - to communicate with the decentralized operating system  and eventually with an application being represented by an application service  identifiable by an identifier (such as a URI) B and a unilateral contract A.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 2E","b":["228","228","228","228","214","216","212","228","216","216","228","214"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 2F","b":["254","228","212","214","216","254","228","254","254","254","254","254","254","216","254","254","254","214","254","212","254","212","254","212","254","254","254","254","254","254","254","254"]},"A customizable tag-based document  reproducible by a data service (not shown) of the composed service  is illustrated at . The customizable tag-based document  holds the keyboard events and mouse events that have been generated by the mouse service  and the keyboard service  but which have not yet been consumed by the application service . The application service  normally subscribes to changes in the data service so that the application service  is informed when a new event is generated and has appeared in the data service of the composed service . The customizable, tag-based document  includes a data element defined between tag A <C:DATA> and its companion ending tag AA <\/C:INFO>. The tag A includes an attribute XMLNS:C for defining a name space and can be found at an address \u201cHTTP:\/\/SCHEMAS.COM\/COORDINATOR\u201d. Contained between tags A, AA are zero or more data item elements for capturing either a keyboard event generated by the keyboard service  or a mouse event generated by the mouse service . One exemplary keyboard event is defined between a tag B <C:DATAITEM> and its companion ending tag <\/C:DATAITEM> L. A time element is defined at line D by a tag <C:TIME>. The time element specified a time when the data item element was generated using system global time. The time element allows ease of understanding the sequence by which events happened. Even if times between events are small (e.g., mouse clicks) or the events occurred on different devices (e.g., control-click) lines E-G capture the states of the modifier keys of the keyboard represented by the keyboard service . Line E CONTAINS the state of the control key via a tag <C:CTRLKEY>. Line F contains the state of the ALT key, which is defined by tag <C:ALTKEY>. Line G contains the state of the shift key via a tag <C:SHIFTKEY>.","An actuated key on the keyboard is captured by a keystroke element defined between a tag H <C:KEYSTROKE> and its companion ending tag K <\/C:KEYSTROKE>. Contained between tags H, K is an element defined by tag <C:EXTENDED> on line I, which contains a TRUE value if the code represented by the below-described <C:CODE> element is an extended code, such as a function key. Line J defines a tag <C:CODE> for containing the character code generated from the actuation of a key on the keyboard.","The customizable, tag-based document  includes zero or more mouse events. One exemplary mouse event is captured by a data item element defined between tag M <C:DATAITEM> and its companion ending tag Z <\/C:DATAITEM>. A time element is defined on line O by a tag <C:TIME>. The time element specifies the time when the data item element was generated. Lines P-R include tags <C:CTRLKEY>, <C:ALTKEY>, and <C:SHIFTKEY> for capturing the state of modifier keys on the keyboard represented by the keyboard service . The shift key state is captured on line R by tag <C:SHIFTKEY>. The mouse event is captured between a tag S <C:MOUSE> and its companion ending tag Y <\/C:MOUSE>. If a mouse button was actuated, tag <C:BUTTONS> on line T captures the button code. Tag U <C:POSITION> and its companion ending tag X <\/C:POSITION> contain information pertaining to the position of the mouse. Line V describes tag <C:H> signifying the horizontal position of the mouse. Line W includes tag <C:V> signifying the vertical position of the mouse.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 2H","b":["214","214","214","1","214","2","214","214","1","214","2","214","214","214","226","214","226","214","226","214","214","214"]},"A customizable, tag-based document  producible by the info service C upon request is illustrated at . The info service C holds a summary of the properties of the mouse that the mouse service  represents. A tag A <M:INFO> includes an attribute XMLNS:M for defining a name space for the mouse service . The attribute XMLNS:M is defined to include an address \u201cHTTP:\/\/SCHEMAS.COM\/M\/I\u201d. Line B defines tag <M:BUTTONCOUNT> which is indicative of the number of buttons on the mouse represented by the mouse service . The application service  may use the tag <M:BUTTONCOUNT> to configure its user interface. Line C defines tag <M:MOTIONSCALE> which is indicative of the scale of mouse motion events preferably in shaft encoder units per some suitable linear dimension. One suitable linear dimension includes inches, but others may be used.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 2J","b":["236","214","226","236","236","236","236","236","236","236","236","226","226","236","236","236","226","236","236","236","236"]},"A keyboard service  as a composed service is formed from an info service C with a port identifiable by an identifier (such as a URI) C- and a unilateral contract C-; and a data service D with a port identifiable at URI D- and a unilateral contract D-. See . The keyboard service  provides an interface to a standard keyboard. When a key is actuated or a modifier key is pressed or released, a keyboard event is self-inserted into the data service D. The application service  can directly request generated events from the data service D or the application service  can ask the data service D to automatically inform the application service  of any changes in its event store. Normal key actuations are preferably generated as Unicode characters. To allow keyboard events to be generated by things that are not actually keyboards (e.g., a virtual keyboard on a display), the release of normal key actuations is preferably not reported. A finite number of keyboard events can be inserted into the data service D. If the maximum number of events have already been contained, the data service D preferably discards the new keyboard events.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 2L","b":["238","216","238","238","238","216","238","238","238","226","238","238","238","238","238","238","238","238","238","238","226","238","238","226","238","238","238","238","238","238","238","238","238"]},"A customizable, tag-based document , which is produced by the info service C upon request, is illustrated at . A tag A <K:INFO> and its companion ending tag F <\/K:INFO> define an info element. The info element includes an attribute for defining the namespace of the keyboard service . The attribute is XMLNS:K containing an address \u201cHTTP:\/\/SCHEMAS.COM\/K\/I\u201d. Contained between tags A, F is a tag B <K:HASFUNCTIONKEYS>, which has the value TRUE if the keyboard has function keys, such as keys labeled F1 through F12. A tag C <K:HASNAVIGATIONKEYS> is set to TRUE if the keyboard has navigation keys, such as the four arrow keys, the INSERT key, the DELETE key, the HOME key, the END key, and the PAGE UP and PAGE DOWN keys. Tag D <K:HASNUMERICPADKEYS> is set to TRUE if the keyboard has a numeric keypad. State changes of the NUMLOCK key are not reported to the application service . Instead, the NUMLOCK key, which modifies the codes sent by other keys in the numeric keypad, is processed completely by the keyboard service . Tag E <K:HASWINDOWSKEYS> is set to TRUE if the keyboard has Windows keys.",{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 2N","b":["242","242","242","242","242","242","242","212","212","212","212","242","242","242","242","226","242","242","212"]},"The display service  includes an info service C with a port identifiable with a URI C- and a unilateral contract C-. See . The info service C includes a customizable, tag-based document . See . A tag A <D:INFO> and its companion ending tag E <\/D:INFO> define an info element holding a summary of the properties of the display . Tag B <D:W> contains the size of the width of the screen of the display  in pixels. Tag C <D:H> describes the size of the height of the screen of the display  in pixels. Tag D <D:FORMAT> describes the native pixel format of the screen of the display .","The display service  includes a cursor shape service D with a port identifiable by an identifier (such as a URI) D- and a unilateral contract D-. See . The cursor shape service D describes the current shape of the on-screen cursor C. The shape is described by a customizable, tag-based document . See . Tag A <D:SHAPE> and its companion ending tag G <\/D:SHAPE> define a shape element for the on-screen cursor C. Tag B <D:IMAGE> preferably contains a 128-byte block of image data (encoded using base-64 notation), which represents a 32\u00d732 two-level bitmap. The data is preferably in network byte order so that the most significant bit of byte  corresponds to location (,) of the bitmap, and the least significant bit of byte  corresponds to location (,) of the bitmap. Tag C <D:MASK> also holds a 128-byte block of data (encoded using base-64 notation), which represents a 32\u00d732 two-level bitmap. Again, the data of the mask element defined by tag C is preferably in network byte order so that the most significant bit of byte  corresponds to location (,) of the bitmap, and the least significant bit of byte  corresponds to location (,) of the bitmap. The bitmap of the mask element specifies which pixels are actually part of the on-screen cursor  (a 1 means the pixel is valid). The bitmap of the image element specifies the actual pixels (0 means black and 1 means white). The on-screen cursor C can be hidden by specifying a bitmap for the mask element where all bits are 0. Tag D <D:HOTSPOT> and its companion ending tag H <\/D:HOTSPOT> specify the offset between the cursor hotspot (which is the location actually coupled to the current location of the mouse) and the location (,) of the cursor bitmaps. Preferably, this will be a location within the cursor bitmaps, but the offsets are signed and so the hotspot can be outside the bitmaps in any direction. Between tags D, H is tag E <D:DH> for defining the horizontal offset. Tag F <D:DV> defines the vertical offset for the hotspot element.","The display service  includes a cursor position service E with a port identifiable by an identifier (such as a URI) E- and a unilateral contract E-. See . A customizable, tag-based document  describes the current, preferably absolute, position of the on-screen cursor C. See . Tag A <D:POSITION> and its companion ending tag D <\/D:POSITION> define a position element. Between tags A, D is tag B <D:H> for defining the horizontal position of the on-screen cursor C. The vertical position of the on-screen cursor C is defined by tag C <D:V>. The tag A includes an attribute XMLNS:D, which is defined to contain an address \u201cHTTP:\/\/SCHEMAS.COM\/P\/P\u201d.","The display service  includes one or more window services F with a port identifiable by an identifier (such as a URI) F- and a unilateral contract F-. See . Each instantiation of the window service F represents each corresponding window A, B. The window service F includes a customizable, tag-based document  for describing a window A, B that it is representing. See . Tag A <D:WINDOW> and its companion ending tag H <\/D:WINDOW> define a window element. Tag A includes an attribute XMLNS:D for defining the name space for the window element. The attribute XMLNS:D is equated to an address \u201cHTTP:\/\/SCHEMAS.COM\/D\/W\u201d. Between tags A, H is tag B <D:URI> for containing the info service URI C- of the display , upon which the window A, B being represented by the window service F is displayed. Tag C <D:T> and tag D <D:L> describe the coordinates of the top left corner of the window A, B on the screen of the display . The top left corner of the window A, B is preferably on the screen of the display . Tag E <D:W> and tag F <D:H> describe the size of the window A, B. If either the tag E or the tag F contain the zero value, then the window A, B covers no pixels on the screen of the display  and is invisible. Tag G <D:DROPTIME> describes the automatic drop time for the window A, B. If the value of the drop time element defined by tag G is non-zero, the window A, B is automatically deleted if the value of the drop time element is less than the current system global time.","The display service  includes a window list service G with a port identifiable by an identifier (such as a URI) G- and a unilateral contract G-. See . The window list G is used to maintain a list of windows A, B, which are actually shown on the screen of the display  in window stack order. The window list service G includes a customizable, tag-based document  for describing the order of presentation of windows A, B. See . Tag A <D:WINDOWS> and its companion ending tag D <\/D:WINDOWS> define the windows element. One or more tags <D:URI> B, C contain the URI of a window service, such as the window service URI F-. Tags B, C define two URI elements. The order of the URI elements defines the window stack order on the display . The first URI element in the list indicates that the window is at the front of the stack and the last URI element in the list indicates that the window is at the back of the stack.","The display service  includes one or more window update services H with a port identifiable by an identifier (such as a URI) H- and a unilateral contract H-. See . The application service  changes the pixels associated with the window A, B by creating a window update service H with an appropriate unilateral contract H-, associating the window update service H with the window A, B, and sending an update request to the window update service H to refresh or repaint the window A, B. Preferably, each format of data from the application service  has its own type of window update service H, each with its own unilateral contract H-. Preferably, all of the parameters needed to change the pixels associated with the window A, B are part of the state of the window update service H.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIGS. 3A-3F","FIG. 2I","FIG. 2L","FIG. 2P","FIG. 3B"],"b":["300","300","214","216","212","300","302","302"]},"From terminal A (), the method  proceeds to decision block  where a test is made to determine whether a key on the keyboard has been actuated. If the answer is NO, the method  loops back to decision block  and repeats the above-described processing step. Otherwise, if the answer to decision block  is YES, the method  proceeds to block  where a keyboard event is self-inserted into the data service D. At block , the application service  is notified of the insertion of the keyboard event. The application service  processes each keyboard event in order of time. See block . The method  proceeds to block  where the application service  sends a message to the data service D to delete the keyboard event that was processed. At block , the data service D of the keyboard service  removes the keyboard event that was processed. The method  then enters the exit terminal B.","From exit terminal B (), the method  proceeds to a set of method steps , defined between a continuation terminal (\u201cterminal C\u201d) and an exit terminal (\u201cterminal D\u201d). The set of method steps  describes the process by which a mouse service  processes mouse events (see ).","From terminal C (), the method  proceeds to decision block  where a test is made to determine whether the mouse has been actuated. If the answer to the test at decision block  is NO, the method  loops back to decision block  where the above-described processing step is repeated. Otherwise, the answer to the test at decision block  is YES, and the method  proceeds to block  where the mouse event is self-inserted into the data service D. At block , the application service  is notified of the insertion of the mouse event. The application service  processes each mouse event in order of time. See block . The method  proceeds to block , where the application service  sends a message to the data service D to delete the mouse event that was processed. At block , the data service D of the mouse service  removes the mouse event that was processed. The method  continues to exit terminal D.","From exit terminal D (), the method  proceeds to a set of method steps , defined between a continuation terminal (\u201cterminal E\u201d) and an exit terminal (\u201cterminal F\u201d). The set of method steps  describes the process by which a display service  processes display events (see ).","From terminal E (), the method  proceeds to decision block  where a test is made to determine whether to create a window. If the answer to the test at decision block  is YES, the method  proceeds to block  where the window service F is created with the URI F- identifying the window service F. At block , the created window service F is inserted into the window list service G by the application service , and thereby, controlling the stacking order of the windows A, B, on the screen of the display . If the answer to the test at decision block  is NO, the method  proceeds to another decision block . From block , the method  also continues to decision block . At decision block , a test is made to determine whether a window A, B needs to be updated with new pixels. If the answer is YES, the applicaion service  sends the desired update to the window update service H and the window update service H repaints the corresponding window A, B with new pixels. See block . If the answer to the test at decision block  is NO, the method proceeds to another continuation terminal (\u201cterminal E\u201d).","From terminal E (), the method  proceeds to decision block  where a test is made to determine whether there is a new cursor shape. If the answer is yes, the cursor shape service D is updated with a new image. At block , the cursor shape service D is updated with a new mask. From block , the method  proceeds to another decision block . If the answer is NO to decision block , the method  also continues to decision block . A test is made at decision block  to determine whether there has been a mouse event. If the answer to the test at decision block  is YES, the position of the on-screen cursor C is updated. See block . If the answer to the test at decision block  is NO, the method continues to another continuation terminal (\u201cterminal E\u201d). From block , the method  also continues to the exit terminal F. From terminal F (), the method  terminates execution.","While the preferred embodiment of the invention has been illustrated and described, it will be appreciated that various changes can be made therein without departing from the spirit and scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing aspects and many of the attendant advantages of this invention will become more readily appreciated as the same become better understood by reference to the following detailed description, when taken in conjunction with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 2A","FIGS. 2B-2C","FIG. 2A"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2D"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 2E","FIGS. 2F-2G","FIG. 2E"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 2H","FIGS. 2I-2J","FIG. 2H"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 2K","FIGS. 2L-2M","FIG. 2K"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2N"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 2O","FIGS. 2P-2T","FIG. 2O"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 3A-3E"}]},"DETDESC":[{},{}]}
