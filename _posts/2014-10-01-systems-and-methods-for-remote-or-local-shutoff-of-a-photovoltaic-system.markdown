---
title: Systems and methods for remote or local shut-off of a photovoltaic system
abstract: Systems and methods for shut-down of a photovoltaic system. In one embodiment, a method implemented in a computer system includes: communicating, via a central controller, with a plurality of local management units (LMUs), each of the LMUs coupled to control a respective solar module; receiving, via the central controller, a shut-down signal from a user device (e.g., a hand-held device, a computer, or a wireless switch unit); and in response to receiving the shut-down signal, shutting down operation of the respective solar module for each of the LMUs.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09377765&OS=09377765&RS=09377765
owner: TIGO ENERGY, INC.
number: 09377765
owner_city: Los Gatos
owner_country: US
publication_date: 20141001
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE TECHNOLOGY","BACKGROUND","SUMMARY OF THE DESCRIPTION","DETAILED DESCRIPTION"],"p":["The present application is a continuation application of U.S. patent application Ser. No. 13\/073,915, filed Mar. 28, 2011 and entitled \u201cSystems and Methods for Remote or Local Shut-Off of a Photovoltaic System\u201d, which is a continuation in part application of U.S. patent application Ser. No. 12\/895,745, filed Sep. 30, 2010, entitled \u201cSystems and Methods for a Communication Protocol between a Local Controller and a Master Controller,\u201d and issued as U.S. Pat. No. 8,773,236 on Jul. 8, 2014, which claims priority to Prov. U.S. Pat. App. Ser. No. 61\/335,004, filed Dec. 29, 2009 and entitled \u201cSystem and Method for an Enhanced Protocol between a local Controller and a Master Controller,\u201d the entire contents of which applications are hereby incorporated by reference as if fully set forth herein.","The present application is related to: U.S. Pat. No. 7,884,278, issued Feb. 8, 2011 and entitled \u201cApparatuses and Methods to Reduce Safety Risks Associated with Photovoltaic Systems\u201d, which has a continuation application issued as U.S. Pat. No. 7,807,919 on Oct. 5, 2010, and a continuation application published as U.S. Pat. App. Pub. No. 2011\/0061713 on Mar. 17, 2011; U.S. Pat. No. 8,823,218, issued Sep. 2, 2014 and entitled \u201cSystem and Method for Enhanced Watch Dog in Solar Panel Installations\u201d, which has a continuation application Ser. No. 14\/473,659, filed on Aug. 29, 2014; U.S. Pat. No. 7,602,080, issued Oct. 13, 2009 and entitled \u201cSystems and Methods to Balance Solar Panels in a Multi-Panel System\u201d; and U.S. Pat. App. Pub. No. 2010\/0139734, published Jun. 10, 2010 and entitled \u201cSystems and Methods for an Enhanced Watchdog in Solar Module Installations,\u201d the entire contents of which applications are hereby incorporated by reference as if fully set forth herein.","At least some embodiments disclosed herein relate to photovoltaic systems in general, and more particularly, but not limited to, the remote or local shut-off of a photovoltaic system.","When a photovoltaic panel or laminate is exposed to direct or diffuse light, a lethal voltage potential may be present. In the United States the possible voltage could be as high as 600 volts, while in Europe and the rest of the world this voltage could approach a kilovolt.","Because of the potential danger from electrical shock, solar system installers take a large guard band (or safety margin) to make sure the voltages don't cross the 600V or 1000V limits in the United States and the European Union, respectively. That limitation inhibits them from installing more solar panel modules, often referred to as \u201cmodules\u201d or \u201cpanels,\u201d in series to reduce the cost of combiner boxes or string inverters. When solar modules are connected in series or in mesh configurations, there can be a problem in which weaker modules not only produce less energy, but also affect other modules' capabilities to deliver energy in the same string or wiring section.","Also, potential danger from these high voltages may exist in various types of situations. For example, first responders, solar array installers, and maintenance personnel operating near solar arrays can be exposed to dangerous or lethal voltages. The danger can be even higher if certain wires are disconnected through theft, vandalism, accident, natural forces, or other causes. To protect first responders, solar array installers, and maintenance personnel, solar arrays can be turned off in an emergency. However, the systems used to turn off a solar array in an emergency may sometimes be damaged or disabled by the emergency (e.g., fire).","Systems and methods for remote or local shut-off of a photovoltaic system are described herein. Some embodiments are summarized in this section.","In one embodiment, a method implemented in a data processing system includes: communicating, via a central controller, with a plurality of local management units (LMUs), each of the LMUs coupled to control a respective solar module; receiving, via the central controller, a shut-down signal from a user device (e.g., a hand-held device, a computer, or a wireless switch unit); and in response to receiving the shut-down signal, shutting down operation of the respective solar module for each of the LMUs.","The disclosure includes methods and apparatuses which perform these methods, including data processing systems which perform these methods, and computer readable media containing instructions which when executed on data processing systems cause the systems to perform these methods.","Other features will be apparent from the accompanying drawings and from the detailed description which follows.","The following description and drawings are illustrative and are not to be construed as limiting. Numerous specific details are described to provide a thorough understanding. However, in certain instances, well known or conventional details are not described in order to avoid obscuring the description. References to one or an embodiment in the present disclosure are not necessarily references to the same embodiment; and, such references mean at least one.","Reference in this specification to \u201cone embodiment\u201d or \u201can embodiment\u201d means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the disclosure. The appearances of the phrase \u201cin one embodiment\u201d in various places in the specification are not necessarily all referring to the same embodiment, nor are separate or alternative embodiments mutually exclusive of other embodiments. Moreover, various features are described which may be exhibited by some embodiments and not by others. Similarly, various requirements are described which may be requirements for some embodiments but not other embodiments.","As used herein, a \u201csolar cell\u201d is a photovoltaic device configured to absorb photons and convert them into electrical energy. A \u201csolar module\u201d is a device that includes at least one or more solar cells, wherein the solar cells are connected in series or in parallel. A solar panel is one example of a solar module. The solar cells absorb photons and convert the photons into electrical energy. A power bus may be a conductive path connecting one or more solar modules in series.","At least some embodiments of the disclosure provide a system and method for the operation of distributed local management units (LMUs) in a photovoltaic energy system. The operation of one or more local management units in a photovoltaic energy system may be defined by a protocol. In particular, the protocol is typically able to recover from various kinds of errors. For example, the protocol may be self-adjusting in the case of errors and other operational problems that may arise. Also, the protocol may maintain certain safety aspects associated with the operation of the photovoltaic energy system (e.g., a maximum operating voltage and other desired parameters).","In one embodiment, each LMU attempts to communicate on a first active channel with a master management unit. Each LMU is coupled to control one solar module of a plurality of solar modules in the system. If the communication with the master management unit on the first active channel has been established, then the LMU proceeds to a configuration process. If the communication on the first active channel is not established (i.e., fails for some reason), the LMU attempts to communicate on a second active channel.","In one embodiment, the second active channel has a frequency different from the first active channel. If communication with the master management unit on the second active channel is established, then the LMU proceeds to the configuration process. If communication is not established after a predetermined total number of attempts or attempts on a predetermined number of channels, then the LMU proceeds to an error handling process.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 1","FIG. 1"],"b":["100","100","110","120","111","121","150","160"],"i":["a","n ","a","n","a","n ","a","n"]},"Each local management unit (LMU) has an antenna; in this exemplary illustration, only antennas and are numbered in , for simplicity and clarity of illustration. Combiner box  is typically used to combine the output of said multiple strings (i.e., -and -) of panels. Power busses  and  are connected to combiner box . For example, combiner box  may be used to house the wires, connections, etc., to combine the electricity generated from different solar panels, strings, subsystems, etc. Combiner box  is coupled to an inverter , for example, connected to power grid .","Master management unit (MMU)  (e.g., a master controller) is coupled to control each of the LMUs (e.g., by wireless communication via antennas and . MMU  acts as a gateway, connecting, for example, to the Internet , via connection , which may be wired, land line, Ethernet, wireless, or any other of various types of suitable connection. MMU  may store configuration profiles in a local database. MMU  may be updated or operated remotely from a remote server. For example, new profiles may be downloaded to MMU  using Internet .","In this example, MMU  has an antenna , which is used to communicate with the distributed LMUs. In some embodiments, one of the LMUs may act as the MMU for the system. The master management unit  is typically powered by the solar panels. However, it may be powered by alternative power sources, such as power grid .","Power line  may supply power to MMU , and in some cases, it could also transmit communications via power line communication between the MMU and LMUs, instead of using wireless communication. However, power line communication may exhibit problems similar to wireless communication, such as radio frequency (RF) interferences and other effects that may benefit from the use of active channel selection as described below. One example of power line communication is discussed in U.S. Pat. No. 8,653,689, issued Feb. 18, 2014 and entitled \u201cMethod and System for Current-Mode Power Line Communications,\u201d the entire contents of which is incorporated by reference as if fully set forth herein.","The structure as shown in  is one specific type of configuration, but other configurations may be used in other embodiments. For example, other system configurations may be as follows: 1) a set of solar panels, each connected to a parallel bus via a local management unit; 2) similarly as in , but with each string further connected to a parallel bus via a string management unit. In general, the operating protocol for the LMUs as described herein may be used with either a serial configuration (i.e., strings of local management units) or a parallel configuration (i.e., local management units on a parallel bus).","In one embodiment, an LMU may be provided for each solar panel, so that when the solar panels are connected into a system via the LMUs, the efficiency of the system as a whole is increased. In this embodiment, the LMUs are designed to keep each solar panel working at, or close to, its respective maximum power point, substantially independently from each other, even through the panels are connected together to form a system.","In addition to the efficiency consideration, the LMUs may also be configured to provide various features, such as safety, panel protection, etc., in various implementations. There are two possible types of LMUs that may be adapted for different types of basic connection configurations for solar panels: parallel and series. In a combination, strings of LMUs connected in serial may be each connected to a string management unit for parallel combinations of strings at a combiner box.","At a given working condition (e.g., sunlight exposure, temperature, etc.), the power output level of a solar panel is based on the voltage or current consumed by its load. At the given working condition, there is a maximum power point at which the solar panel outputs maximum power W, at current Iand voltage V. If the working voltage deviates from V(or the current from I), the power from the solar panel will be reduced.","In this embodiment, the LMUs permit individual solar panels to work at their maximum power points, while adjusting LMU outputs for efficient operations in serial or parallel connections. The solar panel works at the maximum power point W=I\u00d7V; and the combination of the solar panel and the LMU outputs W=I\u00d7V(since the LMU does not itself create power, and the power consumed by LMU is negligible).","In the parallel configuration, each of the solar panels is connected to an LMU to boost the voltage output V(while keeping the solar panel at its maximum power point W=I\u00d7V=I\u00d7V, thus reducing I). The solar panels are connected in parallel to a high voltage DC bus via their LMUs; and the DC bus can be used to power an inverter, which is tied to a power grid, to supply the grid.","In the serial configuration, each of the solar panels is connected to an LMU to boost the current output I(while keeping the solar panel at its maximum power point W=I\u00d7V=I\u00d7V, thus reducing V). The solar panels are connected in series via their LMUs; and the string of the solar panels (a serial power bus) can be used to power an inverter, which is tied to a power grid, to supply the grid.","In various embodiments, LMUs may have the following features:","a. LMUs for parallel connections are used to boost voltage (V>V). Each parallel LMU has a step up converter and has a maximum power point tracking circuit. Parallel LMUs are configured to output a substantially fixed voltage, allowing only very small variations from the nominal voltage of the high voltage DC bus.","b. LMUs for series connections typically boost current (I>I). The serial LMUs do not use step up converters or maximum power point tracking circuits. Serial LMUs receive duty cycles from a system management unit (e.g., master management unit ), which coordinates the output of the serial LMUs to improve the performance of the system. The system management unit adjusts the duty cycles of the serial LMUs to adjust the states of their respective solar panels.","In one embodiment, a solar panel has a few strings of solar cells (e.g., three solar cell strings per module). A local management unit can be applied to a group of cells within a string of an individual solar panel, or in some cases to each cell in a solar panel. A group of solar cells that are attached to a local management unit may be connected to each other in series, in parallel, or in a mesh configuration. A number of local management units connect the groups of the solar cells in a string to provide output for the solar panel. The foregoing is described further in U.S. Pat. No. 7,602,080, filed Oct. 13, 2009, entitled \u201cSystems and Methods to Balance Solar Panels in a Multi-Panel System\u201d by Hadar et al. (see, e.g., ), the entire contents of which is incorporated by reference as if fully set forth herein. Some embodiments of the disclosure include methods to determine the duty cycles and\/or phases for local management units connected to a string or mesh of solar modules.","In one embodiment, the system management unit controls the operations of the LMUs via a communication connection, which may be over the power line through which the solar panels deliver power, or over wireless connections, or via separate communication lines (e.g., as discussed above for ). In one embodiment, as a safety feature, each LMU may have a watchdog circuit, which cuts off its output if the heartbeat signal from the system management unit is missing. This allows the solar system to be completely shut down remotely (e.g., for fire-fighting, or cleaning, etc.).","In one embodiment, the MMU listens for new LMUs that may be attempting to communicate with the MMU, for example during set up of a new system, or during replacement of an LMU. The MMU may listen on certain predefined channels (e.g., selected communication frequencies) known to the LMU. After the LMU establishes communication with the MMU, the LMU restarts and again establishes communication with the MMU, but does so on a different channel different from these predefined channels. A remote server or other computer system may be used to provide configuration profiles to the MMU (e.g., over the Internet). This permits a local photovoltaic system to be configured remotely by providing updated profiles to the MMU, then restarting one or more LMUs using the new profiles.","In one embodiment, a plurality of local management units are configured to, under supervision of a master management unit, balance currents between the plurality of solar modules in the power bus. In one embodiment, the LMUs may be configured to balance voltages and currents between solar modules and between power buses. The LMUs can be implemented serially or in parallel. The foregoing configurations are further described in U.S. Pat. App. Pub. No. 2010\/0139734, published Jun. 10, 2010, entitled \u201cSystems and Methods for an Enhanced Watchdog in Solar Module Installations\u201d, the entire contents of which publication is incorporated by reference as if fully set forth herein.",{"@attributes":{"id":"p-0051","num":"0050"},"figref":["FIG. 2","FIG. 2"],"b":["200","202","201","201","204","204","204","203"],"sub":["0","z","n "],"i":["a","b","x "]},{"@attributes":{"id":"p-0052","num":"0051"},"figref":["FIG. 3","FIG. 3"],"b":"300"},"In step , the LMU unit wakes up. In step , the system checks to determine whether it has a predefined profile list of starting values (e.g., the output voltage for the solar panel controlled by the LMU; or power level and\/or initial channel to use for communications). If not (No), in step , the system sets a maximum value (e.g., maximum communications power or a default active channel). The maximum value may typically be for the output voltage that particular LMU contributes to its string, except in cases where local regulations require that the value be set lower than the maximum.","If the system finds a preset value in a profile (Yes), in step  the system sets the LMU at the preset value(s). Once the value is set for LMU operation in either step  or step , communication is attempted with the MMU on a first active channel. In step , the system checks to determine whether communication with the MMU has been established.","If communication is established (Yes), in step  the system communicates with the MMU in step  and in step , it receives one or more instructions from the MMU. In step , the system executes the instruction(s) it has received. In step , the system waits for a period (e.g., 1-5 seconds) whose value is contained in its profile list, and then it repeats the communication loop beginning again at step .","In cases where a communication error occurs in step , the system moves to step  and commences an error treatment protocol, for example as described below or otherwise. Examples of errors may include detection of a non-existing command, a mismatch in the MMU identification number, etc.","If the system finds, in step , that communication is not established (No), in step  the system attempts to establish communication by setting the channel fto the frequency of initial active channel fand, in step , scanning f. In step , the system checks to see if communication is then established on this new active channel. If it is (Yes), the system continues to the sequence of steps starting with step , as described above. If, in step , communication is not established (No), in step  the system increments the then-active channel fto the next available channel f+1 (i.e., channel f).","In step , the system checks to see if the next incremental channel exceeds the maximum number of available channels (e.g., a predetermined maximum number of channels stored in the LMU start-up profile). If the maximum is not exceeded (No), the system returns to step  and continues to scan succeeding active channels until either it establishes communication or it exceeds the maximum number of channels. In the case of exceeding the maximum number of available channels in step  (Yes), the system moves to step  and commences an error treatment protocol. An error treatment protocol may include one or more of various approaches. One typical approach would reset the LMU and start again at step . Another approach would shut down the LMU; while yet another would loop back to step  and try again.","The section below entitled \u201cEXEMPLARY PROTOCOL COMMUNICATION INFORMATION\u201d shows specific examples of the protocol of communications between an exemplary distributed LMU and an exemplary MMU. This protocol shows how a system can self-detect elements, available channels, etc., thus reducing setup efforts. This is advantageous with the use of wireless communications, as channels may be blocked by outside sources of interference (e.g., as discussed for  above), and the system desirably should be able to self-reconfigure in such situations.",{"@attributes":{"id":"p-0060","num":"0059"},"figref":["FIG. 4","FIG. 1"],"b":["400","420","110","120","421","400"],"i":["a,b ","a,b "]},"Core LMU  has switches ,  and , plus controller . A diode  provides a voltage drop in the case of a short of switch , to ensure enough voltage to operate controller . Modem  and\/or wireless network interface  are coupled to controller  to permit communications with the LMUs. In some cases, modem  connects to the string wiring (e.g., to modulate control signals onto the wiring at control frequencies higher than the normal operating frequencies used in power busses  and ).","In other cases, wireless network interface  has an antenna  to use for communications with the LMUs. The network communications type used may be one of many different types of conventional wireless networks. The use of wireless communication may be advantageous in some cases by reducing the number of hardwire points of failure, and thus increasing the simplicity of system setup or the reliability of system operation.","In most cases, an LMU does not have both a modem  and a wireless network interface . Typically, a system contains only one or the other, but in some cases, these may be, for example, plug-in modules. In other cases, both components may be present, but only one may be activated. Controller  may be configured for operation by additional software code  that may include, in addition to other previously discussed features for a communication protocol, code for implementing a shut-off system.","In , a local management unit  according to another embodiment is illustrated. Local management unit  provides two connectors  and  for serial connections with other local management units  to form a serial power bus (e.g., power bus  or  of ). Note that in other embodiments, a parallel configuration of LMUs may be used.","A controller  controls the states of switches Q1  and Q2 . When the controller  turns on switch , the panel voltage and the capacitor C1  are connected in parallel to the connectors  and . The output voltage between the connectors  and  is substantially the same as the output panel voltage. During the period the switch  is turned off (open), the controller  turns on (closes) the switch Q2  to provide a path around the diode D1  to improve efficiency.","When the switch  is turned off (open), the panel voltage charges the capacitor C1 , such that when the switch  is turned on, both the solar panel and the capacitor  provides currents going through the connectors  and , allowing a current larger than the current of the solar panel to flow in the string (e.g., the serial power bus  or  of ). When the switch  is turned off (open), the diode D1  also provides a path between the connectors  and  to sustain the current in the string, even if the switch  is off for some reason. In one embodiment, the controller  is connected (not shown) to the panel voltage to obtain the power for controlling the switches Q1  and Q2 .","In one embodiment, the controller  is further connected (not shown) to at least one of the connectors  and  to transmit and\/or receive information from the string. In one embodiment, the controller  includes sensors (not shown) to measure operating parameters of the solar panel, such as panel voltage, panel current, temperature, light intensity, etc.","Additional information regarding local management units, and the operation thereof, that may be used in some embodiments of the present disclosure is described in U.S. Pat. No. 7,602,080, filed Oct. 13, 2009, entitled \u201cSystems and Methods to Balance Solar Panels in a Multi-Panel System,\u201d the entire contents of which is incorporated by reference as if fully set forth herein.",{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 6","b":["600","100","600","600","600"]},"CPU  is connected to bus , to which bus is also connected memory , non-volatile memory , display , I\/O unit , and network interface card (NIC) . I\/O unit  may, typically, be connected to keyboard , pointing device , hard disk , and real-time clock . NIC  connects to network , which may be the Internet or a local network, which local network may or may not have connections to the Internet. Also shown as part of system  is power supply unit  connected, in this example, to AC supply . Not shown are batteries that may be present in some embodiments, and many other hardware devices and modifications thereof that are well known for use in such computer systems, but are not directly applicable to the specific novel functions of the system and method disclosed herein. Although  illustrates various components of a computer system, it is not intended to represent any particular architecture or manner of interconnecting the components. Other systems that have fewer or more components may also be used.","In other embodiments, typical I\/O devices may include mice, modems, network interfaces, printers, scanners, video cameras and other devices which are well known in the art. The bus  may include one or more buses connected to one another through various bridges, controllers and\/or adapters. In one embodiment, the I\/O unit  includes a USB (Universal Serial Bus) adapter for controlling USB peripherals, and\/or an IEEE-1394 bus adapter for controlling IEEE-1394 peripherals.","In other embodiments, memory may include ROM (Read Only Memory) and volatile RAM (Random Access Memory). Non-volatile memory may include, for example, a hard drive, flash memory, etc. Volatile RAM is typically implemented as dynamic RAM (DRAM) which requires power continually in order to refresh or maintain the data in the memory. Non-volatile memory is typically a magnetic hard drive, a magnetic optical drive, or an optical drive (e.g., a DVD RAM), or other type of memory system which maintains data even after power is removed from the system. The non-volatile memory may also be a random access memory.","The non-volatile memory can be a local device coupled directly to the rest of the components in the data processing system. A non-volatile memory that is remote from the system, such as a network storage device coupled to the data processing system through a network interface such as a modem or Ethernet interface, can also be used.","In some embodiments, one or more servers of the system can be replaced with the service of a peer to peer network of a plurality of data processing systems, or a network of distributed computing systems. The peer to peer network, or a distributed computing system, can be collectively viewed as a server data processing system.","Embodiments of the disclosure can be implemented via the processor(s)  and\/or the memory \/. For example, the functionalities described can be partially implemented via hardware logic in the processor(s)  and partially using the instructions stored in the memory  and\/or . Some embodiments are implemented using the processor(s)  without additional instructions stored in memory. Some embodiments are implemented using the instructions stored in the memory for execution by one or more general purpose microprocessor(s). Thus, the disclosure is not limited to a specific configuration of hardware and\/or software.","As mentioned previously above, examples of additional communications protocol embodiments are described further in the section below entitled \u201cEXEMPLARY PROTOCOL COMMUNICATION INFORMATION\u201d. Specific examples of communication packet data structures and communication commands that may be used in specific implementations of the various embodiments described above are included in this section.","In one embodiment, communications are attempted using this exemplary communication protocol, from a first local management, on a first active channel with the MMU. Next, it is determined if communication with the MMU has been established. In response to a determination that the communication on the first active channel has not been established, communication is attempted on a second active channel with the MMU, the second active channel having a frequency different from the first active channel. Then, it is determined if communication with the master management unit on the second active channel has been established. If so, then the LMU continues with a configuration or start-up process.","In one embodiment, the method further comprises after the communication on the second active channel has been established, receiving a first communication from the master management unit. In one embodiment, the first communication comprises an instruction (e.g., a command), and the method further comprises executing the instruction on the first local management unit. In one embodiment, the plurality of local management units are connected in series. In another embodiment, the plurality of local management units are connected in parallel.","In one embodiment, the communication on the first active channel is at a predetermined frequency used by the master management unit for establishing communication with new local management units being added to the system. In one embodiment, the method further comprises after communication with the master management unit has been established, restarting the first local management unit and subsequently communicating with the master management unit at a frequency other than the predetermined frequency.","In one embodiment, the method further comprises communicating from the first local management unit to the master management unit an identification code (e.g., Unit ID) associated with the first local management unit; and receiving a profile from the master management unit, the profile corresponding to the identification code. In one embodiment, the method further comprises in response to receiving the identification code, retrieving, via the master management unit, the profile from a database that includes a plurality of different profiles suitable for configuration of local management units.","In one embodiment, the first local management unit comprises an antenna, and the attempting to communicate on the first active channel comprises sending a wireless signal via the antenna. In one embodiment, the method further comprises after the communication on the second active channel has been established, determining that an error has occurred in communication with the master management unit; and in response to the error, initiating an error treatment protocol for the first local management unit.","In one embodiment, the method further comprises: in response to a determination that the communication on the second active channel has not been established, attempting to communicate on a third active channel with the master management unit, the third active channel having a frequency different from the first and second active channels; determining if communication with the master management unit on the third active channel has been established; in response to a determination that the communication on the third active channel has not been established, determining whether a predetermined number of available channels for communication with the master management unit has been exceeded; and in response to a determination that the predetermined number has been exceeded, initiating an error treatment protocol for the first local management unit.","In one embodiment, the method further comprises: prior to the attempting to communicate on the first active channel, waking up the first local management unit; after the waking up, determining whether the first local management unit is storing a configuration profile; in response to a determination that the first local management unit is not storing the configuration profile, communicating to the master management unit a first identification code associated with the first local management unit; receiving a first profile from the master management unit, the first profile corresponding to the first identification code, and the first profile including a time period; and configuring the first local management unit using the first profile.","In one embodiment, the method further comprises: after the communication on the second active channel has been established, receiving a first instruction from the master management unit; executing the first instruction on the first local management unit; after the executing the first instruction, waiting for the time period; after the waiting, communicating with the master management unit to receive a second instruction; and executing the second instruction on the first local management unit.","In one embodiment, the method further comprises: establishing communication with the master management unit from a second local management unit of the plurality of local management units; and communicating to the master management unit a second identification code associated with the second local management unit; receiving a second profile from the master management unit, the second profile corresponding to the second identification code; and configuring the second local management unit using the second profile.","In one embodiment, a local management unit comprises memory storing software instructions, and a controller coupled to the memory. The controller is configured via the software instructions to execute a method comprising: controlling, under supervision by a master management unit, a first solar module of a plurality of solar modules, the master management unit coupled to supervise a plurality of local management units, wherein the plurality of local management units are coupled by a power bus, and each one of the plurality of local management units controls a respective one of the plurality of solar modules, attempting to communicate on a first active channel with the master management unit, determining if communication with the master management unit on the first active channel has been established, in response to a determination that the communication on the first active channel has not been established, attempting to communicate on a second active channel with the master management unit, the second active channel having a frequency different from the first active channel, and determining if communication with the master management unit on the second active channel has been established.","In one embodiment, the system further comprises a modem or wireless network interface to attempt to communicate with the master management unit on the first active channel. In one embodiment, the plurality of local management units are configured to, under supervision of the master management unit, balance currents between the plurality of solar modules in the power bus.","In one embodiment, a non-transitory computer-readable storage medium tangibly stores computer readable instructions. The instructions cause a computer or data processing system to perform a method comprising: attempting to communicate, from a first local management unit of a plurality of local management units, on a first active channel with a master management unit, each of the plurality of local management units coupled to control a respective solar module of a plurality of solar modules; determining if communication with the master management unit on the first active channel has been established; in response to a determination that the communication on the first active channel has not been established, attempting to communicate on a second active channel with the master management unit, the second active channel having a frequency different from the first active channel; and determining if communication with the master management unit on the second active channel has been established.","In one embodiment, method further comprises: communicating from the first local management unit to the master management unit an identification code associated with the first local management unit; and receiving a profile from the master management unit, the profile corresponding to the identification code.","Remote or Local Shut-Off of Photovoltaic System","Various embodiments of systems and methods for remote or local shut-off of a photovoltaic system are now described below in more detail. In one embodiment, a method includes: communicating, via a central controller (e.g., master management unit  as described above), with a plurality of local management units (LMUs), each of the LMUs coupled to control a respective solar module; receiving, via the central controller, a shut-down signal from a user device (e.g., a hand-held device such as a Blackberry mobile phone, a computer such as a Dell desktop computer, or a wireless switch unit such as a button coupled to communicate an off-signal via a radio); and in response to receiving the shut-down signal, shutting down operation of the respective solar module for each of the LMUs.","In one embodiment, the wireless switch unit comprises a radio configured to transmit the shut-down signal. In one embodiment, the wireless switch unit further comprises a battery, and the radio is further configured to transmit a charge status of the battery to the central controller.","In another embodiment, the hand-held device is configured to wirelessly communicate the shut-down signal. The hand-held device may comprise a transceiver for voice communications, and the hand-held device may be further configured to receive a user input via a web page displayed on the device, the user input to initiate sending of the shut-down signal to the central controller. In one example, the hand-held device may receive an access code from a user prior to providing access to the web page (e.g., to provide security and prevent unauthorized access).","In one embodiment, the computer is configured to wirelessly communicate the shut-down signal, the computer comprises at least one processor and a display, and the at least one processor is configured to present, via the display, a user interface to receive input requesting communication of the shut-down signal.","In one embodiment, the central controller comprises a controlling block (e.g., software executing on a processor of the central controller), each of the LMUs comprises respective software configured to receive commands from the central controller, and the shutting down the operation comprises sending, via the controlling block, a shut-down command to the respective software of each LMU.","In one embodiment, the central controller and the user device are each coupled to communicate with a web server, and the shut-down signal is received by the central controller via the web server. In one embodiment, the user device displays a web page hosted by the web server, and the web page is configured to receive a user input, and the method includes sending the shut-down signal in response to receiving the user input. In one embodiment, the method further comprises identifying the user device based on a GPS location of the user device or a local area network identifier of the user device.","In one embodiment, the shutting down the operation comprises sending a shut-down command to each of the LMUs to shut down operation of the LMU's respective solar module. In another embodiment, the method includes sending pulse or heartbeat signals to each of the LMUs during normal operation, and the shutting down the operation is accomplished by terminating the sending the pulse or heartbeat signals.","In one embodiment, a local management unit comprises memory storing software instructions; and a controller coupled to the memory, the controller configured via the software instructions to execute a method comprising: controlling, under supervision by a central controller, a first solar module of a plurality of solar modules, the central controller coupled to supervise a plurality of local management units, wherein the plurality of local management units are coupled by a power bus; and receiving a shut-down command from the central controller to shut down operation of the first solar module, wherein the central controller sends the shut-down command in response to receiving a shut-down signal from a user device (e.g., a hand-held device, a computer, or a wireless switch unit).","In one embodiment, the method further comprises receiving communications from the central controller, the communications including a first communication, and determining whether the first communication includes the shut-down command. In response to receiving the shut-down command, operation of the first solar module is shut down (e.g., via control actions by the LMU). In one embodiment, this shut-down may correspond to a reduced power or voltage level of operation of a solar module, rather than a complete shutting down of all power or voltage.","In one embodiment, the method may further comprise determining whether the first communication is received after a time-out occurs, and shutting down operation of the first solar module in response to the time-out. The time-out may occur, for example, if a watchdog timer started after receipt of a prior communication expires before a subsequent communication (i.e., the first communication) is received.","In one embodiment, the local management unit comprises at least one communication device (e.g., a modem) for communicating with the central controller, and the method further comprises verifying operation of the at least one communication device (e.g., determining that the modem is working properly).","In one embodiment, a non-transitory computer-readable storage medium tangibly stores thereon computer readable instructions, the instructions causing a data processing system to perform a method, the method comprising: receiving, via a local management unit, communications from a central controller; controlling, via the local management unit, a solar module; determining whether the communications include a shut-down command; and in response to receiving the shut-down command, shutting down operation of the solar module, wherein the central controller sends the shut-down command in response to receiving a shut-down signal from a user device.","In some embodiments, a watchdog system for shut-down of a photovoltaic system (e.g., a system using a watchdog timer approach similar to the system described earlier above) may be used for various types or kinds of emergencies that may arise. Other than for this use of a watchdog system, an operator-initiated emergency shut-down or shut-off system may be needed or desired in cases such as situations that are not precipitated by a loss of connectivity to a central controller, etc. (i.e., an event or emergency that is not of a type that the watchdog system is designed to handle), but that still requires a photovoltaic system shut-down to create a safe environment for personnel such as firemen, service technicians, etc., or a shut-down for other reasons.","As mentioned above, solar system installers take a large guard band (or safety margin) to make sure voltages don't cross the 600V or 1000V limits in the United States and the European Union. That limitation inhibits them from installing a larger number of solar panel modules in series, which increases the balance-of-system costs due to the need for a larger number of combiner boxes or string inverters. When solar modules are connected in series or in mesh configurations, there can be a problem whereby weaker modules not only produce less energy, but also affect other modules' capabilities to deliver energy in the same string or wiring section. Various embodiments of a system and method to shut down a photovoltaic solar panel system (PVSP), either locally and\/or remotely, in a safer and more convenient manner are now described below.",{"@attributes":{"id":"p-0104","num":"0103"},"figref":["FIG. 7","FIG. 7"],"b":["1500","1505","1506","501","1514","1502","1503"],"i":["a","n ","a","n "]},"A central controller  (e.g., such as master management unit  described above) is connected to Internet  (and\/or another network in other embodiments). An example of a central controller  is described in U.S. Pat. App. Pub. No. 2009\/0234692, published Sep. 17, 2009, entitled \u201cMethod and System for Configuring Solar Energy Systems,\u201d which is hereby incorporated by reference as if fully set forth herein.","Central controller  may contain a microprocessor running various different software instances, referred to in total as software . Different sections or modules of this software may perform different tasks that are described below. Also, illustrated in  for this example are a hand-held device  and a computer  (e.g., a PC-type or desktop computer, or a laptop or tablet computer). In this exemplary illustration, computer  is connected to Internet  as indicated by connection , but in other cases it may be connected wirelessly (not shown).","Hand-held device  may connect wirelessly to a tower  via a connection , which tower  then connects to a cell phone company (not shown) via, for example, the Internet. In other cases, hand-held device  may use, for example, a wireless LAN (local area network) connection  between a local LAN antenna  and a wide area network (WAN) antenna  at the central controller . Also, in the case of a wireless implementation, each of LMUs -has its own respective one of antennas -","In some cases, a gateway (not shown) may be connected to central controller . A gateway may, for example, communicate with controller  in any of three communication types: RS-485, DC-power line communication (DC-PLC), or wireless communication. In a typical system, this gateway uses RS-485 on one side and another means of communication, either DC-PLC or wireless, on the other side. The gateway typically is installed next to the solar panels, where there is better wireless reception, or may be tapped to the DC line for DC-PLC. In cases where the panels are not near a means of communication, controller  may be placed next to the Internet in an electrical room (e.g., if the solar panels are located in a field, controller  and\/or the gateway can be placed in or near a utility room, rather than in the field). One or more gateways may connect to the central controller  as needed or desired. In one example, where there only a single gateway is used, the gateway may be fitted inside the controller .",{"@attributes":{"id":"p-0109","num":"0108"},"figref":"FIG. 8","b":["1506","1601","1603","1604","1606","1602","1605","1604","1602","1607","1514","1608","1507","1607","1608","1602","1609"]},{"@attributes":{"id":"p-0110","num":"0109"},"figref":"FIG. 9","b":["700","1506","1506","710","1501","701","1607","1608"]},"In step , the code checks to see if the communication devices have received any communications since the last check. If not (no), the process moves to step , where, if the code detects no time-out (no) (e.g., by counting and\/or using a watchdog timer as previously described), the process ends at step . At step , if the code detects that the communication devices have received a communication since the last check (yes), the process moves to step , where the code checks to see if the communication was a shut-down command. If not (no), the process again moves to step . If the communication was a shut-down command (yes), at step  the code implements a shut-down operation (e.g., shut-down of the solar panel  connected to and controlled by LMU ) by adjusting switches , , and  to shut down the attached solar module, and then the process moves to step . As previously described, the illustrated switches are indicated as mechanical switches, but in a typical implementation they are semiconductor-type switches, such as MOSFET transistors or other, similar switches, although they may be switches of any type suitable for the described function.","In step , if the code detects a time-out (yes), the process moves to a shut-down in step  (e.g., this is one exemplary, simplified embodiment of a watchdog). The two procedures (i.e., checking for a time-out command and checking for a shut-down command) may be completely independently, in which case the code would not check for a time-out; however, it often is desirable to combine them. Additional steps may be added to process  for further refinement or addition of other functions in various embodiments.",{"@attributes":{"id":"p-0113","num":"0112"},"figref":"FIG. 10","b":["800","800","1501","805","803","802","806","801"]},"In alternative embodiments, switch unit  may use other types of mechanical switches or buttons in order to permit a user to activate a manual switching function by using switch unit . In addition, switch unit  may check in via its radio on a regular basis with the central controller  (e.g., every 1-10 milliseconds, or every 5-30 seconds). It may also send other communications such as, for example, a report on the status of battery , so that the central controller  may issue warnings for conditions such as low battery, intermittent battery, etc.","There may also be in some cases a separate watchdog monitoring for loss of signal between the switch unit  and the central controller , in a manner similar to the examples described previously. One advantage of switch unit  is that it may be placed in a convenient location, where it may be the case that electrical system wiring is not accessible or not installed, but that switch unit  could be used to implement a system shut-down when needed (e.g., an emergency such as a fire). Alternatively, a shut-off switch may be wired directly into central controller  (not shown).","Similar to some typical emergency switches, the button  may in some embodiments include a mechanical latching mechanism, enabling the system to remain off until a specific \u201cun-latch\u201d procedure is used, such as turning the button or a key. In these embodiments, the switch unit  may have a feedback mechanism to visually (e.g., by flashing light) or audibly (e.g., by sound generator via a speaker) indicate when the system has been and\/or continues to be inactive. The switch unit  may be marked to identify its functionality and differentiate it from a traditional DC or AC disconnect mechanism.",{"@attributes":{"id":"p-0117","num":"0116"},"figref":"FIG. 11","b":["900","1509","1509","1501","1509","1501"]},"In one embodiment, central controller  identifies device  based, for example, on a GPS location (e.g., as communicated from the device) or wireless LAN access, for which it is unnecessary for a user to enter an ID, as long as the device  uses local access using, for example, a MAC ID for user identification. In such a case, a user would only enter his access code in field  (e.g., of user interface ), and then by pushing button  the user could sign-off from this user function. Button or entry device  (e.g., a trackball) may be used to manipulate the system (e.g., manipulate an input function of the user interface  of device ).","In addition to the normal operating system of device , code  is installed in device  as, for example, an application or as a web browser plug-in, or as any combination thereof. The code  implements a process to communicate with controller . In some embodiments, a web page may be hosted by central controller . In other embodiments, one or more additional servers on the Internet (e.g., a web server, not shown) may be involved in providing this service of allowing communication between device  and central controller .",{"@attributes":{"id":"p-0120","num":"0119"},"figref":"FIG. 12","b":["1000","1508","1001","1004","1005","1001","1007","1006","1003","1002","901","1508","1508"]},{"@attributes":{"id":"p-0121","num":"0120"},"figref":["FIG. 13","FIG. 13"],"b":["1100","1508","1509","800","1504","1102","1103","1501","1101"]},"Logically, the respective software  executing in devices , , and  communicates with web page software  (e.g., residing on central controller ) to receive these communications with embedded commands, for example, such as shut-off, restart, or other command as may be used in the system. These commands are then interpreted and transferred internally through internal messaging  to controlling block  (e.g., implemented as software that resides on central controller ), which then sends out the commands through logical connections -to software -residing in each of LMUs -. These LMUs are, in turn, connected to communication means -, which may be either directly wired on the string wiring or wirelessly through either units  or , respectively, to central controller .","In one embodiment, commands may be sent via communication means -. In another embodiment, communication with each of the LMUs via communication means -may be different and independent of communications via the logical connections -(e.g., for implementing functions not controlled by the embedded commands). Also, a variety of different protocols, wired and\/or wireless, may be used for communications via means -. For example, each of LMUs  may communicate with central controller  via a different protocol.","In this description, various functions and operations may be described as being performed by or caused by software code to simplify description. However, those skilled in the art will recognize what is meant by such expressions is that the functions result from execution of the code by a processor, such as a microprocessor. Alternatively, or in combination, the functions and operations can be implemented using special purpose circuitry, with or without software instructions, such as using an Application-Specific Integrated Circuit (ASIC) or a Field-Programmable Gate Array (FPGA). Embodiments can be implemented using hardwired circuitry without software instructions, or in combination with software instructions. Thus, the techniques are limited neither to any specific combination of hardware circuitry and software, nor to any particular source for the instructions executed by the data processing system.","While some embodiments can be implemented in fully functioning computers and computer systems, various embodiments are capable of being distributed as a computing product in a variety of forms and are capable of being applied regardless of the particular type of machine or computer-readable media used to actually effect the distribution.","At least some aspects disclosed can be embodied, at least in part, in software. That is, the techniques may be carried out in a computer system or other data processing system in response to its processor, such as a microprocessor, executing sequences of instructions contained in a memory, such as ROM, volatile RAM, non-volatile memory, cache or a remote storage device.","Routines executed to implement the embodiments may be implemented as part of an operating system, middleware, service delivery platform, SDK (Software Development Kit) component, web services, or other specific application, component, program, object, module or sequence of instructions referred to as \u201ccomputer programs.\u201d Invocation interfaces to these routines can be exposed to a software development community as an API (Application Programming Interface). The computer programs typically comprise one or more instructions set at various times in various memory and storage devices in a computer, and that, when read and executed by one or more processors in a computer, cause the computer to perform operations necessary to execute elements involving the various aspects.","A machine readable medium can be used to store software and data which when executed by a data processing system causes the system to perform various methods. The executable software and data may be stored in various places including for example ROM, volatile RAM, non-volatile memory and\/or cache. Portions of this software and\/or data may be stored in any one of these storage devices. Further, the data and instructions can be obtained from centralized servers or peer to peer networks. Different portions of the data and instructions can be obtained from different centralized servers and\/or peer to peer networks at different times and in different communication sessions or in a same communication session. The data and instructions can be obtained in entirety prior to the execution of the applications. Alternatively, portions of the data and instructions can be obtained dynamically, just in time, when needed for execution. Thus, it is not required that the data and instructions be on a machine readable medium in entirety at a particular instance of time.","Examples of computer-readable media include but are not limited to recordable and non-recordable type media such as volatile and non-volatile memory devices, read only memory (ROM), random access memory (RAM), flash memory devices, floppy and other removable disks, magnetic disk storage media, optical storage media (e.g., Compact Disk Read-Only Memory (CD ROMS), Digital Versatile Disks (DVDs), etc.), among others.","In general, a machine readable medium includes any mechanism that provides (e.g., stores) information in a form accessible by a machine (e.g., a computer, network device, personal digital assistant, manufacturing tool, any device with a set of one or more processors, etc.).","In various embodiments, hardwired circuitry may be used in combination with software instructions to implement the techniques. Thus, the techniques are neither limited to any specific combination of hardware circuitry and software nor to any particular source for the instructions executed by the data processing system.","Although some of the drawings illustrate a number of operations in a particular order, operations which are not order dependent may be reordered and other operations may be combined or broken out. While some reordering or other groupings are specifically mentioned, others will be apparent to those of ordinary skill in the art and so do not present an exhaustive list of alternatives. Moreover, it should be recognized that the stages could be implemented in hardware, firmware, software or any combination thereof.",{"@attributes":{"id":"p-0133","num":"0132"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"EXEMPLARY PROTOCOL COMMUNICATION INFORMATION"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003A. Message Level"},{"entry":"\u2003Command Summary"},{"entry":"\u20030x02-data request"},{"entry":"\u20030x03-data response"},{"entry":"\u20030x04-request NO DATA response"},{"entry":"\u20030x05-no data response"},{"entry":"\u20030x06-general parameter error response"},{"entry":"\u20030x08-send broadcast request"},{"entry":"\u20030x09-send broadcast response"},{"entry":"\u20030x0a-send version request"},{"entry":"\u20030x0b-send version response"},{"entry":"\u20030x0c-set channel"},{"entry":"\u20030x0d-set channel response"},{"entry":"\u20030x0e-read channel"},{"entry":"\u20030x0f-read channel response"},{"entry":"\u20030x10-Hard reset of Gateway"},{"entry":"\u20030x11-Response to hard reset"},{"entry":"\u20030x12-STORE settings"},{"entry":"\u20030x13-Response to STORE settings"},{"entry":"\u20030x14-Set unit ID"},{"entry":"\u20030x15-Set unit ID response"},{"entry":"\u20030x16-Get unit ID"},{"entry":"\u20030x17-Get unit ID response"},{"entry":"\u2003----diagnostic------"},{"entry":"\u20030x100-Echo command"},{"entry":"\u20030x101-Echo response"},{"entry":"(0x02) Get data request: Sent to request lines of LMU data from the Gateway"},{"entry":"\u2003<command> = 0x02"},{"entry":"\u2003<body> = <line count> <seq ID>"},{"entry":"\u2003<line count> Number of lines desired, 16 bits, high byte first"},{"entry":"\u2003<seq ID> Starting sequence number desired, 32 bits, high byte first"},{"entry":"\u2003Responses: 0x03-data response; 0x05-no data response"},{"entry":"(0x03) Data Response: Sent to supply LMU data to the MMU"},{"entry":"\u2003<response> = 0x03"},{"entry":"\u2003<body> = <line count> <delimiter> <LMU line> . . ."},{"entry":"\u2003<line count> Count of available lines, 16 bits, high byte first"},{"entry":"\u2003<delimiter> 0xDDDD, 16 bites, high byte first"},{"entry":"\u2003<LMU line> = . . . "},{"entry":"(0x04) Get NO data request: Sent to request sequence number limits"},{"entry":"\u2003<command> = 0x04"},{"entry":"\u2003<body> = <empty>"},{"entry":"\u2003Responses: 0x05-no data response"},{"entry":"(0x05) No Data Response: Sent to indicate to the MMU that the requested sequence ID"},{"entry":"\u2003is not yet in the buffer"},{"entry":"\u2003<response> = 0x05"},{"entry":"\u2003<body> = <Seq ID first> <Seq ID next>"},{"entry":"\u2003<Seq ID first> First available Seq ID, 32 bits, high byte first"},{"entry":"\u2003<Seq ID next> \u201cCurrent\u201d Seq ID (highest + 1), 32 bits, high byte first"},{"entry":"(0x06) General parameter error response: Sent to indicate a parameter error."},{"entry":"\u2003<response> = 0x06"},{"entry":"\u2003<body> = <empty>"},{"entry":"(0x08) Send Broadcast Request: Sent to load data to the beacon payload in the"},{"entry":"Gateway"},{"entry":"\u2003<command> = 0x08"},{"entry":"\u2003<body> = <ascii bytes>"},{"entry":"\u2003<ascii bytes> Up up 40 ascii bytes. . . ."},{"entry":"\u2003Responses: 0x09-send broadcast response"},{"entry":"(0x09) Send Broadcast Response: Sent in response to a broadcast command"},{"entry":"\u2003<command> = 0x09"},{"entry":"\u2003<body> = <empty>"},{"entry":"(0x0a) Send Version Request: Request version and build strings"},{"entry":"\u2003<command> = 0x0a"},{"entry":"\u2003<body> = <empty>"},{"entry":"\u2003Responses: 0x0b-Send Version Response"},{"entry":"(0x0b) Send Version Response"},{"entry":"\u2003<response> = 0x0b"},{"entry":"\u2003<body> = <version string> <build date> <build time>"},{"entry":"\u2003<version string> Delimited ascii string (CR delimiter), Typ: \u201cGateway Version"},{"entry":"\u200300.6a\u201d"},{"entry":"\u2003<build date> Delimited ascii string (CR delimiter), Typ: \u201cBuild Aug. 24, 2009\u201d"},{"entry":"\u2003<build time> Delimited ascii string (CR delimiter), Typ: \u201c10:00:38\u201d"},{"entry":"(0x0c) Set Channel Request: Sets new channel in gateway. Gateway is "},{"entry":"radio is then forcibly restarted with a hammer."},{"entry":"\u2003<command> = 0x0c"},{"entry":"\u2003<body> = <desired channel>"},{"entry":"\u2003<desired channel> Channel number between 11 and 26 (dec), 16 bit, high"},{"entry":"\u2003byte first"},{"entry":"\u2003Responses: 0x06-Bad parameter response; 0x0d-Set Channel Response"},{"entry":"(0x0d) Set Channel Response"},{"entry":"\u2003<response> = 0x0d"},{"entry":"\u2003<body> = <empty>"},{"entry":"(0x0e) Get Channel Request"},{"entry":"\u2003<command> = 0x0e"},{"entry":"\u2003<body> = <empty>"},{"entry":"\u2003<current channel> Channel number between 11 and 26 (dec), 16 bit, high byte"},{"entry":"\u2003first"},{"entry":"\u2003Responses: 0x0d-Get Channel Response"},{"entry":"(0x0f) Set Channel Response"},{"entry":"\u2003<response> = 0x0d"},{"entry":"\u2003<body> = <current channel>"},{"entry":"\u2003<current channel> Channel number between 11 and 26 (dec), 16 bit, high byte"},{"entry":"\u2003first"},{"entry":"(0x10) Request Gateway Reset: Gateway is put into hard reset"},{"entry":"\u2003<command> = 0x10"},{"entry":"\u2003<body> = <magic string>"},{"entry":"\u2003<magic string> 0x37249266L-arbitrary. . . . , 32 bit, high byte first"},{"entry":"\u2003Responses: 0x06-General error response (bad magic number); 0x11-Get"},{"entry":"\u2003reset request Response"},{"entry":"(0x11) Request Gateway Reset Response: In some embodiments, the gateway"},{"entry":"implementation does not finish the answer packet before resetting,"},{"entry":"\u2003<response> = 0x11"},{"entry":"\u2003<body> = <empty>"},{"entry":"(0x12) STORE settings: Current parameters are formatted to a structure and "},{"entry":"written to Flash. A limited number of writes are allowed before the memory is "},{"entry":"filled up. Do NOT write to Flash unless the actions in NECESSARY"},{"entry":"\u2003<command> = 0x12"},{"entry":"\u2003<body> = <magic string>"},{"entry":"\u2003<magic string> 0x37249266L-arbitrary. . . , 32 bit, high byte first"},{"entry":"\u2003Responses: 0x06-General error response (bad magic number); 0x13-"},{"entry":"\u2003STORE settings response"},{"entry":"(0x13) STORE settings response"},{"entry":"\u2003<command>=0x13"},{"entry":"\u2003<body> = <empty>"},{"entry":"(0x14) Set Unit ID Request: Sets new Unit ID in gateway. Further transactions will use "},{"entry":"new ID."},{"entry":"\u2003<command> = 0x14"},{"entry":"\u2003<body> = <magic number> <desired ID>"},{"entry":"\u2003<magic string> 0x37249266L-arbitrary. . . . , 32 bit, high byte first"},{"entry":"\u2003<desired id> Desired Unit ID, 16 bit, high byte first"},{"entry":"\u2003Responses: 0x06-Bad parameter response; 0x15-Set Unit ID Response"},{"entry":"(0x15) Set Channel Response"},{"entry":"\u2003<response> = 0x15"},{"entry":"\u2003<body> = <empty>"},{"entry":"(0x16) Get Unit ID Request"},{"entry":"\u2003<response> = 0x16"},{"entry":"\u2003<body> = <empty>"},{"entry":"\u2003Responses: 0x0d-Get Channel Response"},{"entry":"(0x17) Get Unit ID Response"},{"entry":"\u2003<response> = 0x17"},{"entry":"\u2003<body> = <current channel>"},{"entry":"\u2003<current ID> Unit ID, 16 bit, high byte first"},{"entry":"\u2003B. Packet Level"},{"entry":"(MMU to Gateway): <0x55> <0x55> <length> <Gateway ID> <command> <body> "},{"entry":"<checksum>"},{"entry":"\u2003<0x55> literal header bytes"},{"entry":"\u2003<length> length-count of bytes starting with gateway ID, through checksum."},{"entry":"\u2003Total length minus 4, 16 bits, high byte first"},{"entry":"\u2003<Gateway ID> Gateway address-test = 0x1235, 16 bits, high byte first"},{"entry":"\u2003<command> Command to execute, 16 bits, high bytes first"},{"entry":"(Gateway to MMU): <0xAA> <0xAA> <length> <Gateway ID> <command> <body> "},{"entry":"<checksum>"},{"entry":"\u2003<0xAA> literal header bytes"},{"entry":"\u2003<length> length-count of bytes starting with gateway ID, through checksum."},{"entry":"\u2003Total length minus 4, 16 bits, high byte first"},{"entry":"\u2003<Gateway ID> Gateway address-test = 0x1235, 16 bits, high byte first"},{"entry":"\u2003<command> Command to response, 16 bits, high bytes first"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"In the foregoing specification, the disclosure has been described with reference to specific exemplary embodiments thereof. It will be evident that various modifications may be made thereto without departing from the broader spirit and scope as set forth in the following claims. The specification and drawings are, accordingly, to be regarded in an illustrative sense rather than a restrictive sense."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments are illustrated by way of example and not limitation in the figures of the accompanying drawings in which like references indicate similar elements.",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 6","FIG. 1"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 13"}]},"DETDESC":[{},{}]}
