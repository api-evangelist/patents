---
title: HTTP caching proxy to filter and control display of data in a web browser
abstract: A method of controlling how a Web document is presented for display on a browser of a client machine. The Web document typically is formatted according to a markup language such as HTML. The method uses a client side HTTP caching proxy to intercept the Web document and then dynamically rewrite the document before it is displayed on the browser. In particular, as the Web document is received from the server, the HTML is parsed to identify the format of the document and the information therein. A filter mechanism is then used to reformat the Web document according to some given protocol, and the re-formatted Web document is then passed to the browser for display. Dynamic alteration of the HTML in this manner enables control of the “look and feel” of the browser display.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06886013&OS=06886013&RS=06886013
owner: International Business Machines Corporation
number: 06886013
owner_city: Armonk
owner_country: US
publication_date: 19970911
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["1. Technical Field","The present invention relates generally to computer network communications and, more particularly, to controlling the display of information on a Web browser via a client side proxy.","2. Description of the Related Art","The World Wide Web is the Internet's multimedia information retrieval system. In the Web environment, client machines effect transactions to Web servers using the Hypertext Transfer Protocol (HTTP), which is a known application protocol providing users access to files (e.g., text, graphics, images, sound, video, etc.) using a standard page description language known as Hypertext Markup Language (HTML). HTML provides basic document formatting and allows the developer to specify \u201clinks\u201d to other servers and files. In the Internet paradigm, a network path to a server is identified by a so-called Uniform Resource Locator (URL) having a special syntax for defining a network connection. Use of an HTML-compatible browser (e.g., Netscape Navigator or Microsoft Internet Explorer) at a client machine involves specification of a link via the URL. In response, the client makes a request to the server identified in the link and receives in return a document formatted according to HTML.","There has been great interest in providing Internet access at minimal economic cost. While most computers now are pre-configured for Internet access, a significant percentage of households still do not have a personal computer. Thus, it has now been proposed to provide a data processing system that, much like a VCR, may be connected to a television set and used in lieu of a personal computer to provide Web access through a conventional remote control device associated with the system unit. Such a system enables the television to become, in effect, a \u201cWeb\u201d appliance. The viewer can rapidly switch between conventional television and Internet access using the remote control unit. All of the conventional \u201cInternet\u201d access tools and navigational functions are preferably \u201cbuilt-in\u201d to the system and thus hidden to the user.","Web page authors design their Web content using standard design constraints and HTML formatting constructs. Nevertheless, it is quite often the case that a given Web page looks different when viewed on different client machines, e.g., a workstation computer running Netscape Navigator\u2122 and a personal computer connected to America OnLine\u2122 and running an AOL-supplied browser. As a result of the differences between browser applications, web designers must often design multiple versions of the same or similar content in order to attempt to maintain consistent content display across different browser types. As a corollary, these multiple Web page versions must then be supported on a given server, and this results in slower page access time and often redundant or wasted Web site storage capacity.","The problem of presenting Web content in a consistent manner across multiple display system formats is exacerbated as more and more machines (such as conventional television-based systems) are provided with the capability of displaying such content. Therefore, although the goal of providing a simple-to-use and inexpensive Web \u201cappliance\u201d is laudable, existing techniques and display methods do not address this problem.","It would be highly desirable to provide a mechanism for processing a Web document such as is retrieved from a Web server in order to modify its display characteristics in a dynamic manner before delivery to the browser. Such a mechanism would have particular utility in that it would obviate generation and storage of multiple versions of a particular Web page yet ensure that the page is displayed consistently across multiple Web content display system types.","It is thus a primary goal of the present invention to dynamically control how information is presented on a browser of a client machine.","It is a more particular object of the invention to intercept and re-format a Web document prior to its display on a browser.","It is a more general object of this invention to enable Web content modification at a client machine such that an author of such content need only create a single version of the page.","It is still another object of this invention to provide a mechanism for modifying Web content, preferably prior to its delivery to and display by a browser, to thereby mask differences that would otherwise exist when the content is displayed across different types of display systems including, without limitation, a personal computer, a Web appliance, or the like.","It is a further object of this invention to use a HTTP caching proxy in conjunction with a browser to dynamically rewrite data received at the client from a Web server before that data is presented on the browser.","It is a more general object of this invention modify the \u201clook and feel\u201d of a Web page from the client side of a Web connection.","A still further object of this invention is to implement a \u201cdynamic HTML\u201d function in a standalone Web appliance or system to thereby modify the appearance of a Web document prior to its display on the browser.","It is a more specific object of the invention to enhance the operation of a browser cache by using a local proxy to dynamically re-format information received from a Web server.","It is still another object of the invention to provide a Web appliance or system with enhanced display presentation capability through use of a client-side proxy.","Another specific object of this invention is to provide a discovery mechanism for use with a client machine in which the client may discover the characteristics of the various display components used by the machine and then re-format Web content accordingly to enhance the \u201clook and feel\u201d of such content as a result of the discovered characteristics.","In accordance with the invention, a client computer, for example, a Web appliance, is connectable to the Internet and comprises a processor having an operating system, a browser application run by the operating system, a cache, and a proxy. The proxy includes means for intercepting and re-formatting a Web document in order to control how the Web document appears on the browser. The proxy modifies the \u201clook and feel\u201d of the Web document.","In the preferred embodiment, a method of controlling how a Web document is presented for display on a browser of a client machine uses a client side caching proxy. The Web document typically is formatted according to a markup language such as Hypertext Markup Language or \u201cHTML.\u201d The method uses the client side HTTP caching proxy to intercept the Web document and then dynamically rewrite the document before it is displayed on the browser. In particular, as the Web document is received from the server, the HTML is parsed to identify the format of the document and the information therein. A filter mechanism is then used to re-format the Web document according to some given protocol or filter property, and the re-formatted Web document is then passed to the browser for display. Thus, for example, the filter may adjust or modify foreground\/background colors, override font types and size, control display geometry (e.g., by reserving some dedicated display area), change URLs or display other URLs, embed files, add, remove or reconfigure frames, or control text and table formats. Dynamic alteration of the HTML in this manner enables control of the \u201clook and feel\u201d of the browser display.","In a preferred embodiment, the dynamic HTML function may be controlled automatically (e.g., by a service provider controlling the provision of content to the Web appliance) or by the user (by entering commands via an input device).","According to a more specific embodiment of the invention, there is described a method of controlling presentation on a given machine of a Web document formatted according to a markup language and normally supported on a server. The machine includes a Web browser. The browser has an associated display area normally used to display Web content. The method begins as a data stream including the Web document is received from a server. This stream is intercepted and parsed prior to its delivery to the browser to identify formatting information in the Web document. Thereafter, control information is inserted into the data stream such that, when the Web document is displayed on the browser, a portion of the display area is reserved for display of given content. The Web document, together with the control information, are then forwarded to the browser. The browser is then used to display the Web document on the display area. The control information preferably inhibits display of the Web document in the reserved display area. In this technique, the Web document, in effect, is re-flowed around the reserved area, thereby making space available for display of other content such as emergency messages, status messages, advertising, other pages, and the like.","The foregoing has outlined some of the more pertinent objects and features of the present invention. These objects should be construed to be merely illustrative of some of the more prominent features and applications of the invention. Many other beneficial results can be attained by applying the disclosed invention in a different manner or modifying the invention as will be described. Accordingly, other objects and a fuller understanding of the invention may be had by referring to the following Detailed Description of the Preferred Embodiment.","A representative system in which the present invention is implemented is illustrated in FIG. . An Internet client machine  is connected to a server platform  via a communication channel . For illustrative purposes, channel  is the Internet, an Intranet or other known connection. In the case of the Internet, server platform  is one of a plurality of servers which are accessible by clients, one of which is illustrated by machine . A client machine typically includes a suite of known Internet tools  to access the servers of the network and thus obtain certain services. These services include one-to-one messaging (e-mail), one-to-many messaging (bulletin board), on-line chat, file transfer and browsing. Various known Internet protocols are used for these services. Thus, for example, browsing is effected using the Hypertext Transfer Protocol (HTTP), which provides users access to multimedia files using Hypertext Markup Language (HTML). The collection of servers that use HTTP comprise the World Wide Web, which is the Internet's multimedia information retrieval system.","By way of example only, a client machine is a personal computer such as a desktop of notebook computer, e.g., an IBM\u00ae or IBM-compatible machine running under the OS\/2\u00ae operating system, an IBM ThinkPad\u00ae machine, or some other Intelx86 or Pentium\u00ae-based computer running Windows 3.1 or greater operating system. A representative server platform  comprises an IBM RISC System\/6000 computer  (a reduced instruction set of so-called RISC-based workstation) running the AIX (Advanced Interactive Executive Version 4.1 and above) Operating System  and Server program(s) . The platform  also includes a graphical user interface (GUI)  for management and administration. It may also include an application programming interface (API) . HTTP GET requests are transferred from the client machine to the server platform, typically via a dial-up computer network, to obtain documents or objects formatted according to HTML or some other markup language. The various models of the RISC-based computers are described in many publications of the IBM Corporation, for example, 6000, 7013 7016 , Order No. SA23-2644-00. AIX OS is described in , published by IBM Corporation, First Edition (November 1985), and other publications. While the above platform is useful, any other suitable hardware\/operating system\/server combinations may be used.","Alternatively, the Internet client may be a data processing system or a so-called \u201cWeb appliance\u201d such as illustrated in  and .  is a pictorial representation of the data processing system as a whole. Data processing system  in the depicted example provides, with minimal economic costs for hardware to the user, access to the Internet. Data processing system  includes a data processing unit . Data processing unit  is preferably sized to fit in typical entertainment centers and provides all required functionality, which is conventionally found in personal computers, to enable a user to \u201cbrowse\u201d the Internet. Additionally, data processing unit  may provide other common functions such as serving as an answering machine or receiving facsimile transmissions.","Data processing unit  is connected to television  for display of graphical information. Television  may be any suitable television, although color televisions with an S-Video input will provide better presentations of the graphical information. Data processing unit  may be connected to television  through a standard coaxial cable connection. A remote control unit  allows a user to interact with and control data processing unit . Remote control unit  allows a user to interact with and control data processing unit . Remote control unit  emits infrared (IR) signals, preferably modulated at a different frequency than the normal television, stereo, and VCR infrared remote control frequencies in order to avoid interference. Remote control unit  provides the functionality of a pointing device (such as a mouse, glidepoint, trackball or the like) in conventional personal computers, including the ability to move a cursor on a display and select items.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 2B","b":["102","108","106","102","102","104","110","102","104","112","102","102"]},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 2C","b":["102","114","116","118","120","122","124","126","128","102","130","132","134","102"]},"Video connection , a standard coaxial cable connector, connects to the video-in terminal of television  or a video cassette recorder (not shown). Left and right audio jacks  connect to the corresponding audio-in connectors on television  or to a stereo (not shown). If the user has S-Video input, then S-Video connection  may be used to connect to television  to provide a better picture than the composite signal. If television  has no video inputs, an external channel \/ modulator (not shown) may be connected in-line with the antenna connection.",{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 2D","b":["106","106","142","144","146","146","102"]},"A pointing device , which is preferably a trackpoint or \u201cbutton\u201d pointing device, is included on remote control unit  and allows a user to manipulate a cursor on the display of television . \u201cGo\u201d and \u201cBack\u201dbuttons  and , respectively, allow a user to select an option or return to a previous selection. \u201cHelp\u201d button  causes context-sensitive help to be displayed or otherwise provided. \u201cMenu\u201d button  causes a context-sensitive menu of options to be displayed, and \u201cUpdate\u201d button  will update the options displayed based on the user's input, while home button  allows the user to return to a default display of options. \u201cPgUp\u201d and \u201cPgDn\u201d buttons  and  allows the user to change the context of the display in display-sized blocks rather than by scrolling. The message button  allows the user to retrieve messages.","In addition to, or in lieu of, remote control unit , an infrared keyboard (not shown) with an integral pointing device may be used to control data processing unit . The integral pointing device is preferably a trackpoint or button type of pointing device. A wired keyboard (also not shown) may also be used through keyboard connection , and a wired pointing device such as a mouse or trackball may be used through mouse port . When a user has one or more of the remote control unit , infrared keyboard, wired keyboard and\/or wired pointing device operable, the active device locks out all others until a prescribed period of inactivity has passed.","Referring now to , a block diagram for the major components of data processing unit  is portrayed. As with conventional personal computers, data processing unit  includes a motherboard  containing a processor  and memory  connected to system bus . Processor  is preferably at least a  class processor operating at or above 100 MHz. Memory  may include cache memory and\/or video RAM. Processor , memory , and system bus  operate in the same manner as corresponding components in a conventional data processing system.","Video\/TV converter , located on motherboard  and connected to system bus , generates computer video signals for computer monitors, a composite television signal, and an S-Video signal. The functionality of Video\/TV converter  may be achieved through a Trident TVG9685 video chip in conjunction with an Analog Devices AD722 converter chip. Video\/TV converter  may require loading of special operating system device drivers.","Keyboard\/remote control interface unit  on motherboard  receives keyboard codes through controller , regardless of whether a wired keyboard\/pointing device or an infrared keyboard\/remote control is being employed. Infrared remote control unit  transmits signals which are ultimately sent to the serial port as control signals generated by conventional mouse or pointing device movements. Two buttons on remote control unit  are interpreted identically to the two buttons on a conventional mouse, while the remainder of the buttons transmit signals corresponding to keystrokes on an infrared keyboard. Thus, remote control unit  has a subset of the function provided by an infrared keyboard.","Connectors\/indicators  on motherboard  provide some of the connections and indicators on data processing unit  described above. Other connections are associated with and found on other components. For example, telephone jacks  and  are located on modem . The power indicator within connectors\/indicators  is controlled by controller .","External to motherboard  in the depicted example are power supply , hard drive , modem  and speaker . Power supply  is a conventional power supply except that it receives a control signal from controller  which effects shut down of all power to motherboard , hard drive  and modem . In some recovery situations, removing power and rebooting is the only guaranteed method of resetting all of these devices to a known state. Thus, power supply , in response to a signal from controller , is capable of powering down and restarting data processing unit .","Controller  is preferably one or more of the 805x family controllers. Controller  receives and processes input from infrared remote control , infrared keyboard, wired keyboard, or wired mouse. When one keyboard or pointing device is used, all others are locked out (ignored) until none have been active for a prescribed period. Then the first keyboard or pointing device to generate activity locks out all others. Controller  also directly controls all LED indicators except that indicating modem use. As part of the failure recovery system, controller  specifies the boot sector selection during any power off-on cycle.","Hard drive  contains operating system and applications software for data processing unit , which preferably includes IBM DOS 7.0, a product of International Business Machines Corporation in Armonk, New York; an operating system  such as Windows 3.1 (or higher), a product of Microsoft Corporation in Redmond, Washington; and a browser  such as Netscape Navigator (Version 1.0 or higher), a product of Netscape Communications Corporation in Mountain View, Calif. Hard drive  may also support an SMTP mechanism to provide electronic mail, an FTP mechanism to facilitate file transfers from Internet FTP sites, and other Internet protocol mechanisms, all in a known manner. Of course, the software identified above is merely representative, as other known programs may be used in the alternative or by way of addition. Also, minor modifications of these software packages may be desirable to optimize performance of data processing unit .","Modem  may be any suitable modem used in conventional data processing systems, but is preferably a 33.6 kbps modem supporting the V.42bis, V.34, V.17 Fax, MNP 1-5, and AT command sets. To maintain the slim height of data processing system , modem  is preferably inserted into a slot mounted sideways on motherboard . Modem  is connected to a physical communication link , which, in turn, in connected or connectable to the Internet (not shown).","Those skilled in the art will recognize that the components depicted in  and  and described above may be varied for specific applications or embodiments. Such variations in which the present invention may be implemented are considered to be within the spirit and scope of the present invention.","According to the invention, the client machine (typically the hard drive ) also includes a proxy . Preferably, the proxy is implemented in software and includes a cache  associated therewith. The cache may be integral to the proxy or logically associated therewith. The cache preferably has a size up to several hundred megabytes, which is substantially larger than the standard cache associated with a browser such as Netscape Navigator. The client machine also includes a protocol stack  (e.g., a TCP\/IP protocol stack) and a sockets mechanism , which are used to support communications in a known manner. According to the invention, the proxy  is advantageously located on the client along with the browser. Thus, the proxy is sometimes referred to as a \u201cclient side\u201d proxy.","According to the present invention, the proxy  intercepts a Web document as it is received from the computer network and processes this document in order to control how the document is then presented on the browser. This enables the proxy to dynamically adjust the \u201clook and feel\u201d of a given Web document at the client side of the connection, irrespective of how the Web document is formatted and supported on the Web server. In one illustrative application, a Web document (or generically, any hypertext object) is reformatted upon a given occurrence, such as when it may be necessary to inform the user of some message (e.g., a weather alert, an emergency message, or the like). In the preferred embodiment as described below, the \u201clook and feel\u201d of the Web document is changed by adding, deleting, supplementing or otherwise rewriting HTML formatting data (otherwise known as \u201ctags\u201d) of the document retrieved from the Web server prior to display of the document on the browser. Thus, the proxy implements \u201cdynamic HTML\u201d processing or \u201cfiltering\u201d of the Web document.","This operation is illustrated in the block diagram of FIG. . As seen in this diagram, the proxy comprises the memory cache  (and optionally the disk cache ). In the preferred embodiment, as illustrated in , the proxy  is an HTTP caching proxy. An HTTP proxy is preferably designed to comply with Request For Comment (RFC) 2068, which is incorporated herein by reference. The proxy interfaces to the browser  to facilitate control over the \u201clook and feel\u201d of the browser interface by processing data returned from the network or from the cache . The processing of network-retrieved data is effected using a filter mechanism , as will be described in detail below. Although not part of the present invention, the proxy  also facilitates the implementation of a more robust and efficient cache . When the client issues an HTTP GET request, the proxy services the request on behalf of the browser . This operation may be effected without the browser being aware that the service is being handled locally.","A particular operation of the filter mechanism  of the proxy  is to re-format a retrieved HTML document before that document is presented on the browser. By way of brief background, Hypertext Markup Language (HTML) uses tags and\/or tag sets, each denoted by the <> symbols (replaced herein with braces \u201c{ }\u201d for electronic publishing purposes), to control presentation of information on a Web page. Thus, for example, all HTML documents must begin with the {HTML} tag and close with the {\/HTML} tag. Header information, such as the title of the document, is contained within the {HEAD} and {\/HEAD} tag set. The body of the document is formatted according to the {BODY} and {\/BODY} tags. Thus, for example, to control the background color of the page, the {BODY} tag includes an attribute \u201cBGCOLOR value\u201d (e.g., {BODY BGCOLOR=\u201c#FEAD00\u201d}) expressed as a hexadecimal equivalent of an RGB value. Header tags {H} and {\/H} control presentation of headers, as well as their relative size on the page. Other formatting tags include, without limitation, {TITLE} and {TITLE} for describing the title of the document, {P} and {\/P} for indicating the beginning of a paragraph of text in the document, {BR} and {\/BR} for indicating a line break in the text, {A REF} and {\/A} indicating an anchor and hypertext reference for linking, {TABLE} and {\/TABLE} for indicating a table, {TR} and {\/TR} for a table row, {TD} and {\/TD} indicating table data, {IMG SRC} for insucting the browser to display an image, {FONT COLOR} and {\/FONT} to control the font color of given text, {B} and {\/B} to bold given text, {INPUT TYPE} to identify an input means such as a checkbox, button, pulldown menu or the like, {FRAMESET} to define the parameters of one or more frames, {FRAME} and {\/FRAME} to specify the contents of an individual frame, {MARGIN} to control the page margin, {ALIGN} and {\/ALIGN} for aligning certain text on the page, {HSPACE} and {VSPACE} for inserting empty horizontal and vertical spaces, {EMBED SRC} to embed an image within a document, {LAYER} for inserting a layered object within a document (Netscape Navigator 4.0 or higher), and numerous others. Many of these tags are designed to be nested within each other to provide enhanced objects. Thus, for example, a clickable image can be created by placing an {IMG SRC } tag within a {A HREF} tag. The above list, of course, is merely exemplary, as HTML is an evolving language.","According to the present invention, the caching proxy includes the filtering mechanism  for receiving a Web document formatted according to HTML, identifying the HTML tags (such as described above), re-formatting the Web document by modifying one or more characteristics of original HTML, and then passing the modified Web document to the browser for display. This operation is shown generally in the flowchart of FIG. . It begins at step  in response to a HTTP GET request that is sent over the computer network. At step , a test is made to determine whether the HTML document responsive to the HTTP GET request has been received from the network. If the outcome of the test at step  is negative, the routine cycles and waits for the document to arrive. If the outcome of the test at step  is positive, a test is made at step  to determine whether the \u201cdynamic HTML\u201d function is active. According to the present invention, the dynamic HTML function may be activated upon a given occurrence. Alternatively, the function may be selectively activated if the browser is used in conjunction with a Web appliance. The function may be activated for certain type(s) of Web documents or for certain information tag type(s) within a given Web document. Under certain circumstances, e.g., when it is desired to filter certain content. Of course, any combination of the above conditions may be used to determine when the function is active.","If the dynamic HTML function is not active, as indicated by a negative outcome of the test at step , the routine branches to step  and passes the retrieved Web document (un-modified) back to the browser. If, however, the dynamic HTML function is active, as indicated by a positive outcome of the test at step , the routine continues at step  to parse the Web document. Typically, this step involves identifying the HTML format and other information therein that may need to be supplemented, modified or otherwise changed to affect the appearance of the document on the browser. At step , the parsed information is applied through a filter to re-format the Web document according to a given filter property. An example of how the filter mechanism operates is set forth below. Typically, the filter property is defined by the system, although the given property may be defined by the user using the remote control. The routine then continues at step  to pass the Web document (as modified) to the browser. This completes the processing.","The parsing of the retrieved HTML and the associated filtering of that HTML may be effected automatically or under control of some user input. The proxy  thus provides control over the \u201clook and feel\u201d of the data received from the Web server. Thus, by way of example only, the caching proxy  is used to control foreground and background colors, to override font types and size, to control display geometry (e.g., space reservation on the display), to display other URLs within the current page, to add links, to modify links, to add or modify scripts, to embed sounds, animations, videos and\/or other files, to add\/remove\/reconfigure frames on the page and\/or to control text\/table formatting. Other characteristics of the page may be modified as well, as the above are merely exemplary.","A generic implementation of the filter mechanism is illustrated in detail in the flowchart of FIG. . This routine begins at step  with the extraction of an HTML tag from the Web document being parsed. At step , a test is run to determine whether the tag is to be removed or replaced. An example of a situation where it may be desirable to remove a tag is when the user desires to do away with a \u201cframed\u201d document. This is especially desirable where the Web content is located on a television class display that may be located at a distance from where the viewer is seated. If the frames were not removed, the content within a particular frame might be too small in order to read at such a distance. By removing the FRAME and associated tags, the Web content may be simply and efficiently re-formatted and displayed (for example, in a given frame order). If the outcome of the test at step  is positive, the routine branches to step . Considering the above example, in step , the FRAME tag in the Web document is removed and the HTML associated with the frame is saved for inclusion as normal text in the HTML data stream. Of course, this particular example is merely for illustration purposes, as the type of action that takes place in step  will ultimately depend on the purpose that the given tag was removed at step .","If the result of the test at step  is negative, or after step , a test is done at step  to determine whether it is desired to modify the attributes of the tag extracted at step . If the outcome of the test at step  is positive, the routine branches to step  wherein the action is taken. Thus, at step , the document foreground or background color may be changed (as illustrated in , for example), the color of a particular image may be changed, or the font type or size of certain text may be changed, and so forth. If the result of the test at step  is negative, or after step , the routine continues at step  to test whether a new HTML tag is to be inserted before or after the HTML tag extracted at step . If so, the routine branches to step . At step , the new tag may be inserted, for example, to embed one or more of the following types of data: sounds, images, special purpose plug-ins to perform space reservation on the page (as will described below), or other HTML data to support frame re-formatting.","If the result of the test at step  is negative, or after step , the routine continues by testing at step  whether the filtering process is complete. If not, the routine returns to step  and gets the next tag. If, however, the outcome of the test at step  is positive, the routine branches to step  to return the modified HTML stream to the client proxy to be cached. This completes the processing.","Referring now to , a flowchart is shown of a more detailed operation of the present invention when an HTTP GET request is issued from the browser to the server. It is assumed as noted above that the proxy is configured on the client along with the associated cache. At step , the browser received some user input for Web data. For example, the user desires to obtain a Web page located on a server. This page may or may not already be present in the cache. At step , the browser formulates an HTTP GET request and transmits it using the sockets mechanism . At step , the HTTP GET request is \u201cintercepted\u201d by the proxy server . A test is then made at step  to determine whether the document requested is present in the cache  (or, alternatively, the browser cache). If the outcome of the test at step  is positive, then the routine continues at step  to retrieve the information from the cache. The retrieved information may be processed by the proxy to change or supplement how that information is displayed on the user interface. Thus, for example, the filter mechanism  may be used to change the font of the data, or to add sounds, or to arrange data in a certain tabular format, or the like, as previously described. At step , the routine returns the data (which may or may not have been modified, supplemented or adapted) back to the browser. The browser is not \u201caware\u201d that the GET request has been serviced locally. The information is then displayed on the browser at step  and the routine terminates.","In the alternative, if the outcome of the test at step  is negative (e.g., because the document is not present or, if present, is outdated), then the routine branches to step  to transmit the HTTP request to the network. At step , the information requested is returned from the server  located on the network (instead of from the proxy via the cache). The routine then continues at step  to use the proxy  (and, in particular, the filtering mechanism ) to modify the presentation of the information through the dynamic HTML function, as has been previously described. After the Web page has been modified, the modified page is preferably stored back in the cache at step  in order that it may be reused if and when the user desires to revisit the page at a subsequent time. After the modified Web page is stored in the cache, the routine continues at step  to return the Web data (as modified) to the browser. At step , the modified Web page is displayed on the browser.","Preferably, the proxy starts up when the Web appliance is booted up. Connectivity between the proxy and the browser is achieved using the sockets mechanism by configuring the browser to pass the HTTP requests to the proxy. To send an HTTP GET request, the browser creates a packet (including the URL and other information) and then opens a socket using the sockets mechanism. The packet is then sent to the IP address\/port number to service the HTTP request. Thus, when the browser issues an HTTP GET request, it binds to the socket and sends the request. The request is then intercepted and processed by the proxy instead of being sent directly over the network, all in the manner previously described.","The proxy may be a piece of standalone or downloadable code that intercepts and filters the Web document retrieved over the computer network. The proxy is used to modify and\/or process data before it is returned to the browser for display on the interface. This enables the data font or presentation to be modified, supplemented or otherwise adapted to the particular display environment. The proxy thus provides a useful tool to enhance the \u201clook and feel\u201d of data displayed on the browser and thus enables the user interface to be tailored to the Web appliance environment.","A simple example of the dynamic HTML function is shown in the flowchart of FIG. . In this example, it is assumed that it is desired to modify the background color of the Web page to be displayed on the browser from black \u201c#000000\u201d (R:000, G:000, B:000) to evergreen \u201c#339999\u201d (R:051, G:153, B:153). These characteristics, as noted above, are controlled (in the given Web page) by the BODY BGCOLOR tag and its associated numerical attribute. The routine begins at step  with the retrieval of the requested Web document. It is assumed that the dynamic HTML function is active for the particular request. At step , the parser identifies the BODY BGCOLOR tag. At step , the filter substitutes the new attribute value. (Of course, steps  and  may be carried out simultaneously). At step , the modified Web document (with the new BODY BGCOLOR tag attribute) is then passed to the browser for display.","A similar operation is performed for the filter properties previously described. Of course, it is envisioned that the filter will include a list of one or more \u201cactions\u201d that are to be effected with respect to the Web document, and this list may vary according to one or more given events or document types. Thus, for example, there may a first list that is used to alter the color of the document, a second list that is used to alter the alignment of text on the document, a third list that is used to alter the text spacing on the document, and so on. Alternatively, a particular list may include any number of different control actions to be carried out on the retrieved document. Other examples of HTML format modification are within the scope of one of ordinary skill. Thus, for example, if it is desired to omit scrollbars on the display, a SCROLL attribute is set to \u201cNO,\u201d whenever this attribute is encountered in the HTML data stream that includes the Web document. If the user dislikes scrolling marquees, the LOOP=INFINITE attribute associate therewith can be replaced with LOOP=1 whenever the MARQUEE tag is encountered.","In one preferred embodiment, the present invention is implemented in \u201cfront\u201d of a browser. As will be described below, however, certain functions provided by the present invention may also be implemented in a server-based system.",{"@attributes":{"id":"p-0077","num":"0076"},"figref":["FIG. 9","FIG. 9"],"b":["223","180","180","225","182"]},"Referring now to , a flowchart is illustrated of a reservation area function that uses the display area  for displaying given content. Preferably, such content is not part of the Web document received by the machine, but rather is content provided by some alternate source, or generated by the client machine itself (e.g., a status message or the like). The method begins at step  as a data stream including the Web document is received from a server at which the document is supported. In the proxy server embodiment, the Web document may be supported on the server itself. At step , the stream is intercepted and parsed prior to its delivery to the browser to identify formatting information in the Web document. Thereafter, at step , certain control information is inserted into the data stream such that when the Web document is displayed on the browser, a portion of the display area thereof is reserved for display of given content. This was the portion  described above with respect to FIG. . Returning back to the flowchart of , at step , the Web document, together with the control information, are then forwarded to the browser. At step , the Web document (as modified) is then displayed on the display area.","The control information injected into the data stream preferably inhibits display of the Web document in the reserved display area. By this technique, the Web document, in effect, is re-flowed around the reserved area, thereby making space available for display of other content such as emergency messages, status messages, advertising, other pages, and the like.","One of ordinary skill will appreciate that the particular applications of the inventive technique are quite varied. It may be desirable to under certain circumstances for the appliance to \u201cseize\u201d a portion of the browser display area for the display of a so-called \u201cdisplay object\u201d within the reservation area, as has been previously described. According to the present invention, a display object may be any text, graphic, animation, or other content (e.g., an emergency message, a text message, an advertisement or the like). The object inserted into the Web document may be an audio data stream. A display object, alternatively, may be a blank portion of the display screen. Thus, for example, the user may desire to blank out or otherwise obscure certain text or images (e.g., advertising banners). In such case, the display object in effect removes such content from the display screen. The above examples, however, are merely exemplary. Numerous other applications are within the scope of this invention.","It should be appreciated that the present invention enables a Web author to generate a single version of a Web page that may be displayed consistent across many different types of display system platforms. This is primarily because the proxy functions to intercept and re-format the Web document (or components thereof) and\/or injects new control information for modifying how the document is displayed on the browser. This operation, in effect, masks out differences between various display system(s), browsers, operating systems, or the like. To facilitate this operation, it may be desirable for the proxy to include a \u201cdiscovery\u201d function that can be used (either by the system or the user, via one or more display panels) to determine the particular display characteristics or properties of the display system. Such information may then be used by the proxy to help \u201ctailor\u201d the particular Web document display accordingly to optimize \u201clook and feel.\u201d","One illustrative discovery method is now described with reference to the flowchart shown in FIG. . The routine begins at step  during an initialization process. At step , a user is given the option to discover the display system characteristics (e.g., the type of operating system, display resolution browser type, video display card characteristics, type of video driver, type of accelerator card, etc.). This function may be carried out by the existing operating system functions if such functions exist. At step , the discover function is initialized and the appropriate data retrieved. At step , the data is evaluated and, at step , the proxy associates the results with a particular display system type. Different display system types will be associated with the various display system configurations that may exist. At step , the particular display system type is used to provide input to the filter mechanism to thereby tailor the filter in an appropriate manner to achieve the desired display characteristics. If desired, the discover method may prompt the user to enter one or more display characteristics that are then applied to generate the display system type.","The techniques of the present invention may be implemented in a proxy server. Thus, one or more of the above functions associated with the caching proxy may be incorporated in such a server within the scope of the present invention. Referring now to , a block diagram of one such system is shown. The system includes a proxy server  to which a plurality of client machines  connect. The proxy server may be a dedicated server (e.g., a server located at an Internet Service Provider), or a server located at a particular Web site. One or more of the client machines  may have different display system characteristics as has been previously described. In such case, one or more of such client machines may use the discovery process (as described above in the flowchart of ) or some other means to determine their \u201cdisplay system type.\u201d Such information may then be provided to the proxy server  (e.g., via a CGI scripting technique or the like) so that the proxy server may then customize the data stream provided to the particular client(s). In particular, proxy server  will include a \u201cmaster\u201d filter mechanism that can be adjusted (for a given client) depending on the particular display system type associated with the client. One of ordinary skill will appreciate that such a system provides numerous advantages over conventional Web appliance implementations wherein each client receives the same content (and in the same format) irrespective of the display system type. The system shown in  provides for customized display information (according to the teachings herein) provided to one or more of the clients.","One of the preferred implementations of the client side or server side proxy of the invention is as a set of instructions (program code) in a code module resident in the random access memory of the computer. Until required by the computer, the set of instructions may be stored in another computer memory, for example, in a hard disk drive, or in a removable memory such as an optical disk (for eventual use in a CD ROM) or floppy disk (for eventual use in a floppy disk drive), or downloaded via the Internet or other computer network. In addition, although the various methods described are conveniently implemented in a general purpose computer selectively activated or reconfigured by software, one of ordinary skill in the art would also recognize that such methods may be carried out in hardware, in firmware, or in more specialized apparatus constructed to perform the required method steps.","As used herein, \u201cInternet client\u201d should be broadly construed to mean any computer or component thereof directly or indirectly connected or connectable in any known or later-developed manner to a computer network, such as the Internet. The term \u201cInternet server\u201d should also be broadly construed to mean a computer, computer platform, an adjunct to a computer or platform, or any component thereof. Of course, a \u201cclient\u201d should be broadly construed to mean one who requests or gets the file, and \u201cserver\u201d is the entity which downloads the file. Moreover, although the present invention is described in the context of the Hypertext Markup Language (HTML), those of ordinary skill in the art will appreciate that the HTTP caching proxy may also be used to reformat Web documents or other such objects formatted according to alternative markup languages including, without limitation, SGML (Standard Generalized Markup Language) and XML (Extended Markup Language).","Having thus described our invention, what we claim as new and desire to secure by letters patent is set forth in the following claims:"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["For a more complete understanding of the present invention and the advantages thereof, reference should be made to the following Detailed Description of the Preferred Embodiment taken in connection with the accompanying drawings in which:",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2B"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 2C"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2D"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 4","FIG. 2A"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 12"}]},"DETDESC":[{},{}]}
