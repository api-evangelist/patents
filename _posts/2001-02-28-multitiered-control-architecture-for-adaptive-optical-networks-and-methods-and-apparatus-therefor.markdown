---
title: Multi-tiered control architecture for adaptive optical networks, and methods and apparatus therefor
abstract: A hierarchical and distributed control architecture for managing an optical communications network. The architecture includes a line card manager level for managing individual line cards in an optical switch, a node manager level for managing multiple line cards in an optical switch/node, and a network management system level for managing multiple optical switches/nodes in a network. An event manager at the node manager level enables software components that are running at the node manager to register for and receive events, and to post events. The events may be triggered, e.g., by a change in a status of the switch, or an alarm condition. Control architecture functionalities include signaling, routing, protection switching and network management. Furthermore, the network management function includes a topology manager, a performance manager, a connection manager, a fault detection manager, and a configuration manager.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07013084&OS=07013084&RS=07013084
owner: Lambda OpticalSystems Corporation
number: 07013084
owner_city: Reston
owner_country: US
publication_date: 20010228
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["The present invention relates to an optical communications network and, more particularly, to an all-optical switching system for use at nodes in such a network, and to a control architecture for such a network.","Fiber optic and laser technology have enabled the communication of data at ever-higher data rates. The use of optical signals has been particularly suitable for use over long haul links. Moreover, recently there has been a push to integrate optical signals into metro core and other networks. Conventional approaches use switches that receive an optical signal, convert it to the electrical domain for switching, then convert the switched electrical signal back to the optical domain for communication to the next switch. Moreover, while some all-optical switches have been developed that avoid the need for O-E-O conversion, it is time consuming and difficult to configure or re-configure them.","Additionally, conventional network infrastructures provide inefficient bandwidth utilization, inflexibility, fixed bandwidth connections, bandwidth limitations, and overlap of functions.","It is an object of the invention to provide a multi-tiered adaptive control architecture for managing an optical communications network.","It is an object of the invention to provide a control architecture that supports signaling, including signaling at the edge of a network, such as between an edge switch acting as an add\/drop multiplexer and an IP router or ATM function of a network that is accessing the optical network, and signaling between switches that are internal to the optical network.","It is an object of the invention to provide a control architecture that supports routing, such as for setting up the connectivity of light paths in the network.","It is an object of the invention to provide a control architecture that supports protection switching for responding immediately to detected faults such as damaged fiber paths.","It is an object of the invention to implement control architecture functionalities in a hierarchical and distributed manner. The control architecture hierarchy should include a line card manager level for managing individual line cards in an optical switch\/node, a node manager level for managing multiple line cards in an optical switch\/node, and a network management system level for managing multiple optical switches\/nodes in a network.","It is an object of the invention to provide a control architecture that is adaptive in that it detects and reacts to problems at the optical switches or elsewhere in the network. For example, if a laser at one of the switches fails, the control architecture will switch to another laser if available. Or, if a card fails and there are light path connections going though that card, the control architecture moves the connections to another card.","It is an object of the invention to provide a control architecture that follows a \u201cpush model\u201d that facilitates handling of problems at the lowest possible layer in the hierarchy. Upper layers can rely on the fact that if a lower layer determines it cannot handle a problem, it will notify the next higher layer, e.g., via an event such as a fault or alarm. A given layer may also periodically provide performance data to the next higher layer based on a request by the next higher layer, or according to a predetermined schedule.","It is an object of the invention to provide a control architecture that provides at least three levels of control that operate with different response times, such that software at the line card level very closely tracks the hardware and can therefore take immediate action, e.g., within microseconds, software at the node manager level sits a little further away from the hardware and therefore takes more time to act, e.g., milliseconds, and software at the network management level takes even more time to act, e.g., seconds. The increased response time at each higher layer is due to the time spent in aggregating data from the lower layer or layers. For example, a lower layer such as a line card layer may observe laser current consumption over a period of time. When the current consumption eventually exceeds a threshold, the line card layer informs the node manager layer, and it reacts accordingly, e.g., by sending an alarm to the network management system.","It is an object of the invention to provide a control architecture that supports a network management function, which includes: (a) a topology manager for keeping track of the arrangement and physical connectivity of switches in the network, (b) a performance manager for monitoring the performance of the switches, such as a selected port or channel on the switch, and the network as a whole, (c) a connection manager for setting up new light path connections between switches in the network by specifying ports and cross-connects to use at a switch, (d) a fault detection component for detecting and responding to faults, such as hardware faults, and (e) a configuration component for performing configuration tasks, such as determining a switch IP address and switch type, as well as line card-specific information such as serial number and firmware\/software versions being used.","In one aspect of the invention, a control architecture is provided for an optical network having a plurality of optical switches. The control architecture includes, for each optical switch, respective line card managers for managing respective line cards associated therewith, and a node manager for managing the line card managers. The control architecture further includes a centralized network management system for managing the node managers of the optical switches. Moreover, at each optical switch, the node manager includes an event manager for enabling software components running at the node manager to register for, and receive, events, and\/or post events.","Embodiments of the present invention will now be described in detail with reference to the accompanying figures.","A Glossary is provided at the end of the following description, wherein certain terms and acronyms are defined.","1. OTS Overview","The present invention provides for an all optical configurable switch (i.e., network node or OTS) that can operate as an optical cross-connect (OXC) (also referred to as a wavelength cross-connect, or WXC), which switches individual wavelengths, and\/or an optical add\/drop multiplexer (OADM). The switch is typically utilized with a Network Management System also discussed herein.","As an all-optical switching system, the switch of the present invention operates independently of bit rates and protocols. Typically, the all-optical switching, between inputs and outputs of the OTS, is achieved through the use of Micro-Electro-Mechanical System (MEMS) technology. Moreover, this optical switch offers an on-demand \u03bb switching capability to support, e.g., either SONET ring based or mesh configurations.","The OTS also provides the capability to achieve an optimized network architecture since multiple topologies, such as ring and mesh, can be supported. Thus, the service provider can tailor its network design to best meet its traffic requirements. The OTS also enables flexible access interconnection supporting SONET circuits, Gigabit Ethernet (GbE) (IEEE 802.3z), conversion from non-ITU compliant optical wavelengths, and ITU-compliant wavelength connectivity. With these interfaces, the service provider is able to support a broad variety of protocols and data rates and ultimately provide IP services directly over DWDM without SONET equipment. The OTS further enables a scalable equipment architecture that is provided by a small form factor and modular design such that the service provider can minimize its floor space and power requirements needs and thereby incrementally expand its network within the same footprint.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 1"},"OTS equipment is shown within the optical network boundary , and is designed for deployment both at the edges of a metro core network (when operating as an OADM), and internally to a metro core network (when operating as an OXC). For example, the OTSs at the edge of the network include OADMs , ,  and , and the OTSs internal to the network include WXCs , , ,  and . Each OTS is a node of the network.","External devices such as SONET and GbE equipment may be connected directly to the optical network  via the edge OTSs. For example, SONET equipment  and , and GbE equipment  connect to the network  via the OADM . GbE  and SONET  equipment connect to the network via OADM . GbE  and SONET equipment  and  connect to the network via OADM . SONET equipment  connects to the network via OADM . The network architecture may also support other network protocols as indicated, such as IP, MPLS, ATM, and Fibre Channel operating over the SONET and GbE interfaces.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 2","b":["200","210","220","230","235","240","245"]},"A Node Manager  and Optical Performance Monitoring (OPM) module  may also be implemented on respective line cards in the chassis. Node Manager  typically communicates with the rest of the OTS  through a 100 BaseT Ethernet internal LAN distributed to every line card and module and terminated by the Line Card Manager module  residing on every line card. Alternatively, a selectable 10\/100 BaseT connection may be used. OPM  is responsible for monitoring optical hardware of OTS , and typically communicates its findings to the Node Manager  via the internal LAN and the OPM's LCM. The Node manager may process this performance information to determine whether the hardware is functioning properly. In particular, based on the OPM information, the Node Manager may apply control signals to the line cards, switchover to backup components on the line cards or to backup line cards, set alarms for the NMS, or take other appropriate action.","Each of the line cards, including the OPM  and the line cards that carry the optical signals in the network, shown within the dashed line , are controlled by respective LCMs . The Node Manager  may control the line cards, and receive data from the line cards, via the LCMs .","Being interfaced to all other cards of the OTS  via the internal LAN and LCMs, the Node Manager  is responsible for the overall management and operation of the OTS  including signaling, routing, and fault protection. The responsibility for telemetry of all control and status information is delegated to the LCMs. There are also certain local functions that are completely abstracted away from the Node Manager and handled solely by the LCMs, such as laser failsafe protection. Whenever a light path is created between OTSs, the Node Manager  of each OTS performs the necessary signaling, routing and switch configuration to set up the path. The Node Manager  also continuously monitors switch and network status such that fault conditions can be detected, isolated, and repaired. The OPM  may be used in this regard to detect a loss of signal or poor quality signal, or to measure signal parameters such as power, at any of the line cards using appropriate optical taps and processing circuitry. Three levels of fault recovery may be supported: (1) Component Switchover\u2014replacement of failed switch components with backup, (2) Line Protection\u2014rerouting of all light paths around a failed link; and (3) Path Protection\u2014rerouting of individual light paths affected by a link or node failure. Component Switchover is preferably implemented within microseconds, while Line Protection is preferably implemented within milli-seconds of failure, and Path Restoration may take several seconds.","The all-optical switch fabric  is preferably implemented using MEMS technology. However, other optical switching components may be used, such as lithium niobate modules, liquid crystals, bubbles and thermo-optical switching technologies. MEMS have arrays of tiny mirrors that are aimed in response to an electrostatic control signal. By aiming the mirrors, any optical signal from an input fiber (e.g., of a transport ingress or optical access ingress line card) can be routed to any output fiber (e.g., of a transport egress or optical access egress line card).","The Optical Access Network  may support various voice and data services, including switched services such as telephony, ISDN, interactive video, Internet access, videoconferencing and business services, as well as multicast services such as video. Service provider equipment in the Optical Access Network  can access the OTS  in two primary ways. Specifically, if the service provider equipment operates with wavelengths that are supported by the OTS  of the optical network, such as selected OC-n ITU-compliant wavelengths, it can directly interface with the Optical Access (OA) ingress module  and egress module . Alternatively, if the service provider equipment is using a non-compliant wavelength, e.g., in the 1310 nm range, or GbE (or 10 GbE), then it accesses the OTS  via an ALI card . Advantageously, since a GbE network can be directly bridged to the OTS without a SONET Add\/Drop Multiplexer (ADM) and a SONET\/SDH terminal, this relatively more expensive equipment is not required, so service provider costs are reduced. That is, typically, legacy electronic infrastructure equipment is required to connect with a SONET terminator and add-drop multiplexer (ADM). In contrast, these functions are integrated in the OTS of the present invention, resulting in good cost benefits and a simpler network design. In other words, because the GbE physical layer is a substitute for the SONET physical layer, and because there is no reason to stack two physical layers, the SONET equipment would be redundant. Table 1 summarizes the access card interface parameters associated with each type of OA and ALI card, in some possible implementations.",{"@attributes":{"id":"p-0080","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"56pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["Protocol","Data Rate","Card Type","External Ports","Internal Ports"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["ITU-","OC-12","OA","8 OC-12","8 OC-12"]},{"entry":["Compliant","OC-48","OA","8 OC-48","8 OC-48"]},{"entry":["SONET","OC-192","OA","8 OC-192","8 OC-192"]},{"entry":["Non-","OC-12","ALI","8 OC12 Input","2 OC48 Output"]},{"entry":["Compliant",{},{},"8 OC12 Output","2 OC48 Input"]},{"entry":["SONET","OC-48","ALI","8 OC48 Input","2 OC192 Output"]},{"entry":[{},{},{},"8 OC48 Output","2 OC192 Input"]},{"entry":[{},"OC-192","ALI","2 OC192 Input","2 OC192 Output"]},{"entry":[{},{},{},"2 OC192 Output","2 OC192 Input"]},{"entry":["Gigabit","1 Gbps","ALI","8 GbE Input","2 OC48 Output"]},{"entry":["Ethernet",{},{},"8 GbE Output","2 OC48 Input"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}},"The OTS can interface with all existing physical and data-link layer domains (e.g., ATM, IP router, Frame relay, TDM, and SONET\/SDH\/STM systems) so that legacy router and ATM systems can connect to the OTS. The OTS solution also provides the new demand services, e.g., audio\/video on demand, with cost-effective bandwidth and efficient bandwidth utilization.","The OTS  can be configured, e.g., for metro and long haul configurations. In one possible implementation, the OTS can be deployed in up to four-fiber rings, up to four fiber OADMs, or four fiber point-to-point connections. Each OTS can be set to add\/drop any wavelength with the maximum of sixty-four channels of local connections.","2. Hardware Architecture",{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 3","b":["210","211"]},"Generally, selected outputs of the TP ingress cards  and OA ingress cards  are optically coupled by the switching fabric cards  to selected inputs of the TP egress cards  and\/or OA egress cards . The optical coupling between cards and the fabric occurs via an optical backplane, which may comprise optical fibers. Preferably, the cards are optically coupled to the optical backplane when they are inserted into their slots in the OTS bay such that the cards can be easily removed and replaced. For example, MTP\u2122-type connectors (Fiber Connections, Inc.) may be used. This allows easy troubleshooting and upgrading of cards. Moreover, each line card may connect to an RJ-45 connector when inserted into their slots.","Moreover, each TP ingress and OA ingress card has appropriate optical outputs for providing optical coupling to inputs of the switch fabric via the optical backplane. Similarly, each TP egress and OA egress card has appropriate optical inputs for providing optical coupling to outputs of the switch fabric via the optical backplane. With appropriate control signals, the switching fabric is controlled to optically couple selected inputs and outputs of the switch fabric card, thereby providing selective optical coupling between outputs of the TP ingress and OA ingress cards, and the inputs of the TP egress and OA egress cards. As a result, the optical signals carried by the outputs of TP ingress and OA ingress cards can be selectively switched (optically coupled) to the inputs of the TP egress and OA egress cards.","In the example configuration shown in , the transport ingress module  includes four cards , ,  and , each of which includes a wavelength division demultiplexer (WDD), an example of which is the WDD , for recovering the OSC, which may be provided as an out-of-band signal with the eight multiplexed data signals (\u03bb's).","An optical amplifier (OA), an example of which is the OA , amplifies the optical transport signal multiplex, and a demux, an example of which is the demux , separates out each individual wavelength (optical transport signal) in the multiplex. Each individual wavelength is provided to the switch fabric  via the optical backplane, then switched by one of the modules  thereat. The outputs of the switch fabric  are provided to the optical backplane, then received by either a mux, an example of which is the mux , of one of the transport egress cards , ,  or , or an 8\u00d78 switch of one of the OA egress cards . At each of the TP egress cards, the multiplexer output is amplified at the associated OA, and the input OSC is multiplexed with data signals via the WDM. The multiplexer output at the WDM can then be routed to another OTS via an optical link in the network. At the OA egress cards , each received signal is amplified and then split at 1\u00d72 dividers\/splitters to provide corresponding outputs either to the faceplate of the OA egress cards for compliant wavelengths, or to the ALI cards via the optical backplane for non-compliant wavelengths. Note that only example light paths are shown in , and that for clarity, all possible light paths are not depicted.","The ALI cards perform wavelength conversion for interfacing with access networks that use optical signals that are non-compliant with the OTS. As an example, the ALI card receives non-compliant wavelength signals, converts them to electrical signals, multiplexes them, and generates a compliant wavelength signal. Two optical signals that are output from the ALI card  are shown as inputs to one of the OA_In cards  to be transmitted by the optical network, and two optical signals that are output from one of the OA_Eg cards  are provided as inputs to the ALI cards . N total inputs and outputs (e.g., N=4, two inputs and two outputs) may be input to, or output from, the ALI cards .","The OSC recovered at the TP ingress cards, namely OSC, is processed by the Optical Signaling Module (OSM) of the OTS using an O-E conversion. The OSM generates a signaling packet that contains signaling and route information, and passes it on to the Node Manager. The OSM is discussed further below, particularly in conjunction with . If the OSC is intended for use by another OTS, it is re-generated by the OSM for communication to another OTS and transmitted via, e.g., OSC. Or, if the OSC is intended for use only by the present OTS, there is no need to relay it to a further node. Alternatively, OSCcould also represent a communication that originated from the present OTS and is intended for receipt, e.g., by another node. For a group of nodes operating under the control of an NMS, typically only one of the nodes acts as a gateway to the shared NMS. The other nodes of the group communicate with the NMS via the gateway node and communication by the other nodes with their gateway node is typically also accomplished via the OSC.",{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIG. 4"},"In particular, the LCM may use Ethernet layer 2 (L2) datagrams for communication with the Node Manager, with the Node Manager being the highest-level processor within an individual OTS. The Node Manager and all OTS line cards plug into a 100 BaseT port on one or more hubs via RJ-45 connectors to allow electronic signaling between LCMs and the Node Manager via an internal LAN at the OTS. In a particular embodiment, two twenty-four port hubs are provided to control two shelves of line cards in an OTS bay, and the different hubs are connected by crossover cables. For example,  depicts LCMs  and associated line cards  as connected to hubs  and , which may be 24-port 100 BaseT hubs. The line cards may perform various functions as discussed, including Gigabit Ethernet interface (a type of ALI card), SONET interface (a type of ALI card), TP ingress, TP egress, optical access ingress, optical access egress, switching fabric, optical signaling, and optical performance monitoring.","Moreover, while only one Node Manager is required, the primary Node Manager  can be provided with a backup Node Manager  for redundancy. Each Node Manager has access to the non-volatile data on the LCMs which help in reconstructing the state of the failed node manager. The backup Node Manager gets copies of the primary node manager non-volatile store, and listens to all traffic (e.g., messages from the LCMs and the primary Node Manager) on all hubs in the OTS to determine if the primary has failed. Various schemes may be employed for determining if the primary Node Manager is not functioning properly, e.g., by determining whether the primary Node Manager  responds to a message from an LCM within a specified amount of time.","In particular, the hubs  and  are connected to one another via a crossover  and additional hubs may also be connected in this manner. See also . In terms of the OTS bay, every shelf connects to a 100 BaseT hub. This use of an Ethernet backplane provides both hot-swappability of line cards (i.e., removal and insertion of line cards into the OTS bay when optical and\/or electrical connections are active), and totally redundant connections between the line cards and both Node Managers. Moreover, if the node is a gateway, its primary Node Manager communicates with the NMS, e.g., via a protocol such as SNMP, using 100 BaseT ports , . Alternatively, selectable 10\/100 BaseT may be used. RJ-45 connectors on the faceplate of the Node Manager circuit pack may be used for this purpose.","The Node Manager and Line Card Manager are described further, below.","3. Node Manager Module",{"@attributes":{"id":"p-0097","num":"0096"},"figref":"FIG. 5","b":["250","250"]},"The Node Manager executes all application software at the OTS, including network management, signaling, routing, and fault protection functions, as well as other features.","As discussed above, each Node Manager circuit pack has a 100 BaseT network connection to a backplane hub that becomes the shared medium for each LCM in the OTS. Additionally, for a gateway OTS node, another 100 BaseT interface to a faceplate is provided for external network access.","The Node Manager Core Embedded Software performs a variety of functions, including: i) issuing commands to the LCMs, ii) configuring the LCMs with software, parameter thresholds or other data, iii) reporting alarms, faults or other events to the NMS, and iv) aggregating the information from the LCMs into a node-wide view that is made available to applications software at the Node Manager. This node-wide view, as well as the complete software for each LCM controller, are stored in flash memory . The node- or switch-wide view may provide information regarding the status of each component of the switch, and may include, e.g., performance information, configuration information, software provisioning information, switch fabric connection status, presence of alarms, and so forth. Since the node's state and the LCM software are stored locally to the node, the Node Manager can rapidly restore a swapped line card to the needed configuration without requiring a remote software download, e.g., from the NMS.","The Node Manager is also responsible for node-to-node communications processing. All signaling messages bound for a specific OTS are sent to the Node Manager by that OTS's optical signaling module. The OSM, which has an associated LCM, receives the OSC wavelength from the Transport Ingress module. The incoming OSC signal is converted from optical to electrical, and received as packets by the OSM. The packets are sent to the Node Manager for proper signaling setup within the system. On the output side, out-going signaling messages are packetized and converted into an optical signal of, e.g., 1310 nm or 1510 nm, by the OSM, and sent to the Transport Egress module for transmission to the next-hop OTS. The Node Manager configures the networking capabilities of the OSM, e.g., by providing the OSM with appropriate software for implementing a desired network communication protocol.","The Node Manager may receive remote software downloads from the NMS to provision itself and the LCMs. The Node Manager distributes each LCM's software via the OTS's internal LAN, which is preferably a shared medium LAN. Each LCM may be provisioned with only the software it needs for managing the associated line card type. Or, each LCM may be provisioned with multi-purpose software for handling any type of line card, where the appropriate software and\/or control algorithms are invoked after an LCM identifies the line card type it is controlling (e.g., based on the LCM querying its line card or identifying its slot location in the bay).","In one possible implementation, the Node Manager uses a main processor , such as the 200 MHz MPC 8255 or MPC8260 (Motorola PowerPC microprocessor, available from Motorola Corp., Schaumburg, Ill.), with an optional plug-in module  for a higher power plug-in processor , which may be a RISC CPU such as the 400 MHz MPC755. These processors ,  simultaneously support Fast Ethernet, 155 Mbps ATM and 256 HDLC channels. However, the invention is not limited to use with any particular model of microprocessor. Moreover, while the plug-in module  is optional, it is intended to provide for a longer useful life for the Node Manager circuit pack by allowing the processor to be upgraded without changing the rest of the circuit pack.","The Node Manager architecture is intended to be flexible in order to meet a variety of needs, such as being a gateway and\/or OTS controller. The architecture is typically provided with a communications module front end that has two Ethernet interfaces: 1) the FCC2 channel , which is a 100 BaseT to service the internal 100 BaseT Ethernet hub on the backplane , and, for gateway nodes, 2) the FCC3 channel , which is a 100 BaseT port to service the NMS interface to the outside. The flash memory  may be 128 MB organized in a x16 array, such that it appears as the least significant sixteen data bits on the bus . See the section entitled \u201cFlash Memory Architecture\u201d for further information regarding the flash memory .","The bus  may be an address and data bus, such as Motorola's PowerPC 60x. The SDRAM  may be 256 MB organized by sixty-four data bits. An EPROM  may store start up instructions that are loaded into the processor  or  via the bus  during an initialization or reset of the Node Manager. A PCMCIA Flash disk  also communicates with the bus , and is used for persistent storage, e.g., for storing long term trend data and the like from monitored parameters of the line cards. A warning light may be used so that the Flash disk is not inadvertently removed while data is being written to it. Preferably, to prevent tampering, the non-volatile memory resources, such as the Flash disk, are designed so that they cannot be removed while the Node Manager card is installed on the OTS backplane.","Additionally, there is a SDRAM  (e.g., having 4 MB) on the local bus , which is used to buffer packets received on the communications module front-end of the main processor . The local bus  may carry eighteen address bits and thirty-two data bits.","Flexibility is promoted if the core microprocessor (such as is possible with Motorola's PowerPC 603e core inside the MPC8260)  can be disabled, and the plug-in processor  can be installed on the bus . Such plug-in processor  can be further assisted with an L2 backside cache , e.g., having 256 KB. It is expected that a plug-in processor can be used to increase the performance of the Node Manager  by more than double. As an example, the plug-in processor  may be any future type of RISC processor that operates on the 60x bus. The processor  yields the bus to, and may also align its peripherals to, the more powerful plug-in processor . In addition to providing a general purpose path for upgradability of the Node Manager, the plug-in processor is also useful, e.g., for the specific situation where the OTS has had line cards added to it and the main processor  is therefore no longer able to manage its LCMs at a rate compatible with the desired performance characteristics of the optical networking system.","A serial port  for debugging may also be created.","In summary, the Node Manager provides NMS interface and local node management, as well as providing signaling, routing and fault protection functions (all using the Node Manager's application software), provides real-time LCM provisioning, receives monitored parameters and alarms\/faults from each LCM, aggregates monitored parameters and alarms\/faults from each line card into a node-wide view, processes node-to-node communication messages, provides remote software download capability, distributes new software to all LCMs, is expandable to utilize a more powerful CPU (through plug-in processor ), such as of RISC design, is built on a Real-Time Operating System (RTOS), provides intra-OTS networking support (e.g., LAN connectivity to LCMs), and provides node-to-node networking support.","4. Line Card Manager Module",{"@attributes":{"id":"p-0111","num":"0110"},"figref":"FIG. 6","b":"600"},"The line cards which an LCM  may control include any of the following: switch fabric, TP_IN, TP_EG, OA_IN, OA_EG, OSM, OPM, or ALI cards (acronyms defined in Glossary).","The LCM daughter board is built around an embedded controller\/processor , and contains both digital and analog control and monitoring hardware. LCMs typically communicate with the Node Manager via the OTS internal LAN. The LCM receives commands from the Node Manager, such as for configuring the line cards, and executes the commands via digital and analog control signals that are applied to the associated line card. The LCM gathers from its line card digital and analog feedback and monitored parameter values, and may periodically send this information to the Node Manager, e.g., if requested by the Node Manager. The LCM also passes events such as faults\/alarms and alerts to the Node Manager as they occur. These values and all provisioning data are kept in an in-memory snapshot of the line card status.","Preferably, the LCM stores this snapshot and a copy of the software that is currently running the LCM in its non-volatile (e.g., flash) memory  to allow rapid rebooting of the LCM. Specifically, when the LCM powers up, it loads the software from the non-volatile memory  into SDRAM , and then begins to execute. This avoids the need for the LCM to download the software from the Node Manager via the OTS internal LAN each time it starts up, which saves time and avoids unnecessary traffic on the internal OTS LAN. The software logic for all line cards is preferably contained in one discrete software load which has the ability to configure itself based on the identity of the attached line card as disclosed during the discovery phase of LCM initialization. The type of line card may be stored on an EEPROM on the line card. The LCM queries the EEPROM through the IC bus to obtain the identifier.","See the section entitled \u201cFlash Memory Architecture\u201d for further information regarding the flash memory .","The LCM can also receive new software from the Node Manager via the OTS internal LAN and store it in the flash memory . It is desirable to have sufficient non-volatile memory at the LCM to store two copies of the software, i.e., a current copy and a backup copy. In this way, a new software version, e.g., that provides new features, could be stored at the LCM and tested to see if it worked properly. If not, the backup copy (rollback version) of the previous software version could be used.","The Node Manager delegates most of the workload for monitoring and controlling the individual line cards to each line card's local LCM. This reduces the central point of failure threat posed by a centralized architecture, increasing the probability that the optical network can keep functioning, even if levels of control above the LCM (i.e., the Node Manager or NMS) were to suffer a failure. Distributed architectures also scale better since, as each line card is added, at least one dedicated processor daughter board (i.e., the LCM) is added to control it. In one possible implementation, the controller  is the 200 MHz Motorola MPC8255 or MPC8260. However, the invention is not limited to use with any particular model of microprocessor. The controller  may have a built-in communications processor front-end, which includes an Ethernet controller (FCC2)  that connects to the Node Manager via the internal switch LAN. In the embodiment shown, this connection is made via the line card using an RJ-45 connector. Other variations are possible.","The flash memory  may be 128 MB organized in x16 mode, such that it appears as the least significant sixteen data bits on the bus , which may be Motorola's 60x bus. The SDRAM  may be 64 MB organized by sixty-four data bits. An A\/D converter , such as the AD7891-1 (Analog Devices, Inc., Norwood, Mass.) includes a 16 channel analog multiplexer into a 12 bit A\/D converter. A D\/A converter , which may be an array of four \u201cquad\u201d D\/A converters, such as MAX536's (Maxim Integrated Products, Inc., Sunnyvale, Calif.), provides sixteen analog outputs to a connector , such as a 240-pin Berg Mega-Array connector (Berg Electronics Connector Systems Ltd, Herts, UK). The LCMs and line cards preferably adhere to a standard footprint connect scheme so that it is known which pins of the connector are to be driven or read. Essentially, a telemetry connection is established between the LCM and the line card via the connector .","Advantageously, since the LCM can be easily removed from its line card instead of being designed into the line card, it can be easily swapped with an LCM with enhanced capabilities, e.g., processor speed and memory, for future upgrades.","The LCM daughter board removeably connects to the associated line card via a connector . A serial port  for debugging may be added. For the MPC8255 or MPC8260, such a serial port  may be constructed from port D (SMC1). There is typically a 4 MB SDRAM  on the Local Bus , which is used to buffer packets received on the communications module front-end of the controller . Port A  receives a latch signal.","A serial bus known as a Serial Peripheral Interface SPI  is specialized for A\/D and D\/A devices, and is generated by the controller . It is a three-wire SPI for transmitted data, received data, and clock data that may be used with the more complicated line cards that have many registers and inputs\/outputs. Examples of such more complicated line cards may be the OC-n and GbE ALI cards and the switching fabric line cards. Essentially, the SPI  provides an interface that allows a line card to communicate directly with the controller . The SPI  may carry analog signals to the line card via the D\/A , or receive analog signals from the line card via the A\/D .","The FPGA  provides a 40-bit status read only register for reading in signals from the line card, and a 32 bit read\/write control register for reading\/writing of control signals from\/to the line card. These registers may be addressed via a GPIO on the connector . The FPGA  also receives an 8-bit line card ID tag that identifies the location of the line card within the OTS (i.e., slot, shelf and bay) since certain slots are typically reserved for certain line card types. The slot locations are digitally encoded for this purpose. Alternatively, or in addition, the type of line card could be identified directly regardless of the slot, shelf and bay, e.g., by using a serial number or other identifier stored on the line card and accessible to the LCM, e.g., via an IC bus . This bus enables the communication of data between the controller  and the connector . In particular, the bus  may be part of a GPIO that receives information from a line card, including the bay, shelf and slot, that identifies the line card's position at the OTS.","The controller  may receive a hard reset signal from the Node Manager, e.g., via the Ethernet controller (FCC2) , which clears all registers and performs a cold boot of the system software on the LCM, and a soft reset signal, which performs a warm boot that does not interfere with register contents. The soft reset is preferred for preserving customer cross connect settings.","To fulfill the mission of the Node Manager as an abstraction\/aggregation of the LCM primitives, the LCM is preferably not accessible directly from the customer LAN\/WAN interfaces.","An EPROM , e.g., having 8 KB, may store instructions that are loaded into the processor  via the bus  during an initialization or reset of the LCM.","The microcontroller  typically integrates the following functions: 603e core CPU (with its non-multiplexed 32 bit address bus and bi-directional 64 bit data bus), a number of timers (including watchdog timers), chip selects, interrupt controller, DMA controllers, SDRAM controls, and asynchronous serial ports. The second fast communication channel (FCC2) 100 BaseT Ethernet controller is also integrated into the Communications Processor Module functions of the controller . The microcontroller may be configured for 66 Mhz bus operation, 133 Mhz CPM operation, and 200 Mhz 603e core processor operation.","In summary, the line card manager module provides local control for each line card, executes commands received from the Node Manager, provides digital and\/or analog control and monitoring of the line card, sends monitored parameters and alarms\/faults of the line card to the Node Manager, provides an embedded controller with sufficient processing power to support a RTOS and multi-tasking, and provides Intra-OTS networking support.","5. OTS Configuration",{"@attributes":{"id":"p-0129","num":"0128"},"figref":"FIG. 7"},"The OTS  includes an optical backplane  that uses, e.g., optical fibers to couple optical signals to the different optical circuit cards (line cards). Preferably, specific locations\/slots of the chassis are reserved for specific line card types according to the required optical inputs and outputs of the line card. Moreover, the optical backplane  includes optical connections to optical links of the optical network, and, optionally, to links of one or more access networks.","Furthermore, while one of each line card type is shown, as noted previously, more than one line card of each type is typically provided in an OTS configuration.","Each of the optical circuit cards (specifically, the LCMs of the cards) also communicates via a LAN with the Node Manager to enable the control and monitoring of the line cards.","The optical inputs and outputs of each card type are as follows:","ALI\u2014inputs an from access network link and OA egress cards; outputs to an access network link and OA ingress cards;","OA ingress cards\u2014inputs from an access network link and ALI cards; outputs to switching fabric cards and OPM cards;","OA egress cards\u2014inputs from switching fabric cards; outputs to ALI cards, OPM cards, and an access network link;","TP ingress cards\u2014inputs from an optical network link; outputs to switching fabric cards and OPM cards;","TP egress cards\u2014inputs from switching fabric cards; outputs to an optical network link and OPM cards;","Switch fabric cards\u2014inputs from OA ingress cards and TP ingress cards; outputs to OA egress cards and TP egress cards;","OSM\u2014inputs from TP ingress cards; outputs to TP egress cards; and","OPM\u2014inputs from TP ingress cards, TP egress cards, OA ingress cards, and OA egress cards (may monitor additional cards also).","6. Interconnected Backplane Ethernet Hubs",{"@attributes":{"id":"p-0143","num":"0142"},"figref":"FIG. 8","b":["830","840","830","840","815","825","835","845","820","820","820","815","835","830","825","845","840","842"]},"In this arrangement, the backup Node Manager  shadows the primary Node Manager  by listening to all traffic on the internal OTS backplane hubs (the shared media LAN), to determine when the primary Node Manager ceases to operate. When such a determination is made, the backup Node Manager takes over for the primary Node Manager .","7. Optical Signaling Module",{"@attributes":{"id":"p-0146","num":"0145"},"figref":"FIG. 9","b":["900","905","910","916","915","918","917","921","920","950","955","966","965","968","967","971","970"]},"The OSC wavelength from the Transport Ingress module is extracted and fed into the optical signaling module (OSM). For example, assume the network topology is such that the node A  receives the OSC first, then forwards it to node B . In this case, the extracted OSC wavelength from the OSM  is provided to the OSM . The incoming OSC wavelength from node A  is converted from optical to electrical and packetized by the OSM , and the packets are sent to the Node Manager  for proper signaling setup within the system. On the output side of Node B , outgoing signaling messages are packetized and converted into an optical signal by OSM  and sent to the Transport Egress module for the next-hop OTS. Note that the OSC connection shown in  is logical, and that the OSC typically propagates from TP card to TP card where it is added to TP_Eg by the outgoing OSM and extracted from TP_In by the inbound OSM.",{"@attributes":{"id":"p-0148","num":"0147"},"figref":"FIG. 9","b":["901","900","904","906","900","901","902","908","909","904","906"]},"Each Node Manager at each OTS typically has three distinct network interfaces: 1) a 100 BaseT interface to the intra-OTS LAN, 2) a 100 BaseT interface to remote NMS platforms, and 3) an out-of-band optical signaling channel (OSC) for node-to-node communications. OTSs that act as gateways to the NMS, such as node A , may use the 100 BaseT interface, while non-gateways nodes, such as node B , need not have this capability. Advantageously, the service provider's LAN is separated from the OTS LAN for more efficient traffic handling. Layer 3 (L3) IP routing over the OSC provides nodes without gateway connectivity access to nodes that have such Gateway capability. L3 here refers to the 3layer of the OSI model, i.e., the network layer.","Moreover, there are three different levels of messaging-related software on the OTS Node Manager. First, an NMS connects to application software on the Node Manager through the Node Manager NMS agent. Second, an \u201cS\u201d (services) message interface provides an abstraction layer for connecting Node Manager application software to a collection of Core Embedded Control software services, on the Node Manager, that serves to aggregate information sent to, or received from, the LCMs. Third, a \u201cD\u201d (driver) message interface connects the aggregating software of the Node Manager to the LCMs.","8. Optical Switch Fabric Module",{"@attributes":{"id":"p-0152","num":"0151"},"figref":"FIG. 10","b":["210","210","1010","1050","210"]},"The switch fabric  may receive optical inputs from an input module  such as a transport ingress card and\/or an optical access ingress card. The switch fabric provides the corresponding optical outputs to designated ports of an output module , such as a transport egress card and\/or an optical access egress card. Note that, for clarity of depiction in , only example light paths are shown.","In summary, the optical switch module provides wavelength-level switching, individually controllable signal attenuation of each output, interconnection to other modules via the optical fiber backplane, power level control management for ensuring that the power of the signal that is output between switches is acceptable, and path loss equalization for ensuring that all channels have the same power. The optical switch module may also use an inherently very low cross-talk switch fabric technology such as MEMS, typically with a 2-D architecture, have a modular architecture for scalability with 8\u00d78 switch modules, and provide digital control of the MEMS fabric with electrostatic actuation.","9. Optical Transport Modules","The optical transport module (or \u201cTP\u201d module) is a multiplexed multi-wavelength (per optical fiber) optical interface between OTSs in an optical network. For configuration and network management, this transport module supports in-band control signals, which are within the EDFA window of amplification, e.g., 1525\u20131570 nm, as well as out-of-band control signals. For the out-of-band channel, the OTS may support a 1510 nm channel interface. The OTS uses two primary types of transport modules: Transport Ingress  () and Transport Egress  ().","In summary, the optical transport module provides demultiplexing of the OSC signal (ingress module), multiplexing of the OSC signal (egress module), optical amplification (ingress and egress modules) which may use low noise optical amplification and gain flattening techniques, demultiplexing of the multi-wavelength transport signal (ingress module), multiplexing of the individual wavelength signals (egress module). The optical transport module may also provide dynamic suppression of optical power transients of the multi-wavelength signal. This suppression may be independent of the number of the surviving signals (i.e., the signals at the transport ingress module that survive at the transport egress module\u2014some signals may be egressed due to drop multiplexing), and independent of the number of the added signals (i.e., the signals added at the transport egress module that are not present at the transport ingress module\u2014these signals may be added using add multiplexing). The optical transport module may also provide dynamic power equalization of individual signals, wavelength connection to the optical switch fabric via the optical backplane, and pump control.",{"@attributes":{"id":"p-0158","num":"0157"},"figref":"FIG. 11","b":["240","1105","1110","1115","1120","1122","1124"]},"Additionally, a filter  filters the OSC before it is provided to the OSM. A coupler  couples a tapped pre-amplified optical signal to the OPM, and to a PIN diode  to provide a first feedback signal. In particular, the PIN diode outputs a current that represents the power of the optical signal. The OPM may measure the power of the optical signal (as well as other characteristics such as wavelength registration), typically with more accuracy than the PIN diode. The tap used allows monitoring of the multi-wavelength signal and may be a narrowband coupler with a low coupling ratio to avoid depleting too much signal power out of the main transmission path. Similarly, a coupler  couples a tapped amplified optical signal to the OPM, and to a PIN diode  to provide a second feedback signal. Moreover, the pump laser  is responsive to a pump laser driver  and a TEC driver . Similarly, the high-power pump laser  is responsive to a pump laser driver  and a TEC driver . Both pump laser drivers  and  are responsive to an optical transient and amplified spontaneous emission noise suppression function , which in turn is responsive to the feedback signals from the PIN diodes  and , and control signals from the LCM . A DC conversion and filtering function may be used to provide local DC power.","The LCM  provides circuit parameters and control by providing control bits and receiving status bits, performs A\/D and D\/A data conversions as required, and communicates with the associated Node Manager via an Ethernet or other LAN.","In particular, the LCM  may provide control signals, e.g., for pump laser current control, laser on\/off, laser current remote control, TEC on\/off, and TEC remote current control. The LCM  may receive status data regarding, e.g., pump laser current, backface photocurrent, pump laser temperature, and TEC current.",{"@attributes":{"id":"p-0162","num":"0161"},"figref":"FIG. 12","b":["245","1205","1210","1215","1220","1222","1224"]},"Analogous to the transport ingress module , the transport egress module  also includes a coupler  that couples a tapped pre-amplified optical signal to the OPM module, and to a PIN diode  to provide a first feedback signal, e.g., of the optical signal power. Similarly, a coupler  couples a tapped amplified optical signal to the OPM module, and to a PIN diode  to provide a second feedback signal. Moreover, the pump laser  is responsive to a pump laser driver  and a TEC driver . Similarly, the high-power pump laser  is responsive to a pump laser driver  and a TEC driver . Both pump laser drivers  and  are responsive to an optical transient and amplified spontaneous emission noise suppression function , which in turn is responsive to feedback signals from the PIN diodes  and , and the LCM . A DC conversion and filtering function may be used to provide local DC power.","The LCM  operates in a similar manner as discussed in connection with the LCM  of the TP ingress module.","10. Optical Access Modules","The optical access module  provides an OTS with a single wavelength interface to access networks that use wavelengths that are compliant with the optical network of the OTSs, such as ITU-grid compliant wavelengths. Therefore, third party existing or future ITU-grid wavelength compliant systems (e.g. GbE router, ATM switch, and Fibre Channel equipment) can connect to the OTS. The optical access modules are generally of two types: Optical Access Ingress  () for ingressing (inputting) one or more signals from an access network, and Optical Access Egress  () for egressing (outputting) one or more signals to an access network. The ITU grid specifies the minimum spacing and the actual wavelengths of the individual wavelengths in a WDM system.","Various functions and features provided by the optical access modules include: optical amplification, connection to the optical switch fabric to route the signal for its wavelength provisioning, ITU-Grid wavelength based configuration, re-configuration at run-time, direct connectivity for ITU-grid based wavelength signals, local wavelength switching, and direct wavelength transport capability.",{"@attributes":{"id":"p-0168","num":"0167"},"figref":"FIG. 13","b":["230","1350","1310","1360"]},"In particular, each 2\u00d71 switch receives a compliant wavelength (\u03bb) from the faceplate and from the output of an ALI card via the optical backplane. In a particular example, eight compliant wavelengths from the outputs of four ALI cards are received via the optical backplane. The LCM  provides a control signal to each switch to output one of the two optical inputs to an associated EDFA.","The LCM  operates in a similar manner as discussed in connection with the TP ingress and egress modules.","Taps  are provided for each of the signals input to the switch  to provide monitoring points to the OPM via the optical backplane. Similarly, taps  are provided for each of the output signals from the switch  to obtain additional monitoring points for the OPM via the optical backplane.","In particular, the performance of the optical signals is monitored, and a loss of signal detected. Each wavelength passes through the optical tap  and a 1\u00d72 optical splitter that provides outputs to: (a) a 8\u00d71 optical coupler to provide a signal to the OPM via the optical backplane, and (b) a PIN diode for loss of signal detection by the LCM . The OPM is used to measure the OSNR and for wavelength registration. The wavelengths at the taps  are provided to a 8\u00d71 optical coupler to provide a signal to the OPM via the optical backplane. The optical taps, optical splitters and 8\u00d71 optical coupler are passive devices.",{"@attributes":{"id":"p-0173","num":"0172"},"figref":"FIG. 14","b":["235","235","1450","1470","1420"]},"In particular, the optical switch  receives eight optical inputs from a switch fabric module . Taps  and  provide monitoring points for each of the inputs and outputs, respectively, of the switch  to the OPM via the optical backplane. The optical signals from the switch fabric are monitored for performance and loss of signal detection as discussed in connection with the Optical Access Ingress module .","The LCM  provides control signals to the switches  for outputting eight compliant wavelengths to the faceplate, and eight compliant wavelengths to the input of four ALI cards via the optical backplane. The LCM  operates in a similar manner as discussed previously.","11. Access Line Interface Modules","This O\/E\/O convergent module is a multi-port single wavelength interface between the switching system and legacy access networks using non-compliant wavelengths, e.g., around 1300 nm. The ALI module\/card may be provided as either a GbE interface module () or SONET OC-n module. For example,  shows the ALI module configured as an OC-12 module ,  shows the ALI module configured as an OC-48 module , and  shows the ALI module configured as an OC-192 module . Other OC-n speeds may also be supported. In , the solid lines denote transport data flow, and the dashed lines denote control data flow.","Referring to , the GbE module provides dual data paths, each of which accepts four GbE signals, and multiplexes them to a single OC-48 signal. In the other direction, the module accepts an OC-48 signal and demultiplexes it into four GbE signals in each of the two paths.","The GbE module includes SONET framers  and  that handle aggregation and grooming from each GbE port. The SONET framers may use the Model S4083 or Yukon chips from Advanced Micro Circuits Corporation (AMCC) of Andover, Mass. The module aggregates two or more GbE lines into each SONET framer , , which support OC-48 and OC-192 data rates. The module also performs wavelength conversion to one of the ITU-grid wavelengths. For each of the modules \u2013, the desired ITU-grid wavelength is configured at initial path signaling setup.","For scheduling the use of OA bandwidth to support multiple legacy access networks, a variety of scheduling algorithms may be used when the aggregate bandwidth of the ALI inputs is greater than that of the ALI output. Such algorithms are typically performed by FPGAs  and . For example, one may use round robin scheduling, where the same bandwidth is allocated to each of the GbE interfaces, or weighted round robin scheduling, where relatively more bandwidth is allocated to specified GbE interfaces that have a higher priority.","The MAC\/PHY chips , , ,  communicate with GbE transceivers, shown collectively at , which in turn provide O-E and E-O conversion. MAC, or Media Access Control, refers to processing that is related to how the medium (the optical fiber) is accessed. The MAC processing performed by the chips may include frame formatting, token handling, addressing, CRC calculations, and error recovery mechanisms. The Physical Layer Protocol, or PHY, processing, may include data encoding or decoding procedures, clocking requirements, framing, and other functions. The chips may be AMCC's Model S2060. The module also includes FPGAs ,  which are involved in signal processing, as well as a control FPGA . The FPGAs ,  may be the Model XCV300 from Xilinx Corp., San Jose, Calif. Optical transceivers (TRx)  and  perform O-E and E-O conversions. In an ingress mode, where optical signals from an access network are ingressed into an OTS via the an ALI card, the MAC\/PHY chips \u2013 receive input signals from the GbE transceivers , and provide them to the associated FPGA  or , which in turn provides the data in an appropriate format for the SONET framers  and , respectively. The SONET framers  or  output SONET-compliant signals to the transceivers  and , respectively, for subsequent E-O conversion and communication to the OA_In cards  via the optical backplane.","In an egress mode, where optical signals are egressed from the all optical network to an access network via the OTS, SONET optical signals are received from the optical access egress cards  at the transceivers  and , where O-E conversion is performed, the results of which are provided to the SONET framers  or  for de-framing. The de-framed data is provided to the FPGAs  and , which provide the data in an appropriate format for the MAC\/PHY chips \u2013. The MAC\/PHY chips include FIFOs for storing the data prior to forwarding it to the GbE transceivers .","The control FPGA  communicates with the ALI card's associated LCM, and also provides control signals to the transceivers  and , FPGAs  and , SONET framers  and , and MAC\/PHY chips \u2013. The FPGA  may be the Model XCV150 from Xilinx Corp.","In summary, the ALI modules may include module types \u2013, having: 16 physical ports (8 input and 8 output) of GbE, OC-12, or OC-48, and four physical ports (two input and two output) of OC-192. Module has four physical ports on either end. The ALI modules may support OC-12 to OC-192 bandwidths (or faster, e.g., OC-768), provide wavelength conversion, e.g., from the 1250\u20131600 nm range, to ITU-compliant grid, support shaping and re-timing through O-E-O conversion, provide optical signal generation and amplification, and may use a wavelength channel sharing technique.","See  for additional related information.",{"@attributes":{"id":"p-0186","num":"0185"},"figref":["FIGS. 16","FIG. 29"],"b":["17","18"]},{"@attributes":{"id":"p-0187","num":"0186"},"figref":"FIG. 16","b":["220","1610","1620"],"i":"b"},"In an optical ingress mode, Quad PHY functions  and  each receive four signals from OC-12 interfaces via transceivers, shown collectively at , and provide them to corresponding SONET framers  and , respectively. The SONET Framers may use AMCC's Model S4082 or Missouri chips. The Quad PHY functions may each include four of AMCC's Model S3024 chips. The SONET framers  and  provide the data in frames. Since four OC-12 signals are combined, a speed of OC-48 is achieved. The framed data is then provided to optical transceivers  and  for E-O conversion, and communication to the optical access ingress cards  via the optical backplane. The SONET framers  and  may also communicate with adjacent ALI cards via an electrical backplane to receive additional input signals, e.g., to provide a capability for switch protection mechanisms. The electrical backplane may comprise a parallel bus that allows ALI cards in adjacent bays to communicate with one another. The electrical backplane may also have a component that provides power to each of the cards in the OTS bay.","In an optical egress mode, optical signals are received by the transceivers  and  from the OA_Eg cards and provided to the SONET framers  and  following O-E conversion. The SONET framers  and  provide the signals in a format that is appropriate for the Quad PHY chips  and .","The control FPGA  communicates with the ALI card's associated LCM, and also provides control signals to the transceivers  and , SONET framers  and , and Quad PHY chips  and .",{"@attributes":{"id":"p-0191","num":"0190"},"figref":"FIG. 17","b":["220","1710","1720"],"i":"c"},"In an optical ingress mode, PHY chips , ,  and  each receive two signals from OC-48 interfaces via transceivers  and provide them to corresponding SONET framers  and , respectively. The SONET framers  and  provide the signals in frames. Since four OC-48 signals are combined, a speed of OC-192 is achieved. The signals are then provided to optical transceivers  and  for E-O conversion, and for communication to optical access ingress cards  via the optical backplane. The SONET framers  and  may also communicate with adjacent ALI cards.","In an optical egress mode, optical signals are received by the optical transceivers  and  from optical access egress cards and provided to the SONET framers  and  following O-E conversion at the transceivers , . The SONET framers  and  provide the signals in a format that is appropriate for the OC-48 interfaces. The formatted optical signals are provided to the OC-48 interfaces via the PHY chips \u2013. Moreover, dedicated ports may be provided, which obviate MAC processing.","The FPGA  communicates with the ALI card's associated LCM, and also provides control signals to the transceivers  and , SONET framers  and , and PHY chips \u2013.",{"@attributes":{"id":"p-0195","num":"0194"},"figref":"FIG. 18","b":["220","1810","1820"],"i":"d"},"In an optical ingress mode, PHY chips  and  each receive a signal from OC-192 interfaces via transceivers  and provide it to corresponding SONET framers  and , respectively, which provide the signals in frames. The signals are then provided to optical transceivers  and  for E-O conversion, and communicated to OA_In cards  via the optical backplane. The SONET framers  and  may also communicate with adjacent ALI cards.","In an optical egress mode, optical signals are received by the optical transceivers  and  from the OA_Eg cards and provided to the SONET framers  and  following O-E conversion. The SONET framers  and  provide the signals in a format that is appropriate for the OC-192 interfaces. The formatted signals are provided to the OC-192 interfaces via the PHY chips  and .","The FPGA  communicates with the ALI card's associated LCM, and also provides control signals to the transceivers  and , SONET framers  and , and PHY chips  and .","12. Optical Performance Monitoring Module","Referring to , the Optical Performance Monitoring (OPM) module  is used for several activities. For example, it monitors the power level of a multi-wavelength signal, the power level of a single wavelength signal, and the optical signal-to-noise ratio (OSNR) of each wavelength. It also measures wavelength registration. Each incoming wavelength power variation should be less than 5 dB and each out-going wavelength power variation should be less than 1 dB.","In particular, the OPM acts as an optical spectrum analyzer. The OPM may sample customer traffic and determine whether the expected signals levels are present. Moreover, the OPM monitoring is in addition to the LCM monitoring of a line card, and generally provides higher resolution readings. The OPM is connected through the optical backplane, e.g., using optical fibers, to strategic monitoring points on the line cards. The OPM switches from point to point to sample and take measurements. Splitters, couplers and other appropriate hardware are used to access the optical signals on the line cards.","The OPM module and signal processing unit  communicates with a LCM , and receives monitoring data from all the line card monitoring points from a 1\u00d7N optical switch  via the optical backplane of the OTS. A faceplate optical jumper  allows the OPM module and signal processing unit  and the optical switch  to communicate. A conversion and filtering function may be used to provide local DC power.","The LCM  (like all other LCMs of a node) communicates with the Node Manager via the intra-node LAN.","In summary, the OPM supports protection switching, fault isolation, and bundling, and measures optical power, OSNR of all wavelengths (by sweeping), and wavelength registration. Moreover, the OPM, which preferably has a high sensitivity and large dynamic range, may monitor each wavelength, collect data relevant to optical devices on the different line cards, and communicate with the NMS (via the LCM and Node Manager). The OPM is preferably built with a small form factor.","13. OTS Chassis Configurations","The OTS is designed to be flexible, particularly as a result of its modular system design that facilitates expandability. The OTS is based on a distributed architecture where each line card has an embedded controller. The embedded controller performs the initial configuration, boots up the line card, and is capable of reconfiguring each line card without any performance impact on the whole system.",{"@attributes":{"id":"p-0207","num":"0206"},"figref":["FIG. 20","FIG. 2","FIG. 20"],"b":["2000","250"]},{"@attributes":{"id":"p-0208","num":"0207"},"figref":["FIG. 21","FIG. 22"],"b":["2100","2200"]},"Optical cables in an OTS are typically connected through the optical backplane to provide a simple and comprehensive optical cable connectivity of all of the optical modules. In addition to providing for the LAN, the electrical backplane handles power distribution, physical board connection, and supports all physical realizations with full NEBS level 3 compliance. Note that since \u201chot\u201d plugging of cards into an OTS is often desirable, it may be necessary to equip such cards with transient suppression on their power supply inputs to prevent the propagation of powering-up transients on the electrical backplane's power distribution lines.","In one approach to managing the complexity of the optical backplane, locations or slots in the OTS bay may be reserved for specific types of line cards since the required optical coupling of a line card depends on its function, and it is desirable to minimize the complexity of the optical fiber connections in the optical backplane.","Each of the optical circuit cards also has a connection to an electrical backplane that forms the LAN for LCM-Node Manager communications. This connection is uniform for each card and may use an RJ-45 connector, which is an 8-wire connector used on network interface cards.","The OTS is flexible in that it can accommodate a mix of cards, including Optical Access and Transport line cards. Thus, largely generic equipment can be provided at various nodes in a network and then a particular network configuration can be remotely configured as the specific need arises. This simplifies network maintenance and provides great flexibility in reconfiguring the network. For example, the OTS may operate as a pure transport optical switch if it is configured with all cards are transport cards (), e.g., eight transport ingress (TP_In) cards and eight transport egress cards (TP_Eg). Moreover, each TP_In card has one input port\/fiber and each TP_Eg card has one output port\/fiber. In a particular implementation, each port\/fiber supports eight wavelength-division multiplexed \u03bb's, along with the OSC.","The OTS may operate as an Add\/Drop terminal if it is configured with ALI, OA, and TP cards (). A wide range of configurations is possible depending on the mix of compliant and non-compliant wavelengths supported. For example, a typical configuration might include sixteen ALI cards for conversion of non-compliant wavelengths, four OA_In cards, four OA_Eg cards, four TP_In cards, and four TP_Eg cards. Note that since the ALI cards provide wavelength conversion in this embodiment, no wavelength conversion need be performed within the optical fabric. However, wavelength conversion within the optical fabric is also a possibility as the switch fabric technology develops.","Moreover, the OTS is scalable since line cards may be added to the spare slots in the bay at a later time, e.g., when bandwidth requirements of the network increase. Furthermore, multiple OTS bays can be connected together to further expand the bandwidth-handling capabilities of the node and\/or to connect bays having different types of line cards. This connection may be realized using a connection like the ALI card-to-OA card connection via the optical backplane.","Having now discussed the different types of modules\/line cards and the OTS chassis configurations, some features of the OTS when configured as a OXC or OADM are summarized in Table 2 in terms of Access Line Interface, Transport\/Switching, and Management functions. Since the OADM can be equipped with transport cards (TP_In and TP_Eg), it performs all of the functions listed, while the dedicated OXC configuration performs the switching\/transport and management functions, but not the ALI functions.","For example, the Node Manager or NMS may control the OTS to configure it in the OXC or OADM modes, or to set up routing for light paths in the network.",{"@attributes":{"id":"p-0217","num":"0216"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Product Feature","OADM","OXC"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Access Line Interface"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Adding\/dropping of wavelengths","X",{}]},{"entry":["Grooming of optical signals","X"]},{"entry":["Non-ITU-compliant wavelength conversion","X"]},{"entry":["Optical Signal Generation\/Modulation (Timing\/Shaping)","X"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Switching\/Transport"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Multiplexing and demultiplexing of multi-wavelength","X","X"]},{"entry":"signals into individual wavelengths"},{"entry":["Cross-connection of the individual wavelengths","X","X"]},{"entry":["Amplification of optical signals","X","X"]},{"entry":["Protection switching of wavelengths","X","X"]},{"entry":["Dynamic power equalization of the optical signals","X","X"]},{"entry":["Dynamic suppression of optical power transients of the","X","X"]},{"entry":"multi-wavelength signal"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Management"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"21pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Performance monitoring of wavelengths","X","X"]},{"entry":["Operations and maintenance capabilities to support TMN","X","X"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"14. System Configurations","In an important aspect of the invention, each OTS can be used in a different configuration based on its position within an optical network. In the optical cross-connect (OXC) configuration, the input transport module, the switch fabric and the output transport module are used.  shows the modules used for the OXC configuration. In particular, the OTS includes the TP_In modules  and the TP_Eg modules . Each TP_In card may receive one fiber that includes, e.g., eight multiplexed data channels and the OSC. Similarly, each TP_Eg card outputs eight data channels in a multiplex and the OSC on an associated fiber.",{"@attributes":{"id":"p-0220","num":"0219"},"figref":"FIG. 24","b":["200","240","245","230","235"],"i":"b "},{"@attributes":{"id":"p-0221","num":"0220"},"figref":["FIGS. 25 and 26","FIG. 25","FIGS. 25 and 26"],"b":["200","220","230","220","210","245"],"i":"c "},"In , in a drop-only multiplexing configuration, the OTS includes the TP_In module  for receiving the optical signal via the optical network, the OA_Eg modules  for receiving the optical signals from the switch , and the ALI modules  for converting the compliant wavelengths to non-compliant wavelengths for use by the access network. The non-compliant wavelengths may be provided as, e.g., eight OC-12 wavelengths and eight OC-48 wavelengths.","For concurrent add and drop multiplexing of non-compliant signals, the ALI modules both provide inputs to the OA_In modules , and receive outputs from the OA_Eg modules .","Similarly, any concurrent combination of the following is possible: (a) inputting OTS-compliant signals from one or more access networks to the OA_In modules, (b) inputting non-OTS-compliant signals from one or more access networks to the ALI modules, (c) outputting signals, which are both OTS- and access-network compliant, from the OA_Eg modules to one or more access networks, and (d) outputting signals, which are OTS-compliant but non-compliant with an access network, to the ALI modules.","15. Transparent Data Transfer","A primary service enabled by the present invention is a transparent circuit-switched light path. Compared to conventional services, these flows are distinguished by a large quantity of bandwidth provided, and a setup time measured in seconds.",{"@attributes":{"id":"p-0227","num":"0226"},"figref":"FIG. 27","b":["2700","2710","2730","2750","2760","2700","2720","2740","2700","1","2770","2780","2","2775","3","2785","2790"]},"From a user perspective, this transparent data transfer service is equivalent to a dedicated line for SONET services, and nearly equivalent to a dedicated line for GbE services. Since the OTS operation is independent of data rate and protocol, it does not offer a Quality of Service in terms of bit error rate or delay. However, the OTS may monitor optical signal levels to ensure that the optical path signal has not degraded. Also, the OTS may perform dynamic power equalization of the optical signals, and dynamic suppression of optical power transients of the multi-wavelength signal independently of the number of the surviving signals, and independently of the number of the added signals. The OTS may thus measure an Optical Quality of Service (OQoS) based on optical signal-to-noise ratio (OSNR), and wavelength registration.","Table 3 provides a summary of transparent data transfer functions performed by the OTS for each type of interface. The simplest case is the receipt of a compliant OC-12\/48 signal by the Optical Access module.",{"@attributes":{"id":"p-0230","num":"0229"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Line Interface","Functions"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Compliant Optical","Channel Multiplexing\/Demultiplexing"]},{"entry":["(SONET)","Signal Amplification"]},{"entry":[{},"Switching\/Cross-Connection"]},{"entry":["GbE","Packet Multiplexing\/Demultiplexing"]},{"entry":[{},"Aggregation\/Grooming"]},{"entry":[{},"SONET Framing"]},{"entry":[{},"Modulation\/Demodulation"]},{"entry":[{},"O-E Conversion on input"]},{"entry":[{},"E-O Conversion on output"]},{"entry":[{},"Channel Multiplexing\/Demultiplexing"]},{"entry":[{},"Signal Amplification"]},{"entry":[{},"Switching\/Cross-Connection"]},{"entry":["Non-compliant","O-E-O translation from non-compliant wavelength"]},{"entry":["Optical","(e.g., 1310 nm)"]},{"entry":["Waveforms","Aggregation\/Grooming"]},{"entry":[{},"Retiming\/Reshaping"]},{"entry":[{},"Channel Multiplexing\/Demultiplexing"]},{"entry":[{},"Signal Amplification"]},{"entry":[{},"Switching\/Cross-Connection"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"The signal shaping and timing may be performed on the ALI cards using on-off keying with Non-Return-to-Zero signaling.","In one possible embodiment, eight compliant waveforms are supported based on the ITU-specified grid, with 200 Ghz or 1.6 nm spacing, shown in Table 4. These are eight wavelengths from the ITU grid.",{"@attributes":{"id":"p-0233","num":"0232"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 4"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Wavelength #","Wavelength registration"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"1","1549.318 nm"]},{"entry":[{},"2","1550.921 nm"]},{"entry":[{},"3","1552.527 nm"]},{"entry":[{},"4","1554.137 nm"]},{"entry":[{},"5","1555.750 nm"]},{"entry":[{},"6","1557.366 nm"]},{"entry":[{},"7","1558.986 nm"]},{"entry":[{},"8","1560.609 nm"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"For compliant wavelengths received on the OA modules, the received signal is optically amplified and switched to the destination.","For non-compliant wavelengths, signals are converted to electrical form and are groomed. If the current assignment has several lower rate SONET input streams, e.g., OC-12, going to the same destination, the ALI can groom them into one higher rate stream, e.g., OC-48. After being switched to the destination port, the stream is multiplexed by a TP module onto a fiber with other wavelengths for transmission. Moreover, for non-compliant wavelengths, the OTS performs a wavelength conversion to an ITU wavelength, and the stream is then handled as a compliant stream. Conversion of optical signals from legacy networks to ITU-compliant wavelengths listed in Table 4 may be supported.",{"@attributes":{"id":"p-0236","num":"0235"},"figref":"FIG. 28"},"The GbE interface supports the fiber media GbE option, where the media access control and multiplexing are implemented in the electrical domain. Therefore, the flow is somewhat different from SONET. The GbE packetized data streams are received as Ethernet packets, multiplexed into a SONET frame, modulated (initial timing and shaping), and converted to a compliant wavelength. After the compliant wavelengths are formed, they are handled as compliant wavelength streams as described above.","The following example clarifies how Ethernet packets are handled. GbE1 , GbE2 , GbE3 , GbE4 , GbE5 , GbE6 , GbE7  and GbE8  are separate LANs. Typically, each of the active ports are going to a different destination, so dedicated wavelengths are assigned. If two or more GbE ports have the same destination switch, they may be multiplexed onto the same wavelength In this example, each of four GbE ports are transmitted to the same destination (i.e., OADM B ) but to separate GbE LANs (GbE1 is transmitted to GbE5, GbE2 is transmitted to GbE6, etc.). The client can attach as many devices to the GbE as desired, but their packets are all routed to the same destination.","In this case, the processing flow proceeds as follows. First, the OADM A  receives GbE packets on GbE1 , GbE2 , GbE3 , and GbE4 . The OADM A  performs O-E conversion and multiplexes the packets into SONET frames at the ALI\/OA function . OADM A  performs the E-O conversion at the assigned \u03bb, also at the ALI\/OA function . The resulting optical signal is switched through the switch fabric (SW)  to the transport module (egress portion) , and enters the network . The optical signal is switched through the optical network  to the destination switch at OADM B . At the OADM B , the optical signal is received at the transport module (ingress portion) , and switched through the switch fabric  to the OA_Eg\/ALI function . The OADM B  extracts the GbE packets from the SONET frame at the OA\/ALI function . Finally, the OADM B  demultiplexes the packets in hardware at the OA\/ALI function  to determine the destination GbE port and transmits the packet on that port.","Since the ALI  in the OADM A  may receive packets on different ports at the same time, the ALI buffers one of the packets for transmission after the other. However, appropriate hardware can be selected for the ALI such that the queuing delays incurred are negligible and the performance appears to be like a dedicated line.","Note that, in this example, all GbE ports are connected to the same ALI. However, by bridging the Ethernets, the service provider can configure the traffic routing within the GbE networks to ensure that traffic going to the same destination is routed to the same input GbE port on the optical switch. Multiplexing GbE networks attached to different ALIs is also possible.","Refer also to  and the related discussion.","The QoS in terms of traditional measures is not directly relevant to the optical network. Instead, the client (network operator) may control these performance metrics. For example, if the client expects that the GbE ports will have a relatively modest utilization, the client may choose to assign four ports to a single OC-48 \u03bb operating at 2.4 Gbps (assuming they all have the same destination port). In the worst case, the \u03bb channel may be oversubscribed, but for the most part, its performance should be acceptable.","However, some QoS features can be provided on the GbE ALI cards. For example, instead of giving all of GbE streams equal priority using round robin scheduling, weighted fair queuing may be used that allows the client to specify the weights given to each stream. In this way, the client can control the relative fraction of bandwidth allocated to each stream.","Similarly, for ATM, the client may be operating a mix of CBR, VBR, ABR, and UBR services as inputs to the OADM module. However, the switching system does not distinguish the different cell types. It simply forwards the ATM cells as they are received, and outputs them on the port as designated during setup.",{"@attributes":{"id":"p-0246","num":"0245"},"figref":["FIG. 29","FIGS. 16\u201318"],"b":["2902","2904","2906","2908","2920","2912","2940","2942","2944","2946","2936","2930"]},"In the example, the processing flow proceeds as follows. First, the OADM A  receives packets on OC-12 1 (), OC-12 2 (), OC-12 3 (), and OC-12 4 (). The OADM A  multiplexes the packets into SONET frames at OC-48 at the ALI\/OA module  using TDM. For compliant wavelengths, OC-n uses only the OA portion, not the ALI portion. For non-compliant wavelengths, the ALI is used for wavelength conversion, through an O-E-O process, then the OA is used for handling the newly-compliant signals. The resulting optical signal is switched through the switch fabric (SW)  to the transport module (egress portion) (TP) , and enters the network . The optical signal is switched through the optical network  to the destination switch at OADM B . At the OADM B , the optical signal is received at the transport module (ingress portion) , and switched through the switch fabric (SW)  to the OA\/ALI function . The OADM B  extracts the packets from the SONET frame at the OA\/ALI function . The OADM B  demultiplexes the packet in hardware at the OA\/ALI function  to determine the destination port, and transmits the packet on that port.","16. Routing and Wavelength Assignment","The routing block  of  refers to a Routing and Wavelength Assignment (RWA) function that may be provided as software running on the NMS for selecting a path in the optical network between endpoints, and assigning the associated wavelengths for the path. For implementations where the OTS does not provide wavelength conversion, the same wavelength is used on each link in the path, i.e., there is wavelength continuity on each link.","A \u201cLight Wave OSPF\u201d approach to RWA, which is an adaptive source based approach based on the Open Shortest Path First (OSPF) routing as enhanced for circuit-switched optical networks, may be used. Developed originally for (electrical) packet networks, OSPF is a link state algorithm that uses link state advertisement (LSA) messages to distribute the state of each link throughout the network. Knowing the state of each link in the network, each node can compute the best path, e.g., based on OSPF criteria, to any other node. The source node, which may be the Node Manager associated with the path tail, computes the path based on the OSPF information.","OSPF is particularly suitable for RWA since it is available at low risk, e.g., easily extended to support traffic engineering and wavelength assignment, scalable, e.g., able to support large networks using one or two levels of hierarchies, less complex than other candidate techniques, and widely commercially accepted.","Several organizations have investigated the enhancement of OSPF to support optical networks and several alternative approaches have been formulated. The major variation among these approaches involves the information that should be distributed in the LSA messages. As a minimum, it is necessary to distribute the total number of active wavelengths on each link, the number of allocated wavelengths, the number of pre-emptable wavelengths, and the risk groups throughout the networks. In addition, information may be distributed on the association of fibers and wavelengths such that nodes can derive wavelength availability. In this way, wavelength assignments may be made intelligently as part of the routing process. The overhead incurred can be controlled by \u201cre-advertising\u201d only when significant changes occur, where the threshold for identifying significant changes is a tunable parameter.","Furthermore, the optical network may support some special requirements. For example, in the ODSI Signaling Control Specification, the client may request paths that are disjoint from a set of specified paths. In the Create Request, the client provides a list of circuit identifiers and request that the new path be disjoint from the path of each of these paths. When the source node determines the new path, the routing algorithm must specifically exclude the links\/switches comprising these paths in setting up the new path.","It is expected that the light paths will be setup and remain active for an extended period of time. As a result, the incremental assignment of wavelengths may result in some inefficiency. Therefore, it may improve performance to do periodic re-assignments.","17. Flash Memory Architecture","Flash memory is used on all controllers for persistent storage. In particular, the Node Manager flash memory may have 164 Mbytes while LCM flash memories may have 16 Mbytes. The Intel 28F128J3A flash chip, containing 16 Mbytes, may be used as a building block. Designing flash memory into both controllers obviates the need for ROM on both controllers. Both controllers boot from their flash memory. Should either controller outgrow its flash storage, the driver can be modified to apply compression techniques to avoid hardware modifications.","The flash memory on all controllers may be divided into fixed partitions for performance. The Node Manager may have five partitions, including (1) current version Node Manager software, (2) previous version (rollback) Node Manager software, (3) LCM software, (4) Core Embedded software data storage, and (5) application software\/data storage","The LCM may have 3 partitions, including (1) LCM software, (2) previous version (rollback) LCM software, and (3) Core Embedded software data storage.","The flash memory on both the Node Manager and LCM may use a special device driver for read and write access since the flash memory has access controls to prevent accidental erasure or reprogramming.","For write access, the flash driver requires a partition ID, a pointer to the data, and a byte count. The driver first checks that the size of the partition is greater than or equal to the size of the read buffer, and returns a negative integer value if the partition is too small to hold the data in the buffer. The driver then checks that the specified partition is valid and, if the partition is not valid, returns a different negative integer. The driver then writes a header containing a timestamp, checksum, and user data byte count into the named partition. The driver then writes the specified number of bytes starting from the given pointer into the named partition. The flash driver returns a positive integer value indicating the number of user data bytes written to the partition. If the operation fails, the driver returns a negative integer value indicating the reason for failure (e.g., device failure).","For read access, the flash driver requires a partition ID, a pointer to a read data buffer, and the size of the data buffer. The driver checks that the size of the read buffer is greater than or equal to the size of the data stored in the partition (size field is zero if nothing has been stored there). The driver returns a negative integer value if the buffer is too small to hold the data in the partition. The driver then does a checksum validation of the flash contents. If checksum validation fails, the driver returns a different negative integer. If the checksum validation is successful, the driver copies the partition contents into the provided buffer and return a positive integer value indicating the number of bytes read. If the operation fails, the driver returns a negative integer value indicating the reason for failure (e.g., device failure).","18. Hierarchical Optical Network Structure","The all-optical network architecture is based on an open, hierarchical structure to provide interoperability with other systems and accommodate a large number of client systems.",{"@attributes":{"id":"p-0264","num":"0263"},"figref":"FIG. 30","b":["3010","3040","3070"]},"The nodes, such as nodes , ,  and  depict the optical switching hardware (the OTSs). Moreover, network A  and network B  communicate with one another via OTSs  and , and network A  and network C  communicate with one another via OTSs  and . In this example, each network has its own NMS For example, network A  has an NMS , network B  has an NMS , and network C  has an NMS .","When multiple NMSs are present, one is selected as a master or root NMS. For example, the NMS  for Network A  may be the root NMS, such that the NMSs  and  for Networks B and C, respectively, are subservient to it.","Each NMS includes software that runs separate and apart from the network it controls, as well as NMS agent software that runs on each Node Manager of the NMS's network. The NMS agent software allows the each NMS to communicate with the Node Managers of each of its network's nodes.","Moreover, each NMS may use a database server to store persistent data, e.g., longer-life data such as configuration and connection information. The database server may use LDAP, and Oracle\u00ae database software to store longer-life data such as configuration and connection information.","LDAP is an open industry standard solution that makes use of TCP\/IP, thus enabling wide deployment. Additionally, a LDAP server can be accessed using a web-based client, which is built into many browsers, including the Microsoft Explorer\u00ae and Netscape Navigator\u00ae browsers. The data can be stored in a separate database for each instance of a network, or multiple networks can share a common database server depending on the size of the network or networks. As an example, separate databases can be provided for each of networks A, B and C, where each database contains information for the associated network, such as connection, configuration, fault, and performance information. In addition, the root NMS (e.g., NMS ) can be provided with a summary view of the status and performance data for Networks B and C.","The hierarchical NMS structure is incorporated into the control architecture as needed.","19. System Functional Architecture","The functionality provided by the OTS and NMS, as well as the external network interfaces are shown in . As indicated by the legend , the path restoration  and network management  functionalities are implemented in the NMS, while the routing , signaling  including user-network signaling  and internal signaling  (internal to the network), agent\/proxy , and protection  are real-time functionalities implemented in the Node Manager.","External interfaces to the optical network system include: (1) a client system  requesting services, such as a light path, from the optical network via the UNI protocol, (2) a service provider\/carrier NMS  used for the exchange of management information, and (3) a hardware interface  for transfer of data. An interface to a local GUI  is also provided.","The client system  may be resident on the service provider's hardware. However, if the service provider does not support UNI, then manual (e.g., voice or email) requests can be supported. Light path (i.e., optical circuit) setup may be provided, e.g., using a signaled light path, a provisioned light path, and proxy signaling. In particular, a signaled light path is analogous to an ATM switched virtual circuit, such that a service provider acts as UNI requester and sends a \u201ccreate\u201d message to initiate service, and the Optical Network Controller (ONC) invokes NNI signaling to create a switched lightpath. A provisioned lightpath is analogous to an ATM permanent virtual circuit (PVC), such that a service provider via the NMS requests a lightpath be created (where UNI signaling is not used), and the NMS commands the switches directly to establish a lightpath. The NMS can also use the services of a proxy signaling agent to signal for the establishment of a lightpath.","The service provider\/carrier NMS interface  enables the service provider operator to have an integrated view of the network using a single display. This interface, which may be defined using CORBA, for instance, may also be used for other management functions, such as fault isolation.","The local GUI interface  allows local management of the optical network by providing a local administrator\/network operator with a complete on-screen view of topology, performance, connection, fault and configuration management capabilities and status for the optical network.","The control plane protocol interface between the service provider control plane and the optical network control plane may be based on an \u201coverlay model\u201d (not to be confused with an overlay network used by the NMS to interface with the nodes), where the optical paths are viewed by the service provider system as fibers between service provider system endpoints. In this model, all of the complexities of the optical network are hidden from the user devices. Thus, the routing algorithm employed by the optical network is separate from the routing algorithms employed by the higher layer user network. The internal optical network routing algorithm, internal signaling protocols, protection algorithms, and management protocols are discussed in further detail below. The all-optical network based on the OTS may be modified from the \u201coverlay model\u201d architecture to the \u201cpeer model\u201d architecture, where the user device is aware of the optical network routing algorithm and the user level. The optical network and user network routing algorithms are integrated in the \u201cpeer model\u201d architecture.","20. Internal Network Signaling","20.1 Protocol Description","The Internal Signaling function  of  uses a Network-Network Interface (NNI) protocol for internal network signaling or for signaling between private networks. The NNI may be specified by extending the UNI protocol (ATM Forum 3.1 Signaling Protocol) by specifying additional messages fields, states, and transitions. UNI is a protocol by which an external network accesses an edge OTS of the optical network.","For example, the NNI may include a path Type-Length-Value field in its \u201ccreate\u201d message. It may also have to support a crankback feature in case the setup fails. The major requirements for the NNI are listed below.",{"@attributes":{"id":"p-0282","num":"0281"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Capability","Description"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Create light path","Normal and crankback"]},{"entry":[{},"Modify light path","Change bandwidth parameters"]},{"entry":[{},"Disjoint light path","Establish light path disjoint from"]},{"entry":[{},{},"specified existing light paths"]},{"entry":[{},"Destroy light path","Teardown channel"]},{"entry":[{},"Failure Recovery","Link or node failure"]},{"entry":[{},"Traffic Pre-emption","Terminate low priority traffic in"]},{"entry":[{},{},"case of failure"]},{"entry":[{},"Backup","Establish pre-defined backup links"]},{"entry":[{},"NMS Interface","Set MIB variables"]},{"entry":[{},"External Network Interface","Backbone Network Interconnection"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"20.2 Signaling Subnetwork (OSC)","The primary function of the signaling network is to provide connectivity among the Node Managers of the different OTSs. An IP network may be used that is capable of supporting both signaling as well as network management traffic. For signaling messages, TCP may be used as the transport protocol. For network management, either TCP or UDP may be used, depending upon the specific application.",{"@attributes":{"id":"p-0285","num":"0284"},"figref":"FIG. 32","b":["3210","3220","3230","3240","3220","3245","3215","3216","3210","3217","3235","3230","3232","3215","3216","3235"]},"Each Node Manager may have its own Ethernet for local communication with the client equipment. Also, a gateway node may have an additional Ethernet link for communication with the NMS manager if they are co-located. The signaling network has its own routing protocol for transmission of messages between OTSs as well as within an NMS. Moreover, for fail-safe operation, the signaling network may be provided with its own NMS that monitors the status and performance of the signaling network, e.g., to take corrective actions in response to fault conditions, and generate performance data for the signaling network.","21. Protection\/Restoration Flow","Referring to the Path Restoration function  and Protection function  of , the all-optical network may provide a service recovery feature in response to failure conditions. Both line and path protection may be provided such that recovery can be performed within a very short period of time comparable to SONET (<50 ms). In cases where recovery time requirements are less stringent, path restoration under the control of the NMS may provide a more suitable capability.","Moreover, for SONET clients, client-managed protection may be provided by allowing the client to request disjoint paths, in which case the protection mechanisms utilized by the client are transparent to the optical network.","The recovery capability may include 1:1 line protection by having four optical fibers between OTSs\u2014a primary and a backup in each direction. When a link or node fails, all paths in the affected link are re-routed (by pre-defined links) as a whole (e.g., on a line basis) rather than by individual path (e.g., on a path basis). While this is less bandwidth efficient, it is simpler to implement than path protection and is equivalent to SONET layer services. The re-routing is predefined via Network Management in a switch table such that when a failure occurs, the re-routing can be performed in real-time (<50 ms per hop).","Path protection re-routes each individual circuit when a failure occurs. Protection paths may be dedicated and carry a duplicate data stream (1+1), dedicated and carry a pre-emptable low priority data stream (1:1), or shared (1:N).",{"@attributes":{"id":"p-0292","num":"0291"},"figref":["FIGS. 33(","FIG. 33("],"i":["a","c","a"],"sub":["1 ","2","1 ","2 "],"b":["1","6","1","2","4","5","6","1","2","3","5","6","1","2","3","5","6","1","2","3"]},{"@attributes":{"id":"p-0293","num":"0292"},"figref":"FIG. 33(","i":"b","b":["2","3","2","4","5","3","5","3","3","5","6","3","5","3","5"],"sub":["1 ","1 "]},{"@attributes":{"id":"p-0294","num":"0293"},"figref":"FIG. 33(","i":"c","sub":["1 ","2 ","1 ","2 "],"b":["1","2","4","5","6","1","2","4","5","3"]},"Moreover, the backup fiber (here, the fiber between nodes --) need not be used under normal conditions ()). However, pre-emptable traffic, e.g., lower priority traffic, may be allowed to use the backup fiber until a failure occurs. Once a failure occurs, the pre-emptable traffic is removed from the backup fiber, which is then used for transport of higher-priority traffic. The client having the lower-priority traffic is preferably notified of the preemption.","Protection and restoration in large complex mesh networks may also be provided. Protection features defined by the ODSI, OIF, and IETF standards bodies can also be included as they become available.","Protection services can also include having redundant hardware at the OTSs, such as for the Node Manager and other line cards. The redundancy of the hardware, which may range from full redundancy to single string operation, can be configured to meet the needs of the service provider. Moreover, the hardware can be equipped with a comprehensive performance monitoring and analysis capability so that, when a failure occurs, a switch over to the redundant, backup component is quickly made without manual intervention. In case of major node failures, traffic can be re-routed around the failed node using line protection.","22. Network Management System Software","The Network Management System is a comprehensive suite of management applications that is compatible with the TMN model, and may support TMN layers 1 to 3. Interfaces to layer 4, service layer management, may also be provided so that customer Operational Support Systems (OSSs) as well as third party solutions can be deployed in that space.","The overall architecture of the NMS is depicted in . The Element Management Layer  corresponds to layer 2 of the TMN model, while the Network Management Layer  components correspond to layer 3 of the TMN model. The functions shown are achieved by software running on the NMS and NMS agents at the Node Managers.","A common network management interface  at the Network Management Layer provides an interface between: (a) applications  (such as a GUI), customer services , and other NMSs\/OSSs , and (b) a configuration manager , connection manager , , fault manager , and performance manager , which may share common resources\/services , such as a database server, which uses an appropriate database interface, and a topology manager . The database server or servers may store information for the managers , ,  and . The interface  may provides a rich set of client interfaces that include RMI, EJB and CORBA, which allow the carrier to integrate the NMS with their systems to perform end-to-end provisioning and unify event information. Third-party services and business layer applications can also be easily integrated into the NMS via this interface. The interface  may be compatible with industry standards where possible.","The GUI  is an integrated set of user interfaces that may be built using Java (or other similar object oriented) technology to provide an easy-to-use customer interface, as well as portability. The customer can select a manager from a menu of available GUI views, or drill down to a new level by obtaining a more detailed set of views.","The customer services may include, e.g., protection and restoration, prioritized light paths, and other services that are typically sold to customers of the network by the network operator.","The \u201cother NMSs\u201d  refer to NMSs that are subservient to a root NMS in a hierarchical optical network structure or an NMS hierarchy. The OSSs are switching systems other than the OTS system described herein.","The configuration manager  provides a switch level view of the NMS, and may provide functions including provisioning of the Node Managers and LCMs, status and control, and installation and upgrade support. The configuration manager  may also enable the user, e.g., via the GUI , to graphically identify the state of the system, boards, and lower level devices, and to provide a point and click configuration to quickly configure ports and place them in service. The configuration manager may collect switch information such as IP address and switch type, as well as card-specific information such as serial number and firmware\/software revision.","The connection manager  provides a way to view existing light path connections between OTSs, including connections within the OTS itself, and to create such connections. The connection manager  supports simple cross connects as well as end-to-end connections traversing the entire network. The user is able to dictate the exact path of a light path by manually specifying the ports and cross connects to use at an OTS. Or, the user may only specify the endpoints and let the connection manager set up the connection automatically. Generally, the endpoints of a connection are OA ports, and the intermediate ports are TP ports. The user may also select a wavelength for the connection. The types of connections supported include Permanent Optical Circuit (POC), Switched Optical Circuit (SOC), as well as Smart Permanent Optical Circuit (SPOC). SOC and SPOC connections are routed by the network element routing and signaling planes. SOC connections are available for viewing only.","The topology manager  provides a NMS topological view of the network, which allows the user to quickly determine, e.g., via the GUI , all resources in the network, including links and OTSs in the network, and how they are currently physically connected. The user can use this map to obtain more detailed views of specific portions of the network, or of an individual OTS, and even access a view of an OTS's front panel. For instance, the user can use the topological view to assist in making end-to-end connections, where each OTS or subnet in the path of a connection can be specified. Moreover, while the topology manager  provides the initial view, the connection manager  is called upon to set up the actual connection.","The fault manager  collect faults\/alarms from the OTSs as well as other SNMP-compliant devices, and may include functions such as alarm surveillance, fault localization, correction, and trouble administration. Furthermore, the fault manager  can be implemented such that the faults are presented to the user in an easy to understand way, e.g., via the GUI , and the user is able to sort the faults by various methods such as device origination, time, severity, etc. Moreover, the faults can be aggregated by applying rules that are predefined by the network administrator, or customer-defined.","The performance manager  performs processing related to the performance of the elements\/OTSs, as well as the network as a whole. Specific functionalities may include performance quality assurance, performance monitoring, performance management control, and performance analysis. An emphasis may be on optical connections, including the QoS and reliability of the connection. The performance manager  allows the user to monitor the performance of a selected port of channel on an OTS. In particular, the performance manager may display data in real-time, or from archived data.","These managers , ,  and  may provide specific functionality and share information, e.g., via Jini, and using an associated Jini server. Moreover, the manager may store associated data in one or more database servers, which can be configured in a redundant mode for high availability.","Furthermore, a common network management interface  at the Element Management Layer provides an interface between: (a) the configuration manager , connection manager , fault manager  and performance manager , and (b) an agent adapter function  and an \u201cother adapter\u201d function . The agent adapter  may communicate with the OTSs in the optical network  using SNMP and IP, in which case corresponding SNMP agents and IP agents are provided at the OTSs. The SNMP agent at the OTSs may also interface with other NMS applications. SNMP is an industry standard interface that allows integration with other NMS tools. The interface from the NMS to the OTS in the optical network  may also use a proprietary interface, which allows greater flexibility and efficiency than SNMP alone. The other adapter function  refers to other types of optical switches other than the OTSs described herein that the NMS may manage.","In summary, the NMS provides a comprehensive capability to manage an OTS or a network of OTSs. A user-friendly interface allows intuitive control of the element\/OTS or network. Finally, a rich set of northbound interfaces allows interoperability and integration with OSS systems.","Moreover, the NMS may be an open architecture system that is based on standardized Management Information Bases (MIBs). At this time, ODSI has defined a comprehensive MIB for the UNI. However, additional MIBs are required, e.g., for NNI signaling and optical network enhancements to OSPF routing. The NMS of the present invention can support the standard MIBs as they become available, while using proprietary MIBs in areas where the standards are not available.","The NMS may be implemented in Java (or similar object oriented) technology, which allows the management applications to easily communicate and share data, and tends to enable faster software development, a friendlier (i.e., easier to use) user interface, robustness, self-healing, and portability. In particular, Java tools such as Jini, Jiro, Enterprise Java Beans (EJB), and Remote Method Invocation (RMI) may be used.","RMI, introduced in JDK 1.1, is a Java technology that allows the programmer to develop distributed Java objects similar to using local Java objects. It does this by keeping separate the definition of behavior, and the implementation of the behavior. In other words, the definition is coded using a Java interface while the implementation on the remote server is coded in a class. This provides a network infrastructure to access\/develop remote objects.","The EJB specification defines an architecture for a transactional, distributed object system based on components. It defines an API that that ensures portability across vendors. This allows an organization to build its own components or purchase components. These server-side components are enterprise beans, and are distributed objects that are hosted in EJB containers and provide remote services for clients distributed throughout the network.","Jini, which uses RMI technology, is an infrastructure for providing services in a network, as well as creating spontaneous interactions between programs that use these services. Services can be added or removed from the network in a robust way. Clients are able to rely upon the availability of these services. The Client program downloads a Java in object from the server and uses this object to talk to the server. This allows the client to talk to the server even though it does not know the details of the server. Jini allows the building of flexible, dynamic and robust systems, while allowing the components to be built independently. A key to Jini is the Lookup Service, which allows a client to locate the service it needs.","Jiro is a Java implementation of the Federated Management Architecture. A federation, for example, could be a group of services at one location, i.e., a management domain. It provides technologies useful in building an interoperable and automated distributed management solution. It is built using Jini technology with enhancements added for a distributed management solution, thereby complementing Jini. Some examples of the benefits of using Jiro over Jini include security services and direct support for SNMP.",{"@attributes":{"id":"p-0319","num":"0318"},"figref":["FIG. 35","FIG. 34"],"b":["3510","3520","3525","3520","3530","3540","3532","3542","3525","3534","3544","3536","3546"]},"The number of OTSs that an NMS instance can manage depends on factors such as the performance and memory of the instance's underlying processor, and the stability of the network configuration. The hierarchy of NMS instances can be determined using various techniques. In the event of failure of a manager, another manager can quickly recover the NMS functionality. The user can see an aggregated view of the entire network or some part of the network without regard to the number of managers being deployed.","One feature of multiple NMSs controlling multiple networks is the robustness and scalability provided by the hierarchical structure of the managing NMSs. The NMSs form a hierarchy dynamically, through an election process, such that a management structure can be quickly reconstituted in case of failure of some of the NMSs. Furthermore, the NMS provide the capability to configure each OTS and dynamically modify the connectivity of OTSs in the network. The NMS also enables the network operators to generate on-the-fly statistical metrics for evaluating network performance.","23. Node Manager Software","The control software at the OTS includes the Node Manager software and the Line Card Manager software. As shown in , the Node Manager software  includes Applications layer software  and Core Embedded System Services layer  software running on top of an operating system such as VxWorks (Wind River Systems, Inc., Alameda, Calif.). The LCM software has Core Embedded System Services device drivers for the target peripheral hardware such as the GbE and OC-n SONET interfaces.","The Applications layer  enables various functions, such as signaling and routing functions, as well as node-to-node communications. For example, assume it is desired to restore service within 50 msec for a customer using a SONET service. The routing and signaling functions are used to quickly communicate from one node to another when an alarm has been reported, such as \u201cthe link between Chicago and New York is down.\u201d So, the Applications software  enables the nodes to communicate with each other for selecting a new route that does not use the faulty link.","Generally, to minimize the amount of processing by the Applications software , information that is used there is abstracted as much as possible by the Core Embedded Software  and the System Services .","In particular, the Applications layer  may include applications such as a Protection\/Fault Manager , UNI Signaling , NNI Signaling , Command Line Interface (CLI) , NMS Database Client , Routing , and NMS agent , each of which is described in further detail below.","The System Services layer software  may include services such as Resource Manager , Event Manager , Software Version Manager , Configuration Manager , Logger , Watchdog , Flash Memory Interface , and Application \u201cS\u201d Message Manager , each of which is described in further detail below.","The Node Manager's Core Embedded Control Software  is provided below an \u201cS\u201d interface and the System Services software .","23.1 Node Manager Core Embedded Software","The Node Manager Core Embedded software  is provided between the \u201cS\u201d interface  and the \u201cD\u201d interface . The \u201cD\u201d (drivers) message interface  is for messages exchanged between the LCMs and the Node Manager via the OTS's internal LAN, while the \u201cS\u201d (services) message interface  is for messages exchanged between the application software and the Core Embedded software on the Node Manager.","Generally, these managers ensure that inter-process communication can take place. In particular, the Node Manager \u201cD\u201d message manager  receives \u201cD\u201d messages such as raw Ethernet packets from the LCM and forwards them to the appropriate process. The Node Manager \u201cS\u201d Message Manager  serves a similar general function: providing inter-process communication between messages from the System Services layer  and the Node Manager Core Embedded software. The inter-process communication provided by the \u201cS\u201d Interface is typically implemented quite differently from the \u201cD\u201d Interface since it is not over a LAN but within a single processor. These interfaces, which may use, e.g., header files or tables, are described further in the section entitled \u201cNode Manager Message Interfaces.\u201d","Below the \u201cS\u201d interface , the Node Manager's Core Embedded software further includes a Node Configuration Manager , which is a master task for spawning other tasks, shown collectively at , at the Node Manager, and may therefore have a large, complex, body of code. This manager is responsible for managing the other Node Manager processes, and knows how to configure the system, such as configuring around an anomaly such as a line card removal or insertion. Moreover, this manager  determines how many of the tasks , , , , , , ,  and  need to be started to achieve a particular configuration.","The tasks at the Node Manager Core Embedded software are line card tasks\/processes for handling the different line card types. These include a TP_IN task , an OA_IN task , an OPM task , a clock task , a TP_EG task , an OA_EG task , an OSF task , an ALI task  and an OSM task . The \u201c-1\u201d notation denotes one of multiple tasks that are running for corresponding multiple line cards of that type when present at the OTS. For example, TP_IN-1 represents a task running for a first TP_IN card. Additional tasks for other TP_IN cards are not shown specifically, but could be denoted as TP_IN-2, TP_IN-3, and so forth.","Managers, shown collectively at , manage resources and system services for the line card tasks. These managers include a Database Manager , an Alarms Manager , and an Optical Cross Connect (OXC) Manager .","In particular, the Database Manager  may manage a database of non-volatile information at the Node Manager, such as data for provisioning the LCMs. This data may include, e.g., alarm\/fault thresholds that are to be used by the LCMs in determining whether to declare a fault if one of the monitored parameters of the line cards crosses the threshold. Generally, the Database Manager  manages a collection of information that needs to be saved if the OTS fails\/goes down\u2014similar to a hard disk. As an example of the use of the Database Manager , when the OTS is powered up, or when a line card is inserted into a slot in the OTS bay, the associated LCM generates a discovery packet for the Node Manager to inform it that the line card is up and exists. This enables the line cards to be hot swappable, that is, they can be pulled from and re-inserted into the slots at any time. After receiving the discovery packet, the Node Manager uses the Database manager  to contact the database to extract non-volatile data that is needed to provision that line card, and communicates the data to the LCM via the OTS's LAN. The Node Manager's database may be provided using the non-volatile memory resources discussed in connection with .","The Alarms Manager  receives alarm\/fault reports from the LCMs (e.g., via any of the tasks ) when the LCMs determine that a fault condition exists on the associated line card. For example, the LCM may report a fault to the Alarms Manager  if it determines that a monitored parameter such as laser current consumption has crossed a minimum or maximum threshold level. In turn, the Alarms Manager  may set an alarm if the fault or other anomaly persists for a given amount of time or based on some other criteria, such as whether some other fault or alarm condition is present, or the status of one or more other monitored parameters. Furthermore, the presence of multiple alarms may be analyzed to determine if they have a common root cause. Generally, the Alarms Manager  abstracts the fault and\/or alarm information to try to extract a story line as to what caused the alarm, and passes this story up to the higher-level Event Manager  via the \u201cS\u201d interface .","Using the push model, the Event Manager  distributes the alarm event to any of the software components that have registered to receive such an event. A corrective action can then be implemented locally at the OTS, or at the network-level.","The OXC Manager  makes sense of how to use the different line cards to make one seamless connection for the customer. For example, using a GUI at the NMS, the customer may request a light path connection from Los Angeles to San Francisco. The NMS decides which OTSs to route the light path through, and informs each OTS via the OSC of the next-hop OTS in the light path. The OTS then establishes a light path, e.g., by using the OXC Manager  to configure an ALI line card, TP_IN line card, OA_EG line card, a wavelength, and several other parameters that have to be configured for one cross connect. For example, the OXC Manager  may configure the OTS such that port  on TP_IN is connected to port  on TP_OUT. The OXC Manager  disassembles the elements of a cross connection and disseminates the relevant information at a low level to the involved line cards via their LCMs.","23.2 System Services","23.2.1 Resource Manager","The Resource Manager  performs functions such as maintaining information on resources such as wavelengths and the state of the cross-connects of the OTS, and providing cross-connect setup and teardown capability. In particular, the Resource Manager performs the interaction with the switch hardware during path creation, modification, and termination. The context diagram of the Resource Manager is shown in . The legend  indicates whether the communications between the components use the Event Manager, an API and TCP, or message passing. The Resource Manager is responsible for setting up network devices upon receiving requests from the NMS Agent (in case of provisioning) or the Signaling component (for a signaled setup). The Resource Manager provides an API that enables other components  to obtain current connection data. Also, the Resource Manager obtains configuration data via an API provided by the Configuration Manager.","For the provisioned requests, which may be persistent, the associated parameters are stored in flash memory , e.g., via the Flash interface , which may be DOS file based. Upon reset, the Resource Manager retrieves the parameters from flash memory via the Flash Interface and restores them automatically.","For signaled requests, which may be non-persistent, the associated parameters may be stored in RAM at the Node Manager. Upon reset, these lightpaths must be re-established based on user requests, or other switches could re-establish them.","The Resource Manager component also logs all relevant events via the Logger, updates its MIB, and provides its status to the Watchdog component.","23.2.2 Event Manager","The Event Manager  receives events from the Core Embedded system software  and distributes those events to high level components (e.g., other software components\/functions at the System Services  and Applications ). It is also used for communication between high level components in cases where the communication is one-way (as opposed to request\/response).  depicts its context diagram.","The Event Manager sends events to components based on their registrations\/subscriptions to the events. That is, in an important aspect of the push model of the present invention, components can subscribe\/unsubscribe to certain events of interest to them. Any application that wants to accept events registers with the Event Manager  as an event listener. Moreover, there is anonymous delivery of events so that specific destinations for the events do not have to be named. For example, when something fails in the hardware, an alarm is sent to whoever (e.g., which application) has registered for that type of alarm. Advantageously, the sender of the alarm does not have to know who is interested in particular events, and the receivers of the events only receive the types of events in which they are interested. The OTS software architecture thus uses a push model since information is pushed from a lower layer to a higher layer in near real-time.","The Event Manager may be used as a middleman between two components for message transfer. For example, a component A, which wants to send a message X to another component B, sends it to the Event Manager. Component B must subscribe to the message X in order to receive it from the Event Manager.","In particular, the event library software (EventLib) may include the following routines:","EventRegister( )\u2014register for an event to get an event message when the event occurs;","EventUnRegister( )\u2014un-register for an event; and","EventPost( )\u2014post an event.","These routines return ERROR when they detect an error. In addition, they set an error status that elaborates the nature of the error.","Normally, high-level applications, e.g. signaling, routing, protection, and NMS agent components, register for events that are posted by Core Embedded components, such as device drivers. High-level components register\/un-register for events by calling EventRegister( )\/EventUnRegister( ). Core Embedded components use EventPost( ) to post events.","The Event Dispatcher may be implemented via POSIX message queues for handling event registration, un-registration, and delivery. It creates a message queue, ed_dispQ, when it starts. Two priority levels, high and low, are supported by ed_dispQ. When a component registers for an event by calling EventRegister( ), a registration event is sent to ed_dispQ as a high priority event. Event Dispatcher registers the component for that event when it receives the registration event. If the registration is successful an acknowledgment event is sent back to the registering component. A component should consider the registration failed if it does not receive an acknowledgment within a short period of time. It is up to the component to re-register for the event. A component may register for an event for multiple times with the same or different message queues. If the message queue is the same, later registration will over-write earlier registration. If the message queues are different, multiple registrations for the same event will co-exist, and events will be delivered to all message queues when they are posted.","Furthermore, event registration may be permanent or temporary. Permanent registrations are in effect until cancelled by EventUnRegister( ). EventUnegister( ) sends a un-register event (a high priority event) to ed_dispQ for Event Dispatcher to un-register the component for that event. Temporary registrations are cancelled when the lease time expired. A component may pre-maturely cancel a temporary registration by calling EventUnRegister( ). If the un-registration is successful, an acknowledgment event is delivered to the message queue of the component.","When a component uses EventPost( ) to post an event, the posted event is placed in ed_dispQ, too. An event is either a high priority or a low priority event. To prevent low priority events from filling up ed_dispQ, the low priority event is not queued when posted if ed_dispQ is more than half full. This way, at least half of ed_dispQ is reserved for high priority events. Event Dispatcher delivers an event by moving the event from ed_dispQ to the message queues of registered components. So, a component must create a POSIX message queue before registering for an event and send the message queue name to the Event Dispatcher when it registers for that event. Moreover, a component may create a blocking or non-blocking message queue. If the message queue is non-blocking, the component may set up a signal handler to get notification when an event is placed in its message queue.","If the message queue of a component is full when Event Dispatcher tries to deliver an event, the event is silently dropped. Therefore, components should ensure there is space in its message queue to prevent an event from being dropped.","23.2.3 Software Version Manager","The Software Version Manager (SVM)  is responsible for installing, reverting, backing up and executing of software in the Node Manager and LCMs. Its context diagram is depicted in  The SVM maintains and updates software on both the Node Manager and the LCMs by keeping track of the versions of software that are used, and whether a newer version is available. Generally, different versions of Node Manager software and LCM software can be downloaded remotely from the NMS to the Node Manager from time to time as new software features are developed, software bugs are fixed, and so forth. The Node Manager distributes the LCM software to the LCMs. The SVM keeps a record of which version of software is currently being used by the Node Manager and LCMs.","In particular, the SVM installs new software by loading the software onto flash memory, e.g., at the Node Manager. The SVM performs backing up by copying the current software and saving it on another space on the flash memory. The SVM performs the reverting operation by copying the back up software to the current software. Finally, the SVM performs the execution operation by rebooting the Node Manager or the LCMs.","In particular, for installation, the SVM receives an install command from the NMS agent that contains the address, path and filename of the code to be installed. The SVM may perform a File Transfer Protocol (FTP) operation to store the code into its memory. Then, it uses the DOS Flash interface services  to store the code into the flash memory. In performing the backup operation for the Node Manager software, the SVM receives the backup command from the NMS agent. The SVM uses the DOS Flash interface to copy the current version of the code to a backup version. In the revert operation for the Node Manager software, the SVM receives the revert command from the NMS agent and uses the DOS Flash interface to copy the backup version of the software to the current version.","The Node Manager software is executed by rebooting the Node Manager card.","The Installation, reverting, backing up and executing operations can also be performed on the software residing on the line cards. In particular, for installation, the software\/firmware is first \u201cFTPed\u201d down to the Node Manager's flash memory. Then, the new firmware is downloaded to the line card. This new code is stored in the line card's flash memory. The new code is executed by rebooting the line card.","23.2.4 Configuration Manager","The Configuration Manager  maintains the status of all OTS hardware and software components. Its context diagram is shown in . The legend  indicates whether the communications between the components use the Event Manager, an API and TCP, or message passing. During the first OTS system boot up, the Configuration Manager obtains the desired configuration parameters from the database\/server (or possibly a configuration file) at the NMS. The LCMs are responsible for monitoring the status of the line cards. When a line card becomes active, it immediately generates a Discovery message that the LCM for each optical card forwards to the Event Manager  that is running on the Node Manager. The Configuration Manager receives these messages by subscribing to them at the Event Manager. It then compares the stored configuration versus the reported configuration. If there is a difference, the Configuration Manager sets the configuration according to the stored data by sending a message to the LCM via the Event Manager and S-Interface. It also reports an error and stores the desired configuration in the Node Manager's flash memory.","When the system is subsequently re-booted, the operation is identical, except the desired configuration is stored in flash memory.","The LCMs are configured to periodically report a status of their optical line cards. Also, when a device fails or has other anomalous behavior, an event message such a fault or alarm is generated. The Configuration Manager receive these messages via the Event Manager, and issues an event message to other components. Moreover, while not necessary, the Configuration Manager may poll the LCMs to determine the line card status if it is desired to determine the status immediately.","If the configuration table in the Node Manager's flash memory is corrupted, the Configuration Manager may request that the database\/server client gets the information (configuration parameters) via the database\/server, which resides in the NMS host system. After configuring the devices, the Configuration Manager posts an event to the Event Manager so that other components (e.g., NMS Agent and the Resource Manager) can get the desired status of the devices.","The desired configuration can be changed via CLI or NMS command. After the Configuration Manager receives a request from the NMS or CLI to change a device configuration, the Configuration manager sends an \u201cS\u201d message down to the LCMs to satisfy the request. Upon receiving the acknowledge message that the request was carried out successfully, the Configuration Manager sends an acknowledgement message to the requester, stores the new configuration into the database service, logs a message to the Logger, and post an event via the Event Manager.","Moreover, the NMS\/CLI can send queries to the Configuration Manager regarding the network devices' configurations. The Configuration Manager retrieves the information from the database and forwards them to the NMS\/CLI. The NMS\/CLI can also sends a message to the Configuration Manager to change the reporting frequency or schedule of the device\/line card.","23.2.5 Logger","The Logger  sends log messages to listening components such as debugging tasks, displays, printers, and files. These devices may be directly connected to the Node Manager or connected via a socket interface.","The Logger's context diagram is shown in . The Logger is controlled via the CLI, which may be implemented as either a local service or remote service via Telnet.","The control may specify device(s) to receive the Logging messages (e.g., displays, files, printers\u2014local or remote), and the level of logging detail to be captured (e.g., event, error event, parameter set).","23.2.6 Watchdog","The Watchdog component  monitors the state (\u201chealth\u201d) of other (software) components in the Node Manager by verifying that the components are working.","23.2.7 Flash Memory Interface","A Disk Operating System (DOS) file interface may be used to provide an interface  to the flash memory on the Node Manager for all persistent configuration and connection data. Its context diagram is depicted in . The legend  indicates that the components communicate using an API and TCP. The Resource Manager  and Configuration Manager  access the Flash Memory  as if it were a DOS File System. Details of buffering and actual writing to flash are vendor-specific.","23.2.8 Application \u201cS\u201d Message Manager","The Application \u201cS\u201d Message Manager receives messages from the Node Manager's Core Embedded software, also referred to as control plane software.","23.3 Applications Layer","23.3.1 Protection\/Fault Manager","The primary function of the Protection\/Fault Manager component is to respond to alarms by isolating fault conditions and initiating service restoration. The Protection\/Fault Manager isolates failures and restores service, e.g., by providing alternate link or path routing to maintain a connection in the event of node or link failures. As depicted in , the Protection\/Fault Manager interfaces with the Logger , WatchDog , Resource Manager , Configuration Manager , Event Manager , NMS Agent , NNI Signaling  and Other Switches\/OTSs . The legend  indicates the nature of the communications between the components. The Protection\/Fault Manager subscribes to the Event Manager to receive events related to the failure of links or network devices. When the Protection\/Fault Manager receives a failure event and isolates the cause of the alarm, it determines the restorative action and interacts with the appropriate application software to implement it. If there is problem isolating or restoring service, the problem is handed over to the NMS for resolution.","Some service providers may elect to perform their own protection by requesting two disjoint paths. With this capability, the service provider may implement 1+1 or 1:1 protection as desired. When a failure occurs, the service provider can perform the switchover without any assistance from the optical network. However, the optical network is responsible for isolating and repairing the failure.","Using the Event Manager, the Protection\/Fault component also logs major events via the Logger component, updates its MIB, and provides its status to the Watchdog component. It also updates the Protection parameters in the shared memory.","23.3.2 UNI Signaling","The Signaling components includes the User-Network Interface (UNI) signaling and the internal Network-Network Interface (NNI) signaling. The primary purpose of signaling is to establish a lightpath between two endpoints. In addition to path setup, it also performs endpoint Registration and provides a Directory service such that users can determine the available endpoints.","The UNI signaling context diagram is depicted in . The UNI uses both message passing and APIs provided by other components to communicate with other components. The legend  indicates whether the communications between the components use an API and TCP, or message passing.","The UNI component provides a TCP\/IP interface with User devices , e.g., devices that access the optical network via an OTS. If the User Device does not support signaling, a NMS proxy signaling agent  resident on an external platform performs this signaling.","When a valid \u201ccreate lightpath\u201d request is received, the UNI invokes the NNI to establish the path. In addition to creating a lightpath, users may query, modify or delete a lightpath.","The UNI Signaling component  obtains current configuration and connection data from the Configuration and Resource Managers, respectively. It logs major events via the Logger component, updates its MIB used by the SNMP Agent, and provides a hook to the WatchDog component to enable the WatchDog to keep track of its status.","23.3.3 NNI Signaling","The NNI signaling component , depicted in , performs the internal signaling between switches in the optical network, e.g., using MPLS signaling. The legend  indicates whether the communications between the components use the Event Manager, an API and TCP, or message passing.","As discussed, requests for service to establish a lightpath between two endpoints may be received over the UNI from an external device or a proxy signaling agent. Upon receipt of the request, UNI signaling validates the request and forwards it, with source and destination endpoints, to the NNI signaling function for setup. Source-based routing may be used, in which case NNI must first request a route from the Routing component . Several options are available, e.g., the user may request a path disjoint from an existing path.","The Routing component  returns the selected wavelength and set of switches\/OTSs that define the route. Then, the NNI signaling component requests the Resource Manager  to allocate the local hardware components implementing the path, and forwards a create message to the next switch in the path using TCP\/IP over the OSC.","Each OTS has its local Resource Manager allocate hardware resources to the light path. When the path is completed, each OTS returns an acknowledgment message along the reverse path confirming the successful setup, and that the local hardware will be configured. If the attempt failed due to unavailability of resources, the resources that had been allocated along the path are de-allocated. In order for other components (other than UNI, e.g., Routing) to learn if an attempt if the path setup was successful, the NNI distributes (posts) a result event using the Event Manager .","Moreover, the NNI Signaling component  obtains current configuration data from the Configuration Manager , and connection data from the Resource Manager . It also logs major events via the Logger component , updates its MIB used by the SNMP Agent, and provides a hook to the WatchDog component  to enable the WatchDog to keep track of its status.","23.3.4 Command Line Interface","The CLI task , an interface that is separate from the GUI interface, provides a command-line interface for an operator via a keyboard\/display to control or monitor OTSs. The functions of the CLI  include setting parameters at bootup, entering a set\/get for any parameter in the Applications and System Services software, and configuring the Logger. The TL-1 craft interface definition describes the command and control capabilities that are available at the \u201cS\u201d interface. Table 5 lists example command types that may be supported.",{"@attributes":{"id":"p-0401","num":"0400"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"center"}},"thead":{"row":{"entry":"TABLE 5"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"TL-1 Craft Command List"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Craft Command","Parameters","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Rtrv-alm","Type, slot, severity","Retrieve alarm messages"]},{"entry":["Rtrv-crs","Type, port","Retrieves cross connect information"]},{"entry":["Rtrv-eqpt","Address-id","Retrieves the equipage (configuration) of the"]},{"entry":[{},{},"OTS node"]},{"entry":["Rtrv-hist","Start, end","Retrieves the event history"]},{"entry":["Rtrv-ali","Port, wavelength, mode","Retrieves the ALI port parameters"]},{"entry":["Rtrv-node","N\/A","Retrieves OTS node parameters"]},{"entry":["Rtrv-pmm","Slot, port, wavelength","Retrieves the performance monitor meas."]},{"entry":["Rtrv-port","Port","Retrieves per port performance"]},{"entry":[{},{},"measurements"]},{"entry":["Rtrv-prot-sws","Port","Retrieves path protection connections"]},{"entry":["Set-ali","Out-port, in-port, mode","Sets ALI port parameters"]},{"entry":["Set-node","Id, date, time, alm-delay","Sets OTS node parameters"]},{"entry":["Set-port","Port, wavelength, thresh","Sets port and wavelength thresholds"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"23.3.5 NMS Database Client","Optionally, an NMS database client  may reside at the Node Manager to provide an interface to one or more database servers at the NMS. One possibility is to use LDAP servers. Its context diagram is depicted in . As shown, the database\/server client  interacts with the NMS's database server, and with the Configuration Manager . Upon request from the Configuration manager, the database client contacts the server for configuration data. Upon receiving a response from the server, the client forwards the data to the Configuration Manager. The legend  indicates whether the communications between the components use the Event Manager, or an API and TCP.","Since the Configuration Data is stored in the Node Manager's flash memory, the database client may be used relatively infrequently. For example, it may be used to resolve problems when the stored configuration is not consistent with that obtained via the LCM's discovery process.","Moreover, there may be primary and backup database servers, in which case the client keeps the addresses of both servers. If the primary server does not function, after waiting for a pre-determined period, the client forwards the request to the backup server.","Moreover, when the Configuration Manager makes changes to its configuration table, the Configuration Manager posts an event to the Event Manager. The Event Manager forwards the event to the NMS Agent, which in turn forwards the event to the NMS application. The NMS application recognizes the event and contacts the server to update its table.","23.3.6 Routing","The Routing Component  computes end-to-end paths in response to a request from the NNI component. The context diagram, , depicts its interfaces with the other components. The legend  indicates whether the communications between the components use the Event Manager, an API and TCP, or message passing.","The Routing Component, which may implement the OSPF routing algorithm with optical network extensions, is invoked by the NNI Signaling component at the path source during setup. Routing parameters are input via the SNMP Agent.","Routing is closely related to the Protection\/Fault Manager. As part of the protection features, the Routing component may select paths that are disjoint (either link disjoint or node and link disjoint as specified by signaling) from an existing path.","Moreover, as part of its operation, the Routing component exchanges Link State Advertisement messages with other switches. With the information received in these messages, the Routing component in each switch maintains a complete view of the network such that it can compute a path.","23.3.7 NMS Agent","The embedded NMS Agent  provides the interface between NMS applications  (e.g., configuration, connection, topology, fault\/alarm, and performance) and the Applications resident on the Node Manager. The NMS agent may use SNMP and a proprietary method.  shows the context diagram of the NMS Agent. The legend  indicates whether the communications between the components use the Event Manager, an API and TCP, or message passing. The NMS Agent operates using a \u201cpull model\u201d\u2014all of the SNMP data is stored locally with the relevant component (e.g., UNI, NNI, Routing, Protection). When the NMS Agent must respond to a Get request, it pulls the information from its source.","The NMS Agent receives requests from an NMS application and validates the request against its MIB tables. If the request is not validated, it sends an error message back to the NMS. Otherwise, it sends the request using a message passing service to the appropriate component, such as the Signaling, Configuration Manager, or Resource Manager components.","For non-Request\/Response communications, the NMS agent may subscribe to events from the Event managers. The events of interest include the \u201cchange\u201d events posted by the Resource Manager, Configuration Manager and the UNI and NNI components, as well as messages from the LCMs. Upon receiving events from the Event Manager or unsolicited messages from other components (e.g., Signaling), the NMS Agent updates its MIB and, when necessary, sends the messages to the NMS application using a trap.","24. Line Card Manager Software",{"@attributes":{"id":"p-0417","num":"0416"},"figref":"FIG. 49"},"In the OTS control hierarchy, the LCM software  is provided below the \u201cD\u201d interface , and generally includes a Core Embedded control layer to provide the data telemetry and I\/O capability on each of the physical interfaces, and an associated operating system that provides the protocols (e.g., TCP\/IP) and timer features necessary to support real-time communications. The LCM software , which may run on top of an operating system such as VxWorks, includes an LCM \u201cD\u201d Message Manager  for sending messages to, and receiving messages from, the Node Manager \u201cD\u201d Message Manager  via the \u201cD\u201d interface . This manager  is an inter-process communication module which has a queue on it for queuing messages to the Node Manager. An LCM Configuration Manager  is a master process for spawning and initializing all other LCM tasks, and performs functions such as waking up the LCM board, configuring the LCM when the system\/line card comes up, and receiving voltages and power.","The LCM line card tasks  include tasks for handling a number of line cards, including an TP_IN handler or task , an OA_IN handler , a OPM handler , a clock (CLK) handler , a TP_EG handler , an OA_EG handler , an OSF handler , an ALI handler , and an OSM handler . Here, the line card handlers can be thought of as being are XORed such that when the identity of the pack (line card) is discovered, only the corresponding pack handler is used. Advantageously, the LCM software  is generic in that it has software that can handle any type of line card, so there is no need to provide a separate software load for each LCM according to a certain line card type. This simplifies the implementation and maintenance of the OTS. Alternatively, it is possible to provide each LCM with only the software for a specific type of line card.","Each of the active line card handlers can declare faults based on monitored parameters that they receive from the respective line card. Such faults may occur, e.g., when a monitored parameter is out of a pre-set, normal range. The line card handlers may signal to the customer that fault conditions are present and should be examined in further detail, by using the Node Manager and NMS.","Moreover, the line card handlers use push technology in that they push event information up to the next layer, e.g., the Node Manager, as appropriate. This may occur, for example, when a fault requires attention by the Node Manager or the NMS. For example, a fault may be pushed up to the Alarms Manager  at the Node Manager Core Embedded Software, where an alarm is set and pushed up to the Event manager  for distribution to the software components that have registered to receive that type of alarm. Thus, a lower layer initiates the communication to the higher layer.","The clock handler  handles a synchronizing clock signal that is propagated via the electrical backplane (LAN) from the Node Manager to each LCM. This is necessary, for example, for the line cards that handle SONET signals and thereby need a very accurate clock for multiplexing and demultiplexing.","Generally speaking, the LCM performs telemetry by constantly collecting data from the associated line card and storing it in non-volatile memory, e.g., using tables. However, only specific information is sent to the Node Manager, such as information related to a threshold crossing by a monitored parameter of the line card, or a request, e.g., by the NMS through the Node Manager, to read something from the line card. A transparent control architecture is provided since the Node Manager can obtain fresh readings from the LCM memory at any time.","The Node Manager may keep a history log of the data it receives from the LCM.","25. Node Manager Message Interfaces","As mentioned, the Node Manager supports two message interfaces, namely the \u201cD\u201d Message Interface, which is for messages exchanged between the LCMs and the Node Manager, and the \u201cS\u201d Message interface, which is for messages exchanged between the application software and the Core Embedded system services software on the Node Manager.","25.1 \u201cD\u201d Message Interface Operation","The \u201cD\u201d message interface allows the Node Manager to provision and control the line cards, retrieve status on demand and receive alarms as the conditions occur. Moreover, advantageously, upgraded LCMs can be connected in the future to the line cards using the same interface. This provides great flexibility in allowing baseline LCMs to be fielded while enhanced LCMs are developed. Moreover, the interface allows the LCMs and Node Manager to use different operating systems.","The Core Embedded Node Manager software builds an in-memory image of all provisioned data and all current transmission-specific monitored parameters. The Node Manager periodically polls each line card for its monitored data and copies this data to the in-memory image in SDRAM. The in-memory image is modified for each alarm indication and clearing of an alarm, and is periodically saved to flash memory to allow rapid restoration of the OTS in the event of a system reboot, selected line card reboot or selected line card swap. The in-core memory image is organized by type of line card, instance of line card and instances of interfaces or ports on the type of line card. Each LCM has a local in-memory image of provisioning information and monitored parameters specific to that board type and instance.","The \u201cD\u201d message interface uses a data link layer protocol (Layer 2) that is carried by the OTS's internal LAN. The line cards and Node Manager may connect to this LAN to communicate \u201cD\u201d message using RJ-45 connectors, which are standard serial data interfaces. A \u201cD\u201d Message interface dispatcher may run as a VxWorks task on the LCM. The LCM is able to support this dispatcher as an independent process since the LCM processor is powerful enough to run a multi-tasking operating system. The data link layer protocol, which may use raw Ethernet frames (including a destination field, source field, type field and check bits), avoids the overhead of higher-level protocol processing that is not warranted inside the OTS. All messages are acknowledged, and message originators are responsible for re-transmitting a message if an acknowledgement is not received in a specified time. A sniffer connected to the OTS system's internal LAN captures and display all messages on the LAN. A sniffer is a program and\/or device that monitors data traveling over a network. The messages should be very easy to comprehend.","Preferably, all messages are contained in one standard Ethernet frame payload to avoid message fragmenting on transmission, and reassembly upon receipt. Moreover, this protocol is easy to debug, and aids in system debugging. Moreover, this scheme avoids the problem of assigning a network address to each line card. Instead, each line card is addressed using its built-in Ethernet address. Moreover, the Node Manager discovers all line cards as they boot, and adds each line card's address to an address table.","This use of discovery messages combined with periodic audit messages obviates the need for equipage leads (i.e., electrical leads\/contacts that allow monitoring of circuits or other equipment) in the electrical backplane, and the need for monitoring of such leads by the Node Manager. In particular, when it reboots, an LCM informs the Node Manager of its presence by sending it a Discovery message. Audit messages are initiated by the Node Manager to determine what line cards are present at the OTS.","25.1.1 \u201cD\u201d Interface Message Types","The following message types are defined for the \u201cD\u201d interface.\n\n","25.1.2 \u201cD\u201d Interface Message Definitions","Tables 6\u201311 define example \u201cD\u201d message interface packets. Note that some of the messages, such as the \u201cdiscovery\u201d and \u201cattention\u201d messages, are examples of anonymous push technology since they are communications that are initiated by a lower layer in the control hierarchy to a higher layer.",{"@attributes":{"id":"p-0437","num":"0441"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 6"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Instruction Codes in LCM to Node Manager Packets"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Code (hex)","Name","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["60","Discovery","first packet sent after power-up"]},{"entry":["61","attention","sending alarm and data"]},{"entry":["11","data","sending data requested"]},{"entry":["31","ack","acknowledge data write packet"]},{"entry":["36","nack","error - packet not accepted"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0438","num":"0442"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 7"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"LCM originated \u201cDiscovery\u201d Packet"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Size",{}]},{"entry":["Function","(16-bit words)","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Dest. address","3","hex FF:FF:FF:FF:FF:FF"]},{"entry":"(Node Manager)"},{"entry":["Source address","3","hex <OTS LCM MAC PREFIX> :"]},{"entry":["(LCM)",{},"pack pos. ID"]},{"entry":["protocol key","1","hex BEEF"]},{"entry":["sw process tag","2","initially 0, after time-out 1"]},{"entry":["instruction","1","hex 0060"]},{"entry":["pack type","1","pack type, version, serial number"]},{"entry":["data size","1","hex 0000"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0439","num":"0443"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 8"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"LCM originated \u201cAttention\u201d Packet"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Size",{}]},{"entry":["Function","(16-bit words)","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Dest. address","3","Node Manager MAC address from"]},{"entry":["(Node Manager)",{},"received packet"]},{"entry":["Source address","3","hex <OTS LCM MAC PREFIX> :"]},{"entry":["(LCM)",{},"pack position ID"]},{"entry":["Protocol key","1","hex BEEF"]},{"entry":["Sw process tag","2","initially 0, after time-out 1"]},{"entry":["Instruction","1","hex 0061"]},{"entry":["Pack type","1","pack type, version, serial number"]},{"entry":["Data size","1","number of 16-bit data words to"]},{"entry":[{},{},"follow"]},{"entry":["ADC measures","16","last measured values of analog inputs"]},{"entry":["Limit select","1","16 limit select bits in use"]},{"entry":["Alarm mask","1","16 alarm mask bits in use"]},{"entry":["Status reg.","4","64 pack status bits"]},{"entry":["Status reg.","4","64 status alarm level select bits"]},{"entry":"level select"},{"entry":["Status reg.","4","64 status alarm mask bits in use"]},{"entry":"mask"},{"entry":["ADC","2","16 analog limit exception bits"]},{"entry":"attn bits"},{"entry":["Status","4","64 status exception bits"]},{"entry":"attn bits"},{"entry":["Device results","32","control and results registers"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0440","num":"0444"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 9"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"LCM \u201cResponse\u201d Packet"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Size",{}]},{"entry":["Function","(16-bit words)","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Dest. address","3","Node Manager address from received"]},{"entry":["(Node Manager)",{},"packet"]},{"entry":["Source address","3","hex <OTS LCM MAC PREFIX> :"]},{"entry":["(LCM)",{},"pack position ID"]},{"entry":["Protocol key","1","hex BEEF"]},{"entry":["Sw process tag","2","copied from request packet"]},{"entry":["Instruction","1","see Table 8"]},{"entry":["Address","1","copied from request packet"]},{"entry":["Data size","1","number of 16-bit data words to"]},{"entry":[{},{},"follow"]},{"entry":["Data","n","payload"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0441","num":"0445"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 10"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Instruction Codes in Node Manager to LCM Packets"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Code (Hex)","Name","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["50","First ack","acknowledging the \u201cDiscovery\u201d packet"]},{"entry":["51","Alarm ack","acknowledging \u201cAttention\u201d packet"]},{"entry":["01","Read","read data from address indicated"]},{"entry":["02","Write","write data to address indicated"]},{"entry":["03","Wsw","write switch"]},{"entry":["15","Bitwrite","bit position to change: where mask word bit= 1"]},{"entry":[{},{},"data to write: data word"]},{"entry":["41","Reload","causes re-loading the MPC8255"]},{"entry":[{},{},"microcontroller from EPROMs"]},{"entry":["42","Soft reset","causes \u201csoft reset\u201d of the pack"]},{"entry":["43","Hard reset","causes \u201chard reset\u201d of the pack"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0442","num":"0446"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 11"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Node Manager - originated packets"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Size",{}]},{"entry":["Function","(16-bit words)","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Dest. address","3","hex <OTS LCM MAC PREFIX > :"]},{"entry":["(Node",{},"pack pos. ID"]},{"entry":"Manager)"},{"entry":["Source address","3","MAC address of OTS Node Manager"]},{"entry":"(LCM)"},{"entry":["Protocol key","1","hex BEEF"]},{"entry":["sw process tag","2","sequence number"]},{"entry":["Instruction","1","see Table 8"]},{"entry":["Address","1","LCM register, or other valid on-pack"]},{"entry":[{},{},"location"]},{"entry":["data size","1","number of 16-bit data words to follow"]},{"entry":["Data","n","payload"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"25.2 \u201cS\u201d Message Interface","The \u201cS\u201d message interface of the Node Manager provides the application layer software with access to the information collected and aggregated at the \u201cD\u201d message interface. Information is available on the Core Embedded software side (control plane) of the \u201cS\u201d message interface by line card type and instance for both read and write access. An example of read access is \u201cGet all monitored parameters for a particular line card instance.\u201d An example of write access is \u201cSet all control parameters for a specific line card instance.\u201d Performance can be increased by not supporting Gets and Sets on individual parameters.","For example, these messages may register\/deregister an application task for one or more alarms from all instances of a line card type, provide alarm notification, get all monitored parameters for a specific line card, or set all control parameters for a specific line card.","The \u201cS\u201d message interface is an abstraction layer: it abstracts away, from the application software's perspective, the details by which the lower-level Node Manager software collected and aggregated information. While providing an abstract interface, the \u201cS\u201d Message Interface still provides the application layer software with access to the aggregated information and control obtained from the hardware via the \u201cD\u201d Message Interface, and from the Node Manager state machines. Moreover, the \u201cS\u201d interface defines how the TL-1 craft interface is encoded\/decoded by the Node Manager. The TL-1 craft interface definition describes the command and control capabilities that are available at the \u201cS\u201d interface. See section 23.3.4, entitled \u201cCommand Line Interface.\u201d","The application software using the \u201cS\u201d Message interface may run as, e.g., one or more VxWorks tasks. The Core Embedded software may run as a separate VxWorks task also. To preserve the security afforded by the RTOS to independent tasks, the \u201cS\u201d Message Interface may be implemented using message queues, which insulates both sides of the interface from a hung or rebooting task on the opposite side of the interface. As for the LCM, this division of the Node Manager software into independent tasks is possible because the Node Manager is powerful enough to run a multi-tasking operating system. Therefore, the present inventive control architecture utilizes the presence of a multi-tasking operating system at all three of its levels: LCM, Node Manager and NMS. This multi-tasking ability has been exploited at all levels of control to produce a system that is more modularized, and therefore more reliable, than prior approaches to optical network control.","26. Example OTS Embodiment","Summary information of an example embodiment of the OTS is as follows:",{"@attributes":{"id":"p-0450","num":"0454"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Optical Specs:"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Wavelength capacity:","64 wavelength channels"]},{"entry":[{},"Fiber wavelength density:","8 wavelengths"]},{"entry":[{},"Data rate:","Totally transparent"]},{"entry":[{},"Physical topology:","Point-to-Point"]},{"entry":[{},"Lightpath topology:","Point-to-Point"]},{"entry":[{},"Wavelength spacing:","200 GHz (ITU-grid)"]},{"entry":[{},"Optical bandwidth (channels):","C and L bands"]},{"entry":[{},"Wavelength protection:","Selectable on a per lightpath basis"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"Optical Modules:\n\n","Access Line Interface Modules:\n\n","Optical Signaling Module:","4-Ports using Ethernet Signaling","Support IP, Ethernet Packets",{"@attributes":{"id":"p-0456","num":"0469"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Node Manager:"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Processors:","MPC8260, MPC755"]},{"entry":[{},"SDRAM:","256 MB upgradable to 512 MB"]},{"entry":[{},"Flash Memory:","64 Mbytes"]},{"entry":[{},"Ethernet Port:","100 BaseT with Auto-Sensing"]},{"entry":[{},"Ethernet Hubs:","OEM assembly 10 ports, 1 per shelf"]},{"entry":[{},"Serial Port:","1 EIA 232-D Console Port"]},{"entry":[{},"Software Upgrades:","Via remote download"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Line Card Manager:"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Processor:","MPC8260"]},{"entry":[{},"SDRAM:","64 MB upgradable to 128 MB"]},{"entry":[{},"Flash Memory:","16 Mbytes"]},{"entry":[{},"Ethernet Port:","100 BaseT with Auto-Sensing"]},{"entry":[{},"Serial Port:","1 EIA 232-D Console Port"]},{"entry":[{},"Software Upgrades:","Via local download"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"Backplanes:","Optical backplane","Electrical backplane","Ethernet LAN interconnecting Node Manager and LCMs","Chassis","The OTS system's chassis is designed in a modular fashion for a high density circuit pack. Two stacks of sub-rack systems may be used.",{"@attributes":{"id":"p-0463","num":"0476"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"27. Glossary"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["A\/D","Analog-to-Digital"]},{"entry":["ABR","Available Bit Rate"]},{"entry":["ADM","Add-Drop Multiplexer"]},{"entry":["ALI","Access Line Interface"]},{"entry":["API","Application Programming Interface"]},{"entry":["ATM","Asynchronous Transfer Mode"]},{"entry":["CBR","Constant Bit Rate"]},{"entry":["CIT","Craft Interface Terminal"]},{"entry":["CORBA","Common Object Request Broker Architecture"]},{"entry":["DAC","Digital-to-Analog Converter"]},{"entry":["DMA","Direct Memory Access"]},{"entry":["DWDM","Dense Wavelength Division Multiplexing"]},{"entry":["EDFA","Erbium Doped Fiber Amplifier"]},{"entry":["EJB","Enterprise Java Beans"]},{"entry":["EEPROM","Electrically Erasable PROM"]},{"entry":["EPROM","Erasable Programmable Read-Only Memory"]},{"entry":["FCC","Fast Communication Channel"]},{"entry":["Gbps","Giga bits per second"]},{"entry":["GbE","Gigabit Ethernet"]},{"entry":["GPIO","General Purpose Input-Output (interface)"]},{"entry":["GUI","Graphical User Interface"]},{"entry":["HDLC","High-Level Data Link Control"]},{"entry":["IETF","Internet Engineering Task Force"]},{"entry":["IC","Inter Integrated Circuit (bus)"]},{"entry":["IP","Internet Protocol"]},{"entry":["ITU","International Telecommunications Union"]},{"entry":["JDK","Java Development Kit (Sun Microsystems, Inc.)"]},{"entry":["L2","Level 2 (cache) or Layer 2 (of OSI model)"]},{"entry":["LCM","Line Card Manager"]},{"entry":["LDAP","Lightweight Directory Access Protocol (IETF RFC 1777)"]},{"entry":["LSR","Label Switch Router"]},{"entry":["MAC","Medium Access Control (layer)"]},{"entry":["MB","Megabyte"]},{"entry":["MEMS","Micro-Electro-Mechanical System"]},{"entry":["MIB","Management Information Base"]},{"entry":["MPC","Motorola\u2009\u00ae PowerPC (microprocessor)"]},{"entry":["MPLS","Multi Protocol Label Switching"]},{"entry":["NEBS","Network Equipment Building Standards"]},{"entry":["NMS","Network Management System"]},{"entry":["nm","Nanometers"]},{"entry":["OA","Optical Access Or Optical Amplifier"]},{"entry":["OA_Eg","Optical Access Egress"]},{"entry":["OA_In","Optical Access Ingress"]},{"entry":["OADM","Optical Add Drop Multiplexer"]},{"entry":["OC-n","Optical Carrier\u2014specifies the speed (data rate) of a fiber optic"]},{"entry":[{},"network that conforms to the SONET standard. \u201cn\u201d denotes"]},{"entry":[{},"the speed as a multiple of 51.84 Mbps, such that"]},{"entry":[{},"OC-12 = 622.08 Mbps, OC-48 = 2.488 Gbps, etc."]},{"entry":["ODSI","Optical Domain Service\/System Interconnect"]},{"entry":["OEO","Optical To Electrical To Optical (conversion)"]},{"entry":["OEM","Original Equipment Manufacturer"]},{"entry":["OPM","Optical Performance Monitoring Module"]},{"entry":["OSC","Optical Signaling Channel"]},{"entry":["OSF","Optical Switch"]},{"entry":["OSI","Open Standards Interconnection"]},{"entry":["OSM","Optical Signaling Module"]},{"entry":["OSNR","Optical Signal To Noise Ratio"]},{"entry":["OSPF","Open Shortest Path First"]},{"entry":["OSS","Operational Support Systems"]},{"entry":["OTS","All-Optical Transport Switching System"]},{"entry":["OXC","Optical Cross Connect"]},{"entry":["PCI","Peripheral Component Interconnect"]},{"entry":["PCMCIA","Personal Computer Memory Card International Association"]},{"entry":["PHY","Physical (layer)"]},{"entry":["PIN","Photo Intrinsic"]},{"entry":["POP","Point Of Presence"]},{"entry":["PVC","Permanent Virtual Circuit"]},{"entry":["QoS","Quality of Service"]},{"entry":["RISC","Reduced Instruction Set Computer"]},{"entry":["RMI","Remote Method Invocation"]},{"entry":["RWA","Routing and Wavelength Assignment"]},{"entry":["RTOS","Real-Time Operating System"]},{"entry":["Rx","Receiver"]},{"entry":["SDH","Synchronous Digital Hierarchy (Networks)"]},{"entry":["SDRAM","Synchronous Dynamic Random Access Memory"]},{"entry":["SerDes","Serializer\/Deserializer"]},{"entry":["SMC","Shared Memory Cluster"]},{"entry":["SNMP","Simple Network Management Protocol"]},{"entry":["SONET","Synchronous Optical Network"]},{"entry":["SPI","Special Peripheral Interface"]},{"entry":["STM","Synchronous Transport Mode"]},{"entry":["SW","Software or Switch"]},{"entry":["TCP","Transmission Control Protocol"]},{"entry":["TDM","Time Division Multiplexing"]},{"entry":["TMN","Telecommunication Management Network (an ITU-T"]},{"entry":[{},"standard)"]},{"entry":["TP","Trunk Port\/Transport"]},{"entry":["TP_Eg","Transport Egress"]},{"entry":["TP_In","Transport Ingress"]},{"entry":["Tx","Transmitter"]},{"entry":["UBR","Unspecified Bit Rate"]},{"entry":["VBR","Variable Bit Rate"]},{"entry":["VME","VersaModule Eurocard (bus)"]},{"entry":["WAN","Wide Area Network"]},{"entry":["WDD","Wavelength Division Demultiplexer"]},{"entry":["WDM","Wavelength Division Multiplexer"]},{"entry":["WXC","Wavelength Cross Connect"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Accordingly, it can be seen that the present invention provides a hierarchical and distributed control architecture for managing an eptical communications network. The architecture includes a line card manager level for managing individual line cards at an optical switch, a node manager level for managing multiple line cards at the optical switch, and a network management system level for managing multiple node managers in a network. Control architecture functionalities include signaling, routing, protection switching and network management. Furthermore, the network management functionality includes a topology manager, a performance manager, a connection manager, a fault detection manager, and a configuration manager. The line cards include various optical circuit cards at the switches, such as access line interface cards, transport ingress cards, transport egress cards, optical access ingress cards, optical access egress cards, switching fabric cards, optical signaling cards, and optical performance monitoring cards.","Moreover, the control hierarchy uses a push model to enable important information to be communicated to higher layers in the control hierarchy. The Node Manager includes an Event Manager for enabling other software components to post, register for, and receive, events. These events may be set based on activities at the Node Manager or the line cards, and may denote, e.g., a change in the configuration of the optical switch, or an alarm condition at a line card.","While the invention has been described and illustrated in connection with preferred embodiments, many variations and modifications as will be evident to those skilled in this art may be made without departing from the spirit and scope of the invention, and the invention is thus not to be limited to the precise details of methodology or construction set forth above as such variations and modification are intended to be included within the scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The invention is illustrated in the figures of the accompanying drawings, which are meant to be exemplary, and not limiting, in which like references are intended to refer to like or corresponding structures, and in which:",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 30"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 31"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 32"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIGS. 33(","i":["a","c"]},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 34"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 35"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 36"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 37"},{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 38"},{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 39"},{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 40"},{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 41"},{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 42"},{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 43"},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 44"},{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 45"},{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 46"},{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 47"},{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 48"},{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 49"}]},"DETDESC":[{},{}]}
