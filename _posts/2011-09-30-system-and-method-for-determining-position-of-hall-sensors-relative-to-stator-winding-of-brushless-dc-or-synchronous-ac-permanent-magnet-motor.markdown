---
title: System and method for determining position of hall sensors relative to stator winding of brushless DC or synchronous AC permanent magnet motor
abstract: A method is provided for monitoring a motor having a stator, a rotor and a detector. The stator can receive a driving signal to produce a first magnetic field. The rotor can rotate in a circle relative to the stator. The rotor has a magnetic portion that can emit a second magnetic field in a radial direction. The detector can output a detection signal based on the position of the rotor.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08723470&OS=08723470&RS=08723470
owner: The Johns Hopkins University
number: 08723470
owner_city: Baltimore
owner_country: US
publication_date: 20110930
---

{"@attributes":{"id":"description"},"GOVINT":[{},{}],"heading":["STATEMENT OF GOVERNMENT INTEREST","BACKGROUND","BRIEF SUMMARY","DETAILED DESCRIPTION"],"p":["This invention was made with U.S. Government support under the Defense Advanced Research Projects Agency under contract number N66001-06-C-8005. The U.S. Government has certain rights in the invention.","Multi-phase electric power is a common method for providing alternating current for power generation, transmission and distribution. For example, in three-phase systems, three circuit conductors transmit three alternating currents of the same frequency and differing phase. For a particular phase, the alternating currents of the other two phases are shifted in time by one-third and two-thirds of a cycle, respectively. The differing in the phases of the three alternating currents enables constant transfer of power to a load.","Multi-phase electric power provides efficient transfer of power to multi-phase motors. In general, a multi-phase motor includes a stator (i.e. stationary portion) and multiple rotors (i.e. rotating portion) or includes multiple stators and a rotor. Multi-phase electrical power applied to a multi-phase motor results in current flow traversing the multiple stators of the motor. The current flow traversing the multiple stators results in a magnetic field, which produces magnetic torque on the rotor. The magnetic torque applied to the rotor results in rotation of the rotor.","Some conventional multi-phase motor implementations use rotor location information received from sensors for generating necessary signals for controlling multi-phase motors. Other conventional multi-phase motor implementations use detection of zero voltage crossing points associated with Back Electro Motive Force (BEMF).",{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIGS. 1A-F","b":"100"},"Motor  is a multi-phase motor and includes a stator  and a rotor . Motor  operates as a three-phase motor for converting electrical power to mechanical power. For this example, rotor  is located interior to stator . Rotor  rotates within stator , with stator  being stationary. Rotor  includes a magnet , a magnet , a magnet , a magnet , a magnet  and a magnet . Magnets , , , ,  and  provide magnetic fields. Stator  includes a first leg , a second leg  and a third leg . Legs ,  and  provide magnetic fields. The interoperation of magnets , , , ,  and  with legs ,  and  cause rotor  to rotate within stator .","For discussion with respect to , consider rotor  rotating in a clockwise direction.","In , magnet  is located with respect to first leg  by an angle  also denoted as \u03b8. At this time of the revolution of rotor , magnet  has not yet reached first leg .","In , rotor  has rotated such that magnet  has passed first leg  by angle .","In , magnet  is lagging with respect to second leg  by angle . At this time of the revolution of rotor , magnet  has not passed second leg .","In , magnet  has passed second leg  by angle .","In , rotor  has rotated such that magnet  is lagging with respect to third leg  by angle . At this time of the revolution of rotor , magnet  has not passed third leg .","In , magnet  has passed third leg  by angle .","To efficiently drive motor , the relative position of rotor  with respect to stator  should be known. This may be accomplished by monitoring the relative location of a single point on rotor  with respect to stator . For purposes of discussion, consider a point  on rotor . Knowing the location of point , with respect to stator , enables the determination of the location of all other points on rotor  with respect to stator . Furthermore, determining the location of point  with respect to stator  may aid in controlling the operation of motor . In particular, motor  may be driven differently for the configuration of  than for the configuration in any one of .",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIGS. 2A-F","b":"100"},"For purposes of discussion, consider the configuration of motor  of , wherein rotor  is rotating with an angular velocity, as noted by arrow , within stator . At some time, the polarity of the magnetic field provided by stator  should be opposite to that of the magnetic field provided by rotor  so as to \u201cpull\u201d rotor  toward stator . In this example, magnet  is arranged so as to provide a negative magnetic field radially outward toward stator . At this time, first leg  is driven so as to provide a positive magnetic field radially inward toward rotor . An attraction, as noted by an arrow , results from the opposite magnetic fields presented by magnet  and first leg . The attraction indicated by arrow  induces rotation of rotor  at the angular velocity, as noted by arrow .","Rotor  will continue to rotate in a clockwise direction, as shown in . Similar to , in  magnet  is still arranged so as to provide a negative magnetic field radially outward toward stator . At this time, first leg  is still driven so as to provide a positive magnetic field radially inward toward rotor . An attraction, from the opposite magnetic fields presented by magnet  and first leg , is maintained. The maintained attraction maintains rotation of rotor  at an angular velocity, as noted by an arrow .","At some time, the polarity of the magnetic field provided by stator  should be reversed to \u201cpush\u201d rotor  away from stator . As shown in , the polarity of the magnetic field provided by first leg  has switched from a positive magnetic field as described with reference to  to a negative magnetic field. In other words in , magnet  is still arranged so as to provide a negative magnetic field radially outward toward stator . However, first leg  is driven so as to provide a negative magnetic field radially inward toward rotor . The similar magnetic fields provided by first leg  and magnet  create a repulsion, as noted by an arrow . Repulsion  maintains rotation of rotor  at an angular velocity, as noted by an arrow .","Rotor  will continue to rotate in a clockwise direction, as shown in . Similar to , in  magnet  is still arranged so as to provide a negative magnetic field radially outward toward stator . At this time, first leg  is still driven so as to provide a negative magnetic field radially inward toward rotor . A repulsion, from the similar magnetic fields presented by magnet  and first leg , is maintained. The maintained repulsion maintains rotation of rotor  at an angular velocity, as noted by an arrow .","For proper operation of motor , switching the polarity of the magnetic field provided by first leg , for example as described above with respect to , must be performed at an appropriate time, i.e., at the correct relative position of rotor  with respect to stator . Accordingly, appropriate switching of magnetic field for first leg  requires an accurate determination of the location and velocity for rotor  with respect to stator .",{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 2E","FIG. 2E"],"b":["112","216","112","112","112","106","214","112","106","104","102","112","100"]},"As shown in  the repulsion, illustrated by arrow , between first leg  and magnet  may result in the undesired termination of rotation for rotor .",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 2A-F","b":["104","102"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 3","b":["104","102"]},"For example, a position  is the position of point  on rotor  at time tas shown in , a position  is the position of point  on rotor  at time tas shown in , a position  is the position of point  on rotor  at time tas shown in , a position  is the position of point  on rotor  at time tas shown in FIG. D, a position  is the position of point  on rotor  at time tas shown in  and a position  is the position of point  on rotor  at time tas shown in .","Control of motor  may require determining the location of rotor  with respect to stator , for example by determining the location of point , at various points in time in order to efficiently and properly drive motor . An incorrect determination for the location of point  may result in inefficient and improper operation of motor . For example, if driven improperly, the magnetic fields associated with rotor  and stator  may repel one another as discussed above with reference to  or rotor  may cease rotating as discussed above with reference to .","There are many known systems and methods for determining the position and velocity of a rotor, with reference to a stator, in a multi-phase motor. Many deal with detecting the BEMF. However, to detect the BEMF, additional circuitry is required.","What is needed is a system and method for determining the position and velocity of a rotor, with reference to a stator, without relying on the BEMF.","The present invention provides a system and method for determining the position and velocity of a rotor, with reference to a stator, without relying on the BEMF.","In accordance with an aspect of the present invention, a method is provided for monitoring a motor having a stator, a rotor and a detector. The stator can receive a driving signal to produce a first magnetic field. The rotor can rotate in a circle relative to the stator. The rotor has a magnetic portion that can emit a second magnetic field in a radial direction. The detector can output a detection signal based on the position of the rotor. The method includes: driving the motor with the driving signal such that the driving signal has a first amplitude; monitoring the detection signal; determining a first rotor angle \u03b8of the rotor relative to the stator based on the driving signal having the first amplitude and the detection signal; driving the motor with the driving signal such that the driving signal has a second amplitude; monitoring the detection signal; determining a second rotor angle \u03b8of the rotor relative to the stator based on the driving signal having the second amplitude and the detection signal; and determining the alignment of the detector relative to the stator based on the first rotor angle \u03b8and the second rotor angle \u03b8.","Additional advantages and novel features of the invention are set forth in part in the description which follows, and in part will become apparent to those skilled in the art upon examination of the following or may be learned by practice of the invention. The advantages of the invention may be realized and attained by means of the instrumentalities and combinations particularly pointed out in the appended claims.","In accordance with aspects of the present invention, with a motor having motor position sensors, a system is operable to determine the sensor alignment(s) by driving the motor and does not observe the back-EMF. It therefore has no need for the necessity of being able to disconnect the drive signal, nor have the inputs to measure the back-EMF.","Consider a motor having hall sensors thereon for detecting a relative position of the stator(s) and rotor. Further, consider this motor being driven open-loop, i.e., the voltage waveform causes the magnetic field in the stator to spin in a slow circle without regard to the stator position (this is just a steady-state 3-phase sine wave). It is trivial to do this because the motor controller normally spins the field synchronous to the rotor based on its position. To operate open-loop, it is simply spun in time. There is nothing new or unique about driving a motor open loop. During the open-loop drive, the torque on the rotor is the cross-product between the stator field and the magnetic moment of the permanent magnet. This torque is maximum when the two are at right angles. If the open-loop drive is considerably stronger than needed to overcome the mechanical load on the motor, the rotor will follow behind the rotating field at an angle smaller than 90\u00b0. As the rotor spins, it causes the hall sensors to change states. The angle between the rotating field and the rotor is unknown because the precise torque is unknown.","The invention is to solve for this unknown by driving the motor with two different field strengths, but at the same rotation rate. The mechanical torque should be the same between the two conditions because the mechanical rotation is the same. For the stronger field, the angle between rotor and stator will be smaller than for the weaker field. It is possible to analytically solve for the rotor angle from the two measurements.","Consider the instant of time when a particular hall sensor transitions from high to low. This occurs at an unknown rotor angle \u03b8. The field leads it by an unknown angle, but the absolute angle of the field is known because the controller is generating it. The torque is simply the product of drive strength, and a motor constant times the sine of the angle between the two.","It is most convenient to simply use the angle of the drive voltage, which is just the phase of the sinusoidal drive voltage on one of the windings. When the hall edge occurs, a controller records the phase of the voltage that it is driving at that instant. It makes the field spin by ramping this phase up with time, so this information is being generated by the controller itself.","With the low drive strength (small voltage amplitude) applied, the drive phase is recorded at each of the hall sensor's rising and falling edges. Then the higher drive strength is applied at the same spinning rate (i.e. the same frequency) and a second set of phases is recorded. The unknown rotor angle for each hall edge can be solved for from the two phase measurements and the ratio of the drive strengths.","In accordance with a non-limiting example embodiment of the present invention, a motor may be driven at a very low speed such that the phase angle due to the motor inductance is insignificant. By detecting parameters of the motor driven at a very low speed, a parameter \u03b2 associated with back EMF, may be determined. The parameter \u03b2 may then be used to determine a location of the detector relative to the stator of the motor.","When driving a motor at a very low speed, the drive strengths and angles would be defined by the stator currents rather than voltages. However, at low speeds the back-EMF and inductive reactance are negligible so the voltages can be used directly.","Because of the slow speed, variations in the torque due to \u201cbumpiness\u201d of the motor bearings etc. produce some residual error in the measured position. In accordance with another aspect of the present invention, it is possible to further improve the measurement by driving the motor at high speed (now that the nominal hall positions are known) and measuring the time between consecutive hall edges. This time (relative to a full revolution time) should be proportional to the difference between the recorded angles of the two hall edges.","In accordance with another aspect of the present invention, the sensor angle that is most incorrect may be determined, and corrected. In particular, the sensor that is early is compared to the previous sensor, whereas the sensor that is late is compared to the next sensor. The sensor with the worst combined earliness and lateness is offset to reduce the combined error by half and the process repeats until each sensor has a very small error. Once this is performed, the rotor angle at each hall edge is known to great precision, without having made any assumptions about their positions to begin with.","In accordance with another non-limiting example embodiment of the present invention, a motor may be driven at high speeds. The parameter \u03b2 associated with back EMF may alternately be determined by detecting many instances of parameters of the motor driven at high speeds. The parameter \u03b2 may then be used to determine a location of the detector relative to the stator of the motor. This example embodiment does not have the residual error associated with the \u201cslow driving speed\u201d embodiment discussed above.","Example embodiments of the present invention will now be described with reference to .",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIGS. 4A-D","b":"100"},"A detector , a detector  and a detector  may be used for determining the location of rotor  with respect to stator . As a non-limiting example, detector  may be configured as a Hall-effect sensor (Hall sensor).","A plurality of detectors have been illustrated for motor , however location information may be sufficiently determined using one detector.","A Hall sensor makes use of the Hall effect, whereby a transducer varies its output voltage differential in response to changed in a magnetic field. Applications for Hall sensors include proximity switch, positioning, speed detection and current sensing. A Hall sensor may be configured for digital operation. For example, a digital Hall sensor may present a logic 1 when experiencing a first magnetic field with one directional component and may present a logic 0 when experiencing a second magnetic field with an opposite directional component from the first.","For example, as illustrated in , detector  presents a logic 1, when experiencing a magnetic field as noted by an arrow  generated by magnet  with a magnet component directed toward detector .","In , rotor  has traveled clockwise from the location as illustrated in . Magnet  is now located opposite detector  and is experiencing a magnetic field noted by an arrow  with a directional component directed away from detector . Furthermore, as a result of experiencing magnetic field as depicted by arrow , detector  presents a logic 0.","In , rotor  is rotating with an angular velocity, as noted by an arrow . At the moment in time illustrated, detector  has switched from being influenced by the magnet field generated by magnet  and is now experiencing a magnetic field as noted by an arrow  generated by magnet . Just prior to the time frame as illustrated, detector  experienced a magnetic field generated by magnet  and detector  was presenting a logic 1. At the moment in time as illustrated in , detector  is now presented with the magnetic field as depicted by arrow  and as a result detector  is presenting a logic 0.","In , rotor  is rotating with an angular velocity, as noted by arrow . At the moment in time illustrated, detector  has switched from being influenced by the magnet field generated by magnet  and is now experiencing a magnetic field as noted by an arrow  generated by magnet . Just prior to the time frame as illustrated, detector  experienced a magnetic field generated by magnet  and detector  was presenting a logic 0. At the moment in time as illustrated in , detector  is now presented with the magnetic field as depicted by arrow  and as a result detector  is presenting a logic 1.","As illustrated in , a detector may be used to determine the location of a rotator with respect to stator using a detector, as a detector can be configured to communicate information associated with a transition from receiving a first magnetic field to receiving a second magnetic field with the second having an opposite directional component from the first.","In the manufacture of a motor, the location of a detector may vary from one motor to the next. As a result, the information obtained from a detector may vary from one motor to the next.","For example, in , detector  is not located midway between first leg  and third leg , as an angle , noted as \u03b8, is smaller than an angle , noted as \u03b8. If a user of motor presumes that the detector is located at angle \u03b8, the actual location of detector  results in inaccurate information associated with the location of rotor . Furthermore, the inaccurate information may result in improper or inefficient operation of motor . Furthermore, motor  may experience issues with operation as discussed with respect to .","Aspects in accordance with the present invention account for an unknown position of a detector, as will now be discussed with reference to .",{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 5","b":"500"},"Motor system  includes motor , a driver , a driver , a driver , an amplifier , an amplifier , an amplifier  and a motor controller . Each of the elements of motor system  are illustrated as individual devices, however, in some embodiments of the present invention at least two of motor , driver , driver , driver , amplifier , amplifier , amplifier  and motor controller  may be combined as a unitary device.","Motor controller  includes a multiplexer , a multiplexer , a phase differential , an \u03c9t synthesizer  and a processor . Each of the elements of motor controller  are illustrated as individual devices, however, in some embodiments of the present invention at least two of multiplexer , multiplexer , phase differential , \u03c9t synthesizer  and processor  may be combined as a unitary device.","First leg  is arranged to receive a signal  from amplifier . Second leg  is arranged to receive a signal  from amplifier . Third leg  is arranged to receive a signal  from amplifier .","Multiplexer  is arranged to receive signal  from amplifier , signal  from amplifier , and signal  from amplifier . Multiplexer  is arranged to receive a signal  from detector , a signal  from detector  and a signal  from detector . Multiplexer is additionally arranged to receive a signal  from processor .","Phase differential  is arranged to receive a signal  from multiplexer  and to receive a signal  from multiplexer . Processor  is arranged to receive a signal  from phase differential . Driver  is arranged to receive a signal  from processor . Driver  is arranged to receive a signal  from processor . Driver  is arranged to receive a signal  from processor .","The \u03c9t synthesizer  is arranged to receive a signal  from processor . Processor  is arranged to receive a signal  from \u03c9t synthesizer .","Amplifier  is arranged to receive a signal  from driver  and a signal  from processor . Amplifier  is arranged to receive a signal  from driver  and to receive signal  from processor . Amplifier  is arranged to receive a signal  from driver  and signal  from processor .","Motor  operates as described with reference to .","Drivers ,  and  generate signals for driving motor . Furthermore, the phase of each signal generated by drivers ,  and , respectively, is configurable. A non-limiting example of the type of signals generated by drivers ,  and  includes sinusoidal signals.","An amplifier receives an input signal and amplifies the received signal. In this case, amplifier  receives signal , amplifies signal  and outputs signal amplified signal  as signal ; amplifier  receives signal , amplifies signal  and outputs signal amplified signal  as signal ; amplifier  receives signal , amplifies signal  and outputs signal amplified signal  as signal . Furthermore, the amplification applied by amplifiers ,  and  may be configurable. In an example embodiment, the amplification applied by amplifiers ,  and  is controlled by processor  via signal .","A motor controller receives information associated with driving signals and detector signals, and then processes the received information to control amplification for amplifiers and to control the phase offsets for drivers. In this case, motor controller  receives: information associated with driving signals, i.e., signals ,  and ; and receives information associated with detector signals, i.e., signals ,  and . Motor controller  then processes the received information to: control amplification for amplifiers, i.e., ,  and  via signal ; and control the phase offsets for drivers, i.e., drivers ,  and  via signals ,  and , respectively.","A more detailed operation of motor controller  will now be provided with respect to the individual devices therein.","A multiplexer receives multiple input signals and selects one signal for output based on a selection\/control signal. In this case, multiplexer  receives signals ,  and  and selects one signal for output as signal . Signal selection for multiplexer  is configured via a signal . Multiplexer  receives signal  from processor  for controlling selection of signals ,  and . Multiplexer  receives signals ,  and  and selects one signal for output as signal . Signal selection for multiplexer  is configured via signal . Multiplexer  receives signal  from processor  for controlling selection of signals ,  and .","A phase differential performs a phase differential calculation between two received signals. In this case, phase differential  performs a phase differential calculation between signal  and signal  and outputs the results as signal .","The \u03c9t synthesizer  synthetically generates an \u03c9t signal. The synthetically generated \u03c9t signal is an approximate value for the actual \u03c9t for motor system .","Processor  receives and processes signals for generation of signals to control the operation of motor system . In particular, processor  receives and processes signal  to control: driver  via signal ; driver  via signal ; driver  via signal ; amplifiers ,  and  via signal .","Signal  controls the phase of signal  as generated by driver . Signal  controls the amount and direction for shifting a sinusoidal signal as generated by driver . For example, signal  may shift the phase of signal  by 1 degree or by \u22121 degree. Signal  controls the phase of signal  as generated by driver. For example, signal  may shift the phase of signal  by 1 degree or by \u22121 degree. Signal  controls the phase of signal  as generated by driver. For example, signal  may shift the phase of signal  by 1 degree or by \u22121 degree. Signal  controls the amplification for amplifier ,  and . For example, signal  may configure the peak voltages as produced by amplifiers, ,  and  to 2 Volts.","Signals ,  and  generated by drivers ,  and , respectively, are nominally generated at a phase differential of 120\u00b0.","Amplifiers ,  and  initiate amplification of received signals for supplying amplified signals to first leg , second leg  and third leg , respectively. Motor  receives driving signals and converts electrical power into a magnet fields associated with first leg , second leg  and third leg . Magnetic fields generated by first leg , second leg  and third leg  function to magnetically attract or repel the magnets associated with rotor .","As a result of the magnetic attraction and repulsion, rotor  rotates thereby converting electrical power into mechanical power. Motor  rotates as an angular velocity governed by the frequency of the signals as generated by drivers ,  and . As rotor  rotates, detectors ,  and  detect the transitions of magnetic fields generated by the magnets associated with rotor . As detectors ,  and  detect a transition for a received magnetic field, the signals supplied by detectors ,  and  transition from logic 0 to logic 1 and vice-versa.","Processor  selects, via signal , to deliver one of signals ,  or  from multiplexer  to phase differential  as signal . Processor  additionally selects, via signal , to deliver one of signals ,  or  from multiplexer  to phase differential  as signal .","Phase differential  determines a phase differential between signal  and signal . Phase differential  then provides the determined phase differential to the phase differential to processor  as signal .","The \u03c9t synthesizer  receives configuration information from processor  via signal  for generating a synthetic wt. The synthetic \u03c9t is then provided to processor  via signal .","Processor  receives and stores phase differential information in order to perform calculations at a later time. Processor  is additionally operable to modify the selection for multiplexers  and  for other legs and sensors of motor . Still further, processor  is operable to modify the amplification of amplifiers ,  and  via signal . Still further, processor  is operable to configure \u03c9t synthesizer  and receive a synthetic \u03c9t via signal .","Amplifiers ,  and  supply amplified signals to first leg , second leg  and third leg , respectively.","Processor  repeats the process as described before for selection of multiplexers  and  and receives and stores phase differential information for the modified amplification of amplifiers ,  and . Processor  is additionally operable to perform calculations for the received differential information and determines the physical location of detectors ,  and .","Based upon the location of detectors ,  and , processor  determines the amount of phase offset, if any, to be supplied to drivers ,  and  via signals ,  and , respectively.","Processor  modifies the phase offset, if any, to drivers ,  and  via signals ,  and , respectively.","As discussed for detector  with respect to , the physical location for a detector may vary from fabrication of one motor to the next and as a result experience negative consequences associated with the operation of a motor. Motor system  enables the determination for the location of the detectors associated with a motor. Furthermore, motor system  provides for modification of the operation of the system to accommodate for the location of the detectors. Further detailed discussion for the operation of motor system  will be presented in the following paragraphs.",{"@attributes":{"id":"p-0100","num":"0099"},"figref":"FIG. 6A-B","b":"600"},"Graph  includes a y-axis  in Volts, and an x-axis , in milliseconds.","Graph  includes a waveform , a waveform , a waveform  and a waveform .","As shown in , waveform  illustrates a sinusoidal signal as driven by one of amplifier  (described above with reference to ), amplifier  or amplifier . For example, when amplifier  provides waveform , amplifier  would provide a sinusoidal signal 120\u00b0 out of phase from waveform , whereas amplifier  would provide a sinusoidal signal 240\u00b0 out of phase from waveform .","Waveform  initiates a sinusoidal cycle at a time  with a magnitude denoted as a voltage  or as V. At a time , waveform  transitions to the second half of the sinusoidal cycle. At a time , waveform  completes a sinusoidal cycle.","Waveform  illustrates a digital signal as generated by a detector associated with motor , e.g. one of detector  (discussed above with reference to ), detector  or detector .","Waveform  initiates as a logic 0 at time . At a time , waveform  transitions to a logic 1. At a time , waveform  transitions to a logic 0. At a time , waveform  transitions to a logic 1.","For waveform , the timeframe from just after time  to just prior to time  was discussed with reference to . Furthermore, the timeframe from just after time  to just prior to time  was discussed with reference to ; the timeframe from time  to just past time  was discussed with reference to ; and the timeframe from time  to just past time  was discussed with reference to .","The time, as denoted by a phase differential , from waveform  transitioning to the second half of the sinusoidal cycle, or time , and the time at which waveform  transitions from logic 1 to logic 0, or time , may be represented as the phase difference between waveform  and waveform . Returning to , the phase differential , is the calculation performed by phase differential  and provided to processor  as signal .","As presented in , waveform  initiates a sinusoidal cycle at time  with a magnitude denoted as a voltage  or as V. At time , waveform  transitions to the second half of the sinusoidal cycle. At time , waveform  completes a sinusoidal cycle.","Waveform  has the same timing signature as waveform , however, waveform  has a larger magnitude, as the peak voltage for waveform , V, is larger than the peak voltage, V, for waveform . The larger difference in voltage between waveform  and  is controlled by processor  via signal .","Waveform  initiates as a logic 0 at time . At a time , waveform  transitions to a logic 1. At a time , waveform  transitions to a logic 0. At a time , waveform  transitions to a logic 1.","As demonstrated, increasing the voltage for the sinusoidal signal applied to the motor, shifted the timing of waveform  as compared to waveform . Furthermore, the phase difference between the driven sinusoid and the detector signal has decreased and is denoted as a phase differential .",{"@attributes":{"id":"p-0113","num":"0112"},"figref":"FIG. 6A-B"},{"@attributes":{"id":"p-0114","num":"0113"},"figref":"FIG. 7","b":"700"},"Graph  includes a y-axis  in Volts, an x-axis  in milliseconds and a y-axis  in degrees.","Graph  includes a waveform , a waveform , a waveform , a detector waveform , a detector waveform , a detector waveform  and an accumulator waveform .","With additional reference to , Waveform , waveform  and waveform  represent the winding voltages for first leg , second leg  and third leg , respectively. The voltages for waveforms ,  and  correspond to y-axis .","With additional reference to , detector waveform , detector waveform  and detector waveform  represent the voltages of detector signals for detector , detector  and detector , respectively. The voltages for detector waveforms ,  and  correspond to y-axis .","Accumulator waveform  represents the angle of the phase accumulator associated with the motor control used for generating the sinusoidal signals of waveforms ,  and . The angles for accumulator waveform  correspond to y-axis ","For the conditions of graph  with a peak driving voltage of 1 Volt applied to the motor windings, the rising edge of detector waveform  occurs when accumulator waveform  is at 8\u00b0.","As the peak driving voltage of the winding voltages is increased, the timing of detector waveforms ,  and , would shift slightly to the left for graph . Furthermore, the rising edges for detector waveforms ,  and  would also have different accumulator angles.","For a typical implementation of three detectors, with each having a rising edge and falling edge, six discrete rotor positions may be identified.",{"@attributes":{"id":"p-0123","num":"0122"},"figref":["FIG. 7","FIGS. 8-10"]},{"@attributes":{"id":"p-0124","num":"0123"},"figref":"FIG. 8A-B","b":"800"},"Phasor diagram  includes a y-axis  in units of magnitude, an x-axis  in units of magnitude.","As illustrated in , phasor diagram  includes a back EMF vector  also denoted as V, a winding voltage vector  also denoted as V, a rotor magnetic moment vector  also denoted as M, a winding current vector  also denoted as I, a winding resistance voltage vector  also denoted as IR, a winding inductance voltage vector  also denoted as Ij\u03c9L, and a voltage vector  also denoted as IZ.","Voltage vector  is a voltage vector representing the portion of the voltage across the motor winding that is not back-EMF. Furthermore, voltage vector  is the sum of the voltage across the winding resistance and the voltage across the winding inductance.","Vectors in phasor diagram  rotate in a counter-clockwise circle at a frequency of \u03c9.",{"@attributes":{"id":"p-0129","num":"0128"},"figref":"FIG. 8A","b":"808"},"Back EMF vector  represents the back EMF for the motor. When applying a voltage to create a current, a motor's armature may begin to rotate and as a result a certain amount of electro motive force generated by the rotating magnetic field. Furthermore, this amount of electro motive force may be denoted as the back EMF. For a motor using a rotating armature in the presence of a magnetic flux, the coil conductors of the motor transition through the magnet field lines as the motor rotates. The changing field strength produces voltages in the coils, which may be considered as the motor operating in a similar manner as a generator, or also may be considered as the voltage produced from the back EMF opposing the originally applied voltage.","Winding voltage vector  represents the voltage applied to a winding for a leg of the motor (e.g. first leg  ()). Rotor magnetic moment vector  represents the magnet moment for a motor. Winding current vector  represents the current traversing a winding for a leg of the motor (e.g. first leg ). Winding resistance voltage vector  represents the voltage associated with the resistive portion of the winding for a leg of the motor (e.g. first leg ). Winding inductance voltage vector  represents the voltage associated with the inductive portion of the winding for a leg of the motor (e.g. first leg ). Voltage vector  is a voltage vector representing the portion of the voltage across the motor winding that is not back-EMF. Furthermore, voltage vector  is the sum of the voltage across the winding resistance and the voltage across the winding inductance.","As may be observed, winding voltage vector  equals the sum of winding resistance voltage vector , winding inductance voltage vector  and back EMF vector .","Furthermore, as may be observed, voltage vector  equals the sum of winding inductance voltage vector  and winding resistance voltage vector .","An angle , also denoted as \u03b2, represents the phase angle associated with back EMF vector . An angle , also denoted as n, represents the phase angle associated with winding current vector . An angle , also denoted as \u03b4, represents the phase angle associated with the inductive voltage of the winding. An angle , also denoted as \u03b3, represents the angle (lag) the rotor magnetic moment vector  behind the winding current vector .","Angle  and angle  are measured with respect to an arbitrary reference. For this example, angle  and angle  are measured when winding voltage vector  crosses x-axis .","It is possible to calculate \u03b4 and (the magnitude of) V, however it is not possible to calculate \u03b2and n, intermediary variables used for determining the location of the back-EMF voltage vector, as there are too many unknowns for the number of available equations. \u03b2, indicates where the sensor is physically located with respect to the stator windings. \u03b2, is an intermediary used to find \u03b2",{"@attributes":{"id":"p-0137","num":"0136"},"figref":["FIG. 8B","FIG. 8A"]},"A winding voltage vector , also denoted as V, represents a reduced voltage applied to a winding for a leg of the motor (e.g. first leg ) as compared to . The voltage associated with winding voltage vector  is greater than the voltage required to drive the load at the same speed as per the conditions as described with reference to .",{"@attributes":{"id":"p-0139","num":"0138"},"figref":"FIG. 8B","b":"826"},"A winding current vector , also denoted I, represents a reduced current traversing a winding for a leg of the motor (e.g. first leg ), as compared to . A winding resistance voltage vector , also denoted as Ir, represents a reduced voltage associated with the resistive portion of the winding for a leg of the motor (e.g. first leg ), as compared to . A winding inductance voltage vector , also denoted as Ij\u03c9L, represents a reduced voltage associated with the inductive portion of the winding for a leg of the motor (e.g. first leg ), as compared to . A voltage vector , also denoted as IZ, represents reduced power applied to the winding for a leg of the motor (e.g. first leg ), as compared to .","As may be observed, winding voltage vector  equals the sum of winding resistance voltage vector , winding inductance voltage vector  and back EMF vector .","An angle , also denoted as \u03b2, represents a modified phase angle associated with back EMF vector , as compared to . An angle , also denoted as 2, represents a modified phase angle associated with winding current, as compared to . An angle , also denoted as \u03b3, represents a modified angle associated with the rotor magnetic moment vector  lagging behind the winding current, as compared to .","The applied voltage associated with winding voltage vector , V, is less than winding voltage vector  (). The reduced applied voltage results in a smaller current associated with winding current vector , I.","In order for rotor  to maintain a constant torque, rotor magnetic moment vector  lags further behind winding current vector  resulting in a larger angle associated with angle  than that of angle  as described with reference to .",{"@attributes":{"id":"p-0145","num":"0144"},"figref":"FIG. 9","b":"900"},{"@attributes":{"id":"p-0146","num":"0145"},"figref":["FIG. 9","FIG. 8A","FIG. 8B","FIG. 9","FIGS. 8A-B","FIGS. 8A-B","FIG. 8A","FIG. 8B","FIG. 9","FIG. 4"],"b":["808","826","804","402"]},"Phasor diagram  includes a y-axis  in units of magnitude, an x-axis  in units of magnitude.","Phasor diagram  includes a back EMF vector  also denoted as V, a first winding voltage vector  also denoted as V, a rotor magnetic moment vector  also denoted as M, a first winding current vector  also denoted as I, a first winding resistance voltage vector , a first winding inductance voltage vector , a first voltage vector , a second winding voltage vector  also denoted as V, a second winding current vector , also denoted as I, a second winding resistance voltage vector , a second winding inductance voltage vector  and a second voltage vector .","Vectors in phasor diagram  rotate in a counter-clockwise circle at a frequency of \u03c9.","Back EMF vector  represents the back EMF for the motor. First winding voltage vector  represents the voltage applied to a winding for a leg of the motor (e.g. first leg ). Rotor magnetic moment vector  represents the magnet moment for a motor. First winding current vector  represents the current traversing a winding for a leg of the motor (e.g. first leg ). First winding resistance voltage vector  represents the voltage associated with the resistive portion of the winding for a leg of the motor (e.g. first leg ). First winding inductance voltage vector  represents the voltage associated with the inductive portion of the winding for a leg of the motor (e.g. first leg ). First voltage vector  represents the power applied to the winding for a leg of the motor (e.g. first leg ).","As may be observed, first winding voltage vector  equals the sum of first winding resistance voltage vector , first winding inductance voltage vector  and back EMF vector .","Furthermore, as may be observed, second winding voltage vector  equals the sum of second winding resistance voltage vector , second winding inductance voltage vector  and back EMF vector .","An angle , also denoted as \u03b2, represents the phase angle associated with back EMF vector . An angle , also denoted as \u03b8, represents the instantaneous phase for Vwhen a detector switches from driving logic 1 to logic 0. An angle , also denoted as 1, represents the phase angle associated with first winding current vector . An angle , also denoted as \u03b3, represents the angle the rotor magnetic moment vector  lags behind the first winding current vector .","Second winding current vector , also denoted I, represents an increased current traversing a winding for a leg of the motor (e.g. first leg ), as compared to first winding current vector . Second winding resistance voltage vector , represents an increased voltage associated with the resistive portion of the winding for a leg of the motor (e.g. first leg ), as compared to first winding resistance voltage vector . Second winding inductance voltage vector , represents an increased voltage associated with the inductive portion of the winding for a leg of the motor (e.g. first leg ), first winding inductance voltage vector . Second voltage vector , represents increased power applied to the winding for a leg of the motor (e.g. first leg ), first voltage vector .","An angle , also denoted as \u03b2, represents a modified phase angle associated with back EMF vector , as compared to angle . An angle , also denoted as \u03b8, represents the instantaneous phase for Vwhen a detector switches from driving logic 1 to logic 0. An angle , also denoted as 2, represents a modified phase angle associated with winding current, as compared to angle . An angle , also denoted as \u03b3, represents a modified angle associated with the rotor magnetic moment vector  lagging behind the winding current, as compared to angle .","Phasor diagram  represents a snapshot for the operation of a motor at the occurrence of a detector switching from logic 1 to logic 0. Furthermore, phasor diagram  represents a snapshot of two differing conditions for the motor. For the first condition, a voltage, V, is applied to the winding of the motor and for the second condition a larger voltage, V, is applied to the winding of the motor.","A point , associated with rotor magnetic moment vector , represents a condition for the switching of the detector from logic 1 to logic 0 as discussed previously with respect to .","As illustrated, back EMF vector , V, is in the same position regardless of the voltage applied to the motor windings.","An angle , also denoted as \u03b2, represents the phase angle associated with back EMF vector  or V. Angle  may also be characterized as \u03b8+\u03b2and also \u03b8+\u03b2. Angle  or \u03b2 will be discussed in more detail in the following paragraphs.",{"@attributes":{"id":"p-0160","num":"0159"},"figref":"FIG. 10","b":"1000"},"Three-phase motor system  includes motor , a driver , a driver  and a driver .","Driver  provides a sinusoidal signal with a frequency of w, a phase of zero degrees, a peak voltage of Vand a current of I. Driver  may further be characterized by Equation (1) shown below:\n\ncos(\u03c90)\u2003\u2003(1)\n","Driver  provides a sinusoidal signal with a frequency of \u03c9, a phase of \u2212120 degrees, a peak voltage of Vand a current of I. Driver  may further be characterized by Equation (2) shown below:\n\ncos(\u03c9120\u00b0)\u2003\u2003(2)\n","Driver  provides a sinusoidal signal with a frequency of \u03c9, a phase of +120 degrees, a peak voltage of Vand a current of I. Driver  may further be characterized by Equation (3) shown below:\n\ncos(\u03c9120\u00b0)\u2003\u2003(3)\n","Motor  includes a first leg , a second leg  and a third leg .","First leg , second leg  and third leg  schematically represent the windings for motor . First leg  includes an inductive portion , a back EMF portion  and a resistive portion . Second leg  includes an inductive portion , a back EMF portion  and a resistive portion . Third leg  includes an inductive portion , a back EMF portion  and a resistive portion .","Inductive portion , inductive portion  and inductive portion  are a result of the inductance associated with the windings of motor . Resistive portion , resistive portion  and resistive portion  are a result of the resistance associated with the windings of motor . Back EMF portion , back EMF portion  and back EMF portion  are a result of the back EMF induced from the operation of motor .","A first terminal of driver  connects to ground potential. A second terminal of driver  connects to a first terminal of inductive portion . A second terminal of inductive portion  connects to a first terminal back EMF portion . A second terminal of back EMF portion  connects to a first terminal of resistive portion . A second terminal of resistive portion  connects to a point .","A first terminal of driver  connects to ground potential. A second terminal of driver  connects to a first terminal of inductive portion . A second terminal of inductive portion  connects to a first terminal back EMF portion . A second terminal of back EMF portion  connects to a first terminal of resistive portion . A second terminal of resistive portion  connects to point .","A first terminal of driver  connects to ground potential. A second terminal of driver  connects to a first terminal of inductive portion . A second terminal of inductive portion  connects to a first terminal back EMF portion . A second terminal of back EMF portion  connects to a first terminal of resistive portion . A second terminal of resistive portion  connects to point .","Back EMF portion  is characterized by a sinusoidal signal with a frequency of \u03c9, a peak voltage of Vand a phase of \u03b2 also noted as angle  described with reference to . Back EMF portion  may further be characterized by Equation (4) shown below:\n\ncos(\u03c9+\u03b2)\u2003\u2003(4)\n","Back EMF portion  is characterized by a sinusoidal signal with a frequency of \u03c9, a peak voltage of Vand a phase of \u03b2\u2212120\u00b0. Back EMF portion  may further be characterized by Equation (5) shown below:\n\ncos(\u03c9120\u00b0)\u2003\u2003(5)\n","Back EMF portion  is characterized by a sinusoidal signal with a frequency of \u03c9, a peak voltage of Vand a phase of \u03b2+120\u00b0. Back EMF portion  may further be characterized by Equation (6) shown below:\n\ncos(\u03c9120\u00b0)\u2003\u2003(6)\n","As discussed previously with respect to , angle  or \u03b8represents the value of \u03c9t when a detector edge occurs.","As an example, the instant a detector edge occurs, the voltage for driver  would be given by Vcos(\u03b8). Furthermore, processor  () is able to digitally synthesize a value for \u03c9t, so processor  is able to determine the voltage for driver  when \u03c9t is equal to \u03b8.","An Equation (7) may be derived for \u03b3also noted as angle  () as shown below:",{"@attributes":{"id":"p-0177","num":"0176"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":"\u03b3","mn":"1"},"mo":"=","mrow":{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"msub":{"mi":"I","mn":"2"},"mo":"\u2062","mrow":{"mi":"sin","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":"\u03d5","mn":"1"},{"mi":"\u03d5","mn":"2"}],"mo":"-"}}}},{"msub":{"mi":"I","mn":"1"},"mo":"-","mrow":{"msub":{"mi":"I","mn":"2"},"mo":"\u2062","mrow":{"mi":"cos","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":"\u03d5","mn":"1"},{"mi":"\u03d5","mn":"2"}],"mo":"-"}}}}}]}}}}},{"mrow":{"mo":["(",")"],"mn":"7"}}]}}}}},"The maximum efficiency (i.e. least electrical power provided for realizing maximum mechanical power) is achieved when the current is in phase with the back EMF at the occurrence of a detector edge which is when the driven current has a phase as given by Equation (8) shown below:\n\nBest=\u03c0\/2\u22121\u2212\u03b3\u2003\u2003(8)\n","Where 1 represents angle  () and \u03b3represents angle  ().","The variable Best may be visualized in  as occurring when the winding current vector (e.g. first winding current vector ) is in phase or parallel with back EMF vector .","However, performance of Equation (8) requires either a current measurement circuit or an atypical drive circuit. The present invention does not require measurement of current, but rather operates based on voltage.","For a voltage driven system, the maximum efficiency occurs when the winding current is in phase with the back EMF at the occurrence of a detector edge and may be achieved when the phase for V() conforms to Equation (9) as shown below:",{"@attributes":{"id":"p-0183","num":"0182"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["\u03b8","best"]},"mo":"=","mrow":{"mi":["\u03b2","\u03b4"],"mo":["+","-"],"mrow":{"msup":{"mi":"sin","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":{"mi":["V","B"]},"mo":["\u2062","\u2062","\u2062"],"mi":["sin","\u03b4"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"msub":{"mi":["V","A"]}}}}}}},{"mrow":{"mo":["(",")"],"mn":"9"}}]}}}}},"The variable \u03b2 represents the angular location when a detector event occurs as represented by angle  as described with reference to . The variable Vrepresents the magnitude back EMF vector , which corresponds to angle .","The variable best may be visualized in  as when the winding current vector (e.g. first winding current vector  or second winding current vector ) is in phase or parallel with back EMF vector .","An Equation (10) for \u03b2+\u03b4 may be derived as shown below:",{"@attributes":{"id":"p-0187","num":"0186"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":["\u03b2","\u03b4"],"mo":"+"},{"mrow":[{"mrow":{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mfrac":{"mrow":[{"msub":[{"mi":"V","mn":"1"},{"mi":"V","mn":"2"}],"mo":"-"},{"msub":[{"mi":"V","mn":"1"},{"mi":"V","mn":"2"}],"mo":"+"}]},"mo":"\u2062","mrow":{"mi":"cot","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":[{"mi":"\u03b8","mn":"2"},{"mi":"\u03b8","mn":"1"}],"mo":"-"},"mn":"2"}}}}}},"mo":"+","mfrac":{"mrow":{"msub":[{"mi":"\u03b8","mn":"1"},{"mi":"\u03b8","mn":"2"}],"mo":"+"},"mn":"2"}},{"mi":"\u03b2","mo":"+","mrow":{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":{"mi":["\u03c9","L"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mi":"r"}}}}],"mo":"="}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"10"}}]}}}}},"Equation (10) may be rearranged to form Equation (11) as shown below:",{"@attributes":{"id":"p-0189","num":"0188"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":["\u03b2","\u03b4"],"mo":"+"},{"mrow":[{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mrow":[{"mfrac":{"msub":[{"mi":"V","mn":"2"},{"mi":"V","mn":"1"}]},"mo":["\u2062","\u2062","\u2062"],"mi":"cos","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":"\u03b8","mn":"2"}},{"mi":"cos","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":"\u03b8","mn":"1"}}],"mo":"-"},{"mrow":[{"mi":"sin","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":"\u03b8","mn":"1"}},{"mfrac":{"msub":[{"mi":"V","mn":"2"},{"mi":"V","mn":"1"}]},"mo":["\u2062","\u2062","\u2062"],"mi":"sin","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msub":{"mi":"\u03b8","mn":"2"}}],"mo":"-"}]}}},{"mi":"\u03b2","mo":"+","mrow":{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":{"mi":["\u03c9","L"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mi":"r"}}}}],"mo":"="}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"11"}}]}}}}},"The variable \u03b2 represents the angular location of the detector when a detector event occurs as represented by angle  as described with reference to . The variable L represents the inductance of the motor winding. The variable Vrepresents a first applied voltage. The variable Vrepresents a second applied voltage. The variable 1 represents a first measured angle. The variable 2 represents a second measured angle. The value of \u03b4 may be determined if the equation is plotted vs. \u03c9. Further, it is true that \u03b4=tan(\u03c9L\/r) and if L and r are known for the motor, then \u03b4 can be determined from equation (11). However \u03b4 is independent of the sensor position. In accordance with aspects of the present invention, \u03b4 may additionally be determined by rotating the motor without knowing L, r or ever measuring the motor current. The variable r represents the resistance of the motor winding. Plotting Equation (10) or Equation (11) versus \u03c9 enables determination of \u03b4 without knowing motor resistance, r, and\/or motor inductance, L. The value for V(e.g. back EMF vector  as described with reference to ) is found from the motor constant and is illustrated by Equation (12) shown below:\n\n\u2003\u2003(12)\n","The variable \u03c9 in Equation (12) represents the angular frequency of the drive signal which controls the speed of the motor. The parameter krepresents the motor constant. The motor constant, k, is a figure of merit used to compare the relative efficiencies of different motors. It may be referred to as the \u201cback-emf constant\u201d and is the ratio of back-emf to motor angular-velocity, which is also equal to the ratio of motor torque to winding current. A higher value of kmeans the motor can produce more force for a given amount of power lost. The parameter kis provided by the motor manufacturer or may be derived if all the mechanical characteristics of the motor are known.","By measuring \u03b2+\u03b4 at different speeds. As a non-limiting example, \u03b2+\u03b4 is measured at a minimum of two speeds in order to determine the location of a detector.","The ratio of L\/r can be found for sin(\u03b4) for an optimal phase for a plurality of speeds and drive strengths.",{"@attributes":{"id":"p-0194","num":"0193"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0195","num":"0194"},"figref":"FIG. 11","b":"1100"},"Graph  includes a y-axis  in degrees and an x-axis  in Revolutions Per Minute (RPM).","Graph  includes a phase-A waveform  and a phase-B waveform .","Phase-A waveform  initiates at an x-axis and a y-axis of zero and increases linearly. Phase-B waveform  follows a slightly curved inverse tangent function, as will be described in more detail below with reference to equation (13). Furthermore, phase-A terminates at an x-axis value of 15000 RPM and a y-axis value of approximately 30 degrees.","Phase-B waveform  initiates at an x-axis value of zero and a y-axis value of approximately \u221255 degrees, and increases nearly linearly. Phase-B waveform  follows a slightly curved inverse tangent function, as will be described in more detail below with reference to equation (13). Furthermore, phase-B terminates at an x-axis value of 15000 RPM and a y-axis value of approximately \u221225 degrees.","The points associated with phase-A waveform  are the \u03b2+\u03b4 found from Equation (10) for the rising edge of a first detector (e.g. detector  of ) with two different driving speeds. The points associated with phase-B waveform  are the \u03b2+\u03b4 found from Equation (10) for the rising edge of a second detector (e.g. detector  of ) with two different driving speeds.","As an example, at 2,628 RPM the motor was first driven with a 2 Volt amplitude and the driving phase at the falling edge of first detector was observed at \u2212122.14 degrees. The amplitude of the signal was subsequently modified to 2.5 Volt and the observed driving phase at the falling edge of a third detector changed to \u2212125.86 degrees. From these measurements, \u03b2+\u03b4 was calculated as \u221250.29 degrees denoted as a point  on graph .","The various data points sampled at various speeds were then fit to the Equation (13) shown below:\n\n\u03b2+\u03b4=\u03b2+tan(\u03c9)\u2003\u2003(13)\n","Sampling the data points as described in the previous paragraph enables determination of \u03b2 as the value of \u03b2+\u03b4 project for \u03c9 equal to zero. Furthermore, the ratio of the motor winding inductance to winding resistance (L\/r) can also be determined. Furthermore, this may be performed for a multiplicity of phases.","Once the calibration has been performed, the motor is no longer driven open loop, but instead driven using the optimal phase angle information determined from the calibration data.",{"@attributes":{"id":"p-0205","num":"0204"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0206","num":"0205"},"figref":"FIG. 12","b":"1200"},"Method  starts (S) and power is applied to the motor (S). In an example embodiment, with additional reference to , drivers ,  and  are enabled for operation. Motor  is allowed to operate open loop, i.e. the signals ,  and  do not adjust the phase offset for drivers ,  and .","Then the motor is allowed to reach a steady state condition (S). For example, for steady state conditions, the revolution speed for motor  has reached a constant and there are no dynamic changes associated with the operation of motor .","The phases of the voltages (and\/or the currents) are then recorded for detector trip points (S). For example, with reference to , for detector , processor  configures multiplexer  for selecting signal . Furthermore, processor  configures multiplexer  to select signal  associated with driving first leg . When processor  detects a trip point via signal , processor  determines phase information via signal . Processor  stores received information for later retrieval.","The amplitudes of the driving signals are then modified (S). For example, typically, the amplitude of the driving signals is increased in order to prevent the driving voltage from dropping below the back EMF voltage. The amplification of amplifiers ,  and  are modified via signal  originating from processor . As a result, the amplitude of signals ,  and  are modified.","The motor is then allowed to reach a steady state condition (S). For example, for steady state conditions, the revolution speed for motor  has reached a constant and there are no dynamic changes associated with the operation of motor .","The phases of the voltages (or the currents) then are recorded for detector trip points (S). For example, similar to that described above, for detector , processor  configures multiplexer  for selecting signal . Furthermore, processor  configures multiplexer  to select signal  associated with driving first leg . When processor  detects a trip point via signal , processor determines phase information via signal . Processor  stores received information for later retrieval.","Calculations are then performed for optimal drive signal phases with the results being stored for later retrieval (S). For example, calculations are performed as described with reference to .","It is then determined whether the calibration process is to be repeated (S).","If the calibration process is to be repeated, then power is applied to the motor (S) and the process repeats.","If the calibration process is not to be repeated, then the final calculated phase information is used to adjust the phases of the driving signals (S). For example, processor  adjusts the phases of drivers ,  and  based on the phase information determined from the calculations performed and stored previously. As a result of the phase adjustments, the signals applied to first leg , second leg  and third leg  enable efficient operation of motor . Method  then stops (S).",{"@attributes":{"id":"p-0217","num":"0216"},"figref":"FIG. 12"},"In accordance with another aspect of the present invention, phase measurements of a sensor may be averaged over many revolutions. In particular, a motor may have hundreds of revolutions per minute. As such, a detector system in accordance with an aspect of the present invention may determine hundreds of slightly different sensor locations, corresponding to the hundreds of revolutions. Accordingly, the plurality of determined locations may be used to calculate and average location of a sensor, wherein the single averaged location is likely a better approximation of the actual location of the sensor.","In accordance with another aspect of the present invention, a phase may be measured for a sensor at a plurality of speeds. A curve may then be fit to the measured phase-vs-speed. Once determined, an optimal phase may be determined from the fitted curve. Furthermore, a motor may behave differently for the different rotations. Accordingly, this optimization measured phase-vs-speed curve may be performed for each sensor in each direction of rotation.","In accordance with another aspect of the present invention, motor may be driven at many speeds and corresponding sensor signals may be detected. The detected sensor signals may be used to derive a look-up table. The look-up table may then be used to interpolate sensor signals, and thereby corresponding sensor positions, based on additional driving speeds.","In accordance with another aspect of the present invention, a motor may be driven at many speeds and corresponding sensor signals may be detected. A least-squares fit of the speed-dependent data may then be used to estimate motor electrical parameters.","The positioning of sensors in a motor is not exact and their angle with respect to the stator is subject to some misalignment. There is also variation in how far apart the separate sensors are spaced, which may not be exactly 120\u00b0 (in a three-phase motor). These inaccuracies contribute to non-ideal drive conditions which reduce efficiency, speed and power available from the motor. It is possible to adjust the drive signal to match the actual phase of the rotor if it is known precisely. Sometimes a high-resolution shaft encoder is used for this purpose.","The present invention determines sensor positions by driving the motor at two different speeds and does not observe the back-EMF. It therefore has no need for the necessity of being able to disconnect the drive signal, nor have the inputs to measure the back-EMF.","Contrary to the present invention, in a conventional system, the hall sensor alignment is normally performed by spinning the motor with an external mechanical force and observing the phase of the back-EMF on the stator windings with respect to the hall sensors. When operated as a motor, the back-EMF is not usually directly observable because a voltage is being applied to the stator windings that would interfere with the measurement. With the conventional system however, the precise location of the hall sensors could be determined by observing the back-EMF of a spinning, but un-powered motor.","The foregoing description of various preferred embodiments of the invention have been presented for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed, and obviously many modifications and variations are possible in light of the above teaching. The example embodiments, as described above, were chosen and described in order to best explain the principles of the invention and its practical application to thereby enable others skilled in the art to best utilize the invention in various embodiments and with various modifications as are suited to the particular use contemplated. It is intended that the scope of the invention be defined by the claims appended hereto."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF SUMMARY OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and form a part of the specification, illustrate an exemplary embodiment of the present invention and, together with the description, serve to explain the principles of the invention. In the drawings:",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIGS. 1A-F"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIGS. 2A-F"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIGS. 4A-D"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 6A-B"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 8A-B"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 12"}]},"DETDESC":[{},{}]}
