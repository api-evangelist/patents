---
title: Communication of medical prescriptions with mobile processing systems
abstract: In an embodiment, a method is provided for communicating a medical prescription with a mobile processing system. In this method, a first request to fulfill the medical prescription is received from the mobile processing system. This first request is formatted in an instant messaging protocol and includes a mobile processing system identifier and a transaction identifier. A patient identifier that is associated with the mobile processing system identifier is identified, and transactions associated with the patient identifier are accessed to identify a transaction that is associated with the transaction identifier. The transaction then is transmitted in a second request to a pharmacy system that is configured to fulfill the medical prescription.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08433587&OS=08433587&RS=08433587
owner: Remscripts, LLC
number: 08433587
owner_city: San Francisco
owner_country: US
publication_date: 20090318
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCES TO RELATED APPLICATIONS","FIELD","BACKGROUND","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Application No. 61\/095,919, filed Sep. 10, 2008, the disclosure of which is incorporated herein by reference.","The present disclosure relates generally to electronic medical prescription systems. In an embodiment, the disclosure relates to the communication of medical prescriptions with mobile processing systems.","A pharmacy is a place where medical prescriptions are sold and dispersed. To fill a medical prescription, a patient needs to visit the pharmacy and request the medical prescription. The medical prescription is usually not ready or available immediately upon request. Instead, the patient typically needs to wait for a period of time for the pharmacy to prepare the medical prescription. The wait for the medical prescription can take a long time, and the only way for the patient to check the status of his medical prescription is to ask a worker at the pharmacy for a status update. Such inquiries can be quite inconvenient for the patient\u2014especially when the worker is busy attending to other patients. Furthermore, the patient cannot typically venture too far from the pharmacy because he may not hear a notification that his medical prescription is ready for pickup.","The description that follows includes illustrative systems, methods, techniques, instruction sequences, and computing machine program products that embody the present invention. In the following description, for purposes of explanation, numerous specific details are set forth in order to provide an understanding of various embodiments of the inventive subject matter. It will be evident, however, to those skilled in the art that embodiments of the inventive subject matter may be practiced without these specific details. In general, well-known instruction instances, protocols, structures and techniques have not been shown in detail.","The embodiments of the invention described herein provide techniques for communicating messages associated with medical prescriptions. In an example, a patient can request a refill of his medical prescription through the use of text messaging with his mobile phone. As described in more detail below, a system receives this text messaging request and forwards it to a pharmacy system that can fulfill his request by, for example, placing an order at a particular pharmacy. After the pharmacy system fulfills the request, the pharmacy system may transmit a text message notification to the patient's mobile phone that the medical prescription is ready for pickup.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1","b":["100","100","102","106","108","110","102","106","104","104","104"]},"Embodiments of the invention allow a patient (or any user) to manage and communicate his medical prescriptions through the use of the mobile processing system . It should be noted that a \u201cmobile processing system\u201d , as used herein, refers to a small or pocket-sized computing device, which may include a system battery that is used to power the mobile processing system. Examples of mobile processing systems, such as the mobile processing system , include a mobile phone (or smart phone), a personal digital assistant, and a laptop computer.","The management and communication of medical prescriptions include, for example, a patient using the mobile processing system  to submit requests to the pharmacy system  to fulfill medical prescriptions. The requests may be transmitted by way of text messages where such messages are formatted in instant messaging protocol. An \u201cinstant messaging protocol,\u201d refers to a communication protocol used in real-time text-based communication. Examples of instant messaging protocols include Short Message Service (SMS) protocol, Session Initiation Protocol (SIP), Extensible Messaging and Presence Protocol (XMPP), and Internet Relay Chat (IRC) protocol.","In an embodiment, the medical prescription management server  may communicate with the mobile processing system  by way of the instant messaging aggregator . An \u201cinstant messaging aggregator\u201d  refers to a service that is configured to convert or format messages to mobile network messages or vice versa, thereby allowing the medical prescription management server  to communicate with the mobile processing system . As an example, the instant messaging aggregator  may format hypertext transfer protocol (HTTP) messages from the medical prescription management server  to instant messaging protocol messages and vice versa. In an alternate embodiment, the medical prescription management server  can also format messages in the instant messaging protocol and thereby directly communicate with the mobile processing system  without using the instant messaging aggregator .","Still referring to , the medical prescription management server  may, for example, be an application server that is configured to receive requests to fulfill medical prescriptions from the mobile processing system  and, as explained in more detail below, to validate and forward the requests to the pharmacy system . The pharmacy system  is a system or service that manages and\/or processes the fulfillment of medical prescriptions. For example, the pharmacy system may be a pharmacy management system embodied in an application server that serves a chain of pharmacies to manage inventories, to fulfill medical prescriptions, and to manage workflows. Upon receipt of a request to fulfill a medical prescription, this pharmacy system  can check the inventories of individual pharmacies for that particular medical prescription. If that medical prescription is available, the pharmacy system  may then transmit a message to the pharmacy to fill or refill that medical prescription.","After the pharmacy system  has fulfilled the medical prescription, it may also send a message to the mobile processing system  by way of the medical prescription management server  notifying the patient that, for example, the prescription is ready for pickup. The medical prescription management server  receives this message from the pharmacy system  and transmits this message to the mobile processing system  as a text message by way of the instant messaging aggregator .",{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 2","FIG. 2"],"b":["102","106","200","102","106","110","110","106","106","102"]},"Both the pharmacy system  and the medical prescription management server  execute operating systems that manage the software processes and\/or services executing on the pharmacy system  and the medical prescription management server , respectively. As depicted in , these software processes and\/or services may include a Web service  and a request handler module . The Web service  is a software system configured to support interoperable machine-to-machine interaction over a network. The pharmacy system  communicates with the medical prescription management server  by way of the Web service . The pharmacy system  also includes a pharmacy database  that may store information related to the management of medical prescriptions, such as inventories of medical prescriptions.","On the mobile processing system , the request handler module  is configured to facilitate communication between the pharmacy system  and the mobile processing system . For example, as explained in more detail below, the request handler module  can handle requests to fulfill medical prescriptions from the mobile processing system  and to transmit these requests to the pharmacy system . In another example, the request handler module  can also handle messages transmitted from the pharmacy system  to the mobile processing system .","In addition to facilitating communication, the request handler module  also has access to a patient database , which is a data structure that stores patient information. As used herein, \u201cpatient information\u201d refers to any suitable information that can be associated with a patient. Examples of patient information include patients' phone numbers, patients' addresses, patients' preferred pharmacies (e.g., stored as store identifiers), patients' medical prescriptions, patients' reminder schedules, and other patient related information. As described in more detail below, the request handler module  may use the patient information to validate and process messages transmitted between the pharmacy system  and the mobile processing system .","It should be appreciated that the request handler module  may be deployed in a variety of different processing systems, such personal computers, laptops computers, the medical prescription management server , and other processing systems. In various embodiments, such a processing system may be used to implement computer programs, logic, applications, methods, processes, or software. In other embodiments, the medical prescription management server  may include fewer, more, or different modules apart from those shown in . For example, in another embodiment, the request handler module  may be embodied as two or more separate modules.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"b":["300","110","300","310","320","330","330","208","210"]},"The business tier  generally provides interface for accessing business level operations and, in an example, may be further divided into a business services sub-layer  and a primary services sub-layer . The business services sub-layer  is the application programming interface (API) for the presentation tier , and may be invoked by the presentation tier  to initiate a business-related request. The business services sub-layer  may include application programming interfaces  to an external pharmacy system and application programming interfaces  to the request handler module . The application programming interfaces  include business logic interfaces to servlets (e.g., presentation tier ) and function to, for example, parse the input Extensible Markup Language (XML) requests to extract particular parameters. The application programming interfaces  may also function to call to the data access object (DAO) methods to access data from the pharmacy database  by way of pharmacy system application programming interfaces , and may also return XML responses back to the servlets. Similar to the application programming interfaces , the application programming interfaces  also include business logic interfaces to the servlets, but have the functionality to call the data access object methods that access data from the patient database .","The primary services sub-layer  provides common services to the business services sub-layer  and may include, for example, a security module , a file management module , data access objects , extensibility modules , an event logger , and an error handler . The security module  handles security-related operations (e.g., authentication and authorization). The file management module  is configured to manage files (e.g., create or delete directories). The extensibility modules  are extensions of existing modules. The event logger  logs events, and the error handler  handles errors. The data access objects  generally form the database services tier of the application. The basic functionalities of the data access objects  include, for example, exposing defined methods to the business logic modules, performing database operations, and returning the requested output objects to the calling business logic modules. It should be appreciated that the business services sub-layer  and the primary services sub-layer  may be, for example, encapsulated in an archive file and made accessible to all the modules discussed above as a library reference.","The presentation tier  generally functions to interface with patients by displaying data (e.g., HyperText Markup Language (HTML) or Wireless Markup Language (WML)) and\/or by communicating the data (e.g., Moblet or SMS). For example, the presentation tier  can receive requests from the mobile processing system  and call the business tier  for operations. The presentation tier  may be, for example, a Web server project deployed on an application server. As depicted in , the presentation tier  may include an administrative Web application  and a request handler module . The administrative web application  is configured to handle specific patient requests and responses by providing data in HTML format for the Internet Web browser .","Similarly, the request handler module  is configured to handle specific patient requests and responses by providing data in, for example, WML format for an Wireless Application Protocol (WAP) or WML application  (e.g., a browser) on the mobile processing system . Additionally, the request handler module  can format data in the particular request\/response format for a Moblet application  on the mobile processing system . The Moblet application  is executed on the mobile processing system  and provides, for example, an interface for a user to input and to receive information about his medical prescription. As an example, the Moblet application  can provide a graphical user interface (GUI) that displays information related to the user's medical prescription. The Moblet application  can also receive input from the user, format this input in an instant messaging protocol, and transmit this formatted input in the form of, for example, a request to fulfill a medical prescription. The Moblet application  may be based on, for example, Java 2 Platform, Micro Edition (J2ME), ANDROID operating system, Binary Runtime Environment for Wireless (BREW), and Research in Motion (RIM).","The request handler module  can also communicate with the mobile processing system  by way of the instant messaging aggregator , as discussed above, and also communicate with a pharmacy system by way of application programming interfaces  provided by the pharmacy system. As explained in more detail below, in addition to interfacing with the mobile processing system , the request handler module  can also validate requests submitted by the mobile processing system .",{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 4","FIG. 2","FIG. 4"],"b":["400","400","206","106","400","402"]},"Upon receipt of the request, the request handler module then transmits or forwards the request at  to a pharmacy system that is configured to fulfill the medical prescription. As discussed in more detail below, the request handler module may also validate the request received from the mobile processing system before transmitting the request to the pharmacy system.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 5","FIG. 2","FIG. 5"],"b":["500","500","206","106","502","504"]},"It should be appreciated that a transaction refers to an interaction associated with a fulfillment of a medical prescription. Examples of transactions include requests for a particular medical prescription, requests for multiple medical prescriptions, requests for reminders to fill or refill medical prescriptions, and other transactions. A \u201ctransaction identifier,\u201d as used herein, refers to a value (numeric and\/or textual) that uniquely identifies one or more transactions. An example of a value that may be used as a transaction identifier is a Common Short Code (CSC) used in text messaging. It should be appreciated that Common Short Codes are short numeric codes (e.g., five-digit or six-digit numbers) that are transmitted from a mobile processing system and, as explained in more detail below, such Common Short Codes can be assigned or allocated to uniquely identify particular transactions.","In the embodiment of , the request handler module first validates the request before transmitting it to a pharmacy system. As depicted at , the validation may include the identification of a patient identifier associated with the mobile processing system. That is, the request handler module verifies that the mobile processing system matches to a patient. In particular, the request handler module may identify the association by first accessing a data structure that stores a list of patient identifiers, a list of mobile processing system identifiers, and associations between each patient identifier and each mobile processing system identifier. As an example, the data structure may be a lookup table where the patient identifiers and the mobile processing system identifiers are stored as patient identifier\/mobile processing system identifier pairs. The following Table A illustrates an example of such a data structure:",{"@attributes":{"id":"p-0038","num":"0037"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"133pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE A"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Mobile Processing ","Patient "]},{"entry":["System Identifiers","Identifiers"]},{"entry":["(Phone Number)","(Patient Name)"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["(650) 223-9002","John Doe"]},{"entry":["(408) 342-3241","Jonathan Hirsh"]},{"entry":["(780) 234-3421","Jane Stevens"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"A match of the mobile processing system identifier received from the mobile processing system with one of the mobile processing system identifier in the list is identified. The patient identifier that is associated with the matched mobile processing system identifier can therefore be identified from the data structure based on their association (pairings).","After the patient identifier is identified, the request handler module, in an embodiment, can access transactions that are associated with the patient identifier at . Each patient identifier is associated with one or more transactions. It should be noted that medical prescriptions are unique to each individual patient. For example, one patient may have a medical prescription for drugs A, B, and C while another patient may have a medical prescription for drugs C an D. As a result, each patient may have a unique set of associated transactions.","The transactions associated with each patient identifier are also stored in a data structure, which can be the same data structure that stores the list of patient identifiers and their associated mobile processing system identifiers, as discussed above. At , the transactions are accessed to identify, at , at least one transaction that is associated with the received transaction identifier. For example, the request handler module may identify the transaction by first accessing a data structure that is configured to store a list of transactions, transaction identifiers, and associations between the transactions and the transaction identifiers. Similar to the data structure discussed above, this other data structure may be a lookup table where the transactions and their transaction identifiers are stored as transaction identifier\/transaction pairs. The following Table B illustrates an example of such a data structure:",{"@attributes":{"id":"p-0042","num":"0041"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"77pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE B"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Patient Identifiers","Transaction Identifiers ",{}]},{"entry":["(Patient Name)","(Common Short Code)","Transactions"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["John Doe","11234","Request Drug A"]},{"entry":["John Doe","32452","Request Drug B"]},{"entry":["John Doe","23425","Request Drugs A and B"]},{"entry":["Jane Stevens","11234","Request Drug R"]},{"entry":["Jane Stevens","32452","Request Drug Y"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"A match of the transaction identifier embedded in the request from the mobile processing system with one of the transactions in the list is identified. The transaction that is associated with the matched transaction identifier can then be identified from the data structure based on their association. After the transactions are identified, the request handler module then transmits the identified transactions in a request to a pharmacy system at .","As an illustrative example, in reference to Tables A and B, a list of Common Short Codes \u201c11234,\u201d \u201c32452,\u201d and \u201c23425\u201d (as depicted in Table B) are allocated for identifying transactions. This list of Common Short Codes can be displayed at a mobile processing system for selection. A patient using the mobile processing system selects or inputs the Common Short Code \u201c11234\u201d to fulfill a medical prescription. In turn, the request handler module receives a request from a mobile phone that includes a mobile processing system identifier and a transaction identifier. The request handler module parses this request to extract a mobile processing system identifier of \u201c(650) 223-9002\u201d and a transaction identifier of \u201c11234.\u201d From Table A, the request handler module identifies that the patient identifier \u201cJohn Doe\u201d is associated with the mobile processing system identifier of \u201c(650) 223-9002.\u201d The request handler module then accesses Table B, which is configured to store the transactions associated with the patient identifier \u201cJohn Doe\u201d (as well as other patient identifiers), and identifies from Table B that the transaction \u201cRequest Drug A\u201d is associated with the transaction identifier \u201c11234.\u201d This transaction \u201cRequest Drug A\u201d is then transmitted in a request to the pharmacy system.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 6","FIG. 2","FIG. 6"],"b":["600","600","206","106","602"]},"Upon receipt of the message from the pharmacy system, the request handler module then transmits the message to the mobile processing system at . In an embodiment, the request handler module may format the message in instant messaging protocol and directly transmit the message as a text message to the mobile processing system. In an alternate embodiment, the request handler module may transmit the message to an instant messaging aggregator, which, as discussed above, is configured to format the message in instant messaging protocol and transmit the message to the mobile processing system as a text message.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 7","FIG. 7"],"b":["700","110","700","102","106","110","110","106","102","711","712","713","102"]},"As depicted at , upon receipt of the request by way of the mobile processing system , the medical prescription management server , in an embodiment, may directly transmit or forward the request to the pharmacy system . In an alternate embodiment, as discussed above, the medical prescription management server  may validate the request first before transmitting the request to the pharmacy system . In addition, as depicted at , the medical prescription management server  may also access and include other patient information in the request to the pharmacy system . Such patient information may be relevant to fulfill the medical prescription and may be stored at the medical prescription management server . For example, the medical prescription management server  may also access and identify a patient's preferred pharmacy store, and transmit this store's identifier to the pharmacy system  such that the pharmacy system  can identify the particular pharmacy store to fulfill the medical prescription. In another example, the patient's address may also be accessed and transmitted to the pharmacy system  such that the pharmacy system  can identify stores located near the address that will be able to fulfill the medical prescription.","Upon fulfillment of the medical prescription, the pharmacy system transmits a message to the medical prescription management server  that, for example as depicted at , notifies the patient that the medical prescription is ready for pickup. In an embodiment, the medical prescription management server  directly transmits or forwards this message to the mobile processing system . In an alternate embodiment, the medical prescription management server  may access patient information to identify a schedule specified by the patient. This schedule may, for example, specify the times and\/or dates when the patient prefers to receive messages from the medical prescription management server . The patient may schedule any period of time to receive the messages. For example, a patient may specify that he does not want to receive messages from 12:00 AM to 8:00 AM. As a result, the medical prescription management server checks this schedule first before sending out the message and, if the current time is between 12:00 AM to 8:00 AM, the medical prescription management server  will delay transmission of the message to the mobile processing system  until after 8:00 AM.","In a further embodiment, the schedule may be also applied to reminders from the pharmacy system . Here, the medical prescription management server  may receive requests from the pharmacy system  to transmit reminders to a particular patient to refill his medical prescription. Upon receipt of this request, the medical prescription management server  first identifies a schedule from the patient information and transmits reminders to the patient based on the schedule. For example, a patient may specify in a schedule that he only wants to receive reminders or other messages weekly. As a result, the medical prescription management server  transmits the reminders to the patient weekly. In another example, a patient may specify that he does not want to receive any reminders at all, at which the medical prescription management server  will not send any reminders to the patient even if the pharmacy system  makes such requests for reminders.",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 8","b":"800"},"The machine is capable of executing a set of instructions (sequential or otherwise) that specify actions to be taken by that machine. Further, while only a single machine is illustrated, the term \u201cmachine\u201d shall also be taken to include any collection of machines that individually or jointly execute a set (or multiple sets) of instructions to perform any one or more of the methodologies discussed herein.","The example processing system  includes a processor  (e.g., a central processing unit (CPU), a graphics processing unit (GPU) or both), a main memory , and static memory , which communicate with each other via bus . The processing system  may further include video display unit  (e.g., a plasma display, a liquid crystal display (LCD) or a cathode ray tube (CRT)). The processing system  also includes an alphanumeric input device  (e.g., a keyboard), a user interface (UI) navigation device  (e.g., a mouse), a disk drive unit , signal generation device  (e.g., a speaker), and network interface device .","The disk drive unit  includes machine-readable medium  on which is stored one or more sets of instructions and data structures (e.g., software ) embodying or utilized by any one or more of the methodologies or functions described herein. The software  may also reside, completely or at least partially, within main memory  and\/or within processor  during execution thereof by the processing system , the main memory , and processor  also constituting machine-readable, tangible media.","The software  may further be transmitted or received over network  via network interface device  utilizing any one of a number of well-known transfer protocols (e.g., HTTP).","While the invention(s) is (are) described with reference to various implementations and exploitations, it will be understood that these embodiments are illustrative and that the scope of the invention(s) is not limited to them. In general, techniques for communicating medical prescriptions may be implemented with facilities consistent with any hardware system or hardware systems defined herein. Many variations, modifications, additions, and improvements are possible.","Plural instances may be provided for components, operations or structures described herein as a single instance. Finally, boundaries between various components, operations, and data stores are somewhat arbitrary, and particular operations are illustrated in the context of specific illustrative configurations. Other allocations of functionality are envisioned and may fall within the scope of the invention(s). In general, structures and functionality presented as separate components or modules in the exemplary configurations may be implemented as a combined structure or component. Similarly, structures and functionality presented as a single component may be implemented as separate components. These and other variations, modifications, additions, and improvements fall within the scope of the invention(s)."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":["The present disclosure is illustrated by way of example and not limitation in the figures of the accompanying drawings, in which like references indicate similar elements and in which:",{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
