---
title: Robot control system and method
abstract: A robot control system and method includes plural actuators provided on a robot, plural controller modules, each of which controls at least one of the actuators and includes a program to perform a motion and an ID, an adjustment module to register a control right of each controller module over the at least one of the actuators and to perform at least one motion when a request for the at least one motion is made, and an abstraction layer module to judge whether or not a detected controller module is a controller module having the control right over the at least one of the actuators by confirming the ID of the controller module, and to drive the at least one of the actuators by controlling execution of the controller module upon judging that the detected controller module is the controller module having the control right.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09227319&OS=09227319&RS=09227319
owner: Samsung Electronics Co., Ltd.
number: 09227319
owner_city: Gyeonggi-do
owner_country: KR
publication_date: 20111208
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This application claims the benefit of Korean Patent Application No. 2011-0006695, filed on Jan. 24, 2011 in the Korean Intellectual Property Office, the disclosure of which is incorporated herein by reference.","1. Field","Embodiments relate to a robot control system and method to execute a plurality of programs.","2. Description of the Related Art","In general, robots are machines which have a joint system similar to that of a human and perform the same motions as those of human hands and legs using such a joint system.","Industrial robots for automation and unmanned operation of production in factories were the first to be introduced. Recently, vigorous development of service robots to supply various services to humans is underway.","Such service robots supply services to humans while performing walking through imitation of walking of humans, and perform image recognition processing and voice recognition processing, thereby communicating with humans at a higher intellectual level.","A robot possesses various modeled programs regarding motions, such as an emotional model, a motion model and a learning model. The robot makes a motion plan in response to an external factor, such as a user's action, according to these models and embodies the motion plan through driving of respective joint actuators or voice output, thereby achieving autonomous thought and motion control.","In such a robot, in order to simultaneously perform various motions of different joints, such as turning the head of the robot in a direction of noise while walking, the robot executes programs to perform the different motions using a plurality of controller modules, thereby simultaneously controlling the different joints.","However, in this case, collisions between the programs are generated, thereby causing serious problems, such as failure of the robot, environmental destruction and harm to humans.","Thus, the robot applies restriction to allow operation of only one controller module at a time, thereby preventing collisions between control commands of the various controller modules. But, in this case, there is a problem, such as a difficulty in simultaneously performing plural motions.","Therefore, it is an aspect to provide a robot control system and method which adjusts control rights of plural controller modules controlling actuators of a robot.","It is another aspect to provide a robot control system and method in which controller modules have a common interface.","Additional aspects will be set forth in part in the description which follows and, in part, will be obvious from the description, or may be learned by practice of the invention.","In accordance with one aspect, a robot control system may include a plurality of actuators provided on a robot, a plurality of controller modules, each of which controls at least one of the plurality of actuators and may include a program to perform a motion of the robot and an ID, an adjustment module to register a control right of each of the plurality of controller modules over at least one of the plurality of actuators and to perform at least one motion when a request for the at least one motion is made, and an abstraction layer module to judge whether or not a detected controller module is a controller module having the control right over the at least one of the plurality of actuators by confirming the ID of the detected controller module, and to drive the at least one of the plurality of actuators by controlling execution of the controller module upon judging that the detected controller module is the controller module having the control right over the at least one of the plurality of actuators.","The robot control system may further include an interface module requesting the at least one motion of the robot.","The adjustment module may ask the controller modules a question as to which actuators are necessary to execute the at least one motion.","The plurality of controller modules may decide actuators capable of performing the at least one motion, and transmit data of the decided actuators to the adjustment module when the plurality of controller modules receives a question signal from the adjustment module.","The adjustment module, when data of the actuators corresponding to the question from the plurality of controller modules are transmitted to the adjustment module, may judge whether or not the actuators, the data of which have been transmitted, are available, provide the control rights over the actuators to the plurality of controller modules if the actuators are available, and cancel execution of the plurality of controller modules if the actuators are unavailable.","The plurality of controller modules may decide actuators capable of performing the at least one motion, and make a request for the control rights over the decided actuators to the adjustment module.","The adjustment module may make a request for control registration rights to register the control rights over all of the plurality of actuators provided on the robot to the abstraction layer module, and register the control registration rights over all of the plurality of actuators when a control registration right permission signal is transmitted from the abstraction layer module to the adjustment module.","The abstraction layer module, when the abstraction layer module receives a control registration right request signal over all of the plurality of actuators from the adjustment module, may confirm whether or not there is any module already having the control registration rights over all of the plurality of actuators, and permit the adjustment module having made the request for the control registration rights to have the control registration rights over all of the plurality of actuators if there is no module already having the control registration rights.","The robot control system may further include a timer module to generate a tick signal per designated period, and the adjustment module may instruct the controller module to execute the program corresponding to the tick signal from the timer module.","The abstraction layer module, when a control command corresponding to execution of the program of the controller module is transmitted to the abstraction layer module, may confirm whether or not the controller module is an owner of the control right over the at least one of the plurality of actuators, and transmit the control command to the at least one of the plurality of actuators upon confirming that the controller module is the owner of the control right over the at least one of the plurality of actuators.","The abstraction layer module may transmit a control violation signal of the controller module over the at least one of the plurality of actuators to the adjustment module upon confirming that the controller module is not the owner of the control right over the at least one of the plurality of actuators.","The abstraction layer module may include an interface to register and withdraw the control registration rights.","The adjustment module may manage a controller module list having data regarding the control rights of the controller modules over the actuators, and, when the adjustment module receives the control right violation signal from the abstraction layer module, delete the controller module, the control right of which is violated, from the controller module list in which the control rights of each of the plurality of controller modules over the at least one of the plurality of actuators are stored.","The abstraction layer module may include an application programming interface (API), and the controller module may transmit the control command to the abstraction layer module using the API.","Each of the plurality of controller modules and the adjustment module may include a run unit, and the run unit may be one of a thread, a task and a process.","In accordance with another aspect, a robot control method in which at least one motion is performed by controlling at least one of a plurality of actuators provided on a robot, may include, when an adjustment module receives a request for performance of the at least one motion, detecting a controller module capable of performing the at least one motion from the plurality of controller modules, transmitting a control command corresponding to the performance of the at least one motion to an abstraction layer module, judging whether or not the detected controller module is an owner of a control right over the at least one of the plurality of actuators to perform the at least one motion by confirming an ID of the detected controller module by the abstraction layer module, and transmitting the control command from the abstraction layer module to the at least one of the plurality of actuators upon judging that the detected controller module is the owner of the control right over the at least one of the plurality of actuators to perform the at least one motion.","The robot control method may further include, when the adjustment module receives the request for performance of at least one motion of the robot, detecting the controller module capable of performing the at least one motion, generating the controller module capable of performing the at least one motion if there is no controller module to perform the at least one motion, allowing the generated controller module to decide the at least one of the plurality of actuators necessary to perform the at least one motion based on motion data to perform the at least one motion, allowing the adjustment module to ask the generated controller module a question as to which actuator is necessary to perform the at least one motion, transmitting data of the necessary actuator corresponding to the question of the adjustment module from the controller module to the adjustment module, allowing the adjustment module to judge whether or not the necessary actuator is available, and allowing the adjustment module to provide a control right over the necessary actuator to the generated controller module upon judging that the necessary actuator is available.","The robot control method may further include transmitting a control right permission request signal, permitting the controller module to have the control right over the necessary actuator, from the adjustment module to the abstraction layer module, allowing the abstraction layer module to judge whether or not the adjustment module having transmitted the control right permission request signal is an owner of control registration rights by checking an ID of the adjustment module, when a control right permission request is transmitted to the abstraction layer module, allowing the abstraction layer module to permit the controller module to have the control right over the necessary actuator, upon judging that the adjustment module having transmitted the control right permission request signal is the owner of control registration rights, and driving the necessary actuator by executing a program of the controller module permitted to have the control right over the necessary actuator.","The robot control method may further include registering the generated controller module as the owner of the control right of the necessary actuator in the abstraction layer module, upon judging that the adjustment module having transmitted the control right permission request signal is the owner of control registration rights, and registering the generated controller module and the necessary actuator in a controller module list stored in the adjustment module.","The robot control method may further include, after the judgment as to whether or not the necessary actuator is available, canceling the generated controller module upon judging that the necessary actuator is not available.","The robot control method may further include allowing the adjustment module to make a request for control registration rights, to register the control rights over all of the plurality of actuators provided on the robot, to the abstraction layer module, allowing the abstraction layer module to confirm whether or not there is any module already having the control registration rights, when the abstraction layer module receives a control registration right request signal, permitting the adjustment module having made the request for the control registration rights to have the control registration rights over all of the plurality of actuators if there is no module already having the control registration rights, and acquiring the control registration rights over all of the plurality of actuators, when a control registration right permission signal is transmitted from the abstraction layer module to the adjustment module.","The robot control method may further include allowing the adjustment module to instruct the controller module to execute a program, when a tick signal of a timer module is transmitted to the adjustment module.","The robot control method may further include allowing the abstraction layer module to generate a control violation signal of the controller module to the at least one of the plurality of actuators upon judging that the detected controller module is not the owner of the control right over the at least one of the plurality of actuators, allowing the abstraction layer module to make a request for withdrawal of the control right of the controller module to the adjustment module, and allowing the adjustment module to withdraw the control right of the controller module.","The withdrawal of the control right of the controller module may include deleting the controller module, the control right of which is violated, from a controller module list stored in the adjustment module.","The judgment as to whether or not the detected controller module is the owner of the control right over the at least one of the plurality of actuators to perform the at least one motion may include confirming an ID of a run unit of the detected controller module, and judging whether or not the ID of the run unit of the detected controller module is identical with an ID of a run unit of the controller module having the control right over the at least one of the plurality of actuators, stored in advance in the abstraction layer module.","Reference will now be made in detail to the embodiments of the present invention, examples of which are illustrated in the accompanying drawings, wherein like reference numerals refer to like elements throughout.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 1"},"As shown in , a robot  in accordance with one embodiment may include an upper body including a head , a neck , a torso , arms R and L and hands R and L, and a lower body including a plurality of legs R and L and feet R and L.","In more detail, the upper body of the robot  may include the head , the torso  connected to the lower portion of the head  through the neck , the two arms R and L connected to both sides of the upper portion of the torso , and the hands R and L respectively connected to tips of the two arms R and L.","The lower body of the robot  may include two legs R and L connected to both sides of the lower portion of the torso  of the upper body, and the feet R and L respectively connected to tips of the two legs R and L.","Here, the head , the two arms R and L, the two hands R and L, the two legs R and L, and the two feet R and L respectively may have designated degrees of freedom through joints.","Such upper and lower bodies of the robot  may be protected by a cover.","Here, \u201cR\u201d and \u201cL\u201d respectively indicate the right and left sides of the robot .","Cameras  to capture surrounding images and microphones  to detect a user's voice and sound around the robot  may be installed on the head .","The neck  may connect the head  and the torso . The neck  may include a neck joint unit.","The neck joint unit may include a rotary joint  in the yaw direction (rotated around the Z-axis), a rotary joint  in the pitch direction (rotated around the Y-axis), and a rotary joint  in the roll direction (rotated around the X-axis), and thus have 3 degrees of freedom. Here, the rotary joints ,  and  of the neck joint unit may be respectively connected to head rotating motors (not shown).","Shoulder joints units  to connect the two arms R and L to the torso  may be respectively provided at both sides of the torso , a rotary joint unit  in the yaw direction to allow a breast to rotate around a waist may be provided between the breast and the waist, and a pose detection unit  to detect a pose of the upper body may be provided.","Each of the two arms R and L may include an upper arm link , a lower arm link , an elbow joint unit , and a wrist joint unit .","Here, the upper arm links  of the two arms R and L may be respectively connected to the torso  through shoulder joint units  and may be respectively connected to the lower arm links  through the elbow joint units . The lower arm links  may be connected to the hands R and L through the wrist joint units .","Each elbow joint unit  may include a rotary joint in the pitch direction and a rotary joint in the yaw direction, and thus has 2 degrees of freedom. Each wrist joint unit  may include a rotary joint in the pitch direction and a rotary joint in the roll direction, and thus have 2 degrees of freedom.","Each hand R or L may include five fingers  and a plurality of joints (not shown) driven by motors may be installed on the respective fingers . The fingers  perform various motions, such as gripping of an object or pointing in a specific direction, in connection with movement of the arms R and L.","Each of the two legs R and L of the robot  may include a thigh link , a calf link , a hip joint unit , a knee joint unit  and an ankle joint unit .","The thigh links  of the two legs  R and L may be respectively connected to the torso  through the hip joint units  and are respectively connected to the calf links  through the knee joint units . The calf links  may be respectively connected to the feet R and L through the ankle joint units .","Each hip joint unit  may include a rotary joint in the yaw direction (rotated around the Z-axis), a rotary joint in the pitch direction (rotated around the Y-axis), and a rotary joint in the roll direction (rotated around the X-axis), and thus have 3 degrees of freedom.","Each knee joint unit  may include a rotary joint in the pitch direction, and thus have 1 degree of freedom. Each ankle joint unit  may include a rotary joint in the pitch direction and a rotary joint in the roll direction, and thus have 2 degrees of freedom.","Since 6 rotary joints of the three joint units ,  and  may be provided to each of the two legs R and L, a total of 12 rotary joints may be provided to the two legs R and L.","The robot  further may include multi-axis force and torque (F\/T) sensors  respectively installed between the legs R and R and the feet R and L so as to detect load applied to the feet R and L.","Actuators, such as motors (not shown), may be provided at the respective joints of the robot . Thereby, the respective joints may perform proper rotating movements through rotation of the motors, thus achieving various motions.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":["FIG. 2","FIG. 3"]},"As shown in , a robot control system  may include a hardware layer , a middleware layer  and a software layer .","The hardware layer  may include hardware provided in the robot .","The hardware layer  may include an input unit , a sensor unit , an actuator unit , an output unit  and a control unit .","The input unit  may include an user interface (UI; not shown) to receive a motion control command of the robot from a user, the cameras  to capture surrounding images and the microphones  to detect a user's voice and sound around the robot .","The sensor unit  may include the pose detection unit  to detect a pose of the upper body, the multi-axis F\/T sensors  to detect whether or not the robot lands and a support leg and a swing leg corresponding to whether or not the robot lands, and encoders (not shown) to detects rotation frequencies of motors.","The actuator unit  may include a plurality of actuators, and joints of the robot may be mechanically connected to the respective plural actuators.","These plural actuators may include motors to drive the respective joints, and the motors may be driven according to instructions from the control unit , thus perform a motion corresponding to a user command.","The actuator unit  may include an electrical interface representing a result of execution of the control command of the control unit .","Further, the actuator unit  may further include respective detection units of the input unit  and the sensor unit  because control of the cameras  of the input unit  or the respective detection units of the sensor unit  may be necessary.","The output unit  may include a speaker to output sound, a display lamp to output light, etc.","The control unit  may perform data calculation processing based on data transmitted from the input unit  and the sensor unit , thereby controlling drive of the actuator unit  and the output unit . The control unit  may include a processor , a read only memory (ROM) and a random access memory (RAM) ","The processor may be a central processing unit (CPU). The processor may execute a hardware-independent program, such as an application, under the control of a software or a hardware-dependent program, such as middleware, thereby generally controlling overall operation of the robot .","The processor may be connected to memories, such as the ROM and the RAM , though buses.","Unique addresses (Memory addresses or I\/O addresses) may be respectively allocated to the respective components , and on the buses, and the processor may be communicable with at least one of the ROM and the RAM through addresses assignment. Here, the buses may be common signal transmission lines including an address bus, a data bus and a control bus.","The ROM may be a nonvolatile memory which stores a program, such as an application to control motions or thought of the robot or a middleware to drive hardware.","The RAM may be a volatile memory which load a program executed by the processor or temporarily saves data thereof.","The RAM may perform mapping of an application transmitted from the ROM or a program of the middleware layer  on a memory space.","The middleware layer  may include program modules to perform motions of the robot . The middleware layer  may include an interface module , an adjustment module , controller modules , an abstraction layer module  and a timer module .","The interface module  receives a request to perform at least one motion from an external motion task client (not shown), and performs feedback of a process of performing the motion.","Here, the motion means a movement which the robot will perform according to a request of an external program module, and may be expressed by various parameters.","Further, the motion task client (not shown) may be an external program module or the UI of the input unit  which may make a request for at least one motion to the interface module  of the middleware layer .","The adjustment module  may control execution of the controller modules  so that the motion requested by the motion task client (not shown) may be performed.","The adjustment module , when a signal to execute at least one motion is transmitted from the motion task client (not shown) to the adjustment module , may select one of the controller modules  to execute the transmitted motion and may transmit a tick signal to the selected controller module .","Here, the tick signal may be generated corresponding to a tick signal transmitted from the timer module .","The adjustment module , if there is no controller module  to execute the corresponding motion during selection of the controller module  to execute the motion, may generate the controller module which may execute the corresponding motion.","Here, the generation of the controller module which may execute the corresponding motion may be carried out by selecting a controller module, actuator control rights of which are not permitted, out of the plural controller modules through search of the controller modules and then allowing the selected controller module to execute the corresponding motion.","The adjustment module  may detect the controller module  which may execute the corresponding motion, generate a program of the detected controller module , ask the controller module  a question as to which actuators are necessary to execute the corresponding motion, judge whether or not the corresponding actuators are available when data of the actuator corresponding to a result of the question is transmitted from the controller module  to the adjustment module , cancel permission of the control rights of the controller module  to control the corresponding actuators if the corresponding actuators are unavailable, and provide control rights over control the corresponding actuators to the controller module  if the corresponding actuators are available.","Here, the adjustment module  may transmit a request signal, to permit the controller module  to have the control rights over the corresponding actuators, to the abstraction layer module  so that the controller module  has the control rights over control the corresponding actuators. Further, the adjustment module  also may transmit an identification (for example, an ID of a run unit) to identify the controller module  to the abstraction layer module .","The adjustment module , when a control right permission request signal of the corresponding controller module  is transmitted from the abstraction layer module  to the adjustment module , may register data of the corresponding controller module  and the corresponding actuators in a controller module list.","The adjustment module  may manage the executing controller module list, monitor executing states, such as execution and interruption, of the respective controller modules , and, when the adjustment module  receives a control right violation signal from the abstraction layer module , delete the controller module , actuator control rights of which are violated, from the controller module list.","Here, the controller module list may store ID data of the run units of the controller modules  having the control rights over the respective actuators.","The run unit may be independently executed on an operating system (OS), and may be, for example, a thread, a task or a process according to the OS used.","The adjustment module , when a motion execution request signal is transmitted to the adjustment module , may instruct the controller module  to be executed corresponding to the periodic tick signal of the timer module .","The adjustment module  may execute interfaces (for example, registerControlRight, releaseControlRight, registerRegRight, releaseRegRight, etc.) provided by the abstraction layer module  in the independent run unit of the same OS.","The adjustment module  may have control registration rights over all of the actuators.","The adjustment module  may make a request for control registration rights over all of the actuators to the abstraction layer module , and, when a control registration rights permission signal is transmitted from the abstraction layer module  to the adjustment module , acquire the control registration rights over all of the actuators.","The adjustment module  may make a request for the control registration rights to the abstraction layer module  during initialization. Here, the control registration rights may mean, for example, rights providing the control rights to the controller modules , to register the control rights of the controller modules  or to withdraw the control rights of the controller modules .","The controller modules : , , , . . . , and may store programs, each of which interprets at least one motion and converts the at least motion into a control command to abstracted actuators.","A plurality of controller modules : , , , . . . , and may be provided, and each of the respective controller modules : , , , . . . , and may store a program corresponding to any one motion. These controller modules : , , , . . . , and may respectively have independent run units on the OS, and the run unit of each of the controller modules : , , , . . . , and may store an ID.","Here, the run unit may be, for example, one of a thread, a task and a process divided according to the OS used.","The plural controller modules : , , , . . . , and , when control rights over the actuators are provided from the adjustment module  to the controller modules : , , . . . , and , may respectively store the control rights.","Here, the control right may be a right allowing the controller module to control the actuator, and may include, for example, a right to control movement of the robot to a desired position, a right to control movement of the robot at a desired speed, a right to control starting of sensor calibration or a right to control movement of the robot with desired torque or force.","The controller module , when the tick signal is transmitted from the adjustment module  to the controller module , may execute a program and transmit a control command corresponding to a result of the program execution using an application programming interface (API) to the abstraction layer module .","Here, the API may be an interface provided by the abstraction layer module .","The controller module , when a question signal as to which actuators are necessary is transmitted from the adjustment module  to the controller module , may decide which actuators are necessary and transmit the necessary actuators to the adjustment module .","That is, during deciding which actuators are necessary, the controller module  may decide which actuators are necessary to execute the corresponding motion based on the motion data transmitted from the interface module  or the adjustment module  and transmit data of the necessary actuators decided corresponding to the question from the adjustment module .","Further, the controller module  may make a request for the control right of the necessary actuators directly to the adjustment module .","These controller modules : , , , . . . , and may be implemented so as to be suitable for an interface set for communication with the adjustment module .","The interface satisfied by the controller modules : , , , . . . , and may, for example, be getRequireResources to ask a question as to which actuators are necessary to execute the motion, an on Tick algorithm executed when a timer tick is generated, and a getId function to return the IDs of the run units of the controller modules : , , , . . . , and ","Here, the on Tick algorithm may be executed in the independent run unit on the OS.","The abstraction layer module  may be a robot hardware abstraction layer module which abstracts the plural actuators of the actuator unit  so as to be used through a consistent interface. That is, the abstraction layer module  may allow the actuators, which perform the same function but have different specifications, to be consistently accessible.","The abstraction layer module , when a control command is transmitted from the controller module  to the abstraction layer module , may confirm whether or not the controller module  having transmitted the control command is an owner of the control right over the actuator to be controlled.","Here, the confirmation as to whether or not the controller module  is the owner of the control right over the actuator may be achieved by checking whether or not the ID of the run unit of the controller module  having transmitted the control command is identical with the ID of the run unit of the controller module having the control right over the actuator stored in the adjustment module .","The OS may provide a system call to detect the ID of the run unit executing the current code, and thereby the abstraction layer module  may confirm the ID of the run unit of the controller module .","The abstraction layer module  may convert the control command into a low-level control command readable by the actuator and may transmit the low-level control command to the actuator, upon confirming that the controller module  having transmitted the control command is the owner of the control right over the actuator to be controlled.","The abstraction layer module  may transmit a control right violation signal of the corresponding controller module  to the adjustment module , upon confirming that the controller module  having transmitted the control command is not the owner of the control right over the actuator to be controlled.","The abstraction layer module  may provide interfaces to permit the control rights of the controller modules  to the respective actuators or to withdraw the control rights of the respective controller modules .","The interfaces provided by the abstraction layer module  may include, for example, registerControlRight permitting only the adjustment module  having the control registration rights to provide and register the control rights, releaseControlRight permitting only the adjustment module  having the control registration rights to withdraw the control rights, registerRegRight permitting the adjustment module  executing the initial application programming interface to have the control registration rights, and releaseRegRight withdrawing the control registration rights of the adjustment module .","Further, the abstraction layer module  may include the API.","The abstraction layer module , when a control registration right request signal to register the control rights over all of the actuators is transmitted from the adjustment module  to the abstraction layer module , may confirm whether or not there is any module already having the control registration rights, may reject the control registration right request if there is any module already having the control registration rights, and may permit the adjustment module  having made the request for the control registration rights to have the control registration rights if there is no module already having the control registration rights.","Here, the confirmation as to whether or not there is any module already having the control registration rights may be achieved by confirming whether or not the ID of the module permitted to have the control registration modules is stored in the abstraction layer module .","The timer module  may generate a tick signal per designated period, and transmits the tick signal to the adjustment module . That is, the adjustment module  may transmit the tick signal to the controller modules , thereby operating the plural controller modules  based on the tick signal.","Alternatively, the timer module  may transmit the tick signal directly to the plural controller modules .","The software layer  may be provided with a plurality of programs used to operate the robot.","That is, such a software layer  may be provided with an emotional model in which emotion of the robot is modeled, an instinct model in which instinct of the robot is modeled, a learning model in which cause-and-effect relationships between an external mapping and motions performed by the robot are sequentially memorized, and a motion model in which motion patterns are modeled. These models may include programs.","The software layer  may perform communication with the middleware layer  through a programming interface.",{"@attributes":{"id":"p-0138","num":"0137"},"figref":"FIG. 4"},"If the plural controller modules : , , , . . . , and arbitrarily register control rights through the abstraction layer module , the control rights of the respective controller modules : , , , . . . , and may not be adjusted.","Therefore, the plural controller modules : , , , . . . , and may receive the control rights only through the adjustment module , thereby preventing collisions between programs of the plural controller modules : , , , . . . , and . This will be described in more detail, as follows.","First, the adjustment module  may make a request for control registration rights to the abstraction layer module  in order to acquire the control registration rights to provide and register the control rights over all of the actuators of the robot.","At this time, when the abstraction layer module  receives a control registration right request signal from the adjustment module  (Operation ), the abstraction layer module  may confirm whether or not there is any module already having the control registration rights (Operation ).","Thereafter, if there is no module already having the control registration rights, the abstraction layer module  may permit the adjustment module  having made the request for the control registration rights to be an owner of the control registration rights (Operation ). Here, the ID of the adjustment module  may be permitted to be the owner of the control registration rights.","Here, the ID may mean an ID of a run unit, and the run unit may be independently executed on an operation system (OS) and may be, for example, one of a thread, a task and a process divided according the OS used.","On the other hand, if there is any module already having the control registration rights, the abstraction layer module  may reject the control registration right request of the adjustment module  (Operation ).",{"@attributes":{"id":"p-0146","num":"0145"},"figref":"FIG. 5"},"For example, it may be assumed that the adjustment module  may have control registration rights over the actuators a, a, a, a, a, a, a and a and may store a controller module list in which controls rights of the respective controller modules over the actuators a, a, a, a, a, a, a and a are registered.","Further, it may be assumed that, according to the controller module list, the first controller module to perform a first motion m may have control rights over the actuators a and a and the second controller module to perform a second motion m may have control rights over the actuators a, a and a.","First, when the interface module  requests performance of plural motions m, m and m, the interface module  may transmit a performance request signal of the plural motions m, m and m to the adjustment module .","When the adjustment module  receives the performance request signal of the plural motions m, m and m (Operation ), the adjustment module  may detect the controller modules which may respectively perform the plural motions m, m and m through search of the plural controller modules : , , , . . . , and (Operation ).","Here, the first controller module to perform the first motion m and the second controller motion to perform the second motion m may be detected, but the controller module to perform the third motion m may not be detected from the adjustment module .","That is, if there is no controller module to perform the third motion m which is any one of the plural motions m, m and m, the controller module to perform the third motion m may be generated (Operation ).","At this time, the adjustment module  may detect executable controller modules through search of the controller modules , . . . , and , actuator control rights of which are not permitted, out of the plural controller modules : , , , . . . , and , may select the controller module which may perform the third motion m out of the detected executable controller modules, and may generate a program to perform the third motion m in the selected controller module, thereby generating the controller module to perform the third motion m. Here, it may be assumed that the generated controller module may be the third controller module ","If the controller module which may perform the third motion is generated in advance, generation of the controller module may be omitted.","Thereafter, the controller module may receive detailed motion data from the interface module  (Operation ). At this time, the controller module  may receive the motion data from the adjustment module .","Thereafter, the controller module  may decide which actuators are necessary to perform the third motion m by analyzing various parameters in the motion data (Operation ).","Thereafter, the adjustment module  may ask the third controller module a question as to which actuators are necessary to execute the third motion m (Operation ).","Here, the third controller module may transmit data of the actuators decided based on the request signal of the adjustment module  to the adjustment module .","When the data of the decided actuators are transmitted from the third controller module to the adjustment module , the adjustment module  may judge whether or not the corresponding actuators are available (Operation ), may cancel permission of the control rights of the third controller module to control the corresponding actuators if the corresponding actuators are unavailable, and may provide the control rights to control the corresponding actuators to the third controller modules  if the corresponding actuators are available (Operation ).","For example, on the assumption that the actuators decided by the controller module are actuators a, a and a, the actuator a is the actuator to perform the first motion m and thus the actuator a is operated to perform both the first motion m and the third motion m.","That is, if the first motion m and the third motion m are operated by controlling the actuator a, a collision between the first controller module to perform the first motion m and the third controller motion to perform the third motion m may be generated.","Thereby, the adjustment module  judges the actuator a to be an unavailable actuator and may cancel permission of the control right of the third controller module over the actuator a.","On the other hand, if the actuators decided by the controller module are actuators a, a and a, the actuators a, a and a are operated to perform only the third motion m and thus are available.","Thereby, the adjustment module  may judge the actuators a, a and a to be available actuators and thus provides the control rights to control the actuators a, a and a to the third controller module ","Further, instead of the adjustment module  asking the controller module  the question as to which actuators are necessary to execute the third motion m, the controller module  may make a request for control rights over the necessary actuators to the adjustment module .","In this case, so as to allow the controller module  to make the request for control rights over the necessary actuators to the adjustment module , the adjustment module  may provide an interface, such as askCtrlRight. As factors of askCtrlRight, at least the IDs of the run units of the controller modules  and a list of the necessary actuators may be provided, thereby allowing the adjustment module  to know as to which controller module  make a request for control rights over which actuators.","Thereafter, the adjustment module  may transmit a request signal permitting the third controller module to have the control rights over the actuators a, a and a to the abstraction layer module  so that the third controller module may have the control rights over the actuators a, a and a.","Further, the adjustment module  also may transmit the ID (for example, the ID of the run unit) of the third controller module to the abstraction layer module .","Thereafter, when the request signal permitting the third controller module to have the control rights over the actuators a, a and a is transmitted from the adjustment module  to the abstraction layer module , the abstraction layer module  may confirm whether or not the adjustment module  having made the request for permission of the third controller module to have the control rights over the actuators a, a and a is an owner of the control registration rights (Operation ).","At this time, the abstraction layer module  may check whether or not the ID of the adjustment module  having made the request for permission of the third controller module to have the control rights over the actuators a, a and a is identical with an ID of a control registration right owner stored in the abstraction layer module , thereby confirming whether or not the adjustment module  having made the request for permission of the third controller module to have the control rights over the actuators a, a and a is the control registration right owner.","Therefore, if the ID of the adjustment module  having made the request for permission of the third controller module to have the control rights over the actuators a, a and a is identical with the ID of the control registration right owner stored in the abstraction layer module , the abstraction layer module  may register the ID of the third controller module and the control rights of the third controller module over the actuators a, a and a (Operation ).","Thereafter, the adjustment module  may register the ID of the third controller module and the control rights of the third controller module over the actuators a, a and a in the controller module list (Operation ).","As described above, in order to request control rights over necessary actuators, the plural controller modules : , , , . . . , and may require mediation of the adjustment module . Thereby, the adjustment module  may control overall operation of the system. Such a process may be carried out at a motion control initialization stage of the robot or in the middle of performance of a motion.",{"@attributes":{"id":"p-0174","num":"0173"},"figref":"FIG. 6"},"It is assumed that the adjustment module  has control registration rights over the actuators a, a, a, a, a, a, a and a and stores a controller module list in which controls rights of the respective controller modules over the actuators a, a, a, a, a, a, a and a are registered.","Here, it is assumed that, according to the controller module list, the first controller module to perform a first motion m has control rights over the actuators a and a, the second controller module to perform a second motion m has control rights over the actuators a, a and a, the third controller module to perform a third motion m has control rights over the actuators a and a, and an ncontroller module to perform the nmotion mn has a control right over the actuator a.","First, when the adjustment module  receives a tick signal from the timer module  (Operation ), the adjustment module  may transmit the tick signal to the first, second and third controller modules , and to perform the first, second and third motions m, m and m (Operation ).","Here, as one example of the transmission of the tick signal to the controller modules , and , the tick signal may be transmitted to the controller modules by calling call back functions registered in the controller modules , and ","Thereafter, the first, second and third controller modules , and respectively may execute programs to process the first, second and third motions m, m and m, and respectively transmits results of the execution to the abstraction layer module  through control commands (Operation ).","Here, the controller modules , and having received the tick signal may execute programs on thread contexts thereof.","As one example of the execution of the programs on the thread context of the controller modules , and , the controller modules , and may respectively create message queues and the adjustment module  may transmit the tick signal through the message queues. That is, inter-thread communication may be used.","If the controller modules , and are operated as independent processes, the tick signal may be transmitted, for example, using inter-process communication or inter-task communication supported by various OSs or TCP\/IP communication, and the controller modules , and may execute the programs on contexts thereof.","Thereafter, the abstraction layer module  may receive the control commands from the first, second and third modules , and , and then respectively may confirm IDs of the first, second and third modules , and having transmitted the control commands (Operation ).","Thereafter, the abstraction layer module  may confirm whether or not the respective controller modules , and are owners of control rights over the respective actuators (Operation ).","That is, the confirmation as to whether or not the controller modules , and are the owners of the control rights over the respective actuators may be achieved by checking whether or not IDs of run units of the controller modules , and having transmitted the control commands are identical with IDs of the run units of the respective controller modules , and having the control rights over the plural actuators a to a stored in the adjustment module .","If the IDs of the first, second and third controller modules , and may be identical with the IDs of the owners of the control rights over the respective actuators, the abstraction layer module  may convert the control commands transmitted by the first, second and third controller modules , and into low-level control commands readable by the actuators a to a and transmits the low-level control commands to the actuators a to a (Operation ).","On the other hand, if the IDs of the first, second and third controller modules , and are not identical with the IDs of the owners of the control rights over the respective actuators, this state may be judged to be a control right violation state and thus a control right violation signal may be generated (Operation ).","For example, when the ncontroller module transmits a control command and transmits a signal to control the actuators a and a to the abstraction layer module , the abstraction layer module  may confirm an ID of the controller module having the control rights over the actuators a and a.","At this time, it may be understood that the controller module having the control right over the actuator a stored in the abstraction layer module  is the third controller module , the controller module having the control right over the actuator a stored in the abstraction layer module  is the ncontroller module , and thus the third controller module having the control right over the actuator a and the ncontroller module having transmitted the control command are different. That is, it may be understood that the ID of the third controller module and the ID of the ncontroller module are different.","Here, the actuator a may be an actuator over which the adjustment module  does not permit the ncontroller module to have the control right, and thus it may be proved that the transmission of the control right over the actuator a from the ncontroller module is false.","Therefore, the abstraction layer module  may generate the control right violation signal indicating that the ncontroller module violates the control right, and may request the adjustment module  to withdraw the control right of the ncontroller module (Operation ) over the actuator a. Here, as one example of the control right violation signal, a signal called controlViolated may be generated.","At this time, the control right violation signal may include the ID of the ncontroller module violating the control right.","For example, the control right violation signal may include data regarding the actuator to be controlled. As one example of the generation of the control right violation signal, the call back function may be called.","Thereafter, the adjustment module  may receive the controlViolated signal, and may withdraw the control right of the ncontroller module from the controller module list using the ID of the ncontroller module as a key (Operation ).","Further, the adjustment module  may request the abstraction layer module  to withdraw the control right of the ncontroller module .","Thereafter, the adjustment module  may delete the ncontroller module violating the control right from the controller module list (Operation ). Thereby, the ncontroller module may not be executed from the next period and influence of the ncontroller module on other controller modules may be prevented.","As described above, the respective controller modules  may not receive the tick signal directly from the timer module  but the adjustment module  may transmit the tick signal only to the registered controller modules, thereby preventing the controller modules, which are not permitted to have control rights over the actuators, from executing programs.","As is apparent from the above description, a robot control system and method in accordance with one embodiment prevents control collisions between plural controller modules under the condition that the plural controller modules coexist, thereby securing stability of a robot.","Further, the robot control system and method, which prevents control collisions between the plural controller modules, secures stability of the robot while simultaneously performing several motions, and prevents failure of the robot, environmental destruction and harm to humans.","Moreover, the robot control system and method allows an adjustment module to prevent control collisions between the plural controller modules, thereby allowing a program developer to focus on program development without concern for control collisions.","Although a few embodiments of the present invention have been shown and described, it would be appreciated by those skilled in the art that changes may be made in these embodiments without departing from the principles and spirit of the invention, the scope of which is defined in the claims and their equivalents."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["These and\/or other aspects will become apparent and more readily appreciated from the following description of the embodiments, taken in conjunction with the accompanying drawings of which:",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
