---
title: Querying by concept classifications in an electronic data record system
abstract: Embodiments of the present invention enable processing of concept-based query requests submitted to a query service within a healthcare transaction framework. In embodiments, a terminology service within the healthcare transaction framework manages terminology content (concepts represented by a set of terminologies). In embodiments, search criteria from a data access query request are submitted to the terminology service to extract a set of concepts from the terminology content that are associated with the search criteria. In embodiments, equivalence search criteria include a seed concept, and the terminology service returns a set of equivalent concepts comprising the seed concept. In embodiments, classification search criteria include a classification identifier, and the terminology service returns a set of concepts associated with the classification identifier. In embodiments, the query service generates and submits a data access query comprising predicates associated with the returned set of concepts.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08856104&OS=08856104&RS=08856104
owner: Oracle International Corporation
number: 08856104
owner_city: Redwood Shores
owner_country: US
publication_date: 20090616
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS","1. The HL7 v3 Standard","2. Healthcare Transaction Framework","1. Concept-Based Query Using Equivalence","2. Concept-Based Query Using Classification","1. Method for Handling an Equivalence Concept Query Request","2. Method for Handling a Classification Concept Query Request"],"p":["This application is related to the following concurrently filed, co-pending, and commonly assigned application: U.S. application Ser. No. 12\/485,888, filed Jun. 16, 2009, entitled \u201cQuerying By Semantically Equivalent Concepts in an Electronic Data Record System,\u201d listing Florian Alexander Mayr, Anand Shroff, Hamish Daniel Currie, Gregory Kuhnen, and Matthew Thomas Moores as inventors. The above-referenced application is incorporated herein by reference in its entirety.","A. Technical Field","The present invention pertains generally to data processing, and relates more particularly to querying in an electronic data record system.","B. Background of the Invention","Healthcare is one industry for which viewing and sharing of information are vitally important. For instance, in order to provide effective healthcare to a patient, it is essential to be able to access a trusted persistent record of that patient's medical history. However, the unification of information stored within disparate data repositories presents a difficult problem. Until recently, it has been almost impossible for different healthcare organizations and service providers to be able to view a trusted common electronic record of a person's medical history discordant terminologies with poorly developed mechanisms for sharing the data between disparate systems. This had led to access and interoperability obstacles that prevent the presentation of an integrated view of a single patient's data.","The Health Level 7 Version 3 (HL7 v3) international standard has been developed to remove some of the interoperability obstacles by providing a platform for data consolidation. HL7 v3 includes a Reference Information Model (RIM) that enforces consistency of stored and shared information across diverse domains within healthcare. HL7 v3 and RIM facilitate the collection of patient and healthcare data from disparate systems, as well as the storage of that data in a central repository without losing its meaning so that it can be shared electronically via a secure connection across different systems in diverse organizations. The HL7 v3 standard also supports a concept-based semantics terminology model to support multiple representations of healthcare concepts in the various terminologies used within the industry. Additionally, HL7 v3 specifies methods for binding terminologies to RIM structural concepts so that a standard common semantics model for data describing healthcare concepts may be developed.","One approach to removing some of the data access obstacles is to provide a healthcare information exchange platform that combines a standards-based central data repository (such as an HL7 v3 compliant central data repository) with an integrated set of services for managing and accessing the data in the central repository. The healthcare information exchange platform typically includes a query service that provides programmatic interfaces for accessing the data stored in the data repository. To enable efficient querying of the data, it would be useful to develop a robust searching mechanism that can leverage concept-based semantics, such as the semantics model specified by HL7 v3.","Embodiments of the present invention enable processing of concept-based query requests submitted to a query service within a healthcare transaction framework. In embodiments, a terminology service within the healthcare transaction framework manages terminology content (concepts represented by a set of terminologies). In embodiments, search criteria from a data access query request are submitted to the terminology service to extract a set of concepts from the terminology content that are associated with the search criteria. In embodiments, equivalence search criteria include a seed concept, and the terminology service returns a set of equivalent concepts comprising the seed concept. In embodiments, classification search criteria include a classification identifier, and the terminology service returns a set of concepts associated with the classification identifier. In embodiments, the query service generates and submits a data access query comprising predicates associated with the returned set of concepts.","In embodiments, generating a query to retrieve a set of stored data records from an electronic data record system may comprise receiving a query request comprising a set of search criteria comprising a seed concept; generating an equivalence concept query based on at least a subset of the search criteria that includes the seed concept; receiving a set of concepts that are semantically equivalent to the seed concept in response to submitting the equivalence concept query to a terminology service that manages a repository of terminology content; and generating the query comprising predicates corresponding to the seed concept and the set of concepts that are semantically equivalent to the seed concept.","In embodiments, the terminology content comprises concepts that are associated with at least one terminology code system and, in embodiments, the seed concept has a coded data type. In embodiments, the subset of search criteria comprises an equivalence definition type and, in embodiments, the equivalence definition type is semantic equivalence or mapping equivalence. In embodiments, the subset of search criteria comprises an indication of an equivalence definition domain boundary and, in embodiments, the equivalence definition domain boundary is indicated to be within a single code system associated with a terminology or is indicated to span across a plurality of code systems associated with a plurality of terminologies. In embodiments, the equivalence definition domain boundary is indicated to be within a usage context.","In embodiments, a system to generate a database query to retrieve a set of stored data records from an electronic data record system may comprise a concept query system, coupled to receive a concept query request comprising a set of search criteria that comprises a seed concept, that generates a concept query result in response to submitting an equivalence concept query to a terminology service that manages a repository of terminology content comprising mappings between the stored concepts; and a database query generator, coupled to receive the concept query result comprising the seed concept and a retrieved set of concepts that are semantically equivalent to the seed concept, that generates the database query comprising predicates associated with the seed concept and the retrieved set of concepts that are semantically equivalent to the seed concept.","In embodiments, the system further comprises a database query processor, coupled to receive the database query, that retrieves the set of stored data records in response to submitting the database query to the electronic data record system.","In embodiments, the concept query system may comprise a concept query generator, coupled to receive the set of search criteria that comprises the seed concept, that generates the equivalence concept query comprising the seed concept; and a concept query results generator, coupled to receive the equivalence concept query, that generates the concept query result in response to submitting the equivalence concept query to the terminology service.","In embodiments, a method for generating a set of semantically equivalent concepts may comprise receiving a set of search criteria comprising a seed concept; retrieving a set of stored concepts that are semantically equivalent to the seed concept from a terminology content data repository; and generating the set of semantically equivalent concepts comprising the seed concept and the retrieved set of semantically equivalent concepts.","In embodiments, the set of semantically equivalent concepts have inter-version semantic equivalence. In embodiments, the set of semantically equivalent concepts are associated with a plurality of terminology codes and have inter-terminology mapping equivalence.","In embodiments, generating a query to retrieve a set of stored data records from an electronic data record system may comprise receiving a query request comprising a set of search criteria comprising a classification identifier; generating a classification concept query based on at least a subset of the search criteria that includes the classification identifier; receiving a set of stored concepts that are associated with the classification identifier in response to submitting the classification concept query to a terminology service that manages a repository of terminology content comprising stored concept containers having corresponding classification identifiers; and generating the query comprising predicates corresponding to the set of stored concepts.","In embodiments, the set of stored concepts associated with the classification identifier have an IS-A relationship with a concept container associated with the classification identifier. In embodiments, a classification hierarchy comprises a first concept container and a set of concept containers having an IS-A relationship to the first concept container.","In embodiments, the terminology content comprises stored concepts that are associated with at least one terminology and, in embodiments, the subset of search criteria comprises at least one attribute having a coded data type. In embodiments, a concept container is associated with a set of attributes described in part by at least one terminology code, and a concept within the set of stored concepts is identified based in part on a terminology code.","In embodiments, a system to generate a database query to retrieve a set of stored data records from an electronic data record system may comprise a concept query system, coupled to receive a concept query request comprising a set of search criteria that comprises a classification identifier, that generates a concept query result in response to submitting a classification concept query to a terminology service that manages a repository of terminology content comprising stored concept containers having corresponding classification identifiers; and a database query generator, coupled to receive the concept query result, that generates the database query comprising predicates associated with the retrieved set of stored concepts.","In embodiments, the system further comprises a database query processor, coupled to receive the database query, that retrieves the set of stored data records in response to submitting the database query to the electronic data record system. In embodiments, the system further comprises a database query service API that receives the concept query request and returns a database query result comprising the retrieved set of stored data records.","In embodiments, the concept query system may comprise a concept query generator, coupled to receive the set of search criteria that comprises the classification identifier, that generates the classification concept query comprising the classification identifier; and a concept query results generator, coupled to receive the classification concept query, that generates the concept query result in response to submitting the classification concept query to the terminology service.","In embodiments, a method for generating a set of stored concepts that are associated with a classification may comprise receiving a set of search criteria comprising a classification identifier; identifying a classification concept container that is associated with the classification identifier (the classification concept container being stored within a terminology content data repository); and generating the set of stored concepts by retrieving, from the terminology content data repository, concepts that have an IS-A relationship to the stored classification concept container.","In embodiments, a classification hierarchy comprises a first concept container and a set of concept containers having an IS-A relationship to the first concept container, and the classification identifier is associated with one of the stored classification concept containers within the classification hierarchy. In embodiments, containment of a stored concept within any one of the classification concept containers within the classification hierarchy may be determined in response to receiving the set of search criteria.","Some features and advantages of the invention have been generally described in this summary section; however, additional features, advantages, and embodiments are presented herein or will be apparent to one of ordinary skill in the art in view of the drawings, specification, and claims hereof. Accordingly, it should be understood that the scope of the invention shall not be limited by the particular embodiments disclosed in this summary section.","In the following description, for purposes of explanation, specific details are set forth in order to provide an understanding of the invention. It will be apparent, however, to one skilled in the art that the invention can be practiced without these details. Furthermore, one skilled in the art will recognize that embodiments of the present invention, described below, may be implemented in a variety of ways, including software, hardware, or firmware, or combinations thereof. Accordingly, the figures described herein are illustrative of specific embodiments of the invention and are meant to avoid obscuring the invention.","Components, or modules, shown in block diagrams are illustrative of exemplary embodiments of the invention and are meant to avoid obscuring the invention. It shall also be understood that throughout this discussion that components may be described as separate functional units, which may comprise sub-units, but those skilled in the art will recognize that various components, or portions thereof, may be divided into separate components or may be integrated together, including integrated within a single system or component.","Furthermore, connections between components within the figures are not intended to be limited to direct connections. Rather, data between these components may be modified, re-formatted, or otherwise changed by intermediary components. Also, additional or fewer connections may be used. It shall also be noted that the terms \u201ccoupled\u201d or \u201ccommunicatively coupled\u201d shall be understood to include direct connections, indirect connections through one or more intermediary devices, and wireless connections.","Reference in the specification to \u201cone embodiment,\u201d \u201cpreferred embodiment,\u201d \u201can embodiment,\u201d or \u201cembodiments\u201d means that a particular feature, structure, characteristic, or function described in connection with the embodiment is included in at least one embodiment of the invention and may be in more than one embodiment. The appearances of the phrases \u201cin one embodiment,\u201d \u201cin an embodiment,\u201d or \u201cin embodiments\u201d in various places in the specification are not necessarily all referring to the same embodiment or embodiments.","The use of certain terms in various places in the specification is for illustration and should not be construed as limiting. Usage of the term \u201cservice\u201d is not limited to describing a single function; usage of the term also may refer to a grouping of related functions or functionality. Similarly, usage of the term \u201cresource\u201d is not limited to describing a single resource; the term also may be used to refer to a set of resources that may either be distributed or aggregated within a computing environment.","A. Overview","One specific application of the present invention is its use in embodiments of a healthcare electronic data record computing system. These embodiments will be described for illustrative purposes and not for limitation. One skilled in the art will recognize the general applicability of the present invention to other data records.","The Health Level 7 Version 3 (HL7 v3) international standard allows information systems to share health information unambiguously by enabling semantic interoperability of data. Semantic interoperability of data refers to sharing meaning of data rather than just the structure of data. The HL7 v3 standard is comprised of four primary components: a common information model; a data type specification; a methodology for binding to concept-based terminologies; and a messaging model.","The HL7 v3 common information model is the Reference Information Model (RIM). The RIM provides a high-level backbone that defines the semantics of a set of common clinical, administrative, and financial data structures.  is an illustration of the five core abstract structural concepts (backbone classes) comprising the HL7 v3 RIM  along with exemplary implementations of each abstract class: Entity , representing things in the world; Role , representing capability, capacity, or competency (usually time-based); Participation , representing Role in the context of an Act; Act , representing clinical, administrative, or financial definitions, plans, and occurrences; and Act Relationship , representing the semantics of links between Acts.","RIM backbone classes may be associated with other types of RIM backbone classes to form data structures that represent higher level healthcare concepts. As depicted in , an Entity  may be associated with zero-to-many Roles ; a Role  may be associated with zero-to-many Participations ; one-or-many Participations  may be associated with one Act ; and one Act  may be associated with zero-to-many of each type of Act Relationship .","RIM backbone classes may have any number of subclasses, each of which is defined by a set of additional associated attributes that specify its semantics.  depicts an exemplary \u201ccollection\u201d RIM data structure representing a diagnosis of pneumonia (observation Act ) related to three other observation Acts -. The Act Relationship classes -relating the source Act  to three target Acts -are used to capture the notion of a diagnosis as an observation about observations. In the example, each observation Act ( and -) is associated with a set of attributes (attribution) describing its own context of Entity-Role-Participation values.","The semantics of an attribute are specified through its binding to an HL7 v3 data type. As is well known to those skilled in the art, a data type is used to represent the semantics (meaning) associated with a piece of data as well as the kinds of operations that may be performed using the piece of data. A data type may be a simple (atomic) data type (e.g., integer, floating point, character, and string), or it may be a complex data type (e.g., date, time, and address). HL7 v3 specifies a set of simple and complex data types that represent healthcare concepts (e.g., data types representing physical quantity, time intervals, and events).","The HL7 v3 data type specification includes a set of concept descriptor (coded) data types. A coded data type may be used to represent any kind of concept, usually by giving a code defined in a code system associated with a particular vocabulary domain (\u201cterminology\u201d). The semantics of a coded data type may be expanded or modified by its binding to a particular code or data value associated with a terminology. A terminology may be a healthcare industry-standard terminology (e.g., SNOMED-CT, LOINC, ICD-9, and CPT), an HL7 standard code set, or a custom terminology that is defined by a particular healthcare institution. A coded data type can contain a set of features which may include, for example, the original text or phrase that served as the basis of the coding, and one or more translations into different coding systems. HL7 v3 coded data types and their associated meanings are summarized in Table 1.",{"@attributes":{"id":"p-0052","num":"0051"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"HL7 v3 coded data types and their associated meanings"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["HL7",{}]},{"entry":"Coded"},{"entry":"Data"},{"entry":["Type","Meaning"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["CD","Concept Descriptor - Basic coded data type that may contain all"]},{"entry":[{},"features including coding exceptions, text, translations, and"]},{"entry":[{},"qualifiers."]},{"entry":["CS","Coded Simple Value - Coded data in its simplest form, where"]},{"entry":[{},"only the code is not predetermined. The code system and code"]},{"entry":[{},"system version are fixed by the context in which the CS value"]},{"entry":[{},"occurs. CS is used for coded attributes that have a single HL7-"]},{"entry":[{},"defined value set."]},{"entry":["CV","Coded Value - Coded data, specifying only a code, code system,"]},{"entry":[{},"and optionally display name and original text. Used only as the"]},{"entry":[{},"data type for other data types' properties."]},{"entry":["CE","Coded with Equivalents - Coded data that consists of a coded"]},{"entry":[{},"value (CV) and, optionally, coded value(s) from other coding"]},{"entry":[{},"systems that identify the same concept. Used when alternative"]},{"entry":[{},"codes may exist."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"The semantics represented by domain-specific terms within at least one terminology may form a terminology model, which is separate from but related to the semantics represented by the common information model (RIM). HL7 v3 provides a methodology for binding the terminology and information models by binding RIM structures and domain-specific terms. For example, attributes associated with RIM Acts may be bound to coded data types with values represented by healthcare industry-standard code systems such as SNOMED-CT.","Since the HL7 v3 standard is well known in the art, discussion of further details of the HL7 v3 standard is omitted here.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 3","b":["300","300"]},"In various embodiments, a healthcare transaction framework  supports an HL7 v3 RIM enterprise data model . Medical information is represented as RIM data structures, and is stored persistently as structured records in a data repository , such as a data warehouse. In embodiments, the data repository  comprises one or more relational databases and the stored structured records may be accessed via a SQL  query.","In embodiments, a healthcare transaction framework  deployed at a healthcare institution may enable HL7 v3-compliant  aggregation of information in the data repository . This information may be derived from a set of disparate medical data sources comprising a set of internal data sources, such as a clinical data repository  within the healthcare institution's IT infrastructure, and a set of external data sources (through ) such as hospitals, primary care providers, social services agencies, insurance providers, pharmacies, and independent consultants. In embodiments, a healthcare transaction framework  may provide programmatic and\/or web-based access to the data repository  via enterprise Java (J2EE)  application programming interfaces (APIs). These APIs enable the integration of healthcare applications  (e.g., display of an integrated view of patient clinical results, computerized physician order entry, and creating, viewing, tracking, and processing simple or complex clinical documents) and business intelligence services  (e.g., analysis and reporting of clinical and administrative measures and analysis and reporting of key claims-based financial measures) via IT applications such as a portal.","In embodiments, a healthcare transaction framework  comprises a set of core services  that may comprise message management, security and auditing, person services, configuration, workflow integration, and a terminology service . In embodiments, a terminology service manages the set of terminologies supported by an implementation of the healthcare transaction framework . As previously described, terminologies are concept-based, and the set of supported terminologies may include HL7 terminologies, industry standard terminologies (such as SNOMED-CT and ICD-9), and custom terminologies defined within the healthcare transaction framework  implementation. As previously described, each terminology is associated with a code system and, in embodiments, each code may be assigned a unique identifier. In embodiments, a terminology service may maintain a code repository of all of the managed codes. There may be overlaps among the vocabulary domains represented by the managed codes, and, in embodiments, a terminology service code repository may include mapping definitions that represent inter-terminology and intra-terminology semantic relationships. In embodiments, a terminology service may include an intra-terminology version management system. In embodiments, the terminology service maintains semantic mapping and version control definitions of the codes in the code repository.","B. A Concept-Based RIM Query Service","In embodiments, a healthcare transaction framework  may provide a RIM query service API to enable applications  and\/or business intelligence services  or both to have programmatic access and\/or web-based access to structured records in the data repository . In embodiments, the RIM query service API may be a set of Java interfaces .",{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 4","b":["400","404","410","420","424","424","430","350","424","428","408","428","410"]},"In embodiments, a query request  typically may result in a generated SQL RIM query  with a direct equality predicate that compares a search criterion attribute value to a value within a structured record to determine if they are equal. In embodiments, the set of search criteria attributes supplied in the query request  may comprise coded attributes (e.g., HL7 v3 attributes with CD, CE, CS, and CV data types as listed in Table 1). The processing of a SQL RIM query  having a direct equality predicate containing a coded attribute value may not return the expected query result. Due to overlaps among the vocabulary domains represented by the set of codes within a code repository, determination of the value of a coded data type may depend on mapping definitions managed by the terminology service . For instance, various stored values of a coded attribute may have been encoded using broader codes or narrower codes than the code of the search criterion value, or may have been encoded using equivalent codes from the same or different code systems as the code of the search criterion value.","In embodiments, a RIM query service  may leverage the terminology service in order to handle an input query request  that specifies concept-based semantics and comprises coded search criteria (a \u201cconcept query request\u201d). Examples of concept-based semantics that may be specified in a concept query request include the retrieval of all concepts that are equivalent to a given concept, and the retrieval of all concepts that comprise a classification.",{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 5","b":["400","500","504","510","514","520","514","305","518","518","305","520","524","518"],"i":["a ","a "]},"In embodiments, a RIM query processor  constructs a RIM query definition comprising predicates based on the set of concepts  comprising the concept query result . In embodiments, the RIM query processor  may use the RIM query definition to generate a RIM SQL query  to retrieve a structured RIM record set  stored within a RIM data store . In embodiments, a query result  comprising the RIM record set  may be returned via the RIM query service API .","Concept equivalence is the unification of semantically redundant content in a terminology repository. In embodiments, two concepts belonging to the same coding scheme have semantic equivalence if they have identical meanings. In embodiments, concepts from different coding schemes, or concepts from different versions of the same coding scheme, are semantically equivalent if they are determined to have mapping equivalence (i.e., they are determined to have explicit cross map equivalences based upon map sets defined within the terminology repository).","In an exemplary scenario, a direct equality RIM query  to retrieve from the RIM data store  the data records representing all encounters where the admitting diagnosis is \u201chypertension\u201d may evaluate the value coded attribute for a RIM Observation (OBS)  representing an admission diagnosis in order to select the instances where the value coded attribute was equal to \u201chypertension.\u201d Over time, instances of RIM OBS in the RIM data store  representing the diagnosis of \u201chypertension\u201d may have come to have the value coded attribute bound to concepts from different versions of a coding scheme, or bound to concepts from different coding schemes (e.g., \u201chigh blood pressure,\u201d \u201cblood pressure with systolic value greater than X\u201d). In this case, a RIM query  to extract diagnoses with the value coded attribute directly equal to \u201chypertension\u201d may not result in the extraction of all of the relevant admission diagnoses. In order to find all equivalent instances of \u201chypertension\u201d diagnoses, an application programmer or end user would need to look up and identify the terminology concept equivalences to \u201chypertension\u201d that have been defined within the system, and then explicitly structure a query request  to generate a RIM query  that contains a simple equality predicate for each of the identified concepts. Building a RIM query from explicitly identified concepts in this way is time consuming and is likely to produce invalid or incomplete results due to concept identification errors. In addition, each generated RIM query  represents concepts that are identified based on a snapshot of the current set of equivalence definitions, and those definitions may change over time. To insure that a generated RIM query  reflects the current equivalence definitions, a new query request  specifying a current set of identified concepts would have to be constructed for each access of the RIM data store .",{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 5","b":["400","500","504","518","504","500","305","518"],"i":"a "},"In embodiments, the set of equivalence criteria supplied in the concept query request  may further comprise an \u201cequivalence type\u201d that is used to specify the kind of equivalence definition to be applied by the terminology service in retrieving the set of equivalent concepts. For example, in embodiments, equivalence type may specify equivalence definitions such as the application of semantic equivalence between concepts in the same coding scheme, or the application of a mapping equivalence (cross map) between concepts in different coding schemes.","In embodiments, the set of equivalence criteria may further comprise a specification of the bounds of the equivalence definition domain to be applied in retrieving the set of equivalent concepts . For example, an equivalence definition domain boundary may be defined to be within a single code system, or it may be defined to span across multiple code systems. Additionally, in embodiments, an equivalence definition boundary may place a limit on the number of equivalence mappings that can be traversed to find equivalent concepts.","In embodiments, specification of an equivalence definition domain boundary may further comprise specifying an equivalence context (usage context) that restricts equivalences to those that are interesting or appropriate in the context of one process but not in other processes. For example, a billing department may simplify their processing by identifying many variants of a disease as \u201cequivalent,\u201d while clinical researchers may be interested in the fine clinical details of cases which would not be discriminated in a query using the billing department's context. In embodiments, each group would be able to specify an equivalence context that represents its equivalence mapping requirements. In another example, to generate a report showing the high level breakdown of causes of death, a new equivalence context MORBIDITY may be created, resulting in a set of equivalence maps that would allow many diseases that are not normally equivalent to be made equivalent in the context of morbidity.",{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIGS. 6","b":["7","8","305"],"i":"a "},{"@attributes":{"id":"p-0073","num":"0072"},"figref":"FIG. 6","b":["600","504","524","424","524","428","430"],"i":["a","c "]},{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 7","b":["700","700","504","524","424","524","428","430"]},{"@attributes":{"id":"p-0075","num":"0074"},"figref":"FIG. 8","b":["305","430","320","600","600","800","800","504","524","424","524","428","430"],"i":["a ","a","x","a","c ","d","f","a ","b"]},"In embodiments, the RIM records stored in a data store  may be further organized using higher-order classification concepts (i.e., concepts not stored in the records themselves) that may be based on a variety of industry-standard and proprietary classification systems. These higher-order classifications may be derived from systematic terminologies (defined by an organized body, such as SNOMED-CT), or they may be user-defined (e.g., designed to achieve a particular goal within the context of the user's system). In embodiments, providers and other users of healthcare systems may classify terminology content to enable ease of viewing, to facilitate selection of concepts, and to support class-based querying of information.","In embodiments, higher-order classifications may be constructed based on the terminology contents (i.e., concepts described by a set of code systems) managed by a terminology service . A classification may be a concept container that is associated with a unique identifier and stored within the terminology contents. All concepts associated with the concept container have an IS-A association with the container (i.e., each of the concepts is a specialization of the container). For example, in embodiments, an \u201cantibiotics\u201d classification is a bin of concepts, each of which is classified as an antibiotic. In embodiments, a classification container itself may have concept characteristics, such as having multiple equivalent descriptions. In embodiments, the contents of a classification may be defined declaratively via a concept query. For example, a query \u201cAdd concept X and all its descendents to classification Y\u201d adds to classification Y the concept X and all concepts that have an IS-A relationship to concept X in its native terminology.","In various embodiments, higher-order classifications may be hierarchical (i.e. contain sub-classifications). For example, the \u201cantibiotics\u201d classification may be nested under the \u201ccritical drug\u201d classification, with the result that any \u201cantibiotic\u201d also may be considered to be a \u201ccritical drug.\u201d In embodiments, containment of a concept at any level of a constructed hierarchy may be tested via a single concept query. For example, the query predicate \u201cclassification Y contains (X)\u201d tests whether X is contained in classification Y or in any classification below classification Y at any level of a constructed hierarchy of classifications.","In an exemplary scenario, a RIM query request  to retrieve all medication administration events where the ENTITY.CODE is equal to \u201cpenicillin\u201d may be submitted. As there are a variety of different products that contain penicillin, a RIM query  generated from the query request  that has a direct equality predicate specifying \u201cpenicillin\u201d may not result in the retrieval of records from the RIM data store  that are associated with all of the relevant products. However, a concept query request specifying \u201cthe class of products containing penicillin\u201d would insure that all of the relevant records are retrieved. In another example, patients receiving oral anticoagulants such as Warfarin must be regularly monitored to avoid bleeding problems. In a system that manages patient medications, an assigned person must be either presented with, or be able to, formulate a list of patients that are being administered this class of anticoagulants so that the appropriate lab orders and notifications can be created. A concept query request specifying \u201cthe class of anticoagulants containing Warfarin\u201d may retrieve all of the relevant medications that lie within this class of anticoagulants.","Typically, accessing all of the RIM concepts within a higher-order classification via a query would require an application programmer or end user to first identify the concepts that belong to the classification (i.e., explicitly identify all concepts that have an IS-A association with the classification), and then either input a set of seperate direct equality query requests , each specifying a single identified concept as a search criterion, or input a single direct equality query request  that specifies all of the identified concepts as a set of search criteria. Identifying concepts that belong to a classification may be time-consuming and could lead to invalid query results if identification errors are made. Additionally, since high order terminology concept definitions of equivalence and classification may change over time, a classification concept query request  would need to be re-generated each time to insure that the concepts were identified based on current terminology definitions. If a classification query request  contains coded attributes (e.g., HL7 v3 attributes with CD, CE, CS, and CV data types as listed in Table 1), the attribute values might require checking of their membership in some larger category of codes defined within a higher-order classification scheme within the terminology contents, so a resulting RIM query  using only the input coded attribute values may not retrieve all of the relevant RIM records associated with the classification.",{"@attributes":{"id":"p-0081","num":"0080"},"figref":"FIG. 5","b":["400","500","504","500","305","518","504"],"i":"a"},"Turning to the example of intra-version equivalence depicted in , adding any one of the concepts to a \u201cRespiratory System Complaints\u201d classification container would result in each of the concepts being associated (i.e. assigned an IS-A relationship) with the classification container because of the equivalence relationship of the concepts. In embodiments, a classification concept query request  comprising the classification identifier \u201cRespiratory System Complaints\u201d should result in a concept query result  containing the codes Breathless, SOB, Dyspnea, and Breathlessness. The RIM query  generated from that concept query result  should be used to extract records  from the RIM data store  of all of the patients reporting with Breathless, SOB, Dyspnea, and Breathlessness.","C. System Implementations",{"@attributes":{"id":"p-0084","num":"0083"},"figref":["FIG. 9","FIG. 5"],"b":["900","925","905","900","910","920","400","900","504"]},"In embodiments, concept query generator  receives a RIM concept query request  comprising specified concept semantics and a set of search criteria (i.e., a set of attributes). In embodiments, the input set of search criteria supplied in the concept query request  comprises coded attributes (e.g., HL7 v3 attributes with CD, CE, CS, and CV data types as listed in Table 1). As previously described, an HL7 v3 attribute binding to a data type defines a semantic relationship, and the domain of the code affects the meaning of the record. The RIM backbone classes each have a set of attributes that take values having certain data types, and the meaning of a value is determined by the name of the attribute with which it is associated In embodiments, a terminology service comprising a core service within a healthcare transaction framework  may maintain a repository of the managed codes (vocabulary domains) within the framework. There may be overlaps among the vocabulary domains, and, in embodiments, the terminology service code repository may include defined mappings between codes that represent inter-code and intra-code semantic relationships, such as the exemplary relationships depicted in , , and .","In embodiments, an equivalence concept query request  may include a set of search criteria comprising a seed concept, an equivalence type, and equivalence depth. This set of search criteria is received by a concept query generator . In embodiments, the concept query generator  may use the set of search criteria to configure an equivalence concept query  comprising the seed concept.","In embodiments, a classification concept query request  may comprise a class identifier associated with a higher-order classification container defined within the terminology content managed by the terminology service . In embodiments, the concept query system  leverages defined terminology concept mappings to identify class-based relationships within the terminology content. In embodiments, the concept query generator  may configure a classification concept query  comprising the received class identifier.","In embodiments, concept query result generator  receives a concept query  and submits the concept query  to a terminology service in order to extract a set of concepts  from terminology content managed by the terminology service . In embodiments, the set of concepts  extracted in response to a submitted equivalence concept query  are a set of equivalent concepts  comprising the seed concept. The set of equivalent concepts  is constructed dynamically by the terminology service based on its current equivalence definitions. In embodiments, the set of concepts  extracted in response to a submitted classification concept query  are concepts associated with a higher-order classification container having the specified class identifier. The set of associated concepts  is constructed dynamically by the terminology service based on the current classification-based relationship mappings within its managed terminology content.","In embodiments, a concept query result generator  constructs a concept query result  based on the retrieved set of associated concepts . In embodiments, a SQL RIM query  comprising predicates based on the concept query result  may be generated by a RIM query processor .","D. Method Implementations","The following sections describe embodiments of methods for receiving a concept query request and generating a structured database query in response according to various embodiments of the invention. The method embodiments may be implemented in embodiments of concept query system .",{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIG. 10","b":["1000","1000","900"]},"As previously described, an equivalence concept query request  comprises a set of search criteria that are submitted to a terminology service in order to extract a set of concepts  that are equivalent to a seed concept. In embodiments, the set of search criteria comprises coded attributes (e.g., HL7 v3 attributes with CD, CE, CS, and CV data types as listed in Table 1). In embodiments, the terminology mappings in the terminology content managed by the terminology service are leveraged in order to determine an equivalence definition that is used for retrieving the set of equivalent concepts  from the terminology content.","In embodiments, the set of search criteria supplied in a received  equivalence concept query request  comprises a seed concept and may further comprise a specification of the bounds of the equivalence definition domain to be applied in retrieving the set of equivalent concepts . An equivalence definition domain boundary may be defined to be within a single code system, or it may be defined to span across multiple code systems. For example, in embodiments, the equivalence definition domain boundary may be specified by an \u201cequivalence depth\u201d boolean flag. If the flag value is true, all concepts are considered that are either directly equivalent to the seed concept (explicitly asserted to be equivalent through a cross map or a change file associated with version control) or transitively equivalent to the seed concept (inferred to be equivalent by transitively chaining direct equivalence assertions). If the flag value is false, only concepts that are directly equivalent to the seed concept are considered (i.e., do not use transitive chaining).","In embodiments, specification of an equivalence definition domain boundary may further comprise defining an equivalence context (usage context) that restricts equivalences that are interesting or appropriate in the context of one process but not in other processes. For example, in embodiments, a default usage context may be SYSTEM (i.e., use all mappings defined within a code repository), and the default value may be overridden by the specification of a defined usage context.","In embodiments, the set of equivalence criteria may further comprise an \u201cequivalence type\u201d that is used to specify the kind of equivalence definition to be applied. In embodiments, equivalence type may be represented as an enumerated constant (enum) having values such as (for illustration and not limitation) EQUIVALENCE_TYPE_SEMANTIC (apply semantic equivalence between concepts in the same coding scheme); and EQUIVALENCE_TYPE_MAPPING (apply a mapping (cross map) between concepts in different coding schemes as well as semantic equivalence between concepts in the same coding scheme).","In embodiments, if a received concept query request  specifies concept equivalence  and comprises a seed concept, then an equivalence concept query  comprising the seed concept is generated  and submitted  to a terminology service ","In embodiments, a query result comprising a set of equivalent concepts  comprising the seed concept is received  from the terminology service . Turning to the exemplary intra-terminology equivalence (-) definition illustrated in , a concept query  specifying semantic equivalence and the seed code \u201c26704\u2014Dyspnea\u201d should return a set of directly equivalent concepts  containing the codes for Breathless, SOB, Dyspnea, and Breathlessness. Turning to the exemplary  equivalence definition exhibiting intra-terminology equivalence (-and -) and inter-terminology equivalence (and ), a concept query  specifying mapping equivalence, an equivalence domain boundary indicating both direct and transitive semantic equivalence, and the seed code \u201c26704\u2014Dyspnea\u201d should return a concept query result  containing all of the illustrated symptom codes. In the example, \u201cShortness of breath\u201d in ICD-9 is directly equivalent to \u201cSOB\u2014Shortness of breath\u201d in SNOMED-CT via cross map , and it is transitively equivalent to \u201cBreathless\u201d SNOMED-CT.","In embodiments, a structured database query (e.g., a SQL RIM query ) that comprises predicates associated with the retrieved set of equivalent concepts  may be generated . In various embodiments, a concept query result  generated from the retrieved set of equivalent concepts  is provided to a structured database query processor  within a query service . In embodiments, the structured database query processor  may use the concept query result  to generate a structured database query  in order to extract a data record set  from a data repository .","In embodiments, if the received concept query request does not denote the application of semantic equivalence concept mapping , then no equivalence concept query  is generated. For example, in embodiments, no application of semantic equivalence concept mapping may be denoted in a concept query by its associated search criteria comprising an equivalence type enum having a value of EQUIVALENCE_TYPE_EXACT_CONCEPT. In this case, no concept-based semantic processing is applied to the seed concept, and the generated  structured database query  may comprise a direct equality predicate applied to the seed concept.",{"@attributes":{"id":"p-0101","num":"0100"},"figref":"FIG. 11","b":["1100","1100","900"]},"In embodiments, if a received concept query request  specifies a set of concepts contained within a higher-order classification, then a classification concept query  comprising an identifier corresponding to a higher-order classification container is generated  and submitted  to a terminology service . In embodiments, the classification identifier and\/or the set of associated concepts may be represented by coded attributes (e.g., HL7 v3 attributes with CD, CE, CS, and CV data types as listed in Table 1). In embodiments, the terminology service leverages terminology mappings to identify classification-based relationships within the terminology content.","In embodiments, a query result comprising a set of associated concepts  having an IS-A relationship to the higher-order classification is received  from the terminology service . As previously described, higher-order classifications may be hierarchical, and containment of a concept at any level of a constructed hierarchy may be tested via a single concept query.","Turning to the example of intra-version equivalence depicted in , each of the entries additionally may have been defined to have an IS-A relationship to a \u201cRespiratory System Complaints\u201d classification container. In embodiments, a classification concept query request  comprising the classification identifier \u201cRespiratory System Complaints\u201d would return a concept set  containing the codes for Breathless, SOB, Dyspnea, and Breathlessness.","In embodiments, a structured database query (e.g., a SQL RIM query ) that comprises predicates associated with a concept set  may be generated . In various embodiments, a concept query result  comprising the concept set  is provided to a structured database query processor  within a query service . In embodiments, the structured database query processor  may use the concept query result  to generate a structured database query  in order to extract a data record set  from a data repository .","E. Computing System Implementations","It shall be noted that the present invention may be implemented in any instruction-execution\/computing device or system capable of processing data. The present invention may also be implemented into other computing devices and systems. Furthermore, aspects of the present invention may be implemented in a wide variety of ways including software, hardware, firmware, or combinations thereof. For example, the functions to practice various aspects of the present invention may be performed by components that are implemented in a wide variety of ways including discrete logic components, one or more application specific integrated circuits (ASICs), and\/or program-controlled processors. It shall be noted that the manner in which these items are implemented is not critical to the present invention.",{"@attributes":{"id":"p-0108","num":"0107"},"figref":["FIG. 12","FIG. 12"],"b":["1200","1202","1202","1204","1202","1204","1204","1202","1204","1206","1202","1204","1202","1200"]},"An addressable memory , coupled to processor , may be used to store data and software instructions to be executed by processor . Memory  may be, for example, firmware, read only memory (ROM), flash memory, non-volatile random access memory (NVRAM), random access memory (RAM), or any combination thereof. In one embodiment, memory  stores a number of software objects, otherwise known as services, utilities, components, or modules. One skilled in the art will also recognize that storage  and memory  may be the same items and function in both capacities. In an embodiment, one or more of the components of , , and  may be modules stored in memory ,  and executed by processor .","In an embodiment, computing system  provides the ability to communicate with other devices, other networks, or both. Computing system  may include one or more network interfaces or adapters ,  to communicatively couple computing system  to other networks and devices. For example, computing system  may include a network interface , a communications port , or both, each of which are communicatively coupled to processor , and which may be used to couple computing system  to other computer systems, networks, and devices.","In an embodiment, computing system  may include one or more output devices , coupled to processor , to facilitate displaying graphics and text. Output devices  may include, but are not limited to, a display, LCD screen, CRT monitor, printer, touch screen, or other device for displaying information. Computing system  may also include a graphics adapter (not shown) to assist in displaying information or images on output device .","One or more input devices , coupled to processor , may be used to facilitate user input. Input device  may include, but are not limited to, a pointing device, such as a mouse, trackball, or touchpad, and may also include a keyboard or keypad to input data or instructions into computing system .","In an embodiment, computing system  may receive input, whether through communications port , network interface , stored data in memory \/, or through an input device , from a scanner, copier, facsimile machine, or other computing device.","In embodiments, computing system  may include one or more databases, some of which may store data used and\/or generated by programs or applications. In embodiments, one or more databases may be located on one or more storage devices  resident within a computing system . In alternate embodiments, one or more databases may be remote (i.e. not local to the computing system ) and share a network  connection with the computing system  via its network interface . In various embodiments, a database may be a relational database, such as an Oracle database, that is adapted to store, update, and retrieve data in response to SQL-formatted commands.","One skilled in the art will recognize no computing system is critical to the practice of the present invention. One skilled in the art will also recognize that a number of the elements described above may be physically and\/or functionally separated into sub-modules or combined together.","It shall be noted that embodiments of the present invention may further relate to computer products with a computer-readable medium that have computer code thereon for performing various computer-implemented operations. The media and computer code may be those specially designed and constructed for the purposes of the present invention, or they may be of the kind known or available to those having skill in the relevant arts. Examples of computer-readable media include, but are not limited to: magnetic media such as hard disks, floppy disks, and magnetic tape; optical media such as CD-ROMs and holographic devices; magneto-optical media; and hardware devices that are specially configured to store or to store and execute program code, such as application specific integrated circuits (ASICs), programmable logic devices (PLDs), flash memory devices, and ROM and RAM devices. Examples of computer code include machine code, such as produced by a compiler, and files containing higher level code that are executed by a computer using an interpreter. Embodiments of the present invention may be implemented in whole or in part as machine-executable instructions that may be in program modules that are executed by a computer. Examples of program modules include libraries, programs, routines, objects, components, and data structures. In distributed computing environments, program modules may be physically located in settings that are local, remote, or both.","While the invention is susceptible to various modifications and alternative forms, specific examples thereof have been shown in the drawings and are herein described in detail. It should be understood, however, that the invention is not to be limited to the particular forms disclosed, but to the contrary, the invention is to cover all modifications, equivalents, and alternatives falling within the scope of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Reference will be made to embodiments of the invention, examples of which may be illustrated in the accompanying figures. These figures are intended to be illustrative, not limiting. Although the invention is generally described in the context of these embodiments, it should be understood that it is not intended to limit the scope of the invention to these particular embodiments.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 12"}]},"DETDESC":[{},{}]}
