---
title: Apparatus, system, and method for selecting optimal replica sources in a grid computing environment
abstract: An apparatus, system, and method are disclosed for selecting optimal replica sources in a grid computing environment. As disclosed, the present invention overcomes shortcomings in the art involving location and selection of replica sources. In particular, the present invention selects an optimal replica source based on current and historical network statistics, as well as user-defined policies. The user-defined policies allow for customization of the replica source search, and the option of obtaining multiple ranked sources for parallel data transfer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08521687&OS=08521687&RS=08521687
owner: International Business Machines Corporation
number: 08521687
owner_city: Armonk
owner_country: US
publication_date: 20040803
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["1. Field of the Invention","This invention relates to data management and more particularly relates to an apparatus, system and method for selecting optimal replica sources in a grid computing environment.","2. Description of the Related Art","Recent increases in networking speed, capacity, and usage have facilitated harnessing geographically disperse computing resources to solve computationally complex problems heretofore unsolvable with local computing resources. The ability to harness heterogeneous inter-networked computing resources into a single powerful tool has facilitated the development of a new computing paradigm often referred to as \u2018Grid Computing.\u2019 Grid computing enables the virtualization of distributed computing and data resources such as processing power, network bandwidth, and storage capacity to create a single processing image that provides users and applications seamless access to vast IT capabilities.","For example,  is a schematic block diagram depicting one example of a typical grid computing environment . The depicted grid computing environment  includes a number of sites , with computing nodes such as workstations  and servers , interconnected with a local network . Each computing node may comprise one or more separate file systems running on various system platforms. In the depicted arrangement, each site  is connected to a network  via one or more inter-site links . The network  may comprise a Local Area Network (LAN), Wide Area Network (WAN), the Internet, or the like.","Each computing file system ,  within each site  may operate as a computing node within the grid. Typically, computing resources that are unused by local users and processes may be offered for use by one or more grid computing tasks. To increase the performance of data access for such tasks, it is often desirable to create local read-only copies (replicas) of data files that may be conveniently accessed during execution. Local replicas of data files may reduce network response time, improve data locality, and\/or increase robustness, scalability, and performance of grid-oriented applications.","The process of creating and distributing replicas of data files to multiple distributed systems creates management issues for users and system administrators. For example, many users throughout a grid may choose to copy data files to a large number of computing nodes throughout the grid. Users may loose track of what files have been replicated and to which locations. Searching throughout the grid to update or delete such files is a very tedious, uncoordinated, and typically an error prone process.",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 2","b":["200","200","210","220","230","240","250","210","200"],"i":"Globus Toolkit"},"The file transfer service  facilitates the transfer of data files to selected locations on the data grid. Examples of the protocols used in file transfer service  include a local file transfer, File Transfer Protocol (FTP), Hyper Text Transfer Protocol (HTTP), and grid FTP. Often the file transfer service  transfers the data files between disparate file systems. The transferred files, also referred to as replicas, are typically copied to specific data stores that contain the local files  in order to increase data locality and improve performance.","The local replica catalog  maps logical file names to physical file names. Generally, a logical file name is a unique logical identifier for desired data content and the physical file name is a unique Uniform Resource Locator (URL) that specifies the data's location on a storage system. The use of logical file names facilitates system-independent and grid-independent programming and execution.","The local replica catalog  typically contains mappings for data file replicas that are locally accessible on one or more data stores associated within a site  or similar geographical unit. The local replica catalog  may also store user-specified attributes associated with a file. The replica location index  indicates which local replica catalogs  contain mappings for specific logical file names.","The replica location service  manages the replica location indexes  and the local replica catalogs , and facilitates access to the information contained therein via an Application Programming Interface (API). Additionally, the replica location service  correlates one or more physical locations to a given logical file name. Multiple replica location indexes  can be linked via the replica location service  in order that logical file names that are not found within one replica location index  may be found in a linked replica location index .","The replica location service  facilitates managing and tracking local replicas. However, the functionality provided by the replica location service  is fairly primitive. For example, the replica location service  typically manages index and catalog entries one file at a time, and may not guarantee consistency between data replicas or the uniqueness of filenames. Additionally, the location services provided by the replica location service  are not integrated with file-oriented services such as the file transfer services  and file-oriented system calls.","One of the major drawbacks of the systems ,  described above is that the replica location service  does not locate an optimal replica source, wherein the optimum replica source is identified by one or more preferred attribute. One example of a preferred attribute is membership of a replica source in a list of preferred replica sources. Another example is identification of a preferred replica source based upon performance of the network  between the replica source and a replica destination. One replica source may be preferred over another because one source may allow for more efficient and reliable copying of the replica, without undue taxation of a particular device's processing resources. The replica location service , does not choose any replica source preferentially over another, instead it merely provides a mapping of physical locations to the logical file name of the desired replica. An application requesting the mapping typically then chooses the first listed logical file name.","From the foregoing discussion, it should be apparent that a need exists for an apparatus, system, and method for selecting optimal replica sources in a grid computing environment. Beneficially, such an apparatus, system, and method would allow for fast, reliable, selection of the most efficient and convenient sources for replication of the data set. Selection of an optimal replica source will save time copying the replica, and reduce heavy resource taxation of overused sources within the grid.","The present invention has been developed in response to the present state of the art, and in particular, in response to the problems and needs in the art that have not yet been fully solved by currently available replica management devices. Accordingly, the present invention has been developed to provide an apparatus, system, and method for selection of optimal replica sources in a grid computing environment that overcome many or all of the above-discussed shortcomings in the art.","The apparatus to select optimal replica sources in a grid computing environment is provided with a logic unit containing a plurality of modules configured to functionally execute the necessary steps of searching existing replica source information including a mapping of logical replica source names to physical locations, collecting current network statistics for candidate replica sources, and determining an identifier for an optimal replica source in response to historical network statistics and current network statistics. These modules in the described embodiments include a search module, collection module, and determination module. In one embodiment, the apparatus may also include modules configured to receive a request for an optimal replica source location from a requesting file system, and send the identifier of the optimal replica source to the requesting file system. These modules include a receiving module and a sending module.","In one embodiment, the apparatus may include a user policy module, wherein the user policy module is configured to determine an identifier of the optimal replica source in response to one or more user-defined policies, the policies establishing rules for preferred attributes of the optimal replica source. In this embodiment, the user may be a system administrator, a grid application, or a module, device, or file system on the grid network desiring an identifier of an optimal replica source. The user-defined policies may be selected from the group consisting of file size, membership of the replica source in a preferred set of replica sources, proximity of the replica source, network response time, workload of a host for the replica source, and bandwidth of the connection to the replica source. Additionally, these user-defined policies may be weighted according to at least one preferred attributes. The user policy module may be further configured to define a desired number of replica sources to identify, the number of replica source ordered from an optimal replica source to a less optimal replica source. To create the replica, it may be desirable to determine multiple ordered replica sources to be utilized in a parallel data transfer.","In one embodiment of the apparatus, the search module is configured to communicate directly with a replica location service. In an alternative embodiment, the search module may use an internal matrix or database of replica source information. The search module may use some other external source for the replica source name and location information.","In one further embodiment, the determination module is further configured to calculate network congestion between a replica destination and candidate replica sources, the calculation including both historical network statistics and current network statistics. The network statistics may include statistics on grid traffic and statistics on other network traffic. In another embodiment, the calculation may include just current network statistics, or alternatively, just historical network statistics.","A system is also presented to select an optimal replica source in a grid computing environment. The system, in one embodiment, includes one or more replica destinations, at least one replica source, a replica source selection device comprising a search module, a collection module, and a determination module, and an interface to the replica source selection device. In one embodiment, the interface is an API for easy interaction between the replica source selection device and other devices within the system. In another embodiment, the interface is a graphical user interface.","The search module of the replica source selection device may be configured to locate existing replica source information including a mapping of logical replica source names to physical locations. The collection module may be configured to collect current network statistics for candidate replica sources. Additionally, the determination module is configured to determine an identifier for an optimal replica source in response to historical network statistics and current network statistics. In addition to these embodiments, the system performs substantially the same functionality as the apparatus described above.","A method of the present invention is also presented for selecting an optimal replica source in a grid computing environment. The method in the disclosed embodiments substantially includes the steps necessary to carry out the functions presented above with respect to the operation of the described apparatus and system.","These features and advantages of the present invention will become more fully apparent from the following description and appended claims, or may be learned by the practice of the invention as set forth hereinafter.","Many of the functional units described in this specification have been labeled as modules, in order to more particularly emphasize their implementation independence. For example, a module may be implemented as a hardware circuit comprising custom VLSI circuits or gate arrays, off-the-shelf semiconductors such as logic chips, transistors, or other discrete components. A module may also be implemented in programmable hardware devices such as field programmable gate arrays, programmable array logic, programmable logic devices or the like.","Modules may also be implemented in software for execution by various types of processors. An identified module of executable code may, for instance, comprise one or more physical or logical blocks of computer instructions which may, for instance, be organized as an object, procedure, or function. Nevertheless, the executables of an identified module need not be physically located together, but may comprise disparate instructions stored in different locations which, when joined logically together, comprise the module and achieve the stated purpose for the module.","Indeed, a module of executable code may be a single instruction, or many instructions, and may even be distributed over several different code segments, among different programs, and across several memory devices. Similarly, operational data may be identified and illustrated herein within modules, and may be embodied in any suitable form and organized within any suitable type of data structure. The operational data may be collected as a single data set, or may be distributed over different locations including over different storage devices.","Reference throughout this specification to \u201cone embodiment,\u201d \u201can embodiment,\u201d or similar language means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus, appearances of the phrases \u201cin one embodiment,\u201d \u201cin an embodiment,\u201d and similar language throughout this specification may, but do not necessarily, all refer to the same embodiment.","Furthermore, the described features, structures, or characteristics of the invention may be combined in any suitable manner in one or more embodiments. In the following description, numerous specific details are provided, such as examples of programming, software modules, user selections, network transactions, database queries, database structures, hardware modules, hardware circuits, hardware chips, etc., to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize, however, that the invention can be practiced without one or more of the specific details, or with other methods, components, materials, and so forth. In other instances, well-known structures, materials, or operations are not shown or described in detail to avoid obscuring aspects of the invention.","Referring again to , the present invention may be deployed in a networked or inter-networked environment such as the grid computing environment  depicted in , and may leverage the replication infrastructure  depicted in , to provide high-level replication and replication-related services to a user, system administrator, requesting file system, or the like.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 3","FIG. 1","FIG. 2"],"b":["300","300","310","100","200","240","250","300","120"]},"The workstation  may comprise a replica destination, and the local files  may comprise a replica source. In an alternative embodiment, the replica source may comprise a data server, a storage device such as a redundant disk array or a storage tape drive, an external file system (a file system other than the file system the user or user application is executed from), and the like.","Preferably, the server  includes an optimal source selector  which communicates with the replica location service  and the file transfer service . The optimal source selector  determines an identifier for the optimal replica source by collecting and analyzing information about candidate replica sources including physical address or physical name information from the replica location service , network statistics from the network  and a historical data set of network statistics, and user-defined policies from the replica destination, requesting file system, or other requestor.","In one embodiment, the optimal source selector  provides an identifier for the most optimal replica source according to at least one preferred attribute of the replica to the file transfer service . In this embodiment, the file transfer service  will copy the replica from the source with the most preferable attributes. Copying the replica from the source with the most preferable attributes, may improve network  performance, improve replica integrity, and reduce workload on overused replica sources.","In one embodiment, the optimal source selector , the replica location service , and the file transfer service  are collocated on the server . Alternatively, the optimal source selector , the replica location service , and the file transfer service  may be distributed throughout the network . In one embodiment, the optimal source selector  receives a request from the file transfer service  for an optimal replica source. The optimal source selector  then searches the information from the replica location service  for candidate replica sources. The optimal source selector  determines the optimal replica source and returns an identifier of the optimal source to the file transfer service . Alternatively, the workstation  or similar device may make the request.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 4","FIG. 3"],"b":["400","400","320","400","402","404","406"]},"In one embodiment, the search module  searches existing replica source information to find the physical name or address of candidate replica sources. In one embodiment, the search module  may also extract replica file size and historical network statistics collocated with the physical names. The search module  may communicate directly with the replica location service  and automatically search for candidate replica sources. This eliminates the need for a user or third-party user application to separately extract the candidate replica source information from the replica location service  and configure the apparatus  with the candidate replica source information.","In one embodiment, the replica location service  is an independent replica information management system. Alternatively, the replica location service  may be a matrix, array, data file, data store, or the like. The search module  locates source candidate information including a mapping of logical names or other identifier unique to a data set, to physical locations. The logical name may be a file name, and the physical location may be identified by a physical name such as a URL, or a replica source address, such as an Internet Protocol (IP) address or a Medium Access Control (MAC) address, with the associated replica file path name.","The collection module  gathers current network statistics for the candidate replica sources. The network statistics may include response times between a replica destination, or requesting file system such as the workstation , and the candidate replica sources, such as local files . Alternatively, the response time may be between the server  and the local files  or the workstation . Network statistics may also include the bandwidth of the connection between a requesting file system and each replica source.","Preferably, the collection module  gathers the network statistics in real time responsive to a request for an optimal replica source. In one embodiment, the collection module  may gather network response time by sending an Internet Control Message Protocol (ICMP) packet, and the bandwidth may be estimated by sending multiple packets of a predetermined size over a specific time period. Additional network statistics may include current workload for a host for the replica source, computing grid network traffic, and other network traffic measurements. Those of skill in the art may recognize other types of network statistics relevant to this application. In one embodiment, the collection module  may collect historical network statistics from a data set or a database located on the apparatus .","In some embodiments, the determination module  uses the current network statistics collected by the collection module  along with historical network statistics to determine an identifier for an optimal network source. Historical network statistics are stored statistics that are not collected in real time. This determination is preferably, made using network statistics on both grid traffic and other network traffic to calculate the optimal replica source. The calculation computationally weighs performance factors of each source and between the source and a replica destination. The factors may include the network response time, bandwidth, workload, and proximity of each source.","In one embodiment, the performance factors of each replica source are systematically compared against a predefined profile of the optimal replica source. The calculation may stop as soon as a source that meets or exceeds the optimal performance characteristics is found, and an identifier linking to the optimal replica source may be returned.","In one embodiment, the performance factors may be performance characteristics of both grid traffic, and other network traffic. Grid traffic, as used herein, is defined as traffic associated with computation, management, file transfer, and other activities performed by the components of the computing grid to accomplish tasks associated with grid control, calculations, and other grid related functions. Other network traffic may include email, file transfers, and controls not associated with the grid computing or control.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIG. 5","FIG. 4"],"b":["500","500","402","404","406","500","502","504","506"]},"The user policy module  allows a user to define certain rules that defines an optimal replica source. The rules may be used by the determination module  to facilitate defining a set of user-defined policies for an optimal replica source. In one embodiment, the user-defined policies relate to file size, membership of the replica source in a preferred set of replica sources, proximity of the replica source to a destination storage device, network response time, workload of a host for the replica source, and the bandwidth of the connection to the replica source.","A weight factor may be added to these user-defined policies by a user or user application. The weight factor allows certain replica source attributes to be favored over others.","In one embodiment, the number of optimal replica sources to identify and rank may be selectable to allow for parallel data transfer during creation of the replica. It may be desirable to identify multiple optimal sources for a parallel data transfer, because some data replicas may be extremely large. For example, to accomplish high speed data transfer of a file that is multiple terabytes in size, it may be advantageous to download the replica file from multiple replica sources in parallel.","In one embodiment, the user-defined policies may be persistent from one search to the next, unless actively changed by the user. Alternatively, the user-defined policies may be volatile, requiring the user to select new policies during each search. The user-defined policies may be stored in a source file. Alternatively, the user-defined policies may be entered dynamically in a graphical user interface.","The optional receive module  and send module  allow for communication between the apparatus  and other third-party modules or devices. In one embodiment, the receive module  may receive a request for an optimal replica source or ranked set of optimal replica sources from the file transfer service  or another replica destination.","A replica destination may comprise any module, device, or file system that desires an identifier for an optimal replica source. In this example, upon determination of the optimal replica source, the sending module  may send an identifier for the identified optimal replica source back to the file transfer service . The receive module  and the sending module  may communicate with any device, module or user requesting an identifier for an optimal replica source.","The schematic flow chart diagrams that follow are generally set forth as logical flow chart diagrams. As such, the depicted order and labeled steps are indicative of one embodiment of the presented method. Other steps and methods may be conceived that are equivalent in function, logic, or effect to one or more steps, or portions thereof, of the illustrated method. Additionally, the format and symbols employed are provided to explain the logical steps of the method and are understood not to limit the scope of the method. Although various arrow types and line types may be employed in the flow chart diagrams, they are understood not to limit the scope of the corresponding method. Indeed, some arrows or other connectors may be used to indicate only the logical flow of the method. For instance, an arrow may indicate a waiting or monitoring period of unspecified duration between enumerated steps of the depicted method. Additionally, the order in which a particular method occurs may or may not strictly adhere to the order of the corresponding steps shown.",{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 6","b":["600","600","602","600"]},"Initially, the search module  searches  replica source information. Typically, the search module  requests replica source information from a replica location service . In one embodiment, the replica source information is pre-existing and includes a mapping of logical replica source names to physical locations. The replica source information identifies one or more candidate replica sources in communication with a replica destination as described above. A collection module  collects  network statistics for candidate replica sources. The determination module  then determines  an identifier for the optimal replica source in response to historical network statistics and current network statistics. Upon determination  of the identifier, the method  ends .",{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 7A","b":["700","700","702","504","704","706","708","502"]},"Next, the searching module  conducts a search  of existing replica source information preferably provided by a replica location service . Then, a collection module  collects  network statistics for candidate replica sources. Next, a determination  is made of whether a user-defined policy has been defined . If so, the user-defined rules are applied  to the calculations in the determination module .","Next, as illustrated in , the determination module  determines  an identifier of the optimal replica source. Then, the determination module  determines  if additional replica sources have been requested. If so, the method  returns to the determination step  to determine the next most optimal replica source. If no additional replica sources have been requested and a plurality of replica sources has been requested, the set of optimal replica sources may be ranked  from optimal to less favorable. The identifiers of the optimal replica sources are then sent  by the sending module  to the replica destination.","The apparatus, system and method for selecting an optimal replica source in a grid computing network to improve the process of locating and copying a data set replica. The present invention allows for quick, automated access to optimized and ranked information regarding the most efficient and reliable sources for the replica information. These benefits allow for improved computing reliability, reduced network resource consumption, and reduced time in copying replicas.","The present invention may be embodied in other specific forms without departing from its spirit or essential characteristics. The described embodiments are to be considered in all respects only as illustrative and not restrictive. The scope of the invention is, therefore, indicated by the appended claims rather than by the foregoing description. All changes which come within the meaning and range of equivalency of the claims are to be embraced within their scope."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["In order that the advantages of the invention will be readily understood, a more particular description of the invention briefly described above will be rendered by reference to specific embodiments that are illustrated in the appended drawings. Understanding that these drawings depict only typical embodiments of the invention and are not therefore to be considered to be limiting of its scope, the invention will be described and explained with additional specificity and detail through the use of the accompanying drawings, in which:",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 7A"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 7B"}]},"DETDESC":[{},{}]}
