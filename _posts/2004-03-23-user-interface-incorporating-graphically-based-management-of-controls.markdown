---
title: User interface incorporating graphically based management of controls
abstract: Methods are disclosed for selectively loading one control at a time based on the location of a selection component relative to a graphical representation of a user interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07546542&OS=07546542&RS=07546542
owner: Microsoft Corporation
number: 07546542
owner_city: Redmond
owner_country: US
publication_date: 20040323
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF ILLUSTRATIVE EMBODIMENTS"],"p":["The present invention relates to memory management methods that enable load time reductions for mobile and other computing devices. More specifically, the present invention pertains to a method for selectively, rather than collectively, loading controls.","For any computing device running an application, it is desirable that user interface information be loaded and rendered as efficiently as possible. For example, it is generally desirable to reduce the time necessary for an Internet browser program to load a web page. In the context of mobile computing devices (e.g., Personal Digital Assistants, Pocket PC's, palm computers, handheld computers, smart phones, intelligent mobile phones, etc.), which are commonly susceptible to certain memory constraints, efficient loading and rendering becomes a particularly important aspiration. It is expected that the popularity of mobile computing devices will continue to increase in the future. Accordingly, it is likely that the demand for efficient loading and rendering of user interface information will correspondingly increase.","Embodiments of the present invention pertain to a method for selectively loading one control at a time based on the location of a selection component relative to a graphical representation of a user interface.","I. First Exemplary Environment",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1","b":["12","12","16","20","26","12","58","56","64","60","66","12","62","12"]},"Referring to mobile device , memory  is preferably implemented as non-volatile electronic memory such as random access memory (RAM) with a battery back-up module (not shown) such that information stored in memory  is not lost when the general power to mobile device  is shut down. A portion of memory  is illustratively allocated as addressable memory for program execution, while another portion of memory  is optionally used for storage, such as to simulate storage on a disc drive. Memory  can include operating system , as well as one or more application programs  and corresponding memory structure . Application programs  can illustratively include a customer relationship management (CRM) program, an Internet browser program, or any other type of program.","During operation, operating system  is illustratively executed by processor  from memory . The operating system  implements features that can be utilized by application programs  through a set of exposed application programming interfaces and methods. It will be appreciated that devices  can actually incorporate multiple application programs each with a corresponding memory, rather than the illustrated single collection of application programs with a single corresponding memory.","I\/O components , in one embodiment, are provided to facilitate input and output operations in association with a user of mobile device . I\/O components  for various embodiments of mobile device  can include input components such as buttons and touch sensors, as well as output components such as a display, a speaker, and\/or a printer port. Other I\/O components are conceivable and within the scope of the present invention.","Communication link  is any suitable communication interface. Interface  is illustratively used to communicate with another computing device. Memory  includes a set of communication drivers  that interact with communication link , and that translate data to and from the appropriate communication protocol necessary to enable communication across the link .","Device  communicates through link  and across any of a variety of remote communication means and corresponding protocols. Such means potentially include, but are not limited to, a physical cable and a serial communication protocol, infra-red (IR) communication, direct modem communication, remote dial-up-networking communication, communication through commercially available network cards (i.e., using TCP\/IP), remote access services (RAS), a wireless modem communication, wireless cellular digital packet data (CDPD), wireless Bluetooth\u2122 communication, FireWire communication, or any other suitable communication mechanism or means. Although the communication link is shown as being internal to mobile device , those skilled in the art will recognize that at least portions of the communication link may exist outside of the device.","Application programs  may include Personal Information Manager (PIM) programs, which support, for example, electronic mail messaging, scheduling, calendering, etc. Of course, application programs  can be configured to support a wide variety of other features, such as task lists and personalized address books, to name a few. Memory  is configured to store a plurality of individual records or objects, each comprising a plurality of fields or properties related to application programs .",{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"b":["12","12","302","304","12","320","302","302"]},"The mobile device of  is illustrated with a World Wide Web Internet browser operating thereon. Device  is illustratively configured to access web pages in association with such a browser. As is known in the art, the web pages are accessed using a URL such as the illustrated URL .",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 4","b":["12","400","402","404","406"]},"It should be noted that device  and the other exemplary devices described herein are only examples of devices suitable to support embodiments of the present invention. The description of such devices is not intended to suggest any limitation as to the scope of use or functionality of the present invention. Neither should the devices be interpreted as having any dependency or requirement relating to any one or combination of components illustrated in  or any subsequently described Figure. Accordingly, the present invention is operational with numerous other general purpose or special purpose computing system environments or configurations. Examples of well-known computing systems, environments, and\/or configurations that may be suitable for use with the invention include, but are not limited to, personal computers, server computers, hand-held or laptop devices, multiprocessor systems, microprocessor-based systems, set top boxes, programmable consumer electronics, network PCs, minicomputers, mainframe computers, telephone systems, distributed computing environments that include any of the above systems or devices, and the like.","II. Second Exemplary Environment",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 2","b":["110","110","120","130","121","120","121"]},"Computer  typically includes a variety of computer readable media. Computer readable media can be any available media that can be accessed by computer  and includes both volatile and nonvolatile media, removable and non-removable media. By way of example, and not limitation, computer readable media may comprise computer storage media and communication media. Computer storage media includes both volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. Computer storage media includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical disk storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can be accessed by computer . Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term \u201cmodulated data signal\u201d means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, RF, infrared and other wireless media. Combinations of any of the above should also be included within the scope of computer readable media.","The system memory  includes computer storage media in the form of volatile and\/or nonvolatile memory such as read only memory (ROM)  and random access memory (RAM) . A basic input\/output system  (BIOS), containing the basic routines that help to transfer information between elements within computer , such as during start-up, is typically stored in ROM . RAM  typically contains data and\/or program modules that are immediately accessible to and\/or presently being operated on by processing unit . By way of example, and not limitation,  illustrates operating system , application programs , other program modules , and program data .","The computer  may also include other removable\/non-removable volatile\/nonvolatile computer storage media. By way of example only,  illustrates a hard disk drive  that reads from or writes to non-removable, nonvolatile magnetic media, a magnetic disk drive  that reads from or writes to a removable, nonvolatile magnetic disk , and an optical disk drive  that reads from or writes to a removable, nonvolatile optical disk  such as a CD ROM or other optical media. Other removable\/non-removable, volatile\/nonvolatile computer storage media that can be used in the exemplary operating environment include, but are not limited to, magnetic tape cassettes, flash memory cards, digital versatile disks, digital video tape, solid state RAM, solid state ROM, and the like. The hard disk drive  is typically connected to the system bus  through a non-removable memory interface such as interface , and magnetic disk drive  and optical disk drive  are typically connected to the system bus  by a removable memory interface, such as interface .","The drives and their associated computer storage media discussed above and illustrated in , provide storage of computer readable instructions, data structures, program modules and other data for the computer . In , for example, hard disk drive  is illustrated as storing operating system , application programs , other program modules , and program data . Note that these components can either be the same as or different from operating system , application programs , other program modules , and program data . Operating system , application programs , other program modules , and program data  are given different numbers here to illustrate that, at a minimum, they are different copies.","A user may enter commands and information into the computer  through input devices such as a keyboard , a microphone , and a pointing device , such as a mouse, trackball or touch pad. Other input devices (not shown) may include a joystick, game pad, satellite dish, scanner, or the like. These and other input devices are often connected to the processing unit  through a user input interface  that is coupled to the system bus, but may be connected by other interface and bus structures, such as a parallel port, game port or a universal serial bus (USB). A monitor  or other type of display device is also connected to the system bus  via an interface, such as a video interface . In addition to the monitor, computers may also include other peripheral output devices such as speakers  and printer , which may be connected through an output peripheral interface .","The computer  may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer , which can include mobile device . The remote computer  may be a personal computer, a hand-held device, a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) , but may also include other networks. Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet. In addition, the network connections between any of the nodes in the network may include direct cable connections or wireless connections and the connection between computer  and remote computer  may include any number of nodes and\/or routers.","When used in a LAN networking environment, the computer  is connected to the LAN  through a network interface or adapter . When used in a WAN networking environment, the computer  typically includes a modem  or other means for establishing communications over the WAN , such as the Internet. The modem , which may be internal or external, may be connected to the system bus  via the user input interface , or other appropriate mechanism. In a networked environment, program modules depicted relative to the computer , or portions thereof, may be stored in the remote memory storage device. By way of example, and not limitation,  illustrates remote application programs  as residing on remote computer . It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.","III. Graphically Based Selective Control Loading","It should be noted that the present invention may be described in the general context of computer-executable instructions, such as program modules, being executed by a computer. Generally, program modules include routines, programs, objects, components, data structures, etc. that perform particular tasks or implement particular abstract data types. The invention may also be practiced in distributed computing environments where tasks are performed by a remote processing devices that are linked through a communications network. In a distributed computing environment, program modules may be located in both local and remote storage media including memory storage devices.","The present invention is not limited to any single device or application. However, for the purpose of simplifying the present description, embodiments will be described in relation to some specific examples, namely, a mobile device having a customer relationship management application installed and running thereon. The scope of the present invention, however, is not so limited.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 5","FIG. 3"],"b":["500","502","500","12"]},"Form  is illustratively configured to display data in a row-column format. The form illustratively includes twenty rows that each contain two columns. Within , an exemplary two of the rows have been labeled . Only twelve rows are shown but it is understood that the remaining rows are revealed through a downward scrolling of scroll bar .","The first column has been labeled  and the second column has been labeled . The first column  of one of the labeled rows illustratively includes the designation \u201cOther phone\u201d, while the first column of the other labeled row includes the designation \u201cFax\u201d. As is typical in the art, for each of the twenty rows , second column  includes a blank that can be filled in with information input by a user to correspond to the respective designation in column .","Accordingly, in accordance with one aspect of the present invention, column  contains a collection of textual indicators and column  contains a collection of control boxes (e.g., textboxes, comboboxes, or other another control). In accordance with one embodiment, the illustrated page  contains about forty different controls (i.e., a label control with text in first column row and the corresponding control in the second column). Each column  label is illustratively configured as a control in order to activate the corresponding column  control upon selection (e.g., clicking on the label itself activates a corresponding textbox or drop-down box).","It is generally understood that the memory capacity for the typical mobile computing device is relatively constrained or limited. In light of this and other limitations, it is not uncommon for the loading of numerous controls (e.g., forty controls) to require a significant investment in load time. It is not uncommon for the load time for controls associated with a form to be displayed on a mobile device to be relatively high. The load time grows as the number of controls on the form increases. Also, an increasing of the number of controls on a page is generally a memory drain. Each entry in a database made to indicate control activity has an impact on loading performance (e.g., the data in column  text box associated with the Fax line is stored in and read from the database).","For at least these reasons, reductions in load time and memory usage are desirable. In accordance with one aspect of the present invention, in order to accomplish such reductions, a graphically based (e.g., bitmap based) component representation is implemented wherein mouse clicks are monitored and controls are selectively loaded accordingly. Depending on where the user selects (e.g., a click of the mouse) relative to a graphical representation (e.g., a representation of a form), a control is instantiated. This method reduces load time and improves memory management. In addition, for applications incorporating a user interface with scrolling functionality (e.g., the interface illustrated in ), scrolling will happen faster since only one control need be managed at a time (e.g., rather than twenty or forty). Accordingly, as a user scrolls (e.g., scrolls through a form), controls need not be loaded simply because they are newly revealed.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 6","b":["602","604"]},{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 7","FIG. 5","FIG. 6"],"b":["700","702","700","500","704","706","708","502","702","602","604","708","704"]},"In accordance with block , if the user selects elsewhere on the representation, the parent control saves the data associated with the first activated control and activates a different control corresponding to the new point of selection. Accordingly, only one child control is active on the form at a time. In this manner, memory usage and loading time are limited.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 8","FIG. 6"],"b":["700","802","802","804","804","704","708","608"]},"In accordance with one embodiment of the present invention, the formation of the graphical representation will now be described in greater detail. In order to demonstrate the general formation method specifically, a method for the formation of form  will be described. The present invention, however, is not limited to forms similar to form . The concepts could just as easily be applied to other user interfaces, such as a web browser interface (e.g., all or a portion of a web page is graphically rendered and controls are selectively called based on selection location).",{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 9","b":["702","902","702","904","706","708","906"]},"In accordance with one specific embodiment, the parent control associated with the graphical (e.g., bitmap) representation is designed to create a form that is essentially a listbox configured to hold a list of items (e.g., each item is a label and a textbox representation). The listbox, illustratively referred to as a FormItemListBox, will ultimately contain a plurality of items each referred to as a FormItem. Accordingly, a completed FormItemListBox consists of a graphical representation (e.g., a bitmap) containing a list of FormItems.","In accordance with one embodiment, when the form loads up, the parent control creates a general FormItemListBox and obtains a list of items that it needs to hold. The list is illustratively referred to as an ItemList. The FormItemListBox loops through the ItemList and retrieves an item width and height for each FormItem. Once width and height data has been collected, the FormItemListBox is substantiated as a graphical (e.g., bitmap) representation configured to hold all the FormItems. For example:\n\nListBoxWidth=Width of FormItemListBox\n\nListBoxHeight=Item1Height+Item2Height . . . ItemNHeight\n","Accordingly, each FormItem is illustratively assigned a rectangle in which the item can draw itself. The FormItemListBox then loops over the items and requests that they draw themselves within the assigned rectangle. For example, with reference to , the FormItem holding \u201cAcct name\u201d knows that in its rectangle it needs to draw a string called \u201cAcct name\u201d in bold font, a \u201c:\u201d, and an underline. If it had some data in for \u201cAcct name\u201d, then it would draw the data too (e.g., if \u201cBlah\u201d had previously been entered and saved, then \u201cBlah\u201d would be drawn in too).","In this manner, the graphical representation is drawn by instructing each FormItem to draw itself. This drawing process is significantly quicker than the previously practiced method of instantiating all form controls. Also, a scrolling functionality now only requires scrolling the graphic representation.","In accordance with one aspect of the present invention, when the user selects (e.g., clicks) on a particular location on the listbox, the listbox parent control collects the coordinates of the selection (e.g., of the mouse click), determines which FormItem owns that area, and notifies the FormItem that it is now \u201cInFocus\u201d. The FormItem in turn looks up the controls it needs to create and, as in the case of \u201cAcct name\u201d, determines it needs to create a textbox. Accordingly, when the user clicks in the \u201cAcct name\u201d rectangle, a textbox is created and can be typed in.","In accordance with one aspect of the present invention, if the user clicks elsewhere, for example in the \u201cRelationship\u201d FormItem area, the listbox first notifies the \u201cAcct name\u201d FormItem that it has lost focus. The \u201cAcct name\u201d FormItem takes data input by the user, saves it and then destroys its control. It then paints itself on the graphical image with the data that was input (e.g., \u201cblah\u201d). The listbox then notifies the \u201cRelationship\u201d FormItem that it is now InFocus. Since the Relationship FormItem is supposed to show a ComboBox, the drop down box is substantiated in accordance with the appropriate control.","Although the present invention has been described with reference to particular embodiments, workers skilled in the art will recognize that changes may be made in form and detail without departing from the spirit and scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0005","num":"0004"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
