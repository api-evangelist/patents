---
title: Program products, methods, and systems for providing location-aware fitness monitoring services
abstract: Program products, methods, and systems for providing location-aware fitness monitoring services are disclosed. In an embodiment of the present invention, a method of displaying a route traversed by an athlete equipped with a location-aware portable fitness monitoring device includes the steps of (a) receiving data describing a plurality of satellite navigational system waypoints that are acquired as the athlete engages in a fitness activity, (b) identifying a map area based on a location indicated by the data describing the plurality of satellite navigational system waypoints, (c) determining the route traversed by the athlete based on the data describing the plurality of satellite navigational system waypoints and based on the location of one or more known paths associated with the map area, and (d) displaying the route traversed by the athlete on top of the map area.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09409052&OS=09409052&RS=09409052
owner: adidas AG
number: 09409052
owner_city: Herzogenaurach
owner_country: DE
publication_date: 20090929
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["PRIORITY CLAIM AND CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The present application claims priority to U.S. Provisional Patent App. No. 61\/102,623, filed Oct. 3, 2008. This application is incorporated herein by reference in its entirety.","Embodiments of the present invention generally relate to location-aware fitness monitoring services. More particularly, embodiments of the present invention relate to program products, methods, and systems for providing location-aware fitness monitoring services.","Exercise is important to maintaining a healthy lifestyle and individual well-being. Accordingly, many individuals want to participate in an exercise program. The most successful exercise programs are ones tailored to a fitness level of an individual and aimed at assisting the individual to achieve one or more specific fitness or exercise goals.","Sports trainers, as well as other exercise and fitness professionals, are available to assist individuals in developing exercise programs appropriate for their individual fitness levels and their specific fitness or exercise goals. Hiring such professionals, however, can be expensive. Furthermore, the busy schedules of many individuals make it difficult for these individuals to set aside time to meet with an exercise and fitness professional on a routine basis. Thus, many individuals forego using the services of exercise and fitness professionals, and they never achieve the benefits that can be obtained from an exercise program tailored, for example, to one's fitness level.","Technology has resulted in the development of portable fitness monitoring devices capable of providing performance feedback to the individual during a physical activity. Some portable fitness monitoring devices are capable of transferring performance information obtained from an athlete during a workout to a remote computer for further analysis. These systems often provide a user interface on the portable fitness monitoring device and\/or at the remote computer that allows the athlete or a third party user to review the athlete's past performance data.","As satellite navigational technology, such as Global Positioning System (GPS) technology, has matured, location-aware electronics have been integrated into a number of different mobile platforms, such as automobiles, mobile telephones, two-way radios, and hand-held GPS receivers, in order to provide location information.","Portable and\/or wireless electronic devices have also been developed or adapted for use in various commercial, personal or leisure activities to assist people in performing the activity and\/or to enhance the enjoyment and\/or efficiency of the activity. Such electronic devices may or may not be GPS-enabled.","What is needed are improved program products, methods, and systems for providing location-aware fitness monitoring services that will allow athletes to, among other things, stay motivated during their fitness activities, obtain more accurate location-based fitness information, receive substantially real-time location-based output, and\/or compete in substantially real-time and\/or time-shifted challenge races.","Embodiments of the present invention relate to a method of displaying a route traversed by an athlete equipped with a location-aware portable fitness monitoring device including the steps of (a) receiving data describing a plurality of satellite navigational system waypoints that are acquired as the athlete engages in a fitness activity, (b) identifying a map area based on a location indicated by the data describing the plurality of satellite navigational system waypoints, (c) determining the route traversed by the athlete based on the data describing the plurality of satellite navigational system waypoints and based on the location of one or more known paths associated with the map area, and (d) displaying the route traversed by the athlete on top of the map area.","Embodiments of the present invention also relate to a method of displaying a route traversed by an athlete equipped with a location-aware portable fitness monitoring device including the steps of (a) receiving data describing a plurality of satellite navigational system waypoints that are acquired as the athlete engages in a fitness activity, (b) identifying a map area based on a location indicated by the data describing the plurality of satellite navigational system waypoints, (c) determining the route traversed by the athlete based on the data describing the plurality of satellite navigational system waypoints by (i) comparing the locations indicated by the data describing the plurality of satellite navigational system waypoints to the locations of points along the one or more known paths associated with the map area and (ii) comparing the locations indicated by the data describing the plurality of satellite navigational system waypoints to the locations of points along the one or more known routes previously traversed, and (d) displaying the route traversed by the athlete on top of the map area.","Further embodiments, features, and advantages of the present invention, as well as the structure and operation of the various embodiments of the present invention, are described in detail below with reference to the accompanying drawings.","The present invention will now be described in detail with reference to embodiments thereof as illustrated in the accompanying drawings. References to \u201cone embodiment\u201d, \u201can embodiment\u201d, \u201can example embodiment\u201d, etc., indicate that the embodiment described may include a particular feature, structure, or characteristic, but every embodiment may not necessarily include the particular feature, structure, or characteristic. Moreover, such phrases are not necessarily referring to the same embodiment. Further, when a particular feature, structure, or characteristic is described in connection with an embodiment, it is submitted that it is within the knowledge of one skilled in the art to affect such feature, structure, or characteristic in connection with other embodiments whether or not explicitly described.","With reference now to the figures, and in particular with reference to , there is depicted an exemplary embodiment of an environment in which the methods, systems, and program products of the present invention may advantageously be practiced. In particular,  illustrates an environment  in which a location-aware portable fitness monitoring device  is utilized by an athlete  while engaged in a fitness activity including, but not limited to, running, walking, cycling, hiking, climbing, skating, swimming, skiing, performing aerobic exercises, weight lifting, or participating in various individual or team sports.","The term \u201cathlete\u201d is used herein to refer to a person who is presently, was previously, or in the future will conduct a monitored fitness activity. The term \u201cuser\u201d is used herein more broadly to include the athlete  or another third party (such as, for example, a competitor athlete, a coach, a trainer, an event organizer, a spectator, or a friend), either of whom may interact with the system of the present invention in real-time, before, and\/or after the monitored fitness activity has been completed by the athlete.","As shown in , environment  includes a constellation of earth-orbiting navigation satellites . In one embodiment of the present invention, the navigation satellites may be Global Positioning System (GPS) satellites . As is known in the art, GPS satellites  continuously emit GPS signals , which enable GPS-equipped devices, such as portable fitness monitoring device , to continuously determine their position, velocity, bearing and elevation as long as a sufficient number of GPS satellites  can be acquired. In other embodiments of the present invention, other global or regional satellite navigational systems besides GPS may be employed such as the European Union's Galileo system, Russia's GLONASS system, China's Compass system, or any other known or future developed satellite navigational systems.","In one embodiment, environment  further includes a wireless wide-area network (WAN) communication system including a plurality of geographically distributed communication towers  and base station systems (BSS)  (only one of each is illustrated for simplicity). Communication tower  may include one or more antennae  supporting long range two-way radio frequency communication wireless devices, such as portable fitness monitoring device . The radio frequency communication between antennae  and portable fitness monitoring device  may utilize radio frequency signals  conforming to any known or future developed wireless protocol, for example, CDMA, GSM, EDGE, 3G, IEEE 802.x (e.g., IEEE 802.16 (WiMAX)), etc. The information transmitted over-the-air by BSS  and cellular communication tower  to portable fitness monitoring device  may be further transmitted to or received from one or more additional circuit-switched or packet-switched communication networks, including, for example, the Internet .","As is well known to those skilled in the art, Internet  is a worldwide collection of servers, routers, switches and transmission lines that employ the Internet Protocol (IP) to communicate data. For example, Internet  may be employed to communicate data between a server computer system  and a client computer system , such as, for example, portable fitness monitoring device  or any other portable or stationary client computer system. For example, as described further below, Internet  may be utilized to communicate to portable fitness monitoring device  route information from a route database  stored within data storage  associated with server computer system . Similarly, portable fitness monitoring device  may transmit route and performance information to server computer system  for storage in training journal database  via Internet , BSS , and communication tower . In addition, a user utilizing a remote client computer system , for example, athlete , a competitor athlete, a coach, a trainer, an event organizer, a spectator, a friend, or other user, may access real-time or historical performance information regarding the training of athlete  via server computer system  and Internet .","The term \u201cremote client computer system\u201d may be used herein to refer to a remotely located stationary client computer system, such as a desktop computer, or a remotely located mobile client computer system, such as, for example, a laptop computer, a mobile phone, a personal digital assistant, or a dedicated portable fitness monitoring device.","Furthermore, the individual portable fitness monitoring devices  of athlete  and one or more other competitor athletes may communicate with one another. Such communication may occur in substantially real-time, before, or after the athletes's fitness activities are complete. Communication may occur, for example, via a WAN and the Internet , as described above.","Referring now to , there is illustrated a high-level block diagram of an exemplary implementation of portable fitness monitoring device  in accordance with the present invention. As illustrated, portable fitness monitoring device  includes a central processing unit (CPU)  that controls the operation of portable fitness monitoring device  in accordance with client software  described further below with respect to . As shown, CPU  is coupled, either directly or indirectly, to a variety of different components within portable fitness monitoring device . For example, portable fitness monitoring device  includes an internal memory device  for storing the client software, as well as various route, performance and environmental information regarding a training activity of athlete . The storage provided by internal memory device  may be further augmented by a removable storage medium inserted within removable memory slot  and\/or dedicated audio storage  for storing audio data. The audio data may include, for example, music tracks encoded in MP3 format, synthesized human speech tracks, voice tracks recorded by the athlete , a competitor athlete, a coach, a trainer, an event organizer, a spectator, a friend, or another user, voice annotations by athlete  recorded during the fitness activity via an internal or external microphone , as well as other audio data.","In addition to microphone , portable fitness monitoring device  may include a number of other input\/output (I\/O) devices. For example, portable fitness monitoring device  may include one or more manually manipulable input buttons  that permit athlete  to start and stop recording of GPS data, annotate a route while athlete  is traversing the route, and\/or to enter desired settings of portable fitness monitoring device . Portable fitness monitoring device  may also include a speaker  and display  through which portable fitness monitoring device  may present real-time performance information (e.g., elapsed distance, elapsed time, pace, distance to go, heart rate, etc.), turn-by-turn directions, real-time remote training recommendations, motivational content, point-of-interest information, challenge race announcements (discussed further below), maps, and other information in audio and\/or visual format.","In one embodiment, portable fitness monitoring device  is equipped with a power supply  that powers CPU  and the other components of portable fitness monitoring device . Power supply  includes a battery and may further have an associated power port  through which the battery may be charged from an AC power source. Alternatively, the battery within power supply  may be charged utilizing a wireless inductive charging device, as is known in the art.","In one embodiment, portable fitness monitoring device  further includes a GPS receiver  and associated GPS antenna  that receive GPS signals  from GPS satellites . GPS receiver  processes GPS signals  to present to CPU  time-stamped waypoints, which include at least a time, a latitude, and a longitude. If at least four GPS satellites  have been acquired, the time-stamped waypoints presented to CPU  by GPS receiver  preferably further include an elevation. As discussed further below, the time and position information supplied by GPS receiver  is utilized by client software  running on CPU  to build a record of a route traversed by athlete  and to determine performance information (e.g., elapsed distance, elapsed time, pace, distance to go, heart rate, etc.) regarding the athlete's traversal of the route.","Portable fitness monitoring device  may support two-way wireless WAN communication with communication tower  with WAN transceiver  and its associated antenna . As known to those skilled in the art, WAN transceiver  includes a receiver for receiving radio frequency signals  and a transmitter for transmitting radio frequency signals . As discussed in greater detail below, radio frequency signals  may include route information transmitted to portable fitness monitoring device , route and performance information transmitted from portable fitness monitoring device , settings for portable fitness monitoring device , and one or two-way voice communication (e.g., a voice conversation between athlete  and a competitor athlete, a remote coach, a trainer, an event organizer, a spectator, or a friend, any of whom may or may not be utilizing a remote client computer ). The data sent and received by WAN transceiver  may alternatively be communicated via an optional data port , which may employ short range wired or wireless communication (e.g., RS-232 or infrared).","In order to support communication with other electronics within close range, portable fitness monitoring device  may be further equipped with one or more local wireless interface(s)  and associated antennae . For example, local wireless interface(s) may include interfaces for 802.11x, Bluetooth, 900 mHz communication or the like. Utilizing such technologies, portable fitness monitoring device  may communicate with or sense data from a heart rate monitor , headphones , shoes , and a watch  worn by athlete  during a fitness activity. In this manner, portable fitness monitoring device  may gather information regarding athlete , such as his\/her heart rate and body temperature, and if the athlete's shoes  are equipped with an RFID tag, the shoes  worn during the fitness activity. Portable fitness monitoring device  may similarly present to the athlete  performance, directional and training information, motivational content, point-of-interest information, and challenge race announcements (discussed further below) via watch  and\/or headphones .","Of course, in alternative embodiments, portable fitness monitoring device  may sense or communicate with particular devices utilizing wired or wireless interfaces. For example, microphone  may alternatively be incorporated within wireless headphones , and heart rate monitor  may alternatively be coupled to CPU  via a wired interface. Thus, those skilled in the art will appreciate from the block diagram provided in , that any number of internal or external devices and sensors, such as temperature and barometric pressure sensor , may be coupled to CPU  via either wired or wireless interfaces. In this manner, client software running on CPU  may associate with the time and position information provided by GPS receiver  various data of interest regarding athlete , his\/her environment and the route being traversed. The data may be stored locally by portable fitness monitoring device , for example, within internal memory device , or transmitted over-the-air by WAN transceiver , possibly in real time.","It will further be appreciated that portable fitness monitoring device  may be implemented as a special purpose device or may alternatively be realized on a conventional portable device platform, such as a mobile telephone, MP3 player, digital camera, PDA, etc.","With reference now to , there is illustrated a layer diagram of an exemplary software configuration of portable fitness monitoring device  in accordance with one embodiment of the present invention. As illustrated, the software configuration of portable fitness monitoring device  includes at a lowest level an operating system (OS)  that provides a collection of services, such as thread scheduling, memory management, interrupts, etc., that may be accessed by higher-level software. Running on top of operating system  is a runtime environment , such as one of the JAVA or BREW runtime environments. Finally, the software configuration of portable fitness monitoring device  includes a portable fitness device client  running on top of runtime environment . Portable fitness device client  may be downloaded to portable fitness monitoring device  over-the-air, for example, via the wireless WAN and WAN transceiver .","As illustrated, portable fitness device client  comprises a number of individual modules, each performing a function of portable fitness monitoring device . Those skilled in the art will appreciate that the illustrated modules are illustrative rather than exhaustive, and that portable fitness device client  may include additional or alternative modules to support or extend the functionality of portable fitness monitoring device .","As shown in , in one embodiment the modules within portable fitness device client  preferably may include a number of reader modules -. GPS reader  receives from GPS receiver  time-stamped waypoints including at least time, latitude and longitude information, and, depending upon implementation and the number of GPS satellites  from which GPS signals  were received, elevation and error information. Utilizing the time-stamped waypoints received from GPS receiver , GPS reader  calculates performance and route information for athlete . For example, GPS reader  may determine the start and stop times at which a route was begun and ended, an elapsed time, an elapsed distance, distance remaining in the route, elevation change, average elevation, current pace, average pace, bearing, etc.","The remainder of readers -, for example, heart rate reader  and annotation reader , may similarly obtain input data and associate the input data with a corresponding time-stamped waypoint obtained by GPS reader . Readers - may also perform additional calculations to determine instantaneous, differential or cumulative quantitative characterizations of the route, the performance of athlete  or of his\/her environment. Thus, for example, heart rate reader  may obtain an instantaneous heart rate reading from heart rate monitor , associate that heart rate reading with the time-stamped waypoint obtained by GPS reader , and calculate an average heart rate. Similarly, annotation reader  may store a route annotation entered by athlete  via input buttons  or microphone  with a time-stamped waypoint obtained by GPS reader .","The data gathered and calculated by readers - are then parsed and formatted by formatter  into a predetermined data format that associates the performance and route data with a timestamp and geographical location. The particular data format employed by data formatter  is implementation-dependent, but is preferably compact to conserve the capacity of internal memory device  and the bandwidth of the communication link between portable fitness monitoring device  and the wireless WAN. Storage capacity and wireless communication bandwidth may further be conserved by applying a data compressor  to the formatted data produced by data formatter .","After data obtained and calculated by readers - have been formatted by data formatter  and optionally compressed by data compressor , the data may be either stored within internal memory device  (or audio storage  or a removal memory loaded in removable memory slot ) or transmitted over-the-air via WAN transceiver . Upload manager  and route and performance recorder  determine whether or not to upload and\/or store data locally based upon one or more criteria, for example, whether WAN transceiver  can acquire a connection to the wireless WAN, the available storage within internal memory device , an indication of whether or not a remote user (such as, for example, a competitor athlete, a coach, a trainer, an event organizer, a spectator, or a friend) is tracking the training of athlete  in real-time, and\/or other criteria. If, based upon these and\/or other criteria, upload manager  decides to upload the formatted and compressed data, upload manager  outputs the data via WAN transceiver  and antenna  to client computer system  and\/or server computer system  utilizing radio frequency signals . In one embodiment, data transmitted to client computer system  is typically graphically presented within a display device, and data transmitted to server computer system  is typically stored within training journal database .","As noted above, portable fitness monitoring device  may alternatively receive data over-the-air from the wireless WAN. In a preferred embodiment, the data received over-the-air from the wireless WAN may include route information transmitted by server computer system  from route database , settings of portable fitness monitoring device  transmitted by server computer system  or client computer system , training recommendations transmitted from server computer system  or client computer system , motivational content transmitted by server computer system  or client computer system , point-of-interest information transmitted by server computer system , or challenge race announcements (discussed further below) transmitted by server computer system . Route information, which may be identified as such, for example, by an XML header, is received, processed and stored by route storage manager . The route information may be, for example, turn-by-turn directions keyed to particular geographical areas defined by a latitude and longitude range duple. By storing route information in this format, when GPS reader  obtains a time-stamped waypoint falling within a particular geographic area defined by a latitude and longitude range duple, audio presentation module  can present an audible instruction to athlete  via speaker  and\/or headphones  to direct athlete  how to traverse a desired route.","In one embodiment, settings data, which may be identified as such, for example, by an XML header, is initially received, processed, and output by data decompressor  is then subsequently processed by settings manager . For example, settings manager  may utilize settings data to update storage locations within internal memory device  governing particular aspects of the operation of portable fitness monitoring device . In addition, based upon the received settings, settings manager  may notify upload manager  or route and performance recorder  to initiate upload or storage of route and performance information.","Training recommendations received, processed and output by data decompressor  are subsequently processed by training input manager . These training recommendations may take the form of either voice data communicated by a human coach or trainer utilizing, for example, a voice-over-IP (VoIP) connection to portable fitness monitoring device , or a predetermined data command representing an audio message. In the former case, training input manager  exports the audio data directly to audio presentation module , which, in turn, directly presents the audio data to athlete  via headphones  and\/or speaker . If, however, the training recommendation takes the form of a data command representing an audio message, training input manager  locates an audio track within audio storage  or internal memory device  corresponding to the data command and presents the audio track to audio presentation module  for subsequent presentation to athlete . In this manner, a remote human coach or trainer (who may be utilizing a client computer system ) or an automated training plan service may provide training recommendations directly to athlete  in substantially real-time. And, if portable fitness monitoring device  is equipped with a microphone , athlete  may similarly communicate audibly with the remote coach or trainer (e.g., via VoIP) through the execution of annotation reader  data formatter , data compressor  and upload manager . As described in further detail below, competitor athletes, event organizers, spectators, or friends may similarly be able to communicate with and provide motivation to the athlete  in substantially real time, audibly or via data command.","Audio presentation module  is also preferably equipped to present, in audio format, turn-by-turn directions correcting the course of an athlete  to return to a route if a turn is missed, as well as turn-by-turn directions providing the most direct return path to the starting point. Such turn-by-turn directions are preferably computed by server computer system  based upon real time location information received over-the-air from portable fitness monitoring device  and then transmitted to portable fitness monitoring device , again utilizing over-the-air communication via the wireless WAN. Audio presentation module  may also be utilized to decode and present audio entertainment tracks, such as the MP3 files stored within audio storage .","As further depicted in , portable fitness device client  includes a visual presentation module  that manages the presentation of route, performance and environmental information to athlete  via optional display  and\/or the display of watch .","Finally, route publication manager  of portable fitness device client  supports the sharing of routes between multiple portable fitness monitoring devices , for example, utilizing the local wireless interface , WAN transceiver , or data port . In this manner, an athlete  can directly share selected routes (e.g., as identified utilizing input buttons ) to other athletes having compatible portable fitness monitoring devices , such as, for example, competitor athletes that the athlete  is competing with in a race.","Referring now to , there is depicted a layer diagram of an exemplary software configuration of server computer system  of  that, in accordance with the present invention, provides an automated web-based route generation, route journaling, route visualization and other services. The services may be offered to a plurality of athletes  or other users forming a user community, may be restricted to users that have been issued login IDs and passwords for accessing server , and may further be offered in exchange for a subscription fee. The user community may include, for example, athletes and their coaches, trainers, event organizers, spectators, or friends of the athletes.","As shown, at the lowest layer the software configuration of server computer system  includes an operating system (OS) , which is preferably one of the commercially available operating systems, such as Windows, UNIX, LINUX, AIX, etc. OS  has an associated application programming interface (API)  though which middleware and application programs may access the services of OS .","Running on top of OS  is a hypertext transport protocol (HTTP) server , which, as is well known in the art, communicates data over Internet  utilizing HTTP. In particular, HTTP server  supports data communication with portable fitness monitoring device  and one or more remote client computers  utilizing HTTP. Communication with server computer system  may alternatively or additionally be conducted utilizing a sockets layer interface or other lower layer protocol running over IP.","In addition to HTTP server , the application software of server computer system  includes a number of different modules supporting the client-side functionality provided by portable fitness device client . In the depicted embodiment, these modules include a route generation and publication module , a data recorder module , and a visualization module . Those skilled in the art will again appreciate that alternative or additional modules may be implemented within server computer system  in order to provide or extend the described or additional functionality.","Route generation and publication module  may generate routes to be traversed by athletes  during fitness activities, store the routes within route database  () for subsequent access, and\/or download the routes to portable fitness monitoring devices . In one embodiment, route generation and publication module  may include a route wizard , which, as described below with respect to , guides a user through a step-by-step process for generating routes having desired parameters and attributes. As shown in , route generation and publication module  preferably accesses a local or remote map database  that stores street and\/or trail information (collectively, \u201cpath information\u201d) in association with at least latitude and longitude information, and preferably elevation information. Thus, given at least one terminal point (e.g., a starting point), route generation and publication module  is able to construct one or more routes having a desired length, elevation profile, and other parameters and attributes. Routes generated by route generation and publication module  are stored for subsequent access within route database .","Once a particular route is scheduled by an athlete  as discussed further below, route generation and publication module  transforms the route into a sequence of turn-by-turn instructions and publishes the route to a portable fitness monitoring device  via HTTP server  and the wireless WAN. Because route generation and publication module  can obtain elevation information along a desired route directly from map database , route generation and publication module  is also able to advantageously supply, in conjunction with a route, elevation information for the route. In this manner, the elevation information supplied by route generation and publication module  can assist or replace the elevation information provided by GPS receiver . Thus, if less than four GPS satellites  are acquired, or if GPS receiver  is not designed to process elevation information, portable fitness monitoring device  can still determine elevation-dependent route and performance data regarding a route traversed by athlete .","Data recorder module  receives route and performance information from portable fitness monitoring device  via the wireless WAN and\/or local wireless interface  and\/or dataport  and utilizes such data to build a virtual training journal for athlete  within training journal database . As noted previously, depending upon the operation of the upload manager  and route and performance recorder  within portable fitness device client , data recorder module  can build a journal entry describing the traversal of a particular route in substantially real time (i.e., during traversal of the route). Data recorder module  also preferably supports an interface through which a route recorded by data recorder module  can be exported to route database  for subsequent viewing, selection and scheduling within an athlete's  training journal.","The exemplary software configuration of server computer system  may further include visualization module . Visualization module  supports one or more interfaces through which users of remote client computer systems  can view and\/or annotate the data recorded within training journal database  by data recorder module . In the depicted embodiment, visualization module  includes training journal interface , which, as described in detail below, permits an athlete  or other user to view and\/or annotate a journal entry describing a route traversed during a fitness activity after completion of the route traversal. In a preferred embodiment, visualization module  further includes a real-time interface  through which a user utilizing a remote client computer system , such as athlete , a competitor athlete, a coach, a trainer, an event organizer, a spectator, or a friend, may view, in substantially real time, data logged within training journal database  for one or more athletes. Thus, for example, a spectator having access to Internet  can view the real-time standings of multiple competitors in a fitness activity, such as a marathon, cycling race, or other competitive event. Similarly, a remotely located coach or trainer having access to Internet  via a client computer  can view the progress of one or more athletes  engaged in one or more training activities in substantially real time.","Visualization module  also preferably includes support for the export of selected journal entries between accounts of different users of the back-end service provided by server computer system . For example, visualization module  preferably permits a user to transmit a journal entry representing a traversal of a route via email. In addition, visualization module  may permit a user to create a \u201cbuddy\u201d account that may be accessed and even annotated by guest users, such as a competitor an athlete, a coach, a trainer, an event organizer, a spectator, or a friend. In this manner, if the services provided by server computer system  are provided for a subscription fee, marketing of the service is enhanced by the ability of non-subscribers or subscriber having reduced-cost subscriptions to view journal entries created by others.","Referring now to , there are illustrated a sequence of graphical user interface (GUI) windows presented by route wizard  to a user of client computer system  by HTTP server . As noted above, route wizard  provides a graphical and intuitive interface through which a remote user can automatically build, search for, and\/or schedule routes to be traversed during a fitness activity.","In order to access route wizard , a user utilizing a remote client computer system  first logs into server computer system  via Internet  and HTTP server . As is well known to those skilled in the art, the login process typically includes the entry by the remote user of a login ID and password or other authentication information to server computer system , which then authenticates the identity of the user by reference to the user database or the like.","Following the preliminary authentication process, an exemplary embodiment of route wizard  first presents a graphical user interface (GUI) window  to the user. Within GUI window , the user is prompted to select one of three options ,  and , which are each associated with a respective one of radio buttons -. Thus, the user is permitted to build a new route (option ), search for an existing route within route database  (option ), and access one or more routes within a pre-packaged training plan (option ). After the user has indicated a preference among options - by selecting one of radio buttons -utilizing cursor  or a keyboard, the user selects Next button  to proceed to the next step.","If the user selected option  indicating that the user desires to select a pre-packaged training plan, route wizard  may subsequently present the user with one or more additional windows in which a training plan meeting the user's needs and desires is designed. Route wizard  then automatically populates the training journal of the athlete  with a schedule of fitness activities that conform to the distance, time, goal event (e.g., marathon) and\/or other parameters of the training plan. Thereafter, the user may be permitted to build or search for routes within route database  as described below with respect to  in order to fulfill the requirements of the scheduled fitness activities.","Assuming that the user selects option  of GUI window  in order to build a new route, route wizard  next presents to the user the GUI window  shown in . As shown in , window  includes a number of GUI components prompting the user to enter parameters for the new route to be built and, optionally, desired attributes of the route.","Specifically, the user is first prompted in section  to designate a starting point of the route (which in this embodiment is also the ending point) by entering a street address or ZIP code or by selecting a route within route database  having the desired starting point. Next, the user is prompted in section  to enter a desired overall length of the route, specified either by distance or by time. If time is utilized to specify the length of the route, a desired or historical average pace is preferably entered so that a route distance can be computed. In addition to the route parameters collected in sections  and , GUI window  may also prompt the user to enter optional route attributes. In the illustrated embodiment, the optional route attributes include a maximum distance that the route may extend from the starting point, a desired elevation profile of the route, a desired pattern of the route, a desired safety characterization of the route, a desired flow of the route, and whether or not the route may be a pre-existing route stored within route database .","Once the user has entered all required parameters and any optional route attributes within GUI window , the user selects Next button  utilizing cursor . In response, route generation and publication module  builds one or more routes conforming as closely as possible to the route parameters and route attributes entered through GUI window . The presentation of such routes by route wizard  is described below with respect to .","Referring now to , there is illustrated an exemplary embodiment of a GUI window  presented by route wizard  to a user of client computer system  is response to selection of option  in GUI window  of . That is, in response to a user input indicating that the user desires to search for a pre-existing route within route database , route wizard  prompts the user through GUI window  to enter parameters and attributes of routes of interest to the user.","In the depicted embodiment, GUI window  includes two modalities by which the user may specify parameters for the route. In particular, in section , the user is permitted to specify a location of the route by ZIP code or city name. Alternatively, as represented by button , the user may specify a geographic location of the route or routes to be located by the search through a map interface. For example, if the user selects button  utilizing cursor , route wizard  may present window  of , which is described below.","Still referring to , in section  of GUI window , the user is permitted to input into route wizard  desired attributes of the route to be located through the search of route database . For example, in the illustrated embodiment, the route attributes include a range of route distance, an elevation profile, a route pattern, a route safety profile, a route flow, and amenities adjacent to the route. After the user has successfully entered a route location and any desired route attributes, the user may select Next button  utilizing cursor  to invoke a search of route database  by route generation and publication module  to locate one or more routes, if any, characterized by the desired route location and any route attributes. Assuming route generation and publication module  locates one or more routes of interest within route database , route wizard  presents the routes to the user through an interface such as that depicted in , which is described below.","Referring now to , there is illustrated an exemplary GUI window  in which route wizard  presents a navigable geographical map populated with graphical indications of locations for which preexisting routes are stored within the route database . In the depicted embodiment, GUI window  includes a graphical representation  of a geographical area, for example, a political, cultural, or regional boundary. Within geographical representation , route wizard  presents a number of indicia -identifying geographic locations of one or more pre-existing routes for which route database  stores route data.","In response to the user flying over one of indicia  utilizing cursor , route wizard  displays in a separate window or frame  route maps - of the routes in the geographic location corresponding to the selected indicia . Graphical representations - may be advantageously presented overlaying a street or topographical map within window . If the user visually identifies one or more routes of interest at a particular geographical location through visual inspection of indicia  and\/or the route maps - displayed within windows , the user may select that geographical location by clicking on the associated indicia . In this manner, GUI window  and its associated functionality provide the user with a graphical and intuitive way of viewing and selecting route locations of interest.","With reference now to , there is illustrated an exemplary GUI window  presented by route wizard  in order to permit a user to select from among one or more pre-existing routes that were located within route database  or that were built by route generation and publication module  in response to the input gathered by route wizard  within GUI window . As shown, in the depicted embodiment proposed routes that may be selected by the user are presented to the user in the form of route summaries -. Although such route summaries  may take any of a number of formats, in one preferred embodiment, each route summary  includes at least a route thumbnail  and a route distance . The route summary  may further include an elevation profile , which in the depicted embodiment is illustrated in graphical form, a route rating , and one or more audio or textual reviews or links thereto .","The user has a number of different navigation options from GUI window . First, by clicking on any of route thumbnails , the user is next presented with a graphical component through which the user may select or view detailed information regarding the selected route, as described further below with respect to . Alternatively, the user may utilize cursor  to select Next button  in order to view one or more additional route summaries  of additional routes satisfying the user's route parameters and\/or route attributes. In addition, by selecting Back button  utilizing cursor , the user is presented with one or more of the previously described GUI windows in order to permit the user to modify the route location or other route parameters or attributes.","With reference now to , there is illustrated an GUI window  presented by route wizard  to provide a detailed view of a proposed route and an interface through which the user can upload route data to portable fitness monitoring device  and schedule traversal of the route. In the illustrative embodiment, window  includes a detailed route map  indicating the geographical path of the route. Route map  includes terminal points , and a route path . Route map  may optionally further include one or more annotations  associated with a route, which may be stored in route database  or accessed from map database . For example, in , route diagram  contains an annotation  indicating a geographical location of a potable water source.","By clicking on route path  utilizing cursor , the user invokes display by route wizard  of a marker , which may then be selectively slid to any desired location along route path  utilizing cursor . Route wizard  preferably displays marker location information  in association with marker to indicate the geographic location of marker  (e.g., the distance between marker and terminal along route path ). In addition, route wizard  preferably displays a corresponding second marker in association with elevation profile . In this manner, by manipulating either of markers or utilizing cursor , the user can visualize the location of particular elevation features or annotations .","As further shown in , window  further includes a rating of the route, which in this case includes between one and four \u201cstars\u201d and an indication of a number of reviews. In addition, window  may optionally include a number of written reviews, for example, displayed within text box . The user may navigate to a next review of the route by selecting link .","GUI window  of  finally includes an interface through which the user may invoke the upload of route information pertaining to the route currently being viewed to portable fitness monitoring device . In the depicted embodiment, the user can invoke upload of the route information to portable fitness monitoring device  by scheduling the route utilizing calendar interface . For example, in order to upload route information pertaining to the illustrated route to portable fitness monitoring device , the user may select a desired present or future date by clicking on that date within calendar interface  utilizing cursor . In response to this input, route generation and publication module  enters the route to the athlete's training journal in training journal database  as a prospective event and uploads route information to portable fitness monitoring device  via Internet  and the wireless WAN. Importantly, in order to conserve data storage capacity within portable fitness monitoring device , the upload by route generation and publication module  is preferably deferred until a selectable time interval of the scheduled date. In this manner, route information is provided to portable fitness monitoring device  automatically and as needed.","Referring now to , there are illustrated a series of GUI windows presented by training journal interface  of visualization module  of server computer system  to permit a user to view, annotate and share training journal entries created utilizing data received over-the-air from portable fitness monitoring device . In order to access training journal interface , a user stationed at a remote client computer system  first logs into server computer system  via Internet  and HTTP server . As is well known to those skilled in the art, the login process typically includes the entry by the remote user of a login ID and password or other authentication information to server computer system , which then authenticates the identity of the user by reference to the user database or the like.","Following the preliminary authentication process, training journal interface  of visualization module  presents GUI window  to the remote user via HTTP server  and Internet . As illustrated, GUI window  includes a calendar interface  through which the user can select a past, current or future calendar month of interest utilizing cursor . An associated list box  presents for selection dates within the selected calendar month having journal entries within training journal database  for the specified login ID. Thus, by navigating utilizing cursor , the user can select for viewing journal entries detailing past or real-time routes previously traversed or currently being traversed by an athlete , or prospective routes scheduled for the athlete .","Assuming that the user selects a past journal entry within training journal database  from list box , training journal interface  presents GUI window  of , again utilizing HTTP serve . As shown, the journal entry presented by training journal interface  within GUI window  provides detailed information regarding a route previously traversed by athlete , the athlete's  performance, environmental features or conditions such as points-of-interest, as well as the athlete's  or other users' personal comments and annotations. In an embodiment, comments and\/or motivational content sent to the athlete  by a competitor athlete, coach, trainer, event organizer, spectator, or friend may also be presented in the journal entry. In particular, the training journal entry presented within GUI window  includes a route map  having terminal points -and a route path  showing the geographical path traversed by the route. As discussed above, route map  may advantageously be presented as an overlay of a trail or street map retrieved from map database .","The overall performance of athlete , in traversing the route depicted in route map , is preferably summarized in a performance summary section . As indicated, performance summary section  may indicate the route distance, total elapsed time, average pace, average heart rate of athlete , as well as other route and performance information. Weather conditions at the time and geographical location at which athlete  traversed the route may optionally be presented in a weather condition section . For example, weather condition section  may specify the temperature, wind speed and direction, humidity, and precipitation. The weather condition information presented within weather condition section  may advantageously be accessed by visualization module  from any of the multiple publicly accessible weather databases available via Internet .","The user may interact with route map  in a number of ways. For example, the user may annotate route map  by dragging any of icons -to a selected location along route path  utilizing cursor . For example, in the illustrated embodiment, the user is dragging an annotation  representing a potable water source onto route map . A variety of other points-of-interest markers could be added to the map such as, for example, those indicating the location of bathroom facilities, parking lots, food service areas, first aid stations, information booths, event registration booths, or the like. The user may alternatively drag callout box icon  onto route map  in order to enter a textual annotation.","In addition, in response to clicking on route path  utilizing cursor , training journal interface  displays one or more markers , along route path , preferably in association with one or more items of route or performance information (e.g., a distance) for the geographical location identified by the marker , . By adding markers , in this manner, the user can graphically and intuitively ascertain the geographical location of features of interest and performance and route information at selected locations along route path . Training journal interface  may alternatively or additionally present route and performance information for a selected geographical location in response to the user causing cursor  to \u201cfly over\u201d the corresponding location on route path .","In association with route map , training journal interface  preferably presents other performance information, route information, and\/or environmental information in graphical format. For example, in the depicted embodiment, training journal interface  presents an elevation profile , a heart rate profile , and a pace profile in association with route map . When the user adds markers , to route path , training journal interface  automatically presents corresponding markers -and -at corresponding locations along graphical profiles -. As discussed above, all of markers  and all of markers  are synchronized so that movement of any of markers  moves all of markers  and movement of any of markers  moves all of markers . In this manner, the user is able to graphically and intuitively define an interval over which performance, route and\/or environmental information may be viewed. For example, in the depicted embodiment, interval information is depicted in interval section , which informs the user of the interval distance, time taken by the athlete  to traverse the route interval, average pace over the route interval and average heart rate over the route interval.","Of course, the particular types of route, performance and environmental information shown in  are not exhaustive and other types of route, performance, and environmental information may be captured in association with the traversal of a route. If additional route, performance or environmental information is captured in association with the route, that information is preferably presented in a profile , within interval section , and\/or within overall performance section  in like manner. For example, GUI window  may present information regarding what pair of shoes  the athlete was wearing during the fitness activity, together with a lifetime mileage total for that specific pair of shoes .","In a preferred embodiment of the present invention, the user may alternatively or additionally view route, performance and environmental information regarding a previously traversed route in an overlay view in which a graphical representation of the route, performance and\/or environmental information is depicted along route path . For example, in the illustrated embodiment, in response to user selection of overlay view button  utilizing cursor , training journal interface  presents route map  of  in place of route map  of .","Like route map , route map  includes terminal points and defining the starting and ending points of a route path . In contrast to route map , however, route path  of route map  comprises a plurality of bands -, each of which represents a respective route, performance or environmental parameter quantified at the waypoints recorded along the route. The value of the respective route, performance or environmental parameter is preferably charted along route path  utilizing gray scale or color shade variation to represent the instantaneous quantity of the route, performance or environmental parameter at each point along the route. Thus, in , the different hatching applied to each of bands -represents a different color and a varying spacing between the hatches represents the display of the colors at varying levels of intensity along the route path, depending upon the value of the parameters at each point along the path. The value associated with each shade of color or each level of gray scale is generally graphically represented in an accompanying legend . Training journal interface  preferably further presents instantaneous route and performance data at any point along the route path in response to a flyover of cursor  or in response to the user adding markers ,  to the route path, as described above. For example, in association with the display of marker , training journal interface  displays information regarding the traversed distance, relative elevation, heart rate and pace associated with a distance 1.4 miles from the beginning of the route.","Returning to , in addition to supporting user annotation of route maps  and , GUI window  preferably permits the user to enter additional information regarding environmental and route conditions and personal thoughts. For example, GUI window  includes a route condition section  that permits the user to record the surface and traffic conditions observed along the route, as well as a text box  in which the user may enter personal reflections about the training activity.","Finally, GUI window  preferably includes a GUI component that permits the user to review and\/or rate the route. For example, in the exemplary embodiment, GUI window  contains a second text box  in which the user can compose a review of the route and a ratings section  in which the user can award the route between one and four \u201cstars\u201d. After the route has been reviewed and\/or rated, the user can select Publish button , which causes training journal interface  to store the review and rating within route database  in association with the route. In this manner, the review and rating are available for access by other users through route wizard , as described above.","Training journal interface  preferably permits a user to view prospective routes that have been scheduled utilizing a similar interface to that illustrated in . In particular, in response to a user selecting a journal entry for a future date within list box  of , training journal interface  presents a journal entry containing a route map  of the prospective training activity as shown in . Of course, the journal entry will not contain any performance information (e.g., time, pace, heart rate, etc.) because the athlete  has not yet traversed the route.","Training journal interface  also preferably permits a user to view routes currently being traversed in substantially real time through an interface similar to that depicted in . In this case, training journal interface  presents a journal entry containing a route map  and a marker showing the athlete's  current location with respect to route path . In addition, training journal interface  may present a summary section  summarizing the athlete's  performance to the current position, a weather condition section , an interval section , and one or more graphical profiles . In this manner, a competitor athlete, a coach, a trainer, an event organizer, a spectator, or a friend utilizing a client computer system  may track an athlete's  performance information, route information and environmental information in substantially real time.","If a user utilizing a client computer system , such as athlete , a competitor athlete, a coach, a trainer, an event organizer, a spectator, or a friend, desires to view a substantially real time view of the activities of multiple athletes traversing a common route, the user preferably logs into real-time interface  through HTTP server . Assuming the user has the appropriate subscription and\/or permissions, real-time interface  builds from the training journals of multiple athletes a web page containing a single route map on which multiple markers, each representing a respective athlete, are presented. The web page may further present separate performance and route information for each athlete. In this manner, a remote user stationed at a client computer system  may track performance information, route information and environmental information in substantially real time for multiple athletes traversing the same or substantially the same route.","An athlete  may desire that a competitor athlete, a coach, a trainer, an event organizer, a spectator, a friend or other remote user hold the athlete  accountable for meeting the athlete's  fitness goals and keep the athlete  motivated during and between fitness training sessions. Embodiments of the portable fitness monitoring device  and system of the present invention may help to meet this desire.","In an embodiment of the present invention, the portable fitness monitoring device  may be capable of presenting motivational content to the athlete  equipped with the portable fitness monitoring device . First, the portable fitness monitoring device  may wirelessly receive data from a remote user while the athlete  is participating in a fitness activity. Then, based on the wireless reception of the data from the remote user, the portable fitness monitoring device  may present motivational content to the athlete while the athlete is participating in the fitness activity. In one embodiment, the steps of receiving the data from the remote user and presenting the motivational content are executed by a processor, such as CPU , located within the portable fitness monitoring device . In another embodiment, one or more of the steps of receiving the data from the remote user and presenting the motivational content may be executed by a processor that is remote to the portable fitness monitoring device .","In another embodiment of the present invention, the portable fitness monitoring device  may be capable of notifying the remote user that the athlete  is participating in a fitness activity. In this embodiment, the data that is wirelessly received by the portable fitness monitoring device  may have been sent from the remote user in response to the notification of the remote user.","As described above, the portable fitness monitoring device  supports two-way wireless WAN communication with communication tower  with WAN transceiver  and its associated antenna  for transmitting and receiving radio frequency signals . Accordingly, in an embodiment of the present invention, the radio frequency signals  may include data transmitted from the portable fitness monitoring device  directly to server computer system , directly to client computer system , or to client computer system  via server computer system . Likewise, the radio frequency signals  may include data received by the portable fitness monitoring device  that was transmitted directly from server computer system , directly from client computer system , or from client computer system  via server computer system .","In one embodiment, the data exchanged between two or more of the portable fitness monitoring device , the server computer system , and the client computer system  may be a message including motivational content (or a message in response to the receipt of motivational content). In another embodiment, the data exchanged may be a signal capable of presenting motivational content (or a message in response to the receipt of motivational content) on the receiving device or system.","In embodiments of the present invention in which the portable fitness monitoring device  notifies the remote user that the athlete  is currently participating in a fitness activity, such notification may be achieved in one or more ways. For example, the portable fitness monitoring device  may initiate the sending of one or more of the following: an email message, a text message (such as, for example, a SMS message), a multimedia message (such as, for example, a MMS message), a voice message, a voice mail message, a video message, and\/or a voice-over-IP call to the remote user. In an alternate embodiment, the notification of the remote user is initiated by the server computer system .","As is known by those of skill in the art, online communities (such as, for example, MySpace, Facebook, Twitter, StudiVZ, and MeinMV) allow users to create personal profiles, link their accounts to those of other users, send and receive messages among users, post pictures to share, join and create groups according to their interests or areas of expertise, and update their personal profiles to provide various notifications to other users. Some services provide a space on every user's profile page that allows friends to post messages for the user to see. Other services allow users to send a brief notification that tells a user that they have been \u201cpoked.\u201d Still other services provide \u201cstatus\u201d updates that allow users to inform their friends of their whereabouts and actions.","Accordingly, in another embodiment, notification of the remote user that the athlete  is currently participating in a fitness activity may occur when the remote user observes that the athlete's  status has been updated\u2014or a similar change has been made\u2014to the athlete's  account in an online community. For example, a user logged into their online community may notice a status update for the athlete , whose online community account may be linked to that of the user. In an embodiment of the present invention, the remote user may be notified when an activity and\/or location specific indicator is activated. For example, an indicator capable of conveying messages such as \u201cI am working out,\u201d \u201cThe monitored athlete is working out,\u201d or \u201cDavid is working out\u201d may be activated. In another embodiment, the indicator may further identify the location of the athlete . For example, the indicator capable of conveying a message such as \u201cDavid is running HERE\u201d that includes the display of a real-time map indicating the athlete's  location. Alternatively, instead of providing the map within the indicator itself, the indicator may provide a hyperlink capable of presenting the real-time map content from a target source. The indicator may appear on the remote computer , for example, in the online community web browser window the user is already viewing, in another window, in a pop-up window, in a web browser tab, in a browser widget, in a desktop widget, or in any other suitable GUI element known in the art. In some embodiments, the indicator may include textual content and\/or multimedia content such as audio content, video content, or image-based content. The online community may be a general purpose social networking community, such as, for example, Facebook, or an athletic-targeted online community.","Whether by email message, text message, multimedia message, voice message, voice-over-IP call, online community status update, or other suitable means, in an embodiment, the notification of the remote user may be automatically initiated by the portable fitness monitoring device in response to the athlete undertaking a fitness activity. In an alternate embodiment, the athlete must take an affirmative action beyond commencing the fitness activity in order to provide notification to the user such as, for example, by manipulating input button .","In an embodiment, automatic notification of remote users that the athlete is participating in a fitness activity is initiated in response to the portable fitness monitoring device  recording a time-stamped GPS waypoint. In other embodiments, automatic notification may be initiated in response to the device  determining that the athlete's  speed has increased to a predetermined velocity, or in response to the cessation of motion for greater than a predetermined period of time. Notification may also be initiated in response to the receipt of data from other sensors, such as heart rate monitor , in response to the transmission of data to server , or any other suitable events. For example, in one embodiment, the portable fitness monitoring device  may receive data from the heart rate monitor  indicating that the athlete's heart rate exceeds a predetermined value, at which point notification may be sent to one or more remote users.","Setting information may also include which users the athlete  would like to notify of the athlete's  activity and\/or how often users should be updated. The athlete may be able to turn real-time feedback permission on or off for all users, specific individuals, and\/or groups of individuals. These permissions may match or be different than permissions that allow a user to merely follow the athlete's  progress in real-time from a remote computer .","As described above, the portable fitness monitoring device  may be implemented as a special purpose device or may alternatively be realized on a conventional portable device platform, such as a mobile telephone, MP3 player, digital camera, PDA, etc. Accordingly, the motivation-related data may be sent and received via any of these devices.","Likewise, as described above, the remote user may be utilizing a remote client computer  which may be any suitable remotely located stationary client computer system, such as a desktop computer, or remotely located mobile client computer system, such as, for example, a laptop computer, a mobile phone, a personal digital assistant, or a dedicated portable fitness monitoring device. Accordingly, the motivation-related data may be sent and received via any of these devices.","The content of the notification provided to the remote user may include one or more of textual content and\/or multimedia content such as audio content, video content, image-based content. In one embodiment, regardless of its form, the notification may include, for example, an indication that \u201cDavid Jones is currently participating in a fitness activity,\u201d that \u201cDavid Jones is out for a run,\u201d or a relatively simple indication such as \u201cOn a bike ride.\u201d In an embodiment, the notification may indicate the athlete's  performance during the present physical activity such as, for example, \u201cDavid Jones is running at an 8 minute-mile pace,\u201d \u201cDavid Jones has one more mile left to go on his run\u201d or \u201cDavid Jones is 5 seconds behind his personal record pace.\u201d In one embodiment, the notification may include a graphic indication that David Jones is participating in a fitness activity. For example, the notification may include a photo of David Jones on a bike. In still other embodiments, the notification may include a video clip or an animation. Also, as described above with respect to online communities, the notification may indicate the real-time location of the athlete  on a map or provide a hyperlink thereto.","As described above, the motivational-related data sent from the remote user to the athlete  may simply be a signal capable of presenting motivational content on the receiving device or system. In this case, the CPU  of the portable fitness monitoring device  processes the data sent from the remote user and determines what motivational content stored in the memory (such as internal memory ) of the portable fitness monitoring device  should be provided to the athlete. In an embodiment, the motivational content output may be relatively simple such as an audio tone or the illumination of an LED or other light source.","Alternatively, the motivational-related data sent from the remote user to the athlete  may simply be a message including motivational content itself. Such motivational content may be created by the user or selected from a collection of pre-defined motivational content that may be available, for example, from an online community or server .","Regardless of whether it is stored in the memory of the portable fitness monitoring device  or elsewhere, the motivational content may be textual content and\/or multimedia content such as audio content, video content, or image-based content. Textual or audio content may include messages like \u201cKeep going, David,\u201d \u201cPick up the pace,\u201d \u201cOne more mile,\u201d or \u201cGreat job, David.\u201d Audio content may further include a song or other music clip or the sound of cheering spectators. Video or image-based content may include, for example, video or images of family members or friends, motivational images, symbols, or video clips such as those involving an athlete in motion, an athlete crossing a finish line, a \u201cthumbs up\u201d sign, spectators cheering, a gold medal, a trophy, or the like. In one embodiment, two or more of textual, audio, video, and image-based content are included in the same motivational message.","In an embodiment, the remote user determines the particular content that will be output to the athlete . In other embodiments, the athlete  may control or pre-select the output.","In embodiments where the motivation content includes a song or other music clip, the athlete  may predetermine which song or music clip is played in response to receiving a motivational data input from the remote user.","In an embodiment of the present invention, the motivational content includes an indication of the identity of the remote user who sent the motivational-based data signal to the portable fitness monitoring device . The identity of the remote user may be apparent based on an image or picture of the remote user, a textual display of the remote user's name, an audio announcement of the remote user's name, or other suitable indicators. Audio announcements may take the form of a live VoIP transmission, a short personal message spoken by the remote user, and\/or a pre-recorded message that indicates the identity of the remote user in some way. In one embodiment, the indication of the identity of the remote user is a particular audio track stored in a memory device of the portable fitness monitoring device and associated with the particular remote user.","In other embodiments, motivational content may be sent from remote users and provided to the athlete  when the athlete is not participating in fitness activity\u2014i.e. between fitness activities.","Users providing motivational content to the athlete  as described above may or may not be tracking the athlete  in real-time or otherwise utilizing training journal interface  while providing the motivational content to the athlete .","By employing such features, the portable fitness monitoring device  and system of the present invention may enable other users to hold the athlete  accountable for meeting the athlete's  fitness goals and keep the athlete  motivated during and between fitness training sessions.","With reference now to , there is illustrated a high level logical flowchart of an, exemplary method of authoring a training plan in accordance with the present invention. As illustrated, the process begins at block  and then proceeds to block , which depicts a user utilizing a client computer  describing a fitness training plan for an activity, for example, through a browser interface served over Internet  by authoring tool  of training plan module  () via web server . The training plan includes one or more workouts and preferably includes at least a relative scheduling of the workouts. The training plan may further include specific routes and specific performance metrics, such as a target distance, target duration, target repetitions, target pace, target heart rate, target intervals or other performance goals for one or more of the workouts. The user may further associate metadata such as keywords (e.g., author name, plan length, fitness event, etc.) with the training plan so that it may be more easily located utilizing a conventional search tool. As described further below, the user may further enter information indicating a preferred adaptive behavior of the training planning in response to actually observed athletic performance of an athlete using the training plan.","After the training plan has been described, the user invokes storage of the training plan by authoring tool  within a training plan database  in data storage  of . In response, in one embodiment, authoring tool  generates an XML-formatted document specifying the training plan, and as indicated at block , stores the training plan within training plan database . The metadata contained in the XML-formatted training plan enables users to browse the contents of training plan database  utilizing a conventional search tool, such as the keyword search tool of a web browser. As further shown at block , the author of the training plan is preferably permitted by authoring tool  to subsequently access and modify training plans created by that author that reside within training plan database . Following block , the process ends at block . Of course, in other embodiments, the training plan may be electronically encoded in other ways, with or without reliance on the XML serialization protocol, and subsequently stored.","Referring now to , there is depicted a high level logical flowchart of an exemplary method of installing a training plan into an athlete's  training journal in accordance with the present invention. The process begins at block  and then proceeds to block , which illustrates a user utilizing a client computer system  selecting a training plan from training plan database  of server computer system , for example, through a browser GUI served over Internet  by calendaring tool  of training plan module  via HTTP server . The selection may be aided by a conventional browser search tool, menus, pick lists, calendars or other conventional user interface components. As described above, the presentation of the interface components utilized to select the training plan may be invoked by selection of option  within GUI window  of . In response to user selection of the training plan, calendaring tool  installs the selected training plan within the athlete's  personal training journal residing within training journal database . As noted, at block , installation of the training plan within the athlete's  personal journal may optionally require payment of a fee (e.g., authorization to charge a credit card number) and\/or user agreement to abide by the terms of a copyright license in the training plan (e.g., as signified by selection of an \u201cI Agree\u201d button within the GUI displayed at client computer system ).","When calendaring tool  of training plan module  installs the training plan within the athlete's  training journal, calendaring tool  preferably presents a calendar view similar to GUI window  of  or other GUI component(s) to enable user input of preferred scheduling and other preferences for the training plan. The user preferences may include, for example, desired starting and\/or ending dates for the plan, preferred workout and\/or rest days, the date of a race or other event to which the training plan pertains, audible alerts the user desires to be received during a workout, preferences relates to motivational output, etc. In response to the user scheduling input(s) and any other preferences, calendaring tool  automatically populates the calendar in the athlete's  training journal with the workouts within the selected training plan based upon the user's inputs and\/or the relative scheduling of the workouts in the training plan. After the training plan has been installed within the athlete's  training journal, the athlete  is preferably permitted to further modify or customize the training plan, as depicted at block . In addition, training plan module  may automatically customize a training plan in an athlete's  personal training journal in response to the athlete's  activities recorded in the personal training journal if the adaptive behavior is specified by the training plan. For example, training plan module  may automatically remove prospective workouts from the training plan in response to the athlete  exceeding a weekly mileage target in order to prevent pre-event injury or may automatically add additional workouts (e.g., to the end of the training plan) if the personal training journal of athlete  indicates a failure to meet mileage goals. Alternatively or additionally, training plan module  may automatically decrease a target pace for one or more prospective workouts if the athlete  has had a lower than target pace over one or more previous workouts. Those skilled in the art will recognize that any number of other modifications to distance, pace and scheduling may similarly be automatically implemented in response to actual measured athletic performance. Following block , the process terminates at block .","With reference now to , there is illustrated a high level logical flowchart of an exemplary method of automatically downloading one or more workouts within a training plan to a portable fitness monitoring device  in accordance with the present invention. As shown, the process begins at block  and then proceeds to block , which depicts a download manager  of training plan module  monitoring an athlete's  personal training journal to determine if any workout of a training plan installed within the athlete's  training journal falls within a next download time interval (e.g., within the upcoming week). If not, download manager  continues to monitor the athlete's  training journal.","However, if download manager  determines at block  that at least one workout of a training plan falls within the next download time interval, download manager  attempts to establish communication with the athlete's  portable fitness monitoring device  via Internet  and the wireless WAN, as depicted at block . If download manager  determines at block  that communication cannot be established, for example, because portable fitness monitoring device  is turned off or is out of range of the wireless WAN, download manager  waits a predetermined interval, as shown at block . The process then returns to block , which has been described.","Returning to block , if download manager  determines that the portable fitness monitoring device  is available to receive a download, the process proceeds to block . Block  depicts download manager  automatically downloading the workouts within the next download time interval to the portable fitness monitoring device  using an XML or other appropriate schema. As noted in block , the workout(s) preferably include at least one performance metric that may form the basis of a substantially real time alert during the associated workout. Following block , the process ends at block . Thus, workouts may be downloaded to portable fitness monitoring device  on an as-needed basis rather than all at once, which reduces utilization of storage in portable fitness monitoring device . Of course, in other embodiments, the download interval can be longer than the training plan, and all workouts within the training plan can be downloaded at once.","Referring now to , there is depicted a high level logical flowchart of an exemplary method by which a portable fitness monitoring device  presents comparative performance information in substantially real time in accordance with the present invention. The process begins at block  in response to an athlete  initiating a monitored activity, for example, by selecting a route or planned workout from the internal memory device  of portable fitness monitoring device  and entering a \u201cStart\u201d command utilizing one of input buttons  of portable fitness monitoring device . The process then trifurcates and proceeds in parallel to each of block ,  and .","Block  depicts data formatter  receiving and formatting input data regarding the athlete's activity from readers - as described above. After optional compression by data compressor , the input data received and formatted by data formatter  are recorded by route and performance recorder  within internal memory device  (or audio storage  or a removal memory loaded in removable memory slot ), as depicted at block . The formatting and recording steps shown at blocks  and  are performed for the duration of the fitness activity.","Referring now to blocks -, the operations of training input manager  described above may be extended to present notifications and alerts to the athlete  in substantially real time during the activity. As shown at block , training input manager  determines from the activity-related data recorded by route and performance recorder  whether or an update interval (e.g., an interval time and\/or interval distance) has elapsed. The time and\/or distance update interval(s) are preferably determined by the settings established by settings manager . If a time or distance update interval has not elapsed, the process iterates at block  until a time or distance update interval has elapsed. The process then proceeds to block , which illustrates training input manager  determining whether notifications are currently enabled by reference to the settings established by settings manager . These notifications provide feedback to athlete  of his performance (e.g., distance traveled, pace, split time, heart rate, etc.) in substantially real time without reference to performance goals.","If notifications are not currently enabled, the process passes to block , which is described below. If, however, notifications are currently enabled, training input manager  computes one or more notifications to be presented to athlete  (e.g., distance traveled, pace, split time, heart rate, etc.). Next, training input manager  determines at block  whether or not the current activity is a planned workout within a training plan downloaded to portable fitness monitoring device . This determination can be made based upon the athlete's  selection of a planned workout at block  or by dynamic matching of the route data recorded by route and performance recorder  and route information associated with a workout route downloaded to portable fitness monitoring device . If the current activity is not a planned workout, the process passes to block , which is described below. If the current activity is a planned workout, the process proceeds to block .","Block  depicts training input manager  comparing at least one metric of the athlete's current performance to a corresponding performance goal provided to portable fitness monitoring device  as part of the planned workout. Training input manager  next determines at block  whether or not any alerts should be presented to athlete  based upon the performance comparison performed at block . These alerts may include, for example, the following:","Speed\/pace too slow or too fast","Total distance reached","Heart rate too slow or too fast","Distance or elevation gain milestone reached","Split time too fast or too slow.","The alerts determined at block , if any, are then recorded in association with the reader data in internal memory device  at block  so that the guidance provided to athlete  may be subsequently reviewed. Following a negative determination at block  or following block , training input manager  presents a performance update to athlete  in audible format that includes at least one notification or alert. That is, training input manager  locates an audio track within audio storage  or internal memory device  corresponding to a notification (e.g., \u201cPace is 8:30\u201d) or an alert (e.g., \u201cPace under target by 10 seconds\u201d) and presents the audio track to audio presentation module  for subsequent audible presentation to athlete . Of course, such updates may additionally be presented visually to athlete  by visual presentation module . Thereafter, the process returns to block , which has been described.","Referring now to blocks -, the operation of upload manager  is illustrated. As described above, upload manager  and route and performance recorder  determine at block  whether or not to upload activity-related data based upon one or more criteria, for example, whether WAN transceiver  can acquire a connection to the wireless WAN, the available storage within internal memory device , an indication of whether or not a remote user, such as a competitor athlete, coach, trainer, event organizer, spectator, or friend, is tracking the training of athlete  in real-time, and\/or other criteria. If, based upon these and\/or other criteria, upload manager  decides not to upload activity-related data, the process returns to block . If, however, upload manager  decides to upload the formatted and compressed activity-related data, upload manager  outputs the activity-related data, including any alerts, via WAN transceiver  and antenna  to client computer system  and\/or server computer system  utilizing radio frequency signals . Thereafter, the process returns to block .","With reference now to , there is illustrated a Cartesian graph illustrating the over-reporting of distance traveled by \u201craw\u201d or unprocessed GPS waypoints when GPS receiver  is traveling at low velocity (e.g., less than 30 miles per hour and, more particularly, less than 15 miles per hour). As GPS receiver  is transported by athlete  equipped with the portable fitness monitoring device , GPS receiver  receives GPS signals  from GPS satellites , where each GPS signal  contains a timestamp. From these GPS signals , GPS reader  computes time-stamped waypoints A through O, which are plotted on an arbitrary Cartesian graph. As indicated by the varying spacing between the time-stamped waypoints and the irregular path of route , time-stamped waypoints are subject to at least two types of error, namely, timing error and positional error.","As can be seen, positional readings are based on a timestamp that may or may nor reflect the actual elapsed time between GPS readings. This timing error may be induced by a low performance processor driving GPS receiver  that does not have sufficient cycles to dedicate to GPS processing. Alternatively or additionally, timing error may be inserted by the use of assisted GPS (A-GPS), which requires round trip communication over the wireless WAN to validate a GPS reading, or by local filtering performed by GPS receiver  and\/or GPS reader .","Additional positional error may also be caused by the inherent positional error of commercial (as opposed to military) GPS signals, which is typically between 3-5 meters. Consequently, when the sampling rate of the GPS signal causes more than one sample to be taken during time interval required to traverse the positional error distance, a zigzag route will be reported even if a relatively straight path is followed. As indicated by \u201cflattened\u201d GPS reading , the cumulative distance between adjacent pairs of time-stamped waypoints A through O is thus greater than the true distance traversed  by a delta distance . This distance error will also negatively impact any average or instantaneous velocity computations that depend on a correct reporting of distance traversed.","Referring now to , there is depicted a high level logical flowchart of an exemplary method of GPS filtering in accordance with the present invention. The illustrated method can be performed in hardware (e.g., by GPS receiver ) and\/or in software (e.g., by GPS reader ).","The process begins at block  and then proceeds to blocks -, which illustrates receiving and queuing in a pipeline a new GPS reading including at least a time stamp and a latitude\/longitude duple, and optionally, a positional accuracy\/uncertainty. After some time interval, a subsequent GPS reading is received and queued, as shown at block . Although the present invention is not limited to such embodiments, it will hereafter be assumed that the pipeline holds a maximum of 3 GPS readings, identified in order of receipt as A, B and C. Next, at block , a determination is made whether or not the length of the route segment between the two GPS readings most recently entered into the queue (i.e., B and C) is less than a first threshold, which in one embodiment is based upon (e.g., equal to) the (possibly variable) positional accuracy associated with the readings. If so, the process passes to block , which illustrates discarding the most recent GPS reading (C) from the pipeline. Thereafter, the process returns to block , which has been described.","Returning to block , in response to a determination that the distance traversed between the two most recent GPS readings (B and C) is not less than the threshold, the process bifurcates and proceeds to each of blocks  and . Block  illustrates calculating the velocity of GPS receiver  over the route segments AB, BC and AC based upon the length of the route segments and the time intervals between the GPS readings. Next, the process passes to block , which depicts determining whether or not a GPS reading in the pipeline is errant and should therefore be discarded.","In one embodiment, the middle GPS reading (B) is determined to be errant if:\n\n(velocity )\/velocity )>Threshold2, or\n\n(velocity )\/(velocity )>Threshold2,\n","where \u201cvelocity XY\u201d refers to a velocity over route segment between points X and Y and \u201cThreshold2\u201d is a second threshold. In one embodiment, a second threshold ranging between 2 and 5, and preferably, about 3 is employed.","In response to a determination at block  that a GPS reading in the pipeline is errant, the errant GPS reading is discarded from the pipeline, as shown at block . Thereafter, the process returns to block . If, on the other hand, a determination is made at block  that a GPS reading in the pipeline is not errant, the process proceeds to block . Block  depicts the application of a smoothing algorithm to the GPS readings in the pipeline. In one embodiment, a curve fitting formula, such as least-squares curve fitting, is employed. A less computationally intensive alternative that may be employed is an equally weighted averaging algorithm such as:\n\n(lat\u2032,lon\u2032)=((lat+lat+lat)\/3,(lon+lon+lon)\/3)\n","where latX, lonX is the latitude, longitude duple for GPS reading X and (latB\u2032, lonB\u2032) is a replacement latitude, longitude duple for GPS reading B.","If an uncertainty or error \u201cu\u201d is available for each of GPS readings A, B and C (e.g., the uncertainties are supplied by GPS receiver  or derived based upon a heuristic that may account for the number of GPS satellites  available), a weighted averaging algorithm with possibly different weights for each GPS reading can alternatively be applied to \u201csmooth\u201d GPS reading B as follows:\n\n=(1\/)+(1\/)+(1\/)\n\n1=(1\/)\/\n\n2=(1\/)\/\n\n3=(1\/)\/\n\n(lat\u2032,lon\u2032)=(1*lat2*lat2*lat1*lon2*lon3*lon)\n","Yet another alternative is a partially weighted smoothing algorithm that applies a percentage of emphasis given to the uncertainties \u201cu\u201d:\n\nP=percentage emphasis of uncertainties;\n\n=(1\/)+(1\/)+(1\/)\n\n1=[(1\/)\/+(1\u2212)\/3\n\n2=[(1\/)\/+(1\u2212)\/3\n\n3=[(1\/)\/+(1\u2212)\/3\n\n(lat\u2032,lon\u2032)=(1*lat2*lat2*lat1*lon2*lon3*lon)\n","Experimentally, a value of P=0.5 has been found to be effective in smoothing GPS readings.","Following block , the oldest GPS reading (C) is output from the pipeline at block  and recorded as route data. A determination is then made at block  whether or not more \u201craw\u201d GPS readings will be received for the current route (e.g., whether a \u201cStop\u201d input has been received in response to manipulation of an input button ). If not, the process returns to block , which has been described. If, however, no more \u201craw\u201d GPS readings will be received for the current route, the process passes to block , which illustrates outputting and recording as route data any remaining GPS readings in the pipeline. Thereafter, the process ends at block .","The smoothed GPS data output from the pipeline is preferably what is recorded by route and performance recorder  within internal memory device . The process depicted in  can alternatively be implemented by software on a remote data processing system (e.g., server computer system  or client computer system ) to correct the GPS data by post-processing or in real time. If the GPS data is corrected in real-time by the remote data processing system (e.g., server computer system ), the corrected GPS data can be transmitted back to the source portable fitness monitoring device  or other GPS-enabled device for presentation or analysis.","With reference to , in addition to the types of errors described above, in one embodiment time-stamped waypoints may be subject to an additional type of error. Specifically, the characteristics of certain external environments may deflect or otherwise interfere with GPS signals  emitted from GPS satellites , which may cause false GPS readings by potable fitness monitoring device .","For example, GPS readings taken during a monitored fitness activity where the athlete  is near tall buildings or other closely spaced vertical features may include errors induced by the deflection of the GPS signals off of these vertical structures. Accordingly, the GPS readings and performance parameters that may depend therefrom (such as speed and distance) may be diminished in accuracy. Environmental characteristics that may interfere with GPS readings taken during a monitored fitness activity may include, for example, buildings, trees, hills, mountains, canyon or narrow valley walls, nearby bodies of water such as lakes or rivers, bridges, overpasses, and tunnels.",{"@attributes":{"id":"p-0180","num":"0179"},"figref":["FIG. 7C","FIG. 7E"]},"However, in an embodiment of the present invention, processing may advantageously be applied to make smart assessments of probable locations of the GPS readings based on map path data and\/or historical route data collected from portable fitness monitoring devices  and to make corresponding adjustments to one or more of the raw GPS waypoints comprising the recorded route.  illustrate how adjusting the routes depicted in , respectively, may yield a more probable route. In an embodiment, topographical data, which may include, for example, data regarding elevation or other surface feature data may also be used in making smart assessments.","Accordingly, in one embodiment of the present invention, a method for displaying a route traversed by an athlete equipped with a location-aware portable fitness monitoring device  may include one or more steps. First, data is received describing a plurality of GPS waypoints that are acquired as the athlete  engages in a fitness activity. Then, a map area is identified based on a location indicated by the data describing the plurality of GPS waypoints. Next, the route traversed by the athlete is determined based on the data describing the plurality of GPS waypoints. Finally, the route traversed by the athlete is displayed on top of the map area.","The above mentioned steps may be executed, for example, using a processor (such as CPU ) located within the portable fitness monitoring device, using the server , using a remote computer , or using one or more processors located within two or more of these devices. Furthermore, the GPS data and\/or corresponding may be corrected by post-processing or in real time.","As descried in further detail above, the system according to an embodiment of the present invention may preferably access a local or remote map database  that stores path information in association with at least latitude and longitude information, and preferably elevation information. In an embodiment, the map database  may include one or more path data layers. A path data layer may define paths by stored path segments that extend between nodes that correspond to path intersections.","In one embodiment, the route traversed by the athlete  is determined based on the location of one or more known paths associated with the map area. Paths associated with the map area may include paved paths such as paved roads, paved bike paths, or sidewalks. Paths may also include unpaved surfaces such as, for example, gravel or dirt roads or paths, hiking or biking trails, or any other known paths capable of being used for fitness activities.","In an embodiment, the route determination is made by comparing the locations indicated by the data describing the plurality of GPS waypoints with the locations of points along the one or more known paths associated with the map area.","For example, if the distance between a latitude\/longitude duple associated with a GPS waypoint and a latitude\/longitude duple of a point along a known path is less than a predetermined minimum distance (e.g., +\/\u221210 meters), then the location of the GPS waypoint may be discarded in favor of the location of the point along the known path. In other embodiments, two or more points making up a route segment may be compared to two or more points of a known path in order to determine if a location substitution is necessary.","In one embodiment of the present invention, when it appears that the athlete  traversed a route entirely composed of one or more known paths, the entire route may be \u201clocked\u201d to locations(s) of the closest available path(s) at any given time along the route.","However, the location of the point along the known path need not be entirely substituted for the location of the recorded GPS waypoint. In an embodiment, the location of the relevant point along the route may be determined by factoring in both the location of the GPS waypoint and the location of the point along the known path. In one embodiment, the locations may be averaged and the location of the relevant point along the route may be determined to be in between these two points. Various weightings may be applied based on a variety of criteria that may weigh in favor of locating the final pathway closer to the location of the recorded GPS waypoint in some situations and closer to the point along the known path in other situations.","In one embodiment, the route traversed by the athlete  is determined based on the location of one or more known routes previously traversed by a person equipped with a location-aware portable fitness monitoring device. These known previously traversed routes may or may not follow one or more known paths associated with the map area data, as described above. In some embodiments, at least one of the one or more known routes may have been previously traversed by the athlete . In other embodiments, at least one of the one or more known routes may not have been previously traversed by the athlete .","A local or remote database may store the known routes previously traversed in association with at least latitude and longitude information, and preferably elevation information. Such a database may be, for example, route database  of server , as described above.","In an embodiment, the route determination is made by comparing the locations indicated by the data describing the plurality of GPS waypoints with the locations of points along the one or more known routes previously traversed.","For example, if the distance between a latitude\/longitude duple associated with a GPS waypoint and a latitude\/longitude duple of a point along a known routes previously traversed is less than a predetermined minimum distance (e.g., +\/\u221210 meters), then the location of the GPS waypoint may be discarded in favor of the location of the point along the known routes previously traversed. In other embodiments, two or more points making up a route segment may be compared to two or more points of a known routes previously traversed in order to determine if a location substitution is necessary.","In one embodiment of the present invention, when it appears that the athlete  traversed a route entirely composed of one or more known routes previously traversed, the entire route may be \u201clocked\u201d to locations(s) of the closest available previous route(s) at any given time along the route.","However, the location of the point along the known routes previously traversed need not be entirely substituted for the location of the recorded GPS waypoint. In an embodiment, the location of the relevant point along the route may be determined by factoring in both the location of the GPS waypoint and the location of the point along the known routes previously traversed. In one embodiment, the locations may be averaged and the location of the relevant point along the route may be determined to be in between these two points. Again, various weightings may be applied based on a variety of criteria that may weigh in favor of locating the final pathway closer to the location of the recorded GPS waypoint in some situations and closer to the point along the known route previously traversed in other situations.","In an embodiment, when determining the route traversed by the athlete  based on one or more known routes previously traversed, whatever the precise calculation, any previous routes that were previously traversed by the athlete  himself may be given more weight in the relevant calculation than those previous routes that were not previously traversed by the athlete himself.","In other embodiments, both a known path associated with the map area and a known route previously traversed may be used in determining the route traversed by the athlete .","In one embodiment, a user may be able to adjust the device or system settings to determine which sources to use to determine the \u201cfinal\u201d version of the route traversed. For example, the user may be able to choose to have the final route determined based on: (1) recorded GPS waypoints only, (2) \u201clocking\u201d the route to the closest available path(s)\/previously traversed route(s), or (3) using processing to make a smart assessment based on a combination of (1) and (2).","In another embodiment, route adjustments are made when necessary according to the following sequence of events. First, a determination is made as to whether a raw GPS waypoint corresponds to a known path associated with a map area. If such correspondence exists, the process makes adjustments to each GPS waypoint that deviates from the known path. If the raw GPS waypoints do not correspond to a known path associated with the map area from a map database, then a lookup into the known previously traversed route database is performed to determine if an existing known previous route has already been mapped in the system. If such correspondence exists, the process makes adjustments to each GPS waypoint that deviates from the known previously traversed route.","In some embodiments of the invention, a software module similar to route matching module , described in further detail below, may be employed to determine the route traversed by the athlete.","In other embodiments, raw GPS waypoints are provided to the athlete's  training journal database  on server , and the athlete  or other authorized user may later choose to employ one or more of the route error correction methods described above (i.e. post activity processing).","After the route traversed by the athlete is determined, the route may be displayed superimposed on the relevant map area. In various embodiments, the route may be displayed on the map on the portable fitness monitoring device  carried by the athlete  and\/or the route may be displayed on the map on a remote computer .","The correction of the errors caused by the characteristics of certain external environments, as described above, may take place before, after, or simultaneously with the correction of errors due to the timing or positional errors described above. In some embodiments of the present invention, one or all of the preceding error correction methods may be omitted.","Accordingly, these methods may provide much better accuracy of measurements for both urban and rural fitness activity routes that will continue to get better over time as the content of the user-generated, known previously traversed route database grows.","While the correction of certain satellite navigational system errors has been described above with respect to a GPS system, as indicated previously, embodiments of the present invention may also encompass other global or regional satellite navigational systems in addition to, or instead of, GPS such as, for example, the European Union's Galileo system, Russia's GLONASS system, China's Compass system, or any other known or future developed satellite navigational systems.","With reference now to , there is depicted a high level logical flowchart of an exemplary method of automatically presenting comparative split information to an athlete in substantially real-time in accordance with the present invention. The process can be implemented, for example, as an extension to training input manager  of .","The process begins at block  in response to an athlete  initiating a monitored activity, for example, by entering a \u201cStart\u201d command utilizing one of input buttons  of portable fitness monitoring device . The process then proceeds to block , which illustrates a determination of whether or not athlete  is traversing a route previously traversed by athlete . In a preferred embodiment, the determination depicted at block  can be made in response to athlete  input (e.g., the athlete  selecting a route or planned workout from the internal memory device  of portable fitness monitoring device ) or can be made dynamically by route matching.","In response to a determination at block  that the route being traversed is known to be a route that was previously traversed (e.g., because of athlete  input), the process proceeds to block , which illustrates training input manager  requesting and receiving a download from server computer system  of split information for the current route stored within the athlete's  personal training journal within training journal database . The split information, which preferably provides a split for each equal sized route segment (e.g., quarter mile, half kilometer, etc.), may indicate a most recent, average and\/or personal record split time for the athlete . Based upon the split information, training input manager  generates and presents a performance update to athlete  in audible format, as described above with respect to block  of  (block ). That is, training input manager  locates an audio track within audio storage  or internal memory device  corresponding to the alert (e.g., \u201cMile  under PR by 6 seconds\u201d) and presents the audio track to audio presentation module  for subsequent audible presentation to athlete . Of course, such alerts may additionally be presented to athlete  by visual presentation module .","The process next passes to block , which depicts training input manager  determining whether or not the route has been completed, for example, by determining whether athlete  has indicated \u201cStop\u201d utilizing one of input buttons  and\/or by determining whether a known terminal waypoint of the route has been reached. If training input manager  determines at block  that athlete  has completed the route, training input manager  optionally uploads the split information for each segment of the route to the athlete's personal training journal within training journal database  on server computer system . (Data recorder module  of server computer system  could recompute the split information to reduce data transmission over the wireless WAN.) Thereafter, the process ends at block .","Referring again to block , in response to training input manager  determining that athlete  is traversing an unknown route, the process proceeds to block . Block  illustrates training input manager  uploading the GPS reading at a first or next split distance (e.g., 0 miles, \u00bc mile, etc.) to a route matching module  running on server computer system . In response to receipt of the GPS reading, route matching module  compares the location specified by the GPS reading with previously traversed routes recorded within the athlete's personal training journal within training journal database  on server computer system  (block ). If no location match with a previously traversed route is found within a given range (e.g., +\/\u221210 meters), the process passes to block , which illustrates route matching module  determining whether or not a possible match still may exist (e.g., whether a previously traversed route is found within 2000 meters of the GPS reading received from portable fitness monitoring device ).","If route matching module  determines at block  that a match may still be possible, the process returns to block , with route matching module  optionally signaling training input manager  that no match has been found but that a match is still possible. If, on the other hand, route matching module  determines that no match is possible (e.g., no previously traversed route was found within 2000 meters of the GPS reading received from portable fitness monitoring device ), the process ends at block , with route matching module  optionally signaling training input manager  that no match has been found or is still possible.","Returning to block , in response to route matching module  determining that a matching previously traversed route resides in the athlete's personal training journal, route matching module  downloads split information for the route to training input manager , as illustrated at block . Training input manager  then utilizes the downloaded split information to generate and presents a performance update to athlete  in audible and\/or visual format in substantially real time, as described above with respect to block  of  (block ). Training input manager  thereafter monitors the GPS data recorded by route and performance recorder  as shown at block  to determine whether athlete  remains on the matched route downloaded from server computer system . If training input manager  determines that athlete  is remaining on the matched route downloaded from server computer system , training input manager  continues to present comparative split information, as depicted at block .","If, however, training input manager  determines that athlete  has left the matched route, training input manager  further determines at block  whether athlete  has finished the route, for example, by determining whether athlete  has indicated \u201cStop\u201d utilizing one of input buttons  and\/or by determining whether a known terminal waypoint of the matched route has been reached. If training input manager  determines at block  that athlete  has not finished the matched route, training input manager  attempts to match a new route, as indicated by the process returning to block . If, however, training input manager  determines at block  that athlete  has finished the matched route, the process passes to blocks  and , which have been described.","Referring now to , there is depicted a block diagram of exemplary playlist management architecture in accordance with the present invention. For clarity,  illustrates only those portions of server computer system  and portable fitness monitoring device  helpful in gaining an understanding of the invention. As depicted, the playlist architecture includes a server playlist management component , a track library  containing songs and\/or other audio tracks, and a track preferences database  residing at or accessible to server computer system . The playlist architecture optionally includes an auxiliary track library  containing additional songs and\/or other tracks that may be accessed to augment the contents of track library . Auxiliary track library  may reside on a client computer system  or at a commercial music distribution service licensed to distribute tracks. In order to comply with copyright laws, access to each track in track library  may be restricted by server playlist management component  to only those users having a license to the track (e.g., as evidenced the user uploading the track directly from auxiliary track library  through selection of a hyperlink provided in a web page served by server playlist management component  and HTTP server ).","Server playlist management component  is coupled for communication by a communication network  (e.g., Internet  and the wireless WAN) to a client playlist management component  residing on portable fitness monitoring device . Client playlist management component  receives a set of substantially real-time inputs , which may be provided, for example, by external sources (e.g., server computer system  or other web servers) coupled to communication network  and\/or by readers -. Inputs  may include, for example, weather conditions, athletic performance (e.g., pace, heart rate, distance, etc.), surface type (e.g., paved or unpaved), adjacent scenery, grade (e.g., uphill, flat or downhill), and point-of interest information (addressed in further detail below). Client playlist management component  is further coupled to audio storage .","As described in greater detail below, the playlist architecture enables the creation of custom and\/or dynamic playlists that will enhance an athlete's  activity (e.g., workout). For example, tracks may be played during the activity to motivate, relax or reward an athlete or establish a desired pace for selected segments of a route. Because tracks may be used for motivational purposes, the playing of a track may be tied to the wireless receipt of motivation-related data from a remote user, as described above.","With reference now to , there is depicted an exemplary method of pre-processing an audio track to determine a corresponding activity pace in accordance with the present invention. As depicted, the process begins at block  in response to designation of an audio track to be processed, for example, by a user invoking the uploading of a track to track library . The process then proceeds to block , which depicts server playlist management component  applying an audio filter  to the track to determine a tempo for the track, for example, in beats per minute. Server playlist management component  then determines at block  a corresponding pace for at least one athletic activity (e.g., running, hiking, cycling, etc.) based upon the track tempo and an estimated distance traversed per repeated motion (e.g., stride, pedal revolution, etc.) matching the tempo. Server playlist management component  next stores the audio track (or at least an identifier thereof) in track library  in association with one or more associated paces. Thereafter, the process ends at block .","Referring now to , there is depicted a high level logical flowchart of an exemplary method of constructing a user playlist in accordance with the present invention. The process begins at block , for example, in response to a user logged into server computer system  and viewing a route in his training journal via a GUI presented by training journal interface  invoking a playlist wizard  within server playlist management component . The process then proceeds to block , which depicts the playlist wizard  of server playlist management component  calling training journal interface  to present a GUI containing a selected view (e.g., an elevation view) of the route. The visual presentation of the route is preferably demarked into a plurality of route segments based upon, for example, substantial changes in route grade, predetermined distances, landmarks or other points-of-interest adjacent the route, user input, etc. The user may be permitted to change the location on the route of the demarcation between segments, for example, by manipulating the location of a line representing a segment interface utilizing a graphical pointer.","Next, at block , playlist wizard  obtains a pace for each of the route segments comprising the route. For example, playlist wizard  may utilize a user-entered pace or an athlete's  historical average pace (for the specific route or overall) as the base pace for the route and, from the base pace, calculate a pace for each route segment based upon the average grade of each route segment. Alternatively, playlist wizard  may use one or more paces associated with the route by a workout in a training plan. The pace for each route segment may desirably be graphically indicated on the elevation view of the route with a respective attribute (e.g., color or pattern) and\/or numeric label (e.g., presented in a flyover popup label presented when a graphical pointer is positioned over a route segment).","As depicted at blocks -, playlist wizard  permits the user to build a playlist for the route by associating one or more tracks from track library  and\/or auxiliary track library , for example, by dragging one or more tracks presented within a picklist to specific locations on the graphical presentation of the route. In addition, playlist wizard  may automatically (e.g., in response to user selection of an \u201cAutofill\u201d button with a graphical pointer) associate one or more tracks to portions of route segments not currently having associated tracks by matching (within a range) the pace of each track from track library  as determined at block  with the pace of a route segment as obtained at block . This automatic playlist construction may further be informed by user preferences, which may be entered as described below with reference to .","The process proceeds from block  to block , which illustrates storing the playlist within the athlete's  personal journal in training journal database  such that the beginning of each track is associated with a particular location on the route. As indicated at block , the playlist is optionally published to the community along with the route, for example, in response to a user selecting \u201cPublish\u201d button  of .","As depicted at blocks  and , when the route is subsequently downloaded to a portable fitness monitoring device , for example, in response to an input invoking the download or in response to download manager  automatically pushing the route to the portable fitness monitoring device , the playlist is downloaded in association with the route. In this manner, the tracks within the playlist may be played at appropriate points along the route, as described below with reference to .","With reference now to , there is illustrated a high level logical flowchart of a location-based method of presenting audio tracks as a route is traversed in accordance with the present invention. The illustrated process may be performed, for example, by audio presentation module  of portable fitness device client .","As illustrated, the process begins at block  and then proceeds to block , which depicts audio presentation module  receiving a new GPS reading from GPS reader  or route and performance recorder . At blocks  and , audio presentation module  then determines by reference to route information within internal memory device  whether the current GPS reading is within a predetermined range of a point on the route and, if so, whether a track within a playlist is associated with the point on the route. If either of the determinations depicted at blocks  and  is negative, the process returns to block , which has been described. If, on the other hand, both of the determinations at blocks  and  are affirmative, audio presentation module  further determines at block  whether or not it is already playing the track associated with the matching point on the route. If so, the process returns to block , which has been described. If, on the other hand, the track is not already being played, audio presentation module  plays the track, as illustrated at block .","As depicted at block , if the route is complete, as indicated, for example, by an athlete  input received by the portable fitness monitoring device  via input buttons , the process ends at block . If the route is not complete, the process returns to block , which has been described.","Referring now to , there is depicted a block diagram of an exemplary graphical user interface (GUI)  through which user audio preferences may be entered in accordance with the present invention. GUI  may be presented within a browser interface on client computer  by user preferences package  of server playlist management component , for example, in response to a user establishing an account with server computer system  or in response to a user logging into server computer system  and entering an indication of a desire to enter playlist preferences.","As shown, GUI  includes a track library window in which a list of tracks is presented. Entries in the track list may include information such as a track name, track length, genre and corresponding pace (e.g., determined as depicted in ). Of course, entries in the track list may include additional information, such as an artist and\/or album name, track price, etc. In response to a user input associated with a track in the track list, for example, a user right-clicking on an entry with graphical pointer  and then making a selection of a \u201cPlaylist Preferences\u201d entry from a drop down list, user preferences package  causes a playlist preferences window  to be presented within GUI .","Playlist preferences window  presents a number of GUI components that gather information regarding when the user would want the athlete  to hear a particular track. In the depicted embodiment, playlist preferences window  includes radio buttons  that the user can select with graphical pointer  to indicate what grade (e.g., uphill, flat, or downhill), activity phase (e.g., warm-up or cool down), tempo influence (e.g., slow down, maintain, or accelerate), weather (e.g., hot, cold, wet, or windy), or point-of-interest the user wants to associate with the selected track. In an embodiment, the user may also be able to use playlist preferences window  to associate a selected track with a particular remote user in regard to the receipt of motivational-related data from the remote user. In addition, playlist preference window  includes a text box  and associated \u201cBrowse\u201d button  that a user may employ to enter a name of a scenic location, type of scenery, or other point-of-interest with which the user desires to associated the selected track.","In addition to track specific preferences, user preferences package  preferably further collects the user's general track preferences, such as preferred genres of music, preferred activity phases for which presentation of tracks is enabled or disabled, etc., via one or more unillustrated graphical user interfaces. Using one or more of the track-specific and\/or general preferences, the playlist architecture of the present invention can dynamically create and present a playlist to a user in association with an activity.","With reference now to , there is illustrated a high level logical flowchart of an exemplary method of dynamic playlist management in accordance with the present invention. The depicted process can be performed remotely by client playlist management component  of portable fitness monitoring device , by server playlist management component  on server computer system  utilizing communication with portable fitness monitoring device  over communication network , or a combination of the two. The depicted method of dynamic playlist management can be performed in response to a user input or automatically as a default mode of operation in the absence of user designation of a particular playlist or user designation of a route with an associated user-constructed playlist.","As illustrated, the process begins at block  and then proceeds to block , which illustrates playlist management component  or  receiving a set of substantially real-time inputs  from external sources (e.g., server computer system  or other web servers) coupled to communication network  and\/or by readers - within portable fitness monitoring device . As described above, the set of inputs  can include, for example, weather conditions, athletic performance (e.g., pace, heart rate, distance, etc.), surface type (e.g., paved or unpaved), adjacent scenery, route grade (e.g., uphill, flat or downhill), or other points-of-interest. In response to receipt of inputs , playlist management component  or  determines at blocks , , , and  whether inputs  indicate a particular activity phase (e.g., warm-up or cool down), a particular grade (e.g., uphill or downhill), proximity to a particular scenic input or other point-of-interest, or an environmental (e.g., weather) condition. If not, the process proceeds through page connector A to block , which is described below. If, on the other hand, inputs  indicate a particular activity phase, a particular grade, or a particular environmental or scenic input or other point-of-interest, the process proceeds to blocks -.","Blocks - depict playlist management component  or  determining whether the detected input has an associated track based upon the athlete's playlist preferences (e.g., playlist preferences entered utilizing GUI  of ) and, if so, whether the general preferences have enabled or disabled playing the track for the particular input. If an associated track is identified and its playing is enabled, the process passes to block , which illustrates a determination of whether or not the associated track is already playing. If so, the process returns to block , which has been described. If not, the process proceeds to block , which illustrates a determination regarding whether or not the track has recently been played, for example, in a user-selectable or predetermined non-repeating interval (e.g., 5 minutes). If so, the process returns to block , representing a determination of whether or not an alternative track is associated with the triggering input. If a determination is made at block  that the associated track determined at block  has not recently been played, the process passes to block .","Block  illustrates playlist management component  or  accessing or causing the associated track to accessed, for example, from audio storage , track library  or auxiliary track library . Presentation of the associated track by audio presentation module  is then invoked, as depicted at block . Thereafter, the process returns to block , which has been described.","Returning to block , a determination is made by reference to the pace and\/or location or other inputs received at block  whether the activity has been completed. If so, the process depicted in  ends at block . If, however, a determination is made at block  that the activity has not been completed, the process proceeds to block , which depicts playlist management component  or  selecting a track from audio storage  or track library  corresponding to the current pace of athlete . Playlist management component  or  then invokes presentation of the selected track, as shown at block . Thereafter, the process returns to block , which has been described.","It will be appreciated by those skilled in the art that although the methods of  have been described with particular reference to use by an athlete , it will be appreciated that the playlist management methodologies disclosed herein may be applied more generally to provide audio presentation services based upon a user's environment and\/or location. Thus, for example, the services may be advantageously utilized by tourists, persons commuting in cars, buses, trains, etc.","In the case of athletes, location-based outputs may be provided to the athlete  in a variety of ways for a variety of different points-of-interest. Points-of-interest may include, for example: historically significant locations or structures; facilities of particular interest to competing athletes such as race starting lines, race finish lines, race registration booths, or bandstands\/stages or other entertainment facilities along the race course; or facilities of interest to athletes or members of the general public such as bathroom facilities, a source of drinkable water, an establishment selling food and\/or drinks, an athletic apparel store, entrances to pedestrian bridges, or other locations or structures that may be of interest to the athlete . Points-of-interest need not be limited to stationary structures or inanimate objects. For example, in an embodiment, the point-of-interest may be the location of one or more friends, family members, or coaches stationed along the race course or route. If the friend, family member, or coach is carrying a location based device, the location of the point-of-interest associated with that person may change as the person moves and may be tracked by the system of the present invention.","In one embodiment of the present invention, a method of providing a location-based output to an athlete  equipped with a location-aware portable fitness monitoring device may include one or more steps. First, data is received describing a GPS waypoint that is acquired as the athlete engages in a fitness activity. Then, a point-of-interest is identified. Finally, a location-based output is provided to the athlete  based on the identification of the point-of-interest.","The above mentioned steps may be executed, for example, using a processor (such as CPU ) located within the portable fitness monitoring device , using the server , using a remote computer , or using one or more processors located within two or more of these devices. Furthermore, the point-of-interest output may be provided to the athlete  in real time or before or after completing a fitness activity.","Identifying a point-of-interest may include comparing a location indicated by the data describing the GPS waypoint to a location associated with the point-of-interest, and comparing the athlete's  location-based output preferences to characteristics associated with the point-of-interest.","Potential points-of-interest may be accessed by embodiments of the system of the present invention either locally or from a remote point-of-interest database, which may or may not be included within map database . Potential points-of-interest accessed locally may be saved in memory (such as internal memory ) of the portable fitness monitoring device , and, in some embodiments, may be downloaded to the portable fitness monitoring device  along with a workout that is downloaded to the device . Potential points-of-interest accessed remotely may be accessed from a database housed in server  or from another suitable remote point-of-interest database.","The pool of potential points-of-interest may include a plurality of points of interest that are associated with at least latitude and longitude information (i.e. location information) and one or more characteristics about the points-of-interest. For example, characteristics associated with a point-of-interest may include whether or not the point-of-interest is historical in nature, relates to an athletic competition, relates to food and beverages, etc.","In an embodiment, a determination is made as to whether the distance between the location indicated by the data describing a GPS waypoint and the location associated with a potential point-of-interest is less than a minimum distance (e.g., +\/\u221210 meters).","With regard to matching user point-of-interest preferences to characteristics of the potential points of interest, a point-of-interest management component may exist that may function similarly to playlist management components  or , described above. Specifically, a point-of-interest management component, or other suitable processing means (such as processor ), may determine whether or not the athlete's preference settings indicate that the athlete  would like to receive point-of-interest information related to a particular potential point-of-interest.","For example, in one embodiment, the athlete  equipped with the portable fitness monitoring device  may be running in an organized race along a set race course. Race organizers or other users may have created or otherwise enabled access to a database containing a plurality of points-of-interest related to the race. As described above, points-of-interest may include things such as the race starting line, race finish line, the race registration booths, and water stations along the race course. Prior to participating in the organized race, the athlete  may download the point-of-interest data to his portable fitness monitoring device. During the course of the race, the portable fitness monitoring device  may provide a location-based output to the athlete  based on the athlete nearing a point of interest. In this case, because race organizers predetermined that the pool of points-of-interest would be relevant to all race participants, there may not be a need for the athlete  to set preferences regarding the types of point-of-interest alerts the athlete  would like to receive. However, in an embodiment, the athlete may use their device preference settings to indicate, for example, that they do not need to be notified of the location of water stations along the course. In alternate embodiments, the athlete  may download point-of-interest data in substantially real time as the athlete  traverses the course.","In another exemplary embodiment, a recreational athlete  may decide to go on a bike ride on a Sunday afternoon. The athlete  may decide to ride to and around a city park having a variety of bike paths. Because they athlete  has not decided precisely which paths he may be riding on prior to departing on the trip, relevant point-of-interest may have to be download to his portable fitness monitoring device  in real-time as the athlete  rides his bike. The city park may contain several statues or other structures of historical significance. Some athletes  may enjoy being provided with historical point-of-interest information while on a leisurely bike ride through the park, while others may prefer to not receive such information (these athletes  may, for example, prefer to listen to music via their portable fitness monitoring device ). Accordingly, the athlete  may adjust their device or account settings accordingly prior to departing on the bike ride through the park.","In an embodiment, the athlete  may have established default settings at a previous time that will apply to this activity. As the athlete  approaches potential points-of-interest, a processor (such as CPU ) will determine, based on location and the athlete's  preferences, whether or not to provide a location based output to the athlete, as described above.","Several different types of location-based outputs based on points-of-interest may be provided to the athlete . As described above with reference to , in one embodiment, music tracks may be output based on the identification of a point-of-interest. Suitable outputs may also include textual, audio, video, image-based, or tactile (e.g. vibrations). In an embodiment, the video output may be an animation. In one embodiment, two or more of textual, audio, video, and image-based, or tactile outputs are included in the location-based output.","The location based outputs may also convey different types of information in different ways. In an embodiment of the present invention, the mere existence of a nearby point-of-interest may be indicted by, for example, an audio tone, the illumination of an LED, or a vibration. Such output may be sufficient, for example, for an athlete  running in a race each time the athlete  approaches a water station.","In one embodiment, a nearby point-of-interest may be indicated by, for example, a relatively short message such as \u201cWater station,\u201d \u201cBathroom approaching,\u201d \u201cPedestrian bridge on your right,\u201d or \u201cWashington Monument on your left in 25 meters.\u201d Such relatively short messages may be conveyed, for example, textually, audibly, or visually.","In another embodiment, a nearby point-of-interest may be indicated by, for example, a relatively long narrative message such as, for example. \u201cThe Washington Monument appears on your left. The Washington Monument is an obelisk near the west end of the National Mall in Washington, D.C., built to commemorate the first U.S. president, General George Washington. The monument, made of marble, granite, and sandstone, is the world's tallest stone structure . . . \u201d As is understood by those of skill in the art, such relatively long narrative messages may most easily be conveyed to athlete  audibly.","Point-of interest information may also be used to define or chose an appropriate route for an athlete . In an embodiment of the present invention a route may be selected based on a user's preferred point-of-interest settings. Route selection may occur in accordance with the route wizard  feature described above, or by means of any other suitable user interface on the portable fitness monitoring device  or on a remote computer .","In an embodiment, the user may be prompted to specify point-of-interest parameters for a potential route. In particular, the user may be able to specify a location of the desired route by entering a known ZIP code or city name that includes several known points of interest, or by simply entering or selecting one or more specific points of interest or categories of points of interest. For example, a route may be selected or created based on a user's indication that they are interested in seeing the Capitol Building, the Washington Monument, and the Lincoln Memorial in Washington, D.C. The user may further indicate features such as the desired length of their activity (e.g. 5K of distance or a 30 minutes). After a suitable route is selected or created, the athlete  may traverse the route and receive point-of-interest information about these landmarks.","In one embodiment, the user may be presented with a map indicating the location of several points of interest and the user may select one or more of the displayed points of interest to indicate that they would like a route that passes by the selected points of interest.","Referring now to , there is depicted a high level logical flowchart of an exemplary method of publishing a challenge route to an online user community in accordance with the present invention. As shown, the process begins at block , for example, with a user such as an athlete , competitor athlete, coach, trainer, event organizer, spectator, or friend, logging into server computer system  from a client computer  and invoking the display by training journal interface  of a particular route in an athlete's  personal training journal within training journal database  that has been traversed by the athlete . One exemplary GUI for viewing a traversed route is described above in detail with reference to .","The process then proceeds from block  to block , which depicts the user designating the particular route as a \u201cchallenge\u201d route, for example, through interaction with a GUI displayed as a result of the selection of \u201cPublish\u201d button  of  utilizing graphical pointer . In response to designation of the particular route as a challenge route, route generation and publication module  computes a point value for the challenge route, for example, based upon the total distance and cumulative elevation gain of the uphill portions of the route (block ). Route generation and publication module  then publishes the route in route database  for selection and download to the portable fitness monitoring devices  of other members of the service community. Thereafter, the process ends at block .","With reference now to , there is illustrated a high level logical flowchart of an exemplary method of staging the device-assisted traversal of a challenge route in accordance with the present invention. As depicted, the process begins at block  and then proceeds to block , which illustrates training input manager  of portable fitness monitoring device  determining if a user, such as athlete , has entered an input (e.g., using input buttons ) signifying the selection of a challenge route previously downloaded to internal memory device  of portable fitness monitoring device . (The meta-data associated with the route in internal memory device  preferably indicates whether a downloaded route is a challenge route.) If not, other processing is performed, as depicted at block .","In response to a determination by training input manager  that a challenge route has been selected for traversal, training input manager  further determines at block  whether directions to the starting point should be presented. For example, training input manager  may determine if athlete  has entered an additional input requesting such directions or has simply not canceled the presentation of such directions. If a determination is made at block  that no directions are needed or desired, the process proceeds to block , which is described below. If, however, a determination is made at block  that directions to the starting point of the route are needed or desired, training input manager  calls audio presentation module  and\/or visual presentation manager  at block  to present turn-by-turn audible direction and\/or a map to guide athlete  to the starting point of the challenge route. This functionality is particularly helpful if the challenge route is off-road.","The process proceeds from block  to block , which illustrates training input manager  determining by reference to the GPS readings provided by GPS reader  whether or not athlete  has transported portable fitness monitoring device  to the starting point of the challenge route (e.g., within a positional error range (5 meters) of the starting location). If not, the process returns to block , which has been described. If, however, training input manager  determines at block  that athlete  has transported portable fitness monitoring device  to the starting point of the challenge route, the process passes to block .","Block  depicts training input manager  calling audio presentation module  to present an audible start message to the athlete  from audio storage . For example, the start message may state, \u201cForward motion will start timing the challenge route.\u201d Following presentation of the start message, training input manager  monitors GPS readings provided by GPS reader  at block  for forward motion of portable fitness monitoring device  along the challenge route. When forward motion is detected, the process proceeds to block , which depicts training input manager  calling audio presentation module  and\/or visual presentation manager  to present real-time turn-by-turn audible direction and\/or a map to guide athlete  along challenge route in response to GPS readings provided by GPS reader . Training input manager  may also present comparative performance or split information as the challenge route is traversed, for example, indicating comparative overall performance or splits with respect to a previous best time for traversing the challenge route (e.g., \u201cYou are 10 seconds off of best time\u201d). Presentation of directional assistance continues until training input manager  determines an end point of the challenge route. Thereafter, the process ends at block .","Referring now to , there is depicted a high level logical flowchart of an exemplary method of presenting the results of a traversal of a challenge route in accordance with the present invention. The process begins at block  and the proceeds to block , which illustrates data recorder module  running on server computer system  receiving data recorded for a route traversed by a portable fitness monitoring device  from upload manager  running on the portable fitness monitoring device  and recording the data in an athlete's personal training journal within training journal database . Upload manager  preferably transmits the data in conjunction with a parameter indicating whether or not the route for the data were collected is a challenge route, permitting data recorder module  to determine whether the data is for a challenge route, as shown at block . If the data is not for a challenge route, the process ends at block . If, however, data recorder module  determines at block  that the data is for a challenge route, the process proceeds to blocks -.","Block  depicts data recorder module  computing feedback regarding the traversal of the challenge route. For example, based upon the route data and other results for the same route contained in training journal database , data recorder module  may compute an absolute ranking of the total time for the route traversal (e.g., an overall and age-bracketed ranking) and a normalized ranking for the route traversal. The normalized ranking may compensate for factors such as wind speed and direction, athlete age, how long the athlete has been training, and\/or temperature to correctly \u201chandicap\u201d diverse environment conditions and athletic abilities. As shown at block , data recorder module  then downloads to portable fitness monitoring device  feedback information regarding the traversal of the challenge route. For example, data recorder module  may transmit the absolute and normalized rankings, as well as points earned by the athlete  for the traversal of the challenge route and a cumulative point total for all challenge routes traversed by the athlete . The feedback data transmitted by data recorder module  to portable fitness monitoring device  are received by training input manager  and then presented by visual presentation module  and\/or audio presentation module . The process depicted in  then terminates at block .","In an embodiment, a challenge race may be staged in between a plurality of athletes  each equipped with location-aware portable fitness monitoring devices , where the athletes may or may not be traversing routes in the same physical location.","Challenge races traversed simultaneously by several athletes may be tied to routes so designated as a challenge route by an athlete  or other user, as described above with respect to . In an embodiment, the challenge route need not be a route previously traversed and recorded by an athlete, but may be a route built entirely from scratch by an athlete  or other user. The challenge route may or may not have a point value assigned to it, also as described above. In other embodiments, the challenge race is not tied to any particular route, but is defined by other parameters.","Challenge races staged among several athletes simultaneously may or may not be staged similarly to the staging of the traversal of a single athlete challenge route race, as described above with respect to .","In an embodiment of the present invention, a method of staging a race between a plurality of athletes each equipped with a location-aware portable fitness monitoring device  may includes one or more steps. First, each portable fitness monitoring device accesses information related to the particular challenge race from one or more memory units. Then, based on this information, the portable fitness monitoring device notifies each of the participating athletes that it is time to begin the race, and later notifies them that it is time to end the race. During the course of the race or thereafter, race performance information is received, processed, and transmitted back to each of the participating portable fitness monitoring devices , thus notifying them of the results of the race.","An athlete  may decide to participate in a challenge race after creating the challenge race themselves, being invited by a friend to participate in a challenge race, or by finding a publicly available challenge race in the online community. An athlete  may participate in the challenge race as an individual, or groups of athletes may participate in the challenge race as members of a team.","Prior to participating in the challenge race, data related to the challenge race may need to be downloaded to the internal memory device  of portable fitness monitoring device . Alternatively, data related to the challenge race may reside on server  until it is necessary to communicate such data to the portable fitness monitoring devices.","Each challenge race may have a variety of information associated with it that may be interpreted by the portable fitness monitoring devices . For example, a challenge race may have specific time, distance, route, allowable number of participants, and\/or activity requirements (e.g. participants are required to be walking, biking, inline skating, etc.).","In one embodiment of the present invention, the challenge race may be a time-based race. The goal of the time-based race may be, for example, for the participating athletes  to cover a set distance in the least amount of time. Athletes may or may not be required to follow a particular geographic route.","In another embodiment, the challenge race may be a distance-based race. The goal of the distance-based race may be, for example, for the participating athletes to cover the most distance in a set amount of time. Athletes may or may not be required to follow a particular geographic route.","In some embodiments, the athletes may be required to follow a predetermined geographical route while participating in the race.","With reference to , the challenge race may be staged according to different methods depending on whether the challenge race is, for example, time or distance based. In an embodiment, a challenge race module running on the server  may be responsible for monitoring all of the participating challengers based on a registration method that provides synchronization between the server  and each of the portable fitness monitoring devices  carried by the participating challengers.","Regardless of the metric for measuring performance in the race, the portable fitness monitoring devices  of the participants may notify the athletes that it is time to begin the race. In embodiments where the challenge race information has already been stored locally in a memory devices of the portable fitness monitoring devices  (such as internal memory ), local processors (such as CPU ) may provide suitable outputs to the athletes . Such outputs may include textual, audio, or visual outputs such as, for example, an audile countdown (\u201cOn your mark, get set, go!\u201d) or the sound of a starter gun firing. In some embodiments, athletes may be given significant forewarning that the challenge race will begin in, for example, 30, 10, or 5 minutes.","In embodiments where the challenge race information is not stored locally in the memory devices of the portable fitness monitoring devices , this information must be accessed in order to provide indications to the participants that the race is beginning.","In one embodiment, the server  may be responsible for coordinating the \u201cstart\u201d announcements to the plurality of participating portable fitness monitoring devices  so that it is ensured that each participant starts at the same time. Network latency, network performance, and portable fitness monitoring device performance have the potential to pose problems to coordinating start time announcements.","In an embodiment of the present invention, these potential problems may be addressed by leveraging the network time with respect to each portable fitness monitoring device . Specifically, a relative start time may be calculated for each portable fitness monitoring device  taking into account device specific timing issues (e.g., network latency). In one embodiment, this may be accomplished based on a master network time associated with the server  and provided to the portable fitness monitoring devices . For example, after the appropriate timing determinations and synchronizations are made, even though several participants' devices  may provide a 30 second countdown to start, another participant's device  may be set to provide a 29 second countdown because the later participant's device time is running one second behind that of the other devices .","As described above with respect to , if the challenge race requires traversal of a particular route, turn-by-turn directions may be provided to the participants.","As the athletes participate in the designated fitness activity (e.g. running, biking, inline skating, etc.), GPS waypoints and other data may be logged either remotely or on the server , as described in detail above.","At the appropriate time, the portable fitness monitoring devices  of the participants may notify the athletes that it is time to end the race. The timing of such an announcement may vary according to the type of race. For example, in a time-based race, the portable fitness monitoring devices  may notify the athletes  that the race has ended when the predetermined race time has expired. In a distance-based race, the portable fitness monitoring devices  may notify the athletes  that the race has ended after the server  receives an indication that at least one of the race participants has achieved the predetermined distance goal. Appropriate end notifications may include an audible alarm or a message such as \u201cThe race ended, begin cool-down.\u201d","In order to provide race result information to the participants (and in order to determine the end of a distance based race), athlete performance information, which may include, but may not be limited to, time-stamped GPS waypoints, may need to be wirelessly transmitted to the server . Transmission may occur in substantially real-time throughout the traversals of the route or only after a given athlete  has completed the challenge.","In embodiments where data transmission occurs in substantially real-time, the server  may make ongoing performance and rank calculations so that the athletes  may be updated on their performance and relative position during the course of the activity.","The server  may determine the results of the race and present them in a variety of different ways. Athletic performance information may be processed to determine the race winner and the relative ranks of all race participants. Personal best times may also be calculated for individual athletes  and\/or teams of athletes . As described above, points may be tallied and provided based on the relative difficulty of the challenge. Race results may be wirelessly transmitted to the participating portable fitness monitoring devices  after the race is complete. In one embodiment, race results are delivered to the portable fitness monitoring devices  within several minutes after the race ends. In another embodiment, race results are delivered to the portable fitness monitoring devices  in less than one minute after the race ends.","The notification of the race results may include textual content and\/or multimedia content such as audio content, video content, or image-based content. Textual or audio content may include messages like \u201cGreat job, David,\u201d \u201cYou are the winner,\u201d \u201cCongratulations, you came in 2place out of 12 participants,\u201d or \u201cYou earned 50 points.\u201d Audio content may further include a song or other music clip or the sound of cheering spectators. Video or image-based content may include, for example, images, symbols, or video clips such as those involving an athlete in motion, an athlete crossing a finish line, a \u201cthumbs up\u201d sign, spectators cheering, a medal, a trophy, or the like. In one embodiment, two or more of textual, audio, video, and image-based content are included in the same race results notification.","Of course, race results information may also be saved to the journal database  in each athlete's training journal for future viewing and analysis.","Furthermore, remote users may be able to monitor the plurality of athletes participating in a challenge race in real-time, as described above.","With reference now to , there is illustrated a high level block diagram of a system architecture that provides nutritional guidance to an athlete in accordance with the present invention. For clarity,  illustrates only those portions of server computer system  and portable fitness monitoring device  helpful in gaining an understanding of the invention.","As depicted, the nutritional guidance architecture includes a server computer system  and a portable fitness monitoring device . Server computer system  includes a server nutritional assistant  and a meal plan database  containing personal meal plans for subscribers. The personal meal plans may specify, for example, a caloric intake goal and\/or other nutritional information (e.g., grams of fats, carbohydrates and sugars, food categories, food \u201cpoint\u201d value, etc.) on a per-meal or daily basis. Residing at or accessible to server computer system  is a restaurant database , which contains information regarding geographic locations of restaurants, hours of operation, and menu items available at the restaurants. With respect to menu items, restaurant database  preferably indicates an estimated calorie amount and optionally additional nutritional information (e.g., grams of fats, sugars, and total carbohydrates). The nutritional guidance architecture optionally further includes an auxiliary restaurant database  (which may reside on a web server or represent a web portal such as Google, Bing, or Yahoo!) containing duplicate or additional information that may be accessed to locate restaurants, obtain information (e.g., calories or nutritional information) regarding menu items, and\/or populate restaurant database .","Server nutritional assistant  is coupled for communication by a communication network  (e.g., Internet  and the wireless WAN) to a client nutritional assistant  residing on portable fitness monitoring device . Client nutritional assistant  receives inputs from server nutritional assistant  and presents the inputs via calls to visual presentation module  and\/or audio presentation module .","As described in greater detail below, the nutritional guidance architecture enables an athlete  who uses the portable fitness monitoring device  to determine menu items conforming to a meal plan that are in proximity to the athlete's  geographic location. The menu items may be selected for presentation to the athlete  based upon the caloric expenditure associated with activities recorded in the athlete's  personal training journal within training journal database .","Referring now to , there is depicted a high level logical flowchart of an exemplary method by which a client device, such as portable fitness monitoring device , queries a service for nutritional guidance in accordance with the present invention. The process begins at block  and thereafter proceeds to block , which depicts client nutritional assistant  monitoring the athlete's inputs (e.g., manipulations of inputs buttons ) of portable fitness monitoring device  for an input signifying a dining decision query. In response to detection of an athlete  input signifying a dining decision query, the process next passes to block , which illustrates client nutritional assistant  sending a dining decision query to server, such as nutritional assistant  running on server computer system , via communication network . The dining decision query contains the geographic location of portable fitness monitoring device  (e.g., as indicated by a recent GPS reading obtained from GPS reader ) may optionally further contain or be interpreted as containing a parameter indicating one or more proximities (e.g., 1 mile, 3 miles, 5 miles) to the current geographic location.","As shown at block , client nutritional assistant  then iterates until a response to the dining decision query is received from server nutritional assistant  via communication network , for example, in the form of an XML document. In response to receipt of the response, client nutritional assistant  presents the response to the athlete  at block  by making appropriate calls to visual presentation module  and\/or audio presentation module . In one embodiment, the XML response document includes a picklist containing one or more entries that each identifies a restaurant name, a distance (e.g., in miles or kilometers) to the restaurant from the current geographic location of portable fitness monitoring device , and a number of menu choices available at that restaurant that comply with the user's meal plan. Athlete  selection of an entry of the picklist may invoke further display of a map to the restaurant from the current geographic location of portable fitness monitoring device  and\/or images of the available menu items. In other embodiments, the response to the dining decision query may be electronically encoded in other ways, with or without reliance on the XML serialization protocol.","Client nutritional assistant  then determines at block  if athlete  input has been received (e.g., via input buttons ) indicating that the athlete  desires to receive additional results from more distant restaurants. If not, the process ends at block . If so, client nutritional assistant  increases the proximity parameter at block  and issues another dining decision query with the increased proximity parameter, as shown at block . Thereafter, the process continues as has been described.","With reference now to , there is illustrated a high level logical flowchart of an exemplary method by which a server device responds to a query for nutritional guidance in accordance with the present invention. The depicted process begins at block  and thereafter proceeds to block , which illustrates server nutritional assistant  waiting until a dining decision query is received from a client device, such as portable fitness monitoring device  or client computer system . In response to receipt of the dining decision query, server nutritional assistant  accesses restaurant database  and\/or auxiliary restaurant database  at block  to identify one or more restaurants within at least one zone of proximity to the client device (e.g., portable fitness monitoring device ).","As shown at block , for at least one restaurant, and preferably for each restaurant identified at block  that is within the proximity zone, server nutritional assistant  then determines by reference to restaurant database  and\/or auxiliary restaurant database  which menu items at the restaurant, if any, can be eaten by the athlete , given the time of day (i.e., an indication of whether the meal is a breakfast, lunch, dinner or snack) and the nutritional information (e.g., caloric intake goal, grams of fats, sugars and carbohydrates, food \u201cpoint\u201d values, etc.) specified in the athlete's  meal plan stored within meal plan database . Server nutritional assistant  may further take into consideration caloric expenditure estimated from recent activity (e.g., same or previous day) recorded for the user within training journal database . In this manner, caloric expenditure can be compensated for or \u201crewarded\u201d by the inclusion of higher calorie menu item selections. Server nutritional assistant  then downloads its response to the dining decision query to the client device (e.g., portable fitness monitoring device ) via communication network , as shown at block . Thereafter, the process terminates at block .","While the invention has been particularly shown as described with reference to a preferred embodiment, it will be understood by those skilled in the art that various changes in form and detail may be made therein without departing from the spirit and scope of the invention. For example, while the present invention has been described with respect to an exemplary software configuration in which software performing certain functions of the present invention resides on a server computer system of a service provider (e.g., of a subscription service), those skilled in the art will appreciate that, in alternative embodiments, such software may alternatively reside on a client computer system, such as client computer system , and\/or on portable fitness monitoring device .","Furthermore, while the present invention has been described with reference to tracking and visualizing the performance and\/or route of an athlete, those skilled in the art will appreciate that the present invention may also be applied to tracking and visualizing the location and movement of other persons, such as children or criminals under electronic supervision, or objects.","Moreover, although aspects of the present invention have been described with respect to a data processing system executing program code that directs the functions of the present invention, it should be understood that present invention may alternatively be implemented as a program product for use with a data processing system. Program code defining the functions of the present invention can be delivered to a data processing system via a variety of signal-bearing media, which include, without limitation, non-rewritable storage media (e.g., CD-ROM), rewritable storage media (e.g., a floppy diskette or hard disk drive), and communication media, such as digital and analog networks. It should be understood, therefore, that such signal-bearing media, when carrying or encoding computer readable instructions that direct the functions of the present invention, represent alternative embodiments of the present invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS\/FIGURES","p":["The accompanying drawings, which are incorporated herein and form a part of the specification, illustrate the present invention by way of example, and not by way of limitation, and, together with the description, further serve to explain the principles of the invention and to enable a person skilled in the pertinent art to make and use the invention.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2B"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4A"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4B"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 4C"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4D"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 4E"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 4F"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 5A"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 5B"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 5C"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 6A"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 6B"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 6C"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 6D"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 7A"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 7B"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 7C"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 7D","FIG. 7C"]},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 7E"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 7F","FIG. 7E"]},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 10A"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 10B"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 10C"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 10D"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 10E"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 11A"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 11B"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 11C"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 11D"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 12A"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 12B"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 12C"}]},"DETDESC":[{},{}]}
