---
title: Apparatus and a method for generating a test case
abstract: A state-transition system includes a plurality of states and a first transition representing a state-change based on an external event occurred into a system to be checked. A plurality of requirement items includes a precondition and a postcondition in correspondence with the external event. By partially selecting the precondition and the postcondition from the plurality of requirement items, a state map to map a state onto truth values of the precondition and the postcondition is generated. By contracting the state-transition system with the state map, a quotient state-transition system is generated. The quotient state-transition system includes a plurality of second transitions among a plurality of groups each having states. By tracing each second transition in the quotient state-transition system, a representative transition path is generated. The representative transition path is regenerated as a transition path in the state-transition system. The transition path is output as a test case.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08370808&OS=08370808&RS=08370808
owner: Kabushiki Kaisha Toshiba
number: 08370808
owner_city: Tokyo
owner_country: JP
publication_date: 20100315
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE EMBODIMENTS"],"p":["This application is based upon and claims the benefit of priority from Japanese Patent Application No. 2009-063281, filed on Mar. 16, 2009; the entire contents of which are incorporated herein by reference.","The present invention relates to an apparatus and a method for generating a test case of a system from a specification of the system.","At a verification stage of a system development such as a software, from a formal model of a developed object system, a MBT (model-based testing) to automatically generate a test case (verification steps) to verify the system is used. As one of the MBT, from a state-transition system covering states and transitions possible for the system, a method for generating a test case by generating a path according to algorithm of graph theory is well known. By using the test case generated by this method, a test covering state transitions occurred in the system can be performed. Above method is disclosed in following references.\n\n","However, the state-transition system includes many similar state-transitions, and a test case acquired from the state-transition system is often redundant. For example, followings are examples of the test case in a task management function of an operating system.\n\n","Difference between the cases 1 and 2 is only a task ID. It is sufficient that only one of the cases 1 and 2 is tested according to circumstances. Especially, in development of a large scale system, it is almost impossible that all cases are verified by covering. While coverage for items to be verified is maintained, it is realistic that all cases are suitably sampled and remained cases are tested.","As one solution, as disclosed in JP-A No. 2009-266092 (Kokai), following technique to generate a test case is proposed. Briefly, in this technique, a map for state sets of the state-transition system is given, and an equivalence relation between states is defined by equality of mapped values of the states by the map. Based on the equivalence relation, the state-transition system is previously contracted, and a test case is generated from the contracted state-transition system (quotient state-transition system).","Concretely, in this technique, states in the state-transition system are identified by an equivalence relation of mapped values by a state map indicated by a user. As to the equivalence relation of mapped values by the state map, states having equal output result (equal mapped values) by a state map are identified, and states having different output result (different mapped values) by the state map are not identified. In this case, the state map is a map from a state space.","Then, a plurality of states identified is grouped into one abstract state (one class), and the state-transition system can be small contracted. The abstract state is a virtual state which a plurality of states identified by the equivalence relation is recognized as one state. Furthermore, a test case can be generated to cover each state of the contracted (small) state-transition system at least one time.",{"@attributes":{"id":"p-0010","num":"0013"},"figref":["FIGS. 3 and 4","FIG. 3","FIG. 4","FIG. 4"]},"In above-mentioned method, the state map largely influences a coverage and an efficiency (trade-off relation) of a test case to be output. However, as to a state map to generate the test case satisfying the coverage and the efficiency, there is not a means for reasonably determining the state map.","The present invention is directed to an apparatus and a method for generating a test case to satisfy a desired coverage and an efficiency by determining a state map.","According to an aspect of the present invention, there is provided an apparatus for generating a test case of a system to be checked, comprising: a first memory configured to store a state-transition system including a plurality of states and a first transition between two of the plurality of states in the system, each state being represented by a plurality of internal variables, the first transition representing a state-change based on an external event occurred into the system; a second memory configured to store a plurality of requirement items each including a precondition and a postcondition in correspondence with the external event, the precondition describing a state of the system before occurrence of the external event, the postcondition describing a state of the system after occurrence of the external event; a state prediction extraction unit configured to select m (m: an integral number equal to or larger than one) requirement items from the second memory, and extract the precondition and the post condition from the m requirement items; a state map generation unit configured to generate a state map to map an indicated state onto truth values of the precondition and the postcondition; a state equivalence relation definition unit configured to acquire a plurality of mapped values by mapping each of the plurality of states by the state map, and generate a plurality of groups each including states having the same mapped value; a quotient state-transition system generation unit configured to select two groups from the plurality of groups, set a second transition from one of the two groups to the other of the two groups when the first transition from one state included in the one to one state included in the other exists in the state-transition system, and generate a quotient state-transition system including a plurality of second transitions among the plurality of groups by repeating selection of the two groups and set of the second transition; a representative transition path generation unit configured to generate a representative transition path as a sequence of each second transition by tracing the plurality of second transitions from a predetermined group of the plurality of groups; a transition path generation unit configured to select the second transition from the representative transition path in order of the tracing, specify the first transition of which an origin state is same as one state of an origin group of the selected second transition and a destination state of a previous first transition specified, a destination state is same as one state of a destination group of the selected second transition, and generate a test case including a sequence of each first transition specified; and an output unit configured to output the test case.","Hereinafter, embodiments of the present invention will be explained by referring to the drawings. The present invention is not limited to the following embodiments.",{"@attributes":{"id":"p-0053","num":"0056"},"figref":"FIG. 1"},"<Input of the Test Case Generation Apparatus>","In , the test case generation apparatus accepts input of a specification of a system to be checked. The specification includes a requirement item table (requirement item data) , an atomic predicate table , and a state-transition system . The test case generation apparatus includes a first memory means to store the state-transition system  (input), a second memory means to store the requirement item table (input) and the atomic predicate table (input), and a read-out means to read data from the first and second memory means.","The State-Transition System:","In the system to be checked, internal processing is executed with occurrence of an external event, and an internal state is changing hourly. The state-transition system is composed by states possible for the system to be checked, and transitions (first transitions) representing a state change of the system based on the external event occurred for the system (Refer to  explained afterwards). A state of the system is represented by a group of a plurality of interval variables.","The Requirement Item Table:","As to an external event (In order to simplify, it is often called \u201cevent\u201d), a condition related to an internal state to accept occurrence of the event, and a condition related to change of the internal state after internal processing, are prescribed. The former condition is called \u201cprecondition\u201d, and the latter condition is called \u201cpostcondition\u201d. Briefly, the precondition is a condition of a state required for the system before occurrence of the event, and the postcondition is a condition of a state required for the system after occurrence of the event. The precondition and the postcondition are described as a state predicate. The event, the precondition and the post condition, are called \u201crequirement item\u201d. The requirement item is prescribed with each event. A table format listing these items is a requirement item table (Refer to  explained afterwards). The requirement item is a condition of a behavior that a designer requires the system. In other words, the condition of the behavior is an item to be verified after development of the system.","The Atomic Predicate Table:","The atomic predicate table is a table of atomic predicates composing state predicates of the precondition and the postcondition in the requirement item table (Refer to  explained afterwards). The atomic predicate is described as a condition related to a value of one internal variable.","<Output of the Test Case Generation Apparatus>","Test Case:","In , the test case generation apparatus outputs a test case  of the system to be checked. The test case is a list including operation steps (event sequence) to test the system to be checked and an expected value (state-transition sequence) as a test result of the system to be checked by the operation steps. The test case generation apparatus includes an output means for outputting the test case .","<Explanation of Subject: Cruise Controller>","Before detail-explanation of the test case generation apparatus in , a subject processed in the present embodiment is explained.","In the present embodiment, a simplified one of a cruise controller (or a cruise control system) is the system to be checked. By using the simplified one as the subject, the present invention is explained. The cruise control system is one kind of vehicle control system which automatically preserves a constant velocity without stepping an access pedal.","Internal Variable:","The cruise controller has three internal variables.\n\n","External Event:","The cruise controller accepts four kinds of external events. The internal processing is executed with occurrence of the external event, and values of the internal variables are changing hourly. Accordingly, an internal state of the cruise controller also changes.\n\n","The requirement item table and the atomic predicate table:",{"@attributes":{"id":"p-0073","num":"0083"},"figref":["FIG. 5","FIG. 6"],"b":["1","1","2","3","2"],"img":[{"@attributes":{"id":"CUSTOM-CHARACTER-00001","he":"3.13mm","wi":"2.12mm","file":"US08370808-20130205-P00001.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00002","he":"3.13mm","wi":"2.12mm","file":"US08370808-20130205-P00001.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}]},"The State-Transition System:",{"@attributes":{"id":"p-0075","num":"0085"},"figref":"FIG. 7","b":["10","22","4","4","40","9","4","4","5","9"]},"<Simple Concrete Example>","As to a construction of a state map and a scale reduction of the test case by the state map, an example which the cruise controller is further simplified is explained. In this example, the requirement item is limited to an item  (the number of requirement items m=1) in , and the state-transition system is simplified as shown in .","In the state transition system of , states satisfying a precondition of the requirement item  are two states  and . State-transitions as a test of the requirement item  are state-transitions  and  as an event \u201ccruise switch: ON\u201d from the states  and . Each state-transition reaches a state  or , which satisfies the postcondition of the requirement item . Other state-transitions (except for the state-transitions  and ) are not related with a test of the requirement item .","From this state-transition system, a test case is generated so that all state-transitions are covered at least one time.  is the test case (16 transitions) generated. This test case includes above-mentioned two state-transitions and covers all requirement items (In this example, item  only). However, this test case includes two state-transitions  and  having the same precondition and the same postcondition, and includes fourteen state-transitions unrelated with the test of the requirement item. Accordingly, this test case is open to discussion for improvement of efficiency.","Accordingly, in the present embodiment, in order to acquire an effective test case satisfying a coverage criteria (a criteria which determines a ratio or the number of requirement items to be covered in all requirement items), a function to output a combination of satisfiability (truth value) of the precondition and the postcondition is composed as a state map. For example, a state  satisfies the precondition but does not satisfy the postcondition. Accordingly, a mapping result (mapped value) of the state  by the state map is (OK, NG). As to (OK, NG), the left element corresponds to satisfiability (truth value) of the precondition, and the right element corresponds to satisfiability (truth value) of the postcondition. \u201cOK\u201d corresponds to truth and \u201cNG\u201d corresponds to false. On the other hand, a state  satisfies the postcondition but does not satisfy the precondition. Accordingly, a mapping result (mapped value) of the state  by the state map is (NG, OK).",{"@attributes":{"id":"p-0081","num":"0091"},"figref":["FIG. 10","FIG. 8"],"b":["4","6","4","6","5","4","4","5","4","6","4","6","4","6","5","7","5","7","5","7","0","1","2","3","0","1","2","3","0","1","2","3","9","10"]},"From this contracted state transition system, a test case is generated so that all state transitions are covered at least one time as usual.  is a generated test case (seven transitions). In , state-transitions  and  corresponding to the test are contracted as one transition. As a result, an effective test case of which scale is reduced within a range satisfying the coverage criteria can be generated.","The above-mentioned is explanation of construction example of the state map to generate an effective test case satisfying the prefixed coverage criteria, and effect of size-reduction of the test case.","<Construction Method of the State Map>","In a previous paragraph, a concrete example of construction method of the state map by limiting the requirement item as one is explained. This method can be extended to a general case that a plurality of requirement items is covered. In order to generate an effective test case covering the plurality of requirement items, it is sufficient that a state map to output combination of satisfiability (truth value) of the precondition and the postcondition of all requirement items is constructed. This is called \u201cconstruction method \u201d (corresponding to a first embodiment explained afterwards).","For example, in case of two requirement items, a state map is \u201c(satisfiability of precondition of requirement item , satisfiability of postcondition of requirement item , satisfiability of precondition of requirement item , satisfiability of postcondition of requirement item )\u201d. A state-transition system contracted by the state map includes eight abstract states of which mapped value is (OK, *, *, *), and also includes eight abstract states of which mapped value is (*, *, OK, *). In this case, \u201c*\u201d means both OK (truth) and NG (false). The former (OK, *, *, *) is a state satisfying the precondition of the requirement item , and the latter (*, *, OK, *) is a state satisfying the precondition of the requirement item .","Accordingly, a test case generated from this contracted state-transition system satisfies the coverage criteria (In this case, all requirements need be covered) related to two requirement items. On the other hand, the state-transition system is contracted. Accordingly, in comparison with the case of non-contraction, a size of the test case can be reduced.","However, the construction method  has a possibility of explosion of the size of the test case with increase of the number of requirement items. Because, in proportion to increase of the precondition and the postcondition composing the state map, the number of states of the contracted state-transition system exponentially increases. As explained as the example in the previous paragraph, in case of composing the state map from the precondition and the post condition of one requirement item, the contracted state-transition system includes at most four states. However, in case of two requirement items, the contracted state-transition system includes sixteen states at the maximum.","Accordingly, in order to improve efficiency, another construction method (\u201cconstruction method \u201d corresponding to a second embodiment explained afterwards) can be considered. In this method, first, all atomic predicates included in each requirement item is extracted, an appearance frequency of each atomic predicate is calculated, and a state map is composed by an atomic predicate having the largest appearance frequency. A state-transition system is contracted by the state map, and a test case is generated and evaluated. If the test case does not satisfy a coverage criteria, an atomic predicate having the second largest appearance frequency is added to the state map, and generation and evaluation of the test case are executed again. This processing is repeated until the test case satisfies the coverage criteria. This is slightly a heuristic method. However, whenever the atomic predicate is added, at least the coverage of the test case (a ratio or the number of requirement items covered by the test case) monotonously increases, and the test case finally satisfies the coverage criteria. The reason why the coverage of the test case monotonously increases by adding the atomic predicate to the state map is that, the abstract state is detailed by adding the atomic predicate. Briefly, by detailing one state-transition contracted, more detail test case can be acquired. Accordingly, at least coverage of the test case monotonously increases.","Furthermore, \u201ca construction method \u201d (corresponding to a third embodiment explained afterwards) as the reverse idea of the construction method  can be considered. First, a state map is constructed by all atomic predicates appeared in each requirement item. A state-transition system is contracted by the state map, and a test case is generated and evaluated. If the test case satisfies the coverage criteria, an atomic predicate having the smallest appearance frequency is excluded from the state map, and generation and evaluation of a test case are repeated while the test case satisfies the coverage criteria. By this method, the test case having high efficiency (satisfying the coverage criteria) can be generated.","[The First Embodiment]","Apparatus component of the first embodiment corresponds to a part surrounded by an inside dotted line in . All apparatus surrounded by an outside dotted line is a component related to the second and third embodiments explained afterwards. Component of a part surrounded by the inside dotted line includes a state predicate extraction unit , a state map generation unit , a test case generation unit , a first memory to store a state-transition system , a second memory to store a requirement item table and an atomic predicate table , and an output unit to output a test vase . Hereinafter, the first embodiment is explained in detail.","1. Summary of the Apparatus","A state-transition system composed by states and state-transitions (each possible for a system to be checked) is previously prepared. Furthermore, as a combination of an external event of the system, a precondition and postcondition expected for the system, a plurality of requirement items (formally expressed) for the system is prepared. Among the plurality of requirement items, a state map is constructed by calculating a direct product of state predicates described in the precondition and the postcondition of a selected requirement item.","Furthermore, by using a method of a fourth embodiment (test case generation apparatus and method disclosed in JP-A No. 2009-266092 (Kokai)) explained afterwards, the state-transition system  is contracted with the state map, and the test vase  is generated so that all state-transitions of the contracted state-transition system (quotient state-transition system) are covered.","2. Input\/Output of the Apparatus","Input of the apparatus is a specification of the system to be checked. The specification comprises the requirement item table , the atomic predicate table , and the state-transition system . Output of the apparatus is the test case .","The Requirement Item Table and the Atomic Predicate Table:","Each requirement item of the requirement item table shown in  and each atomic predicate of the atomic predicate table shown in , are formally described so that the computer can interpret. These are expressed as a function of programming language Scheme (Non-patent reference 2). Briefly, as to this function, a state is input and satisfiability (truth value) is output. Moreover, requirement items in  are same as those in , and atomic predicates in  are same as those in .","The State-Transition System:","The state-transition system  is expressed as a state table shown in  and a state-transition table shown in . An initial state is a state . The state table () represents an identifier (SID: State ID) of each state and contents (state). The state-transition table () represents an identifier (TID: Transition ID) of each transition, an identifier (SID) of an origin state, an identifier (SID) of a destination state, and contents (external event) of the transition.","For example, a state (SID)  of the state table means internal variables such as vel (velocity) \u201c\u201d, cruise (cruise lamp) \u201cOFF\u201d, and set (set lamp) \u201cOFF\u201d. Furthermore, a state-transition (TID)  of the state-transition table is a transition corresponding to internal processing by an external event \u201cCruiseOn\u201d, and transits from a state  to a state .","The Test Case:",{"@attributes":{"id":"p-0104","num":"0114"},"figref":"FIG. 16"},"3. Flow of Processing","Processing flow of the apparatus is explained.","3.1 All of the Apparatus",{"@attributes":{"id":"p-0108","num":"0118"},"figref":"FIG. 17","ul":{"@attributes":{"id":"ul0009","list-style":"none"},"li":{"@attributes":{"id":"ul0009-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0010","list-style":"none"},"li":["Processing : Extraction of State Predicate","Processing: State predicates described as the precondition and the postcondition in the requirement item table are extracted. All requirement items in the requirement item table may be an extraction object, or a plurality of requirement items selected may be the extraction object. For example, in , two requirement items exist. In this case, one requirement item (m=1) or two requirement items (m=2) is the extraction object.","Input: The requirement item table ","Output: The state predicate","Processing means: \u201cThe state predicate extraction unit \u201d","Processing : Construction of the State Map","Processing: By calculating a direct product of formal state predicates (precondition and postcondition) extracted, the state map  is composed.","Input: The state predicate (Precondition and postcondition)","Output: The state map ","Processing means: \u201cThe state map generation unit \u201d","Processing : Generation of the test case (Detail of generation method is explained in the fourth embodiment afterwards)","Processing: The state-transition system  is contracted by the state map , and a path covering all state-transitions of the contracted state-transition system (quotient state-transition system) is generated as the test case .","Input: The state-transition system , the state map ","Output: The test case ","Processing means: \u201cThe test case generation unit \u201d"]}}}},"3.3 Processing ","State predicates described as the precondition and the postcondition in the requirement item table are extracted. If the state predicate is not an atomic predicate, a predicate name is acquired by analyzing a character string defined as the state predicate. For example, in  (requirement item table), \u201c(define (PnotPnotP s) (and (P s) (not (P s)) (not (P s))))\u201d is definition of the state predicate. The state predicate name is \u201cPnotPnotP\u201d.","3.3 Processing ","From state predicates extracted at the processing , a state map is constructed as a function to output satisfiability of each state predicate by a list format. Assume that state predicates F, F, . . . , Fn (n-units) are state predicates extracted at the processing . In this case, as to state s, a function to output a list ((F s), (F s), . . . , (Fn S)) is defined as the state map. This (F s) represents a result which the predicate F is applied to the state s, i.e., satisfiability (truth value) of the predicate F. This state map is described as \u201c(define (stateFunc s) (list (F s) (F s) . . . (Fn s)))\u201d.","4. Concrete Example","Hereinafter, a concrete example of the processing explained at \u201c3. Flow of processing\u201d is shown.","Step  (Processing : Extraction of State Predicates)","Output: State predicates \u201cPnotPnotP\u201d, \u201cP\u201d, \u201cP\u201d (In this case, all requirement items (m=2) in all requirement item table are object)","Step  (Processing : Construction of the State Map)","Output: State map \u201c(define (fun s) (list(PnotPnotP s) (P s) (P s)))\u201d","Step  (Processing : Generation of Test Case)","Output: The test case ()","(A contracted state-transition system as intermediate date is shown in )","[The Second Embodiment]","Apparatus component of the second embodiment corresponds to a part (except for the unit ) surrounded by an outside broken line in . As to the component of the second embodiment, units \u02dc and  are added to the component of the first embodiment. Briefly, the component of the second embodiment includes the state predicate extraction unit , the state map generation unit , the test case generation unit , the first memory to store the state-transition system , the second memory to store the requirement item table and the atomic predicate table , the output unit to output the test case , an atomic predicate extraction unit , an appearance frequency analysis unit , a high frequency-atomic predicate extraction unit , and a coverage evaluation unit .","1. Summary of Apparatus","Based on the first embodiment, a method for constructing the state map is extended. As to the method for constructing a state map according to the second embodiment, an atomic predicate having the highest appearance frequency is first selected from a set of state predicates extracted from each requirement item. Operation which each atomic predicate is added to the state map (a direct product with the state map) in higher order of the appearance frequency is repeated until a test case (generated by the state map) satisfies the coverage criteria.","2. Input\/Output of Apparatus","Input\/output of the apparatus of the second embodiment are same as those of the first embodiment.","3.Flow of Processing","Flow of processing of the apparatus is explained.  is a flow chart of processing of the apparatus. The second embodiment is extended from the first embodiment, and parts different from the first embodiment are shown as oblique line blocks in the flow chart. Hereinafter, different parts from the first embodiment are mainly explained.\n\n","4. Concrete Examples","Hereinafter, concrete examples of processing explained at \u201c. Flow of processing\u201d are shown.","Step  (Processing : Extraction of state predicate)","Output: State predicates \u201cPnotPnotP\u201d, \u201cP\u201d, \u201cP\u201d","Step  (Processing : Extraction of atomic predicate)","Output: The list of atomic predicates \u201cP, P, P\u201d","Step  (Processing : Analysis of appearance frequency of atomic predicates)","Output: The list of appearance frequency order of atomic predicates \u201cP, P, P\u201d (As to a list of atomic predicates acquired at Step , appearance frequency of each atomic predicate in a set of state predicates is calculated, and each atomic predicate is sorted in order of appearance frequency. P has the highest appearance frequency.)","Step  (Processing : Extraction of high frequency-atomic predicate)","Output: An atomic predicate \u201cP\u201d (The atomic predicate having the highest appearance frequency is extracted from the list of appearance frequency acquired at Step . At the same time, \u201cP\u201d is deleted from the list of appearance frequency.)","Step : (Processing \u2032: Construction of the state map)","Output: The state map \u201cP\u201d (The state map does not exist at the present time. Accordingly, an atomic predicate extracted at Step  is regarded as the state map)","Step : (Processing : Generation of test case)","Output: A test case () (A size of the test case: )","(The contracted state-transition system as intermediate data is shown in  (the number of states: , the number of state-transitions: ))","Step : (Processing : Evaluation of coverage)","Output: The coverage 50%\n\n","Step  (Condition branch: coverage)","Output: No (The coverage does not satisfy a criteria. In this case, the criteria is 100%.)","Step : (Processing : Extraction of high frequency-atomic predicate)","Output: An atomic predicate \u201cP\u201d (The atomic predicate having the second highest appearance frequency is extracted from the list of appearance frequency. At the same time, \u201cP\u201d is deleted from the list of appearance frequency.)","Step : (Processing \u2032: Construction of the state map)","Output: The state map \u201c(define (stateFunc s) (list (P s) (P s)))\u201d (The state map \u201cP\u201d already exists. Accordingly, \u201cP\u201d and \u201cP\u201d are calculated as a direct product.)","Step  (Processing : Generation of the test case)","Output: The test case () (A size of the test case: )","(The contracted state-transition system as intermediate data is shown in  (the number of states: , the number of state-transitions: )","Step : (Processing : Evaluation of coverage)","Output: The coverage 100%\n\n","Step  (Condition branch: coverage)","Output: Yes","Step  (Completion)","Output: The test case acquired at Step  (Processing is completed because the coverage criteria is satisfied.)","[The Third Embodiment]","Apparatus component of the third embodiment corresponds to a part (except for the unit ) surrounded by an outside broken line in . As to the component of the second embodiment, the unit  is deleted from and the unit  is added to the component of the second embodiment. Briefly, the component of the third embodiment includes the state predicate extraction unit , the state map generation unit , the test case generation unit , the first memory to store the state-transition system , the second memory to store the requirement item table and the atomic predicate table , the output unit to output the test case , the atomic predicate extraction unit , an appearance frequency analysis unit , a low frequency-atomic predicate extraction unit , and the coverage evaluation unit . As to each unit having the same name used in the second embodiment, its operation is basically same as that of the second embodiment. However, processing of the state map generation unit  is partially different.","1. Summary of the Apparatus","As to the method for constructing a state map according to the third embodiment, a state map (maximum set) is first calculated as a direct product of all atomic predicates in requirement items. While a test case (generated by the state map) is covering the requirement items, operation which an atomic predicate is deleted from the state map in lower order of the appearance frequency is repeated.","Briefly, by adaptively selecting all atomic predicates, the state map as a direct product of atomic predicates of selected h-units (h: integral number equal to or larger than 1) is generated so that the coverage satisfies the criteria. This operation is same as the second embodiment. However, in the second embodiment, the atomic predicate is added in higher order of appearance frequency. On the other hand, in the third embodiment, the atomic predicate is deleted from all atomic predicates in lower order of appearance frequency. This concrete method of the third embodiment is different from the second embodiment.","2. Input\/Output of the Apparatus","Input\/output of the apparatus of the third embodiment are same as those of the first embodiment.","3. Flow of Processing","Flow of processing of the apparatus is explained.  is a flow chart of processing of the apparatus. The third embodiment is largely similar to the first embodiment, and parts different from the second embodiment are shown as oblique line blocks in the flow chart. Hereinafter, different parts from the second embodiment are mainly explained.\n\n","4. Concrete Examples","Hereinafter, concrete examples of processing explained at \u201c3. Flow of processing\u201d are shown.","Step  (Processing : Extraction of state predicate)","Output: State predicates \u201cPnotPnotP\u201d, \u201cP\u201d, \u201cP\u201d","Step  (Processing : Extraction of atomic predicate)","Output: The list of atomic predicates \u201cP, P, P\u201d","Step  (Processing : Analysis of appearance frequency of atomic predicates)","Output: The list of appearance frequency order of atomic predicates \u201cP, P, P\u201d (As to a list of atomic predicates acquired at Step , appearance frequency of each atomic predicate in a set of state predicates is calculated, and each atomic predicate is sorted in order of appearance frequency.)","Step : (Processing \u2032: Construction of the state map)","Output: The state map \u201cdefine (fun s) (list (P s) (P s) (P s)))\u201d","Step : (Processing : Generation of test case)","Output: A test case () (A size of the test case: )","(The contracted state-transition system as intermediate data is shown in  (the number of states: 4, the number of state-transitions: 10))","Step : (Processing : Evaluation of coverage)","Output: The coverage 100%\n\n","Step  (Condition branch: coverage)","Output: Yes","Step : (Processing : Extraction of low frequency-atomic predicate)","Output: The list of appearance frequency order of atomic predicate \u201cP, P\u201d (\u201cP\u201d (an atomic frequency having the lowest appearance frequency in the list acquired at Step ) is deleted from the list of appearance frequency.)","Step : (Processing \u2032: Construction of the state map)","Output: The state map \u201c(define (fun s) (list (P s) (P s)))\u201d","Step  (Processing : Generation of the test case)","Output: The test case () (A size of the test case: )","(The contracted state-transition system as intermediate data is shown in  (the number of states: 3, the number of state-transitions: 7)","Step : (Processing : Evaluation of coverage)","Output: The coverage 100%\n\n","Step  (Condition branch: coverage)","Output: Yes","Step  (Processing : Extraction of low frequency-atomic predicate)","Output: The list of appearance frequency order of atomic predicate \u201cP\u201d (\u201cP\u201d (an atomic frequency having the lowest appearance frequency in the list acquired at Step ) is deleted from the list of appearance frequency.)","Step : (Processing \u2032: Construction of the state map)","Output: The state map \u201c(define (fun s) (list (P s)))\u201d","Step  (Processing : Generation of the test case)","Output: The test case () (A size of the test case: 7)","(The contracted state-transition system as intermediate data is shown in  (the number of states: 2, the number of state-transitions: 4)","Step : (Processing : Evaluation of coverage)","Output: The coverage 50%\n\n","Step  (Condition branch: coverage)","Output: No","Step : (Completion)","Output: The test case acquired at Step  (Processing is completed.)","<Supplement>","Idea of the second and third embodiments can be applied to the first embodiment. In case of applying the idea of the second embodiment, appearance frequency of state predicates (precondition or postcondition) in each requirement item is calculated, and a state map is constructed from a state predicate having the highest appearance frequency. A state-transition system is contracted by this state map, and a test case is generated from the contracted state-transition system, and evaluated. If the test case does not satisfy the coverage criteria, another state predicate (precondition or postcondition) having the second highest appearance frequency is added to the state map. A test case is generated from the state-transition system contracted by this state map, and evaluated. This processing is repeated until the test case satisfies the coverage criteria. In this way, by adding the state predicate (condition) to the state map, at least the coverage of the test case monotonously increases, and the coverage criteria is last satisfied.","As a reference, the reason why the coverage of the test case monotonously increases by adding the condition (atomic predicate) to the state map, is explained. Because, when the condition is added, the abstract state becomes more detailed. For example, if the state map is constructed by the precondition and the postcondition of requirement item  only, (precondition of requirement item : OK, postcondition of requirement item : NG) exists as one abstract state. Assume that a precondition of requirement item  is added to this state map. In this case, the one abstract state is detailed as (precondition of requirement item : OK, postcondition of requirement item : NG, precondition of requirement item : OK) and (precondition of requirement item : OK, postcondition of requirement item : NG, precondition of requirement item : NG). Briefly, one contracted state-transition is divided into two detailed state-transitions, and a detailed test case is acquired from the two detailed state-transitions. Accordingly, at least coverage of the test case monotonously increases.","Next, in case of applying the idea of the third embodiment, a state map is constructed from all state predicates (precondition or postcondition) appeared in each requirement item. A state-transition system is contracted by this state map. A test case is generated from the contracted state-transition system, and evaluated. If the test case satisfies the coverage criteria, a state predicate having the lowest appearance frequency is deleted from the state map, and a test case is generated from the state-transition system (contracted by this state map), and evaluated. This processing is repeated until the test case does not satisfy the coverage criteria. In this case, the test case having high efficiency (satisfying the coverage criteria last) can be generated.","[The Fourth Embodiment]","In the fourth embodiment, the test case generation unit  in  is explained in detail.  is a block diagram of component of the test case generation unit  in .","This test case generation unit  inputs the state-transition system  representing a plurality of states (possible for a system to be checked) and transitions (first transitions) between states, and the state map  defining map of the state. Furthermore, the test case generation unit  generates and outputs a test case (transition path)  of the system.","By using this test case, it is verified whether this system satisfies a specification. In detail, transitions (events) of the test case are actually occurred in the system. By confirming occurrence of the same operation as the state-transition system, the system can be confirmed whether to satisfy the specification.","<Task Control Monitor>","In an information system having a plurality of tasks, a monitor function to control an execution state of task is considered. Each task on the monitor has three states, i.e., an execution (RUN) state, an executable (RDY) state, and a sleep (WAI) state.","The monitor supplies three API (Application Programming Interface) functions to each task. The three API functions are a voluntary yield operation of CPU, a voluntary transition operation to sleep state, and a change (wakeup) operation from a sleep state to an executable (READY) state of task. These functions are called by a task of an execution (RUN) state.","In case that the number of tasks is three, a state-transition system representing states (possible for the task control monitor) and transitions between states, is shown in . The state-transition system of  is a directed graph described by states of table 1 in  and transitions of table 2 in . The initial state is a state s.","In detail, the table 1 represents an identifier (SID: State ID) of each state, and contents (state). The table 2 represents an identifier (TID: transition ID) of each transition, an identifier (SID) of an origin state, an identifier (SID) of a destination state, and contents (event) of the transition. However, a mapping result in the table 1 is added by processing of a state equivalence relation definition unit  explained afterwards. When the table 1 is input to the present apparatus, the mapping object does not exist.","<Instances of Test Case>","In order to confirm an operation of the task control monitor described as this state-transition system (, tables 1 and 2), by calling API function corresponding to transition of each task in order from initial state of the system, it is conformed whether the task is switched in correspondence with a destination state. For example, when a task  calls (sleep ) from the initial state s, a task  transits to executing (RUN). When the task  calls (sleep ), a task  begins executing (RUN). When the task  calls (yield ), the task  begins executing (RUN). In this way, the operation is confirmed. This confirmation steps correspond to a transition path \u201ct\u2192t\u2192t\u201d from state s to state s on the state-transition system.","In order to perform confirmation of the system operation by the coverage and shortest steps, if the state-transition system is regarded as a directed graph, the shortest transition path to cover transition of the directed graph, and the system had better be operated by events corresponding to the shortest transition path (sequence).","A problem to generate the shortest transition sequence to cover transition of the directed graph is well known as Chinese Postman Problem (CPP), and an approximate algorithm to search a transition sequence to guarantee coverage already exists (Non-patent reference 1). In this case, approximation of the algorithm means generation of a transition sequence similar to the shortest transition sequence.","As to the transition sequence to cover transitions of the state-transition system (, sixteen states, forty-two transitions), searched result by the approximate algorithm is shown in table 3 of . By operating the system along four transition sequences (transition paths) from the initial state, forty-two transitions can be covered as continuous transitions of fifty times. Such transition sequence is called a test case of the system. Moreover, this transition sequence always starts from the initial state s. The reason why the transition sequence is not one is, a state s is a state where the destination state does not exist and, when the transition enters into the state s, a next transition cannot continue.","<Reduction of Size of Test Case>","As to a test to cover all transitions of the system, in general, when a scale of the system becomes large, a size of test case exponentially increases. Accordingly, this test is not realistic. In order to generate an executable test, it is necessary to reduce a size of test case by predetermined test criteria. In above-mentioned instance, the task control monitor includes sixteen states, but these states include the same state by changing sort of task IDs. For example, states s and s are same by changing order of task IDs, but states s and s are not same even if order of task IDs is changed. As an example of the predetermined test criteria, \u201csame states by changing order of their task IDs are regarded as an equivalent state, and an operation of transition between states as non-equivalent state is only confirmed\u201d is considered. By inputting this predetermined test criteria as a format of the state map, an effective test case (transition path)  satisfying this test criteria is automatically generated.","<Relation Between State Maps of the First\u02dcThird Embodiments and State Map of the Fourth Embodiment>","In the first, second and third embodiments, a state map to map a given state onto a combination of values of satisfiability (truth value) of each state predicate or each atomic predicate, is explained. On the other hand, in the fourth embodiment, as a material of explanation, it should be attentive that a state map to map onto the number of tasks of each state (RUN, RDY, WAI) is used as explained afterwards. In this way, even if a type of the state map is different, processing of the test case generation means is not essentially different. Accordingly, it is not a question.","<State-Transition System and Quotient State-Transition System>","Next, a state-transition system and a quotient state-transition system (contracted state-transition system) are explained.","The state-transition system F is defined as combination of a finite set S of state, a finite set T (S\u00d7S) of transition, and the initial state s. The quotient state-transition system F\/is defined by the state-transition system F and an equivalence relation \u201c\u02dc\u201d related to a state of the state-transition system F. The state of the quotient state-transition system F\/is regarded as an equivalent class (group), in case of classifying states of the state-transition system F by equivalence relation \u201c\u201d. If a transition exists between two states s and s\u2032, a transition ([s], [s\u2032]) also exists between two equivalent classes respectively including one of the two states s and s\u2032. Accordingly, a transition in the quotient state-transition system F\/is determined as a transition relation between two equivalent classes.","State-transition system: F=<S, T, s>","State set: S","Transition set: TS\u00d7S","Initial state: s\u03b5S","Quotient state-transition system: F\/=<S\/, T\/, [s]>","Quotient state: S\/={[s]|s\u03b5S}","Quotient transition: T\/={([s], [s\u2032])|(s,s\u2032)\u03b5T}","Relation \u201c\u02dc\u201d represents above-mentioned equivalence relation (equiv), and the equivalent class [s] is a set which state s is a representative state and equivalent states are collected by the equivalence relation.\n\nEquivalent class: [| equiv ()=true}\n","Moreover, as to each transition t=(s,s\u2032)\u03b5T in the state-transition system, a function to refer states before and after the transition t is denoted as src(t)=s and dst(t)=s\u2032.","Origin state of the transition: src: T\u2192S","Destination state of the transition: dst: T\u2192S","<Definition of State Equivalence Relation>","In order to calculate the quotient state-transition system from the state-transition system, equivalence relation between states need be defined. As a definition of the equivalent relation, the equivalent relation \u201cequiv (s ,s\u2032)\u201d between states need satisfy a reflexive law, a symmetric law and a transitive law. Moreover, \u201cB\u201d represents a set of boolean value (truth value) representing truth or false. In case of \u201cs=s\u2032\u201d, \u201cequiv(s,s)\u201d replies truth.","Equivalence relation, equiv: S\u00d7S\u2192B","Reflective law: \u2200s\u03b5S equiv(s,s)","Symmetric law: \u2200s\u03b5S. \u2200s\u2032\u03b5S. equiv(s,s\u2032)equiv(s\u2032,s)","Transitive law: \u2200s\u03b5S. \u2200s\u221d\u03b5S. equiv(s,s\u2032)equiv(s\u2032,s\u2033)equiv(s,s\u2033)","<Construction of State Equivalence Relation>","In order to construct the state equivalence relation, a state map  to abstract the state is prepared, and input to the test case generation unit . The state equivalence relation definition unit  defines a state equivalence relation  (table 4 in ) used for generation of the quotient state-transition system , from the state map  and the state-transition system . Moreover, a function \u201cequal?\u201d is an equal sign relation on a range V of the map.","State map, map: S\u2192V","Equivalence relation, equiv(s,s\u2032)=equal?(map(s),map(s\u2032))",{"@attributes":{"id":"p-0258","num":"0323"},"figref":"FIG. 28","b":["11","1","2","21","1","2","22","1","2","11","12","1","2","13","12","1","2","14","11","22"]},"Instance: task control monitor","As to a plurality of states which is equivalent by changing their task IDs based on test criteria, an instance of a state map to identify the plurality of states is represented as follows. This instance is described by a form of known programming language Scheme (Non-patent reference 2).","Map Instance:","(define (lens s) (map (lambda (v) (length (getval s v)))\u2032(RUN RDY WAI)))","Function Instance:","In case of S=((RUN())(RDY( ))(WAI( )), (len s)(1 2 0)","In case of S=((RUN( ))(RDY( ))(WAI(  )), (len s)(0 0 3)","In above instance, on the assumption that contents of state in table 1 of  is stored into a variable s by a list format of programming language Scheme (Non-patent reference 2), a function to reply a length of a list of variables (RUN,RDY,WAI) to manage the state of each task is used. Moreover, a function \u201cgetval\u201d is a function to acquire a corresponding value from a name of the variable. An application result of this function to each state is shown at the right side row (mapping result or mapped value) of table 1 in . As to a plurality of states having the same mapped value, the plurality of states is equivalent, and classified into an equivalent class. This classification result is shown in table 4 of . Assume that a state representing the equivalent class has the smallest state ID. In this case, a representative state [SID] of the equivalent class is four kinds, i.e., s, s, s and s.","A state of the quotient state-transition system is an equivalent class (Hereinafter, a state class) of the state, and a transition in the quotient state-transition system is a transition between two state classes. If a transition relation (of the state-transition system ) exists between two states respectively included in two state classes, the transition relation also exists between the two state classes.","An algorithm to generate the quotient state-transition system is represented hereinafter. Furthermore, processing flow corresponding to this algorithm is shown in a flow chart of . This algorithm is executed by a quotient state-transition system generation unit . The quotient state-transition system generation unit  inputs a state equivalence relation  (table 4 in ) and a state-transition system , and generates a quotient state-transition system  according to a following algorithm.","<Generation Algorithm of Guotient State-Transition System>","In description of the following algorithm, a sign \u201c\u03c6\u201d means a null set, and a sign \u201c\u2190\u201d means a substitution of the right side to the left side. \u201cKEYS\u201d means a step to acquire a range of the map, and \u201cP(X)\u201d means a power set of X as the set of all subsets of X.","Input: state transition system F, equivalence relation \u201cequiv\u201d","Output: Quotient state-transition system F\/","Variable: S\u2192S","Step : equivalence classification of states (B in flow chart of )",{"@attributes":{"id":"p-0275","num":"0340"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Pre: SMAP is null"]},{"entry":[{},"Post: SMAP is equivalence classification result of states"]},{"entry":[{},"SMAP \u2190 \u03c6"]},{"entry":[{},"for each s \u2208 S do"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if \u2203s\u2032 \u2208KEYS(SMAP). Equiv(s,s\u2032) then"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"SMAP(s\u2032) \u2190 SMAP(s\u2032)\u222a{s}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"SMAP(s) \u2190 {s}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"end if"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"end do"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Step : Determination of representative state (B in flow chart of )",{"@attributes":{"id":"p-0277","num":"0342"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Pre: SMAP is equivalence classification result of states"]},{"entry":[{},"Post: REPL is correspondence table of representative states"]},{"entry":[{},"REPL \u2190 \u03c6"]},{"entry":[{},"for each s \u2208KEYS(SMAPS) do"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"for each s\u2032 \u2208SMAP(s) do"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"REPL(s\u2032) \u2190 s"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"end do"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"end do"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Step : equivalence classification of transitions (B in flow chart of )",{"@attributes":{"id":"p-0279","num":"0344"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Pre: TMAP is null, REPL is correspondence table of"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"representative states"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Post: TMAP is equivalence classification result of"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"transitions"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"for each t \u2208T do"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"key \u2190 (REPL(src(t)), REPL(dst(t)))"]},{"entry":[{},"if \u2203t\u2032 \u2208KEYS(TMAP). Key=t\u2032 do"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"TMAP(t\u2032) \u2190 TMAP(t\u2032)\u222a{t}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"TMAP(key) \u2190 {t}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"end if"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"end do"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Step : output of result (B in flow chart of )","\u201cS\/\u201d is determined from a state classification table SMAP,","\u201cT\/\u201d is determined from a transition classification table TMAP, the quotient state transition system \u201cF\/=<S\/, T\/, [s]> is output, and processing is terminated.","Instance: Task Control Monitor","In the state equivalence relation definition unit , when classification of states into equivalent class is completed, a representative state [SID] of each state SID is determined (the left side row in table 4 of ). A state class as a state of the quotient state-transition system is labeled with an ID of the representative state.","Furthermore, as to transition in the quotient state-transition system, as shown in a transition table 5 of , two representative states ([SID], [SID]) of two state classes to which a source state (SID) and a destination state (SID) of each transition belong are searched, and transitions each having the same pair of two representative states are classified into an equivalent class (table 6 in ). In this case, a transition having the smallest TID is used as a representative transition [TID] to identify a transition class. In , eight transition classes exist, i.e., t, t, t, t, t, t, t and t.",{"@attributes":{"id":"p-0286","num":"0351"},"figref":["FIG. 27","FIG. 36"],"b":"24"},"At completion timing of step  (B) in , SMAP is represented as follows.\n\n(0)={0, 2, 4, 10, 14, 15}\n\n(1)={1, 3, 6, 7, 9, 13}\n\n(5)={5, 8, 11}\n\n(12)={12}\n","At completion timing of step  (B) in , REPL is represented as follows.\n\n(0)=0\n\n(1)=1\n\n(2)=0\n\n. . . (omission)\n\n(14)=0\n\n(15)=0\n","At completion timing of step  (B) in , TMAP is represented as follows.\n\n((0,0))={13, 8, 34, 39, 41}\n\n((0,1))={02, 7, 33, 38, 40}\n\n. . . (omission)\n\n((5,5))={18, 28, 32}\n","If KEYS are represented in above-mentioned example of SMAP, \u201cKEYS(SMAP)={s, s, s, s}\u201d is concluded.","In this way, in the quotient state-transition system generation unit , two groups (combination of two representative states) are indicated from a plurality of groups in order. Then, as to the two groups (two representative states (two classes)), if a transition (first transition) from one state included in one group to one state included in another group exists, a transition (second transition) from the one group to the another group is set. This processing (two groups are indicated, the second transition is set) is repeated. In this way, the quotient state-transition system representing the second transition between groups (between representative states or between classes) is generated.","<Method for Converting Transition Path>","The representative transition path generation unit  searches a path  (representative transition path  expressed by representative states or representative transition events) covering transitions in the quotient state-transition system  (). In this case, for example, well-known algorithm (Non-patent reference 1) can be used. The transition path executable as a test is a continuous transition path starting from the initial state s. The continuous transition path means that, in transition sequence, a destination state of the present transition is same as an origin state of a next transition. If a continuous representative transition path  on the quotient state-transition system is regarded as a transition path on the state-transition system, the transition path is not always continuous on the state-transition system. Accordingly, after the shortest representative transition path  (covering the quotient state-transition system ) is generated, if this representative transition path  is not a continuous path on original state-transition system, it is necessary that the representative transition path  is converted to the continuous path. Conversion steps of the path are represented as follows. Furthermore, processing flow corresponding to the conversion steps is shown in flow chart of . This processing is executed by a transition path generation unit . Moreover, only when the transition path generation unit  decides that the representative transition path  is not the continuous path on the original state-transition system, this processing may be executed. Furthermore, without decision whether the representative transition path  is not the continuous path on the original state-transition system, this processing may be always executed.","Selection of transition SELECT: T\/\u00d7S\u2192P(T)","Function: transition starting from state s is selected from transition class [t].","Detail: SELECT: T\/\u2192P(S)","Selection of state SOURCE: T\/\u2192P(S)","Function: start points of transitions included in transition class [t] are listed.","Detail: SOURCE([t])={src(t\u2032)\u03b5S|t\u2032\u03b5[t]}","Generation of path SHORTP: S\u00d7P(S)\u2192[T]","Function: the shortest path is selected from paths transiting from a state s to a state set dsts.","Detail: SHORTP(s,dsts)=DIJKSTRA(s,s\u2032)","In this case, DIJKSTRA is well-known steps to calculate the shortest path (For example, Dijkstra' s Algorithm). Furthermore, as to state \u201cs\u2032\u03b5dsts\u201d, a path length |DIJKSTRA(s,s\u2033)| is the shortest in state \u201cs\u2033\u03b5dsts\u201d.","<Conversion Algorithm of Transition Path>","Input: start state s, representative transition sequence tin=([t], [t], . . . )","Output: transition sequence tout=(t\u2032, t\u2032, . . . )","Steps:","Step : initialization (C in flow chart of )","S\u2190start state s","todo\u2190representative transition sequence tin","tout\u2190null sequence","Step : selection of transition (C, C in flow chart of )","next\u2190SELECT (the head of todo, s)","if a set next is null, then","Step : non-connection by selection (C in flow chart of )",{"@attributes":{"id":"p-0316","num":"0381"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"dsts \u2190 SOURCE(the head of todo)"]},{"entry":[{},"path \u2190 SHORTP(s,dst)"]},{"entry":[{},"s \u2190 last state of path \u201cpath\u201d"]},{"entry":[{},"tout \u2190 tout + path"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"else"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Step : non-connection by selection (C in flow chart of )",{"@attributes":{"id":"p-0318","num":"0383"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"t \u2190 one transition selected from a transition set \u201cnext\u201d"]},{"entry":[{},"s \u2190 dst(t)"]},{"entry":[{},"todo \u2190 the end of todo"]},{"entry":[{},"tout \u2190 tout + t"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"end if"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Step : decision of completion (C in flow chart of )",{"@attributes":{"id":"p-0320","num":"0385"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"If a list todo is null, then"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"to step 6"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"to step 2"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"end if"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Step : output of result","The transition path \u201ctout\u201d is output, and processing is terminated.","Instance: Task Control Monitor","The representative transition path generation unit  searches a path covering transitions of the quotient state-transition system  () by using well-known algorithm (Non-patent reference 1). In this case, a transition sequence (representative transition path ) shown in table 7 of  is acquired. This transition sequence is a continuous path on the quotient state-transition system  (), but it is not the continuous path on original state-transition system (). In this case, the transition sequence cannot be directly used as an executable test case.","For example, in the table 7 of , a transition sequence along representative transitions of the second path is t\u2192t\u2192t\u2192t\u2192t\u2192t. However,in this case, a destination state and an origin state of the transition sequence are not continuously connected. For example, state classes of state s and state s are same. Accordingly, these states s and s are equivalent on the quotient state-transition system (), but they are different on the original state-transition system ().","If the representative transition path  is not a continuous path on the original state-transition system (), the transition path generation unit  acquires the transition path  executable by converting the transition path. Concretely, the transition path generation unit  suitably selects a transition from a transition class of the representative transition path , and generates a path of which state-transition is continuous on the original state-transition system.","If the path of which state-transition is continuous is not generated by selecting the transition, states of the path is continuously modified by using calculation algorithm of the shortest path (step  (C in )). Briefly, as to an object transition class from which a continuous path cannot be generated, a destination state of a transition selected from a previous transition class is set to an origin state. Then, a path from the origin state to any state included in destination states of the object transition class is generated and used.","In this case, by inputting a path of the quotient state-transition system, an operation to calculate a path of which states continuously transits on the original state-transition system is called \u201cpath-generation\u201d (or path-regeneration). Algorithm of path-generation (path-regeneration) is already explained by referring to .","By inputting the transition path (table 7 in ) and the initial state s, application result of the path-generation (path-regeneration) algorithm is shown in table 8 of . As to a transition path of the table 8, the initial state is a state s, and the transition path is acquired by selecting one transition from transitions included in each transition class (table 7 in ). As a result, this transition path is an executable path of which states continuously transit on the original state-transition system. In the table 8 of , the transition path becomes the minimum test case satisfying the initial test criteria that \u201call states and transitions between states are covered without distinguishing task IDs\u201d.","In this way, the transition path generation unit  selects each transition (first transition) of the representative transition path  in order of each second transition traced by the representative transition path generation unit . Then, as to each first transition selected, the transition path generation unit  specifies a first transition. The first transition has the same origin state as one of origin states of a selected second transition, the same destination state as one of destination states of the selected second transition, and the same origin state as a destination state of a previous first transition specified. As mentioned-above, the first transition is included in the original state-transition system. The transition path generation unit  generates a test case (transition path) including a sequence of each first transition specified and an event corresponding to each first transition.","As mentioned-above, when the first transition is not specified for one second transition of the second transitions selected in order, the transition path generation unit  selects a first transition. The first transition has the same origin state as a destination state of another first transition specified for a previous second transition selected, and has the same destination state as one of destination states of the one second transition. In this way, the transition path generation unit  generates the transition path so that the states of the first transitions continue on the original state-transition system.","In the disclosed embodiments, the processing can be performed by a computer program stored in a computer-readable medium.","In the embodiments, the computer readable medium may be, for example, a magnetic disk, a flexible disk, a hard disk, an optical disk (e.g., CD-ROM, CD-R, DVD), an optical magnetic disk (e.g., MD). However, any computer readable medium, which is configured to store a computer program for causing a computer to perform the processing described above, may be used.","Furthermore, based on an indication of the program installed from the memory device to the computer, OS (operation system) operating on the computer, or MW (middle ware software), such as database management software or network, may execute one part of each processing to realize the embodiments.","Furthermore, the memory device is not limited to a device independent from the computer. By downloading a program transmitted through a LAN or the Internet, a memory device in which the program is stored is included. Furthermore, the memory device is not limited to one. In the case that the processing of the embodiments is executed by a plurality of memory devices, a plurality of memory devices may be included in the memory device.","A computer may execute each processing stage of the embodiments according to the program stored in the memory device. The computer may be one apparatus such as a personal computer or a system in which a plurality of processing apparatuses are connected through a network. Furthermore, the computer is not limited to a personal computer. Those skilled in the art will appreciate that a computer includes a processing unit in an information processor, a microcomputer, and so on. In short, the equipment and the apparatus that can execute the functions in embodiments using the program are generally called the computer.","Other embodiments of the invention will be apparent to those skilled in the art from consideration of the specification and embodiments of the invention disclosed herein. It is intended that the specification and embodiments be considered as exemplary only, with the scope and spirit of the invention being indicated by the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0014","num":"0017"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0018"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0016","num":"0019"},"figref":"FIG. 3","b":"1"},{"@attributes":{"id":"p-0017","num":"0020"},"figref":"FIG. 4","b":"2"},{"@attributes":{"id":"p-0018","num":"0021"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0019","num":"0022"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0020","num":"0023"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0021","num":"0024"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0022","num":"0025"},"figref":["FIG. 9","FIG. 8"]},{"@attributes":{"id":"p-0023","num":"0026"},"figref":["FIG. 10","FIG. 8"]},{"@attributes":{"id":"p-0024","num":"0027"},"figref":["FIG. 11","FIG. 10"]},{"@attributes":{"id":"p-0025","num":"0028"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0026","num":"0029"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0027","num":"0030"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0028","num":"0031"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0029","num":"0032"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0030","num":"0033"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0031","num":"0034"},"figref":"FIG. 18","b":"3"},{"@attributes":{"id":"p-0032","num":"0035"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0033","num":"0036"},"figref":"FIG. 20","b":"6"},{"@attributes":{"id":"p-0034","num":"0037"},"figref":"FIG. 21","b":"6"},{"@attributes":{"id":"p-0035","num":"0038"},"figref":"FIG. 22","b":"11"},{"@attributes":{"id":"p-0036","num":"0039"},"figref":"FIG. 23","b":"11"},{"@attributes":{"id":"p-0037","num":"0040"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0038","num":"0041"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0039","num":"0042"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0040","num":"0043"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0041","num":"0044"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0042","num":"0045"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0043","num":"0046"},"figref":"FIG. 30"},{"@attributes":{"id":"p-0044","num":"0047"},"figref":["FIG. 31","FIG. 26"]},{"@attributes":{"id":"p-0045","num":"0048"},"figref":["FIG. 32","FIG. 26"]},{"@attributes":{"id":"p-0046","num":"0049"},"figref":["FIG. 33","FIG. 26"]},{"@attributes":{"id":"p-0047","num":"0050"},"figref":"FIG. 34"},{"@attributes":{"id":"p-0048","num":"0051"},"figref":"FIG. 35"},{"@attributes":{"id":"p-0049","num":"0052"},"figref":["FIG. 36","FIG. 35"]},{"@attributes":{"id":"p-0050","num":"0053"},"figref":"FIG. 37"},{"@attributes":{"id":"p-0051","num":"0054"},"figref":["FIG. 38","FIG. 26"]}]},"DETDESC":[{},{}]}
