---
title: Method and apparatus for monitoring of switch resources using resource group definitions
abstract: Resources associated with a communication system switch are monitored by storing information defining one or more resource groups. Each of the resource groups includes multiple identifiers, with each of the identifiers specifying at least one resource to be monitored. A client external to the switch is permitted to select at least one of the resource groups for monitoring. In response to selection of one of the groups by the client, monitoring of the corresponding resources is established on behalf of the client. The resource monitoring may be established, controlled and maintained by a telephony server coupled between the client and the switch. Such a telephony server can preserve monitoring for a resource group, independent of the requests of clients, in order to reduce the amount of execution time needed to set up and tear down monitors for client applications. This is particularly advantageous in call centers or in other client applications that involve monitoring large numbers of switch resources.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07716311&OS=07716311&RS=07716311
owner: Avaya Inc.
number: 07716311
owner_city: Basking Ridge
owner_country: US
publication_date: 20020930
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The invention relates generally to the field of enterprise communication platforms and other types of communication system switches, and more particularly to the monitoring of resources associated with a communication system switch.","Examples of conventional communication system switches include private branch exchanges (PBXs) and automatic call distribution (ACD) systems. As is well known, such switches may be controlled via computer-telephony integration (CTI) applications running on computers internal or external to the corresponding enterprise communication platform. CTI applications are commonly used in call centers and other enterprise call processing contexts.","An important function of CTI applications in these contexts involves the monitoring of switch resources. For example, most CTI applications require information regarding dynamic telephony activity for specific enterprise communication platform resources, such as agent terminals and other system endpoints, ACD devices, etc. The CTI applications use this information to make most effective use of the monitored resources in processing incoming and outgoing calls. Current CTI application programming interfaces (APIs), such as Telephony Services Application Programming Interface (TSAPI), Java Telephony Application Programming Interface (JTAPI) and Telephony Application Program Interface (TAPI), and their associated protocols each provide a mechanism for a CTI application to request notification of any activity involving a particular telephony resource.","In a typical conventional resource monitoring arrangement, the CTI application first sets up a communication session with an enterprise communication platform, often through a corresponding gateway device. As part of this session, the CTI application supplies any required authentication information. The CTI application then sends a series of resource monitor requests, generally one request per resource on the targeted platform. Activity events involving the monitored telephony resources are communicated to the waiting application within the established session.","Unfortunately, there are a number of significant problems with the conventional resource monitoring approach described above. For example, the above-noted example CTI APIs typically require that resource monitoring requests be issued one at a time, resulting in an unduly complex arrangement when there are a large number of resources to monitor. Moreover, since each CTI application is responsible for generating its own individual resource monitoring requests, redundant lists of monitored resources may be present in different CTI applications, or one or more of the lists may be inconsistent with the actual resources present at any given time in the enterprise communication platform. Yet another problem is that the individual resource monitoring requests typically have to be regenerated each time a given CTI application is restarted, which can result in excessive execution time. As a more particular example, a CTI application running on a client machine may crash, in which case existing monitoring arrangements will be terminated and must be reestablished, at the cost of additional execution time.","Existing API function calls fail to provide an adequate solution to one or more of the problems identified above. These example function calls include the Genesys T-Library API call TRegisterAll, described in the T-Server 5.1.5 Developer's Guide, Chapter 3, \u201cFeature Requests,\u201d p. 85, which registers a CTI application to receive events regarding all telephony \u201cobjects\u201d associated with a given CTI link, and the JAIN\u2122 Call Control (JCC) API call CreateEventFilterAddress*( ), described at http:\/\/java.sun.com\/products\/jain, which allows the specification of event filters.","Other similarly-deficient techniques are described in, for example, ECMA 269, Services for Computer Supported Telecommunications (CSTA) Phase III, Fourth Edition, June, 2000, http:\/\/www.ecma.ch, Sections 6.1.3.4.3, 6.1.3.4.5 and 6.1.3.6. See also ISO\/IEC 18051:2000(E) International Standard, Information technology\u2014Telecommunications and information exchange between systems\u2014Services for Computer Supported Telecommunications Applications (CSTA) Phase III, Jul. 15, 2000.","As is apparent from the foregoing, a need exists for an improved approach to monitoring of switch resources via CTI applications or other monitoring mechanisms.","The present invention overcomes one or more of the above-noted problems by providing improved techniques for monitoring switch resources.","In accordance with one aspect of the invention, resources associated with a communication system switch are monitored by storing information defining one or more resource groups. Each of the resource groups includes multiple identifiers, with each of the identifiers specifying at least one resource to be monitored. A client is permitted to select at least one of the resource groups for monitoring. In response to selection of one of the groups by the client, monitoring of the corresponding resources is established on behalf of the client.","In an illustrative embodiment of the invention, the resource monitoring is established, controlled and maintained by a telephony server coupled between the client and the switch. More particularly, the telephony server includes a resource monitor for permitting the selection of the resource group by the client and controlling the monitoring of the corresponding resources on behalf of the client. The resource group definitions are stored such that the one or more defined resource groups are selectable by each of a number of different clients external to the switch. The selection of one of the defined resource groups may be implemented via a computer-telephony integration (CTI) application running on the client.","In accordance with another aspect of the invention, the resource groups may each be stored with one or more attributes specifying the manner in which the monitoring is to be implemented. For example, a given attribute may indicate that the corresponding resource group will be set up for monitoring prior to selection of the group by the client. Another attribute may indicate that the monitoring of the corresponding resource group will continue even if the requesting client fails. Yet another attribute may indicate that the monitoring of the corresponding resource group will continue even if the requesting client indicates that it no longer requires the monitoring.","In accordance with a further aspect of the invention, the identifiers associated with a given one of the resource groups may be determined in response to a parameterized query based on a description of at least one characteristic of the group.","Advantageously, the present invention provides particularly efficient techniques for monitoring multiple diverse communications platforms on behalf of numerous, otherwise unrelated clients. The invention can be configured to provide a consistent interface for the clients, and centralized negotiation, control and maintenance of resource monitoring relationships. Moreover, the time required to establish the monitoring on behalf of clients is considerably reduced, particularly for applications monitoring large numbers of resources and upon failure and restart of clients or client applications.","Although the invention will be illustrated below in conjunction with an exemplary communication system, it is not limited to use with any particular configuration of system elements or communication processing application. Those skilled in the art will recognize that the disclosed techniques may be used in any communication system or communication processing application in which it is desirable to provide improved monitoring of resources associated with a communication system switch. For example, the disclosed techniques can be used in any communication system which includes a private-branch exchange (PBX), an automatic call distribution (ACD) device, as well as portions or combinations of these and other types of communication system switches.","The term \u201ccall\u201d as used herein is intended to be construed broadly so as to encompass not only incoming or outgoing telephone calls but also other types of communications such as voiceover-IP (VoIP) communications, session initiation protocol (SIP) communications, data transmissions, e-mail, facsimile, chat sessions, instant messaging, etc.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1","b":["100","100","102","104","106","1","106","2","106","106","1","106","2","106","1","2","104"]},"In a call center application of the system , each of the terminals -, -, . . . -N may correspond to an agent workstation. Such a workstation may comprise a computer having telephony capability, a telephone station with an associated video display terminal, etc.","Although switch  is shown as associated with the premises  in this embodiment, the invention does not require that the switch  be so configured. Alternatively, the switch  may be implemented as a distributed switch which includes switch processing elements at multiple locations, networked together in a conventional manner.","The term \u201cswitch\u201d as used herein should be understood to include a PBX, an enterprise switch, or other type of communications system switch, as well as other types of processor-based communication control devices such as servers, computers, routers, adjuncts, etc., including a distributed switch such as that referred to above.","By way of example, the switch  in the illustrative embodiment may be implemented as an otherwise conventional DEFINITY\u00ae Enterprise Communication Service (ECS) communication system switch, available from Avaya Inc. of Basking Ridge, N.J., USA. Details regarding conventional aspects of the DEFINITY\u00ae ECS maybe found in the DEFINITY\u00ae ECS Administrator's Guide, Release 9, Document No. 555-233-506. Other types of known switches may also be used. The conventional aspects of such switches are well known in the art and therefore not described in detail herein.","Another example switch suitable for use in conjunction with the present invention is the MultiVantage\u2122 communication system switch, also available from Avaya Inc.","The terminals  may be wired desktop telephone terminals or any other type of terminals capable of communicating with the switch . The word \u201cterminal\u201d as used herein should therefore be understood to include not only wired or wireless desktop telephone terminals, but also other types of processor-based communication devices, including but not limited to mobile telephones, personal computers, SIP endpoints, personal digital assistants (PDAs), etc.","It is to be appreciated that such terminals are to be viewed as examples of resources, associated with a communication system switch, that are monitorable in accordance with the techniques of the invention. The invention, however, can be used with any of a wide variety of other monitorable resources.","The term \u201cresource\u201d as used herein is therefore intended to include, by way of example and without limitation, any object, feature or function associated with the terminals  or switch , for which the switch provides an indication that it will report changes or other activity involving that object, feature or function. Such resources are more generally referred to herein as being \u201cassociated with\u201d the switch . More particular examples of monitorable resources corresponding to switch-administered objects include, without limitation, terminals, agents, ACD devices, vector dialed numbers (VDNs), actual or virtual extensions, trunk lines, etc. More particular examples of monitorable resources corresponding to switch features or functions include, without limitation, terminal message waiting indicators, extension call forwarding settings, etc.","Referring again to , the switch  is also coupled via one or more trunk lines  to a network . The network  may comprise, e.g., a public switched telephone network (PSTN). The trunk lines  carry incoming calls from the network  to the switch  for processing, and carry outgoing calls from the switch  to the network . The network  may also or alternatively comprise a wide area computer network such as the Internet, a local area network, a metropolitan area network, a wireless cellular network, a satellite network, as well as portions or combinations of these and other networks.","It should be noted that the invention does not require any particular type of information transport media between switch , network  and terminals , i.e., the invention may be implemented with any desired type of transport medium as well as combinations of different types of transport media.","The switch  may be connected to one or more external endpoints, e.g., external terminals or system processing elements, via network  or other suitable communication channel(s).","The system  may also include one or more SIP terminals, SIP applications or other SIP endpoints, connected to switch  or arranged elsewhere in the system , internal or external to the premises . Such SIP endpoints are considered resources that can be monitored using the techniques of the invention.","It should also be emphasized that the configuration of the switch, user terminals and other elements as shown in  is for purposes of illustration only, and should not be construed as limiting the invention to any particular arrangement of elements.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 2","FIG. 1"],"b":["102","102","200","202","204","206","208","210","200","202"]},"The processor  operating in conjunction with the memory  executes one or more software programs for providing call processing functions within the switch . Such programs may be stored in memory  or another storage device accessible to the switch  and executed by processor  in a conventional manner.","The database  may be, e.g., an optical or magnetic disk-based storage device, or other conventional storage device associated with or otherwise accessible to the switch . The database  may be used to store, e.g., feature assignments to particular feature buttons or codes, directory number assignments to corresponding call appearances or direct facility termination keys, access restrictions, and other administrative information regarding the configuration of the system , as well as other types of information.","Database  may be made accessible to particular system elements, so as to provide customer control of at least a portion of the database contents. For example, such a portion could contain customer-proprietary data. Other combinations and configurations of internal and external databases or other storage devices could be used.","The service circuits  may include tone generators, announcement circuits, etc. These circuits and the interfaces  are controlled by processor  in implementing call processing functions in the switch .","The switch  may include additional elements which are omitted from  for simplicity and clarity of illustration. For example, the switch may include a port card for each type of user terminal associated therewith. In addition, it will be appreciated by those skilled in the art that the switch  may be configured to support multiple user terminals of different types, e.g., wired deskset terminals, wireless deskset terminals, personal computers, video telephones or other advanced terminals, etc.","Also associated with the switch  may be an administrator terminal (not shown) which is used to program the operation of the switch  during a system administration, e.g., an initial set-up and configuration of the system or a subsequent system-level or user-level reconfiguration.","Other devices not shown in  may be associated with the switch , such as an adjunct feature server. Such an adjunct may be physically incorporated within the switch, and may be partially or completely implemented using other switch elements such as processor  and memory . By way of example, an adjunct feature server may correspond to a given one of the clients  to be described in conjunction with .","The present invention in accordance with one aspect thereof provides improved resource monitoring in the system  of  as well as other switch-based communication systems. More particularly, the invention in the illustrative embodiment to be described below in conjunction with  allows different client machines to initiate resource monitoring in a particularly efficient manner via a telephony server coupled between one or more of the clients and the switch .","With reference now to , the network  of  is shown as including or otherwise having associated therewith a telephony server  coupled to a set of M client machines denoted -, -, . . . -M. The telephony server  is also coupled to the switch , and may be coupled to one or more additional switches which are not explicitly shown in the figure. Although the telephony server  and the clients  are shown as elements of the network  in this illustration, this is by way of example only, and numerous other interconnections of the client, server and switches are possible.","In addition, although the telephony server  is shown as being separate from the switch  in , it may in other embodiments of the invention be incorporated in whole or in part into a given switch platform. The telephony server  may therefore be within the premises  serviced by the switch , rather than external to that premises as in the  embodiment.","In addition, the telephony server  may be configured for use in conjunction with the monitoring of other resources associated with the switch, such as SIP telephones or other SIP endpoints, as well as other suitable monitoring domains.","Events, updates and other information regarding monitored resources may be returned from the switch  to the telephony server , and from the telephony server  to the requesting client or client application.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 4","b":["300","300","400","402","404","300","400"]},"The telephony server  may represent a single server or a server farm, cluster or other arrangement of multiple servers. By way of example, a multiple server implementation may be based on the Java 2 Platform, Enterprise Edition (J2EE).","An example telephony server suitable for use in conjunction with the present invention is the Avaya Computer Telephony (ACT) Telephony Server, available from Avaya Inc. of Basking Ridge, N.J., USA. Details regarding the ACT Telephony Server can be found in, e.g., the CentreVu\u00ae Programmer's Guide for DEFINITY\u00ae Enterprise Communications Server, Release 11.1, Version 1, TSAPI Version 2, Private Data Version 6, Issue 1, May 2002, which is incorporated by reference herein.","The resource monitor  is preferably implemented primarily in the form of software executable by one or more processors of the telephony server . For example, the resource monitor  may be implemented as \u201cmiddleware\u201d residing in one or more memory elements within or otherwise accessible to the telephony server . Such middleware may be viewed as residing between an operating system of the telephony server  and one or more applications that run on or otherwise access or interact with the server . The resource monitor  performs functions that are described below in conjunction with the flow diagram of .","The database  may represent one or more storage devices or other memory elements of the telephony server, such as an electronic, magnetic or optical storage medium, or portions or combinations thereof.","Referring now to the flow diagram of , in step  a number of resource group definitions are stored in the telephony server database . The group definitions are stored along with assigned attributes, if any, as will be described below. Each of the resource group definitions stored in step  comprises information defining a group of switch resources to be monitored. The information comprises multiple resource identifiers, with each of the identifiers specifying at least one switch resource to be monitored.","A given resource may be identified by a simple resource name, such as the particular extension Ext, Ext, . . . ExtN associated with a corresponding one of the terminals , a vector dialed number (VDN), an agent or agent skill number, or other identifier. Standardized directory services may be used to associate descriptive attributes with the resource identifiers, e.g., DNtype=\u201csales vector\u201d where DN denotes dialed number, or agentskill=\u201cspeaks spanish.\u201d","A resource group may be defined simply as a list of resource identifiers, defined as the result of a flexible query, e.g., one based on associated descriptive attributes, or defined in another suitable manner.","By way of example, a flexible query may be initiated by a client or client application. Such a query could be implemented to provide a bulk upload of resource identifiers in which all identifiers for a given group are returned in response to a single query, or an enumerator upload in which the identifiers are determined and returned a few at a time. The queries may be configured in accordance with well-known structured query language (SQL) techniques.","A flexible query may be a parameterized query. In an illustrative implementation, one could define a query parameter and then list the category values that should be associated with the corresponding stream description. For example, for a query parameter \u201cDN campaign type\u201d the list could include the two values \u201cSki Pants Special DN\u201d and \u201cSki Boots Sale DN\u201d for particular sales campaigns rather than lists of dialed numbers associated with those sales campaigns. A switch administration database could include \u201cDN campaign type\u201d information for each dialed number, and when the stream description is to be activated, the actual list of switch resources is retrieved.","The above-noted parameterized query can also be used to provide an abstract description upload feature in which an abstract description of particular resources of interest is used to determine the particular resource identifiers to be included in a given resource group.","A client or client application may be informed as to the particular members of a given group or groups using a number of different approaches.","For example, the client or client application may receive only a single notification of the particular members comprising a group, i.e., a \u201cone-time\u201d update, or periodic updates informing it as to any changes in the group membership.","In step  of , one of the clients  asks the telephony server  to monitor a specified one of the previously-defined resource groups. Each of the clients  is permitted to select particular ones of the defined resource groups for monitoring on its behalf. The defined resource groups are thus selectable by each of a plurality of clients external to the switch .","The resource monitor  of the telephony server  in step  of  responds to client selection of a particular resource group or groups by retrieving the group definition(s) from the database  and setting up a resource monitoring stream for the requesting client. A resource monitoring stream, in accordance with the present invention, comprises an arrangement whereby the resource monitor  directs the monitoring of the selected resources via communication with one or more switches over the switch interface , with events characterizing the activities of the monitored resources being returned to the requesting client. The resource monitor  in the illustrative embodiment thus permits the selection of one or more previously-defined resource groups by the client  and subsequently controls the monitoring of the corresponding resources on behalf of the client.","The selection of one of the previously-defined resource groups in step  of  may be implemented via a computer-telephony integration (CTI) application running on the requesting client . It is to be appreciated, however, that the invention does not require the use of any particular CTI application or client request format.","As indicated above, the resource group definitions may each be stored with one or more assigned attributes. Such attributes can be used to direct the telephony server  to handle the resource monitoring in a particular manner when the corresponding group is selected. The attributes are preferably independent of and combinable with one another. Examples of attributes in accordance with the invention include Preloaded, AppCrashproof and DenyStop.","The Preloaded attribute directs the telephony server to set up the selected monitoring arrangement before the application starts. The monitoring is therefore ready for execution as soon as possible upon selection of the corresponding group.","When the AppCrashproof attribute is present, the monitoring of the corresponding resource group will continue even if the requesting client or client application goes down or otherwise fails. The monitoring is therefore immediately ready when the client or application restarts. With this attribute, if the application is designed to automatically and immediately restart when it crashes, as many applications are, then the monitoring relationships will not be terminated and restarted. Instead, these relationships are maintained, and remain in place and ready to use immediately upon restart.","When the DenyStop attribute is present, the monitoring of the corresponding resource group will continue even if the requesting client indicates that it no longer requires the monitoring, so that the monitoring arrangement is essentially preloaded for another client. The resource monitor  in this case may acknowledge a client request to terminate the monitoring, while nonetheless continuing the monitoring without reporting events to that client. This attribute allows the telephony server to keep monitoring relationships up for the interests of many clients. No one client can \u201ctear down\u201d the group.","The above attributes are particularly useful for those clients or client applications that require monitoring of large groups of switch resources. It should be understood that the above attributes are examples only, and numerous other attributes may be associated with a given resource group in accordance with the techniques of the invention.","It should also be emphasized that the particular process flow illustrated in  is exemplary only. A number of other example resource monitoring flow scenarios are specified below:","Scenario A: The telephony server initially sets up a monitoring relationship with the switch, for groups marked with the attribute Preloaded, without any client application request being received.","Scenario B: A client application requests monitoring for a group with no special attributes, and the telephony server establishes monitoring with members of the group.","Scenario C: A client application requests monitoring for a group with the Preloaded attribute, and the telephony server simply acknowledges the request and commences the monitoring without the need for further communication with the switch.","Scenario D: A client application crashes or ends normally, while monitoring a group with the AppCrashproof attribute, and the telephony server keeps the monitoring arrangement in place without requiring that any message be sent to the switch.","Scenario E: A client application indicates that it no longer wants monitoring of a group with the DenyStop attribute, and the telephony server keeps the monitoring arrangement in place without requiring that any message be sent to the switch.","Of course, numerous alternative resource monitoring scenarios are possible utilizing the techniques of the invention.","An advantage of the illustrative embodiment described above with reference to ,  and  is that the telephony server  can monitor multiple diverse communications platforms on behalf of numerous, otherwise unrelated clients. This provides a consistent interface for the clients, and centralized negotiation, control and maintenance of resource monitoring relationships. Moreover, the time required to establish the monitoring on behalf of clients is considerably reduced, particularly for applications monitoring large numbers of resources and upon failure and restart of clients or client applications.","As previously noted, the resource monitoring functions described above in conjunction with the illustrative embodiments of the invention may be implemented in whole or in part in software running on the telephony server .","The term \u201cmonitoring\u201d as used herein with regard to switch resources is intended to be construed broadly, so as to encompass, by way of example and without limitation, an operation or operations involving control of the switch resources.","It should again be emphasized the above-described embodiments are illustrative only. For example, alternative embodiments may utilize different client, switch and terminal configurations, different types and arrangements of servers, and different resource monitoring stream description formats. These and numerous other alternative embodiments within the scope of the following claims will be apparent to those skilled in the art."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 5","FIG. 1"]}]},"DETDESC":[{},{}]}
