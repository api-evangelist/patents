---
title: Document-database access device
abstract: A document-database access device enables a WWW client to access a URL-linked document correctly and efficiently when accessing a document with a URL link if the document with the URL link and the URL-linked document are uploaded onto a document database, and also enables the WWW client to access each document under a particular folder by supplying different URL formats to the document for specifying an individual document even if documents with a single name exist under the particular folder.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06993525&OS=06993525&RS=06993525
owner: Ricoh Company, Ltd.
number: 06993525
owner_city: Tokyo
owner_country: JP
publication_date: 20000828
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates generally to a document-database access device, and more particularly to a method for structuring a URL (Uniform Resource Locators) that is necessary when a WWW (World Wide Web) client accesses a document database, and a document- database access device applying document-database accessing means based on the URL so that the WWW client can follow a hyperlink to retrieve an object document in a case that the document database especially includes a document such as an HTML (Hyper Text Markup Language) document or an XML (Extensible Markup Language) document using a URL as the hyperlink.","2. Description of the Related Art","Japanese Laid-Open Patent Application No. 9-185633 discloses a technology, wherein when a document that includes a hyperlink is uploaded to a WWW server, a group of linked documents are also uploaded to the WWW server. According to the technology, by extracting a URL from the document that is to be uploaded, the document specified by the URL is registered together with the document that includes the URL. The URL can be modified if necessary at the time of an upload process of the documents.","Japanese Laid-Open Patent Application No. 2000-172680 discloses a technology as follows. When a document that includes an URL and a document specified by the URL are uploaded onto a document database, an original URL and a corresponding document identifier in a document database are recorded successively to a correspondence table. In a case that the document is to be taken out from the document database, the document is given to a client after the URL of the document is changed with use of the correspondence table. Though the technology can process any URL, the upload process and a takeout process of the document may take long.","A system using the document database manages contents of the document and bibliography information by relating them with each other, and can retrieve a document under various retrieval conditions. For instance, by setting a document name, an uploading date, a creator name and a word included in the contents of the document as a key, the system using the document database can retrieve the document that fulfills the key conditions.","In the document database, a document may be placed mostly under a folder or a directory. The folders compose a tree structure of the document database, and a necessary document can be retrieved from the document database or can be traced consecutively from the highest-ranked folder to its subfolders. The folders and the documents have names, and when a folder is opened, a list of names of the documents and the subfolders are displayed.","The document database generally includes a server unit and a client unit. The server unit manages document data in the document database. The client unit is operated by a user through a display monitor. A client is a program exclusively used with the document database, and is designed to fit to functions of the document database.","On the other hand, with the propagation of the WWW, it is now necessary to access to the document database not only from the exclusive client but also from a general WWW client, for instance, a WWW browser. In the above-described case, the document database has a function as a WWW server, and a document or a folder in the document database is specified by a URL.",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},"On the other hand, in the document database, a document cannot be specified only by the file name of the document named before the registration of the document, since different documents might originally have the same file name with the document. Regularly, an identifier ID is given to a single document. The documents and the identifiers are managed in the document database so that the single document corresponding to the identifier is specified if the ID of the document is specified.",{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 2","FIG. 1"],"ul":{"@attributes":{"id":"ul0001","list-style":"none"},"li":{"@attributes":{"id":"ul0001-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0002","list-style":"none"},"li":"http:\/\/hostname\/document\/doc0001"}}}},"Following the above-described URL, the WWW client obtains the contents of the file \u201cdoc0001\u201d from the document database and displays the contents on the monitor. Since the file \u201cdoc0001\u201d includes a URL link to the file \u201cnote.html\u201d, the WWW client interprets the link address as a URL:\n\n","To eliminate the disadvantages described above, a document can be specified ID in the document database by using a folder hierarchy and a file name instead of using the document ID. For instance, if the file \u201cdoc0001\u201d shown in  can be accessed through a URL:\n\n","However, in this document database using URLs, the WWW client must search contents of each folder in order so that a response speed of the document database becomes slow along with a large document-database load. Additionally in a case that documents with a single name exist under a single folder, the WWW client cannot specify the document in the document database using URLs.","Accordingly, it is a general object of the present invention to provide a document-database access device that enables a WWW client to access a URL-linked document correctly and efficiently when accessing a document with a URL link if the document with the URL link and the URL-linked document are uploaded onto a document database. It is the other general object of the present invention to provide a document-database access device that enables the WWW client to access each document under a particular folder by supplying different URL formats to the document for specifying an individual document even if documents with a single name exist under the particular folder.","The above-described objects of the present invention are achieved by a document-database access device accessing a document database, wherein a document and a folder have names and can be specified by identifiers, and the document can be placed under the folder with hierarchy, the document-database access device including:","HTTP-request receiving means for receiving an HTTP request from a WWW client;\n\n","It should be noted that, hereinafter, the document or the folder is generally referred to as objects.","Other objects, features and advantages of the present invention will become more apparent from the following detailed description when read in conjunction with the accompanying drawings.","A description will now be given of preferred embodiments of the present invention, with reference to the accompanying drawings.",{"@attributes":{"id":"p-0030","num":"0038"},"figref":"FIG. 3","b":["1","2","2","2","4","2","2"]},"The document-database access device  is provided so that a general WWW client  such as a WWW browser can access the document database . The document-database access device  works as a client to the document database , and as a server when the WWW client  accesses it.","A document or a folder stored in the document database  is specified on a HTTP (Hyper Text Transfer Protocol) by a URL when the WWW client  accesses the object through the document-database access device . Subsequently, the document-database access device  interprets the URL of the object, and accesses the document database  by using the API of the document database  and the ID of the object.",{"@attributes":{"id":"p-0033","num":"0041"},"figref":["FIG. 4","FIG. 4","FIG. 3"],"b":["1","1","1","11","3"]},"The GET request will now be described. A type of the HTTP request (GET), URL and a HTTP version are recorded on a first line, and a server name or a host name for the document-database access device  is recorded on a second line as follows.\n\n","Host:hostname","If the host name is the name of the document-database access device , the URL \u201c\/folder0123\/image\/foo.gif\u201d is taken out and is passed to a segment dividing means .","A URL obtained from the first HTTP request line always starts from \u201c\/\u201d, and the URL \u201c\/folder0123\/image\/foo.gif\u201d separates each segment with \u201c\/\u201d. The segment dividing means  removes \u201c\/\u201d that is placed between each segment, and creates a URL segment table as shown in a TABLE. 1. If the last character of the URL is \u201c\/\u201d, the segment dividing means  sets the content of the last segment empty and stores the empty content to the section with the last segment number.",{"@attributes":{"id":"p-0037","num":"0046"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Segment Number","Content of Segment"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1",{"sub":"\u2014"}]},{"entry":["2","image"]},{"entry":["3","foo.gif"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0038","num":"0047"},"figref":["FIGS. 5 and 6","FIG. 4","FIG. 5"],"b":["13","13","2","13","1","13"],"sub":["\u2014","\u2014"]},"\u201cX\u201d shown in  indicates a subfolder number of a current folder. For instance, \u201cX\u22121\u201d indicates a current folder number. If it is ascertained at the step S that the content of the first segment is not an ID, the object searching means  sets the highest-ranked folder in the document database  as a current folder at a step S, subsequently sets X=1 at a step S, and proceeds to a step S. If it is ascertained at the step S that the content of the first segment is an ID, the object searching means  searches the folder corresponding to the ID in the document database  at a step S. If the folder corresponding to the ID is found at the step S, the object searching means  sets the folder as the current folder and X=2 at a step S, and proceeds to the step S. If no folder corresponding to the ID is found at the step S, the object searching means  ascertains that there is no object corresponding to the URL in the document database  at a step S.","At a step S, the object searching means  determines whether X is smaller than a total number of the segments in the URL. If it is ascertained at the step S that X is smaller than the total number of the segments, the object searching means  proceeds to a step S, and determines whether the content of the \u201cX\u201dth segment is a folder name under the \u201cX\u22121\u201dth folder. If the content of the \u201cX\u201dth segment is found to be the folder name at the step S, the object searching means  sets the folder as the current folder and sets X=X+1 at a step S, and shifts back to the step S. If the content of the \u201cX\u201dth segment is not found to be the folder name at the step S, the object searching means  ascertains that there is no object corresponding to the URL in the document database  at the step S. The object searching means  repeats a step S, a step S and a step S until when X is equal to the total number of the segments at the step S. When X is equal to the total number of the segments at the step S, the object searching means  proceeds to a step S, and determines whether the content of the last segment of the URL is empty. If the content of the last segment is found to be empty, the object searching means  verifies that the object corresponding to the URL is the current folder at a step S. If the content of the last segment is found to be not empty, at a step S, the object searching means  retrieves the document which name corresponds to the content of the segment under the current folder. At a step S, the object searching means  determines that the document retrieved is the object corresponding to the URL. If the document is not found, the object searching means  determines that there is no object corresponding to the URL at the step S.","A description will now be given of another embodiment of processing steps of the object searching means . In this embodiment, the object searching means  searches a document when accessing the document using the URL shown below.\n\n","If the content of a last segment is found to be not empty at the step S shown in , the object searching means  checks if the content of the last segment starts with the document ID. If the content of the last segment does not start with the document ID, the object searching means  proceeds to the step S and executes the above-described steps. If the content of the last segment starts with the document ID, the object searching means  divides the name that includes the document ID and the following document name into the document ID and the following document name. Even though \u201c\u201d is used for separating the document ID and the document name in the embodiment of the present invention, a character or a word that appears in neither the document ID nor the document name can be used for separating the document ID and the document name.","The object searching means  searches the document by using the document ID. If the document is found under the current folder and has the same document name as the document name following the document ID of the URL, the object searching means  determines the document under the current folder as the object corresponding to the URL. If no document is found or the document found under the current folder has a different name from the document name following the document ID of the URL, the object searching means  determines that there is no object corresponding to the URL.",{"@attributes":{"id":"p-0044","num":"0054"},"figref":"FIG. 7","b":["13","23","24","25","13","29","13"],"sub":"\u2014"},"Accordingly, the document-database access device  can return the content of a first document to the WWW client  in a short amount of time in a case that the WWW client  accesses the first document by following the link in a second document while displaying the second document. When a group of HTML documents created on a local machine are uploaded to the document database , the WWW client can follow the hyperlink if a relative link is used for the HTML documents. It is possible for the WWW client to follow the hyperlink since the URL that points a document is comprised of a combination of a folder name and a document name.","A returning-content creating means  shown in  creates a returning content and decides a return code for the HTTP and a necessary header for the object. If the object corresponding to the URL is not found by the object searching means , the returning-content creating means  creates an HTML document for notifying absence of the object. If the object corresponding to the URL exists, the returning-content creating means  sets the content of the object as the returning content.","Subsequently, a HTTP-response transmitting means  returns the HTML document created by the returning-content creating means  with the header to the WWW client  that has sent the HTTP request, in the return code decided by the returning-content creating means .","A description will now be given of a solution to a case that objects with a single name exist under a single folder. In a general file system, several files with a single name cannot be created under a single folder or a single directory. However, documents with a single name can be created under a single folder on some document database. If the single name of the documents is used in the URL, the object searching means  cannot specify which document the URL points to. For instance, if there exist several documents with a name \u201chub.html\u201d under a single folder with a folder ID \u201cfolder0123\u201d as shown below, the object searching means  cannot decide which \u201chub.html\u201d the WWW client  is seeking for.\n\n","The returning-content creating means  sets the HTML document that asks the WWW client  which \u201chub.html\u201d the WWW client  needs, as a response content. The returning-content creating means  uses the bibliography of \u201chub.html\u201d and the URL that includes a combination of the document ID and the document name as shown in TABLE. 2 below.",{"@attributes":{"id":"p-0050","num":"0061"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"<BODY>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<P>\u201chttp:\/\/hostname\/folder0123\/hub.html\u201d has the following candidates. <\/P>"]},{"entry":[{},"<UL>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<LI><A HREF=\u201chttp:\/\/hostname\/folder0123\/doc0003hub.html\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Date: 98\/4\/3, Name: Yamada, Size: 50KB<\/A><\/LI>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<LI><A HREF=\u201chttp:\/\/hostname\/folder0123\/doc4321hub.html\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Date: 98\/12\/23, Name: Kawata, Size: 3KB<\/A><\/LI>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/UL>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<\/BODY>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The WWW client  displays the response content as shown in TABLE. 2 on a monitor after receiving it from the returning-content creating means . A user can just select and click an appropriate content on the monitor to receive the \u201chub.html\u201d document. Even if the \u201chub.html\u201d document includes a hyperlink using a URL, the WWW client follows the link, and can retrieve a document linked to the \u201chub.html\u201d document if the document linked to the \u201chub.html\u201d is uploaded under the same folder with the \u201chub.html\u201d document in the document database .","The above description is provided in order to enable any person skilled in the art to make and use the invention and sets forth the best mode contemplated by the inventors of carrying out the invention.","The present invention is not limited to the specifically disclosed embodiments and variations, and modifications may be made without departing from the scope and spirit of the invention.","The present application is based on Japanese Priority Application No. 11-257813, filed on Sep. 10, 1999 with the Japanese Patent Office, the entire contents of which are hereby incorporated by reference."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0022","num":"0030"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0023","num":"0031"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0024","num":"0032"},"figref":"FIG. 3","b":"1"},{"@attributes":{"id":"p-0025","num":"0033"},"figref":"FIG. 4","b":"1"},{"@attributes":{"id":"p-0026","num":"0034"},"figref":"FIG. 5","b":"13"},{"@attributes":{"id":"p-0027","num":"0035"},"figref":"FIG. 6","b":"13"},{"@attributes":{"id":"p-0028","num":"0036"},"figref":"FIG. 7","b":"13"}]},"DETDESC":[{},{}]}
