---
title: Method and system to mark an audio signal with metadata
abstract: A method of processing an audio signal comprises receiving an audio signal, extracting features from the audio signal, and translating the extracted features into metadata. The metadata comprises an instruction set of a markup language. A system for processing the audio signal is also disclosed, which comprises an input device for receiving the audio signal and a processor for extracting the features from the audio signal and for translating the extracted features into the metadata.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07689422&OS=07689422&RS=07689422
owner: AMBX UK Limited
number: 07689422
owner_city: Surrey
owner_country: GB
publication_date: 20031210
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"p":["The present invention relates to a method and system for processing an audio signal in accordance with extracted features of the audio signal. The present invention has particular, but not exclusive, application with systems that determine and extract musical features of an audio signal such as tempo and key. The extracted features are translated into metadata.","Ambient environment systems that control the environment are known from, for example, our United States patent application publication U.S. 2002\/0169817, which discloses a real-world representation system that comprises a set of devices, each device being arranged to provide one or more real-world parameters, for example audio and visual characteristics. At least one of the devices is arranged to receive a real-world description in the form of an instruction set of a markup language and the devices are operated according to the description. General terms expressed in the language are interpreted by either a local server or a distributed browser to operate the devices to render the real-world experience to the user.","United States patent application publication U.S. 2002\/0169012 discloses a method of operating a set of devices that comprises receiving a signal, for example at least part of a game world model from a computer program. The signal is analysed to produce a real-world description in the form of an instruction set of a markup language and the set of devices is, operated according to the description.","It is desirable to provide a method of automatically generating instruction sets of the markup language from an audio signal.","According to a first aspect of the present invention there is provided a method of processing an audio signal comprising receiving an audio signal, extracting features from the audio signal, and translating the extracted features into metadata, the metadata comprising an instruction set of a markup language.","According to a second aspect of the present invention there is provided a system for processing an audio signal, comprising an input device for receiving an audio signal and a processor for extracting features from the audio signal and for translating the extracted features into metadata, the metadata comprising an instruction set of a markup language.","Owing to the invention, it is possible to generate automatically from an audio signal metadata that is based upon the content of the audio signal, and can be used to control an ambient environment system.","The method advantageously further comprises storing the metadata. This allows the user the option of reusing the metadata that has been outputted, for example by transmitting it to a location that does not have the processing power to execute the feature extraction from the audio signal. Preferably, the storing comprises storing the metadata with associated time data, the time data defining the start time and the duration, relative to the received audio signal, of each markup language term in the instruction set. By storing time data with the metadata that is synchronised to the original audio signal the metadata, when reused with the audio signal, defines an experience that is time dependent, but that also matches the original audio signal.","Advantageously, the method further comprises transmitting the instruction set to a browser, and also further comprising receiving markup language assets. Preferably the method also further comprises rendering the markup language assets in synchronisation with the received audio signal. In this way, the metadata is used directly for providing the ambient environment. The browser receives the instruction set and the markup language assets and renders the assets in synchronisation with the outputted audio, as directed by the instruction set.","The features extracted from the audio signal, in a preferred embodiment, include one or more of tempo, key and volume. These features define a broad sense, aspects of the audio signal. They indicate such things as mood, which can then be used to define metadata that will determine the ambient environment to augment the audio signal.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1","b":["100","100","102","104","106","108","110","112","106","104","102","102","114","116","118","122","120"]},"The system  may be embodied as a conventional home personal computer (PC) with the output device  taking the form of a computer monitor or display. The store  may be a remote database available over a network connection. Alternatively, if the system  is embodied in a home network, the output devices ,  may be distributed around the home and comprise, for example, a wall mounted flat panel display, computer controlled home lighting units, and\/or audio speakers. The connections between the processor  and the output devices ,  may be wireless (for example communications via radio standards WiFi or Bluetooth) and\/or wired (for example communications via wired standards Ethernet, USB).","The system  receives an input of an audio signal (such as a music track from a CD) from which musical features are extracted. In this embodiment, the audio signal is provided via an internal input device  of the PC such as a CD\/DVD or hard disc drive. Alternatively, the audio signal may be received via a connection to a networked home entertainment system (Hi-Fi, home cinema etc). Those skilled in the art will realise that the exact hardware\/software configuration and mechanism of provision of an audio signal is not important, rather that such signals are made available to the system .","The extraction of musical features from an audio signal is described in the paper \u201cQuerying large collections of music for similarity\u201d (Matt Welsh et al, UC Berkeley Technical Report UCB\/CSD-00-1096 November 1999. The paper describes how features such as an average tempo, volume, noise, and tonal transitions can be determined from analysing an input audio signal. A method for determining the musical key of an audio signal is described in the U.S. Pat. No. 5,038,658.","The input device  is for receiving the audio signal and the processor  is for extracting features from the audio signal and for translating the extracted features into metadata, the metadata comprising an instruction set of a markup language. The processor  receives the audio signal and extracts musical features such as volume, tempo, and key as described in the aforementioned references. Once the processor  has extracted the musical features from the audio signal, the processor  translates those musical features into metadata. This metadata will be in the form of very broad expressions such as <SUMMER> or <DREAMY POND>. The translation engine within the processor  operates either a defined series of algorithms to generate the metadata or is in the form of a \u201cneural network\u201d arrangement to produce the metadata from the extracted features. The resulting metadata is in the form of an instruction set of a markup language.","The system  further comprises a browser  (shown schematically in ) that is distributed amongst a set of devices, the browser  being arranged to receive the instruction set of the markup language and to receive markup language assets and to control the set of devices accordingly. The set of devices that are being controlled by the browser  may include the output devices  and , and\/or may include further devices remote from the system. Together these devices make up an ambient environment system, the various output devices ,  being compliant with a markup language and instruction set designed to deliver real world experiences.","An example of such a language is physical markup language (PML), described in the Applicants co-pending applications referred to above. PML includes a means to author, communicate and render experiences to an end user so that the end user experiences a certain level of immersion within a real physical space. For example, PML enabled consumer devices such as an audio system and lighting system can receive instructions from a host network device (which instructions may be embedded within a DVD video stream for example) that causes the lights or sound output from the devices to be modified. Hence a dark scene in a movie causes the lights in the consumer's home to darken appropriately.","PML is in general a high level descriptive mark-up language, which may be realised in XML with descriptors that relate to real world events, for example, <FOREST>. Hence, PML enables devices around the home to augment an experience for a consumer in a standardised fashion.","Therefore the browser  receives the instruction set, which may include, for example, <SUMMER> and <EVENING>. The browser also receives markup language assets , which will be at least one asset for each member of the instruction set. So for <SUMMER> there may be a video file containing a still image and also a file containing colour definition. For <EVENING> there may be similarly files containing data for colour, still image and\/or moving video. As the original music is played (or replayed), the browser  renders the associated markup language assets , so that the colours and images are rendered by each device, according to the capability of each device in the set.",{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 2","FIG. 1","FIG. 1"],"b":["200","202","204","122","202","204","102","202","102"]},"The method can further comprise the step  of storing the metadata. This is illustrated in . The storing can comprise storing the metadata  with associated time data . In the situation where an advanced feature extraction system is used at step , which returns data that is time dependent, the metadata that is output from the translator can also be time dependent.","For example, there may be a defined change of mood in the piece of music that makes up the audio signal. The translator may represent this with the terms <SUMMER> and <AUTUMN>, with a defined point when <SUMMER> end in the music and <AUTUMN> begins. The time data  that is stored can define the start time and the duration, relative to the received audio signal, of each markup language term in the instruction set. In the example used in , the term <SUMMER> is shown to have a start time (S) of 0, referring to the time in seconds after the start of the piece of music and a duration (D) of 120 seconds. The other two terms shown have different start and duration times as defined by the translator. In , the arrow  shows the output from the translator.","The method can further comprise transmitting  the instruction set to the browser . As discussed relative to the system of , the browser  can also receive (step ) markup language assets . The browser  is arranged to render (step ) the markup language assets  in synchronisation with the received audio signal."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"p":["The present invention will now be described, by way of example only, and with reference to the accompanying drawings in which:",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
