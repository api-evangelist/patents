---
title: Payment system
abstract: Embodiments of the invention provide a method of processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants, the payment authorization requests are conducted as a result of orders by financial instrument holders via a plurality of different online merchant systems. Each of the online merchants has an online merchant identity. The method is conducted by a trusted central intermediary system which is arranged to transmit payment authorization requests to each of a plurality of different online merchant Internet Payment Service Provider (IPSP) systems. Each merchant IPSP system is arranged to transmit payment authorization requests to at least one of a plurality of acquiring bank payment processor systems, and each of said plurality of acquiring bank payment processor systems is responsible for processing payment authorizations for at least one of said acquiring banks. Embodiments of the invention enable a user to select a payment method on a per transaction basis, while removing the requirement for the user to provide payment details to individual online merchant systems or to their merchant IPSP systems. Thus, providing that online merchants, or their merchant IPSPs, subscribe to a service arranged to perform the method, users only have to submit their respective payment details, preferably only once, to a separate, trusted entity.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08942997&OS=08942997&RS=08942997
owner: Visa Europe Limited
number: 08942997
owner_city: London
owner_country: GB
publication_date: 20110706
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["This application is a continuation under 35 U.S.C. \u00a7120 of International Application No. PCT\/EP2010\/050079, filed on Jan. 6, 2010 (published in the English language as WO 2010\/079182 on Jul. 15, 2010), which claims priority to U.S. patent application Ser. No. 12\/416,836, filed on Apr. 1, 2009, and also claims priority to GB Application No. 0900150.4, filed on Jan. 6, 2009. Each of the above referenced patent applications is hereby incorporated by reference in its entirety.","1. Field of the Invention","The present invention relates to a system and method of processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants, and is particularly, but not exclusively, suited to the processing of orders placed by financial instrument holders.","2. Description of the Related Art","Users are increasingly encouraged to purchase goods online, i.e. via the Internet and associated technologies. Generally speaking, existing online payment systems fall into one of three types of arrangements: in a first type of arrangement, an online merchant system collects payment details from a financial instrument holder, otherwise known as a buyer or cardholder, without the buyer dealing directly with any other entity that may be involved in the transaction, and the online merchant system sends the transaction details directly to their acquiring bank system. In a second type of arrangement, the online merchant system collects payment details from a buyer without the buyer dealing directly with any other entity that may be involved in the transaction, and the online merchant system sends the transaction details to an online merchant Internet Payment Service Provider (IPSP) which processes payment authorizations on behalf of the merchant. The merchant IPSP system subsequently transmits the details to the online merchant's acquiring bank system; the details may be transmitted directly to the acquiring bank or to a payment processor which acts on behalf of the acquiring bank. Examples of IPSP systems which provide support for this second type of arrangement include the Protx\u2122 Veri-Secure Payment system (VSP).","In an arrangement of the first and second type, the online merchant system typically obtains payment card data, bank account information and\/or other financial data from the buyer. The online merchant system then passes this information either directly, or via a merchant IPSP system, to an acquiring bank processing system. Each online merchant system is assigned an online merchant account identifier by an acquiring bank, and this account identifier is used to identify the online merchant to the acquiring bank when requesting authorization of a transaction.  shows an example of conventional online payment systems according to arrangements of the second type, comprising a plurality of online merchant systems , , . In this arrangement each of the online merchants is in operative association with an online merchant Internet Payment Service Provider (IPSP) system , which is a payment gateway selected and subscribed to by the online merchant for the purposes of conducting secure business on the Internet. Whilst the figure shows each of the online merchant systems . . . being associated with the same merchant IPSP system , alternatively, and in fact often in practice, online merchant systems are linked to different merchant IPSP systems . Each merchant IPSP system  provides a system that passes payment card data, authorization requests, and authorization responses over the Internet using encryption technology. The transaction information is sent by the merchant IPSP system , via a data communications link, to the acquiring bank , and thence to the card scheme system  which intermediates with an issuing bank where the validity of the card is checked and the availability of funds on that account is verified. An authorization code is returned to the merchant IPSP system ; the authorization is encrypted by the merchant IPSP system  and transmitted in encrypted form to the online merchant system , which triggers fulfillment of the order.","A conventional end-to-end online transaction using an arrangement of the second type and involving the entities shown in  comprises the following steps:\n\n","An advantage of using a payment gateway such as the merchant IPSP system shown in  is that the merchant IPSP system can provide one or more additional various transaction processing functions, for example settlement, handling of chargebacks, handling of refunds, and transaction reporting, on behalf of the online merchant. In the settlement procedure, the merchant IPSP system  submits all the online merchant's approved authorizations collected over a given period, in a \u201cbatch\u201d, to the online merchant's acquiring bank system  for settlement. A chargeback is a reversal of a payment card transaction initiated by the buyer or the bank that issued the card used in the purchase. This differs from a refund, which is agreed to and initiated by the online merchant, via the merchant IPSP system . Transaction reporting involves providing an overview reporting function for accumulated transactions which have been authorized and optionally settled via the merchant IPSP system , so that a merchant can for example select a date range and see an overview relating to all transactions conducted within the selected date range. A merchant IPSP system  may provide an online merchant with a secure online website whereby to approve chargebacks, initiate refunds and\/or view transaction reports as described. However, in each of the first and second types of payment systems described above, a buyer is required to provide his or her payment information separately for transactions initiated with each different online merchant. Thus, for each new online merchant that a buyer interacts with, the risk of exposure, misappropriation and\/or fraudulent use of the buyer's financial data increases. In a third type of arrangement (not shown) the online merchant system redirects the buyer to an alternative payment system website with which the buyer interacts in order to complete the transaction. The alternative payment system interacts directly with the user who provides payment to the alternative payment system either directly from their bank account or via a mechanism such as a payment card. Where a payment card from a conventional payment scheme is used the alternative payment system performs the role of the merchant in the conventional payment system, submitting a payment demand through an acquiring system. Payment from the user is made to the alternative payment system. The alternative payment system is then responsible for any reimbursement of the merchant. In a second case, the alternative payment system can, in effect, behave as a conventional clearing house, funding a user's account within the alternative payment system from the user's actual issuing bank account by directly debiting their account. The alternative payment system subsequently ensures payment is sent to the merchant's issuing bank account, usually through a conventional clearing house. This merchant bank account may or may not be the same as their account held with their conventional acquiring system. Thus most of the time payment systems of the third type act as the intermediary to take actual funds from the user and pass them to the merchant, most usually via the consumer's and merchant's individual bank accounts, potentially holding on to those funds as they pass through accounts held by the payment system; an example of this third type of payment system includes the well-known PayPal\u2122 payment system. Such a payment system may also have the capability to operate as a conventional IPSP, for example by providing associated online payment handling services.","Whilst this type of payment system relieves the need for the user to set up individual payment accounts on a per online merchant basis, the user has a relationship with the alternative payment system and not with the online merchant system; this gives rise to several notable disadvantages: firstly the online merchant neither receives payment directly from an acquiring bank nor can avail itself of a payment-scheme based guarantee of payment, because for these transactions there is no direct relationship between the merchant and a card payment scheme. Secondly, for transactions effected via card payment the buyer does not have visibility of the individual online merchant from whom the product was bought (instead the card statement identifies the alternative payment system entity). Thirdly, the buyer is not protected by the card scheme's rules and may not be protected by any applicable consumer protection, because the transaction is with the payment system, and not with the online merchant system.","In accordance with at least one embodiment of the invention, systems and software are provided for processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants, as specified in the independent claims. This is achieved by a combination of features recited in each independent claim. Accordingly, dependent claims prescribe further detailed implementations of the present invention.","More particularly, aspects of the invention provide a method of processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants, the payment authorization requests being conducted as a result of orders by financial instrument holders via a plurality of different online merchant systems, each of said online merchants having an online merchant identity, and each of said online merchants being associated with one of a plurality of acquiring banks, wherein the method is conducted by a trusted central intermediary system which is arranged to transmit payment authorization requests to each of a plurality of different online merchant Internet Payment Service Provider (IPSP) systems, each of said merchant IPSP systems being arranged to transmit payment authorization requests to at least one of a plurality of acquiring bank payment processor systems, each of said plurality of acquiring bank payment processor systems being responsible for processing payment authorizations for at least one of said acquiring banks, the method comprising: receiving from a first online merchant system, responsible for originating payment authorization requests for a first online merchant, a payment authorization request relating to authorization of a payment transaction, said received payment authorization request being initiated as a result of a financial instrument holder conducting an order via the first online merchant system; in response to receiving said request: a) generating a payment authorization request comprising transaction data including: i) a financial instrument identity to be used in the payment transaction by the financial instrument holder; and ii) an online merchant identity, associated with the first online merchant, as the payment transaction beneficiary; and iii) one or more transaction details including a payment amount; and b) retrieving transmission data to enable the transmission of payment authorization request data to a selected merchant IPSP system associated with the first online merchant; and on the basis of the retrieved transmission data, transmitting said generated payment authorization request to the selected merchant IPSP system, wherefrom a further payment authorization request may be generated and transmitted to an acquiring bank payment processor system responsible for processing payment authorizations for the acquiring bank with which the first online merchant is associated.","Preferably the method comprises receiving data indicating a selection, by the financial instrument holder, between a plurality of different financial instruments for use in the payment transaction, and retrieving a financial instrument identity to be used in the generated payment authorization request on the basis of said indicated selection. The different financial instruments are advantageously held in a local store, or user wallet, by the trusted intermediary system. Thus embodiments of the invention enable a financial instrument holder, or user, to select a payment method on a per transaction basis, whilst removing the requirement for the user to provide payment details to individual online merchant systems or to their merchant IPSP systems. Thus, providing that online merchants, or their merchant IPSPs, subscribe to a service arranged to perform the method, users only have to submit their respective payment details, preferably only once, to a separate, trusted entity. This has the benefit of reducing the risk of fraud that may be incurred in relation to conventional arrangements of payment systems, whilst allowing users to effect transactions more quickly and conveniently because there is no need for the user to input personal and financial information in respect of each transaction.","As to population of the user's wallet with payment instrument details, the trusted central intermediary system preferably provides a registration interface for a financial instrument holder whereby the financial instrument holder can provide a financial instrument identity for registration with said trusted central intermediary system as stored registration data. When processing a payment authorization request the method comprises the step of authenticating a financial instrument holder and, in response thereto, retrieving a registered financial instrument identity, preferably from the user's wallet, to be used in the generated payment authorization request from said stored registration data.","It is to be understood that the terms \u201conline merchant\u201d, \u201cmerchant IPSP system\u201d, \u201ctrusted central intermediary system and \u201cacquiring bank payment processor system\u201d refer to logical components. As such, each system may be embodied physically separate from one another or physically connected to one or more other system. For example, in arrangements where a given organization hosts the merchant IPSP system and the online merchant, the components could be physically located on the same network or even integrated as part of a single system. Further, where a given organization hosts the merchant IPSP system and acquiring bank payment processor system, the components could be physically located on the same network or even integrated as part of a single system. Further still, a single organization could host the online merchant, the merchant IPSP system and the acquiring bank payment processing system. Thus, embodiments of the invention encompass arrangements in which the functions performed under the role of the IPSP can be carried out by an organization that is also the merchant and\/or also the acquirer.","Because the transactions which are authorized using the system of the present invention are still processed by the merchant IPSP system, merchant IPSP functions relating to these transactions may be accessed by the online merchant using an interface common to different transaction types. These transaction types may include both transaction types for which payment authorization requests originate via the trusted intermediary system and other, separately authorized, transaction types which may be processed by the IPSP on behalf of the merchant without passing via the trusted intermediary system. This common interface may comprise a secure online website.","In at least one arrangement the trusted central intermediary system receives a payment authorization response from said selected merchant IPSP system, and in response thereto transmits a payment authorization response to said first online merchant system. Further, the method comprises receiving an online merchant identity from the first online merchant system, the online merchant identity included in the generated authorization request being generated on the basis of the received online merchant identity. Thus, since the trusted intermediary system interfaces with, rather than replaces, an online merchant's existing IPSP system, it is the online merchant's account identifier that is transmitted to the acquiring bank. As a result, the relationship for such transactions is between the buyer and the online merchant, with the resulting benefit that the buyer is protected by the card scheme's rules and, in some eventualities, compliance with any applicable consumer protection. In addition, the merchant IPSP system can provide one or more additional various transaction processing functions, for example settlement, handling of chargeback, handling of refunds, and transaction reporting, on behalf of the online merchant system. In particular the merchant IPSP system may provide an online merchant with a secure online website whereby to approve chargebacks, initiate refunds and\/or view transaction reports relating to transactions authorized through the system of the present invention.","Preferably the step of retrieving transmission data to enable the transmission of payment authorization request data to a selected merchant IPSP system associated with the first online merchant comprises retrieving a network address for the selected merchant IPSP system on the basis of the merchant IPSP system registered by the first online merchant, and the step of transmitting said generated payment authorization request to the selected merchant IPSP system comprises transmitting said generated payment authorization request on the basis of the retrieved network address. The network addresses are preferably populated on a per online merchant basis, for example when a given online merchant registers with the trusted intermediary system, thereby providing a convenient, centralized mechanism for controlling the flow of payment authorization requests. Thus the trusted central intermediary system preferably provides a registration interface for online merchants whereby a given online merchant can register a merchant IPSP system with which the online merchant is associated.","In at least some arrangements the trusted central intermediary system can cooperate with a plurality of issuing authentication systems, each being responsible for conducting authentication for a different issuing bank, the method comprising the step of selectively communicating with a respective issuing authentication system so as to verify the identity of the financial instrument holder. This verification of the user can be performed using the known 3-D Secure method, and can be performed when e.g. the user adds a payment instrument to their user wallet via the afore-mentioned registration interface.","The user can register with the trusted intermediary system via several different mechanisms, including: direct with the intermediary system; indirect via a trusted third party; and re-direction via an online banking service. In relation to the third alternative, the method comprises the step of retrieving a financial instrument identity to be used in the generated payment authorization request on the basis of the authentication of the instrument holder by a selected one of said plurality of issuing authentication systems. Thereafter data are transmitted to the financial instrument holder, enabling the financial instrument holder to perform authentication with respect to a selected authentication system, and receiving authentication response data from said selected authentication system in response to authentication of the financial instrument holder by the selected issuing authentication system. Further, embodiments of the invention can include receiving data indicating a financial instrument identity to be used in the generated payment authorization request from said selected issuing authentication system in response to authentication of the financial instrument holder by the selected issuing authentication system.","According to further aspects of the invention there is provided a trusted intermediary system in communication with a plurality of online merchant systems and a plurality of merchant IPSP systems, said trusted intermediary system being arranged to conduct the afore-mentioned trusted intermediary system steps. Further, there is provided an online merchant system in communication with a trusted intermediary system and a plurality of merchant IPSP systems, said online merchant system being arranged to conduct the aforementioned online merchant system steps. Further still there is provided a merchant IPSP system in communication with a trusted intermediary system and a plurality of online merchant systems, said merchant IPSP system being arranged to conduct the afore-mentioned merchant IPSP system steps.","Aspects of the invention also provide software distributed between the various systems, suitably configured to perform the afore-mentioned method. Further features and advantages of the invention will become apparent from the following description of preferred embodiments of the invention, given by way of example only, which is made with reference to the accompanying drawings.","As described above, embodiments of the invention are concerned with a payment system and method, specifically a system and method of processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants. The system involves a novel transactional entity, herein referred to as a trusted intermediary system, which cooperates with the conventional payment entities described in the background section with reference to .",{"@attributes":{"id":"p-0029","num":"0038"},"figref":"FIG. 2","b":["1","10","3","3","1","1","3","3","1","1","5","2","1","3","3"],"i":["a ","c","a ","c ","a ","c ","c","c","c","b","c "]},"Further, each online merchant system . . . website's order transmission webpage includes, as a novel payment option, referred to herein as \u201cSecure System of Payment\u201d (SSP), this identifying payment via the trusted intermediary system . Other payment options, including conventional online payment options, may also be included whereby a buyer can select a payment option which does not involve payment authorization being processed through the trusted intermediary system . Such separately authorized transactions may for example include conventional online payment options in which a buyer enters their payment details into the online merchant system directly, or the merchant IPSP system directly, rather than using the trusted intermediary system . In respect of such transactions the trusted intermediary system  interfaces with, rather than replaces, the online merchant IPSP system , which may be the online merchant's existing merchant IPSP system when subscribing to the service provided by the trusted intermediary system . This is to say that because payment systems according to embodiments of the invention involve the addition of the trusted intermediary system  within an existing and known set of processing entities, payments can be made according to conventional methods using the second and third types of arrangement described with reference to  in addition, or as an alternative to, via the trusted intermediary system .","The trusted intermediary system  holds data in a database DB corresponding to users (buyers) and online merchants that have registered with the intermediary , together with transaction data. As will be described in more detail below, the database DB holds a set of payment details for the user in the form of a stored set of records conveniently referred to herein as a remote store or user wallet; users can add details of payment instruments (typically cards and accounts) from which they can select to make payment for a transaction, causing the trusted intermediary system to update the contents of the user's remote store. Since the trusted intermediary system  holds a range of payment instruments available to the user, the user can select a payment method on a per transaction basis. Thus, provided online merchants subscribe to the trusted intermediary system , users only have to submit their respective payment details once, to a single entity, thereby removing the requirement for the user to provide payment details to individual online merchants each time they shop online. This has the benefit of reducing the risk of fraud that may be incurred in relation to conventional arrangements of payment systems (such as that shown in ).","Because transaction authorization requests which are originated using the trusted intermediary system  are passed to and processed by the IPSP system , additional various transaction processing IPSP functions relating to these transactions may be accessed by the online merchant via the trusted intermediary system . The merchant IPSP system can provide one or more such additional transaction processing functions, for example settlement, handling of chargeback, handling of refunds, and transaction reporting, on behalf of the online merchant system . The merchant IPSP system preferably provides the online merchant with a secure online website whereby to approve chargebacks, initiate refunds and\/or view transaction reports relating to transactions authorized through the trusted intermediary system .","Further, since transaction authorization requests which are originated using the trusted intermediary system  are passed to and processed by the IPSP system , IPSP functions relating to these transactions may be accessed by the online merchant using an IPSP system interface which is common to different transaction types, including both transaction types authorized via the trusted intermediary system  and other, separately authorized, transaction types which may be processed by the IPSP on behalf of the merchant without passing via the trusted intermediary system . Such separately authorized transactions may for example include transactions for which a buyer enters their payment details into the online merchant system directly, or the merchant IPSP system directly, for use in payment authorizations conducted by the merchant IPSP system ","Further still, it is the online merchant internet account identifier that is transmitted to the acquiring bank by the merchant IPSP system as part of the payment authorization request. This has the benefit of ensuring the buyer is protected by the card scheme's rules and, in some eventualities, compliance with any applicable consumer protection; in addition each transaction can be identified on a per online merchant basis on the user's card statements.","As can be seen from , specifically dotted line L, the trusted intermediary system  is connected to issuing bank system (while only one connection is shown, it is to be understood that there can be a connection between the trusted intermediary system  and any number of issuing bank systems). This connection facilitates verification of the cardholder (buyer) using the well-known 3-D Secure authentication mechanism. The protocol for 3-D Secure is documented in U.S. patent application Ser. No. 10\/156,271, published under publication number US2002\/0194138 in the name of Visa International service Association, the content of which is incorporated by reference herein in its entirety. The protocol uses messages (typically XML messages) sent over Secure Sockets Layer (SSL) connections, as is documented in the afore-mentioned patent publication as the Payer Authentication Service (PAS). This service may be employed when the trusted intermediary system  determines a given requested transaction to correspond to a predetermined level of risk, such as may be the case for transactions involving shipping abroad of high-value goods. The means by which the risk assessment is performed and indeed a risk level determined for a given transaction is described in more detail below.","The card scheme system  is communicatively connected to the trusted intermediary system  as schematically shown by dotted line L; this indicates the trusted intermediary system  having subscribed to an account updating service (not labeled on , but described with reference to  below as part ) provided by the card scheme system  and thence receive updated card information, e.g. when a card is lost, is stolen or has expired, and thus has been re-issued to the user. An example of such a service is the Visa Account Updater service (VAU), while another is the MasterCard Automatic Billing Updater. In one arrangement the interface to the account updating service provided by the card scheme system  is batch oriented: the trusted intermediary system  submits a request or requests to the card scheme system , the request including details of certain users registered with the system . A batch interface is typically used (e.g. Secure File Transfer Protocol (SFTP) or ConnectDirect\u2122) to send the request file(s) to the account updating service, which is responsible for gathering details of re-issued cards. After an interval the trusted intermediary system  accesses the account updating service and collects the response file(s), thereafter updating payment instruments locally for the relevant subscribers to the SSP system. Alternatively the interface could be message-based, so that individual Primary Account Numbers can be verified or updated in real-time. As an alternative to sending the request directly to the card scheme system , the trusted intermediary system  could emulate operation of an online merchant send the request to the known acquiring bank systems . . .  , for subsequent forwarding to the card scheme system .","Referring now to , operation of the payment system  according to an embodiment of the invention will now be described. At step S the user completes their shopping experience with online merchant Cs online merchant system, initiates checkout using the online merchant system, and proceeds to the virtual checkout, according to conventional methods available through commonly available shopping cart and check-out software packages such as are known to the skilled person. The user selects \u201cSecure System for Payment\u201d (SSP) as a payment option (step S), causing the online merchant system to transmit an originating payment authorization request message to the trusted intermediary system  (step S); the originating request message comprises at least an amount of payment for the selected goods, the online merchant account identifier and an identifier for the order. The trusted intermediary system  then transmits a login URL to the user (step S), prompting the user to login, or, if this is their first time of selecting SSP as a payment option, to register with the trusted intermediary system . Assuming for the purposes of this example that the user has previously registered with the service, the user inputs their login credentials (e.g. username, password, or other authentication details, dependent on the authentication mechanism utilized by the trusted intermediary system \u2014step S).","The trusted intermediary system  then performs a lookup based on the user's credentials and identification details (step S), retrieving details from the user's remote store from the database DB, and presenting same to the user for their selection of payment method (step S). Upon selection of the desired payment method from options provided according to the details retrieved from user's remote store the trusted intermediary system  sends a payment authorization request message to the online merchant's IPSP system , the payment authorization request message comprising the selected payment instrument details, the amount of payment required and the online merchant identifier (step S). The merchant IPSP system sends a further payment authorization request to the relevant acquiring bank (step S), prompting authorization (or otherwise) per conventional methods (step S) and the transmission of a response message from the acquiring bank  to the merchant IPSP system (step S). Assuming the response to comprise confirmation of the payment having been authorized, at step S, the merchant IPSP system sends a payment success notification message to the trusted intermediary system . This payment success notification message comprises a reference for the card scheme authorization and a transaction identifier for the card scheme transaction.","Thereafter the trusted intermediary system  sends a payment success confirmation message to the online merchant system (step S), which prompts the online merchant system to confirm the order status to the user (step S). It will be appreciated from the foregoing that conventional online merchant systems (including their merchant IPSP system) require modifying to include \u201cSecure System for Payment\u201d (SSP) as a payment option and indeed to interface with the trusted intermediary system . Accordingly the merchant IPSP system exposes a payment authorization service to the trusted intermediary system  that allows payment & settlement for payment instruments (typically cards and bank accounts). Further it will be appreciated that because the trusted intermediary system  integrates with many merchant IPSP systems, it thus comprises a plurality of interface formats and protocols, each corresponding to a respective merchant IPSP system. In addition, each online merchant's system is configured with integration software components, e.g. in the form of plugins, which enables the online merchant to integrate with the trusted intermediary system  for the purpose of initiating a payment transaction using SSP as a payment method.","Details of the configuration and processing capabilities of the trusted intermediary system  will now be described with reference to . The trusted intermediary system  comprises presentation and connectivity processing components, which are configured to transmit and manage various user-specific and online merchant-specific data; these processing components will be explained in more detail below, but in overview they comprise the following:","User Registration Components and Data","When a user wishes to register with the trusted intermediary system , they are required to complete an account registration process that allows the user to create an account with the SSP service. The account is required to be populated with appropriate data that can be used to make payments from the SSP service from an online merchant system offering the service.","Once registered, each user has a set of records associated therewith, which stores details of the accounts which they wish to debit when effecting a financial transaction. This could be a bank account, a payment card or other account such as any payment instrument that can be given a unique account reference. The trusted intermediary system  comprises presentation components  that enable the user to select and add to\/remove from the list of payment instruments. In addition the user has address book entries, which hold shipping details; the presentation components  enable the user to modify the shipping details. Each user has a profile, which comprises demographic and identification data for the user and can be modified via the presentation components , while user transaction data can be displayed for review by the user. As shown in  and explained in more detail below, the trusted intermediary system  can be implemented as a web server, in which case the presentation components  interoperate with the user's browser to allow selection and modification of the user data in the manner just described. However, registration of the user with the trusted intermediary system  can be performed via any alternative suitable interface.","Registration can be effected via a number of channels:\n\n","User Authentication Components","Authentication of a user into the trusted intermediary system  for payment transactions can be performed according to any one of the 3 known categories listed below:","1-factor authentication\u2014Something the user knows (e.g., a username and password, pass phrase, or personal identification number (PIN))","2-factor authentication\u2014As 1 factor authentication, plus, something the user has (e.g., ID card, security token, software token, phone, or cell phone)","3-factor authentication\u2014As 2 factor authentication, plus, something the user is or does (e.g., fingerprint or retinal pattern, DNA sequence (there are assorted definitions of what is sufficient), signature or voice recognition, unique bioelectric signals, or another bio metric identifier). An example of a mechanism to enable authentication is the afore-mentioned 3-D Secure service\u2014facilitated by the trusted intermediary system , the issuing bank prompts the buyer for a password that is known only to the bank and the buyer. Since the merchant does not know this password and is not responsible for capturing it, it can be used by the issuing bank as evidence that the purchaser is indeed their cardholder.","In one embodiment the trusted intermediary system  implements the authentication process. Alternatively the user can login via their online banking details, in which case the user would log into their online banking account, whereupon the banking system software would re-direct the user back to the trusted intermediary system . As a further alternative, authentication could involve an account identifying entity, which, based on user-specific input, could act as an intermediary and cooperate with the trusted intermediary system  to effect identification of the user's account on behalf of the user.","Online Merchant Data Store:","The trusted intermediary system  stores online merchant profile and registration data. These data include an online merchant internet account identifier together with a transactional and network identifier of the merchant IPSP system with which the online merchant system is registered. These data are held to enable the trusted intermediary system  to communicate with the merchant IPSP system on behalf of the online merchant system, and are collectively referred to as merchant IPSP system transmission data, or simply transmission data. In addition the trusted intermediary system  comprises a payment authorization service through which the trusted intermediary system  effects payments on behalf of the online merchant. Further, because the trusted intermediary system  integrates with many merchant IPSP systems it comprises a plurality of interface formats and protocols. Details of the relevant formats and protocols for each merchant IPSP system are held in the online merchant data store. Thus the afore-mentioned transmission data comprises a mapping of a payment authorization request emanating from a given online merchant system to an IPSP identifier, a network address and\/or network protocols that enable payment authorization requests to be routed to the relevant merchant IPSP system.","It will therefore be appreciated that registration of any given merchant offering the SSP service involves the merchant specifying the merchant IPSP system to which they subscribe. Conveniently the trusted intermediary  can hold a set of records corresponding to active merchant IPSP systems: each set of records can comprise network identifier and required communications protocols for storage in the database DB by the trusted intermediary . Thus during registration with the SSP the given online merchant can select, e.g. via a drop down list coordinated by the presentation components  of the trusted intermediary , the merchant IPSP system to which the online merchant has subscribed; the corresponding transmission data (or a link thereto) can then be stored in conjunction with the merchant records held in the database DB. Accordingly, provided the given online merchant has specified its corresponding merchant IPSP system in the manner just described, then in response to receipt of a payment authorization request from the merchant system, the trusted intermediary  can perform a suitable lookup from the database and retrieve the network identifier, protocol requirements etc. of the corresponding merchant IPSP system.","Application Programming Interface (API) Services Adaptor","The trusted intermediary system  comprises an API Services Adaptor, which enables connectivity between the trusted intermediary system  and the messaging infrastructure of the payment system . The adaptor is configured to manage the fulfillment of the trusted intermediary system  requests to external services, such as payment authorizations to merchant IPSP system  and to expose a set of the trusted intermediary system  services that could be used by external functions such as merchant IPSP system ","Transaction-Specific Components and Data:","The trusted intermediary system  stores transactional data such as payment authorizations and settlements that are managed by the trusted intermediary system . In addition the trusted intermediary system  can store audit data associated with users and online merchant online activity as well as general system activity.","Messaging Services","The trusted intermediary system  is configured with email agents, which compose and transmit emails for the purposes of email address authentication and user activation and purchase order confirmations.","As mentioned above the trusted intermediary system  is preferably embodied as a web application server, for example as a J2EE compliant application server  which manages and provides access to the common business logic of the platform, and a web server & J2EE servlet engine , which acts as the entry point for external HTTP requests to the trusted intermediary system  from online merchants and from users' browsers.","The web server and servlet engine  comprises presentation components, which expose web services-based payment APIs or API wrappers to online merchant systems. In addition, the web server and servlet engine  comprises presentation processing components  which are configured to generate and manage the interface to the user, e.g. when the user selects a payment method in the manner described above.","The J2EE Application Server  manages all the business logic for the web platform and applications. The business logic comprises functional software components . . .  , which can be implemented as, for example, Session EJBs (Enterprise Java Beans). These functional groups include, e.g. email processing modules, address validation modules, and fraud and security service modules; in addition the server  comprises objects implemented, for example, as EJB 3.0 specified Java objects . . . that provide access to static and persistent data stored in DB such as user data, audit data and transaction data described above. The trusted intermediary system  comprises web services in the form of wrappers that expose the Session EJBs to other elements of the payment system . More specifically, the functional software components . . . interoperate with external service enablers  such as address validation services , email applications (including access to an email server) , 3-D Secure services , account updating services , and fraud services , among others. The application server  components . . . communicate with the application components . . . via a set of APIs, referred to generically as such in relation to parts . . . . When implemented as a web server, data between the elements of the payment system  (i.e. those shown in ) and the trusted intermediary system  are transmitted using a secure mechanism, e.g. via the HTTP over Secure Socket Layer protocol (HTTPS).","In the case of the 3-D Secure service functional component , this component uses, or cooperates with, risk-based rules which are invoked in order to determine whether or not the component should be involved in the interactions between the user and the trusted intermediary . The rules are typically configured under control of the fraud services , and may, for example, specify that the 3-D Secure method should be invoked when a user registers a payment instrument with the SSP service (to ensure that the user is the legitimate cardholder); for the first transaction that a buyer makes; for transactions exceeding a certain value; for transactions that involve shipping of goods outside of the buyer's home territory; and for certain types of goods and\/or services. Other events that may trigger the 3-D Secure service, including invoking the service for all transactions, will be apparent to one skilled in the art.","Turning to the account updating (AU) functional component  Id and corresponding service provided by the card scheme system , the AU component  Id comprises routines for routinely reviewing expiry dates of payment instruments stored in individual user wallets in the database DB, and submitting requests to the card scheme system  with details of users whose payment instruments are due to expire within a specified time window. The AU component  Id subsequently accesses the account updating service and collects a response file generated thereby, and updates payment instruments in the relevant user wallets on the basis of the content of the response file.","The processing steps described above with reference to , specifically the steps performed in particular by the trusted intermediary system  when interfacing with the various payment entities, will now be described in more detail. Turning to , at step S., the user selects SSP payment service as the payment method and submits their selection to the online merchant website. This triggers a request from the online merchant system, specifically retrieval by the online merchant system of the URL corresponding to a sign-in page of the trusted intermediary system , and subsequently the sending of a key order plus online merchant fields including a return URL (step S.) and the creation of a secure session. Having received the sign-in URL from the trusted intermediary system , the online merchant system displays the sign-in page to the user (step S.). In one arrangement the sign-in page is implemented as an iFrame, which enables the user to communicate directly with the trusted intermediary system  while remaining within the online merchant's online environment. The user enters their sign-in details (step S.), and is authenticated according to one of the authentication mechanisms described above (step S.); if authentication is successful, the web server and servlet engine  sends data content from the user's remote store to the iFrame for display and selection therein (step S.). Once the user has selected their payment method from the options within the downloaded remote store contents, the user submits their selected option (step S.) to the web server and servlet engine , resulting in a confirmation page being transmitted to the iFrame (step S.).","Once the user has confirmed the payment selection and submitted same (step S.), the web server and servlet engine  sends the payment details to the online merchant's IPSP system (step S.) via a payment authorization service through which the trusted intermediary system  effects payments on behalf of the online merchant. Under certain circumstances the application server  invokes a 3-D Secure process responsive to receipt of the payment selection at step S.. For example, the application server  may invoke 3-D Secure component , which, on the basis of the content of the payment request message, determines whether or not the user is to be verified by the corresponding issuing bank prior to continuing with the processing of the transaction. In the event that the 3-D Secure component determines the transaction to present a predetermined level of risk (on the basis of the rules accessible to component ), the 3-D Secure component configures a secure communication between the user and a corresponding 3-D Secure issuing bank authentication system . For example, a transaction using Verified by Visa\/SecureCode will initiate a redirect to the website of the issuing bank, or will initiate loading of an inline frame session, to authorize the transaction. Assuming the user to be verified, or in cases where verification is deemed unnecessary for the transaction in question, step S. involves creating an authorization request for receipt by the payment APIs , converting the payment authorization request into the API format of the online merchant's API and transmitting the formatted request to the merchant IPSP system . A settlement request is also transmitted to the payment APIs , which performs conversion of the settlement request into the API format of the online merchant's API and transmits same to the merchant IPSP system . It will be appreciated that the communication may be effected by either single or dual message implementations. These formatting and transmission actions are recorded in the transaction data store held by the trusted intermediary system  corresponding to the online merchant system.","Upon notification of authorization of the payment request (step S.), the web server and servlet engine  transmits a return online merchant URL to the iFrame (step S.), together with notification of successful authorization, causing the iFrame to empty, reload with JavaScript code from the online merchant system (step S.), and thus remove the iFrame and return the user to the online merchant system's website. Finally, the online merchant system's website displays a successful order webpage at step S..","In parallel with steps S.-S. the application server  can log the user's activity and send same to the audit data store, while sending corresponding system and event information to a third party fraud notification system (this is represented by one of the common service enablers shown in ). The fraud notification system comprises, but is not limited to, a fraud risk engine, which performs analysis of same so as to generate a risk score and a recommended action for the transaction; suitable fraud notification systems such as that provided by RS A\u2122 in their fraud prevention suite are known and will not be described in any more detail herein. The risk score and action are stored in the database DB, in conjunction with the other transaction details for the online merchant and the user.","The above embodiments are to be understood as illustrative examples of the invention. Further embodiments of the invention are envisaged. For example, whilst in the foregoing examples the trusted intermediary system  is described as receiving payment requests from online merchant systems, the intermediary  could additionally or alternatively receive payment requests from a merchant IPSP system in the third type of arrangement described in the background section in cases where such merchant IPSP systems have been modified to offer SSP as a payment option.","Further, whilst preferred embodiments make use of iFrame web technology to navigate the user to different websites, it will be appreciated that standard web redirection can instead be employed. In such alternative arrangements the user's browser will be navigated away from and back to the SSP website, depending on the entity (or rather the URL corresponding thereto) with which the user's browser is communicating at any point in time. For example, during authentication and\/or account selection by the user, the user's browser may be redirected by the SSP website to a website provided by, or on behalf of, the user's issuing bank, and once the user authentication and\/or account selection is completed, the user's browser may be redirected by the issuer bank website back to the SSP website.","In the foregoing embodiments the trusted intermediary system  is described as storing shipping details in the set of user records: to this extent the trusted intermediary system  can be viewed as providing part of the functionality associated with a checkout tool: the relevant fields stored in the database DB could be available through the interface to enable merchant systems to reference the data during the checkout process and populate fields appropriately. However, it is to be understood that this is an optional aspect of the intermediary . Indeed, the checkout functionality could be provided by the online merchant system , in which case the trusted intermediary system  would simply perform the role of a payment tool, and the database DB would then store fewer items of user-specific information.","In the foregoing, the term \u201csystem\u201d, when applied to entities such as the merchant system, the merchant IPSP system, the trusted intermediary system and other entities, should be understood to mean a data processing function, provided at one or more physical sites, connected to other data processing functions via data communications links. Each function may be provided by a single data processing node, for example a server computer, or a set of data processing nodes providing fail-over backup to each other, such as a cluster of server computers, and\/or a set of interconnected data processing nodes providing different modular sub-functions with respect to other members of the set, for example an interworking set of different server computers.","As will be appreciated from the foregoing, communications between the various entities comprising the payment system  preferably proceed via a data communications network such as the Internet. Each of the entities of the payment system  (the issuing bank; the trusted intermediary; the acquiring bank processor; the merchant IPSP systems; and the online merchant systems) is identifiable via a network identifier such as an Internet Protocol (IP) address or other suitable identifier.","Accordingly the communications network can comprise a network comprising one or more technologies i.e. a hybrid communication network; for example the network can comprise the Internet in conjunction with the Public Switched Telephone Network (PSTN) and\/or a mobile communication network capable of supporting, for example, one or more of the following communication protocols: GSM (Global System Mobile), WCDMA (Wideband Code Division Multiple Access), GPRS (General Packet Radio Service). In addition to or instead of the mobile communication network, a local area network such as a Wireless Local area network (WLAN) or BlueTooth\u00ae (BT) and\/or other technologies such as WiMax can be used to carry part of the payment authorization request and response messages. In this way, users can interact with the online merchant systems using portable, remote devices. The data communications network can be arranged to support generic Internet access using any transport methods. In addition, or as an alternative, to sending confirmation messages as email messages, payment confirmation messages can be transferred as SMS-messages (Short Message Service), MMS-messages (Multi Media Service), Wireless Application Protocol (WAP) pages, Internet pages, HTML (Hypertext Mark-up Language) pages, XHTML (extended HTML) pages, or IP-datagrams (Internet Protocol).","It is to be understood that any feature described in relation to any one embodiment may be used alone, or in combination with other features described, and may also be used in combination with one or more features of any other of the embodiments, or any combination of any other of the embodiments. Furthermore, equivalents and modifications not described above may also be employed without departing from the scope of the invention, which is defined in the accompanying claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0023","num":"0032"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0024","num":"0033"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0025","num":"0034"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0026","num":"0035"},"figref":["FIG. 4","FIG. 2"]},{"@attributes":{"id":"p-0027","num":"0036"},"figref":["FIG. 5","FIG. 2"]}]},"DETDESC":[{},{}]}
