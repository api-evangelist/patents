---
title: Simplified and unified management for network-attached storage
abstract: Methods and systems for configuring a network-attached storage (NAS) unit for use with heterogeneous client computers are described. Consistent with some embodiments of the invention, a NAS management module executing on a host computer provides a graphical user interface, and a wizard-like workflow in particular, which enables an administrator to provide configuration settings that make a folder accessible to both CIFS- and NFS-based clients.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09369524&OS=09369524&RS=09369524
owner: NETAPP, INC.
number: 09369524
owner_city: Sunnyvale
owner_country: US
publication_date: 20091026
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["COPYRIGHT","TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["A portion of the disclosure of this document may include material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone, of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent files or records, but otherwise reserves all copyright rights whatsoever. The following notice applies to the software, data, and\/or screenshots that may be illustrated below and in the drawings that form a part of this document. Copyright\u00a9 2009, NetApp. All Rights Reserved.","The present disclosure relates generally to data storage systems, and more specifically, to methods and systems for provisioning storage on a network-attached storage (NAS) unit for use with client computers that utilize different application-layer network protocols.","A network-attached storage (NAS) unit is essentially a self-contained computer connected to a network, with the primary purpose of supplying file-based data storage services to other devices (e.g., computers) on the network. The operating system and other software on the NAS unit provide the functionality of data storage, file systems, and access to files, and the management of these functionalities. One of the convenient features of a NAS unit is the ability to make file-based data storage services available via a network to devices (e.g., computers) supporting heterogeneous application-layer network protocols.","For example, a NAS unit can be configured to make a folder (sometimes referred to as a directory) available to Microsoft\u00ae Windows-based devices over an application-layer protocol referred to as the Common Internet File System (CIFS) protocol. Although not identical, the CIFS protocol may also be known to those skilled in the art as the Server Message Block protocol, or SMB. A folder made accessible to a CIFS\/SMB client (e.g., a Windows-based computer) is often referred to as a network share, a shared folder, or simply a \u201cshare\u201d. Similarly, a NAS unit can be configured to make a folder available to UNIX-based devices over an application-layer protocol referred to as the Network File System protocol, or NFS protocol. In concept, the mechanism for making storage available to an NFS client is similar to that of a CIFS\/SMB client. However, a folder accessible to an NFS client is generally referred to as an \u201cexport\u201d, instead of a share.","In some business and government entities, computer systems with both operating systems and network protocols\u2014Windows\u00ae with CIFS\/SMB and UNIX with NFS\u2014are utilized. Consequently, with conventional NAS configuration utilities, an administrator must generate both a share (for CIFS\/SMB clients) and an export (for NFS clients) whenever a specific folder is to be made accessible to a group of users using both operating systems and protocols. With conventional NAS configuration utilities, generating both a share and an export will typically require entering multiple commands at a command line interface of the NAS unit, or navigating multiple workflows (one each for the share and the export) of an application with a graphical user interface, providing multiple sets of configuration settings to establish both a share and an export.","Methods and systems for provisioning storage on a network-attached storage (NAS) unit are described. Consistent with some embodiments of the invention, a NAS management module operating on a host computer provides a single workflow (e.g., a series of dialog boxes and corresponding logic) enabling an administrator to simultaneously configure the NAS unit to make a file system folder accessible to client computers supporting heterogeneous application-layer network protocols. For instance, the single workflow enables the generation of both a share and an export. Accordingly, the share provides a mechanism for making the NAS-based folder accessible to computer clients utilizing the Common Internet File System (CIFS) protocol\u2014commonly utilized on Microsoft\u00ae Windows-based computer systems. Furthermore, with minimal additional input and using the same workflow, an administrator is able to simultaneously generate an export, which provides access to the shared folder to client computers utilizing the Network File System (NFS) commonly used on UNIX-based computer systems.","In addition to providing a single workflow for making NAS-based folders accessible to heterogeneous clients, the NAS management module provides a graphical user interface and corresponding logic for browsing, configuring and editing various storage entities (e.g., folders, shares, and exports) and their configuration parameters (e.g., user permissions, host access permissions, and so on) of the NAS unit. In some embodiments, the NAS management module is configured to operate seamlessly with one or more user directory services (e.g., Active Directory Domain Services) that provide information about users and groups within a domain. Accordingly, the user and group information can be presented in a dialog box of a workflow, thereby allowing an administrator to quickly select the users and\/or groups who are to have permission to access a particular shared folder (e.g., share or export). In addition to simply selecting the users and groups, an administrator can specify the CIFS-based and\/or NFS-based permissions that each user is to have with respect to a particular shared folder. In some embodiments, the NAS management module provides this functionality as part of a workflow for initially establishing a share or export. Additionally, the NAS management module may enable, via a separate user interface, the user permissions associated with an existing share or export to be deleted or modified.","Other aspects of the invention will become apparent from the detailed description that follows.","Methods and systems for provisioning storage on a network-attached storage (NAS) unit for use with clients that utilize different application-layer network protocols are described. In the following description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of example embodiments. It will be evident, however, to one skilled in the art that the present invention may be practiced without these specific details.","Consistent with some embodiments of the invention, a network-attached storage (NAS) management module residing and executing on a host computer system may provide an administrator with the ability to quickly and easily identify (or generate) a folder, on a NAS unit, to be made accessible to client computers via different application-layer network protocols. For instance, in some embodiments, the NAS management module enables an administrator to generate a share\u2014providing access to the folder via the Common Internet File System (CIFS)\u2014and an export\u2014providing access to the folder via the Network File System (NFS) protocol. In the examples provided herein, CIFS and NFS are presented as two examples of protocols at the application-layer (e.g., layer 7) of the Open System Interconnection Reference Model (OSI Model). However, other application-layer network protocols and protocols in other layers of the OSI Model may be supported by certain alternative embodiments of the invention.","In contrast to many conventional NAS management tools, a NAS management module consistent with an embodiment of the invention provides a single workflow for generating both a share and an export. For purposes of the present disclosure, a \u201cworkflow\u201d (sometimes referred to as a \u201cwizard\u201d) is a user interface element including a combination of dialog boxes and corresponding logic. Through the presentation of the dialog boxes, an administrator is prompted to provide input (e.g., configuration data), and is led through a series of tasks in a specific sequence, where the task sequence may be modified and certain dialog boxes presented (or not presented) in a particular order, based on the received input. After the appropriate configuration data has been requested and received, the underlying workflow logic processes the configuration data to generate one or more commands that are communicated, over the network, to the NAS unit. The commands, which coincide with application programming interface (API) commands supported by an API of the NAS unit, are processed by the NAS unit to generate the necessary data structures that provide client access to the target folder and its contents. Other inventive aspects will be readily apparent from the description of the figures that follows.",{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 1","FIG. 1"],"b":["10","12","14","16","16","18","20","16","18","16","18"]},"As described in greater detail below, in some embodiments, the NAS management snap-in module  manifests itself to an administrator primarily in the form of a series of dialog boxes referred to herein as a workflow. By interacting with a single workflow, an administrator is able to configure the NAS unit to make a folder on the NAS accessible to client computers supporting different application-layer network protocols (e.g., NFS client , and CIFS clients  and ). The NAS management module  may have a variety of additional user interfaces that expose and support various other configuration and management tasks as well.","In some embodiments the NAS unit  has an operating system , including logic to generate a share, and logic to generate an export. For instance, in  the NAS unit  is shown to include a share generating module  and an export generating module . These modules  and  may be accessible directly from a command line interface of the NAS unit , enabling an administrator to generate a share and\/or an export by entering the appropriate command at a command line interface of the NAS unit. Alternatively, an API 34 may expose various commands to external devices, including those commands associated with the share generating module  and the export generating module . Accordingly, in some embodiments, configuration data obtained by the computer system  executing the NAS management module  can be formatted into commands that are communicated, via the network, to the API of the NAS unit , where they are processed by the NAS unit . For example, in some embodiments, configuration data received via a workflow presented at computer system  are communicated in one or more commands to the NAS interface  in order to generate a share and\/or an export for a particular shared folder residing in the file system data  of the NAS unit . In some embodiments of the invention, the NAS unit  may be a filer developed by and available from NetApp, Inc. of Sunnyvale, Calif. Accordingly, in some embodiments, the operating system  of the NAS unit may be the Data Ontap operating system, and the API 34 may be a version of the Zephyr API, or ZAPI.","In some embodiments of the invention, a workflow is presented as a series of dialog boxes to an administrator. The input received via the dialog boxes is processed by the NAS management module  to formulate commands for generating a share and\/or export at the NAS unit. In some embodiments, a dialog box may prompt an administrator to provide folder permission information, specifying which users are permitted to access a shared folder and its contents. Accordingly, the underlying logic of the workflow may interface with a user directory service  (e.g., Active Directory Domain Services) present on the network . For example, when a user is presented with a dialog box for establishing user permissions for a share or export, the dialog box may be pre-populated with a list of users or groups associated with the particular domain in which the share or export resides. This enables an administrator to quickly browse through and select the users and\/or groups who are to have permission to access the shared folder via the CIFS and\/or NFS protocols. In some embodiments, a dialog box will also present an administrator with various levels of access permissions. For instance, in addition to specifying that a particular user or group is to have access to a particular shared folder, by manipulating the access permissions, an administrator can specify the particular permissions that a user or group is to have. In some embodiments, the permissions may be specified as \u201cFull Control\u201d, \u201cChange\u201d, and \u201cRead\u201d, as is common for the CIFS protocol. In other instance, the access permissions may be specified in a binary form with a designation such as, \u201crwx\u201d, where each letter indicates an authority to read, write and execute, as is common with NFS protocols.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 2","FIG. 2","FIG. 2","FIGS. 3 and 4","FIG. 2","FIG. 2","FIGS. 3 and 4"],"b":["4","4"]},"In some embodiments, the method is initially invoked when an administrator, interacting with a graphical user interface, selects a user interface element (e.g., a button or menu item) indicating a request to generate a share, export, or both. For example, in the example user interface of , the two buttons  and , both labeled \u201cCreate\u201d, will invoke the process (e.g., the method) for generating a shared folder on the NAS unit. In some embodiments, selecting either button  or  (in ) will result in displaying a welcome dialog box  for the workflow, such as the workflow welcome dialog box  illustrated in -A.","As part of the workflow, at method operation , the administrator is requested to provide, or in some instances, to select, the name of an available NAS unit and a folder name corresponding to the folder the administrator desires to share, or make available to client computers. This is illustrated in -B by the dialog box , which shows two input fields  and \u2014one each for the NAS unit name (e.g., the \u201cSystem\u201d) and the folder to share. In some embodiments, a separate user interface element\u2014in this instance, the \u201cBrowse\u201d button \u2014may provide access to a mechanism for viewing and selecting available NAS units and folders. For instance, when an administrator selects the \u201cBrowse\u201d button , a separate dialog box (e.g., dialog box  illustrated in -C) may appear, allowing the administrator to peruse the available NAS units on the network, and their corresponding folder hierarchies.","Once the NAS name and folder name are received (or selected), at method operation , the administrator is prompted to provide additional configuration data, including a selection of the particular application-layer protocols over which a user will be allowed to access the shared folder. For instance, in the example dialog box  illustrated in -D, the administrator is being prompted to indicate whether the shared folder will be accessible via the CIFS protocol, the NFS protocol, or both. By simply checking the boxes  and , the administrator can provide the necessary protocol selection. In some embodiments, certain configuration data are automatically generated based on previously supplied information (e.g., the NAS unit name and folder name) and provided as input by default. For instance, in -D, the values for the share name , share description , and export name  are all automatically generated and populate their respective fields as default settings, which can be overridden by the administrator if desired.","Next, at method operation , the administrator is prompted to provide additional configuration data, including user access permissions that define which users are to be permitted access to the selected shared folder, and what level of access is permitted. In some embodiments, the dialog box prompting the administrator to provide the user access permissions data may be automatically populated with a list of users, for example, by accessing and reading a network-accessible user directory service. For instance, in some embodiments, the NAS management module performing the method operations may be configured to access a directory service (e.g., Active Directory Domain Service) with a Lightweight Directory Access Protocol (LDAP) or a similar protocol. In other alternative embodiments, the NAS management module may be configured to access other directory services. In any case, the graphical user interface associated with the workflow may facilitate a mechanism by which an administrator can specify permissions by \u201cpointing\u201d and \u201cclicking\u201d with a cursor control device (e.g., a mouse). In some embodiments, a single dialog box will be displayed for both CIFS-based permissions and NFS-based permissions. Alternatively, in some embodiments, two dialog boxes may be displayed in series, allowing the administrator to separately select or identify the appropriate user permissions for each type of protocol. In some embodiments, one or more common permission selections may be displayed, for example, providing the administrator with options to allow all users read-only access, administrators full access and all others read-only access, or administrators full access and all others no access. In other embodiments, the user access permissions may be specified at a more granular level.","Next, at method operation , the administrator is prompted to provide configuration data including the particular host computers from which the folder on the NAS unit can be accessed. For example, in some instances, access to the shared folder may be limited such that access is permitted only from certain host computers. A list of host computers may be specified and used to generate host computer permissions that are enforced by the NAS unit, to prevent unauthorized access to the shared folder.","Finally, at method operation , after all of the configuration data has been received by the NAS management module, a request is communicated to the NAS unit to utilize the configuration data to generate both a share and an export, thereby enabling access to the shared folder over both the CIFS protocol and the NFS protocol. In some embodiments, the request directed to the NAS unit will be a single communication with multiple commands. Alternatively, the request directed to the NAS unit may be a series of commands. In some embodiments, the command(s) will be communicated to the NAS unit via the hypertext transport protocol (HTTP or HTTPS), while in other embodiments, other protocols may be used. In some embodiments, a dialog box  summarizing the configuration data collected and the commands to be communicated to the NAS unit are presented to the administrator, prior to committing the commands to the NAS unit. For instance, as illustrated in dialog box  (-F), the pseudo-commands that are to be communicated to the NAS unit are presented to an administrator for review. Additionally, after the commands are communicated to the NAS unit and processed by the NAS unit, the NAS unit will provide a message indicating whether the commands were successfully processed at the NAS unit. This command processing status may be displayed in a final dialog box, such as dialog box  (-G).","In some embodiments, the dialog boxes presented as part of the workflow, as well as the particular configuration data that an administrator is prompted to provide, will be dependent upon the particular software components that have been licensed by the entity operating the NAS unit and\/or the NAS management application. For instance, the NAS unit may provide support for both CIFS and NFS, but require that a separate license be obtained for each protocol. If a particular business entity has a license for only one protocol (e.g., the CIFS protocol), the dialog boxes presented as part of the workflow will only prompt an administrator for the configuration data corresponding to the licensed protocol. In some embodiments, a dialog box may present an unavailable option as grayed out, or with some other characteristic indicating its unavailability. Alternatively, in some embodiments, a separate dialog box may be presented showing only the available options from which an administrator is to select or enter configuration data. This simplifies the process from the perspective of the administrator as it eliminates any confusion that might be caused by presenting the administrator with options that are unavailable.","In addition to presenting a single workflow for configuring a shared folder for access by client computers utilizing different network protocols, in some embodiments the NAS management module facilitates browsing NAS-based entities (e.g., folders, shares and exports), as well as editing, deleting and\/or modifying the configuration settings of these NAS-based entities. For example, in the example user interface of , the button labeled \u201cEdit\u201d with reference number  provides access to a separate user interface component used to edit the configuration settings or parameters of an existing export. Accordingly, by selecting an existing export (or share) in the list of exports (or list of shares) being presented, and then selecting the appropriate button (e.g., \u201cEdit\u201d button ), an administrator will be presented with a user interface, such as that depicted in , allowing the administrator to edit the user access permissions.","In , a list of groups and users is shown, as is a list of permissions. Selecting a particular group or user will display the particular permissions that group or user has. A button labeled \u201cAdd\u201d with reference number  enables an administrator to add new groups or users who are to be provided with access to the shared folder (export or share). Similarly, the button labeled \u201cRemove\u201d with reference number  enables an administrator to remove a group or user, thereby removing that group's or user's permission to access the shared folder.","In some embodiments, the NAS management module is configured to access one or more network-based user directory services, enabling an administrator to quickly and easily browse for the appropriate group or user to be added to the list of groups and\/or users with permission to access the shared folder. In addition, in some embodiments, the user access permissions may be presented and specified as CIFS-based permissions, such as \u201cFull Control\u201d, \u201cChange\u201d and \u201cRead\u201d. Alternatively, in some embodiments, NFS-based permissions can be specified in the conventional binary format, \u201crwx\u201d, where the individual letters represent read, write and execute privileges. In some embodiments, the access permissions are separately established and managed, such that NFS-based permissions are enforced by the NAS unit only for file requests received via the NFS protocol. Similarly, CIFS-based permissions are used for CIFS-based file requests. Alternatively, in some embodiments, the NAS unit will map NFS-based permissions to their equivalent set of CIFS-based permissions\u2014such operating mode generally being referred to as a multiprotocol mode. In the multiprotocol mode, a user will have the same access permissions to a file regardless of which protocol is being used to access the folder and its contents. In multiprotocol mode, the NAS unit maps the authentication information (e.g., username\/password) for CIFS and NFS to a common user account. This way irrespective of where the requests come from (CIFS or NFS) the requests will get authenticated to the common account credentials. In addition, this also establishes a common way to login with the same user name\/account from both CIFS and NFS clients.","The various operations of example methods described herein may be performed, at least partially, by one or more processors that are temporarily configured (e.g., by software) or permanently configured to perform the relevant operations. Whether temporarily or permanently configured, such processors may constitute processor-implemented modules that operate to perform one or more operations or functions. Accordingly, the modules referred to herein may, in some example embodiments, comprise processor-implemented modules.","Similarly, the methods described herein may be at least partially processor-implemented. For example, at least some of the operations of a method may be performed by one or more processors or processor-implemented modules. The performance of certain of the operations may be distributed among the one or more processors, not only residing within a single machine, but deployed across a number of machines. In some example embodiments, the processor or processors may be located in a single location (e.g., within a home environment, an office environment or at a server farm), while in other embodiments the processors may be distributed across a number of locations.","The one or more processors may also operate to support performance of the relevant operations in a \u201ccloud computing\u201d environment or as a service, for example, such as in the context of \u201csoftware as a service\u201d (SaaS). For example, at least some of the operations may be performed by a group of computers (as examples of machines including processors), these operations being accessible via a network (e.g., the Internet) and via one or more appropriate interfaces (e.g., Application Program Interfaces (APIs)).",{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 6"},"The example computer system  includes a processor  (e.g., a central processing unit (CPU), a graphics processing unit (GPU) or both), a main memory  and a static memory , which communicate with each other via a bus . The computer system  may further include a display unit , an alphanumeric input device  (e.g., a keyboard), and a user interface (UI) navigation device  (e.g., a mouse). In one embodiment, the display, input device and cursor control device are a touch screen display. The computer system  may additionally include a storage device (e.g., drive unit ), a signal generation device  (e.g., a speaker), a network interface device , and one or more sensors , such as a global positioning system sensor, compass, accelerometer, or other sensor.","The drive unit  includes a machine-readable medium  on which is stored one or more sets of instructions and data structures (e.g., software ) embodying or utilized by any one or more of the methodologies or functions described herein. The software  may also reside, completely or at least partially, within the main memory  and\/or within the processor  during execution thereof by the computer system , the main memory  and the processor  also constituting machine-readable media.","While the machine-readable medium  is illustrated in an example embodiment to be a single medium, the term \u201cmachine-readable medium\u201d may include a single medium or multiple media (e.g., a centralized or distributed database, and\/or associated caches and servers) that store the one or more instructions. The term \u201cmachine-readable medium\u201d shall also be taken to include any tangible medium that is capable of storing, encoding or carrying instructions for execution by the machine and that cause the machine to perform any one or more of the methodologies of the present invention, or that is capable of storing, encoding or carrying data structures utilized by or associated with such instructions. The term \u201cmachine-readable medium\u201d shall accordingly be taken to include, but not be limited to, solid-state memories, and optical and magnetic media. Specific examples of machine-readable media include non-volatile memory, including by way of example semiconductor memory devices, e.g., EPROM, EEPROM, and flash memory devices; magnetic disks such as internal hard disks and removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks.","The software  may further be transmitted or received over a communications network  using a transmission medium via the network interface device  utilizing any one of a number of well-known transfer protocols (e.g., HTTP). Examples of communication networks include a local area network (\u201cLAN\u201d), a wide area network (\u201cWAN\u201d), the Internet, mobile telephone networks, Plain Old Telephone (POTS) networks, and wireless data networks (e.g., Wi-Fi\u00ae and WiMax\u00ae networks). The term \u201ctransmission medium\u201d shall be taken to include any intangible medium that is capable of storing, encoding or carrying instructions for execution by the machine, and includes digital or analog communications signals or other intangible medium to facilitate communication of such software.","Although an embodiment has been described with reference to specific example embodiments, it will be evident that various modifications and changes may be made to these embodiments without departing from the broader spirit and scope of the invention. Accordingly, the specification and drawings are to be regarded in an illustrative rather than a restrictive sense. The accompanying drawings that form a part hereof, show by way of illustration, and not of limitation, specific embodiments in which the subject matter may be practiced. The embodiments illustrated are described in sufficient detail to enable those skilled in the art to practice the teachings disclosed herein. Other embodiments may be utilized and derived therefrom, such that structural and logical substitutions and changes may be made without departing from the scope of this disclosure. This Detailed Description, therefore, is not to be taken in a limiting sense, and the scope of various embodiments is defined only by the included claims, along with the full range of equivalents to which such claims are entitled."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":["Some embodiments are illustrated by way of example and not limitation in the figures of the accompanying drawings in which:",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIGS. 3, 4","b":["4","5"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
