---
title: Systems and methods for digital document processing
abstract: Display technologies that separate the underlying functionality of an application program from the graphical display process, thereby eliminating or reducing the application's need to control the device display and to provide graphical user interface tools and controls for the display. Additionally, such systems reduce or eliminate the need for an application program to be present on a processing system when displaying data created by or for that application program, such as a document or video stream. Thus it will be understood that in one aspect, the systems and methods described herein can display content, including documents, video streams, or other content, and will provide the graphical user functions for viewing the displayed document, such as zoom, pan, or other such functions, without need for the underlying application to be present on the system that is displaying the content. The advantages over the prior art of the systems and methods described herein include the advantage of allowing different types of content from different application programs to be shown on the same display within the same work space.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07036076&OS=07036076&RS=07036076
owner: Picsel Technologies Limited
number: 07036076
owner_city: Glasgow
owner_country: GB
publication_date: 20010416
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF CERTAIN ILLUSTRATED EMBODIMENTS"],"p":["This application claims priority to earlier filed British Patent Application No. 0009129.8, filed Apr. 14, 2000, and U.S. patent application Ser. No. 09\/703,502 filed Oct. 31, 2000, both having Majid Anwar as an inventor, the contents of which are hereby incorporated by reference.","The invention relates to data processing systems, and more particularly, to methods and systems for processing digital documents to generate an output representation of a source document as a visual display, a hardcopy, or in some other display format.","As used herein, the term \u201cdigital document\u201d is used to describe a digital representation of any type of data processed by a data processing system which is intended, ultimately, to be output in some form, in whole or in part, to a human user, typically by being displayed or reproduced visually (e.g., by means of a visual display unit or printer), or by text-to-speech conversion, etc. A digital document may include any features capable of representation, including but not limited to the following: text; graphical images; animated graphical images; full motion video images; interactive icons, buttons, menus or hyperlinks. A digital document may also include non-visual elements such as audio (sound) elements.","Data processing systems, such as personal computer systems, are typically required to process \u201cdigital documents,\u201d which may originate from any one of a number of local or remote sources and which may exist in any one of a wide variety of data formats (\u201cfile formats\u201d). In order to generate an output version of the document, whether as a visual display or printed copy, for example, it is necessary for the computer system to interpret the original data file and to generate an output compatible with the relevant output device (e.g., monitor, or other visual display device or printer). In general, this process will involve an application program adapted to interpret the data file, the operating system of the computer, a software \u201cdriver\u201d specific to the desired output device and, in some cases (particularly for monitors or other visual display units), additional hardware in the form of an expansion card.","This conventional approach to the processing of digital documents in order to generate an output is inefficient in terms of hardware resources, software overheads and processing time, and is completely unsuitable for low power, portable data processing systems, including wireless telecommunication systems, or for low cost data processing systems such as network terminals, etc. Other problems are encountered in conventional digital document processing systems, including the need to configure multiple system components (including both hardware and software components) to interact in the desired manner, and inconsistencies in the processing of identical source material by different systems (e.g., differences in formatting, color reproduction, etc.). In addition, the conventional approach to digital document processing is unable to exploit the commonality and\/or re-usability of file format components.","It is an object of the present invention to provide digital document processing methods and systems, and devices incorporating such methods and systems, which obviate or mitigate the aforesaid disadvantages of conventional methods and systems.","The systems and methods described herein provide a display technology that separates the underlying functionality of an application program from the graphical display process, thereby eliminating or reducing the application's need to control the device display and to provide graphical user interface tools and controls for the display. Additionally, such systems reduce or eliminate the need for an application program to be present on a processing system when displaying data created by or for that application program, such as a document or video stream. Thus it will be understood that in one aspect, the systems and methods described herein can display content, including documents, video streams, or other content, and will provide the graphical user functions for viewing the displayed document, such as zoom, pan, or other such functions, without need for the underlying application to be present on the system that is displaying the content. The advantages over the prior art of the systems and methods described herein include the advantage of allowing different types of content from different application programs to be shown on the same display within the same work space. Many more advantages will be apparent to those of ordinary skill in the art and those of those of ordinary skill in the art will also be able to see numerous way of employing the underlying technology of the invention for creating additional systems, devices, and applications. These modified systems and alternate systems and practices will be understood to fall within the scope of the invention.","More particularly, the systems and methods described herein include a digital content processing system that comprises an application dispatcher for receiving an input byte stream representing source data in one of a plurality of predetermined data formats and for associating the input byte stream with one of the predetermined data formats. The system may also comprise a document agent for interpreting the input byte stream as a function of the associated predetermined data format and for parsing the input byte stream into a stream of document objects that provide an internal representation of primitive structures within the input byte stream. The systems also include a core document engine for converting the document objects into an internal representation data format and for mapping the internal representation data to a location on a display. A shape processor within the system processes the internal representation data to drive an output device to present the content as expressed through the internal representation.","Embodiments of the invention will now be described, by way of example only, with reference to the accompanying drawings.","The systems and methods described herein include computer programs that operate to process an output stream or output file generated by an application program for the purpose of presenting the output on an output device, such as a video display. The applications according to the invention can process these streams to create an internal representation of that output and can further process that internal representation to generate a new output stream that may be displayed on an output device as the output generated by the application according to the invention. Accordingly, the systems of the invention decouple the application program from the display process thus relieving the application program from having to display its output onto a particular display device and further removes the need to have the application program present when processing the output of that application for the purpose of displaying that output.","To illustrate this operation,  provides a high-level functional block diagram of a system  that allows a plurality of application programs, shown collectively as element , to deliver their output streams to a computer process  that processes those output streams and generates a representation of the collective output created by those streams for display on the device . The collective output of the application programs  is depicted in  by the output printer device  that presents the output content generated by the different application programs . It will be understood by those of skill in the art the output device  is presenting output generated by the computer process  and that this output collectively carries the content of the plural application programs . In the illustration provided by , the presented content comprises a plurality of images and the output device  is a display. However, it will be apparent to those of skill in the art that in other practices the content may be carried in a format other than images, such as auditory tactile, or any other format, or combination of formats suitable for conveying information to a user. Moreover, it will be understood by those of skill in the art that the type of output device  will vary according to the application and may include devices for presenting audio content, video content, printed content, plotted content or any other type of content. For the purpose of illustration, the systems and methods described herein will largely be shown as displaying graphical content through display devices, yet it will be understood that these exemplary systems are only for the purpose of illustration, and not to be understood as limiting in anyway. Thus the output generated by the application programs  is processed and aggregated by the computer process  to create a single display that includes all the content generated by the individual application programs .","In the depicted embodiment, each of the representative outputs appearing on display  is termed a document, and each of the depicted documents can be associated with one of the application programs . It will be understood that the term document as used herein will encompass documents, streamed video, streamed audio, web pages, and any other form of data that can be processed and displayed by the computer process . The computer process  generates a single output display that includes within that display one or more of the documents generated from the application programs . The collection of displayed documents represents the content generated by the application programs  and this content is displayed within the program window generated by the computer process . The program window for the computer process  also may include a set of icons representative of tools provided with the graphical user interface and capable of allowing a user to control the operation, in this case the display, of the documents appearing in the program window.","In contrast, the conventional approach of having each application program form its own display would result in a presentation on the display device  that included several program windows, typically one for each application program . Additionally, each different type of program window would include a different set of tools for manipulating the content displayed in that window. Thus the system  of the invention has the advantage of providing a consistent user interface, and only requiring knowledge of one set of tools for displaying and controlling the different documents. Additionally, the computer process  operates on the output of the application programs , thus only requiring that output to create the documents that appear within the program window. Accordingly, it is not necessary that the application programs  be resident on the same machine as the process , nor that the application programs  operate in concert with the computer process . The computer process  needs only the output from these application programs , and this output can be derived from stored data files that were created by the application programs  at an earlier time. However, the systems and methods described herein may be employed as part of systems wherein an application program is capable of presenting its own content, controlling at least a portion of the display  and presenting that content within a program window associated with that application program. In these embodiments the systems and methods of the invention can work as separate applications that appear on the display within a portion of the display provided for its use.","More particularly,  depicts a plurality of application programs . These application programs can include word processing programs such as Word, WordPerfect, or any other similar word processing program. It can further include programs such as Netscape Composer that generates HTML files, Adobe Acrobat that processes PDF files, a web server that delivers XML or HTML, a streaming server that generates a stream of audio-visual data, an e-mail client or server, a database, spreadsheet or any other kind of application program that delivers output either as a file, data stream, or in some other format suitable for use by a computer process. In the embodiment of  each of the application programs  presents its output content to the computer process . In operation this can occur by having the application process  direct its output stream as an input byte stream to the computer process . The use of data streams is well known to those of ordinary skill in the art and described in the literature, including for example, Stephen G. Kochan, Programming in C, Hayden Publishing (1983). Optionally, the application program  can create a data file such as a Word document, that can be streamed into the computer process  either by a separate application or by the computer process .","The computer process  is capable of processing the various input streams to create the aggregated display shown on display device . To this end, and as will be shown in greater detail hereinafter, the computer process  processes the incoming streams to generate an internal representation of each of these input streams. In one practice this internal representation is meant to look as close as possible to the output stream of the respective application program . However, in other embodiments the internal representation may be created to have a selected, simplified or partial likeness to the output stream generated by the respective application program . Additionally and optionally, the systems and methods described herein may also apply filters to the content being translated thereby allowing certain portions of the content to be removed from the content displayed or otherwise presented. Further, the systems and methods described herein may allow alteration of the structure of the source document, allowing for repositioning content within a document, rearranging the structure of the document, or selecting only certain types of data. Similarly in an optional embodiment, content can be added during the translation process, including active content such as links to web sites. In either case, the internal representation created by computer process  may be further processed by the computer process  to drive the display device  to create the aggregated image represented in FIG. .","Turning to , a more detailed representation of the system of  is presented. Specifically,  depicts the system  which includes that computer process , the source documents , a and a display device . The computer process  includes a plurality of document agents , an internal representation format file and process , buffer storage , a library of generic objects , a core document engine that in this embodiment comprises a parsing module , and a rendering module , an internal view , a shape processor  and a final output .  further depicts an optional input device  for transmitting user input  to the computer process . The depicted embodiment includes a process  that comprises a shape processor . However, it will be apparent to those of ordinary skill in the art, that the depicted process  is only exemplary and that the process  may be realized through alternate processes and architectures. For example, the shape processor  may optionally be realized as a hardware component, such as a semiconductor device, that supports the operation of the other elements of the process . Moreover, it will be understood that although  presents process  as a functional block diagram that comprises a single system, it may be that process  is distributed across a number of different platforms, and optionally it may be that the elements operate at different times and that the output from one element of process  is delivered at a later time as input to the next element of process .","As discussed above, each source document  is associated with a document agent  that is capable of translating the incoming document into an internal representation of the content of that source document . To identify the appropriate document agent  to process a source document , the system  of  includes an application dispatcher (not shown) that controls the interface between application programs and the system . In one practice, the use of an external application programming interface (API) is handled by the application dispatcher which passes data, calls the appropriate document agent , or otherwise carries out the request made by the application program. To select the appropriate document agent  for a particular source document , the application dispatcher advertises the source document  to all the loaded document agents . These document agents  then respond with information regarding their particular suitability for translating the content of the published source document . Once the document agents  have responded, the application dispatcher selects a document agent  and passes a pointer, such as a URI of the source document , to the selected document agent .","In one practice, the computer process  may be run as a service under which a plurality of threads may be created thereby supporting multi-processing of plural document sources . In other embodiments, the process  does not support multi-threading and the document agent  selected by the application dispatcher will be called in the current thread.","It will be understood that the exemplary embodiment of  provides a flexible and extensible front end for processing incoming data streams of different file formats. For example, optionally, if the application dispatcher determines that the system lacks a document agent  suitable for translating the source document , the application dispatcher can signal the respective application program  indicating that the source document  is in an unrecognized format. Optionally, the application program  may choose to allow the reformatting of the source document , such as by converting the source document  produced by the application program  from its present format into another format supported by that application program . For example an application program  may determine that the source document  needs to be saved in a different format, such as an earlier version of the file format. To the extent that the application program  supports that format, the application program  can resave the source document  in this supported format in order that a document agent  provided by the system  will be capable of translating the source document . Optionally, the application dispatcher, upon detecting that the system  lacks a suitable document agent , can indicate to a user that a new document agent of a particular type may be needed for translating the present source document . To this end, the computer process  may indicate to the user that a new document agent needs to be loaded into the system  and may direct the user to a location, such as a web site, from where the new document agent  may be downloaded. Optionally, the system could fetch automatically the document agent without asking the user, or could identify a generic agent , such as a generic text agent that can extract portions of the source document  representative of text. Further, agents that prompt a user for input and instruction during the translation process may also be provided.","In a still further optional embodiment, an application dispatcher in conjunction with the document agents  acts as an input module that identifies the file format of the source document  on the basis of any one of a variety of criteria, such as an explicit file-type identification within the document, from the file name, including the file name extension, or from known characteristics of the content of particular file types. The bytestream is input to the document agent , specific to the file format of the source document .","Although the above description has discussed input data being provided by a stream or computer file, it shall be understood by those of skill in the art that the system  may also be applied to input received from an input device such as a digital camera or scanner as well as from an application program that can directly stream its output to the process , or that has its output streamed by an operating system to the process . In this case the input bytestream may originate directly from the input device, rather from a source document . However, the input bytestream will still be in a data format suitable for processing by the system  and, for the purposes of the invention, input received from such an input device may be regarded as a source document .","As shown in , the document agent  employs the library  of standard objects to generate the internal representation , which describes the content of the source document in terms of a collection of document objects whose generic types are as defined in the library , together with parameters defining the properties of specific instances of the various document objects within the document. Thus, the library  provides a set of types of objects which the document agents , the parser  and the system  have knowledge of. For example, the document objects employed in the internal representation  may include: text, bitmap graphics and vector graphics document objects which may or may not be animated and which may be two- or three-dimensional: video, audio and a variety of types of interactive objects such as buttons and icons. Vector graphics document objects may be PostScript-like paths with specified fill and transparency. Bitmap graphic document objects may include a set of sub-object types such as for example JPEG, GIF and PNG object types. Text document objects may declare a region of stylized text. The region may include a paragraph of text, typically understood as a set of characters that appears between two delimiters, like a pair of carriage returns. Each text object may include a run of characters and the styling information for that character run including one or more associated typefaces, points and other such styling information.","The parameters defining specific instances of document objects will generally include dimensional co-ordinates defining the physical shape, size and location of the document object and any relevant temporal data for defining document objects whose properties vary with time, thereby allowing the system to deal with dynamic document structures and\/or display functions. For example, a stream of video input may be treated by the system  as a series of figures that are changing at a rate of, for example, 30 frames per second. In this case the temporal characteristic of this figure object indicates that the figure object is to be updated 30 times per second. As discussed above, for text objects, the parameters will normally also include a font and size to be applied to a character string. Object parameters may also define other properties, such as transparency. It will be understood that the internal representation may be saved\/stored in a file format native to the system and that the range of possible source documents  input to the system  may include documents in the system's native file format. It is also possible for the internal representation  to be converted into any of a range of other file formats if required, using suitable conversion agents.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 3","FIG. 3","FIG. 3","FIG. 3"],"b":["12","50","12","12","50","52","50","50","11","52","50","54","58","60","11","50","54","58","60","11","12","11","11"]},"As the process  in step  begins to identify different characters that appear within a particular paragraph, the process  may proceed to step  wherein a style is applied to the character or set of characters identified in step . The application of a style is understood to associated the identified characters with a style of presentation that is being employed with those characters. The style of presentation may include properties associated with the character including font type, font size, whether the characters are bold, italic, or otherwise stylized. Additionally, in step  the process can determine whether the characters are rotated, or being positioned for following a curved path or other shape. Additionally, in step  style associated with the paragraph in which the characters occur may also be identified and associated with the characters. Such properties can include the line spacing associated with the paragraph, the margins associated with the paragraph, the spacing between characters, and other such properties.","After step  the process  proceeds to step  wherein the internal representation is built up. The object which describes the structure of the document is created in Step  as an object within the internal representation, and the associated style of this object, together with the character run it contains, is created separately within the internal representation at Step . ,  and , which will be explained in more detail herein after, depict figuratively the file structure created by the process  wherein the structure of a document is captured by a group of document objects and the data associated with the document objects is stored in a separate data structure. After step , a process  proceeds to decision block  wherein the process  determines whether the paragraph associated with the last processed character is complete. If the paragraph is not complete the process  returns to step  wherein the next character from the paragraph is read. Alternatively, if the paragraph is complete the process  proceeds to decision block  wherein the process  determines whether the section is complete. If the section is complete the process returns to step  and the next paragraph is read from the piece table. Alternatively if the section is complete the process  proceeds to step  wherein the next section, if there is a next section is read from the piece table and processing continues. Once the document has been processed the system  can transmit, save, export or otherwise store the translated document for subsequent use. The system can store the translated file in a format compatible with the internal representation, and optionally in other formats as well including formats compatible with the file formats of the source documents  (for which it may employ \u2018export document agents\u2019 not shown capable of receiving internal representation data and creating source document data), or in a binary form, a textual document description structure, marked-up text or in any other suitable format; and may employ a universal text encoding model, including unicode, shiftmapping, big-5, and a luminance\/chrominance model.","As can be seen from the above, the format of the internal representation  separates the \u201cstructure\u201d (or \u201clayout\u201d) of the documents, as described by the object types and their parameters, from the \u201ccontent\u201d of the various objects; e.g. the character string (content) of a text object is separated from the dimensional parameters of the object; the image data (content) of a graphic object is separated from its dimensional parameters. This allows document structures to be defined in a compact manner and provides the option for content data to be stored remotely and to be fetched by the system only when needed. The internal representation  describes the document and its constituent objects in terms of \u201chigh-level\u201d descriptions.","The document agent  described above with reference to  is capable of processing a data file created by the MSWord word processing application and translating that data file into an internal representation that is formed from a set of object types selected from the library , that represents the content of the processed document. Accordingly, the document agent  analyzes the Word document and translates the structure and content of that document into an internal representation known to the computer process . One example of one type of Word document that may be processed by the document agent  is depicted in FIG. . Specifically,  depicts a Word document  of the type created by the MSWord application program. The depicted document  comprises one page of information wherein that one page includes two columns of text  and one FIG. .  further depicts that the columns of text  and the  are positioned on the page  in such a way that one column of text runs from the top of the page  to the bottom of the page  and the second column of text runs from about the center of the page to the bottom of the page with the  being disposed above the second column of text .","As discussed above with reference to  the document agent  begins processing the document  by determining that the document  comprises one page and contains a plurality of different objects. For the one page found by the document agent , the document agent  identifies the style of the page, which for example may be a page style of an 8.5\u00d711 page in portrait format. The page style identified by the document agent  is embodied in the internal representation for later use by the parser  in formatting and flowing text into the document created by the process .","For the document  depicted in  only one page is present. However, it will be understood that the document agent  may process Word documents comprising a plurality of pages. In such a case the document agent  would process each page separately by creating a page then filling it with objects of the type found in the library. Thus page style information can include that a document comprises a plurality of pages and that the pages are of a certain size. Other page style information may be identified by the document agent  and the page style information identified can vary according to the application. Thus different page style information may be identified by a document agent capable of processing a Microsoft Excel document or a real media data stream.","As further described with reference to  once the document agent  has identified the page style the document agent  may begin to break the document  down into objects that can be mapped to document objects known to the system and typically stored in the library . For example, the document agent  may process the document  to find text objects, bitmap objects and vector graphic objects. Other type of object types may optionally be provided including video type, animation type, button type, and script type. In this practice, the document agent  will identify a text object  whose associated style has two columns. The paragraphs of text that occur within the text object  may be analyzed for identifying each character in each respective paragraph. Process  may apply style properties to each identified character run and each character run identified within the document  may be mapped to a text object of the type listed within the library . Each character run and the applied style can be understood as an object identified by the document agent  as having been found within the document  and having been translated to a document object, in this case a text object of the type listed within the library . This internal representation object may be streamed from the document agent  into the internal representation . The document agent  may continue to translate the objects that appear within the document  into document objects that are known to the system  until each object has been translated. The object types may be appropriate for the application and may include object types suitable for translating source data representative of a digital document, an audio\/visual presentation, a music file, an interactive script, a user interface file and an image file, as well as any other file types.","Turning to , it can be seen that the process  depicted in  allows for compacting similar objects appearing within the internal representation of the source document , for the purpose of reducing the size of the internal representation. For example,  depicts a process  wherein step  has a primitive library object A being processed by, in step , inserting that primitive object into the document that is becoming the internal representation of the source document . In step  another object B, provided by the document agent  is delivered to the internal representation file process . The process  then undertakes the depicted sequence of steps  through  wherein characteristics of object A are compared to the characteristics of object B to determine if the two objects have the same characteristics. For example, if object A and object B represent two characters such as the letter P and the letter N, if both characters P and N are the same color, same font, same size and the same style such as bold or italicized, then the process  in step  joins the two objects together within one object classification stored within the internal representation. If these characteristics do not match then the process  adds them to the internal representation as two separate objects.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 5","b":["80","14"]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIGS. 6","FIGS. 1 and 2"],"b":["7","8"]},"As will be described in greater detail hereinafter the structure of the internal representation of the processed document separates the structure of the document from the content of the document. Specifically, the structure of the document is captured by a data structure that shows the different document objects that make up the document, as well as the way that these document objects are arranged relative to each other. This separation of structure from content is shown in  wherein the data structure  captures the structure of the document being processed and stores that structure in a data format that is independent of the actual content associated with that document. Specifically, the data structure  includes a resource Table  and a document structure . The resource table  provides a list of resources for constructing the internal representation of the document. For example the resource table  can include one or more tables of common structures that occur within the document, such as type faces, links, and color lists. These common structures may be referenced numerically within the resource table . The resources of resource table  relate to the document objects that are arranged within the document structure . As  shows, the document structure  includes a plurality of containers  that are represented by the sets of the nested parentheses. Within the containers  are a plurality of document objects . As shown in  the containers  represent collections of document objects that appear within the document being processed. As further shown by  the containers  are also capable of holding sub-containers. For example, the document structure  includes one top-level container, identified by the set of outer parentheses labeled , and has three nested containers ,  and . Additionally, the container  is double nested within container  and container .","Each container  represents features within a document, wherein the features may be a collection of individual document objects, such as the depicted document objects . Thus for example, a document, such as the document  depicted in , may include a container representative of the character run wherein the character run includes the text that appears within the columns . The different document objects  that occur within the character run container may, for example, be representative of the different paragraphs that occur within that character run. The character run container has a style associated with it. For example, the character run depicted in  can include style information representative of the character font type, font size, styling, such as bold or italic styling, and style information representative of the size of the column, including width and length, in which the character run, or at least a portion of that character run, occurs. This style information may be later used by the parser  to reformat and reflow the text within the context specific view . Another example of a container may be a table that, for example, could appear within a column  of text in document . The table may be a container with objects. The other types and uses of containers will vary according to the application at hand and the systems and methods of the invention are not limited to any particular set of object types or containers.","Thus, as the document agent  translates the source document , it will encounter objects that are of known object types, and the document agent  will request the library  to create an object of the appropriate object type. The document agent  will then lodge that created document object into the appropriate location within document structure  to preserve the overall structure of the source document . For example, as the document agent  encounters the image  within the source document , the document agent  will recognize the image , which may for example be a JPEG image, as an object of type bitmap, and optionally sub-type JPEG. This document agent , as shown in steps  and  of , can create the appropriate document object  and can lodge the created document object  into the structure . Additionally, the data for the JPEG image document object , or in another example, the data for the characters and their associated style for a character run, may be stored within the data structure  depicted in FIG. .","As the source document  is being processed, the document agent  may identify other containers wherein these other containers may be representative of a subfeature appearing within an existing container, such as a character run. For example, these subfeatures may include links to referenced material, or clipped visual regions or features that appear within the document and that contain collections of individual document objects . The document agent  can place these document objects  within a separate container that will be nested within the existing container. The arrangement of these document objects  and the containers  are shown in  as a tree structure  wherein the individual containers , ,  and  are shown as container objects , ,  and  respectively. The containers  and the document objects  are arranged in a tree structure that shows the nested container structure of documents structure  and the different document objects  that occur within the containers . The tree structure of  also illustrates that the structure  records and preserves the structure of the source document , showing the source document as a hierarchy of document objects , wherein the document objects  include the style information, such as for example the size of columns in which a run of characters appears, or temporal information, such as the frame rate for streamed content. Thus, each document's graphical structure is described by a series of parameterized elements. One example of this is presented below in Table 1.",{"@attributes":{"id":"p-0047","num":"0046"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"parameters","e.g"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Type","Bitmap"]},{"entry":[{},"Bounding Box","400,200; 600,700 units (bottom left, top"]},{"entry":[{},{},"right)"]},{"entry":[{},"Fill","Object 17"]},{"entry":[{},"Alpha","0 (none)"]},{"entry":[{},"Shape","Object 24"]},{"entry":[{},"Time","0,\u22121 (infinity) [start, end]"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"As can be seen, Table 1 presents an example of parameters that may be used to describe a document's graphical structure. Table one presents examples of such parameters, such as the object type, which in this case is a Bitmap object type. A bounding box parameter is provided and gives the location of the document object within the source document . Table one further provides the Fill employed and an alpha factor that is representative of the degree of transparency for the object. A Shape parameter provides a handle to the shape of the object, which in this case could be a path that defines the outline of the object, including irregularly shaped objects. Table 1 also presents a time parameter representative of the temporal changing for that object. In this example, the image is stable and does not change with time. However, if the image object presented streamed media, then this parameter could contain a temporal characteristic that indicates the rate at which the object should change, such as a rate comparable to the desired frame rate for the content.","Thus, the structural elements are containers with flowable data content, with this flowable data held separately and referenced by a handle from the container. In this way, any or all data content can be held remotely from the document structure. This allows for rendering of the document in a manner that can be achieved with a mixture of locally held and remotely held data content. Additionally, this data structure allows for rapid progressive rendering of the internal representation of the source document , as the broader and higher level objects can be rendered first, and the finer features can be rendered in subsequent order. Thus, the separate structure and data allows visual document to be rendered while streaming data to \u201cfill\u201d the content. Additionally, the separation of content and structure allows the content of the document to readily be edited or changed. As the document structure is independent from the content, different content can be substituted into the document structure. This can be done on container by container basis or for the whole document. The structure of the document can be delivered separately from the content and the content provided later, or made present on the platform to which the structure is delivered.","Additionally,  shows that the structure of a source document  can be represented as a tree structure . In one practice the tree structure may be modified and edited to change the presentation of the source document . For example, the tree structure may be modified to add additional structure and content to the tree . This is depicted in  that shows the original tree structure of  duplicated and presented under a higher level container. Thus,  shows that a new document structure, and therefore new representation, may be created by processing the tree structure  produced by the document agent . This allows the visual position of objects within a document to change, while the relative position of different objects  may remain the same. By adjusting the tree structure , the systems described herein can edit and modify content. For example, in those applications where the content within the tree structure  is representative of visual content, the systems described herein can edit the tree structure to duplicate the image of the document, and present side by side images of the document. Alternatively, the tree structure  can be edited and supplemented to add additional visual information, such as by adding the image of a new document or a portion of that document. Moreover, by controlling the rate at which the tree structure is changed, the systems described herein can create the illusion of a document gradually changing, such as sliding across a display, such as display device , or gradually changing into a new document. Other effects, such as the creation of thumbnail views and other similar results can be achieved and those of ordinary skill by making modifications to the systems and methods described herein and such modified systems and methods will fall within the scope of the invention.","The data of the source document  is stored separately from the structure . To this end, each document object  includes a pointer to the data associated with that object and this information may be arranged within an indirection list such as the indirection list  depicted in FIG. . In this practice, and as shown in , each document object  is numbered and an indirection list  is created wherein each document object number  is associated with an offset value . For example the document object number , identified by reference number , may be associated with the offset , identified by reference number . Thus, the indirection list associates the object number  with the offset . The offset  may represent a location in core memory, or a file offset, wherein the data associated with object  may reside. As further shown in  a data structure  may be present wherein the data that is representative of the content associated with a respective document object  may be stored. Thus for example, the depicted object  at jump location  may include the unicode characters representative of the characters that occur within the character run of the container  depicted in FIG. . Similarly, the object  data, depicted in  by reference number , and associated with in core memory location , identified by reference numeral , may be representative of the JPEG bit map associated with a bit map document object  referenced within the document structure  of FIG. .","It will be noted by those of skill in the art, that as the data is separated from the structure, the content for a source document is held in a centralized repository. As such, the systems described herein allow for compressing across different types of data objects. Such processes provide for greater storage flexibility in limited resource systems.","Returning to , it will be understood that once the process for compacting the content of an internal representation file completes compacting different objects, these objects are passed to the parser . The parser  parses the objects identified in the structure section of the internal representation, and with reference to the data content associated with this object, it re-applies the position and styling information to each object. The renderer  generates a context-specific representation or \u201cview\u201d  of the documents represented by the internal representation . The required view may be of the all the documents, a whole document or of parts of one or some of the documents. The renderer  receives view control inputs  which define the viewing context and any related temporal parameters of the specific document view which is to be generated. For example, the system  may be required to generate a zoomed view of part of a document, and then to pan or scroll the zoomed view to display adjacent portions of the document. The view control inputs  are interpreted by the renderer  to determine which parts of the internal representation are required for a particular view and how, when and for how long the view is to be displayed.","The context-specific representation\/view  is expressed in terms of primitive shapes and parameters.","The renderer  may also perform additional pre-processing functions on the relevant parts of the internal representation  when generating the required view  of the source document . The view representation  is input to a shape processor  for processing to generate an output in a format suitable fore driving an output device , such as a display device or printer.","The pre-processing functions of the renderer  may include colour correction, resolution adjustment\/enhancement and anti-aliasing. Resolution enhancement may comprise scaling functions which preserve the legibility of the content of objects when displayed or reproduced by the target output device. Resolution adjustment may be context-sensitive; e.g. the display resolution of particular objects may be reduced while the displayed document view is being panned or scrolled and increased when the document view is static.","Optionally, there may be a feedback path  between the parser  and the internal representation , e.g. for the purpose of triggering an update of the content of the internal representation , such as in the case where the source document  represented by the internal representation comprises a multi-frame animation.","The output from the renderer  expresses the document in terms of primitive objects. For each document object, the representation from the renderer  defines the object at least in terms of a physical, rectangle boundary box, the actual outline path of the object bounded by the boundary box, the data content of the object, and its transparency.","The shape processor  interprets the primitive object and converts it into an output frame format appropriate to the target output device ; e.g. a dot-map for a printer, vector instruction set for a plotter, or bitmap for a display device. An output control input  to the shape processor  provides information to the shape processor  to generate output suitable for a particular output device .","The shape processor  preferably processes the objects defined by the view representation  in terms of \u201cshape\u201d (i.e. the outline shape of the object), \u201cfill\u201d (the data content of the object) and \u201calpha\u201d (the transparency of the object), performs scaling and clipping appropriate to the required view and output device, and expresses the object in terms appropriate to the output device (typically in terms of pixels by scan conversion or the like, for most types of display device or printer). The shape processor  optionally includes an edge buffer which defines the shape of an object in terms of scan-converted pixels, and preferably applies anti-aliasing to the outline shape. Anti-aliasing may be performed in a manner determined by the characteristics of the output device , by applying a grey-scale ramp across the object boundary. This approach enables memory efficient shape-clipping and shape-intersection processes, and is memory efficient and processor efficient as well. A look-up table, or other technique, may be employed to define multiple tone response curves, allowing non-linear rendering control. The individual primitive objects processed by the shape processor  are combined in the composite output frame. The design of one shape processor suitable for use with the systems described herein is shown in greater detail in the patent application entitled Shape Processor, filed on even date herewith, the contents of which are incorporated by reference. However, any suitable shape processor system or process may be employed without departing from the scope of the invention.","As discussed above, the process  depicted in  can be realized as a software component operating on a data processing system such as a hand held computer, a mobile telephone, set top box, facsimile machine, copier or other office equipment, an embedded computer system, a Windows or Unix workstation, or any other type of computer\/processing platform capable of supporting, in whole or in part, the document processing system described above. In these embodiments, the system can be implemented as a C language computer program, or a computer program written in any high level language including C++, Fortran, Java or Basic. Additionally, in an embodiment where microcontrollers or DSPs are employed, the systems can be realized as a computer program written in microcode or written in a high level language and compiled down to microcode that can be executed on the platform employed. The development of such systems is known to those of skill in the art, and such techniques are set forth in -1110 Additionally, general techniques for high level programming are known, and set forth in, for example, Stephen G. Kochan, Programming in C, Hayden Publishing (1983). It is noted that DSPs are particularly suited for implementing signal processing functions, including preprocessing functions such as image enhancement through adjustments in contrast, edge definition and brightness. Developing code for the DSP and microcontroller systems follows from principles well known in the art.","Accordingly, although  graphically depicts the computer process  as comprising a plurality of functional block elements, it will be apparent to one of ordinary skill in the art that these elements can be realized as computer programs or portions of computer programs that are capable of running on the data processing platform to thereby configure the data processing platform as a system according to the invention. Moreover, although  depicts the system  as an integrated unit of a document processing process  and a display device , it will be apparent to those of ordinary skill in the art that this is only one embodiment, and that the systems described herein can be realized through other architectures and arrangements, including system architectures that separate the document processing functions of the process  from the document display operation performed by the display . Moreover, it will be understood that the systems of the invention are not limited to those systems that include a display or output device, but that the systems of the invention will encompass those processing systems that process one or more digital documents to create output that can be presented on an output device. However, this output may be stored in a data file for subsequent presentation on a display device, for long term storage, for delivery over a network, or for some other purpose than for immediate display. Accordingly, it will be apparent to those of skill in the art that the systems and methods described herein can support many different document and content processing applications and that the structure of the system or process employed for a particular application will vary according to the application and the choice of the designer.","From the foregoing, it will be understood that the system of the present invention may be \u201chard-wired\u201d; e.g. implemented in ROM and\/or integrated into ASICs or other single-chip systems, or may be implemented as firmware (programmable ROM such as flashable ePROM), or as software, being stored locally or remotely and being fetched and executed as required by a particular device. Such improvements and modifications may be incorporated without departing from the scope of the present invention.","Those skilled in the art will know or be able to ascertain using no more than routine experimentation, many equivalents to the embodiments and practices described herein. For example, the systems and methods described herein may be stand alone systems for processing source documents , but optionally these systems may be incorporated into a variety of types of data processing systems and devices, and into peripheral devices, in a number of different ways. In a general purpose data processing system (the \u201chost system\u201d), the system of the present invention may be incorporated alongside the operating system and applications of the host system or may be incorporated fully or partially into the host operating system. For example, the systems described herein enable rapid display of a variety of types of data files on portable data processing devices with LCD displays without requiring the use of browsers or application programs. Examples of portable data processing devices which may employ the present system include \u201cpalmtop\u201d computers, portable digital assistants (PDAs, including tablet-type PDAs in which the primary user interface comprises a graphical display with which the user interacts directly by means of a stylus device), internet-enabled mobile telephones and other communications devices. This class of data processing devices requires small size, low power processors for portability. Typically, these devices employ advanced RISC-type core processors designed in to ASICs (application specific integrated circuits), in order that the electronics package is small and integrated. This type of device also has limited random access memory and typically has no non-volatile data store (e.g. hard disk). Conventional operating system models, such as are employed in standard desktop computing systems (PCs), require high powered central processors and large amounts of memory to process digital documents and generate useful output, and are entirely unsuited for this type of data processing device. In particular, conventional systems do not provide for the processing of multiple file formats in an integrated manner. By contrast, the systems described herein employ common processes and pipelines for all file formats, thereby providing a highly integrated document processing system which is extremely efficient in terms of power consumption and usage of system resources.","The system of the invention may be integrated at the BIOS level of portable data processing devices to enable document processing and output with much lower overhead than conventional system models. Alternatively, these systems may be implemented at the lowest system level just above the transport protocol stack. For example, the system may be incorporated into a network device (card) or system, to provide in-line processing of network traffic (e.g. working at the packet level in a TCP\/IP system).","The systems herein can be configured to operate with a predetermined set of data file formats and particular output devices; e.g. the visual display unit of the device and\/or at least one type of printer.","The systems described herein may also be incorporated into low cost data processing terminals such as enhanced telephones and \u201cthin\u201d network client terminals (e.g. network terminals with limited local processing and storage resources), and \u201cset-top boxes\u201d for use in interactive\/internet-enabled cable TV systems. The systems may also be incorporated into peripheral devices such as hardcopy devices (printers and plotters), display devices (such as digital projectors), networking devices, input devices (cameras, scanners, etc.) and also multi-function peripherals (MFPs). When incorporated into a printer, the system enables the printer to receive raw data files from the host data processing system and to reproduce the content of the original data file correctly, without the need for particular applications or drivers provided by the host system. This avoids or reduces the need to configure a computer system to drive a particular type of printer. The present system directly generates a dot-mapped image of the source document suitable for output by the printer (this is true whether the system is incorporated into the printer itself or into the host system). Similar considerations apply to other hardcopy devices such as plotters.","When incorporated into a display device, such as a projector, the system again enables the device to display the content of the original data file correctly without the use of applications or drivers on the host system, and without the need for specific configuration of the host system and\/or display device. Peripheral devices of these types, when equipped with the present system, may receive and output data files from any source, via any type of data communications network.","Additionally, the systems and methods described herein may be incorporated into in-car systems for providing driver information or entertainment systems, to facilitate the delivery of information within the vehicle or to a network that communicates beyond the vehicle. Further, it will be understood that the systems described herein can drive devices having multiple output sources to maintain a consistent display using modifications to only the control parameters. Examples include, but are not limited to, a STB or in-car system incorporating a visual display and print head, thereby enabling viewing and printing of documents without the need for the source applications and drivers.","From the foregoing, it will be understood that the system of the present invention may be \u201chard-wired\u201d; e.g. implemented in ROM and\/or integrated into ASICs or other single-chip systems, or may be implemented as firmware (programmable ROM such as flashable ePROM), or as software, being stored locally or remotely and being fetched and executed as required by a particular device.","Accordingly, it will be understood that the invention is not to be limited to the embodiments disclosed herein, but is to be understood from the following claims, which are to be interpreted as broadly as allowed under the law."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing and other objects and advantages of the invention will be appreciated more fully from the following further description thereof, with reference to the accompanying drawings, wherein:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIGS. 6-8"}]},"DETDESC":[{},{}]}
