---
title: Determining location and direction of travel using map vector constraints
abstract: Systems, methods, and computer program products for determining the location and direction of travel of a mobile device using map vector constraints is disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09429437&OS=09429437&RS=09429437
owner: Apple Inc.
number: 09429437
owner_city: Cupertino
owner_country: US
publication_date: 20130607
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-RELATED APPLICATION","TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION","Map Matching Inputs","GPS Inputs","GPS Velocity","Map-Match Likelihood","Variance-Covariance of Observations","Calculation of Course Uncertainty From Velocity","Relative Likelihood of a Map-Match","Particle Filter Approach to Map-Matching","A Particle as an Object","MM Particle Filter: Initialization Using Instantaneous-Scored Method","MM Particle Filter: Prediction","Process Noise Example","Example Particle Propagation when Static","Making Use of Moving\/Not-Moving Indications","Propagation of Particles Across Intersections","MM Particle Filter: Update","Calculation of Relative Particle Weights","Use of Activity Detection","Resampling","MM Particle Filter: Depletion Check","MM Particle Filter: Solution Extraction","Intersection Cases","Assessing Number of Particles Needed","On Road Versus Off Road","Using Road Width Information to Evaluate Candidate Road Points","Map-Matching for Pedestrians","Exemplary System","Exemplary Operating Environment","Exemplary Device Architecture"],"p":["This application claims the benefit of priority of U.S. Provisional Application No. 61\/657,695, for \u201cDetermining Location and Direction of Travel Using Map Vector Constraints,\u201d filed Jun. 8, 2012, which provisional patent application is incorporated by reference herein in its entirety.","This disclosure is related generally to navigation systems.","Many modern smart phones and other mobile devices (e.g., electronic tablets) include navigation subsystems for allowing a user to track their location or the location of others on a digital map. Satellites, cell towers or network access points (e.g., Wi-Fi) can be used to acquire position data to locate a user on a road in a map database. Using the map database, the navigation system can give directions to other locations along roads also in the map database. Dead reckoning using data from sensors (e.g., accelerometers, gyroscopes) can be used to compute position data when position data is unavailable (e.g., lost satellite signals due to multipath or loss of line of sight).","A map database represents a road network and its associated features. Some examples of features include nodes, links and areas. Each feature can have attributes, such as location coordinates, shape, addresses, road class, speed range, etc. Other information associated with the road network can also be included in the map database, such as points of interest, building shapes, and political boundaries. Map databases can be provided in standardized file formats, such as Geographic Data Files (GDF).","In the map database, each node can represent a point location of the surface of the Earth and can be defined on the a map by a pair of longitude and latitude coordinates. Each link in the map database can represent a stretch of road between two nodes. Links can be represented by a line segment corresponding to a straight section of road or a curve having a shape that can be described by shape points along the link. Curves in the road can be represented by a combination of centroid (point or node), with a radius, and polar coordinates to define the boundaries of the curve. Like nodes, shape points can be defined by longitude and latitude coordinates. Shape points, however, do not connect links. Areas can be two-dimensional shapes that represent things or places, such as parks, cities and blocks. Areas can be defined by boundaries, usually formed by a closed polygon.","Systems, methods, and computer program products for determining the location and direction of travel of a mobile device using map vector constraints is disclosed. In some implementations, a method comprises: performing particle seeding on a road network surrounding a set of measurements; propagating the particles along the road network; calculating relative particle weights; resampling the particles; computing a particle filter solution; comparing the particle filter solution with an instantaneous matcher; and calculating a map-match given the particles.","Particular implementations disclosed herein provide one or more of the following advantages: 1) activity context is used in a map-matching process to better assess the hypothesis that the mobile device is on the map, to adapt the process used to determine the probability of a specific snap point by potentially favoring direction of travel information when the mobile device is mounted to a vehicle and to adapt the map-matching behavior based on user activity; 2) Wi-Fi locations are fed, when available and appropriate, to a Global Navigation Satellite System (GNSS) receiver as tightly coupled position assistance to improve the ability of the GNSS receiver to reject bad GNSS pseudorange and\/or Doppler measurements; and 3) map-matched locations that meet certain acceptability criteria are fed to the GNSS receiver as tightly coupled position assistance to improve the ability of the GNSS receiver to reject bad GNSS pseudorange and\/or Doppler measurements.","The details of the disclosed implementations are set forth in the accompanying drawings and the description below. Other features, objects, and advantages will be apparent from the description and drawings, and from the claims.","The same reference symbol used in various drawings indicates like elements.","Map matching includes constraining position and velocity information to a network of road links. A road link can be described by a sequence of linear line segments. Each linear line segment can be a simple vector defined by two sets of coordinates, (\u03bb, \u03c6) and (\u03bb, \u03c6). Coordinates can be defined with respect to a reference frame (e.g., WGS84 Earth-centered-Earth-fixed (ECEF) reference frame) for convenient use with a GNSS, such as the Global Positioning System (GPS).","A typical GPS observation provides the following information:\n\n",{"@attributes":{"id":"p-0024","num":"0030"},"figref":["FIG. 1","FIG. 1"],"b":["100","100"]},{"@attributes":{"id":"p-0025","num":"0031"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":["\u03c3","e"],"mn":"2"}},{"msub":{"mi":["\u03c3","en"]}}]},{"mtd":[{"msub":{"mi":["\u03c3","en"]}},{"msubsup":{"mi":["\u03c3","n"],"mn":"2"}}]}]}},"mo":","}},{"mrow":{"mo":["[","]"],"mn":"1"}}]}}}},"br":{},"sub":["e","n","en"]},{"@attributes":{"id":"p-0026","num":"0032"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"a","mo":"=","msqrt":{"mrow":{"mrow":{"mfrac":{"mn":["1","2"]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msubsup":[{"mi":["\u03c3","e"],"mn":"2"},{"mi":["\u03c3","n"],"mn":"2"}],"mo":"+"}}},"mo":"+","msqrt":{"mrow":{"mrow":{"mfrac":{"mn":["1","4"]},"mo":"\u2062","msup":{"mrow":{"mo":["(",")"],"mrow":{"msubsup":[{"mi":["\u03c3","e"],"mn":"2"},{"mi":["\u03c3","n"],"mn":"2"}],"mo":"-"}},"mn":"2"}},"mo":"+","msubsup":{"mi":["\u03c3","en"],"mn":"2"}}}}}},{"mi":"b","mo":"=","msqrt":{"mrow":{"mrow":{"mfrac":{"mn":["1","2"]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msubsup":[{"mi":["\u03c3","e"],"mn":"2"},{"mi":["\u03c3","n"],"mn":"2"}],"mo":"+"}}},"mo":"-","msqrt":{"mrow":{"mrow":{"mfrac":{"mn":["1","4"]},"mo":"\u2062","msup":{"mrow":{"mo":["(",")"],"mrow":{"msubsup":[{"mi":["\u03c3","e"],"mn":"2"},{"mi":["\u03c3","n"],"mn":"2"}],"mo":"-"}},"mn":"2"}},"mo":"+","msubsup":{"mi":["\u03c3","en"],"mn":"2"}}}}}},{"mi":"\u03b8","mo":"=","mrow":{"mrow":[{"mo":"-","mfrac":{"mn":["1","2"]}},{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mn":"2","mo":"\u2062","msub":{"mi":["\u03c3","en"]}},{"msubsup":[{"mi":["\u03c3","e"],"mn":"2"},{"mi":["\u03c3","n"],"mn":"2"}],"mo":"-"}]}}}],"mo":"\u2062"}}],"mo":[",","\u2062",",","\u2062",","],"mstyle":[{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"2"}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0003","list-style":"none"},"li":{"@attributes":{"id":"ul0003-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0004","list-style":"none"},"li":["a the semi-major axis (m) of the position uncertainty confidence region at a probability level (e.g., a 39% probability level),","b the semi-minor axis (m) of the position uncertainty confidence region at a probability level (e.g., a 39% probability level),","\u03b8 the azimuth of a (degs)."]}}}},"Note that most GPS receiver estimation processes output a and b scaled by 2.45 to achieve a confidence region with a 95% probability level. The covariance matrix can be recovered from the parameters a, b, \u03b8 using Equation [3] given by",{"@attributes":{"id":"p-0028","num":"0037"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"msubsup":{"mi":["\u03c3","en"],"mn":"2"},"mo":"=","mrow":{"mfrac":[{"msup":{"mrow":{"mo":["(",")"],"mrow":{"msup":[{"mi":"a","mn":"2"},{"mi":"b","mn":"2"}],"mo":"-"}},"mn":"2"},"mn":"4"},{"mrow":[{"msup":{"mi":"tan","mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mo":"-","mn":"2"},"mo":"\u2062","mi":"\u03b8"}}},{"mrow":{"msup":{"mi":"tan","mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"2","mo":"\u2062","mi":"\u03b8"}}},"mo":"+","mn":"1"}]}],"mo":"\u00b7"}},{"msubsup":{"mi":["\u03c3","e"],"mn":"2"},"mo":"=","mrow":{"mfrac":{"mn":["1","2"]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mfrac":{"mrow":[{"mn":"2","mo":"\u2062","msub":{"mi":["\u03c3","en"]}},{"mi":"tan","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mo":"-","mn":"2"},"mo":"\u2062","mi":"\u03b8"}}}]},"mo":["+","+"],"msup":[{"mi":"a","mn":"2"},{"mi":"b","mn":"2"}]}}}},{"msubsup":{"mi":["\u03c3","n"],"mn":"2"},"mo":"=","mrow":{"mfrac":{"mn":["1","2"]},"mo":"\u2062","mrow":{"mrow":{"mo":["(",")"],"mrow":{"mrow":{"mo":"-","mfrac":{"mrow":[{"mn":"2","mo":"\u2062","msub":{"mi":["\u03c3","en"]}},{"mi":"tan","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mo":"-","mn":"2"},"mo":"\u2062","mi":"\u03b8"}}}]}},"mo":["+","+"],"msup":[{"mi":"a","mn":"2"},{"mi":"b","mn":"2"}]}},"mo":"."}}}],"mo":[",","\u2062",",","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"3"}}]}}}}},"In the event that only horizontal distance root means square (DRMS) uncertainty, \u03c3which has a 63-68% confidence region, is available from the GPS receiver, the following covariance matrix should be used.\n\n\u03c3=0,\n\n\u03c3=(\u03c3)\/2,\n\n\u03c3=(\u03c3)\/2\u2003\u2003[4]\n","Often the GPS velocity information is provided as speed \u2225\u03bd\u2225 and direction of travel \u03b1 rather than velocity in the east and north directions. The direction of travel can be defined as the clockwise azimuth angle from true north. This relationship is given by",{"@attributes":{"id":"p-0031","num":"0040"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"\u03b1","mo":"=","mrow":{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":"\u2062","mfrac":{"msub":[{"mi":["v","e"]},{"mi":["v","n"]}]}}},{"mrow":{"mo":["\uf605","\uf606"],"mi":"v"},"mo":"=","msqrt":{"mrow":{"msubsup":[{"mi":["v","e"],"mn":"2"},{"mi":["v","n"],"mn":"2"}],"mo":"+"}}},{"msub":{"mi":["v","e"]},"mo":"=","mrow":{"mrow":[{"mo":["\uf605","\uf606"],"mi":"v"},{"mi":"sin","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03b1"}}],"mo":"\u2062"}},{"msub":{"mi":["v","n"]},"mo":"=","mrow":{"mrow":[{"mo":["\uf605","\uf606"],"mi":"v"},{"mrow":{"mi":"cos","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03b1"}},"mo":"."}],"mo":"\u2062"}}],"mo":[",","\u2062",",","\u2062",",","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"5"}}]}}}}},"The quality of an instantaneous map-match can be given by the weighted combination of the distance to the road link point and the difference between the road link azimuth and the GPS direction of travel (azimuth with respect to truth north). This can be expressed in probabilistic terms by evaluating the following multivariate normal distribution given by",{"@attributes":{"id":"p-0033","num":"0042"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"\u2758"}}},{"mfrac":{"mn":"1","msqrt":{"mrow":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"mn":"2","mo":"\u2062","mi":"\u03c0"}},"mi":"n"},"mo":"\u2062","mrow":{"mo":["\uf603","\uf604"],"msub":{"mi":["R","k"]}}}}},"mo":["\u2062","\u2062"],"msup":{"mi":"\u2147","mrow":{"mrow":{"mo":"-","mfrac":{"mn":["1","2"]}},"mo":"\u2062","msup":{"mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"-"}},"mi":"T"}}},"mrow":{"msubsup":{"mi":["R","k"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"-"}}}}],"mo":"="},"mo":","}},{"mrow":{"mo":["[","]"],"mn":"6"}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0005","list-style":"none"},"li":["p(z|x) is the probability of the measurements given a specific road link point j,","n is the number of measurements (e.g., n=3) for GPS position and azimuth as inputs,","zis the vector of measurements for the kepoch,","Ris the measurement covariance matrix."]}},"The term z\u2212xin [6] can be evaluated as follows:",{"@attributes":{"id":"p-0035","num":"0048"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"mrow":[{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"-"},{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mfrac":{"mrow":[{"mo":["(",")"],"mrow":{"msub":[{"mi":["\u03bb","k"]},{"mi":["\u03bb","j"]}],"mo":"-"}},{"mrow":[{"mo":["(",")"],"mrow":{"mi":["N","h"],"mo":"+"}},{"mi":"cos","mo":"\u2061","mrow":{"mo":["(",")"],"msub":{"mi":["\u03bb","k"]}}}],"mo":"\u2062"}]}}},{"mtd":{"mfrac":{"mrow":[{"mo":["(",")"],"mrow":{"msub":[{"mi":["\u03d5","k"]},{"mi":["\u03d5","j"]}],"mo":"-"}},{"mo":["(",")"],"mrow":{"mi":["M","h"],"mo":"+"}}]}}},{"mtd":{"mrow":{"msub":[{"mi":["\u03b1","k"]},{"mi":["\u03b1","j"]}],"mo":"-"}}}]}}],"mo":"="},"mo":","}},{"mrow":{"mo":["[","]"],"mn":"7"}}]}}}},"br":{},"sub":["k ","k ","j ","k ","k ","j "]},"The meridian radius of curvature (for WGS84) can be calculated by",{"@attributes":{"id":"p-0037","num":"0050"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"mi":"M","mo":"=","mfrac":{"mrow":{"mi":"\u03b1","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msup":{"mi":"e","mn":"2"}}}},"mi":"W"}},"mo":[",","\u2062"],"mstyle":{"mtext":{}},"mi":"where"}},{"mrow":{"mo":["[","]"],"mn":"8"}}]},{"mtd":[{"mrow":{"mrow":[{"mi":"a","mo":"=","mn":"6378137.0"},{"msup":{"mi":"e","mn":"2"},"mo":"=","mn":"0.00669437999014132"},{"mi":"W","mo":"=","mrow":{"msqrt":{"mrow":{"mn":"1","mo":"-","mrow":{"msup":{"mi":"e","mn":"2"},"mo":"*","mrow":{"msup":{"mi":"sin","mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03d5"}}}}},"mo":"."}}],"mo":[",","\u2062",",","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"9"}}]}]}}}},"The prime vertical radius of curvature can be calculated by",{"@attributes":{"id":"p-0039","num":"0052"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"N","mo":"=","mrow":{"mfrac":{"mi":["a","W"]},"mo":"."}}},{"mrow":{"mo":["[","]"],"mn":"10"}}]}}}}},"The variance of the observations Rcan be given by",{"@attributes":{"id":"p-0041","num":"0054"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["R","k"]},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mrow":{"msubsup":[{"mi":["\u03c3","e"],"mn":"2"},{"mi":["\u03c3","map"],"mn":"2"}],"mo":"+"}},{"msub":{"mi":["\u03c3","en"]}},{"mn":"0"}]},{"mtd":[{"msub":{"mi":["\u03c3","en"]}},{"mrow":{"msubsup":[{"mi":["\u03c3","n"],"mn":"2"},{"mi":["\u03c3","map"],"mn":"2"}],"mo":"+"}},{"mn":"0"}]},{"mtd":[{"mn":"0"},{"mn":"0"},{"mrow":{"msubsup":[{"mi":["\u03c3","\u03b1"],"mn":"2"},{"mi":"\u03c3","mrow":{"mi":["\u03b1","lane"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mn":"2"},{"mi":"\u03c3","mrow":{"mi":["\u03b1","road"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mn":"2"}],"mo":["+","+"]}}]}]}}}},{"mrow":{"mo":["[","]"],"mn":"11"}}]}}}}},"Two new parameters are introduced in Equation [11] to account for uncertainty in the road-map data.\n\n","The term \u03c3may not be output by the GPS estimation process. Since \u03b1 is derived as a function of the GPS velocity, its variance is a function of the magnitude of the GPS velocity. Hence, there is an inverse exponential relationship between \u03c3and GPS speed. In non-driving cases, \u03b1 is not useful below speeds of 2 to 3 m\/s and may likely just be an erroneous input. However, in driving cases, \u03b1 is a filtered quantity that is the propagated direction of travel and may be useful even when static. Care should be taken to make more use of \u03b1 when speeds are low when driving. One means of accomplishing this would be to only allow \u03b1 to be used when the driving context is know and the GPS speed is below 2-3 m\/s while the GPS position uncertainty is also below a threshold value (e.g., 30 m) given by\n\n\u03c3(\u2225\u03bd\u2225).\u2003\u2003[12]\n","If the user's device is mounted in a vehicle and angle measurements (e.g., gyro measurements) are available, then these angle measurements can be used in the GPS estimation process to output an enhanced course measurement. In this case, the variance of the course measurement \u03c3is not necessarily a function of the GPS speed. The \u03c3provided by the GPS estimation process may be used.","The calculation of \u03c3from GPS velocity is given by Equations [13]-[15].",{"@attributes":{"id":"p-0046","num":"0062"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"\u03b1","mo":"=","mrow":{"mi":"a","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"tan","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":["v","e"]},{"mi":["v","n"]}]}}}}},{"mi":"a","mo":"=","mrow":{"mfrac":{"mrow":[{"mo":"\u2202","mi":"\u03b1"},{"mo":"\u2202","msub":{"mi":["v","n"]}}]},"mo":"=","mrow":{"mfrac":[{"mrow":{"mo":"-","msub":{"mi":["v","e"]}},"msubsup":{"mi":["v","n"],"mn":"2"}},{"mn":"1","mrow":{"mn":"1","mo":"+","msup":{"mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":["v","e"]},{"mi":["v","n"]}]}},"mn":"2"}}}],"mo":"\u2062"}}},{"mi":"b","mo":"=","mrow":{"mfrac":{"mrow":[{"mo":"\u2202","mi":"\u03b1"},{"mo":"\u2202","msub":{"mi":["v","e"]}}]},"mo":"=","mrow":{"mfrac":[{"mn":"1","msub":{"mi":["v","n"]}},{"mn":"1","mrow":{"mn":"1","mo":"+","msup":{"mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":["v","e"]},{"mi":["v","n"]}]}},"mn":"2"}}}],"mo":"\u2062"}}}],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"13"}}]}}}},"br":{}},{"@attributes":{"id":"p-0047","num":"0063"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"y","mo":"=","mrow":{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"z"}}},{"msub":{"mi":["C","y"]},"mo":"=","mrow":{"mfrac":[{"mrow":[{"mo":"\u2202","mi":"f"},{"mo":"\u2202","mi":"z"}]},{"mrow":[{"mo":"\u2202","msup":{"mi":["f","T"]}},{"mo":"\u2202","mi":"z"}]}],"mo":["\u2062","\u2062"],"msub":{"mi":["C","z"]}}}],"mo":[",","\u2062",","],"mstyle":{"mtext":{}}}},{"mrow":{"mo":["[","]"],"mn":"14"}}]}}}},"br":{},"sub":["z ","y","\u03b1 "]},{"@attributes":{"id":"p-0048","num":"0064"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mfrac":{"mrow":[{"mo":"\u2202","mi":"f"},{"mo":"\u2202","mi":"z"}]},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":{"mtd":[{"mi":"a"},{"mi":"b"}]}}}},{"mrow":[{"msub":{"mi":["C","z"]},"mo":"=","mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msubsup":{"mi":"\u03c3","msub":{"mi":["v","n"]},"mn":"2"}},{"msub":{"mi":["\u03c3","ven"]}}]},{"mtd":[{"msub":{"mi":["\u03c3","ven"]}},{"msubsup":{"mi":"\u03c3","msub":{"mi":["v","e"]},"mn":"2"}}]}]}}},{"msub":{"mi":["C","\u03b1"]},"mo":"=","mrow":{"msubsup":{"mi":["\u03c3","\u03b1"],"mn":"2"},"mo":"=","mrow":{"mrow":[{"msup":{"mi":"a","mn":"2"},"mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":["v","n"]},"mn":"2"}},{"mn":"2","mo":["\u2062","\u2062","\u2062","\u2062","\u2062"],"mi":["a","b"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"msub":{"mi":"\u03c3","msub":{"mi":["v","en"]}}},{"msup":{"mi":"b","mn":"2"},"mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":["v","e"]},"mn":"2"}}],"mo":["+","+"]}}}],"mo":[",","\u2062",","],"mstyle":{"mtext":{}}}],"mo":["\u2062","\u2062"],"mstyle":{"mtext":{}}}},{"mrow":{"mo":["[","]"],"mn":"15"}}]}}}}},"Note that there are three special cases including two special cases (case #2 and case #3) that require the application of the limit theorem. The unit for a, is radians.\n\n",{"@attributes":{"id":"p-0050","num":"0068"},"maths":{"@attributes":{"id":"MATH-US-00013","num":"00013"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mi":["\u03c3","\u03b1"],"mn":"2"},"mo":"=","mrow":{"mfrac":{"msubsup":[{"mi":"\u03c3","msub":{"mi":["v","n"]},"mn":"2"},{"mi":["v","e"],"mn":"2"}]},"mo":"."}}}},"ul":{"@attributes":{"id":"ul0009","list-style":"none"},"li":{"@attributes":{"id":"ul0009-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0010","list-style":"none"},"li":"Case #3. \u03bd=0, \u03bd\u22600:"}}}},{"@attributes":{"id":"p-0051","num":"0070"},"maths":{"@attributes":{"id":"MATH-US-00014","num":"00014"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"msubsup":{"mi":["\u03c3","\u03b1"],"mn":"2"},"mo":"=","mrow":{"mfrac":{"msubsup":[{"mi":"\u03c3","msub":{"mi":["v","e"]},"mn":"2"},{"mi":["v","n"],"mn":"2"}]},"mo":"."}}}}},"The relative likelihood of a map-match with respect to all other considered map-matches in a set can be given by Equation [16]:",{"@attributes":{"id":"p-0053","num":"0072"},"maths":{"@attributes":{"id":"MATH-US-00015","num":"00015"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["w","j"]},"mo":"=","mrow":{"mfrac":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"\u2758"}}},{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"N"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"\u2758"}}}}]},"mo":"."}}},{"mrow":{"mo":["[","]"],"mn":"16"}}]}}}}},{"@attributes":{"id":"p-0054","num":"0073"},"figref":["FIG. 7","FIG. 8"],"b":["700","700","800"]},"In some implementations, process  can begin by performing particle seeding on a road network surrounding a first set of measurements (), propagating the particles along the road network (), calculating relative particle weights (), resampling the particles (), computing a particle filter solution (), comparing the particle filter solution with an instantaneous matcher () and calculating a best map-match given the particles (). Each of these process steps is described in more detail below.","A particle is a spatial object that is constrained to the allowable map state space and contains the following information:\n\n","The particle filter can be initialized given road map data and initial measurements from the set including position (latitude and longitude), direction of travel (GPS course) and speed. This seeding can be referred to as the calculation of the instantaneous-scored method.","Road map data is comprised of linear line segments. For each of the line segments within a distance, d, of the position measurement, the point on the line segment that is closest to the position can be evaluated using p(z|x) given by Equation [6]. These points can be used to assign particles using the following steps:\n\n","Particles can be propagated in a one-dimensional sense along road links and across intersections. This propagation is governed by Equation [17]:",{"@attributes":{"id":"p-0060","num":"0102"},"maths":{"@attributes":{"id":"MATH-US-00016","num":"00016"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"msub":{"mi":["d","k"]},"mo":"=","mrow":{"msub":{"mi":"d","mrow":{"mi":"k","mo":"-","mn":"1"}},"mo":["+","+"],"mrow":{"mi":["v","\u0394","T"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]},"mi":"q"}},{"mi":"v","mo":"=","mfrac":{"mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},{"mi":["v","k"]}],"mo":"+"}},"mn":"2.0"}},{"mi":"q","mo":"\u2208","mrow":{"mi":"N","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"0","mo":",","msubsup":{"mi":["\u03c3","q"],"mn":"2"}}}}},{"msubsup":{"mi":["\u03c3","q"],"mn":"2"},"mo":"=","mrow":{"msubsup":[{"mi":["\u03c3","r"],"mn":"2"},{"mi":["\u03c3","v"],"mn":"2"},{"mi":"\u03c3","msub":{"mi":["\u03b5","v"]},"mn":"2"}],"mo":["+","+"]}},{"msubsup":[{"mi":["\u03c3","r"],"mn":"2"},{"mi":["\u03c3","roughening"],"mn":"2"}],"mo":"="},{"msubsup":{"mi":"\u03c3","msub":{"mi":["roughening","static"]},"mn":"2"},"mo":"=","mrow":{"msubsup":{"mi":["\u03c3","rs"],"mn":"2"},"mo":"=","mrow":{"mrow":{"mn":"1.0","mo":"\u00b7","mi":"\u0394"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":"T","mn":"2"}}}},{"msubsup":{"mi":"\u03c3","msub":{"mi":["roughening","moving"]},"mn":"2"},"mo":"=","mrow":{"msubsup":{"mi":["\u03c3","rm"],"mn":"2"},"mo":"=","mrow":{"mrow":{"mn":"2.0","mo":"\u00b7","mi":"\u0394"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":"T","mn":"2"}}}},{"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"mo":"=","mrow":{"mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":["v","k"]},"mn":"2"}},{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},"mn":"2"}}],"mo":"+"}},"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":"T","mn":"2"}}},{"msubsup":{"mi":"\u03c3","msub":{"mi":["\u03b5","v"]},"mn":"2"},"mo":"=","mrow":{"msup":[{"mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":[{"mi":["v","k"]},{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}}],"mo":"-"},"mn":"4"}},"mn":"2"},{"mi":"T","mn":"2"}],"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"17"}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0015","list-style":"none"},"li":["\u0394T is the time difference between updates","dis the distance along a line at time k","dis the distance along a line at time k\u22121","\u03bd is the average speed over the timespan between tand t","q is a process noise value that is randomly selected from a zero-mean normal distribution.","\u03c3is the variance of the process noise.","\u03c3or \u03c3is the process noise added to prevent sample impoverishment and to provide a base level of system process noise. This is one of two values for moving and not-moving cases based on motion context from accelerometers.","\u03c3is the process noise added due to uncertainty in the speed estimates provided by the GPS receiver or modeled.","\u03c3is the process noise added due to non-linearity in the speed used for the prediction step. This is one-half of the maximum speed error in the average speed estimate. The worst-case average speed error is a step function between k\u22121 and k, which is half the speed difference. Half of half the speed difference (\u00bc of the speed difference) is a good nominal process noise value. For example, if the maximum speed difference is 10 m\/s, then the maximum average speed error is 5 m\/s and the additional process noise would be 2.5 m\/s squared multiplied by the squared time difference."]}},{"@attributes":{"id":"p-0061","num":"0112"},"figref":["FIG. 2","FIG. 2"]},"At the first epoch, all the particles are located at distance d=0. There are 100 particles, which are propagated along the link based on the following information.",{"@attributes":{"id":"p-0063","num":"0114"},"maths":{"@attributes":{"id":"MATH-US-00017","num":"00017"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mrow":{"mi":["\u0394","T"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mo":"=","mn":"1.0"},{"msub":{"mi":["v","k"]},"mo":"=","mrow":{"mn":"10","mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},"mo":"=","mrow":{"mn":"15","mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"mi":"v","mo":"=","mrow":{"mfrac":{"mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},{"mi":["v","k"]}],"mo":"+"}},"mn":"2.0"},"mo":"=","mrow":{"mfrac":{"mrow":{"mn":["10.0","15.0"],"mo":"+"},"mn":"2.0"},"mo":"=","mrow":{"mn":"12.5","mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}}}},{"msub":{"mi":"d","mn":"1"},"mo":"=","mn":"0"},{"msub":{"mi":"d","mn":"2"},"mo":"=","mrow":{"mrow":[{"msub":{"mi":"d","mrow":{"mi":"k","mo":"-","mn":"1"}},"mo":["+","+"],"mrow":{"mi":["v","\u0394","T"],"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]},"mi":"q"},{"mn":"12.5","mo":"+","mi":"q"}],"mo":"="}},{"msub":{"mi":"\u03c3","msub":{"mi":["v","k"]}},"mo":"=","mrow":{"mn":"1.8","mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"\u03c3","msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}}},"mo":"=","mrow":{"mn":"3.2","mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"mo":"=","mrow":{"mrow":[{"mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":["v","k"]},"mn":"2"}},{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},"mn":"2"}}],"mo":"+"}},"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":"T","mn":"2"}},{"mn":"3.7","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":{"mi":"\u03c3","msub":{"mi":["\u025b","v"]},"mn":"2"},"mo":"=","mrow":{"mrow":[{"msup":[{"mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":[{"mi":["v","k"]},{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}}],"mo":"-"},"mn":"4"}},"mn":"2"},{"mi":"T","mn":"2"}],"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mn":"1.5625","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":{"mi":["\u03c3","r"],"mn":"2"},"mo":"=","mrow":{"mrow":[{"msubsup":{"mi":"\u03c3","msub":{"mi":["r","m"]},"mn":"2"},"mo":"+","mrow":{"mn":"2","mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":"T","mn":"2"}}},{"mn":"2.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":{"mi":["\u03c3","q"],"mn":"2"},"mo":"=","mrow":{"mrow":[{"mn":["2.0","3.7","1.5625"],"mo":["+","+"]},{"mn":"7.2625","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"mrow":[{"mi":"q","mo":"\u2208","mrow":{"mi":"N","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"0","mo":",","msubsup":{"mi":["\u03c3","q"],"mn":"2"}}}}},{"mi":"q","mo":"\u2208","mrow":{"mi":"N","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"0","mo":",","mrow":{"mn":"7.2625","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}}}}}],"mo":"="}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"18"}}]}}}}},{"@attributes":{"id":"p-0064","num":"0115"},"figref":["FIG. 3","FIG. 3"]},"At the first epoch, all the particles are located at distance d=0. There are 1000 particles, which are propagated along the link based on the following information.",{"@attributes":{"id":"p-0066","num":"0117"},"maths":{"@attributes":{"id":"MATH-US-00018","num":"00018"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mrow":{"mi":["\u0394","T"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mo":"=","mn":"1.0"},{"msub":{"mi":["v","k"]},"mo":"=","mrow":{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},"mo":"=","mrow":{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"\u03c3","msub":{"mi":["v","k"]}},"mo":"=","mrow":{"mn":"0.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"\u03c3","msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}}},"mo":"=","mrow":{"mn":"0.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"mo":"=","mrow":{"mrow":[{"mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":["v","k"]},"mn":"2"}},{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},"mn":"2"}}],"mo":"+"}},"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":"T","mn":"2"}},{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":{"mi":"\u03c3","msub":{"mi":["\u025b","v"]},"mn":"2"},"mo":"=","mrow":{"mrow":[{"msup":[{"mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":[{"mi":["v","k"]},{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}}],"mo":"-"},"mn":"4"}},"mn":"2"},{"mi":"T","mn":"2"}],"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":{"mi":["\u03c3","r"],"mn":"2"},"mo":"=","mrow":{"mrow":[{"msubsup":{"mi":"\u03c3","msub":{"mi":["r","s"]},"mn":"2"},"mo":"+","mrow":{"mn":"1.0","mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"mi":"\u0394","msup":{"mi":"T","mn":"2"}}},{"mn":"1.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":{"mi":["\u03c3","q"],"mn":"2"},"mo":"=","mrow":{"mn":"1.0","mo":"=","mrow":{"mn":"1.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}}},{"mrow":[{"mi":"q","mo":"\u2208","mrow":{"mi":"N","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"0","mo":",","msubsup":{"mi":["\u03c3","q"],"mn":"2"}}}}},{"mi":"q","mo":"\u2208","mrow":{"mi":"N","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"0","mo":",","mrow":{"mn":"1.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}}}}}],"mo":"="}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"19"}}]}}}}},"The moving\/not-moving indication computed by context detection using on-device motion sensors (e.g., accelerometers) can be used to force the velocity used in the prediction step to zero and to reduce the process noise used in the prediction step. If static, the following applies.",{"@attributes":{"id":"p-0068","num":"0119"},"maths":{"@attributes":{"id":"MATH-US-00019","num":"00019"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"msub":{"mi":["v","k"]},"mo":"=","mrow":{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},"mo":"=","mrow":{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"\u03c3","msub":{"mi":["v","k"]}},"mo":"=","mrow":{"mn":"0.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msub":{"mi":"\u03c3","msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}}},"mo":"=","mrow":{"mn":"0.0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mo":["(",")"],"mrow":{"mi":["m","s"],"mo":"\/"}}}},{"msubsup":{"mi":["\u03c3","v"],"mn":"2"},"mo":"=","mrow":{"mrow":[{"mrow":{"mo":["(",")"],"mrow":{"mrow":[{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":["v","k"]},"mn":"2"}},{"mn":"0.25","mo":"\u2062","msubsup":{"mi":"\u03c3","msub":{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}},"mn":"2"}}],"mo":"+"}},"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mi":"T","mn":"2"}},{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":{"mi":"\u03c3","msub":{"mi":["\u025b","v"]},"mn":"2"},"mo":"=","mrow":{"mrow":[{"msup":[{"mrow":{"mo":["(",")"],"mfrac":{"mrow":{"msub":[{"mi":["v","k"]},{"mi":"v","mrow":{"mi":"k","mo":"-","mn":"1"}}],"mo":"-"},"mn":"4"}},"mn":"2"},{"mi":"T","mn":"2"}],"mo":["\u2062","\u2062","\u2062"],"mi":"\u0394","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mn":"0","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"msup":{"mi":"m","mn":"2"}}],"mo":"="}},{"msubsup":[{"mi":["\u03c3","q"],"mn":"2"},{"mi":["\u03c3","r"],"mn":"2"}],"mo":"="}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}},{"mtext":{}}]}},{"mrow":{"mo":["[","]"],"mn":"20"}}]}}}}},"Particles are propagated along road links until they hit an intersection. Particles are propagated onto new links following the intersection using the following concepts.\n\n","The update step includes calculating the relative particle weights given a new set of measurements and resampling of the particles.","Following the prediction step, particles are updated based on the set of available measurements (including position) by computing p(z|x) and wfrom Equations [6] and [16], respectively.","If activity detection using motion sensors (e.g., accelerometers) is enabled, and pedestrian motion is detected, it is important that the calculation of p(z|x) and wdo not use course information.","Resampling is performed using the following steps:\n\n","The above method is described in, for example, Simon, D., \u201cOptimal State Estimation,\u201d John Wiley and Sons Inc. (2006), p. 467 and in Ristic, B., S. Arulampalam and N. Gordon, \u201cBeyond the Kalman Filter, Particle Filters for Tracking Applications,\u201d Artech House (2004), p. 41. Each of these references is incorporated by reference herein in its entirety.","Every few epochs, the solution should be checked for complete sample impoverishment or solution depletion. This could occur for various reasons include accumulated errors in particle prediction, travel over an undocumented road link (e.g., across a parking lot), map errors, etc. The check is accomplished by running the particle filter initialization steps in a parallel solution (up to step 12). The current particle filter solution is compared to the best and second-best solutions from the initialization method using a ratio test. If the ratio test exceeds a threshold value, then the particle filter is re-seeded with this information.","The challenge in solution extraction is that the particles can be distributed across connected links. If single links are compared independently, then an erroneous solution could be extracted. This problem is illustrated by  and .","In , the best solution is clearly the union of the particles across the connected links rand r. If individual links only were considered, then the first moment (mean) of the particles on rwould be selected as the most likely solution.","In , the solution is most likely within the intersection of rand r, and it is clear that only using individual links does not provide the most likely solution. The concept of solution union across connected links is not quite this simple as particles could be spread far along both connected links. Thus, the first and second movements of the particle distributions along two connected links are used to detect potential solution union. This concept is illustrated in . Note, that solution from the union between only two links is considered. This is based on the fact that a user always moves from one link to one other link. It may be that the particles are spread amongst all the outgoing links of an intersection but it is likely that the single union between the two most likely links will be a higher relative likelihood solution than a solution that is not part of the intersection.","The method to determine the most likely solution is as follows.\n\n","If the best solution is part of the union with the second best solution, then special intersection logic applies. The desired behavior is to create lag in the filtered output so that the solution is biased to the intersection entry until enough information is present to leave the intersection and transition onto the correct road. These additional steps apply.\n\n","A well-designed particle filter will run with a low level of solution degeneracy. A suitable measure of degeneracy is the effective sample size, N, which is given by",{"@attributes":{"id":"p-0082","num":"0166"},"maths":{"@attributes":{"id":"MATH-US-00020","num":"00020"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["N","eff"]},"mo":"=","mrow":{"mfrac":{"mn":"1","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mi":"N"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mrow":{"mo":["(",")"],"msub":{"mi":["w","i"]}},"mn":"2"}}},"mo":"."}}},{"mrow":{"mo":["[","]"],"mn":"21"}}]}}}},"br":{},"sub":["eff ","eff ","eff "]},"If the user is not on the road, then the assumption that the solution is constrained by the road network is incorrect. This case can be handled with a state machine that has entry and exit criteria for On Road versus Off Road. The criteria to reach the Off Road state are tested first and include:","If the GPS speed is valid and less than a threshold:\n\n","If the Off Road state is not achieved then the On Road state criteria are tested. The entrance and exit for On Road state include the following conditions:","If GPS speed is valid and higher than a threshold:\n\n","The state is indeterminate.","The conditions to Not Match are given by [22]",{"@attributes":{"id":"p-0089","num":"0180"},"maths":{"@attributes":{"id":"MATH-US-00021","num":"00021"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":{"msubsup":{"mover":{"mi":"\u03c3","mo":"^"},"mn":["0","2"]},"mo":"=","mfrac":{"mrow":{"msup":{"mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"-"}},"mi":"T"},"mo":"\u2062","mrow":{"msubsup":{"mi":["R","k"],"mrow":{"mo":"-","mn":"1"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["z","k"]},{"mi":["x","j"]}],"mo":"-"}}}},"mi":"m"}},"mo":","}},{"mrow":{"mo":["[","]"],"mn":"22"}}]}}}}},"where\n\n","Roads can be represented in a map database by a vector along the centerline of the road. Given an estimated position input (e.g., GPS data), we want to evaluate candidate road points given the input and road width information. Due to an error in position estimate (e.g., GPS position estimate), a position estimate can be located off the road. In these cases, a candidate road point can be located on the road but not on the centerline by moving the estimated position a distance d to a point on the road. Referring to the geometry shown in  (assuming only cross-track error), the distance d is given by\n\n=\u221a{square root over ()}\u2003\u2003(23)\n\n,\u2003\u2003(24)\n\nwhere, r, is known road width and dE and dN are changes in direction in the east and north directions, respectively due to the position estimate. Roads can be classified in the system, where each road has a known width (e.g., a freeway road class). Cases where there is an along track error can be similarly evaluated based on geometry. This allows evaluation of candidate road points on the road rather than on the road centerline.\n","In most cases, it may not be desirable to snap a pedestrian to a road. However, there are instances when GPS data is prone to error, such as in a dense urban environment. In these cases, a delta value can be added to a GPS position estimate to \u201csnap\u201d the pedestrian onto the road, and thus constrain the solution to be on the road. In some implementations, an example delta value can be x times (e.g., x=3) the road width, r.","In some implementations, logic can be used to assist map matching when the device is in a dense urban environment. For example, a GPS receiver operating in a lower power mode could indicate that the device is in a dense urban environment. A lack of access points in a WiFi scan result could also indicate that the device is in a dense urban environment. In some implementations, pattern recognition algorithms can be applied to GPS signal strength to determine when the device is in a dense urban environment. Other logic for indicating GPS error prone environments is also possible.",{"@attributes":{"id":"p-0094","num":"0196"},"figref":"FIG. 8","b":["800","800","804","808","812","814"]},"The processes described above can be performed by map matcher module . Map matcher  can be implemented in software, firmware, hardware or any combination of these. Map matcher  receives map network information , turn-by-turn routing data  and activity context data . Map matcher  processes this information as previously described in reference to , and outputs map matching results to location manager .","Location manager  receives map network information , WiFi location data  and altitude data . Location manager  communicates with GPS module , which receives sensor data from motion sensors, such as accelerometers and gyros, for example. Location manager  outputs user location data to other applications.",{"@attributes":{"id":"p-0097","num":"0199"},"figref":"FIG. 9"},"In some implementations, devices and can communicate over one or more wired or wireless networks . For example, wireless network  (e.g., a cellular network) can communicate with a wide area network (WAN)  (e.g., the Internet) by use of gateway . Likewise, access device  (e.g., IEEE 802.11g wireless access device) can provide communication access to WAN . Devices , can be any device capable of displaying GUIs of the disclosed content authoring application, including but not limited to portable computers, smart phones and electronic tablets. In some implementations, the devices , do not have to be portable but can be a desktop computer, television system, kiosk system or the like.","In some implementations, both voice and data communications can be established over wireless network  and access device . For example, device can place and receive phone calls (e.g., using voice over Internet Protocol (VoIP) protocols), send and receive e-mail messages (e.g., using SMPTP or Post Office Protocol 3 (POP3)), and retrieve electronic documents and\/or streams, such as web pages, photographs, and videos, over wireless network , gateway , and WAN  (e.g., using Transmission Control Protocol\/Internet Protocol (TCP\/IP) or User Datagram Protocol (UDP)). Likewise, in some implementations, device can place and receive phone calls, send and receive e-mail messages, and retrieve electronic documents over access device  and WAN . In some implementations, device or can be physically connected to access device  using one or more cables and access device  can be a personal computer. In this configuration, device or can be referred to as a \u201ctethered\u201d device.","Devices and can also establish communications by other means. For example, wireless device can communicate with other wireless devices (e.g., other devices or , cell phones) over the wireless network . Likewise, devices and can establish peer-to-peer communications  (e.g., a personal area network) by use of one or more communication subsystems, such as the Bluetooth\u2122 communication devices. Other communication protocols and topologies can also be implemented.","Devices or can communicate with service  over the one or more wired and\/or wireless networks . For example, service  can be a mapping service that provides a mapping data that can be used by a client application on a device to provide the features and processes described in reference to .","Device or can also access other data and content over one or more wired and\/or wireless networks . For example, content publishers, such as news sites, Really Simple Syndication (RSS) feeds, Web sites and developer networks can be accessed by device or . Such access can be provided by invocation of a web browsing function or application (e.g., a browser) running on the device or ","Devices and can exchange files over one or more wireless or wired networks  either directly or through service .",{"@attributes":{"id":"p-0104","num":"0206"},"figref":"FIG. 10"},"Architecture  can be implemented in any device for generating the features described in reference to , including but not limited to portable or desktop computers, smart phones and electronic tablets, television systems, game consoles, kiosks and the like. Architecture  can include memory interface , data processor(s), image processor(s) or central processing unit(s) , and peripherals interface . Memory interface , processor(s)  or peripherals interface  can be separate components or can be integrated in one or more integrated circuits. The various components can be coupled by one or more communication buses or signal lines.","Sensors, devices, and subsystems can be coupled to peripherals interface  to facilitate multiple functionalities. For example, motion sensor , light sensor , and proximity sensor  can be coupled to peripherals interface  to facilitate orientation, lighting, and proximity functions of the device. For example, in some implementations, light sensor  can be utilized to facilitate adjusting the brightness of touch surface . In some implementations, motion sensor  (e.g., an accelerometer, gyros) can be utilized to detect movement and orientation of the device. Accordingly, display objects or media can be presented according to a detected orientation (e.g., portrait or landscape).","Other sensors can also be connected to peripherals interface , such as a temperature sensor, a biometric sensor, or other sensing device, to facilitate related functionalities.","Location processor  (e.g., GPS receiver) can be connected to peripherals interface  to provide geo-positioning. Electronic magnetometer  (e.g., an integrated circuit chip) can also be connected to peripherals interface  to provide data that can be used to determine the direction of magnetic North. Thus, electronic magnetometer  can be used as an electronic compass.","Camera subsystem  and an optical sensor , e.g., a charged coupled device (CCD) or a complementary metal-oxide semiconductor (CMOS) optical sensor, can be utilized to facilitate camera functions, such as recording photographs and video clips.","Communication functions can be facilitated through one or more communication subsystems . Communication subsystem(s)  can include one or more wireless communication subsystems. Wireless communication subsystems  can include radio frequency receivers and transmitters and\/or optical (e.g., infrared) receivers and transmitters. Wired communication system can include a port device, e.g., a Universal Serial Bus (USB) port or some other wired port connection that can be used to establish a wired connection to other computing devices, such as other communication devices, network access devices, a personal computer, a printer, a display screen, or other processing devices capable of receiving or transmitting data. The specific design and implementation of the communication subsystem  can depend on the communication network(s) or medium(s) over which the device is intended to operate. For example, a device may include wireless communication subsystems designed to operate over a global system for mobile communications (GSM) network, a GPRS network, an enhanced data GSM environment (EDGE) network, 802.x communication networks (e.g., WiFi, WiMax, or 3G networks), code division multiple access (CDMA) networks, and a Bluetooth\u2122 network. Communication subsystems  may include hosting protocols such that the device may be configured as a base station for other wireless devices. As another example, the communication subsystems can allow the device to synchronize with a host device using one or more protocols, such as, for example, the TCP\/IP protocol, HTTP protocol, UDP protocol, and any other known protocol.","Audio subsystem  can be coupled to a speaker  and one or more microphones  to facilitate voice-enabled functions, such as voice recognition, voice replication, digital recording, and telephony functions.","I\/O subsystem  can include touch controller  and\/or other input controller(s) . Touch controller  can be coupled to a touch surface . Touch surface  and touch controller  can, for example, detect contact and movement or break thereof using any of a number of touch sensitivity technologies, including but not limited to capacitive, resistive, infrared, and surface acoustic wave technologies, as well as other proximity sensor arrays or other elements for determining one or more points of contact with touch surface . In one implementation, touch surface  can display virtual or soft buttons and a virtual keyboard, which can be used as an input\/output device by the user.","Other input controller(s)  can be coupled to other input\/control devices , such as one or more buttons, rocker switches, thumb-wheel, infrared port, USB port, and\/or a pointer device such as a stylus. The one or more buttons (not shown) can include an up\/down button for volume control of speaker  and\/or microphone .","In some implementations, device  can present recorded audio and\/or video files, such as MP3, AAC, and MPEG files. In some implementations, device  can include the functionality of an MP3 player and may include a pin connector for tethering to other devices. Other input\/output and control devices can be used.","Memory interface  can be coupled to memory . Memory  can include high-speed random access memory or non-volatile memory, such as one or more magnetic disk storage devices, one or more optical storage devices, or flash memory (e.g., NAND, NOR). Memory  can store operating system , such as Darwin, RTXC, LINUX, UNIX, OS X, WINDOWS, or an embedded operating system such as VxWorks. Operating system  may include instructions for handling basic system services and for performing hardware dependent tasks. In some implementations, operating system  can include a kernel (e.g., UNIX kernel).","Memory  may also store communication instructions  to facilitate communicating with one or more additional devices, one or more computers or servers. Communication instructions  can also be used to select an operational mode or communication medium for use by the device, based on a geographic location (obtained by the GPS\/Navigation instructions ) of the device. Memory  may include graphical user interface instructions  to facilitate graphic user interface processing, such as generating the GUIs shown in ; sensor processing instructions  to facilitate sensor-related processing and functions; phone instructions  to facilitate phone-related processes and functions; electronic messaging instructions  to facilitate electronic-messaging related processes and functions as described in reference to ; web browsing instructions  to facilitate web browsing-related processes and functions; media processing instructions  to facilitate media processing-related processes and functions; GPS\/Navigation instructions  to facilitate GPS and navigation-related processes; camera instructions  to facilitate camera-related processes and functions; and location map matching instructions , which implement the processes described in reference to . The memory  may also store other software instructions for facilitating other processes, features and applications, such as applications related to navigation, social networking, location-based services or map displays.","Each of the above identified instructions and applications can correspond to a set of instructions for performing one or more functions described above. These instructions need not be implemented as separate software programs, procedures, or modules. Memory  can include additional instructions or fewer instructions. Furthermore, various functions of the mobile device may be implemented in hardware and\/or in software, including in one or more signal processing and\/or application specific integrated circuits.","The features described can be implemented in digital electronic circuitry or in computer hardware, firmware, software, or in combinations of them. The features can be implemented in a computer program product tangibly embodied in an information carrier, e.g., in a machine-readable storage device, for execution by a programmable processor; and method steps can be performed by a programmable processor executing a program of instructions to perform functions of the described implementations by operating on input data and generating output.","The described features can be implemented advantageously in one or more computer programs that are executable on a programmable system including at least one programmable processor coupled to receive data and instructions from, and to transmit data and instructions to, a data storage system, at least one input device, and at least one output device. A computer program is a set of instructions that can be used, directly or indirectly, in a computer to perform a certain activity or bring about a certain result. A computer program can be written in any form of programming language (e.g., Objective-C, Java), including compiled or interpreted languages, and it can be deployed in any form, including as a stand-alone program or as a module, component, subroutine, or other unit suitable for use in a computing environment.","Suitable processors for the execution of a program of instructions include, by way of example, both general and special purpose microprocessors, and the sole processor or one of multiple processors or cores, of any kind of computer. Generally, a processor will receive instructions and data from a read-only memory or a random access memory or both. The essential elements of a computer are a processor for executing instructions and one or more memories for storing instructions and data. Generally, a computer can communicate with mass storage devices for storing data files. These mass storage devices can include magnetic disks, such as internal hard disks and removable disks; magneto-optical disks; and optical disks. Storage devices suitable for tangibly embodying computer program instructions and data include all forms of non-volatile memory, including by way of example semiconductor memory devices, such as EPROM, EEPROM, and flash memory devices; magnetic disks such as internal hard disks and removable disks; magneto-optical disks; and CD-ROM and DVD-ROM disks. The processor and the memory can be supplemented by, or incorporated in, ASICs (application-specific integrated circuits).","To provide for interaction with an author, the features can be implemented on a computer having a display device such as a CRT (cathode ray tube) or LCD (liquid crystal display) monitor for displaying information to the author and a keyboard and a pointing device such as a mouse or a trackball by which the author can provide input to the computer.","The features can be implemented in a computer system that includes a back-end component, such as a data server or that includes a middleware component, such as an application server or an Internet server, or that includes a front-end component, such as a client computer having a graphical user interface or an Internet browser, or any combination of them. The components of the system can be connected by any form or medium of digital data communication such as a communication network. Examples of communication networks include a LAN, a WAN and the computers and networks forming the Internet.","The computer system can include clients and servers. A client and server are generally remote from each other and typically interact through a network. The relationship of client and server arises by virtue of computer programs running on the respective computers and having a client-server relationship to each other.","One or more features or steps of the disclosed embodiments can be implemented using an Application Programming Interface (API). An API can define on or more parameters that are passed between a calling application and other software code (e.g., an operating system, library routine, function) that provides a service, that provides data, or that performs an operation or a computation.","The API can be implemented as one or more calls in program code that send or receive one or more parameters through a parameter list or other structure based on a call convention defined in an API specification document. A parameter can be a constant, a key, a data structure, an object, an object class, a variable, a data type, a pointer, an array, a list, or another call. API calls and parameters can be implemented in any programming language. The programming language can define the vocabulary and calling convention that a programmer will employ to access functions supporting the API.","In some implementations, an API call can report to an application the capabilities of a device running the application, such as input capability, output capability, processing capability, power capability, communications capability, etc.","A number of implementations have been described. Nevertheless, it will be understood that various modifications may be made. The systems and techniques presented herein are also applicable to other electronic text such as electronic newspaper, electronic magazine, electronic documents etc. Elements of one or more implementations may be combined, deleted, modified, or supplemented to form further implementations. As yet another example, the logic flows depicted in the figures do not require the particular order shown, or sequential order, to achieve desirable results. In addition, other steps may be provided, or steps may be eliminated, from the described flows, and other components may be added to, or removed from, the described systems. Accordingly, other implementations are within the scope of the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 11"}]},"DETDESC":[{},{}]}
