---
title: System and method for providing remote data access for a mobile communication device
abstract: In one exemplary embodiment, a system for providing data access between an information source and a mobile communication device includes a transcoding system and a first network device. The transcoding system includes a plurality of transcoders, and each transcoder is operable to transcode information content from a respective first content type into a respective second content type. The first network device is in communication with the transcoding system and includes a connection handler system. The connection handler system is operable to receive connection data for a connection between the information source and the mobile communication device and to select a corresponding connection handler. The connection handler is operable to select one or more transcoders from the plurality of transcoders to transcode the information content.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08578057&OS=08578057&RS=08578057
owner: BlackBerry Limited
number: 08578057
owner_city: Waterloo
owner_country: CA
publication_date: 20090130
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application claims priority from U.S. patent application Ser. No. 10\/483,449 filed on Jan. 8, 2004, which is a 35 U.S.C. 371 filing of PCT\/CA02\/01072 filed on Jul. 12, 2002, and which claims priority from the following U.S. Provisional Application Ser. No. 60\/305,044, entitled \u201cSystem And Method For Providing Remote Data Access For A Mobile Communication Device\u201d and filed on Jul. 12, 2001; Ser. No. 60\/327,752, entitled \u201cSystem and Method For Providing Remote Data Access To A Mobile Communication Device\u201d and filed Oct. 9, 2001; Ser. No. 60\/330,604, entitled \u201cSystem And Method For Providing Remote Data Access And Transcoding For A Mobile Communication Device\u201d and filed Oct. 25, 2001; and Ser. No. 60\/340,839, entitled \u201cSystem And Method For Pushing Data From An Information Source To A Mobile Communication Device\u201d and filed Dec. 19, 2001. The complete disclosures of all of the above-identified PCT, non-provisional and provisional applications are hereby incorporated into this application by reference.","This application is also related to the following co-pending Non-Provisional application Ser. No. 10\/483,457 entitled \u201cSystem And Method For Providing Remote Data Access And Transcoding For A Mobile Communication Device\u201d and filed on Jan. 8, 2004, which is a 35 U.S.C. 371 filing of PCT\/CA02\/01073 filed on Jul. 12, 2002; and Ser. No. 10\/483,116 entitled \u201cSystem And Method For Pushing Data From An Information Source To A Mobile Communication Device\u201d and filed on Jan. 7, 2004, which is a 35 U.S.C. 371 filing of PCT\/CA02\/01074 filed on Jul. 12, 2002, the complete disclosures of which are hereby incorporated into this application by reference.","1. Field of the Invention","This invention relates generally to mobile communications, and in particular to providing access to remote data from mobile communication devices.","2. Description of the State of the Art","Known solutions for providing remote access to data using mobile communication devices tend to be relatively limited. For example, Wireless Application Protocol (WAP) browsers for mobile devices typically provide access only to information associated with WAP-compliant sources. Although other known and similar products may allow a mobile device user to access further information sources, such products generally do not make efficient use of mobile communication network resources, particularly wireless communication links, and often require processor-intensive operations such as information parsing to be executed on the device.","Furthermore, most known data access systems and methods are not suited to provide truly secure access to confidential information stored on private networks, such as corporate information located on a data store behind a security firewall.","The instant application describes a system and method for providing mobile communication devices with access to remote information sources.","The systems and methods described herein provide for access to any of a plurality of types and formats of information. Information translation operations may be performed on an information source side of a mobile communication system in order to reduce the complexity of device processing operations and any device hardware and software components associated with such operations.","In one exemplary embodiment, a system for providing data access between an information source and a mobile communication device includes a transcoding system and a first network device. The transcoding system includes a plurality of transcoders, and each transcoder is operable to transcode information content from a respective first content type into a respective second content type. The first network device is in communication with the transcoding system and includes a connection handler system. The connection handler system is operable to receive connection data for a connection between the information source and the mobile communication device and to select a corresponding connection handler. The connection handler is operable to select one or more transcoders from the plurality of transcoders to transcode the information content.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 1","FIG. 1","FIG. 1"],"b":["10","20","12","10","12","14","15","16","18","20","18"]},"The mobile device  may be any mobile device adapted to operate within a wireless communication network , and is preferably a two-way communication device. The mobile device  may have voice and data communication capabilities. Depending on the functionality provided by the mobile device , the mobile device  may be referred to as a data messaging device, a two-way pager, a cellular telephone with data messaging capabilities, a wireless Internet appliance or a data communication device (with or without telephony capabilities). As will be apparent to those skilled in the field of communications, the particular design of a communication subsystem within the mobile device  will be dependent upon the communication network  in which the mobile device  is intended to operate. For example, a mobile device  destined for a North American market may include a communication subsystem designed to operate within the Mobitex\u2122 mobile communication system or DataTAC\u2122 mobile communication system, whereas a mobile device  intended for use in Europe may incorporate a General Packet Radio Service (GPRS) communication subsystem. Those skilled in the art will also appreciate that other types of mobile devices and networks are also contemplated. The systems and methods described herein may be implemented in conjunction with virtually any wireless network .","The gateway  shown in  provides an interface between the wireless network  and a WAN , which may for example be the Internet. Such functions as device addressing, conversion of data between WAN protocols and wireless network protocols, storing and forwarding data to and from the mobile device , and other interface functions may be performed by the gateway .","It is also possible that an IP Proxy could be hosted by a network carrier\/operator associated with the wireless network . In this case the connection between the IP Proxy  and the gateway  would use a private network of the carrier instead of the WAN . The WAN would then be used to communicate between the IP Proxy  and the information source .","The IP Proxy  is a system that effectively provides the mobile device  with access to the information source  and is described in further detail below. Through the IP Proxy , the mobile device  may access any information source , such as an Internet or web server, that can communicate with the IP Proxy . The information source  therefore requires no special applications or protocol support for wireless network communications, since it communicates with the IP Proxy  and not directly with the mobile device . Although shown in  as a direct connection, the IP Proxy  and information source  may also communicate through a network such as a local area network (LAN) or WAN, including the Internet.","Wireless networks and the Internet use similar addressing schemes, in which recipients, such as mobile devices in a wireless network or Internet-connected computers, are identified by numerical addresses. For example, mobile devices are identified in the Mobitex network using Mobitex Access Number (MAN) and public Internet nodes are identified using an IP address scheme. However, differences between wireless network and Internet transport mechanisms prevent direct communication between information sources , the vast majority of which are Internet-based, and mobile devices . Furthermore, information source content is largely targeted to desktop or other computer systems with relatively powerful processors and may require that processor-intensive operations such as information parsing be performed by a recipient. Since mobile devices tend to have less powerful processors, these operations take more time on such devices than on computer systems and can consume significant amounts of power from normally limited-power sources. The IP Proxy system  bridges the gap between Internet-based and possibly other information sources  and a wireless network  with associated mobile devices . The services supported by the IP Proxy  may include address mapping, content transformation and verification, and protocol mapping and optimisation, for example.","Detailed Description of the IP Proxy",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 2","FIG. 1","FIG. 2","FIG. 2"],"b":["18","18","22","24","26","28","30","34","36","38","42","46","48","40","18","18","18"]},"Dispatcher  manages data flows and the connection to the gateway . Depending on the type of connection or the type of data being transferred or data transaction being performed, for example, the dispatcher  interacts with the TCP handler  or the HTTP handler . The transcoding system  comprises one or more data filters, each of which converts data or other information from one format into a format that can be processed by a mobile device .","Push services  provide for transfer of \u201cunsolicited\u201d information from an information source such as push server , which may, for example, be a web server or a software application, to a mobile device  through the IP Proxy . The push services component  allows the push server  to address the mobile device  using, for example, the email address of the mobile device owner or some other convenient label. Accordingly, the push server  need not know the address of the mobile device  in the wireless network .","The state persistence element , in conjunction with a data file system  or a database, enables management of cookies, passwords and possibly other state information associated with web servers  to which the IP Proxy  may connect. It preferably stores state information about a connection that persists between discrete network packets, such as an HTTP request\/response pair. The monitoring system  allows remote monitoring of the performance, efficiency, usage and health of an IP Proxy  by an administrator through an interface such as a web browser . As its name implies, the logging system  may be configured to store usage, connection, user statistics and the like to the file system  or some other secondary storage.","Connections and Handlers","The IP Proxy  can preferably handle and process content from various information sources , including Internet-based sources. This functionality is provided by connection handlers, which are intermediate objects that have the ability to process content from inbound and outbound connections to an IP Proxy system . In the IP Proxy  shown in , two such handlers, the TCP handler  and the HTTP handler , are shown. These handlers can preferably be replaced and customized or additional handlers can preferably be added to an IP Proxy  as needed. The connection handlers can optimise not just the content but also the protocol. For example, some requests that would normally be sent to the mobile device  (such as a request for a password) may be resolved by the connection handler, where requested data has been stored in the file system  or another store accessible to the connection handler, through the state persistence element , for example. This instance of a protocol optimisation can adapt so-called \u201cchatty\u201d protocols to be more wireless friendly by reducing the amount of traffic sent over a wireless network to a mobile device, thereby reducing the effects of wireless network bandwidth constraints and latency.","Outbound connections are made from mobile devices  in order to send data to and receive data from other entities such as Internet nodes. The IP Proxy  preferably receives connection requests from mobile devices  using a particular protocol, such as a proprietary protocol called IP Proxy Protocol or IPPP developed by the assignee of the present application. Other protocols may also be used. The IP Proxy  then establishes an Internet connection, according to protocol and routing information provided by the mobile device  in the connection request, and translates and maps that connection to start forwarding data in both directions. A data filtering or transcoding process is invoked whenever necessary, based on the type of content being passed over the connection, for example. Such outbound connections will be described in further detail below, in the context of web browsing operations.","Inbound connections can be used, for example, to implement a data push model. In this model, a mobile device  may be sent information without having issued requests to fetch the information, as is the case with outbound connections. As described briefly above, mobile devices  may exist on a different network domain than Internet nodes. The IP Proxy  is responsible for bridging the Internet and wireless network domains. Thus, the IP Proxy  requires certain routing information to route the traffic to a particular mobile device . In a push operation, at least some of this routing information must be provided by the Internet node, such as the push server , that issues the request to establish an inbound connection. The IP Proxy  may convert commonly known addressing schemes such as email or IP numbers into the appropriate wireless network address of an intended recipient mobile device .","Connection handlers in an IP Proxy system  are stream-based objects. When an outbound or inbound connection is requested, a virtual piped stream is established between mobile device  and the appropriate connection handler. The connection handler will be instantiated and started to process the content for the established connection. Loading of the connection handler is based on a connection request, which preferably contains a reference to appropriate handler name that implies the type of the traffic that would normally go through the virtual piped stream and the location of the handler that must be loaded if is not already loaded. The functions of connection handlers include mapping Internet or other information source-side connections and mobile device-side connections, forwarding traffic between these connections, and loading and invoking the appropriate transcoders on information destined for a mobile device.","Every connection is preferably associated with an instance of a connection handler. This is true even for a connection that does not require that content be processed by the IP Proxy , such as a pure TCP connection between a mobile device and a server. This type of connection handler forwards content back and forward without making any sort of modification to the content, although it may make modifications to the protocol. For clarity, those skilled in the art will appreciate the distinction between the data or content (what the mobile device requested or is being sent) and the protocol (the \u201cwrappers\u201d and conversions required to deliver the data).","Connection handlers are also responsible for loading the appropriate content filters or transcoders. In the above example, if the web server  returns Hypertext Markup Language (HTML) content for example, the HTTP connection handler  would then use an HTML transcoder in the transcoder system  if the mobile device cannot accept HTML content.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 3","b":["18","50","18","26","54","58","12","22","12","42","46","20"]},"If certain connection handlers, such as for a pure TCP connection as described above, are used for a connection, then the data may pass through the IP Proxy system  unchanged. In some IP Proxy systems however, content sent over a TCP handler may be modified. When other connection handlers are used however, data destined for a mobile device  may need to be converted into a suitable, final content.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 4","b":["62","12","12","12","42","30","62","64","12","70","66","68","12","12"]},"A connection handler may be implemented in computer software as a Java\u2122 class file, placed in a certain directory in a file system such that an IP Proxy Java Virtual Machine (VM) may locate and load the file when needed or requested. As those skilled in the art will appreciate, Java uses CLASSPATH environment variable as a guide to where it should perform a lookup for user defined classes. In one embodiment, paths to connection handlers are to be among the first listed paths in the CLASSPATH so that they would be loaded relatively quickly when requested. The connection direction (inbound or outbound) and the name associated with a connection handler may also play a role in defining the full class name of a handler. Those skilled in the art will appreciate that the same scheme could be implemented using dynamic linked libraries (DLLs) or dynamic shared objects (DSOs) depending on the target operating system.","Connection handlers can be associated with a name that represents a protocol at the application layer. For example, if a mobile device  is enabled with a web browser and may therefore request to open connection to an Internet server such as , it would be appropriate to have HTTP as a name for that connection handler, as shown with connection handler . The handler name may adhere to the known rules of naming packages in Java language. The handler name is in lower case; however, from an IP Proxy point of view, it does not matter as long as the Java VM can load that connection handler. Any Connection Handler may also have its class name as Handler.class. An example of a valid full class name that represents a connection handler is as follows:","net.rim.protocol.iplayer.connection.handler.<connectiondirection>.<connection handler name>.Handler.class","where connection direction can be either device, which implies outbound connection, or server, which implies inbound connection. Connection handler name is the name associated with the handler, for instance, http, ftp, etc.","There are at least two ways that an information source such as an Internet node can establish a connection to a mobile device  through the example IP Proxy system  shown in : (1) using a transportation layer protocol directly, such as TCP, to open a direct connection to the IP Proxy , or (2) using a datagram protocol at the application layer, such as HTTP. The IP Proxy system  includes two corresponding connection handlers, which may for example represent a basic IP Proxy system  which can process two of the most common types of connection. The first is the TCP connection handler , associated with the name tcp, for example. The second is the HTTP connection handler , which may similarly be associated with the name http, as described above. In addition to supporting common connection types, these connection handlers also satisfy requirements for Mobile Information Device Profile (MIDP) implementation at the mobile device . However, the IP Proxy  and the mobile device  can be extended to support any other types of connections. In the IP Proxy , connection handlers may possibly be added by providing an application programming interface (API) in the IP Proxy system  and developing new connection handlers that adhere to the API for example.","In one embodiment, connection handlers in the IP Proxy  are loaded from a local storage medium, for example a disk drive associated with a computer on which IP Proxy software is running. In another embodiment, connection handler storage may also or instead be remote from the IP Proxy system , such as in a storage medium accessible by the IP Proxy  through a local area network (LAN) connection or even a WAN like the Internet. This embodiment allows sharing of a single directory of connection handlers among all IP Proxy systems  that can communicate with the connection handler store. It is also be possible to have third parties extend the connection handler set by embedding the URL where the connection handler java class can be found.","If connected to the Internet, a connection handler directory could potentially be accessed and thus shared by all Internet-connected IP Proxy systems . Public Internet-connected connection handler directories would preferably receive connection handler requests from IP Proxy systems and in response transmit any requested connection handlers to the requesting IP Proxy system . A new connection handler may be required by an IP Proxy system  when a mobile device  which communicates with the IP Proxy system  downloads a new application or invokes a new mobile device feature which uses a new connection scheme or a connection method that was not previously used by the mobile device . A mobile device user or the new application or feature may then send a control message to the IP Proxy system , indicating for example the name of the required connection handler, perhaps the mobile device application that requires the new connection handler and an address associated with a connection handler directory from which the new connection handler may be requested. The IP Proxy  would then preferably request the new connection handler from the directory. A connection handler directory could be implemented for example as a web server accessible to an IP Proxy system  using HTTP requests.","When a connection handler is loaded from a remote source, the IP Proxy  preferably stores the handler in a local store in order to provide for faster loading of the handler for subsequent operations involving the corresponding type of connection for either the mobile device  for which the connection handler was initially loaded from the directory or a different mobile device  supported by the IP Proxy system . Depending upon the memory resources available to an IP Proxy system , downloaded connection handlers may be stored indefinitely or for a particular period of time. Alternatively, a least recently used or LRU replacement scheme could be used to provide for more efficient use of available memory by overwriting relatively less frequently used connection handlers when new handlers are downloaded. Other memory management techniques could also be used to optimize local IP Proxy connection handler storage arrangements.","Transcoding","Relative to computer networks such as the Internet, wireless communication networks are slow. Any system that bridges the two, as the IP Proxy does, may have to transform Internet data so that it is formatted appropriately for a wireless network and mobile device. This process is referred to herein as filtering or transcoding, and usually involves such operations as compressing data from the Internet into a more compact format appropriate for wireless transmission.","In the following description, transcoding operations are illustrated primarily in the context of the above example of an HTTP handler  and HTTP connection. The HTTP connection and handler example is particularly useful in that HTTP allows content tags in the form of Multipurpose Internet Mail Extension (MIME) types, which may be used to determine the appropriate transcoder for received information.","In accordance with the IP Proxy system  disclosed herein, there is a single configuration file for each type of connection handler. In the IP Proxy  for example, a single configuration file is associated with the HTTP connection handler  and includes information for all HTTP content transcoders. This configuration file is used to map transcoders to certain content types. The IP Proxy  may consult this file to determine which content transcoder it should load to manipulate any received content destined for a mobile device.","In the configuration file, general rules are preferably specified for how to define the mapping between content types and transcoders. One example of a possible configuration file entry is as follows:\n\nEntry={[default]:{|<Transcoder name>}}|{[[InputType]|<\u2192OutputType>]:[Transcoder name]}\n\nwhere\n","default indicates to the IP Proxy which default transcoder should be loaded in case there is no one transcoder associated with a received content type;","RSV is a set of reserved keywords that is used in configuration file, such as pass (i.e. forward data to the mobile device without transcoding) or discard (i.e. do not transcode or forward data to the mobile device);","Transcoder name is the name of the mapped transcoder;","InputType indicates the input content type that the mapped transcoder accepts, which for an HTTP transcoder configuration file may be a MIME type; and","OutputType indicates the output type, such as a MIME type for an HTTP transcoder, that the transcoder generates.","By using a content transcoder configuration file new transcoders may be added for use by the IP Proxy . Therefore, as new transcoders are developed and become available, they can be added to the configuration file for any appropriate connection handlers and can thereafter be loaded by a connection handler when required, and without affecting other components of the IP Proxy system . For example, configuration file entries may be added without shutting down the entire IP Proxy system , thus allowing dynamic expansion of data that can be converted for transmission to mobile devices .","In another embodiment, a common configuration file format for all connection handlers is used, and thus a only single configuration file entry need be prepared and can be added to the configuration file for any connection handler. The concept of a common configuration file format for all connection handlers can be further extended to providing a single configuration file for an IP Proxy . Such a configuration file could be used by all connection handlers in the IP Proxy  to determine which content transcoders are available and to select a particular transcoder for received content. However, it should be understood that a common configuration file format is in no way required. Some connection handlers may share a configuration file entry format or even a single configuration file, whereas others supported by the same IP Proxy  may have different configuration files and entry formats.","The IP Proxy  preferably loads a transcoder based on the available information regarding the content type of the data being either pushed to or pulled from mobile device . The IP Proxy  may use accept and content type header fields to decide which transcoder should be loaded. Several illustrative example content transcoder loading control schemes are described in further detail below. Although these examples relate primarily to HTTP connections and handlers, those skilled in the art will appreciate that other connection types and handlers may use similar arrangements and methods to select a transcoder when content is received at an IP Proxy system .","It should also be appreciated that a transcoder may instead be selected based upon information other than content types, including information in a header portion or other portion of a connection request from a mobile device, a response to a connection request, or a communication from an information source including information to be pushed to a mobile device. For example, an IP Proxy system  may be configured to determine a type of the mobile device  to which data is to be sent. Transcoder selection by the IP Proxy system  could similarly be based on a network address or other identifier of the mobile device . Mobile device- or device type-dependent transcoder selection schemes may be supported by providing a device or device type mapping table accessible to the IP Proxy system , which maps devices or device types to transcoders. Alternatively, a configuration file may be adapted to include device or device type identifiers to thereby associate particular transcoders with devices or device types.","In a similar manner, transcoders may be selected based on an address (such as a URL) or other identifier of an information source, to enable information source-specific transcoding. A mapping table or a configuration file accessible to an IP Proxy system such as , may be used to enable transcoder selection based on information source. This type of transcoder selection may be useful, for example, when a particular transcoder is to be used to transcode any content that originates from a specific website and is destined for a mobile device.","Although content type-based transcoder selection is the primary type of transcoder selection scheme described below, any of these alternative schemes may be used instead of content type-based transcoder selection. The alternative schemes may also be used to select a transcoder, for example, when a transcoder indicated by a primary transcoder selection scheme is not available, such as when a transcoder system does not include a transcoder configured to transcode a received content type into a content type that the mobile device is configured to accept.","An HTTP connection handler in an IP Proxy system  will normally attempt to load a transcoder based on Accept line and the Content-Type header fields. The IP Proxy may load a transcoder if it has information regarding the content type(s) that a mobile device  is configured to accept and the content type that a server or other information source  returns. For example, in this case the HTTP connection handler  in the IP Proxy  may use an InputType\u2192OutputType key format to consult its configuration file when configuration file entries include content type fields, as in the above example file entry.","The HTTP connection handler  may also load a transcoder if it has information only about the server or source  content type but not what the mobile device  can accept. In this case the, the IP Proxy  can use the InputType key format to consult its configuration file. If the connection handler is unable to determine which transcoder should be used, it will preferably load a predetermined default transcoder. When the default transcoder is used, the IP Proxy  may send an error message to a mobile device  if the output content type of the default transcoder is not acceptable by the mobile device  or if the default is discard (see the above example configuration file entry). Since most data pull-based information sources such as web servers do not embody automatic resend or retry functions when such delivery errors occur, error messages will normally be sent only to the requesting mobile device . A mobile device user may then send a new request to retrieve the information. However, when the information originates at a push server , an error may be returned to the sending server, which may then initiate a new push operation.","Consider the case of a simple HTTP operation in which no Accept header is specified. A mobile device user or an application on the mobile device  issues an HTTP request indicating no Accept header field of content types that the mobile device  or application can accept. The IP Proxy  may, in the absence of Accept header information, infer that any type of content can be accepted and forward the request to the appropriate information source . When information content destined for the mobile device  in response to the request is received by the HTTP connection handler in the IP Proxy , the content is sent to mobile device  as is, regardless of content type. Since the mobile device  in this case can presumably accept any content type, the HTTP handler determines that no transcoding is required and therefore does not load or use any of the HTTP transcoders. Alternatively, the IP Proxy  may be configured to attempt to match the returned content type with one of its transcoders. In the event that an appropriate transcoder which can transcode the returned content type is found, the transcoder is loaded and used to transcode the content for transmission to the mobile device . Otherwise, the IP Proxy  may load the default transcoder or discard the received content.","Other mechanisms for coping with missing content type information in a request from the mobile device  will be apparent to those skilled in the art. The particular mechanism implemented in an IP Proxy system  may for example be a default mechanism used by the IP Proxy system  whenever an information request does not indicate an acceptable content type, dependent upon a setting in a mobile device user profile stored in a database accessible to the IP Proxy , or determined by an IP Proxy owner or operator. However, the mobile device  and any applications resident thereon are preferably configured to include accepted content type indicators in all information requests generated at the mobile device , in order to provide the IP Proxy  with reliable and current information regarding the type(s) of content that a mobile device  can accept. Pattern matching techniques may also be used to produce more complex default behaviour such as applying a transcoder to transcode all data to a common output type regardless of the input type. The order of such pattern\/transcoder rules may connote priority.","As described above, there is preferably a transcoder configuration file for each connection handler supported by an IP Proxy system , or possibly a single configuration file shared by all connection handlers. Such a configuration file not only provides a mechanism for adding new transcoders as they become available, but also allows a connection handler to quickly determine which transcoders are available in the IP Proxy system  and then effectively extend the types of content that can be accepted in response to an information request.",{"@attributes":{"id":"p-0075","num":"0074"},"figref":["FIG. 5","FIG. 5","FIG. 2","FIG. 5"],"b":["18","12","30","48"]},"In , an HTTP request is sent from the mobile device , through a wireless network and possibly through a WAN and appropriate gateway to the IP Proxy system . As described above, the mobile device  may communicate with an IP Proxy system  using a protocol other than HTTP, such as the proprietary IPPP. In such arrangements, although the connection request conforms to a particular protocol, the request may specify a connection type or connection handler, HTTP in this example, associated with a different protocol. Therefore, references to HTTP requests sent from a mobile device  should be interpreted to include both HTTP requests, if mobile device to IP Proxy communications are via HTTP, as well as connection requests which conform to other protocols but specify HTTP or HTTP connection handlers and thus are interpreted by an IP Proxy as HTTP requests.","The connection request is received by the dispatcher , which recognizes the request as an HTTP request and loads the HTTP handler . In its Accept line, the request in this example specifies that the mobile device  can accept a tokenized, compressed version of Wireless Markup Language (WML) which is generally referred to Compiled WML or simply WMLC. The HTTP handler then uses this accepted content type (WMLC) to perform a lookup in the configuration file , shown in the transcoding system  in . It will be appreciated by those skilled in the art however, that the configuration file  might instead be external to the transcoding system , part of the HTTP handler , or even external to the IP Proxy system  provided that the HTTP handler can access the file. In most implementations, the configuration file will be stored in a data store accessible by the IP Proxy system , typically on the same computer system on or in conjunction with which the IP Proxy  is running.","The HTTP handler  searches the configuration file  to determine which if any of its associated transcoders outputs the requested content type, WMLC. In one embodiment, a lookup table which maps input content types to output content types for all configured transcoders is constructed when transcoders are first loaded to the IP Proxy system . The IP Proxy system  then accesses the table and determines which content types it can convert into the requested content type (WMLC). In , the configuration file  or alternatively a lookup table, includes entries for two transcoders, one for converting from WML to WMLC and the other for converting from HTML to WMLC. The HTTP handler  then adds the extra MIME types (WML, HTML) that it can convert to the requested type (WMLC) and submits a request to the web server . As shown in , the request prepared and sent by the IP Proxy  to the web server  includes WMLC, WML and HTML in its Accept line.","The request preferably lists the accepted content types in order of preference. For example, since the mobile device  can accept WMLC, this type of content does not require transcoding and therefore preferably appears first in the IP Proxy request. Other content types may then be listed in order of decreasing transcoding complexity, for example, or based upon some other criteria. The order of preference of content types may also be indicated explicitly, for example using quality factors in the Accept line.","In response to an HTTP request from the IP Proxy , the web server  returns requested content, in WML format in the example in , to the IP Proxy . The HTTP handler  then determines that the returned content is WML, loads the appropriate WML\u2192WMLC transcoder  from a local store for example, and executes the transcoder to convert the received content into WMLC. The WMLC content is then forwarded to the mobile device , through the dispatcher . When WMLC content is returned by the web server , the HTTP handler  forwards the content to the dispatcher  without transcoding, whereas if HTML content is returned, an HTML\u2192WMLC transcoder would be invoked to convert the content to WMLC. Although  shows the response to the mobile device  being handled by the dispatcher , similar protocol translation or conversion between HTTP used by the handler  and a communication protocol used by the mobile device  may instead be performed by the HTTP handler  or another IP Proxy protocol translation\/conversion module.","As described above, if the returned content cannot be converted to the requested type, for example if the HTTP handler  does not have an appropriate transcoder or cannot determine the best transcoder to use, then the default transcoder is preferably used. An error message may be returned to the mobile device  if the output of the default transcoder cannot be accepted by the mobile device or the default transcoder is discard.","The Accept line extension by a connection handler is in no way restricted to single-transcoder operations. In the example of , each transcoder converts directly from one format into the requested format. Another embodiment, a more extensive search of the configuration file  may be conducted or a more exhaustive lookup table may be assembled. Thus, multiple transcoders may be used to convert received content into a format or type that may be accepted by the mobile device.",{"@attributes":{"id":"p-0083","num":"0082"},"figref":["FIG. 6","FIG. 5","FIG. 6"],"b":["18","12"]},"An HTTP request is sent from the mobile device  to the IP Proxy system , possibly through one or more intervening networks and interface components. As in the above example, the request is received by the dispatcher , which recognizes the request as an HTTP request and loads the HTTP handler . The HTTP handler  then consults the configuration file  searching not only for transcoders that output WMLC, but also for transcoders that output content types that may be input to any transcoder that outputs WMLC. Therefore, according to this embodiment, additional MIME types are appended to the header Accept line of an HTTP request based not only on transcoder outputs, but also on transcoder inputs. In  for example, the HTTP handler , perhaps in a first search pass through the configuration file , finds the WML\u2192WMLC transcoder entry. The HTTP handler  may then repeat the configuration file search for any transcoders such as the HTML\u2192WML transcoder that convert content into WML, which it can convert into the requested WMLC content type, to thereby further extend the list of accepted content types. The configuration file search may be further repeated by the HTTP handler , depending for example on acceptable delays in HTTP request processing.","In order to avoid the delays and demand on processing resources associated with such multiple search passes through a configuration file, a transcoder content type lookup table may be used. When transcoders are first installed in an IP Proxy system , a comprehensive mapping table is preferably constructed to map received content types to possible output content types. For example, in , a lookup table entry for WMLC content would indicate that either WML or HTML can be converted into WMLC. Such a table would also preferably indicate that HTML\u2192WMLC transcoding involves two stages of transcoding. The table might instead be organized into single- and chained-transcoding sections, whereby if only a single transcoding operation is preferred, the single-transcoder part of the table including an entry for the WML\u2192WMLC transcoder would be accessed. Illustratively, a chained transcoder  that converts HTML to WMLC may be created from the HTML\u2192WML and WML\u2192WMLC transcoders. The HTML\u2192WML and WML\u2192WMLC transcoders may also be separately invoked.","If further transcoding operations and the associated processing operations and time delays are acceptable, then the HTTP handler  may perform a lookup of an accepted content type or possibly an input type for a previously identified transcoder in a chained-transcoder section of the table. Preferably, the format of the transcoding configuration file may be changed to represent just such a lookup table in order to speed up the search. This may be accomplished, for example, by specifying a path between content types involving multiple transcoders.","The determination of whether multiple transcoding operations will be permitted may be made by the HTTP handler  either before or after the table or configuration file lookup operation is performed, before an HTTP request is sent to the web server , or even after the requested content is received from an information source . In the example of , it should be apparent that multiple transcoders may be invoked to convert received content into WMLC. The Accept line in the header of the HTTP request from the mobile device  is therefore expanded to include WML and HTML in addition to WMLC. As described above, the accepted formats are preferably listed in order of preference. Since HTML requires two transcoding operations instead of the single transcoding operation required to convert from WML to WMLC, WML is preferably listed before HTML in the Accept line of the HTTP request sent from the IP Proxy  to the web server . Similarly, WMLC requires no transcoding and is preferably listed first in the Accept line.","It is also feasible for the chain of transcoders to include both local and remote transcoding services. These remote transcoding services could be transcoder files that the IP Proxy  discovers, downloads and executes or they could be web based transcoding services which receive data in one format and return it in another, as described in further detail below.","The web server  then returns the requested content, in HTML format in the example in , to the IP Proxy  in response to the HTTP request. The HTTP handler  determines that the returned content is HTML, loads and executes the HTML\u2192WML transcoder and then loads and executes the WML\u2192WMLC transcoder on the WML result of the first transcoding operation. The resultant WMLC content is then forwarded to the dispatcher  and then to the mobile device . If WMLC content is returned by the web server , the HTTP handler  forwards the content to the dispatcher  without transcoding, whereas if WML content is returned, the WML\u2192WMLC transcoder is invoked.","It is contemplated that the determination as to whether multiple transcoding operations are allowed will be made dependent upon predetermined criteria such as maximum HTTP request processing time or maximum content transcoding time or processor time for example. This determination might also take a user-specified priority into account. If high time priority (low time delay) is assigned by the user to a submitted request, then single transcoder operations may be selected. Alternatively, if a high data priority is associated with a request, then any number of chained transcoder operations may be allowed in order to get the requested data back to the mobile device in an acceptable format. Other criteria which may be applied by a connection handler include but are in no way limited to allowing chained transcoders only for relatively small amounts of received content, only at certain times of day, under specific current traffic conditions, or only when the configuration file or lookup table is stored in a local file system. Further criteria will be apparent to those skilled in the art and as such remain within the scope of the present application.","In the case of a data push to a mobile device  from a push server such as  (), if the server pushes data content but does not specify a MIME type, then the default transcoder is preferably used. If the default transcoder outputs a content type that cannot be accepted by the mobile device , an error signal is preferably returned to the push server , which may then re-send the data to the mobile device . The error signal further preferably indicates to the push server  a reason for any such delivery failure, such that the push server  may attempt to remedy the delivery problem if possible before the data is re-sent. Where the data could not be delivered to the mobile device  because no MIME type was specified and the default transcoder could not transcode the data into an acceptable content type for example, then the push server  may re-send the data with an appropriate MIME type.","Processing of a server data push with a specified MIME type may depend upon whether or not the IP Proxy  knows the content types that a mobile device  can accept. Unlike the above example of an HTTP request and response process, the IP Proxy  does not have a request from the mobile device  indicating an acceptable content type when data is being pushed to the mobile device . If the IP Proxy  does not know which content type(s) that the mobile device  can accept, then the default transcoder is preferably used. However, in this situation, the active connection handler may instead consult the transcoder configuration file or lookup table to determine if a transcoder that accepts the returned content type as input is available. If an available transcoder is found, then it is loaded and used to transcode the received content. If more than one appropriate transcoder is found, then one of them, for example the transcoder having the first entry in the configuration file or the transcoder that was used previously, such as the transcoder that was used most recently, to transcode data for the particular mobile device  to which the content is destined, may be loaded and executed. A transcoder may also be selected and used on the basis of a content type that was previously sent to the mobile device .","External Transcoder Systems","As described briefly above, transcoders may be loaded as needed from a local store on a computer system on which an IP Proxy system  has been implemented. In another embodiment, transcoders may also be loaded from an external store.  is a general block diagram of a communication system with an external transcoder system.","The system  shown in  is similar to system  of  except for the external transcoder system . Elements common to both systems  and  have been described above. As shown by the dashed lines in , the IP Proxy system  may communicate with the transcoder system  through some sort of direct connection such as a serial port or connection, through a WAN  such as the Internet, or through a LAN  within which the IP Proxy system  and the transcoder system  are configured to operate. Other communication links between the IP Proxy  and the transcoder system  will be apparent to those skilled in the art.",{"@attributes":{"id":"p-0096","num":"0095"},"figref":["FIG. 8","FIG. 7","FIG. 2"],"b":["12","84","12","22","84","94","94","26","24","94","12","92","12","92","94","76","76","84","94"]},"When the WML content is received by the HTTP handler , it is preferably stored in a file system or other data store  while the appropriate transcoder is loaded. In the example of , the HTTP handler  requests the required WML\u2192WMLC transcoder from the transcoder system . Although this request is shown in  as an HTTP request from the HTTP handler , it should be apparent that other transfer mechanisms might instead be used by an IP Proxy system  to retrieve a transcoder from a remote transcoder system . For example, if the IP Proxy system  communicates with the transcoder system  via a LAN  (), then a LAN protocol or data access and transfer scheme could be invoked by the HTTP handler  in order to retrieve any required transcoders. In , the transcoder system  locates the requested WML\u2192WMLC transcoder among its available transcoders  and returns the requested transcoder to the IP Proxy system .","Regardless of the particular transcoder transfer mechanism implemented, the IP Proxy system , or in the example of  the HTTP handler , receives and loads the returned WML\u2192WMLC transcoder, as indicated at . The previously received and possibly stored WML content may then be processed by the transcoder  to transcode the WML content into WMLC content acceptable by the mobile device , and a response containing the transcoded content is returned to the mobile device  by the dispatcher .","If chained transcoder operations are enabled, then more than one transcoder request may be made by the IP Proxy system  to the transcoder system . Multiple transcoders may instead be requested in a single request to the transcoder system . Processing of previously received content for chained transcoder operations may proceed either as each required transcoder is loaded by the IP Proxy system , with intermediate transcoded content possibly being stored in a file system or data store such as , or only when all required transcoders have been loaded.","When a transcoding operation is complete, a transcoder loaded from the external system  is preferably stored locally by the IP Proxy system  in order to avoid subsequent requests to the external transcoder system  for the same transcoder. Retrieval and loading of a transcoder from a local or internal store in the IP Proxy system  will typically be completed much faster than a request to a remote system and reduces traffic on the communication link between the IP Proxy system  and the transcoder system . In such IP Proxy systems, the active connection handler, which is the HTTP handler  in , preferably determines whether a required transcoder is stored in a local data store before requesting the transcoder from the external transcoder system . Depending upon the amount of available storage, transcoders may be stored indefinitely or for a certain predetermined period of time. Other memory management schemes, such as over-writing stored transcoders on an LRU basis for example, may also be used when memory resources are limited.","The configuration file  or transcoder lookup table may be adapted for external transcoder loading by including an indication of the location of a transcoder in the configuration file or table entry for the transcoder. The file  or table is preferably updated if a transcoder is stored to, or overwritten in a local memory, such that the active handler can determine from the initial lookup operation whether the transcoder must be loaded from the external transcoder system . When a transcoder has not been or is no longer stored locally, then the file  or lookup table preferably indicates from where the transcoder may be retrieved. For a transcoder that may be retrieved through an HTTP connection, the corresponding file or table entry may indicate the IP address of the transcoder system , whereas a network address may be specified in the configuration file or lookup table when a LAN connection is used.","It is also contemplated that more than one external transcoder system may be implemented in a communication system such as . In such an arrangement, the configuration file  or lookup table would preferably include entries for all transcoders that are available to an IP Proxy system  through all of the external transcoder systems with which it can communicate. An IP Proxy  may thereby download transcoders from any of a number of transcoder systems via direct or network connections. Overall operation of an IP Proxy system  with multiple transcoder systems would be substantially as described above, except that different transcoder systems may be accessed, possibly using different transfer mechanisms and communication protocols, for each data transcoding operation. Chained transcoding operations may also potentially involve communication with different transcoder systems.","The configuration file  or lookup table is preferably arranged to facilitate a simple resolution scheme when a particular type of transcoder is available from more than one transcoder system. Although an IP Proxy system  may be able to access multiple transcoder systems, an owner or administrator of an IP Proxy system  may designate one of these transcoder systems as a preferred or default system from which the IP Proxy  first attempts to download a transcoder. The order of preference of transcoder systems for any transcoder available from more than one transcoder system may for example be reflected in the order of configuration file or lookup table entries. If the file or table is arranged by transcoder type, then entries corresponding to the most preferred sources for a particular transcoder are preferably listed before entries associated with other transcoder systems. The configuration file or lookup table may instead be arranged according to transcoder system, with all entries for the default or preferred transcoder system occurring first. In both these example arrangements, an IP Proxy system  will preferably attempt to load a particular transcoder from its preferred source before accessing any other sources.","It should be apparent from the foregoing description that if a transcoder in the configuration file or lookup table could not be loaded by an IP Proxy system , then an error may be returned to the mobile device  and possibly an information source , particularly when the information source is attempting to push content to the mobile device . Failure to load a transcoder may also be resolved by finding alternative transcoders or chaining of transcoders. Another method to resolve transcoder problems is to modify the accepted line to remove the data type that caused the problem, and resubmit the request to the web server or information source .","As described above, new transcoders may be registered with an IP Proxy system  by adding a corresponding entry to the configuration file  or a transcoder lookup table. Therefore, when a new transcoder is added to any external transcoder system, the configuration file  or lookup table in each IP Proxy system  that may download transcoders from the transcoder system is preferably updated accordingly. This may be accomplished for example by configuring transcoder systems to send update messages to the IP Proxy systems  when new transcoders are added. A transcoder system may instead append an update message or indicator to responses to requests from an IP Proxy system  following the addition of a new transcoder. According to this scheme, an update message or indicator may be appended to the response to an IP Proxy system  the first time any transcoder is requested from a transcoder system after a new transcoder has been added. An IP Proxy transcoding configuration file or lookup table may also be kept current with one or more external transcoder systems by executing a discovery routine, whereby a registry of available transcoders is periodically queried to \u201cdiscover\u201d new transcoders as they become available.",{"@attributes":{"id":"p-0106","num":"0105"},"figref":["FIG. 9","FIG. 9"],"b":["86","102","84","84","102","102","102","102","102","86"]},"The operations outlined in  will now be described in detail. When an HTTP request is received by the dispatcher  in the IP Proxy system , it is forwarded to the HTTP handler , which as described above determines if any additional content types can be transcoded into the mobile device-compatible WMLC format. In the example of  however, the configuration file  is remote from the IP Proxy system . If the configuration file  is accessible via HTTP, then the HTTP handler  manages the transcoder lookup function with the configuration file . If the configuration file  is not adapted for HTTP, then a different connection handler may be invoked to facilitate the transcoder lookup or configuration file search.","Depending upon the transcoders available to the IP Proxy , the HTTP handler  may expand the accepted content types in the request from the mobile device  to include the additional content types that may be transcoded into WMLC format acceptable at the mobile device . As above, it is assumed that the web server  from which content is requested returns WML content to the HTTP handler . One embodiment, the transcoding system  enables remote transcoding of content. Instead of requesting and loading a WML\u2192WMLC content transcoder from the transcoder system , the HTTP handler  (or another connection handler, depending on the particular transcoder system and the transfer schemes it supports) transfers the WML content to the transcoding system . Within the transcoding system , the appropriate WML\u2192WMLC transcoder is executed and the WML content is transcoded into WMLC format. The WMLC content is then returned to the HTTP handler , or to another connection handler if IP Proxy  to transcoder system communications do not use HTTP. When the WMLC content is returned by the transcoding system  and received by the HTTP handler , possibly through another connection handler which communicates with the transcoding system , it is forwarded to the dispatcher . The dispatcher  then prepares a response including the WMLC content and sends the response to the mobile device . The HTTP handler  may instead prepare the response, which would then be translated (if necessary) by the dispatcher  to conform to a communication protocol or scheme used by the mobile device . Illustratively, the WML content returned by the web server  may be stored by the HTTP handler  in case a data transfer or transcoding error occurs. Local storage of the WML content allows an IP Proxy system  to re-submit the content for transcoding, to the same transcoder system  or a different transcoder system, without first having to request the content from the web server .","In the system of , it is contemplated that the transcoder system  and configuration file  may also communicate with each other to ensure that the configuration file  accurately indicates which transcoders are available. One of the update schemes described above may be used to ensure that the configuration file remains current. A configuration file may be associated with a particular type of connection, such as HTTP connections and thus HTTP connection handlers. If a configuration file  is associated with a particular transcoder system , then the configuration file may be resident within the transcoding system . If multiple transcoding systems are implemented, a shared configuration file storing transcoder entries for the transcoders available in all transcoder systems may simplify the transcoder lookup performed by a connection handler. An IP Proxy system  need then only consult a single configuration file to determine if appropriate transcoders are available from any transcoder systems with which it can communicate. This single configuration file\/server could also support protocols to allow external transcoding servers to register. This registration process could add a list of available transcoders to the single configuration file, for example.","External transcoder systems  therefore include download systems from which transcoders may be downloaded by an IP Proxy system  and executed locally (see ) and remote transcoding systems to which content is sent for transcoding at the transcoding system (see ). In another embodiment, a \u201chybrid\u201d transcoder system incorporates aspects of both these types of transcoder systems. When a hybrid transcoder system is available to an IP Proxy system , the IP Proxy system  may either download a required transcoder from the transcoder system or send content to the transcoder system to be transcoded remotely. The selection of transcoder download or remote transcoding may be dependent, for example, upon the amount of data to be transcoded, the complexity of the transcoding (single or chained operations), or other criteria.","External Connection Handler Systems","A further extension of the concept of a distributed IP Proxy system with external, possibly shared components is shown in .  is a block diagram of a communication system with an external transcoder system  and an external connection handler system . The system  of  is substantially the same as the system  in , except that connection handler system  is external to the IP Proxy system . The IP Proxy system  can download connection handlers from the connection handler system  via a direct connection, a LAN , or a WAN  such as the Internet.",{"@attributes":{"id":"p-0113","num":"0112"},"figref":["FIG. 11","FIG. 10","FIG. 11"],"b":["108","86","102","106","106","108","86","102","106","106","106"]},"By way of example, the operations associated with a system such as  will be described below for an HTTP request. When an HTTP request is received by the dispatcher  in the IP Proxy system , an appropriate handler may have to be downloaded from the connection handler system , unless the handler is already resident on the IP Proxy  as described in further detail below. This is shown in  as a handler request, which may be processed through a resident handler  such as a TCP handler that is compatible with the connection handler system . This resident handler  will normally be provided locally on an IP Proxy system  in order to enable communication between an IP Proxy system and an external connection handler system . However, the handler may instead be downloaded by an IP Proxy system  from a connection handler system, preferably through an automated download procedure.","The handler  then requests the appropriate connection handler, an HTTP connection handler in this illustrative example, from the external connection handler system . If the required connection handler is unavailable or cannot be downloaded, then an error may be returned to the mobile device . If the required HTTP connection handler is returned by the connection handler system  however, it is loaded by the IP Proxy system . The dispatcher then forwards the original HTTP request from the mobile device  to the HTTP handler . The HTTP handler may determine whether any additional content types can be transcoded into the mobile device-compatible WMLC format. As described above, this determination may be made by performing a transcoder lookup in a local configuration file or lookup table or external configuration file  or lookup table. If the configuration file  is accessible via HTTP, then the HTTP handler manages the transcoder lookup; otherwise, a different connection handler may be invoked, possibly after a further connection handler download operation, to facilitate the transcoder lookup or configuration file search.","Depending upon the result of the transcoder lookup, the HTTP handler may expand the accepted content types in the request from the mobile device to an information source such as a web server . As above, it is assumed that the web server  returns WML content to the HTTP handler . The returned WML content may be transcoded into WMLC content by invoking a WML\u2192WMLC transcoder stored in a memory in the IP Proxy system , by downloading a WML\u2192WMLC transcoder from an external transcoder system and then invoking the transcoder at the IP Proxy system , or by sending the WML content from the IP Proxy system  to an external transcoder system  for remote transcoding by a WML\u2192WMLC transcoder in the transcoding system . Although a single transcoder operation is shown in , chained transcoding operations and any necessary associated downloading or transfer operations may also be performed. When WMLC content is then returned to the HTTP handler , possibly through another connection handler if IP Proxy  to transcoder system  communications do not use HTTP, a response including the WMLC content is prepared and sent to the mobile device  through the dispatcher .","The external connection handler system  provides for an extension of the types of connection through which an IP Proxy system  may access data to be sent to a mobile device . Once downloaded from an external connection handler system, a connection handler such as HTTP handler may be stored by an IP Proxy system  to a local data store. In such systems, the dispatcher  would preferably access the local store to determine if a required handler is already resident within the IP Proxy system . Subsequent downloads for previously used connection handlers can thereby be avoided. Download operations may be further reduced by providing one or more of the most commonly used connection handlers in a local memory on initialization of an IP Proxy system , such that only less frequently used connection handlers are downloaded from an external connection handler system as needed.","Similar to the external transcoding system described above, an external connection handler system may be either a download system, as shown in , or a remote connection handling system, in which connection handlers are invoked and executed on the connection handler system instead of being downloaded for execution on the IP Proxy system . In the example of an HTTP request, when remote connection handling is enabled, a request from the mobile device  may be either delegated or handed off to the external connection handler system.",{"@attributes":{"id":"p-0119","num":"0118"},"figref":["FIG. 12","FIG. 12"],"b":["12","22","106","112","112","106","112","72","112","108","108","108","108","108","76","112","74","12","22"],"i":["a ","a ","a","a"]},"In , extension of accepted content types and content transcoding is managed within the IP Proxy system .  is a signal flow diagram showing a variation of the request delegation of . In , a request from the mobile device  is forwarded to the resident handler  by the dispatcher . The resident handler  then forwards the request to the connection handler system , which starts the HTTP handler . The HTTP handler consults the configuration file  or lookup table to determine which if any transcoders may be available to transcode other content types into the requested type, WMLC, and then modifies the request to include these other content types, WML and HTML in this example. The modified request is sent to the web server , which returns WML content. The returned WML content is then sent to an appropriate WML\u2192WMLC transcoder in a transcoder system , and the transcoded content is returned to the HTTP handler and then to the resident handler  in the IP Proxy system . A response including the WMLC content is sent to the mobile device from the handler  through the dispatcher  to complete the operation.",{"@attributes":{"id":"p-0121","num":"0120"},"figref":"FIG. 14","b":["106","112","108","108","108","106"],"i":["c ","b ","c "]},"Referring now in detail to , a request from the mobile device  is sent to the connection handler system . The connection handler system  invokes the appropriate handler illustratively HTTP handler , which may modify the request to include further content types and sends the request to the information source (web server ), receives content from the information source, and invokes any required transcoding operations in the external transcoding system , substantially as described above in conjunction with . Instead of returning the transcoded WMLC content to the IP Proxy system however, the external connection handler system preferably includes a mobile device protocol handler , which sends a response to the mobile device .","When a mobile device protocol is different than the request protocol such that different handlers are invoked for communication with an information source and the mobile device as shown in , the HTTP handler and the mobile device protocol handler are effectively chained, similar to transcoder chaining described above. Although shown as part of the same connection handler system , the HTTP handler and mobile device protocol handler may instead be associated with different connection handler systems. The connection handler system  may, for example, download the mobile device protocol handler from another connection handler system or invoke the mobile device protocol handler at the remote system. It will be apparent from the foregoing description that the mobile device protocol handler in  is functionally similar to the dispatcher  in that it translates between connection handler and mobile device communication protocols when necessary.","Connection handlers in the same or different connection handler systems may also be chained in order to process an information request from mobile device , for example to request the information from an information source or to manage transcoding of returned content. Any connection handler chaining operations may involve delegation or hand-off, and may preferably be controlled by either a connection handler system or an IP Proxy system at which a request was originally received.","It is also contemplated that more than one connection handler system may be available to any IP Proxy system. As described above for external transcoder systems, external connection handler systems may be registered in one or more registries that may be consulted by an IP Proxy system to find available connection handlers. Where connection handler chaining is required, connection handler systems may also access the registry to locate a particular type of connection handler in another connection handler system. A registry scheme would also simplify dynamic connection handler management by facilitating discovery functionality to allow IP Proxy systems and connection handler systems to discover new connection handlers and systems as they become available. In systems with multiple external connection handler systems, an IP Proxy system may effectively become a load balancing module that may distribute incoming mobile device requests among different connection handlers.","Connection handlers have been described above primarily in the context of communication or connection protocols. However, it also contemplated that handlers may be implemented for other functions or services, including for example encryption, compression, user authentication, and state management. Such \u201cservice handlers\u201d may possibly be embedded with connection handlers, but would preferably be distinct modules that may be chained with connection handlers as needed. A chaining mechanism provides for more flexibility in connection management and request processing in that a basic connection handler may be chained with as many service handlers as desired to customize a connection or request\/response operation. A connection handler system may include service handlers, and may also or instead accomplish connection handler and service handler chaining through downloading or remote execution of service handlers in one or more further service handler systems.","Example Implementation","An example implementation of an IP Proxy system will now be described.  is a block diagram showing an IP Proxy system implemented in a secure network.","The system  in  includes a mobile device  that operates within a wireless network . Through a gateway , the mobile device can receive and preferably also send data over a WAN  such as the Internet. These elements of the system  are substantially the same as similarly labelled elements in . In the system  however, the IP Proxy system  is configured within a private network such as a corporate network , behind a security firewall , and communicates with the gateway  through a network server computer . In a particular example embodiment, the network server  is associated with an email system . Two information sources, an internal source  and an external source , are also shown in .","The network server  preferably enables secure communication to the mobile device , as indicated by the encryption and decryption blocks and . The network server  encrypts any communications directed to a mobile device . The intended recipient mobile device , using a secret key stored therein, can decrypt encrypted communications from the network server . A mobile device  similarly encrypts any information sent to the network server , which can be decrypted by the decryption module . Those skilled in the art of cryptography will appreciate that the keys and encryption algorithms used at the network server  and mobile device  are preferably chosen so that it would be computationally infeasible to decrypt encrypted information without the required secret key. One preferred encryption scheme is triple-DES (Data Encryption Standard).","Key distribution between a network server  and a mobile device  may be accomplished via a secure connection such as a secure physical connection between the mobile device  and the network server , or between the mobile device  and another computer within the corporate network. Known public key cryptography techniques may instead be used for key distribution. In a public key scheme, a public key is used to encrypt information in such a way that the encrypted information may be decrypted using a corresponding private key. The public key is stored by, and may be retrieved from, a publicly accessible key repository commonly referred to as a certificate authority or CA, whereas the private key is stored only at a mobile device or system with which the public key is associated. Thus, a network server  or any other sender that wishes to send encrypted information to a mobile device  may retrieve the mobile device's public key from a CA and use the public key to encrypt information destined for the mobile device . A mobile device  may similarly obtain a network server's public key from a CA and use the public key to encrypt communication signals to be sent to the server.","Regardless of the particular key distribution scheme and encryption techniques used, encrypted communications between a mobile device  and network server  may be used, for example, where corporate or other private information is to be accessed using a mobile device. Consider the example of the internal information source  within the security firewall , described below with reference to , which is a signal flow diagram illustrating a corporate data access operation. In keeping with the above illustrative example operations,  shows an HTTP-based data access operation.","In , an HTTP request is encrypted at the mobile device , preferably using a strong encryption routine such as triple-DES (3DES), before it is sent to the network server  through the wireless network  of  and possibly other intermediate networks or components, such as the gateway  and WAN  shown in . The encrypted request is then received by the network server  and decrypted in the decryption module . The decrypted request is forwarded to the IP Proxy system , which may proceed to process the request substantially as described above. The active handler, the HTTP handler  in this example, may consult the configuration file  or transcoder lookup table and expand the accepted content types to include content types that can be transcoded into the format(s) that can be accepted by the mobile device . A request, possibly including further content types, is then sent by the HTTP handler  to the information source , which then returns requested information, in WML format in this example. An appropriate transcoder  is loaded and invoked by the HTTP handler  if necessary and the requested content, preferably in a format requested by the mobile device , is returned to the network server  through the dispatcher . The network server  then encrypts the content received from the IP Proxy system  in its encryption module and sends the encrypted content in a response to the mobile device . In some implementations, the protocol conversion or translation operations associated with the dispatcher may instead be performed by the network server .","The information source  may be a computer system or data store preferably configured for operation on the private network , such as a file server or other data store accessible through the network . In the example of a corporate network, the information source  may include confidential or otherwise sensitive information that an owner of the network  strives to keep private. The security firewall  is intended to prevent unauthorized access to private network components including the information source . In some situations, the very existence of information stored at the information source must remain confidential. The encryption of the request from the mobile device as shown in  prevents an unauthorized party from determining the contents of the request without breaking the encryption, which as described above is not computationally feasible for strong encryption schemes such as 3DES. The request remains encrypted until received by the network server  and decrypted, behind the security firewall , as indicated at  in . The request is therefore virtually as secure as a request sent from a computer system on the network .","Once decrypted, the request is processed by the IP Proxy  and information source  as described above. However, encryption of the requested content by the encryption module in the network server  before it is sent to the mobile device  similarly ensures that the content can only be viewed by the mobile device . Confidential corporate information therefore remains encrypted and thus secure until received and decrypted at the mobile device , thereby effectively extending the security firewall  to the mobile device . Both the request and the information returned to the mobile device in response thereto are secure.","In known remote data access schemes such as WAP, gateway systems which provide for data access using mobile devices are normally located outside corporate or private premises, at the location of a service provider for example. Any confidential or sensitive information encrypted at the private premises is decrypted at the gateway system, outside the corporate firewall, and then re-encrypted before being sent to the destination mobile device or devices. The information is therefore in the clear at the gateway system and thus accessible by an owner or operator of the gateway system. Furthermore, the owner or operator of a private network from which the information was sent typically has no control over security arrangements at the gateway system, such that the information is vulnerable to attacks on the gateway system.","The arrangement shown in  wherefore provides secure remote access to private, confidential or otherwise sensitive information. Information is encrypted from end-to-end between the network server  and any mobile device . Any level of security may be implemented at the security firewall  to protect confidential information stored at an information source such as , and when encrypted by the network server , information is not decrypted at any intermediate point before being received at a mobile device . The information is in the clear only \u201cinside\u201d the point , behind the security firewall , and on the mobile device . Security arrangements such as password or passphrase control are also preferably implemented at the mobile device  to prevent an unauthorized user from using the mobile device or decrypting received encrypted information. For example, computer workstations may be protected by password-deactivated system locking and access to a corporate network  is normally protected by login passwords. Similarly, a password may be required to use a mobile device , while a different passphrase may be necessary to decrypt any encrypted information stored on the mobile device . A mobile device  and information stored thereon is thereby just as secure as a network workstation and information stored on a network. Such techniques as limited password or passphrase entry retries, mobile device  or mobile device memory reset after a predetermined number of failed password\/passphrase entries, dynamic and possibly random password\/passphrase updates and the like may be used to further improve mobile device security.","For an external information source  (), a data access operation is substantially the same as shown in , except that the information source is outside the firewall . The request and response exchange between the mobile device  and the network server  may be encrypted, but information exchanged with the information source  may be unsecure. If the information provided by the information source  is not private or confidential, then unsecure exchange between the IP Proxy system  and the source  will be sufficient for most purposes.","One possible measure to improve the security of information being requested from an external source  is to secure the communications between the IP Proxy system  and the source . For example, the IP Proxy system  may be adapted to support Secure HTTP (HTTPS), Secure Sockets Layer (SSL) or other secure communication schemes in order to securely access information at the information source . Information from the source  may thereby be securely transferred to the IP Proxy system  and is then protected by the security firewall . Encrypted information may be decrypted by the IP Proxy system , by the active connection handler for example, and transferred to the network server , which then encrypts the information for transmission to the mobile device . As above, information is only in the clear behind the firewall . Alternatively, a secure communication session may be established between the mobile device  and source  through the IP Proxy . In the system of , communications between the mobile device  and network server  would then be double-encrypted.","As shown in , the network server  is also associated with the email system . In one embodiment, the network server  provides for sending data items from the email system  to mobile device . One such system is described in detail in U.S. Pat. No. 6,219,694, entitled \u201cSystem And Method For Pushing Information From A Host System To A Mobile Data Communication Device Having A Shared Electronic Address\u201d, and issued to the assignee of the present application on Apr. 17, 2001. The complete disclosure of this patent is hereby incorporated into this application by reference.","Since the network server  is also associated with the IP Proxy system , integrated functionality between the email system  and the IP Proxy system  may be possible. For example, the IP Proxy system  may use encryption functionality of the network server  as well as a transport mechanism via which the network server  communicates with the mobile device . Other functions of the network server , such as data compression, for example, may similarly be exploited by an IP Proxy system  to improve the efficiency of use of wireless communication resources. As described briefly above, content destined for a mobile device  may be addressed to the mobile device using an email address in the email system  associated with the mobile device user. In this example, content forwarded to the mobile device by the IP Proxy system  may also be stored in the user's mailbox on email system  by the network server , as indicated in , to thereby provide both a record of IP Proxy operations and a stored copy of any forwarded content. Other integrated functions may include but are in no way limited to email-based content requests from mobile devices and addressing of mobile device-destined information by the IP Proxy system  using an email address on the email system . Still further integrated functions may be enabled where a network server  or the IP Proxy system  is associated with any other services.","It will be appreciated that the above description relates to preferred embodiments by way of example only. Many variations on the invention will be appreciated by those knowledgeable in the field, and such variations are within the scope of the invention as described, whether or not expressly described. For example, embodiments of the invention have been described primarily in the context of an IP-based system. Similar proxy systems for other types of communication systems are also contemplated within the scope of the invention. Other types of connections, connection handlers and transcoders than those described above will also be apparent to those skilled in the art.","Depending upon the particular implementation of a remote data access system and the features to be supported, not all of the elements shown in  are required. Where push services are not supported for example, the proxy system will not include push services .","The invention is also in no way limited to content type indication using MIME types. MIME types are useful in conjunction with the instant invention, but are not required to practice the invention. Other content type indicators may be substituted for MIME type to indicate the type or format of requested or received content.","Although the transcoders described above convert between well-known information types or formats, custom transcoders could be developed and implemented for virtually any information format, including for example application program file types and proprietary formats. As described above, a proxy system in accordance with the instant invention is preferably configurable and new content transcoders may be added.","It is also possible that information content from an information source may include multiple different content types, not just a single content type as described above. For such multiple-type content, transcoders may be selected, for example, to transcode the content into a single content type, or into multiple content types accepted at a mobile device. Selection of transcoders may be controlled according to any of the transcoder selection schemes described above. In the case of transcoder selection by a mobile device or information source, a list of transcoders for any or each part of multiple-type information type content may be specified in a connection request, a response to a request, or a push request. A respective transcoder may be selected and used for each part of the information content having a particular content type.","When any part of multiple-type information content cannot be transcoded as desired or required, where a suitable transcoder is not available for example, only other parts of the information content might be transcoded and sent to a mobile device. Alternatively, a default transcoding operation as described above may be used to transcode parts of multiple-type content. Non-transcoded parts of multiple-type content, or possibly all of the multiple-type content, could instead be replaced with a link or other information that may be used to subsequently access the information content or parts thereof, and sent to a mobile device. Information indicating the multiple content types and\/or required or recommended transcoders could also be sent to the mobile device. The information content or parts thereof may then be retrieved by the mobile device by submitting a connection request or possibly further transcoding instructions or an alternate transcoder selection to an IP Proxy system.","Furthermore, a proxy system may be implemented in any network, not only in a corporate network as shown in . Installation of a proxy system in an ISP, ASP, or Virtual Network Operator (VNO) system would provide for secure remote access to network information and secure transfer of information between any network users, including transfers between mobile devices of ISP, ASP or VNO users.","Although the invention has been described in detail with reference to certain illustrative embodiments, variations and modifications exist within the scope and spirit of the invention as described and defined in the following claims."],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY","DETAILED DESCRIPTION","General System Description"],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 8","FIG. 7"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 11","FIG. 10"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 13","FIG. 12"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 16"}]},"DETDESC":[{},{}]}
