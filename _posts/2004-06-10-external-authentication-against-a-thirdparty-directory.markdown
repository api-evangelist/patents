---
title: External authentication against a third-party directory
abstract: A system and method for authenticating users against an external directory service. A client device issues an LDAP (Lightweight Directory Access Protocol) request (e.g., a login request) to a local or native directory server (e.g., an Oracle Internet Directory server) configured to authenticate users for access to a resource (e.g., an Oracle database, an Oracle application server). The native directory server does not maintain or synchronize user passwords, and forwards the request (or details of the request) to a plug-in residing in the resource. The plug-in forwards or issues the request to an external or third-party directory server or service, which attempts to authenticate the user and returns a result indicating success or failure. The plug-in returns the result to the local server, which responds to the client.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07886341&OS=07886341&RS=07886341
owner: Oracle International Corporation
number: 07886341
owner_city: Redwood Shores
owner_country: US
publication_date: 20040610
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This invention relates generally to the field of computer systems. More particularly, a system and method are provided for authenticating a user against an external third-party directory rather than a local directory.","Directory servers and services such as Oracle\u00ae Corporation's OID (Oracle Internet Directory) service store commonly used information regarding users, applications and machines (e.g., computing devices). A directory service allows these entities to be organized into namespaces to facilitate the central management of user information, among other purposes. Information stored in a directory service may thus include roles, credentials, privileges, certificates, preferences, etc.","A directory service such as OID service may be used to authenticate users when they attempt to connect to a server or service (e.g., web server, database, application server) that is coupled to the directory service or resides within the namespace of the directory service. Thus, to access a database within a particular namespace, a directory server associated with that database receives a user's connection and attempts to authenticate the user (e.g., by comparing a password proffered by the user to the user's password stored in the directory). For example, users connecting to an Oracle database are normally authenticated through an OID server, which may be directly coupled to an application server.","Many organizations have heterogeneous networks and computing environment, possibly including multiple directory servers or other servers capable of authenticating users (e.g., legacy systems) or containing repositories of user information.","Unfortunately, it is not generally possible for one directory server or service to authenticate a user against another (e.g., external or third-party) directory service. Instead, each directory server must store the necessary access control information to authenticate a user.","Therefore, to enjoy the benefit of centralized management of user information, while still being able to access the applications or services offered by the organization's various servers, the user information may be synchronized or replicated among the servers. By copying the user information to each server that receives and approves user connections, each server continues to perform its own local authentication for each connection.","However, by sharing user information among the servers, a user's password (or other information) must be updated throughout the environment every time it changes. This may cause a substantial amount of network traffic. And, some information may not be shared or synchronized (e.g., because the owners or holders of the information will not release it).","Also, there will necessarily be some delay before updated or synchronized information is effective throughout the organization. During this time, a user may be unable to access a particular server or service.","Yet further, storing users' information in multiple locations can cause problems. For example, if just one of the servers is compromised, all users' credential information is at risk. And, if a problem occurs in the servers' synchronization, a subset of them may end up with obsolete information.","In one embodiment of the invention, a system and methods are provided for authenticating users against an external or third-party directory service. A client device issues an LDAP (Lightweight Directory Access Protocol) request to a local or native directory server (e.g., an Oracle Internet Directory server) configured to authenticate users for access to a resource (e.g., a database, an application server). For example, the request may comprise an ldapbind or ldapcompare request.","The native directory server does not maintain or synchronize user passwords and, instead of performing the corresponding operation (e.g., ldapbind or ldapcompare), it forwards the request (or details of the request) to a plug-in executing within a program space of the resource. The plug-in forwards or issues the request to an external or third-party directory server or service that stores the necessary user credential information. The external directory server attempts to authenticate the user, and returns a result indicating success or failure. The plug-in returns the result to the local server, which responds to the client.","The following description is presented to enable any person skilled in the art to make and use the invention, and is provided in the context of particular applications of the invention and their requirements. Various modifications to the disclosed embodiments will be readily apparent to those skilled in the art and the general principles defined herein may be applied to other embodiments and applications without departing from the scope of the present invention. Thus, the present invention is not intended to be limited to the embodiments shown, but is to be accorded the widest scope consistent with the principles and features disclosed herein.","The program environment in which a present embodiment of the invention is executed illustratively incorporates a general-purpose computer or a special purpose device such as a hand-held computer. Details of such devices (e.g., processor, memory, data storage, display) may be omitted for the sake of clarity.","It should also be understood that the techniques of the present invention may be implemented using a variety of technologies. For example, the methods described herein may be implemented in software executing on a computer system, or implemented in hardware utilizing either a combination of microprocessors or other specially designed application specific integrated circuits, programmable logic devices, or various combinations thereof. In particular, the methods described herein may be implemented by a series of computer-executable instructions residing on a suitable computer-readable medium. Suitable computer-readable medium may include volatile (e.g., RAM) and\/or non-volatile (e.g., ROM, disk) memory.","In one embodiment of the invention, a system and method are provided for authenticating a user against an external (e.g., third-party) directory service. In this embodiment, the user's login or connection request is received at a local directory server that approves or disapproves access to a database, application, web server or other entity. The local directory server has only minimal user footprint information, and does not store credential information (e.g., passwords) for authenticating the user, and therefore cannot perform authentication locally. The local directory server forwards (or restates) the request toward an external directory service. The external service authenticates the user and returns an authentication result (e.g., success or failure) toward the local server, which responds to the user.","In one implementation of this embodiment, the local server first passes the request to a plug-in module that performs the necessary operation for obtaining authentication. For example, if the login request comprises an ldapbind request, the plug-in comprises code for replacing the local directory server's version of the ldapbind operation. Illustratively, the plug-in may reside and execute within a program space of a database coupled to the local directory server.","In one particular embodiment of the invention, the local directory server is an OID (Oracle Internet Directory) server coupled to an Oracle database, and normally is configured to authenticate users seeking access to the database or an application server. However, information for authenticating a user is not stored on the OID server, perhaps because such information is centrally managed at one location (e.g., the external directory service) and is not synchronized with the OID server, possibly to avoid the various problems of synchronization and repercussions of incomplete synchronization.","In this embodiment, the OID server implements the LDAP (Lightweight Directory Access Protocol), and thus receives LDAP requests from users and clients (e.g., ldapbind, ldapcompare). These requests may be forwarded to the external directory service in their native LDAP protocol, or may be forwarded via SQL (Structured Query Language), PL\/SQL (Procedural Language\/Structured Query Language) or a customized API (Application Programming Interface).","Illustratively, login requests from client devices are received at the OID server and forwarded to the Oracle database, in which resides a set of OID Server plug-ins configured to replace the normal LDAP operations. The plug-ins operate in a program space of the database, and connect to the external directory service as needed to authenticate a user.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1"},"In , clients  include various devices for accessing database . Clients  may include desktop, laptop and portable computing devices, configured for use by various users. Directory server  may be an OID server, which can be configured to perform native authentication of users requesting access to database  and\/or other portions of the Oracle technology stack or Oracle application stack. But, in this case, the directory server does not store necessary user credential information (e.g., passwords) for performing such authentication. However, directory server  may be able to handle other directory operations not requiring or involving the user credential information.","Database  may be an Oracle RDBMS (Relational Database Management System) by Oracle Corporation. The database includes any number of plug-ins (e.g., OID Server plug-ins) for augmenting or replacing operations (e.g., LDAP operations) normally performed by the directory server. For example, database  includes OID Server plug-in for an ldapbind operation of LDAP, OID Server plug-in for the ldapcompare operation, and may include others. The plug-ins may perform various LDAP operations (and\/or operations of other protocols) and may be written in PL\/SQL or some other suitable language.","The plug-in framework residing in the database may include plug-ins of different scope. Individual plug-ins may be pre-operative or post-operative, in which case they execute before or after the LDAP or other operation they augment, respectively. Or, a plug-in may be a replacement plug-in, in which case it is executed in place of the corresponding operation. The plug-ins may be installed as part of directory server , database  or some other network or application entity (e.g., an application server).","Database , and any or all of clients  and directory server  are coupled to network , which may comprise the Internet. External or remote directory server  maintains user credential information (e.g., passwords) for users desiring access to database  and\/or other resources within the computing environment (e.g., the Oracle technology stack). External server  may comprise a SunOne directory server, a Microsoft Active directory server, or other directory server. The external directory server may be considered \u201cexternal\u201d in that it is outside the namespace of directory server .",{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 2","FIG. 1"]},"In this embodiment, directory server  is a native or local directory server (e.g., an OID server) closely coupled to database . Plug-ins , are replacement plug-ins that execute in place of corresponding ldapbind and ldapcompare operations on server . The plug-ins operate transparently to users, so that the users cannot readily discern whether they are being authenticated locally at directory server , or remotely at server .","In operation  of the method of , a login request (e.g., an ldapbind or ldapcompare request), or other request that requires user authentication, is received at the native or local directory server (server ). The login request may be conveyed via an LDAP C API, an LDAP PL\/SQL API, JNDI (Java Naming and Directory Interface), or some other protocol or interface.","In operation , the native directory server may pre-preprocess the request to establish an LDAP connection, setup session information and extract information from the request and\/or perform other tasks.","In operation , a plug-in corresponding to the request is executed. As described above, this plug-in may comprise an OID Server plug-in. In the illustrated embodiment of the invention, the plug-in executes within program space within database . In this embodiment of the invention, the request may be an LDAP request (e.g., ldapbind). The plug-in may therefore completely replace the normal LDAP operation that would be performed on the native directory server in response to the request.","In other embodiments, the plug-in may execute logic before and\/or after the normal LDAP operation on the native server. For example, the plug-in may perform some pre-operation processing to ensure the proffered password is at least a minimum required size (and may report an authentication failure if not), satisfies some other required format or password policy, or that another parameter of the request is formatted appropriately.","In operation , the plug-in receives from the native directory server parameters of the user or client request, such as DN (Distinguished Name), password, and virtually any other attribute(s) of a directory entry associated with the user.","In operation , the plug-in forwards or redirects the request to the external (e.g., third-party) directory server , or generates and sends a new request in place of the original request. The request may include any necessary attributes (e.g., DN, password), and may be issued via a PL\/SQL LDAP API (if the external directory is an LDAP compliant directory), PL\/SQL or some other protocol or interface.","For example, if the external directory server is an RDBMS-based repository of access control information, the request may be forwarded via PL\/SQL. Or, if the external directory server is a legacy or proprietary server, but a corresponding API is published, the request may be formatted as required by the legacy system's API.","Illustratively, neither the native directory server nor the plug-in identifies the external directory server to the client, thereby promoting transparent authentication. Thus, the client does not select, specify or even know of the involvement of the external directory server.","In operation , the external directory server receives the request and attempts to authenticate the user, based on attributes of the user's directory entry provided by the plug-in.","In operation , the external directory server returns a response to the authentication request to the plug-in, to indicate whether the authentication was successful or unsuccessful.","In operation , the plug-in forwards or reports the response to the native directory server . The plug-in may also perform any desired post-operation processing (e.g., to log the user's activity and\/or authentication result).","In operation , the native directory server responds appropriately to the client that issued the request, based on whether the authentication was successful.","The foregoing descriptions of embodiments of the invention have been presented for purposes of illustration and description only. They are not intended to be exhaustive or to limit the invention to the forms disclosed. Accordingly, the above disclosure is not intended to limit the invention; the scope of the invention is defined by the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"DESCRIPTION OF THE FIGURES","p":[{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"}]},"DETDESC":[{},{}]}
