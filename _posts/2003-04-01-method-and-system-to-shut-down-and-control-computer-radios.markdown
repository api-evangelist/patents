---
title: Method and system to shut down and control computer radios
abstract: A system and method that facilitates control of the power states of a mobile device's wireless radios. Radios can be collectively turned off in a straightforward, intuitive operation, and can be restored to a powered-on state in a similar manner. In addition to collective powering down and restoring, the power states of individual radios can be controlled in a selective manner. When any radio is on, a connectivity dialog provides a link for collectively turning wireless devices off. When no radios are on, the connectivity dialog provides a corresponding link to turn wireless radios on, which may be only those that were on prior to the collective shutdown. A settings user interface, such as accessible via a link on the connectivity dialog, provides on/off radio buttons and checkboxes that enable the selective control of radio power state.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07460891&OS=07460891&RS=07460891
owner: Microsoft Corporation
number: 07460891
owner_city: Redmond
owner_country: US
publication_date: 20030401
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present invention claims priority to U.S. provisional patent application Ser. No. 60\/419,874, filed Oct. 21, 2002 and herein incorporated by reference.","The invention relates generally to wireless computing devices.","Small, mobile computing devices such as personal desktop assistants, contemporary mobile telephones, hand-held and pocket-sized computers, tablet personal computers and the like, are becoming important and popular user tools. In general, they have become small enough to be extremely convenient, while consuming less battery power, and at the same time have become capable of running more powerful applications.","Recent developments have resulted in such devices being able to connect to networks, including the Internet. Contemporary mobile devices such as a PocketPC thus may integrate a variety of wireless radios that are used for transmitting information. For example, a typical mobile computing device may integrate a cellular phone, Wireless Ethernet (also known as 802.11b or Wi-Fi), and Bluetooth\u2122 wireless technology. Likewise, mobile telephones such as those running Microsoft\u00ae Smartphone software allow users to make conventional mobile telephone calls and also access the Internet, as well as send and receive e-mails and files, store contacts, maintain appointments and do many other things contemporary computers can now do. While the connectivity features of such devices provide a number of benefits, having wireless connectivity leads to a number of problems. For example, in certain environments, wireless radios are not allowed, however the usage of a mobile device for other reasons, such as for data entry or playing games, still may be desired. As a further problem, wireless radios consume power and in some cases users will want to take a more active role in managing their power state. Still other times, a user may want a certain radio active, such as the radio that provides a Bluetooth\u2122 connection, but not the radio that enables the device to act as a cellular phone.","In sum, there are times when users want a mobile device operational, but in a state in which one or more, or all wireless radios are selectively turned off, or turned off as a whole. Improvements in convenience that increase the usability of mobile devices are needed, however heretofore there has been no convenient solution to providing power control of a mobile device's wireless radios.","Briefly, the present invention is directed towards a system and method implemented in part in an improved user interface that facilitates control of the power state of a mobile device's wireless radios. Radios can be turned off in a straightforward, intuitive operation, and can be restored to a powered-on state in a similar manner. In addition to collective powering down and restoring, the power states of individual radios can be controlled in a selective manner. The present invention is capable of being used on any mobile device having remote communications capability, including mobile telephones and mobile (e.g., handheld, tablet or pocket-sized) computing devices.","In general, a connectivity dialog such as in the form of a pop-up bubble, provides a user interface that facilitates working with network connections. In one implementation, the connectivity dialog is activated by pen events or the like received at a system icon, e.g., with touch-sensitive screens, the connectivity dialog may be activated by tapping on an antenna icon or the like.","To control the radios' power states, when at least one wireless radio is on, the connectivity dialog provides a \u201cTurn Wireless Off\u201d link. In the event that no radios are on, (but at least one radio is present), the connectivity dialog provides a corresponding \u201cTurn Wireless On\u201d link. The user interface determines how to display the connectivity dialog based on various radio power control rules in conjunction with the current power state of the device's radios, e.g., as received from a power manager in the system.","The rules also determine the action to take for commands received at the user interface, e.g., shut down the radios. For example, the \u201cTurn wireless off\u201d link is shown if any of the known radios are on, and when this link is actuated, the known wireless radios in a mobile computing device are automatically turned off by communicating with the power manager. Before turning them off, the power state of each radio is preserved, so that when radios are turned back on, only the radios that were on at the time that the collective shutdown was requested are restored.","More particularly, in the event that known wireless radios (e.g., all of them) are off, a counterpart a \u201cTurn wireless on\u201d link is provided in the connectivity dialog. When the user actuates the \u201cTurn wireless on\u201d link, only those radios that were on prior to shutdown are restored to their on state, which is accomplished by recalling the previously saved power state data. Alternative ways to activate radios are also provided, such as to allow a telephone to be turned on when needed from a program directed to making telephone calls. Electing to turn on the telephone may also automatically result in other (e.g., previously on) radios being turned on, in a collective restore operation.","A further improvement provided by the method and system of the present invention allows the user to control the state of each radio individually. In one implementation, a settings user interface, such as accessible via a link on the connectivity dialog, provides on\/off radio buttons and checkboxes that enable the selective control of radio power state. Each checkbox corresponds to a listed wireless radio. The \u201cOn\u201d radio enables the checkboxes for interaction, while the \u201cOff\u201d button disables the checkboxes. The selected\/deselected state of each radio is displayed in the checkboxes, even when disabled. When the checkboxes are set as desired by the user, clicking an \u201cOK\u201d button controls the actual state of the radios.","In this manner, the present invention facilitates rapid and convenient control of radio operation in a number of scenarios. Other advantages will become apparent from the following detailed description when taken in conjunction with the drawings, in which:","Exemplary Operating Environment",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1","b":["120","122","124","126","128","124","130","124","122"]},"One or more application programs  are loaded into memory  and run on the operating system . Examples of applications include email programs, scheduling programs, PIM (personal information management) programs, word processing programs, spreadsheet programs, Internet browser programs, and so forth. The handheld personal computer  may also include a notification manager  loaded in the memory , which executes on the processor . The notification manager  handles notification requests, e.g., from the application programs . Also, as described below, the handheld personal computer  includes networking software  (e.g., hardware drivers and the like) and network components  (e.g., a radio and antenna) suitable for connecting the handheld personal computer  to a network, which may include making a telephone call.","The handheld personal computer  has a power supply , which is implemented as one or more batteries. The power supply  may further include an external power source that overrides or recharges the built-in batteries, such as an AC adapter or a powered docking cradle.","The exemplary handheld personal computer  represented in  is shown with three types of external notification mechanisms: one or more light emitting diodes (LEDs)  and an audio generator . These devices may be directly coupled to the power supply  so that when activated, they remain on for a duration dictated by a notification mechanism even though the handheld personal computer processor  and other components might shut down to conserve battery power. The LED  preferably remains on indefinitely until the user takes action. Note that contemporary versions of the audio generator  use too much power for today's handheld personal computer batteries, and so it is configured to turn off when the rest of the system does or at some finite duration after activation.","Wireless Radio Power Control","In general, the present invention is capable of being used on any mobile device having remote communications capability, such as the example mobile telephone  of  or the example handheld computing device  of , e.g., a PocketPC device.  represents an example mobile telephone , with a touch-sensitive display  arranged to interface with a user in accordance with the present invention. The mobile telephone  typically also includes some suitable number of hardware buttons (e.g., buttons -) that receive user input to perform various functions, possibly including radio power control in keeping with the present invention as described below.","As also described below, a connectivity dialog , shown in the form of a pop-up bubble, provides a user interface that facilitates working with network connections, e.g., displayed with current status  on the display . In one implementation, the connectivity dialog  may be activated by tapping on an antenna\/signal strength indicator . Note that  represents one such connectivity user interface dialog  (corresponding to the user interfaces ,  and  of ) by which the user is able to perform connectivity-related operations, such as to make a connection. Other aspects of this notification dialog are described in U.S. patent application Ser. No. 10\/292,613, entitled \u201cConnectivity Notification Displaying Path to Connection,\u201d filed Nov. 12, 2002, assigned to the assignee of the present patent application and hereby incorporated by reference.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 3","FIG. 1","FIG. 3","FIG. 2","FIG. 3"],"b":["300","120","302","304","308","200","320","320","332","220","320"]},"To interact with the user interface, as represented in the example architecture  of , in general, when the display  is contacted, (which includes devices in which sufficiently close proximity to the screen is sensed even if not actually contacted), a touch screen mechanism  provides coordinates in the form of pen events to an operating system pen component . In turn, the operating system pen component (or components)  determine the underlying meaning of the location that has been contacted, that is, what action to take based on what icon, window, and so on presently corresponds to the contacted location. In this manner, the user is able to contact the displayed antenna\/signal strength meter (e.g.,  of ) to obtain the connectivity user interface , and interface with that user interface's underlying code component , as displayed via operating system display components .","In accordance with an aspect of the present invention, there is provided improved user interfaces and methods to selectively or collectively control the power (on\/off) state of the various wireless radios in a mobile computing device, which is often desirable for power consumption purposes and\/or regulatory reasons. Note that as used herein, the terms \u201cwireless\u201d and\/or \u201cradio\u201d refer to any type of transceiver mechanism that it is desirable to selectively control, including cellular telephone radios, wired devices and other types of transceivers, such as infrared.","To control the radios' power states, when at least one wireless radio is on, the connectivity dialog provides a \u201cTurn Wireless Off\u201d link, represented in  as links and , respectively. In a preferred implementation, if there are no wireless devices to disable, the link is not shown. In the event that at least one radio is present but no radios are on, as represented in , the connectivity dialog  provides a corresponding \u201cTurn Wireless On\u201d link . Note that for purposes of clarity, the example connectivity dialog of  will primarily be described with respect to  and the reference numerals therein, particularly in a state in which no radios are on, however it is understood that in these examples, the dialogs displayed on the devices of  generally operate in the same way, (when at least one radio is on). For example, the user can also interface with the dialog  to actuate a \u201cSettings\u201d link , which takes the user directly to a connection manager user interface settings user interface  (); the settings user interface  can also be accessed via a corresponding link  or  . The settings user interface  and other aspects of the connectivity dialog  are described below with reference to the flow diagrams of .","Note that in the examples including that of , a drop-down connectivity bubble  is shown as being invoked by tapping an icon, however the present invention can utilize virtually any notification-like user interface, such as a dialog or message box, and\/or other actuation mechanisms including a pointer click. For example, in an alternative implementation on a device referred to as the Smartphone, this link is also provided, however in the Smartphone, the \u201cTurn Wireless Off\u201d link may become accessible by pressing the power button. Other activation mechanisms are feasible, such as an acutable link arranged as a hardware button, e.g., on a PocketPC device.","In the example implementation represented in , the user interface component  determines how to display the connectivity dialog based on a radio power control rules mechanism  () which knows (or can obtain) the current power state  of the device's radios -. For example, the system preferably includes a power management component (power manager)  that the radio power control rules mechanism  can call (e.g., via an API layer ) to obtain the information and\/or control the radios -. As can be appreciated, the rules mechanism  may be incorporated into the connectivity user interface component , however in  the radio power control rules mechanism  is shown as separate from the user interface component . Note that another program , (such as a telephone-related program of ), is also shown communicating with the radio power control rules mechanism  and power manager, which represents the ability to control radio power programmatically, and not only by the user interface .","As described above, the \u201cTurn wireless off\u201d link () is shown if any of the known radios are on. When this link is actuated, all of the known wireless radios in a mobile computing device are automatically turned off. Note that as used herein, any active radios are turned off by this operation, while others can be considered as turned off, even if not actually turned off because they were already off. To this end, as represented in the example system of , when the link () is actuated, the user interface \/rules mechanism  communicates with the power manager  of the system, which turns off the various wireless radios -. Note that it is alternatively feasible to have the user configure the operation of the device to turn off only certain ones of the radios, and\/or to perform additional actions in response to actuation of this link. Further, as described below, clicking this link will save the current on\/off state of each of the radios as saved radio state data , as the state existed before turning off those that were on.  represents the radio power control rules mechanism  saving the state data  to a data store.","In the event that known wireless radios (e.g., all of them) are off, a counterpart \u201cTurn wireless on\u201d link is provided in the dialog . By saving and recalling the state data , when the user wants to turn the radios -back on, only those that were on prior to shutdown may be restored by clicking this link. Note that as described below, the user can manually turn other radios on, such as via the settings dialog , however in this implementation, convenience is provided by restoring the previous state when turning radios on after a collective \u201cturn off\u201d command. If there is no saved state data , all the known radios may be turned on, or possibly some lesser amount as pre-configured by the user or by default settings.","In an alternative operating state, represented in , in which the device (which is not necessarily a smart mobile telephone) runs a telephone program (e.g., the program of  having a displayed user interface  in ) so as to provide telephone services, another, more specific drop-down dialog may be displayed when the telephone radio is off. For example, because the operating system knows that the active (focused) program is the phone program , the operating system can provide a more selective dialog  when the \u201cdisconnected\u201d antenna icon  is tapped. In this example, because the user is operating in a telephone mode rather than a general system mode, the more specific dialog bubble  appears to let the user turn the phone on when it is off by clicking the \u201cYes\u201d button. Clicking the \u201cNo\u201d button hides the bubble without turning any radios on. A counterpart Yes\/No \u201cturn off\u201d bubble (not shown) can appear in this mode as appropriate when the phone is on, to let the user turn the phone off.","Thus, as represented in , if the device's phone is off, and the user performs an action that requires the phone to be on, the user receives a prompt to turn the phone on and complete the call. This may be in the form of the notification\/prompt bubble  as represented in , which also may be shown when the user tries to initiate a data connection that uses the phone. Note that it is also feasible to have a state (e.g., as configured by the user) to automatically turn the phone on without prompting, although a safety mechanism may be desirable so that the user does not turn the phone on at the wrong time, such as when radio interference restrictions are present.","Although represented in a telephone scenario,  also represents an automatic way to facilitate enabling of other radios when appropriate. For example, if the user originally turned the phone off using the collective \u201cTurn wireless off\u201d link, the system may be configured such that clicking a \u201cYes\u201d response restores the previous state of the other radios, as well as turning the phone on, that is, an assumption is made that if the user clicked \u201cTurn wireless off\u201d earlier, he or she would like the previous radio state restored when placing a phone call. Alternatively, if the user has only turned the phone off, only the phone will be turned back on. These assumptions may be overridden by enabling the user to override such default settings. Further, note that a similar prompt to that of  can be used for other wireless devices, e.g., a user performing an action that needs access to the internet can receive a similar yes\/no prompt, which may also automatically turn on other radios in a collective restore operation.","While the above-described collective switch is thus highly convenient, the on\/off link only allows the user to control the state of the radios as a whole, simultaneously. A further improvement provided by the present invention allows the user to control the state of each radio individually, e.g., for battery saving purposes. To this end, the present invention provides benefits in other scenarios by enabling the selective turning off of certain of the radios. For example, a user may want to turn off only the phone, such as to avoid receiving phone calls, but not the other radios so that wi-fi connectivity is still available, such as in a meeting where the user does not want to receive calls, but needs wi-fi connectivity. Although it is feasible to turn the ringer off, some users may prefer to turn the phone off, e.g., because this would extend battery life. Also, to save battery life, a user may prefer that a phone turn off rather than roam in analog mode. This also may be programmatically controlled, so that an external application may turn on\/off a selected radio. A user may also selectively want to turn off wi-fi off only, such as to avoid wi-fi hacking, and\/or to save power with integrated wi-fi, such as when wi-fi is ordinarily not used by that particular user. Note that as wi-fi becomes cheaper, more devices will have integrated wi-fi, and if on by default, some users will want to turn it off. Other users may want to save battery life at certain times, whereby turning off wi-fi would be desirable. Additionally, a user may also selectively want to turn off Bluetooth\u2122, although Bluetooth\u2122 has a separate on\/off switch, and is off by default. However, at times a Bluetooth\u2122 user may not want to connect to other Bluetooth\u2122 devices, or may not want to be discoverable. Also, a user may want to selectively turn off Bluetooth\u2122 to save battery life.","In one implementation, the settings user interface  of  provides on\/off radio buttons  and checkboxes  that enable the selective control of radio power state. As described above, from the connectivity dialog  the user can click the settings link  () to have the settings user interface  displayed for interaction. In an alternative to obtaining the settings dialog  via the connectivity dialog's settings link , the settings dialog may be exposed in a Control Panel, Power user interface, such as under a \u201cwireless\u201d tab, e.g., the user interface  of  may be made to appear by selecting a \u201cControl Panel\u201d user interface, then selecting a \u201cPower\u201d user interface, and from there selecting a \u201cWireless\u201d tab.","As represented in , in general, the \u201cOn\u201d radio button will enable the checkboxes  for interaction, while the \u201cOff\u201d button will disable (e.g., gray-out) the checkboxes . As described below, the selected\/deselected state of each radio is displayed in the checkboxes even when disabled, and clicking the \u201cOK\u201d button  controls the actual state of the radios. The rules for the settings user interface  are further described below, and with particular reference to .","In general, the settings user interface  lists the radios in a listview that can display some number of entries (e.g., up to six) before scrolling, along with their status. If there are no radios, the \u201cWireless signals off\u201d radio button is selected. When a detached wireless device (e.g., a plug in card) is inserted into the computing device, the wireless device is turned back on automatically, independent of any previous setting. If any wireless device is removed while the user is in this wireless dialog, the radios are enumerated through the power manager , whereby the item is removed from the display.","When the settings user interface  is displayed, if the known radios are off, the \u201cWireless signals off\u201d radio button is selected and the checkbox list  is disabled. If there is a saved radio state (from the user changing to \u201cWireless signals off\u201d earlier), the saved state is shown in the checkboxes , even when disabled. If any of the known radios are on, the \u201cWireless signals on\u201d radio button is instead selected and the checkbox list  is enabled. Note that Bluetooth\u2122 already may have its own on\/off switch elsewhere on the device. If Bluetooth\u2122 is on or discoverable, the checkbox is checked. If the user un-checks it, Bluetooth\u2122is set to off. If Bluetooth\u2122 is off and the user checks the box, Bluetooth\u2122 is set to on.","If the user manually un-checks the radios and selects the \u201cOK\u201d button , the user has effectively switched to the wireless off mode. Therefore, the switch to the wireless off mode is automatically made, and the state of the radios when the user originally entered this tab is saved. This lets the user quickly turn all the wireless devices back on with the \u201cTurn wireless on\u201d link , of the connectivity bubble , as described above.","It should be noted that other transmission mechanisms, such as an infrared transceiver  () or even wired connections, may also be selectively turned off in a similar manner by the present invention, e.g., to save battery power. In such a situation, these other transmission mechanisms may be listed in the setting user interface  with a corresponding checkbox.","Note that for extensibility, the present invention provides a method for a third party to identify their radio to the system, so that a third party radio can be turned on\/off in the same manner as others that are known to the system. A hardware switch may also be provided to duplicate this functionality, e.g., where the actuation method may comprise \u2018press and hold\u2019 or \u2018press.\u2019 In this event, the user interface will similarly reflect the state changes resulting from actuation of the hardware button. Thus, as used herein, any type of hardware switch such as a button or combination of buttons, however actuated (e.g., by a press or press and hold) that can change the power state of the radios will be considered a \u201clink\u201d (equivalent to a displayed actuable link), and actuation thereof will result in the user interface displaying the appropriate state of the radios in response to the actuation.","In this manner, the present invention facilitates rapid and convenient control of radio operation in a number of scenarios, such as when necessary to avoid radio interference, e.g., when upon an airplane or in a hospital. For example, cellular phones, Bluetooth\u2122, and wi-fi radios are not presently allowed to operate on airplanes, whereby the present invention facilitates turning such radios off, (although of course the user should carefully verify that all such radios are turned off when required, not just some, or that one or more radios are inadvertently turned back on).","Turning to an explanation of the operation of the present invention with particular reference to the flow diagrams of , the logic generally depicted beginning at step  of  begins when the connectivity notification bubble (e.g., ) has been selected, such as by tapping on the antenna\/signal meter (e.g.,  of ) as described above. Step  tests whether any wireless radios -are on. If so, the process branches to step  of  as described below, otherwise step  branches to step . Step  represents the \u201cno radios on\u201d state, in which the user interface displays the connectivity notification dialog  with the \u201cTurn wireless on\u201d link , and also represents waiting for the user to enter (e.g., tap) a command. Note that such commands received at the dialog  may be events and handled as such by event handlers, but for purposes of the present explanation, the commands are shown in  as being evaluated in an overall process, in some arbitrary evaluation order that is generally not significant. Further, in the present explanation, there may be other possible commands (e.g., cancel via a hardware cancel button) that are not described for purposes of simplicity.","Step  represents an evaluation of whether the command that was received corresponds to the \u201cTurn wireless on\u201d link having been actuated. If so, step  branches to step  which tests for whether saved state information  exists, (e.g., indicating which of the radios were previously on before the shutdown). If saved state  exists, the state is used to selectively restore those radios that were on at step , otherwise the radios may be turned on to match some default state (e.g., turn all radios) via step . After turning the radios on, the connectivity notification dialog may be removed from the display (hidden) via step . Alternatively, the connectivity notification dialog may be left on, e.g., for awhile, or indefinitely until manually hidden.","Returning to step , if the command was not the \u201cTurn wireless on\u201d link to turn on the radios, step  branches to step , which represents testing for other possible commands. Step  represents the test for whether the command resulted from the actuation of the settings link , which if so, causes the process to change to the settings user interface handling process of , as described below. If not, step  branches to step , which represents evaluating whether the command resulted from the actuation of a hide button . If so, the process branches to step  to hide the connectivity notification dialog . Otherwise the command was (in this limited example) a request for making a connection from the dialog , which is handled via step . Note that as represented herein, step  may display the status of the connection attempt, and branch back to step  to restart the displaying of the connectivity notification, which, if the attempted connection was successful, would result in the process branching via step  to .","Returning to step , if any wireless connection exists due to one of the radios being on, step  branches to step  of . Step  represents the user interface component displaying the connectivity notification dialog (e.g.,  of ) with the \u201cTurn wireless off\u201d link , and waiting for a command. Step  represents testing whether the command that was received corresponds to the \u201cTurn wireless off\u201d link having been actuated. If so, step  branches to step  which turns off all known radios -, which may be selectively to turn off only those that are on, or issuing one or more turn off requests to the power manager  regardless of the actual radio states. After turning the radios off, the process returns to step  of  to hide the connectivity notification dialog, although as described above, the dialog may alternatively remain, at least for awhile.","Returning to step , if the command was not based on actuation of the \u201cTurn wireless off\u201d link, step  branches to step , which represents testing for other possible commands, e.g., the \u201cHide\u201d command at step , which if actuated returns to step  of  to hide the connectivity notification dialog, or the \u201cSettings\u201d command, which if actuated branches to , step . If not the \u201cSettings\u201d command in this limited example, step  is executed, which represents some connection-related activity, such as to make (e.g., turn on) a connection that is off, or turn off a connection that is on. Step  represents handling this activity, which for example may provide a prompt to toggle the state of a connection, after which the process returns to step  of , to update the connectivity notification dialog based on whether at least one radio is on, and await another command.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIGS. 10-12","FIG. 6","FIG. 6","FIG. 6"],"b":["660","1000","1000","1002","664","1004","664","1004","1014","660","520","1016","660","1002","1004","1016"]},"Returning to step , if no wireless radios are on, step  instead branches to step , which selects the \u201cWireless signals off\u201d radio button, (e.g., fills in the circle of the \u201coff\u201d button and clears the circle of the \u201con\u201d button), and disables the checkbox list  (e.g., including graying it out to indicate disabled to the user). Step  then tests for whether any previous state  is saved for radios which had been on. If not, step  puts a default state (e.g., no radios on) into the (disabled) checkboxes , otherwise step  puts the saved state  as into the checkboxes. As described above, step  hides the connectivity notification (if displayed), and step  displays the settings user interface , as configured via step  and step  or , and waiting for a settings-related command.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIGS. 11 and 12","b":["1100","662","1100","1102","1104","664","1104","664","1112","660"]},"Returning to step , if the command was not a radio button , step  represents testing whether one of the checkboxes  was tapped. If so, step  toggles the setting of the one that was tapped, and continues to step  to redisplay the settings user interface  to update the checkbox change, and await another command. If not, step  branches to step  of  to otherwise process the command.","Step  represents handling the \u201cOK\u201d button . In this limited example, the \u201cOK\u201d button  is the only other command described, however in , the user can perform other options, such as to scroll the display, tap a \u201cGeneral\u201d tab (or tap a \u201cSettings\u201d tab), and so on. Step  generally represents the handling of these other commands, which can be handled in a typical manner (and although not shown, may return to step  to await another command). In the event that the \u201cOK\u201d button  was tapped, step  branches to step  to test whether the \u201cWireless signals off\u201d radio button is selected. If so, step  turns off the known radios -, step  saves the current state as indicated in the checkboxes  as the saved state , and step  hides the settings user interface  before ending the process.","If at step  the radio buttons  indicated a \u201cWireless signals on\u201d state when the \u201cOK\u201d button is tapped, step  controls each radio to match its setting as indicated in the checkbox list . Note that it is possible for the user to tap the \u201cOK\u201d radio button with all of the known radios manually unchecked. This is treated as if the user has effectively switched to the \u201cwireless off\u201d mode, however if so, steps  bypasses step  and thereby preserves the previously saved state  of the radios, to maintain the state as it was when the user originally entered this user interface . Doing so lets the user quickly restore the state via the connectivity notification dialog's \u201cTurn wireless on\u201d link . Alternatively, if at least one checkbox is checked when the \u201cOK\u201d button is tapped, step  saves the current state in the checkbox list  over the previous state . Step  hides the settings dialog  and ends the process.","In sum, quickly and conveniently turning off all radios (e.g., when instructed to avoid interference) is a highly desirable feature, as is turning radios back on. To this end, the \u201cTurn wireless off\u201d and \u201cTurn wireless on\u201d links () are provided, which appear in a connectivity dialog based on the power state of the known radios. The \u201coff\u201d link is shown whenever at least one radio is present that can be disabled (which in the present example include the phone, wi-fi, and Bluetooth\u2122) radios. Clicking this \u201coff\u201d link will save the on\/off state of the current radios, then turn off any that are on. This functionality will work with add-on or integrated radios.","Note that original equipment manufacturers (OEMs) may wish to place a hardware button that mimics the behavior of the \u201cTurn wireless off\u201d link, since the OEMs control the button and drivers. An application programming interface (API) may also be provided to facilitate this behavior. The actuation method may be \u2018press and hold\u2019 or \u2018press\u2019, with the OEM specifying which hardware button, e.g., \u2018press and hold\u2019 an \u2018End\u2019 key or a separate power key.","As can be appreciated, virtually any mobile device having a radio and battery may benefit from the present invention. For example, on a Smartphone or PocketPC with a phone, when the user clicks \u201cTurn wireless off,\u201d the on\/off state of Bluetooth\u2122 may be stored, and the phone and Bluetooth\u2122 turned off. When the user clicks \u201cTurn wireless on,\u201d the on\/off state of Bluetooth\u2122 is restored, and the phone turned on.","In one implementation, wireless radios will be enumerated and shut off\/on as described below, whether for integrated or add-on wireless radios. New radios are thus able to participate in both the \u201cTurn wireless off\u201d switch and the new \u201cWireless\u201d power control panel dialog, described above. Enumeration and shut off\/on may be accomplished differently for the different types of radios.","For example, integrated phone and Bluetooth\u2122 radios may use the existing mechanisms to be enumerated and shut down, e.g., Bluetooth\u2122 add-on cards that utilize a Bluetooth\u2122 stack can be easily controlled. Notwithstanding, such existing mechanisms may also be controlled by conforming to the system's power management scheme. In general, power manager implements an abstract interface that radios can call into to be notified that they are to be shut down or started up. For example, in one implementation, other wireless radios, including wi-fi, can be turned on\/off by conforming to Microsoft\u00aeWindows\u00ae CE Power Manager Specifications, including writing registry keys to become discovered as radios. A define registry entries key enables the advertising of a GUID that Power Manager recognizes as a \u201cradio class,\u201d which can be accomplished by using AdvertiseInterface( ) or by adding this GUID to the IClass REG_MULTI_SZ value in their configuration registry key. If the device is disabled or removed, this is to be found out via the Power Manager, and control not attempted of that wireless radio.","Devices that ship with integrated wireless devices should preinstall the proper registry keys, and IHVs can write the registry keys when their drivers load. For Power Manager to recognize this radio class, a new GUID may be added to the HKEY_LOCAL MACHINE registry entry: HKLM->SYSTEM->CurrentControlSet->Control->Power->Interfaces.","Note that other alternatives for the text of the \u201coff\u201d link (with corresponding \u201con\u201d text) are also feasible, including, \u201cTurn signals off,\u201d \u201cTurn communications off,\u201d \u201cTurn wireless off\u201d (as shown in ), \u201cTurn all wireless off,\u201d \u201cAirplane mode on\u201d (note that airplanes are often the cause for a user needing to turn all radios off, in contrast to the power saving case, in which the user may simply press the master power button and assume radios are off, even when they are not), \u2018Turn phone off,\u201d and\/or \u2018Turn connectivity off.\u201d","Examples of some alternative implementations and user interfaces are also represented in . For example,  shows a connectivity user interface  in the form of a bubble, in which it is possible to turn off the Wireless Card via a \u201cWireless card\u201d link  in the bubble . If the user clicks the Wireless card link , it turns the wireless card off. Note however that it may be more difficult to turn the wireless card back on, since the line with \u201cThe Internet\u201d will not be present when the card is off. However, instead of removing the internet link when there is no connection, a special link indicating that the Internet is disconnected, and enabling the wireless card to be turned on, instead may be provided.",{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIGS. 14 and 15"},"As can be seen from the foregoing, the present invention provides a master switch comprising a top-level user interface entry point by which a user may turn off or on a mobile device's radios in a single operation via a power manager. Further, the device's radios may be individually controlled by turning them on or off via the power manager. If the radios are in a mixed state (that is, some off, some on) and the user turns them all off using the master switch, the prior state may be saved and restored when the master switch (link) is used to turn the radios back on. An abstract layer (e.g., API) is also provided that radio vendors can use to have their radios be recognized and controlled by the power manager, which abstracts various methods for turning such radios on or off into one function. The systems and methods of the present invention thus provide significant advantages and benefits needed in contemporary computing.","While the invention is susceptible to various modifications and alternative constructions, certain illustrated embodiments thereof are shown in the drawings and have been described above in detail. It should be understood, however, that there is no intention to limit the invention to the specific forms disclosed, but on the contrary, the intention is to cover all modifications, alternative constructions, and equivalents falling within the spirit and scope of the invention."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 8-12"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIGS. 13-15"}]},"DETDESC":[{},{}]}
