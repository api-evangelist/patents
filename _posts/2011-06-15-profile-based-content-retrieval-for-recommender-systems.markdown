---
title: Profile based content retrieval for recommender systems
abstract: The present invention relates to an apparatus, a method and a computer program product for controlling a recommender system, wherein a user profile normally used by a recommender to predict user ratings is employed to generate a targeted query for the remote database yielding a set of results that can be scored by the recommender and provided as suggestions to the user.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09477783&OS=09477783&RS=09477783
owner: Funke Digital TV Guide GmbH
number: 09477783
owner_city: Berlin
owner_country: DE
publication_date: 20110615
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF EMBODIMENTS"],"p":["This application is the U.S. National Stage of International Application Number PCT\/EP2011\/059885 filed on 15 Jun. 2011 which was published on 22 Dec. 2011 under International Publication Number WO 2011\/157729, and which claims priority to European patent application 10165989.4 filed on 15 Jun. 2010, said European patent application is hereby incorporated by reference.","The present invention relates to an apparatus, a method, and a computer program product for controlling a recommender system for content retrieval.","Hard-disk drives and digital video compression technologies have created the possibility of time-shifting live television (TV) and recording a large number of TV shows in high quality without having to worry about the availability of tapes or other removable storage media. At the same time, digitalization of audiovisual signals has multiplied the number of content sources for an average user. Hundreds of channels are available using a simple parabolic antenna and a TV receiver. Huge amounts of video clips are published daily on the Internet across various services, and all major content producers are already making their entire content libraries available online. As a consequence, thousands of potentially interesting programs are made available every day and can be recorded and stored locally for later access.","However, in view of this enormous amount of offered content items, individual content selection becomes an important issue. Information that does not fit to a user profile should be filtered out and the right content item that matches a user's needs and preferences (e.g. a user profile) should be selected.","Recommender systems address these problems by estimating a like-degree of a certain content item for a certain user profile and automatically ranking the content item. This can be done by comparing a content item's characteristics (e.g. features, metadata, etc.) with a user profile or with similar profiles of other users. Thus, recommender systems can be seen as tools for filtering out unwanted content and bringing interesting content to the attention of the user.","The use of recommender technology is steadily being introduced into the market. Among various examples, websites offer a recommender to support users in finding content items (e.g. movies) they like, and electronics devices (e.g. personal video recorders) use recommender for automatic filtering of content items. Recommender systems are increasingly being applied to individualize or personalize services and products by learning a user profile, wherein machine learning techniques can be used to infer the ratings of new content items.","Recommenders are typically offered as stand-alone services or units, or as add-ons (e.g. plug-ins) to existing services or units. They increasingly appear in consumer devices, such as TV sets or video recorders. Recommenders typically require user feedback to learn a user's preferences. Implicit learning frees the user from having to explicitly rate items, and may by derived by observing user actions such as purchases, downloads, selections of items for play back or deletion, etc. Detected user actions can be interpreted by the recommender and translated into a rating. For example, a recommender may interpret a purchase action as positive rating, or, in case of video items, a total viewing duration of more\/less than 50% may imply a positive\/negative rating.","An example of a recommender is presented in US 2008 0104127 A1. There, a media guidance system is described which is capable of recommending content items to a user based on their relevancy. For retrieving content items, the system generates search criteria first, which are derived from personalisation data that have been generated by monitoring user behaviour and\/or by receiving explicit user preferences. For instance, the search criteria can be the string: \u201cSilvester Stalone\u201d, if the personalisation data yield that the user likes this actor. Such search criterion is sent to a media information data base for retrieving matching content items. Matching content items are rated and, if the rated items are relevant, are eventually recommended to the user.","Grossly speaking, there are two types of recommender systems, those based on a community of users and those based on metadata.","The first type is known as collaborative filtering, where either (i) members of the community are characterized by the ratings they give to items or (ii) items are characterized by the ratings they receive from the members of the community. These characterizations are next used to define similarity among users or items, respectively. For a specific member of the community and a specific item that has not yet been rated by this member, these similarities are used to infer for this member a rating for this item by combining ratings of similar users or similar items, respectively.","The second type of recommender systems uses available metadata about items, which typically comes in the form of features and associated values or lists of values. The rating history of a user is exploited to build a profile of this user in terms of feature-value pairs, indicating for these pairs a like-degree. For a new item that has not yet been rated by this user, its metadata is used, and the like-degrees of each feature-value pair present are combined to obtain an overall rating. A simple, but popular algorithm in this context is called naive Bayes, and it employs Bayesian classification.","Users of personal video recorders would like to have access to any content available, independently of its source. No matter whether the content will be broadcast (and thus listed in an electronic program guide (EPG)), or is available in a video-on-demand library or somewhere else on the Internet, users would like to have access to it and a recommender system should be able to provide recommendations for videos independently from its location or source. Independently of its type, whether it is based on collaborative filtering or is content-based, a recommender system needs to have access to all the items for which a recommendation has to be generated. For example, a recommender for a video-on-demand library needs to access all the items of the video-on-demand library to be able to calculate for each item the probability that a given user would like it, and ultimately to select a list of top rated items.","However, filtering entire databases and rating all items based on a user profile does not work for very large distributed databases, not only because it is inefficient and not scalable, but especially because it requires access to all the items of all the databases for which recommendations have to be generated.","It is an object of the present invention to provide an efficient control for recommender systems, which enables recommendations for items of remote databases without having to access all items of the database.","This object is achieved by an apparatus as claimed in claim , a method as claimed in claim , and a computer program product as claimed in claim .","Accordingly, the user profile normally used by the recommender to predict user ratings is employed to generate a targeted query for the content sources yielding a set of results that can be scored or rated by the recommender and provided as suggestions to the user. The feature-value pairs extracted from the user profile are used to compose a targeted query to be sent to the content sources. The results are merged and rated by the recommender to provide a list of recommended, highly relevant items. Consequently, the re commender system does not need to have complete access to entire databases or other types of content sources to produce relevant recommendations.","A feature selector is provided for selecting from the feature-value pairs extracted by the feature-value extractor those feature-value pairs which are most discriminative for said user profile. Thereby, the query can be restricted to most discriminative feature-value pairs.","The feature selector is adapted to use a Relief algorithm, e.g. the Relief algorithm described in by Kira, K., & Rendell, L. (1992): The feature selection problem: Traditional methods and a new algorithm, Proceedings of the 10th National Conference on Artificial Intelligence, San Jose, Calif., July 12-16, 129-134 or a variation thereof for selecting the most discriminative feature-value pairs. Thereby, an efficient selection procedure can be provided.","According to a second aspect, which can be combined with the above first aspect, the composing of the query and the rating of the results may be iterated until a predetermined number of relevant content items has been obtained.","According to a third aspect, which can be combined with the above first or second aspect, if there are several discriminating values associated to a single feature, then this provides the advantage that different features can be turned on and off during query composition, so that, in an iterative fashion, the resulting set of items can be controlled. This can be generalized to multiple features and the system can keep track of which values of the same or different features lead to the best results and prioritize them to improve the query composition step and reduce the number of iterations required.","According to a fourth aspect, which can be combined with any one of the above first to third aspects, the feature-value extractor may be adapted to extract feature-value pairs based on at least one of positive and negative user ratings. Thereby, queries that include and\/or exclude feature values can be composed.","According to a fifth aspect, which can be combined with any one of the above first to fourth aspects, the query composer may be adapted to expand the query using a thesaurus or an ontology.","According to a sixth aspect, which can be combined with any one of the above first to fifth aspects, the query composer may be adapted to extend the query to categories other than those of the user profile. Thus, cross-domain recommendations can be provided.","According to a seventh aspect, which can be combined with any one of the above first to sixth aspects, the user profile may have been derived from the recommender system.","According to an eighth aspect, which can be combined with any one of the above first to seventh aspects, co-occurrences of feature-value pairs may be counted and only those feature-value pairs with a sufficient co-occurrence count may be combined in the query. Thereby, the number of unsuccessful query attempts can be reduced.","It is noted that the above apparatus can be implemented as discrete hardware circuitry with discrete hardware components, as an integrated chip, as an arrangement of chip modules, or as a signal processing device or computer device or chip controlled by a software routine or program stored in a memory.","Embodiments of the present invention will now be described based on an exemplary recommender system which generates ratings on content items, such as books, TV programs, movies, etc.",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 1","b":["103","103","103","105","105","107","107","107","109","107","111","111","113","115","103","115","113","115","113"]},"Additionally, the first embodiment is adapted to provide recommendations for items of the content sources  (e.g. remote databases) without having to access all the items of the database, provided that a respective database of the content sources  has a query interface. The basic idea is that the user profile  normally used by the recommender engine  to predict user ratings is employed to generate a targeted query for the content sources  yielding a set of results that can be scored by the recommender engine  and provided as suggestions to the user.","For example, for a user who likes martial arts movies, the system automatically extracts from the user profile feature values that stand out, i.e., have a high like-degree. In case keywords are used as desired features, then such feature values may be \u201cmartial arts\u201d, \u201ckarate\u201d, or cast names like \u201cBruce Lee\u201d, or \u201cChuck Norris\u201d. The feature-value pairs are then used to compose a query to be sent to an entire list of the content sources  (e.g. video search engines and video-on-demand libraries). The results are merged and rated by the recommender engine  to provide a top N list of recommended relevant items.","To achieve this, the recommender system according to the first embodiment comprises a feature-value extractor or extraction function (FVE)  which is configured to access and analyze the user profile  to extract feature-value pair combinations that stand out, e.g. that have high positive or negative ratings. Optionally, an additional feature selector or selection function (FS)  may be provided so as to use only a top number of feature values of the set of results, which are most discriminative for a certain user profile. Here, high negative ratings may be employed as well to select feature values to be excluded in the query.","The user profile analysis performed by the feature-value extractor  and optional feature selector  is followed by a query composer or composing function  which receives the extracted feature-value pairs and composes a query using the given feature-value pairs obtained from the user profile analysis. The composed query is then submitted to the content sources .","The operation of the apparatus of  will now be described. Information data of a current content item to be played out on a personalized content channel is gathered from the content sources  or via other means, e.g., via transmission in the vertical blanking interval of an analogue TV broadcast signal or via digital video broadcast (DVB) transport streams, or combinations of any of the above. The content item may be a TV program, data stream containing video and\/or audio data or a segment of a program etc.","The information data may comprise a plurality of attributes and attribute values associated with the content item such as title, actors, director and genre. Each profile  is based on the information data together with data indicating the \u201clike\u201d or \u201cdislike\u201d of the user. The rating of a \u201clike\u201d and \u201cdislike\u201d can be based on feedback or content items that pass the associated pre-selection filter . This feedback can be given as explicit rating by the users that use the particular personalized content channel. The ratings can be made in several ways. For example, the user can, using a remote control device, indicate for a currently selected content item or a given attribute of the current content item his rating (\u201clike\u201d or \u201cdislike\u201d) by pressing appropriate buttons on a user interface (e.g. the remote control device) whilst bearing the current content item. Alternatively, the behaviour of the user can be observed. For example, if the user watches a current content item for more than a predefined time interval (for example, 20 minutes), this could automatically indicate \u201clike\u201d. In a more advanced setting, a \u201clike\u201d degree on a discrete or continuous scale can be provided or calculated instead of just a binary \u201clike\u201d or \u201cdislike\u201d classification.","When information data of a content item passes the filter , this information data is forwarded to the recommender engine  which calculates a biased \u201clike\u201d degree or rating, based on its associated user profile , for this subsequent content item. The information data associated to the subsequent content item is then forwarded, along with the computed rating, to the scheduler , which subsequently computes recording schedule that will be used to schedule the recording of content items offered by the recommender engine  onto the storage device . In particular, the scheduler  may primarily consider the content items of high like degree or rating while still considering sufficient new content for each personalized content channel. To this end, the recording schedule computed by the scheduler  is used to instruct the scheduler  to select the content items available from a respective one of the content sources  to record them on the storage device .","Use or user profiles can be derived using three basic methods: implicit profiling; explicit profiling; and feedback profiling. Implicit profiling methods derive content use profiles unobtrusively from the user's use histories, e.g., sets of TV shows watched and not watched. Explicit profiling methods derive content use profiles from user's answered questions as that include explicit questions about what the user likes and dislikes. Feedback profiling methods derive use profiles from content items for which a user has provided ratings of the degree of like or dislike.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 2"},"The first step \u201cuser profile analysis\u201d consists of analyzing the user profile to extract feature-value pair combinations that stand out most. These can be feature-value pairs with a high number of positive ratings when compared with other feature-value combinations, and can be achieved by the feature-value extractor  and optional feature selector  of .",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 3","FIG. 3","FIG. 2","FIG. 1"],"b":["118","103"]},"In the third step the query is submitted to a set of search engines or databases that contain possibly relevant items. It is noted that different queries can be submitted to different search engines or databases of the content sources  to comply with different formats and application programming interfaces (APIs). The results are then retrieved and merged to form one list of related items. From this list, items that the user has already seen or has previously black-listed can be removed. The remaining items are then rated in the fourth step by the recommender engine  from which the first user profile  was derived. The result is a sorted list of related items with those items at the top that have a high probability of being liked by the user. The list of rated items is then ready to be presented to the user in the fifth step of the procedure.","The steps \u201cquery composition\u201d, \u201cquery submission and retrieval of results\u201d, and \u201crating of items according to user profile\u201d may be iterated until a sufficient number of highly rated relevant items has been obtained. At each iteration, a different set of feature-value pairs could be used starting with a rich set defining a very specific query that may lead to too few results and removing feature-value pairs, thus making the query less specific, to obtain more results. In the example above, a first query [\u201cJapan\u201d \u201cKarate\u201d \u201cMartial arts\u201d \u201cTokyo\u201d] may return 164 results on a video database, a second query, [\u201cJapan\u201d \u201cKarate\u201d \u201cMartial arts\u201d], without the keyword \u201cTokyo\u201d may returns 1180 results, and a third query, [\u201cJapan\u201d \u201cKarate\u201d], without the keywords \u201cTokyo\u201d and \u201cMartial arts\u201d may return 5760 results.","Alternatively, it is possible to keep track of co-occurrences of feature-values (feature values that appear in the same item) and preferably make only those combinations where the co-occurrence count is sufficiently high to reduce the number of unsuccessful query attempts.","When multiple feature-value pairs corresponding to the same feature are used, as in the examples above, where the feature-value pairs all correspond to the feature \u201ckeyword\u201d, at each iteration, the query corn position can turn on and off different features. For example, one query could be generated using \u201ckeyword\u201d feature values and another one using e.g. \u201ccast\u201d feature values. The system can keep track of which features lead to the best results and prioritize them to improve the query composition step and reduce the number of iterations required.","According to a second embodiment, the recommender system may be modified to use only the top N features discovered by using a feature selection procedure which may be performed at the optional feature selector  of . The top N features may be the features that are the most discriminative for a certain profile.","An example of such a feature selection procedure may be the Relief algorithm which is based on feature weighting. The diagonal elements of a projection matrix are allowed to take real-valued numbers, instead of binary ones. This enables the employment of some well-established optimization techniques and allows for efficient algorithm implementation. Among the existing feature weighting algorithms, the Relief algorithm, as described for example in K. Kira and L. A. Rendell, A practical approach to feature selection, Proc. 9th Int, Conf. Mach. Learn., (1992), pp. 249-256, is considered one of the most successful ones due to its simplicity and effectiveness. It has been recently shown that the Relief algorithm is an online algorithm that solves a convex optimization problem aimed at maximizing a margin-based objective function. The margin is defined based on the one-nearest-neighbour classifier. Compared with filter methods, the Relief algorithm usually performs better due to the performance feedback of a nonlinear classifier when searching for useful features. Compared with conventional wrapper methods, by optimizing a convex problem, the Relief algorithm avoids any exhaustive or heuristic combinatorial search, and thus can be implemented efficiently. As an extension of the first and second embodiments, also negative ratings of the user profile can be employed to create queries that exclude results with feature values corresponding to the negative ratings (e.g., [\u201cJapan\u201d \u201cKarate\u201d \u201cMartial arts\u201d \u201cTokyo\u201d exclude:\u201cIndia\u201d]).","The query composition step performed by the query composer  of  can also include an optional \u201cquery expansion\u201d operation that expands the query based on the given feature-value pairs using e.g. a thesaurus or an ontology. This can be employed also to prevent terminology mismatches among databases.","It is noted that the search can be extended to items of different categories than the original profile. For example, information on books can be retrieved from e.g. from an online store and suggested based on a TV viewing profile (cross-domain recommendation).","It is noted that the present invention can be applied to any recommender system for set-top boxes, TV sets, mobile phones, personal digital assistants (PDAs), personal computers (PCs), personal video recorders (PVRs), audio systems (including portable audio), Internet services (including audio and video services), and all devices where recommenders are used to collect, filter, and present content items from multiple sources to their users. The invention is thus not restricted to recommenders of television or film content, but can be applied to music, theatre shows, books and all types of products and services for which recommenders can be built.","In summary, an apparatus, a method and a computer program product for controlling a recommender system have been described, wherein a user profile normally used by a recommender to predict user ratings is employed to generate a targeted query for the remote database yielding a set of results that can be scored by the recommender and provided as suggestions to the user.","While the invention has been illustrated and described in detail in the drawings and the foregoing description, such illustration and description are to be considered illustrative or exemplary and not restrictive. The invention is not limited to the disclosed embodiments. From reading the present disclosure, other modifications will be apparent to persons skilled in the art. Such modifications may involve other features which are already known in the art and which may be used instead of or in addition to features already described herein.","Variations to the disclosed embodiments can be understood and effected by those skilled in the art, from a study of the drawings, the disclosure and the appended claims. In the claims, the word \u201ccomprising\u201d does not exclude other elements or steps, and the indefinite article \u201ca\u201d or \u201can\u201d does not exclude a plurality of elements or steps. A single processor or other unit may fulfil at least the functions of  based on corresponding software routines. The computer program may be stored\/distributed on a suitable medium, such as an optical storage medium or a solid-state medium supplied together with or as part of other hardware, but may also be distributed in other forms, such as via the Internet or other wired or wireless telecommunication systems. The mere fact that certain measures are recited in mutually different dependent claims does not indicate that a combination of these measures cannot be used to advantage. Any reference signs in the claims should not be construed as limiting the scope thereof."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The invention will now be described, by way of example, based on embodiments with reference to the accompanying drawings, wherein:",{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
