---
title: Signaling transport converter
abstract: For transmitting data in a communication network between a signaling entity and a peer signaling entity through a transport layer, such as TCP, a signaling transport converter STC on TCP is disclosed. The STC on TCP provides a signaling transport service for a connection between the signaling entity and the transport layer and comprises an interface to the signaling entity and an interface to the transport layer. The STC on TCP processes data to be exchanged between the signaling entity and the transport layer for a transparent transfer of the data to the peer signaling entity by means of the TCP transport layer. For providing a transaction-oriented data transport service, the STC on TCP may include a Message Wrapper which delineates a TCP based message stream and encapsulates/decapsulates the data to be exchanged.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07433368&OS=07433368&RS=07433368
owner: Nokia Corporation
number: 07433368
owner_city: Espoo
owner_country: FI
publication_date: 20040525
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF PREFERRED EMBODIMENTS"],"p":["1. Field of the Invention","The present invention relates to a signaling transport converter and\/or to a system and\/or method of transmitting data in a communication network between a signaling entity and a peer signaling entity through a transport layer by using such a signaling transport converter.","2. Related Prior Art","In the last years, the implementation and usage of data and telecommunication networks, i.e. of wire based networks, such as, for example, the Integrated Services Digital Network (ISDN), or wireless networks, such as, for example, the cdma2000 (code division multiple access) system, cellular 3generation communication networks, the Universal Mobile Telecommunications System (UMTS), the General Packet Radio System (GPRS), the Wireless Local Area Network (WLAN), increased all over the world. Various organizations, such as the ITU-T (International Telecommunication Union\u2014Telecommunications), the 3Generation Partnership Project (3GPP), 3Generation Partnership Project 2 (3GPP2), Internet Engineering Task Force (IETF), and the like are working on standardization for such networks.","In general, the system structure of a communication network is such that a user equipment, such as a mobile station, a mobile phone, a fixed phone, a personal computer (PC), a laptop, a personal digital assistant (PDA) or the like, is connected via transceivers and interfaces, such as an air interface, a wired interface or the like, to an access network subsystem. The access network subsystem controlling the communication connection to and from the user equipment comprises components such as Base Transceiver Stations (BTS), Radio Network Controllers (RNC) and the like which are connected via an interface to a corresponding core or backbone network subsystem. The core (or backbone) network subsystem switches the data transmitted via the communication connection to a destination, such as another user equipment, a service provider (server\/proxy), or another communication network. The core network subsystem may be connected to a plurality of access network subsystems. The respective network structure may vary, as known for those skilled in the art and defined in respective specifications, for example, for UMTS, GSM and the like.","Generally, for properly establishing and handling a communication connection between network elements such as the user equipment and another user terminal, a database, a server, etc., one or more intermediate network elements such as support nodes or service nodes are involved. Data, such as voice, multimedia, control signaling data and the like, are transmitted, for example, by means of a packet based data transmission. One example for a utilized packet based data transmission protocol is the Internet Protocol (IP).","An indispensible requirement for such telecommunication networks is a reliable transport of the control signaling between network elements. However, due to the fact that different types of transport protocols may be used, and due to the stack-like structure of the utilized protocols, the signaling transport between network entities requires special means and\/or services provided in the nework structure.","One type of solution for providing a signaling transport service for signaling entities in a communication network is specified by the standardisation body ITU-T in the form of a so-called Signaling Transport Converter (STC). The STC is specified in the series ITU-T Q.2150.x, specifically in ITU-T Recommendation Q.2150.0 \u201cGeneric Signalling Transport Service\u201d, ITU-T Recommendation Q.2150.1 \u201cSignalling Transport Converter on MTP3 and MTP3b\u201d (MTP: Message Transfer Part), ITU-T Recommendation Q.2150.2 \u201cSignalling Transport Converter on SSCOP (Service Specific Connection Oriented Protocol) and SSCOPME (Service Specific Connection Oriented Protocol Multilink or Connectionless Environment)\u201d, and ITU-T Recommendation Q.2150.3 \u201cSignalling Transport Converter on SCTP (Stream Control Transmission Protocol)\u201d.","In general, the STC is used to exchange ATM (Asynchronous Transfer Mode) signaling messages with peer signaling entities and to receive information about the conditions of the signaling network. The introduction of the STC in the telecommunication network structure makes the transport layer independent of the application layer by means of which the reliability of the transport link for data transmission is increased. In other words, the concept of STC makes a signaling application independent of its transport layers. One major benefit of this concept of STC is that a change of the transport protocol used for the signaling transport does not require a modification of the signaling application itself.","According to the ITU-T standard, all variants of STC provide the same services to the signaling application by a well-defined interface. In , an exemplary overview of the existing STC standards and the underlying transport protocols according to the ITU-T Recommendations is shown ( is based on an excerpt from ITU-T Q.2150.0 \u201cExample protocol stacks for the Generic Signalling Transport Service\u201d (FIG. -\/Q.2150.0)).","In detail, reference signs  to  denote the respective transport layers defined by the respective protocols. Additionally, the respective specifications or sources of the protocols is given, i.e. ITU-T Recommendations Q.704 and Q.2210 for MTP3 and MTP3b, respectively, ITU-T Recommendations Q.2110 and Q.2111 for SSCOP and SSCOPMCE, respectively, and IETF Request for Comments (RFC) 2960 for SCTP. Reference signs 106 to 108 denote the STCs defined by the ITU-T Recommendations Q.2150.x mentioned above which are linked to their respective transport layer(s) by means of commonly known interfaces. Via these interfaces, information elements or primitives are transmitted between the STCs and the transport layers which are described, for example, in the ITU-T Q.2150.x and thus not explained in detail at this point. On the other hand, the STCs  to  are linked to respective signaling entities (not shown in ) via another interface. Over this interface, also information elements or primitives are transmitted to and from the STCs. For the connection between the STC and the signaling entity, a Generic Signaling Transport service according to ITU-T Q.2150.0 is used by means of which the idiosyncrasy of the underlying signaling transport mechanism must not be considered by the signaling application.","However, there may be a problem concerning the compatibility of the existing STC concepts to recent or future implementations of network elements. For example, in case of a BTS which is internally based on an IP architecture between the transport and baseband part, the implementation of the existing STC solutions may be problematic or they are even not applicable. According to the structure of such BTS, the Transport part connects the standard Iub\/ATM interface to the internal IP architecture. For the control of the IP streams for the user traffic at point-to-point connections, an inter-node protocol and nodal functions are required, which may be based, for example, on an IP connection control signaling defined by ITU-T Recommendation Q.2631.1 \u201cIP connection control signalling protocol Capability Set 1\u201d. Such an IP connection control signaling is in particular selected to control the IP streams for the user traffic with respect to the Open BTS Architecture Initiative (OBSAI), which specifies vendor independent interfaces between BTS modules.","Currently, according to ITU-T, when an IP transport is used in the architecture of a BTS, for example, the IP connection control signaling uses services provided by the \u201cSTC on Stream Control Transmission Protocol (SCTP)\u201d according to ITU-T Recommendation Q.2150.3. According to RFC 2960 \u201cStream Control Transmission Protocol\u201d, the SCTP is \u201cdesigned to transport PSTN signaling messages over IP networks, but is capable of broader applications. SCTP is a reliable transport protocol operating on top of a connectionless packet network such as IP. It offers the following services to its users:\n\n","The design of SCTP includes appropriate congestion avoidance behavior and resistance to flooding and masquerade attacks.\u201d","Thus, when applying SCTP in the interface between the transport and baseband part of a BTS, in particular in case of a BTS being internally based on an IP architecture between the transport and baseband part, there may arise a problem in that SCTP is not optimized with respect to such network components as SCTP provides many not needed services which in turn consume a lot of resources. Furthermore, SCTP components may show some difficulties with respect to reliability and availability as SCTP has been specified in October 2000, and updated in September 2002, which may lead to unwanted problems in the implementation phase due to not yet discovered compatibility problems. In other words, the maturity and availability of SCTP is not ensured.","Thus, the present invention aims to provide a new solution for a signaling transport service and\/or STC by means of which a reliable signaling transport between signaling entities is possible while the implementation thereof can be effected easily and with a low risk of compatibility problems.","This is achieved by the measures defined in the appended claims.","According to one aspect of the proposed solution, there is provided, for example, a system for transmitting data in a communication network between a signaling entity and a peer signaling entity through a transport layer, the system comprising signaling transport converter means for providing a signaling transport service for a connection between the signaling entity and the transport layer, wherein the signaling transport converter means comprises an interface to the signaling entity and an interface to the transport layer, and is adapted to process data to be exchanged between the signaling entity and the transport layer for a transparent transfer of the data to the peer signaling entity by means of the transport layer.","Furthermore, according to one aspect of the proposed solution, there is provided, for example, a signaling transport converter usable for transmitting data in a communication network between a signaling entity and a peer signaling entity through a transport layer, and providing a signaling transport service for a connection between the signaling entity and the transport layer, wherein the signaling transport converter comprises an interface to the signaling entity and an interface to the transport layer, and is adapted to process data to be exchanged between the signaling entity and the transport layer for a transparent transfer of the data to the peer signaling entity by means of the transport layer.","Moreover, according to one aspect of the proposed solution, there is provided, for example, a method of transmitting data in a communication network between a signaling entity and a peer signaling entity through a transport layer, the method comprising a step of providing a signaling transport service for exchanging data by means of connecting the signaling entity and the transport layer, wherein the step of providing the signaling transport service comprises substeps of receiving and transmitting data to be exchanged between the signaling entity and the transport layer in a signaling transport converter, processing the data to be exchanged between the signaling entity and the transport layer in the signaling transport converter, and transparently transferring the data to the peer signaling entity by means of the transport layer.","According to further refinements, the proposed solution may comprise one or more of the following features:\n\n","By virtue of the proposed solutions, the following advantages can be achieved:\n\n","In the following, a preferred embodiment of the invention is described with reference to .","In , the general structure of a signaling transport mechanism using a signaling transport converter (STC) is shown. Reference signs  and  denote respective signaling entities using a respective signaling protocol.","Reference signs  and  denote signaling transport converters (STC). The signaling entity  is connectable to the STC  via a STC application part interface (API) . The signaling entity  is connectable to the STC  via a STC application part interface (API) . The signaling entity  and  may be, for example, AAL (ATM Adaption Layer) type  signaling entities or IP connection control signaling entities. Reference sign  denote a signaling transport layer via which signaling data or messages can be transmitted between the signaling entities  and . The signaling transport layer is connected to the STC  and  through signaling transport API  and , respectively.","Generally, the STC enables a signaling entity  to communicate with a peer signaling entity , for example, independently of the underlying signaling transports. In that way it is quite easy to replace the underlying signaling transport.","The signaling protocol entity may use the Generic Signaling Transport service according to ITU-T Q.2150.0, which is provided by the STC. Conceptually, there exists one STC entity per signaling association. Information elements or primitives as well as parameters transmitted between the signaling entities and the Generic Signaling Transport entity are given in the following Table 1 which is based on the ITU-T Q.2150.0 Recommendation.",{"@attributes":{"id":"p-0036","num":"0061"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Primitives and parameters of the Generic Signaling Transport"},{"entry":"sublayer"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["Primitive","Type"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"35pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Generic Name","Request","Indication","Response","Confirm"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["START-INFO","\u2014","Max_length","\u2014","\u2014"]},{"entry":[{},{},"CIC_Control"]},{"entry":["IN-SERVICE","\u2014","Level","\u2014","\u2014"]},{"entry":["OUT-OF-","\u2014","(Note 1)","\u2014","\u2014"]},{"entry":"SERVICE"},{"entry":["CONGESTION","\u2014","Level","\u2014","\u2014"]},{"entry":["TRANSFER","Sequence","STC User","\u2014","\u2014"]},{"entry":[{},"Control","Data"]},{"entry":[{},"STC user","Priority"]},{"entry":[{},"Data","(Note 3)"]},{"entry":[{},"Priority"]},{"entry":[{},"(Note 2)"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":"= This primitive is not supported"},{"entry":"Note 1:"},{"entry":"This primitive has no parameter"},{"entry":"Note 2:"},{"entry":"Sequence Control and Priority may be not supported"},{"entry":"Note 3:"},{"entry":"Priority may be not supported"}]}}]}}},"Generally, the STC state machine at this interface (i.e. between the signaling entity and the STC) knows about three states:\n\n","It is to be noted that the above mentioned interface may be specified according to ITU-T Q.2150.0. In this specification, the indication \u201cLevel\u201d is described as a parameter indicating the level of congestion. This variable can hold the values from a level indicating \u201cno congestion\u201d through to a level indicating \u201cmaximum congestion\u201d in increments. The value for indicating \u201cno congestion\u201d and \u201cmaximum congestion\u201d as well as the number of steps of congestion level and\/or amount of increase\/decrease are considered to be network implementation dependent. The meaning of the \u201cLevel\u201d parameter in the IN_SERVICE is similar to that in CONGESTION. A difference may be that CONGESTION is usable if the level value changes, while IN_SERVICE is used when the connection recovers from Out of Service, for example.","On the establishment of a signaling transport converter entity and the associated signaling transport converter user entity (i.e. of the signaling entity), for example at a power up, the initial condition is the same as if an OUT-OF-SERVICE.indication primitive had been conveyed across this service access point (SAP). Also at this time the START-INFO.indication is sent to the signaling entity. Regarding the interface between the STC and the signaling entity as well as the information elements or primitives used thereon, further details are equivalent to those defined in ITU-T Q.2150.0 so that a detailed description thereof is omitted.","Referring to , a preferred embodiment of a STC applicable in the signaling transport mechanism according to  is shown. In this , a so-called STC on TCP (Transmission Control Protocol) is defined. Reference sign  denotes a signaling application (or signaling entity). Reference sign  denotes the signaling transport converter on TCP. The STC on TCP  further includes a sub-component  which is also referred to as a message wrapper unit (or Message Wrapper). Reference sign  denotes a TCP layer as a transport layer for transporting data to and from the signaling application  via the STC on TCP . For the connection between the signaling application  and the STC on TCP , an interface  is provided which establishes a link for fulfilling the requirements according to the ITU-T Q.2150.0 Generic Signaling Transport service. On the other hand, for the connection between the STC on TCP  and the TCP layer (or entity) , an interface  is provided which establishes a link for fulfilling the requirements according to the TCP Transport service.","For the function of STC on TCP , the ITU-T Q.2150.0 Recommendation is applicable. The specific STC behavior and its interface to TCP and Message Wrapper  are specified in the following.","First, the structure of the STC on TCP  sublayer is described in further detail. The sublayer providing the STC  resides on top of the Transmission Control Protocol (TCP) layer . It employs the services provided by the TCP according to RFC 793 \u201cTransmission Control Protocol\u201d. Furthermore, STC on TCP  provides the service that is requested by the Generic Signaling Transport service according to ITU-T Q.2150.0. Additionally, a message-oriented structure may be added by the STC on TCP  into the TCP payload. The latter function is performed by the STC sub-component Message Wrapper  shown in .","In the following, also with reference to , the interactions between the STC  and the signaling protocol entity , the interactions between the STC  and the TCP layer , the services provided by the Message Wrapper sub-component , and the interactions between the STC  and a layer management (it is to be noted that layer management primitives are not included in ) will be described.","First, with reference to , a flowchart is described which defines a general procedure for a data transmission by using the STC on TCP  of . After starting the procedure, for example, at a power up and the establishment of the STC entity and STC user entity, the STC  receives data (step S). Then, in step S, it is decided from which direction the data are received, i.e. either from the transport layer  (TCP) or the signaling application . This decision may be based, for example, on a determination of the interface  or , over which the data are received.","In case the decision in step S results in a receipt of data from the signaling entity , in step S, the data are processed for preparing a transmission thereof to the destination point (i.e. the peer signaling entity). The processing of step S may be at least partly performed by the message wrapper unit  and may comprise, for example, a delineation, encapsulation and the like, which will be described below. Then, in step S, the processed data are transmitted through the interface  to the TCP layer in order to effect a transparent transmission thereof to the peer signaling entity. Thereafter, the STC is ready to repeat the procedure.","It is to be noted that at the receiving end (i.e. at the peer signaling entity side) another STC on TCP entity may be provided for receiving the data transported via the TCP layer.","On the other hand, when in step S the receipt of data from the TCP layer  is determined, step S follows in which the received data are processed for being transmitted to the signaling entity  (destination point). The processing of step S may be at least partly performed by the message wrapper unit  and may comprise, for example, decapsulation and the like, which will be described below. Then, in step S, the processed data are transmitted through the interface  to the signaling entity . Thereafter, the STC is ready to repeat the procedure.","Next, the services provided by the STC on TCP  are explained in greater detail. The STC  provides for the transparent transfer of data, i.e., signaling application  (also referred to as STC user) data between peer STC users  and  (). The supporting communication resources to achieve this transfer stay invisible to the signaling application.","In particular, the STC service provides for an independence from the underlying signalling bearer protocol. This means that the STC service relieves its users from all concerns of the manner in which the STC service is provided. Except for possible influences of the quality of service, the transfer of data over different underlying networks is, thus, invisible to the STC user.","Additionally, the STC service provides for a transparency of the information to be transferred (or exchanged). This means that the STC service provides for the transparent transfer of octet-aligned STC user data between peer STC users. Regarding the function of the Message Wrapper sub-component , which will be further described below, it adds a record marking (also referred to as \u201cmarker\u201d) to delineate messages to the stream-oriented nature of TCP. Even though this may influence the conveyance of messages, this is invisible for the STC user. In detail, the Message Wrapper  is adapted to encapsulate STC user data in a transmit direction before a transfer to TCP sublayer and to decapsulate TCP data in a receive direction before transfer to STC user .","Additionally, it is to be noted that push facility is to be used so as to ensure that a complete message is transferred via TCP at once and as early as possible.","Furthermore, the STC on TCP  may be applicable for the management of associations. In detail, the STC service may provide for a permanent connection service. As the underlying service (i.e. TCP ) needs to have a signaling association established, the STC  establishes and maintains this connection on behalf of its user (signaling application ); the user may be informed about the availability\/unavailability of the data transfer service.","In the following, the functions of the STC on TCP  are described in further detail. The STC  performs the following functions:\n\n","With regard to the message wrapper unit , additionally the following Message Wrapper services may be used:\n\n","This is based on the introduction of the record marking (or marker) by the message wrapper unit .","In addition, the following TCP services may be used:\n\n","The latter TCP services may also be supplemented by the following TCP services:\n\n","For the layer-to-layer communication between the different entities and sub-components, i.e. between the signaling entity , the STC on TCP , the Message Wrapper , and the TCP layer , several elements and\/or primitives are required which are described herein below. Primitives between the STC  and the signaling protocol entity  as well as the information flow across the STC \u2014signaling protocol entity  boundary is represent in Table 1 indicated above.","Primitives between the STC  and the TCP layer (or entity)  as well as the information flow across the STC-TCP boundary may be based, for example, on those defined in RFC 793, section 3.8, and are therefore not explained here in greater detail. A concrete usage of the primitives at this boundary are described below in connection with the definition of the procedures of the STC.","Primitives between the STC  and Message Wrapper  as well as the information flow across the STC-Message Wrapper boundary are shown in Table 2. In this table, the abbreviation MW refers to \u201cMessage Wrapper\u201d, the abbreviation ENCAP refers to \u201cencapsulation\u201d, and the abbreviation DECAP refers to \u201cdecapsulation\u201d.",{"@attributes":{"id":"p-0061","num":"0105"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 2"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Primitives and parameters between the STC and Message"},{"entry":"Wrapper"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"77pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Primitive","Attributes","Return values"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["MW-ENCAP.request","STC user data","STC user data + Message"]},{"entry":[{},{},"Wrapper protocol control"]},{"entry":[{},{},"information"]},{"entry":["MW-DECAP.request","Received TCP data","Reassembled STC user"]},{"entry":[{},{},"data"]},{"entry":[{},{},"Status (Note 1)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":"NOTE 1:"},{"entry":"Status can be one of the following:"},{"entry":"STC user data (signaling message) available. In this case the reassembled STC user data are handed over to STC."},{"entry":"STC user data reassembly ongoing, no handover of data to STC."},{"entry":"STC user data reassembly error, no handover of data to STC and affected data are discarded."},{"entry":"Whether layer management is informed about an reassembly error can be specified depending on implementation requirements."}]}}]}}},"Furthermore, primitives between the STC  and a layer management (not shown) as well as the information flow across the STC-Layer Management boundary are to be defined. The repertoire of primitives between STC and layer management is listed in following Table 3.",{"@attributes":{"id":"p-0063","num":"0107"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 3"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Primitives and parameters between the STC and layer management"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Primitive","Attributes","Content"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["MSTC-TCP-",{},"Mapped from"]},{"entry":["COMMUNICATION_UP.",{},"TCP-"]},{"entry":["Indication",{},"COMMUNICATION_UP."]},{"entry":[{},{},"indication (Note 1)"]},{"entry":["MSTC-TCP-","Cause","Mapped from"]},{"entry":["COMMUNICATION_LOST.","(Note 3)","TCP"]},{"entry":["indication",{},"COMMUNICATION_LOST."]},{"entry":[{},{},"Indication (Note 2)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":"NOTES"},{"entry":"TCP-COMMUNICATION_UP.indication represents, depending on the TCP implementation, the return value or the indication generated by TCP that informs the served user about availability of the TCP connection."},{"entry":"TCP-COMMUNICATION_LOST.indication represents, depending on the TCP implementation, one or many indications generated by TCP that inform the served user about unavailability of the TCP connection."},{"entry":"Cause is an optional attribute that is used to report the reason for the loss of TCP connection"}]}}]}}},"In the above table 3, the definition MSTC is used to denote that these STC primitives are exchanged with the Layer Management. Layer Management is a concept that comprises the Management functions and services for a particular protocol layer such as configuration parameters and alarms.","Next, protocol elements for the Peer-to-Peer Communication (i.e. for the communication between the signaling entities  and  of , for example) are described.","A STC PDU, as depicted, for example, in , may be used to exchange signaling messages, STC User Data, and the like, between STC user peer entities via TCP\/IP under involvement of the Message Wrapper . Generally, the format of the STC PDU according to  includes several octets 1 to N and comprises a Message Wrapper protocol control information  as well as STC user data , or the like. The Message Wrapper protocol control information  may comprise a Marker field comprising 16 octets, for example, and a Length field comprising 4 octets, for example. The Marker is usable to separate the respective messages from each other. The value of Length includes the number of octets of the Message Wrapper Control information as well as the number of the STC user data. According to the embodiment, the length of such a signaling message is not limited to a certain length. The maximum achievable length of such a signaling message is determined by the number of octets dedicated to the Length field. In the present embodiment, a value of four octets is used for the Length field. However, it is to be noted that with other underlying layers than TCP, e.g. SSCOP, the length of such a signaling message may not exceed the maximum length indicated in a Max_Length parameter. In case of STC\/TCP, such a parameter is not necessary. The STC  invoking the Message Wrapper  adds the Message Wrapper protocol control information to the message. If the length of the whole PDU exceeds the discovered path MTU size, then a fragmentation\/reassembly functionality may be provided by the TCP.","As another element for the Peer-to-Peer communication, there may be provided one or more STC timers which are required by the STC entity. According to the embodiment, the STC timer comprises a timer referred to as Timer_DELAY. When this timer is running, the TCP service is unavailable. By means of this, an unnecessary consumption of resources can be avoided if a TCP association could not be established or has been released. The expiry of this timer leads to a re-establishment attempt of the TCP association. The timer value is described below.","The following STC parameters are specified at creation of a new STC entity and they are unchanged during the lifetime of the STC entity: a) STC_DTA: The value of this parameter specifies the remote destination transport IP address and port number, used by the STC entity to initiate a TCP connection.\n\n","Furthermore, there is one STC parameter that is calculated once during the lifetime of the STC entity. This parameter is STC_LCN, which contains the Local Connection Name the TCP entity associates to a connection during establishment.","Next, with reference to , states of the STC  as well as procedures executed by the STC  are described. In detail, an illustration of state transitions for the STC and a description of information elements and\/or primitives which lead to state transitions are given.","First, the states in which the STC  may be are defined, as shown in . The following states are used in the specification of the peer-to-peer protocol. The states indicated therein are conceptual and shall only reflect the general condition of the STC entity in the sequences of primitives and PDU exchanges with its user, peer, and\/or underlying sublayer (i.e. TCP).\n\n","Next, the procedures executed by the STC on TCP  according to the embodiment are described with reference To . In this connection, it is to be noted that different implementations of TCP may lead to differences in its primitives. In the following, a generalized implementation of TCP primitives is given. Other implementation types may comprise differences in some details, while the general principles should be in line with the following description.","First, initial conditions are described. For example, a situation is described how the STC operates, for example, at a power up event. At the power up event, the STC state is STC service unavailable. The STC sends a START-INFO.indication primitive containing the CIC_Control and the Max_Length parameters to STC user. The Max_Length parameter should be set according to the number of octets used in the Message Wrapper Length field. The parameter CIC_Control may be set to 0 in a case where this parameter is not used (such as, for example, in an IP based BTS architecture application). Then, the STC  requests the TCP sublayer to open the TCP connection with an TCP-OPEN.request primitive with active\/passive flag set to active. The destination IP address and port number, local port number is included therein. Then, the STC state changes to STC association establishment state.","When a TCP-COMMUNICATION_UP.indication primitive is received during the STC association establishment state, the STC  may then send an IN-SERVICE.indication primitive to the STC user . Examples for the attributes carried in these primitives are shown in following Table 4.",{"@attributes":{"id":"p-0075","num":"0127"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 4"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Primitives and parameters in open procedure"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Primitive","Attributes","Content"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["TCP-OPEN.request","Destination transport","Value of"]},{"entry":[{},"IP address & port","STC_DTA"]},{"entry":[{},"Local port number","Value of STC_LP"]},{"entry":[{},"Active\/passive flag","\u201cActive\u201d"]},{"entry":["TCP-","Local Connection","To be stored in"]},{"entry":["COMMUNICATION_UP.","Name","STC-LCN"]},{"entry":"Indication (Note 1)"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":"NOTES"},{"entry":"Depending on the implementation there doesn't exist a dedicated TCP-COMMUNICATION_UP.indication but the Local Connection Name (LCN) is the return value of the TCP-OPEN.request."}]}}]}}},"Once the TCP connection is established, the TCP  monitors by default the reachability of its peer in case of absence of data transfer by sending probes. A series of probes is sent a certain time after the last data transfer. In case the peer doesn't answer to any of the probes the TCP connection is terminated.","The functionality can be enabled\/disabled per TCP connection.","The TCP connection timeout is implementation specific and may be for some implementations in the range of hours. Such a huge timeout does not add any value to signaling applications, so that this function may be disabled.","Next, the procedures of the STC on TCP  in case of sending a signaling message is described. It is assumed that the STC state is the STC service available state. Now, upon receipt of a TRANSFER.request primitive from the STC user , the STC invokes MW-ENCAP.request with the signaling message and places the result into an STC PDU. Then, the PDU is transferred to the TCP  using the TCP-SEND.request primitive. The primitive may carry the parameters Local Connection Name (value stored in STC-LCN upon establishment of the TCP connection), Buffer Address and Length.","Additionally a PUSH flag may be set in order to request from TCP  that the data are transmitted promptly to the receiver (i.e. to the peer signaling entity). After completion of the transfer of the data, the state of the STC may remain the STC service available state.","It is to be noted that in case a TRANSFER.request is received when the STC  is in a state other than the STC service available state, i.e. in one of the states STC service unavailable and STC association establishment, the data may be discarded and the STC  remains in the current state without changing (except for the case that the STC state is to be changed due to another event, for example power up and the like). This is indicated by the respective arrows pointing to the same state as the present one.","On the other hand, the procedure in case of receiving a signaling message is as follows. Equivalent to the sending case described above, the STC is in the STC service available state. Upon receipt of a TCP-DATA-ARRIVE.indication primitive from TCP , the STC  requests the retrieval of the STC PDU with a TCP-RECEIVE.request primitive. In this connection, it is to be noted that TCP-DATA-ARRIVE represents an indication generated by TCP to inform the served user about arrival of data. Then the PDU is transferred to the Message Wrapper  using a MW-DECAP.request primitive. It is to be noted that a TCP segment may comprise partial and\/or complete STC user signaling messages.","In case the Message Wrapper  has not completed the reassembly due to outstanding data, no data are handed over to the STC . On the other hand, if the Message Wrapper  has detected an error, the STC  is informed and the affected data are discarded. However, in case the Message Wrapper  has completed the reassembly of the STC user data, the data (one or more STC user signaling messages) is handed over to the STC . As consequence of the latter case, the STC  passes the pure STC user data to the STC user (signaling entity ) by means of a TRANSFER.indication primitive. After completion of the transfer of the data, the state of the STC may remain the STC service available state.","It is to be noted that similar to the above in case a TCP-DATA-ARRIVE.indication is received when the STC  is in a state other than the STC service available state, i.e. in one of the states STC service unavailable and STC association establishment, the data may be discarded and the STC  remains in the current state without changing (except for the case that the STC state is to be changed due to another event, for example power up and the like). This is indicated by the respective arrows pointing to the same state as the present one.","Now, a destination availability procedure is described. On the receipt of an TCP-COMMUNICATION_LOST.indication primitive from the TCP  in one of the STC association establishment state or the STC service available state, the STC  indicates the unavailability of the data transfer to the STC user  with an OUT-OF-SERVICE.indication primitive. Generally, TCP-COMMUNICATION_LOST.indication represents, depending on the TCP implementation, one or many indications generated by TCP that inform the served user about unavailability of the TCP connection. The Layer Management may also be informed in such a case via an MSTC-TCP-COMMUNICATION_LOST.indication primitive (see also Table 3). At the TCP Client\/Server side, the timer Timer_DELAY is started.","Furthermore, in the STC service available state, in order to avoid having half-open TCP connections, the STC , upon receipt of a TCP-COMMUNICATION_LOST.indication primitive from the TCP , may also be adapted to terminate the TCP connection by using a TCP-CLOSE.request or a TCP-ABORT.request primitive.","Then, the state of the STC  is changed to the STC service unavailable state.","On the other hand, upon receipt of a TCP-COMMUNICATION_UP.indication primitive from the TCP , the STC  indicates the availability of the data transfer to the STC user  with an IN-SERVICE.indication primitive (the value of Congestion Level parameter in this primitive is implementation dependent). Timer_Delay is cancelled if running. The Layer Management may also be informed via an MSTC-TCP-COMMUNICATION_UP.indication (not shown in ) primitive. Then, the state of the STC  is changed to the STC service available state.","When the Timer_Delay expires, the STC requests the TCP sublayer  to open the TCP connection with an TCP-OPEN.request primitive, as described in connection with the initial condition. It is to be noted that the congestion notification from the TCP  to the STC  may be implementation dependent. In general, the STC is adapted to handle the congestion event received from TCP and to provide the means to report to the STC user  with a (not shown in ) CONGESTION.indication primitive (comprising a Congestion Level parameter).","Next, the message wrapper unit (or Message Wrapper)  as a sub-component of the STC on TCP  is described in further detail. The functionality of the message wrapper unit  is described also with reference to , in which an example of mapping STC PDUs to transmission control protocol packets is illustrated.","TCP provides both reliable data transfer and strict order-of-transmission delivery of data. However, the stream-oriented nature of TCP is not optimal when messages are to be conveyed. The reason is that applications must then add their own record marking in order to delineate their messages. Furthermore, they must make explicit use of the push facility to ensure that a complete message is transferred in a reasonable time.","According to the embodiment, the above mentioned record marking can be implemented by means of a message wrapper layer or unit . The message wrapper unit  comprises preferably the following functionality:\n\n","Once the \u2018In-Sync\u2019 state is entered (i.e. after the first marker has been found), the message wrapper remains in this state as long as the TCP connection endures since TCP is generally reliable and bytes do not get lost. It is to be noted that the above \u2018Out-of-Sync\u2019 state is only needed as a protection against a flawed implementation. Namely, the other peer entity might induce some spurious bytes, and it is to be preferred to be able to recover from such a situation.","Next, the mapping of STC Protocol Data Units  into TCP segments  is described with reference to . TCP transfers a contiguous stream of octets through the network. It is not necessary for the application to chop the data into basic blocks or datagrams. Such the STC forwards the STC PDU as a contiguous octet stream. If a message is completed and no other signaling message transfer has been requested the STC may invoke the TCP push function to deliver the current message immediately to its peer. It is to be noted that more than one STC PDU may be comprised in one TCP packet.","As described above, for transmitting data in a communication network between a signaling entity and a peer signaling entity through a transport layer, such as TCP, a signaling transport converter STC on TCP is implemented. The STC on TCP provides a signaling transport service for a connection between the signaling entity and the transport layer and comprises an interface to the signaling entity and an interface to the transport layer. The STC on TCP processes data to be exchanged between the signaling entity and the transport layer for a transparent transfer of the data to the peer signaling entity by means of the TCP transport layer. For providing a transaction-oriented data transport service, the STC on TCP may include a Message Wrapper which delineates a TCP based message stream and encapsulates\/decapsulates the data to be exchanged.","It should be understood that the above description of the preferred embodiment as well as the accompanying figures are merely intended to illustrate the present invention by way of example only. The skilled person is aware of possible modifications and variations lying within the scope of the invention, so that the present invention may vary within the coverage area of the attached claims which define the scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0024","num":"0049"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0025","num":"0050"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0026","num":"0051"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0027","num":"0052"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0028","num":"0053"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0029","num":"0054"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0030","num":"0055"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
