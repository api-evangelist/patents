---
title: Digital wireless telephone system for downloading software to a digital telephone using wireless data link protocol
abstract: A digital wireless telephone downloads software related to digital telephone services using a client browser. The digital telephone initiates a data call to an interworking unit via a digital wireless telephone network, using a prescribed wireless data protocol such as IS-95A. The interworking unit recovers the payload of the wireless data packets to establish a two-way data link with the digital telephone. The interworking unit sends data messages to a destination server across a second two-way data link in a packet switched network to establish a two way session between the digital telephone and the destination server. The user of the digital telephone can thus communicate with the server via a two-way application-layer session using hypertext-based messaging. The digital telephone can thus navigate between different servers on the packet switched network for activation of different digital telephone services, and for downloading new software or updating existing software related to the digital telephone services.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06876644&OS=06876644&RS=06876644
owner: Bell Atlantic Nynex Mobile
number: 06876644
owner_city: Bedminister
owner_country: US
publication_date: 20030205
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application is a Con of Ser. No. 09\/123,454 Jul. 28, 1998, now U.S. Pat. No. 6,587,684.","The present invention relates to wireless digital communications systems, and in particular to systems and methods for downloading software to portable wireless digital telephones.","Wireless communication systems are known to comprise wireless communication units, such as in-car mobile and\/or hand-held portable radios, that communicate with each other and a fixed infrastructure using wireless communication resources. Many of the user features provided by such wireless communication units are often based on software programs stored and executed within the wireless communication units. That is, algorithms electronically stored in memories are executed by processing devices, such as microprocessors, to realize certain features.","As existing features are improved and new features are developed for wireless communication units, new versions of software become available with increasing frequency. Users of wireless communication units typically desire to receive the newest versions of updated software as quickly and as efficiently as possible in order to take advantage of the improvements.","Prior art approaches for delivering updated software to wireless communication units are not always convenient and\/or efficient. One method requires a user to bring the wireless communication unit to a central location, such as a service shop operated by a system administrator or service provider. The unit is then either provided with replacement parts containing the updated software (i.e., replacement memory devices) or physically connected to a device that transfers the updated software to the unit. Regardless of how the updated software is actually transferred, this method is both time-consuming and inconvenient to users since they are typically required to bring their unit in for service during normal work hours.","U.S. Pat. No. 5,689,825 to Averbuch et al. discloses an arrangement for downloading software from a server to a wireless terminal via a land-based public communication network using a battery charger\/software downloader. According to Averbuch et al., downloading software via a land-based public communication network and a battery charger\/software downloader has the advantage of minimizing inconvenience to the wireless telephone user. Averbuch et al. also asserts that downloading software via the land-based public communications network is advantageous over receiving updated software wirelessly as a special type of data message. According to Averbuch et al., software versions often comprise many megabytes of data, and thus require extensive use of wireless communication resources to send the updated software to a large number of units.","Digital cellular systems have evolved as a more efficient implementation of wireless communication systems over analog cellular systems. Digital cellular systems typically use time-division multiplexed access (TDMA) or code-division multiple access (CDMA) techniques. Digital cellular communication systems overcome the disadvantages in analog cellular systems, including noise susceptibility and limitations in spectrum efficiency. CDMA systems have been standardized according to TIA\/EIA\/IS-95A (\u201cMOBILE STATION-BASE STATION COMPATIBILITY STANDARD FOR DUAL MODE WIDEBAND SPREAD SPECTRUM CELLULAR SYSTEM\u201d\u20141995), by the Telecommunications Industry Association (\u201cTIA\u201d), the disclosure of which is incorporated in its entirety herein by reference.","With CDMA, each transmitted signal comprises a different pseudorandom binary sequence, also referred to as a pseudonoise (PN) sequence, that modulates a carrier signal, spreading the spectrum of the waveform. Thus, since each CDMA subscriber unit is assigned a unique PN code, a plurality of subscriber stations can send and receive CDMA signals sharing the same frequency spectrum. If these COMA signals were viewed in either the frequency or time domain, the multiple access signals would appear to be superimposed on top of each other. The CDMA signals are separated in the receivers of the base stations or the subscriber stations by using a correlator which accepts only signal energy from the selected binary PN sequence and despreads its spectrum. The CDMA signals from other sources, whose codes do not match the selected binary PN sequence, are not despread in bandwidth and as a result, contribute only to the background noise and represent a self-interference generated by the system. CDMA interference therefore can be controlled, with the goal of increasing system capacity, on the basis of the reduction in signal-to-noise ratio caused by other users within the cellular CDMA system. Thus, a goal in any CDMA system is to limit the power output of transmitters in order to minimize the cumulative system noise caused by the other users in the CDMA system.","The use of CDMA has also been proposed for Personal Communication Services (PCS). A proposed standard for a CDMA PCS system has been submitted by the Joint Technical Committee of the TIA, entitled PN-3384, \u201cPERSONAL STATION-BASE STATION COMPATIBILITY REQUIREMENTS FOR 1.8 TO 2.0 GHz CODE DIVISION MULTIPLE ACCESS (CDMA) PERSONAL COMMUNICATIONS SYSTEMS\u201d, Nov. 3, 1994, the disclosure of which is incorporated herein by reference. The PCS proposed standard PN-3384 specifies enhanced services including transmission rates up to 14.4 kbps for enhanced speech quality, full data services at rates up to about 13 kbps, and simultaneous transmission of voice and data. The CDMA PCS system is adapted to operate in any of the licensed PCS frequency allocations from the FCC, currently assigned at 1930-1990 MHz band for the forward CDMA channel (base station to subscriber), and 1850-1910 MHz for the reverse CDMA channel (subscriber to base station).","Data service capabilities for an IS-95A system are specified in TIA\/EIA\/IS-99 (\u201cDATA SERVICES OPTION STANDARD FOR WIDEBAND SPREAD SPECTRU DIGITAL CELLULAR SYSTEMS\u201d\u20141995), and TIA\/ELA\/IS-707 (\u201cDATA SERVICE OPTIONS FOR WIDEBAND SPREAD SPECTRUM SYSTEMS\u201d\u20141997), incorporated in their entirety herein by reference. These standards specify a circuit switched wireless data protocol used by CDMA cellular mobile stations and base stations to provide modem emulation over the CDMA digital cellular telephone. These standards also define procedures for the interface between the base station and mobile switching center (BS\/MSC), and an Interworking Function (IWF) that converts the data from the wireless data protocol to a format compatible for the public switched telephone network (PSTN).","Hence, digital telephones can serve as wireless modems that send and receive wireless data packets for portable laptop PCs, where the wireless data packets are sent and received by the digital telephones according to a wireless data protocol such as IS-99 or IS-707. In this case, data frames from the laptop PC are output as wireless data packets by the digital wireless telephone to the wireless digital communications system, and wireless data packets received by the digital wireless telephone from the wireless digital communications system are output by the digital telephone to the laptop PC.","Hence, a customer can connect his or her portable laptop PC to the digital CDMA telephone using an RS-232 cable, and configure the dial-up software resident in the laptop PC to set up the laptop PC to send and receive faxes via the digital wireless telephone in the form of wireless data packets. In addition, a user of a laptop PC may use the digital CDMA phone as a wireless modem to dial into an Internet Service Provider (ISP), or a corporate local area network (LAN) to access Internet or intranet services. The digital cellular or PCS system, upon receiving the wireless data call, connects the call to an Interworking Function (IWF) unit, which performs the necessary tasks to process data and fax transmissions into circuit-switched data and digital fax connections via the public switched telephone network. Hence, a user can browse the Internet or send a fax with the laptop PC using the wireless data connection.","The above-described wireless data protocols, however, contemplate use of the digital telephone as a wireless modem for a mobile computer such as a laptop PC, and do not address the problem of downloading upgraded software directly into the digital telephone. In addition, the standards specify only the protocol of the packet data transmitted via the air interface. Hence, transmission and reception of wireless data is typically performed by executing proprietary call processing software embedded in the digital telephone or the IWF unit. The use of proprietary call processing software limits the flexibility of potential application developers in developing improved software for use by the wireless telephones. Moreover, the use of proprietary call processing software in the digital telephone and the IWF unit requires the digital wireless telephone service providers to rely on the vendors of the proprietary software to maintain the digital wireless telephone infrastructure. For example, a proposed standard TIA\/EIA\/IS-683 specifies an over-the-air voice service activation procedure by placing a voice call on a CDMA and\/or analog voice channel. The implementation of new digital wireless telephone services such as over-the-air activation as specified in IS-683 requires modification of the proprietary software in the infrastructure components, including the digital telephones, the mobile switching center, and the IWF, resulting in increased costs and delays in implementing new digital wireless telephone services.","There is a need for an arrangement in a digital wireless communications system for downloading updated software to a digital wireless telephone in a manner that does not unduly burden wireless communications system resources.","There is also a need for an arrangement in a digital wireless communications system for implementing new digital wireless telephone services with minimal modification to existing digital wireless telephone system infrastructure components, including digital telephones.","There is also a need for an arrangement in a digital wireless communications system enabling a user to select and control the wireless upgrading of digital telephone software in the user's digital telephone.","There is also a need for an arrangement enabling a user to establish a two-way application-layer session between the user's digital telephone and a server via a digital wireless transceiver, where the server can download control software associated with digital telephone services to the digital telephone during the two-way application layer session. Such digital telephone services may encompass over-the-air activation of new services, or the enhancement of existing services.","There is also a need for a digital wireless telephone configured for recovering an executable program selected by the user and associated with digital telephone services from a stream of wireless data packets received from a digital wireless telephone network, and storing the executable program in a nonvolatile memory for execution by the digital wireless telephone.","These and other needs are attained by the present invention, where a digital wireless telephone is configured for sending selection inputs supplied by a user to a server via a digital wireless communications system, and receiving downloaded software from the server based on the selection inputs. The digital telephone initiates a data call to an interworking unit via a wireless telephone network, using a prescribed wireless data protocol, to establish a two-way data link with the interworking unit that is independent of the prescribed wireless data protocol. The interworking unit is configured for generating data messages to a destination server via a packet switched network, for example a proxy gateway, via a second two-way data link to establish a two-way session between the digital telephone and the destination server. The user of the digital telephone can then communicate with the server via the two-way session, for example by sending a request for activation of a prescribed service. The server responds to the request by sending (i.e., downloading) control software associated with digital telephone services to the digital telephone during the two-way session. The digital telephone then recovers the control software from the wireless data packets sent via the wireless telephone network and stores the recovered control software in nonvolatile memory.","A particularly beneficial aspect of the present invention is that the digital wireless telephone is configured for executing multiple software resources that interact by exchanging messages across Application Programming Interfaces (API). One example of such a configuration is the Open Systems Interconnect (OSI) model, where different protocol layers in a prescribed hierarchy interact by exchanging data with adjacent layers. Consequently, each software resource of a digital telephone may interact with its own corresponding infrastructure component via the digital wireless telephone network, enabling the establishment of a virtual two-way communication, independent of the wireless data protocol, between the telephone user interface and a server configured for downloading control software to the digital telephone.","One example of the telephone user interface may be a client browser executable by the digital wireless telephone, enabling a user to navigate a private network in order to select the downloading of different control software elements for respective services of the digital wireless telephone network. Use of the client browser in the digital wireless telephone is particularly effective for over-the-air service activation, where the user selects activation of new digital wireless services. During the activation procedure, the user may use the client browser to interact first with a proxy gateway controlling network access based on prescribed security procedures, followed by interaction with an activation server for downloading of control software associated with activation of new digital wireless services. The user may then use the client browser to interact with an update server configured for downloading updated software for digital telephone components, such as operating system, vacatur software, call processing software, transceiver control software, etc., based on revision information received from the digital telephone.","Hence, a digital telephone user may selectively access servers of a private or public packet switched network via the digital wireless telephone network to download to the digital telephone control software associated with digital telephone services. Hence, the user may customize his or her digital telephone programming based on the desired services. Moreover, the invention enables use of an open platform for digital wireless communications, enabling application developers to develop new software applications for new digital telephone services. Digital telephone users can then download the new software applications as they are made available on a server.","Additional objects, advantages and novel features of the invention will be set forth in part in the description which follows, and in part will become apparent to those skilled in the art upon examination of the following or may be learned by practice of the invention. The objects and advantages of the invention may be realized and attained by means of the instrumentalities and combinations particularly pointed out in the appended claims.",{"@attributes":{"id":"P-00030","num":"00030"},"figref":"FIG. 1","b":["10","12","14","14","16","10"],"i":"a "},"As recognized in the art, both TDMA and CDMA wireless communication systems are designed to overcome the severe effects encountered during transmission across the air interface that cause bit errors in digital data. For example, a digitized voice is processed with a plurality of error correction schemes to ensure that the voice quality is not degraded during propagation across the air interface due to factors such as multi-path interference, fading, etc.","According to the disclosed embodiment, the digital wireless transceiver  transmits and receives data streams carrying data packets between the digital wireless telephones according to a prescribed wireless data protocol, such as the above-incorporated CDMA standards IS-95A that use IS-99 and IS-707. Although these standards can be used to configure the digital telephones  as wireless digital modems that send and receive data frames according to CDMA transmission techniques, the disclosed embodiment also uses the wireless data protocol to send and receive data frames for programming the digital telephones .","In particular, the digital wireless telephones  are configured for selectively accessing one or a plurality of servers for activation of digital telephone services, and for downloading of control software associated with the digital telephone services to the digital telephone . As shown in , the system includes an Interworking Function Unit (IWF) , configured for establishing a 2-way communication link with the digital telephone according to a prescribed network layer protocol, such as TCP\/IP protocol. Specifically, the IWF  provides an interworking function, where data packets transmitted by a digital telephone  and received by the BSC  are routed to the IWF  via the MSC  based on dialed digits supplied from the digital telephone . The IWF  is configured for partially decoding the data packets from the wireless data protocol to establish a 2-way communication link with the digital telephone  according to a prescribed network layer protocol, described in further detail below with respect to FIG. . Specifically, the IWF  provides the data functions needed for terminal equipment connected to the wireless CDMA network to interwork with terminal equipment connected to the public switched telephone network . In addition, the IWF  is configured to assign a temporary IP address to the digital telephone , and supply an IP address to the digital telephone  for a proxy gateway server , enabling the digital telephone  to connect to the proxy gateway server  according to TCP\/IP protocol. Hence, the IWF  recovers the TCP\/IP messages from the CDMA data packets transported according to radio link protocol (RLP), and transmits the TCP\/IP messages to the data proxy gateway  according to a prescribed physical layer protocol, for example Ethernet or IEEE 802.3.","The proxy gateway  performs protocol translation of the TCP\/IP messages from the IWF  to recover hypertext transport protocol (HTTP) or hypertext markup language (HTML) protocol messages, generated by the digital telephone . The proxy gateway server  also performs hypertext-based security, for example using public-key encryption algorithms such as Diffe-Hellman encryption, to provide a secure two-way client-server application layer session between the proxy gateway server  and the digital telephone .","In particular, the digital telephone  includes a \u201cthin\u201d client browser configured for sending messages to the proxy gateway server  in response to user inputs and based on display menu items supplied by the proxy gateway server . The thin client browser having a size of about 122 to 200 kilobytes, thus enables the digital telephone  to interact with the proxy gateway server  using hypertext-based messaging. Moreover, the proxy gateway server  selectively controls access by the digital telephone  to additional servers via a packet switched network  and based on validation of security information supplied by the digital telephone. Hence, the digital telephone  may selectively access different servers configured for downloading different control software to the digital telephone based on respective digital telephone services.","As shown in , the proxy gateway server  is connected to a TCP\/IP based packet switched network , such as a private intranet or the Internet. The packet switched network  enables the proxy gateway  to selectively connect the digital telephone  to at least one of a plurality of different servers. Each server in the packet switched network is configured for downloading a particular software for activation or upgrading of a particular digital telephone service. For example, the packet switched network  includes a provisioning server , a revision control server , and a user database  configured for storing mobile user information, described below.","The packet switched network  may also be in communication with a customer service center  of the digital wireless telephone network . The customer service center , also referred to as a business network, is configured for activating new service for new subscribers, and is configured for communications with other systems supporting network operations and billing functions for the network .","For example, the system includes a billing system  for billing subscribers based on airtime usage, and a provisioning system  configured for provisioning network resources based on the activation and deactivation of subscribers' services. The provisioning system  activates new subscribers in response to receiving provisioning requests from the business network  via an information service (IS) network . The IS network  is an internal data network used by customer service representatives to process conventional provisioning requests.","For example, when a customer first obtains service, the customer calls the business office  of the cellular or PCS carrier. During this initial voice call, a customer service representative may request the mobile identification number (MIN) assigned to the digital telephone, and may collect user identity and profile information, including information necessary to establish credit worthiness. The representative will then provide the user with an activation code. The representative also sends a provisioning request to the system , to request activation of the mobile identification number. The provisioning system  processes the provisioning request, and forwards the processed provisioning request via a data network , that converts TCP\/IP messages to Switch System 7 (SS7) messages, to an operation maintenance provisioning (OMP) system . The operations maintenance provisioning system  initializes a home location register (HLR) for identifying the newly-registered subscriber having a valid, active account. As recognized in the art, the OMP system  may also maintain visitor location registers (VLRs), for digital telephones that are roaming within the wireless telephone network . In addition, the OMP\/HLR  are in communication with the MSC  via conventional telephony-based communications links, such as T1 lines . As recognized in the art, the MSC  also connects to the public switch telephone network (PSTN)  via conventional T1 lines .","As described below, the embodiment of  enables the user of the digital telephone  to perform over the air handset activation in accordance with IS-683. The interim standard IS-683 defined an over the air service provisioning procedure for voice service for a CDMA and\/or voice channel. Conventional implementations of this specification would require a software change to the wireless communications infrastructure, including the digital telephones  and the mobile switching center . The disclosed embodiment, however, enables wireless activation and programming of the digital telephone  using the wireless data protocols associated with standard IS-95A, and use of a thin client in the digital telephone  to navigate between the servers , , and\/or  for downloading software for digital telephone operations. As described below, the downloaded software may be for activation of new service, upgrading existing service, or upgrading existing software stored in the digital telephone .","As shown in , the business network  includes a terminal  having a web browser for navigating the packet switched network . Hence, the terminal  enables a customer service representative to interface between existing provisioning systems  of the wireless telephone network , and servers  and  providing direct programming of the digital telephone , via the packet switched network . The terminal  can thus be used to retrieve usage information from the respective servers , ,  related to hosts (i.e., digital telephones ) having accessed the servers to download software or attempt service activation.","Alternately, the terminal  may be used as a network interface for the servers , , and , enabling the servers , , and  to interact with the business network  as needed.",{"@attributes":{"id":"P-00043","num":"00043"},"figref":["FIG. 2","FIG. 2"],"b":["16","20","10","16","14","12","18","20","50","52","54","56","50","50","56"]},"The OSI reference model is not itself a network architecture. Rather it specifies a hierarchy of protocol layers and defines the function of each layer in the network. Each layer in one computer of the network carries on a conversation with the corresponding layer in another computer with which communication is taking place, in accordance with a protocol defining the rules of this communication. In reality, information is transferred down from layer to layer in one computer, then through the channel medium  or  and back up the successive layers of the other computer. However, for purposes of design of the various layers and understanding their functions, it is easier to consider each of the layers as communicating with its counterpart at the same level, in a \u201chorizontal\u201d direction.","The lowest layer defined by the OSI model is called the physical layer , and is concerned with transmitting raw data bits over the communication channel. Design of the physical layer  involves issues of electrical, mechanical or optical engineering, depending on the medium used for the communication channel. The layer next to the physical layer is called the data link layer. The main task of the data link layer is to transform the physical layer , which interfaces directly with the channel medium  or , into a communication link that appears error-free to the next layer above, known as the network layer. The data link layer and the network layer are illustrated in  as a single layer  for convenience. The data link layer performs such functions as structuring data into packets or frames, and attaching control information to the packets or frames, such as checksums for error detection, and packet numbers.","The next higher layer, referred to in  as the upper protocol layers , include the transport layer, the session layer, and the presentation layer, described below. These layers  support communications for the application layer , which includes operating system functions for supporting function calls by high-level programs such as client browsers.","The layers of  are used to enable communications between two nodes according to Transmission Control Protocol\/Internet Protocol (TCP\/IP). Whereas digital telephones to date have served as modems for computers that connected to networks, the present invention uses the digital telephone to directly interact, as a host, to servers on a packet switched network. Hence, the digital telephone  is configured to support network transport protocols, such as TCP\/IP. Hence, a review of TCP\/IP and its routing protocols is necessary to gain an understanding of how the digital telephone  interacts with the servers on the packet switched network .","TCP\/IP was developed by the Department of Defense Advanced Research Projects Agency (ARPA), and was put into government networks such as Arpanet. TCP\/IP enables communication between computers in a local area network, referred to as an intranet, and between computers in the Internet.","Internet is a collection of networks, including Arpanet, NSFnet, regional networks such as NYsernet, local networks at a number of university and research institutions, and a number of military networks. The protocols generally referred to as TCP\/IP were originally developed for use only through Arpanet and have subsequently become widely used in the industry. The protocols provide a set of services that permit users to communicate with each other across the entire Internet. The specific services that these protocols provide are not important to the present invention, but include file transfer, remote log-in, remote execution, remote printing, computer mail, and access to network file systems.","The basic function of the Transmission Control Protocol (TCP) is to make sure that commands and messages from an application protocol, such as computer mail, are sent to their desired destinations. TCP keeps track of what is sent, and retransmits anything that does not get to its destination correctly. If any message is too long to be sent as one \u201cdatagram,\u201d TCP will split it into multiple datagrams and makes sure that they all arrive correctly and are reassembled for the application program at the receiving end. Since these functions are needed for many applications, they are collected into a separate protocol (TCP) rather than being part of each application. TCP is implemented in the transport layer of the OSI reference model.","The Internet Protocol (IP) is implemented in the network layer of the OSI reference model, and provides a basic service to TCP: delivering datagrams to their destinations. TCP simply hands IP a datagram with an intended destination; IP is unaware of any relationship between successive datagrams, and merely handles routing of each datagram to its destination. If the destination is a station connected to a different LAN, the IP makes use of routers to forward the message.","TCP\/IP is based on a 5-layer variation of the 7-layer OSI reference model as follows:\n\n","At the receiving host (e.g., the IWF  and\/or the data proxy gateway ) the layers are stripped one at a time, and their information is passed to the next highest level until it again reaches the application level. If a gateway such as the IWF  exists between the initiating and receiving hosts, the gateway  takes the packet from the physical layer , and passes it through a data link layer  to the IP layer, as is shown in FIG. . As a message is sent from the first host (i.e., digital telephone ) to the second (i.e., gateway ), gateways pass the packet along by stripping off lower layers, readdressing the lower layer, and then passing the packet toward its final destination.","When a message reaches its destination network, a data link layer address is needed to complete forwarding to the destination host. Data link layer (i.e., layer ) addresses are 48 bits long and are globally unique, i.e. no two hosts, wherever located, have the same data link layer address. There is a protocol called ARP (address resolution protocol), which obtains a data link layer address from the corresponding network layer address (the address that IP uses). Typically, each router in a TCP\/IP network maintains a database table from which it can look up the data link layer address, but if a destination host is not in this ARP database, the router can transmit an ARP request. This message basically means: \u201cwill the host with the following network layer address please supply its data link layer address.\u201d Only the addressed destination host responds, and the router is then able to insert the correct data link layer address into the message being forwarded, and to transmit the message to its final destination.","IP routing specifies that IP datagrams travel through internetworks one hop at a time (next hop routing) based on the destination address in the IP header. The entire route is not known at the outset of the journey. Instead, at each stop, the next destination (or next hop) is calculated by matching the destination address within the datagram's IP header with an entry in the current node's (typically but not always a router) routing table.","Each node's involvement in the routing process consists only of forwarding packets based on internal information resident in the router, regardless of whether the packets get to their final destination. To extend this explanation a step further, IP routing does not alter the original datagram. In particular, the datagram source and destination addresses remain unaltered. The IP header always specifies the IP address of the original source and the IP address of the ultimate destination.","When IP executes the routing algorithm it computes a new address, the IP address of the machine\/router to which the datagram should be sent next. This algorithm uses the information from the routing table entries, as well as any cached information local to the router. This new address is most likely the address of another router\/gateway. If the datagram can be delivered directly (e.g., the destination network is directly attached to the current host) the new address will be the same as the destination address in the IP header.","The next hop address defined by the method above is not stored in the IP datagram. There is no reserved space to hold it and it is not \u201cstored\u201d at all. After executing the routing algorithm (the algorithm is specific to the vendor\/platform) to define the next hop address to the final destination. The IP protocol software passes the datagram and the next hop address to the network interface software responsible for the physical network over which the datagram must now be sent.","The network interface software binds the next hop address to a physical address (this physical address is discovered via address resolution protocols (ARP, RARP, etc.), forms a frame (Ethernet, SMDS, FDDI, etc.\u2014OSI layer 2 physical address) using the physical address, places the datagram in the data portion of the frame, and sends the result out over the physical network interface through which the next hop gateway is reached. The next gateway receives the datagram and the foregoing process is repeated.","In addition, the IP does not provide for error reporting back to the source when routing anomalies occur. This task is left to another Internet protocol, the Internet Control Message Protocol (ICMP).","A router will perform protocol translation. One example is at layers 1 and 2. If the datagram arrives via an Ethernet interface and is destined to exit on a serial line, for example, the router will strip off the Ethernet header and trailer, and substitute the appropriate header and trailer for the specific network media, such as SMDS, by way of example.","With reference to , the MSC  is configured for protocol translation between the wireless data protocol implemented in the physical layer , to the physical layer protocol Sob used by the packet switched network . As shown in , This protocol translation is performed in the MSC , although the protocol translation may also be performed in the IWF , such that the MSC  provides conventional switching based on the wireless data protocol ","The digital telephone  initiates a data call in response to an instruction from the application layer , indicating that data is to be transmitted by the wireless medium . As described below, the application requests initiation of the data call in response to execution of a client browser routine, where the browser routine generates the message to the application layer in response to user inputs based on a menu displayed by the client browser. The upper protocols  in turn hand the message to the network and data link layer protocols , which packetize the message in accordance with TCP\/IP protocol. The TCP\/IP messages are then packetized into wireless data packets by the physical layer according to the RLP and IS-95A wireless data protocols.","The digital wireless transceiver  receives the streams of data packets from the digital telephone  via the wireless medium , and forwards the data packets to the MSC  according to the wireless data protocol IS-95A. The MSC  strips the packets to recover the data frames at the data link layer , and then repacketizes the data frames according to the physical layer protocol , for example Ethernet (IEEE 802.3) protocol, for transmission on the medium . The MSC  treats the communication as a data call to the IWF unit , i.e., by switching the packets through the port connect to the IWF .","The IWF  receives the data packets from the MSC , and strips the data packets to recover the data link and network layer messages transmitted by the digital telephone  according to the network and data link protocol . Hence, the interworking unit  establishes a two-way communication link  with the digital telephone according to the network and data link layer protocols . As described below, the interworking function  uses the two-way data link layer communication link  to assign a temporary IP address to the digital telephone , enabling the digital telephone  to perform IP-based addressing according to TCP\/IP protocol.","The IWF , in response to receiving an IP datagram from the digital telephone  at the corresponding layer , determines the destination of the datagram and forwards the datagram to the appropriate destination by the packet switched network, for example the data proxy gateway . Hence, the IWF  establishes a second two-way communication link  at the network and data link layer . The two-way network and data link  between the digital telephone  and the IWF , plus the two-way network and data link  between the IWF  and the data proxy gateway  enables the digital telephone  and the data proxy gateway  to establish a two-way application-layer session .","Hence, the digital telephone  and the gateway  can communicate via the application-layer session  by exchanging hypertext based messages, for example HTML or HTTP-based messages, for establishing links to different locations using Internet uniform resource locator (URL)-encoding format. For example, the data proxy gateway  can send a menu including a predetermined URL to the digital telephone  for security authentication and establishment of a secure link between the digital telephone and servers on the packet switched network . As described below, the two-way application layer communication link  also enables menu-based programming of the digital telephone . In particular, the digital telephone  supplies a stream of data packets carrying a selection input generated by a thin browser in response to a user input, and the server addressed by the digital telephone in response downloads the requested software to the digital telephone. The digital telephone  recovers the executable downloaded program and stores the recovered program in nonvolatile memory, for subsequent execution by the telephone.",{"@attributes":{"id":"P-00073","num":"00073"},"figref":["FIG. 3","FIG. 3"],"b":["16","16","70","72","74","76","78","80","22","82","84","86"]},"In particular, the random access memory  stores client browser software , an operating system , vocoder software , device driver software , and call processing software . The operating system software , executable by the processor , supports the execution of the thin client browser software , including generation of messages across an application programming interface that specifies recognized routines between the thin client browser  and the operating system . The call processing software  is configured for network and transport operations of the protocols of layer  and the generation of the data packets according to TCP\/IP protocol based on the messages supplied by the operating system . The device driver software  is configured for the controlling data transport by the transceiver  according to RLP and IS-95A protocols.","The digital telephone  also includes an I\/O interface, for example an RS-232 interface , for connecting a digital telephone to a personal computer for transport of facsimile and\/data according to IS-686. Hence, the digital telephone  can operate as a digital wireless modem when the thin client browser  is not in use.","The thin client browser software is executable by the CPU  and has a size of about 100-200 kilobytes. The thin client browser  uses an internet URL-encoding format, for example device:\/\/file\/parameters, to communicate between the digital telephone  and an addressed server, such as the proxy gateway server  or the provisioning server . In addition, the browser can be used to connect to the customer service terminal  of the business network , enabling a user to retrieve phone usage and billing information using a web interface in the terminal . The microbrowser  uses the URL format, whereas the IS-95A delivers OTA messages according to IS-683. Hence, an interpreter interface is present between the microbrowser  and the physical layer , where one of the layers includes an interpreter protocol in one of the layers , , or . For example, in IS-683, the handset sends out a configuration response message in a variable length format to respond to a configuration request message. See, for example, section 3.5.1.1 of IS-683. The configuration response message includes the fields shown in Table 1.",{"@attributes":{"id":"P-d0e3234","num":"00002"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"70pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Field","Length (bits)"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"OTSAP_MSG_TYPE(\u201800000000\u2019)","8"]},{"entry":[{},"NUM_BLOCKS","8"]},{"entry":[{},"BLOCK_ID","8"]},{"entry":[{},"BLOCK_LEN","8"]},{"entry":[{},"PARAM_DATA","8xBLOCK_LEN"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"The message shown in Table 1 can be encoded as:\n\n","A similar approach can be implemented for all OTA messages.",{"@attributes":{"id":"P-00080","num":"00080"},"figref":["FIGS. 4A","FIGS. 4A"],"b":["4","4","4","4","16","16","16","62","88","16","16","10","22"]},"According to the disclosed embodiment, two types of over the air service provisioning procedure will generally be performed, namely activation of new service including voice service with the service provider, and upgrading existing service for which the user already has an established account.","Assuming that a user has purchased the digital telephone  and has not initiated any service with the service provider, the user will initiate a hot-line call in step  to the customer service center  using a predetermined number. The predetermined number may be programmed within the digital telephone and\/or the MSC  as the only authorized telephone number that may be accessed before activation of the digital telephone . The hotline call in step  may be terminated as a voice call via the public switched telephone network  to an operator at the customer service center . Alternatively the hotline call may be terminated as a data call via the IWF  and the proxy server  to the terminal  using the techniques described herein. During the hotline call to the customer service center , the user will be prompted either by a live operator or hypertext based messages from the terminal for user identity information and credit-related information (e.g., a credit card number) and security information (e.g., social security number).","Once the customer service center  determines that the user has met all necessary criteria for establishment of an account, the customer service center  (e.g., a live operator or the terminal ) sends a provisioning request including an active mobile identification number specifying the physical ID of the digital telephone  to the provisioning system . The customer service center  also sends an activation code to the digital telephone  which is received by the digital telephone via the wireless network  in step . If the activation code is received via a data call, the activation code is stored in the digital telephone memory  and\/or displayed to the user.","In response to reception of the activation code by the digital telephone , the CPU  in the digital telephone  begins execution of the client browser software  in step , and displays a predetermined activation to prompt the user for beginning the activation routine. The user then will press a menu key in step  for service activation and\/or upgrade in step , causing the browser routine to send a request for activation of new service. The operating system  then checks if the hotline telephone number for the IWF and proxy server IP address is stored in the memory  in step . If the telephone number is not stored, then the user is prompted for the telephone number and\/or the activation code in step . The operating system then causes the call processing software  and the device drivers  to initiate a wireless data call in step  to the IWF .","The MSC , in response to receiving the incoming wireless data call from the digital telephone  via the BSC , connects the digital telephone to the IWF , causing the IWF to establish a network and\/or data link  across the layers  with the digital telephone  in step . The IWF  then assigns a temporary IP address to the digital telephone  to enable the digital telephone  to perform IP-based addressing, and supplies the IP address for the proxy server , if needed, in step .","As shown in , the digital telephone  then establishes an initial two-way application session  with the proxy server  in step . The digital telephone  also sends a data activation request with a security key and an international mobile station identity (IMSI). The IMSI is a method of identifying mobile stations in the land to mobile service, as specified in CCITT recommendation E.212. The proxy gateway  performs an authentication routine by accessing the user database  in step  based on the transmitted IMSI and security key. If the IMSI exists in the user database , the proxy server  checks the transmitted security key with a secret key stored in the database . If the transmitted security key does not match the stored secret key in step , the proxy server  sends a message in step  denying the request for activation. The proxy gateway  will also access the database  to determine if the user is in the active mode, indicating that the subscriber is already activated. If the user is not in an active mode, the proxy server  accepts the provisioning request in step  by transmitting a uniform resource locator (URL) to the digital telephone  and initiates a secure link using the user authenticated code and a public key encryption algorithm, such as the Diffe-Hellman algorithm.","The digital telephone  then accesses the activation home page of the provisioning server  in step  using the supplied URL via the secure link. The activation server  establishes a two-way application layer session  with the digital telephone  by sending a welcome message in step  that prompts for the user authentication code. The application layer may then automatically supply the mobile identification number (MIN) and\/or user authentication code in encrypted format in step  to the provisioning server , or the user may manually input the authentication code.","The provisioning server , also referred to as the activation server, will then download a service programming lock to the digital telephone. A programming lock is used by the digital telephone for identification of authorized control software sources. Hence, the programming lock is sent to the digital phone  to prevent any unauthorized programming to the phone by nonauthorized systems. The activation server  will also send a choice menu to the digital telephone for service choices.","As shown in , the server , upon receiving a user selection from the browser of the digital telephone , determines in step  if the request is an activation request. Assuming the browser request indicates a request for activation, the provisioning server  sends activation parameters to the digital telephone in step , and sends any relevant activation information to the user's home location register in system  via the packet switched network  and the IS network  in step .","Once the activation parameters have been received by the digital telephone , the server  begins the downloading routine for downloading of control software associated with digital telephone services to the digital telephone. As shown in , the download routine may also be initiated in step  if the server  determines that the request transmitted from the digital telephone is a specific download request.","The server  begins in step  by sending a message to the digital telephone requesting verification that the user wishes to download the software. If in step  the server  does not verify that the user wishes to continue with the download, the download procedure is aborted in step . If at step  the server  determines that the user verifies to continue with the download procedure, the server  sends a service programming lock in step  to unlock the digital telephone , at which point the server downloads the control software to the digital telephone . As described above, the server downloads by sending data packets via the packet switched network  according to TCP\/IP protocol and the protocol of the physical layer . The IWF  or the MSC  receive the data packets, strip the payload from the physical layer dependent data packets, and repackets the data in data packets according to the wireless data protocol RLP and IS-95A for the physical layer protocol ","The digital telephone , upon receiving the stream of data packets from the digital wireless telephone network , strips the payload data from the wireless data packets, and sends the payload to the upper layers ,  and . In particular, the processor  recovers the executable program from the stream of data packets received by the transceiver , and writes the executable program to the nonvolatile memory  using the file transfer protocol (FTP) resident in the upper protocol layers  and the application layer . As recognized in the art, the server  and the digital telephone  may use well recognized file transfer protocols.","During the downloading process, the digital telephone  and the server  interact via the application layer session  to ensure that the downloading is successful in step . If in step  either the digital telephone  or the server  determine that the download procedure is unsuccessful, the download procedure is aborted in step , at which point the server  logs the failed attempt and sends a message to the digital telephone  that the downloading procedure was aborted. If in step  the server determines that the download procedure was successful, the successful downloading is logged by the server  in step , and a message is sent to the phone that the download was successful.","Hence, the digital telephone is able to use a web-based approach for navigating the packet switched network for selectively accessing different servers on network  to obtain control software or other information related to digital telephone services. For example, the digital telephone may obtain billing and usage information by accessing a web page at the terminal  for the customer service center . The digital telephone  may also access a revision control server  configured for maintaining the digital telephone  with up to date firmware and\/or software, including vocoder software , browser software , device drivers , and operating system .","As shown in , the update routine begins in step , where the activation server  determines whether the digital telephone  sends an update request from the menu of available services supplied in step . If the message does not correspond to an update request in step , the two-way application layer session  is quit by the server in step . Otherwise, the activation server  sends the URL for the update server  to the digital telephone in step . The digital telephone then sends an update request in step  to the update server , and includes the telephone revision parameters. The update server  initiates a secure link in step  and sends a menu of available updates and the respective URLs. The browser  then displays the available update to the user on the display , enabling the user to select an update in step  from the displayed menu. The server  and the digital telephone  then interact in the same manner as described above for downloading control software to download the updated software. Hence, the user of the digital telephone  can update either the browser application software , the operating system software , the vocoder software , the device driver software  or the call processing software  by sending the corresponding request in step .","According to the disclosed embodiment, a digital telephone having a thin browser requiring only 120-200 kilobytes of executable memory space is able to establish a data connection with a proxy gateway , where a converter in the MSC  and\/or the IWF  converts the physical layer transport mechanism from a wireless data protocol to a wired physical layer protocol . Moreover, the digital telephone  can establish two-way application layer sessions with servers on the packet switched network  for downloading of control software related to digital telephone services. The enhanced flexibility of CDMA transport enables a user of the digital telephone  to switch back and forth between voice and data mode, enabling the user to place a voice call while software is being downloaded into the digital telephone . Hence, the user may converse with either wireless telephone network representatives, or use the telephone for normal use during the downloading procedure.","Moreover, use of the browser in the digital telephone  enables phone users to access all of the features in an intelligent network, as described in IS-41, through the wireless data channel using world wide web of protocol suites, resulting in open extensible, and reliable access. The user-initiated download procedure also reduces burden on wireless resources, since the user-initiated download is more randomly distributed than system-based download procedures.","While this invention has been described in connection with what is presently considered to be the most practical and preferred embodiment, it is to be understood that the invention is not limited to the disclosed embodiment, but, on the contrary, is intended to cover various modifications and equivalent arrangements included within the spirit and scope of the appended claims."],"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND ART","DISCLOSURE OF THE INVENTION","BEST MODE FOR CARRYING OUT THE INVENTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":["Reference is made to the attached drawings, wherein elements having the same reference numeral designations represent like elements throughout and wherein:",{"@attributes":{"id":"P-00026","num":"00026"},"figref":"FIG. 1"},{"@attributes":{"id":"P-00027","num":"00027"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"P-00028","num":"00028"},"figref":"FIG. 3"},{"@attributes":{"id":"P-00029","num":"00029"},"figref":"FIGS. 4A","b":["4","4"]}]},"DETDESC":[{},{}]}
