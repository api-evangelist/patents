---
title: Method and apparatus for ordering goods, services and content over an internetwork using a virtual payment account
abstract: A virtual payment card system for ordering and paying for goods, services and content over an internetwork is disclosed. The virtual payment card system comprises a commerce gateway component () and a credit processing server component (). The virtual payment card system is a secure closed system comprising registered merchants and consumers. A consumer becomes a registered participant by applying for a virtual payment card. Likewise, a merchant becomes registered by applying for a merchant account. A consumer can instantly open an account on-line. That is, the credit processing component () immediately evaluates the consumer's virtual payment card application and assigns a credit limit to the account. Once an account is established, a digital certificate is stored on the registered participant's computer. The consumer can then order a product, i.e., goods, services or content from a merchant and charge it to the virtual payment card. When the product is shipped, the merchant notifies the commerce gateway component (), which in turn notifies the credit processing server which applies the charges to the consumer's virtual card account. The consumer can settle the charges using a prepaid account, a credit card, or by using reward points earned through use of the virtual payment card. A consumer may create sub-account that have additional limitations imposed on the owner of the sub-account.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07606760&OS=07606760&RS=07606760
owner: eCharge Corporation
number: 07606760
owner_city: seattle
owner_country: US
publication_date: 20030924
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT","Relevant Consumer Computer Merchant Server, Commerce Gateway, and Credit Processing Server Components","Applying for a Virtual Payment Account","Customizing and Modifying a Virtual Payment Account","Ordering Products","Settlement Transaction","Refund Transaction","Account Management"],"p":["This application is a continuation of U.S. patent application Ser. No. 10\/337,214, filed on Jan. 6, 2003, now abandoned which in turn is a continuation of U.S. patent application Ser. No. 09\/370,949, filed on Aug. 9, 1999, now abandoned priority from the filing dates of which is hereby claimed under 35 U.S.C. \u00a7 120. U.S. patent application Ser. No. 09\/370,949 claims under 35 U.S.C. \u00a7 119 the benefit of provisional Application No. 60\/140,039, filed Jun. 18, 1999.","This invention generally relates to a method and apparatus for ordering goods, services and content from one or more other computers connected via common communications links and, more particularly, to a method and apparatus for ordering goods, services and content from computers connected to the Internet using a virtual payment account.","Communication networks are well known in the computer communications field. By definition, a network is a group of computers and associated devices that are connected by communications facilities or links. Network communications can be of a permanent nature, such as via cables, or can be of a temporary nature, such as connections made through telephone or radio links. Networks may vary in size, from a local area network (LAN) consisting of a few computers or workstations and related devices; to a wide area network (WAN) which interconnects computers and LANs that are geographically dispersed; to a remote access service (RAS) which interconnects remote computers via temporary communication links. An internetwork, in turn, is the joining of multiple computer networks, both similar and dissimilar, by means of gateways or routers that facilitate data transfer and conversion from various networks. A well-known abbreviation for the term internetwork is \u201cInternet.\u201d As currently understood, the capitalized term \u201cInternet\u201d refers to the collection of networks and routers that use the Transmission Control Protocol\/Internet Protocol (TCP\/IP) to communicate with one another.","A representative section of the Internet  is shown in  (Prior Art) in which a plurality of local area networks (LANs)  and a wide area network (WAN)  are interconnected by routers . The routers  are generally special purpose computers used to interface one LAN or WAN to another. Communication links within the LANs may be twisted wire pair, or coaxial cable, while communication links between networks may utilize 56 Kbps analog telephone lines, or 1 Mbps digital T-1 lines and\/or 45 Mbps T-3 lines. Further, computers and other related electronic devices can be remotely connected to either the LANs  or the WAN  via a modem and temporary telephone link. Such computers and electronic devices  are shown in  as connected to one of the LANs  by a dotted line. It will be appreciated that the Internet comprises a vast number of such interconnected networks, computers, and routers and that only a small, representative section of the Internet  is shown in .","The Internet has recently seen explosive growth by virtue of its ability to link computers located throughout the world. As the Internet has grown, so has the World Wide Web (WWW). The WWW is a vast collection of interconnected or \u201chypertext\u201d documents (also known as \u201cWeb pages\u201d) written in HyperText Markup Language (HTML) that are electronically stored at \u201cWeb sites\u201d throughout the Internet. A Web site is a server connected to the Internet that has mass storage facilities for storing hypertext documents and that runs administrative software for handling requests for those stored hypertext documents. A hypertext document normally includes a number of hyperlinks, i.e., highlighted portions of text that link the document to another hypertext document possibly stored at a Web site elsewhere on the Internet. Each hyperlink is associated with a Uniform Resource Locator (URL) that provides the exact location of the linked document on a server connected to the Internet. Thus, whenever a hypertext document is retrieved from any Web server, the document is considered to be retrieved from the WWW.","A user is allowed to retrieve hypertext documents from the WWW, i.e., a user is allowed to \u201csurf the Web,\u201d via a Web browser. A Web browser, such as Netscape's NAVIGATOR\u00ae or Microsoft's INTERNET EXPLORER\u00ae, is a software program implemented by a Web client, i.e., the user's computer, to provide a graphical user interface to the WWW. Upon request from the user via the Web browser, the Web client accesses and retrieves the desired hypertext document or Web page from the appropriate Web server using the URL for the document and a protocol known as HyperText Transfer Protocol (HTTP). HTTP is a higher-level protocol than TCP\/IP and is designed specifically for the requirements of the WWW. It is used on top of TCP\/IP to transfer hypertext documents between servers and clients.","At the advent of the WWW, the information stored on the Internet was freely transferred back and forth between those parties interested in the information. However, the WWW is quickly becoming a channel of commercial activity, whereby a vast number of companies have developed their own Web sites for advertising and selling their goods and services. Commercial activity that takes place by means of connected computers is known as electronic commerce, or e-commerce, and can occur between a user and a vendor through an on-line information service, the Internet, a bulletin board system (BBS), or between vendor and customer computers through electronic data interchange (EDI). A user (also referred to as a consumer or purchaser in the context of e-commerce) may \u201cvisit the Web site\u201d of a company, i.e., retrieve the hypertext documents located on the Web server of a particular company, and order any good or service that the company has to offer. If that good or service is in the form of electronically stored information, such as a book, a video, a computer game, etc., the consumer may simply download the good or service from the company's Web site to his or her computer for immediate consumption and use. If the good or service is of a more tangible nature, such as an appliance or article of clothing ordered from an on-line catalog, a more conventional method of delivery, e.g., the postal service or a common carrier, is used.","A common method of payment for e-commerce purchases is an electronic credit, or e-credit. E-credit is a form of electronic commerce involving credit card transactions carried out over the Internet. Traditional e-credit purchases are paid for by a major credit card, wherein the consumer is required to transmit his or her credit information, for example, an account number and private identification number (PIN), over the Internet to the company's Web site. Many consumers are concerned about the security and confidentiality of such electronic transmissions. Furthermore, many consumers do not have a major credit card with which to make such purchases. Alternative billing systems, such as providing credit information by facsimile or postal service, are much less convenient and often prove enough of a barrier to prohibit the sale altogether. Finally, the traditional methods of billing and payment do not adequately protect the seller or consumer from fraudulent purchases.","Accordingly, a more effective method and apparatus for ordering and billing for goods, services and content over a network, and ultimately the Internet, is needed. The method and apparatus should protect the seller and consumer from fraudulent purchases. Additionally, the method and apparatus should provide an element of non-repudiation to all transactions. The method and apparatus should also prevent consumers with histories of nonpayment from purchasing additional goods, services and\/or content. Finally, the method and apparatus should allow a consumer without a major credit card to purchase goods, services and content over the network.","The present invention provides a computer program for ordering products from computers connected to the Internet, wherein the consumer is automatically billed for the ordered good, service or content based on a virtual payment account maintained by a commerce gateway.","In accordance with other aspects of the present invention, the commerce gateway interfaces with a credit processing server to handle the monetary aspects involved in purchasing goods, services and\/or content. The credit processing server interfaces with one or more financial institutions which physically handle the consumer's account. For example, a consumer can pay for purchases electronically by transferring funds from a bank account held by the consumer at the financial institution, or by prepaying for the purchases by sending a check to the provider of the commerce gateway. Alternatively, reward points earned by using the virtual payment account can be applied towards purchases.","In accordance with still other aspects of the present invention, the credit processing server communicates with one or more credit bureaus in order to determine a credit limit for a consumer's virtual payment account.","In accordance with yet other aspects of the present invention, a virtual payment account can have associated sub-accounts. A sub-account can have a credit limit that is less than the main account credit limit. A sub-account can limit the merchant sites from which goods, services and\/or content can be purchased.","In accordance with further aspects of the present invention, purchases must be made by a registered consumer from a registered merchant. Security is ensured via authentication of the parties to a transaction. Authentication can be performed by verification of a private key, a digital certificate, or a combination thereof, known as a digital signature.","As previously described and shown in , the Internet  is a collection of local area networks and (LANs) , wide area networks (WANs) , remote computers  and routers  that use the Transmission Control Protocol\/Internet Protocol (TCP\/IP) to communicate with each other. The World Wide Web (WWW), on the other hand, is vast collection of interconnected, electronically stored information located on servers connected throughout the Internet . Many companies are now selling goods, services and access to their premium content over the Internet using the WWW. In accordance with the present invention, a consumer orders goods, services and\/or content (referred to interchangeably herein as \u201cproducts\u201d) over the Internet  via a Web browser and is automatically billed for the purchase using his or her virtual payment account without transferring sensitive account information, such as account number and expiration date, over the Internet . The virtual payment account allows a consumer to settle transactions of the virtual payment account using a prepaid or credit account. In one actual embodiment of the present invention, the virtual payment account uses bank electronic funds transfers, for example, using the Automated Clearing House (ACH) standard which is maintained by the National Automated Clearing House Association (NACHA)\u2014the standards group promoting electronic commerce standards. In another embodiment, the virtual payment account can be funded using a traditional paper check, with the consumer mailing a check, e.g., via the postal service, to the providers of the virtual payment account system. Alternatively, funds transfer services and electronic bill payment services, such as CHECKFREE\u00ae, may be used. Reward points, also known as loyalty points, earned through use of the virtual payment card can also be applied to the consumer's virtual payment account to pay for products.","More specifically, as shown in , the consumer purchases goods, services, and\/or premium content from a merchant server , i.e., a server owned by the merchant which sponsors or sells the product, by placing an order with the merchant server from a computer  connected to the Internet . The order is processed and confirmed by a commerce gateway  connected to a LAN  located elsewhere in the Internet . The commerce gateway  is also connected to a credit processing server  via the LAN . The credit processing server communicates with one or more credit bureaus  in order to determine the credit worthiness of a consumer. In the actual embodiment of the present invention described herein, the credit bureau  is a server provided and administrated by a credit agency for processing credit reports. The credit bureau  can be located on the LAN  or elsewhere on the Internet . In yet another embodiment, the credit processing server can establish a point-to-point connection with a remote credit bureau that is not either connected to the LAN  or the Internet . It will be appreciated that other methods of communication between the credit processing server  and credit bureau  may be used, for example, a secure Virtual Private Network maintained and operated by the credit bureau exclusively for the purpose of credit rating. Finally, in yet other embodiments, the credit bureau may not actually offer a server at all. Rather, a customer service representative for the credit bureau may process the credit report and manually provide the report to an administrator of the present invention who manually enters the report to the credit processing server . The credit processing server  also communicates with one or more financial institutions  for the purpose of obtaining the consumer's payment, i.e., a transfer of funds for the purchase of products. As is the case with the credit bureaus , the financial institutions  may be other servers in electronic communication with the credit processing server , customer service representatives in more traditional communication with the credit processing server , or some combination thereof.","Finally, in addition to the commerce gateway , the LAN  includes an administrative computer  used to administer vendor, and purchaser information and services provided by the commerce gateway  and credit processing server .","In the embodiment of the present invention shown in , the LAN  is insulated from the Internet  by a firewall server  that tracks and controls the flow of all data passing through it using the TCP\/IP protocol. The firewall  protects the LAN  from malicious in-bound data traffic. The LAN  is a bus network interconnecting the various computers and servers. The LAN  shown in  can be formed of various coupling media such as glass or plastic fiberoptic cables, coaxial cables, twisted wire pair cables, ribbon cables, etc. In addition, one of ordinary skill in the art will appreciate that the coupling medium can also include a radio frequency coupling media or other intangible coupling media. Any computer system or number of computer systems, including but not limited to workstations, personal computers, laptop computers, servers, remote computers, etc., that is equipped with the necessary interface hardware may be connected temporarily or permanently to the LAN , and thus, the Internet . However, if temporarily connected via a telephone link to another device connected to the LAN , the interface hardware of both the remote computer  and the device to which it is connected must contain a modem.","Finally, those of ordinary skill in the art will recognize that while only one consumer computer , and one merchant server  are depicted in , numerous consumer computers and merchant servers equipped with the hardware and software components described below may be connected to the Internet . It will also be appreciated that the term \u201cconsumer\u201d used herein can be applied to any purchaser of goods and\/or services and can be applied equally to an individual, non-commercial purchaser or a business or commercial purchaser. In other words, the term \u201cconsumer\u201d can apply to any purchaser and the term \u201cmerchant\u201d can apply to any vendor.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"b":["50","50","60","44","46","60"]},"The consumer's computer  also includes a processing unit , a display , and a memory . The memory  generally comprises a random access memory (RAM), a read-only memory (ROM) and a permanent mass storage device, such as a disk drive. The memory  stores the program code and data necessary for ordering and paying for a product over the Internet  in accordance with the present invention. More specifically, the memory  stores a Web browser component , such as Netscape's NAVIGATOR\u00ae or Microsoft's INTERNET EXPLORER\u00ae browsers, and a consumer authenticator component  formed in accordance with the present invention for authenticating a consumer as a registered participant of the virtual payment system prior to performing any virtual payment account transactions. It will be appreciated that these components may be stored on a computer-readable medium and loaded into memory  of the consumer computer  using a drive mechanism associated with the computer-readable medium, such as a floppy or CD-ROM drive.","As will be described in more detail below, the products ordered by the consumer are supplied by a merchant server , described next, following authorization from a remote server, i.e., a commerce gateway  described later, located elsewhere on the Internet, e.g., on LAN  illustrated in .  depicts several of the key components of the merchant server . Those of ordinary skill in the art will appreciate that the merchant server  includes many more components than those shown in . However, it is not necessary that all of these generally conventional components be shown in order to disclose an illustrative embodiment of practicing the present invention. As shown in , the merchant server  includes a network interface  for connecting to a LAN  or WAN , or for connecting remotely to a LAN or WAN. Those of ordinary skill in the art will appreciate that the network interface  includes the necessary circuitry for such a connection, and is also constructed for use with the TCP\/IP protocol, the particular network configuration of the LAN or WAN it is connecting to, and a particular type of coupling medium.","The merchant server  also includes a processing unit , a display , and a memory . The memory  generally comprises a random access memory (RAM), read-only memory (ROM), and a permanent mass storage device, such as a hard disk drive, tape drive, optical drive, floppy disk drive, or combination thereof. In one actual embodiment of the present invention, the memory contains a product database  which includes the electronically stored good or service ordered by the consumer. In other embodiments of the present invention, the product database  stores the premium content ordered by the consumer, i.e., the hypertext documents or other electronically stored information considered of monetary value by the merchant. In yet other embodiments of the present invention, the goods may be tangible goods not capable of being electronically stored, in which case the product database includes descriptive information of the products. The memory  also contains a commerce engine component  for purchasing a product from a merchant Web site. The commerce engine component  may be an existing commerce engine, such as MICROSOFT\u00ae Site Server, which allows for the payment of products ordered over the Internet using a major credit card, e.g., VISA\u00ae or MASTERCARD\u00ae. A commerce gateway adapter component  is also provided to allow the commerce engine component  to interface with the commerce gateway . The commerce gateway adapter component uses and provides application programming interface (API) calls to interface with the commerce engine . Also included in memory is a merchant authenticator component  for verifying that the merchant is an authorized or registered merchant of the virtual payment system of the present invention. It will be appreciated that the product database , the commerce engine component , the commerce gateway adapter component  and the merchant authenticator component  may be stored on a computer-readable medium and loaded into memory  of the merchant server  using a drive mechanism associated with the computer-readable medium, such as a floppy or CD-ROM drive. Finally, memory  stores a Web server component  for handling requests for stored information received via the Internet and the WWW.",{"@attributes":{"id":"p-0051","num":"0050"},"figref":["FIG. 5","FIG. 5","FIG. 5"],"b":["52","52","52","44","80","80","52","44","55","44"]},"The commerce gateway  also includes a processing unit , a display , and a memory . The memory  generally comprises a random access memory (RAM), a read-only memory (ROM), and a permanent mass storage device, such as a hard disk drive, tape drive, optical drive, floppy disk drive, or combination thereof. The memory  stores the program code and data necessary for authorizing a merchant server  to supply products to consumers and obtaining payment for the products via a credit processing server  in accordance with the present invention. More specifically, the memory  stores a transaction server component  formed in accordance with the present invention for authorizing a merchant to supply the ordered product and obtaining payment for the ordered product from the credit processing server . Also stored in memory  is an enrollment server component  formed in accordance with the present invention for determining the credit worthiness of a consumer applicant. An account identification container generator component  is also stored in memory  for determining an internal account identification.","Also stored in the memory  is a credit processing server adapter component  for communicating with a credit processing server  described below. It will be appreciated that the transaction server component , the credit processing server adapter component , the account identification container generator component , and the enrollment server component  may be stored on a computer-readable medium and loaded into memory  of the commerce gateway  using a drive mechanism associated with the computer-readable medium, such as floppy or CD-ROM drive. The memory  also stores a Web server component  for handling requests for stored information received via the Internet  and the WWW.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIG. 6","FIG. 6"],"b":["53","53"]},"However, it is not necessary that all of these generally conventional components be shown in order to disclose an illustrative embodiment for practicing the present invention. As shown in , the credit processing server  is connected to the LAN  via a network interface . Those of ordinary skill in the art will appreciate that the network interface  includes the necessary circuitry for connecting the credit processing server  to the LAN  and the firewall , and is constructed for use with the TCP\/IP protocol, the bus network configuration of the LAN , and the particular type of coupling medium.","The credit processing server  also includes a processing unit , a display , and a memory . The memory  generally comprises a random access memory (RAM), a read-only memory (ROM), and a permanent mass storage device, such as a hard disk drive, tape drive, optical drive, floppy disk drive, or combination thereof. The memory  stores the program code and data necessary for authorizing and securing payment for products purchased using a virtual payment card in accordance with the present invention. More specifically, the memory  of the credit processing server stores credit processing sub-systems including: an account\/billing sub-system  for billing a consumer for products purchased using a virtual payment account; a payment processing sub-system  for communicating with a financial institution  in order to process payments received for purchases made using a virtual payment account; and an account enrollment sub-system  for determining the credit limit for an applicant as determined by information received from one or more credit bureaus . Also stored in memory  are an account database  and a financial database  used to store data required for the account\/billing sub-system , the payment processing sub-system , and the account enrollment sub-system  to perform their required functions. It will be appreciated that the account\/billing sub-system , the payment processing sub-system , the account enrollment sub-system , the account database  and the financial database  may be stored on a computer-readable medium and loaded into memory  of the credit processing system using a drive mechanism associated with the computer-readable medium, such as floppy or CD-ROM drive. It will also be appreciated that the account\/billing sub-system , the payment processing sub-system , and the account enrollment sub-system  can comprise, either in full or in part, existing, traditional card payment systems.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIGS. 3-6","FIG. 2"],"b":["50","51","52","53","94","95","96","52","53","94","95","96","52","53","44","40"]},"The virtual payment system of the present invention is a closed system that provides consumers a secure method for purchasing products over the Internet. The closed system includes only a registered consumer's computer , a registered merchant server , the commerce gateway  (administered by the provider of the virtual payment system) and the credit processing server  (which can also be administered by the provider of the virtual payment system). Since the account information necessary for charging the consumer for the purchase is already in the possession of the commerce gateway  and the credit processing server , the closed system of the present invention allows registered consumers to purchase products from registered merchants without transferring sensitive account information to the merchants over the Internet.","In order to become a member of the virtual payment system of the present invention, a consumer becomes a registered user by obtaining a virtual payment account.  illustrates the actions taken by the consumer's computer , the commerce gateway , the card processing system , and the credit bureau  to create a virtual payment account for a consumer. The interactions of the various components are illustrated and described in detail later for various transactions performed by the present invention with reference to the flow diagrams shown in , - and -. The process of applying for a virtual payment account is initiated when a consumer requests an application form via the Internet using the Web browser  installed on the consumer's computer . The consumer may apply for a virtual payment account directly from a virtual payment account Web site located at the commerce gateway  or indirectly from a registered merchant site located at the merchant server . Once the request for the application form  is received by the commerce gateway , the commerce gateway  provides consumer computer  the application form  so that the consumer can complete the form displayed in the Web browser of the consumer computer .","Upon completion of the application form, the consumer computer  submits the completed application form and a public key  to the commerce gateway . The public key is used to decrypt messages encrypted using a private key and to encrypt messages that can by decrypted using the private key, as described later. The commerce gateway  then submits the application data  from the completed form to the credit processing server  for account and credit limit authorization. The credit processing server  requests credit information  about the consumer from a credit bureau . As noted above, the credit bureau  in the actual embodiment of the present invention illustrated herein is a server  administered by a credit bureau in point-to-point communication with the credit processing server . Hence, the credit processing server  requests the desired credit information electronically, e.g., via appropriate database queries, etc., from the credit bureau .","Returning to the illustrated embodiment, the credit bureau  provides the requested credit information  to the credit processing server  via the point-to-point connection with the credit processing server. The credit processing server  then evaluates the application and credit information by combining the credit information received from the credit bureau  with application data in order to determine a credit score . If the score exceeds a certain threshold, a credit limit is set, and the virtual payment account is created . If the score falls below the threshold, a virtual payment account is still created , however, all purchases must be prepaid, and the account information is forwarded to a customer service representative for review for a possible later grant of credit. Once the virtual payment account is created, the credit processing server  returns the result of the evaluation , e.g., approval\/denial, prepaid account only, credit limit, etc., to the commerce gateway  via the Internet. Finally, the commerce gateway  sends an application result page  to the consumer computer  for display via the consumer computer's Web browser .",{"@attributes":{"id":"p-0062","num":"0061"},"figref":["FIGS. 8A-8E","FIG. 8A","FIG. 8B","FIGS. 8C-8D"],"b":["64","50","600","65","65","50","602","50","604","97","53","54","64","50"]},"After the consumer completes the application form  shown in  and the application is processed by the credit processing server , a Web page  as shown in  is transferred to and displayed by the consumer computer's Web browser , which notifies the consumer of the results of the application process, i.e., account approval and details of his or her virtual payment account, including the account credit limit.","Once a virtual payment account has been approved and a credit limit set as described above, the account can be customized by the consumer.  illustrate an exemplary set of Web pages downloaded from the commerce gateway  and displayed by the Web browser  of the consumer's computer  for customizing the consumer's virtual payment account.  illustrates a Web page  for main account customization. As shown in , the consumer may customize his or her virtual payment account to be either a prepaid account and\/or a credit account which can be funded via a bank, such as via a consumer's checking or savings account. The virtual payment account also allows the consumer to earn reward or loyalty points, which can later be used, for example, to make a payment for a purchase, to receive merchant discounts, to purchase frequent flyer miles, etc. As shown in , the consumer has the option of accumulating loyalty points for later use or obtaining discounts on shipping. It will be appreciated by those of ordinary skill in the art that reward points can be earned by the consumer and applied to his or her virtual payment account in a myriad of different ways and the examples shown and described are merely meant to be illustrative.","As shown in , the consumer may also customize sub-accounts for his or her own use, or for use by a business partner, spouse and\/or children. As will be described in more detail below, the consumer may then impose his or her own spending limits on the sub-accounts. In one actual embodiment, reward points accrue in the main account so that the consumer can transfer the reward points to sub-accounts. It will be appreciated that in other embodiments, reward points could accrue to individual sub-accounts, if the consumer so desires. The illustrated embodiment also allows a consumer to select a family package, a business package, or to create a custom package of sub-accounts. As will be readily recognized by those of ordinary skill in the art, the consumer may be provided with any number, type or combination of sub-accounts depending on the desires of those providing and administrating the virtual payment system of the present invention.","The consumer can add sub-accounts (e.g., supplemental users, young shoppers, etc.) via the Web pages ,  shown in . Sub-accounts can be customized for young shoppers as shown in , for example, by setting spending limits for the young shopper and identifying only those merchant Web sites from which the young shopper can purchase products.","As will be described in more detail below, once the virtual payment account has been authorized and customized, a digital certificate is transferred by the commerce gateway  and installed on the consumer computer . The consumer is notified of the installation by a new user certificate page  displayed on the consumer's computer  as shown in . The digital certificate is then used in subsequent transactions to uniquely identify the consumer as a registered holder of a virtual payment account. In an actual embodiment of the present invention, a consumer or merchant is identified as a registered user of the virtual payment system by verifying a digital signature which is a piece of data including a digital certificate identification encrypted using the private key provided by the consumer computer  or the merchant computer  when applying for an account, and the digital certificate identification that is generated by the commerce gateway  when the virtual payment account is opened for the participant, i.e., the newly registered consumer or merchant. The digital certificate identification is actually submitted by the consumer computer  or merchant server  in the context of the transaction, even though the commerce gateway  originally generated these credentials.","It will be appreciated that several levels of security can be imposed on on-line transactions. Moving from the lowest level to the highest level, there can be: (1) no security restrictions imposed; (2) minimal security, such as account name and password verification; (3) intermediate security, such as a digital certificate or private key; (4) greater security, such as a digital signature composed of the combination of a digital certificate encrypted using a private key; or (5) maximum security, such as a digital signature and additional access controls, such as an account number, a last purchase verification, hash function, a message digest, or some combination thereof. As will be described later, in the actual embodiment of the virtual card system described herein, the term \u201cdigital certificate\u201d is used to describe the authorization used; however, it will be appreciated that a higher level of security such as a digital signature, or a digital signature with additional access controls may be desired in order to ensure the highest level of security for all parties involved (i.e., the consumer, the merchant, the commerce gateway, and the credit processing server) in virtual payment account transactions.","It will also be appreciated that a similar process is performed for a merchant to become an authorized or registered merchant. In one embodiment, a merchant can apply to become a member by completing an application form on-line. In another embodiment, a merchant applies to become a participant of the system using a more traditional manual application procedure. In yet another embodiment, some combination of an on-line and manual process is used. It will be appreciated that if the merchant application process is performed in whole or in part on-line, a Web browser component (not shown in ) is used to display Web pages on the merchant's computer display . The merchant forms a contract with the provider of the commerce gateway . This contract includes terms such as the billing period and the fee that will be paid to the commerce gateway provider. Since a merchant is selling a product to a consumer who has a virtual payment account, the merchant will not have sub-accounts in the same sense that a consumer has sub-accounts. However, a merchant selling different types of data can have different accounts. For example, a book store may have a general account and one or more restricted accounts, for example, the restricted accounts may prohibit sales of adult products to minors. This can be in the form of a rating system (e.g., G, PG, PG13, NC17, R, etc.). In a similar manner to the consumer application process, once a merchant has been approved and the merchant account customized, a digital certificate is installed on the merchant's computer  to identify the merchant as a registered merchant in the virtual payment system. The digital certificate is used in combination with a private key generated by the merchant server  and a public key generated by the merchant server and sent to the gateway  to encrypt\/decrypt messages for greater security.","It will be appreciated, as described earlier, that a merchant can apply for a \u201cconsumer\u201d account. In other words, a merchant can purchase products as the owner of a virtual payment account.","Once a consumer has created and customized his or her virtual payment account, he or she can immediately order products via the Internet if he or she was granted credit during the account application process. If, however, the consumer's virtual payment account is only a prepaid account, prepayment must be made before the consumer can order products. Alternatively, the consumer with only a prepaid account can order products, however, shipment of the product will be held until the prepaid account is sufficiently funded to cover the purchase. More specifically, any registered consumer can order products directly from the Web site of any registered merchant. It will be appreciated that a merchant can be an auction Web site, in which a consumer uses his or her virtual payment account to pay for the goods, services and\/or content purchased from the auction Web site. In one actual embodiment of the present invention, the commerce gateway  transfers to, and the Web browser  of the consumer computer  displays, a Web page  providing a list of links as shown in  to registered merchants belonging to the virtual payment system. Selection of a merchant link, such as \u201cAlbert's Book Emporium\u201d , from the Web page  in the consumer's Web browser will then cause download and display of the merchant's Web site associated with that link. In the alternative, the consumer may \u201csurf the Web\u201d and visit a registered merchant's Web site, such as \u201cAlbert's Book Emporium,\u201d using the Web browser . In either case, once the consumer visits a registered merchant's Web site, the consumer may order and pay for products offered from that Web site using his or her virtual payment account.","Returning to the previous example, a consumer using consumer computer  and Web browser  may retrieve the Web page  shown in  from the merchant Web site fictitiously known as \u201cAlbert's Book Emporium.\u201d The consumer makes a selection of a particular book by manipulating a graphics cursor with a pointing device, such as a mouse above the selection and \u201csingle-clicking.\u201d It will be appreciated that other pages, for example a query page in which the consumer requests books by a specified author, may be displayed. It will also be appreciated that the Web page  shown in  is a simplified example. It is common for a merchant site to allow a consumer to select multiple products and place them in a \u201cshopping cart.\u201d The consumer can then view the items in the cart and, if desired, remove items from the cart. Once the consumer has selected the desired items for purchase, the consumer indicates a desire to purchase the selected items, for example, by clicking an \u201cOK\u201d or a \u201cBuy\u201d button. In the simplified example shown in , the consumer selects an item, such as the book, \u201cMoby Dick\u201d  and presses the \u201cBuy\u201d button  to initiate the purchase transaction.","After initiating the purchase transaction, the merchant server  provides the Web browser  of the consumer's computer  with the Web page  shown in  which requests shipping information, such as a street address, from the consumer. In response, the merchant server  calculates the total cost of the order, including tax and shipping and handling, and provides the consumer with yet another hypertext document  as shown in  which includes various payment options, i.e., major credit cards, such as VISA\u00ae or MASTERCARD\u00ae, with electronic transmission of credit information. In accordance with the present invention, a virtual payment account option is also displayed as a payment option for registered merchants. As will be described in more detail below, if the consumer selects the virtual payment account option , the consumer will be presented with various virtual payment account options available to him or her, as shown in , based on the customization of his or her accounts.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":["FIG. 12","FIG. 13"],"b":["64","50","169","220","222","50","52","50","224","65","50","65","64","65"]},"The consumer authenticator  determines whether a consumer is a registered holder of a virtual payment account or put another way, a registered participant in the closed virtual payment system of the present invention. The logic of  begins in a block  and proceeds to a block  where an authentication request and container are received from the Web browser . The container includes: transaction information, such as purchase detail; identification of the parties, such as a consumer identification which identifies the consumer, e.g., the digital certificate previously issued to the consumer when he or she created the virtual payment account as described above; and a merchant identification, e.g., the digital certificate issued to the merchant upon creation of a merchant account; and context, such as transaction date and time. It will be appreciated that the container is initially empty, and data is then added to the container by various components. As stated earlier, embodiments of the invention implement the consumer authenticator in the Web browser . In such embodiments, a cookie is used to implement the request and container. On the World Wide Web, a cookie is a block of data that a Web server stores on a client system. When a user returns to the same Web site, the browser sends a copy of the cookie back to the server. Cookies are used to identify users, to instruct the server to send a customized version of the requested Web page, to submit account information for the user, and for other administrative purposes. A cookie includes user-defined data. In the case of the present invention, the user-defined data includes the container described above.","Next, in decision block , a test is made to determine if a digital certificate is installed on the consumer computer . The digital certificate is but one manner of digital identification. It will be appreciated that other methods of digital identification can be used. If the digital certificate is installed, the digital certificate identification is inserted into the authentication container and the authentication request and container are returned to the Web browser in blocks  and . The container can be any one of a variety of data formats, for example, one embodiment of the present invention uses a cookie. In an actual embodiment of a present invention, a private key generated by the consumer's computer is also inserted into the container. The private key is never transmitted anywhere in the virtual payment system of the present invention. The combination of the private key and the digital certificate provides a digital signature, and therefore provides a heightened level of security to the consumer authentication process. A digital signature is a piece of data that is known to all parties, and is processed by a cryptographic algorithm and a private key. The resulting signature can be decrypted only by an associated public key. Thus, the identify of the originator of the piece of data can be confirmed. Due to the high load requirements of public key\/private key encryption, a message is typically \u201csigned\u201d by generating a hash or message digest of the message resulting in a need to only process a small amount of data using the algorithm. The hash code is a number that is based on the information within the message, e.g., consumer identification, merchant identification, transaction (for example, purchase) details, and can be generated by any party that knows the algorithm. The hash code is then encrypted using the private key of the message originator, and can only be decrypted to the correct hash code using the correct public key. It will be appreciated that digital certificate as used herein refers to an authentication identify which is recognized by the provider of the virtual payment account that adheres to the provider's non-repudiated purchase policies, which can be a digital certificate, a private key, a digital signature, or a digital signature with additional access controls. The logic of  then ends in a block .","If, however, in decision block  it is determined that there is not a digital certificate installed on the consumer computer , the logic proceeds to a decision block  where a test is made to determine if \u201ccertificate not present\u201d processing should be performed. Certificate not present processing allows a consumer to manually enter identification information when a digital certificate is not present. The identification information can include information such as an e-mail address, a password and personal information, for example, a mortgage payment amount. If the result of decision block  is positive, the logic proceeds to a block  where a certificate not present authorization Web page  as shown in  is displayed on the consumer computer  by the Web browser . The logic then moves to a block  where the information entered by the consumer in the certificate not present authorization Web page is used to authenticate the consumer. The authentication status is then returned to the Web browser. In another embodiment of the present invention, \u201croaming\u201d certificates allow a consumer to make purchases from different computers without requiring the consumer to perform certificate not present processing. The logic of  then ends in block .","If there is no digital certificate installed (no in decision block ) and certificate not present processing is not going to be performed, for example by a user selecting \u201ccancel\u201d  in the certificate not present authorization Web page  shown in  (no in decision block ), the consumer likely does not have a virtual payment account. Accordingly, the logic of  proceeds to a decision block  where a test is made to determine if the consumer wishes to apply for a virtual payment account. If the consumer wishes to apply for a virtual payment account, the logic proceeds to a block , in which the consumer is allowed to apply for a virtual payment account as shown in  and described next. Otherwise, the consumer authenticator  returns an unsuccessful authorization message to the Web browser  in a block  and the logic ends in block .",{"@attributes":{"id":"p-0079","num":"0078"},"figref":"FIG. 15","b":["64","52","64","270","271","64","272","50","273","87","87","274"]},"Next, in a block , the completed account application form is sent to the commerce gateway  and processed by an enrollment server component  as shown in , and described next. In another embodiment, the transaction server component  which handles financial transactions also handles non-financial transactions, such as enrollment.","The logic of the enrollment server  shown in  begins in a block  and proceeds to a block  where a completed application form is received from the Web browser. Next, in a block  credit information, such as income, length of time with current employer, length of time at current residence, etc., is requested from a credit bureau  via the credit processing server adapter  as shown in  and described later with reference to a purchase authorization request.","Upon receipt of the credit information, the logic proceeds to a block  where the application is scored based on the credit bureau information in combination with internal criteria. The internal criteria provides a score for the various pieces of credit information. For example, incomes will be broken down into ranges, with a point value assigned to each range. Similarly points values will be assigned based on the time the applicant has lived at his or her current residence, etc. The points for each piece of credit information are combined to determine a score for the applicant. The score equates to the credit worthiness of the consumer and is used to determine if the applicant will receive a credit account (in addition to a prepaid account), and if so, to establish a credit limit for the applicant, i.e., consumer. Next, the result is returned to the Web browser in a block . The logic of  then ends in a block  and processing returns to .","Returning to , once a response is received from the enrollment server  in a block , a result page on the consumer's computer containing the response from the transaction server is displayed. In the case of applying for a virtual payment account, the result page provides details of the new account for the consumer, or contains a message informing the consumer that there was an error creating the account. If the account was successfully created, the enrollment server  will also send a digital certificate in a block . The logic of  of applying for a virtual payment account then ends in a block  and processing returns to .","While the logic of authenticating a consumer as shown in  and described herein uses a digital certificate as the primary means for authenticating a consumer, it will be appreciated that other methods are possible. For example, a lesser level of security could be employed, whereby a user could be required to enter identifying information, such as the information entered in \u201ccertificate not present\u201d processing of blocks -. Alternatively, a greater degree of security could be employed whereby a digital certificate is required, and \u201ccertificate not present\u201d processing is not allowed. Or, an even greater level of security could be used requiring a digital signature.","Referring again to , after the consumer has applied for a virtual payment account, the logic returns to decision block  where the test to determine if a digital certificate is installed on the consumer computer  is repeated. Depending on the results of decision block , either blocks - or blocks - are repeated for the recent applicant of a virtual payment account. The logic then ends in a block .","Returning to , after consumer authentication is completed in block , the logic proceeds to a decision block , where a test is made to determine if the consumer authentication was successful. If not, the logic proceeds to a block  where an error message is displayed on the consumer computer  by the Web browser  notifying the consumer of the failed authentication. The logic of  ends in a block .","However, if the consumer was successfully authenticated, the logic proceeds to a block  where a virtual payment account selection Web page as shown in  is displayed. Included in the requested information of the virtual payment account selection Web page is an identification of the applicable account or sub-account to which the purchase should be applied. Next, in a block , sub-account  and password information  are obtained from the consumer from the information entered in the virtual payment account selection Web page  of  when the consumer indicates that the information has been entered by selecting \u201cOK\u201d . The logic of  then proceeds to a block  where the sub-account, password information, and an authentication container are sent to the commerce gateway  and processed by the account identification container generator  shown in  and described next.","The logic of  begins in a block  and proceeds to a block  where the sub-account, password and authentication container are received from Web browser  of the consumer computer . The logic then proceeds to a block  where an internal account identification associated with authentication container is determined. An empty account identification container is then created in a block . Next, in a block , internal account identification and sub-account information is added to the empty account identification container. The logic then proceeds to a block  where an internal digital signature is applied to the account identification container. For example, message digest logic can be used by applying an algorithm that takes a variable length message and produces a fixed length digest as output using a one-way hashing algorithm that establishes the message as cryptographically secure. Finally, the account identification container is returned to the Web browser  in a block . The logic of  then ends, and processing returns to .","Returning to , after the sub-account password and authentication container are sent to the commerce gateway , the logic then proceeds to a block  where the logic waits to receive the account identification container from the account identification container generator component  of the commerce gateway . Once the account identification container is received from the commerce gateway , the logic proceeds to a block  where a purchase request is sent to the commerce engine  in the form of a request and account identification container for processing as shown in  and described next.","The commerce engine  is the component of the merchant computer that determines whether or not the order will be processed and whether the requested product will ultimately be provided to the consumer. It will be appreciated that commerce engines are well known in the art. The commerce engine component  used in conjunction with the commerce gateway adapter component  allows the virtual payment system of the present invention to expand existing technology that is currently used for traditional credit systems to encompass the virtual payment account of the present system. It will be further appreciated that while the embodiment shown and described modifies the commerce engine to achieve this functionality (which may be possible through existing API calls of the commerce engine), other embodiments are possible. This expanded commerce engine functionality is shown in . The logic of  begins in a block  and proceeds to a block  where a purchase request and account identification container are received from the Web browser  of the consumer computer . The logic then proceeds to a decision block  where a test is made to determine whether the purchase request should be forwarded to the commerce gateway adapter . If the purchase request is to purchase products using a virtual payment card, the request should be forwarded to the commerce gateway adapter  for processing in accordance with the virtual payment system of the present invention. In another embodiment, only the request (without the account identification container) is received from the Web browser in block , and if it is determined in decision block  that the purchase request should be forwarded to the commerce gateway adapter , the account identification is then obtained from the Web browser . In either case, if it is determined in decision block , that the purchase request should be forwarded to the commerce gateway adapter , the logic proceeds to a block  where the request is forwarded to the commerce gateway adapter. The commerce gateway adapter  is shown in more detail in  and described next.","The commerce gateway adapter  is a component residing on the merchant server  that allows the merchant server to communicate directly with the transaction server component  of the commerce gateway  in order to expand the authorization function of the commerce engine to include virtual payment account transactions. Accordingly, the logic of  begins in a block  proceeds to a block  where the forwarded purchase request and account identification container are received from the commerce engine . Next, in a block  the purchase request and account identification container are sent to the transaction server  in the form of a transaction request for further processing as shown in  and described next.","The transaction server component  of the commerce gateway  is responsible for interfacing with the other components of the system and determining whether or not a requested transaction should be applied to a consumer's virtual payment account. The logic of  begins in a block  and proceeds to a block  where the transaction request is received. Next, in a block  the account identification container is decoded and verified. The origin or source of the request as well as the context, i.e., date and time, of the request are then recorded in memory  of the commerce gateway  in a block . Next, the logic proceeds to a decision block  where a test is made to determine whether the requested transaction is permissible. A variety of factors can be considered in making the determination of whether a requested transaction is permissible. For example, spending limit cannot be exceeded, and user-imposed limitations, such as those put on a young shopper account, e.g., sites from which the young shopper can make purchases and hours during which the young shopper can make purchases as shown in , cannot be violated.","If the transaction is not permissible, the logic proceeds to a block  where an impermissible transaction message is sent to the requester (e.g., the commerce gateway adapter  in the context of a purchase request). The logic of  then ends in a block . If, however, the transaction is permissible, the logic proceeds from decision block  to a block  where the transaction request is sent to a credit processing server adapter  for further processing as shown in  and described next.","The credit processing server adapter  is the component residing on the commerce gateway  that allows commerce gateway  components, such as the transaction server  and the enrollment server  to communicate directly with the various sub-systems of the credit processing server , which provide for the application of the requested transaction to the consumer's actual payment account. Accordingly, the logic of  begins in a block  and proceeds to a block  where the request is received. For example, a purchase authorization request or a refund request are received from the transaction server  and a credit information request is received from the enrollment server . The request is then formatted to be compatible with the appropriate credit processing sub-system, i.e., the account\/billing sub-system , the payment processing sub-system  and\/or the account enrollment sub-system , on the credit processing server  in a block . Next, the logic proceeds to a block  where the formatted request is then sent to credit processing server  for processing by the appropriate credit processing sub-system, as shown in  and described next.","For any credit processing sub-system, the logic of  begins in a block  and proceeds to a block  where the transaction request is received from the credit processing server adapter . Next, account data and sub-account data are retrieved in blocks  and , respectively from the appropriate database, e.g., account database  and financial database . Standard credit transaction processing is then performed in a block . Examples of standard transactions for the account\/billing sub-system  include: creating and maintaining accounts, including holding account information and account holder information, such as name and address; calculating interest; calculating minimum monthly payments; generating electronic monthly statements; and calculating other charges, known as discounts. The discount is the portion of the transaction amount that will go to the provider of the commerce gateway , and can be determined on a fixed amount per transaction basis, or a percentage of transaction amount basis. Examples of standard transactions for the payment processing sub-system  include: collecting payments from consumers and applying the payments to the consumer's account; transferring funds between merchants and consumer, for example by interfacing with financial institutions  for ACH transactions. Examples of standard transactions for the account enrollment sub-system include: obtaining credit information from credit bureaus; providing the credit information to the commerce gateway  for scoring; determining a credit score based on the credit information and providing the score to the commerce gateway; and providing scoring information to the account\/billing sub-system  for account creation.","The logic then proceeds to a block  where necessary account adjustments are applied, if applicable. For example, the open to buy amount will be reduced by the amount of an authorized purchase transaction. In one embodiment of the present invention, loyalty points are accrued at the time of purchase, but committed later, for example during the periodic, e.g., monthly, statement preparation process. Alternatively, loyalty points may not accrue until payment is made for the product to which the points are attributed. Next, the transaction result, such as the credit information or the purchase authorization, is sent to the credit processing server adapter  in a block . The logic of  then ends in a block  and processing returns to .","Returning to , the result of the transaction request is received from the credit processing sub-system , ,  in a block . Next, in a block , the result is then returned to requester, e.g., the result of a purchase authorization request is returned to the transaction server  and credit information, for example, a credit limit, is returned to the enrollment server  in response to request for a credit information request to be used for establishing a consumer's account. The logic of  then ends in a block  and processing returns to the requester, e.g., transaction server  () or enrollment server  ().","Returning to , once the transaction server receives the response to its transaction request, e.g., authorization result of a purchase request, from the credit processing adapter in a block , the logic proceeds to a block  where the transaction record, for example purchase information including amount of purchase, is stored in memory  of the commerce gateway . The logic then proceeds to a decision block , where a test is made to determine if the transaction was successfully processed. If so, the logic proceeds to a block  where a transaction response with a valid status is then sent to the requester (e.g., the commerce gateway adapter  or the Web browser , whichever the case may be). If the transaction was not successfully processed, the logic proceeds from decision block  to a block  where a transaction response with an error status is then returned to the requester in a block .","After a valid transaction response , an error transaction response , or an impermissible transaction response  is sent to the requester, the logic of  ends in block  and processing returns to the requester. In the case of a purchase request, the requester is the commerce gateway adapter .","Returning to , after the response to the purchase request made by the commerce gateway adapter  is received from the transaction server in a block , the logic proceeds to a block  where the response including the transaction status is formatted to be compatible with the commerce engine . The formatted response is then forwarded to the commerce engine in a block . The logic of  then ends in a block  and processing returns to the commerce engine  in .","Returning to , once a response is received by the commerce engine  from the commerce gateway adapter  in a block , the authorized and ordered product is shipped to the consumer in a block . It will be appreciated by those of ordinary skill in the art that if the ordered product is capable of being downloaded, e.g., the product is an electronically stored good, a URL for a premium content Web site, etc., the product will simply be transferred by the merchant server  to the consumer computer . Otherwise, the product will be shipped or provided by more traditional methods, e.g., regular mail, hand delivery, etc. Once shipment is complete, the logic then proceeds to a block  where a settlement request is sent to the commerce gateway  in order to initiate movement of funds. In an actual embodiment of the present invention, the merchant submits the transaction into a settlement batch for payment when the settlement batch for that merchant is next processed. The timing of the processing could be that night or at a later date based on the contract, i.e., terms of the purchase transaction. Next, in a block , a response confirming fulfillment of the order is sent to the Web browser  of the consumer's computer . The logic of  then ends in a block .","Returning to decision block , if it is determined that the purchase request should not be forwarded to the commerce gateway , the logic proceeds to a block  where standard commerce engine processing is performed. More specifically, in block  traditional credit or debit card authorization is performed such as approval or denial for the use of a credit card, e.g., VISA\u00ae or MASTERCARD\u00ae, for the specified purchase amount. Next, the authorized goods are shipped in a block . The logic then proceeds to a block  where a settlement request is sent to the traditional credit provider, e.g., VISA\u00ae or MASTERCARD\u00ae. A response confirming fulfillment of the order is then sent to the Web browser  of the consumer computer  in a block . The logic of  then ends in block  and processing returns to .","Returning to , once the Web browser  of the consumer computer  receives a response to its purchase request in a block , the logic proceeds to a block  where an order confirmation Web page  is displayed as shown in . The logic of  then ends in block .",{"@attributes":{"id":"p-0104","num":"0103"},"figref":["FIG. 23","FIG. 11B","FIG. 11C"],"b":["50","51","52","53","500","50","51","50","51","506","50","52","508","65","52","50","50","510","512","50","514","50","51","515","51","52","52","516","53","52","517","53","52","518","51","518","51","519","50","51","50"]},"If the merchant is an auction Web site, the valid transaction authorization  sent by the commerce gateway  to the merchant server  includes information such as a consumer account identification, a merchant identification, a merchant sale offering, a consumer authentication, a merchant authentication, and a master identification, i.e., identification of the commerce gateway  provider. Particular to this type of response is an expiration date\/time that is used to signal the shorter of the maximum times that the consumer and the merchant are willing to \u201creserve\u201d funds associated with this transaction. If the transaction, i.e., settlement request , is not received by the commerce gateway  before the expiration date\/time all funds and goods will be released back to their owners. At a later time, once the consumer has committed to the purchase, the consumer releases a valid transaction authorization to the provider of the commerce gateway  knowing that the merchant has proven ability to ship the goods on demand without delay. This initiates the actual settlement of funds and triggers payment to the merchant in the next settlement batch, without any further interaction with the merchant. This payment method supports consumer-initiated, pre-approved purchases with expiration date\/time, such as auction and gift-certificate purchases.","It will be appreciated that  illustrates processing of a valid purchase transaction. If there is an error at any time during the processing, e.g., consumer is not authorized because he or she is not a registered consumer, has exceeded his or her spending limit, etc., processing will terminate after an appropriate error response has been returned to the consumer computer  for display to the consumer via the Web browser .","When a merchant establishes a merchant account, a contract is formed defining the relationship between the merchant and the commerce gateway provider. That contract defines the terms, such as when payments will be funded and a fee to be given to the commerce gateway provider. The commerce gateway fee can be a per transaction fee or a percentage fee based on the amount of a transaction The logic for settlement transactions for a virtual payment account is similar to the logic used for processing standard credit card settlement transactions. After the merchant ships the product, the merchant sends a settlement transaction to the commerce gateway as shown in . It will be appreciated that the logic performed by the merchant server  can be performed by the commerce engine component , or some other component, for example, a Web browser (not shown) residing on the merchant server .  illustrates the logic implemented by merchant server  when the merchant wishes to perform a settlement transaction. The logic begins in a block  and proceeds to a block  where a secure connection between the merchant computer  and commerce gateway  is established, using the same logic shown and described with reference to the consumer in block  of . The logic then proceeds to a block  where the merchant authenticator process is run. The merchant authenticator process is similar to the consumer authenticator process shown in  and described above. Next, in a decision block  a test is made to determine if the merchant is a registered participant. If not, the logic proceeds to a block  where a merchant authentication error message is displayed on the merchant server display , for example, via a Web browser. The logic of  then ends in a block .","If the merchant authenticator process is successful, the logic proceeds from decision block  to a block  where a settlement request is sent to the transaction server on the commerce gateway . As shown and described in , the transaction server  forwards the request to the credit processing server adapter , which in turn forwards the transaction request to the appropriate credit processing sub-system. In the case of a settlement transaction request, the payment processing sub-system  processes the transaction. The payment processing sub-system forwards the settlement request to the financial institution . The financial institution funds the transactions into the commerce gateway provider's account. The commerce gateway provider takes its percentage and pays the merchants their portion.","The financial institution waits for their billing cycle, e.g., monthly, and then charges the consumers for their purchases plus interest charges. The financial institution waits for the consumer payments. If the consumer does not pay, standard late payment processing, such as late notices, finance charges, etc. is performed.","Referring to , after the transaction server  has processed the settlement transaction and provided the results of the settlement transaction to the merchant's computer , the result of the settlement transaction is displayed on the merchant's display , for example, via the merchant server's Web browser. The logic of  then ends in block .",{"@attributes":{"id":"p-0111","num":"0110"},"figref":["FIG. 25","FIG. 25","FIG. 2"],"b":["54","84","52","44"]},"Referring to , the logic begins in a block  and proceeds to a block  where a the refund information including account, sub-account, and amount is obtained. The refund transaction information is then sent to the transaction server  by the administrative computer  in a block  in the form of a refund request. Transaction server  processing is shown and described with reference to .","As also noted above, in processing the refund request, the transaction server  will forward a transaction request to the credit processing server  for processing by the account\/billing sub-system  as shown in . As with the settlement transaction as shown in  and described above, a refund applied to a consumer's virtual payment account causes the consumer's open to buy amount to increase by the amount of the payment. Still referring to , after the transaction server  has processed the refund transaction, the result of the transaction processing is received and displayed by the administrative computer . The logic of  then ends in a block . Unlike the purchase transaction, the refund transaction is not initiated by the consumer via the Web browser, therefore, the consumer is notified by other means, for example by sending an e-mail message to the consumer's computer . It will also be appreciated that in yet other embodiments of the present invention, the merchant server  may initiate the refund request as opposed to the administrative computer .","Other transactions normally associated with an account such as a standard credit card account are also applicable to the virtual payment account of the present invention.  illustrate some examples of Web pages used by a consumer with a virtual payment account. Processing of these transactions is similar to other transaction processing as illustrated in flow diagrams and described above, and therefore will not be discussed in further detail herein.  illustrates an exemplary Web page summarizing the sub-accounts for a master account .  illustrates a Web page containing details of a sub-account .  illustrates a transaction summary for the sub-accounts for a given master account .  illustrates an exemplary Web page enumerating reward points earned by various sub-account holders for a given master account. It will be appreciated that the reward Web page  is not a standard feature of all standard accounts, such as a credit card account.","While the preferred embodiment of the invention has been illustrated and described, it will be appreciated that various changes can be made therein without departing from the spirit and scope of the invention. For example, it will also be appreciated that there are other transactions applicable to a the virtual payment account of the present invention, e.g., account closure, the credit limit modification, overdue account notification, etc. It will be appreciated that these transactions can be initiated by various components of the system, for example a financial institution may institute a change in a credit limit by sending a request to one of the sub-systems on the credit processing server. One of ordinary skill in the art will recognize that the requests for such transactions are processed by the virtual payment system of the present invention in a manner similar to the processing of the purchase settlement, and refund transactions described in detail above.","The embodiments of the invention in which an exclusive property or privilege is claimed are defined as follows:","1. An apparatus for purchasing a product from a plurality of computers and servers connected to form an internetwork, the apparatus comprising:\n\n"],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing aspects and many of the attendant advantages of this invention will become more readily appreciated as the same become better understood by reference to the following detailed description, when taken in conjunction with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 4","FIG. 2"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 5","FIG. 2"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 6","FIG. 2"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 8A-8E"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIGS. 9A-9D"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIGS. 11A-11F"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 13","FIG. 3"]},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 16","FIG. 5"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 17","FIG. 5"]},{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 18","FIG. 4"]},{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 19","FIG. 4"]},{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 20","FIG. 5"]},{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIGS. 21 and 22","FIG. 6"]},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIGS. 26-29"}]},"DETDESC":[{},{}]}
