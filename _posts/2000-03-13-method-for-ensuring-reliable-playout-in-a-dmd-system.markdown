---
title: Method for ensuring reliable playout in a DMD system
abstract: Aspects for ensuring digital media data delivery from remote sites in a digital media distributor system are presented. The aspects include receiving playout data in the remote sites from a central site in the digital media distributor system. The received playout data is then utilized in the remote site by an inventory manager to direct control of proper playout of digital media data. The playout data includes spot files, playlists, and purge lists.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09066113&OS=09066113&RS=09066113
owner: INTERNATIONAL BUSINESS MACHINES CORPORATION
number: 09066113
owner_city: Armonk
owner_country: US
publication_date: 20000313
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present invention is related to co-pending U.S. Application, entitled MULTIMEDIA INFORMATION COMPUTER SYSTEM AND METHOD OF OPERATION OF A PLAYLIST SCHEDULER, Ser. No. 09\/420,802, filed on Oct. 19, 1999, and assigned to the assignee of the present invention.","The present invention relates to digital media distribution, and more particularly to ensuring reliable playout through use of inventory management in a remote site of a digital media distributor system.","Although broadcasters have sophisticated systems for inserting national commercials into a program stream, including integrated traffic and billing systems, there are numerous obstacles to implementing a system to insert local commercials at small markets into a national program feed distributed by satellite. Until now, such local spot insertion advertising was the responsibility of the local broadcaster or cable operator.","Inserting local advertising poses several nontrivial technical, logistical and business challenges. First, literally hundreds of widely distributed local operators (or affiliates) would need to receive the commercials; ad agencies would have to ship analog tapes to hundreds of organizations, with different traffic and billing systems. These tapes would need to be tested for quality assurance, tracked, and stored until needed. They would then have to be distributed to video tape recorders and readied for computer controlled playout (analog) at the proper time, 24 hours a day, seven days a week. Such infrastructure generally exists at well-funded affiliates in major markets but is nonexistent and prohibitively expensive for smaller operators or affiliates in small markets.","Managing such tapes with ads for local commercials and inserting them properly into the program feed is a complex undertaking not well-suited for the smaller operators, especially for channels with smaller audiences in smaller markets. A quality broadcast involves more than excellent program material; it must provide seamless insertion of national and local advertisements, promotions, and station identifications.","Equally important is the ability to maintain the integrity of the national television programming. Centralized control of the channel's programming (playout) is required to prevent local affiliates from tampering with the programming.","Accordingly, a need exists for an efficient system for reliable playout including inventory management in a remote site of a digital media distributor system. The present invention addresses such a need.","Aspects for ensuring digital media data delivery from remote sites in a digital media distributor system are presented. The aspects include receiving of playout data in the remote sites from a central site in the digital media distributor system. The received playout data is then utilized in the remote site by an inventory manager to direct control of proper playout of digital media data. The playout data includes spot files, playlists, and purge lists.","Through the aspects of the present invention, modules of a remote site provide the ability to efficiently manage digital media data for playout from the remote site. Particularly, through the implementation of an inventory manager in accordance with the present invention, streamlined management of playout data ensures accurate delivery of digital spots to the end-users. Included in the management is a look-ahead functionality that allows spots that are not yet present but are needed soon to be identified and transmitted in time for a scheduled delivery, thus ensuring integrity in spot playout. These and other advantages of the aspects of the present invention will be more fully understood in conjunction with the following detailed description and accompanying drawings.","The present invention relates to reliable playout of digital media data by a remote site in a digital media distributor system. The following description is presented to enable one of ordinary skill in the art to make and use the invention and is provided in the context of a patent application and its requirements. Various modifications to the preferred embodiment and the generic principles and features described herein will be readily apparent to those skilled in the art. Thus, the present invention is not intended to be limited to the embodiment shown but is to be accorded the widest scope consistent with the principles and features described herein.","In accordance with the present invention, a digital media distributor (DMD) provides a complete end-to-end system that gives local cable or network affiliates the ability to provide local ads and announcement insertion together with the delivery of cable or network feed(s). In general, the DMD integrates the entire process of sales, traffic, digital encoding and storage of spots, transmission of data, local insertion of digital ads and announcements, account reconciliation, and billing. Spots (i.e., media such as commercials, station identification, public service announcements, etc.) are digitized by the cable or network operator, and then digitally transmitted to the local cable head-ends or network affiliates from a central site. These digital spots are then stored on the remote site servers located at each head-end or affiliate.","A block diagram of a DMD in accordance with the present invention is illustrated in . As shown, the DMD includes three major components: a central site , a distribution network , and a remote site . The central site  is the location for the digital encoding of MPEG-2 files from source video tapes, storage and management of digital files, management of remote site(s) , and distribution of schedules and MPEG-2 files. Thus, the processing, analysis, distribution, and management of data occurs at the central site . The distribution network  is the mechanism by which the remote site(s)  receive program streams and digital spots. The data distribution is accomplished via various methods, such as a satellite and\/or land-based distribution. The broadcaster may choose to have the program stream sent via terrestrial links (e.g., token ring, ethernet, etc.), while the spot insertion is sent via satellites or vice versa.","The remote site(s)  house the remote site server(s) . By way of example, a suitable remote site server  includes a Pentium processor-based device with a hard disk for local storage and a video switch card (to switch between program and commercial insertion) running software including Windows NT, DMD programming, Lotus Notes client, Program Loader, and Symantec pcANYWHERE. These unattended, computerized systems receive the local insertion and provide As-Run file generation. The remote site server  is a video server that receives and stores digitized spots utilized for local insertion at the cable head-end. The remote site server  receives digitally encoded ads via satellite or other distribution network. These spots are decoded to an analog signal and inserted into the cable or network operator feed at scheduled times, i.e., into scheduled local availability times. The remote site server  can be customized in various configurations based on the number of output channels required, the type of output format (e.g., NTSC, PAL), the amount of local storage required (i.e., the number of spots on disk), the type of network (satellite or terrestrial), the type of trigger for spot insertion (e.g., time of day, VITC, cue-tome, VBI trigger), the audio format and connections (stereo, mini-XLR or XLR), the redundancy requirements (RAID, mirrored disks), and the preview channel.","By way of example, the following provides a sample process that illustrates an example of one process which the DMD solution can support. A region, e.g., any grouping of one ore many cable head-ends for cities, states, provinces, or countries, defined by cable or network operators in an area, sells a commercial in the local availability time. All remote site servers  within the same region play the same material at the same time, including all network programs, national spots, local commercials, announcements, etc. The videotaped segment for the commercial is digitally encoded. The digital material is scheduled for delivery to each remote site server  prior to broadcast. The playlist, digitized spots, and the broadcast program stream are sent, via satellite, to all of the remote site servers  within the region. All of the remote site servers  within the region air the local spots for that region at the scheduled time. As-Run logs are retrieved by the central site  from the remote site servers . As-Run logs are sent to the local markets, reviewed, reconciled, and customers are billed. Commercials and As-Run logs are then archived.","The central site  efficiently distributes objects and thus manages the resources of the remote site . By managing these resources, the central site  can determine when to send information to the remote site(s) . A main component in producing the management of the resources is the central site server . By way of example, a suitable central site server  includes an IBM RS\/6000 F50 dual CPU system, or a Pentium II compatible PC, running the IBM UNIX operating system, AIX, DB2 server software, Lotus Notes server software, ADSM, Windows NT (for PC-based central site server), and the DMD programming. Suitable components for the control workstations  include Pentium compatible PCs running Windows NT, Lotus Notes client, DB2 client, Microsoft Internet Explorer, and DMD programming.","The central site server  includes software on a suitable computer readable medium that is architected using a layered model, in which each layer isolates the upper layers from the details of the lower layers and individual components within a layer provide a unique set of services, as is well appreciated by those skilled in the art.  illustrates an example of a suitable layered architecture for the central site server . The top layer  addresses the external interfaces of the central site server , including a graphical user interface (GUI) component and the interfaces to the external systems. The GUI component, e.g., using Lotus Notes, provides administrators and operators with the ability to monitor and control the DMD. The interfaces to external systems include interfaces to traffic systems, which interface to the central site  by way of files exchanged on an Internet file server, for example, interfaces to stations in a box (SIBs) which send Lotus Notes messages, and interfaces to encoder systems (, ), which store encoded spot files in a disk pool server for retrieval by the central site server .","Underneath the top layer is a layer  of specialized components including a stage manager component , an uplink server component , and a transmission scheduler component . This layer  may also include specialized components for creating commands and interpreting responses from SIBs, managing access to all the database queues and other data stores, and providing automated agents that run based on time or events to manage the external interfaces, e.g., processing files received from traffic systems. The stage manager  manages any tape related activity, the uplink server  manages transmissions through the uplink network (, ), and the transmission scheduler manages scheduling tasks. Also included as a next layer is a programming layer . The layer  includes the programming libraries and APIs (application programming interfaces) that are used to build the specialized components. The lower two layers include an operating system layer  and a hardware layer  for the fundamental operation of the central site server , as is well appreciated by those skilled in the art.","In accordance with the present invention, remote sites  ensure reliable playout of the spots as scheduled through the utilization of an inventory manager, as described with reference to , , and . Referring to , the playout of the spots initiates with the central site  transmitting playout data, the playout data including spots, playlists, and purge lists, to the remote site (SIBS)  (step ).",{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 4","FIG. 2","FIG. 2","FIG. 2"],"b":["100","10","14","10","40","30","42","28","30","44","26","46","28","28","14","48"]},"Referring again to , once the playout data has been transmitted to the remote site , the remote site utilizes the playout data to manage inventory and ensure proper delivery of spots on-time. Thus, the remote site : deletes files in purge lists of the playout data (step ), interrogates \u201cUpcoming Playlists\u201d (defined by a system parameter \u201cSCHED_LOOKAHEAD\u201d) with inventory on hand (step ); looks-ahead to identify spot(s) which will be \u201cneeded soon\u201d (defined by a system parameter \u201cSIB_MISSINGSPOTWINDOW\u201d) (step ); and sends (asynchronously) a list of missing spots to the central site  (step ). The central site  then verifies that the missing spot list is based upon the proper, upcoming playlists (step ) and sends missing spots on an accelerated transmission schedule to the remote site  (step ).","The system parameter \u201cSCHED_LOOKAHEAD\u201d refers to a scheduler parameter that indicates the number of days from the current date for which the transmission scheduler  () attempts to begin playlist processing. For example, if set to 1, the playlists from the next day on through the \u201cSCHED_LOOKAHEAD_DUR\u201d (up to five days beyond the next day) will be processed, if available, where \u201cSCHED_LOOKAHEAD_DUR\u201d refers to a transmission scheduler  parameter that indicates the number of days of playlists that the scheduler will attempt to process at a time. The \u201cSIB_MISSINGSPOTWINDOW\u201d parameter refers to a remote site parameter that sets the missing spot look-ahead window, e.g., in hours, so that the remote site  will look-ahead X hours in the playlist as defined in \u201cSIB_MISSINGSPOTWINDOW\u201d, and report the missing spots.","In performing the management of inventory, the remote site utilizes an inventory manager module. As shown in , an inventory manager module  is a sub-thread of a main module  of a main program of the remote site . The main program is responsible for the start up of the remote site\/SIB box. The process starts up a separate module called the main module , which is responsible for initialization and starting the other program threads.","When the main module  receives the initialization message, it creates and initializes all of the other modules\/threads of the system, including an inventory manager module , logging module , player module , file manager module , and command processor module . The logging module  is responsible for maintaining a record of internal events and logs informational, warning, and error messages to a remote site  log file or sends the messages asynchronously to the central site , as determined by the severity of the message and the reporting and logging levels set by the central site .","The player module  plays spots as specified in the playlist and generates As-Run files after playing. The player module  handles one playlist at a time and provides a device independent interface for use by a player server. The player module  is organized into interacting objects: a playlist object that manages the playlist by cueing up spot files (e.g., files with an \u201c.mpg\u201d extension) and setting starts and durations; a player server object that executes the playlist by playing spots (i.e., decoding and generating NTSC video out); and an As-Run object that tracks actual playtimes and generates the As-Run list for all playlists, notifying the file manager  to send the as-run lists back to the central site .","The file manager  is responsible for receiving the satellite feed and managing files. Thus, the file manager  identifies when new files arrive and moves them to the proper directories (e.g., makes a secure file copy and examines the file type(s)). The file manager  also notifies any affected modules about the new files, i.e., when a spot or playlist arrives, it notifies the inventory manager , and when a command file arrives, it notifies the command processor .","The command processor  is responsible for executing central site  commands to send status, execute commands, use new playlist(s), use new MPEG spots, etc. When a new command (e.g., a file with a \u201c.cmd\u201d extension) is received, the command processor  reads and parses command file(s) to then execute the command(s) or post messages, so that the affected modules can execute the new command(s). Thus, MPEG file commands are delegated to the inventory manager , all other file commands are delegated to the file manager , player commands, if implemented, are delegated to player , and \u201cset parameter\u201d commands are implemented by the command processor .","The inventory manager  is responsible for maintaining spot information and for implementing MPEG file commands, missing spot lists, and the spot purging algorithm, to ensure reliable spot playout in accordance with the present invention. The information that is maintained includes the names of all spots that reside on the MPEG disk drive(s), regardless of whether the spot is needed by any playlist. If the spot is needed by one or more playlists, the playlist name(s) and scheduled start time(s) are also maintained for the spot. Through this information, the inventory manager  knows which spots are missing and when they are needed. Likewise, it knows which spots are not needed, thereby also providing the remote site  spot purging algorithm. The inventory manager  also coordinates the deletion of all spots, since it maintains the delete protect flag for each spot. The delete protection is a condition for the spot that the central site can set , which prevents the spot from being deleted via central site  delete command or the purging algorithm unless the delete protection is first removed by a central site  command. While coordination of spot deletion is done by inventory manager , the actual physical deletion of spots is performed by the file manager . The inventory manager  performs parsing of new or updated playlists to detect playlist corruption and to detect if reload commands are present in updated playlists.","The following summarizes functions performed by the inventory manager :\n\n","The inventory manager  interfaces with\/is dependent on other threads as follows:\n\n","The ability to efficiently manage digital media data for playout from a remote site is achieved through the implementation of an inventory manager in accordance with the present invention. The inventory manager provides streamlined management of playout data to ensure accurate delivery of digital spots to the end-users. Included in the management is a look-ahead functionality that allows spots that are not yet present but are needed soon to be identified and transmitted in time for a scheduled delivery, thus ensuring integrity in spot playout.","Although the present invention has been described in accordance with the embodiments shown, one of ordinary skill in the art will readily recognize that there could be variations to the embodiments and those variations would be within the spirit and scope of the present invention. Accordingly, many modifications may be made by one of ordinary skill in the art without departing from the spirit and scope of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
