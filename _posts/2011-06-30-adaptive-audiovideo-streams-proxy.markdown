---
title: Adaptive audio/video streams proxy
abstract: A method is provided comprising: receiving a constant bit rate video stream representing a single video from a video source via a managed broadband connection; converting the constant bit rate video stream into a single non-adaptive bit rate video stream by modifying a video transport stack of the video to be compatible with a home device media player video transport stack; modifying a video control stack of the video to be compatible with a device in a home network; adding a home networking transport stack to the video stream, wherein the home networking transport stack is such that it would appear to the device in the home network as if the video stream came from a server local to the home network; and delivering the video stream to a device in the home network.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09032450&OS=09032450&RS=09032450
owner: Samsung Electronics Co., Ltd.
number: 09032450
owner_city: Suwon-si
owner_country: KR
publication_date: 20110630
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF SPECIFIC EMBODIMENTS"],"p":["This application claims the benefit of priority under 35 U.S.C. 119(e) to U.S. Provisional Patent Application No. 61\/435,196, filed Jan. 21, 2011, which is incorporated herein by reference for all purposes.","1. Field of the Invention","The present invention relates generally to home networking. More specifically, the present invention relates to an adaptive audio\/video stream proxy.","2. Description of the Related Art","Traditionally video delivery into the home has consisted of broadcasts delivered over airwaves, through cable, and through satellite transmissions. More recently, Internet Protocol Television (IPTV) has enabled delivery of video over managed broadband connections, including digital subscriber line (DSL) and cable modem systems. In the managed broadband environment, there is a need to place a set-top box or other device to handle the management tasks at or near the television.","More recently, however, it has become more common for mobile subscribers of providers to be served from unmanaged broadband connections while at home. The most common of these unmanaged broadband connections have been in smartphones communicating over EDGE, 3G, or 4G networks. Other devices, such as tablet computers, as well as other newer hardware devices, however, may also need to deal with such unmanaged broadband connections. Converged service providers with large mobile subscription base now have an opportunity to extend service offers into the homes of their mobile subscribers with smartphones and tablet computers, connected TVs and new devices dealing effectively with these unmanaged broadband connections. Since these providers may have hundreds of millions of mobile device subscriptions, but their penetration into the managed broadband connection market may be much more severely limited, on the order of a million or even less managed broadband connections. As such, it would be beneficial to these providers to be able to offer services such as video delivery to televisions in the home through the unmanaged broadband connections, as the number of customers who possibly would switch to such video delivery services are much more plentiful than those who merely subscribe to premium quality of service managed broadband connections.","Furthermore, televisions and set-top boxes are highly cost sensitive devices that require high volumes of sales in order to be profitable. It would therefore be beneficial to have a solution that allows for converged video services delivery via unmanaged broadband connections using the televisions and other devices already deployed in the home, as opposed needing to penetrate the consumer market with another TV or set top box device.","In a first embodiment of the present invention, a method is provided comprising: receiving a constant bit rate video stream representing a single video from a video source via a managed broadband connection; converting the constant bit rate video stream into a single non-adaptive bit rate video stream by modifying a video transport stack of the video to be compatible with a home device media player video transport stack; modifying a video control stack of the video to be compatible with a device in a home network; adding a home networking transport stack to the video stream, wherein the home networking transport stack is such that it would appear to the device in the home network as if the video stream came from a server local to the home network; delivering the video stream to a device in the home network; and acting as a remote user interface (RUI) proxy by providing an RUI to the device in the home network, the RUI allowing a user of the device in the home network to interact with the video source to control aspects of the video via the RUI proxy.","In a second embodiment of the present invention, a method is provided comprising: receiving multiple constant bit rate video streams representing multiple videos from a video source via a managed broadband connection; converting the constant bit rate video streams into one or more non-adaptive bit rate video streams by modifying a video transport stack of the video to be compatible with a home device media player video transport stack; modifying a video control stack of the videos to be compatible with a device in a home network; adding a home networking transport stack to the video streams, wherein the home network stack is such that it would appear tot eh devices in the home network as if the respective video streams came from a server local to the home network; delivering the video streams to one or more devices in the home network; acting as a remote user interface (RUI) proxy by providing one or more RUIs to the one or more devices in the home network, the one or more RUIs allowing users of the devices in the home network to interact with the video source to control aspects of the video via the RUI proxy","In a third embodiment of the present invention, a method is provided comprising: receiving one or more adaptive bit rate video streams video streams representing a single video from a video source via an unmanaged broadband connection; converting the adaptive bit rate video streams into a non-adaptive single bit rate video stream by modifying a video stack of the video; modifying a video control stack of the video to be compatible with a device in a home network; adding a home network stack to the single bit rate video stream, wherein the home network stack is such that it would appear to the device in the home network as if the single bit rate video stream came from a server local to the home network; delivering the single bit rate video stream to a device in the home network; and acting as a remote user interface (RUI) proxy by providing an RUI to the device in the home network, the RUI allowing a user of the device in the home network to interact with the video source to control aspects of the video via the RUI proxy.","In a fourth embodiment of the present invention, a video stream proxy is provided comprising: an interface designed to receive one or more adaptive bit rate video streams from one or more video sources over an unmanaged connection, the adaptive bit rate video streams representing a single video; an adaptive video proxy including: a video stream converter designed to convert the one or more adaptive bit rate video streams into a first single video stream by modifying the video stack of the video, and to modify a video control stack of the video to be compatible with a device in a home network; a network stack modifier designed to add a home network stack to the first single video stream, wherein the home network stack is such that it would appear to the device in the home network as if the first single video stream came from a server local to the home network; and an RUI proxy designed to provide an RUI to the device in the home network, the RUI allowing a user of the device in the home network to interact with the video source to control aspects of the video via the RUI proxy.","In a fifth embodiment of the present invention, a system is provided comprising: a video hub office (VHO); a multicast router connected to the VHO via a managed broadband connection; a content distribution network (CDN) connected to the multicast router via a managed broadband connection; one or more adaptive multirate multistream converter devices at an edge of the CDN configured to prepare the streams for both unmanaged broadband connections and best effort managed broadband connections; a third party service provider connected to the CDN via an unmanaged broadband connection; a device connected to the CDN via a managed broadband connection, wherein the device is designed to expect non-adaptive bit rate video streams sent via the managed broadband connection; and an adaptive video proxy designed to convert one or more adaptive bit rate video streams from the third party service provider into one or more non-adaptive bit rate video stream suitable for transmission to the device via the managed broadband connection by modifying a video stack and a video control stack of the non-adaptive bit rate video stream.","In a sixth embodiment of the present invention, a non-transitory program storage device readable by a machine tangibly embodying a program of instructions executable by the machine is provided to perform a method comprising: receiving a constant bit rate video stream representing a single video from a video source via a managed broadband connection; converting the constant bit rate video stream into a single non-adaptive bit rate video stream by modifying a video transport stack of the video to be compatible with a home device media player video transport stack; modifying a video control stack of the video to be compatible with a device in a home network; adding a home networking transport stack to the video stream, wherein the home networking transport stack is such that it would appear to the device in the home network as if the video stream came from a server local to the home network; and delivering the video stream to a device in the home network.","In a seventh embodiment of the present invention, an apparatus is provided comprising: means for receiving one or more adaptive bit rate video streams video streams representing a single video from a video source via an unmanaged broadband connection; means for converting the adaptive bit rate video streams into a single bit rate video stream by modifying a video stack of the video; means for modifying a video control stack of the video to be compatible with a device in a home network; means for adding a home network stack to the single bit rate video stream, wherein the home network stack is such that it would appear to the device in the home network as if the single bit rate video stream came from a server local to the home network; means for delivering the single bit rate video stream to a device in the home network; and means for acting as a remote user interface (RUI) proxy by providing an RUI to the device in the home network, the RUI allowing a user of the device in the home network to interact with the video source to control aspects of the video via the RUI proxy.","Reference will now be made in detail to specific embodiments of the invention including the best modes contemplated by the inventors for carrying out the invention. Examples of these specific embodiments are illustrated in the accompanying drawings. While the invention is described in conjunction with these specific embodiments, it will be understood that it is not intended to limit the invention to the described embodiments. On the contrary, it is intended to cover alternatives, modifications, and equivalents as may be included within the spirit and scope of the invention as defined by the appended claims. In the following description, specific details are set forth in order to provide a thorough understanding of the present invention. The present invention may be practiced without some or all of these specific details. In addition, well known features may not have been described in detail to avoid unnecessarily obscuring the invention.","In accordance with the present invention, the components, process steps, and\/or data structures may be implemented using various types of operating systems, programming languages, computing platforms, computer programs, and\/or general purpose machines. In addition, those of ordinary skill in the art will recognize that devices of a less general purpose nature, such as hardwired devices, field programmable gate arrays (FPGAs), application specific integrated circuits (ASICs), or the like, may also be used without departing from the scope and spirit of the inventive concepts disclosed herein. The present invention may also be tangibly embodied as a set of computer instructions stored on a computer readable medium, such as a memory device.","The present invention reduces the need for a set-top box while extending the reach of a video subscription over unmanaged broadband paths to a home. It provides advanced adaptive methods in order to deal with the latency and loss effects over unmanaged broadband Internet infrastructure. This allows for a decoupling of the volume cost sensitive standardized streaming media players and televisions from having to deal with the ongoing, complex, and churning over the top streaming video termination requirements. Performing this function in the home facing the home WAN side as opposed to the LAN side allows it to be removed from the normal set-top box packaging paradigm.","The present invention address the over-the-top video stream decoupling opportunity, enabling the unmanaged broadband wide area network video streaming methods to thrive while remaining decoupled from the cost sensitive more standardized home network streaming methods deployed into existing streaming media player and screen endpoints, such as Digital Living Network Alliance (DLNA), Universal Plug and Play (UPnP), Digital Media Renderers (DMR)\/Digital Media Servers(DMS)\/Digital Media Controllers (DMC), and Consumer Electronics Association Standards (CEA2014, CEA861). In an embodiment of the present invention, an adaptive video streaming proxy is provided for the whole home such that it can be placed at a more central service hub location on the home network, facing the managed and unmanaged broadband connections in the Wide Area Network (WAN) and servicing one or more connections. This adaptive video streaming proxy performs a unique mix of video streaming transport layer adaptations, adaptive media proxies, and adaptive media control proxies. It can be mixed further to include audio\/video codec transcoding methods. This unique blend of WAN to Local Area Network (LAN) and LAN to WAN as well as LAN to LAN communications allow for adaptive WAN stream effects decoding, adaptive media transport layers (e.g., Hypertext Transfer Protocol (HTTP) header adaptations, User Datagram Protocol(UDP)-Transmission Control Protocol (TCP) adaptations, audio video multiplexing transport stream Protocols (MPEG4\/MPEG2TS), and stream control modifying proxies (e.g., Real-Time Streaming Protocol (RTSP), Internet Group Management Protocol (IGMP), Hypertext Transfer Protocol (HTTP)). Additionally, the adaptive stream proxy hub may contain a control service Application Program Interface (API) such that a WAN-based cloud server and\/or a LAN-based service controller can send per stream setup and teardown requests and statistics. The adaptive stream proxy hub faces the home network with standard DLNA and CEA defined A\/V streaming transport formats and media control protocols.","Additionally, the present invention allows for a Remote User Interface (RUI) proxy that automatically converts control packets from one protocol to another while also controlling the real time behaviors of the adaptive video proxy, in addition to being a user interface proxy for locally networked multiple audio video rendering devices.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1","b":["100","102"]},"At the next level down in the stack , User Datagram Protocol (UDP) is used. At the next level down , the IP protocol is used. This may indicate either a multicast or a unicast IP address. At the bottom level , Ethernet protocol is used.","One problem with the protocol stack utilized in  is that many consumer devices do not support this protocol directly. As such, any devices that support this video protocol stack must be controlled or provided by the service provider. This is depicted in .  depicts an example system for providing broadband video connections to users. Here, a service provider maintains a video hub office (VHO) , which is a regional location from which all of the TV signals are broadcast. The VHO may receive the video from Super Head Ends (SHEs). The video is then send to a multicast router , which broadcasts the video through a content distribution network (CDN)  to managed broadband connections , , ","One problem with this approach is that the service provider A (e.g., AT&T) must control each portion of the network, from the VHO  to the managed connections , , . Constant Bit Rate video stacks are sent only over premium high quality managed connections today. In an embodiment of the present invention, however, Provider A is a converged service provider and typically also has many Mobile subscribers connected via a wireless gateway . This includes 3G\/4G compatible devices , . Additionally, provider A may be able to connect to a third party service provider  (e.g., Verizon) connected to the CDN , having its own managed or unmanaged connections. All the mobile subscribers may access the video broadcasts that have been adapted for non premium best effort managed connections (and ) and unmanaged connections (and ) from a streaming adaptor located at the edges of Provider's A CDN . The provider A mobile wireless gateway  enables 3G\/4G mobile connected devices (e.g., via smartphones, tablets, and MiFi hotspots), to access the video services as well, including on a standard CEA861 HDMI connected local device or on a standard LAN connected CEA2014 devices.","This technology also allows the idea of a traditional set-top box, at least as a stand-alone entity, to be eliminated, as a controlled adaptive stream proxy in accordance with the present invention can be added as software to any device in the network, including, for example, a smartphone or tablet. In another embodiment of the present invention this software can be housed in a small pocket sized portable set back box that can sit anywhere in the home LAN network or adjacent to a TV connected to multiple screens in the home using CEA861 controlled HDMI and LAN networked CEA2014 RUI and DLNA standards.","One additional problem that must be addressed is that the protocol stack described in  and the corresponding text presently assumes a constant bit rate for the stream. Unmanaged broadband connections, however, require a adaptive bit rate for the video stream. More particularly, many consumer devices on unmanaged broadband connections may be looking for a protocol stack like that depicted in  using well known HTTP stream control protocols, rather than that of . Of course, the service provider can modify the unicast and broadcast streams from the VHO to through use of a streaming adaptor typically located at the edge of their CDN network facing the non premium managed and best effort unmanaged broadband connections to their mobile distribution partners and subsidiaries and to third party access providers but part of the rationale for the present invention is that the service provider is willing to introduce adaptive bite rate video technology at their edge of their CDN network and in their endpoint devices (mobile and fixed) in order to extend reach of their video services to their typically much larger mobile subscriber base and over the top of third party access providers to new subscribers. In one embodiment of the present invention, a constant bit rate video stream is converted to a standard home device compatible video stream by modifying a video stack of the video. In one very particular embodiment this may mean modifying the video stack from that depicted in  to that depicted in . However, one of ordinary skill in the art will recognize that alternative embodiments where other types of adaptive and constant bit rate video stream stacks than that depicted in  are converted to other types of non-adaptive bit rate video stream stacks than that depicted in .","In addition to converting the bit rate, a number of additional modifications can be made to affect the user's perception of the video. Specifically, there may be a desire to allow the user to control aspects of the video, such as a channel being displayed, much as he or she would be able to with a managed broadband connection. As such, in one embodiment of the present invention a video control stack of the video can be modified to be compatible with the user's device in the home network. Furthermore, there may be a desire to \u201cfool\u201d the device into thinking that the video actually is sent from a local server in the home network. As such, a home network stack can be added to the non adaptive bit rate video stream. Additionally, there may be a desire to provide other levels of human interaction with the video, such as a complete interactive user interface to be displayed on a television. As such, the device performing the conversion of the video stream can also act as a remote user interface (RUI) proxy by providing an RUI to the device in the home network. The RUI can provide a number of different interactive elements. For example, the user may be able to access the Internet on the television via the RUI. The user may also be able to access telephony services, such as a viewing visual voice mail, playing back voice mails, making and receiving telephone calls, etc. through the television.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 4","b":"400"},"At , the adaptive stream proxy controller is set up to terminate the LAN and WAN side stream control functions, such as RTSP, IGMP, or a specific HTTP set of signals, as provisioned in step  above. This includes adapting to the LAN-side DLNA home network standard protocols of DMS\/DMC\/DMR. It can also include making itself look like a DLNA compliant DMC or DMS in the home LAN for provider network located streaming services. It can also make itself look like a CEA 2014 compliant UI and stream server for the home. It can also be interworked through a local CEA 2014 RUI client to locally connected HDMI rendering audio and video rendering devices interworking with CEA861 interactivity messages. The functionality of this adaptive stream proxy of the present invention can be implemented in many different devices or components within a network. In one embodiment, it may be implemented in a consumer device, such as a tablet computer or smart phone. In another embodiment, it may be implemented into a personal wireless hot spot (e.g., MiFi) device. In another embodiment, it may be implemented into a portable set back box apparatus, which is a device small enough to attach to the back of a television that integrates to traditional well deployed television decoding and Internet access\/decoding such as HDMI CEA861.","At , the adaptive stream proxy controller modifies the signal from the WAN into a set of signals on the LAN that include compliant signals to media renderers, controllers, and servers in the home LAN. For example, the adaptive stream proxy controller may modify an RTSP signal from the WAN into a set of HTTP signals on the LAN that include DLNA and CEA 2014 compliant signals.","At , the adaptive stream proxy controller generates join and leave requests to the provider WAN network in response to Get or Post signals from the home LAN. These Get or Post signals may be in DLNA or CEA 2014 compliant signaling.","At , the adaptive A\/V stream transport mechanism in the adaptive stream proxy subsystem may perform per A\/V stream packet functions, including, but not limited to:","Removal, addition, or modification of an MPEG2TS transport packet","Removal, addition, or modification of an MPEG4 transport packet","Removal, addition, or modification of an RTP packet header","Removal, addition, or modification of an HTTP packet header, such as content type or content size, in order to accommodate inflexible installed video streaming endpoints","Removal, addition, or modification of UDP\/TCP layer packet headers","Detection and Rechunking of the multiplexed MPEG video packets to fit a traffic optimized WAN or LAN in terms of packets per second and bytes per packet","Modification of the IP address and port number source or destination packet headers","As an advanced function: dynamic addition and\/or removal of elemental audio or video stream in MPEG2TS or MPEG4 transport headers from other audio and video sources related to the subscriber converged services such a mobile media and telephony services offered by the converged service provider A or from other service providers used by the user.","Provide statistics gathered and report adaptive stream and stream control proxy functions on the ingress and ingress. Furthermore, the user of this information to dynamically change behavior or connectivity of the stream path or stream control path.","At , the teardown of a stream service and stream controlled service may be performed based on detection that the stream is gone or a specific control that a stream has stopped due to a WAN network initiated provider or stream control signal or LAN endpoint software client\/device initiated control.","In one embodiment of the present invention, the invention can operate on the existing constant bit rate premium managed broadband connections in a modified set-top box or new device apparatus\/tablet in the home, converting one or more video streams to the home networked video endpoints. In this embodiment, there is no need for a conversion in the CDN to adaptive bit rate streams. In another embodiment, of the present invention, the conversion of constant bit rate video to adaptive bit rate video located in the CDN is utilized as well as the managed and unmanaged connections to the home. The conversion is first performed to arrive at non-adaptive bit rate video, then the other modifications to the video stream and the video control stacks are performed.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 5","b":["500","502","504","506","506","504","506","506","506","500"],"i":["a","b","a","b","c "]},"Unlike a dual TV environment, where a video signal from a television may be replicated on a handheld device such as a tablet, in this embodiment the service originates from the service provider. Indeed, the user may have multiple different service providers (e.g., a telephone company provider of the tablet computer, a television provider with a set top box, and a national TV broadcast provider.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":["FIG. 5","FIG. 2"],"b":["200","502","500","500","504","506","500","504"],"i":"a"},{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 6","FIG. 5","FIG. 5"],"b":["600","500","600","600","500","606","604","606","606"],"i":["a","b ","c. "]},{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIG. 7","FIGS. 5 and 6"],"b":["700","702","700","702","704","706"]},"In one embodiment of the present invention, the audio portion of the converted non adaptive bit rate video stream may be augmented with additional audio by multiplexing in an audio stream from a different source. For example, while watching a football game on a television, the user may hear a voice mail message left for him on his home or mobile phone number intermixed with the audio of the football game.","This same audio video multiplexing control mechanism in the present invention may be used to deliver multiple versions of the video stream in the same signal. For example, a version of a movie with a first video stack making it compatible with a mobile phone may be delivered multiplexed in the same stream as another version of the movie with a second video stack making it compatible with a tablet computer.",{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 8","b":["800","802","804","806","808","810"]},"At , optionally, a portion of separate content (such as a voice mail) may be multiplexed into a portion of the non-adaptive bit rate video stream prior to delivering it to a device in the home network.",{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 9","b":["900","902","900","904","904","906","904","908","900","910","900","912"]},"The adaptive proxy device  can also include an interface  containing a local video display connection as well as a home network connection. The RUI proxy  works with both functions of the interface . The local video display connection of interface  may also detect and receive TV remote control commands and detect the presence of locally connected audio\/video devices, as well as receive and transmit subtending audio\/video local device power control signals in interworking these components with the RUI proxy , allowing a user of the device in the home network to interact with the video source to control aspects of the video. This same mechanism can be used to transmit device information about the device to the RUI proxy, which can then forward it to the provider, as well as to receive information from the provider and transmit it to the device.","In another embodiment of the present invention, one or more CDN edge devices may receive the constant bit rate video stream and may perform a conversion of this constant bit rate. The resulting converted video stream may be called an \u201cadaptive\u201d bit rate video stream. In such embodiments, the present invention may receive this adaptive bit rate video stream and convert it to a non-adaptive bit rate video stream by modifying the video stack as described earlier.","As will be appreciated to one of ordinary skill in the art, the aforementioned example architectures can be implemented in many ways, such as program instructions for execution by a processor, as software modules, microcode, as computer program product on computer readable media, as logic circuits, as application specific integrated circuits, as firmware, as consumer electronic device, etc. and may utilize wireless devices, wireless transmitters\/receivers, and other portions of wireless networks. Furthermore, embodiment of the disclosed method and system for displaying multimedia content on multiple electronic display screens can take the form of an entirely hardware embodiment, an entirely software embodiment, or an embodiment containing both software and hardware elements.","The term \u201ccomputer readable medium\u201d is used generally to refer to media such as main memory, secondary memory, removable storage, hard disks, flash memory, disk drive memory, CD-ROM and other forms of persistent memory. It should be noted that program storage devices, as may be used to describe storage devices containing executable computer code for operating various methods of the present invention, shall not be construed to cover transitory subject matter, such as carrier waves or signals. Program storage devices and computer readable medium are terms used generally to refer to media such as main memory, secondary memory, removable storage disks, hard disk drives, and other tangible storage devices or components.","Although only a few embodiments of the invention have been described in detail, it should be appreciated that the invention may be implemented in many other forms without departing from the spirit or scope of the invention. Therefore, the present embodiments should be considered illustrative and not restrictive and the invention is not to be limited to the details given herein, but may be modified within the scope and equivalents of the appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
