---
title: Predicate based group management
abstract: Embodiments are provided to generate an integrated data structure. In an embodiment, a database system is configured to generate an integrated database view that includes a number of predicate-based objects and a number of enumerated objects. A declarative membership criteria can be used to provide automatic membership to a group of objects associated with the database system. A number of predicate-based group membership rules can be used when generating a database view that includes a number of predicate-based views and a number of enumerated groups.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07596584&OS=07596584&RS=07596584
owner: Microsoft Corporation
number: 07596584
owner_city: Redmond
owner_country: US
publication_date: 20070425
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["COPYRIGHT NOTICE","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["A portion of the disclosure of this patent document contains material, which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or patent disclosure as it appears in the U.S. Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","Businesses and other organizations routinely maintain large amounts of records, data, and other information. An organization may use some type of database system to manage and maintain sales information, employee records, equipment types and locations, access rights, etc. Correspondingly, the organization expects to use the database system effectively by quickly and efficiently updating information contained therein. Unfortunately, many database systems are not configured to expeditiously update information. For example, some database systems require manual assessment and updating of each record. Moreover, some database systems are not configured to update multiple records without employing an inordinately complicated process. For example, if an employee leaves a company, a manager or other user may have to spend an unreasonable amount of time to locate all of the records associated with the employee and manually update each record to reflect that the employee is no longer associated with the company.","This summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description. This summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended as an aid in determining the scope of the claimed subject matter.","Embodiments are provided to generate an integrated data structure. In an embodiment, a database system is configured to generate an integrated database view that includes data associated with a number of predicate-based groups and a number of enumerated groups. As such, predicate-based membership criteria can be used in part to manage information associated with the database system. Accordingly, declarative membership criteria can be used to provide automatic membership to a group of objects associated with the database system. In one embodiment, a number of predicate-based group membership rules can be used when generating a database view that includes a number of predicate-based groups and a number of enumerated groups.","These and other features and advantages will be apparent from a reading of the following detailed description and a review of the associated drawings. It is to be understood that both the foregoing general description and the following detailed description are explanatory only and are not restrictive of the invention as claimed.","Embodiments are provided to generate an integrated data structure. In an embodiment, a database system is configured to generate an integrated database view that includes a predicate-based view and a number of enumerated objects. In another embodiment, a method uses a number of predicate-based group membership rules used when generating a database view that integrates a number of predicate-based views with a number of enumerated groups. The various embodiments can be used with any application that uses groups of objects that are stored in a relational database.","In one embodiment, a database management system includes a database application that can be used to define a number of predicate-based membership and other rules, according to a desired implementation. The database application can be configured to define a number of SELECT statements, union operations, and includes other functionality. The database management system can use a logical schema when defining a predicate-based group membership. A logical schema can also be used to generate a predicate-based membership view, and a number of these views can be combined to provide an integrated predicate-based view. The integrated predicate-based view can be combined with a number of enumerated objects to provide an overall view that encompasses predicate-based and enumerated objects. The overall view can be queried to locate desired information according to a query construct. These and other embodiments are described below, and other embodiments are available.",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1","b":["100","100","102","100","100","100"]},"As shown in , the system  includes a database system , an organizing component , and a query component , but is not so limited. The database system  can be configured as a relational, multi-dimensional, or other data repository that includes data management functionality. For example, the database system  can comprise one or more serving computers and associated storage capacity, such as one or more SQL servers. The database system  can include information such as objects, associated attributes, and values for example.","The organizing component  can be used to interact with the database system  in various ways. In one embodiment, the organizing component  can be configured as an application programming interface (API) or other interactive interface and used to interact with the database system  to add, delete, and\/or modify one or more groups, including parameters associated with the one or more groups. For example, a user can use the organizing component  to define attributes for various groups, including predicate-based groups, enumerated groups, and other defined groups. The organizing component  can also be used to define one or more rules that can be associated with one or more groups, as described below.","The query component  can also be used to interact with the database system . For example, the query component  can be used to query the database system  to determine desired information. In one embodiment, the query component  can be used to query the database system  and receive results associated with a desired view or subset of data as stored in the database system . A view can be used to represent information associated with the database system . A view may be automatically generated by storing the associated view criteria as part of a query which can be defined and executed using the query component .","With continuing reference to , the database system  includes a predicate membership rules table . The predicate membership rules table  can be used to generate a predicate membership view . The predicate membership view  can be described as integrated view which includes a number of defined predicate-based views. In an embodiment, the predicate membership view  can be created by using a union operation which operates to combine each defined predicate-based view into an integrated view. In one embodiment, a logical schema for the predicate membership rules table  includes the following columns, shown in Table 1 below. The predicate membership rules table  can include one row for each defined group.",{"@attributes":{"id":"p-0018","num":"0017"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Item","Description"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ObjectID","The object identifier of a group associated"]},{"entry":[{},{},"with a rule"]},{"entry":[{},"PredicateSql","The SQL predicate that define the group"]},{"entry":[{},{},"membership for the group"]},{"entry":[{},"CteSql","The predicate can use zero or more common"]},{"entry":[{},{},"table expressions (CTE)"]},{"entry":[{},"ViewName","The name of the view for a rule"]},{"entry":[{},"ViewSql","The SQL for the view definition for the group"]},{"entry":[{},"AddTime","The time when the rule was added"]},{"entry":[{},"AddCause","The ObjectID of the reason for adding the"]},{"entry":[{},{},"associated rule"]},{"entry":[{},"DeleteTime","The time when the associated rule was deleted"]},{"entry":[{},"DeleteCause","The ObjectID of the reason for deleting the"]},{"entry":[{},{},"associated rule"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"As shown in Table 1, the ObjectID identifies which group an associated membership rule applies to. As described above, the organizing component  can be used to define membership rules for various groups. For example, building  printers can be defined as all printers whose building attribute is . Similarly, and as further example, declarative membership criteria can be used to define a person's staff as all persons whose manager attribute is defined as a particular person. The PredicateSql and ViewSql define which subset of the objects are members of a group. A group can also be a member of a different group.","In one embodiment, the database system  maintains an add time and a delete time, which are useful for auditing and other purposes. A rule that is still current can be constructed with a large DeleteTime, such as 9999 for example. When a user uses the organizing component  to delete a rule, the operation marks the associated rule as deleted. Add and delete reasons can also be maintained in the database system , which can be the ObjectID of the person, rule, process, etc. associated with the addition or deletion of a rule for example.","In one embodiment, the organizing component  can be used to define a new rule by specifying an ObjectID, PredicateSql, and CteSql for the new rule. In an alternative embodiment, an AddCause may be specified for the associated rule. The ViewName and ViewSql can be generated by using PredicateMembershipBuildRuleBaseSelect described further below. The ViewName and ViewSql can be generated using the ObjectID, PredicateSql and CteSql parameter and stored with the rule as an optimization.","Correspondingly, once the individual rule's ViewSql is generated, the associated information can be saved and does not require regeneration each time the larger PredicateMembership is regenerated. The AddTime associated with the rule can be generated using a database function that obtains the current time, such as GETUTCDATE for example. As described above, the DeleteTime associated with the rule can be generated as a large number, such as \u201c9999\u201d for example. To delete a rule, the ObjectID and DeleteCause can be specified. The DeleteTime can be generated using a database function that obtains the current time, such as GETUTCDATE for example.","When the predicate membership rules table  is updated, the predicate membership view  can be regenerated. The regeneration of the predicate membership view  can be triggered by a number of stored procedures that are used to modify the predicate membership rules table . In another embodiment, the regeneration of the predicate membership view  can be triggered by a database trigger on the predicate membership rules table . Furthermore, the members of each predicate-based group appear to be enumerated, even though the predicate membership view  corresponds to a predicate calculus statement. Although the predicate membership view  contains virtual rows that are attached to base tables through a predicate calculus statement (i.e., a view's SELECT statement described below), a user of a view is unaware that the view is not a base table.","In an embodiment, a logical schema for the predicate membership view  includes the following columns, as shown in Table 2 below. The predicate membership view  can include a row per group-member pair. According to one embodiment, the attribute name associated with the predicate membership view  is \u201cmember\u201d and has the type \u201creference.\u201d",{"@attributes":{"id":"p-0025","num":"0024"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Item","Description"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ObjectID","The identifier of a group object"]},{"entry":[{},"MemberID","The ObjectID for a member object"]},{"entry":[{},"AddTime","The time when a rule was added"]},{"entry":[{},"AddCause","The ObjectID of the reason for adding the"]},{"entry":[{},{},"associated rule"]},{"entry":[{},"DeleteTime","The time when the associated rule was deleted"]},{"entry":[{},"DeleteCause","The ObjectID of the reason for deleting the"]},{"entry":[{},{},"associated rule"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"When the query component  is used to perform a query, a database compiler of the database system  can operate to push the associated query predicates down onto predicates on the base tables. For example, a SQL view is a virtual table that adds predicate logic on top of a table. At query compile time, the query on the SQL view can be combined with the associated predicate logic to construct a query on a number of base tables. Correspondingly, a single predicate group rule may add a large number of virtual rows to the predicate membership view . For example, a single rule in the predicate membership rules table  associated with a group called \u201cAll Managers,\u201d may add 100,000 virtual rows to the predicate membership view .","Accordingly, a large database computation may be required to list all members of the group. On the other hand, testing an individual for membership in the group may only require a simple database index seek on the underlying enumerated objects table . As such, the enumerated objects table  can be used to define a number of enumerated groups. The number of enumerated groups can include a number of enumerated objects as defined using the organizing component .","In an embodiment, a logical schema for the enumerated objects table  includes the following columns, as shown in Table 3 below. The logical schema can include a row per attribute value. However, if an attribute is multi-valued, the logical schema may have multiple rows for the same object (e.g., one row per value). In one embodiment, only one of the Value columns is not \u201cNULL.\u201d Separate columns can be are provided so that a query can be used to perform comparisons based on specific database types. In another embodiment, a SQL schema can be used for the enumerated objects table . Other schemas can be implemented for use with the various embodiments described herein.",{"@attributes":{"id":"p-0029","num":"0028"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Item","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["ObjectID","The identifier of an object"]},{"entry":["AttributeName","The name of an attribute associated with the"]},{"entry":[{},"object"]},{"entry":["ValueString","A value if the attribute is a string"]},{"entry":["ValueReference","The value if the attribute is an ObjectID"]},{"entry":[{},"referencing another object"]},{"entry":["AddTime","The time when a rule was added"]},{"entry":["AddCause","The ObjectID of the reason for adding the"]},{"entry":[{},"associated rule"]},{"entry":["DeleteTime","The time when the associated rule was deleted"]},{"entry":["DeleteCause","The ObjectID of the reason for deleting the"]},{"entry":[{},"associated rule"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"Content associated with the predicate membership view  and the enumerated objects table  can be combined to provide an objects view . That is, the objects view  integrates the predicate-based group membership with enumerated objects by combining the predicate membership view  and the enumerated objects. In one embodiment, the objects view  is provided as a result of a union operation using data associated with the predicate membership view  and data associated with the enumerated objects table , as described further below. Correspondingly, users of the objects view  do not need to be aware of whether a group exists as a predicate or an explicit enumeration.","The organizing component  can be used to create one or more enumerated groups by explicitly enumerating a number of members of each enumerated group. The enumerated group memberships can be stored in the enumerated objects table  of the database system . The organizing component  can also be used to define and store other enumerated objects in the database system . For example, other defined enumerated objects may include an employee, a location, a building, computer, printer, process, device, etc. In one embodiment, each enumerated group includes a multi-valued attribute named \u201cmember\u201d that contains the ObjectIDs of member objects.","The organizing component  can also be used to define a number of predicate-based groups according to a number of desired rules. A predicate-based group refers to a group of objects that is defined and exists as a predicate. Thus, a predicate-based group is configured to be current and up-to-date. As described below, and in accordance with an embodiment, predicate-based groups can be configured to include a number of member inclusions and\/or member exclusions having multi-valued attributes which contain ObjectIDs of other objects. The member inclusion attribute values add to the members included by the membership predicate. The member exclusion attribute values remove members included by either the membership predicate or the member inclusion attribute values.","In an embodiment, a number of attributes associated with a predicate-based group can be stored in the enumerated objects table . As described below, the Member attribute of a Group object can be either enumerated in the enumerated objects table or defined using group membership rules that are predicates on the objects view. As described above, group membership rules can be defined using the organizing component  and stored in the predicate membership rules table . Predicates that are used in defining groups can be maintained in a database view (i.e. the predicate membership view  of ).","The organizing component  can be used to define a new rule according to a desired implementation. In an embodiment, after defining a new predicate-based membership rule, a stored procedure can be called to add the new predicate-based membership rule. For example, the PredicateMembershipAddRule stored procedure can be called to add a new predicate-based membership rule. As an example of this, a membership for a group with ID=8A112A70-14D0-40A9-803B-87D1AA764D0C is defined as persons whose manager has object ID=5D6F3249-B729-4DE9-9D64-E14378C21995 as follows:",{"@attributes":{"id":"p-0035","num":"0034"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003EXEC PredicateMembershipAddRule"},{"entry":"\u2003\u2003\u2002@GroupID = \u20188A112A70-14D0-40A9-803B-87D1AA764D0C\u2019"},{"entry":"\u2003\u2003,@PredicateSql = \u2018WHERE member.ValueReference ="},{"entry":"\u201c5D6F3249-B729-4DE9-9D64-E14378C21995\u201d AND"},{"entry":"member.AttributeName = \u201cmanager\u201d\u2019"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"According to one embodiment, logic associated with the PredicateMembershipAddRule stored procedure is described below using TransactSQL language. However, similar algorithms can be implemented in various database languages and systems. For example, a markup language, such as extensible markup language (XML) can be used. As shown below, the logic does not include AddCause and DeleteCause in order to simplify the description.",{"@attributes":{"id":"p-0037","num":"0036"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\u2003CREATE PROCEDURE PredicateMembershipAddRule"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003@GroupID","uniqueidentifier,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\u2003\u2003@PredicateSql nvarchar(max),"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003@CteSql","nvarchar(max) = NULL"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003AS"},{"entry":"\u2003BEGIN TRAN"},{"entry":"\u2003BEGIN TRY"},{"entry":"\u2003\u2003DECLARE @AddTime datetime"},{"entry":"\u2003\u2003SET @AddTime = GETUTCDATE( )"},{"entry":"\u2003\u2003DECLARE @DeleteTime datetime"},{"entry":"\u2003\u2003SET @DeleteTime = \u20189999\u2019"},{"entry":"\u2003\u2003DECLARE @BaseSelectSql nvarchar(max)"},{"entry":"\u2003\u2003EXEC @BaseSelectSql = dbo.PredicateMembershipBuildRuleBase-"},{"entry":"Select"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003\u2003\u2003\u2003@GroupID","= @GroupID,"]},{"entry":["\u2003\u2003\u2003\u2003\u2003@PredicateSql","= @PredicateSql,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003\u2003\u2003\u2003@RuleAddTime","= @AddTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003\u2003\u2003\u2003@RuleDeleteTime","= @DeleteTime"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003DECLARE @ViewSql nvarchar(max)"},{"entry":"\u2003\u2003EXEC @ViewSql = dbo.PredicateMembershipBuildRuleView"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003\u2003\u2003\u2003@GroupID","= @GroupID,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003\u2003\u2003\u2003@CteSql","= @CteSql,"]},{"entry":["\u2003\u2003\u2003\u2003\u2003@BaseSelectSql","= @BaseSelectSql,"]},{"entry":["\u2003\u2003\u2003\u2003\u2003@RuleAddTime","= @AddTime,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003\u2003\u2003\u2003@RuleDeleteTime","= @DeleteTime"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003DECLARE @ViewName nvarchar(128)"},{"entry":"\u2003\u2003SET @ViewName = dbo.PredicateMembershipRuleViewName"},{"entry":"(@GroupID)"},{"entry":"\u2003\u2003IF \u2002EXISTS \u2002(SELECT \u2002* \u2002FROM \u2002sys.views \u2002WHERE"},{"entry":"object_id = OBJECT_ID(@ViewName))"},{"entry":"\u2003\u2003\u2003\u2003\u2003EXECUTE(\u2018ALTER VIEW dbo.\u2019 + @ViewName + \u2018 AS \u2019 +"},{"entry":"@ViewSql)"},{"entry":"\u2003\u2003ELSE"},{"entry":"\u2003\u2003\u2003\u2003\u2003EXECUTE(\u2018CREATE VIEW dbo.\u2019 + @ViewName +"},{"entry":"\u2018 AS \u2019 + @ViewSql)"},{"entry":"\u2003\u2003INSERT PredicateMembershipRules"},{"entry":"\u2003(GroupID, PredicateSql, CteSql, ViewName, ViewSql, AddTime,"},{"entry":"DeleteTime)"},{"entry":"\u2003\u2003VALUES"},{"entry":"\u2003(@GroupID, @PredicateSql, @CteSql, @ViewName, @ViewSql,"},{"entry":"@AddTime, @DeleteTime)"},{"entry":"\u2003\u2003IF @@ROWCOUNT > 0"},{"entry":"\u2003\u2003\u2003\u2003\u2003EXECUTE PredicateMembershipRegenerateView"},{"entry":"\u2003END TRY"},{"entry":"\u2003BEGIN CATCH"},{"entry":"\u2003\u2003ROLLBACK TRAN"},{"entry":"\u2003\u2003RETURN 1 - return different values depending on the error"},{"entry":"\u2003END CATCH"},{"entry":"\u2003COMMIT TRAN"},{"entry":"\u2003RETURN 0"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The PredicateMembershipAddRule can be included as a single transaction. Accordingly, the update to predicate membership rules table  and the update to the predicate membership view  can be both performed or both not performed. In one embodiment, the PredicateMembershipAddRule generates an AddTime using a database function that obtains the current time, such as GETUTCDATE( ) for example. The DeleteTime can be generated as a large number, such as 9999 for example. The PredicateMembershipBuildRuleBaseSelect can be called to build the SELECT statement that obtains the predicate-based members. The memberInclusions and memberExclusions attributes are described below. The PredicateMembershipBuildRuleView function can be called to build the SELECT for this single rule that handles the interaction between predicate members and the memberExclusions attributes. A new row can then be inserted into the predicate membership rules table .","The PredicateMembershipRegenerateView stored procedure can then be called, which operations to union all of the rule views. The PredicateMembershipRegenerateView stored procedure also handles the interaction between the memberInclusions and memberExclusions attributes for all predicate-based groups. The view can be created if it did not already exist, or altered if it already exists. The view is named with a desired convention which can include the ObjectID of the group provided by the PredicateMembershipRuleViewName function.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 2","FIG. 2"],"b":["200","210","204","206","212","214","212","2","214","3","200","202","208","210","216","218","220","222"]},"SELECT  corresponds to producing a row for the full inclusion interval when an inclusion does not have an entry in the memberExclusions attribute.","SELECT  corresponds to producing a row with the following aspects when an inclusion has an entry in the memberExclusions attribute and the inclusion range starts before the exclusion range ends (e.g., cases , , and ). SELECT  results in a row having:","a) result.AddTime=inclusion.AddTime","b) result.DeleteTime=minimum(inclusion.DeleteTime, exclusion.AddTime)","c) result.AddCause=inclusion.AddCause","d) result.DeleteCause=the cause corresponding to the time that won the battle for result.DeleteTime","Thus for SELECT , result.DeleteTime=exclusion.AddTime for cases  and , and result.DeleteTime=inclusion.DeleteTime for case  (i.e., no overlap).","SELECT  corresponds to producing a new row with the following aspects when an inclusion has an entry in the memberExclusions attribute and the inclusion range ends before the exclusion range ends (e.g., cases , , and ). SELECT  results in a row having:","a) result.AddTime=maximum(inclusion.AddTime, exclusion.DeleteTime).","b) result.DeleteTime=inclusion.DeleteTime","c) result.AddCause=the cause corresponding to the time that won the battle for result.AddTime","d) result.DeleteCause=inclusion.DeleteCause","Thus for SELECT , result.DeleteTime=inclusion.DeleteTime (no overlap) for case , and result.DeleteTime=exclusion.AddTime for cases  and .","As described below, the inclusion-exclusion interaction rules can be used in various functions and operations. For example, the PredicateMembershipBuildRuleBaseSelect function can use the inclusion-exclusion interaction rules for the interaction between the predicate-based inclusions and the memberExclusions attribute for each predicate-membership rule. As further example, the PredicateMembershipBuildRuleView function can use the inclusion-exclusion interaction rules for the interaction between the memberInclusions and memberExclusions attributes for all predicate-based groups.","According to one embodiment, logic associated with the PredicateMembershipBuildRuleBaseSelect function is described below using TransactSQL language. Again, similar algorithms can be implemented in various database languages and systems. The logic for the PredicateMembershipBuildRuleBaseSelect function can be defined as:",{"@attributes":{"id":"p-0056","num":"0055"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003CREATE FUNCTION PredicateMembershipBuildRuleBaseSelect"},{"entry":"\u2003("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003@GroupID","uniqueidentifier,"]},{"entry":["\u2003\u2003@PredicateSql","nvarchar(max),"]},{"entry":["\u2003\u2003@RuleAddTime","\u2003\u2003datetime,"]},{"entry":["\u2003\u2003@RuleDeleteTime","datetime"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003)"},{"entry":"\u2003RETURNS nvarchar(max)"},{"entry":"\u2003AS"},{"entry":"\u2003BEGIN"},{"entry":"\u2003\u2003-- Row AddTime is max of object AddTime and rule AddTime"},{"entry":"\u2003\u2003DECLARE @AddTimeString nvarchar(max)"},{"entry":"\u2003\u2003DECLARE @RuleAddTimeString nvarchar(max)"},{"entry":"\u2003\u2003SET \u2002@RuleAddTimeString \u2002=\u2003\u2018CAST(\u2018\u201c + CAST"},{"entry":"(@RuleAddTime AS nvarchar(max)) + \u201d\u2019 AS datetime)\u2019"},{"entry":"\u2003\u2003SET @AddTimeString ="},{"entry":"\u2003\u2018CASE WHEN member.AddTime >= \u2019 + @RuleAddTimeString +"},{"entry":"\u2003\u2018 THEN member.AddTime ELSE \u2019 + @RuleAddTimeString + \u2018 END \u2019"},{"entry":"\u2003\u2003-- Row DeleteTime is min of object DeleteTime and rule DeleteTime"},{"entry":"\u2003\u2003DECLARE @DeleteTimeString nvarchar(max)"},{"entry":"\u2003\u2003DECLARE @RuleDeleteTimeString nvarchar(max)"},{"entry":"\u2003\u2003SET \u2002@RuleDeleteTimeString \u2002=\u2003\u201c\u201c\u2003+\u2003CAST"},{"entry":"(@RuleDeleteTime AS nvarchar(max)) + \u201d\u201d"},{"entry":"\u2003\u2003SET @DeleteTimeString ="},{"entry":"\u2003\u2018CASE WHEN member.DeleteTime <= \u2019 + @RuleDeleteTimeString +"},{"entry":"\u2003\u2018 THEN member.DeleteTime ELSE \u2019 + @RuleDeleteTimeString +"},{"entry":"\u2018 END \u2019"},{"entry":"\u2003\u2003DECLARE @AddCauseString nvarchar(max)"},{"entry":"\u2003\u2003SET @AddCauseString = \u201c\u201d + CAST(@GroupID AS"},{"entry":"nvarchar(max)) + \u201c\u201d"},{"entry":"\u2003\u2003DECLARE @DeleteCauseString nvarchar(max)"},{"entry":"\u2003\u2003IF @RuleDeleteTime = \u20189999\u2019"},{"entry":"\u2003\u2003\u2003\u2003\u2003SET @DeleteCauseString = \u2018NULL\u2019"},{"entry":"\u2003\u2003ELSE"},{"entry":"\u2003\u2003\u2003\u2003\u2003SET \u2003@DeleteCauseString \u2003=\u2003\u201c\u201d\u2003+\u2003CAST(@GroupID"},{"entry":"AS nvarchar(max)) + \u201c\u201d"},{"entry":"\u2003\u2003DECLARE @BaseSelectSql nvarchar(max)"},{"entry":"\u2003\u2003SET @BaseSelectSql = @BaseSelectSql +"},{"entry":"\u2003\u2018SELECT DISTINCT\u2019 +"},{"entry":"\u2003\u2018CAST(\u2018\u201c\u2003+\u2003CAST(@GroupID \u2002AS \u2002nvarchar(max)) \u2002+\u2003\u2019\u201d\u2003AS"},{"entry":"uniqueidentifier) ObjectID,\u2019+"},{"entry":"\u2003\u2018member.ObjectID MemberID, \u2019 +"},{"entry":"\u2003@AddTimeString + \u2018 AddTime, \u2019 +"},{"entry":"\u2003\u2018CAST(\u2018 + @AddCauseString + \u2019 AS uniqueidentifier) AddCause, \u2019 +"},{"entry":"\u2003@DeleteTimeString + \u2018 DeleteTime, \u2019 +"},{"entry":"\u2003\u2018CAST(\u2018 + @DeleteCauseString + \u2019 AS uniqueidentifier)"},{"entry":"DeleteCause \u2019 +"},{"entry":"\u2003\u2018FROM EnumeratedObjects member\u2019 +"},{"entry":"\u2003@PredicateSql"},{"entry":"\u2003\u2003\u2003\u2003\u2003RETURN @BaseSelectSql"},{"entry":"\u2003END"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The PredicateMembershipBuildRuleBaseSelect function operates to build a base SELECT statement for the associated rule, and defines a number of virtual rows that correspond with the format of the predicate membership view . The AddTime for the number of virtual rows can be defined as the maximum of the following:","a) the AddTime for the rows of the enumerated objects table  that qualify the members to be in a group, and","b) the AddTime for the associated rule.","In other words, the membership begins after both of the qualifying value and the associated rule are added.","The DeleteTime for the number of virtual rows can be defined as the minimum of the following:","a) the DeleteTime for rows of the enumerated objects table  that qualify the members to be in the group, and","b) the DeleteTime for the associated rule.","In other words, the membership ends when either the qualifying value or the rule has been deleted. The AddCause and DeleteCause are the predicate-based membership rule ID which corresponds to the GroupID.","According to one embodiment, logic associated with the PredicateMembershipBuildRuleView function is described below using TransactSQL language. Again, similar algorithms can be implemented in various database languages and systems. The logic for the PredicateMembershipBuildRuleView function can be defined as:",{"@attributes":{"id":"p-0066","num":"0065"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CREATE FUNCTION PredicateMembershipBuildRuleView"},{"entry":"\u2003\u2003("}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003\u2003@GroupID","uniqueidentifier,"]},{"entry":["\u2003\u2003\u2003@CteSql","\u2003\u2003nvarchar(max),"]},{"entry":["\u2003\u2003\u2003@BaseSelectSql","\u2003\u2003nvarchar(max),"]},{"entry":["\u2003\u2003\u2003@RuleAddTime","\u2003\u2003datetime,"]},{"entry":["\u2003\u2003\u2003@RuleDeleteTime","datetime"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003)"},{"entry":"\u2003\u2003RETURNS nvarchar(max)"},{"entry":"\u2003\u2003AS"},{"entry":"\u2003\u2003BEGIN"},{"entry":"\u2003\u2003\u2003DECLARE @ViewSql nvarchar(max)"},{"entry":"\u2003\u2003\u2003DECLARE @GroupIDString nvarchar(128)"},{"entry":"\u2003\u2003\u2003SET @GroupIDString = CAST(@GroupID AS nvarchar(128))"},{"entry":"\u2003\u2003\u2003-- Compose rule CTE with view CTE correctly."},{"entry":"\u2003\u2003\u2003IF (@CteSql IS NOT NULL) AND (@CteSql != \u201d)"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003SET @ViewSql = \u2018"},{"entry":"\u2003\u2003WITH \u2019 + @CteSql + \u2018,"},{"entry":"\u2003\u2003\u2019"},{"entry":"\u2003\u2003\u2003ELSE"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003SET @ViewSql = \u2018"},{"entry":"\u2003\u2003WITH \u2019"},{"entry":"\u2003\u2003SET @ViewSql = @ViewSql +"},{"entry":"\u2003\u2003\u2018BaseInclusionView(ObjectID, MemberID, AddTime, AddCause,"},{"entry":"DeleteTime, DeleteCause) AS"},{"entry":"\u2003\u2003(\u2018 + @BaseSelectSql + \u2019)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The following logic is configured to handle interaction between a group's predicate inclusion rule and the group's memberExclusions attribute. The logic also handles predicate inclusion members with no entry in the memberExclusions attribute.",{"@attributes":{"id":"p-0068","num":"0067"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003SELECT *"},{"entry":"\u2003\u2003FROM BaseInclusionView inclusion"},{"entry":"\u2003\u2003WHERE inclusion.MemberID NOT IN"},{"entry":"\u2003\u2003("},{"entry":"\u2003\u2003\u2003SELECT exclusion.ValueReference FROM EnumeratedObjects"},{"entry":"\u2003\u2003\u2003exclusion"},{"entry":"\u2003\u2003\u2003WHERE \u2003exclusion.AttributeName \u2003=\u2003\u201cmemberExclusions\u201d"},{"entry":"AND exclusion.ObjectID = \u2018\u201c + @GroupIDString + \u2019\u201d"},{"entry":"\u2003\u2003)"},{"entry":"\u2003\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"For predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes before the exclusion range, the logic is as follows:",{"@attributes":{"id":"p-0070","num":"0069"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003SELECT"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":[{},"\u2003\u2003\u2003inclusion.MemberID","MemberID,"]},{"entry":[{},"\u2003\u2003\u2003inclusion.AddTime","AddTime,"]},{"entry":[{},"\u2003\u2003\u2003inclusion.AddCause","AddCause,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003CASE \u2003WHEN \u2003inclusion.DeleteTime \u2003<="]},{"entry":[{},"exclusion.AddTime \u2003THEN \u2003inclusion.DeleteTime"]},{"entry":[{},"ELSE exclusion.AddTime END DeleteTime,"]},{"entry":[{},"\u2003\u2003\u2003CASE \u2003WHEN \u2003inclusion.DeleteTime \u2003<="]},{"entry":[{},"exclusion.AddTime \u2003THEN \u2003inclusion.DeleteCause"]},{"entry":[{},"ELSE exclusion.AddCause END DeleteCause"]},{"entry":[{},"\u2003\u2003FROM BaseInclusionView inclusion"]},{"entry":[{},"\u2003\u2003JOIN EnumeratedObjects exclusion ON"]},{"entry":[{},"\u2003\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"]},{"entry":[{},"\u2003\u2003AND exclusion.AttributeName = \u201cmemberExclusions\u201d"]},{"entry":[{},"\u2003\u2003AND inclusion.MemberID = exclusion.ValueReference"]},{"entry":[{},"\u2003\u2003WHERE"]},{"entry":[{},"\u2003\u2003\u2003inclusion.ObjectID = \u2018\u201c + @GroupIDString + \u2019\u201d"]},{"entry":[{},"\u2003\u2003AND inclusion.AddTime < exclusion.DeleteTime"]},{"entry":[{},"\u2003\u2003UNION ALL"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"For predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes after the exclusion range, the logic is as follows:",{"@attributes":{"id":"p-0072","num":"0071"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2003SELECT"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":[{},"\u2003\u2003\u2003inclusion.MemberID","MemberID,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003CASE \u2003WHEN \u2003inclusion.AddTime \u2003>="]},{"entry":[{},"exclusion.DeleteTime \u2003THEN inclusion.AddTime ELSE"]},{"entry":[{},"exclusion.DeleteTime END AddTime,"]},{"entry":[{},"\u2003\u2003\u2003CASE \u2003WHEN \u2003inclusion.AddTime \u2003>="]},{"entry":[{},"exclusion.DeleteTime \u2003THEN inclusion.AddCause ELSE"]},{"entry":[{},"exclusion.DeleteCause END AddCause,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003\u2003inclusion.DeleteTime","DeleteTime,"]},{"entry":[{},"\u2003\u2003\u2003inclusion.DeleteCause","DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003FROM BaseInclusionView inclusion"]},{"entry":[{},"\u2003\u2003JOIN EnumeratedObjects exclusion ON"]},{"entry":[{},"\u2003\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"]},{"entry":[{},"\u2003\u2003AND exclusion.AttributeName = \u201cmemberExclusions\u201d"]},{"entry":[{},"\u2003\u2003AND inclusion.MemberID = exclusion.ValueReference"]},{"entry":[{},"\u2003\u2003WHERE"]},{"entry":[{},"\u2003\u2003\u2003inclusion.ObjectID = \u2018\u201c + @GroupIDString + \u2019\u201d"]},{"entry":[{},"\u2003\u2003AND exclusion.DeleteTime < inclusion.DeleteTime\u2019"]},{"entry":[{},"\u2003\u2003\u2003RETURN @ViewSql"]},{"entry":[{},"\u2003\u2003END"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"As shown above, the PredicateMembershipBuildRuleView function generates the rule-specific view by doing the following:","a) composes a number of CTEs according to SQL syntax","b) applies the rules for interaction between inclusions and exclusions that were described above to this predicate-based membership rule and the memberExclusions attributes, and","c) operates to union the three SELECTs in the inclusion-exclusion interaction rules described above.","According to one embodiment, logic associated with the PredicateMembershipRegenerateView stored procedure is described below using TransactSQL language. Again, similar algorithms can be implemented in various database languages and systems. The logic for the PredicateMembershipRegenerateView stored procedure can be defined as follows:",{"@attributes":{"id":"p-0078","num":"0077"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003CREATE PROCEDURE PredicateMembershipRegenerateView"},{"entry":"\u2003AS"},{"entry":"\u2003BEGIN"},{"entry":"\u2003\u2003DECLARE @EString nvarchar(max)"},{"entry":"\u2003\u2003(Cursor includes all rules, current and deleted.)"},{"entry":"\u2003\u2003DECLARE\u2003\u2003\u2002RuleCursor\u2003\u2003\u2002CURSOR\u2003\u2003\u2002LOCAL"},{"entry":"READ_ONLY FAST_FORWARD FOR"},{"entry":"\u2003\u2003SELECT DISTINCT ViewName FROM PredicateMembershipRules"},{"entry":"\u2003\u2003OPEN RuleCursor"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003DECLARE @ViewName","nvarchar(128)"]},{"entry":["\u2003\u2003DECLARE @SelectSql","nvarchar(max)"]},{"entry":["\u2003\u2003DECLARE @SelectString","nvarchar(max)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003DECLARE @StartSelect bit"},{"entry":"\u2003\u2003SET @StartSelect = 0"},{"entry":"\u2003\u2003SET @SelectString = \u2033"},{"entry":"\u2003\u2003WHILE 1=1"},{"entry":"\u2003\u2003BEGIN"},{"entry":"\u2003\u2003\u2002SET @ViewName = \u2018FFFF\u2019"},{"entry":"\u2003\u2003\u2002FETCH NEXT FROM RuleCursor INTO @ViewName"},{"entry":"\u2003\u2003\u2002IF @ViewName = \u2018FFFF\u2019"},{"entry":"\u2003\u2003\u2002\u2003BREAK -- no more records"},{"entry":"\u2003\u2003\u2002SET @SelectSql = \u2018SELECT * FROM \u2019 + @ViewName"},{"entry":"\u2003\u2003\u2002IF @StartSelect = 0"},{"entry":"\u2003\u2003\u2002\u2003SET @StartSelect = 1"},{"entry":"\u2003\u2003\u2002ELSE"},{"entry":"\u2003\u2003\u2002\u2003\u2003SET @SelectString = @SelectString + \u2018 UNION ALL \u2019"},{"entry":"\u2003\u2003\u2002SET @SelectString = @SelectString + @SelectSql"},{"entry":"\u2003\u2003END"},{"entry":"\u2003\u2003CLOSE RuleCursor"},{"entry":"\u2003\u2003IF EXISTS (SELECT * FROM sys.views"},{"entry":"\u2003WHERE object_id = OBJECT_ID(N\u2018[dbo].[PredicateMembership]\u2019))"},{"entry":"\u2003\u2003\u2002SET @EString = \u2018ALTER VIEW [dbo].[PredicateMember-"},{"entry":"ship] AS \u2019"},{"entry":"\u2003\u2003ELSE"},{"entry":"\u2003\u2003\u2002SET @EString = \u2018CREATE VIEW [dbo].[PredicateMember-"},{"entry":"ship] AS \u2019"},{"entry":"\u2003\u2003IF @SelectString != \u2033"},{"entry":"\u2003\u2003\u2002SET @EString = @EString + \u2032"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The following provide the views for predicate membership minus memberExclusions.",{"@attributes":{"id":"p-0080","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2018 + @SelectString +"]},{"entry":[{},"\u2018 UNION ALL \u2019"]},{"entry":[{},"\u2003ELSE"]},{"entry":[{},"\u2003\u2003\u2003SET @EString = @EString + \u2019"]},{"entry":[{},"-- There are no views for predicate membership\u2018"]},{"entry":[{},"\u2003\u2003\u2003SET @EString = @EString + \u2019"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The following logic is configured to handle memberInclusions minus memberExclusions for all predicate-based membership groups.","For inclusionMembers with no entry in the memberExclusions attribute, the logic is as follows:",{"@attributes":{"id":"p-0083","num":"0082"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\u2003\u2003SELECT"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003\u2003inclusion.ValueReference","MemberID,"]},{"entry":"\u2003\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003WHEN inclusion.AddTime >= r.AddTime THEN inclusion.AddTime"},{"entry":"\u2003\u2003ELSE r.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003END","AddTime,"]},{"entry":["\u2003\u2003\u2003inclusion.AddCause","AddCause,"]},{"entry":"\u2003\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003WHEN inclusion.DeleteTime <= r.DeleteTime THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"\u2003\u2003ELSE r.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003END","DeleteTime,"]},{"entry":["\u2003\u2003\u2003inclusion.DeleteCause","\u2003\u2003DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003FROM EnumeratedObjects inclusion"},{"entry":"\u2003\u2003JOIN PredicateMembershipRules r ON inclusion.ObjectID ="},{"entry":"r.GroupID"},{"entry":"\u2003\u2003WHERE inclusion.AttributeName = \u201cmemberInclusions\u201d"},{"entry":"\u2003\u2003AND inclusion.ValueReference NOT IN"},{"entry":"\u2003\u2003("},{"entry":"\u2003\u2003\u2003SELECT exclusion.ValueReference FROM EnumeratedObjects"},{"entry":"exclusion"},{"entry":"\u2003\u2003WHERE\u2003exclusion.ObjectID\u2003=\u2003inclusion.ObjectID\u2003AND"},{"entry":"exclusion.AttributeName"},{"entry":"\u2003\u2003= \u201cmemberExclusions\u201d"},{"entry":"\u2003\u2003)"},{"entry":"\u2003\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"For inclusionMembers with an entry in the memberExclusions attribute and the inclusion range comes before the exclusion range, the logic is as follows:",{"@attributes":{"id":"p-0085","num":"0084"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003SELECT",{}]},{"entry":["\u2003\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003\u2003inclusion.ValueReference","MemberID,"]},{"entry":["\u2003\u2003\u2003inclusion.AddTime","AddTime,"]},{"entry":["\u2003\u2003\u2003inclusion.AddCause","AddCause,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003\u2003CASE"},{"entry":"\u2003\u2003WHEN\u2003inclusion.DeleteTime\u2003<=\u2003exclusion.AddTime\u2003THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"\u2003\u2003ELSE exclusion.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003END","DeleteTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003\u2003CASE"},{"entry":"\u2003\u2003WHEN\u2003inclusion.DeleteTime\u2003<=\u2003exclusion.AddTime\u2003THEN"},{"entry":"inclusion.DeleteCause"},{"entry":"\u2003\u2003ELSE exclusion.AddCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003END","DeleteCause"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003FROM EnumeratedObjects inclusion"},{"entry":"\u2003\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003\u2003AND exclusion.AttributeName = \u201cmemberExclusions\u201d"},{"entry":"\u2003\u2003AND inclusion.ValueReference = exclusion.ValueReference"},{"entry":"\u2003\u2003WHERE"},{"entry":"\u2003\u2003\u2003inclusion.ObjectID\u2003IN\u2003(SELECT\u2003r.GroupID\u2003FROM"},{"entry":"PredicateMembershipRules r)"},{"entry":"\u2003\u2003AND inclusion.AttributeName = \u201cmemberInclusions\u201d"},{"entry":"\u2003\u2003AND inclusion.AddTime < exclusion.DeleteTime"},{"entry":"\u2003\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"For inclusionMembers with an entry in the memberExclusions attribute and the inclusion range comes after the exclusion range, the logic is as follows:",{"@attributes":{"id":"p-0087","num":"0086"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003SELECT",{}]},{"entry":["\u2003\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003\u2003inclusion.ValueReference","MemberID,"]},{"entry":"\u2003\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003WHEN inclusion.AddTime >= exclusion.DeleteTime THEN"},{"entry":"inclusion.AddTime"},{"entry":"\u2003\u2003ELSE exclusion.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003END","AddTime,"]},{"entry":"\u2003\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003WHEN inclusion.AddTime >= exclusion.DeleteTime THEN"},{"entry":"inclusion.AddCause"},{"entry":"\u2003\u2003ELSE exclusion.DeleteCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003END","AddCause,"]},{"entry":["\u2003\u2003\u2003inclusion.DeleteTime","DeleteTime,"]},{"entry":["\u2003\u2003\u2003inclusion.DeleteCause","DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003FROM EnumeratedObjects inclusion"},{"entry":"\u2003\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003\u2003AND exclusion.AttributeName = \u201cmemberExclusions\u201d"},{"entry":"\u2003\u2003AND inclusion.ValueReference = exclusion.ValueReference"},{"entry":"\u2003\u2003WHERE"},{"entry":"\u2003\u2003\u2003inclusion.ObjectID\u2003\u2002IN\u2003\u2002(SELECT\u2003\u2002r.GroupID\u2003\u2002FROM"},{"entry":"PredicateMembershipRules r)"},{"entry":"\u2003\u2003AND inclusion.AttributeName = \u201cmemberInclusions\u201d"},{"entry":"\u2003\u2003AND exclusion.DeleteTime < inclusion.DeleteTime\u2032"},{"entry":"\u2003\u2003EXECUTE(@EString)"},{"entry":"\u2003\u2003END"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The PredicateMembershipRegenerateView stored procedure regenerates the predicate membership view  by performing the following:","a) performing a union operation of the per predicate-based membership rule views by creating a cursor across all rules in the predicate membership rules table ","b) applying the rules for interaction between inclusions and exclusions described above to the memberInclusions and memberExclusions attributes. This operates to union the three SELECTs in the interaction rules to the view. The three SELECTs handle the memberInclusions and memberExclusions attributes for all predicate-based membership groups, because they are independent of the membership predicate. Since the above can be handled outside of individual rules, they can be performed once for all rules, resulting in a more efficient process since the number of SELECT statements can be reduced. In one embodiment, the memberInclusions and memberExclusions attributes are included in the top-level predicate membership view  instead of in each rule-specific view.","c) if not in existence, the predicate membership view  can be created, or the view can be altered if already in existence.","According to one embodiment, logic associated with the PredicateMembershipDeleteRule stored procedure is described below using TransactSQL language. Again, similar algorithms can be implemented in various database languages and systems. The logic for the PredicateMembershipDeleteRule stored procedure can be defined as (the DeleteCause parameter is omitted to simplify the description):",{"@attributes":{"id":"p-0093","num":"0092"},"tables":{"@attributes":{"id":"TABLE-US-00016","num":"00016"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003CREATE PROCEDURE PredicateMembershipDeleteRule"},{"entry":"\u2003\u2003@GroupID uniqueidentifier"},{"entry":"\u2003AS"},{"entry":"\u2003BEGIN TRAN"},{"entry":"\u2003BEGIN TRY"},{"entry":"\u2003\u2003DECLARE @DeleteTime datetime"},{"entry":"\u2003\u2003SET @DeleteTime = GETUTCDATE( )"},{"entry":"\u2003\u2003(Mark as deleted.)"},{"entry":"\u2003\u2003UPDATE PredicateMembershipRules"},{"entry":"\u2003\u2003SET DeleteTime = @DeleteTime"},{"entry":"\u2003\u2003WHERE GroupID = @GroupID AND DeleteTime = \u20189999\u2019"},{"entry":"\u2003\u2003IF @@ROWCOUNT > 0"},{"entry":"\u2003\u2003\u2003\u2003EXECUTE PredicateMembershipRegenerateView"},{"entry":"\u2003\u2003(Delete the view.)"},{"entry":"\u2003\u2003DECLARE @ViewName nvarchar(128)"},{"entry":"\u2003\u2003SET @ViewName = dbo.PredicateMembershipRuleViewName"},{"entry":"(@GroupID)"},{"entry":"\u2003\u2003IF\u2003EXISTS\u2003(SELECT\u2003*\u2003FROM\u2003sys.views\u2003WHERE"},{"entry":"object_id = OBJECT_ID(@ViewName))"},{"entry":"\u2003\u2003\u2003\u2003EXECUTE(\u2018DROP VIEW \u2019 + @ViewName)"},{"entry":"\u2003END TRY"},{"entry":"\u2003BEGIN CATCH"},{"entry":"\u2003\u2003ROLLBACK TRAN"},{"entry":"\u2003\u2003RETURN 1"},{"entry":"\u2003END CATCH"},{"entry":"\u2003COMMIT TRAN"},{"entry":"\u2003RETURN 0"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The PredicateMembershipDeleteRule can be performed in a single transaction, so that the update to predicate membership rules table  and the deletion of the rule-specific view are either both done or both not done. The PredicateMembershipDeleteRule operates to do the following:","a) generates the DeleteTime using a database function that gets the current time, such as GETUTCDATE( ) for example","b) marks the PredicateMembershipRules row as deleted by setting the DeleteTime","c) deletes the rule-specific view. In one embodiment, the view name uses the same PredicateMembershipRuleViewName function to convert the GroupID to the view name, and","d) calls the PredicateMembershipRegenerateView stored procedure to regenerate the predicate membership view  with the exclusion of the deleted group's rule.","According an embodiment, the following logic operates to integrate predicate-based group membership parameters, which includes using the above predicate membership view  and the enumerated objects table  to generate an objects view . The logic to create the objects view  includes:",{"@attributes":{"id":"p-0100","num":"0099"},"tables":{"@attributes":{"id":"TABLE-US-00017","num":"00017"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"CREATE VIEW Objects AS"]},{"entry":[{},"\u2003SELECT"]},{"entry":[{},"ObjectID,"]},{"entry":[{},"\u2003CAST(\u2018member\u2019 AS nvarchar(128)) AttributeName,"]},{"entry":[{},"\u2003CAST(NULL AS nvarchar(450)) ValueString,"]},{"entry":[{},"\u2003. . ."]},{"entry":[{},"\u2003MemberID ValueReference,"]},{"entry":[{},"\u2003AddTime,"]},{"entry":[{},"\u2003AddCause,"]},{"entry":[{},"\u2003DeleteTime,"]},{"entry":[{},"\u2003DeleteCause"]},{"entry":[{},"\u2003FROM PredicateMembership"]},{"entry":[{},"\u2003UNION ALL"]},{"entry":[{},"\u2003SELECT * FROM EnumeratedObjects"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"For the first SELECT from PredicateMembership, the AttributeName is \u201cmember\u201d, the MemberID is put in the ValueReference column, and all other values are NULL. Correspondingly, the above-defined view (see objects view  of ) allows queries to be built and executed without having to know which groups have enumerated membership and which groups have predicate membership. That is, both types of group membership have enumerated member attribute qualities.",{"@attributes":{"id":"p-0102","num":"0101"},"figref":["FIG. 3","FIG. 3","FIG. 1","FIG. 3"],"b":["300","104","104","302","102"]},"At , the database system  creates a predicate where-clause that is associated with the rule. At , the database system  considers any inclusion and\/or exclusion operations that may be associated with the rule. At , the database system  builds a SELECT statement for the associated rule. At , the database system  generates a data structure for each defined predicate-based group. At , the database system  generates an encompassing data structure for all of the predicate-based groups. In one embodiment, the database system  uses a union operation to union each view of a defined predicate-based group into an overall predicate-based view which encompasses each individual predicate-based view.","At , the database system  generates an objects data structure which encompasses the data structure associated with all of the predicate-based groups and any enumerated objects. In one embodiment, the database system  uses a union operation to union all of the predicate-based groups and any enumerated objects when generating an objects view. If there are new rules to be defined at , the flow returns to . If there are no new rules to define, the flow ends.","The following provides an example of using of group membership rules to provide an integrated data set to a user.","The organizing component  can be used to designate and manage groupings, rules, and other information, as described above. For any object, an ObjectID can be defined using a function that generates a unique ID. Staff associated with manager John Doe can be designated as a group with an identification (ID)=8A112A70-14D0-40A9-803B-87D1AA764D0C and defined as persons whose manager has object ID=5D6F3249-B729-4DE9-9D64-E14378C21995, thereby defining a predicate-based membership rule. John Doe's staff can be defined as follows:",{"@attributes":{"id":"p-0107","num":"0106"},"tables":{"@attributes":{"id":"TABLE-US-00018","num":"00018"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003EXEC PredicateMembershipAddRule"]},{"entry":[{},"\u2003\u2003\u2009@GroupID = \u20188A112A70-14D0-40A9-803B-87D1AA764D0C\u2019"]},{"entry":[{},"\u2003\u2003,@PredicateSql = \u2018WHERE member.ValueReference ="]},{"entry":[{},"\u201c5D6F3249-B729-4DE9-9D64-E14378C21995\u201d AND"]},{"entry":[{},"member.AttributeName = \u201cmanager\u201d\u2019"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Extended staff associated with John Doe can be designated as a group with ID=C2B502C1-368C-44A6-83D0-EACAE414EFE6 and defined as persons whose manager eventually reports to the manager with object ID=5D6F3249-B729-4DE9-9D64-E14378C21995. This uses a recursive CTE to traverse the management chain:",{"@attributes":{"id":"p-0109","num":"0108"},"tables":{"@attributes":{"id":"TABLE-US-00019","num":"00019"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003EXEC PredicateMembershipAddRule"},{"entry":"\u2003@GroupID = \u2018C2B502C1-368C-44A6-83D0-EACAE414EFE6\u2019"},{"entry":"\u2003,@PredicateSql = \u2018JOIN JohnDoeStaff s ON s.ObjectID ="},{"entry":"member.ObjectID\u2019"},{"entry":"\u2003,@CteSql ="},{"entry":"\u2003\u2018JohnDoeStaff (ObjectID) AS"},{"entry":"\u2003("},{"entry":"\u2003SELECT members.ObjectID FROM EnumeratedObjects members"},{"entry":"WHERE members.ValueReference\u2003\u2003=\u2003\u2003\u201c5D6F3249-B729-4DE9-"},{"entry":"9D64-E14378C21995\u201d\u2003\u2003AND members.AttributeName = \u201cmanager\u201d"},{"entry":"\u2003UNION ALL"},{"entry":"\u2003SELECT members.ObjectID FROM EnumeratedObjects members"},{"entry":"\u2003JOIN JohnDoeStaff s ON"},{"entry":"\u2003members.ValueReference =s.ObjectID AND members.AttributeName ="},{"entry":"\u201cmanager\u201d"},{"entry":"\u2003)\u2019"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"All Managers can be designated as a group with ID=62132177-50F3-4437-98D0-FD7DE2B5497A and defined as persons referenced by at least one employee:",{"@attributes":{"id":"p-0111","num":"0110"},"tables":{"@attributes":{"id":"TABLE-US-00020","num":"00020"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"EXEC @R = PredicateMembershipAddRule"]},{"entry":[{},"\u2009@GroupID = \u201862132177-50F3-4437-98D0-FD7DE2B5497A\u2019"]},{"entry":[{},",@PredicateSql = \u2018WHERE member.ObjectID IN (SELECT"]},{"entry":[{},"ValueReference FROM EnumeratedObjects members WHERE"]},{"entry":[{},"AttributeName = \u201cmanager\u201d)\u2019"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Full time employees can be designated as a group with ID=BE740FF6-8C80-4B75-9A33-5799F9C5F42A and defined as persons whose object type is FullTimeEmployee:",{"@attributes":{"id":"p-0113","num":"0112"},"tables":{"@attributes":{"id":"TABLE-US-00021","num":"00021"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003\u2003EXEC @R = PredicateMembershipAddRule"]},{"entry":[{},"\u2003\u2003\u2009@GroupID = \u2018BE740FF6-8C80-4B75-9A33-5799F9C5F42A\u2019"]},{"entry":[{},"\u2003\u2003,@PredicateSql\u2003=\u2003\u2018WHERE member.AttributeName\u2003="]},{"entry":[{},"\u201cobjectType\u201d AND member.ValueString = \u201cFullTimeEmployee\u201d\u2019"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The above-defined group membership rules result in the following generated views. The predicate membership views  for each defined group can be defined as follows (minus memberExclusions):",{"@attributes":{"id":"p-0115","num":"0114"},"tables":{"@attributes":{"id":"TABLE-US-00022","num":"00022"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003SELECT \u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003* \u2003\u2003FROM"},{"entry":"PredicateMembershipRule_62132177_50F3_4437_98D0"},{"entry":"FD7DE2B5497A"},{"entry":"\u2003UNION ALL"},{"entry":"\u2003SELECT \u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003* \u2003\u2003FROM"},{"entry":"PredicateMembershipRule_8A112A70_14D0_40A9_803B"},{"entry":"87D1AA764D0C"},{"entry":"\u2003UNION ALL"},{"entry":"\u2003SELECT \u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003* \u2003\u2003FROM"},{"entry":"PredicateMembershipRule_BE740FF6_8C80_4B75_9A33"},{"entry":"5799F9C5F42A"},{"entry":"\u2003UNION ALL"},{"entry":"\u2003SELECT \u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003* \u2003\u2003FROM"},{"entry":"PredicateMembershipRule_C2B502C1_368C_44A6_83D0"},{"entry":"EACAE414EFE6"},{"entry":"\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"The following description handles memberInclusions minus memberExclusions for all defined predicate membership groups.","For inclusionMembers with no entry in the memberExclusions attribute:",{"@attributes":{"id":"p-0118","num":"0117"},"tables":{"@attributes":{"id":"TABLE-US-00023","num":"00023"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SELECT",{}]},{"entry":["\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003inclusion.ValueReference","MemberID,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= r.AddTime THEN inclusion.AddTime"},{"entry":"ELSE r.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddTime,"]},{"entry":["\u2003inclusion.AddCause","AddCause,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.DeteteTime <= r.DeleteTime THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"ELSE r.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","DeleteTime,"]},{"entry":["\u2003inclusion.DeleteCause","\u2003\u2003DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"FROM EnumeratedObjects inclusion"},{"entry":"JOIN PredicateMembershipRules r ON inclusion.ObjectID = r.GroupID"},{"entry":"WHERE inclusion.AttributeName = \u2018memberInclusions\u2019"},{"entry":"AND inclusion.ValueReference NOT IN"},{"entry":"("},{"entry":"\u2003SELECT exclusion.ValueReference FROM EnumeratedObjects"},{"entry":"exclusion"},{"entry":"\u2003WHERE exclusion.ObjectID = inclusion.ObjectID"},{"entry":"AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":")"},{"entry":"UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"For inclusionMembers with an entry in the memberExclusions attribute and the inclusion range comes before the exclusion range:",{"@attributes":{"id":"p-0120","num":"0119"},"tables":{"@attributes":{"id":"TABLE-US-00024","num":"00024"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003SELECT",{}]},{"entry":["\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003inclusion.ValueReference","MemberID,"]},{"entry":["\u2003\u2003inclusion.AddTime","AddTime,"]},{"entry":["\u2003\u2003inclusion.AddCause","AddCause,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN\u2003inclusion.DeleteTime\u2003<=\u2003exclusion.AddTime\u2003THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"\u2003ELSE exclusion.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003END","DeleteTime,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN\u2003inclusion.DeleteTime\u2003<=\u2003exclusion.AddTime\u2003THEN"},{"entry":"inclusion.DeleteCause"},{"entry":"\u2003ELSE exclusion.AddCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteCause"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003FROM EnumeratedObjects inclusion"},{"entry":"\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"\u2003AND inclusion.ValueReference = exclusion.ValueReference"},{"entry":"\u2003WHERE"},{"entry":"\u2003\u2003inclusion.ObjectID\u2003IN\u2003(SELECT\u2003r.GroupID\u2003FROM"},{"entry":"PredicateMembershipRules r)"},{"entry":"\u2003AND inclusion.AttributeName = \u2018memberInclusions\u2019"},{"entry":"\u2003AND inclusion.AddTime < exclusion.DeleteTime"},{"entry":"\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"For inclusionMembers with an entry in the memberExclusions attribute and the inclusion range comes after the exclusion range:",{"@attributes":{"id":"p-0122","num":"0121"},"tables":{"@attributes":{"id":"TABLE-US-00025","num":"00025"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003SELECT",{}]},{"entry":["\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003inclusion.ValueReference","MemberID,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN inclusion.AddTime >= exclusion.DeleteTime THEN"},{"entry":"inclusion.AddTime"},{"entry":"\u2003ELSE exclusion.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003END","AddTime,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN inclusion.AddTime >= exclusion.DeleteTime THEN"},{"entry":"inclusion.AddCause"},{"entry":"\u2003ELSE exclusion.DeleteCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003END","AddCause,"]},{"entry":["\u2003\u2003inclusion.DeleteTime","DeleteTime,"]},{"entry":["\u2003\u2003inclusion.DeleteCause","DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003FROM EnumeratedObjects inclusion"},{"entry":"\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"\u2003AND inclusion.ValueReference = exclusion.ValueReference"},{"entry":"\u2003WHERE"},{"entry":"\u2003\u2003inclusion.ObjectID\u2003IN\u2003(SELECT\u2003r.GroupID\u2003FROM"},{"entry":"PredicateMembershipRules r)"},{"entry":"\u2003AND inclusion.AttributeName = \u2018memberInclusions\u2019"},{"entry":"\u2003AND exclusion.DeleteTime < inclusion.DeleteTime"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The view for John Doe's staff can be defined as follows:",{"@attributes":{"id":"p-0124","num":"0123"},"tables":{"@attributes":{"id":"TABLE-US-00026","num":"00026"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003View\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003name:"},{"entry":"PredicateMembershipRule_8A112A70_14D0_40A9_803B"},{"entry":"87D1AA764D0C"},{"entry":"\u2003WITH\u2003BaseInclusionView(ObjectID, MemberID, AddTime,"},{"entry":"AddCause, DeleteTime, DeleteCause) AS"},{"entry":"\u2003("},{"entry":"\u2003SELECT DISTINCT"},{"entry":"\u2003\u2003CAST(\u20188A112A70-14D0-40A9-803B-87D1AA764D0C\u2019 AS"},{"entry":"uniqueidentifier) ObjectID,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003member.ObjectID","MemberID,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CASE"},{"entry":"\u2003WHEN member.AddTime >= CAST(\u2018Oct 31 8:49PM\u2019 AS datetime)"},{"entry":"\u2003THEN member.AddTime"},{"entry":"\u2003ELSE CAST(\u2018Oct 31 8:49PM\u2019 AS datetime)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","AddTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(\u20188A112A70-14D0-40A9-803B-87D1AA764D0C\u2019 AS"},{"entry":"uniqueidentifier) AddCause,"},{"entry":"\u2003\u2003CASE"},{"entry":"\u2003WHEN member.DeleteTime\u2002<= \u2018Jan\u20021\u20029999\u200212:00AM\u2019\u2002THEN"},{"entry":"member.DeleteTime"},{"entry":"\u2003ELSE \u2018Jan 1 9999 12:00AM\u2019"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(NULL AS uniqueidentifier) DeleteCause"},{"entry":"\u2003FROM EnumeratedObjects member"},{"entry":"\u2003WHERE member.ValueReference\u2002=\u2002\u20185D6F3249-B729-4DE9-9D64-"},{"entry":"E14378C21995\u2019 AND member.AttributeName = \u2018manager\u2019"},{"entry":"\u2003)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The following description handles interaction between the group's predicate inclusion rule and the group's memberExclusions attribute.","Predicate inclusion members with no entry in the memberExclusions attribute include:",{"@attributes":{"id":"p-0127","num":"0126"},"tables":{"@attributes":{"id":"TABLE-US-00027","num":"00027"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SELECT *"]},{"entry":[{},"FROM BaseInclusionView inclusion"]},{"entry":[{},"WHERE inclusion.MemberID NOT IN"]},{"entry":[{},"("]},{"entry":[{},"\u2003SELECT exclusion.ValueReference FROM EnumeratedObjects"]},{"entry":[{},"\u2003exclusion"]},{"entry":[{},"\u2003WHERE exclusion.AttributeName = \u2018memberExclusions\u2019"]},{"entry":[{},"AND exclusion.ObjectID = \u20188A112A70-14D0-40A9-803B-"]},{"entry":[{},"87D1AA764D0C\u2019"]},{"entry":[{},")"]},{"entry":[{},"UNION ALL"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes before the exclusion range includes:",{"@attributes":{"id":"p-0129","num":"0128"},"tables":{"@attributes":{"id":"TABLE-US-00028","num":"00028"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003SELECT",{}]},{"entry":["\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003inclusion.MemberID","MemberID,"]},{"entry":["\u2003\u2003inclusion.AddTime","AddTime,"]},{"entry":["\u2003\u2003inclusion.AddCause","AddCause,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN \u2003inclusion.DeleteTime \u2003<=\u2003 exclusion.AddTime \u2003THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"\u2003ELSE exclusion.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003END","DeleteTime,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN \u2003inclusion.DeleteTime \u2003<=\u2003 exclusion.AddTime \u2003THEN"},{"entry":"inclusion.DeleteCause"},{"entry":"\u2003ELSE exclusion.AddCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteCause"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003FROM BaseInclusionView inclusion"},{"entry":"\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"\u2003AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"\u2003WHERE"},{"entry":"\u2003\u2003inclusion.ObjectID = \u20188A112A70-14D0-40A9-803B-"},{"entry":"\u2003\u200387D1AA764D0C\u2019"},{"entry":"\u2003AND inclusion.AddTime < exclusion.DeleteTime"},{"entry":"\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes after the exclusion range includes:",{"@attributes":{"id":"p-0131","num":"0130"},"tables":{"@attributes":{"id":"TABLE-US-00029","num":"00029"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SELECT",{}]},{"entry":["\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003inclusion.MemberID","MemberID,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddTime"},{"entry":"ELSE exclusion.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddTime,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddCause"},{"entry":"ELSE exclusion.DeleteCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddCause,"]},{"entry":["\u2003inclusion.DeleteTime","DeleteTime,"]},{"entry":["\u2003inclusion.DeleteCause","DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"FROM BaseInclusionView inclusion"},{"entry":"JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"WHERE"},{"entry":"\u2003inclusion.ObjectID = \u20188A112A70-14D0-40A9-803B-87D1AA764D0C\u2019"},{"entry":"AND exclusion.DeleteTime < inclusion.DeleteTime"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The view for John Doe's Extended Staff can be defined as follows:",{"@attributes":{"id":"p-0133","num":"0132"},"tables":{"@attributes":{"id":"TABLE-US-00030","num":"00030"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003View \u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003name:"},{"entry":"PredicateMembershipRule_C2B502C1_368C_44A6_83D0"},{"entry":"EACAE414EFE6"},{"entry":"\u2003WITH JohnDoeStaff (ObjectID) AS"},{"entry":"\u2003("},{"entry":"\u2003SELECT member.ObjectID FROM EnumeratedObjects member"},{"entry":"\u2003WHERE \u2003member.ValueReference \u2003= \u2003\u20185D6F3249-B729-"},{"entry":"4DE9-9D64-E14378C21995\u2019"},{"entry":"\u2003AND member.AttributeName = \u2018manager\u2019"},{"entry":"\u2003UNION ALL"},{"entry":"\u2003\u2003SELECT member.ObjectID FROM EnumeratedObjects member"},{"entry":"\u2003\u2003JOIN JohnDoeStaff s ON member.ValueReference = s.ObjectID"},{"entry":"\u2003AND member.AttributeName = \u2018manager\u2019"},{"entry":"\u2003),"},{"entry":"\u2003BaseInclusionView(ObjectID, MemberID, AddTime, AddCause,"},{"entry":"DeleteTime, DeleteCause) AS"},{"entry":"\u2003("},{"entry":"\u2003SELECT DISTINCT"},{"entry":"\u2003\u2003CAST(\u2018C2B502C1-368C-44A6-83D0-EACAE414EFE6\u2019 AS"},{"entry":"uniqueidentifier) ObjectID,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003member.ObjectID","MemberID,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN member.AddTime >= CAST(\u2018Oct 31 8:49PM\u2019 AS datetime)"},{"entry":"\u2003THEN member.AddTime"},{"entry":"\u2003ELSE CAST(\u2018Oct 31 8:49PM\u2019 AS datetime)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","AddTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(\u2018C2B502C1-368C-44A6-83D0-EACAE414EFE6\u2019 AS"},{"entry":"uniqueidentifier) AddCause,"},{"entry":"\u2003\u2003CASE"},{"entry":"\u2003WHEN \u2003member.DeleteTime \u2003<=\u2003 \u2018Jan \u20031 \u20039999 \u200312:00AM\u2019"},{"entry":"THEN member.DeleteTime"},{"entry":"\u2003ELSE \u2018Jan 1 9999 12:00AM\u2019"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(NULL AS uniqueidentifier) DeleteCause"},{"entry":"\u2003FROM EnumeratedObjects member"},{"entry":"\u2003JOIN JohnDoeStaff s ON s.ObjectID = member.ObjectID"},{"entry":"\u2003)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The following description handles interaction between the group's predicate inclusion rule and the group's memberExclusions attribute.","Predicate inclusion members with no entry in the memberExclusions attribute includes:",{"@attributes":{"id":"p-0136","num":"0135"},"tables":{"@attributes":{"id":"TABLE-US-00031","num":"00031"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SELECT *"]},{"entry":[{},"FROM BaseInclusionView inclusion"]},{"entry":[{},"WHERE inclusion.MemberID NOT IN"]},{"entry":[{},"("]},{"entry":[{},"\u2003SELECT exclusion.ValueReference FROM EnumeratedObjects"]},{"entry":[{},"\u2003exclusion"]},{"entry":[{},"\u2003WHERE exclusion.AttributeName = \u2018memberExclusions\u2019"]},{"entry":[{},"AND exclusion.ObjectID = \u2018C2B502C1-368C-44A6-83D0-"]},{"entry":[{},"EACAE414EFE6\u2019"]},{"entry":[{},")"]},{"entry":[{},"UNION ALL"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes before the exclusion range includes:",{"@attributes":{"id":"p-0138","num":"0137"},"tables":{"@attributes":{"id":"TABLE-US-00032","num":"00032"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003SELECT",{}]},{"entry":["\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003inclusion.MemberID","MemberID,"]},{"entry":["\u2003\u2003inclusion.AddTime","AddTime,"]},{"entry":["\u2003\u2003inclusion.AddCause","AddCause,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN \u2003inclusion.DeleteTime \u2003<=\u2003 exclusion.AddTime \u2003THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"\u2003ELSE exclusion.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003END","DeleteTime,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN \u2003inclusion.DeleteTime \u2003<=\u2003 exclusion.AddTime \u2003THEN"},{"entry":"inclusion.DeleteCause"},{"entry":"\u2003ELSE exclusion.AddCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteCause"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003FROM BaseInclusionView inclusion"},{"entry":"\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"\u2003AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"\u2003WHERE"},{"entry":"\u2003\u2003inclusion.ObjectID = \u2018C2B502C1-368C-44A6-83D0-"},{"entry":"\u2003\u2003EACAE414EFE6\u2019"},{"entry":"\u2003AND inclusion.AddTime < exclusion.DeleteTime"},{"entry":"\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes after the exclusion range includes:",{"@attributes":{"id":"p-0140","num":"0139"},"tables":{"@attributes":{"id":"TABLE-US-00033","num":"00033"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SELECT",{}]},{"entry":["\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003inclusion.MemberID","MemberID,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddTime"},{"entry":"ELSE exclusion.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddTime,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddCause"},{"entry":"ELSE exclusion.DeleteCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddCause,"]},{"entry":["\u2003inclusion.DeleteTime","DeleteTime,"]},{"entry":["\u2003inclusion.DeleteCause","DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"FROM BaseInclusionView inclusion"},{"entry":"JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"WHERE"},{"entry":"\u2003inclusion.ObjectID = \u2018C2B502C1-368C-44A6-83D0-EACAE414EFE6\u2019"},{"entry":"AND exclusion.DeleteTime < inclusion.DeleteTime"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The view for All Managers can be defined as follows:",{"@attributes":{"id":"p-0142","num":"0141"},"tables":{"@attributes":{"id":"TABLE-US-00034","num":"00034"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003View \u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003name:"},{"entry":"PredicateMembershipRule_62132177_50F3_4437_98D0"},{"entry":"FD7DE2B5497A"},{"entry":"\u2003WITH BaseInclusionView(ObjectID, MemberID, AddTime, AddCause,"},{"entry":"DeleteTime, DeleteCause) AS"},{"entry":"\u2003("},{"entry":"\u2003SELECT DISTINCT"},{"entry":"\u2003\u2003CAST(\u201862132177-50F3-4437-98D0-FD7DE2B5497A\u2019 \u2003AS"},{"entry":"uniqueidentifier) ObjectID,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003member.ObjectID","MemberID,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN member.AddTime >= CAST(\u2018Oct 31 8:49PM\u2019 AS datetime)"},{"entry":"\u2003THEN member.AddTime"},{"entry":"\u2003ELSE CAST(\u2018Oct 31 8:49PM\u2019 AS datetime)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","AddTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(\u201862132177-50F3-4437-98D0-FD7DE2B5497A\u2019 \u2003AS"},{"entry":"uniqueidentifier) AddCause,"},{"entry":"\u2003\u2003CASE"},{"entry":"\u2003WHEN \u2003member.DeleteTime \u2003<=\u2003 \u2018Jan \u20031 \u20039999 \u200312:00AM\u2019"},{"entry":"THEN member.DeleteTime"},{"entry":"\u2003ELSE \u2018Jan 1 9999 12:00AM\u2019"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(NULL AS uniqueidentifier) DeleteCause"},{"entry":"\u2003FROM EnumeratedObjects member"},{"entry":"\u2003WHERE member.ObjectID IN"},{"entry":"\u2003(SELECT \u2002ValueReference \u2002FROM \u2002EnumeratedObjects \u2002member"},{"entry":"WHERE AttributeName = \u2018manager\u2019)"},{"entry":"\u2003)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The following description handles interaction between the group's predicate inclusion rule and the group's memberExclusions attribute.","Predicate inclusion members with no entry in the memberExclusions attribute includes:",{"@attributes":{"id":"p-0145","num":"0144"},"tables":{"@attributes":{"id":"TABLE-US-00035","num":"00035"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SELECT *"]},{"entry":[{},"FROM BaseInclusionView inclusion"]},{"entry":[{},"WHERE inclusion.MemberID NOT IN"]},{"entry":[{},"("]},{"entry":[{},"\u2003SELECT exclusion.ValueReference FROM EnumeratedObjects"]},{"entry":[{},"\u2003exclusion"]},{"entry":[{},"\u2003WHERE exclusion.AttributeName = \u2018memberExclusions\u2019"]},{"entry":[{},"AND exclusion.ObjectID = \u201862132177-50F3-4437-98D0-"]},{"entry":[{},"FD7DE2B5497A\u2019"]},{"entry":[{},")"]},{"entry":[{},"UNION ALL"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes before the exclusion range includes:",{"@attributes":{"id":"p-0147","num":"0146"},"tables":{"@attributes":{"id":"TABLE-US-00036","num":"00036"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003SELECT",{}]},{"entry":["\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003inclusion.MemberID","MemberID,"]},{"entry":["\u2003\u2003inclusion.AddTime","AddTime,"]},{"entry":["\u2003\u2003inclusion.AddCause","AddCause,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN \u2003inclusion.DeleteTime \u2003<=\u2003 exclusion.AddTime \u2003THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"\u2003ELSE exclusion.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003END","DeleteTime,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN \u2003inclusion.DeleteTime \u2003<=\u2003 exclusion.AddTime \u2003THEN"},{"entry":"inclusion.DeleteCause"},{"entry":"\u2003ELSE exclusion.AddCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteCause"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003FROM BaseInclusionView inclusion"},{"entry":"\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"\u2003AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"\u2003WHERE"},{"entry":"\u2003\u2003inclusion.ObjectID = \u201862132177-50F3-4437-98D0-"},{"entry":"\u2003\u2003FD7DE2B5497A\u2019"},{"entry":"\u2003AND inclusion.AddTime < exclusion.DeleteTime"},{"entry":"\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes after the exclusion range includes:",{"@attributes":{"id":"p-0149","num":"0148"},"tables":{"@attributes":{"id":"TABLE-US-00037","num":"00037"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SELECT",{}]},{"entry":["\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003inclusion.MemberID","MemberID,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddTime"},{"entry":"ELSE exclusion.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["END","AddTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003CASE"},{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddCause"},{"entry":"ELSE exclusion.DeleteCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddCause,"]},{"entry":["\u2003inclusion.DeleteTime","DeleteTime,"]},{"entry":["\u2003inclusion.DeleteCause","DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"FROM BaseInclusionView inclusion"},{"entry":"JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"WHERE"},{"entry":"\u2003inclusion.ObjectID = \u201862132177-50F3-4437-98D0-FD7DE2B5497A\u2019"},{"entry":"AND exclusion.DeleteTime < inclusion.DeleteTime"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The view for Full Time Employees can be described as follows:",{"@attributes":{"id":"p-0151","num":"0150"},"tables":{"@attributes":{"id":"TABLE-US-00038","num":"00038"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003View \u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003name:"},{"entry":"PredicateMembershipRule_BE740FF6_8C80_4B75_9A33"},{"entry":"5799F9C5F42A"},{"entry":"\u2003WITH \u2003BaseInclusionView(ObjectID, \u2003MemberID, \u2003AddTime,"},{"entry":"AddCause, DeleteTime, DeleteCause) AS"},{"entry":"\u2003("},{"entry":"\u2003SELECT DISTINCT"},{"entry":"\u2003\u2003CAST(\u2018BE740FF6-8C80-4B75-9A33-5799F9C5F42A\u2019 AS"},{"entry":"uniqueidentifier) ObjectID,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003member.ObjectID","MemberID,"]},{"entry":"\u2003\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003WHEN member.AddTime >= CAST(\u2018Oct 31 8:50PM\u2019 AS datetime)"},{"entry":"\u2003THEN member.AddTime"},{"entry":"\u2003ELSE CAST(\u2018Oct 31 8:50PM\u2019 AS datetime)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","AddTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(\u2018BE740FF6-8C80-4B75-9A33-5799F9C5F42A\u2019 AS"},{"entry":"uniqueidentifier) AddCause,"},{"entry":"\u2003\u2003CASE"},{"entry":"\u2003WHEN \u2003member.DeleteTime \u2003<=\u2003 \u2018Jan \u20031 \u20039999 \u200312:00AM\u2019"},{"entry":"THEN member.DeleteTime"},{"entry":"\u2003ELSE \u2018Jan 1 9999 12:00AM\u2019"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003END","DeleteTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003CAST(NULL AS uniqueidentifier) DeleteCause"},{"entry":"\u2003FROM EnumeratedObjects member"},{"entry":"\u2003WHERE member.AttributeName = \u2018objectType\u2019 AND"},{"entry":"member.ValueString = \u2018FullTimeEmployee\u2019"},{"entry":"\u2003)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The following description handles interaction between the group's predicate inclusion rule and the group's memberExclusions attribute.","Predicate inclusion members with no entry in the memberExclusions attribute includes:",{"@attributes":{"id":"p-0154","num":"0153"},"tables":{"@attributes":{"id":"TABLE-US-00039","num":"00039"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SELECT *"]},{"entry":[{},"FROM BaseInclusionView inclusion"]},{"entry":[{},"WHERE inclusion.MemberID NOT IN"]},{"entry":[{},"("]},{"entry":[{},"\u2003SELECT exclusion.ValueReference FROM EnumeratedObjects"]},{"entry":[{},"\u2003exclusion"]},{"entry":[{},"\u2003WHERE exclusion.AttributeName = \u2018memberExclusions\u2019"]},{"entry":[{},"AND exclusion.ObjectID = \u2018BE740FF6-8C80-4B75-9A33-"]},{"entry":[{},"5799F9C5F42A\u2019"]},{"entry":[{},")"]},{"entry":[{},"UNION ALL"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes before the exclusion range includes:",{"@attributes":{"id":"p-0156","num":"0155"},"tables":{"@attributes":{"id":"TABLE-US-00040","num":"00040"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\u2003\u2003SELECT",{}]},{"entry":["\u2003\u2003\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003\u2003\u2003inclusion.MemberID","MemberID,"]},{"entry":["\u2003\u2003\u2003inclusion.AddTime","AddTime,"]},{"entry":["\u2003\u2003\u2003inclusion.AddCause","AddCause,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003\u2003CASE"},{"entry":"\u2003\u2003WHEN\u2003\u2002inclusion.DeleteTime\u2003<=\u2003exclusion.AddTime\u2003\u2002THEN"},{"entry":"inclusion.DeleteTime"},{"entry":"\u2003\u2003ELSE exclusion.AddTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003END","DeleteTime,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003\u2003CASE"},{"entry":"\u2003\u2003WHEN\u2003\u2002inclusion.DeleteTime\u2003<=\u2003exclusion.AddTime\u2003\u2002THEN"},{"entry":"inclusion.DeleteCause"},{"entry":"\u2003\u2003ELSE exclusion.AddCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2003END","DeleteCause"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"\u2003\u2003FROM BaseInclusionView inclusion"},{"entry":"\u2003\u2003JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003\u2003\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"\u2003\u2003AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"\u2003\u2003AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"\u2003\u2003WHERE"},{"entry":"\u2003\u2003\u2003inclusion.ObjectID ="},{"entry":"\u2018BE740FF6-8C80-4B75-9A33-5799F9C5F42A\u2019"},{"entry":"\u2003\u2003AND inclusion.AddTime < exclusion.DeleteTime"},{"entry":"\u2003\u2003UNION ALL"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"Predicate inclusion members with an entry in the memberExclusions attribute and the inclusion range comes after the exclusion range includes:",{"@attributes":{"id":"p-0158","num":"0157"},"tables":{"@attributes":{"id":"TABLE-US-00041","num":"00041"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SELECT",{}]},{"entry":["\u2003inclusion.ObjectID","ObjectID,"]},{"entry":["\u2003inclusion.MemberID","MemberID,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddTime"},{"entry":"ELSE exclusion.DeleteTime"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddTime,"]},{"entry":"\u2003CASE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"WHEN inclusion.AddTime >= exclusion.DeleteTime"},{"entry":"THEN inclusion.AddCause"},{"entry":"ELSE exclusion.DeleteCause"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["END","AddCause,"]},{"entry":["\u2003inclusion.DeleteTime","DeleteTime,"]},{"entry":["\u2003inclusion.DeleteCause","DeleteCause"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"FROM BaseInclusionView inclusion"},{"entry":"JOIN EnumeratedObjects exclusion ON"},{"entry":"\u2003inclusion.ObjectID = exclusion.ObjectID"},{"entry":"AND exclusion.AttributeName = \u2018memberExclusions\u2019"},{"entry":"AND inclusion.MemberID = exclusion.ValueReference"},{"entry":"WHERE"},{"entry":"\u2003inclusion.ObjectID = \u2018BE740FF6-8C80-4B75-9A33-5799F9C5F42A\u2019"},{"entry":"AND exclusion.DeleteTime < inclusion.DeleteTime"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"The system  can be implemented as part of networked, distributed, or other computer-implemented environment. The system  and its components can communicate via a wired, wireless, and\/or a combination of communication networks. A number of client computing devices, including desktop computers, laptops, handhelds, or other smart devices can interact with and\/or be included as part of the system . In alternative embodiments, the various components can be combined and\/or configured according to a desired implementation. For example, the organizing component  and\/or query component  can be included as part of the database system . Other embodiments and configurations are available.","As described above, defined groups can be used for many purposes. For example, groups can be used: when sending an e-mail to multiple people; for granting access rights, identifying multiple people as the principle; for granting access rights, identifying multiple targets of an action; etc. A predicate-based membership can be used to eliminate the additional management action of adding or removing a member from an associated group. As soon as a member of a group is stored in the database, the member can be automatically and immediately in the group because the member can be included using a defined group-membership predicate. Once a member is no longer associated with a group, the member can be automatically and immediately disassociated with the group as stored in the database.","A predicate-based group is not only defined as a predicate, it exists as a predicate. Thus, a predicate-based group will be automatically up-to-date. In an embodiment, the predicate is not used to cache associated members. Rather, as described above, a predicate defining a group can be maintained using a database view. Correspondingly, a query using the database view gets the up-to-date membership since caching of the members is not required. Moreover, the complexity and overhead associated with cache invalidation can be avoided. Constantly checking whether an update to the database invalidates the cached group membership can require complex error-prone programming as well as a very large processing overhead. In some cases, a group can be used to test membership, so that producing the set of members in not necessary, resulting in better performance.","Exemplary Operating Environment","Referring now to , the following discussion is intended to provide a brief, general description of a suitable computing environment in which embodiments of the invention may be implemented. While the invention will be described in the general context of program modules that execute in conjunction with program modules that run on an operating system on a personal computer, those skilled in the art will recognize that the invention may also be implemented in combination with other types of computer systems and program modules.","Generally, program modules include routines, programs, components, data structures, and other types of structures that perform particular tasks or implement particular abstract data types. Moreover, those skilled in the art will appreciate that the invention may be practiced with other computer system configurations, including hand-held devices, multiprocessor systems, microprocessor-based or programmable consumer electronics, minicomputers, mainframe computers, and the like. The invention may also be practiced in distributed computing environments where tasks are performed by remote processing devices that are linked through a communications network. In a distributed computing environment, program modules may be located in both local and remote memory storage devices.","Referring now to , an illustrative operating environment for embodiments of the invention will be described. As shown in , computer  comprises a general purpose desktop, laptop, handheld, or other type of computer capable of executing one or more application programs. The computer  includes at least one central processing unit  (\u201cCPU\u201d), a system memory , including a random access memory  (\u201cRAM\u201d) and a read-only memory (\u201cROM\u201d) , and a system bus  that couples the memory to the CPU . A basic input\/output system containing the basic routines that help to transfer information between elements within the computer, such as during startup, is stored in the ROM . The computer  further includes a mass storage device  for storing an operating system , application programs, and other program modules.","The mass storage device  is connected to the CPU  through a mass storage controller (not shown) connected to the bus . The mass storage device  and its associated computer-readable media provide non-volatile storage for the computer . Although the description of computer-readable media contained herein refers to a mass storage device, such as a hard disk or CD-ROM drive, it should be appreciated by those skilled in the art that computer-readable media can be any available media that can be accessed or utilized by the computer .","By way of example, and not limitation, computer-readable media may comprise computer storage media and communication media. Computer storage media includes volatile and non-volatile, removable and non-removable media implemented in any method or technology for storage of information such as computer-readable instructions, data structures, program modules or other data. Computer storage media includes, but is not limited to, RAM, ROM, EPROM, EEPROM, flash memory or other solid state memory technology, CD-ROM, digital versatile disks (\u201cDVD\u201d), or other optical storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can be accessed by the computer .","According to various embodiments of the invention, the computer  may operate in a networked environment using logical connections to remote computers through a network , such as a local network, the Internet, etc. for example. The computer  may connect to the network  through a network interface unit  connected to the bus . It should be appreciated that the network interface unit  may also be utilized to connect to other types of networks and remote computing systems. The computer  may also include an input\/output controller  for receiving and processing input from a number of other devices, including a keyboard, mouse, etc. (not shown). Similarly, an input\/output controller  may provide output to a display screen, a printer, or other type of output device.","As mentioned briefly above, a number of program modules and data files may be stored in the mass storage device  and RAM  of the computer , including an operating system  suitable for controlling the operation of a networked personal computer, such as the WINDOWS operating systems from MICROSOFT CORPORATION of Redmond, Wash. The mass storage device  and RAM  may also store one or more program modules. In particular, the mass storage device  and the RAM  may store application programs, such as a word processing application , a spreadsheet application , e-mail application , drawing application, etc.","It should be appreciated that various embodiments of the present invention can be implemented (1) as a sequence of computer implemented acts or program modules running on a computing system and\/or (2) as interconnected machine logic circuits or circuit modules within the computing system. The implementation is a matter of choice dependent on the performance requirements of the computing system implementing the invention. Accordingly, logical operations including related algorithms can be referred to variously as operations, structural devices, acts or modules. It will be recognized by one skilled in the art that these operations, structural devices, acts and modules may be implemented in software, firmware, special purpose digital logic, and any combination thereof without deviating from the spirit and scope of the present invention as recited within the claims set forth herein.","Although the invention has been described in connection with various exemplary embodiments, those of ordinary skill in the art will understand that many modifications can be made thereto within the scope of the claims that follow. Accordingly, it is not intended that the scope of the invention in any way be limited by the above description, but instead be determined entirely by reference to the claims that follow."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
