---
title: Common cluster model for configuring, managing, and operating different clustering technologies in a data center
abstract: A method, apparatus, and computer instructions are provided for a common cluster model for configuring, managing, and operating different clustering technologies in a data center. The common cluster model supports peer cluster domains and management server cluster domains. Each cluster domain may have one or more cluster nodes. For each cluster domains, one or more cluster resources may be defined. These resources may depend on one another and may be grouped into a resource group. A set of cluster domain and cluster resources logical device operations are provided to configure, manage, and operate cluster domains and its associated resources.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08843561&OS=08843561&RS=08843561
owner: International Business Machines Corporation
number: 08843561
owner_city: Armonk
owner_country: US
publication_date: 20091119
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application is a continuation of application Ser. No. 11\/117,137, filed Apr. 28, 2005, status allowed.","1. Technical Field","The present invention relates to a data processing system. In particular, the present invention relates to modeling clustering technologies in a data center. Still more particularly, the present invention relates to providing a common cluster model for configuring, managing, and operating different clustering technologies in a data center.","2. Description of Related Art","In a data center, a variety of clustering technologies may be used to configure, manage, and operate clusters. Examples of these clustering technologies include Veritas\u2122 clustering server, which is available from Veritas Software Corporation, Tivoli\u00ae System Automation (TSA) for Multiplatforms and WebSphere, which is available from International Business Machines Corporation, and Microsoft\u00ae cluster server available from Microsoft Corporation.","These clustering technologies each have their own way to configure, manage, and operate clusters. For example, Veritas clustering server provides a configuration definition template for configuring a Veritas cluster. TSA cluster uses a pre-camp policy and a CLI cluster command to configure the TSA cluster. Microsoft cluster server uses configuration user interface to configure the cluster and encapsulate all detail configuration steps from the users. The WebSphere cluster uses a deployment manager server to configure a WebSphere Application Server (WAS) cluster by calling a WAS internal application programming interface (API). With the variety of ways to configure, manage, and operate cluster, no mechanism is present that allows users to easily interact with different clustering technologies.","In addition, these clustering technologies each have their own data model for modeling the cluster. When encountering different clustering technologies, users have to have knowledge of different data models associated with each of these clustering technologies. For example, if both a WAS cluster and a TSA high availability cluster are used in a data center, a user must handle these two clustering technologies and their data models separately.","Therefore, it would be advantageous to have an improved method that operates different clustering technologies and understands different data models.","The present invention provides a method, an apparatus, and computer instructions for a common cluster model for configuring, managing, and operating different clustering technologies in a data center. The common cluster model defines a cluster domain that includes at least one cluster node for a clustering technology, associates at least one cluster resource with the cluster domain or the at least one cluster node, and associates at least one property with the cluster domain or the at least one cluster resource.","With reference now to the figures,  depicts a pictorial representation of a network of data processing systems in which an illustrative embodiment of the present invention may be implemented. Network data processing system  is a network of computers in which the present invention may be implemented. Network data processing system  contains a network , which is the medium used to provide communications links between various devices and computers connected together within network data processing system . Network  may include connections, such as wire, wireless communication links, or fiber optic cables.","In the depicted example, server  is connected to network  along with storage unit . In addition, clients , , and  are connected to network . These clients , , and  may be, for example, personal computers or network computers. In the depicted example, server  provides data, such as boot files, operating system images, and applications to clients -. Clients , , and  are clients to server . Network data processing system  may include additional servers, clients, and other devices not shown. In the depicted example, network data processing system  is the Internet with network  representing a worldwide collection of networks and gateways that use the Transmission Control Protocol\/Internet Protocol (TCP\/IP) suite of protocols to communicate with one another. At the heart of the Internet is a backbone of high-speed data communication lines between major nodes or host computers, consisting of thousands of commercial, government, educational and other computer systems that route data and messages. Of course, network data processing system  also may be implemented as a number of different types of networks, such as for example, an intranet, a local area network (LAN), or a wide area network (WAN).  is intended as an example, and not as an architectural limitation for the present invention.","Referring to , a block diagram of a data processing system that may be implemented as a server, such as server  in , is depicted in accordance with a preferred embodiment of the present invention. Data processing system  may be a symmetric multiprocessor (SMP) system including a plurality of processors  and  connected to system bus . Alternatively, a single processor system may be employed. Also connected to system bus  is memory controller\/cache , which provides an interface to local memory . I\/O Bus Bridge  is connected to system bus  and provides an interface to I\/O bus . Memory controller\/cache  and I\/O Bus Bridge  may be integrated as depicted.","Peripheral component interconnect (PCI) bus bridge  connected to I\/O bus  provides an interface to PCI local bus . A number of modems may be connected to PCI local bus . Typical PCI bus implementations will support four PCI expansion slots or add-in connectors. Communications links to clients - in  may be provided through modem  and network adapter  connected to PCI local bus  through add-in connectors.","Additional PCI bus bridges  and  provide interfaces for additional PCI local buses  and , from which additional modems or network adapters may be supported. In this manner, data processing system  allows connections to multiple network computers. A memory-mapped graphics adapter  and hard disk  may also be connected to I\/O bus  as depicted, either directly or indirectly.","Those of ordinary skill in the art will appreciate that the hardware depicted in  may vary. For example, other peripheral devices, such as optical disk drives and the like, also may be used in addition to or in place of the hardware depicted. The depicted example is not meant to imply architectural limitations with respect to the present invention.","The data processing system depicted in  may be, for example, an IBM eServer pSeries system, a product of International Business Machines Corporation in Armonk, N.Y., running the Advanced Interactive Executive (AIX) operating system or the LINUX operating system.","With reference now to , a block diagram illustrating a data processing system is depicted in which the present invention may be implemented. Data processing system  is an example of a client computer. Data processing system  employs a peripheral component interconnect (PCI) local bus architecture. Although the depicted example employs a PCI bus, other bus architectures such as Accelerated Graphics Port (AGP) and Industry Standard Architecture (ISA) may be used. Processor  and main memory  are connected to PCI local bus  through PCI Bridge . PCI Bridge  also may include an integrated memory controller and cache memory for processor . Additional connections to PCI local bus  may be made through direct component interconnection or through add-in boards. In the depicted example, local area network (LAN) adapter , small computer system interface (SCSI) host bus adapter , and expansion bus interface  are connected to PCI local bus  by direct component connection. In contrast, audio adapter , graphics adapter , and audio\/video adapter  are connected to PCI local bus  by add-in boards inserted into expansion slots. Expansion bus interface  provides a connection for a keyboard and mouse adapter , modem , and additional memory . SCSI host bus adapter  provides a connection for hard disk drive , tape drive , and CD-ROM drive . Typical PCI local bus implementations will support three or four PCI expansion slots or add-in connectors.","An operating system runs on processor  and is used to coordinate and provide control of various components within data processing system  in . The operating system may be a commercially available operating system, such. as Windows XP, which is available from Microsoft Corporation. An object oriented programming system such as Java may run in conjunction with the operating system and provide calls to the operating system from Java programs or applications executing on data processing system . \u201cJava\u201d is a trademark of Sun Microsystems, Inc. Instructions for the operating system, the object-oriented programming system, and applications or programs are located on storage devices, such as bard disk drive , and may be loaded into main memory  for execution by processor . Those of ordinary skill in the art will recognize that computer usable storage media other than hard disk drives  and main memory  may contain instructions.","Those of ordinary skill in the art will appreciate that the hardware in  may vary depending on the implementation. Other internal hardware or peripheral devices, such as flash read-only memory (ROM), equivalent nonvolatile memory, or optical disk drives and the like, may be used in addition to or in place of the hardware depicted in . Also, the processes of the present invention may be applied to a multiprocessor data processing system.","As another example, data processing system  may be a stand-alone system configured to be bootable without relying on some type of network communication interfaces As a further example, data processing system  may be a personal digital assistant (PDA) device, which is configured with ROM and\/or flash ROM in order to provide non-volatile memory for storing operating system files and\/or user-generated data.","The depicted example in  and above-described examples are not meant to imply architectural limitations. For example, data processing system  also may be a notebook computer or hand held computer in addition to taking the form of a PDA. Data processing system  also may be a kiosk or a Web appliance.","Turning now to , a diagram illustrating an exemplary data center is depicted, in accordance with a preferred embodiment of the present invention. As shown in , in this illustrative example, data center  includes resources, such as, customer , server , Virtual Local Area Network (VLAN) , subnet , router , switch , software products , load balancer , and data container .","Customer  may be, for example, a client or an administrator who uses a data processing system, such as data processing system  in . Server  may be implemented as a data processing system, such as data processing system  in . Server  may also be implemented as an application server, which hosts Web services, or other types of servers. Router  and switch  facilitate communications between different devices. VLAN  is a network of computers that behave as if they are connected to the same wire even though they may actually be physically located on different segments of a local area network. Subnet  is a portion of a network, which may be a physically independent network segment and shares a network address with other portions of the network.","Software products  are applications that may be deployed to a client or a server. Load balancer  spreads traffic among multiple systems such that no single system is overwhelmed. Load balancer  is normally implemented as software running on a data processing system. Data container  may be a database, such as DB2 Universal Database, a product available from International Business Machines Corporation.","Data center , as depicted in , is presented for purposes of illustrating the present invention. Other resources, such as, for example, cluster of servers and switch port, also may be included in data center . The mechanism of the present invention provides a common cluster model for configuring, managing and operating clusters, such as clusters of servers , in a data centers, such as data center . The processes of the present invention may be performed by a processing unit comprising one or more processors, such as processor  in , using computer implemented instructions, which may be located in a memory such as, for example, main memory , memory , or in one or more peripheral devices  and .","Turning now to , a diagram illustrating a known method to configure, manage, and operate a cluster is depicted. As shown in , currently, administrator  configures, manages, and operates different clustering technologies in different ways. For example, administrator configures Veritas cluster  and its resources using Veritas configuration files and agents.","In another example, administrator  configures Microsoft cluster  and its resources using MS cluster configuration user interface or Windows scripts. Similarly, administrator  uses WebSphere API to configure WAS cluster . In yet another example, administrator  configures TSA HA cluster  and its pre-camp policy using TSA specific command, such as CLI.","Turning now to , a diagram illustrating known relationships between different clustering technologies is depicted. As shown in , administrator  currently has to handle different clustering technologies  individually, since clustering technologies  are incompatible with one another. Therefore, a need exists for a common model that handles different clustering technologies.","In an illustrative embodiment, the present invention provides such common model, known as common cluster model, which configures, manages, and operates a cluster regardless of which clustering technology the cluster employs. The common cluster model allows a user to interact with the vendor specific clustering technology without knowledge of the specific clustering technology or its data model.","The common cluster model is a common interface between the user and a plurality of logical device operations. The logical device operations map the common cluster model into specific device driver workflows which interact with various vendor specific clustering technologies. Thus, the common cluster model provides a higher level of abstraction for cluster administrators to configure, manage, and operate the data center where different clustering technologies are applied.","Turning now to , a diagram illustrating relationships between administrators and different clustering technologies is depicted in accordance with an illustrative embodiment of the present invention. As shown in , administrator  is different from administrator  and  in  in that administrator  interacts with common cluster model  instead of vendor specific clustering technologies, such as Veritas cluster , WAS cluster , Microsoft cluster , and TSA HA cluster .","With common cluster model  provided by the present invention, administrator  may invoke logical device operations  via graphical user interface . Logical device operations  allow administrator  to configure, manage, and operate vendor specific clustering technologies - using device driver workflows .","Examples of operations administrator  may perform via common cluster model  include configuring a cluster, adding node to a cluster, removing a node from a cluster, starting or stopping a cluster, starting or stopping a cluster node, creating and deleting a cluster resource, creating and deleting a resource group, synchronizing cluster or resource states, starting or stopping a cluster resource, updating a resource, and creating or updating resource dependencies.","In an illustrative embodiment, common cluster model  models two main types of cluster domains: management server domain and peer domain. A cluster domain is a virtual collection of physical or logical elements that provide services to a client as a single unit.","Peer domain has no management node that manages all nodes in the cluster domain. Thus, each node in the domain is a peer and can access each other. Peer domain nodes are identical and there are no rankings between the nodes. Cluster operations may be run on any one of the nodes in the peer cluster domain. Examples of a peer domain include TSA, Veritas, and High Availability Cluster Multiprocessing for AIX 5L (HACMP) available from International Business Machines Corporation.","Management cluster domain, on the other hand, has one or more management nodes that manage peer nodes in the management server cluster domain. Peer nodes in the management cluster domain cannot access each other. All cluster operations are run by the management nodes. Examples of management server domain include WebSphere cluster and an open source project known as Extreme Cluster Administration Toolkit (xCat).","Turning now to , a diagram illustrating an exemplary common cluster domain model is depicted in accordance with an illustrative embodiment of the present invention. As shown in , common cluster model  is able to handle both types of cluster domains. For example, cluster domain  includes logical elements known as cluster nodes, represented by Dcm_object . There may be one or more cluster node members in cluster domain . An application tier may specify associated cluster domain  used. Device driver or individual workflows may be associated with cluster domain  and software models may be associated with cluster domain  for configuring the cluster.","Cluster nodes, represented by Dcm_object , are logical representations of servers, such as H\/A clusters, or software instances, such as WAS cluster, since a single system may be running two software instances simultaneously. Cluster node types  may be either a peer node or a management node if the cluster domain is management server domain. Common cluster model  provides the flexibility to support both types of clusters. For each cluster node, desired state  may be specified in order to determine what state cluster domain  should be after it is configured, for example, online. In addition, observed state  may also be specified, which indicates the current state of cluster domain , for example, offline.","In addition, cluster nodes in cluster domain  may be located in different physical systems, for example, a WAS cluster, or on a single system, for example, WAS 2-server instances running on a single machine. Furthermore, cluster domain  may be nested , meaning that a cluster domain may include one or more sub-cluster domains. However, a sub-cluster domain may only have exactly one parent cluster domain.","In order to configure, manage, and operate cluster domain , a set of cluster service operations  may be used. For example, config operation  may be used to lookup nodes belonging to a cluster domain and its existing resources and then define those resources. For each cluster domain , domain level cluster resources  and cluster domain properties  may be defined. These illustrative cluster service operations are also referred to as cluster domain operations.","In these illustrative examples, cluster resource  is a specialized software resource . Cluster resource  may be either a domain level cluster resource or node level cluster resource. Cluster resource  includes cluster resource type , desired state, observed state, and display name. Cluster resource type  may be an application, an IP, a share disk, etc. An example of an application is ipconfig.","Start\/stop dependencies or relationships  may also be associated among cluster resources . For example, a dependency may be associated to resource A and resource B, which defines that resource A starts before resource B. Examples of resource dependencies include storage mappings and database instances. Each cluster resource  may include one or more resource attributes, represented by Dcm-properties . Examples of resource attributes include ip addresses, name masks, etc.","In addition, cluster resource  may be a member of resource group  or may be aggregated to form failover cluster resource , which consists of two or more redundancy of cluster resource , for a high availability cluster or a peer domain cluster. Just like cluster domain , resource group  may also associate with device driver or individual workflows. A set of cluster resource operations  may be used to configure, manage or operate cluster resource . For example, create dependency operation  may be used to create relationship  between two cluster resources.","Resource group  may be nested , meaning that a resource group may contain another resource group. However, each subgroup may only have exactly one parent group. Each resource group  may define group attributes and group dependencies among different cluster resource groups. These group attributes may be referred to as resource group properties. Each resource group  includes one or more cluster resources . These resources may be located in the same system or different systems. In addition, resource group  may also associate device driver and individual workflows. Furthermore, a set of cluster resource group logical operations can be used to operate resource group .","In order to map common cluster model  into a vendor specific data model, logical device operations, such as logical device operations  in , are used. As described above, common cluster model  provides cluster service operations  to map between common cluster domain  and vendor specific domain model. For each vendor specific clustering technology, a workflow implementation is provided and associated with logical device operations  in , and a mapping between common cluster model  and vendor specific domain mode is generated automatically.","For example, when config operation  in cluster service operations  is invoked, logical device operations  in  are invoked to parse a resource template to obtain vendor specific attributes for a cluster resource, and populate dcm_properties  for a cluster resource  in common cluster model . Thus, administrators may use cluster service operations  to configure, manage, and operate cluster domains and its associated resources.","Turning now to , a diagram illustrating exemplary cluster domain logical device operations and cluster resource logical device operations is depicted in accordance with an illustrative embodiment of the present invention. As shown in , cluster domain logical device operations  are provided by the present invention to configure, manage, and operate cluster domains. Cluster domain logical operations  include Config  for configuring a cluster domain, AddNode  that adds a cluster node to a cluster domain, Start  to start a cluster domain, Stop  to stop a cluster domain, StartNode  to start a node in a cluster domain, StopNode  to stop a node in a cluster domain, Remove  to remove a cluster domain, RemoveNode  to remove a node in a cluster domain, CreateResource  to create a cluster resource in a cluster domain, CreateResourceGroup  to create a resource group in a cluster domain, UpdateDomainStatus  to update a cluster domain observed state, and UpdateNodeStatus  to update a cluster node's observed state. These illustrative cluster domain logical operations may also be referred to as cluster domain operations.","Also shown in , cluster resource logical device operations  are provided by the present invention to configure, manage, and operate cluster resources within a cluster domain. Cluster resource logical device operations  include Start  to start a cluster resource, Stop  to stop a cluster resource, AddGroupMember  to add resources to a resource group, CreateDependency  to create dependencies between resources, Update  to update a cluster resource's attributes, and RemoveResource  to remove a cluster resource. These illustrative cluster resource logical operations may also be referred to as cluster resource operations.","Turning now to , a diagram illustrating exemplary usage of common cluster model  in  to model a high availability cluster is depicted in accordance with an illustrative embodiment of the present invention. As shown in , TSA DB\/2H\/A cluster domain  may be modeled as cluster domain  in .","TSA DB\/2H\/A cluster domain  includes two cluster nodes: DB\/2 Node   and DB\/2 Node  , which may be modeled using Dcm_object  in . In this example, DB\/2 Node   includes a number of resources accessible by a user. For example, nts server resources , nts server IP , DB\/2 instance , DB\/2 Instance Mount Point , and DB\/2 Instance IP . These resources are currently online.","A dependency may be defined between two resources. For example, DB\/2 instance  may depend on DB\/2 Instance Mount Point . Thus, DB2 instance  may not start until after DB\/2 Instance Mount Point  is completed. This dependency may be modeled by using relationship  in .","Similar to DB\/2 Node  , DB\/2 Node   also includes a number of resources, including DB\/2 Instance IP , DB\/2 Instance Mount Point , DB\/2 Instance , nts server IP , and nts server resources . However, unlike the resources in DB\/2 Node  , these resources are offline or on standby. With cluster domain  and cluster resource logical device operations  in , administrator may use easily change the configuration of DB\/2 Node   and DB\/2 Node   to place these resources online.","Furthermore, resources from DB\/2 Node   and DB\/2 Node   may be grouped into a number of resource groups and placed online. For example, nts server resources  and nts server IP  from DB\/2 Node   and nts server IP  and nts server resources  from DB\/2 Node   may be grouped into nts resource group , while DB\/2 instance , DB\/2 Instance Mount Point , DB\/2 Instance IP  from DB\/2 Node   and DB\/2 Instance IP , DB\/2 Instance Mount Point , and DB\/2 Instance  from DB\/2 Node   may be grouped into DB\/2 resource group . Nts resource group  and DB\/2 resource group  may then be placed online using cluster resource logical device operations.","In summary, a common cluster model is provided by the present invention that understands vendor specific clustering technologies and its data model. Administrators may use the common cluster model and its logical device operations to configure, manage, and operate clusters, cluster nodes, and their resources without the knowledge of vendor specific clustering technologies. Administrators are no longer required to learn each vendor specific data model and operations in order to configure vendor specific clustering technologies. As a result, administrators may save significant time and efforts in configuring, managing, and operating clusters.","It is important to note that while the present invention has been described in the context of a fully functioning data processing system, those of ordinary skill in the art will appreciate that the processes of the present invention are capable of being distributed in the form of a computer usable medium of instructions and a variety of forms and that embodiments of the present invention applies equally regardless of the particular type of signal bearing media actually used to carry out the distribution. Examples of computer usable media include recordable-type media such a floppy disc, a hard disk drive, a RAM, and CD-ROMs and transmission-type media such as digital and analog communications links.","The description of the embodiments of the present invention have been presented for purposes of illustration and description, but is not intended to be exhaustive or limited to the invention in the form disclosed. Many modifications and variations will be apparent to those of ordinary skill in the art. The embodiment was chosen and described in order to best explain the principles of the invention, the practical application, and to enable others of ordinary skill in the art to understand the invention for various embodiments with various modifications as are suited to the particular use contemplated."],"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The novel features believed characteristic of the invention are set forth in the appended claims. The invention itself, however, as well as a preferred mode of use, further objectives and advantages thereof, will best be understood by reference to the following detailed description of an illustrative embodiment when read in conjunction with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 10","FIG. 8"]}]},"DETDESC":[{},{}]}
