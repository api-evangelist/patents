---
title: Peer-to-peer active content sharing
abstract: A system and method to allow chat modules in a peer network to share active content. A sender peer includes an application module to activate a media content file from a content repository. The sender peer also includes a chat module to detect active content on the common peer and send information about the active content for display at a recipient peer. The recipient peer includes a chat module to receive active content information and an application module to active the media in substantially synchronous to active media at the sender peer. A content enhancement server provides supplemental active content information for display at the recipient peer and previews of the active content. The content enhancement server also enables a transaction related to the active media content file such as a purchase of an MP3 copy of the active content.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08001187&OS=08001187&RS=08001187
owner: Apple Inc.
number: 08001187
owner_city: Cupertino
owner_country: US
publication_date: 20030701
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["1. Field of the Invention","This invention pertains to peer chat networks in general, and more particularly, to sharing active content and related information with another peer.","2. Description of Related Art","Instant messaging has recently emerged as a powerful communications model for both business and personal communications. Instant messaging software applications such as Apple Computer's iChat\u2122, America Online's Instant Messenger\u2122, Microsoft Corp.'s MSN Messenger\u2122, and others allow users to communicate instantly with other users over a peer network. These applications permit users to track other users that are currently logged in and to send them real time text messages. Users typically maintain a contact or buddy list of preferred contacts that are friends, family, co-workers, or others having common interests, etc. The buddy list allows simple, albeit limited, access to the preferred contacts.","One problem with existing instant messaging applications is that they limit the real time information shared between a user and a contact to, for example, text messages, simple graphic files, and static file transfers. Significantly, current instant messaging applications do not allow users of a peer to directly and easily share information about active content on the peer. The instant messaging applications lack the software architecture to track active content in applications on a common peer, and lack the network communications architecture to share active content with other peers on the network.","Active content includes files that a user is currently accessing, such as music files the user is currently listening to, movies the user is currently watching, and other multimedia content the user is currently experiencing, or the like. Active files can also include other files that are open on the user's computer and in use by an application, such as a multimedia player like Apple Computer's iTunes\u2122. Thus, if a user is listening to a music file on his computer, those contacts he may be currently instant messaging cannot hear that same file at the same time. Likewise, if the user were watching a movie, the instant messaging contacts would not be able to view the movie as well.","At best, in order to share such files, the sender must close the file (or make a copy of it), and then transfer the file via a file transfer function of the instant messaging application or as an attachment to an email sent by an email application, or a user can send a URL to a file if its available on the Internet. This process is not real time sharing of active content, but is essentially copying the static file (or a reference to it) from one computer to another. Further, neither approach provides the recipient with real time updates such as a change in active content, nor do they synchronize the recipient's version with the portion of the active content currently available to the sender, for example, the portion of a multimedia file being viewed by the sender. Moreover, many multimedia files are not well suited for emailing because of their large size.","Furthermore, there is no network architecture to automatically enhance the recipient's use of the user's active content information. Typically, a recipient of a static content file has to undertake additional manual steps to obtain such additional information. Again, if a user is listening to a music file, the user's instant messaging contacts, even those currently in a chat session, would not have direct access to information or meta-data such as the song's name, artist, album art, liner notes, or the like. More generally, there is no way for a one user of an instant messaging application to retrieve supplemental information about the active content in use on another user's computer from a database. Similarly, such instant messaging contacts of the user cannot today easily or directly purchase or preview a copy of active content within the instant messenger.","Another problem with existing messenger applications is that they are typically stand-alone applications that provide only messaging functionality. However, users often multitask between several applications on a single desktop, and typically have an instant messaging application running concurrently with other applications, such as word processors, spreadsheets, graphics applications, media applications, and the like. Thus, users must toggle between the instant messaging application to communicate with their contacts and other active applications to perform tasks such as playing back multimedia or surfing web sites, performing word processing, and the like.","Accordingly, there is a need to enhance application and network communication architecture of instant messengers to enable real time active content sharing. The solution should provide supplemental information, real time streaming or previewing, and enable a transaction for the recipient to obtain its own copy of the active content.","The present invention allows instant messaging applications in a peer network to share active content. A sender peer includes an application module to activate content from a file in a content repository. The application module may be a media player, a word processor, or other application for activating content. The active content is preferably a multimedia file, which may be incorporated in a word processing document, or other data file capable of execution in the application module. A chat module of the sender peer includes a daemon to track application modules and poll each application module for its current active content file, and its current display of the active content file. The chat module shares active content with a remotely located recipient peer through a network by sending active content information collected by the daemon, such as a unique identifier. The recipient peer includes a chat module to receive and output active content information, such as integrating the active content information into the chat module graphical user interface (GUI) display.","In one embodiment, a content enhancement server includes a content supplement database to provide supplements to shared active content to the recipient peer. Supplemental information can include descriptive information about the active content, meta-data, or additional information, such as name, creator, content descriptions, related files and so forth (e.g., a CD containing the active media, a graphic file of the artist, a preview, or transactional information to obtain a copy). In another embodiment, the content supplement database stores previews of active content for streaming to the recipient peer.","The content enhancement server may also include a content transaction module to enable a transaction based on the shared active content. The content enhancement server, for example, enables a purchase a copy of a shared music file. In another embodiment, the content transaction module serves as a gateway to third-party databases with available products by using application program interfaces to search the third-party databases and generate a list of available products.","In another embodiment of the system, the sender peer substantially synchronously streams active content to the recipient peer. The sender peer includes a server module and the recipient peer includes a client module that together negotiate streaming parameters for shared active content. The recipient peer's active content executing in the receiving application module correlates to the sender peer's active content executing in the sending application module.","Other embodiments include a method of active content sharing, a method of streaming shared active content, a method of enabling a transaction related to the active content, and a method of retrieving supplemental information about the active content.","In the following description, for purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the invention. The field of networking is such that many different variations of the illustrated and described features of the invention are possible. Those skilled in the art will undoubtedly appreciate that the invention can be practiced without some specific details described below, and indeed will see that many other variations and embodiments of the invention can be practiced while still satisfying the teachings of the invention. Further, those of skill in the art of networking appreciate the large variety of different networking protocols, topologies, transports, and the like that can be used to establish networked communications between computers. Accordingly, the present invention should not be understood as being limited to the specific example implementation described below.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1","b":["100","110","120","130","145"]},"Active content, as used herein, refers to a data file in current use at a peer. The data file in use may be media content such as an audio or video file being played back in a media player, text, graphics, or numeric content such as a document, spreadsheet, code file, graphics file, or any other file having data representing content that is capable of perception by a user at the peer. Shared active content refers to active content made available to other peers on the network by sending the peers active content information. Active content information may be meta-data about the data file (e.g., size, title, author, location, date, content list), an auxiliary data file related to the data file (e.g., unique identifier, associated graphics, text, references to other files), transaction information, or any other information directly or indirectly related to the content.","The sender peer  activates the content and sends active content information and synchronized active content streams to other peers on the network . In general, a peer is some type of computing device (physical or virtual), such as a computer, a telephone, set top box, a network appliance, or any device capable of connecting to the network  and receiving active content. As would be known to one of ordinary skill in the art, having the benefit of this disclosure, a sender peer  and\/or a recipient peer  may comprise computer readable program storage devices. The sender peer  and\/or a recipient peer , as would be known to one of ordinary skill in the art, having the benefit of this disclosure, may comprise computer readable program storage devices such as floppy disk drives, compact disc read-only memory (CD-ROM) devices, digital video disc (DVD) devices, universal serial bus (USB) storage devices, flash drives, tape drives, external storage devices, and\/or the like, along with their respective media. In one embodiment, the sender peer  serves as a network gateway for an ancillary device  with active content that is wirelessly connected to the peer. For example, an MP3 player or a digital video recorder having active content may be networked to the peer, which in turn, shares the MP3 player's active content and related information with peers on the network . Further embodiments of the sender peer and methods operating therein are discussed below.","The recipient peer  receives and outputs active content information from other peers and the content enhancement server , and streamed active content. The recipient peer  may be any embodiment of the first peer, so output may be displayed in a GUI. However, in other embodiments, the second peer is a thin version of the first peer in that it has the capability to receive information about the active content, but not necessarily to activate a stream of the active content itself. For example, a telephone having the chat module (e.g., an SMS compatible text messaging module) may not have the multimedia player needed to activate streamed content. Further embodiments of the second peer and methods operating therein are discussed below.","The enhanced content server  provides supplemental information about active content information to the recipient peer , and enables related transactions. The enhanced content server  may be software, hardware, or a combination, residing on a network destination. The enhanced content server  may be part of a central peer server, or part of an independent third-party server compatible with the peer-to-peer protocol used by the peers in the system  such as iTunes Music Store. Further embodiments of the enhanced content server  and methods operating therein are discussed below.","In one example of the system , two users, one at the sender peer  and one at the recipient peer  exchange text messages through iChat, while the sender user also listens to an MP3 with iTunes. The receiver user notices active content information concerning the sender user's active media content (i.e., the MP3 in use) on the receiver user's iTunes and turns the conversation towards that song. The receiver user consequentially decides to preview the music, initiating a stream from the sender peer  to the recipient peer . Ultimately, the sender user purchases a copy from the iTunes Music Store.","The network  transports data packets containing information about active content information between, e.g., the sender peer , the recipient peer , and the enhanced content server . The network  may be a data network, a telephone network, or any other type of network capable of transporting data. The data may be video, audio, information, or otherwise. The network  can be public or private, including both wired and wireless portions, send data in packets or through circuits, and use communications protocols such as IP (Internet Protocol) or ATM (Asynchronous Transfer Mechanism). Combinations of the previous and variations of network communication are within the scope of the present invention since it is transport independent.","Examples of alternative embodiments of the system  include, an embodiment having more than two peers, an embodiment having peers without the auxiliary content server, and an embodiment having peers communicatively coupled through a first network  and one of the peers communicatively coupled to the auxiliary content server through a second network . In particular,  shows only two peers for illustration, but in actual practice, there will large number of peers.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 2","b":["200","210","220","230"]},"The chat module  sends and receives active content and related information. The chat module  connects to a centralized messenger service located on the network  to set-up communication with other peers. The centralized messenger service may be Apple Computer Inc.'s iChat\u2122, America Online's AIM\u2122, or the like. Peers can communicate with each other, with their messages passing through the messenger service, or directly with each other independently of the centralized messenger server. The chat module  may periodically communicate with the centralized messenger service to update communication with other peers such as setting-up connections with new peers and changing communication addresses of existing peers. Although the present embodiment utilizes a chat module  to share the active content, other embodiments may integrate active content sharing into different peer-to-peer communications modules such as an FTP module or other file sharing application.","Additionally, the chat module  may include a daemon to track and poll the application modules  to determine if there is active content. The chat module  also determines the real time output of active content. In other words, if a video file is playing back in a media player, the chat module  determines which video frame, point in time, or other location indicator is currently active in the application module . The chat module  sends active content and related information to other peers. In one embodiment, certain active content may be precluded from sharing according to parameters set by the user such as content containing confidential information.","The application module  further includes active content. The application module  may be application software, hardware, or a combination such as a media player, a word processor, or the like. To activate the data file, the application module  opens at least a portion of the data file and progresses through the data file either sequentially or otherwise. For example, a media player may load a portion of an audio file into a buffer representing the next ten seconds of audio playback. In another example, an e-book viewer may load an entire e-book file into a buffer to display portions of text in a window according to the window's size.","The content repository  stores data files that are activated by the application module . The content repository  may be a hard disk, flash memory, random access memory, or any device capable of non-volatile or volatile storage of data files. The data files contain data in any useful format, such .mpg, .wma, .omg, gif, .mp3, .doc, .txt, .pdf, or any format capable of execution by the application module . In one embodiment, the content repository  is networked to the sender peer  such as a personal digital assistant with data files connected to the peer via the Bluetooth wireless communications protocol.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 3","b":["210","210","310","320","330","340"]},"The communications module  provides a communications pathway for the chat module  to transmit messages, and to share active content through a peer-to-peer network. The communications module  logs-in to the centralized chat server and establishes point-to-point communication with other peers by exchanging network addresses such as IP addresses. The communications module  may further comprise a network interface, appropriate protocol stack, an operating system or port control, a peer network software, or and application software.","The server\/client module  sends active content information for output at the other peers, and likewise receives active content information from other peers for local output. Additionally, the server\/client module  performs synchronized data streaming of the active content. Synchronization, however, may be substantially synchronized since the operation is dependent on network load, streaming parameters, and other conditions. The server\/client module  may be an FTP server, a desktop sharing server, an audio\/video server, or any other device capable of sending and receiving active content through a network.","The content information database  stores information about active content shared with other peers. Active content information may be a meta-data about the data file such as its size, an auxiliary data file related to the data file such a unique identifier, related image file, content title, content source, or any other information directly or indirectly related to the content. The content information database  is queried with an identifier such as an MP3 ID tag received from, e.g., the chat module  or the application module . In response, the content information database  makes matching information available, such as the MP3 content title. The information can be displayed at the sender peer , sent to the recipient peer  for display, or sent to the content enhancement server .","In one embodiment, a unique identifier comprises an active content fingerprint such as a hash key or wavelet. The hash key can be determined from an algorithm implementing a mathematical transform on binary data such as SHA-1 or CRC32. The unique identifier may be used by the recipient peer  to retrieve locally stored active content information related to the file, or sent to the content enhancement server  to retrieve active content supplements.","The GUI module  provides a user interface of the chat module  and receives user commands related to active content. In the recipient peer , the GUI module  integrates the active content information into the chat module's  user interface as discussed below in regards to . The GUI module  receives user commands to, for instance, initiate a synchronized stream or initiate a transaction. The GUI module  may include a graphical engine, an audio\/video CODEC, a processor, an operating system, graphic software, and other graphics enhancing devices.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 4A","b":["400","411","412","145"]},"The representation of Peer  includes information about active content  at Peer . Specifically, an icon indicates that the user of Peer  is listening to a song by Simon Posford titled \u201cDorset Perception.\u201d In response to selecting the icon, the chat module  initiates an active content stream as described below.","The representation of Peer  does not include information about active content at Peer . In one embodiment, Peer  does not send information about active content because, for example, there is no currently active content at Peer  or because Peer  has is not configured to share active content with the recipient peer . In another embodiment, the chat module  does not display received active content information because, for example, the recipient peer  is not capable of receiving an active content stream, or not capable of activating streamed content.","The representation of Peer  includes an icon indicating that the active content  at Peer  is a movie titled \u201cThe Third Man,\u201d and that this movie is available for purchase. In response to selecting the icon, the chat module  initiates a transaction as described below.","An advantage of this embodiment is that users of a peer can see real time active content information of other peers on the network, at least some of which, they may share an interest in the active information.",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 4B","b":["470","460","220"]},"The application module display  further includes an active content display  to output the content currently available to a peer. For example, the display can show active video content in response to that same content being displayed on the sender peer's  active content display.","The chat module display  further includes a representation of Peer  and a chat session . Peer  is preferably a peer having active content compatible with the application module . The chat session  is disposed within the user interface to allow access to messaging while viewing active content. Advantageously, the peer user need not toggle between application windows when messaging a peer about shared active content.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 5","b":["130","520","530"]},"The content supplement database  queries file descriptions to provide the recipient peer  with data files related to shared active content or active content that are stored in the content supplement database . The data files may be similar to the files stored in the content information database  and the content repository , or more loosely related to the shared active content such as data files of advertisements. Accordingly, a query for a music artist may return a new book about the artist or their latest CD. The query may use a unique identifier such as a hash key if available. In one embodiment, the content supplement database  streams the shared content for the sender peer , for example, to reduce the sender peer's  load or to control access to shared active content. One form of control is to allow previews of a predetermined time.","The content transaction module  facilitates transactions with the recipient peer  such as a purchasing active content. The content transaction module  includes a database of available products. The products identified by a tag received from the recipient peer . The content transaction module  receives an order for the product and stores a resulting transaction ticket.","In another embodiment, the content transaction module  enables transactions between the recipient peer  and third-party retailers. The content transaction module  sends queries to several third-party databases according to the third party's application program interface. Based on the results, the content transaction module  generates a list of products with hyperlinks to third-party web sites containing the products. The content transaction module  also stores each third-party web site impression and click-through from the hyperlink list.","Thus, the recipient peer  is able to automatically access supplemental information about shared active content and is easily able to obtain a copy of active content or a related product.",{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 6","b":["110","120","610","620"]},"Next, the recipient and sender peers ,  establish  a peer-to-peer connection to enable direct communication. Each peer sends a list of contacts or other parameter to the log-in server  for identifying preferred peers. The log-in  server returns a list of logged-in contacts with network addresses. The log-in server  also notifies other relevant peers that new peers have joined the network .","The sender peer  initiates  the application module . In one embodiment, the application module  and the chat module  are integrated into a single application, so both modules are initiated at the same time (e.g., ). The sending application module  activates  content from the content repository  by outputting a portion of the data file. The chat module  may have a daemon that detects the application module  running on the peer and periodically polls the application module  for active content information. In another embodiment, the application module  publishes its status to the daemon.","The sender peer  sends  active content information to the recipient peer  chat module . The recipient peer  may display or otherwise output the active content information, or request  supplemental information related to the active content from the content enhancement server . To check the content enhancement server , the recipient peer  sends an identifier such as a tag or title.","The content supplement database  searches  its files using a query based on the identifier for the shared active content. The query may be filtered by additional terms such as only pictures or only advertisements. If a unique identifier of the active content is available, such as a hash key, the query results are more determinative. Otherwise, the content supplement database  ranks the query results and sends  the supplemental active content information to the recipient peer  for display. In one embodiment, the content supplement database  saves peer-specific queries to use as parameters in future queries.","In another embodiment, the content supplement database  searches third party databases by sending a query using the application programming interface of the outside database. Based on matching the queries to database descriptions, the content enhancement database determines which databases to search. The content supplement database  ranks the results and generates a list of hyperlinks corresponding to third party websites containing the results. The content supplement database  may additionally store hyperlink impressions or click-throughs from the list.","The recipient peer  displays  the active content information in its user interface. In one embodiment, the recipient peer  may implement local preferences by running a local ranking of the received results or by filtering certain results. The peer may also elect to request a transaction from the with the content enhancement server  as discussed with respect to . The peer user may elect to request a stream of the shared active content from the sender peer  as discussed with respect to .","In response to the sender peer  changing  active content in the application module , the sender peer  sends  updated active content information to the recipient peer . The recipient peer  displays  updated active content information, or supplemental active content information in the chat module  user interface.",{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 7","b":["120","715","110","720","110","725","230"]},"The recipient peer  sends  the identifier to the content enhancement server  to query a database in the content transaction database. In the example of a purchase transaction, the database query returns a opportunity to purchase, for example, an MP3 or CD containing a song or a DVD containing a movie. The database query may also send  related transaction options such as an option to purchase clothing designed by a queried music artist. The content transaction database ranks the query results and sends a list of transaction opportunities to the recipient peer  for display. The results may be displayed as hyperlinks or objects in a java applet.","The recipient peer  sends  a transaction selection such as a request to purchase a content source to the content transaction module  of the content enhancement server . In another embodiment, the content transaction module  requests further information from the recipient peer  user such as payment and shipping information.","Once the transaction terms are completed, the content transaction module  sends  a request for a transaction confirmation to the user. The transaction is completed when the recipient peer  sends  a transaction confirmation to the content transaction module .",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 8","b":["110","120","120","815","110","820"]},"Next, the sender peer  and recipient peer  negotiate  stream parameters such as stream speed. Essentially, the sender peer's server\/client module  and recipient peer's server\/client module  provide a direct communication link by exchanging port numbers for the application modules . Additionally, the peers may assess local preferences, network  traffic load, and bandwidth requirements of the shared active content.","The server\/client module  in the sender peer  synchronously streams the shared active content to the recipient peer . The recipient peer  determines which application modules  are compatible with the file type and initiates an application module . In one embodiment, if the file type is compatible with several application module s, the recipient peer  presents the user with a choice of application module s for activating the file.","The recipient peer  application module  activates the shared active content in the application module . The application module  may display or otherwise output the shared active content when a minimum amount of data has been received, buffer a certain amount of data, or wait until the entire file has been transferred.","The recipient peer  application module  sends shared active content information such as a change in display of the file, a change of shared active content, or termination of active content altogether.","In summary, the present invention allows the users of instant messenger to share active content with other users in the system , and to facilitate commerce. The chat module  uses a robust application and network communication architecture to share active content information with other peers in the system . Moreover, the sender peer  can send substantially synchronous streams or previews of active content to the recipient peer , which automatically activates the stream in a compatible application module . Furthermore, the content enhancement server  provides preview streams of active content, supplemental active content information, and enables transactions related to shared active content."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 4A"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4B"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
