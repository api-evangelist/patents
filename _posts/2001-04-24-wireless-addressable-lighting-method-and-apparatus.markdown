---
title: Wireless addressable lighting method and apparatus
abstract: An improved technique of utilizing a centralized control protocol for lighting devices such as DALI. A technique is disclosed for utilizing such protocols in a wireless environment. The first step involves associating particular slave devices with a specified master control device, and a second step involves associating specific functions within the master device with specific slave devices.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07417556&OS=07417556&RS=07417556
owner: Koninklijke Philips Electronics N.V.
number: 07417556
owner_city: Eindhoven
owner_country: NL
publication_date: 20010424
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["This invention relates to home, office, and commercial lighting and appliance systems, and more particularly, to an improved technique of interfacing a master control computer to a plurality of slave computers such as appliances and lighting devices dispersed throughout a home or office.","Home and office centrally controlled lighting systems are known in the art. One such system is known as DALI (Digital Addressable Lighting Interface). DALI is a widely accepted standard for lighting controls. In a DALI system, a plurality of lighting devices are dispersed throughout a site, such as a home or office, and are controlled by an intelligent control unit or central computer. The plurality of lighting devices may be termed \u201cslaves\u201d and the central control computer is denoted a \u201cmaster\u201d.","In most prior art systems such a DALI, the connections between the master and the slave is in the form of hardwiring. In the present art, a DALI type system is usually used for the lighting in one room, i.e. master and slave are in the same room. By adding a gateway to each DALI control unit, a building-wide control system can be built. Introducing wireless lighting control is to eliminate the wires that have to be installed inside the walls or ceilings, which creates obstacles for retrofit in most old buildings.","Wireless control of a lighting system in a commercial or office building can bring a number of advantages to the building owners, users and lighting system manufacturers. Wireless control can be achieved by communicating between the master and slave utilizing radio frequency (RF) technology. RF technology however, poses obstacles of its own that are not present in a hardwired system. More specifically, in order to take the advantage of RF technology, the wireless lighting control system must employ a technique to combine the operation of standards such as DALI with RF communication protocol standards.","The current state of the art however, only includes solutions for hardwired lighting networks implementing DALI standard. There is no technique to extend DALI standard to manage plural wireless slaves. Most current available wireless lighting control systems use proprietary protocols instead of DALI. Additionally, the DALI protocol, and similar protocols, operate by assuming reliable communication between master and slave. These protocols assume for example, that every transmitted bit from every slave device will be reliably and timely received by the master without interference from other slave devices in the system. The DALI protocol also assumes that all information from the master will be correctly received by the proper slave device. The protocol does not provide for the errors, delays, and interference that may corrupt data in a wireless environment. The protocol also does not provide for a way to initialize slaves and bind the commands on the remote control master to the slaves. Binding is the process used to assign certain slaves to certain commands on the remote control master dynamically.","The above and other problems of the prior art are overcome and a technical advance is achieved in accordance with the present invention. The present invention uses a technique to bind the master to plural slaves that requires registration of each of the slaves with the master. A user confirmation step by a user of each slave is added to the initialization process to ensure that the right slaves are initialized with the master.","In a preferred embodiment, a first step is executed to ensure that the specific slave devices to be controlled by a specified master device are initialized (i.e.; associated with that particular master device). After the specific desired devices are so associated, the system then associates specific functions or key sequences on a remote control or similar device in order to permit the same remote control device to communicate in a wireless fashion with plural slave devices. Thus, each slave device is ultimately associated with a particular function of a particular master device. In a preferred embodiment, a standardized network protocol is used in conjunction with a DALI or similar protocol.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 1","FIG. 1"],"b":["110","114","132","134","136"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 1A","FIG. 1B"],"b":["191","192","190","180","187","198","199","160","174"]},"The physical layer  of  and data link layer  can be built using an open standard such as Bluetooth, RF lite or any other network standards available in the future for low power low cost wireless data networks. Such standards provide for the reliable transfer of information across the physical link; with the necessary synchronization, error control, and flow control. Then a standardized command set such as a DALI command set layer  can be stacked above the physical layer , and data link layer  and network layer  as shown. The system also includes an optional applications programming interface (API)  as shown.","The DALI command set  translates commands entered at the application level to DALI commands. With a fully functional data-link-layer protocol, the next higher layer, DALI command set layer, may assume error-free transmission over the link. Therefore, the lower three layers can be transparent to the DALI command set and higher layers. This gives enormous flexibility in adopting different open standards to meet different requirements for different applications without changing the command set and user interface . For example, if the wireless lighting control network is targeted to a home environment, it requires short range and low power radio. If it is for an office or commercial building, it may require a longer communication range and more addressable nodes. Based on these application requirements, different open standards can be selected and implemented as the lower two layers in this model.","Returning to , prior to utilization of the DALI protocol, an initialization procedure  must take place and a short address is assigned to the slave. Each slave, such as a lighting device (e.g., ballast), must register with the master in order to communicate with the master, and to exchange control signals.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2","b":["201","202","203","204"]},"The foregoing confirmation step indicates that the user confirms that the particular device signaling visually is to be associated with the particular master device. Decision point  then returns the program to block  to process a new slave device. When all the slave devices have been processed so that they were associated with the proper master, the system returns to normal operation mode at .","Depending on the open network standard  used in the system, the master has to identify the slave by a predetermined algorithm. If the open network standard has its own enumeration procedure or algorithm defined, then the only work the master needs to do is to get the new device information through an API (application programming interface)  and utilize this information to proceed with the next steps in the initialization.","If the open network standard does not have an enumeration procedure defined or the slave devices don't have pre-programmed identifiers, the master needs to go through a searching algorithm to discover each slave. An example of such a searching algorithm can be the modified version of the initialization algorithm specified in DALI standard. It is a binary searching scheme to locate the smallest random address in each round of the search. The modification to be made is to implement CSMA (Carrier Sense Multiple Access) technique to avoid the collision that might happen when two or more slaves try to respond to the master's query. The collision problem is particular to a wireless system. It does not create problems during the searching procedure for the wired connections, since even if two or more slaves respond at the same time the master would be able to recognize the overlapped signals on the input line therefore determine that at least one slave is responding.","Once the master identifies the slave and the master updates its stored data in a manner such that it communicates with the new slave device at the assigned short address, an indication is awaited from the user which confirms the assignment of the address. The slave device gives visual feedback, for example, the lamp can flash or blink off, to let the user confirm if this is the right slave that is supposed to be in control of this particular master. Due to the penetration characteristics of RF signals, this step is preferred because any slave in the RF sphere of influence could be included in the control of the master even though it is not supposed to. For example, a lamp in a room on a different floor can be mistakenly initialized to join the network of the master of the room upstairs. The user must, for example, press a button to confirm that the slave device indicating is the right one to include.","The concept of binding specific functions on a remote control to specific lighting devices is also addressed in a wireless environment by the present invention. The flowchart of  is entered at  in which the special teaching mode, or binding mode, is entered. At , an active slave is selected either automatically, or by the depression of a key on the remote control, based on the slave list that the master obtained during the initialization procedure. The slave feeds back with a visual indication so that the user knows which device is active at the current moment. At such a time, an association is formed at  between master and the particular selected slave, for example, by the depression of a key on the remote control by the user. The slave is then released at block , and decision point  checks to determine if any other slaves must be bound with specific function keys. If so, a new active slave is selected, and the process repeats itself until each slave is \u201cbound\u201d with a particular function key or sequence of keys.","This binding process permits the flexibility of one button (or one command) to be associated to different slave devices dynamically after initialization. More specifically, in hardwired systems, the master may direct commands and information to a particular lighting device by simply transmitting the command or data over the physical wire connected to the particular lighting device. However, in a wireless system, the RF command would be received by all lighting devices since the wired protocols, such as DALI, were not designed in the first place to support wireless communications.","By first performing the foregoing binding procedure, each of the slave lighting devices is associated with a particular function or key sequence on the master (e.g. a remote control). In this manner, when commands and data are exchanged between the slave lighting device and the master, no conflict among the various slaves results. More specifically, the particular function or key sequence directs the exchange of information to a specific lighting device.","Another issue that arises as a result of the use of wireless communications in a master slave lighting system such as DALI is the identification of which slave devices are intended to be controlled by a particular master device, such as a remote control. This situation arises, for example, in an office environment wherein there could be one master controlling plural slave devices on the first floor, and a different master controlling slave devices an a second floor. In a hard wired system, the master will know which slaves are under its control simply by the particular hard wired connections between the various slave devices and the master. In a wireless environment, there needs to be a technique of ensuring the master only controls its own slaves.","As shown above therefore, in wireless environment two distinct steps are required in order to permit correct operation of the wireless lighting protocol such as DALI. In the first step, each of the slaves must be associated with a particular master, and in the second step, specific keys, buttons or functions on the master must be associated with each particular slave. Generally, these steps are accomplished by having the master pull the slaves in order to ascertain which slaves should be associated with the particular master, and then specific functions are activated so that particular slaves may be associated with those particular functions or keys."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1B"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
