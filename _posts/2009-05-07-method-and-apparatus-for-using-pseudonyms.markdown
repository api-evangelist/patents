---
title: Method and apparatus for using pseudonyms
abstract: An approach is provided for using pseudonyms to protect privacy and anonymity of communication messages. A pseudonym is extracted from a received message for comparison against a precomputed set of pseudonyms associated respectively with a plurality of communities of wireless nodes. The pseudonyms are valid only for a particular time period.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08571519&OS=08571519&RS=08571519
owner: Nokia Corporation
number: 08571519
owner_city: Espoo
owner_country: FI
publication_date: 20090507
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF INVENTION","BACKGROUND","SOME EXEMPLARY EMBODIMENTS","DESCRIPTION OF PREFERRED EMBODIMENT"],"p":["The exemplary and non-limiting embodiments of this invention relate generally to wireless communication systems, methods, devices and computer programs and, more specifically, relate to using anonymized identifiers in messages between members of a private community.","Wireless (e.g., cellular) service providers and device manufacturers are continually challenged to deliver value and convenience to consumers by, for example, providing compelling network services, applications, and content. One area of development is the use of communication networks and devices to automatically determine information and context about the local environment. However, technical challenges relating to power consumption, signaling overhead, security, and privacy have hindered such development.","Therefore, there is a need for an approach for using pseudonyms to protect privacy and anonymity over a communication network.","According to one embodiment, a method comprises receiving a message corresponding to one of a plurality of communities of wireless nodes. The method also comprises extracting a pseudonym from the message. The method further comprises comparing the extracted pseudonym with a precomputed set of pseudonyms associated respectively with the communities. The method further comprises determining a particular one of the communities based on the comparison. The precomputed set of pseudonyms is valid for a particular time period.","According to another embodiment, an apparatus comprising at least one processor, and at least one memory including computer program code, the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus to receive a message corresponding to one of a plurality of communities of wireless nodes. The apparatus is also caused to extract a pseudonym from the message. The apparatus is further caused to compare the extracted pseudonym with a precomputed set of pseudonyms associated respectively with the communities. The apparatus is further caused to determine a particular one of the communities based on the comparison. The precomputed set of pseudonyms is valid for a particular time period.","According to one embodiment, a computer-readable storage medium carrying one or more sequences of one or more instructions which, when executed by one or more processors, cause an apparatus to receive a message corresponding to one of a plurality of communities of wireless nodes. The apparatus is also caused to extract a pseudonym from the message. The apparatus is further caused to compare the extracted pseudonym with a precomputed set of pseudonyms associated respectively with the communities. The apparatus is further caused to determine a particular one of the communities based on the comparison. The precomputed set of pseudonyms is valid for a particular time period.","According to one embodiment, an apparatus comprises means for receiving a message corresponding to one of a plurality of communities of wireless nodes. The apparatus also comprises means for extracting a pseudonym from the message. The apparatus further comprises means for comparing the extracted pseudonym with a precomputed set of pseudonyms associated respectively with the communities. The apparatus further comprises means for determining a particular one of the communities based on the comparison. The precomputed set of pseudonyms is valid for a particular time period.","According to another embodiment, a method comprises selecting a pseudonym from a precomputed set of pseudonyms. The method also comprises generating a message comprising the pseudonym or an index pointing to the pseudonym corresponding to one of a plurality of communities of wireless nodes. The method further comprises initiating transmission of the message to a plurality of wireless nodes. The precomputed set of pseudonyms is valid for a particular time period.","According to another embodiment, an apparatus comprising at least one processor, and at least one memory including computer program code, the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus to select a pseudonym from a precomputed set of pseudonyms. The apparatus is also caused to generate a message including the pseudonym or an index pointing to the pseudonym corresponding to one of a plurality of communities of wireless nodes. The apparatus is further caused to initiate transmission of the message to a plurality of wireless nodes. The precomputed set of pseudonyms is valid for a particular time period.","According to another embodiment, a computer-readable storage medium carrying one or more sequences of one or more instructions which, when executed by one or more processors, cause an apparatus to select a pseudonym from a precomputed set of pseudonyms. The apparatus is also caused to generate a message including the pseudonym or an index pointing to the pseudonym corresponding to one of a plurality of communities of wireless nodes. The apparatus is further caused to initiate transmission of the message to a plurality of wireless nodes. The precomputed set of pseudonyms is valid for a particular time period.","According to yet another embodiment, an apparatus comprises means for selecting a pseudonym from a precomputed set of pseudonyms. The apparatus also comprises means for generating a message including the pseudonym or an index pointing to the pseudonym corresponding to one of a plurality of communities of wireless nodes. The apparatus also comprises means for initiating transmission of the message to a plurality of wireless nodes. The precomputed set of pseudonyms is valid for a particular time period.","Still other aspects, features, and advantages of the invention are readily apparent from the following detailed description, simply by illustrating a number of particular embodiments and implementations, including the best mode contemplated for carrying out the invention. The invention is also capable of other and different embodiments, and its several details can be modified in various obvious respects, all without departing from the spirit and scope of the invention. Accordingly, the drawings and description are to be regarded as illustrative in nature, and not as restrictive.","A method and apparatus for using pseudonyms are disclosed. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the embodiments of the invention. It is apparent, however, to one skilled in the art that the embodiments of the invention may be practiced without these specific details or with an equivalent arrangement. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of the invention.","As used herein, the term \u201cawareness information\u201d refers to any information and\/or context about a local environment as well as the users and communication devices within the local environment. By way of example, awareness information can be used to support applications for creating social networks, determining presence, determining contexts associated with a device, advertising, searching for information, etc. Although various exemplary embodiments are described with respect to using pseudonyms to ensure the privacy of users belonging to communities within an ad-hoc mesh network, it is contemplated that the approach described herein may be used within any type of communication system or network.",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 1"},"As shown in , a system  comprises one or more wireless nodes -having connectivity to a communication network  through either operator A  or operator B . The wireless nodes -are any type of mobile terminal, portable terminal, or fixed terminal including mobile handsets, personal computers, stations, units, devices, multimedia tablets, Internet nodes, communicators, Personal Digital Assistants (PDAs), radio readable tags (e.g., near field communication (NFC) tags, radio frequency identification (RFID) tags), or any combination thereof. It is also contemplated that the wireless nodes -can support any type of interface to the user (such as \u201cwearable\u201d circuitry, etc.).","In exemplary embodiments, the wireless nodes -form an ad-hoc mesh network  for sharing awareness information. The ad-hoc mesh network  is, for instance, a connectionless and serverless device-to-device network (e.g., a mobile ad-hoc network (MANET)) created using short-range radio technology (e.g., wireless local area network (WLAN) or Bluetooth\u00ae). Within the ad-hoc mesh network , each wireless node  may be mobile and is within communication range of any number of other wireless nodes . Accordingly, the set of wireless nodes -that is within communication range of any a particular wireless node  is transient and can change as the wireless nodes -move from location to location.","As discussed previously, service providers and device manufacturers that are developing communication systems and networks for locating communities face many technical challenges. For example, current ad-hoc radios (e.g., WLAN and Bluetooth\u00ae) are designed for connectivity (e.g., connectivity via Internet protocol (IP)). However, in an \u201calways on\u201d environment such as the ad-hoc mesh network , it is not practical to have a large number of wireless nodes -(e.g., mobile handset devices) \u201cconnected\u201d by, for instance, IP to each other for extended periods of time because of power usage and scalability problems. Specifically, a multi-hop connection in a large ad-hoc network typically requires a significant amount of control signaling and power and can quickly deplete a mobile device's battery. Moreover, scalability can be a problem because current ad-hoc radios are typically limited in the number of connections and the related signaling that they can support at any given time. Another shortcoming of current ad-hoc radios is that they do not adequately protect a user's privacy because they expose the user's identity through a fixed network address (e.g., a media access control (MAC) address) associated with the user's device.","To address these problems, the system  creates the ad-hoc mesh network  for sharing awareness information in a connectionless fashion. As used herein, the term \u201cconnectionless\u201d refers to the ability of a node (e.g. wireless node ) to send and of all surrounding nodes -to receive awareness information without the need to send any prior control signaling. For example, sending awareness information using the transmission control protocol\/IP (TCP\/IP) over a WLAN ad-hoc is not connectionless because of the two-way TCP control signaling between the sending and receiving nodes used to establish the TCP connection. The awareness information is provided, for instance, in small anonymous messages that are exchanged by the wireless nodes -automatically without user intervention. As used herein, the term \u201canonymous\u201d means that it is not possible to infer the true identity of the sender from the message, unless the true identity is intentionally included in the message (e.g., by the user or another entity authorized by the user). The exchange of awareness information occurs as a broadcast message (i.e., a flooding message) from a wireless node  to neighboring wireless nodes  that are within range of the radio of the broadcasting wireless node . As neighboring wireless nodes  receive the broadcasted message, each receiving wireless node  may in turn rebroadcast the message to other neighboring wireless nodes . In this way, the originally broadcasted message propagates throughout the ad-hoc mesh network . In exemplary embodiments, the extent of the propagation may be limited by criteria such as distance, location, time, etc.","Unlike traditional systems, such messages are only for carrying awareness information and are not for transporting content (e.g., files or media containing voice, video, etc) between two wireless nodes (e.g., wireless nodes and ). Instead, the messages contain only pointers to the content or a small amount of data (e.g. presence or context information) to minimize the data traffic transported over the ad-hoc mesh network . The wireless nodes -may then access the content using other communication channels (e.g., via IP through the communication network ). In addition, the system  eliminates the problems associated with traditional methods for route establishment and maintenance (e.g., connection based communication protocols), such as maintaining and handing off connections as mobile devices move, and requiring high levels of network resources for maintaining connections in an environment with a high number or density of mobile devices. For example, the system  creates routing information only when needed to route replies to queries back to the querying node. The routing information is generated by using the query messages alone (i.e. no control signaling is used for creating routing information). After the query and subsequent reply process is completed, the routes are forgotten. In other words, the query\/reply process of system  provisions routes for a reply to provide awareness information on demand rather than pushing awareness information from one node  to another. In exemplary embodiments, both push (e.g., information is published over the ad-hoc mesh network ) and pull (e.g., information is queried from other nodes -of the ad-hoc mesh network ) modes of disseminating awareness information are possible. In certain embodiments, it is contemplated that the pull mode of operation can be used instead of the push mode to help suppress potential spam messages.","Moreover, the system  optimizes the power consumption of wireless nodes  communicating over the ad-hoc mesh network  to enable always-on operation without seriously affecting the battery life of the wireless nodes . For instance, by utilizing only short awareness messages, by eliminating the need for any route maintenance signaling, by employing procedures to minimize transmission and reception of duplicative messages and by enabling an efficient sleep scheme for the short-range device-to-device radio used within each wireless node  (allowed by the low latency requirements typical of an awareness information network), the system  can potentially provide hundreds of hours (e.g., over 400 hours) of continuous operation of each wireless node  between battery charges in a mobile device.","The system  also enables the development of new services and applications based on awareness information (e.g., social networking applications, location-based applications, application for determining presence, applications for determining context, advertising applications). In particular, the continuous and immediate nature of the awareness information with respect to local environment enables compelling new services. For instance, awareness information may be combined with the increasingly available storage and computing power in mobile devices (e.g., wireless nodes -) to create a local semantic web, whereby local awareness information is created and searched for automatically by wireless nodes  within the ad-hoc mesh network . As used herein, the term \u201csemantic web\u201d refers to a system in which the information and messages shared with the system is understandable by the nodes  within the system. It is noted that establishing such a local semantic web using the system  overcomes two major problems blocking the development of a global semantic web: (1) lack of mechanism for providing semantic content on a large scale, and (2) lack of semantically aware search engines to help users find information in a semantic web. The system  can also be used for collaborative context calculation, publishing pointers to information or content, search for friends within a defined community, finding out what is going on and what kind of people are around a user, making the environment aware of the user, and other like applications.","In a first use-case, the awareness information alerts a user to nearby people or places. For example, a user is visiting a new town when the wireless node alerts the user that \u201cSalvatore, a friend of your friend David is nearby.\u201d The user may then arrange to meet Salvatore to get a recommendation for sites to visit in the new town. In another example, a user is looking for a good restaurant in an unfamiliar neighborhood. An application based on awareness information may present a list of local restaurants ranked by the number of people currently eating in the restaurant that have the same food preferences as the user. Such a list can be collected based on queries and replies that contain anonymous information of people's food preferences.","In a second use-case, an application uses the awareness information to discover events near the user. For example, as a user passes a park, the wireless node informs the user, based on messages exchanged between nearby devices, that \u201cThere is a Japanese culture festival in the Tea Garden Park; five members of your Kabuki community are there: Zen, Mi, Xia, Talo, and Chris.\u201d The user may then decide to attend the festival.","In a third use-case, an application provides location-based or context-based services using awareness information. For example, a wireless node does not have positioning capabilities but nonetheless knows that it is in a grocery store based on anonymous awareness information from other nearby wireless nodes . The wireless node then reminds the user to \u201cRemember to buy dishwasher detergent\u201d based on the user's location in a grocery store. The awareness information can also be the physical position information from a neighboring wireless node  that has the positioning capability. Sharing of positioning information with a neighboring node with such a capability can enable nodes  without such capability to offer navigational services.","In another example, a group of people are attending a meeting. The meeting invitation includes an identification code for that particular meeting that is stored in the mobile nodes  of the meeting attendees (e.g., the identification code may be stored in the calendar data). Using the principles set forth in this invention, the nodes  can exchange the meeting identification code over the ad-hoc mesh network  while attending the meeting. Comparing the exchanged identification code in a user's wireless device  can, for instance, establish whether the users was indeed at the meeting corresponding to the identification code. Such accurate social context knowledge can be used, for instance, to adapt the service or application behavior towards the user.","In a fourth use-case, an application provides for search of local information that changes rapidly and very specific to a local environment. The local information often does not reach traditional Internet search engines. For example, a user bought tickets to a concert, but discovers at the last minute that the user cannot attend. The user stores a string \u201cTicket to concert X at venue Y is available\u201d into the awareness services module  of the user's wireless node . As a result, a nearby wireless node , within a few street blocks away, that searches for tickets by sending query messages with a string \u201cTicket concert X\u201d over the multi-hop ad-hoc mesh network , will receive the user's ticket availability message as an automatic reply.","In a fifth use-case, an application enables locally targeted advertising. For example, it is almost closing time for a local fresh fruit market. The merchants decide to publish an advertisement over the ad-hoc mesh network  that \u201cApples are 50% off for the rest of the day.\u201d The advertisement is available to users who live nearby the market. In another example, a user browses an advertisement for a new printer on a wireless node . In the browsing activity, a code attached to the advertisement is stored in the awareness services module . Upon searching and finding such a code, a nearby electronics store sends the user an offer to sell the printer with a 10% discount.","In a sixth use-case, an application automatically creates an activity log based on the awareness information associated with a user. For example, the application records the people the user meets along with other awareness information such as when, where, context, etc. The user then meets a person while walking on the street. The person looks familiar but the user does not recall the person's name or how the user knows the person. The wireless node running the application reports that the person's name is David and that the user met him at a soccer match one year ago in London.","In a seventh use-case, an application provides the capability to initiate local discussion threads and group chats over the ad-hoc mesh network . For example, the supporters of a football team form a community over the ad-hoc mesh network  wherein community members can send short text messages (e.g., of small enough size to be sent directly over the ad-hoc mesh network ) that can be received and read only by the fan club community members of that particular team.",{"@attributes":{"id":"p-0054","num":"0053"},"figref":["FIG. 2A","FIG. 2A","FIGS. 2B-2E","FIG. 2A"],"b":["101","109","101","201","201","111"]},"By way of example, the awareness service module  includes three layers: a cognition layer , a community layer , and a network layer . The cognition layer  is the highest control layer for sharing awareness information. As shown in , the cognition layer  includes a control logic  and item storage . The control logic , for instance, provides the logic for creating, publishing, querying, and receiving awareness information over the ad-hoc mesh network . The control logic  can store the information that it either creates or receives in the item storage . It is contemplated that the item storage  may be of sufficient size to store all or a portion of the information that flows through the wireless node  over a configurable period of time (e.g., days, months, or years).","In exemplary embodiments, the control logic  enables querying and dissemination of awareness information by initiating the flooding of the query or information to neighboring wireless nodes  within the ad-hoc mesh network . For example, upon receiving a query, the wireless nodes  in the local neighborhood that have the queried information reply to the querying node automatically. In exemplary embodiments, the reply information is also automatically stored in the item storage  of each wireless node  through which the propagating reply passes. Moreover, the reply to a query may result in return of a pointer to specific content relevant to the query rather than the content itself under certain circumstances (e.g., when the specific content is large in size). It is contemplated that the reply may contain direct content if the content is relatively small (e.g., a few bytes of information). By using a pointer, the system  minimizes the data traffic that flows through the ad-hoc mesh network . The user may then access the content via the pointer (e.g., a universal resource locator (URL) address, IP address) via a more appropriate communication protocol (e.g., IP) and\/or means of communication (e.g. infrastructure networks). The receipt of the pointer (e.g., IP address) may automatically trigger the transfer of the content using, for instance, the communication protocol associated with the pointer. In the case of broadcasting or publishing information, any wireless node  through which the published information propagates may store the information in item storage  of the wireless node .","In other exemplary embodiments, awareness information can also be published directly by flooding an awareness message. Such a push mode for the dissemination of awareness information can be used to support some applications (e.g. advertising or group chatting) over the ad-hoc mesh network .","It is recognized that privacy and anonymity may be of concern to users of the system . Accordingly, the control logic  provides mechanisms for ensuring privacy and anonymity. For example, the control logic  can prevent the transmission of intimate information when the number of neighboring wireless nodes is small to prevent the possibility of inferring identity. As used herein, the term \u201cintimate information\u201d refers to information directly related to the user, e.g., the user's habits, tastes, or preferences (musical preferences, favorite restaurants, etc.).","The control logic  may also periodically broadcast decoy queries and replies to make tracking an individual wireless node  more difficult. Since an outside observer does not know the authentication key associated with a community, the observer cannot distinguish a valid message from a fictitious one. Accordingly, by observing decoy messages, the observer is likely to detect presence of a private community when there is not one. Additionally, the control logic  enables to user to define filters for incoming information (e.g., filter advertisements) and how these filters would work (e.g., ignore the information completely, relay the information but do not store, etc.). It is also contemplated that the user can direct the control logic  to control the user's visibility on the ad-hoc mesh network  (e.g., no visibility, visible only to a certain community or other user) to maintain privacy. As another mechanism for protecting privacy, the control logic  can interact with the community layer  to anonymize a specific message and corresponding identifiers as described below with respect to the community layer .","Because one of the goals of the system  is to provide a mechanism for anonymous spreading of awareness information, it is recognized that undesired or unsolicited messages (e.g., spam messages) may become a problem. To address this problem, the control logic  may obtain, for instance, information from the lower system layers of the awareness services module  about the traffic load and current average power consumption. If the traffic load is medium or high (meaning that also power consumption related to system  is medium or high) restrictions may be set for the frequency at which flooding messages are sent by the control logic . It is also contemplated, that the neighboring peer nodes  can be configured to not forward any flooding messages originating from a node  neglecting such message restrictions.","The cognition layer , together with the community layer , provide an application programming interface (API)  to enable an application  to access the functions of the control logic  and the item storage . In exemplary embodiments, the API  enables application developers to have uniform and easy access to functions related to sharing awareness information over the ad-hoc mesh network . It is contemplated that the API  is extensible to accommodate any application designed to access or use awareness information. The applications in the various nodes  do not have to be the same or mutually compatible. It is sufficient that the applications use the API correctly to be able to publish and search awareness information in the surrounding nodes .","The cognition layer  also has connectivity to the community layer . The community layer  controls the formation and cataloging of communities of wireless nodes  within the ad-hoc mesh network . By way of example, a user may create any number of communities for sharing awareness information. It is contemplated that a community may be either a peer community (e.g., any wireless node  may join), a personal community (e.g., a wireless node  may join only if invited), or the open local community that consists of all nodes in the local neighborhood. In exemplary embodiments, the messages that traverse between the wireless nodes  within the ad-hoc mesh network  belong to one of these three community types. Communities can either be private (messages are encrypted) or public (no encryption used). In exemplary embodiments, membership and status in a community affect how the wireless node  shares awareness information (see the discussion with respect to  for additional details of community membership).","Furthermore, a community may be created for any purpose or duration (e.g., a permanent work community, a permanent community of friends, a temporary community of concert goers lasting only the duration of the concert). As shown in , the community layer  includes a community control module , a community directory , and an encryption\/decryption module . The community control module  provides the logic for creating, joining, managing (e.g., updating membership, configuring settings and preferences, setting privacy policies), and deleting communities. The module  also provides part of the API .","In exemplary embodiments, the community control module  assigns a unique community identification number (CID) to each community for use within the ad-hoc mesh network . The control module  can also generate authentication keys K associated with the CID to, for instance, authenticate users who wish to join the community or authenticate messages directed to the community. For example, a wireless node  may invite another wireless node  to join a community by transferring the CID and authentication keys associated with the community to the other wireless node . It is contemplated that the transfer of the CID and corresponding authentication key may occur using short range radio or using another secure mechanism (e.g., short message service (SMS) or electronic mail). It is noted that both peer and personal communities use a CID and corresponding K, whereas the open local community either can use a predetermined value for CID (e.g., zero) or does not use the CID at all.","To ensure privacy (as discussed above), the community control module  interacts an encryption\/decryption module  to anonymize the CID when including the CID in messages over the ad hoc mesh network . For example, a wireless node  may direct a query to a specific community using an anonymized CID (e.g., a pseudonym) associated with the community in lieu of the actual CID. In exemplary embodiments, multiple anonymized CIDs may be used to represent a single community. In this way, it is more difficult to identify queries corresponding to a particular community by monitoring traffic within the ad hoc mesh network . From the perspective of an outside observer, the anonymized CIDs look random. In addition, the encryption\/decryption module  may encrypt or decrypt message data using, for instance, a temporary key that is periodically derived from the authentication key K associated with the CID. These measures hinder the discovery of the CID by outsiders that do not have the authentication key.","In exemplary embodiments, a message includes an identifier S associated with the sending wireless node , the count j of messages that S has sent since the beginning of the current period, a pseudonym X and the encrypted message text Y (see discussion with respect to  for additional details of a message structure). Some messages (e.g., queries) maybe sent without Y. For example, a fresh pseudonym X can be derived by the sending node from these fields and identifier (e.g., S, j, X) with F, a one-way derivation function keyed to the authentication key \u201cK\u201d:\n\n()\u2003\u2003(Equation 1)\n","A receiving wireless node  that is a member of the same community would have the same authentication key K and be able to recognize that the message originated from its community by checking if Equation 1 holds. This method provides a high degree of privacy: assuming that the pair S, j is different for each message, X computed by Equation 1 may take any value from [0, 2\u22121], resulting in 2\/M\u224810\/M where M equals the number of queries created by members of the community within a fixed period of time and \u03be equals a number of bits of X (e.g., 40 bits). However, a receiving node that is a member of n private communities would have to compute Equation 1 up to n times for each incoming message. For instance, when the wireless node  that is a member of 200 private communities hears 50 messages a second on the average over its radio interface, and each message contains a single pseudonym, then the wireless node  will have to compute Equation 1 up to ten thousand times per second.","Allowing a sustained rate of ten thousand computations per second conflicts with the goal of having a long battery life for the wireless node . Therefore, the system  uses another approach for generating pseudonyms in which a list of k community pseudonyms {X, . . . , X} is periodically precomputed by each member of the private community independently, and the index i of the identifier from the list of pseudonyms that the sending node, for instance, inserts into a query message is determined by the sending node's network identity S:\n\n()(mod )\u2003\u2003(Equation 2)\n\nwhere H(\u2022) is a hash function (i.e., i is an integer-valued function of S with range [0, k\u22121]. It follows from Equation 2 that a single pseudonym Xwill be used by a sending node, as long as the sender's network identity S and the list of precomputed pseudonyms {X, . . . , X} stay the same.\n","The function H(\u2022) should have a domain whose size is at least k, and the distribution of its outputs within that domain should be uniform. For instance, the linear congruential random number generators provided by the device's operating system could be used to implement Equation 2.","It is noted that if k is a power of two, then i can be obtained by simply copying any logk bits of H(S). Moreover, if the distribution of S is sufficiently close to uniform for the purpose of choosing i, then Equation 2 can be reduced to:\n\n(mod )\u2003\u2003(Equation 3).\n","The value of X in a reply message is taken from the query message that has triggered the reply. In system , an outsider can link responses to queries by observing the source and the destination fields in message headers. Thus, different pseudonyms in query and response messages would not improve privacy. The advantage of this approach is that the time for finding if a pseudonym X from a given message is one of the previously precomputed pseudonyms, can be optimized by existing search techniques. For instance, if the n precomputed pseudonyms that correspond to a given i are stored in a sorted array, then binary search in O(log(n)) time per message may be used. With more sophisticated data structures the search can be done in O(1) time; i.e. in practice, the worst case search time will be independent of n.","However, as described below, the lookup time depends on the variety in the values of k that may be used by different communities. For that reason, the possible values of k are, for instance, limited (e.g., k can be one of k, k, . . . , k).","One disadvantage of using a single pseudonym per sending node within the same period is that the number of sender's memberships n, is directly observable: e.g., it equals the number of different X's in messages sent by that node. Knowledge of n can then be used to trace that node. The node could hide its number of memberships by creating and sending decoy messages with random pseudonyms in addition to sending its normal messages. However, the sending of decoy messages consumes extra energy and thus shortens the devices' battery life.","As mentioned above, community members in the same ad-hoc mesh network  may be linked based on replies to each other's queries. Another potential disadvantage of using a precomputed list of k pseudonyms is that if k is smaller than the number of community members, then at least two members will have to use the same pseudonym. Those members may be then linked even when they are physically in different networks.","In summary, the amount of real-time computation per message performed by a node in separating its communities messages from all the messages that it hears over the radio interface, will depend not on n, the number of communities in which that node is a member, but on the number of different values of k used by those communities, which is at most N.","When k is large compared to M, the sending node may hide its number of memberships n by choosing a community pseudonym at random from the set {X, . . . , X} for each one of its queries: i.e., the index i is an integer-valued function of message-specific fields of the message in addition to S, with range [0, k\u22121].","Thus, instead of Eq. (2) the sender can compute the index i with one of:\n\n()(mod )\u2003\u2003(Equation 4)\n\n()(mod )\u2003\u2003(Equation 5)\n\nor,\n\n(mod )\u2003\u2003(Equation 6)\n\nwhere \u2295 denotes the bitwise XOR operation; and padding, e.g., with zeroes, is used to equal the length of its \u2295 operands. It is noted that the modulus k in Equation 4 should not exceed the number of values that the seed S\u2295j of the pseudorandom number generator may take during one period; otherwise, that computation will produce less than k values of the index i.\n","However, if k is expected to be small compared to typical M, then changing the pseudonym in every query would quickly reveal the whole set {X, . . . , X} and allow an external observer to trace other members of same community for as long as the set of pseudonyms remains the same.","Use of data structures that provide constant search time enables another embodiment of the invention: A list of k community pseudonyms {X, . . . , X} that is periodically precomputed by each member of a private community independently, and the index i of the identifier from that list that the sending node inserts into a query message is chosen at random by the sending node \n\n()(mod ),\u2003\u2003(Equation 6a)\n\nwhere R is a random number, known only to the sending node and H(\u2022) is a hash function; i.e., i is an integer-valued function of R with range [0, k\u22121]. The sending node could keep R constant for the whole period, or it could generate new value of R for each message, or it could change a new value of R whenever it changes the network identity S. It follows from Eq. (6a) that a single pseudonym Xwill be used by a sending node , as long as the sender's random number R and the list of precomputed pseudonyms {X, . . . , X} stay the same.\n","In exemplary embodiments, community pseudonyms change periodically (e.g., daily). The following describes a process for changing pseudonyms. T denotes the number of seconds since a fixed time reference that is common for the wireless nodes  within the ad-hoc mesh network  (e.g., the beginning of Jan. 1, 1970); L denotes the smallest period's length in seconds; and t denotes the period's number. Within each period, a constant number k of pseudonyms are used by the community, where k\u22671. By way of example, the value of L in system  is 86,400 seconds, i.e. the number of seconds in one day. The period number t is an unsigned integer representing the value T in days whose size is four bytes and is computed by:\n\n\u2003\u2003(Equation 7).\n\nwhere \u201c\/\u201d is integer division, and e.g., t is the number of days since Jan. 1, 1970.\n","Note that it is also contemplated that t may be a multiple of L (e.g., if the period is 2L then t should be replaced with t\/2 in Eq. 10 below). This opens the possibility of varying the validity time of pseudonyms between different communities. For instance, some communities could change pseudonyms every L seconds, while other communities change every 2L seconds.","Communication delay in the system  is the sum of (1) the message propagation time from sending to receiving node, and (2) the difference between the values of T in communicating nodes. The symbol \u0394 denotes the highest communication delay for which all time-dependent computations in the network nodes provide a correct output. In system , \u0394 is one second less than L\/2:\n\n\u0394=2\u22121\u2003\u2003(Equation 8).\n","Accordingly, the values of t in communicating nodes may differ only by \u00b11 if Equation 8 is true. L is the same for all network nodes. In addition, a private community can choose one k from the N possible values k, k, . . . , k, where k<k< . . . <k<k.","In exemplary embodiments, two keys, A and B, are derived once per period L from the authentication key K of the community: A is used for generating community pseudonyms and B for data encryption. As used herein, Fdenotes a generic derivation function, keyed with key K. In this notation,\n\n(,\u201cprivacy\u201d),\n\n(,\u201cconfidentiality\u201d),\u2003\u2003(Equation 9).\n\nwhere C denotes the value of the community identifier CID. In system , the key derivation function Fis a Hash-based Message Authentication Code using the SHA256 hash function (HMAC-SHA-256), where the input is constructed as specified in Annex B2 of the 3GPP TS 33.220, version 6.13.0, \u201c3rd Generation Partnership Project; Technical Specification Group Services and System Aspects; Generic Authentication Architecture (GAA); Generic Bootstrapping Architecture,\u201d incorporated herein by reference in its entirety. The input parameters for deriving the keys A and B are listed below. For example, the input format of parameter Pfollows [1]: It is a pair P, L, where Lis a length of P. The length of Lis two bytes. Those parameters are concatenated into a single string FC\u2225P\u2225L\u2225P\u2225L\u2225P\u2225L, which is fed into the derivation function.\n\n","A member of private community that has identifier C, will generate from C the k community pseudonyms that are valid for a period number t as follows:\n\n()\u2003\u2003(Equation 10)\n\nwhere i is, for instance, an unsigned integer of four bytes that takes the values 0, 1, . . . , k\u22121. The identifiers can be precomputed ahead of time, at t<t. In system , Fis Advanced Encryption Standard (AES, November 2001, Federal Information Processing Standards Publication 197, incorporated herein by reference in its entirety). The string composed from concatenated inputs C, t, and i is encrypted using AES with key A; and the identifier Xi equals to the five most significant bytes of the result.\n","A member of n private communities: C, C, . . . , C, can store pseudonyms and other parameters in, for instance, a table with a row per community. An example of such table for a single period t and n=3 is shown in Table 1.",{"@attributes":{"id":"p-0087","num":"0093"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"C","KABX"]},{"entry":[{},"C","KABXXXX"]},{"entry":[{},"C","KABXXXX"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"In the example of Table 1, community Cuses one pseudonym per L seconds, while communities Cand Cboth use four pseudonyms per L seconds. By way of example, v denotes the number of different k's used by communities in which a node participates: v\u2266N, where N is a system parameter indicating the possible number of k's. The list of those k's arranged in increasing order is k, k, . . . , k: k<k< . . . <k<k. When a message containing a pseudonym X is received, the node  will get at most v values of i: i, i, . . . , i, by applying Eq. (2) v times. The node  will then search the columns indexed by those values of i for a matching pseudonym. Therefore, the table lookup time for a given message is proportional to v.","Since the values of t in communicating nodes may differ by \u00b1i, every node  maintains, for instance, multiple sets of precomputed parameters (e.g., three sets of precomputed parameters: for t\u22121, t and t+1; those sets are denoted by x, xand x, respectively).","By way of example, to send a message m to members of a private community C, the community layer :","(1) looks up the parameters for C for the current period t;","(2) encrypts the message m with key B to obtain ciphered text Y: Y\u2212E(m), where Eis the authenticated encryption function AES-EAX (e.g., the EAX mode of operation for the encryption function AES, described in \u201cThe EAX Mode of Operation,\u201d M. Bellare, P. Rogaway, and D. Wagner, 2004, incorporated herein by reference in its entirety) and where the initial value (IV) of the AES-EAX function is a concatenation of S, C, t, and j:\n\nIV=\u2003\u2003(Equation 11);\n","and","(3) computes the index i by Eq. (2). For example, the sent message contains S, j, X, Y, and the least significant bit of t: t. In certain embodiments, the inclusion of the least significant bit of t: treduces the processing time for determining C in other nodes .","By way of example, AES-EAX is a block cipher that generates a sequence of bits from B and IV, and then applies bitwise XOR operation, \u2295, on the clear-text input and on the generated sequence to obtain the encrypted text. In exemplary embodiments, the value of IV does not repeat as long as the encryption key B stays the same because using the same B, IV pair for encrypting different messages creates potential security weaknesses. The diversity of IV within a single time period is maintained by having a different value of message counter j for each sent message; the diversity of IV in different periods is maintained by the changing value of t. For example, the value of j may roll over and repeat within a single period. In exemplary embodiments, the size of j is two bytes, and so the network node has to produce more than 216\/L, or 0.76 messages per second, for j to repeat. Sustained message rates of such magnitude from a single node  are unlikely in the system .","Nevertheless, before the message counter j rolls over and while t stays the same, the sender, for instance, generates a new network identity S\u2032, resets message counter j to zero, and uses S\u2032 as the identity of the wireless node  in subsequent communication. For example, the new identity S\u2032 is chosen uniformly at random in (0, 2), where \u03c3 is the number of bits in S. After identity change, responses to queries that the node has made under its previous identity S will be still routed towards that node, as long as other network nodes keep entries created by those queries in their routing tables.","Alternatively or in addition, the uniqueness of IV is maintained with the aid of a rollover counter r. The sending node  sets r to zero in the beginning of each period and increments r by one after each rollover of j within a single period. By way of example, rr, . . . , rthe sequence of bits in r. The least significant bit of r: r, is sent inside the bit vector of flags in each message. Wireless nodes  use \u2295rinstead of S in the computation of IV:\n\nIV=(1)\u2225\u2003\u2003(Equation 12).\n\nIn this way, the uniqueness of IV is maintained for 2\u00d72instead of 2messages per time period. In the unlikely case of j rolling over more than once per period t, the network node , for instance, stops sending messages until the end of that period to maintain the uniqueness of IV.\n","As part of receiving a message containing a pseudonym, t\u2032 denotes the time period in the sending node  when it creates a message. The value t represents the time period in a network  when it receives that message. The values t\u20321 and t1 are the least significant bits of t\u2032 and t. The receiver maintains a Boolean variable h that indicates whether the receiver is in the first or second half of the current period. The variable h, for instance, is zero from the beginning to the middle of the current time period, and one from the middle to the end of the current time period as follows:\n\n(1) if , then \n\n(2) if and 0, then 1; and\n\n(3) if and 1, then 1\u2003\u2003(Equation 13).\n\nNext the node  sets k=kand performs the following steps:\n","(1) Computes the index i by Eq. (2);","(2) Chooses x from the three sets x, x, and xof precomputed parameters for community;","(3) Searches if X in the message matches a pseudonym in the ith column of the table: X=X, where 0\u2266u\u2266n; and","(4.1) If a match X=Xis found, and the message contains encrypted text Y, then the receiver can decrypt Y with the key Bto obtain the message m: m=D(Y), where in the function Dis AES-EAX with the initial value IV constructed by Eq. (11) with the values of S and j taken from the message and t replaced by t\u2032:\n\nIV=\u2003\u2003(Equation 14);\n","(4.2) If a match X=Xis found, and the message does not contain Y, then the receiver sends a reply encrypted with Bu to the sender and repeats steps 1-5 with the next value of k from the list.","(5) If a match X=Xis not found, then the receiver repeats steps 1-5 with the next value of k from the list.","Computation (12) of sender's node period number t\u2032 is based on the assumption that \u0394<L\/2. It can be verified that (12) will produce a correct value of t\u2032 as long as this assumption holds: An indication that the sending node's and the receiving node's period numbers are different, i.e. t\u2032\u2260t, together with the assumption \u0394<L\/2, imply that t\u2032=t\u22121 when the receiver node is in the first half of its period; and that t\u2032=t+1 when the receiver node is in the second half of its period. If this assumption does not hold, then the receiver node may fail to respond to the sender's node message due to incorrect calculation of i.","Knowledge of t\u2032 by the receiver reduces the overall message processing time roughly by a factor of three: A network node without knowledge of t\u2032 would have to search three sets of precomputed parameters: x, xand x, in the worst case. If the difference between the values of T in communicating nodes is negligible, then a message received in period t can originate either in the same or the preceeding period: t\u2032 is either t, or t\u22121. In this case, knowledge of t\u2032 by the receiver reduces the overall message processing time roughly by a factor of two.","In summary, the assumption of \u0394<L\/2 allows us to send only a single bit of the period number t in each message, instead of, for example, having to send the whole of t. This reduces message transmission time, which results in increased battery life of the devices: Sending only part of t may save up to four percent of transmission time, given that the size of t is four bytes and the average message size is 100 bytes.","Under certain conditions, a collision occurs when for some index i and period t, the pseudonym Xof community Cequals to the pseudonym Xof a different community C: X=X. There are two ways in which a collision may affect a network node.","First, a network node that is a member of both Cand Cwill have two identical entries in column i of its table. When a query message with community pseudonym Xarrives, it will match both of those entries in step 4 above.","If the message contains an encrypted text Y, then the node will try to decrypt it first with one of the keys B, B, and if that fails with the keys from the other entry; it will find out which one of Cor Cis communicating based on which one of those decryption succeeds. But if there is no Y in the message, then the node cannot know whether Cor Cis the source of the message until further communication takes place. The node will have to reply twice: one reply will contain text encrypted with Band the other will contain text encrypted with B. In this case the collision will be resolved by the node that sent the original query.","Second, a network node that is a member of only one of Cor C, may receive messages with matching identifier Xthat are intended for members of the other community. Also in this case the collusion can be resolved by the receiving node when the message contains Y and by the originating node otherwise.","In certain embodiments, The receiver node searches to determine if there is a match of X in the ith column of the table: X=X, where 1\u2266u\u2266n and i depends on the received message. The search will take at most n comparison operations. To speed the lookup the receiving node could maintain n copies of the table, such that the rows in copy u are sorted according to column u: A binary search in a sorted column of n items will take at most log(n) comparison operations. For instance if n=128, there will be at most seven comparison operations per message.","A more efficient search can be also achieved by storing the pseudonyms X, X, . . . , Xin a hierarchical data structure, for example a digital trie (see discussion with respect to  for additional discussion of trie data structure). The set of precomputed values X, X, . . . , Xcould be stored in a trie as follows: Each X in that set is encoded as a string of a constant length \u03b2 over an alphabet of a symbols; \u03b1\u22672 and \u03b2\u2266\u03be. When n pseudonyms are stored in a trie, the time needed to check if X taken from a message is one of those identifiers is determined by \u03b2; it is a constant independent of n.","For instance, when \u03be is 40 bits, setting \u03b1=16 results in representation of X as a string often hexadecimal digits:\n\n","To achieve a constant search time, the storage of the n strings representing the precomputed values of X for a given index i, is organized in a hierarchy of records: A hexadecimal digit is stored in a record containing 16 fields. The value of each field is either \u201cempty\u201d, or a pointer to the next record, or a pointer to the community data (C,K,A,B), which is the search result if the device is a member of C. \u201cEmpty\u201d field means that the corresponding value of the digit is not stored; it will abort the search with negative result.",{"@attributes":{"id":"p-0116","num":"0123"},"figref":["FIG. 2D","FIG. 2D"],"b":["101","251","253","109","201","101","255","251","253","101","251","101","101","253","205","205"]},"When the wireless node  is in the joined state , the wireless node  may also be in either an inactive state  or an active state . To transition between the inactive state  and the active state , the application  may issue a command  to either activate or deactivate the joined state  via the application programming interface . When the wireless node  is in the inactive state , the community layer  abandons the message even though it is a member of the community. In certain embodiments, the wireless node  may also be invisible to other members of the community while in the inactive state . For example, the wireless node  may enter the inactive state  when it temporarily does not want to receive or share information with the community. When the wireless node  is in the active state , the community layer  encrypts and decrypts community messages as usual for private communities, and enables all outgoing and incoming community specific messages for public communities (e.g., communities with no restrictions on membership).","Within the active state , the wireless node  may also be in either an invisible state  or a visible state . To transition between the invisible state  and the visible state , the application  issues a command  to set either the visible or invisible state. When in the invisible state , the community-specific identity (e.g., a user alias) associated with the wireless node  cannot be queried by other members of the community. For example, in the invisible state , the community layer  continues to receive and send community messages without its identity known to other community members. When in the visible state , the identity of the wireless node  can be queried by other members of the community.","In various embodiments, the community directory  of the community layer  maintains, for instance, information on the communities that the user has joined. Such information contains, at least, the community identification (CID). Additionally, it may contain public and\/or private authentication keys (K) of the joined communities and a list of anonymized community identifiers for each community. The community control module  may periodically recalculate the list of anonymized CIDs. By way of example, the community layer  inserts a header into the message it receives from the cognition layer . The header contains, for instance, a list of anonymized community identifiers identifying the communities to which the message is relevant.","As shown in , the community layer  has connectivity to the cognition layer  above and the network layer  below. The network layer  manages the rebroadcasting of received flooding messages and the routing of the unicast (typically reply) messages received by the wireless node .  depicts a diagram of the components of the network layer , according to an exemplary embodiment. The network layer  includes a network control module , routing table , neighbor table , message identification (MID) table , and message table . The network control module  directs the broadcasts of messages and information by managing and updating the routing table , neighbor table , MID table , and message table . In certain embodiments, the network control module  may also assist in protecting the privacy and anonymity of users by periodically changing the network layer identification associated with the wireless node . It is noted that making such a change in the network layer identification between queries does not cause routing problems for replies because the routing information is recreated by each query in the ad-hoc mesh network .","In exemplary embodiments, the network layer  may insert a header into messages it receives from the community layer  to, for instance, direct flooding and routing of the received messages. The structure of this network layer message header  is discussed with respect to .  is a diagram of the data structure of a network layer message header, according to an exemplary embodiment. As shown, the message header  contains the following fields: (1) a TX field  to identify the transmitter node ID (NID) of the last transmitting node ; (2) a SRC field  to identify the source node ID of the node  that originated the message; (3) a DST field  to identify the destination source ID of the intended recipient of a unicast (reply) message (e.g., this field is give a value of zero when the message is a flooding messages); (4) a MSN field  to identify the message sequence number assigned by the source node; and (5) a hop count field  that is incremented by one by each node  that transmits the message. In certain embodiments, the message header  may also contain the following optional fields: (6) a geographical limit field  to designate the extent of the physical over which the message is intended to propagate (e.g., the geographical limit field  may contain a geographical position of the source node and a maximum flooding radius from that position); (7) a temporal limit field  (e.g., the temporal limit field  may contain the time when the message becomes obsolete and should be dropped); and (8) a context limit field  that defines the context beyond which the message is not intended to propagate (e.g. a message related to a particular concert is not intended to extend beyond the concert venue).","Returning to , the network layer  also contains a routing table . In exemplary embodiments, the routing table  contains a listing of the node identification number (NID) of the originating wireless node  (e.g., source NID) and the NIDs of the last known transmitters of the message. The purpose of the routing table is to enable the routing of the reply messages (e.g., unicast messages) back to the querying node that originated the query through a flooding message. As the message propagates through the ad-hoc mesh network , each subsequent wireless node  that receives the message adds the NID of the last transmitter to the routing table to record the next hop neighbor towards the source node. The source node is marked as the destination node (DST) in the routing table. Also the message sequence number of the message is recorded. The update of the routing table  is coordinated by the network control module . As shown in Table 1, the routing table  lists the destination NID, the transmitter NIDs associated with wireless nodes  that have rebroadcasted a message and the MSN of the message.",{"@attributes":{"id":"p-0123","num":"0130"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Destination NID","Transmitter NIDs","Message Sequence Number"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["DST","TX, TX, . . . , TX","MSN"]},{"entry":["DST","TX, TX, . . . , TX","MSN"]},{"entry":[". . .",". . ."]},{"entry":["DST","TX, TX, . . . , TX","MSN"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"The neighbor table  contains a list of the neighboring wireless nodes  and an estimate of their relative radio distance (see Table 3). It is contemplated that the observed signal strength together with the known transmitting power of a neighboring wireless node  is an indicator of the proximity of the wireless node  and can be used to calculate the relative radio distance. The relative radio distance of the node from which the message was last received is then used as a criterion for whether or not the wireless node  retransmits a received message. For instance, a higher signal strength indicates closer proximity to the wireless node . The network control module  monitors the signal strengths of neighboring nodes  as the module  receives messages from nearby devices and uses it to estimate the relative radio distance (e.g., proximity of the transmitting node ). It is also contemplated that the network control module  may use any other mechanism for estimating the relative radio distance of neighboring nodes (e.g., estimating location using global positioning satellite receivers or other positioning techniques).","In certain embodiments, the network control module  uses the proximity information to direct the routing and transmission of messages over the ad-hoc mesh network . For example, the system  can reduce the potential for overloading the ad-hoc mesh network  by implementing a smart flooding scheme whereby only a few nodes  retransmit a flooding message. Whether a node  retransmits a flooding message can be dependent on the relative distance group (e.g., \u201cvery near\u201d, \u201cnear\u201d, or \u201cfar\u201d) to which the node  that is the transmitter of the message belongs. More specifically, if the transmitting node  is in the \u201cfar\u201d or \u201cnear\u201d group, the receiving node  can retransmit the flooding message. If the transmitting node  is in the \u201cvery near\u201d group, the receiving node  does not retransmit the flooding message. For each broadcast message received from a node in either the \u201cfar\u201d or \u201cnear\u201d group, the network control module  assigns a random delay time for relaying or rebroadcasting. The delay period, for instance, exhibits a distribution function based on the estimated relative radio distance as a way to randomize the delay period before transmission. The distribution should be chosen in such a way that the random delay is larger for those nodes that are \u201cnear\u201d than for those that are \u201cfar.\u201d This favors, for instance, nodes  that are further away to relay the flooding message forward, which results in better flooding efficiency (smaller total number of transmissions). The use of a random delay time also prevents the unintended synchronization of message broadcasts as the message propagates over the ad-hoc mesh network . For example, unintended synchronization of the message broadcasts may result in too many nodes  sending broadcasting (i.e., flooding) messages over the ad-hoc mesh network  at exactly the same time. Additionally, the delay time provides an opportunity for the network control module  to monitor and count rebroadcasts of the message by other neighboring wireless nodes .",{"@attributes":{"id":"p-0126","num":"0133"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 2"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Transmitter NID","Relative Radio Distance"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"TX","D"]},{"entry":[{},"TX","D"]},{"entry":[{},". . .",". . ."]},{"entry":[{},"TX","D"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"The MID table  contains a list of received messages. As the wireless node  receives messages from neighboring nodes over the ad hoc mesh network , the network control module  uses the MID table to check whether the message has been received previously by, for example, comparing the MIDs in the MID table  to that of the received message. The MID table  also contains a flag indicating whether a message has been transmitted by the node  and the time when the entry was last updated. In exemplary embodiments, the MID is the tuple (SRC, MSN), where SRC is the NID of the source node and MSN is a message sequence number assigned by the source node. In this way, the MID is a unique identifier of each message that propagates in the network . The network control module  makes an entry in the MID table  for all new messages that it receives. If the message has been scheduled for transmission, the module  increments the message counter in the message table (see Table 4).",{"@attributes":{"id":"p-0128","num":"0135"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"84pt","align":"center"}}],"thead":{"row":[{"entry":[{},"TABLE 3"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]},{"entry":[{},"MID","Sent flag","Time of reception"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"(SRC, MSN)","\u201cSENT\u201d","t"]},{"entry":[{},"(SRC, MSN)","\u201cNOT SENT\u201d","t"]},{"entry":[{},". . .",". . .",". . ."]},{"entry":[{},"(SRC, MSN)","\u201cNOT SENT\u201d","t"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}}}},"The message table  contains messages that the network control module  has scheduled to transmit. For example, as the node  receives a flooding message that the network control module  schedules for transmission, the module  updates the message table to include the message in the message table . Each entry in the message table  contains the message itself, the time when the message is scheduled to be sent, and the number of receptions of the same message by the node  (see Table 4). In exemplary embodiments, a message is not relayed over the ad-hoc mesh network  if the number of times the message has been received exceeds a predefined limit. For example, a message has the initial count of 0. In this example, as a wireless node  in the neighborhood is observed to transmit the message, the message count associated with the message is increased. When the maximum message count is reached, the network control module  removes the message from the message table . The transmitter of each message is also associated with an estimated relative radio distance (D) indicating whether the transmitting node is within close proximity of the wireless node  (e.g., transmitting node  is in the \u201cvery near\u201d relative radio distance group) or far from the wireless node  (e.g., transmitting node  is in the \u201cfar\u201d relative radio distance group). If the relative radio distance associated with the transmitting node indicates that the transmission of the message occurred \u201cvery near,\u201d the wireless node  would not have to relay the message because it is assumed, for instance, that most of the other neighboring wireless nodes  have already received the same message. By taking into account the relative radio distances of neighboring nodes, the described smart flooding functionality leads to, on average, each flooding message being received for a few times by each node  independent of the node density. The number of times a message is received by any one node  affects the scalability of the network .","If the received message, however, is a unicast reply message that was addressed to the receiving node , the network control module  checks whether the destination node  can be found in the routing table  (e.g., can be found from the destination field in the reply message, or obtained from the source field of the query by the replying node). If found, the routing table entry will give the NID of the neighboring node to which the reply message will be sent in the next opportunity. If the unicast transmission is not successful, the next entry for the same DST will be used as the next try. If the received message is a unicast reply message that was not addressed to the receiving node, and no acknowledgment from the intended receiver node was heard, the node will store the message in the message table  for scheduled retransmission. It is noted that unicast messages or acknowledgement messages that are not addressed to the node  are normally received D2D radio layer  (see discussion of the D2D layer  below) but not by the awareness services module . However, under certain circumstances, the D2D radio layer  can provided such messages to the awareness services module  to schedule for retransmission. For example, if no successful unicast of the same message is observed by the time when the message is scheduled to be transmitted, the node  will transmit the unicast or acknowledgement message to the intended recipient found from the routing table  associated with the message. In this way, the nodes  that are not the intended recipients of the reply messages can assist in routing the message forward towards the correct destination.",{"@attributes":{"id":"p-0131","num":"0138"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"105pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 4"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Message","Time to send","Received msg count"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["MSG","t","C"]},{"entry":["MSG","t","C"]},{"entry":[". . .",". . .",". . ."]},{"entry":["MSG","t","C"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"As shown in , the awareness services module  has connectivity to a device-to-device (D2D) radio layer . The D2D radio layer  enables the formation of the ad-hoc mesh network  and sharing of awareness information using, for instance, short range radio technologies such WLAN and Bluetooth\u00ae. It is contemplated that the D2D radio layer  may use any wireless technology for communication between devices over short ranges. The radio technology, for instance, enables each wireless node  within the ad-hoc mesh network  to broadcast messages in a connectionless way to the neighboring nodes  that are within radio range. As used herein, the term \u201cconnectionless\u201d means the wireless nodes  need not use two-way signalling to establish a communication channel before broadcasting a message. In exemplary embodiments, the D2D radio layer  may include multiple radios using one or more different technologies or protocols (e.g., WLAN and Bluetooth\u00ae simultaneously). A wireless node  configured with multiple radios may act as a gateway node to span two or more sub-networks serviced by the different wireless technologies. In this way, messages broadcast on one sub-network may be propagated to another sub-network.",{"@attributes":{"id":"p-0133","num":"0140"},"figref":["FIG. 2G","FIG. 2G"],"b":["100","209","209","291","291","293","293","209","295","295","281","209","297","297","291","293","101","293","291","293"],"i":["a","c ","a","c","a","c","a","c"]},"In exemplary embodiments, the low latency requirements also enable saving power in the host processor (e.g., as depicted in ). For illustration, the following description refers to the components of exemplary chip set of . The D2D radio layer  is typically implemented in the ASIC module , whereas the functionalities of the awareness service module  can be implemented either in the ASIC  or the processor . If the functionalities of the awareness service module are implemented in the processor , power consumption is reduced by, for instance, having ASIC  wake up the processor  as infrequently as possible. By way of example, the periodic operation of the D2D radio layer  explained above enables the ASIC  to collect all messages and send them to the processor  at a frequency of once per active transmission period . The processor  then processes all received messages and calculates new messages to be sent for the next active transmission period . The processor  then sends the messages to the ASIC  for transmission. Using this process, a flooding message can make one hop (e.g., travel from one node  to another node ) per period , which is fully acceptable for awareness information. In contrast, potential delays of hundreds of milliseconds are not possible, for example, for voice traffic, and these kinds of power savings cannot therefore be achieved in other communication systems transporting delay-sensitive traffic.",{"@attributes":{"id":"p-0135","num":"0142"},"figref":["FIGS. 3A-3C","FIG. 3A","FIG. 3A","FIG. 9"],"b":["101","111","300","301","111","111","243","109","103","109","103"]},"As part of the initialization process, the awareness services module  identifies neighboring wireless nodes  within the local ad-hoc mesh network  using the process as described with respect to . For example, the process of identifying neighboring wireless nodes  includes determining whether over a predetermined period of time, one or more of the neighboring wireless nodes  has transmitted or received a community specific message where the wireless node  is either the source, sender, receiver, or destination of the message. If a wireless node  has transmitted or received such a message, the awareness services module  classifies that particular wireless node  as a neighboring node  that is visible to the particular community related to the message. Based on these determinations, the awareness services module  creates a list neighboring wireless nodes  (e.g., mobile devices) that are visible to a particular community (e.g., responsive to messages to or from a particular community) (step ).","From this list of visible neighboring nodes , the awareness services module  also determines and creates a list of which of the visible neighboring nodes  are members of a particular community (step ). This determination is performed, for instance, using the process described with respect to the . More specifically, the awareness services module  determines that a visible neighboring wireless node  is also a member of a particular if the neighboring wireless node  has received a community specific query or replay message from another community member specifically addressed or referring to the neighboring wireless node .",{"@attributes":{"id":"p-0138","num":"0145"},"figref":["FIG. 3B","FIG. 3B","FIG. 9","FIG. 2C"],"b":["101","111","320","321","111","321","111","243","111","323","241","325"]},"After creating the message, the awareness services module  initiates broadcast of the message over the ad-hoc mesh network  (step ). In exemplary embodiments, the member search message is equivalent to a query and is transmitted and replied to using the processes described with respect to  below. As the message propagates over the ad-hoc mesh network , mobile devices that are members of one or more of the active communities associated with the anonymized CID or CIDs included in the message automatically respond to mobile device that originally sent the message. The awareness services module  initiates receipt of the reply messages (step ). The reply message includes, for instance, a list of anonymized CIDs for active communities in the replying node. In certain embodiments, the awareness services module  also uses the reply messages to update the list of neighboring mobile devices (step ). This update is based, for instance, on the replying node identification (NID) included in the reply messages.",{"@attributes":{"id":"p-0140","num":"0147"},"figref":["FIG. 3C","FIG. 3C","FIG. 9"],"b":["111","340","341","111","243","111","245","111","343","245","241","345"]},"After the member search message is generated, the awareness services module  initiates broadcasts members search message over the ad-hoc mesh network  (step ). In exemplary embodiments, the member search message is equivalent to a query and is transmitted and replied to using the processes described with respect to  below. As the message propagates over the ad-hoc mesh network , mobile devices that have one or more communities associated with the anonymized CID or CIDs in the state where members are visible automatically respond to mobile device that originally sent the message. The awareness services module  initiates receipt of the reply messages sent in response to the member search message. The reply message includes, for instance, a list of anonymized CIDs, plaintext or encrypted user aliases and the plaintext or encrypted status (e.g. presence) of the community member (step ). In certain embodiments, the awareness services module  also uses the reply messages to update the list of neighboring mobile devices (step ) and the list of community members (step ). The updates are based, for instance, on the replying node identification (NID) and community information included in the reply messages.","In addition to locating communities and community members, the awareness services module  can also invite other mobile devices to join a particular community. To invite another mobile device to join a community, the awareness services module  initiates a secure transmission of the CID of the community along with one or more of the associated keys to the mobile device using either the ad-hoc mesh network  or the communication network . On acceptance of the CID and keys by the receiving mobile device (e.g., indicated by storage of the CID and keys in the mobile device), the mobile device becomes part of the community will be able to receive any messages, including encrypted messages, originating from members of the community.",{"@attributes":{"id":"p-0143","num":"0150"},"figref":["FIG. 4","FIG. 9","FIG. 2D"],"b":["111","400","401","111","101"]},"Moreover, it is contemplated that the visibility state of a community or community member can be used to filter incoming messages. For example, to block all incoming or outgoing messages, a community member can set the member's own state to inactive with respect to the community so that all messages from that particular community are disregarded. It is contemplated that the a user belonging to multiple communities may independently set the visibility state for each community. By way of example, to block incoming advertisements, the user can set its visibility state to inactive for the community sending the advertisements. It is also contemplated that the user can automatically set the visibility state based on criteria such as time (e.g., to automatically set a visibility state at certain periods of the day), location (e.g., to automatically set a visibility state at certain locations such as work or school), or any other content (e.g., while in a meeting or at dinner).",{"@attributes":{"id":"p-0145","num":"0152"},"figref":["FIG. 5A","FIG. 5A"],"b":["502","506","508","502","504","203","205","207","209"]},"In step , the application  within querying node  generates a request for searching information over the ad-hoc mesh network  and sends the request to the cognition layer  of the querying node . The cognition layer  generates a query message, assigns a query identification number (QID) to the query message and forwards the query message to the community layer  of the querying node  (step ).","The community layer  prepares the query message for transmission over the ad-hoc mesh network  by marking the query with a CID of the community from which the user is seeking information. If the community is private, the community layer  encrypts the query message using the authentication keys associated with the respective CID and stored in the community directory  (). The community layer  then anonymizes the CID attached to the query using the authentication keys associated with the respective CID and sends the anonymized and possibly encrypted messaged to the network layer  (step ).","The network layer  assigns a message sequence number (MID) to the query message and adds fields to the network layer message header  () to indicate that the querying node  is the source and transmitter of the query message (e.g., using the NID). The network layer  sends the query message to the D2D radio layer  of the querying node  for broadcasting to the ad-hoc mesh network  (step ).","The query message is then broadcasted to one or more relaying nodes  (step ). All the nodes that are able to receive the broadcast message are relaying nodes. The processes of the relaying node are described with respect to . After processing by the relaying node , the query message is rebroadcasted to another relaying node or to the replying node  (step ). The processes of the replying node  are described with respect to . After processing of the query message by the replying node , a reply message is generated and sent to the relaying node  (step ) which routes the reply message either to another relaying node or to the querying node  (step ) based on the route stored in the routing table .","At the querying node , the D2D radio layer  receives and acknowledges the reply message and forwards the reply message to the network layer  (step ). The network layer  determines that the querying node  is the intended destination of the reply message by checking the DST field  in the network layer message header  and sends the message to the community layer  for processing (step ). In case of a private community, the community layer  decrypts the reply message using the appropriate authentication keys stored in the community directory . Then the community layer  sends the decrypted reply message to the cognition layer  (step ). The cognition layer  then provides the application  with a service response using the content of the reply message and the QID contained in the reply message (step ).",{"@attributes":{"id":"p-0151","num":"0158"},"figref":["FIG. 5B","FIG. 5B"],"b":["201","203","205","207","209","506"]},"In step , the D2D radio layer of the relaying node  receives a query message either from the querying node  or from another relaying node and sends the message to the network layer . The network layer performs the steps  to  () to determine whether to rebroadcast the query message. If the network layer  decides to rebroadcast the query, it sends the query message back to the D2D radio layer  for transmission (step ).","The network layer  also forwards the query message to the community layer  (step ). If the community layer  determines that the query message contains the anonymized CID of an active community associated with the relaying node  based on the information stored in the community directory  (), the community layer decrypts the message and forwards it to the cognition layer . In this example, the relaying node  does not have any matching information in the item storage  () and serves only to relay the query message.","In an other example, in step , the D2D radio layer of the relaying node  receives a reply message either from the replying node  or from another relaying node and sends the message to the network layer . The network layer performs the steps  to  () to determine whether to retransmit the reply message. If the network layer  decides to retransmit the reply, it sends the reply message back to the D2D radio layer  for transmission (step ).","The network layer  also forwards the reply message to the community layer  (step ). If the community layer  determines that the reply message contains the anonymized CID of an active community associated with the relaying node  based on the information stored in the community directory  (), the community layer decrypts the message and forwards it to the cognition layer  that may store the information in the reply message in its item storage .",{"@attributes":{"id":"p-0156","num":"0163"},"figref":["FIG. 5C","FIG. 5C"],"b":["508","502","508","201","203","205","207","209"]},"In step , the D2D radio layer  of the replying node  receives the query message and forwards it to the network layer  of the replying node  according to the same process as described with respect the relaying node  of . The network layer  may decide to rebroadcast the query message (step ). On receipt, the network layer  forwards the query message to the community layer  (step ).","If the community layer  determines that the query message contains an anonymized CID of an active community associated with the replying node , the community layer  decrypts the message, if private, and forwards the query message to the cognition layer  (step ). If an item matching to the query is found in the item storage  of the replying node , the cognition layer generates a reply message that contains the same QID as the incoming query and has the source NID of the query message set as the destination NID of the reply message. Next, the cognition layer forwards the message to the community layer  (step ). If the community to which the reply message relates to is a private community the reply message is encrypted using the keys associated with the community. The community layer  then anonymizes the community identifier CID and sends the reply message to the network layer  (step ).","On receipt of the reply message, the network layer  assigns a new message sequence number (MSN) to the reply message, attaches NID of the replying node  as the source and transmitter, finds the NID of the relaying node  for the next hop from the routing table , sets the target NID of the reply message as the next hop and sends the reply message to the D2D radio layer  (step ). The D2D radio layer  sends the reply message as a unicast message addressed to a relaying node  over the ad-hoc mesh network .",{"@attributes":{"id":"p-0160","num":"0167"},"figref":["FIGS. 6A-6B","FIG. 6A"],"b":["600","601","101","603","600","605","607"]},{"@attributes":{"id":"p-0161","num":"0168"},"figref":"FIG. 6B","b":["620","621","623","625","627","629"]},{"@attributes":{"id":"p-0162","num":"0169"},"figref":["FIG. 7","FIG. 7","FIG. 12"],"b":["111","109","109","111","700"]},"In step , the awareness services module  receives a message corresponding to one of a plurality of communities of wireless nodes . The message, for instance, is received in the format discussed below with respect to . In exemplary embodiments, the message comprises a pseudonym or index pointing to the pseudonym that corresponds to a particular community of wireless nodes  to which the message is addressed. By way of example, the index may be calculated using a hash function based on the pseudonym as described with respect to  above. The awareness services then extracts the pseudonym from the message (step ). For example, if the pseudonym is included as an index, the step of extracting the pseudonym comprises deriving the index from the message (e.g., from the portion of the message designated to contain the index or pseudonym) and deriving the pseudonym from the index using the corresponding hash function. In certain embodiments, the message may be encrypted or encrypted in part using, for instance, AES or AES-EAX encryption. If the pseudonym is encrypted, the awareness services module  decrypts the message to facilitate extraction of the pseudonym.","After extracting the pseudonym from the message, the awareness services module  compares the extracted pseudonym with a precomputed set of pseudonyms associated respectively with the communities (step ). In exemplary embodiments, the set of possible pseudonyms associated with communities to which a particular wireless node  belongs is precomputed to reduce resources requirements (e.g., processor and battery resources). Moreover, each of the wireless nodes  within the ad-hoc wireless network  individually precomputes and stores the set of pseudonyms locally on the corresponding wireless node  using, for instance, one or more of the authentication keys associated with the community as described with respect to . Accordingly, in some embodiments, the awareness services module  compares the extracted pseudonym, for instance, with only those precomputed pseudonyms that are associated with the index derived from the message. If, however, resource constraints are not a concern, it is contemplated that the awareness services module  can, alternatively or in addition, compute the set of pseudonyms as the message is received. For example, it is noted that a typical wireless node  might belong to 200 private communities (i.e., communities that use pseudonyms) and hear 50 messages per second on the average over its radio layer . If each message contains a pseudonym, the awareness services module  would have to calculate a pseudonym up to ten thousand times per second. Using a precomputed set of pseudonyms enables the awareness services module  to avoid having to sustain that rate of calculations.","To provide an even higher level of privacy and anonymity, the precomputed set of pseudonyms is valid only for a particular time period before the pseudonyms expire. Accordingly, the awareness services module  ensures that the set of pseudonyms calculated for the same communities are the same for all wireless nodes  based on, for instance, a fixed time reference that is common to the wireless nodes  (e.g., time since Jan. 1, 2000). In this way, the pseudonyms for the same communities, even when calculated by different wireless nodes , remain common to the wireless nodes .","Based on the comparison of the extracted pseudonym to the precomputed set of pseudonyms, the awareness services module  determines the particular community corresponding to the pseudonym (step ). In exemplary embodiments, if a wireless node  is a member of the community corresponding to the message, the wireless node  is able to receive and decrypt (if needed) the message. As the expiration time of the set of precomputed pseudonyms approaches, the awareness service module  computes a new set of pseudonyms before the older set expires (step ).",{"@attributes":{"id":"p-0167","num":"0174"},"figref":["FIG. 8","FIG. 12","FIG. 7"],"b":["111","800","801","111","111","111"]},"On receipt of a message, the awareness services module  determines the time period during which the message was sent (step ). For example, the awareness services module  may check for a time stamp associated with the message or may infer the date from the content of the message. After determining the time period, the awareness services module  selects one of the sets of pseudonyms that correspond to the determined time period (step ). As described with respect to , the awareness services module  then compares the extracted pseudonym against the selected set of pseudonyms (step ) to determine the particular community corresponding to the message (step ).",{"@attributes":{"id":"p-0169","num":"0176"},"figref":["FIG. 9","FIG. 12","FIG. 2C","FIG. 7"],"b":["111","900","901","111","111","101"]},"The awareness services module  then generates a message comprising the pseudonym corresponding to one of a plurality of communities of wireless nodes  to which the message is addressed (step ). The message may, for instance, include a query for information or a message publishing information over the ad-hoc mesh network . In exemplary embodiments, the awareness services module  may also encrypt the message using one of the authentication keys associated with the message. The awareness services module  then initiates the transmission of the message, for instance, over the ad-hoc mesh network  to the other wireless nodes within the network  (step ).",{"@attributes":{"id":"p-0171","num":"0178"},"figref":["FIG. 10A","FIGS. 7-9","FIG. 2F","FIG. 2F","FIG. 2F"],"b":["1001","1001","1003","1005","1007","1001","1009","1011","281","1003","293","1005","296"]},"More specifically, the S field  may be, for instance, the node identification number (NID). It is contemplated that the S field  corresponding to a wireless node  may change periodically to increase protection of privacy and anonymity. The j field  provides a count of messages that the wireless node  has sent since the beginning of the current time period t. For example, the j field  increments with each message sent to provide a unique number (e.g., a message identification number (MID)) for each message. The X field  represents the pseudonym or index to the pseudonym generated per the processes described with respect to FIGS. C and -. The Y field  represents the text of the actual message (e.g., providing information, query, status, etc.). In exemplary embodiments, the Y field  may be encrypted using, for instance, AES-EAX encryption based on an authentication key associated with the community.","The processes described herein for using pseudonyms may be implemented via software, hardware (e.g., general processor, Digital Signal Processing (DSP) chip, an Application Specific Integrated Circuit (ASIC), Field Programmable Gate Arrays (FPGAs), etc.), firmware or a combination thereof Such exemplary hardware for performing the described functions is detailed below.",{"@attributes":{"id":"p-0174","num":"0181"},"figref":["FIG. 10B","FIG. 10B","FIG. 10B"],"sub":["v","v","v","v","v","i","1","3","0 ","2","1 "],"b":"1020"},{"@attributes":{"id":"p-0175","num":"0182"},"figref":"FIG. 11","b":["1100","1100","1110","1100"]},"A bus  includes one or more parallel conductors of information so that information is transferred quickly among devices coupled to the bus . One or more processors  for processing information are coupled with the bus .","A processor  performs a set of operations on information related to using pseudonyms. The set of operations include bringing information in from the bus  and placing information on the bus . The set of operations also typically include comparing two or more units of information, shifting positions of units of information, and combining two or more units of information, such as by addition or multiplication or logical operations like OR, exclusive OR (XOR), and AND. Each operation of the set of operations that can be performed by the processor is represented to the processor by information called instructions, such as an operation code of one or more digits. A sequence of operations to be executed by the processor , such as a sequence of operation codes, constitute processor instructions, also called computer system instructions or, simply, computer instructions. Processors may be implemented as mechanical, electrical, magnetic, optical, chemical or quantum components, among others, alone or in combination.","Computer system  also includes a memory  coupled to bus . The memory , such as a random access memory (RAM) or other dynamic storage device, stores information including processor instructions for using pseudonyms. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory  is also used by the processor  to store temporary values during execution of processor instructions. The computer system  also includes a read only memory (ROM)  or other static storage device coupled to the bus  for storing static information, including instructions, that is not changed by the computer system . Some memory is composed of volatile storage that loses the information stored thereon when power is lost. Also coupled to bus  is a non-volatile (persistent) storage device , such as a magnetic disk, optical disk or flash card, for storing information, including instructions, that persists even when the computer system  is turned off or otherwise loses power.","Information, including instructions for using pseudonyms, is provided to the bus  for use by the processor from an external input device , such as a keyboard containing alphanumeric keys operated by a human user, or a sensor. A sensor detects conditions in its vicinity and transforms those detections into physical expression compatible with the measurable phenomenon used to represent information in computer system . Other external devices coupled to bus , used primarily for interacting with humans, include a display device , such as a cathode ray tube (CRT) or a liquid crystal display (LCD), or plasma screen or printer for presenting text or images, and a pointing device , such as a mouse or a trackball or cursor direction keys, or motion sensor, for controlling a position of a small cursor image presented on the display  and issuing commands associated with graphical elements presented on the display . In some embodiments, for example, in embodiments in which the computer system  performs all functions automatically without human input, one or more of external input device , display device  and pointing device  is omitted.","In the illustrated embodiment, special purpose hardware, such as an application specific integrated circuit (ASIC) , is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor  quickly enough for special purposes. Examples of application specific ICs include graphics accelerator cards for generating images for display , cryptographic boards for encrypting and decrypting messages sent over a network, speech recognition, and interfaces to special external devices, such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.","Computer system  also includes one or more instances of a communications interface  coupled to bus . Communication interface  provides a one-way or two-way communication coupling to a variety of external devices that operate with their own processors, such as printers, scanners and external disks. In general the coupling is with a network link  that is connected to a local network  to which a variety of external devices with their own processors are connected. For example, communication interface  may be a parallel port or a serial port or a universal serial bus (USB) port on a personal computer. In some embodiments, communications interface  is an integrated services digital network (ISDN) card or a digital subscriber line (DSL) card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments, a communication interface  is a cable modem that converts signals on bus  into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example, communications interface  may be a local area network (LAN) card to provide a data communication connection to a compatible LAN, such as Ethernet. Wireless links may also be implemented. For wireless links, the communications interface  sends or receives or both sends and receives electrical, acoustic or electromagnetic signals, including infrared and optical signals, that carry information streams, such as digital data. For example, in wireless handheld devices, such as mobile telephones like cell phones, the communications interface  includes a radio band electromagnetic transmitter and receiver called a radio transceiver. In exemplary embodiments, the communications interface  enables connection to the communication network  for using pseudonyms.","The term computer-readable medium is used herein to refer to any medium that participates in providing information to processor , including instructions for execution. Such a medium may take many forms, including, but not limited to, non-volatile media, volatile media and transmission media. Non-volatile media include, for example, optical or magnetic disks, such as storage device . Volatile media include, for example, dynamic memory . Transmission media include, for example, coaxial cables, copper wire, fiber optic cables, and carrier waves that travel through space without wires or cables, such as acoustic waves and electromagnetic waves, including radio, optical and infrared waves. Signals include man-made transient variations in amplitude, frequency, phase, polarization or other physical properties transmitted through the transmission media. Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, any other magnetic medium, a CD-ROM, CDRW, DVD, any other optical medium, punch cards, paper tape, optical mark sheets, any other physical medium with patterns of holes or other optically recognizable indicia, a RAM, a PROM, an EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave, or any other medium from which a computer can read.",{"@attributes":{"id":"p-0183","num":"0190"},"figref":["FIG. 12","FIG. 12"],"b":["1200","1200","109"]},"In one embodiment, the chip set  includes a communication mechanism such as a bus  for passing information among the components of the chip set . A processor  has connectivity to the bus  to execute instructions and process information stored in, for example, a memory . The processor  may include one or more processing cores with each core configured to perform independently. A multi-core processor enables multiprocessing within a single physical package. Examples of a multi-core processor include two, four, eight, or greater numbers of processing cores. Alternatively or in addition, the processor  may include one or more microprocessors configured in tandem via the bus  to enable independent execution of instructions, pipelining, and multithreading. The processor  may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors (DSP) , or one or more application-specific integrated circuits (ASIC) . A DSP  typically is configured to process real-world signals (e.g., sound) in real time independently of the processor . Similarly, an ASIC  can be configured to performed specialized functions not easily performed by a general purposed processor. Other specialized components to aid in performing the inventive functions described herein include one or more field programmable gate arrays (FPGA) (not shown), one or more controllers (not shown), or one or more other special-purpose computer chips.","The processor  and accompanying components have connectivity to the memory  via the bus . The memory  includes both dynamic memory (e.g., RAM, magnetic disk, writable optical disk, etc.) and static memory (e.g., ROM, CD-ROM, etc.) for storing executable instructions that when executed perform the inventive steps described herein to provide awareness information over an ad-hoc mesh network . The memory  also stores the data associated with or generated by the execution of the inventive steps.",{"@attributes":{"id":"p-0186","num":"0193"},"figref":["FIG. 13","FIG. 1"],"b":["1303","1305","1307","111","1309","1311","1311","1311","1313"]},"A radio section  amplifies power and converts frequency in order to communicate with a base station, which is included in a mobile communication system, via antenna . The power amplifier (PA)  and the transmitter\/modulation circuitry are operationally responsive to the MCU , with an output from the PA  coupled to the duplexer  or circulator or antenna switch, as known in the art. The PA  also couples to a battery interface and power control unit .","In use, a user of mobile station  speaks into the microphone  and his or her voice along with any detected background noise is converted into an analog voltage. The analog voltage is then converted into a digital signal through the Analog to Digital Converter (ADC) . The control unit  routes the digital signal into the DSP  for processing therein, such as speech encoding, channel encoding, encrypting, and interleaving. In the exemplary embodiment, the processed voice signals are encoded, by units not separately shown, using a cellular transmission protocol such as global evolution (EDGE), general packet radio service (GPRS), global system for mobile communications (GSM), Internet protocol multimedia subsystem (IMS), universal mobile telecommunications system (UMTS), etc., as well as any other suitable wireless medium, e.g., microwave access (WiMAX), Long Term Evolution (LTE) networks, code division multiple access (CDMA), wireless fidelity (WiFi), satellite, and the like.","The encoded signals are then routed to an equalizer  for compensation of any frequency-dependent impairments that occur during transmission though the air such as phase and amplitude distortion. After equalizing the bit stream, the modulator  combines the signal with a RF signal generated in the RF interface . The modulator  generates a sine wave by way of frequency or phase modulation. In order to prepare the signal for transmission, an up-converter  combines the sine wave output from the modulator  with another sine wave generated by a synthesizer  to achieve the desired frequency of transmission. The signal is then sent through a PA  to increase the signal to an appropriate power level. In practical systems, the PA  acts as a variable gain amplifier whose gain is controlled by the DSP  from information received from a network base station. The signal is then filtered within the duplexer  and optionally sent to an antenna coupler  to match impedances to provide maximum power transfer. Finally, the signal is transmitted via antenna  to a local base station. An automatic gain control (AGC) can be supplied to control the gain of the final stages of the receiver. The signals may be forwarded from there to a remote telephone which may be another cellular telephone, other mobile phone or a land-line connected to a Public Switched Telephone Network (PSTN), or other telephony networks.","Voice signals transmitted to the mobile station  are received via antenna  and immediately amplified by a low noise amplifier (LNA) . A down-converter  lowers the carrier frequency while the demodulator  strips away the RF leaving only a digital bit stream. The signal then goes through the equalizer  and is processed by the DSP . A Digital to Analog Converter (DAC)  converts the signal and the resulting output is transmitted to the user through the speaker , all under control of a Main Control Unit (MCU) \u2014which can be implemented as a Central Processing Unit (CPU) (not shown).","The MCU  receives various signals including input signals from the keyboard . The keyboard  and\/or the MCU  in combination with other user input components (e.g., the microphone ) comprise a user interface circuitry for managing user input. The MCU  runs a user interface software facilitate user control of at least come functions of the mobile station . The MCU  also delivers a display command and a switch command to the display  and to the speech output switching controller, respectively. Further, the MCU  exchanges information with the DSP  and can access an optionally incorporated SIM card  and a memory . In addition, the MCU  executes various control functions required of the station. The DSP  may, depending upon the implementation, perform any of a variety of conventional digital processing functions on the voice signals. Additionally, DSP  determines the background noise level of the local environment from the signals detected by microphone  and sets the gain of microphone  to a level selected to compensate for the natural tendency of the user of the mobile station .","The CODEC  includes the ADC  and DAC . The memory  stores various data including call incoming tone data and is capable of storing other data including music data received via, e.g., the global Internet. The software module could reside in RAM memory, flash memory, registers, or any other form of writable storage medium known in the art. The memory device  may be, but not limited to, a single memory, CD, DVD, ROM, RAM, EEPROM, optical storage, or any other non-volatile storage medium capable of storing digital data.","An optionally incorporated SIM card  carries, for instance, important information, such as the cellular phone number, the carrier supplying service, subscription details, and security information. The SIM card  serves primarily to identify the mobile station  on a radio network. The card  also contains a memory for storing a personal telephone number registry, text messages, and user specific mobile station settings.","While the invention has been described in connection with a number of embodiments and implementations, the invention is not so limited but covers various obvious modifications and equivalent arrangements, which fall within the purview of the appended claims. Although features of the invention are expressed in certain combinations among the claims, it is contemplated that these features can be arranged in any combination and order."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments of the invention are illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIGS. 2B-2E"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2F"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2G"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 3C"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 5A"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 5B"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 5A"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIGS. 6A-6B"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 10A"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 10B"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 13"}]},"DETDESC":[{},{}]}
