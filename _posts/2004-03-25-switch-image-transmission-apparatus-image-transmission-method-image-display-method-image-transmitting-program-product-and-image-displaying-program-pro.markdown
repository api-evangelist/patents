---
title: Switch, image transmission apparatus, image transmission method, image display method, image transmitting program product, and image displaying program product
abstract: A switch selectively switches terminals to which a computer is connected, and that can be remotely operated by a remote-control computer connected to a predetermined network. This switch includes: an information acquiring unit that acquires cursor location information from the remote-control computer; an image extracting unit that extracts a cursor peripheral image from an image storing unit that stores an image obtained from the computer, based on the cursor location information acquired by the information acquiring unit; and a cursor image transmitting unit that transmits the cursor peripheral image, extracted by the image extracting unit, to the remote-control computer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07595770&OS=07595770&RS=07595770
owner: Fujitsu Component Limited
number: 07595770
owner_city: Tokyo
owner_country: JP
publication_date: 20040325
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["1. Field of the invention","The present invention relates to a switch, an image transmission apparatus, an image transmission method, an image display method, an image transmitting program, and an image displaying program.","2. Description of the Related Art","As the processing capacities of computers have dramatically increased, computers are being more and more widely used. It is not unusual today for an individual user to own more than one computer and use each computer in a different work environment. In such a case, the input\/output devices such as a keyboard, a display, and a mouse, are connected to the computers through a switch, so as to save space and reduce costs.","The switch is generally called a KVM (Keyboard, Video, and Mouse) switch. The switch is provided between the input\/output devices and the computers, and connects the input\/output devices to only one of the computers. A user can operate the switch to select one of the computers to be connected to the input\/output devices.","With the above conventional switch, however, it is necessary for a user to operate the mouse and keyboard connected to the switch, and therefore, the user has to stand by the mouse and keyboard at all times. So as to eliminate such an inconvenience, a switch that can be remotely operated has been developed.","With a remotely operated switch, it is possible for a user to access a computer connected to the switch not only from the mouse and keyboard connected to the switch, but also from a personal computer that is located in a remote place over a network. Japanese Unexamined Patent Publication No. 2001-344189 (hereinafter referred to as Patent Document 1) discloses an example of the conventional remotely operated switch. With the switch disclosed in Patent Document 1, a user can remotely switch computers from another computer equipped with an input device.","Japanese Unexamined Patent Publication No. 9-69010 (hereinafter referred to as Patent Document 2) discloses an image display technique relating to a switch. In a central monitor controlling system disclosed in Patent Document 2, a personal computer connected to the host computer over a network is used as a remote terminal, and image display information is transmitted to the display of a computer through an X-Window system. The remote terminal is operated with a mouse, and the host computer is notified of each screen switching operation through a keyboard. In this manner, the display of the computer can have the same screen display and functions as the monitor controlling display of the host computer.","Japanese Unexamined Patent Publication No. 3-48922 (hereinafter referred to as Patent Document 3) discloses a cursor controlling technique, though it does not relate to a switch. A pointing cursor predictive moving device disclosed in Patent Document 3 detects the history of movements of the mouse cursor, and predicts the final destination. The pointing cursor predictive moving device then moves the cursor directly to the icon located at the final destination, thereby shortening the cursor moving time.","With any conventional switch, however, the analog image output of each scanning line is converted into digital signals which are then transmitted to a remote-control computer connected to the network. Therefore, as the image to be transmitted widens, the time required for the A\/D conversion increases, resulting in a decrease of the frame rate. The frame rate varies with the conversion processing speed. When the frame rate decreases, a pointing-type display involving a mouse cursor has a poorer pointing accuracy.","In some conventional switch, image data that are inputted from a selected computer are acquired at 1\/n of the scanning frequency F (1\u2266n<F), and the acquired image is compared with the previously acquired image. As a result of the comparison, a line or a block including the different part is extracted, and the extracted line or block is transmitted to a remote-control computer. By this method, the entire image is checked for a difference, and therefore, the frame rate decreases as the image size increases. Also, when there is a great change in the image, the frame rate decreases. As the frame rate decreases, the mouse cursor display updating frequency drops, resulting in a poorer pointing accuracy.","With the pointing cursor predictive moving device disclosed in Patent Document 3, the cursor moving time can be shortened, but a decrease of the pointing accuracy due to a frame rate decrease cannot be prevented.","It is therefore an object of the present invention to provide a switch, an image transmission apparatus, an image transmission method, an image display method, an image transmitting program, and an image displaying program in which the above disadvantage is eliminated.","A more specific object of the present invention is to provide a switch, an image transmission apparatus, an image transmission method, an image display method, an image transmitting program, and an image displaying program that can maintain high pointing accuracy even when the image frame rate is low.","The above objects of the present invention are achieved by A switch that selectively switches from one terminal to another among a plurality of terminals to which a computer is connected, and that can be remotely operated by a remote-control computer connected to a predetermined network, the switch comprising: an information acquiring unit that acquires cursor location information from the remote-control computer; an image extracting unit that extracts a cursor peripheral image from an image storing unit that stores an image obtained from the computer, based on the cursor location information acquired by the information acquiring unit; and a cursor image transmitting unit that transmits the cursor peripheral image, extracted by the image extracting unit, to the remote-control computer.","The above objects of the present invention are also achieved by an image transmission apparatus that transmits an image to an information processing apparatus connected to a predetermined network, the image transmission apparatus comprising: an information acquiring unit that acquires cursor location information from the information processing apparatus; an image extracting unit that extracts a cursor peripheral image from an image storing unit that stores the image to be transmitted to the information processing apparatus, based on the cursor location information acquired by the information acquiring unit; and a cursor image transmitting unit that transmits the cursor peripheral image, extracted by the image extracting unit, to the information processing apparatus.","The above objects of the present invention are achieved by a method of transmitting an image to an information processing apparatus connected to a predetermined network, comprising the steps of: acquiring cursor location information from the information processing apparatus; extracting a cursor peripheral image from an image storing unit that stores the image to be transmitted to the information processing apparatus, based on the cursor location information acquired in the information acquiring step; and transmitting the cursor peripheral image, extracted in the image extracting step, to the information processing apparatus.","The above objects of the present invention are also achieved by a method of displaying an image transmitted from an information processing apparatus connected to a predetermined network, comprising the steps of: acquiring cursor location information; transmitting the cursor location information to the information processing apparatus; and combining a first image obtained from the information processing apparatus with a second image in accordance with the cursor location information acquired from the information processing apparatus that have received the cursor location information in the previous step.","The above objects of the present invention are also achieved by a computer readable image transmitting program product for operating a computer that transmits an image to an information processing apparatus connected to a predetermined network, the image transmitting program product causing the computer to function as: an information acquiring unit that acquires cursor location information from the information processing apparatus; an image extracting unit that extracts a cursor peripheral image from an image storing unit that stores the image to be transmitted to the information processing apparatus, based on the cursor location information acquired by the information acquiring unit; and a cursor image transmitting unit that transmits the cursor peripheral image, extracted by the image extracting unit, to the information processing apparatus.","The above objects of the present invention are also achieved a computer readable image displaying program product for operating a computer to display an image transmitted from an information processing apparatus connected to a predetermined network, the image displaying program product causing the computer to function as: an information acquiring unit that acquires cursor location information; an information transmitting unit that transmits the cursor location information, acquired by the information acquiring unit, to the information processing apparatus; and an image combining unit that combines a first image obtained from the information processing apparatus with a second image in accordance with the cursor location information transmitted from the information transmitting unit that have received the cursor location information from the information processing apparatus, the image combining unit then outputting a composite image to a display unit.","The following is a description of embodiments of the present invention, with reference to the accompanying drawings.",{"@attributes":{"id":"p-0038","num":"0037"},"figref":["FIG. 1","FIG. 1"],"b":["10","1","20","21","22","10"]},"Also, remote-control computers  and  that operate the servers S through Sn from remote areas are connected to the switch  over a network . In this embodiment, the network  is an Ethernet (a registered trademark) that is a bus-type LAN (Local Area Network).","The switch  includes an image processing unit , a network converting circuit , a packet filtering circuit , a controller , an analog switching unit SW, a keyboard\/mouse (KBMS) controlling microcomputer , and KBMS emulation controllers KC through KCn. The switch  corresponds to an information processing apparatus or an image transmission apparatus.","The image processing unit  performs predetermined operations for sending analog RGB signals from the servers S through Sn to the remote-control computers  and  over the network . The image processing unit  includes a controller , an A\/D converting circuit , a memory , an image compressing circuit , and an analog switching unit SW.","The analog switching unit SW switches access destinations of each of the remote-control computers  and  among the servers S through Sn. The analog switching unit SW performs this switching operation by controlling a switch (not shown) provided in the switch . The analog switching unit SW can be also controlled by the remote-control computers  and  to switch access destinations.","The controller  controls the entire image processing unit . The controller  functions as an information acquiring unit, an image extracting unit, and a cursor image transmitting unit, in accordance with a predetermined program. The information acquiring unit acquires cursor location information from the remote-control computers  and . Based on the cursor location information acquired by the information acquiring unit, the image extracting unit extracts a cursor peripheral image from the memory  (the image storing unit) that stores images obtained from the servers S through Sb (computers). The cursor image transmitting unit transmits the cursor peripheral image, extracted by the image extracting unit, to the remote-control computers  and .","When a cursor peripheral image is to be extracted, the controller  may detect an image change from a difference between a first image obtained from the servers S through Sn and a second image obtained after the first image. The controller  may then extract only a predetermined region including the changed part of the second image with respect to the first image.","The controller  also functions as an image transmitting unit that transmits general images to the remote-control computers  and  in accordance with a predetermined program. When acquiring cursor location information from the remote-control computers  and , the image transmitting unit stops transmitting a general image to the remote-control computers  and . After the cursor image transmitting unit transmits a cursor peripheral image, the image transmitting unit resumes transmitting a general image to the remote-control computers  and .","The controller  also issues an instruction to an image processing unit to perform image processing on general images to be transmitted to the remote-control computers  and  in accordance with a predetermined program. When acquiring cursor location information from the remote-control computers  and , the image processing unit stops performing image processing on a general image. After the cursor image transmitting unit transmits a cursor peripheral image, the image processing unit resumes performing image processing on the general image. The image processing includes A\/D conversion to be performed by the A\/D converting circuit , for example.","The controller  also detects an image change from a difference between a first image obtained from the servers S through Sn and a second image obtained after the first image, in accordance with a predetermined program. The controller  then transmits a predetermined region including the changed part of the second image with respect to the first image to the remote-control computers  and .","The image extracting unit may extract a cursor peripheral image at predetermined intervals. The predetermined intervals may be changed based on preset values issued from the remote-control computers  and . The predetermined values may also be changed in accordance with the congestion level of the network.","The A\/D converting circuit  converts analog RGB signals transmitted from the servers S through Sn into digital signals to be transmitted over the network. The memory  stores image data transmitted from the server end. The memory  is equivalent to the image storing unit.","The image compressing circuit  compresses images to be transmitted to the remote-control computers  and  by a predetermined compression technique or at a predetermined compression ratio. The image compressing circuit  may change the compression technique or the compression ratio in accordance with the congestion level of the network . The image compressing circuit  is equivalent to the image compressing unit. Although the image compressing unit is embodied by hardware in the example shown in , it is also possible to be embodied by software. Where the image compressing unit is embodied by software, a predetermined program is loaded, and the controller  executes the predetermined program.","Under the control of the controller , the compression technique or the compression ratio may be arbitrarily changed in accordance with the congestion level of the network . Also, the remote-control computers  and  may perform a predetermined operation to change the compression technique or the compression ratio to be employed by the image compressing circuit . Examples of compression techniques include JPEG and MPEG.","Although the image processing unit  is a single unit in the example shown in , it is also possible to employ two or more image processing units . With two or more image processing units , the remote-control computers  and  can simultaneously access the servers S through Sn, for example. The image processing units  can be formed by boards, and the number of users who can access the servers S through Sn can be increased by increasing the number of boards.","The network converting circuit  connects the switch  to a LAN. The network converting circuit  converts digital signals transmitted from the image processing unit  and digital signals transmitted from the KBMS controlling microcomputer  into packets to be outputted over the network. The packet filtering circuit  adds up the amount of packet data received by the network converting circuit .","The controller  controls the entire switch . The controller  sends absolute coordinate values of the mouse received from the remote-control computers  and  to the image processing unit  as well as to the KBMS controlling microcomputer . The controller  controls the compression technique or the compression ratio to be employed by the image compressing circuit .","For each of the servers S through Sn, the KBMS controlling microcomputer  adjusts the mouse , the keyboard , and mouses and keyboards that are connected to the remote-control computers  and .","The remote-control computers  and  will be next described. Each of the remote-control computers  and  is equivalent to an image processing apparatus.  is a block diagram illustrating the structure of the remote-control computer . As shown in , the remote-control computer  includes a central processing unit (CPU) , a CPU bus , a main memory unit , a system bus , a bus bridge , an expansion slot , a display board , a keyboard controller , a mouse interface , and a network controlling unit .","The CPU  is a processor that presides over control operations to be performed by the remote-control computer  functioning as an image processing apparatus. The CPU  is connected to the main memory unit  through the CPU bus . The bus bridge  connects the CPU bus  and the system bus . The expansion slot  connects various peripheral devices to the remote-control computer . The peripheral devices connected to the remote-control computer  in this example shown in  are the display board , the keyboard controller , the mouse interface , and the network controlling unit .","Further, a display device , a keyboard , and a pointing device (a mouse)  are connected to the display board , the keyboard controller , and the mouse interface , respectively, through cables , , and .  illustrates the structure of the display board  and the display device  shown in . The display board  includes a display controller and a graphic memory ","The display controller writes display data onto the graphic memory and reads the display data out of the graphic memory , in accordance with a command issued by the CPU  through the system bus . In this manner, the display controller generates display data to be sent to the display device .","Between the remote-control computer  and the display device , a display operation is performed in the following manner. First, a control command from the CPU  is written onto the display controller of the display board , via the CPU bus , the bus bridge , the system bus , and the expansion slot . The control command is also written onto the graphic memory that is controlled by the display controller ","The display controller refers to the contents of the graphic memory , and converts the contents into interface signals that can be displayed on the display device . The interface signals are transferred to the display device  through the cable , and are then displayed on the display device .","In accordance with a predetermined program, the CPU  issues an instruction to the display controller to combine a first image obtained from the switch  (the information processing apparatus) with a second image obtained in accordance with cursor location information acquired by a first unit and transmitted from the switch  through a second unit. The display controller outputs the composite image to the display device .",{"@attributes":{"id":"p-0063","num":"0062"},"figref":["FIG. 4","FIG. 4"],"b":["32","201","202","203","204","205"]},"In this hierarchical structure, the application  sends a notification to the OS  through an API (Application Programming Interface) provided in the OS . The OS  then sends a notification to the display driver  through a GDI (Graphics Device Interface) provided in the OS . In turn, the display driver  directly controls the display board , following the above described course.","Through the above procedures, display contents that are requested by the application  are displayed on the display device . Also, an input from the keyboard  passes through the cable , and reaches the keyboard driver  under the control of the keyboard controller . The key board driver  stores the contents of the input in the OS . The stored contents are then read out in accordance with a key input request API issued from the application , and are transferred to the application .","An input from the pointing device  (a mouse) passes through the cable  and reaches the pointing device driver  under the control of the mouse interface . The pointing device driver  converts the contents of the input into information such as cursor coordinates and button pressing, and then sends the information to the OS . The OS  relays the information to the application . The application  judges the condition of the pointing device  from the contents of the information sent from the OS , and performs a suitable operation.","A predetermined remote-control application program calculates absolute coordinates from relative coordinates of the mouse acquired from the OS , based on the resolution of a target computer acquired in advance from the switch . The remote-control application then transmits the mouse data, converted into the absolute coordinates, to the switch .","The image processing unit of the switch  will be next described.  shows an operation flow of the image processing unit . In image acquiring step S, the image processing unit  acquires image data inputted from a selected one of the servers S through Sn at 1\/n of a scanning frequency F. Here, n is equal to or greater than 1, and is smaller than the scanning frequency F (1\u2266n<F).","In A\/D conversion step S, the A\/D converting circuit  converts analog general image data of each scanning line into digital general image data. At this point, the analog general image data have been obtained from the servers S through Sn. In frame decimating step S, the controller  performs frame decimating. Since the images inputted from the servers S through Sn are in the neighborhood of 60 Hz and the changed region extraction performed in changed region extracting step (later described) may not end within 1\/60 second, it is necessary to perform the frame decimating. The image data that have been subjected to the frame decimating is stored in the memory .","In the changed region extracting step S, the controller  detects an image change from a difference between a first image obtained from the servers S through Sn and a second image obtained after the first image. If there is an image change, the controller  extracts a predetermined region including the changed part of the second image with respect to the first image.","In network transmission step S, the controller  transmits the predetermined region including the changed part of the second image with respect to the first image to the remote-control computer  through the network converting circuit . If necessary, the image outputted from the controller  is compressed by the image compressing circuit .","Another operation to be performed by the image processing unit  will be next described.  shows an operation flow of the image processing unit  transmitting a mouse cursor peripheral image, using an input of mouse coordinates as a trigger. In image acquiring step S, the image processing unit  acquires image data from a selected one of the servers S through Sn at 1\/n of the scanning frequency F.","In A\/D conversion step S, the A\/D converting circuit  converts the acquired analog general image data into digital data. The A\/D converting circuit  may temporarily stop the A\/D conversion of the general image data, with an input of mouse coordinates from the remote-control computer  being a trigger. After a mouse cursor peripheral image that is calculated from the absolute coordinates of the mouse is extracted, the A\/D converting circuit  may resume the A\/D conversion of the general image. In frame decimating step S, 1\/n frame decimating is performed on the image converted into digital data.","In changed region extracting step S, the controller  detects an image change from a difference between a first image obtained from the servers S through Sn and a second image obtained after the first image. If there is an image change, the controller  extracts a predetermined region including the changed part of the second image with respect to the first image. In network transmission step S, the controller  transmits the extracted region to the remote-control computer .","When acquiring the absolute coordinates of the mouse from the remote-control computer  in the changed region extracting step S, the controller  moves on to frame data acquiring step S. In the frame data acquiring step S, the controller  acquires the latest frame data from the memory .","In mouse cursor region extracting step S, the controller  extracts a mouse cursor peripheral image. More specifically, based on the absolute coordinates of the mouse acquired from the remote-control computer , the controller  calculates the mouse cursor location in the image outputted from the servers S through Sn. Based on the calculated mouse cursor location, the controller  extracts the image data of the corresponding block and the neighborhood block from the image stored in the memory . By doing so, the mouse cursor peripheral image is extracted.","At this point, the controller  keeps the previously calculated mouse cursor location in the memory , and extracts the image data of the block corresponding to the previously calculated mouse cursor location and the image data of the neighborhood block. By doing, the mouse cursor is erased from the original mouse cursor location when the mouse cursor is displayed at the current location.","When extracting the image data of the corresponding block and the neighborhood block from the image stored in the memory  based on the calculated mouse cursor location in the mouse cursor region extracting step S, the controller  may detect an image change from a difference between a first image obtained from the servers S and Sn and stored in the memory  and a second image obtained after the first image, and then extract a predetermined region including the changed part of the second image with respect to the first image.",{"@attributes":{"id":"p-0079","num":"0078"},"figref":["FIGS. 7A through 7C","FIG. 7A","FIG. 7B"],"b":["110","1","2"]},"Based on calculated mouse cursor location, the controller  extracts the image data of the corresponding block X and the image data of the neighborhood block X excluding the corresponding block X, from the current image stored in the memory , as shown in . Based on the previously calculated mouse cursor location, the controller  also extracts the image data of the corresponding block X and the image data of the neighborhood block X excluding the corresponding block X, from the current image stored in the memory . The image of a corresponding block and the image of a neighborhood block form a mouse cursor peripheral image. Although the controller  extracts both the corresponding blocks and the neighborhood blocks in this embodiment, it is possible to extract only the corresponding blocks.","In network transmission step S, the controller  adds location information to the extracted mouse cursor peripheral image, and transmits the image to the remote-control computer .","Returning to the changed region extracting step S, the controller  detects an image change from the difference between a first image obtained from the servers S through Sn and a second image obtained after the first image. If there is an image change, the controller  extracts a predetermined region including the changed part of the second image with respect to the first image. In the network transmission step S, the controller  transmits the extracted region to the remote-control computer .","As described above, the controller  extracts the previous and current mouse cursor peripheral images in the mouse cursor region extracting step S, and transmits the images to the remote-control computer . Based on the received mouse cursor peripheral images and the location information, the remote-control computer  performs a display operation on the display device, so that the mouse cursor disappears from the previous location and appears at the current location. In this manner, the mouse cursor peripheral images are transmitted first, and the rest of the image is then gradually detected and transmitted. Accordingly, the mouse cursor moves first on the display device of the remote-control computer .","Yet another operation to be performed by the image processing unit  will now be described.  shows an operation flow of a mouse cursor region extracting operation to be performed by the image processing unit  at predetermined intervals. In image acquiring step S, the image processing unit  acquires image data from a selected one of the servers S through Sn at 1\/n of the scanning frequency F. In A\/D conversion step S, the A\/D converting circuit  converts the acquired analog general image data to digital image data.","In frame decimating step S, 1\/n frame decimating is performed on the digital image data. In changed region extracting step S, the controller  detects an image change from the difference between a first image obtained from the servers S through Sn and a second image obtained after the first image. If there is an image change, the controller  extracts a predetermined region including the changed part of the second image with respect to the first image.","In network transmission step S, the controller  transmits the extracted region to the remote-control computer . In the changed region extracting step S, the controller  moves on to frame data acquiring step S, so as to extract a mouse cursor peripheral image at predetermined intervals. Here, each predetermined interval is 1\/m.","The intervals at which the remote-control computer  extracts mouse coordinate values are generally, 5 ms, 8 ms, and 10 ms. Therefore, m should be adjusted to the longest intervals at which the mouse coordinates are extracted. In this manner, high pointing accuracy can be maintained, while the data processing amount and the data transmission amount can be reduced. The display device  connected to the remote-control computer  may display such a dialog as to set intervals at which a cursor peripheral image is extracted, as shown in . Using the dialog, users can change the preset value.",{"@attributes":{"id":"p-0088","num":"0087"},"figref":["FIG. 13","FIG. 13"],"b":["50","51","52","53","54","32","110","10"]},"In the frame data acquiring step S, the controller  acquires the latest frame data from the memory . In mouse cursor region extracting step S, the controller  extracts a mouse cursor peripheral image. More specifically, based on the absolute coordinates of the mouse acquired from the remote-control computer , the controller  calculates the mouse cursor location in the image outputted from the servers S through Sn. Based on the calculated mouse cursor location, the controller  extracts the image data of the corresponding block and the neighborhood block from the image stored in the memory . By doing so, the mouse cursor peripheral image is extracted.","The controller  keeps the previously calculated mouse cursor location in the memory , and also extracts the image data of the block corresponding to the previously calculated mouse cursor location and the image data of the neighborhood block. In network transmission step S, the controller  adds location information to the extracted mouse cursor peripheral image, and transmits the image to the remote-control computer .","Returning to the changed region extracting step S, the controller  detects an image change from the difference between a first image obtained from the servers S through Sn and a second image obtained after the first image. If there is an image change, the controller  extracts a predetermined region including the changed part of the second image with respect to the first image. In network transmission step S, the controller  transmits the extracted region to the remote-control computer .","As described above, the controller  extracts a mouse cursor region at predetermined intervals, and transmits the previous and current mouse cursor peripheral images to the remote-control computer . Accordingly, even if the coordinate information of the mouse cannot be obtained over a certain period of time, mouse cursor peripheral images can be transmitted to the remote-control computer .","An operation of the remote-control computer  will be next described.  shows a flowchart of an operation to be performed by the remote-control computer . In step S, the remote-control computer  establishes a communication with the switch  when the application is activated. In step S, the remote-control computer  requests the switch  to send the resolution of the image that is displayed at the server end.","In step S, the remote-control computer  receives the resolution of the image displayed on the servers S through Sn from the switch . Receiving the resolution of the servers S through Sn from the switch , the remote-control computer  creates an image reception thread. In step S, the remote-control computer  creates a mouse(MS)\/keyboard(KB) acquisition and transmission thread. By doing so, the remote-control computer  enters an operation loop, and, when the mouse or the keyboard is operated, the remote-control computer  transmits predetermined data to the switch .","In step S, the remote-control computer  determines whether a remote-control operation is completed by a user or terminated by a manager. If the remote-control computer  determines that the remote-control operation is ended in step S, the MS\/KB acquisition and transmission are ended in step S. In step S, the remote-control computer  ends the image reception from the switch .","A mouse data acquiring and transmitting operation of the remote-control computer  and a mouse data receiving operation of the switch  will now be described.  illustrates the mouse data acquiring and transmitting operation of the remote-control computer  and the mouse data receiving operation of the switch .","A remote-control application program that runs in the remote-control computer  displays the screen of a target computer selected by the switch . So as to start a remote-control operation, the remove-control computer  acquires mouse data that are generated by operating a mouse in step S.","In step S, the remote-control computer  calculates absolute coordinates from the relative coordinates of the acquired mouse data. More specifically, based on the mouse cursor location on the window of the remote-control application and the resolution of the target computer acquired from the switch  in advance, the absolute coordinates are calculated from the relative coordinates of the acquired mouse data. When the mouse is operated, the remote-control computer  calculates the absolute coordinates according to the operation of the mouse.","In step S, the remote-control computer  transmits the mouse data, which have been converted into the absolute coordinates, to the switch . In step S, the remote-control computer  determines whether the mouse data acquiring and transmitting operation has been completed. If the mouse data acquiring and transmitting operation has not been completed, the remote-control computer  returns to step S and repeats the operation loop. If the mouse data acquiring and transmitting operation has been completed, the remote-control computer  ends the operation.","In step S, the network converting circuit  of the switch  receives the absolute coordinate data of the mouse from the remote-control computer . In step S, the controller  transmits the absolute coordinate data of the mouse to the KBMS controlling microcomputer .","In step S, the controller  transmits the absolute coordinate data of the mouse to the image processing unit . In steps S and S, the controller  transmits the absolute coordinate data of the mouse to the KBMS controlling microcomputer  and the image processing unit . However, the KBMS controlling microcomputer  and the image processing unit  may access the controller  to refer to the absolute coordinate data of the mouse. In step S, the image processing unit  performs a checking operation through an image change extracting and transmitting operation.","The image change extracting and transmitting operation of the image processing unit  will be next described.  is a flowchart of the image change extracting and transmitting operation. In step S, the controller  calculates the block in which the mouse cursor exists, using the absolute coordinate values of the mouse of the remote-control computer  that are acquired from the controller . In other words, the controller  calculates the location of the image in the memory .","In step S, the controller  obtains the current image from the memory . In step S, the controller  creates a pointer with respect to an address in the memory , and adjusts the pointer to the image in blocks, thereby initializing the block pointer.","In step S, the controller  determines whether the absolute coordinate values of the mouse have been received from the remote-control computer . If the absolute coordinate values of the mouse have not been received from the remote-control computer  in step S, the controller  moves on to step S.","If the absolute coordinate values of the mouse have been received from the remote-control computer  in step S, the controller  performs a cursor moving operation in step S. The cursor moving operation will be described later in detail.","In step S, the controller  checks the image for a change in a block. In step S, the controller  moves the block pointer. In step S, the controller  determines whether there is a change in the image in the block. If there is not a change in the image in the block in step S, the controller  returns to step S.","If there is a change in the image in the block in step S, the controller  moves on to step S to transmit the image of the corresponding block to the remote-control computer .","In step S, the controller  moves the block pointer, and determines whether the block comes to an end. The block pointer is moved, starting from the top left in the image and ending at the bottom right in the image, for example. When the block pointer reaches the bottom right, the controller  determines that the block comes to an end. If the block has not come to an end in step S, the controller  returns to step S.","If the block has come to an end in step S, the controller  moves on to step S. In step S, the controller  stores the current image data in the memory , and ends the image change extracting and transmitting operation.","The cursor moving operation will now be described.  illustrates the cursor moving operation of step S shown in . In steps S through S, the controller  checks the peripheral block that surrounds the previous mouse cursor. In steps S through S, the controller  checks the peripheral block that surrounds the current mouse cursor.","In step S, the controller  initializes a block pointer . In step S, the controller  checks the peripheral block of the previous cursor for changes. In step S, the controller  moves the block pointer .","In step S, the controller  determines whether there is a change in the peripheral block of the previous cursor. If there is not a change in the peripheral block of the previous cursor in step S, the controller  returns to step S. If there is a change in the peripheral block of the previous cursor in step S, the controller  moves on to step S to transmit the image of the peripheral block to the remote-control computer .","In this manner, the controller  of the image processing unit  extracts the images of the corresponding block and the peripheral block from the previous image obtained from the memory . The controller  of the image processing unit  adds location information to the region that includes the changed parts, only when there is a change in the extracted image of the peripheral block of the previous cursor. The controller  then transmits the extracted image with the location information to the remote-control computer  through the network converting circuit .","In step S, the controller  determines whether the checking of the block has been completed. If the checking of the block has not been completed in step S, the controller  returns to step S. If the checking of the block has been completed in step S, the controller  moves on to step S to initialize a block pointer .","In step S, the controller  checks the peripheral block of the current cursor for changes. In step S, the controller  moves the block pointer . In step , the controller  determines whether there is a change in the peripheral block of the current cursor. If there is not a change in the peripheral block of the current cursor, the controller  returns to step S.","If there is a change in the peripheral block surrounding the current cursor in step S, the controller  moves on to step S to output the extracted image of the block to the remote-control computer .","In this manner, the controller  of the image processing unit  extracts the images of the corresponding block and the peripheral block of the cursor from the current image obtained from the memory . The controller  of the image processing unit  adds location information to the region including the changed part, only when there is a change in the extracted image of the peripheral block of the current cursor. The controller  then transmits the extracted image with the location information to the remote-control computer  via the network converting circuit . The controller  of the image processing unit  transmits the image of the peripheral block of the previous mouse cursor and the image of the peripheral block of the current mouse cursor at the same time.","In step S, the controller  determines whether the checking of the block has been completed. If the checking has not been completed, the controller  returns to step S. If the checking has been completed, the controller  ends the cursor moving operation.","In the remote-control computer , the network controlling unit  receives the image of the peripheral block of the previous mouse cursor and the image of the peripheral block of the current mouse cursor including of the changed part. The received image of the peripheral block of the previous mouse cursor and the image of the peripheral block of the current mouse cursor are written onto the graphic memory through the system bus , in accordance with a command issued by the CPU .","In accordance with a control command issued by the CPU , the display controller refers to the contents of the graphic memory , and combines the image currently displayed on the display device  with the image of the peripheral block of the previous mouse cursor and the image of the peripheral block of the current mouse cursor, thereby converting the contents into interface signals that can be displayed on the display device . The interface signals are transferred to the display device  through the cable , and are then displayed on the display device . As a result, the mouse cursor disappears from the position in which the mouse cursor was located prior to the change, and the mouse cursor is movably displayed in the current position after the change.","The network congestion calculating operation to be performed by the switch  will now be described.  is a flowchart of a packet filtering operation of the switch . The switch  is equipped with a packet filtering function so as to calculate the amount of packet data in a measuring time and determine the congestion level of the network . The network converting circuit  operates in promiscuous mode, and transfers all received packets to the packet filtering circuit .","In step S, the controller  acquires the start time at which the amount of packet data is received. The start time is used for controlling the operation timing of the packet filtering function. In step S, the controller  obtains the amount of packet data from the packet filtering circuit . In step S, the packet filtering circuit  adds the amount of packet data.","In step S, the controller  acquires the elapsed time. In step S, the controller  determines whether the measuring time has passed. If the measuring time has passed, the controller  moves on to step S to read out the amount of packet data from the packet filtering circuit . In step S, the controller  calculates the data flow rate (BPS: Bit Per Second) to determine the congestion level of the network. If the measuring time has not passed in step S, the controller  returns to step S.","The controller  may determine the image compression technique and the compression ratio for the image compressing circuit  in accordance with the calculated congestion level of the network. The controller  may also automatically change the image compression technique and the compression ratio for the image compressing circuit . The controller  outputs the calculated congestion level of the network to the controller  of the image processing unit . Based on the congestion level of the network, the controller  may change the intervals at which a cursor peripheral image is extracted.","Although the switch  shown in  has been described as an embodiment, the present invention is not limited to it and may be embodied by an image transmission apparatus. Such an image transmission apparatus requires: an information acquiring unit that acquires cursor location information from an information processing apparatus; an image extracting unit that extracts a cursor peripheral image from an image storing unit based on the cursor location information acquired by the information acquiring unit, the image storing unit storing an image to be transmitted to the information processing apparatus; and a cursor image transmitting unit that transmits the cursor peripheral image, extracted by the image extracting unit, to the information processing apparatus.","In the above embodiment, a cursor peripheral image is extracted from the image storing unit based on the cursor location information acquired from a remote-control computer, and the extracted cursor peripheral image is transmitted to the remote-control computer. In this manner, the cursor frame rate can be increased. Thus, high pointing accuracy can be maintained.","Although a few preferred embodiments of the present invention have been shown and described, it would be appreciated by those skilled in the art that changes may be made in these embodiments without departing from the principles and spirit of the invention, the scope of which is defined in the claims and their equivalents."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Other objects, features and advantages of the present invention will become more apparent from the following detailed description when read in conjunction with the accompanying drawings, in which:",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIGS. 7A through 7C"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
