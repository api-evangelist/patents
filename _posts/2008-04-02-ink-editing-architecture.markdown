---
title: Ink editing architecture
abstract: A system and process for capturing and rendering ink is described. An ink canvas object may contain none, one, or more objects or elements and may specify the z-order of the objects or elements. The ink canvas object may host a variety of objects or elements and, therefore, provide ink functionality to the objects or elements, even though the objects or elements themselves may not have ink functionality. The ink canvas object is attached to an ink editor that has an associated modifiable ink editor behavior, whereby ink specific behaviors are collected in the ink edit behavior.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08072433&OS=08072433&RS=08072433
owner: Microsoft Corporation
number: 08072433
owner_city: Redmond
owner_country: US
publication_date: 20080402
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATION INFORMATION","FIELD OF THE INVENTION","DESCRIPTION OF RELATED ART","BRIEF SUMMARY","DETAILED DESCRIPTION OF THE DRAWINGS"],"p":["This application is a divisional of U.S. Ser. No. 11\/845,430, filed on Aug. 27, 2007, which is a divisional of U.S. Ser. No. 10\/692,015, filed on Oct. 24, 2003, which is a continuation in part of U.S. Ser. No. 10\/644,896, filed on Aug. 21, 2003, entitled \u201cInk Collection and Rendering\u201d, whose contents are expressly incorporated herein.","Aspects of the present invention relate to information capturing and rendering. More specifically, aspects of the present invention relate to providing an architecture for editing electronic ink.","People often rely on graphical representations more than textual representations of information. They would rather look at a picture than a block of text that may be equivalent to the picture. For instance, a home owner may cut out pictures from magazines to show contractors exactly what is desired when remodeling a kitchen or bathroom. Textual descriptions of the same material often fall short. The tool that the home owner may use is no more complex than a pair of scissors.","In the computing world, however, attempting to capture and convey the identical content is cumbersome. Typical computer systems do not provide an easy interface for capturing and conveying graphically intensive content. Rather, they are optimized for capturing and rendering text. For instance, typical computer systems, especially computer systems using graphical user interface (GUI) systems, such as Microsoft WINDOWS, are optimized for accepting user input from one or more discrete input devices such as a keyboard for entering text, and a pointing device such as a mouse with one or more buttons for driving the user interface.","Some computing systems have expanded the input and interaction systems available to a user by allowing the use of a stylus to input information into the systems. The stylus may take the place of both the keyboard (for data entry) as well as the mouse (for control). Some computing systems receive handwritten electronic information or electronic ink and immediately attempt to convert the electronic ink into text. Other systems permit the electronic ink to remain in the handwritten form.","Despite the existence of a stylus, various approaches to combining electronic ink with a typical graphical user interface may be cumbersome for developers of third party applications. Accordingly, there is a need in the art for an improved system for capturing, editing, and rendering ink that is friendly for third party developers.","Aspects of the present invention address one or more of the issues mentioned above, thereby providing better content capture, editing, and rendering for use by third party developers. In some embodiments, the ink capturing, editing, and rendering aspects may be manifest as an object that is part of a structure in which each element in an interface may be specified in depth (or z-order). In some cases, the object may render the various elements in the interface in their specified z-order and then render ink on the top-most layer. In other cases, the ink and other elements may be intermingled. Additional aspects of the invention relate to providing an architecture for editing ink.","These and other aspects are addressed in relation to the Figures and related description.","Aspects of the present invention relate to an improved ink capturing, editing, and rendering system and method. Aspects of the invention permit one or more of the following:\n\n","This document is divided into sections to assist the reader. These sections include: characteristics of ink; terms; general-purpose computing environment; ordering of objects; constructors, properties, methods, and events of objects; relationships; clipping; ink editor and ink editor behaviors; erasing ink; selection modes; sub-element editing; renderer integration; and interface definitions","Characteristics of Ink","As known to users who use ink pens, physical ink (the kind laid down on paper using a pen with an ink reservoir) may convey more information than a series of coordinates connected by line segments. For example, physical ink can reflect pen pressure (by the thickness of the ink), pen angle (by the shape of the line or curve segments and the behavior of the ink around discreet points), and the speed of the nib of the pen (by the straightness, line width, and line width changes over the course of a line or curve). Because of these additional properties, emotion, personality, emphasis and so forth can be more instantaneously conveyed than with uniform line width between points.","Electronic ink (or ink) relates to the capture and display of electronic information captured when a user uses a stylus-based input device. Electronic ink refers to a sequence of strokes, where each stroke is comprised of a sequence of points. The points may be represented using a variety of known techniques including Cartesian coordinates (X, Y), polar coordinates (r, \u0398), and other techniques as known in the art. Electronic ink may include representations of properties of real ink including pressure, angle, speed, color, stylus size, and ink opacity. Electronic ink may further include other properties including the order of how ink was deposited on a page (a raster pattern of left to right then down for most western languages), a timestamp (indicating when the ink was deposited), indication of the author of the ink, and the originating device (at least one of an identification of a machine upon which the ink was drawn or an identification of the pen used to deposit the ink), among other information.","Terms","Ink\u2014A sequence or set of strokes with properties. A sequence of strokes may include strokes in an ordered form. The sequence may be ordered by the time captured or by where the strokes appear on a page or in collaborative situations by the author of the ink. Other orders are possible. A set of strokes may include sequences of strokes or unordered strokes or any combination thereof. Further, some properties may be unique to each stroke or point in the stroke (for example: pressure, speed, angle, and the like). These properties may be stored at the stroke or point level, and not at the ink level.","Ink object\u2014A data structure storing ink with or without properties.","Stroke\u2014A sequence or set of captured points. For example, when rendered, the sequence of points may be connected with lines. Alternatively, the stroke may be represented as a point and a vector in the direction of the next point. In short, a stroke is intended to encompass any representation of points or segments relating to ink, irrespective of the underlying representation of points and\/or what connects the points.","Point\u2014Information defining a location in space. For example, the points may be defined relative to a capturing space (for example, points on a digitizer), a virtual ink space (the coordinates in a space into which captured ink is placed), and\/or display space (the points or pixels of a display device).","Elements\u2014Objects that are placed in a tree, with their placement in the tree serving as an order. They are also handle persistence of ink and input.","Adorners\u2014Adorners are visual decorations attached to objects by editing tools. They serve at least two purposes:\n\n","Service\u2014A component (with no restrictions on type), which can be specified, enabled or disabled by its \u201ctype\u201d at any element in a tree structure. The element where the service is defined is known as its \u201cscope.\u201d The service is available for all children of the element unless explicitly disabled or replaced. Services may be defined and enable programmatically or declaratively.","Designer\u2014A design component with knowledge of a particular element. It translates \u201cconceptual\u201d commands (like \u201cmove\u201d) to a tree and property changes specific for the element (e.g. could be change of X, Y or Dock, depending on parent element)","Edit Behavior\u2014A component (often a \u201cservice.\u201d though not necessarily) responsible for processing input events. Receives events from an edit router component.","Edit Router\u2014Manages one or more edit behavior components using a stack (where behaviors can be temporarily suspended and resumed) and\/or a group (where multiple behaviors can be active simultaneously). Routes events to active edit behavior component(s), with an optional event filter.","Event Filter\u2014An optional filter that may be attached to an edit router component for preliminary processing of events. It can modify events or event routing.","Selection\u2014A component representing content currently selected by the user. The selection is not necessarily a collection of elements. It may be a range (or ranges) of text, area of an image, and the like. Also, the selection can be mixed (combinations of different elements, ranges of text, areas of an image and the like). Specific data types which require special handling in selection may have a \u201cselection type\u201d associated with them. Selection Type describes an object implementing ISelection. ISelection is an interface that allows an editing framework to determine which editor to use for a specific element. A specific editor is generally associated with a selection. The editor-selection pair describes a majority of data-type-specific editing logic.","Editor\u2014A super edit behavior component that is responsible for activating subordinate edit behaviors. It can do this based on heuristics or based on an attached property (that specifies the activation of the subordinate edit behaviors).","Selection Router\u2014A specialized edit router, which creates selection and editor objects as needed and directs events to the appropriate editor, based on type of element the event comes from. Selection router (and an optionally associated event filter) is responsible for in-place activation and managing mixed selection.","General-Purpose Computing Environment",{"@attributes":{"id":"p-0045","num":"0051"},"figref":["FIG. 1","FIG. 1"],"b":["100","110","120","130","110","130","120","140","150"]},"A basic input\/output system  (BIOS), containing the basic routines that help to transfer information between elements within the computer  such as during start-up, is stored in the ROM . The computer  also includes a hard disk drive  for reading from and writing to a hard disk (not shown), a magnetic disk drive  for reading form or writing to a removable magnetic disk , and an optical disk drive  for reading from or writing to a removable optical disk  such as a CD ROM or other optical media. The hard disk drive , magnetic disk drive , and optical disk drive  are connected to the system bus  by a hard disk drive interface , a magnetic disk drive interface , and an optical disk drive interface , respectively. The drives and their associated computer-readable media provide nonvolatile storage of computer readable instructions, data structures, program modules and other data for the personal computer . It will be appreciated by those skilled in the art that other types of computer readable media that can store data that is accessible by a computer, such as magnetic cassettes, flash memory cards, digital video disks, Bernoulli cartridges, random access memories (RAMs), read only memories (ROMs), and the like, may also be used in the example operating environment.","A number of program modules can be stored on the hard disk drive , magnetic disk , optical disk , ROM  or RAM , including an operating system , one or more application programs , other program modules , and program data . A user can enter commands and information into the computer  through input devices such as a keyboard  and pointing device . Other input devices (not shown) may include a microphone, joystick, game pad, satellite dish, scanner or the like. These and other input devices are often connected to the processing unit  through a serial port interface  that is coupled to the system bus, but may be connected by other interfaces, such as a parallel port, game port or a universal serial bus (USB). Further still, these devices may be coupled directly to the system bus  via an appropriate interface (not shown). A monitor  or other type of display device is also connected to the system bus  via an interface, such as a video adapter . In addition to the monitor, personal computers typically include other peripheral output devices (not shown), such as speakers and printers. In one embodiment, a pen digitizer  and accompanying pen or stylus  are provided in order to digitally capture freehand input. Although a direct connection between the pen digitizer  and the serial port interface  is shown, in practice, the pen digitizer  may be coupled to the processing unit  directly, parallel port or other interface and the system bus  by any technique including wirelessly. Also, the pen  may have a camera associated with it and a transceiver for wirelessly transmitting image information captured by the camera to an interface interacting with bus . Further, the pen may have other sensing systems in addition to or in place of the camera for determining strokes of electronic ink including accelerometers, magnetometers, and gyroscopes.","Furthermore, although the digitizer  is shown apart from the monitor , the usable input area of the digitizer  may be co-extensive with the display area of the monitor . Further still, the digitizer  may be integrated in the monitor , or may exist as a separate device overlaying or otherwise appended to the monitor .","The computer  can operate in a networked environment using logical connections to one or more remote computers, such as a remote computer . The remote computer  can be a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the computer , although only a memory storage device  has been illustrated in . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) . Such networking environments are commonplace in offices, enterprise-wide computer networks, intranets and the Internet.","When used in a LAN networking environment, the computer  is connected to the local network  through a network interface or adapter . When used in a WAN networking environment, the personal computer  typically includes a modem  or other means for establishing a communications over the wide area network , such as the Internet. The modem , which may be internal or external, is connected to the system bus  via the serial port interface . In a networked environment, program modules depicted relative to the personal computer , or portions thereof, may be stored in the remote memory storage device. Further, the system may include wired and\/or wireless capabilities. For example, network interface  may include Bluetooth, SWLan, and\/or IEEE 802.11 class of combination abilities. It is appreciated that other wireless communication protocols may be used in conjunction with these protocols or in place of these protocols.","It will be appreciated that the network connections shown are illustrative and other techniques for establishing a communications link between the computers can be used. The existence of any of various well-known protocols such as TCP\/IP, Ethernet, FTP, HTTP and the like is presumed, and the system can be operated in a client-server configuration to permit a user to retrieve web pages from a web-based server. Any of various conventional web browsers can be used to display and manipulate data on web pages.","A programming interface (or more simply, interface) may be viewed as any mechanism, process, protocol for enabling one or more segment(s) of code to communicate with or access the functionality provided by one or more other segment(s) of code. Alternatively, a programming interface may be viewed as one or more mechanism(s), method(s), function call(s), module(s), object(s), etc. of a component of a system capable of communicative coupling to one or more mechanism(s), method(s), function call(s), module(s), etc. of other component(s). The term \u201csegment of code\u201d in the preceding sentence is intended to include one or more instructions or lines of code, and includes, e.g., code modules, objects, subroutines, functions, and so one regardless of the terminology applied or whether the code segments are separately compiled, or whether the code segments are provided as source, intermediate, or object code, whether the code segments are utilized in a runtime system or process, or whether they are located on the same or different machines or distributed across multiple machines, or whether the functionality represented by the segments of code are implemented wholly in software, wholly in hardware, or a combination of hardware and software.","Notionally, a programming interface may be viewed generically, as shown in  or .  illustrates an interface Interface  as a conduit through which first and second code segments communicate.  illustrates an interface as comprising interface objects I and I (which may or may not be part of the first and second code segments), which enable first and second code segments of a system to communicate via medium M. In the view of , one may consider interface objects I and I as separate interfaces of the same system and one may also consider that objects I and I plus medium M comprise the interface. Although  show bi-directional flow and interfaces on each side of the flow, certain implementations may only have information flow in one direction (or no information flow as described below) or may only have an interface object on one side. By way of example, and not limitation, terms such as application programming interface (API), entry point, method, function, subroutine, remote procedure call, and component object model (COM) interface, are encompassed within the definition of programming interface.","Aspects of such a programming interface may include the method whereby the first code segment transmits information (where \u201cinformation\u201d is used in its broadest sense and includes data, commands, requests, etc.) to the second code segment; the method whereby the second code segment receives the information; and the structure, sequence, syntax, organization, schema, timing and content of the information. In this regard, the underlying transport medium itself may be unimportant to the operation of the interface, whether the medium be wired or wireless, or a combination of both, as long as the information is transported in the manner defined by the interface. In certain situations, information may not be passed in one or both directions in the conventional sense, as the information transfer may be either via another mechanism (e.g. information placed in a buffer, file, etc. separate from information flow between the code segments) or non-existent, as when one code segment simply accesses functionality performed by a second code segment. Any or all of these aspects may be important in a given situation, e.g., depending on whether the code segments are part of a system in a loosely coupled or tightly coupled configuration, and so this list should be considered illustrative and non-limiting.","This notion of a programming interface is known to those skilled in the all and is clear from the foregoing detailed description of the invention. There are, however, other ways to implement a programming interface, and, unless expressly excluded, these too are intended to be encompassed by the claims set forth at the end of this specification. Such other ways may appear to be more sophisticated or complex than the simplistic view of , but they nonetheless perform a similar function to accomplish the same overall result. We will now briefly describe some illustrative alternative implementations of a programming interface.","A. Factoring","A communication from one code segment to another may be accomplished indirectly by breaking the communication into multiple discrete communications. This is depicted schematically in . As shown, some interfaces can be described in terms of divisible sets of functionality. Thus, the interface functionality of  may be factored to achieve the same result, just as one may mathematically provide 24, or 2 times 2 times 3 times 2. Accordingly, as illustrated in , the function provided by interface Interface  may be subdivided to convert the communications of the interface into multiple interfaces Interface A, Interface B, Interface C, etc. while achieving the same result. As illustrated in , the function provided by interface I may be subdivided into multiple interfaces I, I, I, etc. while achieving the same result. Similarly, interface I of the second code segment which receives information from the first code segment may be factored into multiple interfaces I, I, I, etc. When factoring, the number of interfaces included with the 1st code segment need not match the number of interfaces included with the 2nd code segment. In either of the cases of , the functional spirit of interfaces Interface  and I remain the same as with , respectively. The factoring of interfaces may also follow associative, commutative, and other mathematical properties such that the factoring may be difficult to recognize. For instance, ordering of operations may be unimportant, and consequently, a function carried out by an interface may be carried out well in advance of reaching the interface, by another piece of code or interface, or performed by a separate component of the system. Moreover, one of ordinary skill in the programming arts can appreciate that there are a variety of ways of making different function calls that achieve the same result.","B. Redefinition","In some cases, it may be possible to ignore, add or redefine certain aspects (e.g., parameters) of a programming interface while still accomplishing the intended result. This is illustrated in . For example, assume interface Interface  of  includes a function call Square (input, precision, output), a call that includes three parameters, input, precision and output, and which is issued from the 1st Code Segment to the 2nd Code Segment. If the middle parameter precision is of no concern in a given scenario, as shown in , it could just as well be ignored or even replaced with a meaningless (in this situation) parameter. One may also add an additional parameter of no concern. In either event, the functionality of square can be achieved, so long as output is returned after input is squared by the second code segment. Precision may very well be a meaningful parameter to some downstream or other portion of the computing system; however, once it is recognized that precision is not necessary for the narrow purpose of calculating the square, it may be replaced or ignored. For example, instead of passing a valid precision value, a meaningless value such as a birth date could be passed without adversely affecting the result. Similarly, as shown in , interface I is replaced by interface I\u2032, redefined to ignore or add parameters to the interface. Interface I may similarly be redefined as interface I\u2032, redefined to ignore unnecessary parameters, or parameters that may be processed elsewhere. The point here is that in some cases a programming interface may include aspects, such as parameters, which are not needed for some purpose, and so they may be ignored or redefined, or processed elsewhere for other purposes.","C. Inline Coding","It may also be feasible to merge some or all of the functionality of two separate code modules such that the \u201cinterface\u201d between them changes form. For example, the functionality of  may be converted to the functionality of , respectively. In , the previous 1st and 2nd Code Segments of  are merged into a module containing both of them. In this case, the code segments may still be communicating with each other but the interface may be adapted to a form which is more suitable to the single module. Thus, for example, formal Call and Return statements may no longer be necessary, but similar processing or response(s) pursuant to interface Interface  may still be in effect. Similarly, shown in , part (or all) of interface I from  may be written inline into interface I to form interface I\u2033. As illustrated, interface I is divided into Iand I, and interface portion Ihas been coded in-line with interface I to form interface I\u2033. For a concrete example, consider that the interface I from  performs a function call square (input, output), which is received by interface I, which after processing the value passed with input (to square it) by the second code segment, passes back the squared result with output. In such a case, the processing performed by the second code segment (squaring input) can be performed by the first code segment without a call to the interface.","D. Divorce","A communication from one code segment to another may be accomplished indirectly by breaking the communication into multiple discrete communications. This is depicted schematically in . As shown in , one or more piece(s) of middleware (Divorce Interface(s), since they divorce functionality and\/or interface functions from the original interface) are provided to convert the communications on the first interface, Interface , to conform them to a different interface, in this case interfaces InterfaceA, InterfaceB and InterfaceC. This might be done, e.g., where there is an installed base of applications designed to communicate with, say, an operating system in accordance with an Interface  protocol, but then the operating system is changed to use a different interface, in this case interfaces InterfaceA, InterfaceB and InterfaceC. The point is that the original interface used by the 2nd Code Segment is changed such that it is no longer compatible with the interface used by the 1st Code Segment, and so an intermediary is used to make the old and new interfaces compatible. Similarly, as shown in , a third code segment can be introduced with divorce interface DI to receive the communications from interface I and with divorce interface DI to transmit the interface functionality to, for example, interfaces I and I, redesigned to work with DI, but to provide the same functional result. Similarly, DI and DI may work together to translate the functionality of interfaces I and I of  to a new operating system, while providing the same or similar functional result.","E. Rewriting","Yet another possible variant is to dynamically rewrite the code to replace the interface functionality with something else but which achieves the same overall result. For example, there may be a system in which a code segment presented in an intermediate language (e.g. Microsoft IL, Java ByteCode, etc.) is provided to a Just-in-Time (JIT) compiler or interpreter in an execution environment (such as that provided by the .Net framework, the Java runtime environment, or other similar runtime type environments). The JIT compiler may be written so as to dynamically convert the communications from the 1st Code Segment to the 2nd Code Segment, i.e., to conform them to a different interface as may be required by the 2nd Code Segment (either the original or a different 2nd Code Segment). This is depicted in . As can be seen in , this approach is similar to the Divorce scenario described above. It might be done, e.g., where an installed base of applications are designed to communicate with an operating system in accordance with an Interface  protocol, but then the operating system is changed to use a different interface. The JIT Compiler could be used to conform the communications on the fly from the installed-base applications to the new interface of the operating system. As depicted in , this approach of dynamically rewriting the interface(s) may be applied to dynamically factor, or otherwise alter the interface(s) as well.","It is also noted that the above-described scenarios for achieving the same or similar result as an interface via alternative embodiments may also be combined in various ways, serially and\/or in parallel, or with other intervening code. Thus, the alternative embodiments presented above are not mutually exclusive and may be mixed, matched and combined to produce the same or equivalent scenarios to the generic scenarios presented in . It is also noted that, as with most programming constructs, there are other similar ways of achieving the same or similar functionality of an interface which may not be described herein, but nonetheless are represented by the spirit and scope of the invention, i.e., it is noted that it is at least partly the functionality represented by, and the advantageous results enabled by, an interface that underlie the value of an interface.",{"@attributes":{"id":"p-0062","num":"0068"},"figref":["FIG. 2","FIG. 1","FIG. 2"],"b":["201","201","202","203","204","202","202","201","204"]},"The stylus  may be equipped with one or more buttons or other features to augment its selection capabilities. In one embodiment, the stylus  could be implemented as a \u201cpencil\u201d or \u201cpen\u201d, in which one end constitutes a writing portion and the other end constitutes an \u201ceraser\u201d end, and which, when moved across the display, indicates portions of the display are to be erased. Other types of input devices, such as a mouse, trackball, or the like could be used. Additionally, a user's own finger could be the stylus  and used for selecting or indicating portions of the displayed image on a touch-sensitive or proximity-sensitive display. Consequently, the term \u201cuser input device\u201d, as used herein, is intended to have a broad definition and encompasses many variations on well-known input devices such as stylus . Region  shows a feedback region or contact region permitting the user to determine where the stylus  as contacted the display surface .","In various embodiments, the system provides an ink platform as a set of COM (component object model) services that an application can use to capture, manipulate, and store ink. One service enables an application to read and write ink using the disclosed representations of ink. The ink platform may also include a markup language including a language like the extensible markup language (XML). Further, the system may use DCOM as another implementation. Yet further implementations may be used including the Win32 programming model and the .Net programming model from Microsoft Corporation.","Ordering of Objects",{"@attributes":{"id":"p-0065","num":"0071"},"figref":["FIGS. 3A and 3B","FIG. 3A","FIG. 3B","FIG. 3B"],"b":["301","302","303","302","303","304","305","306","304","307"]},{"@attributes":{"id":"p-0066","num":"0072"},"figref":"FIG. 4","b":["401","402","403","404","405","402","404","406","407","404","406","404","404","406","404","406"]},"In an alternative approach, the ink may lie underneath other elements. For instance, ink may be rendered and then elements rendered on top. The rendering of ink may be intermixed with the rendering of the elements.","Constructors, Properties, Methods, and Events of Objects","To control the layering order of content, an object may be used to handle this task. For simplicity, this disclosure refers to an object that may handle this task related to ink as an \u201cink canvas\u201d object (in that it is functionally similar to how a painter applies paint in layers to a physical canvas). In one example, the ink canvas may be an element. In another example, the ink canvas may be an object (where all elements are objects, but not all objects are elements). For simplicity, the ink canvas is referred to herein as an object. The ink canvas object is shown in  with various constructors, properties, methods and events. It is appreciated that the various constructors, properties, methods and events are shown for illustrative purposes only. Some, all, or additional ones may be present in various forms in other examples of an ink canvas object without departing from this invention. The ink canvas object may host zero or more elements or objects. The ink canvas object may render ink for hosted elements or objects or those elements or objects may render ink for themselves.","The following Figures and description thereof illustrate various examples of methods, properties, events and constructors. It is appreciated that, in some instances, various items may be hidden from outside access, yet accessible by a different mechanism. For instance, a method may be used to return an ink object, selected ink strokes, an ink stream, or an array of bytes. This method may be used in place of accessing a property that may contain this information. Methods may be used to access or set properties, respond to or throw events, and the like. Properties may describe the states of methods and\/or events. Events may indicate when properties are set or when methods have been executed. Other examples follow from these but are not listed here.","Various aspects may or may not be present in an ink canvas object. First, an ink canvas object may host elements and\/or objects. The elements and objects may be rendered by the ink canvas object or may render themselves. The ink canvas object may be hosted in a tree-based organizational structure. The ink canvas object may be created in a markup language (for instance, HTML, XML, and\/or XAML, and the like). The ink canvas object may include recognition functionality (including handwriting recognition, shape recognition, drawing recognition, annotation recognition and the like). The ink canvas object may include extensible editing functionality. Finally, the ink canvas object may include a variety of application programming interfaces that permit a developer to write applications that interact with the ink canvas object. One or more of these aspects may be present in an ink canvas object.",{"@attributes":{"id":"p-0071","num":"0077"},"figref":"FIG. 5","b":["501","502","503","502","503","501"]},{"@attributes":{"id":"p-0072","num":"0078"},"figref":"FIG. 5","b":["504","518"],"ul":{"@attributes":{"id":"ul0005","list-style":"none"},"li":{"@attributes":{"id":"ul0005-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0006","list-style":"none"},"li":["Custom Edit Behavior property  allows one to set a custom edit behavior.","Default Drawing Attributes property  defines drawing attributes for newly collected strokes.","Editing Mode property  sets the current editing mode.","Eraser Size properly  sets the size of the eraser when an erasing mode has been enabled.","Erase Shape property  sets the shape (round, oval, square, rectangular, and the like) of the eraser when an erasing mode has been enabled.","The Ink property SOS allows access to the ink contained in the ink canvas object.","Clip Ink property  determines when ink will be clipped to the size of the ink canvas displayed region.","Editing Mode Inverted property  indicates which editing mode (or other language or state) will be active when a user's pen is inverted. It is noted that additional pens may be used. Accordingly, additional properties  may be used to define other modes to be associated with other pen tips.","Stylus Inverted property  indicates whether the stylus is currently inverted.","Move Enabled property  enables and disables an ability to move created ink.","Resize Enabled property  enables and disables an ability to resize created ink.","Rotate Enabled property  enables and disables an ability to rotate created ink.","Access Selected Elements property  enables access to currently selected elements that are children of a current ink canvas .","Access Selected Strokes property  enables access to currently selected strokes that are associated with the current ink canvas .","Use Custom Cursor property  indicates that a developer is using a custom mouse cursor and that the current cursor is to be maintained.","User Is Editing property  indicates that the ink canvas  is currently collecting ink.","Selection Groups property  indicates which strokes or ink objects are grouped together for group or parser-aware selections and operations."]}}}},"In addition to the above properties, the ink canvas object  may or may not further include one or more ink recognition properties.\n\n","It is appreciated that the above properties are listed for illustrative purposes only. Other properties may be used in addition to or in place of the above properties with the ink canvas object.",{"@attributes":{"id":"p-0075","num":"0106"},"figref":"FIG. 6","b":"601","ul":{"@attributes":{"id":"ul0009","list-style":"none"},"li":{"@attributes":{"id":"ul0009-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0010","list-style":"none"},"li":["Get Default Drawing Attributes Override method  gets the default override settings for a specific stylus. For instance, a user may have one stylus for editing and one for erasing. This method allows one to control the default behavior for a specific stylus.","On Editing Mode, Inverted Change method  throws an event that the inverted mode has changed.","On Editing Mode, Inverted Changing method  throws an event that the inverted mode is changing.","On Stylus Is Inverted Change method  throws an event when a stylus is used to change the inverted editing mode.","On Custom Edit Behavior Changed method  throws an event indicating that a custom edit behavior has changed.","On Custom Edit Behavior Changing method  throws an event indicating that a custom edit behavior is changing.","On Editing Mode Changed method  throws an event indicating that the editing mode has changed.","On Editing Mode Changing method  throws an event indicating that the editing mode is changing.","On Ink Canvas Adorner Entered method  throws an event when a graphic adorner (a graphical placeholder that may or may not be shown when a user selects ink) for ink is entered.","On Ink Canvas Adorner Exited method  throws an event when a graphic adorner for ink is exited.","On Ink Erased method  throws an event when ink is erased.","On Ink Erasing method  throws an event when ink is in the process of being erased.","On Stroke Collected method  throws an event when strokes are collected.","On Selection Rotating method  throws an event when a selection is in the process of being rotated.","On Selection Rotated method  throws an event when a selection has been rotated.","On Selection Resizing method  throws an event when a selection is in the process of being resized.","On Selection Resized method  throws an event when a selection has been resized.","On Selection Moving method  throws an event when a selection is in the process of being moved.","On Selection Moved method  throws an event when a selection has been moved.","On Selection Changing method  throws an event when a selection is in the process of being changed.","On Selection Changed method  throws an event when a selection has been changed.","Set Default Drawing Attributes Override method  overrides the default drawing attributes associated with captured strokes."]}}}},"In addition to the above methods, the ink canvas object  may or may not further include one or more ink recognition methods.\n\n","It is appreciated that the above methods are listed for illustrative purposes only. Other methods may be used in addition to or in place of the above methods with the ink canvas object.",{"@attributes":{"id":"p-0078","num":"0132"},"figref":"FIG. 7","b":"701","ul":{"@attributes":{"id":"ul0013","list-style":"none"},"li":{"@attributes":{"id":"ul0013-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0014","list-style":"none"},"li":["Custom Edit Behavior Changed event  occurs when the custom edit behavior has changed.","Custom Edit Behavior Changing event  occurs when the custom edit behavior is about to change.","Editing Mode Changed event  occurs when the editing mode has changed.","Editing Mode Changing event  occurs when the editing mode is about to change.","Ink Canvas Adorner Entered event  occurs when an ink adorner has been entered.","Ink Canvas Adorner Exited event  occurs when an ink adorner has been exited.","Ink Erased event  occurs when ink has been erased.","Ink Erasing event  occurs when ink is about to be erased.","Editing Mode Inverted Changed event  occurs when an editing mode related to an inverted pen has changed.","Editing Mode Inverted Changing event  occurs when an editing mode relating to an inverted pen is about to change.","Stylus Is Inverted, Changing event  occurs when a user is inverting a stylus.","Stylus Is Inverted, Changed event  occurs when a user has inverted a stylus.","Selection Changed event  occurs when a selection has changed.","Selection Changing event  occurs when a selection is about to change.","Selection Moved event  occurs when a selection has moved.","Selection Moving event  occurs when a selection is about to be moved.","Selection Resized event  occurs when a selection has resized.","Selection Resizing event  occurs when a selection is about to be resized.","Selection Rotated event  occurs when a selection has rotated.","Selection Rotating event  occurs when a selection is about to be rotated.","Stroke Collected event  occurs when a stroke has been collected."]}}}},"In addition to the above events, the ink canvas object  may or may not further include ink recognition events.\n\n","It is appreciated that the above events are listed for illustrative purposes only. Other events may be used in addition to or in place of the above events with the ink canvas object.","Relationships",{"@attributes":{"id":"p-0081","num":"0164"},"figref":"FIG. 8","b":["801","803","801","802","802","804","805","805","805","806","807","808","809","810","811","812"]},"The ink editor  manages the various behaviors - as shown by the arrows from the ink editor  to each of the behaviors -. The various behaviors - may be grouped according to relative function. For instance, the creation or selection of a subset of content in sub element  may be performed by various selection behaviors including, but not limited to, the lasso selection behavior  and the rubberband selection behavior . The selected content in sub element  may be modified and\/or manipulated by various behaviors as well by, for example, the move behavior  and resize behavior  (among others).","Referring back to the ink canvas object , it may be used with no children to have a region where the user can draw. Also, the ink canvas object  may be used on top of any other element or object or control, since the ink canvas object  may host any other type of element. This allows the developer to easily make anything annotatable or have any background for inking. It is appreciated that ink may be rendered at various levels (intermixed with elements, above, or below elements) in accordance with aspects of the invention.","An example of a code for accessing the ink canvas object may be as follows:",{"@attributes":{"id":"p-0085","num":"0168"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<InkCanvas>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<TextPanel FontSize=\u201c12\u201d FontFamily=\u201cArial\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Ink in XAML will be"]},{"entry":[{},"<TextPanel FontWeight=\u201cBold\u201d>really<\/TextPanel>"]},{"entry":[{},"cool!"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/TextPanel>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/InkCanvas>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Since the InkCanvas can host any other type of element, the ability to ink does not need to be enabled for all other types of panels. The following is another example of a code snippet that allows association between the ink canvas and a flow panel (where the ink will be displayed):",{"@attributes":{"id":"p-0087","num":"0170"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<InkCanvas>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<DockPanel Background=\u201cwhite\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<FlowPanel Background=\u201c#669999\u201d Width=\u201c100\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Height=\u201c75\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Dock=\u201cRight\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<Text>Right<\/Text>"]},{"entry":[{},"<\/FlowPanel>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<FlowPanel Background=\u201c#669966\u201d Width=\u201c100\u201d"]},{"entry":[{},"Height=\u201c75\u201d Dock=\u201cLeft\u201d>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<Text>Left<\/Text>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/FlowPanel>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/DockPanel>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/InkCanvas>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"The following shows the ink object being associated with the element itself it is available as a dynamic property or as a .NET property for convenience:\n\n","The following is an example of XAML containing ink using the ink canvas object:",{"@attributes":{"id":"p-0090","num":"0175"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<InkCanvas"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Ink=\u201cbase64:sdfsdfdsf...\u201d"]},{"entry":[{},"Factoid=\u201cDefault\u201d"]},{"entry":[{},"TopRecognitionResult=\u201cTo get her\u201d"]},{"entry":[{},"<!-- hook up a gesture event handler -->"]},{"entry":[{},"Gesture=\u201cHandleGesture\u201d"]},{"entry":[{},"Stroke=\u201cHandleStroke\u201d"]},{"entry":[{},"<!-- set the default ink properties on the collection"]},{"entry":[{},"behavior"]},{"entry":[{},"-->"]},{"entry":[{},"DefaultDrawingAttributes.FitToCurve=true>"]},{"entry":[{},"<Image Left=\u201c200\u201d Top=\u201c75\u201d Source=\u201cimage.png\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Alt=\u201calternate text\u201d\/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<def:Code>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<![CDATA["]},{"entry":[{},"void OnStroke(Element sender, ClickEventArgs e)"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/\/ Some Code"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},"void OnGesture(Element sender, ClickEventArgs e)"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/\/ Some Code"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"]]>"]},{"entry":[{},"<\/def:Code>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u201cTo get her\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/InkCanvas>"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Various points of the ink canvas object may include one or more of the following:\n\n",{"@attributes":{"id":"p-0092","num":"0182"},"figref":["FIGS. 9A","FIG. 9A","FIG. 9B","FIG. 9C"],"b":["9","9","901","902","903","904","905","904","906","907"]},"Ink Editor and Ink Editor Behaviors","The editor may use heuristics to determine which edit behavior to activate in response to input events from the computer system. In a number of scenarios, the ink editor does not have heuristics to guide this decision, so it may rely on an attached property (for instance one that specifies the ink editing mode editing mode, which may be a property specified as \u201cInkEditingBehavior.EditingMode\u201d to help disambiguate the user's intentions).","In some cases, such as when the ink editor is in a selection mode (for instance a property as follows: InkEditingBehavior.EditingMode=Select), heuristics may exist. They may be the same as other editors","The edit behaviors that ink editor uses may be generic or may have some aspects that are different from other editor functions. First, the ink editor may or may not detach and revert to another mode on a stylus up or mouse up events. Alternatively, they may remain attached (and functioning) after these events. Remaining attached permits the mode to maintain its cursor and listen for ink gestures (predefined ink movements that are not to be interpreted as ink). Second, they may remove themselves when the editing mode specified changes to a mode they do not support. This detaching may be delayed when engaged in an action associated with a mode (for instance collecting a stroke) until the end of the action (for instance, a stylus or pen up event).","This behavioral contract may be specified by the following abstract base class:","public abstract class InkEditingBehavior: EditBehavior","The following description and drawings describe various elements, objects, and interactions between them. As an illustration of the general references in the description, the Figures may include references to illustrative examples of how one may name objects and related methods and properties. For instance, a method that acts on a selected ink element when a selection changes may be named \u201cSelectedInkElement.OnSelectionChanged\u201d.",{"@attributes":{"id":"p-0098","num":"0188"},"figref":"FIG. 10","b":["1001","1002","1003","1004","1005","1006"]},{"@attributes":{"id":"p-0099","num":"0189"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"if(some condition)"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},"\/\/else do some work"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Alternatively, in step , the system determines whether the derived class is between a pen down and pen up event (the user is still writing). This may be represented by stylusdown and stylusup events. If no, then in step , the property change handler is removed and the system deactivates the current ink editing behavior so it will no longer receive input events. If yes, then in step , the system waits for a stylus up notification. In step , the stylus up notification is received and the system steps back to step .","The InkEditingBehavior.EditingMode property has at least four possible values and at least four corresponding EditBehaviors that are activated. The EditBehavior that is activated for each EditingMode value is customizable by setting the corresponding AttachedProperty:",{"@attributes":{"id":"p-0102","num":"0192"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["InkEditingBehavior.EditingMode","Default EditBehavior activated","AttachedProperty override"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["EditingMode.Ink","InkCollectionBehavior","InkCollectionBehavior.Service"]},{"entry":["EditingMode.Select","LassoSelectionBehavior","LassoSelectionBehavior.Service"]},{"entry":["EditingMode.Erase","EraserBehavior","EraserBehavior.Service"]},{"entry":["EditingMode.Custom","None","InkEditor.CustomBehavior"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},"Three examples are provided where various behaviors may or may not be used. First, if one sets the erasing mode to \u201cerase\u201d, then the call may appear as follows:","<InkCanvas EditingMode=\u201cErase\u201d\/>","Second, a one may set a custom behavior for the same erase. Here, a third party may have written a behavior entitled \u2018MyEraserBehavior\u2019 that inherits from InkEditingBehavior. This call may be expressed as follows:","<InkCanvas EditingMode=\u201cErase\u201d EraserBehavior.Service=\u201cMyEraserBehavior\u201d\/>","Third, one may set a custom behavior that does not inherit from the existing modes (erase, for example). Here, a third party may have written InsertSpaceBehavior:","<InkCanvas EditingMode=\u201cCustom\u201d","InkEditor.CustomBehavior=\u201cInsertSpaceBehavior\u201d\/>","The ink editor may be attached by a selection router during a change in focus event (or on focus event).  show this process in greater detail.","In step , the ink editor is attached and an on-attach handler called (OnAttach may be an event that reflects when the ink editor is attached). In step , the system determines if the editing mode is ink. If yes, then the system determines whether an ink collection behavior is enabled in step . If no, then the system performs no operation and no changes are made in step . If yes, then the ink collection behavior is activated in step . Next, an edit mode change notification is provided to a user (through a user interface, for example) in step . In step , the system determines whether the new editing mode is supported. If not, the system waits for a stylus tip event. In step , the stylus up (or mouse up) event notification is received and the process returns to step  (with control returned to the ink editor).","If the editing mode from step  was not ink, then the system determines in step  whether the editing mode is an erase mode. If yes, then the system determines whether an erase behavior is enabled in step . If no, then the system performs no operation in step . If yes, then the erasing behavior is activated in step  (control may be transferred as well to the erasing behavior). Next, the system moves to step  as described above.","If no from step , the system determines if the editing mode is a custom editing mode in step . If yes, then the system determines whether the custom editing mode is enabled in step . If no, then the system performs no operation in step . If yes, the custom behavior is activated for the ink editor in step  (control may be transferred to the custom behavior as well). Next, the system sends the editing mode change notification in step .","If no from step , the editing mode is set to a selection mode in step  (in ). Here, the system may monitor for a stylus down\/mouse down or stylus move\/mouse move event. If the user performs a mouse down\/stylus move event in step , then the system determines whether a cursor is located over an adorner in step . If yes, then the cursor is changed to an edit behavior's cursor in step . If no from step , then the system determines in step  whether the cursor is over a child element or a selected ink element. If yes, then the cursor is changed to a default cursor in step . If no from step , then the cursor is changed to a cursor associated with the ink editor's selection behavior cursor.","From step , if a mouse down\/stylus down event was received in step , then the system determines whether the cursor is over an adorner in step . If yes, an edit behavior associated with the adorner is activated. Control may also be transferred to this edit behavior. The system then performs based on the adorner edit behavior until a stylus up\/mouse up event is received in step .","If no from step , then the system determines (in step ) whether the cursor is over a child element or over a selected ink element. If yes, then, if a move behavior is enabled (step ) then a move behavior is activated (and control may be passed to it) in step . The move behavior continues until a mouse or stylus up event is received in step .","If a move behavior is not enabled as determined by step , the system performs no operation as shown in step .","If no from step , then the system determines whether an ink editor selection behavior is enabled in step . If no, then the system performs no operation state in step . If yes from step , then the current selection in the attached element is cleared and the ink editor selection behavior is activated in step . Control may also be passed to the ink edit selection behavior of step . The selection behavior continues until a mouse or stylus up event is received in step .","Using the process of , one may change various editing modes, for instance. If there is an active edit behavior (active between the stylus down event, stylus move, and stylus up sequence of events), the system may deactivate it until the stylus up event. In this regards, a current edit behavior may continue functioning until removed by a complete sequence of events.","The edit behaviors described above for ink, erase, and custom may or may not inherit their characteristics from the ink edit behavior control.","Erasing Ink","The EraserBehavior may listen to the pointer or stylus events. If listening to just the pointer events, it will receive the pointer's current location. If listening to the pen events, it may also receive the penis angle, pressure, and other information. As erasing may be pressure and angle insensitive, listening to the pen events may be excessive. Accordingly, in one aspect, one may limit listening to only pointer information.","Some aspects of the invention relate to point erasing. Point erasing is a dynamic real-time ink editing process that involves building the contour of a moving erasing shape (eraser), hit-testing that contour against specified ink strokes, and splitting or clipping the hit strokes at the areas crossed by the eraser.","In one aspect of point erasing is a hit-testing approach that that finds the areas on an ink stroke contour hit by the eraser and determines the points where the stroke should be split or clipped for dynamic feedback. The points of splitting\/clipping are found such that there's no or minimal space between the erasing contour and the resulting ink, that gives the user an experience of smooth and precise point erasing.","Point erasing supports erasing of ink strokes rendered with round and rectangular stylus shapes, with variable as well as constant pressure. It provides a significant WYSIWYG experience by taking into account ink rendering transformations.","The eraser is pressure-insensitive and can have either round or rectangular shape.","Selection Modes","Various selection modes are possible including a lasso selection (in which the path of a pen determines which elements are encompassed in the selection. Here, the selection modes may listen to the pointer or stylus events. If listening to just the pointer events, it will receive the pointer's current location. If listening to the pen events, it may also receive the pen's angle, pressure, and other information. As selection modes may be pressure and angle insensitive, listening to the pen events may be excessive. Accordingly, in one aspect, one may limit listening to only pointer information.","Sub-Element Editing","Ink strokes may be grouped into ink objects. Strokes may be stored in a variety of formats. If one needed to move, delete, or resize an ink object, these operations may be limited by the characteristics of the actual combinations of strokes in the ink object, making predictability of what will happen based on these operations impossible.","Accordingly, in some aspects of the invention, one may be able to manipulate smaller parts of the ink strokes then an entire ink stroke. In some aspects, one may relate a sub-element to a designer. The designer may be used to make changes in the element's content. The sub-element designer translates instructions from the system into changes in the element's content. For example, move instructions may tell the sub-element's associated designer to perform a move operation. The sub-element's designer translates those instructions into changes to the content (in this case, moving the selected ink strokes or portions of ink strokes).","An example of how one may perform sub-element editing is described below and with reference to . Prior to the process of , one deposits ink. For example, one may have a form with an ink canvas on it. The editing mode was ink and the ink collection behavior was used to draw ink. Next, the ink editing behavior's editing mode may be switched to a selection mode. When the pen goes down and drags across the screen, a rubber band behavior is pushed on the edit router by the ink editor and assumes control as shown in step . The rubber band behavior responds to pointer move (or pen move) messages from the edit router by drawing feedback for the user (for instance, a rubber band around the ink).","Next, a pointer up or pen up event occurs. The area that is highlighted is inspected by the rubber band behavior in step . It may perform a hit-test operation (to see what elements or objects are encountered or at least partially encompassed by the rubber band. It hit-tests using the designer of the element for which it is enabled. The hit-test may be a method associated with the designer. In this case, the designer for the ink canvas then inspects the ink canvas for any ink strokes in the hit-test region. If one or more exists, the designer creates a selected ink element and returns it to the rubber band behavior, which in turn inserts it into the service handling selection in step .","Next, when the selected ink is constructed, it is passed the collection of strokes in the collection of ink (that which the selection was performed on). The ink canvas presenter or renderer is informed to listen to the selection service's selection changed event in step  so that the ink canvas presenter knows which strokes not to render.","Now, the rubber band behavior references a single selected ink group, returned from a hit test method from the ink canvas' designer. The rubber band behavior informs the selection service about the ink and deactivates itself in step . Control may be returned to the ink editor.","Other services may also be notified of the change. Here, a selection adorner service may have received a notification from the selection service that the global selection has changed. In response, the selection adorner service may inspect the collection of elements in the selection service and find the single selected ink in the selection. Next, the selection adorner service determines for each element in the selection service in step  which edit behavior are enabled on the selected ink (for instance, move, resize, rotates and the like) in step . It may then ask each of the enabled edit behaviors in step  what their adorners are and create a set of the adorners in step . The set of adorners may then be rendered on the element in step . It may also get a list in step  of the adorners enabled on each element in the edit behavior list of step .","The ink editor may still be in control. It may listen to pointer move and pointer down events. When a pointer move event occurs, it determines if the pointer is over an adorner. If it is, it asks the adorner for its cursor and changes the cursor to it.","If the pointer down event happens on one of these adorners, the corresponding edit behavior is activated. In this case, the resize behavior becomes active. It responds to that activation by determining the designer of the element it is attached to.","In pointer move events, the resize behavior responds by calling methods on the designer of the element (methods like extend right and extend bottom).","The selected ink's designer may override these virtual extend XXX methods to track the actions being taken. It may respond by scaling the ink to the new area. The selected ink's designer may be aware of various instructions including resizing. Move and rotate instructions may simply be acted on the ink.","The selected ink has been manipulated and has now been de-selected. When the selected ink was constructed, one of the things it did was to ask the selection service to notify it when the selection has changed. The selected ink responds to this notification by fixing up the strokes with the change that has occurred during editing (scaling, rotation, resize).","To determine whether an object is included within a selection region (determined by rubberbanding or by a lasso selection), one may provide a volume threshold of an object that is to be within a selection region for the object to be selected. Ink and other objects may have the same threshold. Alternatively, ink and other objects may have different thresholds. For instance, for arbitrary objects one may set the threshold between 50% and 70% and for ink one may set the threshold between 70% and 90%. Of course, these ranges are for illustrative purposes only. They may differ based on user\/developer experiences or desires.","To determine the volume of an object enclosed by a selection, the object may be filled with ordered points or random points. The ratio between those points contained within the selection region may be compared with the total number of points, yielding a percentage of inclusion. If the percentage of inclusion falls within the ranges set forth above (or as modified), the object or ink may be the to fall within the selection region. Optionally, to minimize the delay for large objects and increase the accuracy for small objects, the number of points placed inside the objects may vary based on size. For instance, for small objects, the density of points may be high. For large objects the density of points may be low. Or, alternatively, the densities may be the same for all objects.","The following lists process steps that may be used to determine whether a region is included. Referring to , in step , the coordinates of the ink or object is converted to ink canvas coordinates. In step , points are found and placed on a line within or bounding the object (for instance, a bounding box of the object may be used or the contour of the object used). In step , points may be connected to form additional lines. In step , additional points may be placed on the lines until a desired density is reached. In step , the set of points is hit tested against a selection region to determine which ink or objects fall within the selection region or meet the threshold levels previously set.",{"@attributes":{"id":"p-0138","num":"0228"},"figref":["FIG. 16","FIG. 16","FIG. 16"],"b":["1601","20","1602","1603","1604","1603","20","20"]},"Sub-element editing as applied to ink starts by determining the bounding box for the selected ink strokes. Another ink canvas  is created. Here, it may be created in the size of the bounding box surrounding ink . The selected ink strokes \u201c\u201d  are copied (or moved) into the new ink canvas , the location of ink  is determined by a coordinate system of the ink canvas . With the new ink canvas , the identifying information of ink \u201c\u201d  is the same, it's relation in the new ink canvas  is that same as that in ink canvas . In other words, ink \u201c\u201d  is offset from the origin of the ink canvas coordinate system by vector . Here, ink canvas  may be repositioned and ink  be moved as well (as it resides now in ink canvas ). However, the location of the canvas  and ink  are separated from each other, thereby leading to possible confusion in trying to manipulate or select ink .","To address this potential for confusion, vector  is then applied as an offset  to the ink canvas  so that it shows ink  within its borders .","Renderer Integration","The following describes how the selected ink control knows which strokes to render. The selected ink is passed a strokes collection when instantiated. A presenter associated with the selected ink control knows how to render the strokes. The issue is determining which strokes not to render. The presenter associated with the ink canvas checks the selection service to determine if selected ink associated with the ink canvas is in the current selection. If it is, the presenter accesses the selected ink's strokes property to determine the strokes not to render. Optionally, the presenter may only listen to the selection service when selected ink is about to be inserted. This may occur based on method that instructs the presenter to limit to what it listens. For instance, one may use a method similar to InkCanvasPresenter.WatchSelection.","To demonstrate this, consider the fact that there are two ways to cause ink to be selected. First, a user may manually select strokes using a lasso selection behavior or a rubberband behavior. Second, a developer may programmatically set the selection in the ink canvas. The selection may be set as a property in the ink canvas.","The net effect is the same: selected ink is created and inserted into the selection service. Before insertion, one may optionally tell the ink canvas presenter to listen for a change event (for instance, the selection service having been changed using a watch selection method). If, however, when the ink canvas presenter receives the selection changed event and no selected ink is present in the selection, it may deactivate itself from the selection changed event.",{"@attributes":{"id":"p-0144","num":"0234"},"figref":"FIGS. 13A and 13B","b":["1301","1302","1302","1303","1304","1309","1305","1306","1307","1308"]},"From step , the selected ink element  is instantiated. It includes a constructor (laving strokes) and a method  that operates when the selection is changed for ink. Its name may be selectedinkelement.onselectionchanged.","Constructor  performs the following: it stores a stroke collection  and registers for the selection service, selection change event  in step .","When the selection has been changed, the system determines whether the selected ink element is in the selection service in step . If yes, the system performs no operation in step . If not, then the system applies changes to the strokes in step . In step , the selected ink element unregisters from listening to the selection change event .","Referring to , ink canvas presenter  contains a method ink canvas presenter watch selection . The method  may be registered  for a selection service, selection changed event . The ink canvas presenter  may also contain a method ink canvas presenter on-selected changed event  that operates in response to the selection service changed event . In step , the system determines whether there is a selected ink element in the selection service. If yes, then the system gets the stroke collection in step . In step , the system invalidates ink canvas and does not render the selected strokes. If no, from step , then the system unregisters from the selection service, selection changed event in step . Next, in step , the system invalidates the ink canvas and renders all strokes.",{"@attributes":{"id":"p-0149","num":"0239"},"figref":"FIGS. 14A and 14B","b":["1401","1402","1403","1404","1405","1406","1407","1408"]},"Selected ink element  is instantiated containing a constructor (relating to strokes) . The constructor stores a stroke collection  and registers for a selection service selection change event .","The selected ink element also contains method (selected ink, on selection changed) . In step , the system determines if the selected ink element is in the selection service? If yes, then the system performs no operation in step . If no from step , the system applies changes to the strokes in step  and unregisters from selection changed notifications  in step .","In step , the system calls the ink canvas presenter  watch selection method . The watch selection method  registers () one for the selection service, selection changed event . When the selection is changed, the ink canvas presenter may execute method . In step , the system determines if there is a selected in element in the selection service. If yes, the strokes collection  is obtained. Next, the ink canvas is invalidated and no strokes are rendered in step . If no from step , the system unregisters from the selection service selection changed notification in step . Finally, the system invalidates ink canvas  and renders all strokes.","In step , the system appends the selected ink element in the selection service .","The differences between the two codepaths of  and A and B include how the selection is initiated and who inserts the selected ink into the selection service.","Interface Definitions","The following provides a list of interface definitions that may or may not be used. It is appreciated that these interfaces are show for illustrative purposes only. The interfaces may be augmented or otherwise modified including separated and still remain within the scope of the aspects of the invention.","The InkEditor inheritance chain may appear as follows:",{"@attributes":{"id":"p-0157","num":"0247"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"System.Object"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"77pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"140pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-EditBehavior : IService"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"-Editor"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"-InkEditor"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Included below are the class definitions for each of these classes.","IService",{"@attributes":{"id":"p-0159","num":"0249"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"[TypeConverter(typeof(ServiceConverter))]"]},{"entry":[{},"public interface IService"]},{"entry":[{},"{"]},{"entry":[{},"}"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},"This interface may be used to associate implementing classes with the ServiceConverter. This allows a type conversion between a string and a service (for parser support)","EditBehavior: IService",{"@attributes":{"id":"p-0161","num":"0251"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public abstract class EditBehavior : IService"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"internal void Attach(Element scope, EditRouter router)"]},{"entry":[{},"internal void Resume( )"]},{"entry":[{},"internal void Suspend( )"]},{"entry":[{},"internal void Detach( )"]},{"entry":[{},"internal void Cancel( )"]},{"entry":[{},"public static readonly DynamicEvent StartBehaviorEvent"]},{"entry":[{},"public static readonly DynamicEvent EndBehaviorEvent"]},{"entry":[{},"public virtual Type ServiceType{ get}"]},{"entry":[{},"public virtual Type AdornerSetType { get }"]},{"entry":[{},"public virtual object GetAdornerSet( )"]},{"entry":[{},"public Element BehaviorScope"]},{"entry":[{},"public bool IsSuspended { get }"]},{"entry":[{},"protected EditBehavior( ){ }"]},{"entry":[{},"protected virtual void OnAttach(Element scope,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"EditRouter router)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"protected virtual void OnResume( )"]},{"entry":[{},"protected virtual void OnSuspend( )"]},{"entry":[{},"protected virtual void OnDetach( )"]},{"entry":[{},"protected virtual void OnCancel( )"]},{"entry":[{},"protected object GetService(Type serviceType){ }"]},{"entry":[{},"protected object GetService(Type serviceType, Element"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"element)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"protected ICollection GetSelectedComponents( )"]},{"entry":[{},"protected ICollection GetFilteredSelectedComponents( )"]},{"entry":[{},"protected InputManager GetInputManager( )"]},{"entry":[{},"protected Pointer GetPointer( )"]},{"entry":[{},"protected EditRouter ContainingEditRouter { get }"]},{"entry":[{},"protected IDesignerHost DesignerHost { get }"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0162","num":"0252"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public abstract class Editor : EditBehavior"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"public static readonly AttachedProperty"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"SelectionTypeProperty"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public abstract Type SelectionType { get }"]},{"entry":[{},"public abstract ISelection Selection { get }"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0163","num":"0253"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"namespace System.Windows.Design"},{"entry":"{"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public class InkEditor : Editor"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/\/DynamicProperties"]},{"entry":[{},"public static readonly AttachedProperty ServiceProperty;"]},{"entry":[{},"public static readonly AttachedProperty IsEnabledProperty;"]},{"entry":[{},"public static readonly AttachedProperty EditingModeProperty;"]},{"entry":[{},"public Static readonly AttachedProperty"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"InkCollectionBehaviorProperty;"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public static readonly AttachedProperty EraserBehaviorProperty;"]},{"entry":[{},"public static readonly AttachedProperty"]},{"entry":[{},"SelectionBehaviorProperty;"]},{"entry":[{},"public static readonly AttachedProperty CustomBehaviorProperty;"]},{"entry":[{},"public static readonly AttachedProperty MoveBehaviorProperty;"]},{"entry":[{},"\/\/Constructor"]},{"entry":[{},"public InkEditor(Element serviceRoot);"]},{"entry":[{},"\/\/EditBehavior overrides (Editor inherits from EditBehavior)"]},{"entry":[{},"protected override void OnAttach(Element scope, EditRouter"]},{"entry":[{},"router);"]},{"entry":[{},"protected override void OnDetach( )"]},{"entry":[{},"protected override void OnResume( )"]},{"entry":[{},"\/\/Editor overrides"]},{"entry":[{},"public override Type SelectionType;"]},{"entry":[{},"public override ISelection selection;"]},{"entry":[{},"\/\/Private router event handlers"]},{"entry":[{},"private void OnPointerMove(DynamicComponent sender,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"119pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"PointerPositionEventArgs args);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"private void OnPointerButtonDown(DynamicComponent sender,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"PointerButtonEventArgs args);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"private void OnPointerButtonUp(DynamicComponent sender,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"105pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"PointerButtonEventArgs args);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0164","num":"0254"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"namespace System.Windows.Design"},{"entry":"{"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public class InkSelection : ISelection"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/\/DynamicProperties"]},{"entry":[{},"public Static readonly AttachedProperty ServiceProperty;"]},{"entry":[{},"public static readonly AttachedProperty IsEnabledProperty;"]},{"entry":[{},"\/\/Constructor"]},{"entry":[{},"public InkSelection(Element serviceRoot);"]},{"entry":[{},"public ISelectionService SelectionService {get};"]},{"entry":[{},"ISelection.ItemType {get};"]},{"entry":[{},"void ISelection.Clear( );"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0165","num":"0255"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"namespace System.Windows.Presenters"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"154pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"internal WatchSelection( )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0166","num":"0256"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"namespace System.Windows.Controls"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public class SelectedInk"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"internal SelectedInk(Element, Strokes)"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"public Strokes SelectedStrokes {get}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}},"br":{}},{"@attributes":{"id":"p-0167","num":"0257"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"namespace System.Windows.Design"},{"entry":"{"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public class SelectedInkDesigner : Designer"]},{"entry":[{},"{"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"internal SelectedInkDesigner ( )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"public override bool ExtendBottom(Element element,"]},{"entry":[{},"float extendBy)"]},{"entry":[{},"public override bool ExtendLeft(Element element,"]},{"entry":[{},"float extendBy)"]},{"entry":[{},"public override bool ExtendRight(Element element,"]},{"entry":[{},"float extendBy)"]},{"entry":[{},"public override bool ExtendTop(Element element,"]},{"entry":[{},"float extendBy)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"Aspects of the present invention have been described in terms of illustrative embodiments thereof. Numerous other embodiments, modifications and variations within the scope and spirit of the appended claims will occur to persons of ordinary skill in the art from a review of this disclosure."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention is illustrated by way of example and not limited in the accompanying figures in which like reference numerals indicate similar elements and in which:",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIGS. 3A and 3B"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIGS. 9A","b":["9","9"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 11A and 11B"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIGS. 13A and 13B"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 14A and 14B"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 16"}]},"DETDESC":[{},{}]}
