---
title: Method and system for synchronizing direct access storage volumes
abstract: A method and system for synchronizing direct access storage volumes designated as managed by storage management software with direct access storage volumes available to a computer system. An identifier of a volume is provided. The volume is connected to and available to a computer system, and is not managed by storage management software. A best fit between the identifier and generic identification patterns is determined based on ratings. The database record that includes the best fitting identification pattern is identified. Management options that facilitate managing the volume by the storage management software are retrieved from the database record. The volume is automatically added to a set of volumes being managed by the storage management software. The adding of the volume includes designating the volume as being managed by the storage management software and providing the management options to the storage management software.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07873808&OS=07873808&RS=07873808
owner: International Business Machines Corporation
number: 07873808
owner_city: Armonk
owner_country: US
publication_date: 20080103
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application is a continuation application claiming priority to Ser. No. 11\/270,763, filed Nov. 8, 2005 now U.S. Pat. No. 7,343,447.","1. Technical Field","The present invention relates to a method and system for synchronizing direct access storage volumes, and more particularly to a technique for synchronizing direct access storage volumes managed by storage management software with direct access storage volumes available to a computer system.","2. Related Art","When adding or removing direct access storage volumes on a computing system, storage management software needs to be manually notified of the volume(s) being added or removed. Since the additions or removals are manually performed, human error (e.g., oversight or lack of knowledge) can result in the following problems: (1) failing to add the volume; (2) incorrectly adding the volume; and (3) failing to remove the volume from the storage management software. These problems cause a lack of synchronization between the volumes recognized by the storage management software and the volumes available to the system, thereby leading to difficulties in capacity management, backups, and the processing of volumes by the storage management software. For example, failing to add or incorrectly adding the volume can result in data not being expired or moved elsewhere due to a lack of use, thereby causing a volume to run out of space. Thus, there exists a need for an improved technique for adding volumes to and removing volumes from storage management software.","In first embodiments, the present invention provides a method of synchronizing direct access storage volumes managed by storage management software with direct access storage volumes available to a computer system, comprising:","identifying a first set of one or more direct access storage volumes, the first set physically connected to and available to the computer system, the identifying providing an identifier of a direct access storage volume of the first set;","matching the identifier with an identification pattern included in a record of one or more records residing in a database accessible by the computer system, the identification pattern identifying the direct access storage volume directly or a group of direct access storage volumes including the direct access storage volume;","responsive to the matching, retrieving from the record a plurality of management options capable of facilitating a management of the direct access storage volume by the storage management software, wherein the direct access storage volume is not designated as being managed by the storage management software; and","automatically adding the direct access storage volume to a second set of one or more direct access storage volumes, the second set designated as being managed by the storage management software,","wherein the adding comprises:\n\n","In second embodiments, the present invention provides a system for synchronizing direct access storage volumes managed by storage management software with direct access storage volumes available to a computer system, comprising:","means for identifying a first set of one or more direct access storage volumes, the first set physically connected to and available to the computer system, the identifying providing an identifier of a direct access storage volume of the first set;","means for matching the identifier with an identification pattern included in a record of one or more records residing in a database accessible by the computer system, the identification pattern identifying the direct access storage volume directly or a group of direct access storage volumes including the direct access storage volume;","means for retrieving from the record, responsive to the matching, a plurality of management options capable of facilitating a management of the direct access storage volume by the storage management software, wherein the direct access storage volume is not designated as being managed by the storage management software; and","means for automatically adding the direct access storage volume to a second set of one or more direct access storage volumes, the second set designated as being managed by the storage management software,","wherein the means for adding comprises:\n\n","In third embodiments, the present invention provides a computer program product comprising a computer-usable medium including computer-usable program code for synchronizing direct access storage volumes managed by storage management software with direct access storage volumes available to a computer system, the computer program product including:","computer-usable code for identifying a first set of one or more direct access storage volumes, the first set physically connected to and available to the computer system, the identifying providing an identifier of a direct access storage volume of the first set;","computer-usable code for matching the identifier with an identification pattern included in a record of one or more records residing in a database accessible by the computer system, the identification pattern identifying the direct access storage volume directly or a group of direct access storage volumes including the direct access storage volume;","computer-usable code for retrieving from the record, responsive to the matching, a plurality of management options capable of facilitating a management of the direct access storage volume by the storage management software, wherein the direct access storage volume is not designated as being managed by the storage management software; and","computer-usable code for automatically adding the direct access storage volume to a second set of one or more direct access storage volumes, the second set designated as being managed by the storage management software,","wherein the computer-usable code for adding comprises:\n\n","In fourth embodiments, the present invention provides a method for deploying computing infrastructure, comprising integrating computer-readable code into a computing system, wherein the code in combination with the computing system is capable of performing a process of synchronizing direct access storage volumes managed by storage management software with direct access storage volumes available to a computer system, the process comprising:","identifying a first set of one or more direct access storage volumes, the first set physically connected to and available to the computer system, the identifying providing an identifier of a direct access storage volume of the first set;","matching the identifier with an identification pattern included in a record of one or more records residing in a database accessible by the computer system, the identification pattern identifying the direct access storage volume directly or a group of direct access storage volumes including the direct access storage volume;","responsive to the matching, retrieving from the record a plurality of management options capable of facilitating a management of the direct access storage volume by the storage management software, wherein the direct access storage volume is not designated as being managed by the storage management software; and","automatically adding the direct access storage volume to a second set of one or more direct access storage volumes, the second set designated as being managed by the storage management software,","wherein the adding comprises:\n\n","Advantageously, the technique described by the present invention provides an automatic process that avoids the manual addition or manual removal of volumes recognized by storage management software in response to a volume being added or removed from the system. Further, the present invention provides an automatic method for updating a volume recognized by storage management software in response to management options associated with the volume being updated. Changes to management options of a group of volumes can be performed in a single step. Moreover, a control file can be generated to include system-specific identifiers, which allows the same control file to be used across multiple systems.",{"@attributes":{"id":"p-0038","num":"0045"},"figref":"FIG. 1","b":["100","102","104","106","108","110","102","104","112","112","114"]},"Volume group  is managed directly by HSM . HSM  has knowledge of (i.e., has access to) sets of management options, where each set is associated with one of the volumes that HSM manages. Management options are characteristics or attributes that are defined to facilitate the management of a volume. In the configuration of , the data management needs associated with the volumes of volume group  have been updated, thereby requiring an update of management options known to HSM  and associated with the volumes of group .","Volume group  includes volumes that are physically connected to computing system  (e.g., volumes that have been recently connected to computing system ). The volumes of volume group  are unknown to (i.e., not designated as being managed by) HSM , are not managed by SMS , and need to be added to the set of volumes managed by HSM .","Volume group  includes volumes that are removed from (i.e., not connected to) computing system  (e.g., volumes that had been physically connected to computing system , but which were recently disconnected from computing system ). As the volumes of volume group  are currently known to (i.e., designated as being managed by) HSM , removal of these volumes from the set of volumes managed by HSM  is required.","In conventional systems, the aforementioned updating of management options associated with volume group , adding volume group  to the set of volumes managed by HSM , and removing volume group  from the set of volumes managed by HSM  are not automated and require manual actions.","The present invention automates the process of updating management options, adding volumes to management software and removing volumes from management software so that the configuration shown in  can automatically and dynamically become the configuration shown in .",{"@attributes":{"id":"p-0044","num":"0051"},"figref":["FIG. 2","FIG. 2"],"b":["200","202","204","206","208","202","202"]},"Volume group  includes volumes managed by SMS  and known to (e.g., indirectly managed by) HSM  via SMS . Volume group  includes volumes that are not managed by SMS , are currently managed by HSM , and have had one or more of their associated management options updated. Volume group  includes volumes that are physically connected to and available to computing system , are not managed by SMS , and have been added to the set of volumes managed by HSM . In one example, volumes in groups  and  are appropriately managed by HSM  and cannot be appropriately managed by SMS  because HSM  operates at a volume level, treating all data on a single volume in the same manner, while SMS  operates at a file level. Volume group  includes volumes that are not connected (i.e., are removed) from computing system , and are not managed by SMS  or HSM . For example, volumes in group  have been removed from computing system  since the most recent backup of volumes connected to computing system .","SMS  and HSM  have capabilities as described above relative to SMS  and HSM , respectively. SMS  sets management options associated with individual volumes, and requests volume management work or information from HSM . HSM  stores volume management information relative to the management options set by SMS . Although SMS  and HSM  are shown in the  configuration as being outside computing system , both SMS  and HSM  reside within computing system . As examples, SMS  is the Data Facility System Managed Storage (DFSMS\u00ae) and HSM  is the Data Facility System Managed Storage Hierarchical Storage Manager (DFSMShsm), which are both available from International Business Machines Corporation. The present invention contemplates that the HSM component of  can be any storage management software that has the aforementioned capabilities of HSM .","A control file  is a database including a plurality of records. Each record of control file  includes a unique identifier (a.k.a. identification pattern) that identifies a specific volume or a group of volumes capable of being available to (i.e., physically connected to) computing system . For example, control file  includes six-character volume serial numbers (a.k.a. volsers) identifying each hard drive or DASD available to computing system . As another example, control file  includes volume serial number masks that identify groups of volumes that can be available to computing system . Each record of control file  also includes a set of management options (e.g., HSM management details). Each set of management options is associated with an identification pattern of the control file, and provides information regarding the management of data on a volume identified by the associated identification pattern. Examples of management of data include the backup of a volume, deletion of a volume's data if the data is expired, and migration of data from one volume to another storage device (e.g., a tape storage device). In one embodiment, control file  resides within computing system , although this arrangement is not shown in . Data in control file  is initially input and updated manually.","A delta list  is a list comparing a first set of one or more volumes that are known to HSM  to a second set of one or more volumes available to computing system . As used herein, a volume known to HSM  is defined as a volume directly or indirectly managed or controlled by HSM . Delta list  indicates whether or not the first set of volumes matches the second set of volumes. The first set of volumes matches the second set if the first set and second set volumes are associated in a one-to-one correspondence and the corresponding volumes are identical (e.g., based on matching volume identifiers), and for each volume in the first set, management options associated a volume of the first set matches management options associated with its corresponding volume in the second set. If the corresponding volumes are not identical, or if the management options of corresponding volumes are not identical, then the first set does not match the second set. When the delta list indicates that the first set does not match the second set, the present invention provides a technique for automatically synchronizing the first and second sets of volumes (i.e., automatically creating a match between the first set of volumes and second set of volumes).","Via the volume identification information from control file , delta list  indicates that volume groups ,  and  are available to computing system , and that volume group  is not available to computing system . Further, the identifiers and management options from control file , and the volumes and associated management options known to HSM  are utilized so that delta list  indicates volumes for which synchronization is required.","Delta list  indicates that volume group  is available to computing system  and is known to HSM , with no changes having been made to the management options. The remaining sections of delta list  indicate that a previous configuration of volume groups (i.e., similar to the configuration shown in ) lacked synchronization relative to volume groups ,  and , and also indicate the changes to the previous configuration that have been automatically performed to generate the configuration shown in , which depicts a synchronization between the volumes available to computing system  and the volumes known to HSM .","For volume group , delta list  indicates that management options in control file  had been updated, causing a mismatch when those control file management options are compared to the management options known to HSM . A synchronization process disclosed by the present invention automatically applied changes to the management options known to HSM  so that they match the updated control file management options for volume group .","Further, delta list  indicates that volume group  had been previously unknown to HSM . The synchronization process automatically added the volumes of volume group  to the set of volumes managed by HSM .","Still further, delta list  indicates that volume group  had been previously known to HSM , but is currently not available to computing system . The synchronization process automatically removes the volumes of volume group  from HSM . That is, the volumes in group  are removed from the set of volumes being managed by HSM .","A software-based volume synchronization system (shown in , but not shown in ) residing in computing system  interacts with HSM  and control file  to collect the volume identification and management options from HSM  and control file , and performs the aforementioned synchronization process that includes the volume additions, updates and removals indicated by delta list . The synchronization process performed by the volume synchronization system, and which is utilized to generate the configuration shown in  is described below relative to .","Although  includes HSM  and SMS , other storage management software that is capable of managing volumes can take the place of HSM  and\/or SMS , while still providing the capabilities and features of the present invention. For example, Fast Dump Restore (FDR\u00ae) is a software product providing DASD management that may be employed instead of HSM . FDR\u00ae management software is available from Innovation\u00ae Data Processing of Little Falls, N.J.",{"@attributes":{"id":"p-0056","num":"0063"},"figref":["FIG. 3","FIG. 2","FIG. 3"],"b":["300","302","302","302","302"]},"A loop begins at step  for the first volume in the system list, and the first iteration of the loop includes a search of control file  (see ) for a record that includes an identifier that matches the volume identification data (e.g., volume serial number) collected in step  for the first volume of the system list. For a subsequent iteration of the loop starting at step , the next volume in the system list becomes the current volume, and another search of control file  (see ) is performed to find volume identification that matches the current volume. As used herein relative to the loop starting at step , the current volume is defined as the volume included in the system list for which the control file is being searched to find an identifier matching the volume identification data associated with the volume. For example, the current volume's serial number obtained by DCOLLECT is used to match a specific serial number or a generic serial number pattern or mask in control file  (see ). A serial number mask in control file  (see ) can be, for instance, \u201cM..SH.\u201d where the periods indicate character positions in which any character can appear. In this example, any six-character volume serial number that has M, S and H in the first, fourth and fifth character positions, respectively, and any character in the second, third and sixth character positions (e.g., MABSH1) is considered a match to the M..SH. mask. Hereinafter, a match between the volume identification data of the current volume as determined by step  and an identifier in a record of control file  (see ) is simply referred to as a match between the current volume and the control file record. Specific techniques for determining the match in step  are discussed below relative to .","In response to finding a match between the current volume and a record of control file  (see ), step  also retrieves the management options in the matching record of control file  (see ). The volume management options retrieved by step  include, for example, the type of the volume (e.g., primary or migration) and management attributes related to the type of volume. In one embodiment, each record of control file  (see ) includes a volume serial number mask in predefined columns of a text file, and indicators of management options in other predefined columns. For example, a control file can include the following records:",{"@attributes":{"id":"p-0059","num":"0066"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"6"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"49pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"5","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"M . . S H.","P Y Y","T","80 70","WEEKLY"]},{"entry":[{},"M . . S Y.","P Y","T","80 70","WEEKLY"]},{"entry":[{},"."]},{"entry":[{},"."]},{"entry":[{},"."]},{"entry":[{},". . . . . .","P Y",{},{},"WEEKLY"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"5","align":"center","rowsep":"1"}}]}]}}}}},"The sample control file above indicates volume serial number masks in the leftmost 6 columns (e.g., M..SH.), where the period is a symbol that can be matched with any character. Following each mask is the character P in a predefined column that indicates the type of a volume that is matched to the mask. In this case, P indicates that the volume is a primary volume. A primary volume is a hard disk or direct access storage device that is available to users for data storage and data manipulation. Other characters replacing P in the predefined column can designate other volume types. For example, M indicates a migration volume, which is a volume to which unused data is moved from a primary volume to make space for high-availability data on the primary volume.","In each of the sample records above, the characters to the right of the volume type character (e.g., P) indicate volume management options associated with the record's designated volume type. Since P is the volume type in the control file example shown above, the remaining characters in each record indicate management options associated with a primary volume. A character or string of characters and its column position(s) determine a particular management option according to predefined descriptions that are associated with one or more columns. In one embodiment, control file  (see ) includes commented lines that describe the management options and indicate the column(s) associated with each management option.","As one example, primary volume management options retrieved by step  are related to an automatic backup of data on the volume during a specified cycle and to a specified category of a backup device, and in response to the data being at least a specified age, or a specified time elapsing since the most recent reference of the data; an automatic full volume dump of all allocated space on the primary volume to a designated tape dump volume based on a specified frequency; an automatic migration of data from the primary volume to a migration volume in response to a specified threshold level of occupancy being exceeded, the data being at least a specified age, or a specified time elapsing since the most recent reference of the data; and an automatic recall of data from a migration volume to the primary volume.","In the sample control file shown above, the first Y character of the first record indicates that an automatic dump feature has been activated; the second Y character indicates that an automatic backup feature has been activated; the T character indicates that tape, rather than a direct access storage device (DASD), is designated as the type of backup device; 80 is the high threshold percentage for incremental migration; 70 is the low threshold percentage for daily migration; and WEEKLY is the name of a dumpclass in HSM  (see ).","During daily migration, if the occupancy rate of the primary volume associated with the record exceeds the low threshold, data on the volume is migrated to another volume until the occupancy rate is below the low threshold. Nothing else can be done by the volume until its rate is less than the low threshold. During incremental migration (e.g., occurs every hour), if the occupancy rate of the primary volume exceeds the high threshold, data on the volume is migrated to another volume until the rate is below the high threshold. Incremental migration is not applied to every volume, but rather to only a specified group of volumes. A customization of HSM  (see ) can provide an automated migration feature by which migration automatically starts in response to passing a low or high threshold.","The WEEKLY dumpclass included in the first record shown above indicates that the class will not dump the primary volume associated with the record within 7 days of its last dump. Time periods other than 7 days can be indicated by other dumpclasses (e.g., MONTHLY). Dumpclasses are defined by an administrator and can have any name up to a maximum number of characters (e.g., 8 characters). HSM  (see ) does not define any dumpclasses by default. A volume may have more than one dumpclass associated therewith, such as both WEEKLY and MONTHLY.","Other characters or character strings can be included and\/or other columns can be utilized in a control file record to indicate other management options (e.g., activation of an automatic migration feature, activation of an automatic recall feature, deletion of the volume based on age or backup status, etc.).","In one embodiment, a catchall serial number mask (e.g., \u201c . . . . . . \u201d in the sample control file shown above) is placed in the last record of the control file, where the last record also includes a predefined set of minimum management options that are to be associated with any volume that does not conform to the volume identification or volume naming standard that is incorporated into the other records of the control file (e.g., via the volume serial number masks). In the control file example shown above, any volume serial number that does not match one of the masks listed prior to the last mask is automatically matched to the . . . . . . mask, which designates the volume as a primary volume with the automatic dump feature activated.","Inquiry step  queries HSM  (see ) to determine if the current volume is known to (i.e., managed by or controlled by) HSM  (see ). For instance, the current volume is known to HSM  (see ) if the volume identification data associated with the current volume, which is collected by step , matches one of the volume identifiers known by HSM  (see ), which identify the volumes managed by HSM  (see ). If step  determines that the current volume is not managed by HSM  (see ), then step  automatically adds the current volume to a set of one or more volumes managed by HSM  (see ). The management options retrieved in step  which are associated with the current volume are also added to HSM  (see ) in step . The addition of the current volume and management options in step  can be performed by, for example, a command line interface (CLI) or an application programming interface (API). Adding a volume to a set of one or more volumes designated as being managed by HSM  (see ) is defined as designating the volume as being managed by HSM  (see ) and providing the management options associated with the volume to HSM  (see ), wherein the HSM associates the management options with the volume. Hereinafter, adding a volume to a set of one or more volumes designated as being managed by HSM  (see ) is also referred to simply as adding the volume to HSM  (see ).","Returning to inquiry , if the current volume is being managed by HSM  (see ), then step  queries HSM  to retrieve previously generated management options which HSM  has knowledge of and associates with the current volume. Inquiry step  compares the volume management options retrieved in step  to the management options retrieved in step . If the comparison in step  determines that the management options of the current volume have changed since the generation of the management options currently known to HSM  (see ), then step  automatically updates the current volume's management options in HSM  (see ) to match (i.e., to be identical to) the management options retrieved in step . The step  update is performed by, for instance, a CLI or an API. On the other hand, if step  determines that the management options of the current volume have not changed, then no update action is required, as is indicated by step .","Following steps ,  and , inquiry step  determines if the system list includes at least one volume for which an identifier and management options have not been found by step . If step  determines that a system list volume remains whose identifier has not yet been searched for in step , the process of  loops back to step , with the next volume in the system list becoming the current volume. If inquiry step  determines that all volumes in the system list have been utilized in the iterations of the loop beginning at step , then the synchronization process continues with volume removal at step . Step  generates a list that identifies the volumes that are designated as being managed by (i.e., known to) HSM  (see ). Hereinafter, the list generated in step  is referred to as the management software list.","A condition-controlled loop begins at step  for the first volume in the management software list, and the first iteration of the loop includes inquiry step  that searches the system list generated in step  for the first volume of the management software list. For example, inquiry  searches the system list for an identifier that identifies the first volume in the management software list (i.e., an identifier that matches an identifier associated with the first volume by the management software). In the first iteration of the step  loop, the first volume in the management software list is the current volume. For a subsequent iteration of the loop starting at step , the next volume of the management software list becomes the current volume, and another search of the system list is performed to determine whether the current volume is in the system list. As used herein relative to the loop starting at step , the current volume is defined as the volume included in the management software list for which the system list is being searched to find an identifier that matches the identifier associated with the volume by the management software.","If inquiry step  determines that the current volume in the management software list is not also in the system list, then step  automatically removes the current volume from the management software list by, for example, a CLI or an API. Removal from the management software list indicates that the removed volume is no longer managed by HSM  (see ). If inquiry  determines that the current volume in the management software list is also in the system list, then inquiry  determines if one or more volumes remain in the management software list that have yet to be compared to the system list in step . If step  determines that at least one volume has yet to be compared in step , then the process of  repeats starting at inquiry step , with the next volume in the software management list becoming the current volume. If step  determines that no other volumes remain in the management software list that have not been compared to the system list in step , then the synchronization process ends at step .","It will be apparent to one skilled in the art that the REXX code included in the Code Example section presented below can be utilized to implement steps ,  and  of the synchronization process of .","The synchronization process of  is, for instance, efficiently utilized in conjunction with, and prior to, a backup or dump of computing system , or a restart of the management software. For instance, backups of computing system  are scheduled nightly, and a volume is added to computing system  during the day. Instead of running the synchronization process during the day, immediately after the volume is added, the synchronization process is executed at night in tandem with the nightly backup. First the synchronization process executes to add the volume to the set of volumes managed by the management software, and then the scheduled backup executes.","In one embodiment, the determinations made in the inquiry steps ,  and  generate delta list  (see ), which includes a list of differences between the set of volumes available to system  (see ) and the set of volumes designated as being managed by HSM  (see ).","In another embodiment that utilizes a single command that is capable of performing both the adding of the volume in step  and the updating of management options in step , the steps of , , , ,  and  can be replaced by a new step  (not shown). In this embodiment, step  follows step  and adds the current volume along with the management options retrieved in step  to the set of volumes designated as being managed by the management software. After the new step , the process continues with step . In this case, the loop of steps - is also modified to remove from the management software the volumes that have not been added by the new step . The Code Example section presented below includes one implementation of this embodiment.",{"@attributes":{"id":"p-0077","num":"0084"},"figref":["FIG. 4A","FIG. 3","FIG. 4A","FIG. 3","FIG. 3","FIG. 3"],"b":["400","304","402","304","302"]},"In step , the volume information obtained in step  is compared to the first record in control file  (see ). For example, the current volume's serial number is compared to the identification pattern included in the first record of control file  (see ). Each record of the control file includes an identification pattern, which is either a specific identifier that identifies a specific volume or a generic pattern or mask that identifies a group of volumes. Each record of the control file also includes a set of management options associated with the specific identifier or generic pattern. The patterns and their associated volume management options are determined, for instance, by considering the type of hardware on which the volume exists. For example, a user may determine that management options for expensive, newer hardware are different from the management options for cheaper, older hardware.","If the serial number of the current volume does not match the identification pattern of the first record of control file  (see ), inquiry step  determines if there are other records in control file  (see ) that have not yet been compared to the volume information. If step  determines that there are additional records in the control file, step  compares the volume serial number of the current volume to the specific identifier or generic pattern included in the next record in the control file. If step  determines that there is no match between the identification pattern of the next record and the volume information, then the process repeats starting at step . Otherwise, there is a match between the identifier of the next record and the volume information, and the management options included in the next record are returned in step  to the process of , and the search process of  ends at step .","Returning to step , if the first record in the control file matches the volume information, step  returns the management options included in the matched first record of control file  (see ) to the process of , and the search process of  ends at step .","Returning to step , if no additional records exist in control file  (see ) (e.g., all records in the control file have been compared to the volume information obtained in step  and no match has been found in steps  or ), then an error is returned in step  and the search process of  ends at step .",{"@attributes":{"id":"p-0082","num":"0089"},"figref":["FIG. 4B","FIG. 3","FIG. 4B","FIG. 3","FIG. 3","FIG. 3"],"b":["420","304","422","304","302"]},"In step , the volume information is compared to the first record in control file  (see ). Similar to the comparison in steps  and  of , step  compares, for example, the volume serial number to an identification pattern (i.e., a specific identifier or a generic pattern or mask) of a plurality of identification patterns included in control file  (see ), in which each identification pattern is associated with a specific set of volume management options. The particular patterns and their associated volume management options are determined, for instance, by considering the type of hardware on which the volume exists.","Step  also determines a rating for the fit of the first record to the volume information. As one example of a rating technique, a six-character volume serial number included in the volume information is compared in character-by-character order to six-character generic patterns in the control file in which a \u201c%\u201d symbol is a catchall symbol that represents any character. In this example, two types of matches are possible: an exact match (e.g., \u201cA\u201d in the volume serial number compared to \u201cA\u201d in the generic pattern) and a generic match (e.g., \u201cC\u201d in the volume serial number compared to a \u201c%\u201d symbol in the generic pattern). The total rating is determined by one point value being assigned to each exact match and another point value being assigned to each generic match. For this example, the total rating is determined by scoring two points for each exact match, one point for each generic match, and zero points are scored for a mismatch. For instance, a volume serial of ABC123 compared to AD %%%3 would be compared character-by-character, in left to right order, for a score of 2+0+1+1+1+2, or a total score of 7. That is, A compared to A is an exact match and is assigned a score of 2; B compared to D is a mismatch that is assigned a score of 0; C compared to % is a generic match that is assigned a score of 1; 1 compared to % scores 1 for a generic match; 2 compared to % scores 1 for a generic match; and 3 compared to 3 scores 2 for an exact match.","As another example of a rating technique that can be utilized in step , a weighting system can be used for predefined character positions. For instance, the scoring system of the previous example is used, but the scores for the first three characters are weighted by a factor of two. For a comparison of the ABC123 serial number to the AD %%%3 pattern in the control file, this weighted technique yields a score of 2\u00d72+0\u00d72+1\u00d72+1+1+2, or 4+0+2+1+1+2, or a total score of 10.","Step  determines if additional records are included in control file  (see ) which have not yet been compared to the volume information. If step  determines that additional records are included in the control file, then step  compares the volume information to the next record of the control file and a rating for the fit of the next record to the volume information is determined. The comparison and rating determination of step  uses the same comparison and rating techniques used in step . Following step , the process loops back to step . As the process repeats through this loop, a plurality of ratings is determined. The ratings determined by steps  and  are examined to determine which rating meets a predetermined criteria (e.g., the highest score) that labels the rating as the best rating. The best rating indicates the best fit between the volume information and a record of the control file. If step  determines that no additional records exist in the control file, then the management options included in the control file record for which the best rating was determined is returned in step  to the process of , and the search process of  ends at step .","In the event that the best rating is associated with a plurality of records of the control file, step  consistently selects one record of the plurality of records according to a predetermined selection criteria (e.g., selects the record that is listed in the control file last among the plurality of records that have the highest rating).",{"@attributes":{"id":"p-0088","num":"0095"},"figref":["FIG. 5","FIG. 1","FIG. 2"],"b":["500","202","500","502","504","506","508","510","512","502","500","502","504","512","502","504","504"]},"I\/O interface  comprises any system for exchanging information to or from an external source. I\/O devices  comprise any known type of external device, including a display monitor, keyboard, mouse, printer, speakers, handheld device, printer, facsimile, etc. Bus  provides a communication link between each of the components in computing unit , and may comprise any type of transmission link, including electrical, optical, wireless, etc.","I\/O interface  also allows computing unit  to store and retrieve information (e.g., program instructions or data) from an auxiliary storage device, such as a non-volatile storage device (e.g., a CD-ROM drive which receives a CD-ROM disk) (not shown). Computing unit  can store and retrieve information from other auxiliary storage devices (not shown), which can include a direct access storage device (DASD) (e.g., hard disk or floppy diskette), a magneto-optical disk drive, a tape drive, or a wireless communication device.","Memory  includes computer program code comprising a volume synchronization system  that synchronizes direct access storage volumes managed by storage management software (e.g., HSM  of ) with direct access storage volumes available to a computer system (e.g., system  of ). Further, memory  may include other systems not shown in , such as an operating system (e.g., Linux) that runs on CPU  and provides control of various components within and\/or connected to computing unit .","The invention can take the form of an entirely hardware embodiment, an entirely software embodiment or an embodiment containing both hardware and software elements. In a preferred embodiment, the invention is implemented in software, which includes but is not limited to firmware, resident software, microcode, etc.","Furthermore, the invention can take the form of a computer program product accessible from a computer-usable or computer-readable medium providing program code  for use by or in connection with a computing unit  or any instruction execution system to provide and facilitate the capabilities of the present invention. For the purposes of this description, a computer-usable or computer-readable medium can be any apparatus that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device.","The medium can be an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system (or apparatus or device) or a propagation medium. Examples of a computer-readable medium include a semiconductor or solid state memory, magnetic tape, a removable computer diskette, RAM , ROM, a rigid magnetic disk and an optical disk. Current examples of optical disks include compact disk-read-only memory (CD-ROM), compact disk-read\/write (CD-R\/W) and DVD.","A computing unit  suitable for storing and\/or executing program code  include at least one processor  coupled directly or indirectly to memory elements  through a system bus . The memory elements can include local memory employed during actual execution of the program code, bulk storage, and cache memories which provide temporary storage of at least some program code in order to reduce the number of times code must be retrieved from bulk storage during execution.","Furthermore, the present invention discloses a method for deploying or integrating computing infrastructure, comprising integrating computer-readable code into computer system  (see ), wherein the code in combination with computer system  (see ) is capable of synchronizing direct access storage volumes managed by storage management software with direct access storage volumes available to a computer system. The disclosed method for deploying or integrating computing infrastructure with the capabilities described herein can be offered as a service on a subscription service.","The flow diagrams depicted herein are provided by way of example. There may be variations to these diagrams or the steps (or operations) described herein without departing from the spirit of the invention. For instance, in certain cases, the steps may be performed in differing order, or steps may be added, deleted or modified. All of these variations are considered a part of the present invention as recited in the appended claims.","While embodiments of the present invention have been described herein for purposes of illustration, many modifications and changes will become apparent to those skilled in the art. Accordingly, the appended claims are intended to encompass all such modifications and changes as fall within the true spirit and scope of this invention.","Code Example","The following REXX code is one example of an implementation of portions of the synchronization process of . Comments are included in between the \/* and *\/ indicators. A line that includes \/* . . . *\/ indicates that one or more lines of code are not being shown to allow the code example to focus on the major steps of , and to avoid repetitiveness.",{"@attributes":{"id":"p-0100","num":"0107"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\/*","REXX","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\/*","Version 1.3.1","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\/*","*\/"]},{"entry":["\/*\u2003Dynamically adds, updates, and removes volumes in management","*\/"]},{"entry":["\/* software to synchronize the set of volumes known to management","*\/"]},{"entry":["\/* software to the set of volumes available to the computing system.","*\/"]},{"entry":["\/*","*\/"]},{"entry":["\/*\u2003Uses a DCollect as a source of all volumes","*\/"]},{"entry":["\/*","*\/"]},{"entry":["\/*Constants","*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/* All dcol position include the","*\/"]},{"entry":[{},"\/* extra print character","*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["C.DCOL_TYPE = 5","\/*\u2003- Record type","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/*\u2003\u2018V\u2019 type","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["C.DCOL_V_VOLSER = 25","\/*\u2003- Volser","*\/"]},{"entry":["C.DCOL_V_UNIT = 69","\/*\u2003- Device type i.e., 3390","*\/"]},{"entry":["C.DCOL_V_SG = 83","\/*\u2003- Storage group","*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\/*Global variables","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["G.volparm.0 = 0","\/* Reference to volume masks","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"G.sysplex_name = ZLRXVAR(SYSPLXNM)"},{"entry":"G.sysplex_csid.0 = 0"},{"entry":"G.RetCode = 0"},{"entry":"G.update = NO"},{"entry":"G.userID = \u2018DASDADM\u2019"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["G.vols.0 = 0","\/* List of volumes added to HSM","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\/*The Code","*\/"]},{"entry":"PARSE UPPER ARG G.update"},{"entry":["\/* Find the systems in the sysplex (must be hard coded)","*\/"]},{"entry":["\/* Store it in G.sysplex_csid. stem.","*\/"]},{"entry":"\/*. . .*\/"},{"entry":"SAY \u201c* SYSTEM INFO\u201d"},{"entry":"SAY \u201c* System CSID:\u201d G.sysplex_csid.1"},{"entry":"IF G.sysplex_csid.0 = 1 THEN SAY \u201c* Monoplex name: \u201dG.sysplex_name"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["ELSE","SAY \u201c* Sysplex name: \u201dG.sysplex_name"]},{"entry":"\/*. . .*\/"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["CALL OpenVolumeParmTable \/* Reads the management options from the","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/* control file for use later.","*\/"]},{"entry":[{},"\/* See Step 304 of FIG. 3.","*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"CALL AddVolumes"},{"entry":"CALL DeleteVolumes"},{"entry":"EXIT 0"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\/* Creates the CLI command to add\/update any volume that matches the","*\/"]},{"entry":["\/* line. The command is prepared so it can be used later, though it","*\/"]},{"entry":["\/* may never be referenced.","*\/"]},{"entry":["\/* \u2018dat\u2019 is the record from the config file that matches the volume.","*\/"]},{"entry":["\/* \u2018line\u2019 is the line number of the records (for error reporting)","*\/"]},{"entry":["\/*","*\/"]},{"entry":"BuildLine: PROCEDURE"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ARG dat, line"]},{"entry":[{},"SELECT"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\/*. . .*\/"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN SUBSTR(dat,12,1) = \u2018M\u2019 THEN \/* Migration volume *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"str=\u201cMIGRATION(\u201d"]},{"entry":[{},"IF SUBSTR(dat,14,1) = \u2018Y\u2019 THEN\u2003\/* Autodump it *\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"str=str ||\u201cAD(\u201cSTRIP(SUBSTR(dat,34,47))\u201d) \u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ELSE str=str ||\u201cNOAD \u201d"]},{"entry":[{},"IF SUBSTR(dat,16,1) = \u2018Y\u2019 THEN\u2003\/* Drain it *\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"str=str ||\u201cDRAIN \u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE str=str ||\u201cNODRAIN \u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\/*. . .*\/"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"val=SUBSTR(dat,28,2)"]},{"entry":[{},"IF val=\u201c \u201d THEN str=str||\u201c)\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE","str=str||\u201c) THRESHOLD(\u201cval\u201d)\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN SUBSTR(dat,12,1) = \u2018P\u2019 THEN \/* Primary volume *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"str=\u201cPRIMARY(\u201d"]},{"entry":[{},"IF SUBSTR(dat,14,1) = \u2018Y\u2019 THEN\u2003\/* Autodump *\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"str=str ||\u201cAD(\u201cSTRIP(SUBSTR(dat,34,47))\u201d) \u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ELSE str=str ||\u201cNOAD \u201d"]},{"entry":[{},"IF SUBSTR(dat,16,1) = \u2018Y\u2019 THEN\u2003\/* Autobackup *\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"str=str||\u201cAB \u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE str=str||\u201cNOAB \u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\/*. . .*\/"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"OTHERWISE"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"DO"]},{"entry":[{},"SAY \u201c************************************************************\u201d"]},{"entry":[{},"SAY \u201c* Illegal \u201cVolume Type\u201d character encountered on line \u201dline"]},{"entry":[{},"SAY \u201c*\u2003of DD(VOLTABLE)\u201d"]},{"entry":[{},"SAY \u201c* Character found is \u2018\u201cSUBSTR(dat,12,1)\u201d\u2019\u201d"]},{"entry":[{},"SAY \u201c* Processing terminated\u201d"]},{"entry":[{},"SAY \u201c*\u201d"]},{"entry":[{},"SAY \u201c* Return code = 8\u201d"]},{"entry":[{},"EXIT 8"]},{"entry":[{},"END"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"RETURN str"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\/*","*\/"]},{"entry":["\/* AddVolumes: Automatically adds to management software volumes","*\/"]},{"entry":["\/* which are available to the system. Automatically updates","*\/"]},{"entry":["\/* management options in management software.","*\/"]},{"entry":["\/* Implements steps 308 & 314 of FIG. 3.","*\/"]},{"entry":["\/*","*\/"]},{"entry":"AddVolumes: PROCEDURE EXPOSE G. C."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u201cEXECIO * DISKR DCOL(STEM dcol. FINIS)\u201d"]},{"entry":[{},"DO c = 1 to dcol.0"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"IF SUBSTR(dcol.c,C.DCOL_TYPE,1) = \u201cV\u201d THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"IF SUBSTR(dcol.c,C.DCOL_V_SG,1) = \u201c \u201d THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"vol = SUBSTR(dcol.C,C.DCOL_V_VOLSER,6)"]},{"entry":[{},"unit = SUBSTR(dcol.c,C.DCOL_V_UNIT,4)"]},{"entry":[{},"ent = FindMask(vol)"]},{"entry":[{},"IF ent > 0 THEN"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"cmd = \u201cHSEND WAIT ADDVOL \u201cvol\u201d UNIT(\u201cunit\u201d) \u201d"]},{"entry":[{},"cmd = cmd||SUBSTR(G.volparm.ent,8,LENGTH(G.volparm.ent)-7)"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"161pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/* attaches the CLI created in BuildLine *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"IF G.update = UPDATEHSM THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ADDRESS TSO cmd"]},{"entry":[{},"IF RC = 0 THEN SAY vol\u201c added to HSM.\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE","SAY \u201chsend command failed!\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE SAY cmd"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"14pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"d=G.vols.0+1","\/* Store the volume that was just added to be","*\/"]},{"entry":[{},"G.vols.d=vol","\/* used later to determine what volumes should","*\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"14pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"G.vols.0=d","\/* be deleted by DeleteVolumes","*\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"RETURN"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\/*","*\/"]},{"entry":["\/* FindMask:","*\/"]},{"entry":["\/*\u2003Using the first fit approach, finds the first mask that matches","*\/"]},{"entry":["\/*\u2003the volser and returns the array index.","*\/"]},{"entry":["\/*\u2003Implements Step 304 of FIG. 3.","*\/"]},{"entry":["\/*","*\/"]},{"entry":"FindMask: PROCEDURE EXPOSE G."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ARG vol"]},{"entry":[{},"DO v = 1 to G.volparm.0"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO c = 1 to 6"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"char = SUBSTR(G.volparm.v,c,1)"]},{"entry":[{},"IF char  = \u2018.\u2019 THEN"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"IF SUBSTR(vol,c,1)  = char THEN c = 8"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"END"]},{"entry":[{},"IF c < 8 THEN"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"SELECT"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\/*. . .*\/"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN SUBSTR(G.volparm.v,7,1) = \u201c\u2212\u201d THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SAY vol\u201c ignored.\u201d"]},{"entry":[{},"RETURN 0"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN SUBSTR(G.volparm.v,7,1)  = \u201cY\u201d THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"SAY \u201cNON-GSD volume (\u201cvol\u201d) found!\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN LENGTH(G.volparm.v) = 7 THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SAY vol\u201c ignored. Backup\/Dump volumes not supported\u201d"]},{"entry":[{},"RETURN 0"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"OTHERWISE NOP"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"RETURN v"]},{"entry":[{},"END"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"RETURN 0"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["\/*","*\/"]},{"entry":["\/* DeleteVolumes: Automatically removes volumes from management","*\/"]},{"entry":["\/* software. The removed volumes are volumes that are no longer","*\/"]},{"entry":["\/* available to the system. Implements Step 322 of FIG. 3.","*\/"]},{"entry":["\/*","*\/"]},{"entry":"DeleteVolumes: PROCEDURE EXPOSE G. C."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/* Cleanup primary volumes *\/"]},{"entry":[{},"dsname=G.userID\u201c.HSMADVOL.PVOL\u201d"]},{"entry":[{},"address tso \u201cdel \u2018\u201cdsname\u201d\u2019\u201d"]},{"entry":[{},"address tso \u201chsend wait list pvol ods(\u2018\u201cdsname\u201d\u2019)\u201d"]},{"entry":[{},"\u201calloc dd(pvol) da(\u2018\u201cdsname\u201d\u2019) shr\u201d"]},{"entry":[{},"\u201cexecio * diskr pvol(stem pvol. finis) \u201d"]},{"entry":[{},"DO c = 1 to pvol.0"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"vol = SUBSTR(pvol.c,2,6)"]},{"entry":[{},"SELECT"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"\/*. . .*\/"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN SUBSTR(pvol.c,18,5)=\u201cP SMS\u201d THEN NOP \/* Ignore SMS volume *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"OTHERWISE","\/* First step, make sure volume is not one of *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"168pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO","\/* the volumes just added by AddVolumes *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"IF JustAdded(vol) = \u201cNO\u201d THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO","\/* Volume was not just added by AddVolumes *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"cmd = \u201cHSEND DELVOL \u201cvol\u201d PRIMARY\u201d"]},{"entry":[{},"IF G.update = UPDATEHSM THEN"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ADDRESS TSO cmd"]},{"entry":[{},"IF RC = 0 THEN SAY vol\u201c deleted from HSM.\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"112pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE","SAY \u201chsend command failed!\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE SAY cmd"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"END"]},{"entry":[{},"\/* Cleanup Migration Level 1 (ML1) volumes *\/"]},{"entry":[{},"dsname=G.userID\u201c.HSMADVOL.MVOL\u201d"]},{"entry":[{},"ADDRESS TSO \u201cDEL \u2018\u201cdsname\u201d\u2019\u201d"]},{"entry":[{},"ADDRESS TSO \u201cHSEND WAIT LIST MVOL ML1 ODS(\u2018\u201cG.userID\u201d.HSMADVOL.MVOL\u2019)\u201d"]},{"entry":[{},"\u201cALLOC DD(MVOL) DA(\u2018\u201cdsname\u201d\u2019) SHR\u201d"]},{"entry":[{},"\u201cEXECIO * DISKR MVOL(STEM mvol. FINIS) \u201d"]},{"entry":[{},"DO c = 1 to mvol.0"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"vol = SUBSTR(mvol.c,2,6)"]},{"entry":[{},"SELECT"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN vol = \u201c- DFSM\u201d THEN NOP"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"WHEN vol = \u201c","\u201d THEN NOP"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"WHEN vol = \u201cVOLSER\u201d THEN NOP"]},{"entry":[{},"WHEN vol = \u201c ----- \u201d THEN NOP"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"OTHERWISE","\/* First step, make sure volume is not one of *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO","\/* the volumes just added by AddVolumes *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"IF JustAdded(vol) = \u201cNO\u201d THEN"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO","\u2003\/* Volume was not just added by AddVolumes *\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"cmd = \u201cHSEND DELVOL \u201cvol\u201d MIGRATION(PURGE)\u201d"]},{"entry":[{},"IF G.update = UPDATEHSM THEN"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"DO"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ADDRESS TSO cmd"]},{"entry":[{},"IF RC = 0 THEN SAY vol\u201c deleted from HSM.\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"126pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE","SAY \u201chsend command failed!\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"98pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"ELSE SAY cmd"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"RETURN"},{"entry":"Just Added: PROCEDURE EXPOSE G."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"ARG vol"]},{"entry":[{},"DO c = 1 to G.vols.0"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"IF vol = G.vols.c THEN RETURN YES"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"294pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"END"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"RETURN NO"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}}],"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0032","num":"0039"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0033","num":"0040"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0034","num":"0041"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0035","num":"0042"},"figref":["FIG. 4A","FIG. 3"]},{"@attributes":{"id":"p-0036","num":"0043"},"figref":["FIG. 4B","FIG. 3"]},{"@attributes":{"id":"p-0037","num":"0044"},"figref":["FIG. 5","FIG. 2"]}]},"DETDESC":[{},{}]}
