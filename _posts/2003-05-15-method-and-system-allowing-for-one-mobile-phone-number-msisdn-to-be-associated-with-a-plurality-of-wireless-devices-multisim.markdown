---
title: Method and system allowing for one mobile phone number (MSISDN) to be associated with a plurality of wireless devices (‘Multi-SIM’)
abstract: The method and system allowing for one mobile phone number (MSISDN) to be associated with a plurality of wireless devices is described.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07680491&OS=07680491&RS=07680491
owner: Redknee Inc.
number: 07680491
owner_city: 
owner_country: CA
publication_date: 20030515
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF INVENTION","BACKGROUND ART","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present invention relates to a method and system allowing for one mobile phone number (MSISDN) to be associated with a plurality of wireless devices.","As a whole, the teachings of the prior art demonstrate that it has largely been pre-occupied with other priorities within this niche. For instance, much art is devoted to varied apparatus for allowing one wireless phone to share two (or more) telephone numbers (or SIMs) or conversely for allowing one SIM card to be shared between two masters (as between a cellular radiotelephone and multi-mode satellite radiotelephone as detailed for instance in U.S. Pat. No. 6,141,564 to Bruner, et al. entitled: \u201cMethod of Sharing a SIM Card Between Two Masters\u201d).","And similarly, other art has likewise been devoted to switching between multiple SIM cards within a wireless phone as to maximize time-of-day discounts (consider for instance European Patent Application 1098543 by Fragola, F.), or as to lower roaming costs (consider U.S. patent application publication no. 2002\/0154632 by Wang, Yung-Feng et al.) and so forth.","Other inventions, as UK Patent No. 2375261 to Hiltunen, M. entitled: \u201cTransfer of SIM Data Between Mobile Computing Devices\u201d, are devoted to \u2018acquiring\u2019 the identification information contained within the SIM card of one mobile phone and transferring it to another, thereby creating a manner of \u2018virtual\u2019 SIM, thereby obviating for physically transferring SIM cards between wireless devices and the corresponding lag and down-time associated with such.","Still further art as U.S. Pat. No. 6,466,804 to Pecen, et al. entitled: \u201cMethod and Apparatus for Remote Multiple Access to Subscriber Identity Module\u201d, details a method and apparatus for remote multiple access to services of a subscriber identity module (SIM) card by multiple subscriber devices in a GSM (Global System for Mobile communications) system. The crux of the subject matter delineated thereof deals with the scenario whereby multiple wireless devices use a single SIM. Whereas the invention of present seeking the protection of Letters Patent effectively enables multiple independent SIMs (e.g. with individual IMSIs) to appear as a single SIM for the purpose of providing telephony services via a macroscopic (GSM) carrier.","Some relevant GSM standards are: (1) GSM 03.40, Digital cellular telecommunications system (Phase 2+)\u2014Technical realization of the Short Message Service (SMS); (2) GSM 09.02, Mobile Application Part (MAP) Specification; and (3) GSM 03.90, Digital Cellular Telecommunications System (Phase 2+)\u2014Unstructured Supplementary Service Data (USSD)\u2014Stage 2.","A method and system allowing for one mobile phone number (MSISDN) to be associated with a plurality of wireless devices (Multi-Subscriber Identity Module or \u201cMulti-SIM\u201d) is described herein. The method and system allows a wireless subscriber to present\/utilize one phone number (Mobile Station Integrated Services Digital Network (MSISDN) Number) across a plurality of wireless devices (and their inherent, requisite SIMs (Subscriber Identity Modules)). Effectively, the invention of present seeking the protection of Letters Patent enables multiple independent SIMs (e.g. with individual IMSIs (International Mobile Station Identifiers)) to utilize the same phone number (MSISDN) for the purpose of providing telephony services via a macroscopic (GSM) carrier. The collective effect of the invention with respect to the telecommunication services which can be offered via a plurality of wireless devices will be characterized as the \u2018Multi-SIM\u2019 service.","Embodiments of the present invention allow a common phone number (MSISDN) to be always displayed when originating a telecommunication, even across a multiplicity of wireless devices.","In one embodiment, the mobile subscriber in question may choose which wireless device (and its associated SIM) he or she wishes to receive telecommunications upon in the preferred embodiment. In particular, various non-limiting manifestations of the invention may optionally direct Voice, SMS (Short Message Services), MMS (Multi-Media Message Services) and\/or MWI (Message Waiting Indicator) services towards different wireless devices and their associated SIMs. Optional manifestations of the invention limits the number of simultaneous telecommunications activity which emanate from the plurality of devices associated with the Multi-SIM service. Further optional manifestations of the invention permits the automated redirection of telecommunications services (e.g. call delivery and location retrieval) based on a pre-configured settings or the detection of activity from the plurality of wireless device or active polling to determine the status of the plurality of wireless devices.","In the following description, for purposes of explanation and not limitation, specific details are set forth, such as particular embodiments, elements, interfaces, hardware configurations, data structures, software flows, techniques, etc. in order to provide a thorough understanding of the present invention. However, it will be apparent to one skilled in the art that the present invention may be practiced in other embodiments that depart from these specific details. In other instances, detailed descriptions of well known methods, devices, and elements are omitted so as not to obscure the description of the present invention with unnecessary detail.","With reference to , the essential logic B for the method and system allowing for one mobile phone number (MSISDN) to be associated with a plurality of wireless devices (\u2018Multi-SIM\u2019), provides the core Mobile Application Part (MAP) intercept function  A establishing devices against the Multi-SIM Mobile Station Integrated Services Digital Network (MSISDN) in the network such that outgoing traffic is seen to originate from the Multi-SIM MSISDN. The Multi-SIM product  also intercepts incoming traffic to the Multi-SIM MSISDN and directs it to the nominated primary device (A, B, C as applicable) for that traffic type. Practitioners and other honorable members skilled in the art will recognize that the primary device need not be bound to one (1) of three (3) selections and may exceed such limitations to the state of the art.","A non-limiting, illustrative list of such MAP messages which will ordinarily be encountered by the Multi-SIM method and system include the messages, including the various parametric attributes, as prescribed in the GSM TS 09.02, ETSI TS100 974, and 3GPP TS 29.002 Mobile Application Part (MAP) specifications as amended from time to time.","Wireless subscribers who obtain the high-level service delineated herein from their respective telecommunications carriers and\/or network operators will have a defined number of devices (A, B, C and so forth); each device is provisioned in the HLR (Home Location Register)  and in the Multi-SIM database C. An individual MSISDN is associated with each device (A, B, C) in the HLR  but is not used outside of the HLR  and Multi-Subscriber Identity Module (\u201cMulti-SIM\u201d) product .",{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIGS. 1A","FIG. 1","FIG. 1"],"b":["1","1","1","1","1","1","1"]},"With reference now to , the mobile and\/or wireless device (A, B, C) (among others and as applicable), is activated (\u2018turned on\u2019). After a given wireless device completes any programmed self-check procedure, it will initiate the registration sequence via the applicable air-interface as well as the serving MSC\/VLR (Mobile service Switching Center\/Visitor Location Register) A per steps A. The serving MSC\/VLR A, as per the usual operational processes of a GSM network, normally forwards the MAP Update Location message to the HLR  associated with the IMSI\u2018x\u2019 of the mobile device's SIM. For the purpose of the disclosed invention, the MAP Update Location message will instead be forwarded to the Multi-SIM product  at step B. Those skilled in the art shall recognize that there are a variety of mechanisms by which the MAP Update Location message can be forwarded to the Multi-SIM product  using the inherent capabilities of the SS7 (Signaling System 7) network and the associated translation capabilities of the serving MSC\/VLR A. Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto HLR for IMSI\u2018x\u2019 from the perspective of the serving MSC\/VLR A.","After receiving the MAP Update Location message, the Multi-SIM product  will store the addressing information of the MSC\/VLR A associated with IMSI\u2018x\u2019. The Multi-SIM product  will also retrieve the address of the HLR  associated with IMSI\u2018x\u2019 and forward the MAP Update Location message to the appropriate HLR  via the SS7 network at step C. An optional manifestation of the Multi-SIM product  will initiate a MAP version negotiation sequence (not shown) as described in GSM 09.02 (and similar specifications) if the MAP version number of the received message at step B is greater than that currently supported by the HLR  associated with IMSI\u2018x\u2019. Those skilled in the art will recognize that there are a number of well understood message sequences associated with the MAP version negotiation procedure and that the intent of such a such a procedure is to ensure that subsequent messages received from network elements such as the serving MSC\/VLR A are set to a MAP version level no higher than the MAP version level supported by the HLR  associated with IMSI\u2018x\u2019. The MTP (Message Transfer Part) and SCCP (Signaling Connection Control Part) of the MAP Update Location message forwarded to the HLR  at step C will be modified by the Multi-SIM product  so that the Multi-SIM product  will appear as a VLR from the perspective of the HLR . Those skilled in the art will recognize that the HLR  utilizes received VLR and MSC addressing information in the MAP layer of the Update Location message to invoke service screening criteria as defined by GSM specifications. For example, a VLR or MSC address associated with a given service provider's \u2018home\u2019 network may be accorded different service attributes relative to the VLR and MSC associated with a \u2018foreign\u2019 network. To that end, an optional manifestation of the invention will map the VLR and MSC addressing information received in the MAP layer of the Update Location message to a predefined subset of alternative VLR and MSC addresses in order to invoke an appropriate set of service attributes for the subscribers associated with the Multi-SIM service. Those skilled in the art will recognize that for the aforementioned optional manifestation of the invention that the HLR  will have to be configured (typically via translation tables) to apply a specific set of service attributes given the predefined subset of alternative VLR and MSC addresses.","Still in reference to , the HLR  will retrieve the subscriber's profile using IMSI\u2018x\u2019 as the index key using established processes commonly implemented by HLR vendors. The subscriber's profile will include, among other subscribed service attributes, the MSISDN\u2018x\u2019 associated with IMSI\u2018x\u2019. The HLR  will in turn initiate a MAP Insert Subscriber Data sequence, containing the subscribed attributes associated with the subscriber's profile and MSISDN\u2018x\u2019, which will be forwarded to the Multi-SIM product  via the SS7 network at step A. Those skilled in the art shall recognize that the HLR  will direct the MAP Insert Subscriber Data sequence to the Multi-SIM product  via the SS7 network by virtue of the received MTP and SCCP addressing information received at step Still in reference to , the MAP Insert Subscriber Data message is received from the HLR  by the art of the Multi-SIM product  (specifically A) at A. Using said IMSI\u2018x\u2019 as an index key, the Primary MSISDN is retrieved (not shown) from an internal database\/table C (via B). An optional manifestation of the invention will store the status of the wireless device associated with IMSI\u2018x\u2019 in the application memory or internal database C for the purpose of applying optional routing procedures for outgoing and incoming as noted in a subsequent portion of this disclosure. Yet another optional manifestation of the invention will store selected attributes associated with Intelligent Network (IN) services in application memory or internal database C. Those skilled in the art will recognize that there are a variety of IN services which are defined by various specifications which serve the similar purposes without diluting the intent and scope of the present invention including those associated with CAMEL (Customized Applications for Mobile Network Enhanced Logic) and CS-1 (Capability Set 1) as well as derivations thereof.","Still in reference to , the Multi-SIM product  will generate an MAP Insert Subscriber Data message where the MSISDN \u2018x\u2019 received from the HLR  will be replaced by the Public (or primary) MSISDN retrieved from the Multi-SIM internal database C. The Multi-SIM product  will forward the MAP Insert Subscriber Data message to the serving MSC\/VLR A via the SS7 network at step B. Those skilled in the art will recognize that a characteristic of the invention is that the MAP Insert Subscriber Data received by a MSC\/VLR A always contains the Public MSISDN regardless of which IMSI\u2018x\u2019 (and corresponding SIM and wireless device) was activated.","Still in reference to , after the serving MSC\/VLR A processes the information received via the MAP Insert Subscriber Data message received at step B, the serving MSC\/VLR A generates and forwards a MAP Insert Subscriber Data acknowledgement message to the Multi-SIM product  at step A. At step B, the Multi-SIM product  will forward a MAP Insert Subscriber Data acknowledgement message to the HLR  modifying the MTP, SCCP, Transaction Capability Application Part (TCAP), and MAP layers of the message relative to that received at step A as required. For example, the Primary MSISDN will be replaced by MSISDN\u2018x\u2019. The HLR  will receive the MAP Insert Subscriber Data message and generate an MAP Update Location acknowledgement message using established processes commonly implemented by HLR vendors. The HLR  will forward the MAP Update Location acknowledgement message to the Multi-SIM at step A. The serving MSC\/VLR A will receive the MAP Update Location acknowledgement message and initiate an appropriate confirmation message to the wireless device  \u2018x\u2019 at step B. At step C, the serving MSC\/VLR will complete the registration sequence with the mobile station.","Still in reference to , a mobile originated call may then be established at step A. The MSC\/VLR A will initiate a call to the intended destination address via the Public Switched Telephone Network (PSTN) using the procedures prescribed using the ISDN User Part (ISUP) protocol at step B. A characteristic of the disclosed invention is that the Calling Party Number information associated with the call establishment procedure will be set to the primary MSISDN forwarded to the serving MSC\/VLR A by the Multi-SIM product  at step B.","Still in reference to , those skilled in the art will recognize that a similar sequence will be invoked for GPRS (General Packet Radio Service) registration scenarios. In particular, a characteristic of the disclosed invention is that the Primary MSISDN identifier will be associated with a given IMSI\u2018x\u2019 for the PDP (Packet Data Protocol) Context Activation establishment procedure.","Still in reference to , an optional manifestation of the Multi-SIM product  may selectively screen outgoing call attempts by utilizing procedures associated with IN services. In particular, an IN message (e.g. CAMEL INITIAL_DP) originated from the serving MSC\/VLR A will indicate a call attempt being made by a mobile station A, B, C. The Multi-SIM product  may invoke screening criteria based on the destination and source address information contained in the IN message. The Multi-SIM product  may also invoke incremental screening criteria based on the state of a given mobile device (associated with IMSI\u2018x\u2019) as stored in the Multi-SIM database C (not shown). For example, the Multi-SIM product  may use screening criteria to limit the number of simultaneous calls or to redirect calls to an alternative destination address. The Multi-SIM product  will instruct the serving MSC\/VLR A via an appropriate IN message (e.g. CAMEL CONTINUE or CAMEL CONNECT or CAMEL CANCEL) as to the appropriate course of action based on the screening criteria. Those skilled in the art will recognize that the optional manifestation of the Multi-SIM product  will provide functionality commonly associated with a Service Control Point (SCP). Those skilled in the art will also recognize that there are a variety of IN protocols which are defined by various specifications which serve the similar purposes without diluting the intent and scope of the present invention including those associated with CAMEL and CS-1 (Capability Set 1) as well as derivations thereof. Another optional manifestation of the Multi-SIM product  may act as an intermediation gateway between the serving MSC\/VLR A and a given Service Control Point (not shown) for the purpose of ensuring the seamless support of IN services supported by the Service Control Point (not shown).","Now with reference to , where the respective Short Message (SM) stored in SMS-C  remains to be delivered. Those skilled in the art will recognize that the Short Message may also consist of a Multi-Media or voice-mail alerting message. The SMS-C will generate and forward a MAP SEND-ROUTING-INFO-FOR-SM (SRI for SM) message which will be directed to the Multi-SIM. Those skilled in the art shall recognize that there are a variety of mechanisms by which the MAP SRI for SM message can be forwarded to the Multi-SIM product  using the inherent capabilities of the SS7 network and the associated translation capabilities of the SMS-C . Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto HLR for a given Primary MSISDN from the perspective of the SMS-C .","Still in reference to , the Multi-SIM product  will retrieve the subscriber's service profile using the Primary MSISDN as the index key from an internal database\/table C (not shown). The service profile will contain, among other attributes, information pertaining to the specific routing preferences for Short Message as well as Multi-Media Messages and Voice-Mail alerts as the case may be. The Multi-SIM product  will generate and forward a MAP SRI for SM response message to the SMS-C  at step . The MAP SRI for SM response message will contain information so that the SMS-C will consider the Multi-SIM product  as the serving MSC for the purpose of Short Message delivery. For example, the Network Node Number parameter will contain an identifier which will uniquely identify the Multi-SIM product  as the serving MSC for the purpose of Short Message delivery. Those skilled in the art will recognize that the MAP SRI for SM response message at step  will contain other parameters so that the SMS-C will be able to continue processing the delivery of the Short Message. For example, the MAP SRI for SM message will contain an IMSI value which can be selected from the set of IMSI\u2018x\u2019 associated with the Primary MSISDN or set to a configurable range of values. Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto VLR from the perspective of the SMS-C .","Still in reference to , at step , the SMS-C will attempt delivery of the message by generating and forwarding a MAP MT-FORWARD-SHORT-MESSAGE (MT FSM) message to the Multi-SIM product . At step , the Multi-SIM  will determine the appropriate mobile device (as identified by the IMSI\u2018x\u2019 associated with a given SIM and mobile device respectively) to receive the Short Message based on a number of factors including the source address contained in the MT FSM message as well as the nature of the message (e.g. short message","Now with reference to , a Location Client  will initiate a location retrieval request via an Application Programming Interface (API) at A which will include a number of parameters including but not limited to the Primary MSISDN and a transaction identifier. In lieu of a Primary MSISDN, the Location Client may provide a pseudonym which can be correlated to the Primary MSISDN. The purpose of the transaction identifier being to uniquely correlate a given request with other messages which may be received asynchronously including, but not limited to, a confirmation response. Practitioners skilled in the art shall recognize that a variety of object oriented application programming interfaces (e.g. Common Object Request Broker Architecture (CORBA) or Extensible Markup Language (XML)) may be used.","Still in reference to , at step B, the Gateway Mobile Location Centre (GMLC)  will receive the location retrieval request. The GMLC  will initiate a MAP ANY-TIME-INTERROGATION (ATI) sequence to the Multi-SIM product . Those skilled in the art shall recognize that there are a variety of mechanisms by which the MAP ATI message can be forwarded to the Multi-SIM product  using the inherent capabilities of the SS7 network and the associated translation capabilities of the GMLC . Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto HLR for IMSI\u2018x\u2019 from the perspective of the GMLC . Those skilled in the art will recognize that the functionality of the GMLC is generally defined by a variety of specifications including GSM 03.71 and 3GPP 23.071 as amended from time to time and that modifications to the capabilities of the GMLC as prescribed by the noted specifications does not dilute the intent and scope of the present invention. A characteristic of the disclosed invention is that the location of a given mobile terminal can be retrieved without sending messages to the HLR . Those skilled in the art will recognize that the Multi-SIM product  effectively emulates certain capabilities associated with the HLR for the purpose of retrieving the location associated with a mobile station. or alert). Note that the Multi-SIM product  may use a variety of techniques in order to determine the appropriate mobile device based on either programmatic methods (for example, the last device that registered may be used to forward all short messages) or based on pre-established criteria as provided by the subscriber (for example, the subscriber may send Short Messages and alert messages to different devices based on the relative capabilities supported on each device). The programmatic methods may in turn be affected by the state of each device (e.g. whether a given mobile device is engaged in a call or registered). Those skilled in the art will recognize that a variety of techniques may be used in order to determine the destination mobile device without diluting the intent and scope of the present invention. A characteristic of the disclosed invention is that telecommunication services can be selectively terminated to the plurality of mobile devices based on a number of programmatic techniques as well as pre-configured routing criteria.","Still in reference to , at step , the Multi-SIM product  will generate and forward a MT FSM to the serving MSC\/VLR A associated with the IMSI\u2018x\u2019 of the selected mobile station, modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step  as required. Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto SMS-C from the perspective of the serving MSC\/VLR A. At step , the short message will be delivered to the mobile station A, B, C (among others and as applicable) associated with IMSI\u2018x\u2019. At step , a MAP MT FSM response message containing an indication of the successful or unsuccessful nature of the delivery attempt will be initiated by the serving MSC\/VLR A and forwarded to the Multi-SIM product . At step , the Multi-SIM product  will generate and forward a MT FSM response to the appropriate SMS-C , modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step  as required.","Still in reference to , at step C, the Multi-SIM product  will retrieve the subscriber's service profile using the Primary MSISDN as the index key from an internal database\/table C (not shown). The service profile will contain, among other attributes, information pertaining to the specific preferences for location retrieval, the last known location of the device based on previous location retrieval attempts, as well as the current list of active or registered devices (as identified via the IMSI\u2018x\u2019 identifier associated with a given SIM and mobile device respectively). The Multi-SIM product  will determine the appropriate mobile device (as identified by the IMSI\u2018x\u2019 associated with a given SIM and mobile device) for the purpose of a location query based on a number of factors including the source address contained in the MAP ATI message. The Multi-SIM product  may use a variety of techniques in order to determine the appropriate mobile device for the location query based on either programmatic methods (for example, the last device that registered) or based on pre-established criteria as provided by the subscriber (for example, the subscriber may rank order a number of devices to be located in preferential order). The programmatic methods may in turn be affected by the state of each device (e.g. whether a given mobile device is engaged in a call or registered). Those skilled in the art will recognize that a variety of techniques may be used in order to determine the mobile device for a location query without diluting the intent and scope of the present invention. The Multi-SIM product  will initiate a MAP PROVIDE-SUBSCRIBER-Info (PSI) message towards the appropriate serving MSC\/VLR A based on the selected mobile station (which is associated with a given IMSI(x)) modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step B as required. Upon receipt of the MAP PSI message, the serving MSC\/VLR A will retrieve the location of the mobile station. The mechanisms of retrieving the location of the mobile station are generally prescribed by a variety of specifications including GSM 03.71 and 3GPP 23.071 as amended from time to time.","Still in reference to , at step A a MAP PSI response message will be initiated by the serving MSC\/VLR A which will contain the location of the mobile terminal. The MAP PSI response message will be forwarded to the Multi-SIM product . At step B, the Multi-SIM product  will generate and forward a MAP ATI response to the GMLC , modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step A as required. An optional manifestation of the Multi-SIM product  will store the location of mobile station (associated with IMSI\u2018x\u2019) in the internal database\/table C (not shown). At step C, the GMLC  will provide the location information to the Location Client  via the API. Those skilled in the art will recognize that an optional manifestation of the Multi-SIM product  may abbreviate the location retrieval attempt by providing location information associated with previous location attempts. This will effectively result in steps C and A being bypassed. The retrieval and provision of stored location information is governed by programmatic control and there are a number of procedures and conditions (for example, time based methods) which may be applied to abbreviate the location retrieval process.","Now with reference to , where a SMS delivery report associated with a SMS delivery attempt is to be forwarded to the appropriate Short Message Service Center (SMS-C). At step A, a MAP MT-FORWARD-SHORT-MESSAGE (MT FSM) response message containing an indication of the unsuccessful nature of the delivery attempt will be initiated by the serving MSC\/VLR A and forwarded to the Multi-SIM product . Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto SMS-C from the perspective of the serving MSC\/VLR A based on the intermediation of registration and SMS delivery sequences previously described. At step B, the Multi-SIM product  will generate and forward a MT FSM response to the appropriate SMS-C , modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step A as required.","Still in reference to , at step , the SMS-C A will initiate a MAP REPORT-SM-DELIVERY-STATUS which will contain a number of parameters including the Primary MSISDN and Service Center address and which will be forwarded to the Multi-SIM product . Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto HLR for a given Primary MSISDN from the perspective of the SMS-C A. To that end, the Multi-SIM product  will emulate the capabilities associated with a HLR  for the purpose of setting and maintaining the Message Waiting Data file for the Primary MSISDN. The Message Waiting Data file can be implemented via a variety of mechanisms without diluting the intent and scope of the present invention. For example, the Message Waiting Data file can be stored as a multi-element data element in the Multi-SIM database C (as indexed by the Primary MSISDN). Those skilled in the art will recognize that the intent of the Message Waiting Data file in the HLR, among other functions, is to record the address of SMS-Cs for subsequent notification once a given mobile station is deemed active (registers). At step A, the Multi-SIM product  will initiate a MAP REPORT-SM-DELIVERY-STATUS response message to the SMS-C A indicating that the SMS-Cs address has been stored. At step B, the SMS-C A may provide an indication of the unsuccessful delivery attempt to the Message Center A.","Still in reference to , at step A, a Message Center B may attempt to deliver a Short Message to the a given subscriber as identified by the Primary MSISDN. At step B, the SMS-C B will generate and forward a SRI for SM message which will be directed to the Multi-SIM product . Those skilled in the art shall recognize that there are a variety of mechanisms by which the MAP SRI for SM message can be forwarded to the Multi-SIM product  using the inherent capabilities of the SS7 network and the associated translation capabilities of the SMS-C . The Multi-SIM product  will retrieve the subscriber's service profile and the Message Waiting Data file using the Primary MSISDN as the index key from an internal database\/table C (not shown). The service profile will contain, among other attributes, information pertaining to the specific routing preferences for Short Message as well as Multi-Media Messages and Voice-Mail alerts as the case may be. As the Message Waiting File will indicate that the mobile station is not active\/registered, the Multi SIM platform  will generate and forward a MAP SRI for SM response message to the SMS-C B at step  which will indicate that the subscriber is absent (typically by sending the User Error parameter to \u2018Absent Subscriber_SM\u2019)","Still in reference to , at step , the SMS-C B will initiate a MAP REPORT-SM-DELIVERY-STATUS which will contain a number of parameters including the Primary MSISDN and Service Center address and which will be forwarded to the Multi SIM platform . At step , the Multi-SIM product  will initiate a MAP REPORT-SM-DELIVERY-STATUS response message to the SMS-C B indicating that the SMS-Cs address has been stored.","Now with reference to , which illustrates the intercept of the MAP READY FOR SM operation generally used by the MSC\/VLR A if a subscriber, whose message waiting flag is active in the VLR, has re-established radio contact with the network or has memory available. At step , the MSC\/VLR A generates MAP READY FOR SM message which is forwarded to the Multi-SIM product . Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto HLR for a given IMSI\u2018x\u2019 from the perspective of the MSC\/VLR A. The MAP READY FOR SM message will contain several parameters indicating if the mobile subscriber is present or if the mobile station has memory. At step , the Multi-SIM will generate and forward a MAP READY FOR SM response message to the MSC\/VLR A indicating that the message at step  has been received and processed successfully.","Still in reference to , the Multi-SIM product  will retrieve the subscriber's service profile using the IMSI\u2018x\u2019 as the index key from an internal database\/table C (not shown). The service profile will contain, among other attributes, information pertaining to the specific routing preferences for Short Message as well as Multi-Media Messages and Voice-Mail alerts as the case may be. The service profile will contain the Primary MSISDN associated with IMSI\u2018x\u2019 which will in turn be used to index the Message Waiting Data elements. Based on the information retrieved, the Multi-SIM will determine which SMS-C should be contacted. Those skilled in the art will recognize that the Multi-SIM product  may use a variety of techniques in order to determine the appropriate SMS-C based on the information contained in the internal database\/table C (not shown). In particular, the Multi-SIM product  may determine that a SMS-C may not be contacted based on the routing preferences prescribed by the subscriber. Alternatively, the Multi-SIM product  may determine that several SMS-Cs (not shown) should be contacted. At step A, the Multi-SIM product  will generate and forward a MAP ALERT-SERVICE-CENTRE (Alert SC) to the selected SMS-C A (or SMS-Cs (not shown)) indicating that a given subscriber (as identified by the Primary MSISDN) is ready to receive Short Messages. At step B, the SMS-C may alert Message Centers to the effect that a given subscriber may receive Short Messages.","Still in reference to FIG. YE, at step B, the SMS-C A will generate and forward a MAP Alert SC response message to the Multi-SIM product  indicating that the MAP Alert SC message was received and processed successfully. At this point in time, the SMS-C  may initiate the short message delivery mechanisms as described earlier in the text associated with .","Still in reference to , those skilled in the art will recognize that other mechanisms including the registration process described in  may invoke the MAP Alert SC sequence described at step A.","Now with reference to , USSD MAP messages are typically routed to and from the USSD Application via the serving MSC\/VLR and HLR using the methods, operations, and protocols specified in GSM 03.90 and GSM 09.02 as amended from time to time. An optional manifestation of the invention provides an USSD-based subscriber interface to change default routing preferences of Multi-SIM subscribers. The Multi-SIM product  will also permit subscribers and network operators to make configuration changes via a (web-based) provisioning interface.","Still with reference to , at step , a subscriber may invoke an Unstructured Supplementary Service Data (USSD) service by keying in a USSD short code (e.g. *XX#). This will invoke a USSD Message (e.g. MAP PROCESS_UNSTRUCTURED_SS_REQUEST (PUSSR)) which will be forwarded to the Multi-SIM product  using the inherent capabilities of the SS7 network and the associated translation capabilities of the serving MSC\/VLR A. At step , the Multi-SIM product  may recognize that the USSD short code (as provided via the USSD String parameter) matches a prescribed code associated with the invocation of a feature of the Multi-SIM service. Example services include modifying the routing behavior of the Multi-SIM service for received voice or messaging traffic or obtaining information pertaining to the current settings of the Multi-SIM product  for the subscriber. At step , the Multi-SIM product  initiates a MAP USSD response message. The MAP USSD response message may contain text which indicates that the requested feature was invoked successfully or requested information pertaining to the status of the Multi-SIM service. At step , the MSC\/VLR will relay the information to the mobile station per the processes described in GSM 03.90 and GSM 09.02.","Still with reference to , at steps A, B, , a USSD message which is not associated with a Multi-SIM service or feature is propagated to the USSD Based Application  via the Multi-SIM product  and HLR . At step B, the Multi-SIM product  modifies the SCCP, TCAP, and MAP layers of the message relative to that received at step A as required. Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto HLR for IMSI\u2018x\u2019 (or the Primary MSISDN) from the perspective of the MSC\/VLR \u2014and that the Multi-SIM product  will appear as a defacto MSC\/VLR for IMSI\u2018x\u2019 (or MSISDN\u2018x\u2019) from the perspective of the HLR . At steps , A, B, an USSD response message initiated from the USSD Based Application  and is propagated to the serving MSC\/VLR A via the HLR  and Multi-SIM product . At step B, the Multi-SIM product  modifies the SCCP, TCAP, and MAP layers of the message relative to that received at step A as required. At step B, the MSC\/VLR will relay the information to the mobile station per the processes described in GSM 03.90 and GSM 09.02.","Now with reference to , Supplementary services (e.g. call forwarding services) are typically modified (in order to activate, deactivate, register, erase, or check the status of supplementary services as the case may be) via MAP messages between the MSC and the VLR and between the VLR and the HLR using the methods, operations, and protocols specified in GSM 09.02 as amended from time to time. At step , a subscriber may invoke a command via the Man Machine Interface (MMI) of his\/her mobile terminal in order to modify a supplementary service. This will invoke a Supplementary Service MAP message (e.g. MAP ACTIVATE_SS) which will be forwarded to the Multi-SIM product  using the inherent capabilities of the SS7 network and the associated translation capabilities of the serving MSC\/VLR A. The Multi-SIM product  will retrieve the subscriber's service profile from an internal database\/table C (not shown). The service profile will contain, among other attributes, the complete range of terminal information associated with the subscriber\u2014including the entire suite of IMSI\u2018x\u2019 and MSISDN\u2018x\u2019 information associated with the subscriber. At steps , , and  the Multi-SIM  will propagate the appropriate Supplementary Service MAP message to the HLR(s)  associated with a given IMSI\u2018x\u2019 for each device A, B, C as applicable (in particular, each IMSI\u2018x\u2019 may be associated with a different HLR). Practitioners skilled in the art will recognize that the number of devices need not be bound to one (1) of three (3) selections and may exceed such limitations to the state of the art. At steps , , and  the HLR(s) will generate and initiate appropriate Supplementary Service MAP response messages which will be forwarded to the Multi-SIM product . At step , once the Multi-SIM product  has received confirmation that the required supplementary service command has been carried out successfully, the appropriate Supplementary Service MAP response message will be generated and forwarded to the Serving MSC\/VLR A. At step , if one of the responses from the HLR indicates an unsuccessful attempt, a Supplementary Service MAP response message indicating an unsuccessful attempt will be provided to the serving MSC\/VLR A. An optional manifestation of the invention may roll-back the settings associated with a given supplementary service by invoking the complementary Supplementary Service command (e.g. a DEACTIVATE_SS message to counter a prior ACTIVATE_SS message) (not shown). The optional manifestation of the invention will retrieve the status of a given Supplementary Service setting via the MAP INTERROGATE_SS message (not shown) prior to invoking the subscriber command at steps , , .","Now with reference to , at step A, a call will be received by the Gateway MSC C from the PSTN . At step B, the Gateway MSC C will generate and forward a MAP SEND_ROUTING_INFORMATION (SRI) message to the Multi-SIM product . The Multi-SIM product  will retrieve the subscriber's service profile using the Primary MSISDN as the index key from an internal database\/table C (not shown). The service profile will contain, among other attributes, information pertaining to the specific preferences for call delivery, the last known location of the device based on previous location retrieval attempts, as well as the current list of active or registered devices (as identified via the IMSI\u2018x\u2019 identifier associated with a given SIM and mobile device respectively). The Multi-SIM product  may use a variety of techniques in order to determine the appropriate mobile device (as identified by the IMSI\u2018x\u2019 associated with a given SIM and mobile device) for call delivery based on either programmatic methods (for example, the last device that registered) or based on pre-established criteria as provided by the subscriber (for example, the subscriber may rank order a number of devices for call delivery in preferential order). The programmatic methods may in turn be affected by the state of each device (e.g. whether a given mobile device is engaged in a call or registered). At step C, an optional manifestation of the Multi-SIM product  will confirm the status of the selected mobile station by initiating a MAP PROVIDE-SUBSCRIBER-Info (PSI) message to the serving MSC\/VLR A. At step , the serving MSC\/VLR A will provide a MAP PSI response message containing the status of the mobile station. Depending on the nature of the status information received, the Multi-SIM product  may select an alternative mobile station and confirm the status of the alternative mobile station (not shown) (in effect, steps C and  will be repeated). This process will continue until a suitable mobile station (as identified by IMSI\u2018x\u2019) is determined to be available for the purpose of receiving a call. At step , once a suitable mobile station is selected, the Multi-SIM product  will generate a MAP SRI message and forward it to the HLR. At step , the HLR  will generate a MAP PROVIDE_ROAMING_NUMBER (PRM) message and forward it to the Multi-SIM product . At step , the Multi-SIM product  will forward the MAP PRM message to the serving MSC\/VLR A modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step  as required. At step , the serving MSC\/VLR A will generate and forward a MAP PRM response message containing the roaming number to the Multi-SIM product . At step , the Multi-SIM product  will forward the MAP PRM response message to the serving HLR  modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step  as required. At step A, the HLR will generate and forward a MAP SRI response message to the Multi-SIM product  containing the roaming number. At step B, the Multi-SIM product  will forward the MAP SRI response to the Gateway MSC C modifying the MTP, SCCP, TCAP, and MAP layers of the message relative to that received at step A as required.","Still in reference to , the Gateway MSC C will establish a call to the serving MSC\/VLR A via the PSTN using the routing number received at step B. A characteristic of the disclosed invention is that the incoming calls can be selectively prioritized based on a number of attributes including the state of each mobile device (as identified by IMSI\u2018x\u2019) and the prescribed routing preferences of the subscriber. Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto HLR for a Primary MSISDN or IMSI\u2018x\u2019 from the perspective of the Gateway MSC C and the serving MSC\/VLR A respectively. Those skilled in the art will recognize that the Multi-SIM product  will appear as a defacto Gateway MSC and serving MSC\/VLR for a MSISDN\u2018x\u2019 and IMSI\u2018x\u2019 from the perspective of the HLR .","Still in reference to , an optional manifestation of the Multi-SIM product  may act as an intermediation gateway between the serving Gateway MSC C and a given Service Control Point (not shown) for the purpose of ensuring the seamless support of IN services supported by the Service Control Point (not shown)."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1B"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1C"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 1D","FIG. 1D"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1E"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1F"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1G"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1H"}]},"DETDESC":[{},{}]}
