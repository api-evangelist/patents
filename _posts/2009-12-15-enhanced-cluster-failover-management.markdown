---
title: Enhanced cluster failover management
abstract: An embodiment of the present invention is directed to a method and system for making intelligent failover decisions within a server cluster. The method includes receiving temperature information and location information using RFID technology and detecting an error condition. The method further includes responsive to the error condition, selecting a failover target based on said temperature information and location information and transferring operations from a portion of a storage cluster to the failover target based on the selecting.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08484510&OS=08484510&RS=08484510
owner: Symantec Corporation
number: 08484510
owner_city: Mountain View
owner_country: US
publication_date: 20091215
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["Embodiments of the present invention generally relate to digital computer systems.","As technology advances, data storage is increasingly important and the amounts of data storage is increasing rapidly. Correspondingly, the size of data storage arrays and their demands for storage have increased rapidly. Ever increasing amounts of data are required to be highly available and protected from corruption or damage caused by any of a variety of factors, such as natural disasters and power failures. As a result, increasingly complex data storage clusters are used to satisfy the demands for data storage and retrieval.","Server clusters often include multiple nodes or servers communicating in a peer to peer fashion to provide access to multiple data storage arrays. The multiple nodes allow requests to be spread over the nodes to provide high availability as well as supporting failover of functionality to other nodes as necessary. In addition, the nodes may be geographically dispersed to prevent a localized event from interrupting the operation of the cluster. Currently, the nodes make decisions on failover based on system load, static priorities, and user configured priorities.","Unfortunately, current failover decisions do not result in optimal selection of nodes. The nodes or clusters selected for failover may be remote from primary storage or have environmental conditions that are indicative of impending problems. For example, a first set of nodes may be local to a primary storage array and remote from a secondary storage array which is local to a second set of nodes. Current failovers techniques can result in request processing being transferred to one of the second set of nodes which are remote from the primary storage resulting in an undesirable increase in latency. In addition, the second set of nodes may be at a higher temperature thereby causing them to be shutdown and thus necessitating processing to be transferred again.","In a similar manner, current failover techniques may not result in optimal transfers of coordination functionality among nodes. For example, current techniques may assign a node identifier or ID to each node and select a master coordination node based on the lowest ID. Again, this can result in increased latency as master coordination is transferred to a node that may be remote from the primary storage.","In addition, current failover selection techniques may select a group of failover nodes based on the size of the cluster in an effort to favor the larger cluster with more nodes. However, this can result in the less than optimal cluster selection. For example, where a node is failing in a two node cluster that is local to primary storage with a three node cluster that is remote from the primary storage, current techniques will select the three node cluster as a failover target. This results in increased latency because the three node cluster now handling requests is remote from the primary storage.","Thus, a need exists to make more intelligent selection in the failover of clusters to avoid increasing latency, thereby causing delays, and avoiding selection of systems in less environmentally desirable conditions.","Accordingly, embodiments of the present invention provide systems and methods for making intelligent cluster management decisions based on locations and environmental conditions (e.g., temperature). Embodiments utilize wireless communication, e.g., dynamic radio frequency identification (RFID) based information, in enabling more intelligent failover selection.","In one embodiment, the present invention is implemented as a method including receiving environmental information (e.g., temperature) and location information using wireless technology and detecting an error condition. In one embodiment, the location information may include a variety of information including rack information of a server of the storage cluster and zone information of a server of the storage cluster. In one embodiment, the temperature information comprises real-time ambient temperature of the device. Error conditions may be a variety of conditions including a network link failure, an application fault, and a storage fault. The method further includes, in response to the error condition, selecting a failover target based on the environmental information and location information and transferring operations from a portion of a storage cluster to the failover target based on the selection process. In one embodiment, the method further includes shutting down a portion of the storage cluster based on temperature information and the location information. The failover target may be a variety of devices including a server local to a primary storage, another server of the storage cluster, a portion of a storage cluster, and another storage cluster. The wireless technology may include RFID devices.","In one embodiment, the present invention is implemented as a computer readable storage medium having stored thereon, computer executable instructions that, if executed by a computer system cause the computer system to perform a method including receiving environmental information, e.g., temperature, and location information using wireless technology and detecting an error condition. The wireless technology may comprise a variety of devices including a rack RFID sensor. The method further includes, in response to the error condition, selecting a failover target based on the environmental and location information. In one embodiment, the selecting is further based on the proximity of a server to a storage array. The selection of the failover target may be based on a variety of information including the current ambient temperature of a failover target being lower than the ambient temperature of a server with an error condition. In one embodiment, the selection process includes selecting a master node. The method further includes transferring operations from a portion of a storage cluster to the failover target based on the selection result. In one embodiment, the storage cluster is a campus cluster.","In yet another embodiment, the present invention is implemented as a storage cluster system comprising a computer system having a processor coupled to a computer readable storage media and executing computer readable code which causes the computer system to implement a process including: receiving environmental information and location information using wireless technology and detecting an error condition. In one embodiment, the wireless technology may comprise a zone RFID sensor. The environmental information may comprise an ambient temperature for each location within the location information. The implemented process further includes, responsive to the failover event, selecting a failover target based on the temperature and location information. The selection may further be based on the proximity of a server to a storage array. The executing of computer readable code further causes the computer system to transfer operations from a portion of a storage cluster to the failover target based on the selection. In one embodiment, the storage cluster spans two geographical locations.","Reference will now be made in detail to embodiments of the claimed subject matter, examples of which are illustrated in the accompanying drawings. While the invention will be described in conjunction with embodiments, it will be understood that they are not intended to limit the claimed subject matter to these embodiments. On the contrary, the claimed subject matter is intended to cover alternatives, modifications and equivalents, which may be included within the spirit and scope of the claimed subject matter as defined by the claims. Furthermore, in the detailed description of the present invention, numerous specific details are set forth in order to provide a thorough understanding of the claimed subject matter. However, it will be obvious to one of ordinary skill in the art that the claimed subject matter may be practiced without these specific details. In other instances, well known methods, procedures, components, and circuits have not been described in detail as not to unnecessarily obscure aspects of the claimed subject matter.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1","b":["100","102","104","108","106","110","100"],"i":["a","c","a","b","a","b"]},"Client systems -access information on storage arrays -via servers -using, for example, a web browser or other suitable client communication software (not shown).  depicts the use of a network  such as the Internet for exchanging data, but the present disclosure is not limited to the Internet or any particular network-based environment.","Each of servers -can have multiple clients (e.g., clients -) connected thereto. Servers -can be a variety of server types including, but not limited to, database servers, network file system (NFS) servers, and application servers (e.g., billing). For example, applications and servers might have thousands of people accessing them from different locations, thus the applications and servers need to be highly available and the cluster fault tolerant. In some embodiments, servers -have access to shared storage of storage arrays -with each of servers -having its own respective clustered file system and its own built-in lock manager thereby allowing servers -to access the shared storage. Each of servers -communicate with each other over network . In one embodiment, network  is a redundant private network. Servers -may be linked to storage arrays -in a variety of ways including, but not limited to, fibre channel.","Servers -respectively execute cluster managers -which intelligently handle failover decisions between servers (e.g., servers -) based on location and temperature information in accordance with embodiments of the present invention. More specifically, cluster managers -may use dynamic environmental, location, and dependency information in making intelligent cluster arbitration decisions. In accordance with embodiments of the present invention, some of this information may be wirelessly obtained. For example, server may be in one location while server resides in another location and cluster managers -may make decisions on which of servers -should handle processing functions in response to an error condition. As another example, cluster managers -may make failover decisions based on the current environmental conditions of a data center and rack to trigger a failover for instance upon a temperature rising above a prescribed threshold. In addition, cluster managers -may make decisions about group failover (e.g. for groups of servers), server arbitration, and master server selection upon encountering error conditions.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2","b":["200","204","202","208","204","206","216","226"],"i":["a","c","a","c","a","c ","a","d","a","d"]},"Information from wireless technology, e.g., RFID technology, can be used in a data center for assets management for tracking server and storage at different levels within a data center (e.g., zonal\u2014for distributed assets within buildings, rack level\u2014for assets within a data center, room level, etc.). RFID technology further allows tracking of assets which can move within a data center and between data centers. RFID technology further allows automatic updates of information without administrative support. By leveraging RFID technology to sense where servers and storage are located, embodiments of the present invention can provide advantageously intelligent algorithms for arbitration instead of relying solely on user configured policies and static information.","Servers -and -handle requests from clients (e.g., clients -) and provide access to storage (e.g., storage array ). Servers -, -, and storage array  have RFID tags -, -, and respectively. RFID tags -, -, and allow for identification and proximity sensing by RFID sensors -. RFID sensors -provide information including current temperature information and present location information to RFID server . For example, RFID sensor may provide information that servers -are located in rack (via the proximity of RFID tags -). In one embodiment, RFID server  receives information from RFID sensor in the form of \u201cTag ID XYZ Rack A\u201d where XYZ is the ID of RFID Tag and rack is rack A. It is appreciated that RFID server  may optionally be located in one of racks -. If a server and attached tag are moved, the RFID tag can be tracked based from where it communicates (e.g., the rack where the server now resides).","In some embodiments, RFID sensors -may comprise temperature sensors operable to measure the ambient temperature and transmit the real-time temperature information to RFID server . The placement of RFID temperature sensors on a per rack basis allows collection of information as to whether the servers in the rack are heating up or cooling down. In one embodiment, RFID tags on devices (e.g., servers -and -and storage array ) may have temperature sensors.","RFID Tags -, -, and may be active and passive RFID tags. Passive RFID tags provide information when an attached device (e.g., server) is powered on. Active RFID tags may have a battery and provide information even if the device is powered off.",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 3","b":["314","316","312","306","302","308","304","310"],"i":["a","b","a","b","a","a","a","a"]},"Rack RFID sensors -N and -N provide information on devices (e.g., servers -, -, and storage array ) in racks -N and racks -N, respectively. RFID zone sensors -provides zone information based on the RFID tags of computing systems (e.g., servers devices in racks -N and -N).","In one embodiment, each rack (e.g., racks -N and racks -N) may be associated with a zone. Zone information may also provide location information based on servers or racks being known to be located in certain locations (e.g., campus  or ). For example, RFID server -may provide information in the format of \u201cTAG xyz is located in RACK 1 in Zone Z1\u201d. Zone sensors -may also provide the real-time ambient temperature of the zone.","RFID zone sensors -may allow storage to be associated with a zone via an RFID tag (e.g., RFID Tag ). RFID zone sensor -may thus provide information of the location relative to the servers and racks which can be used to infer the locations of primary and secondary storage. This information can be used by a cluster manager for example for making intelligent failover decisions in accordance with embodiments of the present invention.","It is appreciated that RFID servers -provide dynamic updates as devices are moved (e.g., servers -, -, and storage array ). For example, if a server is moved from campus  to campus , the server still has the same RFID Tag and configuration but will now be detected by the rack RFID sensor and RFID zone of campus . In accordance with embodiments described herein, the updated information as a result of a movement may be used for making intelligent failover decisions (e.g., cluster manager).",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 4","b":["414","416","414","416","414","416"]},"Campus  includes server and storage array . Network  communicatively couples servers -. In one embodiment, network  is a redundant private network. Server is also communicatively coupled to storage arrays -and to coordinator disk . Campus  includes servers -, storage arrays -, and coordinator disk . Servers -are communicatively coupled via network  and are also communicatively coupled to storage arrays -","Servers -include cluster managers -which make intelligent cluster management decisions for failover of processing functionality among servers -. More specifically, in accordance with embodiments of the present invention, cluster managers -make use of location and temperature information in determining which servers to failover to among servers -. For example, cluster managers -may consider a plurality of factors in a failover selection including the location and ambient temperature of each server, the location and ambient temperature of each storage array, storage\/server dependency of each server, and the proximity of the storage to the array in a campus cluster environment. It is appreciated that the temperature and location information may be used in tandem with existing information or policies to make a more robust target selection algorithm.","Embodiments support primary or secondary configuration of the storage at each campus. The primary and secondary status means that data is written locally (primary) and periodically mirrored out to the secondary storage. In the case of failure of the primary storage, data can be restored from the secondary storage. In one embodiment, campus clusters often have servers writing to one particular primary storage.","In one embodiment, cluster managers -support write shipping where if a server does not have connectivity to storage (e.g., storage arrays -), the server sends the data across the network (e.g., network ) to have another server perform the writing. It is appreciated that there may be a latency associated with data writing from a remote server to a primary storage if it is not at the same geographic location.","In one embodiment, cluster managers -support application failover from one server or node to another. A failure at a component level (e.g., a database process keeps dumping and dying, there is a faulty network interface card (NIC) card, an IP address intentionally being unconfigured), may cause an application failure which would be detected by cluster managers -and failover the application to another server based on location and temperature information. For example, if server is running a database application and if the database application is faulting, operations may be transferred to servers based on the proximity of server to . Proximity is detected based on the reported location information of the individual servers.","In another embodiment, cluster managers -support shutting down servers or nodes upon error conditions. Cluster managers -may support shutting down a server based on a reported ambient temperature. For example, if the temperature is climbing at campus , cluster managers -may transfer operations from server to servers -and shutdown server to prevent damage from over heating. The temperature information may be from the described RFID sensors (e.g., rack RFID sensor or RFID zone sensor ).","Cluster managers -further support shutting down servers based upon network partitions. In one embodiment, cluster managers -have a membership module and a fencing module for handling error conditions including, but not limited to, network partitions (e.g., network link failure or a network switch failure). It is appreciated that embodiments may use membership functionality alone or in combination with fencing functionality in a failover selection. A network partition prevents some of the servers from communicating with each other meaning that the servers cannot cooperate or coordinate management of locks on storage arrays -. Accordingly, embodiments will shut down a server or servers in an effort to prevent data corruption. It is appreciated that other error conditions may necessitate shutting down of a server.","In one embodiment, membership modules are used with shared storage in an active\/passive configuration. It is appreciated that the membership modules of cluster managers -may operate in other configurations. For example, servers -may be active servers while server may be a passive server with shared storage of storage arrays -. Upon the loss of connectivity over network  of server with servers -, the membership modules of each of cluster managers -detect that each of the other servers have faulted. Passive server will now become active which results in an active\/active configuration without lock protection to the shared storage of storage arrays -. The membership modules will now shut down a server to prevent data corruption. In the example, the membership modules will shut down to prevent data corruption based on the proximity of serves -to shared storage of storage arrays -","In another embodiment, when a fencing module of cluster managers -are used, coordinator disk  is used to determine which server to shutdown along with locality and temperature information in accordance with embodiments of the present invention. It is appreciated that coordinator disk  may include multiple coordinator disks (e.g., 3 logical unit numbers (LUNs)). With an active\/passive configuration, coordinator disk  could have 3 logical unit numbers (LUNs) acting as coordinator disks and each of servers -to register keys (e.g., similar to small computer system interface (SCSI) 3 keys) in each of the LUNs. Coordinator disk  may be used by fencing module of cluster managers -to determine which server should be shutdown based on which server(s) first can eject the keys from the coordinator disk  along with location and temperature information.","Referring to the example above, fencing module selects server for shutdown based on the proximity of servers -to storage arrays -or based on server having a higher ambient temperature than servers -. In some embodiments, the fencing module of cluster managers -may determine a server to shutdown before a membership module determines a server to shutdown.","Fencing modules of cluster managers -also support parallel group configurations. For example, if each of servers -are in active parallel configurations a failure of server or a detected temperature of server above a threshold will result in server being shutdown and servers -will takeover handling requests.","Cluster managers -further support intelligent failover decisions when storage fails. For example, within a configuration of storage arrays -and servers -operating in parallel, if storage array fails and there is a loss of connectivity between servers -, then the membership and fencing modules will select to shutdown server based on the closer proximity of server to operating storage . The proximity of server to storage is automatically detectable via RFID technology (e.g., RFID tags -, -, and ).",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 5","b":["514","516","514","516"]},"Campus  includes server and storage array . Network  communicatively couples servers -in accordance with embodiments. In one embodiment, network  is a redundant private network. Server is also communicatively coupled to storage arrays -and coordinator disk . Campus  includes servers -and storage arrays -. Servers -are communicatively coupled via network  and are also communicatively coupled to storage arrays -","Servers -include cluster managers -which make intelligent cluster management decisions for failover of master node functionality among servers -in accordance with embodiments of the present invention. More specifically, cluster managers -make use of location and temperature information in determining which servers to failover master functionality to among servers -. For example, cluster managers -may consider a plurality of factors including the location and ambient temperature of each server, the location and ambient temperature of each storage array, storage\/server dependency of each server, and the proximity of the storage to the array in a campus cluster environment. In one embodiment, each of servers -have access to a primary and secondary storage and vice versa.","In one embodiment, membership modules of cluster managers -are responsible for coordination of messages (e.g., lock coordination, heartbeat, etc.) between servers -. Membership modules of cluster managers -assign nodes identifiers (ID) to each of server -. Server is assigned a node identifier (ID) of . Server is assigned a node ID of  and server is assigned a node ID of . More specifically, the membership modules guarantee that each server gets messages in order in the cluster without having to resend message or manage the ordering of the messages. Membership modules of cluster managers -select a master node or server to coordinate delivery of the messages among servers -. The master node performs the underlying coordination and sequencing to ensure that the correct sequence numbers are being granted and recover if a node leaves or joins the cluster.","Conventional methods choose lowest node ID as master when there is an event requiring failover. For example, conventional methods would select server if server were to go down, which would be undesirable as server is remote from primary storage arrays -","Advantageously, the membership modules of cluster managers -in accordance with embodiments of the present invention use location based information and storage information to select next master upon an error condition. Cluster managers -make decisions in an effort to keep the master node on one zone which is connected to the primary storage. It is appreciated that having the failover master node proximate to the current master reduces latency as the master node functionality is transferred. In one embodiment, location information reflecting that servers -are both in campus  would be used in selecting a failover target, and therefore a failover selection selects server on the basis of being local to server . In another embodiment, if the reported ambient temperature of server is higher than the ambient temperature of server , then server may be selected as the failover target as the higher ambient temperature of sever may indicate that a thermal problem is impending which, for example, could require the shutdown of server ",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 6","b":["602","210","220","230","202","306"],"i":["a","d","a","d","a","a","c ","a","b"]},"RFID server  provides information to RFID daemon  of cluster manager . In one embodiment, RFID server  provides a web services application programming interface (API) to receive updated values of RFID Tags and RFID sensors. Exemplary output from a sensor may be of the type \u201cTAG xyz has a temperature of 30 C.\u201d At startup, each RFID server obtains the RFID information and anytime a tag dynamically changes or temperature changes value then there is a call back into RFID daemon  and the latest information is provided to RFID daemon .","RFID Parser  receives updates from RFID server  received via the sensor tags. RFID parser  provides the updates to cluster manager engine , membership module , and fencing module . In one embodiment, RFID parser  interfaces with membership module , and fencing module  via an input\/output control (ioctl) interface. Each of cluster manager engine , membership module , and fencing module  have internal data structures (e.g., data structure ) for storing the received information. Embodiments thus allow objects to be enhanced with RFID tag information (e.g., data structure ) that can be automatically and wireless communicated.","Further, RFID daemon  is able to determine movement of resources (e.g., servers and storage arrays) based on RFID Parser  and forward the determined information. For example, movement from campus to campus (e.g., campus  to ) is detected based on a current location of a server being picked up in another campus (e.g., campus ).","Cluster manager engine  receives location information and environmental information from RFID parser . In one embodiment, cluster manager engine  provides an input\/output control (ioctl) interface to allow periodically update of the values by RFID parser  whenever there is a change. Cluster manager engine  provides a mechanism to manage persistent information in the form of attributes. The attributes for each tag contain details about the tag id and its current values (e.g., data structure ).","In one embodiment, cluster manager engine  is application aware and able to make determinations of failover targets in response to error conditions, as described herein. In one embodiment, cluster manager engine  includes different agents that monitor a variety of cluster resources including, but not limited to applications, NFS mount points, IP addresses, and NICs.","Cluster manager engine  provides received location information and temperature information to other cluster manager  (e.g., cluster managers of other servers) thereby allowing each server in a cluster to obtain and manage up-to-date location information and temperature information. In one embodiment, location and temperature information are kept persistent and replicated across the cluster using a built-in replicated state machine infrastructure.","Membership module  determines failover targets, as described herein, based on the temperature and location information from RFID Tags and RFID sensors. Fencing module  determines failover targets, as described herein, based on the temperature and location information from RFID Tags and RFID sensors. Thus, in accordance with embodiments of the present invention, cluster manager engine , membership module , and fencing module  leverage the dynamically updated information from RFID technology to select failover targets.",{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 7","b":["700","702","704","708","700","700","700"]},"RFIDTag  has attributes values  which in some embodiments include a type attribute, a zone attribute, a rack attribute, and a temperature attribute. DepStorage  has attribute values , which in some embodiments, include a name attribute, a dep attribute, a type attribute, a zone attribute, a rack attribute, and a temperature attribute. Type attributes correspond to the type of server (e.g., operating system).","Zone values correspond to the zones that the RFIDTag for a server may be located (e.g., RFID Tags -and -) and zones that storage may be located in (e.g., campus  and ). It is appreciated that each zone may correspond to separate campuses or multiple zones may be present in a single campus. For example, multiple racks may be spread among multiple zones.","Rack values correspond to the rack in which an RFIDTag (e.g., RFID Tags -and -) is located and the rack in which the dependent storage is located, respectively. Temperature values correspond to the temperature associated with the servers having the RFID Tags (e.g., RFID Tags -and -) and RFID Tags associated with storage (e.g., RFID Tag ). In one embodiment, the temperature value may be the ambient temperature. In another embodiment, the temperature value may be the physical temperature of the system (e.g., server).","With reference to , exemplary flowchart  and  illustrate example processes used by various embodiments of the present invention. Although specific blocks are disclosed in flowcharts  and , such blocks are exemplary. That is, embodiments are well suited to performing various other blocks or variations of the blocks recited in flowcharts  and . It is appreciated that the blocks in flowcharts  and  may be performed in an order different than presented, and that not all of the blocks in flowcharts  and  may be performed. Flowcharts  and  include processes that, in various embodiments, are carried out by a processor under the control of computer-readable and computer-executable instructions. Embodiments of the present invention may thus be stored as computer readable media or computer-executable instructions including, but not limited to, a firmware update, software update package, or hardware (e.g., ROM).","More specifically,  shows an exemplary flowchart of a process  for cluster management, in accordance with one embodiment of the present invention. Process  allows a cluster to intelligently failover operations upon an error condition and thereby provide high availability.","At block , temperature information and location information are received using wireless technology, e.g., RFID technology. The RFID technology may include a variety of devices including a zone RFID sensor and a rack RFID sensor. As described herein, the temperature information and location information may include a variety of information including location information comprising rack information, zone information, and ambient temperature.","At block , an error condition is detected. As described herein, embodiments may detect a variety of error conditions including network link failure, an application fault, and a storage fault.","At block , responsive to the error condition, a failover target based on the temperature and location information is automatically selected. As described herein, a failover target may be a variety of devices including a server local to a primary storage, another server of the storage cluster, a portion of a storage cluster, or another storage cluster. The selection of a failover target may be selected by a membership module, a fencing module, or a cluster manager engine. The selection of a failover target may also include selection of a master node. For example, the selection of the failover target may be based on an ambient temperature of a failover target being lower than a currently processing portion of the storage cluster.","At block , operations from a portion of a storage cluster are transferred to the failover target based on the selection of block . As described herein, the transfer of operations is performed to a portion of the storage cluster to have minimal impact and minimal change in performance (e.g., latency). In one embodiment, the storage cluster spans two geographical locations (e.g., a campus cluster).","At block , a portion of the storage cluster is shutdown based on the temperature information and the location information. As described herein, a portion of storage cluster may be shutdown for a variety of reasons including, but not limited to, environmental conditions (e.g., temperature) and network partitions.",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 9","b":["900","900"]},"At block , the server is checked whether it is directly connected to the storage. As described herein, the server is checked to determine its proximity to the storage (e.g., primary storage) to ensure lower latency based on the information from the RFID technology. Proximity is determined based on reported location information from the wireless technology.","At block , the server is checked whether the temperature is within a suitable range. As described herein, the temperature (e.g., ambient temperature) information for the server is checked to determine if it is within a suitable range (e.g., not close to a threshold temperature that would require transferring operations from a server so that it may be shut down). Temperature is determined based on reported environmental conditions from the wireless technology.","At block , the server is checked whether the server is close to the failing server or server with an error condition. As described herein, the location of the server is compared with the location of the server with the error condition to ensure low latency in transferring operations from the server with the error condition.","At block , the server is checked whether any preconfigured policies are satisfied. Embodiments may also consider or weight additional factors in determining whether a server is a suitable failover target including preconfigured policies, cluster size, and node ID, etc. that are well known.","At block , the server is failed-over-to if each of the checks are satisfied. Based on conditions being satisfied, the server has operations transferred over, otherwise block  may be performed. It is appreciated that not all conditions may be satisfied but a threshold of conditions may be satisfied in selecting a server as a best or most suitable failover target. In one embodiment, when potential failover targets are similar or equidistant from a server with a detected error condition, the temperature of the potential failover targets may be used to select a failover target.","At block , another server is selected for checking based on the current server being an unsuitable failover target. Block  may then be performed for the newly selected server.",{"@attributes":{"id":"p-0083","num":"0082"},"figref":["FIG. 10","FIG. 10"],"b":["1000","1000","1000","1000","1002","1004","1004","1004","800","900"]},"Additionally, computing system environment  may also have additional features\/functionality. For example, computing system environment  may also include additional storage (removable and\/or non-removable) including, but not limited to, magnetic or optical disks or tape. Such additional storage is illustrated in  by removable storage  and non-removable storage . Computer storage media includes volatile and nonvolatile, removable and non-removable media implemented in any method or technology for storage of information such as computer readable instructions, data structures, program modules or other data. Computer readable medium , removable storage  and nonremovable storage  are all examples of computer storage media. Computer storage media includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other medium which can be used to store the desired information and which can be accessed by computing system environment . Any such computer storage media may be part of computing system environment .","Computing system environment  may also contain communications connection(s)  that allow it to communicate with other devices. Communications connection(s)  is an example of communication media. Communication media typically embodies computer readable instructions, data structures, program modules or other data in a modulated data signal such as a carrier wave or other transport mechanism and includes any information delivery media. The term \u201cmodulated data signal\u201d means a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media includes wired media such as a wired network or direct-wired connection, and wireless media such as acoustic, RF, infrared and other wireless media. The term computer readable media as used herein includes both storage media and communication media.","Communications connection(s)  may allow computing system environment  to communication over various networks types including, but not limited to, fibre channel, small computer system interface (SCSI), Bluetooth, Ethernet, Wi-fi, Infrared Data Association (IrDA), Local area networks (LAN), Wireless Local area networks (WLAN), wide area networks (WAN) such as the internet, serial, and universal serial bus (USB). It is appreciated the various network types that communication connection(s)  connect to may run a plurality of network protocols including, but not limited to, transmission control protocol (TCP), internet protocol (IP), real-time transport protocol (RTP), real-time transport control protocol (RTCP), file transfer protocol (FTP), and hypertext transfer protocol (HTTP).","Computing system environment  may also have input device(s)  such as a keyboard, mouse, pen, voice input device, touch input device, remote control, etc. Output device(s)  such as a display, speakers, etc. may also be included. All these devices are well known in the art and need not be discussed at length here.","In one embodiment, computer readable storage medium  includes RFID daemon , applications , cluster manager engine , kernel , fencing module , membership module , and transport protocol . Computer readable storage medium  allows embodiments to use RFID based information of location, environmental conditions (e.g., temperature), and storage hierarchy to select a failover target intelligently. Applications  may include a variety of applications operable to be used with a storage cluster including database servers, network file system (NFS) servers, and application servers (e.g., billing).","RFID daemon  includes RFID parser  which includes temperature location information receiving module . As described herein, RFID parser  receives information and updates from RFID technology (e.g., RFID servers) via temperature and location information receiving module . RFID parser  further provides information and updates to cluster manager engine , fencing module , and membership module .","Kernel  provides operating system functionality (e.g., providing a bridge between RFID Daemon , applications , cluster manager engine , fencing module , membership module , transport protocol  and the resources of computer system ). Transport protocol  facilitates communication of computer system  via communication connection(s)  (e.g., between servers and storage). In one embodiment, transport protocol  is a low latency protocol that provides similar functionality to transfer control protocol (TCP).","Cluster manager engine , fencing module , and membership module  each include respective versions of error condition detector , failover selector , operations transfer module , and shutdown module . Operations transfer module  of each of cluster manager engine , fencing module , and membership module  handle the transfer of operations between servers (e.g., transfer data associated with operations). Shutdown module  of each of cluster manager engine , fencing module , and membership module  shuts down servers based on servers where error conditions are detected.","Error condition detector  of each of cluster manager engine , fencing module , and membership module  detect error conditions which interfere with operations of a server or conditions that will soon interfere with operations of a server. Error condition detector  of cluster manager engine  detects a variety of error conditions including application failures or faults (e.g., applications ). Error condition detector  of fencing module  and error condition detector  of membership module  detects a variety of error conditions including, but not limited to, network partitions, temperature approaching thresholds, and storage failures. Failover selector  of cluster manager engine , fencing module , and membership module  select a failover target, as described herein, based on location and environmental conditions (e.g., temperature). In one embodiment, failover selector  of fencing module  use a coordinator disk (e.g., coordinator disk ) along with temperature and location information in selecting a failover target.","For example, error condition detector  of cluster manager engine  may detect a database application failure at the application level then signal failover selector  of cluster manager engine . Failover selector  of cluster manager engine  will then select a failover target. And in response, operations transfer module  and shutdown module  will offline the resources of the current server, failover online the resources to another server, and bring the database application active on the new server.","Thus, embodiments of the present invention provide a method and system for making intelligent cluster management decisions based on device locations and environmental conditions (e.g., temperature) thereof. Embodiments utilize dynamic RFID technology based information in enabling intelligent failover target selection.","The foregoing description, for purpose of explanation, has been described with reference to specific embodiments. However, the illustrative discussions above are not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations are possible in view of the above teachings. The embodiments were chosen and described in order to best explain the principles of the invention and its practical applications, to thereby enable others skilled in the art to best utilize the invention and various embodiments with various modifications as may be suited to the particular use contemplated."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
