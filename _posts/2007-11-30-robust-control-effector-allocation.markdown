---
title: Robust control effector allocation
abstract: Method and apparatus is disclosed which allocates the execution of a commanded vehicle maneuver among the vehicle's control effectors capable of affecting such maneuver, with consideration given to the possible nonlinear and/or non-monotonic effects each control effector's displacement may have on the vehicle and on each other's performance.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08185255&OS=08185255&RS=08185255
owner: The Boeing Company
number: 08185255
owner_city: Chicago
owner_country: US
publication_date: 20071130
---

{"@attributes":{"id":"description"},"GOVINT":[{},{}],"heading":["GOVERNMENT INTERESTS","BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["This invention was made with Government support under MDA972-99-9-0003 awarded by DARPA. The theoretical foundations of this invention were partially funded by AFOSR grant number FA9550-04-C-0047. The government has certain rights in this invention.","The present invention relates to the real time allocation of control authority among the control effectors of a controllable vehicle in executing a commanded maneuver, such allocation being made in consideration of the possible nonlinear and non-monotonic effects the displacement of those control effectors may produce on the vehicle and on each other in affecting such maneuver. The invention is explained in terms of its application to aircraft; however, the invention is equally applicable to any air, space, sea, under-sea, or ground vehicle, whose dynamics are controllable via selected set of control effectors.","The in-flight control and maneuvering of aerodynamic vehicles, such as aircraft, are accomplished by positioning the aircraft's control surfaces to modify the airflow across them to affect an aerodynamic response from the aircraft. The control surfaces, along with other force and moment producing devices such as thrust vectoring, are referred to as \u201ccontrol effectors\u201d The control effectors are position controlled by the aircraft's flight control system in response to pilot (or auto-pilot) commands to maintain or alter the aircraft's position using roll, pitch and yaw maneuvers, or direct force such as direct lift. With legacy aircraft, the principal control surfaces are the ailerons (roll), elevators (pitch), and rudders (yaw).","Today, however, with the evolution of aircraft design to include tailless airplanes, such as the delta wing fighter plane with its requirement for high agility and low profile that limits vertical control surfaces, advanced control concepts are required to replace the vertical tail and rudder control surfaces. New aircraft designs, whether necessary to meet military requirements or to achieve improved fuel efficiencies for commercial and private aircraft, have included an increased number of control effectors. The increased number provides both redundancy for flight safety in the event of a control effector failure, as well as offering the aircraft flight control system a greater suite of effectors that may be used collectively to optimize the vehicle's aerodynamic performance and stability. Advanced control laws are then required to utilize this larger control effector suite to maximize the performance capabilities of the vehicle.","The control effectors are each driven by their associated actuator, or by pairs of actuators when redundancy is required for fail safe operation. The effectors are positioned and repositioned as necessary to supplement or supplant the aerodynamic affects produced by the legacy control surfaces to achieve the commanded flight maneuver or condition. With differences in the aerodynamics required by different maneuvers and the different effects that each control effector is designed to produce, the flight control system must allocate execution of the commanded maneuver among several control effectors. The allocation is determined by the type of commanded action, the current flight conditions, and the known response characteristics of the aircraft. The flight control system determines the control actions, i.e. the forces, moments, rotational accelerations, and\/or linear accelerations required from the control effector suite in each of the vehicle's control axes to execute a given maneuver. These forces, moments, rotational accelerations, and\/or linear accelerations define reference commands to the control allocation algorithm which determines the individual control effector commands required for the control effector suite to produce responses that track the reference commands.","Each control effector's authority in executing the command is then determined using a control allocation algorithm, and the effector is held in its commanded position through set point control of its actuator(s). The prior art flight control systems, however, use control allocation algorithms which assume linearity of the control effector effects and use techniques, such as a pseudo-inverse to generate the actuator commands. This does not account for the possibility of interactions between control effectors whose response is nonlinear, and which may exhibit significant interactions between them. Those known control methods which do assume control effector nonlinear and non-monotonic interactions use iterative techniques, such as linear programming to account for these interactions. These iterative solution techniques make them undesirable for embedded software applications.","In accordance with an embodiment of the present invention, a method is presented for allocating control of a commanded vehicle maneuver among the vehicle's control effectors. The method does this by first predicting the vehicle linear and\/or angular accelerations in response to the control effectors and the commanded maneuver, and then modifying the control command as necessary to accommodate for any nonlinear and\/or non-monotonic effects the effector displacements may produce on the vehicle and or on each other's performance.","The present control allocation method does this with a multi-input-multi-output function g(x,u) that represents the vehicle nonlinear database. The method characterizes the vehicle dynamics and the characteristics of the various control effectors, and then analyzes g(x,u) function to define virtual control effectors that make the desired control responses (e.g. moments or rotational accelerations) monotonic (i.e. entirely nonincreasing or nondecreasing).","The present invention is based on formal methods in dynamics and control. The method is applicable to controllable vehicles with control effectors whose effectiveness might be nonlinear with control deflections and the states of the vehicle. The method assumes that the vehicle's dynamics are controllable via the control effectors. The method also assumes that all states of the vehicle are available on-line through a suite of sensors or via estimates. The method does not require iterative solution techniques. In addition, it limits the gain of the control allocation scheme at frequencies below a specified frequency to prevent amplification of structural mode characteristics.","In accordance with another embodiment of the present invention, a vehicle control system which performs real time allocation of control authority among the vehicle control effectors for performance of a commanded vehicle maneuver, the control system having control logic circuitry for formulating reference command signals which specify the control actions to be performed in each vehicle control axes in execution of the commanded maneuver, and having a control computer for executing a control allocation algorithm to provide the actual control effector command signals to the vehicle control effectors to affect the real time allocation of control authority among those vehicle control effectors capable of producing the necessary control actions in the required vehicle control axes in satisfaction of the reference command signal, with consideration given in such control allocation to the possible nonlinear and\/or non-monotonic effects each performing control effectors may have on the vehicle and on each other.","In accordance with another embodiment of the present invention, an unmanned aircraft which is commanded by on-board or ground based flight control systems includes a fuselage and wings attached to the fuselage, and a vehicle control system as described in the immediately preceding paragraph. In addition, the aircraft fuselage may also include a cockpit for piloted aircraft.","In accordance with another embodiment of the present invention, a control allocation algorithm computer program product provides a computer usable medium having computer usable program code embodied therewith which provides, in its execution, in response to received reference command signals that identify the vehicle actions to be performed and the vehicle control axes in which those actions must be performed for vehicle execution of the commanded maneuver, the actual control effector command signals that allocate control authority among those vehicle control effectors capable of producing the necessary control actions in the required vehicle control axes in satisfaction of the reference command signal, with consideration given in such control allocation to the possible nonlinear and\/or non-monotonic effects each of the performing control effectors may have on the vehicle and on each other.","Other aspects and features of the present invention, as defined solely by the claims, will become apparent to those ordinarily skilled in the art upon review of the following non-limited detailed description of the invention in conjunction with the accompanying figures.","The following detailed description of embodiments refers to the accompanying drawings, which illustrate specific embodiments of the invention. Other embodiments having different structures and operations do not depart from the scope of the present invention.","As will be appreciated by one of skill in the art, the present invention may be embodied as a method, system, or computer program product. Accordingly, portions of the present invention may take the form of an entirely hardware embodiment, an entirely software embodiment (including firmware, resident software, micro-code, etc.) or an embodiment combining software and hardware aspects that may all generally be referred to herein as a \u201ccircuit,\u201d \u201cmodule,\u201d \u201cunit,\u201d or \u201csystem.\u201d Furthermore, the present invention may take the form of a computer program product on a computer-usable storage medium having computer-usable program code embodied in the medium.","Any suitable computer usable or computer readable medium may be utilized. The computer-usable or computer-readable medium may be, for example but not limited to, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, device, or propagation medium. More specific examples (a non-exhaustive list) of the computer-readable medium would include the following: an electrical connection having one or more wires, a tangible medium such as a portable computer diskette, a hard disk, a random access memory (RAM), a read-only memory (ROM), an erasable programmable read-only memory (EPROM or Flash memory), an optical fiber, a portable compact disc read-only memory (CD-ROM), or other tangible optical or magnetic storage devices; or transmission media such as those supporting the Internet or an intranet. Note that the computer-usable or computer-readable medium could even be paper or another suitable medium upon which the program is printed, as the program can be electronically captured, via, for instance, optical scanning of the paper or other medium, then compiled, interpreted, or otherwise processed in a suitable manner, if necessary, and then stored in a computer memory. In the context of this document, a computer-usable or computer-readable medium may be any medium that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device.","Computer program code for carrying out operations of the present invention may be written in an object oriented programming language such as Java, Smalltalk, C++ or the like. However, the computer program code for carrying out operations of the present invention may also be written in conventional procedural programming languages, such as the \u201cC\u201d programming language or similar programming languages. The program code may execute entirely on the user's computer, partly on the user's computer, as a stand-alone software package, partly on the user's computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario, the remote computer may be connected to the user's computer through a local area network (LAN) or a wide area network (WAN), or the connection may be made to an external computer (for example, through the Internet using an Internet Service Provider).","The present invention is described below with reference to flowchart illustrations and\/or block diagrams of methods, apparatus (systems) and computer program products according to embodiments of the invention. It will be understood that each block of the flowchart illustrations and\/or block diagrams, and combinations of blocks in the flowchart illustrations and\/or block diagrams, can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer, special purpose computer, or other programmable data processing apparatus to produce a machine, such that the instructions, which execute via the processor of the computer or other programmable data processing apparatus, create means for implementing the functions\/acts specified in the flowchart and\/or block diagram block or blocks.","These computer program instructions may also be stored in a computer-readable memory that can direct a computer or other programmable data processing apparatus to function in a particular manner, such that the instructions stored in the computer-readable memory produce an article of manufacture including instruction means which implement the function\/act specified in the flowchart and\/or block diagram block or blocks.","The computer program instructions may also be loaded onto a computer or other programmable data processing apparatus to cause a series of operational steps to be performed on the computer or other programmable apparatus to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide steps for implementing the functions\/acts specified in the flowchart and\/or block diagram block or blocks.","The present control allocation method is capable of real time allocation of control of pilot or auto-pilot flight commands among the aircraft's control effector actuators despite the possible nonlinear and, or non-monotonic effects the control effector displacements may have on the aircraft and on each other. Consider the nonlinear mapping between the control response (e.g. force, moment, rotational accelerations and\/or linear acceleration commands) and the control effector positions.\n\n()\n\nr: p\u00d71 is the control command vector\n\nx: n\u00d71 is the vehicle state vector\n\nu: m\u00d71 is the control effector position vector; and\n",{"@attributes":{"id":"p-0028","num":"0027"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":[{"mrow":{"mi":"g","mo":"=","mrow":{"mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":{"mrow":{"msub":{"mi":"g","mn":"1"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["x","u"],"mo":","}}}}},{"mtd":{"mi":"\u22ee"}},{"mtd":{"mrow":{"msub":{"mi":["g","p"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["x","u"],"mo":","}}}}}]}},"mo":["\u2062","\u2062","\u2062","\u00d7"],"mstyle":[{"mtext":":"},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mi":"p"}},"mo":"\u2003"},{"mo":["\u2003","\u2003"]}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mn":"1","mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mi":["is","the","vector","of","the","nonlinear","response"]}}},{"mtd":{"mrow":{"mstyle":[{"mspace":{"@attributes":{"width":"9.4em","height":"9.4ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mo":["\u2062","\u2062"],"mrow":{"mi":["to","the","control","effector","position"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mstyle":[{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"mo":"\u2062"}}}}}]}}}},"The present invention identifies a set of control effector position commands, u, that provide a corresponding set of commanded control actions, r, where: r=g(x,u). When the commanded controlled actions produce nonlinear and\/or non-monotonic effects, or where their control power characteristics interact with other effectors, an explicit or analytical inversion of the g(x,u) function may not be possible.","The present invention overcomes this control allocation problem by using as its foundation a dynamic inversion control law for nonaffine-in-control dynamic systems that was earlier developed by Naira Hovakimyan, Eugene Lavretsky, and Amol J. Sasane. This dynamic inversion control law formulates a solution to the nonlinear and\/or non-monotonic problem by using an approximate dynamic inversion based on time-scale separation principles. It does this by requiring the number of control effectors (m) to equal the number of control commands (p), or p=m. However, many aerodynamic vehicle platforms have redundant control effectors, so that m>p for these vehicles. ---: Part I; Naira Hovakimyan, Eugene Lavretsky, and Amol J. Sasane; 2005 American Control Conference, Jun. 8-10, 2005, Portland, Oreg. and ---: Part II; Naira Hovakimyan and Eugene Lavretsky; 2005 American Control Conference, Jun. 8-10, 2005, Portland, Oreg.","The present invention uses the concept of \u201cvirtual control effectors\u201d to cast the control allocation problem into a framework consistent with the theoretical foundation of the dynamic inversion control law using time-scale separation principle. These virtual control effectors are selected such that they become directly related to the vehicle's actual control effectors through a nonlinear function:\n\n=\u03c1(\u2032)\n\n","The other requirements necessary for using the dynamic inversion control law of Hovakimyan\/Lavretsky to control vehicle platforms having a greater number of control effectors than control commands i.e. (m>p) include:",{"@attributes":{"id":"p-0033","num":"0033"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":{"mrow":[{"mrow":[{"mn":"1.","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mfrac":{"mrow":[{"mo":"\u2202","mrow":{"msub":{"mi":["g","i"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":",","mrow":{"mi":"\u03c1","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":["u","\u2032"]}}}}}}},{"mo":"\u2202","msubsup":{"mi":["u","i","\u2032"]}}]}},{"mn":"0","mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mi":["for","i"]}],"mo":"\u2260"},{"mn":"1","mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mi":["\u2026","p"]}],"mo":"="},"mo":";","mi":"and"}}}},"2. Unique ideal dynamic inversion solution (u\u2032)* exists, which implies that g(x,\u03c1(u\u2032)) is monotonic with u\u2032. These conditions can be satisfied with the appropriate choice of the virtual control effectors.","The solution to the control allocation problem can be formed as:",{"@attributes":{"id":"p-0036","num":"0036"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":[{"mi":"\u025b","mo":"\u2062","msubsup":{"mover":{"mi":"u","mo":"."},"mi":["c","\u2032"]}},{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mo":"-","mrow":{"mi":"sign","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mo":"\u2202","mrow":{"msub":{"mi":"g","mn":"1"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":",","mrow":{"mi":"\u03c1","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":["u","\u2032"]}}}}}}},{"mo":"\u2202","msubsup":{"mi":["u","\u2032"],"mn":"1"}}]}}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mi":"\u22f1"},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mrow":{"mo":"-","mrow":{"mi":"sign","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mo":"\u2202","mrow":{"msub":{"mi":["g","p"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":",","mrow":{"mi":"\u03c1","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":["u","\u2032"]}}}}}}},{"mo":"\u2202","msubsup":{"mi":["u","p","\u2032"]}}]}}}}}]}]}}],"mo":["=","\u2062"],"mi":{}}}},{"mtd":{"mrow":{"mi":{},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":",","mrow":{"mi":"\u03c1","mo":"\u2061","mrow":{"mo":["(",")"],"msubsup":{"mi":["u","c","\u2032"]}}}}}},"mo":"-","msub":{"mi":["r","c"]}}}}}},{"mtd":{"mrow":{"mo":["=","\u2062"],"mi":{},"mrow":{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"sign","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mo":"\u2202","mrow":{"msub":{"mi":"g","mn":"1"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":",","mrow":{"mi":"\u03c1","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":["u","\u2032"]}}}}}}},{"mo":"\u2202","msubsup":{"mi":["u","\u2032"],"mn":"1"}}]}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mi":"\u22f1"},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}]},{"mtd":[{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mrow":{"mi":"sign","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"mrow":[{"mo":"\u2202","mrow":{"msub":{"mi":["g","p"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":",","mrow":{"mi":"\u03c1","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":["u","\u2032"]}}}}}}},{"mo":"\u2202","msubsup":{"mi":["u","p","\u2032"]}}]}}}}]}]}}}}},{"mtd":{"mrow":{"mi":{},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["r","c"]},"mo":"-","mrow":{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"x","mo":",","mrow":{"mi":"\u03c1","mo":"\u2061","mrow":{"mo":["(",")"],"msubsup":{"mi":["u","c","\u2032"]}}}}}}}}}}}]}}},"br":[{},{},{}],"sup":["2","2"],"in-line-formulae":[{},{}],"i":["u","u","*+O","t\u2192\u221e","Nonlinear Systems"],"sub":["c","c","DI"]},"Referring now to , which illustrates the mathematical model  of the present control allocation method algorithm. The mathematical model  is intended to provide teaching of the steps performed by the method to those skilled in the art. In practice, execution of the program and the performance of the method is accomplished in a programmed computer. The method's algorithm is embodied in a computer program listing which identifies the method steps to be performed. The program listing may be in the form of electronic program signals that are stored in a physical memory medium. The memory medium may be of any suitable type or construction, whether volatile or non-volatile, and whether mounted within a computer or in a transportable form of signal storage media that may be used with a computer, as known to those skilled in the art.","The model  receives from the flight control logic circuitry, the reference commands (r)  which specify the control actions (e.g. force, moment, linear acceleration and\/or rotational acceleration) for the vehicle's control axes (e.g. roll, pitch, and yaw axes for an aircraft) to produce the actual control effector commands (u)  that are presented to the control effector actuators. The roll, pitch, and yaw flight control logic circuitry formulates the reference command in response to pilot or auto-pilot commands and based on the vehicle's control laws. The control laws in turn respond to the sensed flight data that is fed back to the logic circuitry, to then control the vehicle's rotational rates, angle of attack\/angle of sideslip, and\/or linear accelerations, by generating reference commands rto the control allocation algorithm in the vehicle's control axes.","The control allocation algorithm generates virtual control effector commands (u\u2032)  that are transformed by the Virtual to Actual Control Effector Mapping  to produce the actual control effector commands (u) . The g(x,u) transform  predicts the resulting response in the vehicle's control axes generated by the u, and the virtual control effector commands u\u2032  are generated by integrating the scaled errors (\u03be)  between the reference commands rand responses predicted by g(x,u).","The Virtual to Actual Control Effector Mapping  allows the control system designer to stage and prioritize the use of the vehicle's control effectors, as well as to prioritize the roll, pitch and yaw elements of the reference command rwhen all elements can not be satisfied simultaneously. This mapping defines the position command for each actual control effector based on the position commands of the virtual control effectors. Staging of the control effectors is achieved by using only a subset of the actual control effectors (remaining control effectors are commanded to their trim or neutral positions) to satisfy the virtual control effector commands when those commands are small. Additional actual control effectors are phased in when the virtual control effector commands exceed a level established by the designer. The axis prioritization can be mechanized by managing the limits of the integrator  of each virtual control effector, thus combining these functions with integrator anti-windup protection. The integrator limits must account for the position limits of the individual control effectors, and the control available for a given virtual effector given the priorization of shared control effectors. Position limits can be defined on an incremental basis to account for the rate capability of each control effector.","The selection of the gain K  determines the bandwidth of the control allocation scheme in a given axis. This is best illustrated through the use of the linear integrator  of , with its control allocation tracking loop . Effectively, the nonaffine control allocation scheme of the present control allocation method exhibits a first order tracking loop characteristics, where the low frequency gain is 1\/b for low frequencies. This is the same as traditional control allocation schemes that directly invert the control effectiveness function. The gain rolls off at high frequencies.","The break frequency of the nonaffine control allocation scheme is determined by the gain K and the control power derivative (slope of the control effectiveness versus deflection curve) at the current operating point. The 0 dB gain crossing is directly determined by the gain K, which allows the control system designer to band-limit the gain of the control allocation scheme and avoid amplification of the vehicle's high frequency dynamics, such as structural modes. The gain K must be selected high enough to make the control allocation dynamics faster than those of the main control loop, but low enough that the resulting control allocation loop dynamics can be implemented at the selected digital control system sample rate.",{"@attributes":{"id":"p-0043","num":"0043"},"figref":"FIG. 3","b":["30","20"]},"Step  requires compilation of The Virtual to Actual Control Effector Mapping , which is performed by the vehicle designer. Considerations include which control effectors are effective in each vehicle control axis (e.g. roll, pitch, and yaw), how the effectors should be used together to provide the most control capability in the various axes, and virtual control effector definitions that produce monotonic responses in their respective vehicle control axes. This step may involve evaluation of several options to determine the best option for a given application. The control allocation algorithm provides a method for doing this through the generation of control power maps. A given virtual to actual control effector mapping can be defined and implemented within the control allocation algorithm.","A large magnitude commands may be commanded in a given direction (i.e. combination of commands in each of the vehicle's control axes), and the control allocation algorithm determines the maximum achievable value in that direction. By sweeping this large command vector through different directions, the achievable control sub-space (e.g. combinations of pitch, roll and yaw control that can be simultaneously achieved) is determined. This is most easily visualized in 2 dimensions. For example, holding the pitch axis command at a nominal value and creating a 2 dimensional map of roll and yaw controls that can be produced while also achieving the pitch axis command. The resulting control power maps provide a convenient method for evaluating various options for the virtual to actual control mapping.","The content selection for the Virtual to Actual Control Effector Mapping is also influenced by vehicle operational considerations, and may vary with the vehicle's mission phase. For example, it may be desirable to use a given effector during takeoff and landing to enhance control power and aircraft safety, but it use may be undesirable during cruise conditions due to excessive drag, etc.","The remaining step  is to determine the gain K that multiplies the error between the commanded and predicted control response in each axis. The gain selection determines the bandwidth of the corresponding feedback loop in the control allocation method. The gain must be chosen to make the bandwidth of the control allocation algorithm \u201cfast\u201d relative to bandwidth of the aircraft control laws to achieve time scale separation. The gain must also be low enough that the resulting control allocation loop dynamics can be implemented at the selected digital control system sample rate. Furthermore, the designer can limit the gain to keep the 0 dB gain crossover of the control allocation feedback loop below a desired frequency to bound amplification of higher frequency structural modes.","Referring now to , which is a schematic block diagram of a digital signal flight control system  which embodies the control allocation method of the present invention. The flight control system  allocates execution of the reference commands it generates from pilot or auto-pilot flight commands  and sensed flight data  to the control effectors - of an aerodynamic vehicle. The control effectors - are coupled to and controlled by associated actuators - which position the control effectors in response to the actual control effector command signals (u) received on bus .","The flight control system  includes roll, pitch, and yaw control logic circuitry  and flight control computer . The response of the vehicle to the commanded control effector positions is measured by on board vehicle sensors - (gyros, accelerometers, etc), and their sensed signals are fed back through the sensed flight data interface  to the control logic circuitry . The circuitry  responds to the flight commands  and sensed data  within the control laws of the vehicle to control the vehicle rotational rates, angle of attack\/angle of sideslip, and\/or linear accelerations, by generating moment or rotational acceleration commands in the pitch, roll, and yaw axes on busses - to the flight control computer . The flight control computer  receives each of these pitch, roll and yaw commands as reference commands at input\/output (I\/O) interfaces -, where they are presented to computer bus .","The flight control computer includes a central processing unit (CPU) , a read only memory (ROM)  and a random access memory (RAM) . The ROM and RAM memories ,  are adapted to store electronic signals, including electronic program signals which collectively comprise the computer program listings, including the control allocation algorithm of the present invention as functionally represented by the mathematical model  of . The CPU  performs selected operations on the electronic data signals it receives from bus , as specified by the computer program listings stored in ROM  and RAM  The computer  may also include a data memory, such as a structured query language (SQL) data base , for storing the K matrix of the g (x, u) nonlinear control power mapping transform and the \u03c1(u\u2032) Virtual to Actual Control Effector Mapping, Staging, and Prioritization transform (, ).","As is shown by the mathematical model  of , the control allocation algorithm of the present invention employs a feedback tracking loop for each vehicle control axis (i.e. an error signal is computed for each vehicle control axis and is used to adjust the virtual control effector command for that axis). However, this does not require separate instantiations of the algorithm for each vehicle control axis due to the coupling introduced by the Virtual to Actual Control Effector Mapping (, ) and the nonlinear control power mapping function g(x,u). Changing the position of an individual control effector will typically change its contribution to the forces and moments in all vehicle control axes, so that the control allocation algorithm must regulate the errors in all axes simultaneously to work properly. The coupling is also necessary to accommodate axis prioritization when the demands in all vehicle control axes cannot be satisfied simultaneously. The use of a feedback tracking loop in the control allocation scheme also improves robustness to uncertainties in control effector characteristics over traditional control allocation techniques.","The CPU  executes the control allocation algorithm to provide the uactual control effector command signals at I\/O . The actual control effector commands in the vector uare determined by the control allocation algorithm and are used in predicting what vehicle response will be achieved through the use of the g(x,u) transform (, ). The actual commands are sent on bus  to the actuators -, which physically drive the control effectors - to the commanded positions. The actual commands also drive the predicted response in the vehicle control axes (generated by g(x,u)) to match the reference commands, and the virtual control effector commands are generated by integrating the scaled errors between the reference commands and responses predicted by g(x,u).","In summary, the present method for designing a real time control allocation algorithm based on nonaffine-in-control and nonlinear-in-state uncertain dynamical systems, comprises the following steps.\n\n","Referring now to , which is an illustration of an aircraft  including a flight control system  () which responds to the commands of the pilot in the cockpit  to control the flight of the aircraft by generating moment or rotational acceleration reference commands in the pitch, roll, and yaw axes. The flight control system  then provides these reference commands to the control allocation algorithm of , to determine the actual control command signals to be provided to the aircraft's control effector actuators. The aircraft  also includes a fuselage , with wings  attached to the fuselage  and engines  mounted to the wings  to provide propulsion. The aircraft  additionally includes a tail section . The wings  and tail section  include control effector surface for controlling the flight of the aircraft.","The present invention accommodates dynamic interactions between control effectors, while also employing the nonlinear model of these interactions to accurately accommodate and predict their effects on the vehicle linear and\/or angular accelerations. It makes this accommodation through the introduction of virtual control effectors, and the use of the nonlinear transform g(x,u) to predict the control response due to the control effector deflections in each of the vehicle control axes. The virtual control effectors have the added advantage of ensuring that the control effectors are used in a logical way, which is not guaranteed by iterative search techniques that work directly with the individual control effectors.","The present control allocation method adapts to detected control effector failures by simply freezing the position of the failed control effector when used in the evaluation of the g(x,u) function. The feedback tracking loops will drive the virtual control effector commands and track the reference inputs as long as control power is available. The use of feedback control rather than the traditional direct inversion technique of the prior art makes this control allocation method more robust to uncertainties in control effector characteristics. This invention simply embeds the nonlinear control effectiveness function rather than trying to invert it, and thus is much simpler to mechanize.","Since the present control allocation method does not require iterative solution techniques, it is highly suitable for real time applications. Similarly, the method band limits the gain of the control allocation algorithm to ease structural mode interaction issues. Direct inversion techniques yield a constant gain across all frequencies and thus can amplify structural modes when control effectiveness is low.","The design method of the present invention significantly reduces flight control system development costs associated with control allocation algorithms. It provides a formal and numerically efficient method to rapidly and accurately assess vehicle control power relative to maneuvering requirements during configuration development, and provides robust performance to uncertainties in control power characteristics and control effector failures.","The flowcharts and block diagrams in the Drawing Figures illustrate the architecture, functionality, and operation of possible implementations of systems, methods and computer program products according to various embodiments of the present invention. In this regard, each block in the flowchart or block diagrams may represent a module, segment, or portion of code, which comprises one or more executable instructions for implementing the specified logical function(s). It should also be noted that, in some alternative implementations, the functions noted in the block may occur out of the order noted in the figures. For example, two blocks shown in succession may, in fact, be executed substantially concurrently, or the blocks may sometimes be executed in the reverse order, depending upon the functionality involved. It will also be noted that each block of the block diagrams and\/or flowchart illustration, and combinations of blocks in the block diagrams and\/or flowchart illustration, can be implemented by special purpose hardware-based systems which perform the specified functions or acts, or combinations of special purpose hardware and computer instructions.","The terminology used herein is for the purpose of describing particular embodiments only and is not intended to be limiting of the invention. As used herein, the singular forms \u201ca\u201d, \u201can\u201d and \u201cthe\u201d are intended to include the plural forms as well, unless the context clearly indicates otherwise. It will be further understood that the terms \u201ccomprises\u201d and\/or \u201ccomprising,\u201d and \u201cincludes\u201d and\/or \u201cincluding\u201d when used in this specification, specify the presence of stated features, integers, steps, operations, elements, and\/or components, but do not preclude the presence or addition of one or more other features, integers, steps, operations, elements, components, and\/or groups thereof.","Although specific embodiments have been illustrated and described herein, those of ordinary skill in the art appreciate that any arrangement which is calculated to achieve the same purpose may be substituted for the specific embodiments shown and that the invention has other applications in other environments. This application is intended to cover any adaptations or variations of the present invention. The following claims are in no way intended to limit the scope of the invention to the specific embodiments described herein."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE SEVERAL VIEWS OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 5","FIG. 4"]}]},"DETDESC":[{},{}]}
