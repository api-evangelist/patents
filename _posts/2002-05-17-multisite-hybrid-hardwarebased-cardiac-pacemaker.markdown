---
title: Multi-site hybrid hardware-based cardiac pacemaker
abstract: A hybrid cardiac pacemaker in which the operation of the device is controlled by hardware-based controller as supervised by a microprocessor-based controller. The hardware-based controller comprises a plurality of timers that expire when they reach timer limit values stored in registers updatable by the microprocessor, and a combinational logic array for causing the device to generate pace outputs in accordance with timer expirations and sense signals. The combinational logic array may operate the pacemaker in a number of programmed modes in accordance with a mode value stored in a mode control register by the microprocessor.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06920355&OS=06920355&RS=06920355
owner: Cardiac Pacemakers, Inc.
number: 06920355
owner_city: St. Paul
owner_country: US
publication_date: 20020517
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["This patent application is a continuation of U.S. patent application Ser. No. 09\/514,813, filed on Feb. 28, 2000, now issued as U.S. Pat. No. 6,427,084, which is a continuation-in-part of U.S. patent application Ser. No. 09\/378,793, filed on Aug. 23, 1999 now abandoned, the specifications of which are incorporated herein by reference.","This invention pertains generally to the field of cardiac pacemakers and implantable cardioverter\/defibrillators incorporating a pacing function. In particular, the invention relates to the hardware and software used to control the operation of such devices.","Most cardiac pacemakers today (including implantable cardioverter\/defibrillators with pacing capability) are microprocessor-based systems in which software run by the microprocessor commands the generation of pacing outputs, with various timers being used to alert the microprocessor as to when to pace. Such microprocessor-based systems exhibit great flexibility, as compared with a pacemaker implemented with dedicated hardware, since the operation of the device can be changed simply by reprogramming the microprocessor. Controlling the operation of a pacemaker totally with a microprocessor-based system, however, also has some disadvantages. If the microprocessor continually executes instructions during the cardiac cycle in order to process and respond to timing and sensing events, a large amount of battery power is consumed. Also, making pacing decisions with software inevitably introduces some variability into the timing of the paces, commonly referred to as \u201cpacing jitter.\u201d","The present invention is embodied by a pacemaker that employs a hybrid microprocessor-based and hardware-based system to control its operation. In an exemplary embodiment, the pacemaker may be configured to pace in any of a number of different pacing modes, including biventricular pacing modes. In accordance with the invention, a plurality of hardware timers define particular timing intervals to which the pacemaker responds. For each timer, a compare register writable by a microprocessor-based controller is used to store a specified limit value for the timer, and a comparator generates a timer expiration signal for each timer when the output of the timer equals the limit value. The microprocessor can update the limit values of each compare register between cardiac cycles as defined by the expiration of a particular timer. Sensing channels may be provided for an atrium and\/or ventricle, which sensing channels include a sense amplifier for amplifying a voltage from an electrode in electrical contact with a heart chamber and thereby detecting depolarizations occurring in the heart chamber. Ventricular and\/or atrial stimulus generators are provided for generating paces by outputting pacing voltage pulses to electrodes in contact with the heart chamber to be paced. A combinational logic array interprets detected depolarization signals in order to generate sensing signals and triggers the stimulus generator in response to the expiration of particular timers and the generation of particular sense signals in accordance with a programmed pacing mode. A mode control register writable by the microprocessor contains a mode value stored by the microprocessor-based controller such that the combinational logic array enables or disables certain timers so as to cause the pacemaker to operate in a particular pacing mode in accordance with the mode value.","As aforesaid, a pacemaker in accordance with the present invention uses a hybrid microprocessor and hardware based controller for outputting pacing pulses in response to timer outputs and sensed cardiac events. The hardware-based controller uses dedicated timers for specific timing intervals, and a hardware implemented combinational logic array makes decisions as to when to take specific actions. Inputs to the logic array include timer status and pacing mode settings. The actions taken by the logic array include starting timers, stopping timers, pacing, and waking up the microprocessor software when needed. Events and actions are time stamped and buffered for the microprocessor software to save. The microprocessor software writes to registers in the hardware controller in order to define pacing modes and timer intervals. The software normally wakes up to set or adjust timer durations or define a pacing mode only at the end of the cardiac cycle. Since the hardware controller issues pacing commands and resets timers automatically, the amount of time in which the software needs to be active is thereby minimized. The hardware controller also works on a fixed clock cycle so that it makes and implements decisions on a regular basis, thus eliminating pacing jitter.","As noted, the hardware register has a control register to which the microprocessor writes in order to define a pacing mode. The modes employed for bradycardia pacing are usually described by a three-letter code developed by the Inter-Society Commission for Heart Disease where each letter in the code refers to a specific function of the pacemaker. The first letter refers to which heart chambers are paced and which may be an A (for atrium), a V (for ventricle), D (for both chambers), or O (for none). The second letter refers to which chambers are sensed by the pacemaker's sensing channels and uses the same letter designations as used for pacing. The third letter refers to the pacemaker's response to a sensed P wave from the atrium or an R wave from the ventricle and may be an I (for inhibited), T (for triggered), D (for dual in which both triggering and inhibition are used which implies a tracking mode), and O (for no response). Additional sensing of physiological data allows some pacemakers to change the rate at which they pace the heart in accordance with some parameter correlated to metabolic demand. Such pacemakers are called rate-adaptive and designated by a fourth letter added to the three-letter code, R. A pacemaker may be implemented in accordance with the present invention which is capable of pacing in any of these modes.","Pacemakers have been constructed for delivering pacing pulses to multiple ventricular or atrial sites, including so-called biventricular pacemakers where pacing pulses are delivered to both ventricles by separate electrodes during a cardiac cycle. (See, e.g., U.S. Pat. Nos. 5,792,203 and 4,928,688, referred to herein as the '203 and '688 patents, which are hereby incorporated by reference.) One type of multi-site pacing involves fixing two or more pacing electrodes to separate sites of the same heart chamber, either an atrium or a ventricle. For example, one electrode may be fixed to the apical region of either the right or left ventricle with the other electrode fixed to a basal region of the same ventricle. In the case of the left ventricle, this may be most easily accomplished by using a coronary sinus lead (See U.S. Pat. No. 5,935,160, hereby incorporated by reference) with distal and proximal electrodes. The ventricle can be paced in accordance with a programmed pacing mode with the electrodes being energized simultaneously during each pacing output in order to achieve near simultaneous activation of the ventricle. Alternatively, the pacing stimuli can be delivered to the ventricular electrodes sequentially with a specified time delay in order to take into account differing conduction times within the ventricle.","In the description of a specific embodiment that follows, the pacemaker is a biventricular dual-chamber pacemaker (where a single-chamber mode paces either the atria or ventricles, and a dual-chamber mode paces both the atria and ventricles). The pacemaker to be described has two ventricular sensing\/pacing channels and a single atrial sensing\/pacing channel, and may be operated in any of a number of conventional single or dual-chamber pacing modes as described above, or a biventricular pacing mode where each ventricle may be paced during a cardiac cycle via a separate pacing channel. The pacemaker can be programmed to pace the atrium only, the right or left ventricle only, or both ventricles with a specified time delay.",{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1","b":["10","20","34","34","33","33","31","31","32","32","24","23","21","22","20","40","40","20","20","40","40","20","40","10"],"i":["a ","b","a ","b","a ","b","a ","b"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2","b":["40","10","1","2","100","100"]},"A bank of counters C provides a ventricular counter V_CNT, an atrial counter A_CNT, a sensed AV interval counter SAV_CNT, an atrial protective period counter APP_CNT, a biventricular delay counter BVD_CNT, and a left ventricular protective period counter LVPP_CNT. The outputs of these counters are compared with limit values LMTDATA stored in the bank of compare registers R by the microprocessor  in order to define a timer for each of the limit values. The cardiac cycle interval CCI, minimum cardiac cycle interval MINCC, and minimum AV window AVWIN limit values are compared with the ventricular counter. The ventriculo-atrial interval VAI and the post-ventricular refractory period PVARP limit values are compared with the atrial counter. Unless the FREEAV bit in CR is set (designated FREEAV_T), the atrial and ventricular counters are both started\/reset synchronously by either a ventricular pace or a right ventricular sense. If the FREEAV bit is not set (designated FREEAV_F), the atrial and ventricular counters are operated independently such that the combinational logic array resets the VAI and PVARP timers after an atrial pace, or an atrial sense if the pacemaker is operating in an atrial inhibited pacing mode, instead of after a ventricular sense or pace. The sensed atrio-ventricular interval SAV, atrial protective period APP, and left ventricular protective period limit values are compared with the SAV_CNT, APP_CNT, and LVPP_CNT counters, respectively. The biventricular delay interval BVD and trigger delay TRD limit values are compared with the BVD_CNT counter. Comparator CMP compares the counter values with the limit values and asserts a logical one if the counter exceeds the limit value to indicate an expired status of the timer defined by the limit value. The output of CMP is clocked into register SR for indicating the run status of the timers to the logic array . Comparator CMP compares the limit values to the outputs of the corresponding timers, and asserts a logical one when the limit value equals the counter output. The output of comparator CMP is clocked into register TR to indicate expiration of the timer defined by the corresponding limit value to the logic array .","Serial signals SER through SER indicating the detection of atrial, right ventricular, and left ventricular depolarizations input from the analog interface  are clocked into latches ADET, RVDET, and LVDET respectively. The outputs of ADET and the ventricular latches are input to edge detectors ED and ED, respectively, and then input to the logic array . Latches L and L, and multiplexers M and M, provide a single clock cycle delay for the atrial and ventricular depolarization detect signals when the device is operating in either an atrial or ventricular triggered mode (indicated by the assertion of ATRIGMD and VTRIGMD, respectively, to the multiplexers) so that a pace command will not be inhibited by a sense signal. The microprocessor  issues commands to the logic array  by writing command data COM_DATA to register R, which data is clocked into register R for inputting to logic array . The microprocessor  may issue pacing commands (RV_PACE, A_PACE, or LV_PACE), timer restart commands (RESTART_V or RESTAR_A), and synchronization commands (V_AYNC or A_SYNC) that command the timers to be reset in accordance with the programmed mode as if a pace were output. The logic array  issues right ventricular, atrial, and left ventricular pace commands by asserting the signals RVPACE, APACE, and LVPACE which are clocked into latches L, L, and L, respectively, for inputting to the analog interface  as commands RVPACECMD, APACECMD, and LVPACECMD, respectively. The logic array  may also generate a microprocessor interrupt by asserting the signal INT which is clocked into latch L, the output of which is tied to an interrupt line of the microprocessor  as the signal INTRPT. The combinational logic array may generate interrupts to the microprocessor-based controller upon expiration of a timer, generation of a sense signal, or generation of a pacing output.","The combinational logic array  triggers the ventricular stimulus generators in accordance with the state of the CCI timer as well as the BVD and\/or TRD timers in the case of biventricular delay and biventricular triggered pacing modes, respectively. Both the atrial and ventricular pacing modes are specified by bits of the control register CR. Whether the atria or ventricle are paced (or not) are specified by bits designated as APACEMODE_T (or APACEMODE_F) and VPACEMODE_T (or VPACEMODE_F), respectively. Whether atrial pacing is inhibited or triggered by an atrial sense is determined by a bit designated as ARESPMODE_IH or ARESPMODE_TG, respectively. Similarly, whether ventricular pacing is inhibited or triggered by a right ventricular sense is determined by a bit designated as VRESPMODE_IH or VRESPMODE_TG, respectively. The bits of CR that specify which ventricle or ventricles are to be paced are designated as CH_R for right ventricle only, CH_L for left ventricle only, CH_RL for a biventricular pacing mode in which a right ventricle pace is followed by a left ventricle pace, and CH_LR for a biventricular pacing mode in which the a left ventricle pace is followed by a right ventricle pace.","The minimum rate at which a ventricular pacemaker allows the heart to beat is determined by the ventricular escape interval and is sometimes referred to as the lower rate limit (LRL). In this embodiment, if ventricular pacing is enabled, the ventricular escape interval is the limit value of the cardiac cycle timer CCI. The CCI timer is thus started\/reset by a right ventricular sense or pace, and its expiration generates a ventricular pace. If the ventricle(s) is paced in an atrial tracking mode (designated by a bit in CR as ARESPMODE_TK), expiration of the sensed AV interval timer SAV also results in the generation of a ventricular pace. The timer SAV is started by an atrial sense or pace if it is not already running, stopped by a ventricular sense or pace, and thus defines an escape interval in which a ventricular pace will be delivered if no ventricular sense occurs subsequent to an atrial sense or pace. The maximum rate at which ventricular pacing will track the atria is determined by the limit value of the minimum cardiac cycle timer MINCC. The logic array , when the pacemaker is programmed to operate in an atrial tracking mode, prevents delivering a ventricular pace upon expiration of the SAV timer if the MINCC timer is unexpired.","Biventricular pacing may be delivered by the device in either a triggered or demand mode as specified by a bit in CR designated VRESPMODE_TG or VRESPMODE_IH, respectively. In the former, a right ventricular sense triggers pacing of one ventricle (the primary pace) followed by pacing of the other ventricle (the secondary pace), with the delay specified by the limit value of the triggered delay timer TRD. In the latter, the pacing of one ventricle is controlled by the CCI and\/or SAV timers with a pace delivered to the other ventricle within a time specified by the limit value of the biventricular delay timer BVD.","If atrial pacing is enabled in a demand mode, the atrial escape interval is specified by the limit value of the ventriculo-atrial interval timer VAI. The combinational logic array  triggers the atrial stimulus generator  upon expiration of the VAI timer, stops the VAI upon an atrial sense or pace, and resets the VAI timer upon a right ventricular sense or a ventricular pace. The PVARP timer is started upon a right ventricular sense or pace (if FREEAV_F is asserted) and prevents generation of an atrial sense signal if the PVARP timer is unexpired. The atrial protective period (APP) timer is started upon detection of an atrial depolarization and prevents generation of an atrial sense or an atrial pace if the APP timer is unexpired. The minimum AV window AVWIN timer is started after a ventricular pace or right ventricular sense and prevents generation of an atrial pace after expiration of the APP timer if the AVWIN timer is expired.","A noise inhibit (NSI) control bit is also be included such that when the bit is set, the combinational logic array  inhibits generation of pacing pulses if a noise level as sensed by the sensing channels exceeds a specified level. An event buffer register  readable by the microprocessor-based controller is also included in the hardware-based controller, where the combinational logic array stores event values in the event buffer register corresponding to the occurrence of specified events, including generation of sense signals, generation of pacing outputs, and expiration of timers. The event buffer may also contain interval data and time stamps for stored event values.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIGS. 3A and 3B","b":["100","1","38","1","2","6","7","27","28"]},"Gates G through G define the actions taken upon expiration of the ventriculo-atrial interval timer VAI (VAI_EXP). If the device is not in an atrial pacing mode (APACEMODE_F) and the FREEAV bit is set (FREEAV_T), RESTART_A is asserted. If the device is in an atrial pacing mode (APACEMODE_T) and the atrial protection period timer is not running (APP_N), expiration of VAI causes an atrial pace command APACE. No action is taken upon expiration of VAI if the device is not in an atrial pacing mode and the FREEAV bit is not set.","Gate G generates an atrial pace command APACE if the atrial protective period timer is expired (APP_EXP), the VAI timer is expired or stopped (VM_F), the AVWIN timer is running (AVWIN_T), and the device is in an atrial pacing mode (APACEMODE_T). The PDETECT signal indicates detection of a P wave (i.e., atrial depolarization) by the sensing channel. If a P wave is detected while the post-ventricular refractory period timer is running (PVARP_T), the atrial protective period timer APP is started and REF_ASENSE (indicating an atrial sense during PVARP) is asserted by gate G. If the atrial protective period timer APP is already running when a P wave is detected during PVARP, APP is restarted by gate G. If a P wave is detected while the VAI timer is running (VAI_T), the post-ventricular atrial refractory period timer is expired or stopped, and the atrial protective period timer is expired or not started (APP_N), gate G generates an atrial sense (ASENSE).","Gate  indicates that detection of a right ventricular R wave (i.e., detection of right ventricular depolarization) unconditionally generates a right ventricular sense (RVVSENSE). Gate  unconditionally generates a left ventricular sense LVSENSE and starts the left ventricular protection period timer LVPP upon assertion of a left ventricular detect signal L_RDETECT. The LVPP timer is also started upon generation of a left ventricular pace LVPACE by gate G.","If an atrial sense is generated while the sensed AV interval timer SAV is idle (SAV_I) and the device is in an atrial tracking mode (ARESPMODE_TK), gate G starts the SAV timer and stops the VAI timer. If an atrial sense is generated while the device is in an atrial pacing mode and an atrial triggered mode (ARESPMODE_TG), gate G generates an atrial pace command and stops the VAI timer.","Gates G through G define how the interval timers are restarted or reset. The timers are divided into atrial and ventricular timers. If the FREEAV bit is set, the atrial and ventricular timers are restarted independently by assertion of the signals RESTART_A and RESTART_V, respectively. If the FREEAV bit is not set, RESTART_V restarts both the atrial and ventricular timers. Gate  indicates that if RESTART_V is asserted, the ventricular timers CCI, MINCC, and AVWIN are restarted. If the FREEAV bit is not set, RESTART_V causes the assertion of RESTART_A through gate G. Gate G defines RESTART_A as restarting the atrial timers VAI and PVARP, and resetting SAV to not started.","RESTART_A is asserted by gate G if REF_ASENSE is asserted, the FREEAV bit is set, and the device is operating in an atrial triggered mode (ARESPMODE_TG). RESTART_A is asserted by gate G if an atrial sense is generated, the FREEAV bit is set, and the device is operating in an atrial inhibited mode. The VAI timer is stopped by gate G if an atrial sense is generated, the FREEAV bit is not set, and the device is operating in an atrial inhibited mode. RESTART_A is asserted by gate G if an atrial pace command is generated and the FREEAV bit is set.","RESTART_V is asserted by gate G if a right ventricular sense is generated while the device is operating in a ventricular inhibited pacing mode. RESTART_V is asserted by gate G if a right ventricular sense is generated, the device is operating in a ventricular triggered mode, and the minimum cardiac cycle timer is running. RESTART_V is unconditionally asserted by gate G if a right ventricular pace command RVPACE is generated. A primary triggered ventricular pace command PRIM_TR_VPACE is generated and the TRD timer is started by gate G if a right ventricular sense RVSENSE is generated, the MINCC timer is stopped or expired, and the device is operating in a ventricular pacing and ventricular triggered mode.","Gates G through G generate either right or left ventricular paces in accordance with the assertion of signals described earlier and the control bits of register CR. A right ventricular pace RVPACE is generated by gate G upon assertion of either PRIM_TR_PACE or PRIM_VPACE and if right or right-left ventricular pacing is enabled (CH_R or CH_RL). RVPACE is also generated as a backup in left ventricular pacing by gate G if PRIM_VPACE is asserted, the LVPP timer is unexpired, and the device is in a left ventricular pacing mode(CH_L). RVPACE is generated as a secondary pace by gate G if the device is in left-right biventricular pacing mode upon assertion of SEC_VPACE. RVPACE is generated as a secondary triggered pace by gate G upon assertion of SEC_TR_VPACE if the device is in left or left-right biventricular pacing mode (CH_R or CH_LR).","A left ventricular pace LVPACE is generated by gate G upon assertion of either PRIM_TR_PACE or PRIM_VPACE, if right-left biventricular pacing is enabled (CH_RL), and the LVPP timer has expired (LVPP_F). Gate G asserts LVPACE upon assertion of PRIM_VPACE if the device is in left-only ventricular pacing mode (CH_L) and the LVPP timer is unexpired. Gate G generates LVPACE as a secondary pace if SEC_VPACE is asserted, the LVPP timer is unexpired, and right-left biventricular pacing is enabled (CH_RL). Gate G generates LVPACE as a secondary triggered pace upon assertion of SEC_TR_VPACE if the LVPP timer is unexpired and right or right-left ventricular pacing is enabled.","Although the invention has been described in conjunction with the foregoing specific embodiment, many alternatives, variations, and modifications will be apparent to those of ordinary skill in the art. Such alternatives, variations, and modifications are intended to fall within the scope of the following appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIGS. 3A and 3B"}]},"DETDESC":[{},{}]}
