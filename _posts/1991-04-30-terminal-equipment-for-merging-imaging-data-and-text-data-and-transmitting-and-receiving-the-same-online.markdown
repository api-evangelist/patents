---
title: Terminal equipment for merging imaging data and text data, and transmitting and receiving the same on-line
abstract: Terminal equipment for electronically making patent and utility patent applications. The terminal equipment converts various formats of text data generated by an external device into the internal format of the terminal equipment, retrieves the converted text data, merges the text data with a procedure, and transmits the procedure. The merging operation in which image data is merged with text data is simplified whereby the operator can make applications with a simple operation without special skill and knowledge when an application document is transmitted and received on line. The terminal equipment includes a text converting portion for converting the external format of text data into the internal format of the terminal equipment and for retrieving the converted text data, a procedure generation processing portion for merging the retrieved text data with a procedure, a text processing portion and paragraph number assigning portion for editing the merged text and image data within the terminal equipment, a text checking portion for checking the text of the edited procedure document, a transmission file generating portion for converting the format of the checked procedure document into a transmission format, and an online application portion for transmitting the data in the transmission format to the outside of the terminal equipment.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07724249&OS=07724249&RS=07724249
owner: Fujitsu Limited
number: 07724249
owner_city: Kawasaki
owner_country: JP
publication_date: 19910430
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","RELATED ART","DISCLOSURE OF THE INVENTION","MODES FOR CARRYING OUT THE INVENTION","INDUSTRIAL UTILIZATION"],"p":["The present invention relates to terminal equipment for electronically applying for patents and utility patents, and in particular relates to terminal equipment for automatically merging image data with text generating procedure documents, checking text formats, and transmitting and receiving text on line.","Word processors are presently being widely used to electronically generate application documents for patents and utility patents. In executing this work, it is very desirable to transfer text data to terminal equipment for processing. Thus, a function is required in terminal equipment to facilitate this transfer of text data.","In addition, in a hyper text including images generated by a word processor or the like, the image data should be readily read and combined with the text. Moreover, in making a patent application or the like with an application document (text data) on line, online transmission and reception operations need to be simplified.","Conventionally, patent applications have been made off line. That is, text data (character data and image data) for patent application documents or the like are created by word processors or the like. Thereafter, the text data are printed and the printed pages are mailed or delivered by hand to the Patent and Trademark Office.","Presently, when a patent application is made with text data generated by an online word processor, the online operations necessary for transmitting an application document and for receiving acknowledgement of the receipt are complicated and require special knowledge thereof.","Moreover, when image data read by a scanner or the like are combined with text generated by a word processor or like, a frame for merging the image data with the text must be created and then the image data placed on the frame.","However, in the conventional device, the frame size for merging the image data with the text sometimes does not match the size of the image data being read. Moreover, every position for reading the image data must be designated. Furthermore, when one page of the application document contains two or more drawings, they must be divided into two or more pieces of image data and then merged with the text. These operations take a long time and are complicated.","Word processors available on the market have unique specifications which differ from one manufacturer to another, and data generated by the word processors of different manufacturers are not compatible. To convert text formats between different word processors, a text conversion software package must be installed. However, such a software package can only deal with the conversion of simple text formats.","To electronically generate application documents for patents and utility patents, various text data formats must be converted and transferred to terminal equipment. Thereafter, the resultant data must be merged using procedures to store, manage, edit, check and transmit them. However, terminal equipment which can perform such operations is not presently available.","A first object of the present invention is to provide terminal equipment for making electronic patent applications, for converting text data in various formats created by another device and for merging the resultant data using procedures to store, manage, edit, check, and transmit them.","A second object of the present invention is to simplify the operations for merging image data with text data with respect to terminal equipment for making electronic applications.","A third object of the present invention is to readily transmit and receive patent application documents or the like on line without requiring that the operator possess a skill or special knowledge about the terminal equipment.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},"The text converting portions  to  convert text data in various formats into the internal format of the terminal equipment and transfer the resultant text data thereto. The procedure generation processing portion  merges the received text data using one procedure. The procedure generation reference file  comprises a document table, an identifier table, a plurality of item conversion tables, and so forth. The procedure management information file  stores definition information of text structures and information necessary for managing procedures. The procedure document storage file  stores text data for constructing each procedure.","The text editing portion  edits text data merged using a procedure. The paragraph number assigning portion  assigns paragraph numbers. The text checking portion  checks the content of the edited text.","The transmission file generating portion  converts the checked text into data in a transmission format. The transmission format data file  stores the converted data into the transmission format. The online application portion  transmits the formatted data to outside the terminal equipment.","In , the format of text data externally generated and stored on floppy disks  to  are converted into the internal text format of the terminal equipment by the text converting portions  to , respectively, thereby to be inputted thereinto. The procedure generation processing portion  combines the text data using the procedure in accordance with the document table, the identifier table, and the item conversion tables stored in the procedure generation reference file . The procedure is managed by the procedure management information file  and stored by the procedure document storage file .","Thereafter, the text data associated with the procedure is edited by the text editing portion  and assigned paragraph numbers by the paragraph number assigning portion . The text of the edited procedure document is checked by the text checking portion .","Thereafter, the checked procedure document is converted into the transmission format by the transmission file generating portion  and then temporarily stored in the transmission format data file . Thereafter, the converted data are transmitted externally by the online application portion  from the terminal equipment.","Thus, since various externally generated text data formats are converted and merged using this procedure, the data can be stored, managed, edited, checked, and transmitted.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2"},"The text content file  stores a text including identifiers and image insertion marks.","The text merging information file  stores text merging information such as the frame size of image data.","The image file  stores image data.","The merging controlling portion  merges image data with text data.","The display input controlling portion  displays an image, frame size, scale, text, and so forth on a screen.","A text is retrieved from the text content file . Thereafter, an identifier or an image placement mark is searched and detected from the text being retrieved. In accordance with the detected position of the identifier or the image placement mark, a merging start position and a frame size are set to the text merging information file  so as to merge the image data in the frame size from the merging start position determined by the merging controlling portion . Thereafter, the image data are stored in the image file . A merging start position and a frame size are set to the text merging information file  so that a designated frame size is merged where the scope in which the frame size is to be cut is designated and a maximum frame size is merged where the scope in which the frame is to be cut is not designated. The image data being cut are stored in the image file . The display input controlling portion  displays all the image data being read along with the maximum frame size available in the text or the designated frame size in which the size to be cut is designated. Alternatively, the display input controlling portion  displays only the image data in the maximum frame size or in the frame size in which the size to be cut is designated and scrolls the image data so as to display the image data in the maximum frame size or the designated frame size in the cutting range. When the image data being read are displayed, the scale in accordance with the size thereof is also displayed. In addition, the text which precedes or the text which follows the merging start position of the image data is displayed, or both these texts are displayed. Moreover, when the image data being read are merged with the text, an identifier with an ascending number is automatically placed into the text line immediately preceding the image data. When image data occur at the boundary between two pages, a page change mark is automatically placed into the text line just preceding the image data. When image data which has been read and merged using text is updated, text data such as the previous line immediately preceding the image data are displayed in a table format. Thereafter, selected image data are displayed and updated.","Thus, in merging image data with a text,","[1] a frame size is automatically set in accordance with the size of the image data,","[2] the image data are cut in accordance with a designated frame size or a maximum frame size and the frame size is automatically set,","[3] the image data to be cut are scrolled so that the operator can select a desired position thereof,","[4] text data such as the text line immediately preceding the image data being merged is also displayed,","[5] a scale in accordance with the size of the image data is displayed,","[6] an identifier is automatically placed to the image data,","[7] if the image data occur at the boundary between two pages, they are automatically moved to the latter page, and","[8] when the image data are updated, text data such as the text line immediately preceding the image data being merged are displayed in a table format so that the operator can readily select and update them.",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 3"},"A transmission file generating portion  generates a transmission file , a reception file , and a receipt reception file .","A transmission processing portion  performs a transmission and reception controlling operation, a transmission status display operation, an automatic receipt request operation, an automatic continuation request operation, and so forth.","A proof check processing portion  compares the content of the transmission file  with that of the reception file  so as to perform a proof check thereof.","A management information file  correlates text data (a procedure) with a unique management number so as to manage the transmission statuses (\u201cnot transmitted\u201d status, \u201ctransmitting\u201d status, \u201ctransmitted\u201d status, \u201ctransmission result\u201d status, and so forth).","A storage device  is provided with the transmission file , the reception file , and the receipt reception file . The display portion  displays a procedure (a text) to be transmitted, a transmission status, and a transmission result.","As shown in , in a transmission mode, the transmission file generating portion  generates (partitions) the transmission file , the reception file , and the receipt reception file  in the storage device . Thereafter, the transmission processing portion  transmits text data retrieved from the transmission file  through a line to a remote party. Text data received from an opposite party are stored in the reception file . Receipt data are stored in the receipt reception file . In the transmission mode, the transmission processing portion  causes the display portion  to display a table of text data (procedures) to be transmitted so as to display which text data is being transmitted (by highlight indication or the like). In addition, the transmission processing portion  causes the display portion  to display transmission statuses (such as pre-processing status, transmission status, reception status, post-processing status) and the result of replies (such as acceptance or not-acceptance) from the party on a real time basis. When the number of cases of text data (procedures) which have been transmitted exceeds a predetermined number (for example, 300 cases), the transmission processing portion  automatically transmits a receipt request to the party while connecting the line. Receipt data received in accordance with the request are stored in the receipt reception file . After the line is disconnected, the proof check processing portion  compares the content of the transmission file  with that of the reception file  stored on completion of the transmission and reception so as to perform a proof check thereof. After the transmission is resumed, the transmission processing portion  retrieves the transmission status of the management information file . When the transmission processing portion  detects a \u201ctransmitting\u201d status, it retransmits the text data (the procedure) with this management number to the party and then sets the \u201ctransmitted\u201d status to the text data.","Thus, when text data necessary for a patent application are transmitted or received on line, the reception file  and the receipt reception file  are prevented from shorting the storage capacity. A text (procedure) being transmitted and the transmission status can be displayed on a real time basis. A receipt request can be automatically issued so as to receive a receipt. In addition, texts which have not been transmitted can be automatically retransmitted. Consequently, the operator can readily perform online transmitting and receiving operations.","Here, constructions and operations of various embodiments of the present invention are described in detail.",{"@attributes":{"id":"p-0126","num":"0125"},"figref":"FIG. 4"},"Now a first embodiment of the electronic patent application system is described.","As shown in , a word processor format text converting portion , a JIS format [or other standard formats defined in various countries, for example, DIN (Deutsche Industrie Normen), ANSI (American National Standards Institute)] text converting portion , and a personal computer format text converting portion  convert their unique text data formats into the internal text format of the terminal equipment. These converting portions , , and  convert formats of text control codes which define control information of character codes, control codes, and text format into the internal format of the terminal equipment. Conventionally, when respective formats are converted by these converting portions, conversion tables are used to convert their unique formats into the internal format of the terminal equipment.",{"@attributes":{"id":"p-0129","num":"0128"},"figref":["FIG. 5","FIG. 6A","FIG. 6B","FIG. 6C","FIG. 7"],"b":["4","6"]},"Next, the process of the procedure generation processing portion  is described with reference to the control flow chart of .","At step SA, the procedure generation processing portion  reads text data which have been converted into the internal text format of the terminal equipment. At step SA, the procedure generation processing portion  determines the name of the text. The contents of bibliographic items of the procedure documents for the electronic applications are identified with identifiers. Thus, by searching for an identifier referred to as [text name] and checking the description associated with the identifier at step SA, the name of the text can be determined.","After the text name is determined, at step SA, a document table shown in  is searched from the tables included in the procedure generation reference file . Thereafter, at step SA, when the text name being determined is \u201cpatent application\u201d, for example, data with the document name \u201cpatent application\u201d is searched from the document table. Thus, it is determined that the procedure name is \u201capplication\u201d and the document category is \u201cmain document\u201d. Thereafter, at step SA, all data whose procedure names are \u201capplication\u201d are searched from the document table. Thus, the document names are read. At step SA, it is determined that documents such as \u201cpatent application preamble\u201d, \u201cspecification\u201d, \u201cdrawings\u201d, and \u201cabstract\u201d should be merged as one procedure. Thereafter, its document name is read in an order in which a text conversion is performed and it is determined whether or not the document is included in the same procedure. Thus, the procedure generation process is performed.","In this procedure generation process, the relation between procedures and documents included therein are treated as a hierarchical structure. Thus, a text structure should be defined in this structure so as to manage the procedure documents.","For example, when a specification contains several hundred pages of text data, it can be divided into \u201cspecification M1\u201d, \u201cspecification M2\u201d, . . . , and so forth.","At SA of , such management information is stored in a procedure management information file . At step SA, each of the text data constructing each of the procedures is stored in a procedure document storage file .","When the procedure generation processing portion  inversely converts the internal format of a document stored in the procedure document storage file  into an external format by using the management information stored in the procedure management information file , text data merged by a procedure can be separated into several parts or a plurality of parts of text data stored and merged.","The text editing portion  edits text data merged with a procedure. The text editing portion  performs conventional text generation and update operations. However, when the text editing portion  operates along with the procedure generation processing portion , a text can be generated and updated procedure by procedure.",{"@attributes":{"id":"p-0138","num":"0137"},"figref":"FIG. 8","b":["9","1","9","6","2","7"]},"When a [Detailed Description of the Invention] is determined as an identifier, it is determined that the text associated with this identifier is in the paragraph number, assignment range. When a [Brief Description of the Drawings] or the end of text is detected at step SB, the assignment of a paragraph number is ended. Unless a [Brief Description of the Drawings] or the end of text has not been detected, at step SB, an identifier is determined. Thereafter, at step SB, it is determined whether or not the text is in the paragraph number assignment range. At step SB, it is determined whether or not the paragraph number has been assigned. When the determined result at step SB is YES, that is, the paragraph number has been assigned, at step SB the paragraph number which has been assigned is renumbered in an incrementing order rather than newly assigned. When the determined result at step SB is NO, that is, the paragraph number has not been assigned, data of each line of the text is determined at step SB. Thereafter, at step SB, when the last line of the text ends with a punctuation code and a carriage return code and the number of lines counted from the immediately preceding paragraph number is equal to or larger than a predetermined value at step , a paragraph number is assigned between the punctuation code and the carriage return code.","When the number of the line being counted is smaller than the predetermined value, the paragraph number assigning portion  determines the next line rather than assigning a paragraph number. When this condition is satisfied at step SB, a paragraph number is assigned to the text.","Thereafter, this process is repeated until an end of the paragraph number assigning process is detected. Thus, paragraph numbers can be optimally assigned to target text data.","The text checking portion  reads text data of a procedure document and checks whether or not the text contains an error. When the text checking portion  detects an error, it informs the operator.","Thus, the text checking portion  reads text data stored in the procedure document storage file  and checks the content of the text by using the management information such as the procedure name, the document name, and the text file name of the target procedure document stored in the procedure management information file .","The text checking process includes steps for checking character codes and control codes in text data, identifiers placed therein, and contents of description following identifiers, and for checking contents of description of related identifiers each other.","These checking steps are performed by searching the identifier table and the description item conversion table included in the procedure generation reference file .",{"@attributes":{"id":"p-0146","num":"0145"},"figref":["FIG. 6B","FIG. 6C"]},"The text checking portion  reads target text data to determine an identifier; searches the identifier table to check whether or not the identifier is correct; references different information such as attribute, the number of columns, conversion method, description item conversion table name, and so forth which are stored in the identifier table; and checks the description item following the identifier. In this case, when a description item conversion table name is present, the table is searched and the information therein is checked.","The text checking portion  performs the process for all identifiers present in the text so as to determine whether or not the procedure document has been correctly prepared.","The transmission file generating portion  converts the format of a completed text into the transmission format so as to transmit a procedure to outside the terminal equipment.","The transmission format data for use in an electronic application is constructed of a bibliographic information portion for storing data such as an application preamble included in a header portion and a document information portion for storing data such as a specification, drawings, an abstract, and so forth included in a body portion.","The information necessary to convert text data stored in the internal text format of the terminal equipment into the transmission format is stored in the procedure generation reference file  and the procedure management information file . Thus, in a similar process of the text checking portion , the transmission file generating portion  searches these files and performs the conversion process so as to generate the transmission format data.","The online application portion  transmits the generated transmission format data to outside the terminal equipment.","Next, the construction and an operation of another embodiment are described in detail with reference to .",{"@attributes":{"id":"p-0154","num":"0153"},"figref":"FIG. 9"},"[1] A procedure generation processing portion  automatically reads text data from an FD (floppy disk) and converts the format thereof into the internal format of the terminal equipment. Thereafter, the procedure generation processing portion  accesses a procedure management information file  or the like so as to generate a hierarchically structured procedure file in a procedure document storage file . (This process is described later with reference to .)","The procedure generation processing portion  is provided with a text editing portion - and an image editing portion - which edit a text and an image, respectively.","[2] A transmission file generating portion - retrieves a hierarchically structured procedure file from the procedure document storage file  and converts the format of the procedure file into the transmission format. The resultant data are stored in a transmission file -.","[3] An online application portion - retrieves data from the transmission file - and transmits them to the Patent and Trademark Office as a patent application or a utility patent application through an ISDN network or a DDX-P network. Alternatively, an offline application portion - retrieves a procedure file from the procedure document storage file  and stores it on a floppy disk in JIS level . The floppy disk storing the file is mailed or delivered by hand to the Patent and Trademark Office.","Next, a third embodiment is described with reference to the constructional block diagram of .","In , a text converting portion  reads text data from an FD (floppy disk), converts the format of the text data into the internal format of the terminal equipment, and stores the resultant data in a floppy disk text storage file . The text converting portion  is provided with a JIS format converting portion , a word processor format converting portion , a personal computer format converting portion , and so forth. The JIS format converting portion  reads text data written in JIS format from an FD and converts the format of the text data into the internal format of the terminal equipment. The word processor format converting portion  reads text data written in a word processor format (for example, OASYS format used in word processors marketed by Fujitsu Limited) from an FD and converts the format of the text data into the internal format of the terminal equipment. The personal computer format converting portion  reads text data written in a personal computer format (for example, MS-DOS format) from an FD and converts the format of the text data into the internal format of the terminal equipment. (The processes performed by these converting portions , , and  are described in detail later with reference to .)","A procedure generation reference file  stores an intermediate code table and so forth.","A procedure management information file  stores procedure management information.","A structured text defining file  stores a sample of a definition of a hierarchically structured text.","A text editing portion  generates and edits a patent text through a screen procedure by procedure in liaison with a procedure file generating portion  for generating a hierarchically structured procedure file; a structured text I\/O portion  for inputting and outputting a structured text; a text I\/O portion  for inputting and outputting a text; a page adjusting portion  for preventing an image from occurring at the boundary between two pages; a text content analyzing portion  for retrieving a field name embedded with control symbols (for example, [ ]) from text data, and so forth.","A procedure document storage file  stores hierarchically structured procedure files as shown in the figure. In this example, an application preamble file, a specification file, a drawing file, and an abstract file which have actual data are linked from a structured text file containing information necessary for hierarchically structuring a patent application. Thereby, one procedure file is constructed as a whole.","A working file  temporarily stores text data or the like in an edit mode.","An automatic procedure generating portion  automatically generates a procedure file for a patent text which is read from an FD (floppy disk) in liaison with the text converting portion  and the text editing portion .","Next, the process shown in  is practically described with reference to .","(1) A process for automatically determining the text format of a floppy disk, for reading the text data, and for converting the format thereof into the internal format of the terminal equipment is described in detail in accordance with the steps shown in , with reference to .","At step SC in , a floppy disk in an external format is set. In other words, a floppy disk storing a patent text generated with a word processor or the like is set to the electronic application terminal equipment. At step SC, the text is read in JIS format. That is, the first three bytes are read from track 0, sector 7, and side 0 (front side) of the floppy disk so as to determine whether the three bytes are VOL or the like in JIS codes. When the determined result is YES (OK), since it is determined that the text has been written in the JIS format, a JIS format conversion is performed at step SC. In other words, the text data read from the floppy disk are converted from the JIS format into the internal format of the terminal equipment by referencing a code conversion table shown in . Thereafter, the resultant text data are stored in the floppy disk text storage file . When the determined result at SC is NO (NG), a format other than the JIS format is determined. Thus, the process advances to step SC.","At step SC, the text is read in WP format (or word processor format). When the WP format is, for example, OASYS format (the format of texts generated by word processors marketed by Fujitsu Limited), the first three bytes are read from track 0, sector 7, and side 0 (front side) of the floppy disk being set and it is determined whether or not the three bytes are VOL in EBCDIC codes. When the determined result at SC is YES (OK), since it is determined that the text has been written in WP format, at step SC the text data being read from the floppy disk is converted from the WP format into the internal format of the terminal equipment. Thereafter, the resultant text data are stored in the floppy disk text storage file . When the determined result at step SC is NO (NG), since it is determined that the format of the text data are other than the WP format, the process advances to step SC.","At step SC, the text data are read in personal computer format. That is, when the text data have been written in personal computer format such as MS-DOS, it is determined whether or not the first four bytes of track 0, sector 1, and side 0 (front side) of the floppy disk being set are IPL in JIS codes. When the result determined at SC is YES (OK), since it is determined that the text has been written in the personal computer format, the process advances to step SC. At step SC, which is the personal computer format conversion step, the text data being read from the floppy disk are converted from the personal computer format into the internal format of the terminal equipment. Thereafter, the resultant text data are stored in the floppy disk text storage file . When the determined result at step SC is NO (NG), since the format of the text data is other than a format which can be processed by the terminal equipment, a step for determining whether the text has been written in which format is performed or a message which reads that the format of the text data cannot be converted is displayed.","In the above process, the operator needs only set to the electronic application terminal equipment a floppy disk and need not input text data generated outside thereof and need not designate the format of the text data. In other words, the terminal equipment automatically determines the format thereof, converts it into the internal format of the terminal equipment, and retrieves the text data. Thus, a procedure file can be generated automatically.",{"@attributes":{"id":"p-0174","num":"0173"},"figref":"FIG. 12","img":{"@attributes":{"id":"CUSTOM-CHARACTER-00001","he":"3.13mm","wi":"2.12mm","file":"US07724249-20100525-P00001.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}},{"@attributes":{"id":"p-0175","num":"0174"},"figref":["FIG. 13","FIG. 13","FIG. 14"],"b":["1","1","1","1","2","1","2"]},"When the conversion process is started (START), the process advances to step SD. At step SD, the file header label (of 128 bytes) of the system label SV is read so as to obtain the start address of a target text header portion. The file header label of the system label is a file header label of the corresponding text. Thereafter, at step SD, a text header label of 256 bytes of the text header portion TM is read so as to obtain the start address of the text data portion. Thereafter, at step SD, it is determined whether or not the entire text header label of the text header has been read. When the entire label has been read (determined result is YES), the process is ended (END). When the entire label has not been read (the determined result is NO), at step SD, the text data of 256 bytes are read. Thereafter, at step SD, it is determined whether or not all the data have been read. When all the data have not been read, at step SD, the format of the data is converted into the internal format of the terminal equipment by using the code conversion table and then the resultant data are stored in the floppy disk text storage file , shown in . When all the data have been read (the determined result is NO), the process returns to step SD so as to read all the text. Thereafter, at step SD, the format of the text data is converted into the internal format of the terminal equipment.","(2) A process for generating a hierarchically constructed procedure file by using retrieved text data is described in detail in accordance with the steps shown in , with reference to .","At step SE in , a procedure selection screen is displayed. For example, a procedure selection screen as shown in  is displayed as the screen  shown in .","At step SE, a procedure document and a four-law category are selected. For example, on the procedure selection screen shown in  (at step SE), a procedure document of \u201capplication\u201d and a four-law category of \u201cpatent\u201d are selected with the mouse.","At step SE, with codes according to the data selected at step SE, the intermediate code table is searched so as to retrieve an intermediate code of the main document. For example, in accordance with \u201capplication\u201d and \u201cpatent\u201d which are selected at step SE, as shown in \u201cCode Example\u201d of , based on \u201c\u201d for \u201capplication\u201d and \u201c\u201d for \u201cpatent\u201d, an intermediate code \u201c\u201d referred to as {circle around (A)} entry with the procedure \u201c\u201d and the four-law category \u201c\u201d of the intermediate code table shown in  is retrieved from the procedure generation reference file  shown in .","At step SE, a procedure file for storing one procedure is generated and then registered in the procedure management information file . That is, the procedure file generating portion  as shown in  generates in the procedure document storage file  a procedure file which comprises a structured text file and patent text files (which are an application preamble file, a specification file, a drawing file, and an abstract file) and assigns a unique number thereto. The procedure file is registered in a way of procedure file name \u201cxxxx (a unique number)\u201d, procedure document \u201c1 (application)\u201d, four law category \u201c1 (patent)\u201d, intermediate code \u201c\u201d, procedure name \u201cpatent application\u201d, and so forth as shown in an example {circle around (B)} of a procedure management information file of .","At step SE, with keys of a procedure document, a four-law category, and an intermediate code, a structured text is retrieved from the structured text definition file  and then stored in a generated procedure file. That is, the structured text I\/O portion  retrieves a structured text by using keys of \u201cprocedure document+four-law category+intermediate code\u201d. The structured text is stored as a structured file in the procedure file (shown in ) which has been generated at step SE (this operation is described in detail later). In addition, the file name of the structured text file is set to the procedure management information file shown in .",{"@attributes":{"id":"p-0183","num":"0182"},"figref":"FIG. 17","b":["127","1","3"]},"At step SE, a document selection screen is displayed. For example, a document selection screen as shown in  is displayed on the screen . At step SE, one of the documents is selected. In other words, one of the documents (for example, an application) is selected (for generation or update) from the document selection screen shown in .","At step SE, a patent text is generated. By setting a file name, the number of pages, a line position, and a level position to a node, the patent text is linked to a structured text. (When a patent text is divided, the line number is changed.) When the \u201capplication preamble or petition\u201d and the \u201cgeneration\/update\u201d are selected on the document selection screen shown in , the text I\/O portion  generates an application preamble file in the procedure file with regard to a selected application preamble. In addition, the structured text I\/O portion  sets the application preamble file name \u201cA0000001\u201d, the number of pages, the line position, the paragraph position, and so forth to node F corresponding to the application preamble in the third level of the structured text file as shown by {circle around (C)} in . Likewise, a specification file, a drawing file, and an abstract file are set to nodes G, H, and I in the third level of the structured text file, respectively.","At step SE, it is determined whether or not the process is completed. When the determined result is YES (Y), the process is completed. When the determined result is NO (N), the steps of SE and later are repeated.","In the above process, a structured text file is generated in a procedure file generated in accordance with the procedure category and the four-law category selected on the screen. By linking files (an application preamble file, a specification file, a drawing file, and an abstract file) to a structured text file, a patent text is automatically formed in a hierarchical structure. Thus, patent texts can be readily managed and edited.",{"@attributes":{"id":"p-0188","num":"0187"},"figref":["FIGS. 16A to 16H","FIG. 16A","FIG. 10"],"b":"136"},{"@attributes":{"id":"p-0189","num":"0188"},"figref":"FIG. 16B"},{"@attributes":{"id":"p-0190","num":"0189"},"figref":["FIG. 16C","FIG. 16A","FIG. 16A"]},"Next, processes shown in , B, and C are described in detail. When \u201capplication\u201d and \u201cpatent\u201d are selected as the procedure category and the four-law category, respectively, on the procedure selection screen shown in , codes \u201c1\u201d and \u201c1\u201d are generated in accordance with the code table shown in . Thus, the procedure category \u201c1\u201d, the four-law category \u201c1\u201d, and the intermediate code \u201c\u201d of the main document record {circle around (A)} are retrieved from the intermediate code table show in . In addition, the intermediate code \u201c\u201d is retrieved in accordance with the \u201cpatent application\u201d and the main document record {circle around (A)} which are automatically recognized and retrieved from text data automatically retrieved from a floppy disk.",{"@attributes":{"id":"p-0192","num":"0191"},"figref":["FIG. 16D","FIG. 15"],"b":["4","126","63"]},{"@attributes":{"id":"p-0193","num":"0192"},"figref":["FIG. 16E","FIGS. 16F and 16G"],"b":"127"},{"@attributes":{"id":"p-0194","num":"0193"},"figref":["FIG. 16F","FIG. 16E"]},{"@attributes":{"id":"p-0195","num":"0194"},"figref":["FIG. 16G","FIG. 16E"]},{"@attributes":{"id":"p-0196","num":"0195"},"figref":["FIG. 16H","FIG. 16G"]},{"@attributes":{"id":"p-0197","num":"0196"},"figref":"FIG. 18"},"[1] When a combination of \u201ctext name+generation\/update\u201d is selected, the text I\/O portion  generates a patent text file (an application preamble file, a specification file, a drawing file, or an abstract file) in a procedure file generated by the procedure file generating portion  with respect to a selected patent document (application preamble, specification, drawings, or abstract). In addition, the structured text I\/O portion  sets the content of the patent text file to a corresponding node in the third level of the structured text file. For details, see . (In the update mode, the contents of the patent text file are not set.)","[2] When a combination of \u201ctext name+floppy disk text\u201d is selected, the text converting portion  converts text data of an external format into the internal format of the terminal equipment and copies the patent text file (text data) stored in the floppy disk text storage file  to a procedure file generated by the procedure file generating portion . In addition, the structured text I\/O portion  sets the content of the patent text file to a corresponding node in the third level of the structured text file (see ).","[3] When a combination of \u201ctext name+division\u201d is selected, the text I\/O portion  generates a new patent text file in a procedure file generated by the procedure file generating portion  with respect to a selected document. In addition, the structured text I\/O portion  sets the content of the patent text file to a corresponding node in the third level of the structured text file and changes the structure of the structured text file. In other words, as shown in , the structure of the structured text file shown in the left side table of  is changed to the right side table thereof. On the right side table, \u201c1\u201d is added to each line position of the drawing and the abstract. Thus, as shown in , on the document selection screen, the specification is divided into specification  and specification . In other words, a specification containing several hundred pages can be divided into a plurality of child texts (for example, specification , specification , . . . , specification n). However, when the operator wants to treat a plurality of specifications as one specification, the structured text I\/O portion  refers to information of nodes in the third level and merges child texts having the same text name.","[4] When \u201cpage adjustment\u201d is selected, if a patent text is divided into a plurality of child texts and then merged into one patent text, the page adjusting portion  prevents image data from being present at the boundary between two pages. Examples of image data are schematic diagrams, mathematical formulas, and chemical formulas merged with a specification file or a drawing file and so forth.","(3) With reference to  and , a page adjustment process is described in detail.",{"@attributes":{"id":"p-0203","num":"0202"},"figref":"FIGS. 20A to 20D","b":["1","2"]},"Image data are merged with text data as a set comprising a frame start code, a frame number, and a frame end code. The line length and so forth of the real image data are retrieved from the position in accordance with the frame number.",{"@attributes":{"id":"p-0205","num":"0204"},"figref":"FIG. 20A","b":["1","2"]},{"@attributes":{"id":"p-0206","num":"0205"},"figref":"FIG. 20B","img":{"@attributes":{"id":"CUSTOM-CHARACTER-00002","he":"3.13mm","wi":"10.92mm","file":"US07724249-20100525-P00002.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},"b":["1","2"]},{"@attributes":{"id":"p-0207","num":"0206"},"figref":["FIG. 20C","FIG. 20B","FIG. 20B"],"b":["3","4","30","4"],"i":"ea"},{"@attributes":{"id":"p-0208","num":"0207"},"figref":["FIG. 20D","FIG. 20C"],"b":["1","2","3"]},"As schematically described, when texts are merged, if image data are present at the boundary between two pages, a page change code is placed just before the image data and the image data are moved to the beginning of the next page. Thus, as shown in  or , where child texts of up to two pages are managed, pages of text are adjusted.","Next, a flow of an actual page adjustment control process is described in accordance with the flow chart of .","In , at step SF child texts used to construct a parent text are merged with a working area. At this step, the structured text I\/O portion  shown in  references node information in the third level of a structured text file, merges the child texts with the same text name, and stores the merged text in the working file .","At step SF individual counters (a page counter, a line counter, and a column counter) are reset to \u201c0\u201d.","At step SF the merged text is read.","At step SF it is determined whether or not an EOF code (End Of File code) representing the end of the merged text has been read. When the determined result is YES, at step SF it is determined whether or not all the patent texts have been read. When the determined result is YES, at step SF the child texts in the working area are copied to a procedure file. Thereafter, at step SF the structured text file is updated and this page adjustment process is ended (END). When the determined result is NO, the steps of SF or later are repeated. When the determined result at step SF is NO, the page adjustment process and so forth are performed at steps SF or later.","At step SF, it is determined whether or not the code being read is frame control information. When the determined result is YES, since it is determined that a frame control information code \u201c\u201d representing the beginning of image data has been detected, merging media definition information of text control information at the header portion of the merged text is referenced. Thereafter, the number of lines of the merging media is added to the present position. If an \u201cimage at page boundary\u201d takes place, the determined result at step SF becomes YES. In this case, at step SF, a page change control code \u201c\u201d (\u25ad) is placed just before the frame control information code \u201c\u201d representing the beginning of the image data. Thereafter, at step SF it is determined whether or not the page number of the child texts becomes a predetermined value. When the determined result is YES, at step SF the page counter is set to \u201c0\u201d. At step SF the predetermined pages of the child texts are sequentially stored in the working file . When the determined result at step SF is NO, at steps SF to SF the line counter and the column counter are started.","At step SF it is determined whether or not a code being read is at the beginning of a line. When the determined result is YES, the process advances to step SF. When the determined result is NO, the process advances to step SF. At step SF a line change code is placed just before frame control information. In addition, image data is placed at the beginning of the next line. Thereafter, at step SF the line counter is incremented by \u201c1\u201d. Thereafter, the process advances to step SF.","At step SF it is determined whether or not the total number of lines of \u201cline counter+frame\u201d exceeds the number of lines per page. In other words, at this step, the number of lines (line length) of image data read in accordance with a frame number are added to the line being counted, thereby determining whether or not the number of lines being added exceeds the number of lines per page. When the determined result is YES (or when the number of lines being added exceeds the number of lines per page), since the image data is present at the boundary between two pages, at step SF a page change code is placed just before frame control information, thereby moving the image data to the beginning of the next page. Thereafter, at step SF the number of lines of the frame is set to the line counter and then the number of lines of next data is set. At step SF, the page counter is incremented by \u201c1\u201d and then the process advances to step SF. When the determined result is NO (or when the number of lines being added does not exceed the number of lines per page), at step SF the number of lines of the frame is added to the line counter. Thereafter, the number of lines of the next data is set and then the process advances to step SF.","At step SF the column counter is set to \u201c0\u201d.","At step SF it is determined whether or not the number of pages of the child texts becomes the predetermined value (or a predetermined maximum page number per text). When the determined result is YES, at step SF the page counter is set to \u201c0\u201d. At step SF the predetermined number of pages of the child texts is generated in the working area. Thereafter, the steps of SF and later are repeated. When the determined result is NO, since the page number of the child texts do not become the maximum page number, steps SF and later are repeated.","Thereafter, since the determined result at step SF is NO, that is, the code being read is not frame control information, at step SF, upon occurrence of a character code or a control code (other than a frame control code), the column counter is incremented. When a two byte character code (such as a Japanese character) is read, the column counter is incremented by \u201c1\u201d. When another two byte character code (such as a double size Japanese character) is read, the column counter is incremented by \u201c2\u201d. When a one byte character code is read, the column counter is incremented by \u201c0.5\u201d.","At step SF it is determined whether or not the value of the column counter exceeds the number of columns per line. When the determined result is YES, at step SF the line counter is incremented by \u201c1\u201d. Thereafter, at step SF the column counter is set to \u201c0\u201d and then the process advances to step SF. When the determined result is NO, since the value of the column counter does not exceed the number of columns per line, step SF is repeated.","At step SF it is determined whether or not the value of the line counter exceeds the number of lines per page. When the determined result is YES, at step SF the page counter is incremented by \u201c1\u201d. Thereafter, at step SF the line counter is set to \u201c0\u201d. Thereafter, the steps of SF or later are performed. When the determined result is NO, the steps of SF or later are performed.","With this process, when frame control information is read from a merged text, if it is determined that image data occur at the boundary between two pages, the page adjustment process, where a page change code is forcibly placed and the image data are moved to the beginning of the next page, is performed (steps SF (YES), SF, SF, and SF). Thus, the pages of the merged text can be automatically adjusted.","(4) Next, a control process for automatically generating a procedure file by using patent text data being read from a floppy disk is described in detail with reference to  and .","In , at step SF patent text data are read from an external file to the working file. Then the automatic procedure generating portion  shown in  commands the text converting portion  to read patent text data from an FP (floppy disk), convert the format thereof into the internal format, and store the resultant data in the working file .","At step SF, with a key of [title of document or document name], a text file is searched and thereby a text information table is edited. Namely, with a key of [title of document], the text content analyzing portion  searches a text file (storing patent text data) which has been read to the working file at step SF and edits a text information table  as shown in .","At step SF, an application preamble is retrieved. Thereafter, with reference to the intermediate code table, an intermediate code is retrieved and","a sample is retrieved from the structured text definition file  by using the \u201cprocedure category+four-law category\u201d and the intermediate code, and the procedure file is generated","the application preamble is copied from the working file to the procedure file and then linked, and","likewise, the specification, drawings, and abstract are copied to the procedure file and then linked.","In other words, identifiers contained in a patent text for use in an electronic application represent the contents of bibliographic items thereof. Thus, by searching for an identifier [title of document] and checking the description item, the text name is determined and a text information table  shown in  is generated.","Thereafter, the intermediate code table shown in  of the procedure working reference file  is referenced with the key of the text name of the text information table . Thus, an intermediate code is determined. For example, when the text name is \u201capplication preamble\u201d, data having the text name \u201capplication preamble\u201d are searched. Thus, the intermediate code \u201c\u201d, which is a main document, is determined based on the procedure name \u201cpatent application\u201d. In addition, the procedure category \u201c (application)\u201d and the four-law category \u201c (patent)\u201d are determined. In liaison with the structured text I\/O portion , the procedure file generating portion  generates a procedure file in the procedure document storage file , the procedure file storing a structured text file. In addition, with reference to the text information table  shown in , the patent text files (an application preamble file, a specification file, a drawing file, and an abstract file) stored in working file  are copied to corresponding files (an application preamble file, a specification file, a drawing file, and an abstract file) of the procedure file one after the other. Thereafter, the contents of these files are set to the node information in the third level of the structured text file and the structure of the sample structured text file is changed. Thus, the automatic procedure generating portion  automatically generates a procedure file by using an external file in liaison with the text converting portion , the procedure file generating portion , the structured text I\/O portion , the text I\/O portion , the page adjusting portion , the text content analyzing portion , and so forth.","Next, a paragraph number assignment process is described with reference to .",{"@attributes":{"id":"p-0234","num":"0233"},"figref":"FIG. 24"},"A text editing portion  performs various text editing operations. The text editing portion  is constructed of a paragraph number conversion processing portion - and so forth.","The paragraph number conversion processing portion - assigns paragraph numbers in the construction shown in .","A procedure management information file  stores procedure information for use in managing procedure documents.","A procedure file generating portion  generates a procedure file. A structured text I\/O portion  inputs and outputs a hierarchically structured procedure file which is stored in a procedure document storage file . A text I\/O portion  inputs and outputs text files to and from the procedure document storage file  and a working file . A page adjusting portion  adjusts pages of texts stored in the working file . The procedure document storage file  stores a hierarchically structured procedure file. A working file  stores text data and so forth to be edited. A display portion - displays various screens. A key input portion - inputs data in accordance with various keys.",{"@attributes":{"id":"p-0239","num":"0238"},"figref":"FIGS. 25A and 25B"},{"@attributes":{"id":"p-0240","num":"0239"},"figref":"FIG. 25A","b":["225","1"]},"The \u201cautomatic\u201d mode is used to assign paragraph numbers in ascending order.","The \u201creplace\u201d mode is used to assign paragraph numbers in ascending order whenever a predetermined paragraph number assigning mark is detected.","The \u201cautomatic & replace\u201d mode is used for both the \u201cautomatic\u201d mode and the \u201creplace\u201d mode.","Besides these modes, a renumbering function for renumbering the paragraphs is provided.","A paragraph number assigning mark is for setting paragraph numbers. An example of a paragraph number assigning mark is @.","A paragraph number assignment suppressing line number is the number of lines which suppresses the assignment of the next paragraph number in successively assigning paragraph numbers. An example of this line number is 5.",{"@attributes":{"id":"p-0247","num":"0246"},"figref":"FIG. 25B","b":"226"},"A procedure file name is the name of a procedure file which stores text data.","A procedure category is a category of a procedure. Examples of categories are application, intermediate procedure, registration setting (payment of issue fee), and payment of maintenance fee.","A four-law category is a category for patent, utility patent, design patent, trademark, and so forth.","An intermediate code is for use in retrieving a sample of a hierarchically structured procedure file (see the intermediate code table shown in ).","A transmission result flag represents a transmission result of a transmission file where a procedure file has been converted into the transmission format. Examples of the transmission result are \u201cnot transmitted\u201d, \u201ctransmitting\u201d, \u201ctransmitted\u201d, and so forth.",{"@attributes":{"id":"p-0253","num":"0252"},"figref":"FIG. 26"},"In , a paragraph number conversion processing portion - is constructed of devices  to . This processing portion - assigns paragraph numbers and renumbers them.","A target document verifying portion  verifies whether or not a text retrieved from the procedure document storage file is a document in which paragraph numbers should be assigned.","A format processing portion  reads a procedure where paragraph numbers should be assigned and formats the text. As a result of the format processing, a development area ()  is for storing text data including control information developed in the unit of lines, a development area ()  is for storing text data excluding the control information, and formatting information  is page and line information for representing the lines of a page on which developed lines are located.","A paragraph number assignment determining portion  determines whether or not to assign paragraph numbers in accordance with the data developed by the format processing portion . A line space counter  is for counting the space between successive paragraph numbers. A paragraph number assignment enable flag  is for storing the validity of a paragraph number assignment range. A paragraph number assignment category setting range  is for presetting a paragraph number assignment category (such as automatic mode, replace mode, automatic & replace mode, and so forth). A paragraph number assignment mark setting area  is for presetting a predetermined paragraph number assignment mark. A paragraph number assignment suppressing line number setting area  is for presetting the number of lines for suppressing consequent assignment of paragraph numbers. A paragraph number assignment renumbering setting area  is for presetting assignment and renumbering of paragraphs.","When the paragraph number assignment determining portion  determines the assignment of paragraph numbers, a paragraph number assigning portion  assigns them in ascending order. A number counter  is for counting paragraph numbers in ascending order.","A file writing portion  outputs text data with assigned paragraph numbers to a file. A write area  is for temporarily storing text data to be written line by line.","Next, a paragraph number assignment process and a paragraph renumber process are described in detail in accordance with , with reference to , B and .","[1]: As shown in , on an operation environmental information update screen which is displayed on the display portion -, the operator will perform one of the following operations for the paragraph number assignment process.","When the automatic assignment mode is selected, the operator will input an assignment suppressing line number.","When the replace mode is selected, the operator will input one assignment mark.","When the automatic & replace mode is selected, the operator will input both an assignment suppressing line number and one assignment mark.","The selected and inputted information is stored in the environmental setting file - shown in .","[2] As shown in , the operator will select the paragraph number assignment mode on either a patent editor screen, which is a paragraph number assignment screen, or a document selection screen. When a paragraph number is selected on the patent editor screen, the operator will select a target procedure on the procedure table screen. When the paragraph number assignment mode is selected on the document selection screen, since a target procedure has been selected, it is not necessary to further select a procedure. With one of the above selection modes, the paragraph number assignment verifying screen on the right side of  is displayed. The operator will select either the paragraph number assignment mode or the renumber mode. The selected renumber information is stored in the paragraph number assignment renumber setting area  shown in .","[3]: To check whether or not the procedure selected first is a target matter where paragraph numbers are assigned, the target document verifying portion  reads, through the procedure file generating portion , the procedure management information file  shown in . The procedure management information file  reads a procedure file name, a procedure category, and a transmission result flag by using an eight-digit unique management number. The target document verifying portion  checks the transmission result flag. When the procedure is in the \u201cTransmitting\u201d status or \u201cReceipt Received\u201d, the target document verifying portion  outputs an error message. Otherwise, the target document verifying portion  checks a procedure category. When the procedure category is other than \u201capplication\u201d and \u201camendment\u201d, the target document verifying portion  outputs an error message. When these checked results are OK, the target document verifying portion  accesses the procedure document storage file  through the structured text I\/O portion  by using a key of the procedure file name. When the procedure category is \u201capplication\u201d, the target document verifying portion  checks the name of a file which stores a specification. When the procedure category is \u201camendment\u201d, the target document verifying portion  checks the name of a file which stores an amendment. Thereafter, the target document verifying portion  reads the contents of the respective texts through the text I\/O portion . Thereafter, the target document verifying portion  checks whether or not an identifier [title of document] is followed by a specification or an amendment. When the identifier is followed by an amendment, the target document verifying portion  checks whether or not [title of document for amendment] is \u201cspecification\u201d; [name of item for amendment] is \u201cfull text\u201d; and [method of amendment] is \u201cchange\u201d. When these check results are NG, the target document verifying portion  outputs an error message. When the results are OK, a target document for paragraph number conversion is copied from the procedure document storage file  to the working file  so as to start a following paragraph number conversion process. When the specification or the amendment contains a plurality of divided texts, they are merged into one text and then stored. In addition, the contents of the environmental setting file - shown in , which are paragraph number assignment category (one of automatic mode, replace mode, and automatic & replace mode), a paragraph number assignment mark (for example, @), and a paragraph number assignment suppressing line number (for example, 5 lines), are set to the paragraph number assignment category setting area , the paragraph number assignment mark setting area , and the paragraph number assignment suppressing line number setting area , respectively as shown in . In addition, the line space counter , the assignment enable flag , and the number counter  are initialized.","[4]: The format processing portion  develops and retrieves a target text line by line. Thereafter, the format processing portion  stores text data including control information in development area () , text data excluding control information in development area () , and information representing what text data stored in the development area ()  is present in which line of which page in the formatting information .","[5]: The paragraph number assignment determining portion  analyzes data stored in the development area ()  and the development area ()  and checks whether the data is in a paragraph number assignment range. When the paragraph number assignment determining portion  checks an identifier and detects [detailed description of invention], it turns on the assignment enable flag . When the paragraph number assignment determining portion  detects [brief description of drawings] or the end of the text, it turns off the assignment enable flag . Only when the assignment enable flag  is turned on does the paragraph number assignment determining portion  determined whether or not to assign paragraph numbers in accordance with the following conditions.","[6]: The paragraph number assignment determining portion  performs the following determinations in accordance with the conditions set in areas  to  shown by . (Refer to the description of .)","[6]-1: When the paragraph number assignment renumber setting area  is set to \u201cassignment\u201d and the paragraph number assignment category setting area  is set to \u201cautomatic\u201d, the paragraph number assignment determining portion  determines execution of steps shown in .","[6]-2: When the paragraph number assignment renumber setting area  is set to \u201cassignment\u201d and the paragraph number assignment category setting area  is set to \u201creplace\u201d, the paragraph number assignment determining portion  determines execution of steps shown in .","[6]-3: When the paragraph number assignment renumber setting area  is set to \u201cassignment\u201d and the paragraph number assignment category setting area  is set to \u201cautomatic & replace\u201d, the paragraph number assignment determining portion  determines execution of steps shown in .","[6]-4: When the paragraph number assignment renumber setting area  is set to \u201crenumber\u201d, the paragraph number assignment determining portion  determines execution of a step shown in .","[7] When the paragraph number assignment determining portion  determines execution of one of [6]-1 to [6]-4, paragraph number assigning portion  increments the number counter  by \u201c1\u201d, determines a paragraph number, and stores write data in the write area  of the file writing portion . The file writing portion  outputs text data with paragraph numbers to the working file  as a new merged text.","[8]: Last, the page adjustment portion  adjusts the merged text with paragraph numbers, and if necessary divides the text into a plurality of texts. Thereafter, the page adjusting portion  replaces, with the adjusted text(s), the former text without paragraph numbers through the text I\/O portion .",{"@attributes":{"id":"p-0276","num":"0275"},"figref":"FIGS. 27A and 27B"},{"@attributes":{"id":"p-0277","num":"0276"},"figref":["FIG. 27A","FIG. 26"],"b":["225","1"]},{"@attributes":{"id":"p-0278","num":"0277"},"figref":["FIG. 27B","FIG. 26"],"b":"356"},{"@attributes":{"id":"p-0279","num":"0278"},"figref":"FIGS. 28A through 28E"},{"@attributes":{"id":"p-0280","num":"0279"},"figref":"FIG. 28A","img":{"@attributes":{"id":"CUSTOM-CHARACTER-00003","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}},{"@attributes":{"id":"p-0281","num":"0280"},"figref":"FIG. 28B","b":["30","01","30"],"img":{"@attributes":{"id":"CUSTOM-CHARACTER-00004","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}},{"@attributes":{"id":"p-0282","num":"0281"},"figref":"FIG. 28C","img":{"@attributes":{"id":"CUSTOM-CHARACTER-00005","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},"b":["347","355"]},{"@attributes":{"id":"p-0283","num":"0282"},"figref":"FIG. 28D"},{"@attributes":{"id":"p-0284","num":"0283"},"figref":"FIG. 28E","img":{"@attributes":{"id":"CUSTOM-CHARACTER-00006","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}},{"@attributes":{"id":"p-0285","num":"0284"},"figref":"FIG. 29","b":["31","1","6","125","7","32","1","31","1","440","445","446","447"]},"An execution enable check, a text read process, a bibliographic information generation and text check, a post-amendment content generation, and so forth, are performed by an execution enable checking portion , a text read processing portion , a bibliographic information generation and text checking portion , a post-amendment content generating portion , and so forth respectively disposed within the bibliographic information generating portion . The procedure generation reference file  contains the above identifier table, the description item conversion table, the item attribute table, and the item table.","The transmission file generating portion - generates a document name \u201cpatent application preamble P\u201d, a document name \u201cspecification P\u201d, and a document name \u201cdrawing P\u201d for an application procedure in accordance with the format of a transmission file to be generated, as illustrated by a transmission file generation process shown in . The transmission file format contains text information categorized as an applicant information header and a body T73. The applicant information header is categorized as a length portion and a bibliographic information portion. The length portion comprises a total information length, an information length of length portion, an information length of bibliographic information portion, an information length of document information portion, a document length of non-structured document, a document length of specification, a document length of drawings, a document length of post-amendment content, and the number of other documents. All these fields have 4 bytes. The bibliographic information portion represents the document name \u201cpatent application preamble P\u201d. As a document information offset, sets of item ID, item length, and item position, each of 4 bytes, are repeated. In addition, the bibliographic information portion contains a separator (of 4 bytes) and real data of bibliographic information (of variable length). With such bibliographic information, the document name \u201cpatent application preamble P\u201d is generated. The body (T73) is a text information portion categorized as a specification document substance and a drawing document substance which represent the document name \u201cspecification P\u201d and the document name \u201cdrawing P\u201d, respectively.","To generate a transmission file in such a format, the execution enable checking portion  of the transmission file generating portion - determines the validity of execution of a transmission file generation process. In this determination of the validity, the execution enable checking portion  checks the procedure management information file  being read (see ) and verifies the content of the status flag. When the status flag represents a text check error status, the \u201cTransmitting\u201d status, or the \u201cReceived\u201d status, the execution of the transmission file generation process is disabled. In this case, a particular message is outputted and the process is stopped.","This check step is performed so as to prevent a document or the like which has been transmitted from being mistakenly transmitted again.","When the check result of the execution enable checking portion  is OK, the text read processing portion  reads the main document and generates an identifier information table  and an intermediate file . In other words, with reference to the management information file, the text read processing portion  reads the procedure document storage file  and retrieves the main document. In the case of the structured text format, when the file being retrieved is at the first node, the file is treated as a main document. When the file is at other than the first node, it is treated as an attached document. The main document is read and data with respect to each [identifier] is retrieved. The retrieved data is written to the identifier information table  and the intermediate file . The real data is written from the beginning of the intermediate file . The write position of the intermediate file  and the data length are stored in the identifier information table . For example, the position and the length of the text name shown in  are the 12th byte and 6 bytes, respectively. A code \u201cpatent application\u201d (6 bytes) is stored in the intermediate file  at this position and with this length.","When the real data are stored in the intermediate file , the leading and trailing spaces are removed therefrom. For example, in the case of \u201c[title of invention] Hand scanner\u201d, the first space between the [title of invention] and \u201cHand scanner\u201d and the second space followed by the \u201cHand scanner\u201d are removed.","The text read processing portion  correlates the text with the identifier information table  and the intermediate file  as shown in the descriptive schematic diagram of the text reading process shown in .","When the process of the text read processing portion  is completed, the execution of the bibliographic information generation and text check processing portion  is started. With reference to the procedure generation reference file , the bibliographic information generation and text check processing portion  generates an offset information table  and a bibliographic information file  by using the identifier information table  and the intermediate file . In addition, the processing portion  checks the text. In other words, the bibliographic information generation and text check processing portion  reads the identifier information table  from the beginning and searches the item attribute table (see ) in the procedure generation reference file  with a key of an identifier being read. Thus, \u201cgeneral item\u201d or \u201cgroup item\u201d is determined. In the item attribute table shown in , the \u201cidentifier\u201d represents an identifier of a group item; the \u201citem attribute\u201d represents an attribute of a group item; and the \u201cmember item name\u201d represents an identifier of a member item. For example, since there may be a plurality of inventors, the identifier \u201cinventors\u201d is used as a group item.","Thereafter, by searching the identifier information table  (see ), the bibliographic information generation and text check processing portion  reads an item ID, an attribute, a number of columns, a converting method, and the name of a description item conversion table. Then, if a match is not detected, an identifier error occurs. This error is written to an error information file . Thereafter, the content (real data) of the intermediate file in accordance with the identifier stored in the intermediate file is converted in accordance with the information being read from the identifier information table . Thereby, the offset information table  and the bibliographic information file  are generated. In other words, the real data in the intermediate file  is successively converted in accordance with the attribute column number conversion method and read from the identifier information table . Thereafter, the converted data are written to the bibliographic file . When a code is necessary in this process, a conversion table such as a four-law category conversion table written in a description item conversion table is searched.","The bibliographic information generation and text check processing portion  outputs an item ID (for example, in the case where an item ID represents a destination), such as \u201c1001\u201d in accordance with the above identifier and information of a length and a position from a beginning which are written to the bibliographic information file  to the offset information table . When an error takes place during this conversion process, the bibliographic information generation and text check processing portion  writes the error to the error information file .","When all the data in the identifier information table  has been converted and then written to the offset information table  and the bibliographic information file , the item table (see ) is searched for a corresponding item ID and a mandatory category with keys of an intermediate code (in the procedure management information file) and a law code (in the case of a application preamble). Thereafter, it is determined whether or not the item ID is present on the offset information table. When the item ID is not present, information representing that a mandatory identifier is absent is outputted to the error information file .","Thereafter, when the main document is an amendment for the content of a specification or drawings, data of an identifier [content after amendment] is outputted to a post-amendment content storage file . In this case, the format of the text should be converted into the format of T73.","In the above bibliographic information generation and text check process, as shown in  through -, the bibliographic information generation and text check processing portion  generates the offset information table  and the bibliographic information file  by using the identifier information table  and the intermediate file  as shown in  through -. When the process of the bibliographic information generation and text check processing portion  is completed, the T73 conversion processing portion  converts the format of an attached document into the T73 text format and then outputs the resultant text to a file.",{"@attributes":{"id":"p-0299","num":"0298"},"figref":["FIG. 33","FIG. 33"],"b":["446","7","6","7","454","455","446"]},"When the process of the T73 converting portion  is completed, the execution of the process of the transmission file edit processing portion  is started. In other words, the transmission file edit processing portion  merges and edits the offset information table , the bibliographic information file , and the T73 text file . Thereafter, the transmission file edit processing portion  generates the transmission file -. In other words, the transmission file edit processing portion  determines whether the selected mode is the text check mode or the transmission file generation mode. When the text check mode has been selected, the transmission file edit processing portion  skips the edit process. When the transmission file generation mode has been selected, the transmission file edit processing portion  performs the following process. In this process, transmission command information of \u2018010010\u2019 is edited and outputted to the first 6 bytes of the transmission file. With the length information used when the bibliographic information file  and the T73 text file  were generated, the information of the length portion of the transmission file is edited and outputted. In addition, by using the offset information table  and the bibliographic information file , the transmission file edit processing portion  edits a bibliographic information file for the transmission file. The bibliographic information portion in the applicant information header of the transmission file - shown in  comprises data length and its position in accordance with each item ID. For example, when the title of the invention is \u201chand scanner\u201d, the item ID represents position . The data length is 14 bytes from the data position . In other words, 14 bytes are assigned from the 76th byte of the item data. In this space, character codes representing \u201chand scanner\u201d are stored. This construction is also applied to other items.","Thereafter, the transmission file edit processing portion  reads the T73 text file  and outputs it as a document information portion following the bibliographic information portion. With this edit process, information in the predetermined format is generated in the command and the length portion in the information header and the bibliographic information portion in the transmission file. After this process is completed, the process of the error information editing portion  is started. The error information editing portion  successively reads the content of the error information file  and edits text check error information in the list format. Thereafter, the error information editing portion  prints out the list. This process is performed so that the error is effectively issued to the operator.","With this process, information to be transmitted is stored in the transmission file -.",{"@attributes":{"id":"p-0303","num":"0302"},"figref":"FIG. 36"},"In , a text content file  is for storing a text (text code) which contains image data merging command identifiers (for example, [Figure n]+carriage return or ie change mark; [Table n]+carriage return mark; [Mathematics formula n]+carriage return mark; and [Chemical formula n]+carriage return mark) and image insertion marks (for example, @+carriage return mark) (see ).","A text merging information file  is for storing an image file name, a frame size, a page position, a line position, and so forth in accordance with a frame ID of image data (see ).","An image file  is for storing image data.","A text file controlling portion - accesses the text content file  and searches for image data merging commands (identifiers and image data insertion marks).","A text merging information controlling portion - accesses the text merging information file .","An image file controlling portion  accesses the image file .","A merging controlling portion  merges image data with text.","An image edit controlling portion  edits image data being read by a scanner or the like.","A scanner  reads an image from a paper and generates image data. In addition to the scanner, image data can also be generated by developing a drawing represented by codes, vector data, and so forth into a bit map.","A display input controlling portion  displays a text and an image on a screen  and receives an input of a mouse\/keyboard . The display input controlling portion  is constructed of a text display controlling portion - for displaying a text on the screen , an image display controlling portion - for displaying an image on the screen , an input controlling portion - for receiving an input of the mouse\/keyboard , and so forth.","The screen  is a screen of a display device for displaying a text, an image, and so forth.","The mouse\/keyboard  inputs various commands and data to the display input controlling portion .","Next, a construction of a text including image data is described with reference to .","In the figure, text data stored in the text content file  is constructed of a text including a set comprising identifier (for example, [])+carriage return mark and a set comprising image insertion mark (for example, a @)+carriage return mark. These text data are displayed on the screen  as shown in the lower right-schematic diagram of . In a frame W, indicated by dotted lines, an image with an image file name of the frame W of the merging information portion of the text merging information file  is retrieved from the image file  and then displayed on the screen .","Thus, in the text data, only image merging information (such as [frame W] and [frame W]) for representing (insertion) image data is merged. Real image data are retrieved from an image file name (a unique management number assigned in ascending order) obtained from the image file  in accordance with [frame W], [frame W], and so forth in text merging information file  and then displayed (inserted). Thus, a position (for example, [frame W] and [frame W]) at which image data are merged with a text can be readily edited (for example, moved). In addition, image data can be edited only by changing attribute information (such as frame size) of the text merging information file . Thus, image data can be readily and quickly edited. A transmission file is generated by merging image data with a text at positions of [frame W], [frame W], and so forth. Next, this process is described in detail.",{"@attributes":{"id":"p-0319","num":"0318"},"figref":"FIG. 38"},"In , a merging controlling portion  comprises a size conversion processing portion -, a corresponding table -, a page adjustment processing portion -, a drawing number generating portion -, a counter -, and so forth. The size conversion processing portion - divides by the size of each character an image size (for example, mm) of image data being read by a scanner  so as to calculate a frame size. The corresponding table - sets information with respect to the calculated frame size and so forth. The page adjustment processing portion - automatically places a page change mark on a line just preceding image data which is present at the boundary between two pages so as to move the image data to the later page. The drawing number generating portion - assigns a drawing number to image data. The counter - counts drawing numbers in ascending order. Since the constructions of the portions , , -, -, and  to  shown in  are the same as those of , their description is omitted.","The corresponding table - sets from beginning of text data a size, a number of lines, a number of columns, a start page, a start line, a start column of image data, text data on a line just preceding image data, text data on a line just following image data, an image file name, and so forth in accordance with merging commands (identifiers and image insertion marks) which are merged with a text.","Then, in accordance with a flow chart of , an operation of the merging controlling portion in the construction shown in  is described in detail.","When the execution of the process of the merging controlling portion is started, at step SG a target text is checked. At this step, the drawings, specification, or amendment is checked and found as a target text where image data are merged.","Thereafter, at step SG, the content of the target text is read. At this step, the text file controlling portion - reads the content (text data) of the target text (specification, amendment, etc.) from the text content file .","At step SG, it is determined whether or not all image data have been merged. When the determined result is YES, at step SG the text data merged with the image data are stored (updated) in the text contents file . Thereafter, this process is ended (END). When the determined result is NO, steps of SG and are repeated so as to merge the image data with the text data.","At stop SG, merged positions are searched one after the other. In other words, the text file controlling portion - searches for text data (of a specification or an amendment) from the text content file  and retrieves merging commands (for example, an identifier [Figure n]+, image data insertion mark @+. At step SG, merging positions are displayed. In other words, the merging positions of the text data which are retrieved at step SG are displayed on the screen .","At step SG, image data are written. At step SG, image data are displayed.","At step SG, the image data are stored in the image file. At steps SG, SG, and SG, the merging controlling portion  receives the content of a text and character positions with respect to merging commands searched at step SG, informs the image edit controlling portion  of an image file name, and requests it to read the image data. Thus, the image edit controlling portion  reads the image data through the scanner  and then sends the image data to the display input controlling portion . Thus, the display input controlling portion  displays the image data on the screen . In addition, the image edit controlling portion  correlates the image data with the image file name and stores them in the image file . Thereafter, the image file name and the image size (for example, unit of mm) are returned to the merging controlling portion .","At step SG, a merging process is performed. At this step, when the merging controlling portion  receives the image file name and the image size (for example, unit of mm), it calculates the frame size in which the image is merged by using the obtained image size. Thereafter, the merging controlling portion  sets the information with respect to the frame size (size, image file name, and so forth) to the corresponding table -. In this process, the image size in the unit of length (for example, unit of mm) is returned. Thus, the frame size is calculated by dividing the length by the size per character. For example, when the image size is X\u00d7Y mm in the case of 6 cpi and 3 lpi, the numbers of columns and lines are expressed as X\u00f72.54\u00d76 and Y\u00f72.54\u00d73, respectively. Thus, the merging controlling portion  commands the text file controlling portion - and the character merging information controlling portion - to generate a frame of the size of the image data at a position corresponding to real text, and to merge the image. In other words, as shown with the text data of the text content file  of , \u201c[][Frame W]\u201d and \u201c[][Frame W]\u201d are inserted. In addition, as shown with the merging information portion of the text merging information file  of the figure, an image file name, a size, and so forth are set in accordance with the frame W and the frame W (the image file  has stored image data in accordance with the image file name at SG).","With the above process, the merging start position (the page position and the line position) and the frame size are set to the text merging information file  so that the frame size of the image data read by the scanner  is merged from the image merging start position of the text data. In addition, the image data are stored in the image file . Thus, image data can be merged with a text.",{"@attributes":{"id":"p-0331","num":"0330"},"figref":["FIG. 40A","FIG. 40B"]},"In , the image edit controlling portion  controls the edit process of an image. In this construction, a scanner (not shown in the figure) reads image data of an entire paper. Thereafter, the data are stored in an image buffer -. Image data where a cut range has been designated with a mouse\/keyboard  are retrieved from the image buffer - and then stored in an image file .","A display input controlling portion  displays on a screen  data in a display frame (the dotted lines in the figure represent the frame) stored in a screen buffer - of image data stored in an image screen buffer -. In addition, the display input controlling portion  displays a scale.","An image display controlling portion - has standard display start coordinates and a display size and writes image data transferred from the image buffer - to the screen buffer - in accordance therewith.","An input controlling portion - receives an area range designation, a scroll command, and so forth from the mouse\/keyboard  or the like.","A scroll controlling portion - sends to the image display controlling portion - the display start coordinates and the display size in accordance with a moving direction and a moving amount being inputted with the mouse\/keyboard . Thus, the image display controlling portion - writes image data to the image screen buffer - and scrolls the screen .","A cut range display portion - writes to a screen buffer - a cut rectangle in accordance with the designated range of the start coordinates and end coordinates being inputted with the mouse\/keyboard  (their coordinates are entered by clicking the mouse as the start position and the end position).","A scale display portion - writes scales on outer peripheries of the image display frame of the screen buffer - in accordance with a display magnification of image data. When the display magnification of the image data is set to X times, the scale is decreased 1\/X times so as to display the real size of the image data on the screen .","A CRT controlling portion - merges image data being read from the image screen buffer - with data read from the screen buffer - and displays the merged data on the screen . At the time, only the image data in the image screen buffer - in accordance with the image frame (the rectangular frame represented by the dotted lines in the figure) of the screen buffer - is displayed on the screen .","The image screen buffer - is for storing image data. The screen buffer - is for storing an image display frame, scales at outer peripheries of display frame, drawing numbers, and image data on a line just preceding and a line just following merged image data.","An operation in the construction shown in  is described in detail with reference to a flow chart showing an image cut and merge process shown in . When the cut process is started, at step SH a scanner (not shown in the figure) reads a drawing. The size of the drawing is, for example, A. In other words, the scanner  reads all the content of the A4 size paper and stores the resultant data in the image buffer -.","At step SH, the image data stored in the image buffer - is transferred to the image screen buffer -. In other words, the image display controlling portion - receives a display request from the image edit controlling portion  and then writes the resultant image data to the image screen buffer - in accordance with the standard display start coordinates and the display size which have been stored. At step SH, image data are displayed in an allowable maximum size. In addition, scales and text data on a line just preceding and on a line just following the image data are displayed. In other words, the CRT controlling portion - merges the image data written to the image screen buffer - at step SH with text data of the maximum image frame size, scales, and text data on a line just preceding and on a line just following image data being merged and displays the merged data on the screen  as shown in the figure.","At step SH, it is determined whether or not a scroll command is present. In other words, the input controlling portion - detects whether or not the operator has entered a scroll command (which has designated a moving direction and a moving amount) with the mouse\/keyboard . When the determined result is YES, at step SH the display position is changed. In other words, after the scroll controlling portion - receives the moving direction and the moving amount, it updates the display start coordinates and sends to the image display controlling portion - the display start coordinates. Thereafter, the image display controlling portion - writes from the display start coordinates of the image data buffer - the image data received from the image buffer -. The CRT controlling portion - displays the image data in the display frame of the screen buffer - as scrolled image data on the screen .","In this process, when the operator issues a scroll command, image data cut in the maximum size of text data from image data being read from an entire paper are displayed on the screen . Thus, the operator checks whether or not a desired image has been cut on the screen . Consequently, image data in the maximum merging size can be automatically cut. In addition, unnecessary image data such as a dirty portion at an edge of a paper can be readily deleted. Moreover, by displaying on the screen  scales in accordance with image data being read from a paper, a real size of the image can be readily determined on the screen .","When the determined result is NO, since no scroll command has been issued, step SH is executed.","At step SH, it is determined whether or not a cut range has been commanded. In other words, the input controlling portion - determines whether or not the operator has commanded a cut range with the mouse\/keyboard  (whether or not the operator has clicked two points of the start coordinates and the end coordinates which designate the cut range with the mouse). When the determined result is YES, the image data are cut in the designated size and then stored. In other words, after the cut range controlling portion - receives the start and end coordinates, it writes a rectangle in the cut range (a small rectangle represented by dotted lines) to the screen buffer -. The CRT controlling portion - displays the image data, scales and so forth in the display frame (the small rectangle represented by dotted lines) of the screen buffer - on the screen . In addition, after the image edit controlling portion  being received cut range (start coordinate and end coordinate) receives the cut range from the image buffer -, it cuts the image data in the cut range, correlates the image data in the image file  with the received image file name, and then stores the image data in the image file . On the other hand, when the determined result is NO, at step SH image data are cut in the maximum size and then stored.","Thereafter, the process advances to step SH from step SH or step SH. As shown in step SG of , at step SH, the text file controlling portion - and the character merging information controlling portion - generate a frame of the image size in accordance with the real text and merge an image.","When a cut range is designated in accordance with the above process, image data in the cut range can be merged with text data. Thus, only a desired image can be retrieved from a paper. For example, when a plurality of images are drawn on one paper, they can be divided into individual portions and then merged with text data one after the other. In addition, when a cut range has been designated, a display position thereof can be scrolled so as to cut image data in any position according to the process of steps SH, SH, and SH.",{"@attributes":{"id":"p-0349","num":"0348"},"figref":"FIGS. 42A through 42C"},{"@attributes":{"id":"p-0350","num":"0349"},"figref":"FIG. 42A","b":["41","41","50","1","2"],"img":[{"@attributes":{"id":"CUSTOM-CHARACTER-00011","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00012","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00013","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}]},"In [a merging information file ], image data have not been merged with text data. Thus, the frame size and image file name of the image data have not been set.","In [a text content file ], text data have been stored as shown in the schematic diagram.","[Drawings] is an image drawn on a paper. On a first paper, two images of equations (formulas) E and E have been written; and on a second paper, one image has been drawn.",{"@attributes":{"id":"p-0354","num":"0353"},"figref":"FIG. 42B"},"[1] represents an allowable maximum size of image data in a rectangle represented by a dotted line, the image data being merged with a text, image data being read by a scanner  from the first drawing paper to portion {circle around (B)} on a line following {circle around (A)} \u201c[Formula ]\u201d on the screen .","[2] represents that a cut range {circle around (C)} is designated in a rectangle represented by the dotted line of {circle around (B)} (by clicking the mouse at the upper left and lower right positions) so as to merge the portion {circle around (C)} with the text data as the image data of [Formula ]. (At step SH of , since the determined result becomes YES, steps SH and SH are executed.)","[3] represents that a cut range {circle around (D)} is designated in the rectangle represented by the dotted line of {circle around (B)} (by clicking the mouse at the upper left and lower right positions) so as to merge the portion {circle around (D)} with the text data as the image data of [Formula ]. (At step SH of , since the determined result becomes YES, steps SH and SH are executed.)","[4] represents an allowable maximum size of image data which are read by the scanner  from the second drawing paper and merged with the text at the portion {circle around (E)} on a line following text data \u201c . . . is shown in the following\u201d on the screen . In addition, [] also represents a merging process of image data with the text (in this case, the image placement mark @ is deleted).","With the above process, as shown in , image data are merged with a text.",{"@attributes":{"id":"p-0360","num":"0359"},"figref":"FIG. 42C","b":["41","41","01","41","50","1","2"],"img":[{"@attributes":{"id":"CUSTOM-CHARACTER-00015","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00016","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00017","he":"3.13mm","wi":"2.46mm","file":"US07724249-20100525-P00003.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}]},"When image data are merged with text data, frame sizes and image file names are set in [a merging information file].","In [a text content file] image data have been merged as [frame ], [frame ], [frame ], and so forth.","In addition, [an image file A] [an image file and B] and [an image file C] have been stored in an image file.","Then, with reference to , an image display\/cut process is described in detail. First at step SJ, a start command is issued with the mouse. Thereafter, at step SJ, the image is read by a scanner  and developed into an image buffer. Thereafter, at step SJ a display magnification and display start coordinates are initialized. Thus, at step SJ, the image being read can be displayed in the initial state. Thereafter, at step SJ, an image display controlling portion - transfers the image with a designated magnification and display coordinates to an image screen buffer. Thereafter, at step SJ, a merging controlling portion  retrieves data on lines just preceding and following the data dot of the merging position and sends this data to a text display controlling portion -. At step SJ, the text display controlling portion - writes the display frame, text name, and the preceding and following lines of the image to the screen buffer. At step SJ, a scale display portion - writes scales to the screen buffer -. The scales are displayed by the scale display portion - in display input controlling portion . Thereafter, at step SJ, a CRT controlling portion - retrieves image data from the screen buffer - and the image screen buffer - and then outputs the image information to a screen .","The initialization is performed using this process. In this state, that is at step SJ, the operator is prompted for a command input. When the operator enters a command, at step SJ it is determined whether or not the entered command is a scroll command. When the image position is improper, that is the area which is displayed on the screen  is narrower than the image stored in the image buffer - of the image controlling portion , the operator can move the mouse so as to display a desired drawing. The movement command of the mouse is referred to as a scroll command. At step SJ, when it is determined that a scroll command has been issued, at step SJ the display start coordinates in accordance with the direction (up, down, right, or left) commanded with the mouse are calculated and updated. Thereafter, steps of SJ or later are executed again. Although the display start coordinates have been initialized at step SJ, they are changed at step SJ. Thereafter, at steps SJ to SJ, a desired screen is displayed. At that time, since the operator does not issue a scroll command, at step SJ it is determined that no scroll command has been issued. Thereafter, at step SJ, it is determined whether or not a cut command has been issued. When a cut command has been issued, at step SJ the cut point is written to the image screen buffer -. Thereafter, steps of SJ and are executed again.","By repeating scroll step SJ and cut step SJ, the cut size of a desired portion is determined. At step SJ, it is determined that a cut command has not been issued. Thereafter, at step SJ, it is again determined whether or not a cut designation has been made. When a cut designation has been made, the area surrounded by the cut line is stored at step SJ. At step SJ, image data are cut in the designated size and stored. When a cut designation has not been made at step SJ, image data are cut at the maximum size and stored. After step SJ or SJ, the merging controlling portion  receives an image size and performs a merging process at step SJ.","With the above process, image data are read and displayed. When the displayed area differs from a desired area, the displayed area can be scrolled. In addition, only a desired area can be cut.",{"@attributes":{"id":"p-0368","num":"0367"},"figref":"FIG. 44"},"When this process is started, a drawing text is automatically generated (at step SK). Thereafter, variable n is initialized (n=1) (at step SK). Thereafter, \u201c[Figure n]+carriage return mark\u201d are placed at the end of the text (where n=1, 2, 3, . . . , etc.) (at step SK). For example, with this process, as shown by reference letter A of [text display screen] {circle around ()} of , \u201c[Formula ]+\u201d are placed in the text.","Thereafter, image data are merged on the following line (at step SK). For example, image data are merged on the line following \u201c[Formula ]+]\u201d of the [text display screen] of .","Following step SK, the image data are stored (at SK). At this step, the image data are correlated with the image file name and then stored in the image file . Thereafter, the variable n is incremented by 1, that is, n=n+1 (at step SK). Thereafter, it is determined whether or not all image data has been merged (at step SK). When the determined result is YES, the process is ended (END). When the determined result is NO, the steps of SK and later are repeated.","With the above process, drawing numbers \u201c[Figure n]+\u201d (where n=1, 2, 3, . . . , etc.) can be automatically placed on the line preceding image data to be merged with a text. When image placement mark @+ are present, the image placement mark @ is deleted and only  is placed.",{"@attributes":{"id":"p-0373","num":"0372"},"figref":"FIG. 45"},"(1) The text merging information controlling portion - reads information of image data merged with a text from the text merging information file  and develops it in the corresponding table - (the preceding line and the following line are blank).","(2) The text file controlling portion - reads the content of text from the text content file . Thus, the text file controlling portion - reads merging commands (identifiers and image placement marks), position information, and text data on lines immediately preceding and immediately following image data. Thereafter, the text file controlling portion - places such information and text data in the corresponding table -.","(3) The merging controlling portion  commands the text file controlling portion - to send the blanked information on the lines immediately preceding and immediately following image data. Thereafter, the merging controlling portion  receives the information and then fills with them.","(4) The merging controlling portion  sorts the corresponding table - in accordance with the start positions (start pages and lines). The image data without image file names have not been merged.","(5) After the corresponding table has been edited, an image table F shown in  is displayed. An image table F schematically illustrates the content of the image table F.","(6) By selecting, for example, A from the image table F, image data to be updated can be readily selected and updated.",{"@attributes":{"id":"p-0380","num":"0379"},"figref":"FIG. 46","b":["1","546","541","542","546","546","2","3","4","5","6","7","8","9","2","10"]},"Thereafter, steps of SL or later are repeated.","When the issued command is an end command, at step SL the text content file and the merging information file are updated in accordance with the corresponding table being updated at step SL.","In this process, the text content file and the merging information file are updated or deleted.","Next, a page adjustment process is briefly described.","(1) As shown in , a corresponding table - is generated.","(2) It is determined whether or not an \u201cimage at page boundary\u201d takes place for each page frame. (When the \u201cstart line+line size\u201d of the corresponding table - is larger than the maximum page number per page of text data, an \u201cimage at page boundary\u201d takes place).","(3) When it is determined that an \u201cimage at page boundary\u201d is taking place, a carriage return mark is placed just before the image frame and the image frame is moved to the next page. In accordance with the movement amount, the corresponding table - is updated. Likewise, steps (2) and (3) are repeated for all image frames.","With the above process, image data merged with a text can be free from an \u201cimage data at page boundary\u201d.","Next, the construction and an operation of a further embodiment of the present invention, comprising an online transmitting\/receiving apparatus, is described in detail with reference to . In , a transmission file generating portion  generates a transmission file , a reception file , and a receipt reception file  (or partition areas therefor) in an online transmission mode. When the operator selects a transmission file generation mode on an online transmission screen, the transmission file generating portion  is started.","A transmission processing portion  performs many operations such as controlling transmission\/reception, displaying a transmission status, and issuing an automatic receipt request and an automatic continuation request, which are transmitted from the online transmission screen to a party. For example, when the operator selects a \u201cPatent and Trademark Office\u201d transmission mode, the transmission processing portion  is started. Transmission and reception of data are controlled in accordance with a predetermined transmission procedure defined between the operator and a party.","After all the text data have been transmitted, a proof check processing portion  compares the content of the transmission file  with that of the reception file  so as to proof check the text data being transmitted.","A transmission result processing portion  writes the transmission result to a screen edit and management information file.","A management information file  correlates text data (procedure) with unique management number and manages transmission statuses (\u201cnot transmitted\u201d status, \u201ctransmitting\u201d status, and \u201ctransmitted\u201d status), transmission results (\u201caccepted\u201d and \u201cnot accepted\u201d), and so forth.","A storage device  is a non-volatile recording device, for example, a hard disk device. The storage device  stores the transmission file , the reception file , the receipt reception file , and so forth.","A screen  displays online transmission data, a transmission procedure table, a transmission status, and a transmission result.","Then, in accordance with a flow chart shown in , a generation process for a transmission file, a reception file, and a receipt reception file are described in detail.","When the execution of a generation process for each file is started, at step SM a volume space capacity is obtained. Thus, a space capacity x of a hard disk device, which is a storage device , is obtained.","Thereafter, at step SM, a transmission file and a reception file are generated in a working volume. At step SM, an estimated disk using capacity is calculated. At steps SM and Sm, when the transmission file capacity is referred to as \u201ca\u201d, the reception file capacity is estimated as:","When the proof operation is designated, the reception file capacity becomes (a+1024).","When the proof operation is not designated, the reception file capacity becomes (1024).","When the receipt reception file capacity is referred to as \u201cb\u201d, the overall capacity (=y) is estimated as:","When the proof operation is designated, the overall capacity \u201cy\u201d becomes (2a+b+1024).","When the proof operation is not designated, the overall capacity \u201cy\u201d becomes (a+b+1024).","Following step SM, at step SM it is determined whether or not x (disk space capacity) is larger than or equal to y (overall capacity). When the disk blank capacity x is larger than the overall capacity y necessary for the transmission file, the reception file, the reception file, and so forth can be obtained (that is, the determined result is YES), and at step SM the transmission file and the reception file are copied from the working volume to the operating volume. Thereafter, at step SM the transmission file and the reception file are deleted from the working volume. At step SM, a message representing that transmission file generation is OK is sent to the user (that is, a message \u201ctransmission ready OK\u201d is displayed on the screen ). In contrast, when the blank capacity is smaller than the overall capacity y (that is, the determined result at step SM is NO), the files cannot be obtained. Thus, at step SM, the transmission file and the reception file are deleted from the working volume. Thereafter, at step SM, a message representing that transmission file generation is NG is sent to the user.","With the above process, when the user selects the transmission file generation mode on the screen , the transmission file generating portion  simultaneously generates the transmission file , the reception file , and the receipt reception file  in the transmission state. Thus, after the transmission is started a reception disable state due to insufficient storage space in the reception file  and the receipt reception file  can be prevented.","Next, an online process is described in detail with reference to the flow chart shown in .","At step SN, a transmission file, a reception file, and a receipt reception file are generated. Thus, as described with reference to the flow chart shown in , since these three files are generated in a transmission state, a reception failure due to insufficient storage capacity can be prevented.","Thereafter, at step SN, it is determined whether or not a continuation state is occurring, that is, whether or not the preceding transmission has been completed. At this step, it is determined whether or not there are transmission files set to \u201ctransmitting\u201d in the management information file  for some reason (for example, a line error) causing them to be not transmitted. Thereafter, at step SN, it is determined whether or not a continuation state is occurring. When the determined result is YES (that is, there are transmission files where \u201ctransmitting\u201d status is set in the management information file ), at step SN an automatic continuation process (shown in ) is performed. With this process, text data with a management number in \u201ctransmitting\u201d status is retransmitted. Thereafter, the transmission of text data with a management number in \u201cnot transmitted\u201d status is continued. When the determined result is NO, since there are no transmission files in \u201ctransmitting\u201d status, the process advances to step SN. At step SN, the line is connected (logged on).","At step SN, it is determined whether or not the log-on process has been performed normally. When the determined result is YES, at step SN a registration request is issued. At step SN, it is determined whether or not the registration request is normal. When the determined result is YES, the process advances to step SN. When the determined result is NO, the process advances to step SN. In addition, when the determined result is NO, at step SN an error message is issued.","At step SN, a received electronic text is analyzed so as to determine \u201caccepted\u201d status or \u201cnot accepted\u201d status and various operational messages. At step SN, it is determined whether or not the electronic text contains an \u201caccepted\u201d message or a \u201cnot accepted\u201d message. When the determined result is YES, the process advances to step SN. When the determined result is NO, the process advances to step SN.","At step SN, the transmission result is displayed. In other words, data such as \u201caccepted\u201d message or \u201cnot accepted\u201d message and acceptance number are edited and displayed on the screen.","At step SN, it is determined whether or not all cases have been processed. When the determined condition is YES, since all text data (procedures) commanded have been transmitted, the process advances to steps SN to SN. At these steps, the process performs several operations such as issuing a receipt request and performing a proof check. When the determined result is NO, since all text data (procedures) commanded have not been yet transmitted, steps of SN and later are repeated.","At step SN, an automatic receipt request is transmitted to a party (such as the Patent and Trademark Office) through a line. Thereafter, receipt data are received and stored in the receipt reception file .","At step SN, the line is disconnected (logged off).","At step SN, a proof check is performed. In other words, the entire content of the transmission file  and of the reception file  are compared and it is determined whether or not they match each other.","At step SN, the transmission file and the reception file are deleted.","At step SN, the transmission result (\u201caccepted\u201d or \u201cnot accepted\u201d) is displayed.","With the above process, text data of cases commanded are transmitted to a party. In addition, an \u201caccepted\u201d or a \u201cnot accepted\u201d message, which is sent back from the party, is displayed on a real time basis. Where all the cases have been transmitted, where 300 cases are transmitted, or where a preliminary disconnection warning is received, the process can automatically issue a receipt request, receive the receipt, and perform a proof check.","When the result determined at step SN is NO, that is, it is determined that the registration request is abnormal, the process advances to step SN. At step SN, it is determined whether or not a line error is occurring during transmission. When the determined result is YES, at step SN a transmission status flag representing a continuation state is turned on. Thereafter, when the determined result is NO, at step SN, an abnormal message is issued. Thereafter, steps of SN or later are performed. Thus, when a line error or the like occurs, the flag representing the continuation state is turned on and the line is disconnected.","When the result determined at step SN is NO and the received text does not contain an \u201caccepted\u201d or a \u201cnot accepted\u201d message, the process advances to step SN. At step SN, it is determined whether or not a message representing that transmitted cases exceed 300 is occurring. When the determined result is YES, the process advances to step SN. At step SN, while the line is connected, an automatic receipt request is issued. Thereafter, a receipt is received. Thereafter, steps of SN and later are repeated. When the determined result is NO, the process advances to step SN. At step SN, it is determined whether or not a preliminary disconnection warning is occurring. When the determined result is YES, the process advances to step SN. At step SN, while the line is connected, an automatic receipt request is issued and then a receipt is received. Thereafter, the process moves to step SN. When the result determined at step SN is NO, the process moves to step SN. At step SN, an error message is issued. Thereafter, the process moves to step SN. Thus, when the number of cases being transmitted exceeds 300 or a preliminary disconnection warning [a message issued before a predetermined time of stopping the line connection (for example, 15 minutes before disconnection)] is taking place, while the line is connected, a receipt request is automatically issued and the receipt is received. When the line is disconnected in one of such states, even if the line is connected again, the receipt request is not accepted.","Then, with reference to , a highlight indication and an indicator indication of a transmission procedure are described in detail.","At step SH in , the terminal equipment is connected to the host (logged on).","At step SH, it is determined whether the log-on has been performed normally. When the determined result is YES, steps of SH or later are performed. When the determined result is NO, since the line connection was unsuccessful, the process is ended (END).","At step SH, a procedure to be transmitted is highlighted. For example, \u201c0003, Patent application, Magnetron\u201d which is hatched in right schematic diagram {circle around (A)} are highlighted. Thus, the operator can know which procedure (text data) is being transmitted.","At step SH, the indicator displays \u201cTransmitting .\u201d","At step SH, a registration request pre-process is performed. In other words, the communication status is changed to the \u201ctransmitting\u201d status.","At step SH, the indicator displays \u201cTransmitting .\u201d","At step SH, a registration request is issued (transmitting status, from WS to HOST). In other words, a registration request is transmitted from the electronic application terminal equipment (or a work station) to a host computer of the Patent and Trademark Office.","At step SH, the indicator displays \u201cTransmitting .\u201d This indication is the same as that shown by right schematic diagram (A).","At step SH, a registration request is issued (transmitting status, form HOST to WS). In other words, a registration request is transmitted from the host computer of the Patent and Trademark Office to the work station.","At step SH, the indicator displays \u201cTransmitting .","At step SH, a registration request post-process is performed.","At step SH, accepted\/not accepted message and acceptance number are edited.","At step SH, the accepted\/not accepted message and acceptance number are displayed.","At step SH, the indicator displays \u201cTransmitting \u201d. This indication is the same as that shown by right schematic diagram {circle around (B)}.","At step SH, it is determined whether or not a page is changed. When the determined result is YES, the process advances to step SH. At step SH, a page change process is performed. In other words, as shown by right schematic diagram {circle around (D)}, 40 procedures can be displayed on the screen. For example, when the transmission of the 39th procedure of page 1 is started, this procedure is displayed at the beginning of page 2 as shown by right schematic diagram {circle around (E)}. Thus, at any timing, both the procedure being transmitted and the next procedure can be clearly displayed. Thus, the procedures can be readily transmitted. When the determined result at step SH is NO, the process advances to step SH.","At step SH, it is determined whether or not all cases have been processed. When the determined result is YES, since all the procedures have been transmitted, the process is ended (END). When the determined result at step SH is NO, since all the procedure have not yet been transmitted, steps of SH and later are repeated.","The right hand schematic diagrams {circle around (A)} to {circle around (E)} of  show an example of screen transition.","The screen shown by schematic diagram {circle around (A)} highlights \u201c0003, Patent application, Magnetron\u201d which is currently being transmitted. In addition, the indicator displays \u201cTransmitting \u201d (same as step SH which is the registration request status (transmitting, WS \u2190 HOST) at step SH).","The screen shown by schematic diagram {circle around (B)} highlights \u201c0003, Patent application, Magnetron\u201d which is currently being transmitted. In addition, the indicator displays \u201cTransmitting \u201d (same as step SH which is the status where an acceptance number 00000003 is shown).","The screen shown by schematic diagram {circle around (C)} highlights \u201c0004, Patent Application, Multiply Articulated Robot\u201d. In addition, the indicator displays \u201cTransmitting \u201d (same as step SH which is the status of the registration request preprocess at step SH).","The screen shown by schematic diagram {circle around (D)} highlights \u201c0039, Patent Application, Multiply Articulated Robot\u201d which is currently transmitted at the second line from the end of page 1. In addition, the indicator displays \u201cTransmitting \u201d.","The screen shown by schematic diagram {circle around (E)} displays \u201c0039, Patent Application, Multiply Articulated Robot\u201d which is currently transmitted at the first line of page 2 and highlights \u201c0040, Patent Application, Multiply Articulated Robot\u201d which is currently transmitted. In addition, the indicator displays \u201cTransmitting \u201d. When the last two procedures of a page have been transmitted as shown by schematic diagram {circle around (D)}, the remaining procedures are scrolled to the beginning of the next page so as to improve the visibility.","Next, the above automatic continuation process SN is described in detail with reference to the flow chart shown in . At step SQ, it is determined whether or not data \u201cTransmitting\u201d is present in the transmission status field of the management information file  shown by the right schematic diagrams thereof.","At step SQ, it is determined whether or not continuation is required. When the determined result is NO, at steps SQ to SQ a registration request process if performed. When the determined result is YES, the process advances to step SQ. At step SQ, a continuation request process is performed. In other words, in accordance with information left in the management information file , a procedure with \u201cTransmitting\u201d in the transmitting status field is resumed.","When the determined result at step SQ is NO, that is, it is determined that continuation is not required, at step SQ the line is connected (logged on). At step SQ, it is determined whether or not the log-on operation is performed normally. When the determined result is YES (normally logged on), the process advances to step SQ. At steps [of] SQ [and] later, a transmission process is performed. When the determined result is NO (unsuccessful log-on), since the line is not connected, the process is ended (END).","At step SQ, a registration request pre-process is performed. In other words, data \u201cTransmitting\u201d representing the start-up of transmission of a suspended procedure is recorded in the management information file .","At step SQ, a registration request is sent to the host through the line.","At step SQ, a received electronic text is analyzed. In other words, it is determined whether or not an event for continuation status (such as line error) takes place.","At step SQ, it is determined whether or not an error takes place. When the determined result is YES, since an error such as a line error takes place, the process is ended (END). When the determined result is NO, the process advances to step SQ. At step SQ, a registration request post-process is performed. In other words, data \u201cTransmitted\u201d representing that a procedure has been transmitted is stored in the management information file .","At step SQ, it is determined whether or not all procedures have already been transmitted. When the determined result is YES, since all the procedures to be transmitted have already been transmitted, the process is ended (END). When the determined result is NO, step SQ and later are repeated.","In this process, when the transmission status \u201cTransmitting\u201d is detected in the management information file , a continuation command is automatically issued. Thus, since a procedure with transmission status \u201cTransmitting\u201d is automatically retransmitted, the operator can proceed with the operation without intervention for error restoration.",{"@attributes":{"id":"p-0453","num":"0452"},"figref":["FIG. 52","FIGS. 53A and 53B"],"b":["33","1","33","1"]},"The offline application portion - shown in  executes a process for an offline application. When the execution of the offline process is started (START), at step SR a procedure table as shown in  is displayed. This procedure table is read from the procedure management information file . When the operator selects a case name for an offline application, the process advances to step SR. At step SR, a file name designation screen is displayed.  is a schematic diagram of an example of the file name designation screen. Thereafter, at step SR a structured text file is referenced and a patent text file is copied to a working area. When a text file is divided into several portions, they are merged. In other words, in accordance with a selected procedure management record, a procedure file name and a code text file name are obtained. In addition, in accordance with a unique procedure file name, a procedure file is retrieved and a structured text file is read. In accordance with node information in the second level of the structured text file, a patent text file name is obtained and the obtained file is copied to the working area. When the file is divided into child texts, they are merged. At step SR, the total storage capacity of patent text files which are copied to the working area is obtained. The total storage capacity is partitioned as an area where the files are stored on a floppy disk. Thereafter, at step SR, it is determined whether or not the format of all patent text files copied to the working area has been converted. When the determined result is NO, the process advances to step SR. At step SR, 256 bytes of a patent text are read from the working area. Thereafter, at step SR, it is determined whether or not all the data of the patent text have been read. When the determined result is YES, the process returns to step SR. When the determined result is NO, the process advances to step SR. At step SR the internal format of the patent text is converted into the JIS format in accordance with the structure conversion table. The converted patent text is written on the floppy disk. Thereafter, the process returns to step SR.","When the format of all the patent text which is copied to the working area at step SR has been converted into the JIS format, the process advances to step SR. At step SR, the patent text file which is copied to the working area is deleted. Thereafter, the process is ended (END).","With the above process, when an offline patent application is performed, a set of texts including, for example, an application preamble are generated on a floppy disk in the format of JIS level . After the user mails or hand delivers this floppy disk to the Patent and Trademark Office, the application procedure is completed.",{"@attributes":{"id":"p-0457","num":"0456"},"figref":["FIG. 54","FIG. 54"]},"When an operation of terminal equipment in accordance with the embodiment is started, an electronic application menu is displayed. When the operator selects \u201cTransmission to Patent and Trademark Office\u201d mode, the terminal equipment prompts the operator to insert an ID card. When the operator inserts an ID card and enters a password, he can perform an online transmission. When the online transmission is started, a transmission status is displayed. When the operator requests Patent and Trademark Office to issue a receipt, the terminal equipment receives the receipt and displays it. While the terminal equipment displays the transmission status and the receipt request, it performs the transmission and reception processes and outputs the results to a journal file. When the operator selects an automatic receipt process request mode, this request is displayed. At the time, the information of the transmission and reception processes is edited and the results are outputted to the journal file.","The journal process edits the information of the transmission and reception processes such as the \u201cPatent and Trademark Office\u201d transmission mode and outputs the results to the journal file. Whenever a communication command (registration, receipt, or the like) is issued, the relevant information is edited in the journal file.  is a flow chart showing journal edit and output processes. When the execution of the journal edit process is started, at step SS a communication command is started. At step SS the communication command is edited in the journal file. At step SS it is determined whether or not the journal file has a free storage space. When the file has no free storage space, that is, the determined result is YES, at step SS the oldest record is designated. Thereafter, at step SS the communication command is outputted to the journal file. When the file has a free storage space, that is, the determined result is NO, the process advances to step SS. At step SS, the communication command is outputted to the journal file. By repeating this process for the number of communication commands, the information relevant to startup of registration command, receipt command, or the like is outputted to the journal file. To print out the content of the information written to the journal file in the edit process of steps SS to SS, a process shown in  is performed. At step SS, a print range is designated. At step SS, screen display mode or printer output mode is selected. When the screen display mode is selected, the process advances to step SS. At step SS, the journal is displayed on the screen. When the printer output mode is selected, the process advances to step SS. At step SS, the journal is printed out from the printer. When the screen display mode is selected, the journal in the designated range is displayed. In other words, the print range is designated at step SS as shown in . Thereafter, by designating an output device as shown in , the designated journal is displayed or printed.  shows an example of the journal. A list of sequential number, type, date, time, reference No, acceptance No, procedure name, and result is displayed or printed in their order.","In the above embodiment of the present invention, the image data merging process and the online control process are not limited to electronic application terminal equipment. For example, they can apply to word processors, personal computers, and so forth.","According to the present invention, various formats of externally generated text data are converted into the internal format of the terminal equipment. Since the text data in the internal format are merged with a procedure, it can be stored, managed, edited, proof-checked, and transmitted. Thus, the present invention significantly improves the performance of electronic application terminal equipment.","(1) By simply setting a floppy disk storing a patent text or the like generated by a word processor or the like, the format thereof is automatically determined and then converted into the internal format. Thus, the data format for the patent text or the like does not need to be designated. After the floppy disk is set to the terminal equipment, the format conversion, procedure file generation, registration, and so forth are performed automatically.","(2) Since patent texts and so forth are hierarchically structured of procedure files comprising a structured text file and real data storage files (an application preamble file, a specification file, a drawing file, an abstract file, and so forth), documents necessary for individual procedures can be integrally managed. In addition, many complicated documents such as patent text can be readily managed. In addition, edit processes such as division and merging of specifications and so forth can be readily and quickly performed.","(3) When a floppy disk is set to the terminal equipment, the format of data stored therein is automatically determined and then converted into the internal format. Identifiers are automatically recognized from the data. Thereafter, sample text file and data files which are hierarchically structured are generated. The data are copied to these files so as to automatically generate a procedure file. Thus, by setting a floppy disk storing a patent text generated by a word processor or the like, a procedure file can be automatically generated.","(4) When a plurality of hierarchically structured files, for example, specification files are merged or an edit operation such as insertion or deletion of characters is performed, if image data occur at boundary between two pages, a page change code is automatically place. Thus, the \u201cimage at page boundary\u201d can be automatically prevented.","(5) Since a text format is analyzed and paragraph numbers are automatically assigned, the operator's intervention through a word processor or the like can be significantly reduced. By selecting automatic mode, replace mode, automatic & replace mode, or renumbering mode, paragraph numbers can be assigned and renumbered when necessary.","In addition, when image data are merged with a text, the frame size thereof is automatically set. The image data can be cut in a designated size or maximum frame size. The image data to be cut can be scrolled and moved to a desired position. Text data on lines preceding and following image data can be displayed. The scales in accordance with the image size can be displayed. Identifiers can be automatically assigned to image data. Thus, the \u201cimage at page boundary\u201d can be automatically prevented. Moreover, when an image is updated, text data table listing such as text data on the line preceding image data can be displayed. Thus, image data can be readily selected and updated.","Thus, image data can be merged with a text in a simple operation.","Furthermore, when an application document (text data) is transmitted or received on line, shortage of storage capacity for reception file  and receipt file  can be prevented. A text (procedure) during transmission and a transmission status are displayed on a real time basis. A receipt request is automatically issued and received. After a text has been transmitted, it is proof checked. A text (procedure) which has not yet been transmitted is automatically transmitted when the terminal equipment is restored from an error."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIGS. 6A-6C"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 16A"},{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 16B"},{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 16C"},{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 16D"},{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 16E"},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 16F"},{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 16G"},{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 16H"},{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIGS. 19A and 19B"},{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 20A"},{"@attributes":{"id":"p-0073","num":"0072"},"figref":"FIG. 20B"},{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 20C"},{"@attributes":{"id":"p-0075","num":"0074"},"figref":"FIG. 20D"},{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0077","num":"0076"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0079","num":"0078"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0080","num":"0079"},"figref":"FIG. 25A"},{"@attributes":{"id":"p-0081","num":"0080"},"figref":"FIG. 25B"},{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0083","num":"0082"},"figref":"FIG. 27A"},{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 27B"},{"@attributes":{"id":"p-0085","num":"0084"},"figref":"FIG. 28A"},{"@attributes":{"id":"p-0086","num":"0085"},"figref":"FIG. 28B"},{"@attributes":{"id":"p-0087","num":"0086"},"figref":"FIG. 28C"},{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIG. 28D"},{"@attributes":{"id":"p-0089","num":"0088"},"figref":"FIG. 28E"},{"@attributes":{"id":"p-0090","num":"0089"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIGS. 30-1","b":["30","2"]},{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIGS. 31-1","b":["31","2"]},{"@attributes":{"id":"p-0093","num":"0092"},"figref":"FIGS. 32-1","b":["32","3"]},{"@attributes":{"id":"p-0094","num":"0093"},"figref":"FIG. 33"},{"@attributes":{"id":"p-0095","num":"0094"},"figref":"FIG. 34"},{"@attributes":{"id":"p-0096","num":"0095"},"figref":"FIG. 35"},{"@attributes":{"id":"p-0097","num":"0096"},"figref":"FIG. 36"},{"@attributes":{"id":"p-0098","num":"0097"},"figref":"FIG. 37"},{"@attributes":{"id":"p-0099","num":"0098"},"figref":"FIG. 38"},{"@attributes":{"id":"p-0100","num":"0099"},"figref":"FIG. 39"},{"@attributes":{"id":"p-0101","num":"0100"},"figref":"FIG. 40A"},{"@attributes":{"id":"p-0102","num":"0101"},"figref":"FIG. 40B"},{"@attributes":{"id":"p-0103","num":"0102"},"figref":"FIG. 41"},{"@attributes":{"id":"p-0104","num":"0103"},"figref":"FIG. 42A"},{"@attributes":{"id":"p-0105","num":"0104"},"figref":"FIG. 42B"},{"@attributes":{"id":"p-0106","num":"0105"},"figref":"FIG. 42C"},{"@attributes":{"id":"p-0107","num":"0106"},"figref":"FIG. 43"},{"@attributes":{"id":"p-0108","num":"0107"},"figref":"FIG. 44"},{"@attributes":{"id":"p-0109","num":"0108"},"figref":"FIG. 45"},{"@attributes":{"id":"p-0110","num":"0109"},"figref":"FIG. 46"},{"@attributes":{"id":"p-0111","num":"0110"},"figref":"FIG. 47"},{"@attributes":{"id":"p-0112","num":"0111"},"figref":"FIG. 48"},{"@attributes":{"id":"p-0113","num":"0112"},"figref":"FIG. 49"},{"@attributes":{"id":"p-0114","num":"0113"},"figref":"FIG. 50"},{"@attributes":{"id":"p-0115","num":"0114"},"figref":"FIG. 51"},{"@attributes":{"id":"p-0116","num":"0115"},"figref":"FIG. 52"},{"@attributes":{"id":"p-0117","num":"0116"},"figref":"FIG. 53A"},{"@attributes":{"id":"p-0118","num":"0117"},"figref":"FIG. 53B"},{"@attributes":{"id":"p-0119","num":"0118"},"figref":"FIG. 54"},{"@attributes":{"id":"p-0120","num":"0119"},"figref":"FIG. 55"},{"@attributes":{"id":"p-0121","num":"0120"},"figref":"FIG. 56"},{"@attributes":{"id":"p-0122","num":"0121"},"figref":"FIG. 57A"},{"@attributes":{"id":"p-0123","num":"0122"},"figref":"FIG. 57B"},{"@attributes":{"id":"p-0124","num":"0123"},"figref":"FIG. 58"}]},"DETDESC":[{},{}]}
