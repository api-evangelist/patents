---
title: Processing information received at an auxiliary computing device
abstract: Described is a mechanism for receiving new data at an auxiliary device associated with a main computer system, and processing that new data within the auxiliary device firmware to take some action. The receipt and processing of the data is independent of whether the main computer system is in a powered-up state (online) or powered-down state (offline). A cache that maintains the user application data for offline navigation may be updated with new data, either to change existing data in the cache or add a new navigation path. The received data can be processed to perform other actions, depending on the context of that data as determined by auxiliary processing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07558884&OS=07558884&RS=07558884
owner: Microsoft Corporation
number: 07558884
owner_city: Redmond
owner_country: US
publication_date: 20040503
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["The present application is related to the following copending United States Patent Applications filed concurrently herewith, assigned to the assignee of the present invention, and hereby incorporated by reference in their entireties;","U.S. patent application Ser. No. 10\/837,894 entitled \u201cContext-Aware Auxiliary Display Platform and Applications;\u201d","U.S. patent application Ser. No. 10\/838,174 entitled \u201cAuxiliary Display System Architecture;\u201d and","U.S. patent application Ser. No. 10\/837,900 entitled \u201cCaching Data for Offline Display and Navigation of Auxiliary Information.\u201d","The invention relates generally to computer systems, and more particularly to an improved method and system for display of information for a computing device.","Laptops and other mobile devices allow the user to work in various locations, providing great convenience to users. However, the mobile devices are often powered down when traveling between locations, particularly with laptops in which the lid is typically closed during transit. As a result, access to relevant data on the device requires opening the laptop lid, waiting for power-up, and navigating to the desired information. This is a time-consuming and less-than-desirable user experience, particularly when the desired data is something as simple as a room number of a meeting.","U.S. patent application Ser. Nos. 10\/429,930 and 10\/429,932 are generally directed towards the concept of computer systems having auxiliary processing and auxiliary mechanisms, particularly display-related mechanisms, which provide some computing functionality. For example, a small LCD on the lid or side of a laptop computer can provide its owner with useful information, such as a meeting location and time.","However, such auxiliary displays have heretofore been limited to narrow, limited operations in which a dedicated auxiliary display program is customized with respect to the information that can be displayed. For example, if meeting information was desired, the user would only see the information if the auxiliary display program was programmed to display the particular type of data as well as the relevant data for the current meeting. Moreover, any displayed data was static; any change to the data required returning the computer to the powered-up state to obtain the changes.","What is needed is a way for application programs that run under the main operating system of a computer system to provide appropriate data for display on an auxiliary display of that computer system, including at times when new data becomes available and the main display is not easily accessible or accessible at all, such as when the computer system is substantially powered down.","Briefly, the present invention provides a mechanism for receiving new data at an auxiliary device associated with a main computer system and processing that new data within the auxiliary device firmware to take some action. The receipt and processing of the data is independent of whether the main computer system is in a powered-up state (online) or powered-down state (offline). For example, the auxiliary display device may present data from a cache to a user, and the new data may be used to update or augment the data in the cache. This may be done when the main computer system is online and providing other data that may be displayed on the auxiliary device, or when the main computer system is offline and only the cache is available as a subset of the source of the main computer systems' application data. In essence, the auxiliary device receives data from multiple sources, and considers the main computer system as one of those sources.","In offline operation, a cache maintains the user application data in association with structured navigational information, whereby the user can navigate among the data, e.g., to see pages of data. When the main CPU, operating system and application programs are online, they build the data cache and transfer it to a medium that can be accessed by the auxiliary device, such as auxiliary storage in the firmware.","The cache may be updated with new data that is received by the auxiliary device, without involving the main CPU, operating system and application programs. Because the data is processed in the auxiliary process, the new data is available to the auxiliary device independent of whether the main CPU, operating system and application programs are running. Thus, the new data can supplement the application program data in the online state, add to the tree of cached application program data in the offline state, and\/or replace or remove something in the tree. In one implementation, the cache is arranged as a tree structure, whereby the new information could add a new branch if not related to a program that has its data cached, or update cached data if related data is already in the cache.","Sources of new data include remote data received by wireless or a wired connection to the firmware. Other examples of data sources include any of the main computer hardware such as a battery controller or network card that continues to operate while the main computer system components (CPU, operating system and the like) are offline. The received data can be processed to update the auxiliary display, or to perform other actions, such as wake the main computer system.","Other advantages will become apparent from the following detailed description when taken in conjunction with the drawings, in which:","Exemplary Operating Environment",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 1","FIG. 1"],"b":["120","120"]},"The personal computer system  included a processing unit , a system memory , and a system bus  that couples various system components including the system memory to the processing unit . The system bus  may be any of several types of bus structures including a memory bus or memory controller, a peripheral bus, and a local bus using any of a variety of bus architectures. The system memory includes read-only memory (ROM)  and random access memory (RAM) . A basic input\/output system  (BIOS), containing the basic routines that help to transfer information between elements within the personal computer , such as during start-up, is stored in ROM . The personal computer  may further include a hard disk drive  for reading from and writing to a hard disk, not shown, a magnetic disk drive  for reading from or writing to a removable magnetic disk , and an optical disk drive  for reading from or writing to a removable optical disk  such as a CD-ROM or other optical media. The hard disk drive , magnetic disk drive , and optical disk drive  are connected to the system bus  by a hard disk drive interface , a magnetic disk drive interface , and an optical drive interface , respectively. The drives and their associated computer-readable media provide non-volatile storage of computer readable instructions, data structures, program modules and other data for the personal computer . Although the exemplary computer system described herein employs a hard disk, a removable magnetic disk  and a removable optical disk , it should be appreciated by those skilled in the art that other types of computer readable media which can store data that is accessible by a computer, such as magnetic cassettes, flash memory cards, digital video disks, Bernoulli cartridges, random access memories (RAMs), read-only memories (ROMs) and the like may also be used in the exemplary computer system.","A number of program modules may be stored on the hard disk, magnetic disk , optical disk , ROM  or RAM , including an operating system  (such as Windows\u00ae XP), one or more application programs  (such as Microsoft\u00ae Outlook), other program modules  and program data . A user may enter commands and information into the personal computer  through input devices such as a keyboard  and pointing device . Other input devices (not shown) may include a microphone, joystick, game pad, satellite dish, scanner or the like. These and other input devices are often connected to the processing unit  through a serial port interface  that is coupled to the system bus, but may be connected by other interfaces, such as a parallel port, game port or universal serial bus (USB). A monitor  or other type of display device is also connected to the system bus  via an interface, such as a video adapter . In addition to the monitor , personal computers typically include other peripheral output devices (not shown), such as speakers and printers. An auxiliary display  is an additional output device, and may, for example, be connected to the system bus  via an auxiliary display interface . An auxiliary display  may also connect to a computing device  through a serial interface or by other interfaces, such as a parallel port, game port, infrared or wireless connection, universal serial bus (USB) or other peripheral device connection. An input device  in  may provide one or more actuators to interface with and\/or control the auxiliary display , and for example may be connected to the system bus  via input device interface , which may be a serial interface, or by other interfaces, such as a parallel port, game port, infrared or wireless connection, universal serial bus (USB) or other peripheral device connection.","The personal computer  may operate in a networked environment using logical connections to one or more remote computers, such as a remote computer . The remote computer  may be another personal computer, a server, a router, a network PC, a peer device or other common network node, and typically includes many or all of the elements described above relative to the personal computer , although only a memory storage device  has been illustrated in . The logical connections depicted in  include a local area network (LAN)  and a wide area network (WAN) . Such networking environments are commonplace in offices, enterprise-wide computer networks, Intranets and the Internet.","When used in a LAN networking environment, the personal computer  is connected to the local network  through a network interface or adapter . When used in a WAN networking environment, the personal computer  typically includes a modem  or other means for establishing communications over the wide area network , such as the Internet. The modem , which may be internal or external, is connected to the system bus  via the serial port interface . In a networked environment, program modules depicted relative to the personal computer , or portions thereof, may be stored in the remote memory storage device. It will be appreciated that the network connections shown are exemplary and other means of establishing a communications link between the computers may be used.","It should be noted that the computer system need not be fully operational for an auxiliary display to work in accordance with the present invention. Indeed, as described below with reference to , an auxiliary display may still work when the computer is powered down, at least to a default extent or to an extent configured by a user, such as when the computer system is in a sleep state or a hibernate mode, and\/or when the user has not yet logged on or is otherwise locked out of the system via security mechanisms. For example, the user may want a telephone handset and speakerphone that are integrated into a personal computer to work as conventional appliances when the computer system is powered down, and use the auxiliary display as a caller-ID device. This device may also store data for later transmission to the computer system when the computer system is again powered up, such as to log the calls received, including when the computer system was not fully powered up.","The auxiliary display may supplement the main display and may also serve as a surrogate display when the main display is shut down or otherwise not operational (e.g., disconnected), to give the user some information. For example, information such as how to power up the main display might be helpful, as would a room number and\/or directions to a meeting on an auxiliary display device connected to a mobile computer that the user can view when the main display is off and\/or not easily visible (e.g., the lid of a laptop is closed). Note that even on a tablet PC with a continually visible screen, the main display may be shut down to save power, whereby an auxiliary display may provide substantial benefits. Note that the user may limit the extent of the display based on the computer system state, e.g., when the user is not logged in, only certain non-sensitive or very specifically-controlled information may be displayed, and so forth.","To enable and control communication in these powered-down modes, firmware may exist, stored in non-volatile memory, that when loaded and operated on by a secondary processor, enables the auxiliary display, along with other auxiliary components to be used, as long as some power is available. Note that as used herein, the term \u201cfirmware\u201d can be generally considered as representing the auxiliary memory, the code therein and\/or the secondary processor on which it runs.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIGS. 2A-2E","FIGS. 2A and 2B","FIG. 2C","FIGS. 2D and 2E"],"b":["200","200","200","202","200","204","200","206","200","200","208","210"],"sub":["a","e","a ","b ","c ","d ","e "]},"As should be apparent from , an auxiliary display may be in the form of any number of known types of displays such as one or more LEDs, a 2-line alphanumeric display, a monochrome display, or a color display. Those skilled in the art will appreciate that the present invention may also use the display of other computing or communication devices as the auxiliary display . These other computing or communication devices include general purpose computers, cell phones, and handheld devices such as a pager or a personal digital assistant (PDA). Additionally, the present invention may use a virtual auxiliary display implemented within an area of the onscreen display of the computing device  (e.g. a screensaver or a component of the graphical user interface) as the auxiliary display , including before a user has logged in. The auxiliary display  may include a combination of any of the forms described above, and also be physically or logically combined with indicators such as one or more LEDs and\/or used in conjunction with a virtual auxiliary display.","Even absent a screen, one or more LEDs may be advantageously used as the auxiliary display  for notification about the occurrence of an activity. Such an auxiliary display may be implemented with low costs and less power consumption and provide notification in an unobtrusive manner. It may be effective used for systems with extremely tight form factors or for systems where communications for users are managed by another person. An auxiliary display  may additionally be effective when notifications need to be seen from a distance. An auxiliary display also may be used in conjunction with an onscreen virtual auxiliary display when there is informational content associated with the activity, such as notification of a new email message. In this case, content from the email may also be displayed on the virtual auxiliary display . Furthermore, an auxiliary display  may be effectively used for public systems (libraries or kiosks) or shared computers when display of content is undesirable.","Alternatively, a 2-line alphanumeric display may be advantageously used as the auxiliary display  where cost or space is critical, but notifications and basic content are desired. It may be effectively used for tablet PCs, laptops, budget PCs, phone docking stations, monitor bezels, and small or low-cost PC appliances or peripherals such as a handset, keyboard, or remote control. It may also be effectively used as a replacement for (and an improvement to) a caller ID box.","Furthermore, a monochrome or color multi-line display may be advantageously used as the auxiliary display  for media-rich applications, high-end consumer systems or media center systems. It may be effectively used for high-end laptops with more generous form factors or where an emphasis is placed on communication, full-function PCs with a heavy business or communications emphasis, media centers or high-end media appliances (including remotes, console systems with portable media functionality) and mobile auxiliary displays. Additionally, the display of another computing or communication device may advantageously be used as the auxiliary display  where users can expand the role of these supplemental devices when using their PC. These other computing or communication devices include general purpose computers, cell phones, and handheld devices such as a pager or a personal digital assistant (PDA). Further, note that the auxiliary display need not be an actual display, but can be a projection (e.g., onto a wall) of the information. An auxiliary display, as referred to herein, may be composed of essentially anything that can be sensed, including any visual, audible, and\/or tactile representations.","As mentioned previously, a virtual auxiliary display may be used as the auxiliary display  for public systems (libraries or kiosks) or shared computers when display of content is undesirable. It may also be effectively used for low-cost systems or for devices with very minimal form factors that make even LEDs impractical. A virtual auxiliary display may be implemented as a screensaver or as a component of the graphical user interface.","The input device , hereinafter referred to as actuators (in plural, even if only a single mechanism such as a button or pointing device), provides the user with a mechanism to switch between different categories of application data or notifications such as email notifications, voicemail notifications, calendar notifications, system status notifications, caller ID lists and other types of notification messages. Accompanying such a switch button may also be an up button and a down button to allow the user to scroll forward and backward through the notification messages within a particular category. Those skilled in the art will appreciate that any other types of actuators may be used, such as a keyboard, microphone, joystick, game pad or other device including a device that contains a biometric sensor, environmental sensor, position sensor, or other type of sensor. Any of the input devices of the computing device  that is represented in  may be used as the input device (actuators) , and may be used in conjunction with independent actuators.","Caching for Offline Auxiliary Display Operation","As will be understood, the present invention provides an auxiliary display  for a user to simply and rapidly view auxiliary information. In keeping with the present invention, the user may select, to an extent, what information appears on the auxiliary display by using actuators  to select among application program data that can be presented on the auxiliary device. Although program data and event notifications will be used to illustrate the auxiliary display of information, it should be understood that the present invention may provide auxiliary display of other types of information, such as data from Internet-related services including transaction services, auction services, advertising services, entertainment services, and location services. Such services can provide a wide variety of information including financial transaction information, headline or other news, stock quotes, sport scores, auction or other bidding status, weather data and other information, including information specifically requested by the user as well as unsolicited information. It will also be appreciated that the auxiliary display  may be operative using any number of known types of displays such as a set of notification lights, a 2-line alphanumeric display, a monochrome display, or a color display. Note that as used herein, for simplicity \u201cauxiliary display device\u201d will generally refer to the auxiliary display screen and\/or the actuators associated with that screen as well as any other hardware, firmware or software in the device, however it should be understood that the screen and actuators may be independent mechanisms, and\/or that there may not be actuators requiring physical contact to input data. Further, note that the auxiliary display device may be considered as possibly containing indicators (e.g., individual LEDs) instead of or in addition to a pixel-type display screen.","In accordance with an aspect of the present invention, the present invention facilitates usage of the auxiliary display at times when the main CPU\/operating system and application programs are not operating, that is, when the system is offline, but the auxiliary device remains operational. Note that the offline auxiliary system components are implemented in firmware including an auxiliary processor and auxiliary memory containing executable code and data. To accomplish offline operation, when online the main CPU\/operating system and application programs prepare a data cache and other information, that is then transferred to auxiliary storage in the firmware for use offline.","The transfer may be a full transfer of the cache at power-down (e.g., shutdown\/sleep\/hibernate time), or may be performed in part by a background process or the like such that only synchronization (instead of a full data transfer) is required at power-down time. Moreover, a computer device such as a desktop may not go into a powered-down state to make such a cache accessible. For example, via a background process or a manually-initiated operation, the cache can be built. If the cache is remotely accessible, the user would have remote access to the cached auxiliary information and the transfer can occur to a remote device without the computer device needing to be powered down. Thus, consider a user that travels to a meeting without a computer, but has another device such as a SmartPhone configured to remotely access the cache data of the main computer. Because of the cache, such a remote user can remotely view and navigate the cache via the remote device, which because of the cache is an auxiliary display of the system.","As generally represented in , there is provided a layered architecture by which one or more application programs  can interface with virtually any type of auxiliary display device, to output data to its display  and\/or interact with the user via actuators . To this end, there is provided an architecture having independent architectural layers of software, as generally described in the aforementioned related U.S. patent application entitled \u201cAuxiliary Display System Architecture.\u201d Note that in this related U.S. patent application, the layers are shown in generally the same order as in , although the grouping of components which is somewhat arbitrary may slightly differ from  of the present application. In any event, in , the service can be considered as an independent layer , with the application layer  above the service layer  and with the protocol layer  below the service layer .","In the implementation represented in , four layers are present, each separated by interfaces. More particularly, in addition to the application layer , the service layer , and the protocol layer , there is a firmware layer  sown in . As described below, these layers provide a straightforward mechanism by which an application program may provide auxiliary data for caching in a structured manner that provides a user with easy access to relevant cached information, without having to power the computer (and\/or open it to see the main display screen, if a laptop or covered tablet).",{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 4","b":["302","302"]},"The application layer  provides the interfaces for developers to build solutions while the service layer addresses certain aspects of presenting auxiliary information, namely arbitration, interruption, and cache creation. Arbitration (as generally described in the aforementioned related U.S. patent application entitled \u201cAuxiliary Display System Architecture\u201d) and interruption support provides a framework that enables sharing of auxiliary resources.","In accordance with an aspect of the present invention, cache creation is the mechanism that structures the application data for an offline experience. As described below with reference to , the service layer builds the cache in a manner that preserves context and structure information so that the firmware can navigate the data when completely isolated from the online operating state. As further described below, in one implementation, the service layer is also responsible for pruning the data structure in the event that its content size exceeds the allotted storage capacity of the auxiliary device firmware.","As represented in , the application layer  and the auxiliary display service layer  enable various structure and functionality, including auxiliary registration by which an application program  (or associated application plug-in) registers itself with a service registration component  of the auxiliary display layer . In the example implementation of , the service registration component  provides an IAuxAppReg interface for this purpose. Other application programs may likewise register themselves via this interface.","Once registered, the auxiliary application  has the ability to receive events from the associated auxiliary display device and\/or related resources. For example, an event may be sent to the auxiliary application component  upon an auxiliary device becoming available, while another event could correspond to user interaction with the auxiliary device actuators. In the example implementation of , the application program implements and exposes an IAuxAppSink interface to receive such events.","The application program  also has the ability to enumerate the available auxiliary hardware device or devices that are available. In the example implementation of , a mediator component  in the auxiliary device service  provides the enumeration via an IAuxMediator interface. In this manner, the device or some data related to the device (e.g., a corresponding XML file) can report the capabilities of the device display screen or the like and\/or its actuators to the application program . The application program  may then adjust the output and input according to the display, e.g., color scheme, resolution, navigation commands, and so forth can be modified for the device characteristics.","Arbitration is also provided in the mediation component  of the service layer via the IAuxMediator interface, to provide the mechanism that determines which application program  should be having its data currently displayed and should be receiving navigation commands. Note that multiple application programs take turns sharing the display as appropriate; in other words, the arbitration function of mediation manages the priority (z-order) of the auxiliary application programs and\/or plug-ins.","The protocol layer  creates an abstraction through which the service layer  sends and receives data from the auxiliary device. The protocol layer  thus facilitates maintaining a level of hardware independence. The service layer can write to the display or set the state of indicators via an IAuxDevice interface for communicating data to the device.","Once a program is allowed to write to the display and receive commands via its actuators, auxiliary system referencing is one mechanism that provides the ability to blit\/render to an abstracted memory buffer that allows the currently selected auxiliary application (e.g., plug-in) component  to use the display resources. In implementations that do not allow offline caching, the mediator may pass a reference pointer to the auxiliary device interface to the auxiliary application, and have the application program thereafter call the interface directly to provide display data to the display and\/or indicator. This would be feasible in an offline-capable model as well, however the application would then be responsible for structuring the data, which is not quite the same level of abstraction generally desired herein. Thus, in the example implementation of , the application program passes its data through the service layer (the mediator interface) so that the service layer can structure the code for offline caching. Note that the same structure as that of the cache can be used when operating online, although rather then sending the cache when online, a pointer to the cache instead may be sent to the protocol\/firmware layers so that the auxiliary device can obtain only the data that is needed to display at the current moment rather than receive the full set of cached data or regularly synchronize a cached copy.","As can be readily appreciated, the various layers provide auxiliary functionality in an architecture that is comprehensive and extensible. The pluggable architecture facilitates the writing of applications that can utilize the auxiliary resources without needing to understand or deal with low-level requirements.","In accordance with an aspect of the present invention, relevant application data and other information is cached for use by the auxiliary display device. A general goal is to cache the information into a quickly accessible store, along with providing a straightforward methodology for applications to provide the information to be cached. To this end, in one implementation the data is structured in a tree format (referred to as a structured cache tree), and simple primitives are provided to build the structured cache tree. In this implementation, the collection of the structured cache trees (or tree subsets), the transfer of the tree to the firmware, and the interaction by the firmware with the tree data when the main computer is powered down provides the mechanism that facilitates offline usage of an auxiliary display.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 5","FIG. 5","FIG. 5"],"b":["508","510"]},"As represented in , online application data  is collected by a caching mechanism , such as by polling each application program that uses the auxiliary display for its data; (an application that is not running but for which the user has indicated a need for offline interaction with its data can be started to obtain the data). Note that every application that uses the auxiliary display device when online may not be configured to use it when offline, or may use the auxiliary device differently when offline, such as by setting offline limits when configuring the application for offline data viewing. For example, the auxiliary display can scroll through any number of messages when online, but the application may make no more than some default or user-configurable (e.g., twenty) messages available for offline scrolling.","The user may configure the system to control which application programs can provide data to the cache for offline viewing. For example, a user may want phone numbers, email messages, tasks and calendar data cached for offline viewing on the auxiliary display, but no other program's data. For example, even though an online application might use the auxiliary display for displaying stock quotes, a user might not want stock quotes cached for auxiliary viewing, because caching such data would waste storage space on data that rapidly would become obsolete.","The user may also configure the amount of storage that each application gets for its data and can configure the applications with rules for offline storage. Alternatively, an algorithm (described below) prunes data from the tree if the application programs provide too much data to cache, with any surplus from one application's allocation used for another applications' data when that other application's data uses more space than it has available. The redistribution of surplus data goes to applications based on a user-specified priority ordering, e.g., to the first application listed on the home page (the list order is user configurable), then if not all is needed to the next listed application, and so on.","As previously mentioned, the collection operation may take place when powering down, or may be ongoing to some extent with synchronization performed at the time of transitioning to offline. Pruning is performed as necessary by a data pruning mechanism  to divide the available storage up between applications and trim data as necessary for each to match the amount of space that is available. In any event, in the example implementation of , the result is a structured cache  of offline data that can be navigated via the tree structure.","Applications may want to provide more than just navigable data to users. For example, a calendar program may want to provide data such as a meeting reminder that automatically appears at a certain date and time. As it would be inefficient to walk the offline cache tree on a regular basis to look for such events, information such as to trigger a time based interrupt may be transferred to the firmware, as a list of times and actions to take (possibly via the tree, which would then have to be walked once to find it, but preferably as separate data). As represented in , the firmware may set up such time-based interrupts , and also store in a timer-ID to action table  or the like the action(s) to take when each identified timer interrupt occurs. In this manner, for example, specific reminders may be displayed at the correct moment, one or more indicators may light or flash, and so on.","Once set up and transferred and the main computer powered down, the microcontroller  and auxiliary storage take over sole control of the auxiliary display  and actuators . An offline shell program  may provide a home page from which navigation is based, along with the logic to process timer-based events and the like. The offline shell program  in conjunction with the offline interaction manager  handles navigation through the offline cache, as well as possibly changing the state of the display in response to non-manual actuators, e.g., to show a particular message when a battery is low.",{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 6","b":["601","603","604"]},"In general, the home page may simply provide a menu of the application programs, (scrollable if necessary) although depending on the arrangement of the actuators, a more complex menu reflecting the hierarchy is feasible, e.g., four way navigation buttons could use the up and down buttons for scrolling and the right and left buttons for expanding and collapsing the currently highlighted menu entry to show data representing any subtrees. When a user selects a page in the home page menu, such as by pressing a selection actuator button when on a page, the shell node essentially moves to that node, where the information about that page is obtained and that page is rendered. The information page may comprise anything from a bitmap to markup language (e.g., HTML or XAML) as appropriate for rendering on a given device, which depends on the code that is installed on the device. Note too that code for interpreting the cached data can be transferred or otherwise downloaded to the firmware.","As represented in , there may be multiple sub-levels in the tree structure. For example, the personal information manager node  that is shown might have contacts, appointment and task nodes (-, respectively) beneath it, each having its own corresponding display screen and respective sub-nodes C-C, A-Aand T-T. The application program node may only have one level below it, as represented by the message nodes M-M. In general, each node corresponds to a scrollable page that displays its data and any sub-nodes to which navigation is possible.","Note that in  the medial player application  is shown for completeness, to indicate that in some implementations, the same navigation tree may be used when online or offline for determining the next screen to render, even though the media application may not operate in the offline state. When online in such an implementation, an online-only media player application will have a display screen node in the tree to which the user can navigate, such as to view current track and timer data on the auxiliary display. When offline, the node (referred to as a terminal, or raw node) representing such a display screen may be pruned from the tree to save storage space. Alternatively, when a media player such as an MP3 player serves as the auxiliary display, such a node would allow the MP3 player to use the screen as desired, yet do so in the navigational framework with the other application data.",{"@attributes":{"id":"p-0069","num":"0068"},"figref":["FIG. 7","FIG. 5"],"b":["302","302","402","402","501","306","730"],"sub":["A ","B ","A ","B","1","1"]},"When offline, a different offline interaction manager is used. As is understood, the offline interaction manager runs under the auxiliary microcontroller\/and offline (e.g., flash or alternatively powered) storage.","Processing Data Received at an Auxiliary Computing Device","In accordance with an aspect of the present invention, the firmware is able to receive and process additional data, independent of the online or offline state of the main computer system. From the perspective of an auxiliary device, the main computer system is only one source of the information that can be rendered by the device, and indeed, may not even be connected to the auxiliary device except by storing a cache on an independent storage medium. By using other available data sources, including data received while the main computer system is offline, the firmware running on the auxiliary display can perform actions independent of whether the main computer system is available. Such actions include updating the cached application information, supplementing the cache with new data or otherwise providing a mechanism to provide information to the user, generating an event, changing an already registered event, registering new events for firing at a later time, downloading code (including code that interprets other newly received data) and so forth. This allows the auxiliary display to have more current information, and hence display more valuable information to the user.","Consider an auxiliary display device that has hardware that is capable of receiving wireless or wired communications from some other data source, independent of whether the main computer system is online or offline. Examples of the kinds of information that may be received include email, calendaring, tasks, weather, news, battery life, and network status. Any kind of information that changes and is accessible to auxiliary device hardware is a candidate for auxiliary processing, independent of whether the main computer system is online or offline.",{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIGS. 8 and 9","FIG. 8","FIG. 8","FIG. 8","FIG. 9"],"b":["802","800","804","810","806","802","800","810","802","804","802","810","802"]},"Another source of new data may comprise existing hardware associated with the main computer system , such as hardware corresponding to a battery controller . In general, any piece of hardware accessible to the main computer system components  is likely capable of being a data source, as represented in  by blocks  and .","The source of new data may be not be coupled to the main computer system, and instead may be specifically associated with the auxiliary display hardware\/firmware , and not used by the main computer system. For example, stock quotes received over a wireless antenna\/network interface and made available to the firmware need not be forwarded to the main computer system if online (and of course cannot be forwarded if offline). For example, one such data source is a SPOT antenna connected to SPOT (Smart Personal Object Technology) radio chip that can provide information to the auxiliary firmware; if the firmware knows how to process the data, some context can be extracted therefrom in order to initiate a context-based action.","Examples of other sources that may be used to provide data for auxiliary device processing include components that can obtain data over other wireless means, e.g., wireless LAN and Bluetooth, another FM subcarrier or other radio data receiver, cellular data hardware and\/or alphanumeric paging hardware. Such other data sources are represented in  by block .","Still other examples of data sources include components that can obtain data via the machine itself, such as wireless LAN radios (e.g., to provide signal strength information), battery controllers and\/or Bluetooth transceivers. More general data sources comprise virtually any type of sensor based input, such as thermometers, light sensors, accelerometers, microphones, GPS receivers and so forth.","Note that one implementation of the auxiliary hardware provides the microcontroller  with access to the SMBus  of the computer system, whereby any attached hardware may be reused by the auxiliary display microcontroller and firmware .  shows how the hardware provides the microcontroller  with access to the SMBus  of the computer system, whereby any piece of hardware accessible via the SMBus  is likely capable of being a data source. Note that in , the main computer system components  are offline, and thus the data flow is through the SMBus , not through blocks  and  as in . Because the auxiliary firmware can access the data source directly, the main computer components  can be turned off and the data can still make it into the firmware, e.g., for caching.","In one implementation, as described above the information stored in the offline cache in the firmware memory is stored essentially as a tree that corresponds to displayable data, such as bitmaps, or documents (e.g., HTML or XAML) that are structured for rendering. This cache is accessed to locate the content for the display based on navigational commands or events.","In accordance with an aspect of the present invention, there is provided a mechanism by which the cache (e.g., the tree) may be modified by the auxiliary firmware, rather than being a read-only cache. To this end, if as in  the auxiliary device hardware can receive data from one or more new sources and provide it to the auxiliary display firmware , then the firmware can process the new data to update the cache, thereby changing what the user navigation (or events) will cause to be displayed, as well as take other actions based on the context of the data. Note that new data may delete information in the cache, but if it increases the amount of data in the cache, there needs to be sufficient storage available for adding such new data, or some mechanism (e.g., offline pruning) to make additional storage available.","Further as described above, the information that changes the cache may be received from other data sources and added to the application data of the main computer system. Note that by using a tree structure or the like, such data can be merged regardless of whether the main computer system is offline (in which event the cache holds any application data) or online (in which event the cache may hold any application data or may contain reference pointers to the data in main application storage.","By way of example, consider the tree  represented in . In this example, the \u201cSports News\u201d branch contains data that is obtained (e.g., via a SPOT antenna connected to the firmware) without ever passing through the main processor and memory, even when the main computer system is online. When such data is received, it is added as a node  to the tree  (along with any children), and a \u201cSports News\u201d entry  is added to the home page list by the firmware. In this manner, if that entry  is selected by the user from the home page, the data collected by the auxiliary device components may be displayed, just as if it came from a main computer system's running application program.",{"@attributes":{"id":"p-0083","num":"0082"},"figref":["FIGS. 11A-11C","FIG. 11A","FIG. 11B","FIG. 11C"],"b":"1110"},"In this manner, any received data, such as an email message or change to a calendar setting can be used to modify the tree (or other structure) in the cache. This may change existing data, or as in the above example, add new data to the tree, which may then be regularly updated as new data is received. This makes the information available to the user via the auxiliary display more current and thus valuable, and helps the user save time and battery life, by not requiring the main computer to be booted to obtain the new data, either to look at on the main display or merely to reconfigure the tree and send the new tree to the auxiliary display.","It should be noted that the data received can be processed to perform actions other than updating the offline navigation-related cache data. For example, SMBus or other integration may invoke other hardware components of the PC (and the related software such as the operating system) in association with external data reception. For example, a hardware notification that the wireless strength on a certain SSID is strong may be processed and recognized to wake the machine up (e.g., transition from ACPI sleep state S to S), in order to ask the machine to refresh the device's data from the wireless network. Note that unlike other wake mechanisms, the auxiliary processor processes the data to determine some action based on the context of the data instead of just automatically waking the machine any time new data is detected.","As another example, a SPOT \u201ckill signal\u201d may be processed by the firmware to request that the operating system limit access to the main computer system, under the presumptive threat of data theft.","Note that when data is received while the main computer system is offline, it is feasible to have the auxiliary device provide access to the new data, such as to enable the main computer system to update its data when it comes back online, via an online synchronization mechanism. For example, because the new data is processed rather than simply received, it is feasible to do things such as report the type of data (e.g., email data) to the main computer system when it comes back online so that the appropriate synchronization mechanism can be invoked.","Further, again because the data is processed, when the main computer system is in a sleep state, it is possible to wake certain hardware and not others. For example, the auxiliary processor may start up the hard drive and write the new data (or some information based on the new data) to the hard drive for reading via the main operating system when it restarts.","As can be seen from the foregoing, the present invention provides a mechanism that updates the data that can be displayed on an auxiliary display, including at times when new data becomes available and the main computer system is in a powered-down (offline) state. The present invention thus provides numerous benefits and advantages needed in contemporary computing.","While the invention is susceptible to various modifications and alternative constructions, certain illustrated embodiments thereof are shown in the drawings and have been described above in detail. It should be understood, however, that there is no intention to limit the invention to the specific form or forms disclosed, but on the contrary, the intention is to cover all modifications, alternative constructions, and equivalents falling within the spirit and scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIGS. 2A-2E"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIGS. 11A-11C"}]},"DETDESC":[{},{}]}
