---
title: Securing services and intra-service communications
abstract: A security service enables service providers to register available services. Prospective service consumers may register with the security service to access a particular registered service, and may specify conditions for access that are subject to approval by the corresponding service provider. Based on the registrations of the service provider and the service consumer, the security service can define access policies that may be enforced to control the conditions under which a service consumer accesses or utilizes the particular service. Additionally, changes to the access policies may be propagated to running services in near real time. Some implementations enable masking of information provided to particular service consumers based on determined needs of each service consumer for access to particular information. In some instances, the service providers may provide log information to the security service, which may be monitored to identify anomalies, security breaches or the like.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09596244&OS=09596244&RS=09596244
owner: Amazon Technologies, Inc.
number: 09596244
owner_city: Seattle
owner_country: US
publication_date: 20110616
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","DETAILED DESCRIPTION","Securing Services and Intra-Service Communications","CONCLUSION"],"p":["Traditional authentication, authorization and accounting schemes focus on granting access to a resource, such as a service. Typically, a business or other enterprise may use different standards for authentication, authorization and accounting when a client or service consumer is an internal user that is affiliated with the enterprise, as opposed to an external user that is not affiliated with the enterprise. For example, internal services are often provided free of charge to internal users as part of the enterprise's business operations. Further, because internal services are typically provided within an enterprise's network, intranet, or the like, interactions are often assumed to be secure. Consequently, the utilization of internal services by internal users may not always be well monitored, which can affect the enterprise's efficiency and security.","In addition, users of internal services may be able to access enterprise data that would never be exposed publicly, such as customer information, proprietary information, financial information, and the like. Accordingly, some enterprises may have safeguards that limit access of internal users to enterprise data. However, enforcing these safeguards may interfere with the legitimate need for access to certain information or services.","Additionally, some internal services may be used by many different service consumers for many different purposes, and internal services tend to change or evolve at a faster rate than public services. Thus, internal service providers may not be able to easily monitor how their services are being used, who is using their services, or how ongoing changes in their services affect internal users and overall security concerns.","This disclosure includes techniques and arrangements for securing services and intra-service communications. In some implementations, a security service may enable service providers to register services that are available to be used by service consumers. When a relationship is established between a service provider and a service consumer, the service consumer assumes the role of a client to the service provider. Prospective service consumers may apply to the security service to access a registered service. In some instances, the security service may collect information from prospective service consumers, such as service consumer contact information, application programming interface (API) usage descriptions, expected amount of usage of the service, desired access conditions, desired whitelisting rules, and the like. The collected information is provided to the registered service that the service consumer desires to access to allow the service to determine whether to authorize access by the prospective service consumer. Following approval of the service consumer's application by the provider of the registered service, the security service can implement access policies that include authorization information and whitelisting rules for controlling the conditions under which the service consumer is able to access or utilize the service.","Furthermore, some instances enable near real-time propagation of access policy changes from a user interface to running services, such as in less than one minute. For example, the registered services may perform a periodic synchronization of access policies with the security service to ensure that the latest versions of the access policies are being enforced. Additionally, some implementations include the ability to broadcast access policy change events to other parties within the enterprise. For example, certain entities in the enterprise may wish to monitor which service consumers have access to which services and to which portion of those services. Accordingly, these entities may subscribe to receive broadcasts of each approved change to access policies, such as changes to whitelisting rules and access authorizations. As another example, when a service provider for a particular service needs to change how the service is accessed or change certain features of the service, these changes may be broadcasted to the registered service consumers of the service and the registered service consumer may subsequently revise how they utilize the particular service.","In addition, some implementations include the ability to label data as secure, and to allow service consumers to opt-out of receiving of receiving the secure data. Further, some implementations enable masking or redacting of information provided to particular service consumers based on determined needs of the service consumer for access to particular information. Thus, if a service is able to provide service consumers with a certain quantity of information, different service consumers invoking the same API for that service will automatically receive different information depending on the particular access policies (i.e., whitelisting settings) established for each particular service consumer with respect to the particular service. For example, suppose that a service provides customer data that may include the customer nine-digit postal code to internal service consumers that request customer information. Based on need for information pre-determined for each service consumer, a first service consumer may only be provided with only the first five digits of the nine-digit postal code when customer data is requested, while a second service consumer may be provided with the entire nine-digit postal code when customer data is requested, and a third service consumer may receive no postal code information at all when customer data is requested. In some instances, all the service consumers may call the same API to request the information using the same parameter, but may be provided different levels or different subsets of the same information based on their demonstrated need for the information, as established by the access policies. Additionally, some implementations may include a periodic \u201cbaselining\u201d in which access permissions previously granted to service consumers expire on a periodic basis, such as annually, and the service consumers must re-verify the need to access certain information.","Furthermore, in some implementations, a service can subscribe to the security service herein and copies of log data pertaining to the service are maintained by the security service. For example, the security service can receive log information from each registered service and maintain log files pertaining to service consumer usage of the service, performance of the service, and the like. The log files may be monitored for detecting anomalies, security breaches, excessive usage of a service, and the like. For example, the security service may issue an alert to a service provider to when usage anomalies are detected.","Additionally, some implementations provide a user interface that may include a single control that can be activated by a service provider to block requests received from a particular service consumer for accessing a particular service or multiple services. Thus, the blocking of one or more selected service consumers may occur at the service level, such as when an anomaly or excessive usage is detected. In some implementations, a service provider may block a particular service consumer from accessing a particular API when the service consumer access requests exceed a predetermined threshold over the service consumer's stated expected access requests. Further, because service consumers provide expected whitelisting information, such as expected number of transactions per second, when applying for access to the registered service, a well-behaved service consumer can determine the best way to stop generating problematic requests, and thereby address at the source any actions that are causing problems for a particular service. For example, a service consumer may implement throttling of access requests issued to a particular service to maintain the requests within the expected number of requests specified when the service consumer applied for access to the service.","Example Architecture",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1","b":["100","102","102","104","1","104","2","104","106","1","106","2","106","104","108","1","108","2","108","110","1","110","2","110","112","1","112","2","1124","106","106","110","104","110","106","108","110","106","112","110","104"]},"Additionally, in some instances, one or more of the service consumers  may provide services to end users , such as internal users (e.g., employees of an enterprise) or external users such as customers, potential customers and other members of the public. For example, the end-users may access one of the service consumers , such as service consumer -, using any of a variety of devices such as personal computers or workstations -, e-book readers and tablet devices -, laptop computers -, cellular telephones and smart phones -, or any other suitable devices. The service consumer - may access one or more service providers  when providing a service itself to the users . Thus, in some implementations, the service providers  may provide internal services to the service consumers , and one or more service consumers  may provide an external service to a user .","The security service  may include a security module  to perform the functions and features described herein for securing services and intra-service communications. For example, the security module  may receive registration requests from the service providers  for registering the services  with the security service . Thus, the security service  may receive a service registration  for each service  to be secured by the security service . Furthermore, as described additionally below, the security module  may determine access policies , such as whitelisting information and the like, for each service  with respect to each service consumer . Additionally, the security module  may manage and maintain logs  regarding the use of each service  by each service consumer . For example, as described additionally below, the security service  may provide data from the logs  for review by an authorized party, such as the associated service provider . Alternatively, the security service  may internally review the log information to identify any anomalies or use conditions that may warrant providing an alert to a particular service.","The security module  may further include a user interface  that is accessible by the service providers  for registering their services . The user interface  is also accessible by the service consumers  to submit a request to access to a particular registered service . Additional details and functions of the user interface  are discussed below.","The service providers  may communicate with the security service  through one or more communication links ; the service consumers  may communicate with the security service  through one or more communication links ; the service providers  may communicate with the service consumers  through one or more communication links ; and the service consumers  may communicate with the users  through one or more communication links . Each of these communication links , , ,  may be the same communication link or different communication links. For example, the communications links - may be any of a direct connection, a local area network (LAN), a wide area network (WAN), a virtual private network (VPN) or any combination thereof, and may include both wired and wireless communication technologies using any suitable protocols and communication techniques. In some implementations, the security service , service providers  and service consumers  may be located at a data center, server farm or other single physical location, while in other implementations, the security service , service providers  and service consumers  may be located in diverse locations that are physically remote from one another and the communication links - may include the Internet or other long distance communication network.","Example Framework",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2","b":["200","102","104","106","200","100","104","110","106","110","202","204","206","200","102","110","104","106"]},"The security service  enables the one or more service providers  to register one or more services  with the security service . In the illustrated example, as indicated by arrow , a service provider  registers the application  with the security service  to provide the service . For example, the service provider  may access the user interface  of the security service  to register the service application  with the security service . During the registration, the service provider  may supply information pertaining to the service , such as service name, service interfaces, service properties, information to be collected from prospective service consumers, and so forth.","A service consumer  may request access to the service  provided by service application , as indicated by arrow . For example, the service consumer  may access the security service user interface  to search for needed services, select a service  to access, and provide requested information for gaining access to the selected service. For instance, the security service  may require the service consumer  to describe why the service consumer needs to access the particular service, how the service will be accessed, how often the service will be accessed, how critical the service is to the service consumer's operations, particular APIs of the service that need to be accessed, contact information for the service consumer, and so forth. In some implementations, the service consumer  may identify the service consumer application , or specific features thereof, that will access the service .","The security service  may provide the request for access  received from the service consumer  to the service provider  for approval, as indicated by arrow . For example, the service provider  may periodically check the user interface  for any new service consumer requests for access to the service . Alternatively, in some implementations, the security service  may send a notification to the service provider  that one or more service consumer access requests  have been received and are pending approval. The service provider  may review the request for access  and approve or decline the request, as indicated by arrow . For example, the service provider  may review the request for access  using the user interface . Alternatively, the request for access and the associated service consumer information may be sent to the service provider  for review, such as by an electronic communication, and the service provider  may reply to the security service  with an accept or decline message. Furthermore, in some instances, the service provider  may request that the service consumer  provide more information prior to the service provider  accepting or declining the service consumer registration request. In this scenario, the service consumer  may then use the security service user interface  to provide the additional requested information.","When the service provider  accepts the service consumer's request for access, authentication information may be provided to the service provider  and the service consumer  to be used for communications between the service provider  and the service consumer . For example, a service secret key  and\/or other authentication information may be provided to the service provider , as indicated by arrow . Similarly, a consumer secret key  and\/or other authentication information may be provided to the service consumer , as indicated by arrow . In some implementations, the service secret key  and the consumer secret key  may be a shared secret key that is shared between the particular service provider  and the particular service consumer . For example, the service provider  may receive and maintain a different secret key  for each service consumer  that is authorized to access a particular service and\/or API. Similarly, the service consumer  may receive and maintain a different secret key for each service and\/or API that the service consumer  is authorized to access. In some instances, the security service  may itself manage the distribution of secret keys and authentication information; however, in other implementations, a key management service (not shown in ) may perform this task.","During the runtime stage , when the service consumer  desires to access the service , the service consumer  sends an access request to the service provider  and signs the access request with the consumer secret key , as indicated by arrow . As indicated at block , the service  receives the access request and performs authentication to ensure that access request is from a service consumer that is registered and permitted to access the service . For example, the service provider  may use the service secret key  to check the validity of the signature included with the access request . When the service provider  determines that the access request  is from an authorized service consumer , the service  may respond, as indicated at arrow , to the service consumer's access request by providing requested information or by performing some other service.","Furthermore, the response  provided to the service consumer  may be in accordance with whitelisting rules and other access policies , as maintained in a runtime library  or other suitable data structure. For example, when the service provider first registers the service , the security service  may provide a runtime client  to the service provider . The runtime client  may include the runtime library , or at least portions thereof relevant to the particular service, such as the access policies  relevant to the particular service . The runtime client  may perform periodic synchronization of its access policies  with the runtime library  maintained by the security service , as indicated by arrow . Thus, the periodic sync enables the access policies for the service to remain current as to which service consumers are authorized to access the service, the latest access policies and whitelisting rules for each service and service consumer, and the like. For example, the periodic sync  may be performed at a suitable interval such as every minute, every 30 seconds, or any other suitable interval. In some implementations, the runtime client  at the service provider  initiates the periodic sync  at each periodic interval using a pull model for obtaining any relevant new information from the runtime library ; however, in other implementations, the security service  may push the periodic sync  to each service provider  for each registered service . The runtime client  may review incoming parameters of the access request  received from the service consumer  and determine, based at least in part on the access policies , whether to allow the access request  from the service consumer . For example, the runtime client  may determine whether the service consumer  is an authorized service consumer based on the access policies , and may further determine whether the service consumer  is authorized to obtain the particular information, or only a portion thereof, requested by the access request .","The analysis stage  may take place contemporaneously with the runtime stage , or any time thereafter. For example, as the service provider  interacts with one or more service consumers , the service provider  may provide log information to the security service  as indicated by arrow . For example, the runtime client  may automatically provide the security service  with log information  to be stored in one or more logs  for each service  registered with the security service . Accordingly, log information may be recorded for each service consumer access request received by the service provider , and this information may be transferred to the security service . In some implementations, as indicated at block , the security service  may monitor the behavior of service consumers with respect to a particular service to determine whether there are any anomalies, apparent improper use, unauthorized access requests, and so forth. For example, when the security service  determines that there is an anomaly the security service  may send an alert to the corresponding service provider , as indicated by arrow . In some implementations, rather than the security service  monitoring and reviewing the logs , the log information for a particular service, or for all services, may be provided to the associated service provider  or an authorized third-party to review the logs  for anomalies or other areas of concern.","Example User Interface",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 3","FIGS. 1 and 2"],"b":["300","300","126","106","110","102","300","106","122","106","110","102","106"]},"In the illustrated example, the service consumer  may use the user interface  to select one or more APIs of the service that the service consumer will access while using the service. For instance, suppose that the available APIs for this service include an API A  and an API B . In this example, the service consumer  has selected the API A , and is presented with requests for additional information regarding the intended use of this API. Thus, the user interface portion  may request an estimate of peak access request rates (e.g., peak number of transactions per second) that the service consumer expects to submit to the API A  for a service A in one or more service locations or regions, as indicated by data entry box  for Region , data entry box  for Region , and data entry box  for Region . Further, the user interface portion  may request a usage description from the service consumer , as indicated by data entry box  to enable the prospective service consumer  to describe to the service provider  how and why the information from the particular API A  will be used. Additionally, the user interface  may request the availability requirements  of the service consumer, e.g., whether any outage has serious business impact or if the service consumer's operations are able to tolerate outages of up to several minutes without serious business impact. When the prospective service consumer  has completed selecting APIs and providing the requested information, the service consumer  may select a continue button , or if the service consumer wishes to backtrack the service consumer may select a back button .",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 4","b":["400","400","402","404","400","112","112","112","406","106","408"]},"Accordingly, the user interface  may provide the ability for a service provider to obtain a large amount of information from a prospective service consumer to enable the service provider to decide on a level of access that a particular service consumer should have with respect to a particular service. For example, the user interface  enables the service provider to determine why the prospective service consumer will be calling the particular service, whether the prospective service consumer will be using the service correctly and efficiently, and can determine whether the service consumer will be accessing secure data. The user interface  also obtains contact information for a responsible party at the service consumer, and can identify the service consumer's cost-center to enable allocation of costs of operation back to the service consumer. Furthermore, the user interface  can determine the prospective service consumer's availability tier, such as whether the service provider can throttle or restrict access of the service consumer during an emergency situation.","In addition, the user interface  enables the establishment of access policies  customized to each service consumer for each service. For example, questions provided in the user interface may establish whitelisting rules as part of the access policies  such as the maximum call rate allowed to each service consumer for particular APIs (e.g., maximum transactions per second, maximum transactions per minute, etc.). Other whitelisting rules established may include the availability tier of the service consumer, the ability to label service inputs and outputs as secure (and require additional security review for access to these secure services), and the ability for service consumers to opt out of accessing or receiving secure data. Additionally, in some implementations, the access policies granted to each service consumer may periodically expire, and require the service consumer to reapply for access to a particular service. In addition, security service may enable service providers to restrict access of service consumers who violate the access policies , such as when the service consumers exceed their maximum allowed call rate, or the like. The restriction of access may be executed at a granularity of restricting access of a particular service consumer at a service level and or an individual API level.","Furthermore, the security service  enables service providers to efficiently manage and monitor the service consumers that are authorized to access their services. For example, a service provider may access the security service  to view any pending access requests received from prospective service consumers, determine which service consumers are authorized to access which APIs at the service provider, and view a history of who has requested access to a service and\/or approved access to a service. Additionally, the logging function of the security service  enables a service provider to be notified of abnormalities in client call patterns, view which clients have called which APIs, determine which clients no longer require access to particular APIs, allocate costs of operation back to particular service consumers, determine whether a particular service is meeting the runtime service level agreements for particular service consumers, and monitor other information that assists the service providers in the management and provision of their services.","Example Roles, Relationships and Interactions",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 5","b":["500","502","504","506","504","502","502","508","510","510","512","508","508","502","514","516","516","518","514","502"]},"Furthermore, the second entity  may include a consumer of service C  that accesses services provided by a fourth entity , such as to enable the service A  to provide the service A to the consumer of service A . The fourth entity  may include a service C  that provides information or other services to the consumer of service C  to enable functionality of the service A . Similarly, the third entity  includes a consumer of service C  that obtains information or other services from the service C  of the fourth entity  for use by the service B  when providing the service B to the consumer of service B .","From this example, it will be apparent that certain entities or applications may adopt different roles as client and\/or service during performance of their functions. Further, communications  between the various service consumers (clients) and services may be signed and authenticated using secret keys. For example, as discussed above, each service provider may register a service with the security service , and each service consumer may apply to the security service  to obtain permission to access a desired service. Following registration, each service consumer and service is issued a secret key, and each service consumer can use a particular secret key to sign a service request to access a corresponding particular service. Additionally, following registration, the registered services may communicate with the security service , as indicated by arrows , during runtime. For example, the services ,  and  may perform periodic synchronization with the security service  and\/or provide logging information to the security service . Further, it should be noted that the example of  is just one nonlimiting example of the numerous types of service consumer and service interactions that may be managed and secured according to the implementations disclosed herein.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 6","FIG. 6","FIGS. 3 and 4"],"b":["600","102","102","602","104","110","102","110","108","604","104","126","118","110","102","106","110","606","102","126"]},"Following the approval of the service consumer registration request  by the service provider , as described above, the security service  may send a key request  to a key administrator . In response, the key administrator  sends secret key(s) and\/or authentication information  to the service provider , and also sends a secret key and\/or authentication information  to the service consumer . Additionally, in some implementations, the service consumer  may be provided with some or all of the access policies  that apply to the particular service consumer . This can enable the service consumer  to proactively comply with the access policies , such as by throttling the rate of access requests made to the service  so as to not exceed an agreed-upon level.","Furthermore, the security service  may provide the runtime client  to the service provider , which may include access policies  to be applied when providing the service  to the service consumer . For example, the access policies  may include whitelisting rules as described above, and other authorization information and requirements to be applied when the particular service consumer  accesses the particular service . The runtime client  may periodically access the runtime library  maintained by the security service  using a periodic synchronization  to ensure that the access policies  are current. In some implementations, the periodic sync  may take place, for example, at intervals of one minute or less. For example, the periodic sync  may return updates to whitelisting rules or other access policies , may return information regarding a newly authorized service consumer, or the like.","The service consumer  may use the secret key and\/or authentication information  to sign an access request  to access the service . The service  receives the access request  and uses the secret key and\/or authentication information  to validate the access request  as being from an authorized client. For example, the runtime client  may validate the access request  and, on determining that the request is valid, may apply the access policies  for providing the service  to the service consumer . Accordingly as indicated at block , the service is provided to the requesting service consumer  in accordance with the access policies . Furthermore, the runtime client  may periodically provide log information  for storage in logs  maintained by the security service . For example, the log information  may indicate which service consumers have accessed the service , how frequently the service consumers access the service , the type and quantity of information provided to the service consumers, and the like. In some implementations, the security module  may access and monitor the logs  to determine compliance with the access policies  in the runtime library  and to attempt to detect any anomalies, security breaches, or the like.","Additionally, some implementations may include a periodic \u201cbaselining\u201d in which access permissions previously granted to service consumers expire on a periodic basis, such as annually, and the service consumers must re-verify the need to access certain information. For example, the security module  of the security service  may monitor the service registrations  to determine when the predetermined period for re-authorization is nearing expiration for each service consumer. The security module may send the service consumer  a notification to reapply for access to the service .","Furthermore, in some implementations, changes in access policies, the approval of new authorizations, and the like, may be broadcast other parties within the enterprise, as indicated at block . For example, certain entities in the enterprise may wish to monitor which service consumers have access to which services and to which portion of those services. Accordingly, these entities may subscribe to receive broadcasts of each approved change to access policies, such as changes to whitelisting rules and access authorizations.","Data Masking",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 7","b":["700","702","704","1","704","2","704","3","122","1","122","2","122","3","704","702","706","708","708","710","712","704","710","714","716","718","720","722","724","726","728","730"]},"Furthermore, suppose that when the first service consumer - applies to the security service  described above for access to the service , the access policies - (i.e., the whitelisting rules) established for the service  and the first service consumer - specify that the first service consumer - only requires the customer city  and the customer state  for carrying out its function. For example, the first service consumer - may be an application that performs a mapping function showing concentrations of customers based on city.","Additionally, suppose that when second service consumer - applies to the security service  for access to the service , the access policies - established for the second service consumer - specify that the second service consumer - only requires the customer first name , customer last name , customer street address , customer city , customer state , customer nine-digit postal code , and customer email address . For example, the second service consumer - may be an application that provides shipping information for an identified customer.","In addition, suppose that when the third service consumer - applies to the security service  for access to the service , the access policies - established for the third service consumer - specify that the third service consumer - only requires customer first name , customer last name , and the first five digits of the customer's nine-digit postal code . For example, the third service consumer - may be an application that carries out an authentication function.","According to some implementations, when each service consumer  calls the API  to obtain customer information , each service consumer  only receives a subset of the customer information , based on the access policies  established for the service  and the corresponding service consumer . For example, the first service consumer - may access the API  by the call and may include a particular customer ID  as a parameter in the call. The runtime client  at the service  receives the call to the API  from the first service consumer - and authenticates the first service consumer - as described above, such as by checking that the access call is signed using the consumer secret key previously provided to the first service consumer -. Following authentication of the access call, the runtime client  checks the access policies - that apply to the first service consumer - to determine how much of the available customer information  the first service consumer - is authorized to receive.","In response to the access call from the first service consumer -, and based on the access policies -, the service  provides a subset  of customer information  obtained from the API  to the first service consumer -. The providing of the subset  of customer information may be accomplished in several ways. For example, the runtime client  may instruct the API to return the subset  of the customer information. Alternatively, the runtime client  may obtain the customer information  on the API  and the runtime client  may extract and return the subset .","The subset  of customer information provided to the first service consumer - is a subset of the customer information , as specified by the access policies -, that includes only the customer city  and the customer state . Similarly, when the second service consumer - makes a call to the API , the service  returns a subset  of customer information that includes only the customer first name , customer last name , customer street address , customer city , customer state , customer nine-digit postal code , and customer e-mail address . Additionally, when the third service consumer - makes a call to the API , the service  returns a subset  of customer information that includes only the customer first name , customer second name , and the first five digits of the customer nine-digit postal code . Accordingly, implementations herein are able to mask data provided by an API to each service consumer  based on the actual needs of the service consumer  for particular data, as determined when the service consumer  registers to access the particular service .","Access Blocking",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 8","b":["800","802","1","802","2","804","1","804","6","102","804","806","802","802","808","810","806","804","802","232","802"]},"As discussed above, each runtime client  may execute a periodic synchronization  with the runtime library  maintained by the security service . For example, the periodic synchronizations  enable each runtime client  to obtain current access policies , including whitelisting rules, updated or new service consumer authorizations, and the like. Additionally, each runtime client  may periodically provide log information  to the security service for storage in the logs .","It may happen that a service consumer  exceeds the expected usage of a service . For example, as mentioned above, when each service consumer  applies to access a service, the service consumer may provide an estimate of the peak number of access requests that the service consumer expects to make. When a service consumer  substantially exceeds this estimated number, this can cause latency problems at the service, denial of service to other service consumers , and the like. Accordingly, implementations herein may provide an access-blocking control  for blocking access requests of a particular service consumer  to one or more APIs  and\/or service applications . For example, the runtime client - at the service - may include an access-blocking control -. Similarly, the runtime client - at the service - may include an access-blocking control -.","As an example, suppose that service consumer - begins to make a large number of access requests  to the service -. For instance, the service consumer - may be the subject of a security breach that causes the service consumer to make an abnormally high number of access requests , the service consumer - may have suffered a software glitch causing an abnormally high number of access requests , or the like. The service provider for the service - may become aware of this situation in any of several manners, such as by notification from the service application -, by notification from other monitoring software available to the service provider (not shown), or by an alert  issued by the security service  in view of the log information  received from the service -. For example, the security service  may include a monitoring and analysis component  that monitors and analyzes the logs , identifies anomalies in use, non-compliance with access policies , or the like. When an anomaly or non-compliance is detected, the monitoring and analysis component  may issue an alert to one or more of the related service providers.","In response to becoming aware that a service consumer (such as the service consumer - in this example) is exceeding an allowed quota or an expected number of access requests, the service provider for the service - may activate the access-blocking control - to block access of the particular service consumer - to the API - and\/or the service application -. Additionally, because the blocking of a particular service consumer may take place at a service or API level, when a service provider provides multiple different services, the service provider may block access of the particular service consumer to a particular service or API, while still permitting access of this particular service consumer to other services or APIs provided by the service provider.","Accordingly, implementations herein provide the provider of a service  with the ability to block an individual service consumer  at the host level, at the service application level, or at the API level, without blocking access of other service consumers  to the API - or the service application -. Consequently, rather than resulting in a denial of service to all authorized service consumers, an unexpected or abnormally high number of access requests from a particular service consumer can be curtailed without loss of service to the other service consumers. Further, in some implementations, the access-blocking control  can be automated to act to block an offending service consumer  whenever the service consumer's peak access request rate exceeds the service consumer's estimated or allotted access request rate limit by a predetermined threshold, such as by exceeding the peak request rate by a predetermined percentage, or the like.","In addition, because each service consumer  has registered with the security service , each particular service consumer  has knowledge of the access policies  that apply to that particular service consumer . For example, when the service consumer  applies for access to a particular service, the service consumer may be asked to provide an estimate of the number of access request that the service consumer expects to make to the particular service. Accordingly, should the service consumer substantially exceed the estimated number of access requests, the service provider may block the service consumer from a particular service application or a particular API. Consequently, the service consumer  can proactively take measures to throttle the number of access requests actually made to the service based upon the estimated number of access requests that service consumer provided in its application for access to the service. Furthermore, should the service consumer  anticipate in advance that it will substantially exceed the estimated number of access requests, the service consumer  may submit a new application to the security service  with an increased estimate of the anticipated peak number of access requests that will be made to the service .","Example Processes",{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIGS. 9 and 10"},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 9","b":["900","102"]},"At block , the security service  receives, from a service provider, a registration for registering a service. For example, the service provider may access the user interface  to register one or more services with the security service . For example, the registration may identify particular APIs that may be accessed by service consumers, whether the APIs provide secure or sensitive information, and so forth.","At block , the security service  provides the runtime client  to the service provider. For example, the service provider may download and install the runtime client  and any current access policies  for the particular service.","At block , the security service  receives a request for authorization to access the service from a prospective service consumer. For example, a service consumer that wishes to access a registered service may submit an application through the security service user interface . During the application process, the prospective service consumer may be required to provide information regarding how and why the service consumer will use the service, who will have access to information provided to the service consumer by the service, the service level required by the service consumer for the service, whether the service consumer requires access to secured information, and the like.","At block , the security service  receives approval from the service provider regarding the request from the service consumer to access the service. For example, the security service may notify the service provider that a request for authorization to access the service has been submitted by a service consumer and is pending. The service provider may then review the application of the service consumer for determining whether to authorize access to the service by the service consumer. In some implementations, the application of the service consumer may be forwarded directly to the service provider to facilitate review of the application. In other implementations, the service provider may access the user interface  of the security service  to review the application of the service consumer. Other variations will also be apparent in view of the disclosure herein.","At block , in response to approval of the application by the service provider to allow access to the service for the service consumer, secret keys and\/or authentication information may be provided to the service provider and the service consumer. In some implementations, the security service may provide the secret keys and\/or authentication information. In other implementations, a separate key management service may provide the secret keys and\/or authentication information upon receiving an instruction from the security service . In some implementations, the secret keys may be large random numbers, strings, or the like.","At block , the security service  provides current or updated access policies to the service provider during periodic synchronizations of the access policies. For example, the runtime client at the service provider may perform a periodic synchronization of the access policies such as at time intervals of one minute or less. In other implementations, the security service  may periodically push the updated access policies to the runtime client at the service provider, or may provide pushed updates as they occur. Consequently, as new service consumers are authorized to access the service, the access policies are propagated and updated to reflect these changes at the service provider in near real-time.","At block , the security service  receives log information from the service provider. For example, the runtime client at the service provider may maintain log information regarding each access by a service consumer to the service at the service provider. The runtime client may forward this log information to the security service  as it is accumulated, or as a batch on a periodic basis. The log information may provide details regarding which service consumer has called which API, the frequency with which the API is called by each service consumer, and the like.","At block , the security service  may monitor the log information on behalf of the service provider. For example, the security service  may monitor the logs to identify possible anomalies, service consumers that are exceeding their agreed-upon levels of access, or the like.","At block , as part of the monitoring process, the security service may provide an alert to the service provider upon detection of an anomaly, violation of access policies, or the like. For example, the alert may be provided to the service provider, and the service provider may take appropriate action in response, such as blocking access of a particular client or the like.",{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 10","b":"1000"},"At block , the service provider registers a service with the security service . For example, the service provider may register a service by accessing the user interface  provided by the security service . Furthermore, when the service provider registers with the security service, the service provider may receive the runtime client. For example, the first time that the service provider registers with the security service , the service provider may be instructed to download and install the runtime client as part of the registration process.","At block , the service provider receives an application for access to the service from a prospective service consumer. For example, as mentioned above, the service provider may receive notification of one or more pending applications for authorization to access the service from prospective service consumers. In response to receiving such a notification, the service provider may access the user interface  of the security service  to review the application and determine whether to approve or deny the application.","At block , the service provider may authorize access to the service for the prospective service consumer. For example, if the application meets with the requirements of the service provider, the service provider may authorize access to the service for the service consumer. On the other hand, should the application not meet with the requirements of the service provider the service provider may inform the service consumer of deficiencies in the application and\/or additional requirements of the service provider.","At block , the service provider receives a secret key and\/or authentication information related to the service consumer. The service provider may maintain a plurality of secret keys and\/or authentication information pertaining to a plurality of corresponding authorized service consumers.","At block , the access policies of the service provider are periodically synchronized with the security service. For example, in some implementations, the runtime client may perform a periodic synchronization with the security service to obtain any updates to the access policies. Alternatively, in some implementations, the security service may push any updates to the access policies to the service provider. In either event, the access policies may be updated in near real-time, such as in one-minute intervals or less.","At block , the service provider receives an access request from the service consumer for accessing the service. For example, following acceptance by the service provider of the application of service consumer for access the service, the service consumer may begin to access the service. In some implementations, the service consumer may access the service by making calls to one or more APIs provided by the service.","At block , in response to receiving the access request from the service consumer, the runtime client may check the authenticity of the access request. For example, the service consumer, when submitting the access request, may sign the request with a secret key or other authentication information. Accordingly, the runtime client may use the service provider's secret key to check the signature of the access request for authenticity.","At block , the service may respond to the access request in accordance with current access policies. Following authentication approval, the runtime client may determine the access policies that apply to the particular service consumer that has submitted the access request. The runtime client may then ensure that the response to the access request is in accordance with the access policies. For example, certain portions of the information provided in response to the access request may be masked or otherwise not provided to the particular service consumer when the access policies dictate that the particular service consumer should not receive those certain portions of information. Accordingly, the response provided to the service consumer may include only a subset of a quantity of information available from the API.","At block , the runtime client provides log information to the security service. For example, the runtime client may accumulate and maintain log information regarding each access request received from each service consumer, information provided in response to each access requests, latency times corresponding to each access request, and the like. The runtime client may provide the log information to the security service as a batch on a periodic basis, or may provide the log information as it is accumulated.","The example processes described herein are only examples of processes provided for discussion purposes. Numerous other variations will be apparent to those of skill in the art in light of the disclosure herein. Further, while the disclosure herein sets forth several examples of a suitable frameworks, architectures and environments, implementations herein are not limited to the particular examples shown and discussed.","Example Computing Devices",{"@attributes":{"id":"p-0087","num":"0086"},"figref":"FIG. 11","b":["1100","102","102","102","102","102"]},"In the illustrated example, the security service computing device  includes one or more processors , a memory , and one or more communication interfaces . The memory  may include volatile and nonvolatile memory and\/or removable and non-removable media implemented in any type of technology for storage of information, such as computer-readable instructions, data structures, program modules or other data. Such memory includes, but is not limited to, RAM, ROM, EEPROM, flash memory or other memory technology, CD-ROM, digital versatile disks (DVD) or other optical storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, RAID storage systems, storage arrays, or any other medium which can be used to store the desired information and which can be accessed by a computing device. Depending on the configuration of the computing device , the memory  may be a type of computer readable storage media and may be a non-transitory storage media.","The memory  may be used to store any number of functional components that are executable by the processors . In many implementations, these functional components comprise instructions or programs that are executable by the processors  and that, when executed, implement operational logic for performing the actions attributed above to the security service . Functional components stored in the memory  may include the security module  as described above, which may be executed on the processors  for implementing the various functions and features of the security service  described herein. In some implementations, the security module  may include a security management component  to carry out functions of the security service  and manage interoperation of the other components of the security module . Other components included in the security module may include the user interface  described above, as well as the monitoring and analysis component  for monitoring and analyzing the logs , generating alerts, and the like. Additional functional components stored in the memory  may include an operating system  for controlling and managing various functions of the security service computing device . The memory  may also store the service registrations , the runtime library , including access policies , and the logs . The computing device  may also include many other logical, programmatic and physical components, of which those described above are merely examples that are related to the discussion herein.","The communication interface(s)  may include one or more interfaces and hardware components for enabling communication with various other devices, such as service provider computing devices, service consumer computing devices, and\/or user devices over communication links -. For example, communication interface(s)  may facilitate communication through one or more of the Internet, cable networks, cellular networks, wireless networks (e.g., Wi-Fi, cellular) and wired networks. Various different approaches to implementations described herein can be implemented in various environments. For example, the communication links - may include any appropriate network, including an intranet, the Internet, a cellular network, a LAN, WAN, VPN or any other such network or combination thereof. Components used for such a system can depend at least in part upon the type of network and\/or environment selected. Protocols and components for communicating via such networks are well known and will not be discussed herein in detail.","Security service computing device  may further be equipped with various input\/output devices . Such devices may include a display, various user interface controls (e.g., buttons, joystick, keyboard, touch screen, etc.), audio speakers, connection ports and so forth.",{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIG. 12","b":["1200","1200","1202","1204","1206","1202","1204","1102","1104"]},"The memory  may be used to store any number of functional components that are executable on the processors . In many implementations, these functional components comprise instructions or programs that are executable by the processors  and that implement operational logic for performing the actions attributed above to the service providers. In addition, the memory  may store various types of data that are referenced by the executable components.","The memory  may store one or more service application(s)  and one or more APIs , which may be executed on the processors  to provide one or more services, as discussed above. The memory  may also store the runtime client , including the access-blocking control , access policies , and private keys and\/or authentication information , as described above. Memory  may also store an operating system  that may manage and coordinate the various functions of the service provider computing device .","The communication interface(s)  may include one or more interfaces and hardware components for enabling communication with various other devices, such as service provider computing devices, service consumer computing devices, and\/or user devices over communication links -. For example, communication interface(s)  may facilitate communication through one or more of the Internet, cable networks, cellular networks, wireless networks (e.g., Wi-Fi, cellular) and wired networks.","The service provider computing device  may further be equipped with various input\/output devices . Such devices may include a display and various user interface controls (e.g., buttons, joystick, keyboard, touch screen, etc.), audio speakers, connection ports and so forth.","Furthermore, this disclosure provides various example implementations, as described and as illustrated in the drawings. However, this disclosure is not limited to the implementations described and illustrated herein, but can extend to other implementations, as would be known or as would become known to those skilled in the art. Reference in the specification to \u201cone implementation,\u201d \u201cthis implementation,\u201d \u201cthese implementations\u201d or \u201csome implementations\u201d means that a particular feature, structure, or characteristic described is included in at least one implementation, and the appearances of these phrases in various places in the specification are not necessarily all referring to the same implementation.","Although the subject matter has been described in language specific to structural features and\/or methodological acts, it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described. Rather, the specific features and acts are disclosed as example forms of implementing the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The detailed description is set forth with reference to the accompanying figures. In the figures, the left-most digit(s) of a reference number identifies the figure in which the reference number first appears. The use of the same reference numbers in different figures indicates similar or identical items or features.",{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 12"}]},"DETDESC":[{},{}]}
