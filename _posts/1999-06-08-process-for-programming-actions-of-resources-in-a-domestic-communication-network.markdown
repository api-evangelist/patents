---
title: Process for programming actions of resources in a domestic communication network
abstract: A process for programming actions of resources in a network of domestic devices to enable a user to program an action to be performed by one of the devices from another device. The process includes sending a request for programming an action, the request including a set of parameters defining the action, a time indication, and a list of resources involved in the action. An actions manager verifies the availability of the resources at the time the action is to be carried out, and a message of acceptance or refusal of the programming action is sent out in response to the verification.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08385718&OS=08385718&RS=08385718
owner: Thomson Licensing
number: 08385718
owner_city: Boulogne Billancourt
owner_country: FR
publication_date: 19990608
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"p":["This application claims the benefit under 35 U.S.C. \u00a7365 of International Application PCT\/FR99\/01357, filed Jun. 8, 1999, which was published under PCT Article 21(2) on Dec. 16, 1999, and which claims the benefit of French Application FR 98\/07187 filed Jun. 8, 1998.","The invention relates to a process for programming actions of resources, that is to say of facilities of devices, in a domestic communication network, in particular a network which includes an IEEE 1394-1995 serial bus.","In a domestic communication network to which audio\/video devices or \u201cnodes\u201d are linked, a user ought to have the possibility of programming an action to be performed by one of the devices from any device possessing a display. By way of example, it ought to be possible to programme the recording of a transmission by any recording device, for example a video recorder, from any television set or other display means linked to the network.","The invention relates to a process for programming actions of resources in a network of domestic devices, characterized in that it includes the steps of:","sending a request for programming an action by a client application to a manager of preprogrammed actions of a device of the network, the said programming request including a set of parameters defining the action and a list of resources involved in accomplishing the action,","verification by the said actions manager of the availability of the resources involved in accomplishing the action,","transmission to the client application of a message of acceptance or of refusal of the action on the part of the preprogrammed actions manager depending on the result of the said verification.","According to a particular embodiment, the client application selects a preprogrammed action manager situated in a device other than the client application itself.","According to a particular embodiment, the process includes the step of storage by each resource involved of its agenda with respect to the action.","According to a particular embodiment, the verification step comprises a request of the preprogrammed actions manager from each resource involved aimed at ascertaining the availability of the resources involved by way of their respective agendas.","According to a particular embodiment, at the start time of the action, the preprogrammed actions manager performs the following tasks:","reservation of the resources involved;","establishment of the requested connections between the resources involved;\n\n","The present description relates to a domestic network based on a serial bus conforming to IEEE 1394-1995, as well as on the architecture referred to as the \u2018HAVi\u2019 architecture, defined in the document \u2018The HAVi Architecture\u2014Specification of the Home Audio\/Video interoperability Architecture\u2019 dated 11 May 1998, version 0.8, published on 15 May 1998 on the Internet sites of the Sony, Hitachi, Toshiba, Philips and Sharp companies. A new version of the HAVi document (version 1.0beta+) has been published between the priority date and the date of filing of the present patent application.","Two patent applications filed in the same name as the present application deal in greater detail with certain aspects of the architecture of the network.","These are French Patent Application No. 9805110 of 23 Apr. 1998 entitled \u2018Proc\u00e9d\u00e9 de gestion d\u2032objets dans un r\u00e9seau de communication et dispositif de mise en \u0153uvre\u2019 [Process for managing objects in a communication network and device for implementing same], as well as a French patent application filed on the same day as the priority application of the present application and entitled \u2018Proc\u00e9d\u00e9 de gestion de priorit\u00e9s d'acc\u00e8s \u00e0 des ressources dans un r\u00e9seau domestique et appareil de mise en \u0153uvre\u2019 [Process for managing priorities of access to resources in a domestic network and device for implementing same]. The latter patent application bears the number FR 9807186. The first patent application relates to the implementation of registries of objects or of resources in the devices connected to the network, this registry maintaining an up-to-date list of resources or software modules available at local level in a device, whilst the second patent application concerns a resource manager which manages the resource reservation for resources available locally and participates in resolving conflicts of access to\u2014or of reservation of\u2014these resources.","To execute an action, such as recording of a transmission, an application may require access to public resources. The expression public resources is understood within the present context to mean facilities of devices other than the device in which the application is being executed, but which are potentially accessible by this application. The resources which are locally accessible by the application, and also the bandwidth, also form part of the public resources. An application can itself be a resource. The registries mentioned above maintain an up-to-date list of the public resources available, and an application can determine which these resources are by despatching a request at the level of its local registry, which can propagate this request to the other registries.","The designation \u2018software module\u2019 (to use the terminology of the HAVi document) denotes applications, resources and services of a device.","Two exemplary embodiments will be given. According to the first exemplary embodiment, certain functions relating to the implementation of preprogrammed actions are performed by what will be referred to as a \u2018main resource\u2019 in what follows, whilst, according to the second exemplary embodiment, these functions are catered for by an object independent of the resources involved in a preprogrammed action, namely the preprogrammed actions manager (\u2018PAM\u2019).","The implementation of a preprogrammed action according to the first exemplary embodiment involves:\n\n","Within the framework of a recording request, the target is for example the recording facility of a digital recording device (digital video recorder, DVD, etc) whilst a resource involved is a tuner. Other resources may be required: for example a transcoder, required to translate the format of the data into the format of the recording device, an access control service for authorizing access to secure programmes, etc.","Account will be taken of the requirement for the process for implementing the preprogrammed action to operate normally even if the display device by way of which the action was programmed has been rendered inactive (for example, the user has turned off the television set which served him in respect of the programming of a video recorder). It is assumed that this device does not comprise any resources involved (the main resource forming part of the resources involved).","The target does or does not accept the action requested by the application. When programming this action, the target must identify the resources required for the accomplishment of the action and reserve them for the requisite period of time. When the action is actually executed, the target and the resources involved must synchronize themselves. The consequence of this is that information relating to the preprogrammed action has to be stored in the network. According to the first exemplary embodiment, it is the target which stores this information and executes the action, whilst, according to a second embodiment, it is another module which will be responsible for these functions. A preprogrammed action can be defined by a certain number of items of information, collected in a particular data structure filled in by the application programming the action and stored by the target resource.","The type of action\n\n","The type of the action depends on the nature of the target. By way of example the action can be \u2018RECORD\u2019 or \u2018READ\u2019 for a resource having a mass memory facility, or \u2018SELECT_SERVICE\u2019 for a digital television demultiplexer.","The parameters, which depend on the action to be performed, serve to define the action in a more specific manner at the level of each resource. A parameter can be an event or a service within the meaning of the DVB digital video broadcast standard. In this case, the parameters will comprise an identifier of the type of parameter, followed by the value of the parameter.","Certain devices of the network may not include processing means for providing a service of this level. For example, a recording device may not accept parameters after a \u2018RECORD\u2019 command, since it is not itself able to control a tuner, whilst a more complex device, having this possibility, will be able to accept a command of the type \u2018RECORD service X\u2019.","The date, the start and end times and the periodicity of the action are conventional information.","The identifier of the target resource is required so that an application can modify an already-programmed action. This field is not required if the target stores the preprogrammed action directly (i.e. if this resource is itself the main resource of a programmed action).","If for example an application wishes to ascertain which programmed action is associated with a given resource, it will ask this resource for the identifiers of each of the programmed actions in which this resource is involved. The application will then be able to consult the data structure of the programmed action which it has chosen, then will be able to modify it (this application may for example be that of a user interface, possibly controlled by a user other than the one who programmed the action which will be modified).","The identifiers of the resources involved are used, according to the first exemplary embodiment, by the target. The list allows the target to request information relating to the resources involved, for example by way of the registries, or by transmitting messages to them directly.","The user data include for example in plain text the motive for the action, this possibly being important in the case of conflict with an action programmed earlier. In this case, when the conflict must be resolved by a user, typically the one programming the most recent action, these data may afford him indications as to the importance of the action.","The resources involved contacted by the target resource will themselves also have to store some of the content of the above data structure: the information relating to the time and, possibly, the type of action, the parameters and the user data.","The first exemplary embodiment is illustrated by . The network part represented by this figure comprises five devices. Device  is a television set, located in a kitchen and comprising an application  (for example a user interface allowing the programming of all the devices of the network). Device  is also a television set, this time situated in the bedroom and furnished with an application , similar to the application . The device  is a digital satellite television decoder comprising a tuner resource  and a resource manager , whilst the device  is a DVD-type digital recording device, in this regard comprising the recording resource  and a resource manager . Finally, the device  is for example another decoder, which possesses a facility for transcoding the audio\/video data coded according to a first format (that of the decoder ) into a second format (that of the recording device ). The device  consequently possesses a transcoding resource  and a resource manager . The various devices, which can comprise software modules other than those illustrated, are linked by a serial bus , for example an IEEE 1394-1995 bus.","According to the first exemplary embodiment, the target resource, in the present case the recording function of the device , itself incorporates an application capable of managing the recording action.","It is assumed that a user wishes to record a transmission on a service X, at 20.30, on 12 Dec. 1999, for a duration of two hours. Although, in the example of , a single resource of tuner type and a single resource of transcoding type exist in the network, the user could, in a network where several resources of the same type coexist, choose from among several resources of the same type of the network that which he prefers to participate in the execution of the action.","When the target resource  receives the programmed action from the application , it performs an auto-reservation with the local resource manager , by proceeding in the manner described in the second patent application mentioned at the start of this description. Moreover, it performs the reservation of the resources involved (tuner , transcoder ) with the remote resource managers (managers ,  respectively). Each resource manager stores the data relating to the reservation of the resources associated therewith (that is to say of the resources having the same execution platform as this resource manager).","Once the reservations have been made, the target transmits a confirmation message to the application  from which the action originated.","In the case of a conflict of reservation, for example in case of override or negotiation for a resource already reserved for an action given by an application programming another action, the resource manager advises the target which programmed the first action by an appropriate message. In fact, for this purpose, each resource manager stores the identifier or the address of the software module which has made a reservation.","At this juncture, should the device  be unplugged, the preprogrammed action will nevertheless be executed, since all the information relating to the action is stored at the level of the target.","A user can modify or delete the preprogrammed action from another application, such as the application . If the application  wants to access all the programmed actions concerning a given resource (which is found by way of the local registry of the application), the resource contacted by the application can give the identifiers of the main resources of each of the programmed actions in which it is involved. The entire data structure describing the programmed action can thereafter be retrieved by contacting each main resource directly.","When the action starts, the target links the various resources by virtue of the local software module referred to as the connection manager (or \u2018SM\u2019 standing for \u2018Stream Manager\u2019 according to the terminology of the HAVi document).","A resource can be designated under the terms function component manager (\u2018FCM\u2019 according to the HAVi terminology). The architecture can then be represented by the diagram of , where an application transmits an action programming to the application programming interface forming part of the target.","More generally, resources other than FCMs exist within the HAVi framework. For example, another type of resource exists, referred to as the \u2018DCM\u2019 standing for \u2018Device Control Manager\u2019 or alternatively device control manager. Whereas an FCM is the software representation of a function of a device, a DCM is the software representation of a device and can incorporate several FCMs in this regard. A DCM is then an intermediary between a main application making a reservation and one or more FCMs contained in the DCM.","The second exemplary embodiment is illustrated by . It is assumed here that resources do not incorporate applications capable of managing the preprogrammed actions as in the first exemplary embodiment. One will speak in this case of \u2018passive resources\u2019. The latter may however store some of these data (for example the timetables for the actions which they must perform and possibly parameters and user data), as indicated in the first exemplary embodiment.","The client application  initiating the programming of the action is as in the first example an interface localized within a television set . The recording device  includes the digital recording resource , another resource , and a resource manager . The device  is identical to that of .","According to the present exemplary embodiment, the device  also includes a preprogrammed actions manager  (\u2018PAM\u2019). This actions manager  is a service within the meaning of the HAVi document and makes all the reservations required for the accomplishment of the action. There is only one functional difference between the preprogrammed actions manager and the resource manager. Whereas the preprogrammed actions manager manages the preprogrammed actions, the resource manager manages the reservations corresponding to the actions and any conflicts which may ensue. These two functions can be incoporated into one and the same software object, as indicated in . The separate representation of the PAM and of the RM is used simply for the sake of consistency with the first exemplary embodiment, where these functions were implemented by distinct objects.","The actions manager  manages the passive resources of the device , and also of the device . The implementation of a preprogrammed action according to the second exemplary embodiment involves:\n\n","Within the framework of a recording request, the resources involved are for example:\n\n","Other resources may be required: for example a transcoder, required to translate the format of the data into the format of the recording device, an access control service for authorizing access to secure programmes, etc.","Account will be taken of the requirement for the process for implementing the preprogrammed action to operate normally even if the display device by way of which the action was programmed has been rendered inactive (for example, the user has turned off the television set which served him in respect of the programming of a video recorder). Consequently, this device preferably does not include the resources involved.","The preprogrammed actions manager does or does not accept the action requested by the client application. The latter has previously identified the resources required for the accomplishment of the action, the commands to be performed at the start time of the action and the connections required between the various resources which need to be established before the start time of the action.","The PAM stores all these data of the action, and returns an identifier of the action to the client application. Moreover, each resource involved stores its own agenda as to the actions to be performed. This agenda includes in particular the timetables of the reservations, but not the commands and connections related to the actions. This would necessitate too much memory room. By virtue of this agenda, each resource can inform other PAMs instigating actions of its availability or unavailability for these actions.","Before accepting or rejecting a request for action, the PAM interrogates each resource so as to ascertain whether it is available between the start and end times of the action. At the start time of the action, if all the resources are present, the PAM reserves the resources (here, this entails reservation proper, as compared with simple agenda indications programmed previously), establishes the necessary connections and instigates the commands. The establishing of the connections is requested of the local software module referred to as the connections manager (or \u2018SM\u2019 or \u2018Stream Manager\u2019 according to the terminology of the HAVi document).","If one of the resources involved in a preprogrammed action disappears before the start time of the action, the latter is suspended until the resource is again available on the network. If the missing resource reappears, even after the start time of the preprogrammed action, the action is nevertheless executed, although shifted in time.","A preprogrammed action can be defined by a number of information items, collected in a particular data structure filled in by the application programming the action and stored according to the second exemplary embodiment by the preprogrammed actions manager.\n\n","The various elements have a similar meaning to what was described in conjunction with the first exemplary embodiment.","If an application wants to ascertain which preprogrammed action is associated with a given resource, it can consult all the programmed actions which are recorded in a PAM. It could also request from the resource the identifiers of each of the preprogrammed actions in which this resource is involved. It can therefore retrieve the identifier of the PAM which maintains the data of a given preprogrammed action.","An application also has the possibility of cancelling a preprogrammed action, or of modifying such an action, at the PAM in charge of this action.","The identifiers of the resources involved are used according to the second exemplary embodiment by the PAM. The list enables the PAM to request information relating to the resources involved, for example by way of the registries, or by transmitting messages directly to them.","The PAM distributes the preprogrammed action to the device control managers (DCM\u2014see hereinbelow) of the resources involved, with all the parameters required for each resource. Each resource (or their DCM) must determine whether the connections requested and the commands envisaged will be able to be performed at the time envisaged.","If the resources are capable of honouring the request, they advise the PAM of this, the latter returning an identifier of the action to the client application to signal to it that the action has been taken on board.","If the resources are not capable of honouring the request, or if one of the requested resources is not present on the network, or else if the overriding of a resource involved and already reserved within the framework of another action has not been possible, the PAM refuses the preprogrammed action, transmitting an appropriate message to the client application.","In case of conflict of reservation, for example in case of override or negotiation of an unavailable resource, the PAM advises the client application which programmed the action by an appropriate message. In fact, for this purpose each PAM stores the identifier or the address of the application which has made a reservation.","A resource can be designated under the terms function component manager (\u2018FCM\u2019 according to the HAVi terminology). The architecture can then be represented by the diagram of , where an application transmits an action programming to the application programming interface forming part of the target.","More generally, resources other than FCMs exist within the HAVi framework. Another type of resource likewise exists, referred to as the \u2018DCM\u2019 standing for \u2018Device Control Manager\u2019 or alternatively device control manager. Whereas an FCM is the software representation of a function of a device, a DCM is the software representation of a device and can incorporate several FCMs in this regard. A DCM is then an intermediary between a main application making a reservation and one or more FCMs contained in the DCM.",{"@attributes":{"id":"p-0073","num":"0097"},"figref":"FIG. 4"}],"heading":["BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION","Example 1","Example 2"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Other characteristics and advantages of the invention will become apparent through the description of two nonlimiting exemplary embodiments illustrated by the appended figures in which:",{"@attributes":{"id":"p-0016","num":"0016"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0017"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0018"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0019"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
