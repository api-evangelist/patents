---
title: Service for automatically detecting and responding to transition events that occur during browsing of an electronic catalog
abstract: An electronic catalog system includes automated processes for detecting and handling specific types of browsing events, such as non-conversion events in which users browse but fail to purchase specific items. In one embodiment, when a user engages in a threshold level of browsing activity with respect to an item without making a purchase of that item or a substitute item, and a favorable change in the item's state thereafter occurs (e.g., the price is reduced or the item becomes available), the user is automatically notified of the state change. In another embodiment, when a user transitions away from an item or item category after engaging in a threshold level of browsing activity, a determination is made whether to present to the user a time-limited purchase incentive that is tied to that item or item category.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07933818&OS=07933818&RS=07933818
owner: Amazon Technologies, Inc.
number: 07933818
owner_city: Reno
owner_country: US
publication_date: 20040713
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF SPECIFIC EMBODIMENTS","I. Introduction","II. State-Change Notification Service (FIGS. -)","II. Selective Transaction Incentive Service (FIGS. -)"],"p":["1. Field of the Invention","The present invention relates to data processing methods for automatically monitoring and analyzing the actions of users of a web-based or other electronic catalog, and for providing associated notifications and content to such users.","2. Description of the Related Art","Various types of computer-implemented services exist for assisting users in locating and purchasing items from an electronic catalog. For example, some retail sales web sites provide notification services through which users can subscribe to be notified by email when an out-of-stock item becomes available. In addition, some auction sites provide a service for notifying auction participants by email when they have been outbid. While these types of notification services are helpful, they generally benefit only those who have expressly requested to be notified about, or have bid on, the relevant item.","Some web sites also provide limited-time discount offers to users. For example, Amazon.com's Gold Box feature allows a user to view a series of catalog items that are available at designated discount prices if purchased within sixty minutes of viewing each item. Once a user has viewed all items in the series, the user must wait a certain time period, such as one day, before viewing the next series of discount offers. The discount offers presented via the Gold Box feature are tailored to offer the user products in categories in which the user has not yet purchased.","Some web sites also provide services for assisting users in identifying catalog items that are related to the items they have viewed or purchased. For example, it is known in the art to monitor and analyze the browsing actions of a population of users to identify catalog items that are related by virtue of the relatively high frequencies with which they are viewed, purchased, or otherwise selected in combination. The item relationships detected through such analyses may be displayed to assist users in identifying items of interest, and may also be used to provide personalized item recommendations to users.","One embodiment of the invention is a computer-implemented service that detects browsing transition events in which a user discontinues browsing of an item, and\/or item category, in which the user is predicted to have at least a threshold level of interest. For example, a transition may be detected in which a user has extensively browsed one or more items in a first item category (without selecting an item to purchase), and is now beginning to browse a second item category that does not share any common items with the first category. In response to detecting the transition, a programmatic decision is made whether to present to the user a time-limited purchase incentive offer that corresponds to the item or item category the user has discontinued browsing. This decision may be made so as to inhibit predictability from the perspective of users, so that users cannot easily \u201cgame\u201d the system to obtain purchase incentives for items they plan to purchase. The purchase incentives are communicated to users during the current browsing sessions in which the corresponding browsing transitions occur, but may alternatively be communicated during a subsequent browsing session.","Additional embodiments and aspects of the invention are described below.","Two specific embodiments of the invention will now be described with reference to the drawings. These embodiments are intended to illustrate, and not limit, the present invention. The scope of the invention is defined by the claims.","The first embodiment, which is depicted in , is a computer-implemented service that analyzes user activity data reflective of catalog browsing actions to detect non-conversion events. Upon detecting a non-conversion event, information about the event is recorded, including an identifier of the user, an identifier of the associated item browsed by the user, and the time of the event. Information about the state of the browsed item as presented to the user is also recorded, such as the item's price and availability, the number of customer reviews displayed on the item's detail page, and\/or any other variable item attribute data that may have influenced the user's decision not to purchase the item. If the item's state thereafter changes such that the item becomes more attractive to the non-converted user (e.g., the price is reduced or a customer review becomes available), the user is automatically notified of the state change. This first service is referred to herein as a \u201cstate-change notification service.\u201d","The second embodiment, which is shown in , is a computer-implemented service that monitors user browsing activities in real time to detect \u201ctransition events\u201d in which a user has engaged in a threshold level of browsing activity with respect to a particular item or item category, and is now transitioning away from that item or item category. For example, a transition event may be detected in which a user has viewed a number of MP3 players, and\/or has selected a number of links associated with a particular MP3 player, and is now requesting a web page unrelated to MP3 players. Upon detecting the browsing transition, a programmatic decision is made whether to provide to the user a time-limited purchase incentive that is tied to the item or item category the user has discontinued browsing. This decision may be made so as to avoid the consistent or predictable presentation of the purchase incentives, so that users cannot easily \u201cgame\u201d the system. This second service is referred to as a \u201cselective transaction incentive service.\u201d","For purposes of illustration, these two services will be described separately. As will be apparent, however, the two services may be implemented in combination within a given system.",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1","b":["30","32","34"]},"The web server  accesses a database  of information about items that are available for purchase via an electronic catalog that forms part of a web site. The web server  may retrieve item data from the database  directly, or alternatively, may retrieve such data from a service  or other component that accesses the database . The items represented within the database  may include physical products such as books, DVDs, and consumer electronics products, and\/or may include downloadable items such as software products, music files and video files. Although depicted as a single database  for purposes of illustration, the item information may be distributed across multiple distinct databases. The system  may support retail sales of items, user-to-user or \u201cmarketplace\u201d sales of items, or both.","Various types of attribute data may be stored in the database  for each item in the catalog, such as, for example, the item's price and availability, a graphic and textual description of the item, an editorial review of the item, one or more customer reviews of the item, and\/or pending marketplace sales listings for the item. When a user browses a particular item in the electronic catalog, some or all of the currently stored attribute data for the item is presented to the user. The change in an attribute associated with a given item, such as the item's availability, is referred to generally as a change in the item's state.","Some or all of the items in the database  are arranged within a hierarchy of item categories. Each item is represented within the catalog by a corresponding item detail page that may be located, for example, by conducting a keyword search or navigating a categorical browse tree. In addition to displaying the various types of item attribute information mentioned above, an item's detail page may include links for purchasing the item (e.g., purchasing a physical unit of the item), viewing similar or related items, submitting a textual review\/rating of the item, and performing other types of actions.","The system  also includes one or more update services  (collectively referred to as \u201cthe update service \u201d), a state-change notification service , and various other services  such as a catalog service, a search service, a customer reviews service, and a payment service. Each service - may, for example, be implemented as a web service that may be accessed by other services of the system .","As further illustrated in , updates to the electronic catalog are made by the update service . The updates may include, for example changes to item prices and availability statuses, additions and deletions of item reviews and marketplace listings, and changes to other types of item attributes that may be displayed in the catalog. In addition, new items may be added to the catalog via the update service . When an update is made to the catalog in the illustrated embodiment, an update message is broadcast on a local network, allowing the other services of the system  to monitor various types of state changes. One such service is the state-change notification service , as described below.","The web server  responds to page requests generally by sending service requests to specific services , and by incorporating data returned by these services into web page templates  associated with such page requests. For example, when a user\/browser requests an item detail page for a particular product, the web server  may retrieve an associated product description from a catalog service , and may retrieve customer reviews of the product from a customer reviews service . These and other types of service data may be incorporated into a detail page template to generate the requested product detail page.","As further depicted in , data descriptive of the browsing activities of each recognized user of the web site is collected over time in a repository  of user activity data. The user activity data may be stored in any of a variety of repository types, such as a server log file or \u201cweb log,\u201d a database of event data mined from a web log, a history server that stores event data in real time in association with corresponding users, or a combination thereof. One example of a history server architecture that may be used to store user activity data is disclosed in U.S. patent application Ser. No. 10\/612,395, filed Jul. 2, 2003, the disclosure of which is hereby incorporated by reference. The data recorded for a given browsing event may, for example, include an identifier of the user, an identifier of the page viewed, a description of the dynamic content presented on the page, and a timestamp that indicates the date and time of the event. Some types of activity data, such as user purchase histories, may be stored separately from other types of activity data.","An analysis component  analyses the user activity data to detect non-conversion events in which users view, but fail to purchase, specific items. In one embodiment, a user's failure to purchase a viewed item is treated as a non-conversion event only if the user engaged in a threshold level of activity with respect to the particular item during the relevant browsing session, such as by doing one or more of the following: (a) accessing the item's detail pages multiple times during a selected time interval; (b) selecting one or more sub-links on the item's detail page, (c) viewing the detail page for more than a threshold period of time, such as two minutes, or (d) removing the item from a shopping cart. In one embodiment, mere item viewing events, without more, are not treated as non-conversion events.","The analysis component  may analyze sets of user activity data in an off-line or batch processing mode. For example, in one embodiment, the analysis component  is executed once per day, at which time it analyses the user activity data collected over the preceding twenty-four hours. As will be apparent, the task of analyzing user browsing actions may alternatively be performed in-whole or in-part in real time.","As depicted in , each detected non-conversion event is recorded in a non-conversion events database . The data recorded for each non-conversion event includes an identifier of the user, an identifier of the item, state information descriptive of the item's state at the time of the non-conversion event, and an event timestamp. The item state data may, for example, include any one or more of the following: the item's price, the item's availability, the item's sales rank, an indication of whether any customer and editorial reviews existed for the item, the average customer rating of the item, an indication of whether the item was available for local pick-up, and information about any marketplace listings for the item. Any of a variety of other item state information that may have influenced the user's decision not to purchase the item may also be recorded. Rather than recording the item state information in association with specific non-conversion events, a time-stamped history of the state of each item may be maintained, such that state of an item at the time of a non-conversion event may later be determined.","Table 1 illustrates, in pseudocode, one example of the general process that may be used by the analysis component  to detect and record non-conversion events. In this example, a set of user activity data collected over a particular time interval, such as one day, is analyzed on a session-by-session basis to detect non-conversion events. In addition, the item state information is recorded in association with specific non-conversion events.",{"@attributes":{"id":"p-0033","num":"0032"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Example algorithm for detecting non-conversion events"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"For each browsing session represented within set of activity data;"]},{"entry":[{},"\u2003For each item viewed during the browsing session;"]},{"entry":[{},"\u2003\u2003If user performed threshold level of activity without making "]},{"entry":[{},"\u2003\u2003a purchase, create non-conversion event record with user ID, "]},{"entry":[{},"\u2003\u2003item ID, item state, and timestamp."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"The state-change notification service  uses the event data stored in the non-conversion events database  to generate personalized notifications to users. Specifically, upon detecting a favorable change in the state of an item (i.e., a change that generally makes the item more attractive or desirable as a purchase candidate), the service  identifies users that recently considered but did not purchase the item, and generates notification messages to notify such users of the state change.","In some embodiments, the service  may also notify users of state changes that are not necessarily favorable. For example, if the inventory level of the previously-viewed item falls below some threshold level, such as three units, the user may be notified of the number of units left. Further, in addition to notifying the user of changes to the state of the previously-viewed item itself, the service  may notify the user of state changes to closely related items, such as items that are replacements or substitutes for the previously viewed item. For example, if a user views the detail page of a consumer electronics item while the item is out of stock, and a new model that replaces that item thereafter becomes available, the user may be notified of the availability of the new model.","As depicted in , the notifications may be displayed on a personalized web page, which may be the home page of the web site. In this example, three notification messages  are displayed, each of which corresponds to a particular product that was recently viewed but not purchased by the user. The notifications also indicate the state changes that have occurred, and provide links to the associated product detail pages. In one embodiment, when the user follows such a link to access a product's detail page, the user is presented with a special version of the detail page that highlights the changes made to the page since the prior viewing event. For example, if an editorial review has been added since the non-conversion event, the detail page may display the editorial review in highlighted text.","Web pages of the type shown in  may be generated using a web page template  that causes the web server  to query the state-change notification service  for any new notifications  for the associated user. Although the notifications  are displayed within customized web pages in this example, the notifications may additionally or alternatively be communicated to users by other methods. For example, in one embodiment, if the user does not access the web site within a selected time interval (e.g., 5 days) after a state change occurs, the associated notification  is sent to the user by email. The state change notifications may additionally or alternatively be presented on the detail pages of the items to which such notifications pertain; for instance, if a user requests the detail page of an item whose state has changed since the user last viewed that item, the detail page may be personalized with a notification of the state change.","In addition to the types of state changes depicted in , users may be notified of some or all of the following types of attribute changes: (a) improvement's in an item's sales rank, (b) increases in the average customer rating of an item, (c) the availability of new accessories for the item, (d) the creation of a marketplace listing for a used unit of the item, (e) the release of an upgraded version or model of the item, (f) the availability of the item for local pickup at a physical store.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 3","b":["46","62"]},"In block , all non-conversion events generated for this item within the last N days (e.g., 30 days) are identified in the non-conversion event database . In block , non-conversion events of users who have since purchased this item or a substitute item are filtered out. Two items may be treated as substitutes if, for example, (a) they are members of the same bottom-level item category of the browse tree, or (b) users who view the detail page of one item commonly view the detail page of the other item during the same browsing session, as determined by analyzing browsing session records of users. One example of an automated process that may be used to detect items that are likely substitutes is disclosed in U.S. Patent Pub. No. US 2002\/0019763 A1, published Feb. 14, 2002 (see  and associated description).","In block , personalized state-change notification messages  are generated for each of the remaining users. As shown in , each such message  may be personalized by including an indication of when the user previously viewed the associated item, and\/or by indicating the amount by which the relevant item attribute has changed since such viewing (note that this amount may be different for different users). The notification messages  generated for a given user over a period of time may be aggregated in storage until the user returns to the web site or the messages expire. In block , the non-conversion events for which notifications have been generated are deleted from the database .","As illustrated by the foregoing, an important benefit of this embodiment is that users are notified of favorable state changes automatically, without having to subscribe to be notified in connection with specific items. In addition, the notification messages  in this embodiment are presented unobtrusively, and only for those items for which the user has engaged in a threshold level of affinity-evidencing activity without completing a corresponding purchase.","As will be apparent to those skilled in the art, the various functional components shown in , and the process shown in , may be implemented within software executed by one or more general purpose computers.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 4","FIG. 1"],"b":["30","30","32","36","38","48","30","80"]},"In the illustrated embodiment, the real-time clickstream analysis component  includes a score generation component  that generates a set of affinity scores for each ongoing browsing session. Each affinity score corresponds to a particular item or item category accessed by a corresponding user during a current browsing session, and represents a degree to which the user has shown an affinity for that item or item category during the session. The scores may also reflect actions performed during prior browsing sessions. The system \u2032 may generate affinity scores for items only, for item categories only, or both. The affinity scores may be maintained in a table  or other data structure in a computer memory. A given score may be represented within memory as, for example, a single value or a set of two or more values. The invention may alternatively be practiced without generating scores.","As described below, the affinity scores are used to detect transitions in which a user is deemed to have discontinued browsing of an item or item category for which user has demonstrated a threshold level of interest. (The affinity scores may also be used to detect non-conversion events for purposes of implementing the state-change notification service described above.) Upon detecting such a transition, the system \u2032 programmatically decides whether to present to the user a time-limited purchase incentive offer that corresponds to the particular item or item category the user has been browsing. As discussed below, this decision may be made so as to avoid predictability from the perspective of users.","As depicted in , the purchase incentive offer may be displayed to the user in a pop-up browser window, and may correspond to an item or item category the user has discontinued browsing. In this example, the purchase incentive is a discount offer for a particular product the user has viewed. Other types of purchase incentives, such as free shipping, may also be provided. The purchase incentive need not be tied specifically to an item the user has viewed; for example, the purchase incentive may be tied to a pre-selected item falling within the item category browsed by the user, or may apply to the category as a whole. As depicted in , a purchase incentives database  may specify the purchase incentive offers that are do be displayed for various items and\/or item categories.","The purchase incentive offer may be presented when, or shortly after, the user transitions away from the relevant item category. For example, if a user views several MP3 players within the \u201cportable audio\u201d category and then begins browsing books, an incentive offer may be presented with the first or second web page the user accesses within the books category. The incentive offer may alternatively (or additionally) be presented during a subsequent browsing session, such as the next time the user returns to the web site. Although a pop-up window is used in the illustrated example, the offer may alternatively be embedded within a web page requested by the user. The incentive offer may be valid for a limited period of time, such as the next sixty seconds or until the current browsing session ends.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 6","b":["80","90"]},"In one embodiment, a separate affinity score is generated for each item selected by the user for viewing during the current session. Each time the user performs a subsequent action that corresponds to this item, the associated score is incremented. The amount by which the affinity score is incremented may depend upon the type of action performed. For instance, the affinity score may be incremented by \u201c1\u201d each time the user accesses the item's detail page; by \u201c2\u201d each time the user selects a sub-link on that detail page, and by \u201c5\u201d if the user removes the item from a shopping cart. The affinity score generally represents a prediction of the user's level of interest in this particular item.","Rather than maintaining item-specific affinity scores, the real-time clickstream analysis component  may generate affinity scores for item categories only. This may be accomplished, for example, by responding to each item selection event by incrementing the category affinity score associated with each bottom-level item category in which the selected item falls. If item-specific scores are maintained, the affinity score for a given item category may be generated by summing the item scores of all items falling within that category.","In block , the algorithm determines whether the click event represents a transition away from an item or item category for which a corresponding affinity score exceeds a selected threshold, such as five. This step  may be performed so as to detect transitions away for items only, transitions away from item categories only, or both. In one embodiment, a transition to a new category is ignored in step , regardless of affinity score values, if the new category overlaps with (i.e., contains at least one item in common with) the immediately preceding item category browsed by the user. For example, if the user transitions from the category \u201ccell phones\u201d to the category \u201ccamera & photo,\u201d and both of these categories include a particular camera cell phone, the transition may be disregarded on the basis that the user may still be browsing the same type of item.","If the determination in step  is positive, a decision is made whether to present a corresponding incentive offer to the user (block ). One example of an algorithm that may be used to make this decision is illustrated in , which is discussed below.","If a decision is made to present the incentive offer to the user, an incentive message is presented to the user (block ), and the incentive event is recorded in association with the user's account. Rather than displaying the offer message immediately, the message may be presented only if and when the user fails to return to the relevant item or item category during subsequent browsing. For example, the incentive offer may be presented only if the user selects M consecutive links that are unrelated to the previously-browsed item category, where M is a selected value such as 2, 3, 4 or 5.","If the click does not represent a transition event in block , or a determination is made in block  not to offer a purchase incentive to the user, the process ends without outputting an incentive message to the user.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 7","b":["80","100","106"]},"As depicted in block , the item that is the subject of the candidate purchase incentive is initially identified. This may be accomplished by, for example, accessing the purchase incentives database  () to identify a purchase incentive that corresponds to the item or item category from which the user is transitioning away. As depicted in blocks -, the purchase incentive is not offered to the user in this example if any of the following conditions exist: (a) the identified item, or a substitute for that item, is currently in the user's shopping cart, (b) the identified item has previously been purchased by the user, (c) the user has already been offered a purchase incentive for this particular item, or (d) the user has been offered a purchase incentive in the last N days (e.g., three days). A repository of event history data may be maintained and used to make these determinations.","If none of the foregoing conditions exist, a pseudo-random selection algorithm is applied to determine whether to offer the purchase incentive, as depicted in block . To inhibit the frequent display of purchase incentives, this algorithm may provide a low selection probability, such as 2% to 15%. A pseudo-random algorithm has the benefit of reducing predictability from the perspective of users, and thus inhibits users from \u201cgaming\u201d the system to obtain discounts on items they plan to purchase. As an alternative to a pseudo-random algorithm, any algorithm that provides for the relatively infrequent or unpredictable display of purchase incentives may be used.","As a further impediment to gaming, once a decision has been made not to present a particular incentive offer to the user, the decision may remain in effect for the remainder of the current browsing session, the current day, or another appropriate time period. With this approach, the user generally will not be able to increase the likelihood of a particular offer being displayed by repetitively transitioning away from a particular item or item category.","As depicted by block , if the user is selected by the pseudo-random algorithm, the associated incentive message is presented to the user during the current browsing session\u2014either immediately or after an appropriate delay.","As will be apparent from the foregoing, an important aspect of this embodiment is that users are provided with targeted incentives to purchase items that they have considered but have likely decided not to buy. Thus, sales resulting from this feature are likely to be sales that would not otherwise have occurred.","As with the state-change notification service, the selective transaction incentive service may be implemented in software executed by one or more general purpose computers. The functions performed by each service may be fully automated, requiring no human intervention on the part of system operators. As mentioned above, both services may be implemented in combination within a given electronic catalog system to assist an online merchant servicing its customers.","Although this invention has been described in terms of certain embodiments and applications, other embodiments and applications that are apparent to those of ordinary skill in the art, including embodiments which do not provide all of the features and advantages set forth herein, are also within the scope of this invention. Accordingly, the scope of the present invention is defined only by the appended claims. The inventors reserve the right to pursue additional claims that extend beyond the scope of the following claims.","For purposes of defining the invention, the term \u201cpurchase\u201d is not limited to transactions in which the user obtains an ownership interest in the item or items being purchased. Rather, the term also encompasses transactions in which the user pays or agrees to pay money to rent, obtain a license to, or subscribe to, a particular item."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 6","FIG. 4"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 7","FIG. 4"]}]},"DETDESC":[{},{}]}
