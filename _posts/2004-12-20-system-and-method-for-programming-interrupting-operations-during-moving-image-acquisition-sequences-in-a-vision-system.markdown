---
title: System and method for programming interrupting operations during moving image acquisition sequences in a vision system
abstract: Methods and systems of part programming for machine vision inspection systems are provided, which permit a user to readily define multiple image acquisition operations interspersed with associated image analysis and/or inspection operations during learn mode operations and in the resulting part program image acquisition operations for at least some of the images are arranged into a continuous motion image acquisition sequence that acquires images and stores images in a “non-interspersed” manner in order to increase the throughput of the machine vision inspection system. Image analysis/inspection operations associated with the stored images are performed subsequently by recalling the store images. The programming systems and methods disclosed herein may operate automatically to facilitate rapid programming for a variety of workpieces by relatively unskilled users, wherein the resulting programs include continuous motion image acquisition sequences.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07590276&OS=07590276&RS=07590276
owner: Mitutoyo Corporation
number: 07590276
owner_city: Kawasaki-shi
owner_country: JP
publication_date: 20041220
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["The invention relates generally to methods for operating a machine vision inspection system with a camera and stage that are movable relative to one another in multiple directions so as to scan and inspect selected features of a workpiece on the stage, and more particularly to systems and methods that permit a user to readily program system operations that are not compatible with moving (continuous) image acquisition, while also programming moving image acquisition sequences.","Precision machine vision inspection systems (or \u201cvision systems\u201d in short) can be utilized to obtain precise dimensional measurements of inspected objects and to inspect various other object characteristics. Such systems may include a computer, a camera and optical system, and a precision stage that is movable in multiple directions so as to allow the camera to scan the features of a workpiece that is being inspected. One exemplary prior art system that is commercially available is the QUICK VISION\u00ae series of PC-based vision systems and QVPAK\u00ae software available from Mitutoyo America Corporation (MAC), located in Aurora, Ill. The features and operation of the QUICK VISION\u00ae series of vision systems and the QVPAK\u00ae software are generally described, for example, in the QVPAK 3D CNC Vision Measuring Machine Users Guide, published January 2003, and the QVPAK 3D CNC Vision Measuring Machine Operation Guide, published September 1996, each of which is hereby incorporated herein by reference in their entirety. This product, as exemplified by the QV-302 Pro model, for example, is able to use a microscope-type optical system to provide images of a workpiece at various magnifications, and move the stage as necessary to traverse the workpiece surface beyond the limits of any single video image. A single video image typically encompasses only a portion of the workpiece being observed or inspected, given the desired magnification, measurement resolution, and physical size limitations of such systems.","Machine vision inspection systems generally utilize automated video inspection. U.S. Pat. No. 6,542,180 teaches some examples of automated video inspection. As taught in the '180 patent, automated video inspection metrology instruments generally have a programming capability that allows an automatic inspection event sequence to be defined by the user for each particular workpiece configuration. This can be implemented either in a deliberate manner, such as text-based programming, for example, or through a recording mode which progressively \u201clearns\u201d the inspection event sequence by storing a sequence of machine control instructions corresponding to a sequence of inspection operations performed by a user, or through a combination of both methods. Such a recording mode is often referred to as \u201clearn mode\u201d or \u201ctraining mode\u201d. Once the inspection event sequence is defined in \u201clearn mode,\u201d such sequence can then be used to automatically acquire (and additionally analyze or inspect) images of a workpiece during \u201crun mode.\u201d","The machine control instructions, including the specific inspection event sequence including image acquisition parameters, etc., are generally stored as a \u201cpart program\u201d or \u201cworkpiece program\u201d that is specific to the particular workpiece configuration. The ability to create part programs with instructions that perform a predetermined sequence of inspection operations provides several benefits, including enhanced inspection repeatability, as well as the ability to automatically execute the same part program repeatedly on one or more compatible machine vision inspection systems.","For general-purpose machine vision inspection systems that are intended to be rapidly programmable for a wide variety of workpieces, as exemplified by the previously referenced QUICK VISION\u00ae series of PC-based vision systems, it has been conventional for image acquisition operations to be interspersed with image analysis operations and\/or feature inspection operations that are performed on the most recently acquired image (referred to herein as \u201cinterspersed\u201d type operations.) However, there is an increasing demand for general-purpose machine vision inspection systems to provide higher throughput. According to one method, this may be accomplished by performing image acquisition while using continuous relative motion between the camera and the workpiece stage (as opposed to intermittently stopping and starting the relative motion, as required for interspersed type operations), thereby significantly increasing inspection throughput. Such operations are referred to herein as continuous-motion type operations. It is advantageous for such systems to include strobe lighting illumination to assist with the acquisition of images during continuous motion without smearing (or blurring) the image.","High-speed \u201cin-line\u201d vision inspection systems used in high-speed production lines have provided continuous-motion type image acquisition. However, such in-line vision systems typically are dedicated to a single production line and acquire the \u201csame\u201d image over and over again, for successive workpieces on a conveyor system, for example. In such cases, for each image the motion speed and strobe illumination parameters, etc., are the same. Furthermore, workpiece configurations and\/or image acquisition parameters, etc., are rarely changed. Thus, programming methods for such systems have not facilitated rapid programming for an unlimited variety of workpieces, camera positions, image acquisition parameters, etc., by relatively unskilled users.","In contrast, experience has shown that it is essential for general-purpose machine vision inspection systems to facilitate rapid programming for an unlimited variety of workpieces, camera positions, image acquisition parameters, etc., by relatively unskilled users. Previous programming methods for general-purpose machine vision inspection systems have not made the programming of continuous-motion type operations sufficiently easy or fast. Furthermore, previous programming methods have not made the programming of continuous-motion type operations in combination with interspersed-type operations sufficiently easy or fast. Programming systems and methods that can overcome these problems and shortcomings, either separately or in combination, would be desirable.","For the conventional vision systems in which image acquisition operations are interspersed with image analysis operations and\/or feature inspection operations, a user typically creates a part program during \u201clearn mode\u201d by defining each image acquisition (for example, by controlling the vision system position, focus, magnification, lighting conditions, etc., to achieve a desired image on a video display) and then immediately defining operations based on that image, such as workpiece image inspection or analysis operations, etc. For many commercially available machine vision systems, such learn mode operations are then automatically or semi-automatically converted into corresponding part programming instructions by the machine vision system. This type of learn mode operation sequence, referred to herein as the \u201cordinary\u201d or \u201cinterspersed\u201d learn mode, is schematically illustrated in FIGURE IA. In this example, in the ordinary learn mode, at a block , a user first defines (or has the vision system \u201clearn\u201d) how to acquire image C (e.g., how to position the camera relative to the workpiece, what light sources and lighting control parameters to use, etc.), and then defines (or has the vision system \u201clearn\u201d) the operations that are to be performed based on the acquired image C (the \u201cimage C operations\u201d), for example, inspection or analysis operations, etc. Next, at a block , the user first defines (or has the vision system \u201clearn\u201d) how to acquire image C, and then defines (or has the vision system \u201clearn\u201d) the operations that are to be performed based on the acquired image C (the \u201cimage C operations\u201d), and so forth. Next, at a block , the user defines (or has the vision system \u201clearn\u201d) how to acquire image I, and then defines (or has the vision system \u201clearn\u201d) the operations that are to be performed based on the acquired image I (the \u201cimage I operations\u201d), and so forth. Next, at a block , the user defines an \u201cimage independent\u201d operation, for example, a simple instruction or command to set the coordinate system origin at a particular location. Next, at blocks  and , the user defines operations similar to those previously described for blocks  and . According to conventional programming techniques, a part program created based on the foregoing examples of interspersed learn mode operations will perform the defined operations in a similar sequence of interspersed operations.","However, in order to provide increased throughput, it is often desirable to program a machine vision inspection system to perform multiple consecutive image acquisition operations using continuous motion and subsequently perform image analysis\/inspection operations, etc., on those acquired images, in a \u201cnon-interspersed\u201d manner. This type of programmed operation sequence is illustrated in , which schematically shows how a \u201ccontinuous motion\u201d or moving image acquisition portion of a program may be provided by programming at least some of the image acquisition operations defined during learn mode operations that are compatible with moving image acquisition (generally referred to as \u201ccompatible\u201d or \u201ccompatible type\u201d operations herein), which in this example are taken to be the image acquisition operations described with reference to blocks , ,  and  of , to be arranged according to a non-interspersed type of sequence shown at blocks  and  of . Identifying \u201ccompatible\u201d operations is described in greater detail further below.","Briefly stated, in this example, as the operations of block  are entered, the compatible C image acquisition operations are arranged into a non-interspersed instruction block  and the associated compatible C operations on that image are arranged into a subsequent instruction block . Next, as the operations of block  are entered, the compatible C image acquisition operations are arranged as the next elements into the non-interspersed instruction block  and the associated compatible type C operations on that image are arranged as the next elements in the subsequent instruction block .","As shown in , the compatible type operations of blocks  and  are followed by the operations of blocks  and , which are taken to be operations that are not compatible with a continuous motion type of moving image acquisition sequence (generally referred to as \u201cincompatible\u201d or \u201cincompatible type\u201d operations herein). Identifying \u201cincompatible\u201d operations is described in greater detail further below. Briefly stated, in this example, as the incompatible operations of block  are entered, they cause the non-interspersed instruction blocks  and , which include compatible operations, to be terminated. The instructions corresponding to the incompatible image I operations are arranged into an instruction block  in a conventional \u201cinterspersed\u201d manner. In this case, the I image acquisition operation are followed by any associated incompatible image I operations on that image. Next, as an image-independent incompatible operation, such as a command to set\/reset the current coordinate system origin at a particular point in the global coordinate system, or the like, is entered at block , the associated instructions are simply arranged as the next elements in the interspersed instruction block .","As shown in , the incompatible type operations of blocks  and  are followed by the operations of blocks  and , which, in this example, are taken to be operations that are compatible with a continuous motion type of moving image acquisition sequence. Thus, the associated instruction are programmed into the non-interspersed instruction blocks  and , in the manner previously described for the compatible operation blocks  and  and the associated non-interspersed instruction blocks  and .","Generally speaking, in the programming structure or arrangement shown schematically in , at least some of the compatible type image analysis and\/or inspection operations defined during learn mode operations, are programmed to be performed by acquiring a plurality of images using continuous motion, then subsequently recalling those images and performing the associated analysis\/inspection operations. It should be appreciated that the example shown in  is just one example of a sequence of operations that is useful for illustrating terminology and concepts described in greater detail below. For example, it should be appreciated that if additional compatible operations similar to blocks  or  were performed following block  and before incompatible operation block , then the corresponding instructions would continue to be arranged as the next elements in the non-interspersed instruction blocks  and , before those blocks are terminated by the incompatible operations of block . Also, it should be appreciated that although the instructions corresponding to the incompatible operations of blocks  and  have been described as forming a \u201cblock\u201d , this is simply a convenient way of describing that these operations are all of the same \u201cincompatible\u201d type and that as long as the sequence of incompatible operations is not \u201cinterrupted\u201d by a compatible operation, they are programmed from one to the next in an interspersed manner. The same arrangement of instructions might alternatively be described and illustrated as a sequence of independent interspersed-type instruction blocks, respectively associated with each respective incompatible operation entered in learn mode.","The programming systems and methods disclosed herein accept multiple image acquisition operations interspersed with associated image analysis and\/or inspection operations during learn mode operations and create a part program wherein the image acquisition operations for at least some of the images are arranged into a continuous motion image acquisition sequence that acquires images in a \u201cnon-interspersed\u201d manner and the associated image analysis\/inspection operations are performed subsequently on those acquired images.","According to a further aspect of the invention, in various embodiments, the programming systems and methods disclosed herein may operate automatically to facilitate rapid programming for a variety of workpieces by relatively unskilled users, wherein the resulting programs include continuous motion image acquisition sequences.","As previously outlined with reference to blocks  and  of  and block  of , not all image acquisition operations and associated image analysis and\/or inspection operations are suited to being segregated into continuously motion image acquisition sequences and subsequent image analysis sequences. For example, if an image of a certain point on a workpiece is to be acquired at a magnification that is different from a previous image, then certain hardware adjustments to change the magnification must occur prior to acquiring such an image. Assuming that the hardware adjustment takes time (perhaps an unspecific amount of time, depending on each vision system), it would be best to stop the camera movement during the hardware adjustment to ensure that the hardware adjustment is complete when the image acquisition actually takes place. Thus, this type of image acquisition operation is incompatible with continuous (moving) image acquisition, and such an operation (perhaps as combined with an associated image analysis\/inspection operation) is an incompatible image acquisition operation, or an incompatible operation, for short. In general, for incompatible operations, the continuous relative motion between the camera and the workpiece must be stopped (or interrupted) to insure that proper image acquisition conditions are obtained and\/or that certain image analysis or inspection operations are performed according to a required sequence as a pre-condition to obtaining the appropriate results from subsequent image acquisition and\/or analysis operations.","The programming systems and methods disclosed herein accept multiple image acquisition operations interspersed with associated image analysis and\/or inspection operations during learn mode operations and create a part program wherein the image acquisition operations for at least some of the images are arranged into a continuous motion image acquisition sequence that acquires images in a \u201cnon-interspersed\u201d manner and the associated image analysis\/inspection operations are performed subsequently on those acquired images, and wherein the part program is further created to include one or more portions wherein certain other image acquisition operations and the associated image analysis and\/or inspection operations are interspersed, at least when such operations are incompatible with continuous motion image acquisition.","According to a further aspect of the invention, the programming systems and methods disclosed herein may operate automatically to facilitate rapid programming for a variety of workpieces by relatively unskilled users, wherein the resulting programs include both non-interspersed continuous motion image acquisition sequences, as well as any necessary interspersed image acquisition and analysis or inspection operation sequences.","The programming systems and methods disclosed herein allow a user to program a general-purpose machine vision inspection system using a consistent learn mode procedure regardless of whether certain image acquisition operations are to be interspersed with (or \u201cinterrupted\u201d by) image analysis and\/or feature inspection operations (in the conventional manner), or whether continuous relative motion is used to provide higher throughput by acquiring certain images without interspersing image analysis operations that interrupt image acquisition operations.","According to a further aspect of the invention, the programming systems and methods disclosed herein automatically re-sequence certain learn mode operations that were performed in an interspersed manner, to provide at least one programmed non-interspersed continuous motion image acquisition sequence, while certain incompatible learn mode operation sequences are programmed as interspersed sequences.","More generally, the present invention offers methods and systems that permit a user to define both compatible and incompatible operations during learn mode, and produce a part program that incorporates moving image acquisition sequences as much as possible while at the same time ensuring to interrupt the moving image acquisition whenever an incompatible operation is called for. In various exemplary embodiments, the system provides such a program in a manner that is fully transparent to the user, that is, the user need not consider whether various operations are compatible or incompatible.","In various exemplary embodiments, a user interface is provided that allows the user to determine whether the machine vision inspection system operates in a mode that automatically re-sequences certain compatible learn mode operations that were performed in an interspersed manner, to provide at least one programmed non-interspersed continuous motion image acquisition sequence, or whether the machine vision inspection system operates in a conventional mode to create a part program that generally consists of the conventional type of interspersed program instructions.","The methods of the present invention may be embodied in a computer-readable medium and\/or a carrier wave or other signal comprising computer executable instructions for performing the method, and the instructions may be loaded to and executed by a control system portion of a precision machine vision inspection system.","In some embodiments, the present invention includes a method of interpreting and\/or compiling computer executable instructions for controlling a precision machine vision inspection system to inspect a workpiece, comprising generally two steps. First, the method permits a user to define both compatible and incompatible operations without intentionally segregating the operations. Second, the method automatically arranges the user-defined operations into different types of program instructions. A first type of instructions comprises a moving image acquisition instruction sequence or routine and an associated image analysis\/inspection instruction sequence or routine that is executed at some time after images are available based on the image acquisition instruction sequence. The moving image acquisition routine comprises a set of machine control instructions for acquiring a set of workpiece images while maintaining a relative motion between the camera and the workpiece stage. The image analysis\/inspection routine consists of a set of machine control instructions for analyzing\/inspecting the acquired set of workpiece images. A second type of instructions comprises at least one instruction sequence or routine that controls the machine vision inspection system to perform at least one \u201cincompatible operation\u201d, that is, an interspersed sequence of image acquisition and analysis or inspection operations that is incompatible with maintaining a relative motion between the camera and the workpiece.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 2","b":["10","10","12","14","14","16","18","22","24","26","12","32","34","34"]},"The joystick  can typically be used to control the movement of the movable workpiece stage  in both X and Y directions, which are generally parallel to the focal plane of the optical imaging system . The joystick  can also control the movement of the movable optical imaging system  in the Z or focus direction. The joystick  may be provided in a form other than that shown, such as any visual representation or widget on the monitor  which is intended to function as a \u201cvirtual motion control device\u201d of the machine vision inspection system  and is controllable through any computer input device such as the mouse  or the like.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 3","b":["120","200","100","120","200","200","205","220","230","240","210","212","210","20","205","260","250","280","230","205","294"]},"A workpiece  that is to be imaged using the machine vision inspection system  is placed on the workpiece stage . One or more of the light sources ,  and  emits source light , , or , respectively, that is usable to illuminate the workpiece . Light emitted by the light sources ,  and\/or  illuminates the workpiece  and is reflected or transmitted as workpiece light , which passes through the interchangeable objective lens  and the turret lens assembly  and is gathered by the camera system . The image of the workpiece , captured by the camera system , is output on a signal line  to the control system portion .","The light sources , , and  that are used to illuminate the workpiece  can include a stage light , a coaxial light , and a surface light , such as a ring light or a programmable ring light, all connected to the control system portion  through signal lines or busses ,  and , respectively. As a primary optical assembly of the machine vision inspection system , the optical assembly portion  may include, in addition to the previously discussed components, other lenses, and other optical elements such as apertures, beamsplitters and the like, such as may be needed for providing coaxial illumination, or other desirable machine vision inspection system features. As a secondary optical assembly of the machine vision inspection system , the turret lens assembly  includes at least a first turret lens position and lens  and a second turret lens position and lens . The control system portion  rotates the turret lens assembly  along axis , between at least the first and second turret lens positions, through a signal line or bus .","The distance between the workpiece stage  and the optical assembly portion  can be adjusted to change the focus of the image of the workpiece  captured by the camera system . In particular, in various exemplary embodiments, the optical assembly portion  is movable in the vertical Z axis direction relative to the workpiece stage  using a controllable motor  that drives an actuator, a connecting cable, or the like, to move the optical assembly portion  along the Z axis. The term Z axis, as used herein, refers to the axis that is intended to be used for focusing the image obtained by the optical assembly portion . The controllable motor , when used, is connected to the input\/output interface  via a signal line .","As shown in , in various exemplary embodiments, the control system portion  includes a controller , an input\/output interface , a memory , a workpiece program generator and executor , a CAD file feature extractor , and a power supply portion . It will be appreciated that each of these components, as well as the additional components described below, may be interconnected by one or more data\/control buses and\/or application programming interfaces, or by direct connections between the various elements.","The input\/output interface  includes an imaging control interface , a motion control interface , a lighting control interface , and a lens control interface . The motion control interface  includes a position control element and a speed\/acceleration control element However, it should be appreciated that in various exemplary embodiments, such elements may be merged and\/or indistinguishable. The lighting control interface  includes light control elements -which control, for example, the selection, power, on\/off switch, and strobe pulse timing if applicable, for the various corresponding light sources of the machine vision inspection system , such as the light sources , , and .","The memory  includes an image file memory portion , a workpiece program memory portion , and a video tool portion . The video tool portion  includes tool portions -which determine the GUI, image processing operation, etc., for each of the corresponding tools. Any of tool portions -may also include motion compatibility information usable to determine whether the operations associated with the video tool are compatible with a moving image acquisition mode of operation, so that the tool can be properly programmed according to the principles of this invention, as outlined in greater detail below. In some implementations, the motion compatibility information may be inherent in the general operation instructions associated with the tool, and general operation instructions may be analyzed by a continuous motion mode instruction generating portion  of the workpiece program generator and executor , in order to determine whether they are compatible with a continuous motion mode of operation. In other implementations, the motion compatibility information may comprise specific motion compatibility information such as a pre-determined compatibility or incompatibility code, or a program branching, address, or subroutine selecting instruction. In either case, the motion compatibility information causes the video tool operations to be programmed in the appropriate interspersed or non-interspersed manner by the continuous motion mode instruction generating portion  of the workpiece program generator and executor , as previously outlined and discussed in greater detail below. The video tool portion  also includes a region of interest generator that supports automatic, semi-automatic and\/or manual operations that define various regions of interest that are operable in various video tools included in the video tool portion . In general, the memory portion  stores data usable to operate the vision system components portion  to capture or acquire an image of the workpiece  such that the acquired image of the workpiece  has desired image characteristics. The memory portion  further stores data usable to operate the machine vision inspection system  to perform various inspection and measurement operations on the acquired images, either manually or automatically, and to output the results through the input\/output interface . The memory portion  also contains data defining a graphical user interface operable through the input\/output interface .","The signal lines or busses ,  and  of the stage light , the coaxial light , and the surface light , respectively, are all connected to the input\/output interface . The signal line  from the camera system  and the signal line  from the controllable motor  are connected to the input\/output interface . In addition to carrying image data, the signal line  may carry a signal from the controller  that initiates image acquisition.","One or more display devices  and one or more input devices  can also be connected to the input\/output interface . The display devices  and input devices  can be used to view, create and\/or modify part programs, to view the images captured by the camera system , and\/or to directly control the vision system components portion .","With regard to the CAD file feature extractor , information such as a CAD file representing a workpiece, or a previous image of a substantially identical workpiece, is frequently available in industrial applications of machine vision inspection systems. In such cases, the CAD file representation or previous image may be used to facilitate off-line part programming.","The control system portion  is usable to determine image acquisition settings and\/or acquire an image of the workpiece  such that the input image of the workpiece  has desired image characteristics in a region of interest that includes a workpiece feature to be inspected. In various exemplary embodiments, when a user uses the machine vision inspection system  to create a workpiece image acquisition program for the workpiece , the user generates workpiece program instructions either by explicitly coding the instructions automatically, semi-automatically, or manually, using a workpiece programming language, or by generating the instructions by moving the machine vision inspection system  through an image acquisition training sequence such that the workpiece program instructions capture the training sequence as outlined above. In particular, these instructions will cause the machine vision inspection system to manipulate the workpiece stage  and\/or the camera system  such that a particular portion of the workpiece  is within the field of view of the camera system  and at a desired focus state. The instructions will also select a lens having a desired magnification and activate one or more of the light sources - to provide a desired illumination of the workpiece  during image acquisition. In general, the instructions will also define various analysis or inspection operations to be performed on the resulting image. Furthermore, as will be more fully described below with reference to , the present invention offers methods that permit the user to enter a mixture of operations that are either compatible or incompatible with moving image acquisition during learn mode operations, and the corresponding operations will be automatically programmed into a part program that includes continuous motion image acquisition sequences, in order to increase throughput during execution of the part program. In general, for a set of workpiece images acquired as part of a continuous motion image acquisition sequence, the control system  commands the camera system  to capture each image of the workpiece  in the set and output the captured images to the control system portion . The control system portion  will then, under control of the controller , input the captured images through the input\/output interface  and store the captured images in the image file memory portion  for subsequent analysis or inspection. The controller  may also display the captured images on the display device .","The control system portion  is usable to analyze and inspect workpiece features in such workpiece inspection images, or in images acquired during non-compatible operations, and to store and\/or output the inspection results or perform other appropriate operations based on the analysis or inspection results. In various exemplary embodiments, when a user uses the machine vision inspection system  to create a workpiece image analysis\/inspection program for the workpiece  according to this invention, the user typically generates program instructions by moving the machine vision inspection system  through an image acquisition and analysis\/inspection training sequence such that the workpiece program instructions capture the training sequence and various systems and methods according to this invention arrange the associated part program instructions to facilitate increased inspection throughput as outlined above and described in greater detail below.","Generally speaking, for non-compatible operations, such as autofocus operations or part coordinate system determination operations, for example, the required image acquisition(s) and associated analysis\/inspection operation(s) will be performed in an interspersed, sequential, or nearly sequential manner. Generally speaking, for operations compatible with a moving image acquisition mode of operation, these instructions will cause the machine vision inspection system to first sequentially acquire or capture and store a set of images without interrupting the acquisition sequence to perform analysis or inspection operations, that is, in a non-interspersed manner, and later recall the captured workpiece inspection image stored in the image file memory portion  of the memory  and perform various analysis\/inspection operations on the images using the capabilities provided by various video tools included in the video tool portion  of the memory . This process is repeated for multiple images in the set of images that were captured. In general, the vision system can acquire such a set of images more rapidly because it can continuously move the camera relative to the workpiece during the image acquisition. Various general considerations related to \u201cnon-interspersed\u201d moving image acquisition operations may be better understood with reference to co-assigned, co-pending U.S. patent application Ser. No. 10\/435,625, which is hereby incorporated herein by reference in its entirety. However, it should be appreciated that although a moving image acquisition sequence and the subsequently performed analysis\/inspection operations are generally described as isolated modes of operation in the '625 Application, according to the principles of the present invention such non-interspersed operations may occur in one or more sequences of non-interspersed operations that are included in the same part program with \u201cinterrupting\u201d operation sequences as previously outlined herein and described in greater detail below. Thus, the description included in the '625 Application supplements this disclosure, but it is not to be understood to constrain the present invention, which is more general in its scope and application.","Some of the types of video tools that may be compatible with a moving image acquisition mode of operation may include, for example, shape or pattern matching tools, edge and\/or boundary detection tools, circle and dimension measuring tools, and the like. Such tools are routinely used and included in a variety of commercially available machine vision inspection systems, such as the QUICK VISION\u00ae series of vision systems and the associated QVPAK\u00ae software discussed above. For each image in the set of images, in one embodiment, the control system  will output the results of each analysis\/inspection operation to the input\/output interface for outputting to various display devices , which may include video display, printers, and the like. The control system  may also store the results of each inspection operation in the memory .","As previously mentioned, it is desirable that a user be able to program a general-purpose machine vision inspection system using a consistent programming procedure regardless of whether image acquisition operations are to be interspersed with (or \u201cinterrupted\u201d by) image analysis and\/or feature inspection operations (in the conventional manner), or whether continuous relative motion is used in order to provide higher throughput by acquiring one or more images without interspersing image analysis operations that interrupt image acquisition operations. For example, if an image of a certain point in a workpiece is to be acquired at a different magnification from the rest of the workpiece, then certain hardware adjustments to change the magnification, and possibly to readjust the focus by autofocusing, must occur prior to acquiring such an image. Assuming that the hardware adjustment takes time (perhaps an unspecific amount of time depending on each vision system), in some cases it may be a simpler, more conservative and more robust programming practice to stop the camera movement at the desired image acquisition location, to ensure that there is adequate time for hardware adjustment to be completed and the associated image acquired at the desired location, before motion continues past that image acquisition location. Thus, these types of hardware adjustment operations must be performed prior to acquiring the associated image at the desired magnification and may be incompatible with continuous (moving) image acquisition. In other words, any preceding continuous relative motion image acquisition sequence must be stopped (or interrupted) prior to and during performance of such incompatible operation(s) (in this case the magnification alteration and\/or autofocus operations), then, if subsequent operations are compatible with a moving image acquisition, a subsequent moving image acquisition mode of operations may be initiated or resumed.","The present invention is directed to improving the part programming available for continuous-motion type vision systems, by automatically generating part programs that generally include the two previously discussed types of operations: compatible operations to be performed in a manner that includes moving image acquisition sequences, and incompatible (interrupting) operations, without requiring the user to distinguish between the two types of operations during learn mode operations. In various embodiments, the user need not manually (or consciously) switch or change their style of learn mode operation input in order to define a program that arranges compatible operation sequences along with incompatible operations in a part program. In various embodiments, a method of the present invention is embodied in computer executable instructions stored in the workpiece program generator and executor  and\/or its continuous motion mode instruction generating portion .","In one alternative implementation the method generally includes three steps. First, the system enters a moving image acquisition or continuous motion learn mode, wherein acquisition and analysis\/inspection of a set of images compatible with moving image acquisition can be defined.","Second, for each of the image acquisition and associated analysis\/inspection operations to be defined, it is determined if the operation is compatible with moving image acquisition. If the operation (or a set of operations) is determined to be compatible, the associated image acquisition is included in a moving image acquisition sequence, which comprises a set of machine control instructions for acquiring and storing a set of workpiece images. Also, the associated analysis\/inspection operations are included in an image recall and analysis sequence, which comprises a set of machine control instructions for recalling and analyzing\/inspecting the set of stored workpiece images. If, on the other hand, the operation is determined to be incompatible with moving image acquisition, then a set of instructions is established that executes outside of the moving image acquisition sequence, which comprises a set of machine control instructions for performing the incompatible operation including both acquisition and analysis\/inspection of an image or images. The second step is repeated as necessary in order to program each of the part program operations to be defined for the workpiece.","Third, all of the determined instruction sequences are stored as part of a workpiece part program for the workpiece.","In another alternative implementation, an automatic part program generation system or method is structured such that once an operation is determined to be incompatible with moving image acquisition, the part program generation system or method automatically exits a moving image acquisition sequence programming mode to permit the user to define the incompatible operation outside that mode (e.g., in the ordinary \u201cinterspersed\u201d learn mode). Likewise, after the incompatible operation is defined, if another operation (or a set of operations) is determined to be compatible with moving image acquisition, the system or method automatically reenters the moving image acquisition sequence programming mode to define sequential acquisition of a set of images and the subsequent recall and analysis\/inspection operations. In various exemplary embodiments, the exiting from and (re)entry into the moving image acquisition sequence programming mode is fully transparent to the user, who may simply follow ordinary learn mode programming procedures, while the part programming systems and methods according to this invention automatically streamline certain compatible operations to include one or more continuous motion image acquisition sequences.","In various implementations, the determination as to whether an operation is compatible or incompatible with moving image acquisition is made automatically without a user input. For example, a set of operations associated with a video tool or the like may be predetermined as incompatible with moving image acquisition and related predetermined information such as an \u201cincompatibility flag\u201d or a pre-structured instruction sequence, may be stored in the system memory, for example in the video tool memory portion , or the like. Based on such information the workpiece program generator and executor  can automatically exit a moving image acquisition programming mode, for example by controlling or disabling operation of the continuous motion mode instruction generating portion , whenever a user requests to define one of these predetermined incompatible operations, and generate the appropriate \u201cinterspersed\u201d operation sequence. In an alternative implementation, the continuous motion mode instruction generating portion  may be structured to analyze the inherent operations for a video tool or other machine vision inspection system tool and determine whether they are compatible with a moving image acquisition sequence, and generate the appropriate \u201cnon-interspersed\u201d or \u201cinterspersed\u201d operation sequence, accordingly. For example, some of the operations that can be either predetermined or analyzed by the continuous motion mode instruction generating portion  as incompatible with moving image acquisition in various alternative embodiments may include: (1) a variable motion operation which involves moving the camera relative to the workpiece but the actual relative movement may vary depending on each execution at run time, (2) an operation whose time for completion depends on the particular system's hardware specifics, (3) an operation that requires information to be derived from immediate image analysis at run time, (4) an operation that involves taking plural images at the same location on the workpiece, and (5) \u201cimage independent\u201d coordinate system changes, e.g., in various embodiments, an instruction to \u201cTranslate\u201d the coordinate system origin to a global or current coordinate of (100,0,0), and\/or \u201cRotate\u201d the coordinate system by 45 degrees, is treated as an incompatible operation.",{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 4A","b":["300","300","302","304","312"]},"At a decision block , it is determined whether the current operation or current operation set to be defined (such as the set of operations associated with a video tool, for example) is compatible with a moving image acquisition sequence or a moving image acquisition mode of operation. As described above, some operations are incompatible with moving image acquisition such that it is advantageous to stop the relative movement between the camera and the workpiece in association with performing such incompatible operations. As yet another example, an operation may be determined to be incompatible if the operation calls for the use of a certain set of hardware systems or hardware operations (e.g., to move a lens system to change magnification), or a certain set of software systems or image processing operations (e.g., to perform an autofocus operation or determine a coordinate system based on a current image when the coordinate system is to be used for future operations, or the like.) In general, it is advantageous to make the determination as to whether a particular operation is compatible or not with moving image acquisition automatically, however, in various embodiments, semi-automatic and\/or manual compatibility determination, for at least some operations or applications, is also within the scope of this invention. For example, a user may specify each operation as either compatible or not when defining the operation, according to previously described criteria or any other criteria that the user feels are appropriate. Generally, operations are incompatible with moving image acquisition if they lead to variable results when executed at run time, if they modify the execution of later acquisition or analysis operations (e.g. Part Coordinate System changes or \u201cPCS\u201d changes, described further below), or if they are best executed while the camera is held stationary relative to the workpiece. Compatibility may be indicated and\/or chosen, for example, by selecting a checkbox in a graphical user interface window or menu related to the operation, or the like. As another alternative, the determination of compatibility may be made automatically and then confirmed by a user manually or semi-automatically. In various embodiments, a plurality of general categories may be applied to determine whether any operation is compatible or not with moving image acquisition. The operations described with reference to  may be used for the operations of block  in various embodiments. However, alternative methods for performing block  are also described herein and further alternatives may be devised by one skilled in the art based on the information in this disclosure.","If an operation is determined to be compatible with a moving image acquisition sequence at block , then operation proceeds to block , where the image acquisition operations are programmed as part of a moving image acquisition sequence and to block  where the associated analysis\/inspection operations for the image are programmed as part of a sequence of operations that recalls the stored image subsequent to its acquisition and storage, and then analyzes and\/or inspects it according to the defined operations. Otherwise, if an operation is determined to be incompatible with a moving image acquisition sequence at block , then operation proceeds to block , where an image acquisition operation and the associated analysis\/inspection operation(s) for the image are programmed as part of a sequence where at least one axis of relative motion is stopped or reduced to an insignificant speed in association with the incompatible image acquisition and analysis\/inspection operation. In the embodiment shown in , if a previous set of operations were programmed as part of a \u201ccurrent\u201d non-interspersed image acquisition sequence, that sequence is generally interrupted or ended by the operations of the block .","Following either of the blocks  or , operation proceeds to decision block  where it is determined whether there are additional images acquisitions and\/or analysis\/inspection operations to be performed. If it is determined at block  that there are further operations to be included in the current part program, such as may be indicated by the user entering additional operations in learn mode, for example, then operation returns to block  where the method continues. Otherwise, if it is determined at block  that there are no further operations to be included in the current part program, such as may be indicated by the user terminating learn mode, for example, then operation proceeds to block  where the part program instructions resulting from the previous steps are saved for future use, and the method or routine  ends.",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 4B","FIG. 4B","FIG. 4A"],"b":["340","304","340","341","342","346"]},"At a decision block , it is determined whether the current operation, or current operation set, to be defined (such as the set of operations associated with a video tool, for example) includes a variable motion type of operation, i.e., an operation that involves moving or adjusting the camera relative to the workpiece although the actual movement or adjustment may vary at least in part at run time. Examples of variable motion operations include, but are not limited to, an AutoFocus operation and AutoTrace operation. Briefly, the AutoFocus operation involves taking plural images of a portion of the workpiece while adjusting the camera along the Z axis relative to the workpiece, and based on the analysis of the acquired images selecting the camera position that produced the best-focused image. The AutoTrace operation involves following the edge or boundary (or a set of reference points) of an object feature on the workpiece. Both operations are routinely included and used in the QUICK VISION\u00ae series of vision systems and the associated QVPAK\u00ae software, discussed above. Both of these operations require moving the camera relative to the workpiece, but the precise movement of the camera will vary at run time depending on each workpiece being inspected. Further, during the AutoFocus operation, an optimal focus position (along the Z axis) is best determined when the camera has no X-Y motion relative to the workpiece. Accordingly, variable motion operations are not compatible with a moving image acquisition sequence. Therefore, if an operation is determined to be a variable motion operation at block , in various embodiments it is subsequently programmed as an incompatible and\/or interspersed set of part program instructions, for example by proceeding to block  of , as shown. One possible embodiment of programming incompatible and\/or interspersed part program instructions, as well as compatible and\/or non-interspersed part program instructions, is described with reference to , below.","Still referring to , if at the block  it is determined that the operation is not a variable motion type of operation, then operation continues with decision block , where it is determined whether the operation is of a type such that the time needed to complete the operation depends on particular hardware systems performance or timing characteristics that vary between specific vision systems or types of visions systems that may be used to implement the part program, or that are otherwise not reliably predictable at the time of part programming. For example, an operation that changes the image the camera sees, and that might not be completed before the associated image is acquired, is incompatible. Examples of such operations include an operation to change the magnification of the vision system, or to rotate the workpiece stage (or index table). Depending on the particular system used, the time involved to complete these operations varies, from time to time even within the same system, and image acquisition will fail to be at the proper location on the workpiece, or may otherwise produce an unpredictable result, if the necessary hardware operation is not completed in time for the image acquisition. Accordingly, in order to provide reasonably simple and robust part programming in various implementations, if the time to complete a particular operation cannot be predicted with sufficient reliability during execution of the program, or it is known that it will take more time than is available before image acquisition is triggered according to some other triggering signal or criterion used in a particular application, then it is determined to be incompatible with moving image acquisition, and it is subsequently programmed as an incompatible and\/or interspersed set of part program instructions, for example by proceeding to block  of , as shown.","Still referring to , if at the block  it is determined that the operation is not of a type such that the time needed to complete the operation depends on particular hardware systems performance or timing characteristics, and the time needed for the operation is not otherwise excessive compared to the time required for various moving image acquisition operations, then operation continues with decision block , where it is determined whether the current operation requires information to be derived from \u201cimmediate\u201d image analysis. If so, such an operation is incompatible with moving image acquisition. Examples of this type of operation include an operation to align a coordinate system (e.g., Part Coordinate System) to a particular set of features located in an image of a current workpiece. For example, this operation involves generally three steps: loading Part Coordinate System (PCS) set up instructions from memory or a disk; aligning the PCS depending on one or more workpiece feature locations determined in a desired workpiece image; and establishing the workpiece image-dependent PCS as the coordinate system to be used when interpreting the coordinate values specified or referenced in subsequent part program instructions within the part program, whether for the same image or additional images. If an operation requires information to be derived and implemented based on such \u201cimmediate\u201d image analysis, the operation is determined to be incompatible with moving image acquisition, and is subsequently programmed as an incompatible and\/or interspersed set of part program instructions, for example by proceeding to block  of , as shown.","Still referring to , if at the block  it is determined that the operation is not of a type such that it requires \u201cimmediate\u201d image analysis, then operation continues with decision block , where it is determined whether an operation involves taking plural images at the same location on the workpiece, for example to optimize lighting conditions. Examples of such operations include a Brightness control operation, Dual Area Contrast control operation, and Lighting Wizard operation, or the like. Such operations are exemplified in the previously referenced commercially available QUICK VISION\u00ae series of PC-based vision systems and QVPAK\u00ae software available from Mitutoyo America Corporation (MAC), located in Aurora, Ill., for example. Briefly, the Dual Area Contrast control operation involves repeated analysis of relative contrast of two adjacent areas in an image, in order to optimize the contrast between them and thus enhance the definition of an edge located between the two areas. The Lighting Wizard operation involves taking several images at different combinations of lighting settings, simulating and interpolating further various combinations of lighting settings by selectively superimposing the images, and identifying a combination of lighting settings based on the best real and\/or simulated\/interpolated image, such that the lights settings provide optimal or sufficient lighting conditions for acquiring an image. Each of these operations involves taking several images and determining optimal lighting conditions based on the comparative analysis of the several images. These operations are best performed while the camera is held stationary relative to the workpiece so as to obtain several properly comparable images of the same location. Thus, if an operation is determined to be within this category of operations at block , the operation is determined to be incompatible with moving image acquisition, and is subsequently programmed as an incompatible and\/or interspersed set of part program instructions, for example by proceeding to block  of , as shown.","Still referring to , if at the block  it is determined that the operation is not of a type such that it involves taking plural images at the same location on the workpiece, then operation continues with decision block , where it is determined whether an operation alters the coordinate system to be used for subsequent operations. The Part Coordinate System (PCS) operations previously described with reference to block  provide one example of such operations. Such operations also include \u201cimage independent\u201d coordinate system changes, e.g., in various embodiments, a command to \u201cTranslate\u201d the coordinate system origin to a global or current coordinate position of (100,0,0), and\/or \u201cRotate\u201d the coordinate system by 45 degrees. If an operation is determined to be within this category of operations at block , the operation is determined to be incompatible with moving image acquisition, and is subsequently programmed as an incompatible and\/or interspersed set of part program instructions, for example by proceeding to block  of , as shown. Otherwise, if an operation is determined not to be of any of the respective types of operations analyzed at the respective blocks -, then it is determined to be compatible with a moving image acquisition sequence of operations, and it is subsequently programmed as a compatible and\/or non-interspersed set of part program instructions, for example by proceeding to block  of , as shown.","The types incompatible operations described with reference to the five decision blocks - represent merely exemplary categories for classifying operations into compatible operations and incompatible operations, and other types\/categories or combinations of operations may be incompatible with moving image acquisition with regard to various different machine vision systems, video tool implementations, or applications as will be apparent to one skilled in the art based on this disclosure. For example, according to the previous description, PCS operations might alternatively be categorized as either \u201cimmediate image analysis\u201d operations, or \u201ccoordinate system altering\u201d operations, or both. Similarly, various autofocus operations might alternatively be categorized as either \u201cimmediate image analysis\u201d operations, or \u201cplural images at the same location\u201d operations, or both. Therefore, the method of determining whether an operation is compatible with a moving image acquisition sequence or not is not limited to the sample method described with reference to , and systems that use fewer or more categories, or even methods that do not make use of \u201ccategorization\u201d may be devised. Furthermore, while the determination may preferably be made fully automatically in various implementations, it may also be carried out manually, or semi-automatically, in various other implementations or applications.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 5A","b":["350","370","350","352","1","353","2","354","3","355","370","1","2","353","354","372","1","2","373","1","1","1","2","2","2","353","354"]},"As shown in , the C set of image-independent operations  have also been determined to be of a compatible type of operations, for example according to previously described methods or routines and\/or principles, and their corresponding part programming instructions have thus been arranged as the next elements in the image analysis\/inspection instruction sequence . For example, operations such as changing from inches to metric units, output and\/or display control operations, and many other type of operations that do not fall into one of the categories previously described with reference to the blocks - of , are image-independent compatible operations that might be included in a non-interspersed sequence of operations, either separately, or in combination with image recall and analysis operations as shown in the exemplary non-interspersed sequence block .","Next, in the exemplary set of learn mode operations , at a block  the user enters an interspersed set of image acquisition and analysis\/inspection operations that include a set of image I-A and I-B acquisition and analysis operations (and so on) which include operations that are incompatible with a moving image acquisition sequence of operations according to principles described herein. Such instructions may in some cases include implementation operations, for example operations to move to a final autofocus position determined based on analysis of images IA, I-B, etc. In addition, at the block , the user next enters incompatible image-independent operation(s) I, for example the coordinate system origin translation operation previously described herein, or other operations that do not depend on image information and that fall into one of the categories previously described with reference to the blocks - of , or the like.","As reflected in the corresponding set of part program instructions , the set of operations performed at block  have been determined to be of an incompatible type of operations, for example according to previously described methods or routines and\/or principles, and accordingly the corresponding incompatible interspersed image acquisition and analysis\/inspection instruction sequence block  has been inserted to interrupt or terminate the previous moving image acquisition instruction sequence . The instructions corresponding to the incompatible image I-A, I-B operations (and so on), as well as any instructions that implement the results of the I-A and\/or I-B operations (if applicable), as well as the subsequent operations , are arranged into the instruction block  in a \u201cinterspersed\u201d manner. In this case, the I-A image acquisition operations are followed by any associated incompatible image I-A operations on that image, next the I-B image acquisition operations are followed by any associated incompatible image I-B operations on that image, and by any instructions that implement the results of the previous I-A and I-B operations (if applicable), and so on. Next, as the image-independent incompatible operation  is entered, the associated instructions are simply arranged as the next elements in the interspersed incompatible instruction block .","Next, in the exemplary set of learn mode operations , at a block  the user enters an interspersed set of image acquisition and analysis\/inspection operations that include a set of image C acquisition and analysis operations  and a set of image C acquisition and analysis operations , each of which are taken to be operations that are compatible with a moving image acquisition sequence of operations according to principles described herein. Thus, as reflected in the corresponding set of part program instructions , the sets of image C and image C acquisition and analysis operations,  and , respectively, have been determined to be of a compatible type of operations, for example according to previously described methods or routines and\/or principles, and the associated instructions are programmed into a second sequence of non-interspersed instruction blocks  and , in the manner previously described for the compatible operation blocks  and  and the associated non-interspersed instruction blocks  and .","In the schematically illustrated example set of part program instructions , instructions corresponding to learn mode operations that are compatible with acquiring and analyzing\/inspecting images according to a moving image acquisition sequence have been arranged into the first moving image acquisition instruction sequences  and the associated subsequent image analysis\/inspection instruction sequence , and the second moving image acquisition instruction sequences  and the associated subsequent image analysis\/inspection instruction sequence , so as to continuously acquire as many images as possible using a moving image acquisition method to thereby maximize the inspection throughput. The incompatible operation instruction sequence  has been inserted in an arrangement that terminates the previous moving image acquisition instruction sequence  (and its associated analysis\/inspection instruction sequence ), for reasons previously described. It should be appreciated that if additional \u201ccompatible type\u201d learn mode operations had been entered by a user prior to entering the incompatible operations of block , then the moving image acquisition instruction sequence , and the corresponding portions of the image (recall and) analysis\/inspection instruction sequence , could have been extended to include such operations entered prior to the incompatible operations.","The arrangement of the set of part program instructions  has been described as having the incompatible operation instruction sequence  being inserted in an arrangement that terminates the previous moving image acquisition instruction sequence  (and its associated analysis\/inspection instruction sequence ), and the moving image acquisition instruction sequence block  (and its associated analysis\/inspection instruction sequence ) has been implied to be a \u201cnew\u201d moving image acquisition instruction sequence. However, it should be appreciated that in an alternative description and\/or part programming implementation, it might be said that the incompatible operation instruction sequence  is inserted in an arrangement that interrupts a moving image acquisition mode of part programming following establishment of the preceding \u201ccompatible\u201d block  and the associated analysis\/inspection instruction sequence , and that the incompatible operation instruction sequence  is then programmed in a \u201cconventional\u201d part programming mode that provides an interspersed arrangement of image acquisition and analysis\/inspection operations, and that the \u201ccompatible\u201d blocks operations  and  are then recognized as compatible operations, and the instruction sequences of the blocks  and the associated block  are therefore programmed by resuming the moving image acquisition mode of part programming. It should be appreciated the end result of these two alternative descriptions and\/or implementations is approximately functionally equivalent, and each is included within the scope of this invention.",{"@attributes":{"id":"p-0078","num":"0077"},"figref":["FIG. 5B","FIG. 5A","FIG. 5A"],"b":["370","350","370","370","373","373","378","370","370","370"]},"Initially, the instructions included in the instruction sequence \u2032 and the initial C, C, and C operations of the instruction sequence \u2032 are established as previously described with reference to the instruction sequences  and  of . Next, the incompatible operation instruction sequence \u2032, which may be identical to the incompatible operation instruction sequence , has been inserted in an arrangement that terminates the previous moving image acquisition instruction sequence \u2032, for reasons previously described. However, in contrast to the set of part program instructions , in the set of part program instructions \u2032, the instruction sequence \u2032 is not terminated, but only interrupted by the incompatible operation instruction sequence \u2032, and then resumed following the programming of the incompatible operation instruction sequence \u2032, by including instructions similar to those structured into the separate instruction sequence block  in the set of part program instructions  shown in . In general, this requires that additional instructions be included in the instruction sequence \u2032, in comparison to the instruction sequence , which makes the programming method associated with  somewhat more complicated and\/or possibly less robust than that associated with .","For example, for purposes of explanation, assume that the image independent operation  included at the incompatible block  of  alters the coordinate system that is used for subsequent operations. In the method associated with the sequence , the C and C operation instructions of the terminated instruction block  are programmed to be performed in the same coordinate system associated with the images C and C, before the operations of the incompatible instruction block sequence , which changes the coordinate system according to this scenario, are performed. Thus, no special \u201ccoordinate system\u201d instructions are included at the instruction sequence block . In contrast, in the method associated with the sequence \u2032, typically the C, C and C operation instructions of the instruction block \u2032 must be programmed to be performed in the same coordinate system as that associated with the images C and C and the image-independent C operation. However, because the instructions of the block \u2032 are performed after the operations of the incompatible instruction block sequence , which changes the coordinate system according to the scenario described here, special \u201ccoordinate system\u201d instructions that implement the coordinate system associated with the C and C images and the image-independent C operation while performing the associated C-X and C-X image analysis\/inspection operations and the image-independent C operations that are included at the instruction sequence block \u2032. For analogous reasons, in the method associated with the sequence \u2032, the C and C operation instructions of the \u201cinterrupted\u201d instruction block \u2032 must be programmed to be performed in the same coordinate system as that associated with the images C and C. However, because the C and C operation instructions of the block \u2032 are performed after the special \u201ccoordinate system\u201d instructions that implement the coordinate system to be associated with the C, C, C operations of the block \u2032, which may change the coordinate system according to this scenario, additional special \u201ccoordinate system\u201d instructions that implement the coordinate system associated with the C and C images while performing the associated C-X and C-X image analysis\/inspection operations images may need to be included in the instruction sequence block \u2032.","It should be appreciated that despite the additional part programming complexity, using the alternative part programming principles described above, a set part program instructions \u2032 has been provided wherein instructions corresponding to learn mode operations that are compatible with acquiring and analyzing\/inspecting images according to a moving image acquisition sequence are arranged into the first and second moving image acquisition instruction sequences \u2032 and \u2032, and the associated subsequent image analysis\/inspection instruction sequence \u2032, so as to continuously acquire as many images as possible using a moving image acquisition method to thereby maximize the inspection throughput.",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 6","b":["400","401","402","403","410"]},"At a decision block , it is determined whether the current operation or current operation set is part of an incompatible or interrupting operation or sequence, for example based on the method described with reference to , or on an associated predetermined classification of the operation(s), or an identifying flag or statement in the part program, or other known method. Alternative methods for performing block  may be devised by one skilled in the art based on the information in this disclosure.","If an operation is determined to be part of an incompatible or interrupting operation sequence at the block , then operation proceeds to block , where if a moving image acquisition sequence was in progress, it is ended or interrupted and the images associated with the moving image acquisition sequence are recalled and their associated analysis and inspection operations are performed, and the associated results are output and\/or stored. Following the completion of the operations of block , the incompatible or interrupting operations or sequence (determined at the block ) is performed at the block .","If an operation is determined not to be part of an incompatible or interrupting operation or sequence at the block , then operation proceeds to decision block , where it is determined whether the current operation is part of a moving image acquisition sequence currently in progress. If the current operation is part of a current moving image acquisition sequence then operation proceeds to block , where the machine vision system is controlled to perform operations that follow or \u201cfly\u201d the path associated with the current moving image acquisition sequence, and acquire and store the associated images. Otherwise, if an operation is determined to not be part of a moving image acquisition sequence at block , then operation proceeds to block . In such a case, by reaching the block , it is assumed that the current operation is part of a current image recall and analysis inspection sequence of operations (which may also include certain independent operations, as previously described), and the current operation is performed, and the associated results are output and\/or stored.","Following any of the blocks ,  or , operation proceeds to a decision block  where it is determined whether there are additional part program operations to be performed. If it is determined at block  that there are further operations to be performed in the current part program, then operation returns to block  where the method continues. Otherwise, if it is determined at block  that there are no further operations to be performed, then the method ends.",{"@attributes":{"id":"p-0087","num":"0086"},"figref":["FIG. 7","FIG. 7","FIG. 7","FIG. 7"],"b":["700","703","706","707","708","709","710","700","701","702","701","703","703"]},"While preferred and exemplary embodiments of the invention have been illustrated and described, it will be appreciated that various changes can be made therein according to the principles of this invention without departing from the spirit and scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The foregoing aspects and many of the attendant advantages of this invention will become more readily appreciated as the same become better understood by reference to the following detailed description, when taken in conjunction with the accompanying drawings, wherein:",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 1B","FIG. 1A"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 4A"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 4B","FIG. 4A"],"b":"304"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 5A"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 5B","FIG. 5A"]},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
