---
title: Destination call routing apparatus and method
abstract: A Destination Call Router network element is provided for Internet Protocol dial-up congestion relief, providing Public Switched Telephone Network off-load. The network element, a combination of an Asynchronous Transfer Mode switch and a Broadband Interworking Call Router with application software, is interposed as a node within the conventionally arranged PSTN. Call data is interworked to destination locations based upon call types associated with called directory numbers. Signaling messages for voice-type calls are forwarded over the standard telephony signaling network to destination End. Offices. Signaling for Internet Protocol calls is routed to a Remote Access Server via a Primary Rate Interface after translation to an applicable ISDN protocol, thereby bypassing destination End Offices for IP calls. For both call types, the network element controls its constituent ATM switch to direct ensuing call communications to the appropriate destination. Call Detail Records are collected for IP calls and forwarded to the existing call accounting system of the conventionally arranged PSTN.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07436851&OS=07436851&RS=07436851
owner: Lucent Technologies Inc.
number: 07436851
owner_city: Murray Hill
owner_country: US
publication_date: 19990329
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION","DESCRIPTION OF AN EXEMPLARY EMBODIMENT","CONCLUSION"],"p":["The invention relates generally to telephony and more specifically to the routing of calls on the public switched telephone network.","The explosive growth of the Internet has transformed the way people communicate with each other and conduct business. The Internet is an international network of interconnected computers which provide the means to communicate easily with others and to access easily vast amounts of information from around the world. One aspect of the Internet is the World Wide Web (WWW), which is an amalgamation of on-line web sites that replicate electronically some of the educational, entertainment and commercial offerings of the off-line everyday world.","Typically, personal computer access to the Internet is provided by an Internet Service Provider (ISP), which is able to offer its customers various \u201con-line\u201d services, including electronic mail, file transfers, and the ability to browse and publish on the WWW. ISPs enable their customers to quickly and efficiently partake of the diverse on-line content and services offered at web sites by combining computer processing, information storage, protocol conversion and routing with communication links to Internet web sites.","To access the Internet, a user dials a directory number to access an ISP facility via a modem through application software resident on the user's computer. Once a connection is established between the user's computer and the ISP facility, the user interacts with the application interface and communicates with the ISP. The ISP acts as a conduit through which the user accesses the offerings of the Internet.","With the increasing popularity of the Internet and the WWW, users are routinely accessing\/downloading vast quantities of data as well as exchanging messages and files. This has resulted in a substantial increase in the number of calls placed to ISPs as well as the duration of a typical ISP call. While providing great benefits for users, the increased and extended Internet usage has caused several unexpected problems for the existing Public Switched Telephone Network (PSTN).","In conventional systems, calls from a user to an ISP are handled in the same manner as voice calls. That is, when a call is initiated, signaling\u2014including off-hook signals and touch-tones\u2014is conveyed from the calling phone to telephony equipment located at his\/her End Office (An EO, also known as a Class 5 Office, implies that a Class 5 switch is there located to provide local features such as CENTREX, ISDN, etc. Such telephony equipment at an EO is hereinafter referred to as an EO). In the call scenario where the user and the ISP are both served by the same EO, no tandem switching is involved and the call connection is made through activity internal to the EO. In the call scenario where the ISP \u201cpoint of presence\u201d (PoP) is located in the same local access area as the user, the EO transmits messages to telephony equipment at a Central Office (CO) of a Local Exchange Carrier (such telephony equipment hereinafter referred to as a LEC) which provides local service and switching for both the caller and the ISP. The LEC utilizes a Tandem switching office (Tandem) to connect the EO serving the user to the EO serving the ISP. In the call scenario where the calling party and the ISP are not in the same local service area, the caller's EO transmits messages to its LEC Tandem which provides the caller's local service and switching. The calling party's Tandem establishes a connection to the ISP through a corresponding EO of the LEC serving the ISP. Communication between equipment serving the calling party and called party may be across competitive long distance carrier (IXC) networks through an IXC PoP serving LECs at each end.","In cases involving tandem switching, the call originating Tandem selects an idle trunk between itself and the call destination location. Described herein is a direct connection from a call originating Tandem to call destination Tandem. However, it should be understood that signaling may be routed through multiple intermediary locations in the PSTN in order to reach the call destination Tandem. The call originating Tandem formulates an initial address message (IAM) and transmits the message across the PSTN to the call destination Tandem. Upon the destination Tandem's receipt of the IAM, determination that it serves the called number, and determination that the called number is currently idle, the destination Tandem formulates an address complete message (ACM) which is routed back to the call originating Tandem. At the same time, the destination Tandem completes the call path in the backwards direction. When and\/or if the called subscriber picks up the phone, the destination Tandem formulates an answer message (ANM). By this time, the trunk must also be connected to the called line in both directions to allow conversation. The call originating Tandem ensures that the calling subscriber is connected to the outgoing trunk (in both directions) so that the parties are able to communicate with each other, exchanging voice or Internet Protocol (IP) data, depending on the type of communication initiated. When either party first hangs up, the corresponding equipment generates a release message (REL) addressed to the other party's equipment, which identifies the trunk associated with the call that is to be disconnected and returned to idle status. Once idled on one end, a release complete message (RLC) is generated and addressed back to the sender of the REL to idle the identified trunk.","As described, in conventional systems, the circuit switches and transmission line allocated for the call remain allocated for a particular call until released at the call's conclusion. Due to the extended duration of typical calls to an ISP, the PSTN's embedded base of circuit switches experience higher usage rates, causing considerable congestion at times when the network is carrying a significant number of calls supporting IP dial-up traffic. This burden on the existing circuit switch backbone of the PSTN is expected to become worse as the projected number of Internet users reaches and exceeds 100 million over the next few years. With the increased usage of PSTN facilities attributable to Internet traffic, the switching and transmission facilities of the PSTN will rapidly approach capacity.","To avoid unacceptable service degradation due to network facilities operating at or near capacity, the standard method for increasing network capacity is to build out the circuit switches of the network at each LEC, as well as to increase inter-switch transmission capacity. However, this solution is costly in both monetary and spatial requirements. Furthermore, PSTN service providers plan in the future to migrate from the existing bandwidth limited switched circuit networks to packet oriented networks which support the transport of voice, data, and video services. Thus, building out the circuit switching network to address Internet-driven traffic congestion is not only an inefficient and expensive approach, it also fails to consider the future evolution of the PSTN.","Accordingly, it is an objective of the invention to provide a network element that furnishes Internet Protocol (IP) dial-up congestion relief, characterized herein as Public Switched Telephone Network (PSTN) off-load, in order to maximize network availability and protect revenue streams. Such a network element will integrate into the existing PSTN, provide high service availability, be scaleable quickly to large numbers and be consistent with the PSTN's expected future evolution. To that end, a network element to facilitate PSTN off-load is provided that is able to separately identify incoming voice and IP calls in real-time and to cause voice calls to be routed to a specific voice switch and IP calls to be routed to a Remote Access Server (RAS), while preserving billing information for those IP calls.","That network element, called a Destination Call Router (DCR), combines at least one Asynchronous Transfer Mode (ATM) switch and a Broadband Interworking Call Router (BICR) along with appropriate application software. The BICR operates to intercept the originating call signaling and, based on a determination from such call signaling as to whether the call is a voice or an IP call, to direct voice and data calls through the ATM switch to either a voice circuit switch or to a Remote Access Server (RAS). In a preferred embodiment, that determination is made based on whether or not the destination telephone number is an ISP location. The DCR is interposed within the signaling network and the digitized voice transmission system of the existing PSTN. In the operation of the DCR, the BICR acts as a node within the signaling network, intercepting, translating and directing the routing of call data in conjunction with the ATM switch.","The BICR identifies call types (as between voice and IP) in real-time and causes call set-up signaling and associated call data to be routed through the ATM switch via a particular routing mode based upon call type. If a call is voice type, the BICR makes such a determination based on the intercepted signaling message and causes that signaling data and the associated call data to be routed via the ATM switch to the voice circuit switch in the serving End Office. If a call is IP type, the BICR translates the signaling message to an Integrated Services Digital Network (ISDN) message and causes the translated call set-up signaling message and the associated call data to be routed via the ATM switch across a Primary Rate Interface (PRI) to an Remote Access Server (RAS) associated with the called directory number. Note however, that with the method of the invention, billing information for IP calls will no longer be captured by the existing billing system. Therefore, the BICR also collects Call Detail Records (CDRs) for forwarding to the existing call accounting system of the Competitive Local Exchange Carrier (CLEC) and Incumbent Local Exchange Carrier (ILEC) network.","The present invention allows local exchange carriers to segregate voice and IP traffic coming from an call originating Tandem, and causes the IP traffic to be routed outside the circuit switched network, thereby relieving congestion in the circuit switched network without requiring additional investment in circuit switches. The same architecture supports the contemplated next generation multi-service network, which will support voice as well as ATM, IP, Private Branch Exchange (PBX) interconnect, and legacy data interfaces among others.","In the detailed description below, like reference numerals are used to describe the same, similar or corresponding elements in .","The present invention is a novel network element for providing Internet Protocol (IP) dial-up congestion relief, for call scenarios involving tandem switching, through the method of Public Switched Telephone Network (PSTN) off-load. The network element, called a Destination Call Router (DCR), combines at least one Asynchronous Transfer Mode (ATM) switch and a Broadband Interworking Call Router (BICR) with application software to interwork call set-up signaling and ATM switch signaling. The DCR acts as a node interposed within the PSTN. The DCR interworks (i.e., intercepts, translates and routes) call set-up information in order that voice and data calls are directed through the ATM switch to either a voice switch or a Remote Access Server (RAS), based upon the call type as determined by the called directory number. In this manner, Internet Protocol (IP) calls may be routed to an Internet Service Provider (ISP) while bypassing circuit switches. The DCR also collects Call Detail Records (CDRs) for forwarding to the existing call accounting system of the PSTN.","The DCR is susceptible to positioning in various locations within the PSTN and may act as a node between two Tandem switching offices (Tandems) or between a Tandem and a End Office (EO) serving a called party. While this invention may be implemented in many different forms, there is shown in the drawings and will herein be described in detail specific embodiments, with the understanding that the present disclosure is to be considered as an example of the principle of the invention and not intended to limit the invention to the specific embodiments shown and described.",{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 1","b":["102","104","106","108"]},"The network element of the present invention, called a DCR , comprises a BICR  controlling an associated ATM switch . In a preferred embodiment the ATM switch  is an \u201cPacketStar\u2122 Access Concentrator \u201d available from the assignee herein, Lucent Technologies of Murray Hill, N.J. The DCR includes in its BICR an appropriate Application Programming Interface (API) to command its ATM switch and signal connected PSTN network elements. The \u201cPacketStar\u2122 Access Concentrator \u201d of the preferred embodiment is controlled by the \u201cSapphire\u201d API, which is used by the BICR to send switch fabric control messages that set up\/tear down connections within the ATM switch (e.g., port  to port N (not shown)). The \u201cSapphire\u201d API is currently available from Lucent Technologies of Murray Hill, N.J., the assignee herein. The DCR interworks telephony signaling to direct voice and IP traffic (arrow )\u2014interworking being defined as the interception of data from a first location, contingent conversion of data of a first protocol to corresponding data of a second protocol, and routing of data to a second location. In a preferred embodiment, the BICR will support interworking of SS7 to SS7 and SS7 to ISDN Primary Rate Interface (PRI) Q.931 signaling formats. PRI is a standard level of service for larger users of ISDN digital transmission service, and includes a number of B (bearer) channels for data, voice, and other services and a D (delta) channel for control and signaling information. Q.931 is the standard protocol for transmission over the D channel of a PRI.","The originating Tandem  performs a routing table lookup of directory numbers associated with a particular destination location to determine the network element to which signaling messages will be routed for a particular call. When the originating Tandem  determines that a DCR should be signaled for a particular call, upon receipt of the signaling message across the Signaling Network  from originating Tandem , the BICR  of the DCR  interprets the signaling message to determine the called directory number. In a preferred embodiment, the BICR performs a routing table lookup of directory numbers associated with an ISP and provided by an ISP for customer access to the Internet. In this manner, the BICR determines whether the attempted call is for voice traffic or IP traffic. It should, however, be understood that other means for identifying ISP traffic are also intended to be within the scope of the invention.","Voice traffic is routed to a destination End Office (EO) , as in conventional systems. The BICR  of a DCR  forwards signaling messages across the Signaling Network  to a destination EO  in order to have a voice circuit switch and transmission line allocated by destination EO . Reply signaling messages from destination EO  are returned across the Signaling Network  through the BICR  to originating Tandem . Once the voice circuit has been established, the BICR  also controls ATM switch  of the DCR  to route the voice traffic on the digitized voice transmission system from originating Tandem  to destination EO . Appropriate API commands from BICR  to ATM switch  control a switched connection or soft Permanent Virtual Circuit (PVC) to destination EO .","IP traffic is routed to a destination RAS , which provides access to the ISP and thence the Internet . BICR  of DCR  sends the intercepted call signaling message to destination RAS  via ISDN Q.931 signaling over a PRI (arrow ) D (delta) channel from the ATM switch . In an exemplary embodiment, destination RAS  is a \u201cPortMaster\u00ae 4\u201d which is currently manufactured by the assignee herein, Lucent Technologies of Murray Hill, N.J. The \u201cPortMaster\u00ae 4\u201d is a remote access server which lacks SS7 signaling capability, although any standard RAS that supports PRI Q.931 signaling may be used. Of course, the BICR may be programmed to operate with RASs that support other signaling formats. The BICR  also controls a switched connection or soft PVC at ATM switch  to route the IP traffic across an ISDN PRI B (bearer) channel to an RAS  corresponding to the location of the addressed ISP. Note, however, that the use of other transmission paths between the ATM switch and a given RAS\u2014e.g., a dedicated T1 channel\u2014would also be within the contemplation of the invention.","The BICR collects raw Call Detail Records (CDRs) for all IP calls under the method of the invention, since billing information for such calls will no longer be captured by existing billing systems  of the PSTN. The CDRs detail call information which may include call start and end time-stamps, called party directory number and sub-address, calling party directory number and sub-address, disconnect reason, inbound and outbound B channel, inbound and outbound Circuit Identification Code (CIC), inbound and outbound node identification and other information as desired. The CDRs are stored, preferably in Bellcore's Accounting Management Accounting (AMA) format, and later transferred electronically by BICR  to the existing billing system  of the PSTN a Local Area Network connection (e.g., Ethernet). Any other billing format is easily substituted according to customer demand and of course, other transmission paths may be traversed from the DCR to the existing billing system.","The voice and Internet Protocol (IP) traffic transmitted between the originating Tandem and the DCR may be distributed over any digitized voice transmission system including T1, E1, STS-1, and DS-3. As would be understood by those skilled in the art, a DCR also may be interworked with other digitized transmission systems and signaling networks formats. Moreover, additional interfaces such as frame relay, native ATM, and Ethernet, may be used to create a multi-service device. In this manner, the DCR supports the multi-service infrastructure forming the basis of the next generation multi-service PSTN, and is able to support voice as well as ATM, IP, Private Branch Exchange (PBX) interconnect, and legacy data interfaces.","A DCR allows separation of IP traffic from the voice network in real-time, thereby enabling congestion relief for PSTN circuit switches. Of course, it would be understood that the DCR may be scaled to comprise a plurality of ATM switches controlled by a single BICR, routing calls to multiple destination EOs and\/or RASs. Tandems, EOs, RASs and other telephony infrastructure on either or both ends of the connection may be provided by an Incumbent Local Exchange Carrier (ILEC), Competitive Local Exchange Carrier (CLEC), or Interexchange Long Distance Carrier (IXC), as chosen by the user\/customer and\/or ISP.","Voice Traffic:","Referring now to  in which reference numbers - denote actions undertaken at sequential points in time, the exemplary call scenario for voice traffic in accordance with the invention is illustrated.  is best understood with reference to , which depicts the message flow across the signaling network during a voice traffic call. As a first step, the DCR node, comprising the BICR\/ATM switch combination, is assigned a Destination Point Code (DPC) within the signaling network. For instance, destination EO  is assigned DPC-X, DCR  is assigned DPC-Y and originating Tandem  is assigned DPC-Z. When a user attempts to initiate a call at his\/her location involving tandem switching, his\/her assigned Tandem  determines from a table look-up that the called number is in an area served by a DCR. The Tandem  then sends an Initial Address Message (IAM) at step , via the SS7 A-linked Signaling Network to the DCR. The DCR, based on the called directory number, determines that attempted call is not an ISP Internet access directory number but a voice call bound for a destination EO. The DCR routes the signaling for this call to the destination EO via the Signaling Network. All other routing decisions and validation checks are left to the destination EO.","The forwarded IAM is received by the destination EO at step  and an Address Complete Message (ACM) is replied at step . Upon receiving the IAM message, the DCR cuts through the voice circuit within one of its ATM switches in both directions at step . The DCR then sends an Answer Message (ANM) to the originating Tandem at step , upon receiving an ANM sent from the destination EO at step . At this time, the call is connected and stable until one of the parties releases it, which will be indicated by a Release Message (REL) from the call terminating equipment. The DCR will complete the release in the opposite direction and release the switch circuits and the switch cut-through in the ATM switch. For instance, at step  the call is released by the originating Tandem and a REL is sent to the DCR. The DCR sends a REL to the destination EO at step  and sends a Release Complete Message (RLC) to the originating Tandem at step . The DCR then awaits receipt of a RLC from the destination EO terminating the call and releasing the switch circuit of the destination EO and ATM cut-through at step .","Internet Protocol Traffic:","Referring now to  in which reference numbers - denote actions undertaken at sequential points in time, the basic call scenario for IP traffic in accordance with the invention is illustrated.  is best understood with reference to , which depicts the message flow across the signaling network during an IP traffic call. DCR  acts as a node of the Signaling Network, intercepting and interworking all messages between an originating Tandem , a destination EO  and an RAS . A user initiates a call at his\/her location and originating Tandem  determines from a table look-up that the called number is in an area served by a DCR. The Tandem  then sends an Initial Address Message (IAM) at step , via the SS7 A-Linked Signaling Network to a DCR . The DCR performs a table lookup and determines that the called directory number is an ISP Internet access directory number, which is associated with a RAS. The DCR routes the signaling for this call via an ISDN PRI and Q.931 signaling to RAS , performing all necessary validation checks and signaling message translations prior to routing.","The signaling IAM is translated to a SETUP message, routed to and received by RAS at step . The RAS responds with a PROCEEDING message (optional) at step  and an ALERTING message at step . Upon receiving the ALERTING message from the RAS, the DCR cuts through the virtual circuit within one of its constituent ATM switches in both directions thereby connecting the input voice circuit from Tandem  with a selected B-channel connected to the RAS. The cut-through is implemented by sending the appropriate API command to the ATM switch and routing an Address Complete Message (ACM) to the originating Tandem at step . The DCR then sends an Answer Message (ANM) to the originating Tandem at step , upon receiving a CONNECT message sent from the RAS at step . At this time, the call is connected and stable until one of the parties releases it, which will be indicated by a Release Message (REL) from the originating Tandem or a DISCONNECT message from the RAS. The DCR will complete a call release in the opposite direction, releasing the switch circuits at the Tandem and the switch cut-through in the ATM switch. For instance, at step  the call is released by the originating Tandem and a REL is sent to the DCR. The DCR sends a DISCONNECT message to the RAS at step  and sends a Release Complete Message (RLC) to the originating Tandem at step . The DCR then awaits receipt of a DISCONNECT-ACK message from the RAS terminating the call and releasing the channel resources at step . In this case, the BICR also generates CDRs for later electronic transfer via a Local Area Network connection (e.g., Ethernet) to existing call accounting systems.","Destination Call Router Programming Control:","Referring to , an exemplary system for network management control of the DCR network element implemented within the PSTN is illustrated. A network management computer  is arrayed with element managers resident in memory and interconnected with some of the network elements of the PSTN. The element managers are displayed pictorially as icons on the network management computer monitor, along with other resident software applications. From the network management computer, the elements comprising a DCR , a BICR  and at least one ATM switch , are provisionable via a first element manager , for example Aquewin in the preferred embodiment. Aquewin, currently manufactured by the assignee herein, Lucent Technologies of Murray Hill, N.J., is an element manager developed to provide remote management of the \u201cPacketStar\u2122 Access Concentrator \u201d and BICR. With these abilities, a routing table of ISP Internet access directory numbers, associated Remote Access Servers, and corresponding ATM switches may be constructed. Further, each RAS  may be provisioned individually by a second element manager , PMVision\u2122, also resident on the network management computer. PMVision\u2122 is an element manager developed to provide remote management of the \u201cPortMaster\u00ae 4\u201d and is currently manufactured by the assignee herein, Lucent Technologies of Murray Hill, N.J. These element managers enable the user to provision the programmable parameters of PSTN network elements with a Command Line Interface (CLI) using Telnet and Simple Network Management Protocol (SNMP) commands. Naturally, the individual element managers can be integrated into a single Network Management Application. The network management computer also allows remote access and control of the CDRs stored at the BICR, facilitating CDR editing and programmable transmission of CDRs to the call accounting systems of the PSTN. In the preferred embodiment, the network management platform is a Sun Solaris 2.5 or a Sun Ultra II provided by Sun Microsystems, Inc. of Palo Alto, Calif.","There has been described and illustrated herein, a network element that provides IP dial-up congestion relief, protecting the availability of circuit switches in the PSTN. As described, the network element integrates into the existing PSTN, provides high service availability, is easily scaleable and considers the PSTN's future evolution. The Destination Call Router of the present invention, a combination of an ATM switch and a BICR with application software, is interposed as a node within the signaling network and digitized voice transmission system of the existing PSTN. The DCR intercepts and interworks incoming call data based upon call type, which corresponds to the called telephone number. The DCR interworks call set-up signaling to control PSTN network elements and its constituent ATM switch, thereby routing voice calls to destination EOs and Internet protocol calls to destination RASs.","It is to be understood that the invention is not limited to the illustrated and described forms of the invention contained herein. It will be apparent to those skilled in the art that various changes may be made without departing from the scope of the invention and the invention is not considered limited to what is shown in the drawings and described in the specification."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["For a better understanding of the present invention, reference may be had to the following description of exemplary embodiments thereof, considered in conjunction with the accompanying drawings, in which:",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
