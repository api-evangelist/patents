---
title: Aircraft data services
abstract: A method and system provide efficient, flexible, and convenient data communication services over public wireless systems. The system includes a data communication server, having a plurality of interface units, for facilitating data communication between a moving object and one or more ground terminals via a radio communication path. The data communication server establishes the radio communication path over one of a plurality of wireless data networks including packet data networks and satellite data networks and preferably includes a pre-determined software architecture.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07020708&OS=07020708&RS=07020708
owner: Cingular Wireless II, LLC
number: 07020708
owner_city: Atlanta
owner_country: US
publication_date: 20010619
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application is a continuation-in-part of U.S. patent application Ser. No. 09\/312,011 filed May 14, 1999 now U.S. Pat. No. 6,760,778, entitled \u201cMethod and Apparatus for Data Communication Utilizing the North American Terrestrial System\u201d. This application is related to U.S. application entitled \u201cAircraft Data Communications Services for Users\u201d, which is filed on even date herewith. These applications are commonly assigned.","1. Field of the Invention","The present invention generally relates to wireless data communication services. It particularly relates to aircraft data communication services.","2. Background","Existing data communication services, particularly for aircraft systems, are generally limited by particular (non-public) communication protocols, systems, and applications. These particular protocols include the Aircraft Communication Addressing and Reporting System (ACARS), which is an aircraft communication protocol limited to safety and operations data and confined to particular hardware\/software systems. Another limited, non-public system is the Air Traffic Control Radar Beacon System (ATCRBS), which provides surveillance data to air traffic controllers. The particular applications provided by non-public communication systems include ground flight recorder development, air traffic control operations, maintenance operations, position monitoring (e.g., global position satellite systems\u2014GPS systems), collision avoidance, aircraft surveillance, weather radar, in-flight entertainment and other specific applications.","Existing data communication services for aircraft passengers are similarly limited to particular communication protocols and software\/hardware systems, therein limiting convenience, affordability, and efficiency. These user communication protocols and systems include the Terrestrial Flight Telephone System (TFTS) and other private communication protocols and systems. These private systems require specialized, high-cost antenna equipment and power control systems or an inconvenient, invasive passenger ID assignment system to make use of public communication systems such as the cellular communication system or the public switched telephone network (PSTN), or require high-interference systems such as the existing amplitude modulation (AM) aircraft communication systems. Based on these existing limitations of non-public communication systems, a need exists to enable flexible, seamless data communication for aircraft systems using public wireless networks to increase affordability and efficiency.","The previously mentioned disadvantages are overcome by providing an efficient, flexible, and convenient method and system for providing data communication services. In accordance with embodiments of the present invention, a data communication server, including a plurality of interface units, facilitates data communication between a moving object and one or more ground terminals via a radio communication path. The data communication server establishes the radio communication path over one of a plurality of wireless data networks including terrestrial and satellite data networks and may include an object-oriented software architecture. Additional features of the present invention include personal data communication services for users and operational data services for the moving object.","Additional features of the present invention include a system for providing communication services including a data communication server, co-located with a moving object, for establishing a radio communication path between a moving object and a ground station, the data communication server including software architecture including software functional layers.","Further features of the present invention include a method of providing wireless data communication services including establishing a radio communication path between a moving object and a first ground station using a communication server co-located with the moving object, and communicating with a second ground station via the first ground station.","System Components",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 1","b":["100","100","110","150","180","110","100"]},"The CDS  provides access to the data services provided by the system  via the server . The CDS may include a plurality of components including a Human Interface Module (HIM) , a Passenger Access Server (PAS) or Terminal Server (TS) (not shown), and other components known to those of skill in the art for forming a Cabin Communications System (CCS). The HIMs  may be laptop computers with applications for logging data and interfacing with the server for data transfers. The PAS\/TS, which may advantageously be a part of the server  or an external device, can provide dial-up connectivity to the passenger seats for data service access.","The bearer services system components  can provide the server  with the data connectivity to a plurality of ground-based servers. The bearer services system components  may include a plurality of components including an Airborne Communications Unit (ACU) , a Wireless Gate-link system (WGS) , a Satellite Data Unit (SDU) , and a Terrestrial Flight Telephone system (TFTS) . The WGS  may be, for example, a wireless LAN transceiver (as shown in ) based on the IEEE 802.11 specifications which can allow transfer of high-speed data to the server  in the airport when the aircraft (moving object) is on the ground. The ACU may act as the gateway to a ground-based data center via the North American Terrestrial System (NATS) network. Although the present invention is described with reference to the NATS network, the NATS network is solely exemplary and alternative communication networks may be used for providing air-to-ground data communication services.","The SDU may provide access a Satellite Communications (SATCOM) Satellite Bearer Service. The TFTS is used to access the European land-line telephone network.","System  may include a plurality of components to provide higher data bandwidth and passenger access technology for facilitating data applications, examples being Internet Web browsing and email retrieval. These components include Direct Broadcast Service (DBS) satellite decoder , passenger cabin dial-up access system , and the WGS . Other components of system  can help facilitate data communications over the existing NATS data network.","The server  may include a CPU (not shown) comprising, for example, an Intel Pentium Pro, or equivalent processor system. The CPU provides multiple functions including, for example, interfacing various applications for data storage and retrieval, and managing various data communications interfaces for data transfer to the ground-based servers.","The server  may include a plurality of interface units for interconnecting to various data networks. These interface units may comprise a plurality of discrete I\/O boards or a single integrated board. Alternatively, the server  may include commercial off-the-shelf (COTS) network cards to provide data communications services for the system .","The plurality of interface (I\/O) units may include an Ethernet interface unit , modem , communications (COM) port , Integrated Services Digital Network (ISDN) Basic Rate Interface (BRI) port , Primary Rate Interface (PRI) port , ARINC-429 (Aeronautical Radio, Inc.) bus interface unit , and ARINC-573 bus interface unit . The Ethernet unit  may include ports for interconnection to the HIMs  and to the external terminal station (TS), and may be used to connect to the wireless local area network (LAN) transceiver  providing a high-speed data path to ground terminals while the aircraft (moving object) is on the ground. Alternatively, a COTS Ethernet card attaching to an external hub (not shown) may be used.","The modem  and COM port  are used to enable the server  to provide dial-up connection to the ground-based servers via the NATS network. Additionally, in the packet data mode for system , the COM port  can be used to connect the server  to the ACU  directly.","The PRI port  and BRI port  allow users (passengers) to establish dial-up internet protocol (IP) connections, via the CDS , when the system  offers Web browsing, email retrieval, and other passenger-related data services. The BRI port  may also be used as one of the system  link options when operated in the packet data mode. This mode is entered when a call is established between the server  and the ACU , and the bearer channel (B-channel) is operated in 64-Kbps unrestricted mode. Once the call setup is completed, data is transferred without alteration allowing data-link protocols, an example being Point-to-Point Protocol (PPP, RFC-1548), to be used to encapsulate the IP packets sent to and from the ACU. This mode may also be referred to as the transparent bearer service.","The ARINC-429 bus interface  can be used by the server  to receive data from a plurality of on-board management systems and to allow access to an additional bearer service via the existing Aircraft Communications Addressing and Reporting System (ACARS) messaging capabilities or Satellite Data Unit (SDU) if so chosen. The server  can also receive data transmitted from the ground via ACARS using the interface . Advantageously, the interface  has at least one transmit port to interface with an ACARS mobile unit (MU)  and at least two receive ports, one to receive management data from the Aircraft Condition Monitoring Systems (ACMS) and one to receive data from the ACARS. Additional receiving ports can be added as need to provide further management applications to monitor data from on-board sensors via the ARINC-429 bus interface .","Additionally, the system  may include a digital satellite system (DSS) interface unit (not shown) to provide broadband packet data service at faster rates than an T1\/E1 rate. The broadband data service can use a Direct Broadcast Satellite (DBS) to transmit and receive packet data, including a DSS channel coding scheme, quadrature phase shift keying (QPSK) modulation and R-S forward error correction, MPEG-2 technology for compressing and transporting (data link layer) the digital video data, and low-profile antenna and DSS decoder PC board\/box to receive and decode the DSS signal. Other broadband methodologies may include, but are not limited to MPEG-4 (e.g, H.263, H.261) and other compression techniques including compression techniques that are standards compliant or proprietary.","The ACU  enables air-to-ground communication using the existing NATS network. Advantageously, two types of ACU can be used based on the type of interface to the CDS , examples being a type 496 and a type 4300\/8600. Type 496 has 12 ISDN BRI ports that support direct interface to BRI handsets, and type 4300\/8600 interfaces to the CDS  by connecting to the Cabin Telecommunications Unit (CTU)  via ISDN PRI port . The data link to the ACU  may be via one of the B channels on the same PRI that carries voice traffic to the ACU  requiring the server  to request a B-channel call to the ACU  via the CTU .","Both types of ACU can include a baseband unit (BBU), radio frequency unit (RFU), and a power supply unit (PSU). The BBU advantageously controls the data link connection from the aircraft to the nearest ground station. Both types of ACU will accept two different data link connection types from the server. In the non-packet data mode, an asynchronous (Async) voice-grade modem dial-up via a B-channel ISDN link using a data access unit (DAU)  can be used. In the packet data mode, a transparent B-channel data link can be used.","In the non-packet data mode, the link operates with the BBU having an internal modem to provide V.32\/V.22 capability interfacing with the modem on the server . In the packet data mode, the server  can first encapsulate the IP packet in a PPP data frame and send it to the BBU using the clear B channel data service. Once the BBU receives the PPP frame, the BBU will strip off the PPP header from the PPP packet, and repackage the remaining IP packets into the radio (RF) framing structure. The server  then modulates the data with phase shift keying (PSK) and up-converts the signal to radio frequency for the RFU to transmit to the ground. The RFU provides needed signal amplification for transmitted and received signals, and the PSU provides direct current (DC) power derived from the aircraft (moving object) power source.","The Human Interface Modules (HIMs)  can be laptop PCs, for example, used by crew and operational personnel as the gateway to the system applications via a standard graphical user interface (GUI). HIMs  can be housed, for example, in an adapter shell that allows connection to a common docking station, the adapter shell providing the interface between the HIM  and the docking station and equipped with an Ethernet interface to connect to the server .","System Data Link Interface Options","The communication system, including server , has access to ground-based data servers via several data bearer services as illustrated in . These data bearer services can include wireless LAN services , NATS packet or voice-band data services , satellite data services , terrestrial flight telephone services (TFTS) , and direct satellite system services (DSS) .",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 3","b":["325","310","325","492","340","370","400","430","480","465"]},"The other two options operate in the packet data mode. A regular traffic channel of the NATS network will be used to carry the packetized data and a circuit switch call is performed to maintain the channel for the duration of the packet transfer. The first packet mode option  uses the ISDN BRI interface unit of the server  by connecting the server  to the type 496-BBU, part of ACU , via the BRI line. To establish a radio communication path, the server  can send a call setup request message to the 496-BBU, and the 496-BBU can request the ground station for a traffic channel before the 496-BBU establishes the call with the server . After a channel is allocated, the 496-BBU returns a call-establish-message back to the server , and an end-to-end ISDN data call is established between the server  and the 496-BBU. Subsequently, IP packets are transferred using the B channel by encapsulating them inside the PPP frame.","The second packet data option  uses ACU  of type 4300\/8600. In this option, the server  is connected to the 4300\/8600-BBU via the CTU  using the ISDN E1 PRI link. The call setup then follows a similar scenario as to the first packet data option that used BRI except that the CTU  is used to establish the call to the BBU, part of ACU , over one of the B-channels. At the BBU, IP data packets are channel encoded and encapsulated in radio frequency (RF) data frames. Subsequently, the data packets are modulated onto a radio frequency and sent to the Ground Station (GS) . At the GS , the data packets are sent along to the Ground Data Gateway (GDG)  via a Frame Relay (FR) network. The GDG  advantageously transfers the IP packets to different networks by proper protocol conversions, and receives all ground-to-air packet data call requests, sending them to the destination air terminal via an associated GS where a radio link is established by the air terminal.","Additionally, an alternative system architecture  can be used for a packet data mode allowing aggregation of multiple radio links to provide higher data throughput. This higher data rate can be achieved by tunneling the PPP frame from the server  to GDG  via a Layer Two Tunneling Protocol (L2TP). L2TP tunneling allows the PPP session to be initiated by the server  and terminated at the GDG , not the BBU (part of ACU ), allowing the server  and GDG  to establish multiple PPP sessions over multiple radio links. The GDG  enables the server  to negotiate a PPP Multilink Protocol (MP) with GDG to bundle all the PPP sessions together to form a higher bandwidth virtual pipe.","Also, during operation, the radio communication path between the server  and the GDG  may be shared by voice and data traffic where the data traffic is interleaved over the voice traffic and inserted, via data frames, into existing voice traffic channels when silence is detected on the existing voice traffic channels.","Tunneling (L2TP) provides a number of unique advantages for the system. These advantages include using the existing infrastructure to make the addition of server data communication services transparent to the existing Air-Ground network until the IP packet arrives at the GDG. Further advantages include the following: 1) lower development costs because development is only needed at the two ends, server and GDG, and the existing serial line internet protocol (SLIP) on the BBU can be used for delivering L2TP packets; 2) allowing single point of processing for IP address assignment and packet filtering because only the GDG will be used to maintain databases; 3) allowing end-to-end recovery and flow control which therefore removes the need for the BBU to perform buffering and link layer maintenance; 4) allowing aggregation of multiple radio links to increase throughput using MP; 5) allowing future development of new PPP extensions without requiring changes to the BBU\/GS because the radio network just passes the packets through the GS; 6) enabling tunneling interfaces with other bearer services, allowing all communications to occur between the server and the GDG independent of the bearer service selected.","For the CPE , three data link options can be selected depending on the type of data mode to be used. For a voice-grade data link, the CPE  can interface to the system via a V-series modem connected to a two-wire analog line from the LEC (local exchange carrier). For packet data mode, the CPE  has two options. For a first packet data mode option, the CPE  can use a frame relay service if the CPE is part of an already existing frame network. Advantageously, a permanent virtual circuit (PVC) from each GS to a NATS data gateway over the existing frame network can be established to deliver IP packets from the aircraft (moving object). The CPE can act as a router connecting to the system with the server behind it, or alternatively the server can terminate the frame relay service and IP is transmitted over the link. For the second packet data mode option which provides lower costs, ISDN BRI service is obtained from the local exchange carrier (LEC). When IP packets are destined to the CPE, the GDG will set up the data link dynamically by calling to the CPE using PPP for IP encapsulation.","An alternative bearer service used by the system can be a satellite communication service. One example can be the INMARSAT DATA services which provides an X.25 service with maximal data throughput (e.g., 10.5 Kbps) and is accessible through the SDU .  shows the connection options  for connecting the server to the SDU. Two options ,  may use an ISDN D-channel to establish the X.25 SVC (switched virtual circuit) and transport the X.25 data packets. An alternative option  can use the high-speed ARINC-429 port  to interface directly with the SDU for X.25 call setup and data transport.","Other alternative bearer services can be used including broadband satellite link services\u2014for example, a DBS system. A suitable digital compression system, for example a Moving Picture Expert Group (MPEG-2) system, can be used to multiplex any digital signals with digitized video signals, including any packet data, on to one, or to a very small number of satellite transponders. Other compression methodologies may include, but are not limited to MPEG-4 (e.g, H.263, H.261) and other compression techniques including compression techniques that are standards compliant or proprietary.","Use of a DSS system\/interface unit allows for broadband communication independent of the particular link content, either a compressed video signal or a sequence of IP packets which can be deciphered by a video coding device at the GS and the DSS receiver on the aircraft. Passenger and cabin applications for this broadband satellite service include, but are not limited to, software downloading, flight information updates, Internet browsing, and TV\/video delivery.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 5","b":["600","610","615","612","630","618","620","640","650","630","638","637","636","635","600"]},"The system architecture , using asymmetrical data transport, can provide large bandwidth (e.g., in excess of 5 Mbps) from the network (DSS, upstream) to the aircraft and from the aircraft to the network (e.g., 4.8\u20139.6 Kbps) (NATS, downstream). A large bandwidth for the upstream can be useful for web applications since most Internet browsing retrieves a much greater amount of information than is initially transmitted.","Alternatively, other satellite bearer services can be used to deliver data communication services, for example, LEO\/MEO\/GEO (low earth orbiting\/middle earth orbiting\/geosynchronous earth orbiting) satellite systems. Specific commercial examples of suitable LEO\/MEO\/GEO systems include, but are not limited to Iridium, Globalstar, ICO, Odyssey, Millennium, Space, Astrolink, Cyberstar, and Teledesic. Use of these systems enables data service offerings in the exemplary range of 384 Kbps\u20131.2 Gbps, and allows various data applications including video conferencing, high-quality video, high-speed Internet, and virtual LAN service.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 6","b":["605","605","610","612","615","685","695","680","690","695","694","691","693","640","692","610","680","690","605","615","685","610","695","694"]},"The satellite network  can perform necessary routing and handoff procedures to establish and maintain connectivity between the aircraft  and ground networks . Additionally, the satellite network  can serve as a network cloud providing connectivity between any pair of clients (e.g., aircraft  and ground networks ) preferably using SVCs or PVCs.","The aircraft  includes a satellite transceiver unit capable of transmitting and receiving data using any particular satellite network, and having the capability of handling either ATM or frame relay protocol such that a SVC or PVC can be established between the aircraft transceiver box and ground networks . Using this setup, IP packets can be encapsulated by these lower layer protocols to enable a transparent conduit for IP packets to travel from the aircraft to the desired ground networks .","Another alternative data link option enables passenger cabin dial-up access services.  shows the communication system architecture  for passenger cabin dial-up services. The system architecture  includes cabin distribution system , server  having its components, and can further include digital flight data acquisition unit (DFDAU) , ACARS MU , and other components.","The system  allows a user (passenger) to access internet service, either via an on-board internet service or using the server as a proxy to access the rest of the Internet. At least two types of access are available depending on the configuration of the user's access device (e.g., laptop). For all access scenarios, the connection to the server  via the TS function will be over a CTU-switched ISDN B-Channel. Advantageously, the user's access device can be equipped with a PCMCIA V-series modem allowing connection to an RJ-11 jack on the handset, and the handset can be connected to the CTU  via the CDS network. For this configuration, a modem pool, as part of the TS function, can peer with the laptop modem, and the link layer protocol is PPP so that proper authentication (for billing purposes) and dynamic IP address assignment can be achieved. Advantageously, a useful COTS TS for serving this function includes, but is not limited to, the Ascend MAX or US Robotics Total Control that, on one end, can interface with the CTU via a T1\/E1 PRI or with the BBU via a BRI and, on the other end, with the server via Ethernet (see )","Alternatively, the user's access device can be equipped with an ISDN modem, alleviating the need for the server  to have modem capability. In this configuration, an internal COTS PRI PC card can be used for handling the end-to-end digital signal. Advantageously, this particular configuration imposes no additional development on the aircraft end, only requiring modification on the handset to provide a U-interface for connecting to the user access device ISDN modem.","Networking",{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 8","b":["900","910","920","925","930","937","935","900","940","945","955","950","960","965","900"]},"As described previously, a point-to-point link can be established between the aircraft and remote server using the PPP link layer protocol to encapsulate IP for transfer across this virtual connection. The data link can be established in three stages, using an air-to-ground link request, ground-to-ground call setup, and end-to-end call setup.","Advantageously, the air-to-ground link can be first requested using a FAX\/DATA channel request signal via the DAU  to the BBU . BBU  can determine which ground station to use and can then send a request channel signal, via RFU , to the ground station (GS) selected. Once the selected GS finds an available channel, the GS sends a request to the switching center (SC) , receives an acknowledgment, and then returns the acknowledgment with the assigned channel to BBU , via BBU  and RFU . After receiving the acknowledgment signal, BBU  sends a signal to server  via DAU  indicating that a channel is being made available. Upon completion of this air-to-ground link request (channel availability), the voice path can be established between the server  and the SC , and the SC  inserts an in-band dial-tone and waits for the server  to out-pulse in-band DTMF digits to complete the ground portion of the call connection.","Once the air-to-ground call setup is completed, the ground-to-ground call setup can then proceed. Once the server  receives the \u201cdial-now\u201d signal, it then out-pulses the 10-digit phone number to the SC. The SC then connects to the destination number via the PSTN and bridges the two conference legs together. At this point, the SC returns the call progress tone all the way back to the server . Upon answering the call, the remote TS , either at the GDG or the CPE, sends the in-band modem answer tone, via modem , to start the modem negotiation with the calling party, via modem . Once the GS detects the modem tone, it cuts the voice path, and sends a signal to the BBU  to request it to start modem training with the server . At the same time, the GS starts the modem training with the TS . When both pairs of modems ,  complete the training, the data can flow through the air link using a particular out-of-band protocol while the data flowing between the two pairs of modems can use a V-series protocol.","Once the setup of the physical layer between the server  and TS  is completed, the TS  can start the link layer negotiation with the server using the PPP protocol in accordance with RFC 1548, 1549 including the three main components of PPP: LCP (Link Control Protocol), NCP (Network Control Protocol), and multi-protocol encapsulation. PPP encapsulation frames can be used to carry the IP traffic across the data link between the two PPP peers, the server  and the TS  of the ground network. Advantageously, the server  may act as a proxy server or perform network address translation for any clients on the same LAN.",{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 9","b":["1000","1005","1008","1010","1015","1020","1025","1005","1015","931","1005"]},"Alternatively, if the ISDN PRI is used instead for call setup, the call request can be initiated when the server sends a call setup message to the CTU  as described previously. CTU , based on the destination number of the call setup message, will send an incoming data call indication to the BBU. Once the BBU detects the incoming call event, it will proceed and negotiate a traffic channel as described previously. Once the channel is allocated, the BBU will send back call answer messages to the CTU to inform the server  that a data link is up and it is ready to receive any PPP packets. Once the PPP packet arrives at the BBU, the BBU will strip off the PPP header from the PPP packet, put the remaining PPP packets into RF frames, and transmit the channel-encoded RF frames over the radio link to the GS .","Once the GS  receives the radio frame, it will recover the IP packet and forward it to the GDG , advantageously serving as a router and interface to the public Internet and to the private network that interconnects the CPE servers such that every IP packet will be routed to the appropriate network based on the destination IP address. For ground-to-air packet data calls, the GDG will send call request messages to the associated GS for certain destination air terminals via a frame relay network. When a radio link is available, a connection will be set up from GDG to server (using circuit mode from GS to server).","Mobility Handling\u2014Air Terminal Tracking","The system can use mobility handling procedures to track locations of Air Terminals\/ACU in real time to facilitate proper handoffs for both the air-to-ground (ATG) and ground-to-air (GTA) packet data calls. Handoffs can occur across the link when the aircraft (moving object) travels from one GS coverage area to another, necessitating the selection of an alternative GS to handle the radio link for the aircraft. Also, the GDG, handling IP packets destined to the aircraft, is informed of the new GS handling the radio link with the aircraft.","Handoffs can be initiated due to a plurality of air link conditions. These conditions can include, but are not limited to, pre-determined distance, call times, pilot distance, time, and bit-error-rate (BER) thresholds being satisfied. These conditions may be further defined as initiating a hand-off in response to one of the following: when predetermined distance and call time thresholds are satisfied, when pre-determined distance and error rate thresholds are satisfied, when pre-determined first distance, second distance, and call time thresholds are satisfied, and when pre-determined call time, error rate, and distance thresholds are satisfied.","To facilitate handoff management, the network used for the radio link (an example being the NATS data network) assigns an IP address for each network element. These network elements can include, but are not limited to, ground station management (GSM), ground station controller (GSC), channel thread, switching center (SC), and operating center (OC). IP addresses for air terminals can be assigned dynamically by the channel threads when the AT connects with the GS. When handoff happens, a different channel thread from another GS will be used for the same call; therefore the AT will get a different IP address.","For a packet data call, the IP address of the server is unique and static during the flight. An IP address is assigned to the server dynamically by the GDG when the flight starts and a first packet data call is requested. Thereafter, the same IP address may be used throughout the entire flight and is freed up when the flight ends. The termination of an active flight, activating the release of the IP address, may be triggered by a time-out based on the predetermined flight time or by a message initiated from the ADS to the GDG. Advantageously, a separate pool of IP addresses, distinct from those currently being used, is obtained for the packet data service.","Additionally, the GDG maintains necessary database tables to perform the mobility handling, examples being an IP address assignment table and an AT location table. The IP address table can include the AT identifications and the IP address of the current packet data calls. The AT location table can contain the AT ID and the associated GS and channel threads. Both tables are maintained and dynamically updated by the system. When returning packets are received at the GDG for a certain IP address, the GDG gets the AT ID from the IP address, and finds the AT's current location using the AT location table, inserting the AT ID into the returning packets and sending them to the associated GS.","Circuit Mode Data in the Packet Data Network","The packet data architecture described herein can be used for an improved circuit mode data solution (non-CTU installation). The circuit mode data system architecture  is shown in . The system architecture  includes user access device (e.g., laptop) , telephone , ACU , TS , antenna , radio tower , server , ground station controller (GSC) , router , frame relay , router , GDG , modem pool , PSTN , and destination modem .",{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 11","b":["1200","1200","1205","1210","1215","1220","1225","1230","1235"]},"Upon user request from the user access device , the BBU  can check to verify that adequate radio and server resources are available. Assuming adequate resources are available, the BBU  will then proceed to reserve a modem on the TS  and establish a link to the GSC . Once the link to the ground is established, an end-to-end TCP circuit is setup between the appropriate GDG  and TS  components, advantageously performed using telnet or a socket connection between the two components. The BBU  also forwards dialing and dialed numbers to the GDG . Pending a sanity check on the dialed number and a validation check on the billing instrument, the GDG  will initiate a connection to the desired destination party via a modem. Simultaneously, the BBU  will transfer the call to the TS  voice-band-data BRI interface with both modem connections (i.e., passenger to TS  and GDG  to remote end device) negotiating the link separately. Upon confirmation that these two links have been established, the GDG  and TS  can shuttle information to each other. Additionally, this configuration can support handoffs of voice-band-data calls.","Server Air Terminal","The Air Terminal (AT), including the BBU, can provide a plurality of packet handling services. These services can include an AT\/GS radio data bridge providing a data link layer with end-to-end error correction and with end-to-end packet sequencing. Additional services include any combination of half-rate and full-rate channels for the packet data service.",{"@attributes":{"id":"p-0081","num":"0080"},"figref":"FIG. 12","b":["1900","1905","1910","1920","1930","1925","1910","1910","1905"]},"Additionally, the BBU  may override an established packet data link should it be determined that a higher priority request must be serviced (e.g., ATG or GTA voice calls). Again, the BBU  uses the packet data priority negotiated at the establishment of the packet data link to determine whether override is allowed, and the AT notifies the data communication server of the link override via an appropriate protocol message (e.g., LAPD).","For hand-offs, the AT preferably notifies the data communication server  of an impending hand-off using an appropriate protocol message (e.g., LAPD). The server  may then accept or delay the hand-off, wherein for either case the server  signals the BBU  using an appropriate protocol message.","For Override Hand-off, in conditions where a packet data call and a voice call are active, the AT may determine that it is necessary to hand-off the voice call. To perform this override, the AT places the packet data call in a suspended mode to facilitate a voice call hitless hand-off, wherein the packet data link is reestablished through a newly selected GS. As with normal hand-offs, the BBU  notifies the server of the pending hand-off using a protocol message, and the server  may accept or delay the hand-off, wherein for either case the server  sends the appropriate protocol message to the BBU .","Server Software Architecture","As illustrated in , the server of the data communication system can advantageously include an object-oriented software architecture . Software architecture  includes server , GDG , and ground-based servers . An object-oriented software architecture is exemplary and alternative software architectures may be used including, but not limited to, C++, JAVA, HTML, etc.","Use of an object-oriented design includes that each system resource or service provider bears an object entity, and that services are accessible via the published methods. Resources are managed within the objects. Additionally, the server  may advantageously use a client-server model wherein the clients request the service by accessing the published methods or interfaces on the servers . The software architecture also advantageously may use location transparency wherein the objects are accessible by the clients universally within the confines of the access control and the network connectivity.","As shown in , the software architecture  may optionally include GUI (Graphical User Interface)  having interfaces allowing data communication applications to request services from the server . Preferably, objects on server  can advertise services that applications are allowed to access, the applications also accessing a Structured Query Language (SQL) manager as needed to interact with the GDG  to retrieve or send data. The GDG  may serve as a Data Proxy, using local storage space to either cache the data for upload to the server  or download to the customers' (user) ground-based servers (GBS) . GDG  will then use the proper transport to interact with the GBS  for data transfer. The GUI  can be optional to the design as applications may run unattended without human intervention and therefore are only used for maintenance operations under those conditions. The design of the architecture  is independent of the underlying operating system.","The software architecture can be logically divided into four functional layers  as shown in . These layers include an applications (AP) layer , application programming interface (API) layer , system services (SS) layer , and system resources (SR) layer . The AP layer can contain applications that are developed by the aircraft or other parties. The SR layer contains the system resources that are used by the SS layer when providing service to higher-layer components. The SR components can include the server bearer resources, the databases, the data storage, and JAVA execution environment, etc.","The SS layer components provide system-level services to the objects in the API layer or to other components in the same layer. The services can include, but are not limited to, various TCP\/IP services, avionics standards services, data compression and cryptographic services, scheduling, and transaction-oriented services. The SS layer includes API administration SS to manage all API objects, its purpose being to provide access control, service activation\/deactivation, and property change capabilities of the API object to the data communication service provider.","Advantageously, the SR layer may include at least four types of components used by the data communication server. These components can include device drivers, BITE system, file system, and miscellaneous facilities. Dependent on the underlying OS of the data communication server, the components of the SR layer may be part of the embedded OS or may be specially designed for aircraft data communication services.","Device drive (DD) components enable the SS layer components to interact with communication devices for data exchange with the GDG or with onboard avionics devices. Advantageously, the DD may be part of the underlying OS or may be specially developed, and includes a plurality of components including a BRI driver, PRI driver, Ethernet driver, ARINC-429 driver, and ARINC-573 driver.","The SR file system can advantageously provide a consistent way to store (or provide permanent storage\u2014persistence) the data including allowing the SS components to perform read, write, and delete operations based on particularly developed user rights or permissions. Additionally, the file system can include a special system file, the route table, used for determining the routing for IP packets. The route table can include a set of known routes and be locally stored in non-volatile memory.","Miscellaneous facilities can include an SQL database and a JAVA Virtual Machine (VM). The SQL database provides a database engine to store and manage the data needed by the server SS and API components, including all necessary database transactions such as query, insert, update, and delete functions. Advantageously, the JAVA VM can allow the server to access other network-based services using JAVA applications or applets. Use of the VM allows the server to write an API using JAVA architecture that allows clients from other platforms running a different OS to request services from the data communication server with a standardized protocol.","The API layer provides a consistent way for the AP to acquire and utilize data-oriented aircraft services. Advantageously, a generic object is produced, an example being the generic business object (BO), that will allow access to these services assuming specific transport protocols (e.g., TCP\/IP, UDP, etc.). This allows use of an object without specific knowledge of the service support structure. Alternatively, each component in the API layer can be represented as an object that provides one specific aircraft service, each object containing three major parts\u2014the communicator, the receptor, and the service logic. Services provided by each API object can be characterized by properties, methods, and events and are exposed through the communicator and the receptor.","The communicator is a client-side component which can be represented as a control in a user object (UO), or the object embedded in AP, which enables the AP to invoke services and to communicate or share the data construct with the object via a known set of properties, methods, and events. The receptor component which can be represented as a control in the business object and which resides inside the object itself, is used to accept the service requests and to share and communicate back with the AP. The service logic is the implementation of the object itself and has access to the lower-layer components. This architecture is illustrated in  and comprises the client process  and the local server process . Client process  includes client application  and user object , and local server process  includes business object  and local server .","Other API objects can include the FMS (Flight Management System) object for database loading, the FOQA (Flight Operations Quality Assurance) object for obtaining and managing ACMS data, and other objects.","In practical operation, the communicator can provide the clients the necessary networking and protocol handling capability to execute services on the server, and the receptor handles the requests initiated by the clients and starts \u201cInstances\u201d of the services being requested. Following this process, the communicator of the API allows the applications to make use of the services provided by the server. Similarly, the communicator of the SS object allows other SS and API components to utilize the services provided by the SS object.  illustrates an exemplary configuration for the software architecture  for an end-to-end system between the cockpit and cabin terminals , airborne data server , and ground data gateway .","Network Security","Network security is an important feature of the data communication server. As shown in , the system security architecture  may include a plurality of access nodes  interconnected to a plurality of data communication servers , and a public or private security network . Advantageously, the network may include GDG . An exemplary security configuration can include a perimeter-based security architecture having filtering performed at the borders and more complex filtering performed at internal checkpoints, and including proper address assignment and packet\/route filtering.","Advantageously, addresses can be separated into two blocks of addresses for subscribers (customers) and new users, including a public address block for the customers and a private address block for the new users. Route filtering and packet filtering can be provided to protect the network from bogus entry and address-spoofing.","For basic network access services (such as Internet access), the data communication server can perform dial-up authentication when the user connects to the server. PPP can be advantageously used to provide a plurality of in-protocol authentication methods. Preferably, a remote access dial-up user service (RADIUS) may be used to perform the dial-up authentication, allowing exchange of login information and user resource information between a client and a RADIUS server, the server containing a database. During an authentication session, the login information is sent to the RADIUS server, the user is authenticated, and the server returns the user data record provisioned in the database; such information may include the IP address assignment, the source and destination filter IDs, allowed access time, and other information.","Additionally, another method can be used to protect the user data routed through the network, the method including use of a Pretty Good Privacy (PGP) protocol which includes encryption and digital signature. For PGP, a digital signature is first created by generating a hashing code of the data file to be sent and encrypting the code with the sender's private key. The digital signature is first verified by decrypting the hash code using the sender's public key and comparing it to the new hash code generated for the received data file. Confidentiality is provided by properly encrypting the data using a randomly created session key. The key is encrypted using the recipient's public key and prepended to the just-encrypted data file. The signature is prepended to the data file before encryption when a signature is used together with the data file.","To decrypt the data file and to verify the signature, the recipient first decrypts the session key using the recipient's private key and uses the key to decrypt the encrypted block. Once the block is decrypted, the signature is verified using the process described previously. Using PGP, the data communication server can provide confidentiality of the data file and can classify the data file into different security levels by encrypting files with different public keys. Additionally, only authorized accounts\/personnel can decrypt the message and using the digital signature ensures that the files come from the right applications or accounts, therein preventing forging of the document.","Although the invention is described herein using the NATS network as a primary bearer service for an aircraft data communication service, it will be appreciated by those skilled in the art that modifications and changes may be made without departing from the spirit and scope of the present invention. As such, the method and apparatus described herein may be equally applied to any bearer service providing data communication services from any moving object."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 17"}]},"DETDESC":[{},{}]}
