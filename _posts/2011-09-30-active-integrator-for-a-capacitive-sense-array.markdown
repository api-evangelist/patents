---
title: Active integrator for a capacitive sense array
abstract: An active integrator for sensing capacitance of a touch sense array is disclosed. The active integrator is configured to receive from the touch sense array a response signal having a positive portion and a negative portion. The response signal is representative of a presence or an absence of a conductive object on the touch sense array. The active integrator is configured to continuously integrate the response signal.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09268441&OS=09268441&RS=09268441
owner: PARADE TECHNOLOGIES, LTD.
number: 09268441
owner_city: Santa Clara
owner_country: US
publication_date: 20110930
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","TECHNICAL FIELD","BACKGROUND","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Patent Application No. 61\/472,161 filed Apr. 5, 2011, the disclosure of which is incorporated herein by reference in its entirety.","The present invention relates generally to capacitive touch sense arrays, and more particularly, to an active integrator receiving circuit for a touch sense array.","Computing devices, such as notebook computers, personal data assistants (PDAs), kiosks, and mobile handsets, have user interface devices, which are also known as human interface devices (HID). One user interface device that has become more common is a touch-sensor pad (also commonly referred to as a touchpad). A basic notebook computer touch-sensor pad emulates the function of a personal computer (PC) mouse. A touch-sensor pad is typically embedded into a PC notebook for built-in portability. A touch-sensor pad replicates mouse X\/Y movement by using two defined axes which contain a collection of sensor elements that detect the position of one or more conductive objects, such as a finger. Mouse right\/left button clicks can be replicated by two mechanical buttons, located in the vicinity of the touchpad, or by tapping commands on the touch-sensor pad itself. The touch-sensor pad provides a user interface device for performing such functions as positioning a pointer, or selecting an item on a display. These touch-sensor pads may include multi-dimensional sensor arrays for detecting movement in multiple axes. The sensor array may include a one-dimensional sensor array, detecting movement in one axis. The sensor array may also be two dimensional, detecting movements in two axes.","Another user interface device that has become more common is a touch screen. Touch screens, also known as touchscreens, touch windows, touch panels, or touchscreen panels, are transparent display overlays which are typically either pressure-sensitive (resistive or piezoelectric), electrically-sensitive (capacitive), acoustically-sensitive (surface acoustic wave (SAW)) or photo-sensitive (infra-red). The effect of such overlays allows a display to be used as an input device, removing the keyboard and\/or the mouse as the primary input device for interacting with the display's content. Such displays can be attached to computers or, as terminals, to networks. Touch screens have become familiar in retail settings, on point-of-sale systems, on ATMs, on mobile handsets, on kiosks, on game consoles, and on PDAs where a stylus is sometimes used to manipulate the graphical user interface (GUI) and to enter data. A user can touch a touch screen or a touch-sensor pad to manipulate data. For example, a user can apply a single touch, by using a finger to touch the surface of a touch screen, to select an item from a menu.","A certain class of touch sense arrays includes a first set of linear electrodes separated from a second set of electrodes arranged at right angles and separated by a dielectric layer. The resulting intersections form a two-dimensional array of capacitors, referred to as sense elements. Touch sense arrays can be scanned in several ways, one of which (mutual-capacitance sensing) permits individual capacitive elements to be measured. Another method (self-capacitance sensing) can measure an entire sensor strip, or even an entire sensor array, with less information about a specific location, but performed with a single read operation.","The two-dimensional array of capacitors, when placed in close proximity, provides a means for sensing touch. A conductive object, such as a finger or a stylus, coming in close proximity to the touch sense array causes changes in the total capacitances of the sense elements in proximity to the conductive object. These changes in capacitance can be measured to produce a \u201ctwo-dimensional map\u201d that indicates where the touch on the array has occurred.","One way to measure such capacitance changes is to form a circuit comprising a signal driver (e.g., an AC current or a voltage source (\u201ctransmit\u201d (TX) signal)) which is applied to each horizontally aligned conductor in a multiplexed fashion. The charge accumulated on each of the capacitive intersections are sensed and similarly scanned at each of the vertically aligned electrodes in synchronization with the applied current\/voltage source. This charge is then measured, typically with a form of charge-to-voltage converter (i.e., receive or \u201cRX\u201d signal), which is sampled-and-held for an A\/D converter to convert to digital form for input to a processor. The processor, in turn, renders the capacitive map and determines the location of a touch.","Conventional capacitive sensing receiving circuits suffer from a number of deficiencies. Changes in capacitance, as a result of a touch by a conductive object, are generally small. As a result, much of the voltage appearing at the ADC is representative of the baseline capacitance of the sense elements of the array, which results in a large DC component. Capacitance changes due to touch may account for only 1% of the baseline capacitance. Further, noise from various sources may couple into the signal path, further complicating accurate capacitance change measurements and resulting in a low signal-to-noise (SNR) ratio.","Embodiments of the invention provide an active integrator configured to measure a capacitance of a touch sense array or part of an array (e.g., a single strip). The active integrator is configured to receive from the touch sense array a response signal representative of a presence or an absence of a conductive object on the touch sense array. The response signal is generally assumed to be supplied from a touch sense array, which is driven by an AC current\/voltage source. As a result, the response signal includes a positive portion and a negative portion. The embodiments described herein employ the active integrator and supporting circuitry to continuously integrate the response signal. This continuous integration property is primarily a result of the switch-capacitance nature of the active integrator. One possible advantage of employing a switched-capacitive active integrator may be an improved SNR over conventional designs. In one embodiment, when the frequency of switching matches the fundamental frequency and phase of the response signal, an output signal has a narrow pass-band centered about a fundamental frequency of the response signal, resulting in a substantially improved SNR. This method is also referred to as full-wave demodulation.","In one embodiment, the active integrator includes an operational amplifier (opamp) coupled to a pair of feedback capacitors. One feedback capacitor is configured to store a charge responsive to the positive portion of the response signal, and a second feedback capacitor is configured to store a charge responsive to the negative portion of the response signal. The first feedback capacitor and the second feedback capacitor may be configured to be variable to permit sensitivity calibration of the touch sense receivers. In one embodiment, the active integrator is coupled to a sample-and-hold (S\/H) circuit configured to full-wave demodulate the output signal of the active integrator by means of a one or more switches. A first capacitor is configured to hold a positive signal on the output terminal of the active integrator when the positive portion of the response signal is present, and a second capacitor is configured to hold a negative signal on the output terminal of the active integrator when the negative portion of the response signal is present.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1","b":["100","110","100","116","110","150","116","121","116"]},"In one embodiment, the sensor array  includes sensor elements ()-(N) (where N is a positive integer) that are disposed as a two-dimensional matrix (also referred to as an XY matrix). The sensor array  is coupled to pins ()-(N) of the processing device  via one or more analog buses  transporting multiple signals. In this embodiment, each sensor element ()-(N) is represented as a capacitor. The self capacitance of each sensor in the sensor array  is measured by a sensing circuit  in the processing device .","In one embodiment, the sensing circuit  may include a relaxation oscillator or other means to convert a capacitance into a measured value. The sensing circuit  may also include a counter or timer to measure the oscillator output. The sensing circuit  may further include software components to convert the count value (e.g., capacitance value) into a sensor element detection decision (also referred to as switch detection decision) or relative magnitude. In another embodiment, the sensing circuit  includes an active integration circuit  to be described below.","It should be noted that there are various known methods for measuring capacitance, such as current or voltage phase shift measurement, resistor-capacitor charge timing, capacitive bridge divider, charge transfer, successive approximation, sigma-delta modulators, charge-accumulation circuits, field effect, mutual capacitance, frequency shift, or other capacitance measurement algorithms. It should be noted however, instead of evaluating the raw counts relative to a threshold, the sensing circuit  via processing logic  may be evaluating other measurements to determine the user interaction. For example, in the sensing circuit  having a sigma-delta modulator, the processing logic  is evaluating the ratio of pulse widths of the output, instead of the raw counts being over or under a certain threshold.","In one embodiment, the processing device  further includes the processing logic . Operations of the processing logic  may be implemented in firmware; alternatively, it may be implemented in hardware or software. The processing logic  may receive signals from the sensing circuit , and determine the state of the sensor array , such as whether an object (e.g., a finger) is detected on or in proximity to the sensor array  (e.g., determining the presence of the object), where the object is detected on the sensor array (e.g., determining the location of the object), tracking the motion of the object, or other information related to an object detected at the touch sensor.","In another embodiment, instead of performing the operations of the processing logic  in the processing device , the processing device  may send the raw data or partially-processed data to the host . The host , as illustrated in , may include decision logic  that performs some or all of the operations of the processing logic . Operations of the decision logic  may be implemented in firmware, hardware, software, or a combination thereof. The host  may include a high-level Application Programming Interface (API) in applications  that perform routines on the received data, such as gesture interpretation. The operations described with respect to the processing logic  may be implemented in the decision logic , the applications , or in other hardware, software, and\/or firmware external to the processing device . In some other embodiments, the processing device  is the host .","In another embodiment, the processing device  may also include a non-sensing actions block . This block  may be used to process and\/or receive\/transmit data to and from the host . For example, additional components may be implemented to operate with the processing device  along with the sensor array  (e.g., keyboard, keypad, mouse, trackball, LEDs, displays, or other peripheral devices).","In one embodiment, the electronic system  is implemented in a device that includes the touch-sensing surface  as the user interface, such as handheld electronics, portable telephones, cellular telephones, notebook computers, personal computers, personal data assistants (PDAs), kiosks, keyboards, televisions, remote controls, monitors, handheld multi-media devices, handheld video players, gaming devices, control panels of a household or industrial appliances, or other computer peripheral or input devices. Alternatively, the electronic system  may be used in other types of devices. It should be noted that the components of electronic system  may include all the components described above. Alternatively, electronic system  may include only some of the components described above, or include additional components not listed herein.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 2","b":["121","101","121","101","100","121","225","222","223","225","201","212","213"]},"Sensing circuit  includes multiplexer control , demultiplexer  and multiplexer , clock generator , signal generator , demodulation circuit , and analog to digital converter (ADC) . ADC  is further coupled with touch coordinate converter . Touch coordinate converter  outputs a signal to the processing logic .","In one embodiment, processing logic  may be a processing core . The processing core may reside on a common carrier substrate such as, for example, an integrated circuit (\u201cIC\u201d) die substrate, a multi-chip module substrate, or the like. Alternatively, the components of processing core  may be one or more separate integrated circuits and\/or discrete components. In one exemplary embodiment, processing core  is configured to provide intelligent control for the Programmable System on a Chip (\u201cPSoC\u00ae\u201d) processing device, manufactured by Cypress Semiconductor Corporation, San Jose, Calif. Alternatively, processing core  may be one or more other processing devices known by those of ordinary skill in the art, such as a microprocessor or central processing unit, a controller, special-purpose processor, digital signal processor (\u201cDSP\u201d), an application specific integrated circuit (\u201cASIC\u201d), a field programmable gate array (\u201cFPGA\u201d), or the like. In one embodiment, the processing core  and the other components of the processing device  are integrated into the same integrated circuit.","It should also be noted that the embodiments described herein are not limited to having a configuration of a processing core  coupled to a host , but may include a system that measures the capacitance on the touch sense array  and sends the raw data to a host computer where it is analyzed by an application. In effect, the processing that is done by processing core  may also be done in the host. The host may be a microprocessor, for example, as well as other types of processing devices as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure.","The components of the electronic system  excluding the touch sense array  may be integrated into the IC of the processing core , or alternatively, in a separate IC. Alternatively, descriptions of the electronic system  may be generated and compiled for incorporation into other integrated circuits. For example, behavioral level code describing the electronic system , or portions thereof, may be generated using a hardware descriptive language, such as VHDL or Verilog, and stored to a machine-accessible medium (e.g., CD-ROM, hard disk, floppy disk, etc.). Furthermore, the behavioral level code can be compiled into register transfer level (\u201cRTL\u201d) code, a netlist, or even a circuit layout and stored to a machine-accessible medium. The behavioral level code, the RTL code, the netlist, and the circuit layout all represent various levels of abstraction to describe the electronic system .","It should be noted that the components of the electronic system  may include all the components described above. Alternatively, the electronic system  may include only some of the components described above.","In one embodiment, the electronic system  is used in a notebook computer. Alternatively, the electronic device may be used in other applications, such as a mobile handset, a personal data assistant (\u201cPDA\u201d), a keyboard, a television, a remote control, a monitor, a handheld multi-media device, a handheld video player, a handheld gaming device, or a control panel.","The transmit and receive electrodes in the electrode matrix  may be arranged so that each of the transmit electrodes overlap and cross each of the receive electrodes such as to form an array of intersections, while maintaining galvanic isolation from each other. Thus, each transmit electrode may be capacitively coupled with each of the receive electrodes. For example, transmit electrode  is capacitively coupled with receive electrode  at the point where transmit electrode  and receive electrode  overlap.","Clock generator  supplies a clock signal to signal generator , which produces a TX signal  to be supplied to the transmit electrodes of touch sense array . In one embodiment, the signal generator  includes a set of switches that operate according to the clock signal from clock generator . The switches may generate a TX signal  by periodically connecting the output of signal generator  to a first voltage and then to a second voltage, wherein said first and second voltages are different. In another embodiment, the active integration circuit  is coupled to the signal generator  to be described below. A person of ordinary skill in the art would appreciate that the signal generator  may supply a TX signal  that may be any periodic signal having a positive portion and a negative portion, including, for example, a sine wave, a square wave, a triangle wave, etc.","The output of signal generator  is connected with demultiplexer , which allows the TX signal  to be applied to any of the M transmit electrodes of touch sense array . In one embodiment, multiplexer control  controls demultiplexer  so that the TX signal  is applied to each transmit electrode  in a controlled sequence. In another embodiment, the TX signal  is applied to one or more transmit electrodes  simultaneously in what may be termed as a multi-phase TX mode. Demultiplexer  may also be used to ground, float, or connect an alternate signal to the other transmit electrodes to which the TX signal  is not currently being applied.","Because of the capacitive coupling between the transmit and receive electrodes, the TX signal  applied to each transmit electrode induces a current within each of the receive electrodes. For instance, when the TX signal  is applied to transmit electrode  through demultiplexer , the TX signal  induces an RX signal  on the receive electrodes in matrix . The RX signal  on each of the receive electrodes can then be measured in sequence by using multiplexer  to connect each of the N receive electrodes to demodulation circuit  in sequence.","The mutual capacitance associated with each intersection between a TX electrode and an RX electrode can be sensed by selecting every available combination of TX electrode and an RX electrode using demultiplexer  and multiplexer . To improve performance, multiplexer  may also be segmented to allow more than one of the receive electrodes in matrix  to be routed to additional demodulation circuits . In an optimized configuration, wherein there is a 1-to-1 correspondence of instances of demodulation circuit  with receive electrodes, multiplexer  may not be present in the system.","When an object, such as a finger, approaches the electrode matrix , the object causes a decrease in the mutual capacitance between only some of the electrodes. For example, if a finger is placed near the intersection of transmit electrode  and receive electrode , the presence of the finger will decrease the mutual capacitance between electrodes  and . Thus, the location of the finger on the touchpad can be determined by identifying the one or more receive electrodes having a decreased mutual capacitance in addition to identifying the transmit electrode to which the TX signal  was applied at the time the decreased mutual capacitance was measured on the one or more receive electrodes.","By determining the mutual capacitances associated with each intersection of electrodes in the matrix , the locations of one or more touch contacts may be determined. The determination may be sequential, in parallel, or may occur more frequently at commonly used electrodes.","In alternative embodiments, other methods for detecting the presence of a finger or conductive object may be used where the finger or conductive object causes an increase in capacitance at one or more electrodes, which may be arranged in a grid or other pattern. For example, a finger placed near an electrode of a capacitive sensor may introduce an additional capacitance to ground that increases the total capacitance between the electrode and ground. The location of the finger can be determined from the locations of one or more electrodes at which an increased capacitance is detected.","The induced current signal  is rectified by demodulation circuit . The rectified current output by demodulation circuit  can then be filtered and converted to a digital code by ADC . In an embodiment, the demodulation circuit may include an active integration circuit  to be described below.","The digital code is converted to touch coordinates indicating a position of an input on touch sensor array  by touch coordinate converter . The touch coordinates are transmitted as an input signal to the processing logic . In one embodiment, the input signal is received at an input to the processing logic . In one embodiment, the input may be configured to receive capacitance measurements indicating a plurality of row coordinates and a plurality of column coordinates. Alternatively, the input may be configured to receive row coordinates and column coordinates.","In one embodiment, a system for tracking locations of contacts on a touch-sensing surface may determine a force magnitude for each of the contacts based on the capacitance measurements from the capacitive sensor array. In one embodiment, a capacitive touch-sensing system that is also capable of determining a magnitude of force applied to each of a plurality of contacts at a touch-sensing surface may be constructed from flexible materials, such as PMMA, and may have no shield between the capacitive sensor array and an LCD display panel. In such an embodiment, changes in capacitances of sensor elements may be caused by the displacement of the sensor elements closer to a VCOM plane of the LCD display panel.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 3","FIG. 2","FIG. 2","FIGS. 3","FIG. 10"],"b":["300","227","121","300","321","326","340","345","213","324","326","328","330","324","326","338","326","339","326","340","340","217","342","344","345","300","6","6","8","321","101","227","213","331","227","212"]},{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIG. 4","FIG. 3"],"b":["326","328","340","300","326","446","450","452","454","456","454","450","458","458","460","454","450","462","462"],"sub":["INTP","INTN"],"i":["a","d","a","d. "]},{"@attributes":{"id":"p-0051","num":"0050"},"figref":["FIG. 5","FIGS. 3 and 4"],"b":["340","300","340","466","467","454","446","468","340","466","467","454","446","468","467","467","342","344","217","469","469","470","470","471","471","467","467","467","467"],"i":["a","a ","a","b","b ","b","a","b ","a","d ","a","d","a","b ","a","b","a","b "],"sub":["SHP","SHN"]},"Referring to , the sequencer  has full control over all switches and activities in general in an entire touch-screen subsystem (TSS). This includes activating TX signals applied to the touch sense array  (e.g., going high or going low), switches in the active integrator  (e.g., p, p, p, p), baseline control switches pwc\/pwc, IDAC values, the S\/H circuit , and so forth. Using the sequencer , all activities in the RX and TX circuits occur in a fully synchronous fashion to be described below in connection with . The sequencer circuit  is implemented as part of the PSoC\u00ae processing device comprised of custom universal digital blocks (UDB) configured to provide timing for all switches in the active integrator  according to the timing diagrams of . As used herein, UDBs are a collection of uncommitted logic (PLD) and structural logic (Datapath) optimized to create all common embedded peripherals and customized functionality that are application or design specific. UDBs may be employed to implement a variety of general and specific digital logic devices including, but not limited to, field programmable gate arrays (FPGA), programmable array logic (PAL), complex programmable logic devices (CPLD) etc.","In the depicted embodiment of , the baseline compensation circuit  includes a current-output digital-to-analog converter (IDAC)  coupled between ground and a gain block . The gain block  is coupled to the input negative input terminal  of the operational amplifier  by a pair of switches -, also labeled pwc and pwc, respectively. The switch (pwc) is configured to apply a negative current Ito the negative input terminal  of the operational amplifier  to cancel a positive baseline charge originating from the response signal present on an output of the touch sense array  via operation of pwc. Likewise, the switch (pwc) is configured to apply a positive current Ito the negative input terminal  of the operational amplifier  to cancel a negative baseline charge originating from the response signal present on an output of the touch sense array  via operation of pwc.","In one embodiment, the baseline compensation circuit  serves to minimize the baseline offset of the response signal appearing at the differential inputs of the ADC  so as to maximize the number of output bits that are representative of a change in capacitance due to the approach of the touch sense array  of a conductive object. As a result, the dynamic range of the sensing circuit  may be improved.","Tolerances associated with the design and manufacturing of the sensor panel can make the baseline capacitance of some sensor elements vary significantly, even within a single touch sense array . This can further reduce the dynamic range of the ADC , because a fixed charge from any sense line is simply a baseline charge carrying no information about a touch event. Thus, instead of using a single, fixed value in the baseline compensation circuit (i.e., the IDAC ), the value can be programmed in real-time to compensate for the actual baseline charge for the sense line currently sensed. The best setting can be determined in a \u201cself-tuning\u201d routine either at manufacturing time for the entire touch subsystem, or during power-up in the final end product.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIGS. 6A and 6B","FIG. 4","FIG. 5"],"b":["326","340","458","458","462","462","326","468","468","469","469","470","470","340","468","468","469","469","470","470","340","340","342","344","217"],"i":["a","d","a","d ","a","b","a","d","a","d ","a","b","a","d","a","d "],"sub":["INTP ","INTP","SHP ","SHN "]},{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIG. 7","FIG. 1","FIGS. 4 and 5","FIG. 7"],"b":["101","121","326","340","456","460","780","340","782","784","224"]},{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 8","FIG. 8"],"b":["800","326","340","300","121","802","300","121","121","804","300","802","804"]},{"@attributes":{"id":"p-0059","num":"0058"},"figref":["FIG. 9","FIG. 8","FIGS. 4"],"b":["804","5","9","902","456","227","458","458","1","1","326","462","462","2","2","456","456","454","450","452"],"sub":["INTP","INTP"],"i":["a","b ","p","a","b ","p"]},"At block , a charge responsive to the negative portion of the response signal is accumulated on the second integrating capacitor , C. More particularly, after all signals have settled down, the TX signal  is directed by the sequencer  to apply a high-to-low transition while simultaneously switches , (p\/p) are opened and switches , (p\/p) are closed. This connects the capacitor  (C) to the active integrator  while the capacitor  (C) is left floating, thereby temporarily holding its charge (the charge on the capacitor  cannot leak off). Again, after the incoming charge has been integrated, at block , the cycle starts over, switching the capacitor  (C) back into the active integrator  to collect a next charge packet, and so forth. Thus, positive charge packets are accumulated on capacitor  (C), while negative packets are accumulated on capacitor  (C).","While the positive and negative charges are producing corresponding positive and negative voltages across capacitor  (C) and capacitor  (C), relative to node  (Vy), at blocks , , respectively, output sampling capacitors  (C) and  (C) have been connected\/removed to\/from the integrator output  via corresponding non-overlapping closure\/opening of the pair of switches -(shp) and the pair of switches -(shn), respectively. As a result, the output sampling capacitors  (C) and  (C) carry the same voltages across them as the corresponding integration capacitors, , , respectively.","After a predetermined number of cycles, N, at block , the downstream ADC  of  is directed by the sequencer  to measure the differential voltage across the capacitors  (C) and  (C) (referred to as a \u201csub-integration\u201d), at which point, in block , the capacitors , , , and  are reset, and the whole process starts over. This differential voltage represents the difference in the positive and negative charge across the capacitors  (C) and  (C), respectively. As a result, both half-cycles of any TX pulse are added together, which amounts to a full-wave rectification. Although both half cycles are integrated in discrete steps, with very short interruptions between them to accommodate switch-over of the integration capacitors, this operation is referred to as substantially \u201ccontinuous\u201d integration.","More particularly, the S\/H circuit  operated in three stages to present a differential voltage to the ADC . The three stages include sampling from the integrator circuit , holding the sampled charge on the S\/H circuit , and driving the ADC . The following steps describe the signals involved.","Each of the S\/H buffers , samples the integrator output  on the last Tx clock period. The positive S\/H buffer samples the positive integration capacitor  (C) (nominally when the Tx has it's last high edge) and the negative S\/H buffer samples the negative integration capacitor integration capacitor  (C) (when the Tx has its last low edge). The first signal to transition are the buffer power up signals , (bufp_pdb and bufn_pdb). The S\/H buffers , are dynamically powered so they only consume current when required during the sample phase (shp) and during the drive ADC phase (adc_sample). In the sample mode, switch (shpp) is operated to put the S\/H buffer into a unity gain mode and to set up Von the right hand side of the sampling capacitors (C) and (C). Switch (shp) is operated to sample the positive input (from the active integrator ) on the sample\/hold capacitor (C). When both of these signals return to zero, the S\/H buffers , are powered down via inputs , (bufp_pdb and bufn_pdb), one node of the sample\/hold capacitor (C) is tied to Vvia switch (!shp && !adc_sample) and the second node is floating. This allows a \u2018hold\u2019 of the sampled positive integrator voltage on C. A similar operation samples and holds the negative integrator voltage on sample\/hold capacitor (C). Just before adc_sample transitions, the S\/H buffers , are again powered up (bufp_pdb and bufn_pdb), both Cand Care put in feedback around their respective buffers and the SAR capacitors Cand Cwithin the ADC  are charged to the values stored on Cand C.","This time-overlapping continuous integration at the input and output of the active integrator  results in faster sensor panel scan time, which can also reduce operational current. A reduction in operational current may reduce battery consumption, which is particularly important in batter-operated systems having touch sense arrays.","In another embodiment of the active integration circuit , the single input, dual output S\/H circuit  may be eliminated and the ADC  may be replaced with a sufficiently fast single input ADC. With a sufficiently fast ADC, the ADC may rapidly sample the positive going and negative going signals emanating from the integrator circuit  on the output  directly and then the processing core  may subtract the two signals digitally.",{"@attributes":{"id":"p-0067","num":"0066"},"figref":["FIG. 10","FIG. 2"],"b":["101","321","101","227","300","1092","212","321","321","1094","1096","1098","1096","321","101","1094","1096","321","1098","1098","1004"]},"In self calibration mode, each channel -of the touch sense array  may be further calibrated by scanning through the channels -one at a time via the demultiplexor , multiplexor , the active integrator , the sample-and-hold circuit , and the ADC , which in turn is digitally interfaced to the processing core . In an embodiment, a selected one of the channels -is continuously integrated by the active integrator , the sample-and-hold circuit , and the ADC  according to the method illustrated in . A selection circuit  and two or more gain correction values  are simulated in software within the processing core  for digitally calibrating channel variance due to component variations within and between the same or different touch sense arrays  during factory or in-service operation of the sensing circuit . Some or all of the components ,  may be implemented using other techniques as would be appreciated by one of ordinary skill in the art having the benefit of this disclosure.","Returning again to , resulting calibration values  are stored in memory and may be applied as a \u201cdigital gain correction\u201d factor to each output of the channels -. Digital gain correction improves touch location accuracies.","Returning to , in an embodiment, the first integrating capacitor  and the second integrating capacitor  may be variable\/programmable capacitors to permit a second degree of gain correction for eliminating channel gain variances.","Embodiments of the present invention, described herein, include various operations. These operations may be performed by hardware components, software, firmware, or a combination thereof. As used herein, the term \u201ccoupled to\u201d may mean coupled directly or indirectly through one or more intervening components. Any of the signals provided over various buses described herein may be time multiplexed with other signals and provided over one or more common buses. Additionally, the interconnection between circuit components or blocks may be shown as buses or as single signal lines. Each of the buses may alternatively be one or more single signal lines and each of the single signal lines may alternatively be buses.","Certain embodiments may be implemented as a computer program product that may include instructions stored on a computer-readable medium. These instructions may be used to program a general-purpose or special-purpose processor to perform the described operations. A computer-readable medium includes any mechanism for storing or transmitting information in a form (e.g., software, processing application) readable by a machine (e.g., a computer). The computer-readable storage medium may include, but is not limited to, magnetic storage medium (e.g., floppy diskette); optical storage medium (e.g., CD-ROM); magneto-optical storage medium; read-only memory (ROM); random-access memory (RAM); erasable programmable memory (e.g., EPROM and EEPROM); flash memory, or another type of medium suitable for storing electronic instructions. The computer-readable transmission medium includes, but is not limited to, electrical, optical, acoustical, or other form of propagated signal (e.g., carrier waves, infrared signals, digital signals, or the like), or another type of medium suitable for transmitting electronic instructions.","Additionally, some embodiments may be practiced in distributed computing environments where the computer-readable medium is stored on and\/or executed by more than one computer system. In addition, the information transferred between computer systems may either be pulled or pushed across the transmission medium connecting the computer systems.","Although the operations of the method(s) herein are shown and described in a particular order, the order of the operations of each method may be altered so that certain operations may be performed in an inverse order or so that certain operation may be performed, at least in part, concurrently with other operations. In another embodiment, instructions or sub-operations of distinct operations may be in an intermittent and\/or alternating manner.","In the foregoing specification, the invention has been described with reference to specific exemplary embodiments thereof. It will, however, be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention as set forth in the appended claims. The specification and drawings are, accordingly, to be regarded in an illustrative sense rather than a restrictive sense."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Embodiments of the present invention will be more readily understood from the detailed description of exemplary embodiments presented below considered in conjunction with the attached drawings in which like reference numerals refer to similar elements and in which:",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 4","FIG. 3"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 5","FIGS. 3 and 4"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIGS. 6A and 6B","FIG. 4","FIG. 5"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 7","FIG. 1","FIGS. 4 and 5"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 9","FIG. 9"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 10","FIG. 2","FIG. 2"]}]},"DETDESC":[{},{}]}
