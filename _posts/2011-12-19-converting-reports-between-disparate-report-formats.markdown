---
title: Converting reports between disparate report formats
abstract: Various embodiments of systems and methods for converting reports between disparate report formats are described herein. In one aspect, a first report in a markup data schema is received. On another aspect, a second report in a banded report schema, comprising one or more bands, is created. The second report is created as a blank report. First report formatting settings of the first report are converted to second report formatting setting of the second report. Report content and report content layout from the first report are converted to the second report.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09128908&OS=09128908&RS=09128908
owner: SAP SE
number: 09128908
owner_city: Walldorf
owner_country: DE
publication_date: 20111219
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The field generally relates to reporting and transformation of reports.","With greater access to Information Technology (IT), enterprises have increased capacity and desire to produce and use reports to view useful data. Reports are used in a lot of different fields, such as business, marketing, human resources, education, and others. Reports contain information retrieved from (i.e., in response to computer executable instructions) a data source (e.g., a database, a data warehouse, and the like), where the information is typically structured in accordance with a report schema that specifies the form in which the information may be presented. Reports are usually built by inserting report data items and other formulas into a containment hierarchy of report elements, each structured in graphical zones that are arranged with respect to axes. Any value displayed in a report, or report value, belongs to a specific instance of a zone in a terminal reporting element, and is thus obtained by computing a formula in a dimensional context determined by one of the many combinations of values for each of the axes that govern this zone. Filters may also be assigned to the reporting elements.","There are various software systems and tools that provide techniques for analysis and presentation of information, as well as storing and managing of reports and analytics. Business Intelligence (BI) is a term used to describe a category of systems and applications used to gather, store, provide access to, and analyze data to help enterprise users make better business decisions. Applications that exemplify BI include querying and reporting, online analytical processing (OLAP), profiling, statistical analysis, and forecasting. Examples of applications that allow creation of human-readable reports are BI solutions, such as SAP\u00ae Crystal Reports\u00ae. There are however a lot of other publically available products that may offer different functionality for preparing the design, visualization, and delivery of reports in various formats. Enterprises may use many different reporting tools with various schemas. However, migrating data from one reporting tool to another imposes a significant burden on IT resources.","Various embodiments of systems and methods for converting reports between disparate report formats are described herein. In one embodiment, the method includes receiving a source report related to a markup data schema and creating a target report related to a banded report schema. Report formatting settings, report content and report content layout from the source report are converted to the target report. The report content comprises information presented in the source report and the report content layout defines the position and the manner in which the report content is displayed.","In other embodiments, the system includes at least one processor for executing program code and memory, comprising a receiving module to receive a source report related to a markup data schema and a target report generating module that is in communication with the receiving module to create a target report related to a banded report schema. The system also includes a formatting conversion module to convert report formatting settings of the source report to the target report and a content conversion module to convert report content and report content layout from the source report to the target report.","These and other benefits and features of embodiments of the invention will be apparent upon consideration of the following detailed description of preferred embodiments thereof, presented in connection with the following drawings.","Embodiments of techniques for converting reports between disparate report formats are described herein. In the following description, numerous specific details are set forth to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize, however, that the invention may be practiced without one or more of the specific details, or with other methods, components, materials, etc. In other instances, well-known structures, materials, or operations are not shown or described in detail to avoid obscuring aspects of the invention.","Reference throughout this specification to \u201cone embodiment\u201d, \u201cthis embodiment\u201d and similar phrases, means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the present invention. Thus, the appearances of these phrases in various places throughout this specification are not necessarily all referring to the same embodiment. Furthermore, the particular features, structures, or characteristics may be combined in any suitable manner in one or more embodiments.","A common use case when working with reports is transferring from one reporting tool to another. That creates a need to transition from the report format that is used for storing the reports in the previously adopted reporting tool to the newly chosen one. The reports can be associated with different data schemas stored in different file formats that have specific report formatting. For example, a transition can be made from an eXtensible Markup Language (XML) based report to a report in a banded report format, such as an .RPT format used by SAP\u00ae Crystal Reports\u00ae by SAP AG.",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1","b":["100","110","130","100","110","130","120","120","110","130","120","110","130","110","110","110"]},"In one embodiment, the banded report schema for the target report  presents grouped data and detailed data, and includes one or more bands. The bands are data containers that may organize target report objects. The bands are horizontal sections that are part of a report structure of the target report and are displayed in the report as many times as defined for the part of the report structure. They may include a report header, a page header, a page footer, a report footer, and a details band. The details band is a band that can contain subbands, which are also bands. For example, reporting tools such as SAP\u00ae Crystal Reports\u00ae by SAP AG, Microsoft\u00ae SQL Server\u00ae Reporting Services by Microsoft Corporation, Pentaho\u00ae Business Analytics by Pentaho Corporation employ banded reports.","In one embodiment, the target report  may be in an .RPT format. The file extension .RPT is often used for report files. Several software tools use the .RPT format. For example, SAP\u00ae Crystal Reports\u00ae uses the .RPT file format. This is a software program that empowers business users to explore, view, report, visualize, and manage information in an intuitive way. A file in an .RPT format is a binary file and usually contains American Standard Code for Information Interchange (ASCII) plain text code in it. Such a file may be viewed printed or converted into another format. It defines the report schema by defining where and how data will be extracted from a data source and how it will be displayed. For example, it may be filtered, grouped, and sorted.","In one embodiment, the conversion module  is associated with hardware, software, and data resources. In one embodiment, the conversion module  is associated with a CPU  and a repository  to assist the process of conversion which makes changes in the form and properties of the target report . The system  includes the CPU  for execute the program code. The repository  stores part of the data from the source report that may be accessed and used in the target report. In one embodiment, the repository  may contain, for example, images, charts, etc.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2","b":["200","210","110","220","130","230","230"]},"At step , report content and report content layout from the source report are converted to the target report. There are row patterns defined for rows that give reference to the report content and define the report content layout. The report content presents the information in the source report and includes source report fields and source report objects. The report content layout includes report content positioning and display properties of the source report. The display properties include styles that may be styles for the cells or styles for the text. Moreover, the display properties include row pattern rules. These rules are formatting rules that allow choosing from alternative row patterns to be used in the source report sections.","According to one embodiment, the row pattern rules contain a rule which is a Boolean expression. It may be determined to be either \u201ctrue\u201d or \u201cfalse\u201d, to define whether a row pattern would be applied to the source report section or not. Furthermore, the row pattern rules include an optional row pattern which will be applied in case the Boolean expression is determined to be \u201cfalse\u201d, which means that it will not be valid. When there is a rule with a Boolean expression that is determined to be \u201ctrue\u201d, the row pattern rule is valid. Hence, the target report  would have a report structure that corresponds to the source report structure and will be filled with the report content of the source report, represented in such a way that it corresponds to the report content layout of the source report. In one embodiment, the target report  may be displayed in a reporting tool.","In one embodiment, when making the conversion of the report content and the report content layout from the source report to the target report, a connection to a repository (e.g.,  in ) is made. The repository stores the report content of the source report and it stores information about the display properties. The target report content positioning is determined for the target report objects from the target report. The target report objects from the target report that corresponds to the cells presenting the report content from the repository are inserted. For these target report objects, the determined target report content positioning is applied. The styles that are used in the source report are converted into corresponding styles for the target report. From these corresponding styles, a matching style is applied for the target report objects when there is a style defined for the report content of the source report. When there is a row pattern rule defined for the row patterns in the source report, the rule from the row pattern rule is converted into a conditional formula for formatting settings. If the row pattern rule defined in the source report is valid, the conditional formula for the formatting settings would be applied in the target report.","In one embodiment, during determining the target report content positioning for the target report objects, the report content positioning of the cells is read from the repository. Coordinates for the positioning of the cells is determined. The size of the cells is interpreted by the cell height and cell width. The number of source report fields within the cells is determined. A content type of the source report fields of the source report is identified. The content type may be data or text. When the content type is text, the information is stored in a text field. Text may be interpreted as an input from an end user who is preparing the report. On the basis of the values for the cell width, cell height and the number of the source report objects in a cell, the size of the target report objects is calculated. On the basis of the coordinates of the cells from the source report and the consequent number of the position of the source report fields in the cell, and the width of the target report object, the coordinates for the target report objects are calculated. The consequent number of the position of the source report field may take values from  to the number of source report fields in a cell.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 3A","FIG. 1"],"b":["110","300","305","300","310","315","320","325","315","315"],"sub":["cell ","cell"]},{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 3B","FIG. 1","FIG. 3A","FIG. 1"],"b":["130","330","335","310","110"]},{"@attributes":{"id":"p-0031","num":"0030"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mrow":{"mi":["target","report","object","width"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}]},"mo":"=","mfrac":{"mrow":[{"mi":["cell","width"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mi":["number","of","source","report","fields","in","a","cell"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mrow":{"mstyle":[{"mspace":{"@attributes":{"width":"0.6em","height":"0.6ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"mo":"\u2062"}}]}}},{"mrow":{"mo":["(",")"],"mn":"1"}}]},{"mtd":[{"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"4.4em","height":"4.4ex"}}},"mo":"\u2062","mrow":{"mrow":[{"mi":["target","report","object","height"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}]},{"mi":["cell","height"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}],"mo":"="}}},{"mrow":{"mo":["(",")"],"mn":"2"}}]}]}}}},"The position of the target report objects in the target report is calculated on the basis of the coordinates of the cell from the source report, the target report object width, and the position of the source object field from the cell in the source report. The position of the target report objects is determined by the coordinates for an edge point , which are Xand Y. The Xis proportional to the sum of the X(from ) and a term proportional to the product of the position of the source report object minus an offset (e.g. 1 unit) and the target report object width. The Yis equal to Y(from ). In one embodiment the positions are:\n\n+(position of the source report field\u22121)\u00d7target report object width\u2003\u2003(3)\n\n\u2003\u2003(4)\n","The number of target report objects that may correspond to a source report field (e.g.,  in ) depends on a content type of the source report field. The source report fields may be data fields or text fields. When there are data fields in the source report, they are positioned in two separate target report objects\u2014one for a value and one for a unit of measure. For example, in the source report fields, which are data fields, a typical data may refer to an amount of money, e.g. $1000. This data field contains the amount of money\u20141000, and the currency that is used\u2014$. In one embodiment, these two parts may be stored in two different target report objects in the target report, such as the target report object . In one embodiment, the size of these fields may be defined as a portion of the size of the source report field from the source report. For example, the target report object that would be used for the currency may be approximately one quarter of the size of the source report field, and the target report object, which would be used for the amount, may be of a corresponding size (approximately three quarters) of the size of the source report field. If in a cell in the source report there is a text field, then the cell positioning and cell size would be used to determine the position and size of one target report object in the target report, such as the target report object .","In one embodiment, the target report objects from the target report may store data fields by using a formula that contains a text defined by the units of measure and the value, separated by an interval. The formula may look like the following example:\n\nText:=Unit+\u201c \u201d+Value\u2003\u2003(5)\n",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 4","FIG. 1","FIG. 1"],"b":["400","110","130","410","110","420","430","440"]},{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 5","FIG. 1"],"b":["500","110"]},"With the method , the source report sections from the source report are mapped to bands from the target report (e.g.,  in ). At step , the source page header from the source report is mapped to the target page header from the target report. At decision block , it is determined whether a section from the report body is a static section. If there is a static section, at step , the static section is mapped to a subband from the details bands of the target report structure. Otherwise, if in the report body of the source report there are dynamic sections at step , the dynamic sections are mapped to details bands from the target report structure.","At step , a subreport related to a banded report schema, such as the banded report schema for the target report  in , is created. It corresponds to the dynamic section that exists in the source report body. At step , the subreport is imported into a subband of the details band. At decision block  it is determined whether there are more source report sections in the source report. If there are more sections, it navigates to decision block , where it will be checked if the section is a dynamic or a static one. A mapping from the source page footer from the source report to the target page footer is executed at step . At step , the target report header and the target report footer from the target report in the banded report schema are bands that are suppressed, because they do not match to a source report section from the source report.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 6","FIG. 1","FIG. 1","FIG. 1"],"b":["120","120","150","120","600","110","600","610","620","610","130","620","600","630","620"]},"The formatting conversion module  has a reading module  that accesses the source report and reads a source page setup of the source report. The source page setup is defined by page orientation, page height, and page width. A page setup module  accesses the target report and applies a target page setup that corresponds to the source page setup. Identification of the report structure of the source report is done by an identifying module  that identifies the source report structure of the source report. In one embodiment, the source report structure has source report sections with a grid layout of rows with cells. There are row patterns for the rows to give reference to the report content and defining the report content layout. A structuring module  takes the identified source report structure and creates a target report structure for the target report with one or more bands. The target report structure and the bands correspond to the sections from the source report. The source report sections may be source page header, source report body, and source page footer.","The structuring module  has a set of modules for mapping the source report sections and converting them to a corresponding band from the target report structure of the target report. In one embodiment, there is a header mapping module  to map the source page header from the source report to the target page header of the target report. The source report body may have static and dynamic sections. A report body conversion module  takes the source report body and converts it to a details band from the target report. The dynamic sections from the source report body are converted to a subband where a subreport is embedded. The subreport corresponds to the dynamic section from the source report and is defined in a banded report schema, such as the banded report schema of the source report  in . The static sections from the source report are converted to details bands in the target report. A footer mapping module  is used to map the source page footer from the source report to the target page footer of the target report. The target report header and target report footer from the target report are suppressed using a suppressing module . These sections do not have counterparts in the target report structure.","Some embodiments of the invention may include the above-described methods being written as one or more software components. These components, and the functionality associated with each, may be used by client, server, distributed, or peer computer systems. These components may be written in a computer language corresponding to one or more programming languages such as, functional, declarative, procedural, object-oriented, lower level languages and the like. They may be linked to other components via various application programming interfaces and then compiled into one complete application for a server or a client. Alternatively, the components maybe implemented in server and client applications. Further, these components may be linked together via various distributed programming protocols. Some example embodiments of the invention may include remote procedure calls being used to implement one or more of these components across a distributed programming environment. For example, a logic level may reside on a first computer system that is remotely located from a second computer system containing an interface level (e.g., a graphical user interface). These first and second computer systems may be configured in a server-client, peer-to-peer, or some other configuration. The clients may vary in complexity from mobile and handheld devices, to thin clients and on to thick clients or even other servers.","The above-illustrated software components are tangibly stored on a computer readable storage medium as instructions. The term \u201ccomputer readable storage medium\u201d should be taken to include a single medium or multiple media that stores one or more sets of instructions. The term \u201ccomputer readable storage medium\u201d should be taken to include any physical article that is capable of undergoing a set of physical changes to physically store, encode, or otherwise carry a set of instructions for execution by a computer system which causes the computer system to perform any of the methods or process steps described, represented, or illustrated herein. Examples of computer readable storage media include, but are not limited to: magnetic media, such as hard disks, floppy disks, and magnetic tape; optical media such as CD-ROMs, DVDs and holographic devices; magneto-optical media; and hardware devices that are specially configured to store and execute, such as application-specific integrated circuits (\u201cASICs\u201d), programmable logic devices (\u201cPLDs\u201d) and ROM and RAM devices. Examples of computer readable instructions include machine code, such as produced by a compiler, and files containing higher-level code that are executed by a computer using an interpreter. For example, an embodiment of the invention may be implemented using Java, C++, or other object-oriented programming language and development tools. Another embodiment of the invention may be implemented in hard-wired circuitry in place of, or in combination with machine readable software instructions.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 7","b":["700","700","705","755","700","740","755","710","715","710","715","705","715","700","725","730","700","725","730","700","735","700","750","750","700","745","700","720","760","760","760","750","760"]},"A data source is an information resource. Data sources include sources of data that enable data storage and retrieval. Data sources may include databases, such as, relational, transactional, hierarchical, multi-dimensional (e.g., OLAP), object oriented databases, and the like. Further data sources include tabular data (e.g., spreadsheets, delimited text files), data tagged with a markup language (e.g., XML data), transactional data, unstructured data (e.g., text files, screen scrapings), hierarchical data (e.g., data in a file system, XML data), files, a plurality of reports, and any other data source accessible through an established protocol, such as, Open DataBase Connectivity (ODBC), produced by an underlying software system (e.g., ERP system), and the like. Data sources may also include a data source where the data is not tangibly stored or otherwise ephemeral such as data streams, broadcast data, and the like. These data sources can include associated data foundations, semantic layers, management systems, security systems and so on.","In the above description, numerous specific details are set forth to provide a thorough understanding of embodiments of the invention. One skilled in the relevant art will recognize, however that the invention can be practiced without one or more of the specific details or with other methods, components, techniques, etc. In other instances, well-known operations or structures are not shown or described in details to avoid obscuring aspects of the invention.","Although the processes illustrated and described herein include series of steps, it will be appreciated that the different embodiments of the present invention are not limited by the illustrated ordering of steps, as some steps may occur in different orders, some concurrently with other steps apart from that shown and described herein. In addition, not all illustrated steps may be required to implement a methodology in accordance with the present invention. Moreover, it will be appreciated that the processes may be implemented in association with the apparatus and systems illustrated and described herein as well as in association with other systems not illustrated.","The above descriptions and illustrations of embodiments of the invention, including what is described in the Abstract, is not intended to be exhaustive or to limit the invention to the precise forms disclosed. While specific embodiments of, and examples for, the invention are described herein for illustrative purposes, various equivalent modifications are possible within the scope of the invention, as those skilled in the relevant art will recognize. These modifications can be made to the invention in light of the above detailed description. Rather, the scope of the invention is to be determined by the following claims, which are to be interpreted in accordance with established doctrines of claim construction."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The claims set forth the embodiments of the invention with particularity. The invention is illustrated by way of example and not by way of limitation in the figures of the accompanying drawings in which like references indicate similar elements. The embodiments of the invention, together with its advantages, may be best understood from the following detailed description taken in conjunction with the accompanying drawings.",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
