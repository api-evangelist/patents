---
title: Video-centroid integrated circuit
abstract: An analog, single integrated circuit for providing centered video images. A light detector array which can be, e.g., a CCD or an array of phototransistors or silicon retinas, is scanned out to provide a video signal. Current summing lines along each row and column of the array are used as inputs to x and y position sensitive (computation) circuitry located on the edge of the pixel array. When the array utilizes silicon retinas, an absolute value circuit is added to restore low frequency information removed by the retinas to the current summing output. An on-chip sequencer uses the x and y position outputs to scan out the video image centered to the nearest pixel.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06965396&OS=06965396&RS=06965396
owner: The Johns Hopkins University
number: 06965396
owner_city: Baltimore
owner_country: US
publication_date: 20000501
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","STATEMENT OF GOVERNMENTAL INTEREST","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This is a continuation-in-part of prior filed application Ser. No. 08\/671,225, filed Jun. 27, 1996, issued as U.S. Pat. No. 6,058,223, on May 2, 2000, which claims the benefit of prior filed U.S. provisional application Ser. No. 60\/000,575, filed Jun. 28, 1995.","This invention was made with Government support under Contract No. N00039-94-C-0001 awarded by the Department of the Navy. The Government has certain rights in the invention.","The disclosed invention, called a video-centroid (VC) chip, relates to integrated circuits and, more specifically, comprises a mixed signal (has both analog and digital components), single integrated circuit that provides centered video images.","The centroid of an image is a very useful, well known quantity for image-tracking applications. However, present devices are digital and can provide a centered image only through the use of several integrated circuits.","Since finding the centroid is an averaging process, the solution is robust to noise as well as insensitive to minor variations in the apparent image due to changes in illumination level (but not gradient). In addition, centroid computation is consistent with a retina paradigm, i.e., it uses many simple, local computing elements in parallel to calculate a global quantity. Thus, computing the centroid of an image is a good candidate for an analog very large scale integrated (VLSI) implementation.","The earliest work on analog VLSI centroid-computing chips was reported in Deweerth, S. P., \u201c8(3), 191\u2013202 (1992). The core element for a simple centroid computation is an array of transconductance amplifiers, each of which is biased by a photodetector and generates an output current that is a function of the difference of two input voltages.",{"@attributes":{"id":"p-0008","num":"0007"},"figref":["FIG. 1","FIG. 1"],"i":["a ","b, "],"sup":["+ ","\u2212 "]},"To perform the actual centroid computation, multiple transconductance amplifiers are configured as followers with a common position output node as shown in the schematic of The network of attempts to satisfy the following equation: \n\n\nwhere V(i) is the position voltage at the noninverting (+) input of the ith amplifier, I(i) is the corresponding ith photocurrent, and Uis the thermal voltage divided by \u03ba. The slope of the tanh function is the transconductance of the amplifier. For small signals, tanh can be replaced by the transconductance, which is linear with the bias current (i.e., photocurrent) in the subthreshold region.\n","If Kirchoff's current law (conservation of charge) is applied at the output node, it is readily apparent that the solution to Eq. 1 is the centroid of the photocurrent distribution. The network stabilizes at a point where the output Vis equal to the solution of Eq. 1, which is the image centroid for small signals or the weighted median for large signals. Both the centroid and the median yield excellent position estimates for images with a well-defined centroid.","Thus, a mixed signal (containing analog as well as digital components), signal integrated circuit would be desirable for computing the centroid of an image for use in image-tracking applications.","As shown in , the components of one embodiment of the invention include a photodetector array  comprising, for example, a phototransistor array, CCD, photodiodes or retina, with current summing lines along each row  and column . The array  is scanned out using scanners ,  to provide a video signal. Additional elements include x and y position sensitive (computation) circuitry , , such as shown in , located on the edge of the pixel array. An on-chip sequencer  uses the x and y position outputs to scan out the video image centered to the nearest pixel.","To create the centroid-computing, single integrated circuit of the invention, the linear architecture of was modified as shown in  to establish a two-dimensional light detector, e.g., photodetector, array  comprising a plurality of detector cells or pixels. Note, the term \u201cphotodetector array\u201d is intended to include any light sensitive detector, including but not limited to charge injection devices and the other types of detectors discussed herein.","The array  is scanned using scanning means, e.g., scanners , , to read out the photocurrent at each detector cell or pixel, i.e., to provide a video signal. Summing means, e.g., current summing lines , , along, respectively, each row and column are used as the inputs to means for computing a centroid, e.g., respectively, the y-axis and x-axis centroid computation circuitry , , located on the edge of the pixel array. A sequencing means, e.g. an on-chip sequencer , uses the x and y position outputs to scan out the video image centered to the nearest pixel.","As noted, the invention output is both a video image and the centroid of that image. The additional video circuitry in the array  allows the same image to be viewed as the chip and thus ensures that the system is tracking the intended target. Note that incorporation of a small amount of circuit complexity, e.g., additional video transistors in each pixel of the array , helps reduce complexity in other parts of the system, for example, by eliminating the need for additional beam-slitters and methods of aligning the viewing and tracking optical components.","The summing operation allows each pixel to contribute to both the x and y centroids, in contrast to Deweerth's design in which alternating x and y pixels were used. In addition, summation is an averaging process, which helps to eliminate errors in the centroid caused by unusually conductive MOSFETs. Mismatch in transistor currents for identical drain, gate, and source voltages is unavoidable and must be accounted for in the design. The invention solves the mismatch problem by aggregation (i.e., averaging) in the same way as nature, which has to deal with nonuniformities in neuron properties that are far greater than those in MOSFETs. Aggregating the response of many parallel elements is a common technique in biological computation to improve the robustness of the output signal.","The invention has been used to generate image-position error signals for an image-motion stabilization system at the National Solar Observatory in Sunspot, N.M. It has successfully replaced a half-height rack of digital processing equipment formerly used for tracking. Although power consumption is not an issue, the invention's power dissipation is many orders of magnitude below that of its digital predecessor. Also, the invention's frequency response is very fast compared with that of the photodiode sensor used in the digital system because the sensor array does not have to be read out prior to position computation. Since the invention's scanning circuitry is independent of the centroid computation, it can achieve bandwidths up to 40 kHz. For closed-loop systems, the mechanical positioning elements are the only limitations.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 3","FIG. 3","FIG. 1"]},"In a second embodiment of the invention (), each photodetector is replaced with a silicon retina  (retina details are shown in ) (retina-VC chip or RVC chip) that provides continuous-time x and y signals and a scanned video signal. As shown in , current summing lines on each row and column enable each pixel to contribute to both the x and y centroids. Scanning circuitry reads out the photocurrent at each pixel. Global x and y computations, such as image centroid, are performed at the periphery. Vand Vare the voltages in the positive and negative horizontal directions; Vand Vare the voltages in the positive and negative vertical directions; Hand Vare the horizontal and vertical clocks; Hand Vare the horizontal and vertical synchronization pulses; and Hand Vare the horizontal and vertical position outputs.","Because the retina is contrast-sensitive, the invention's architecture could accommodate lower contrast images as well as scenes with illumination gradients. Scanner circuitry was also improved to enhance the speed and quality of the video readout. With these modifications, the size of the photodetector array could be increased while still maintaining a standard video output.","The centroid computation on the RVC chip was largely ineffective because the silicon retina enhanced the high-frequency portions of the image and removed the low-frequency information. As a result, the image became insensitive to the sort of aggregating centroid computation that is being performed. The problem was corrected by using a current-mode absolute value circuit (shown in ) on the retina output prior to the centroid computation. The absolute value circuit effectively restores the low frequency information removed by the retina, allowing the centroid to be computed.","The RVC chip includes an on-chip video driver (not shown in ), thereby reducing off-chip components to a single field-programmable gate array chip containing the video timing circuitry, a bipolar transistor, and fewer than 10 discrete resistors and potentiometers for biasing the chip. The entire centroid computation system, including on-chip and off-chip components, fits on a printed circuit board approximately 4 in, which is considerably more compact than an equivalent digital system.","The RVC chip's sensitivity was tested by using it to view star fields through an 11-in. Celestron telescope set at \u0192\/10. Stars of magnitude +3 were the dimmest objects which could be viewed reliably. (Fainter stars were obscured by nonuniformities in the retina resulting from the transistor mismatch discussed above.)","Since the RVC chip does not use an integrating detector, which builds up an image over time, it is much less sensitive than a CCD detector and is appropriate only for bandwidths greater than 1 kHz. However, converting the photodetector to an integrating detector is straightforward. Its sensitivity and fixed-pattern noise would then be similar to those of a CCD detector, but no readout would be required for the position estimate information. RVC chip attributes such as small size, low power dissipation, and simplicity extend the scope of potential applications even further.","One such application is as part of a solar attitude detector for microsatellites. Many proposed space missions depend on the use of \u201cmicrosatellite\u201d constellations to make simultaneous measurements at different orbital locations. Numerous new technologies are required to make the microsatellite concept viable from a mass and power standpoint. Digital solar attitude detectors (DSADs) are used extensively for spacecraft attitude. A micro-DSAD incorporating the entire sensor and its interface on a single chip creates a sensor small enough to have great utility in microsatellites for spacecraft formation flying as well as applicability in nearly all NASA spacecraft missions.","The position sensitive active pixel sensor also can serve as a housekeeping imager (digital camera) for spacecraft applications. This allows the same hardware to provide solar attitude, each limb position, as well as providing images of boom and antenna deployment, and so on.","A two axis position sensitive active pixel sensor for use in a DSAD is shown in . The sensor comprises a standard wide angle lens system (not shown) and an integrated circuit . Sunlight, after traveling through the wide angle lens system, impinges on a photodetector array  which, in this embodiment, is a two axis position sensitive active pixel array. The pixels or detectors  comprising the array are not silicon retinas but rather silicon phototransistors or photodiodes (and respectively). In addition to the computation circuitry and scanners shown in , the sensor  also comprises an analog-to-digital converter  to provide digital output. A multiplier  is also provided for selecting, in turn, the scanned video image and row and column centroid signals to be digitized by the analog-to-digital converter.","The position sensitive active pixel sensor provides a two axis response, a 90 degree field of view and 0.1 degree resolution with \u215b pixel resolution. The array size can easily be increased. The position response (volts) of a prototype sensor vs. position in microsteps across the array is shown in .",{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 5","FIG. 2"],"b":["10","11","12","14","15","11","10"]},"As noted above, since finding the centroid is an averaging process, the solution is robust to noise, however, centroids are sensitive to illumination level and gradients. Image spatial filtering, for example, the nonlinear homomophic-like filtering provided by a contrast sensitive two-layer silicon retina, which removes low frequency spatial information, provides an output which is insensitive to illumination level and gradient. By its very nature, such filtering renders the centroid insensitive to image translation. This embodiment includes a novel type of position computation, called the absolute value centroid, which is compatible with image spatial filtering and remains sensitive to image translation of spatially filtered images.",{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 6","FIG. 6"],"b":["22","22","10"],"sub":["b ","h ","g"]},"The novel position sensitive computation proceeds as follows. A contrast sensitive silicon retina such as that shown in  is employed in the cross subarray  to produce a high passed filtered, near optimal edge-enhanced image which is insensitive to illumination level and gradient. The output of this image is zero mean and is level shifted to a constant output bias as shown in (Note, shows the output of quadrant arrays . ) A conventional centroid of the image in would be insensitive to position.","The novel computation is to perform a centroid computation on the absolute value of the retina image as shown in This effectively computes the centroid of the enhanced edges. Let b refer to the retina image bias level (set by M3 gate voltage Vin ). We compute:\n\n()\u2212\n\n()\u2212\n\n","In the preferred embodiment, the vertical portions of the cross subarray  consist of contrast sensitive retinal pixels whose outputs are provided to the vertical y-axis position computation circuitry . Similarly, the horizontal portions of cross subarray  also consist of retinal pixels with outputs provided for the x-axis position computation circuitry . A cross subarray is preferred to minimize the combination of edge noise and to allow for the use of non-retinal (conventional) image sensing arrays in the quadrant portions . The \u201cmessy\u201d pixels in the cross subarray can be accommodated in the same manner as bad rows and columns in commercial CCD cameras.","The position computation circuits consist of a linear array of computation cells, each of which corresponds to a retinal cell. This position sensing scheme is shown in  which also provides a schematic of a computation cell and corresponding retina cell. Each computation cell is comprised of an absolute value circuit and a centroid circuit of a type similar to that shown in . An absolute value circuit calculates |r-b| and a normalized centroid circuit globally computes x or y position as a voltage between two reference biases Vand Von either end of the resistive divider. The global position voltages from  and  are digitized with the \u03a3 scheme to provide a position number in the range \u2212p to +p where the number of total pixels in a row or column (including the \u201cblank\u201d area of the cross) is equal to 2p.","The sequencer  () adjusts the scanning sequence of pixels such that the image appears as though the computed offsets x and y were zero. This can be accomplished with digital logic (not shown).","A centered video image on a single integrated circuit results in substantial improvements in ease of application, size, power, and weight. Immediate applications for this chip exist in video cameras, character and fingerprint identification, and astronomical imaging."],"GOVINT":[{},{}],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 1","FIGS. 1"],"i":["a ","b, "],"b":"1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 7","FIGS. 7"],"i":["a, ","b ","c, "],"b":["7","7"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 10","FIGS. 10","FIG. 9"],"i":["a ","b, "],"b":"10"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 11","FIG. 9"]}]},"DETDESC":[{},{}]}
