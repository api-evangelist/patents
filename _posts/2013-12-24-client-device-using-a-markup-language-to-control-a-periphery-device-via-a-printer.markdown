---
title: Client device using a markup language to control a periphery device via a printer
abstract: A device control system has a terminal  with an application , and a printer  that controls a device. The terminal  sends a request written in XML generated by the application . The printer  receives the XML request, the terminal  sends an XML response, and if the terminal  requested control of the device in the XML request, controls the device.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09280305&OS=09280305&RS=09280305
owner: Seiko Epson Corporation
number: 09280305
owner_city: Tokyo
owner_country: JP
publication_date: 20131224
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","CITATION LIST","Patent Literature","SUMMARY OF INVENTION","Technical Problem","Solution to Problem","DESCRIPTION OF EMBODIMENTS"],"p":["The present invention relates to a device control system that controls a device, and a control method of the device control system.","A device (such as a computer) used as a controller for controlling devices is conventionally part of a system that controls devices such as a keyboard and barcode scanner by means of a terminal connected to a network.","[PTL 1] JP-A-2004-152256","However, there is also a need to use devices such as above by means of a simple configuration.","The present invention is directed to the foregoing problem, and an object of the invention is to provide a device control system, a terminal, and a control method of a device control system that can control devices by a terminal connected to a network.","To achieve the foregoing object, a device control system according to the invention has a device configured to input or output data; a terminal configured to run an application, to send a request in markup language and to receive a response in markup language; and a device control device configured to connect to the device, to control the device based on the markup language request, and to send the markup language response.","The invention enables controlling devices connected to the device control device by a terminal connected to a network. The terminal can be any device that can run an application that generates data written in XML. Because XML is highly versatile, many different devices can be used as the terminal. Developing applications for the terminal is also simple.","In addition, the response includes data denoting the result of controlling the device.","The application also sends to the device control device the request including an establish communication message requesting establishing a communication link to the device control device; and when the request including the establish communication message is received, the device control device sends to the application the response including a response message to the establish communication message contained in the request.","The application also establishes a communication link with the device control device based on a response message to the establish communication message contained in the response sent by the device control device.","After the communication link is established, the application also sends to the device control device the request including an open message to open communication to the device connected to the device control device to the device control device.","When the request containing the open message is received, the device control device sends to the application the response including a response message to the open message contained in the request.","The application also receives the response containing a response message to the open message sent by the device control device, and based on a response message to the open message becomes able to communicate with the device.","After communication with the device is enabled, the application also sends to the device control device the request including a close message to close communication with the device.","The device control device also receives the request containing the close message, and sends to the application the response containing a response message to the close message.","In addition, the application receives the response containing a response message to the close message sent by the device control device, and closes communication with the device based on a response message to the close message.","Another aspect of the invention is a control method of a device control system including a device configured to input or output data, a terminal configured to run an application, and a device control device configured to connect to the device, comprising: sending a markup language request generated by the application to the device control device; and receiving the request by the device control device; generating a response in the markup language; and sending the generated response to the terminal.","The control method of a device control system also includes, sending information contained in the request to the device by the device control device; executing a process based on information contained in the request by the device, and sending a result processed based on information contained in the request to the device control device; and sending to the terminal the response including a result processed based on information contained in the request sent by the device.","The control method of a device control system also includes the application sending to the device control device the request including an establish communication message requesting establishing a communication link to the device control device; and when the request including the establish communication message is received, the device control device sending to the application the response including a response message to the establish communication message contained in the request.","In addition, the application establishes a communication link with the device control device based on a response message to the establish communication message contained in the response sent by the device control device.","In addition, after the communication link is established, the application sends to the device control device the request including an open message to open communication to the device connected to the device control device to the device control device.","In addition, when the request containing the open message is received, the device control device sends to the application the response including a response message to the open message contained in the request.","In addition, the application receives the response containing a response message to the open message sent by the device control device; and based on a response message to the open message becomes able to communicate with the device.","In addition, the application sends to the device control device the request including a close message to close communication with the device when stopping the application after communication between the application and the device is enabled.","In addition, the device control device receives the request containing the close message, and sends to the application the response containing a response message to the close message.","In addition, the application receives the response containing a response message to the close message sent by the device control device, and closes communication with the device based on a response message to the close message.","A preferred embodiment of the invention is described below with reference to the accompanying figures.",{"@attributes":{"id":"p-0219","num":"0218"},"figref":"FIG. 1","b":["100","100","3","5"]},"The terminal  may be any device that connects to a network and is capable of socket communication, and could be a personal computer, a smartphone, or a tablet computer, for example. The terminal  has an environment that is capable of socket communication and can handle XML documents, which are markup language, anduses iOS, Android, Windows, Linux, or MacOS, for example, as the OS (operating system).","The terminal  and printer  are connected over a communication network. In the example shown in , the device control system  has a wireless LAN access point , and the wireless LAN access point  is connected to the printer  by a cable. The terminal  and printer  communicate by a wireless connection between the terminal  and the wireless LAN access point .","A network printer , customer display , and barcode scanner  are connected to the printer  as controlled devices. The network printer  is connected to the printer  through a network. The network printer  is a printer separate from the local printer  () of the printer , and has a wired LAN or wireless LAN interface. The customer display  is connected through the USB interface described below. The barcode scanner  is connected through the USB interface described below. These devices are generally called peripheral devices (peripherals), and are referred to below as devices. Devices that connect to the printer  are not limited to the devices shown in . For example, displays, and key input devices such as keyboards are also included. Also included are devices that can be controlled by a HID (human interface device) driver standard to the OS, serial communication devices that can be operated using a serial communication driver standard to the OS, and USB devices that can be controlled in the same way as serial communication devices.","Operation of the device control system  is described next.","(1) Place an application on the terminal .","(2) The application sends a request message to the printer .","(3) The printer  sends data to a device that can be controlled from the printer .","(4) The network printer and devices connected to the printer  are controlled.","(5) The printer  returns a response to the terminal .",{"@attributes":{"id":"p-0229","num":"0228"},"figref":"FIG. 2","b":"100"},"The device control system  uses Device XML, which is a command system written in XML markup language defining functions for controlling devices (peripheral devices) connected to the printer .","The terminal  has an application . The application  is a native application program installed on the terminal . The application , the device application programming interface (API) , sends an XML format request message (Request) by socket communication to the printer .","A device service interface  and a device control script  are built in to the printer . The device service interface  and device control script  interpret the request message, and output a request to the device control script . The device control script  controls a key input device  and serial communication device . The device control script  outputs key input device  and serial communication device  events and control result responses to the device service interface . The key input device  in this example includes the keyboard  in , and the serial communication devices  include the barcode scanner  and cash drawer  in .","The device service interface  exchanges data with the local printer . The local printer  is the printer incorporated in the printer . The device service interface  also exchanges data with the network printer  and customer display .","The device service interface  outputs an XML format response (Response) to the application  based on the results of controlling the network printer , customer display , and local printer , and device control script  responses.","The printer  thus controls devices through the device service interface  and device control script . Devices controlled in the example shown in  are the network printer , customer display , key input device , serial communication device , and local printer .","The terminal  can control devices connected to the printer  using the Device XML command system of the device control system  by the above operation.","Device XML has the following features.\n\n","The device API 33 has the following features.\n\n","The configuration of the printer  is described next.","The printer  has a CPU, RAM, flash ROM, nonvolatile memory, a video controller, an auxiliary storage device (SSD: solid state drive), interface, and a local printer (print unit). The printer  could also have a speaker. The local printer is a thermal printer that can print on 80 mm wide or 58 mm wide roll paper.","The printer  can be installed in a POS (point of sale) system. The operating system (OS) of the printer  is Windows\u00ae based, for example, and is stored in the auxiliary storage device.","A device control program, which is software for the terminal  to control devices connected to the printer , is installed to the printer . As a result, installing a driver program to the terminal  is not necessary.","The printer  also has a Windows\u00ae standard device driver program (APD), UPOS driver, OPOS driver, or other software for controlling devices and the local printer of the printer .","A web application can be installed to the printer . This enables using the printer  as an application server as shown in . The web application could, for example, be a PHP and Perl server-side script or SQLite database access script (server-side script).",{"@attributes":{"id":"p-0245","num":"0250"},"figref":"FIG. 4","b":"5"},"The foregoing network printer , customer display , and barcode scanner  can be connected to the printer . A display , cash drawer , and keyboard  can be connected to the printer .",{"@attributes":{"id":"p-0247","num":"0252"},"figref":"FIG. 5","b":"5"},"A roll paper cover  is disposed to the top of the printer . The roll paper cover opens when the cover open button  is pressed, and roll paper can be loaded. A manual cutter  for manually cutting the roll paper, and a cutter cover , are disposed to the paper exit from which the roll paper is discharged after printing. The cutter cover  is opened when a paper jam occurs in the local printer of the printer , and when the roll paper cover  does not open. The blade of the manual cutter  returns to the home position when the cutter cover  opens. The printer  also has a power switch B, reset button A, LED display unit , and control panel . The LED display unit  includes a disc access LED indicating accessing the auxiliary storage device, and status LEDs. The status LEDs report the operating state of the OS, the standby mode of the OS, that the power is off, the OS start-up sequence, and a high CPU temperature warning.","The control panel  includes a power LED, error LED, roll paper LED, and paper feed button. The power LED lights when power is supplied. The error LED is off during normal operation, and lights when the printer resets and when the end of the roll paper is detected and printing stops. The paper LED is off when sufficient roll paper remains, lights steady when little paper is left, and blinks when the self-diagnostic test is running. Pressing the feed button advances the roll paper one line at a time or continuously.","A connector cover  is disposed to the back of the printer . Removing the connector cover  exposes the connector panel (connection panel) on the back of the printer .",{"@attributes":{"id":"p-0251","num":"0256"},"figref":"FIG. 6","b":["60","60","61","62","63","64","65","66","67","60","55","5","5","60","5"]},"The cash drawer  or an optional buzzer is connected to the drawer kick-out connector . The Ethernet connector  is connected to the network. The USB connector  has six USB ports. The customer display , barcode scanner , keyboard , and other devices are connected to the USB connector . The display  is connected to the VGA connector . The serial interface of a serial communication device connects to the COM connector . The line output  connects to an external speaker.",{"@attributes":{"id":"p-0253","num":"0258"},"figref":"FIG. 7","b":["17","17","15","15","63","5"]},"Building a device service interface  environment is described next.",{"@attributes":{"id":"p-0255","num":"0260"},"figref":"FIG. 8"},"1. Network Settings","Configure the system and printer  network. The network settings of the printer  can be configured using any of the following methods.\n\n","2. Connect a Device to the Printer ","Connect a device to the printer . As described above, connectable devices include the customer display , barcode scanner , display , cash drawer , and keyboard . Also included are devices that can be controlled by a HID driver standard to the OS, serial communication devices that can be operated using a serial communication driver standard to the OS, and USB devices that can be controlled in the same way as serial communication devices. The connection panel  in  has only one COM connector , but plural serial communication devices can be connected if a serial-USB conversion cable is used and the driver program is compatible with serial-USB conversions.","3. Register Device Control Script","A device control script prepared by the user is registered in order for the printer  to control devices other than the products with which the printer  is compatible. Registration is done from the web browser.","4. Register Device","Register the device connected to the printer  in the printer software. Registration is done from the web browser.","The web browser used for steps 1 to 5 includes a web browser that runs on the terminal .","A method of registering a device control script prepared by the user is described with reference to .","The registration steps are as follow.","(1) Prepare a customized device control script.","(2) Turn the printer  power on.","(3) Start the web browser, and input the URL (http:\/\/IP address of printer \/WebConfig\/).","(4) Start the TMNetWebConfig utility. Click on [Web service settings]\u2014[Register\/delete] in the window shown in .","(5) The Control Script screen is displayed.","Click on [Browse] in the Control script to be registered field, and select the device control script to register.","(6) Click [Registration].","The device control script is registered and listed in the Registered control scripts field in the bottom of the window.","Register a device to be controlled by Device XML. A device is registered by the web browser displaying the TMNetWebConfig utility as shown in .","The registration steps are as follow.","(1) Start the web browser, and input the URL (http:\/\/IP address of printer \/WebConfig\/).","(2) TheTMNetWebConfigutilitystarts. From [Web service settings]\u2014[Device registration] in the window shown in , click on the type of device to register. Devices are displayed under Device registration in the screen shown in . Click on the type of device to register. The type of device in this embodiment can be selected from five types, printer, display, key input device, serial communication device, and other as shown in . Details about the types of devices are as shown in .","(3) A configuration screen is displayed for each device. The connected device is registered in the printer .","(3-1) To register a printer","Confirm registration of the local printer incorporated in the printer  as follows.","(3-1-1) Check that \u201cprinter \u201d is registered for the device ID \u201clocal printer\u201d in the Registered Printer field in the screen shown in .","(3-1-2) Click on [Test printing]. Check that TEST_PRINT is printed by the local printer .","(3-1-3) Register the connected network printer .","Register the network printer  by the following steps.","(3-1-3-1) Set the items shown in  (device ID, type, model number, IP address, retry interval), and click [Registration].","(3-1-3-2) After confirming the printer is added to the Registered Printer list, click [Test printing]. Confirm that TEST_PRINT is printed by the registered network printer .","(3-2) To register a display (customer display )","The device ID of the customer display is a constant, \u201clocal_display\u201d. Register the connected customer display  by the following steps.","(3-2-1) Select \u201cUse\u201d in the screen shown in .","(3-2-2) Set the items (communication settings, brightness settings) in , and click [Registration].","(3-2-3) Click [Test display]. Confirm that text is displayed on the customer display .","(3-3) To register a key input device ","Register the connected key input device  by the following steps.","(3-3-1) Set the items (device ID, device name, control script) in , and click [Registration].","(3-3-2) After confirming the registered device was added to the Registered Key Input Device field, click [Operating test].","(3-3-3) A screen will be displayed by the web browser. Operate the key input device , and confirm that the result is displayed as operated.","(3-4) To register a serial communication device ","Register the connected serial communication device  by the following steps.","(3-4-1) Set the items (device ID, device name, control script, communication speed, data bit, parity, stop bit, free control) shown in  for the connected serial communication device , and click [Registration].","(3-4-2) Confirm that the device is added to the Registered Serial Communication Device field.","(3-5) To register another device Register another connected device by the following steps.","(3-5-1) Set the items (device ID, control script) shown in  for the connected device, and click [Registration].","(3-5-2) Confirm that the device is added to the Registered Other Devices field.","The programming method for developing an application using Device XML is described next.","The basic sequence of programming in Device XML is shown in .","Applications in  corresponds to application , Device Control indicates the device control function (device service interface ), and Device denotes a controlled device.","1: Establish TCP connection. Establish a TCP connection to the socket interface from the application .","2: Connect message. Establish a communication path to the device service interface .","3: The application  sends an open_device message (type_printer).","3.1: Device service interface  sends a Cmd( ) command to device.","4: Device returns \u201cDevice open\u201d.","4.1: Device service interface  returns response.","6: Application  sends a device_data_message. Application  controls device using the device_data_message.","6.1: Cmd( ) command sent to device.","6.1.1: Device executes.","Device sends response to device_data_message.","7: Device returns the execution result.","7.1: Device service interface  returns a device_data_message or error message.","8: Application  sends close_device_nmessage. The connection to the device service interface  and socket interface communication is terminated.","8.1: Device service interface  sends a Cmd( ) command to device.","9: Device closes.","9.1: Device service interface  returns response to application .","The interface shown in  is used to control devices using Device XML.","The format of each data item is as shown in , and  shows a description of each data item.","Examples of communication data between the application  and the device service interface  are shown in  and . In  and , the NULL character is represented by \u201c\u00a50\u201d.  and  show examples of communication data when establishing a connection, acquiring administrator information, opening a device, controlling a device, and closing a device.","The method of creating an array of <data> elements in a <device_data> message is described next.","The following programming method is used to describe an array in the <data> tag:\n\n",{"@attributes":{"id":"p-0329","num":"0338"},"figref":"FIG. 21"},"Device XML is described next. An ePOS-Device XML List is shown.","The following are included in ePOS-Device XML.\n\n","This is XML for request messages from the application  to the printer , and response messages from the printer  to the application .\n\n","This is XML for storing request and response data for each controlled device. This forms a sub-element of the <data> element of a <device_data> message.","Message data for each device is described next.","Message data for each device specifies the data that controls the device in a sub-element of the <data> element of a <device_data> message.","The component elements of the message data differ according to the device type.","Before specifying the data, declare the type of message data using the <type> element and then specify the data of the sub-element. The <type> elements that can be used for each type of device are shown in .","Messages are described next.","<connect>","This message is contained in a [Response].","This message returns to the application that a connection was established.","The application  sends a message described below triggered by receiving this message.","[Example]","<connect><\/connect>","<admin_info>","Returns the administrator information set in the printer . The information is set with the TMNet WebConfig utility.","This message is contained in a [Request].","This message requests administrator information from the printer .","[Example]","<admin_info><\/admin_info>","This message is contained in a [Response].","This message returns the administrator information to the application . A description of the sub-elements and data types is shown in .\n\n",{"@attributes":{"id":"p-0350","num":"0362"},"figref":"FIG. 24B","ul":{"@attributes":{"id":"ul0015","list-style":"none"},"li":{"@attributes":{"id":"ul0015-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0016","list-style":"none"},"li":"data"}}}},{"@attributes":{"id":"p-0351","num":"0364"},"figref":"FIG. 24C"},"Character strings in the received data are described next. The strings shown in  are escaped.","[Example]  shows examples of normal and error responses.","<open_device>","This message makes the device linked to the device ID usable. Exclusive use of the specified device is given to the requesting application .","This message is contained in a [Request].","This message specifies the device to open. A description of the sub-elements and data types is shown in .\n\n",{"@attributes":{"id":"p-0357","num":"0371"},"figref":"FIG. 25B"},"[Example]  shows an example of a request.","This message is contained in a [Response].","This message returns the device open result to the application . A description of the sub-elements and data types is shown in .\n\n",{"@attributes":{"id":"p-0361","num":"0376"},"figref":"FIG. 25E"},"[Example]  shows examples of normal and error responses.","<close_device>","This message closes an opened device.","This message is contained in a [Request].","This message specifies the device to close. A description of the sub-elements and data types is shown in .","[Example]  shows an example of a request.","This message is contained in a [Response].","This message returns the device close result to the application . A description of the sub-elements and data types is shown in .\n\n",{"@attributes":{"id":"p-0369","num":"0385"},"figref":"FIG. 26D"},"[Example]  shows examples of normal and error responses.","<device_data>","This message is contained in a [Request].","This message sends data to a device. Device control commands, and print and display data are included. A description of the sub-elements and data types is shown in .","[Example]  shows an example of a request.","This message is contained in a [Response].","This message returns data from the device. The result of device control, events that occurred in the device, and input data from the device are included. A description of the sub-elements and data types is shown in .","[Example]  shows an example of a response.","<error>","This message is contained in a [Response].","This message returns device control command and service control command errors, and other common errors. A description of the sub-elements and data types is shown in .\n\n",{"@attributes":{"id":"p-0379","num":"0396"},"figref":"FIG. 28B"},"[Example]  shows an example of a response.","Message data for the barcode scanner is described next.","<type> ondata<\/type>","This message is contained in a [Response].","This message returns scanned data from the barcode scanner to the application. A description of the sub-elements and data types is shown in .","Character strings in the received data are described next. The strings shown in  are escaped.","[Example]  shows an example of a response.","Message data for the printer is described next.","Print data is described below in Printer Control XML.","<type> print<\/type>","This message is contained in a [Request].","This message sends print data and settings data to the printer. A description of the sub-elements and data types is shown in .","[Example]  shows an example of a request.","<type> onxmlresult<\/type>","This message is contained in a [Response].","This message returns the print result to the application. A description of the sub-elements and data types is shown in .","[Example]  shows an example of a response.","Printer Control XML, which is an XML document that controls a printer, is described next.","Message data for a printer is described below under Message Data for Printers.","<epos-print>","This is an XML document sent from an application to a printer. This document instructs the printer to execute a specified function. <epos-print> contains the element.","[Attribute]",{"@attributes":{"id":"p-0397","num":"0000"},"ul":{"@attributes":{"id":"ul0025","list-style":"none"},"li":{"@attributes":{"id":"ul0025-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0026","list-style":"none"},"li":"xmlns"}}}},"This attribute declares the epos-print name.","[Sub-elements]  shows the sub-elements.","[Example]  shows a sample XML document.","<response>","This is an XML document that is returned from the printer to the application.","[Attribute]",{"@attributes":{"id":"p-0402","num":"0000"},"ul":{"@attributes":{"id":"ul0027","list-style":"none"},"li":{"@attributes":{"id":"ul0027-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0028","list-style":"none"},"li":"success"}}}},"This attribute gets the display result.  shows the attribute values.\n\n","This attribute gets the error code.  shows the attribute values.\n\n","This attribute gets an OR function as a decimal expression according to the printer status.  shows the attribute values.","[Example]  shows a sample XML document.","<text>","This message specifies the character string to print. This message also configures string-related settings such as style, print position, and line feed space.","To print content other than text after printing text, execute a line feed or paper feed.","In page mode, characters are printed from the current print position referenced to the baseline dot of the characters (printer specifications, page 151).","[Entity Reference]","Horizontal tab, linefeed, and other symbols required for printer control are written using the entity references shown in .","[Attribute]",{"@attributes":{"id":"p-0412","num":"0000"},"ul":{"@attributes":{"id":"ul0033","list-style":"none"},"li":{"@attributes":{"id":"ul0033-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0034","list-style":"none"},"li":"lang"}}}},"This attribute specifies the language.  shows the attribute values.","The printable character codes depend upon the specifications of the printer.\n\n","This attribute specifies the character font.  shows the attribute values.","If Japanese is specified, characters can be printed using Shift JIS codes.\n\n","This attribute specifies smoothing. Text printing quality improves if smoothing is enabled.  shows the attribute values.\n\n","This attribute specifies double-sized width.  shows the attribute values.","If the dw attribute and the width attribute are both specified in one element, the horizontal scale specified by the width attribute takes precedence.\n\n","This attribute specifies double-sized height.  shows the attribute values.","If the dh attribute and the height attribute are both specified in one element, the vertical scale specified by the height attribute takes precedence.\n\n","This attribute specifies horizontal scaling.  shows the attribute values.","If the dw attribute and the width attribute are both specified in one element, the horizontal scale specified by the width attribute takes precedence.\n\n","This attribute specifies vertical scaling.  shows the attribute values.","If the dh attribute and the height attribute are both specified in one element, the vertical scale specified by the height attribute takes precedence.\n\n","This attribute specifies inverting the black and white parts of characters.  shows the attribute values.\n\n","This attribute specifies underlining.  shows the attribute values.\n\n","This attribute specifies emphasized printing.  shows the attribute values.\n\n","This attribute specifies the character color.  shows the attribute values.\n\n","(Default: \u201c0\u201d)","This attribute specifies the print start position of the characters in dots.","In page mode this is the same as the horizontal print position specified by the position element, but the print position moves on the horizontal axis.\n\n","This attribute specifies text alignment.  shows the attribute values.","In the standard mode, the align attribute controls where the line starts.","The align attribute set in this element also applies to the align attribute of image, logo, barcode, and symbol elements.\n\n","This attribute specifies rotated printing of text.  shows the attribute values.","The rotate attribute is ignored in page mode.","In page mode, the print direction is set to right to left (right_to_left) using the direction element to print text rotated 180 degrees.","The rotate attribute set in this element also applies to the rotate attribute of the barcode and symbol elements.\n\n","(Default: \u201c30\u201d)","This attribute specifies the paper feed distance for one line in dots.","[Example]  shows an example of settings for printing a string.","<feed>","This message specifies the paper feed distance. This message specifies the paper feed distance in dots or in lines. When the paper feed amount is not specified, the paper is fed one line (line feed). This message also sets the paper feed distance per line.","[Attributes]",{"@attributes":{"id":"p-0444","num":"0000"},"ul":{"@attributes":{"id":"ul0063","list-style":"none"},"li":{"@attributes":{"id":"ul0063-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0064","list-style":"none"},"li":"unit"}}}},"This attribute specifies the paper feed distance in dots.\n\n","This attribute specifies the paper feed distance in lines.\n\n","(Default: \u201c30\u201d)","This attribute specifies the paper feed distance per line in dots.","If the paper feed distance per line is 30 dots, a maximum paper feed distance of 240 lines can be specified.","The paper feed distance is stored separately for the standard mode and the page mode. Specifying the linespc attribute also affects the linespc attributes of the <text> and <feed> elements that follow.","[Example]  shows a sample XML document.","<image>","This message specifies raster bit image data. (Data type xs:base64Binary)","Raster graphics refer to data generated by horizontally scanning the pixels of an image starting from an origin at the top left corner of the image.","Data is generated at 1 bit per pixel for two-tone images, and 4 bits per pixel for 16-tone images, starting from the most-significant bit of each byte. Zero padding is added so that scan data is in byte units for each line.","To print a raster image at high speed, specify \u201cleft\u201d for the align attribute and specify a multiple of 8 that does not exceed the printer paper width for the width attribute.","In page mode, raster images are printed from the current print position referenced to the bottom left dot of the raster image. The print position does not move.","In page mode, set the print position so that raster images do not extend beyond the print area.\n\n","This attribute specifies the image width in dots.\n\n","This attribute specifies the image height in dots.\n\n","This attribute specifies the character color.  shows the attribute values.\n\n","This attribute specifies the print position.  shows the attribute values.","The align attribute set in this element also applies to the align attribute in the text, logo, barcode, and symbol elements.\n\n","(Option (option))","This attribute specifies the color mode.  shows the attribute values.","[Example]  shows a sample XML document.","<logo>","This message specifies a logo registered in the NV memory of the printer.","A logo must first be registered in the printer using a model-specific utility or logo registration utility (TMFLogo).","In page mode, logos are printed from the current print position referenced to the bottom left dot of the logo.","[Attribute]",{"@attributes":{"id":"p-0469","num":"0000"},"ul":{"@attributes":{"id":"ul0079","list-style":"none"},"li":{"@attributes":{"id":"ul0079-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0080","list-style":"none"},"li":"key1"}}}},"This attribute specifies the value of key code 1 set at the time of NV logo registration.\n\n","This attribute specifies the value of key code 2 set at the time of NV logo registration. This attribute is required.\n\n","This attribute specifies the print position.  shows the attribute values.","The align attribute set in this element also applies to the align attribute in the text, logo, barcode, and symbol elements.","[Example]  shows a sample XML document.","<barcode>","This message specifies barcode data as a character string.","A barcode will not be printed if the settings are not compliant with the barcode standard, or if the barcode will be larger than the print area of the printer.","In page mode, a barcode is printed from the current print position referenced to the bottom left dot of the barcode (not including the HRI).","[Barcode Types]",{"@attributes":{"id":"p-0479","num":"0525"},"figref":["FIG. 38A","FIG. 38B","FIG. 38C"]},{"@attributes":{"id":"p-0480","num":"0526"},"figref":"FIG. 38D"},"[Attribute]",{"@attributes":{"id":"p-0481","num":"0000"},"ul":{"@attributes":{"id":"ul0085","list-style":"none"},"li":{"@attributes":{"id":"ul0085-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0086","list-style":"none"},"li":"type"}}}},"This attribute specifies the barcode type.  shows the attribute values.\n\n","This attribute specifies the HRI position.  shows the attribute values.\n\n","This attribute specifies the HRI font.  shows the attribute values.\n\n","(Default: \u201c3\u201d)","This attribute specifies the module width in dots. Specify an integer from 2 to 6.\n\n","(Default: \u201c162\u201d)","This attribute specifies the module height in dots.\n\n","This attribute specifies the print position.  shows the attribute values.","The align attribute set in this element also applies to the align attribute in the text, image, logo, and symbol elements.\n\n","This attribute specifies rotated printing.  shows the attribute values.","The rotate attribute set in this element also applies to the rotate attribute in the text and symbol elements.","[Example]  shows a sample XML document.","<symbol>","This message prints a two-dimensional symbol.","This message specifies the two-dimensional symbol as a character string.","A two-dimensional symbol will not be printed if the settings are not compliant with the two-dimensional symbol standard, or if the two-dimensional symbol will be larger than the print area of the printer.","In page mode, a two-dimensional symbol is printed from the current print position referenced to the bottom left dot of the two-dimensional symbol.","[Two-Dimensional Symbol Types]",{"@attributes":{"id":"p-0499","num":"0551"},"figref":["FIG. 39A","FIG. 39B"]},{"@attributes":{"id":"p-0500","num":"0552"},"figref":"FIG. 39C"},"[Attribute]",{"@attributes":{"id":"p-0501","num":"0000"},"ul":{"@attributes":{"id":"ul0099","list-style":"none"},"li":{"@attributes":{"id":"ul0099-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0100","list-style":"none"},"li":"type"}}}},"This attribute specifies the type of two-dimensional symbol.  shows the attribute values.\n\n","This attribute specifies the error correction level.  shows the attribute values.","The error correction level is selected according to the type of two-dimensional symbol.","Select the default for MaxiCode and two-dimensional GS1 DataBar symbols.\n\n","This attribute specifies the width of one module in dots.  shows a description.\n\n","This attribute specifies the height of one module in dots.  shows a description.\n\n",{"@attributes":{"id":"p-0508","num":"0564"},"figref":"FIG. 39H","ul":{"@attributes":{"id":"ul0109","list-style":"none"},"li":{"@attributes":{"id":"ul0109-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0110","list-style":"none"},"li":"align"}}}},"This attribute specifies the print position.  shows the attribute values.","The align attribute set in this element also applies to the align attribute in the text, image, logo, and barcode elements.\n\n","This attribute specifies rotated printing.  shows the attribute values.","The rotate attribute set in this element also applies to the rotate attribute in the text and barcode elements.","[Example]  shows a sample XML document.","<hline>","This message specifies a horizontal line.","[Attribute]",{"@attributes":{"id":"p-0515","num":"0000"},"ul":{"@attributes":{"id":"ul0113","list-style":"none"},"li":{"@attributes":{"id":"ul0113-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0114","list-style":"none"},"li":"x1"}}}},"This attribute specifies the start position of the horizontal line (in dots).\n\n","This attribute specifies the end position of the horizontal line (in dots).\n\n","This attribute specifies the type of horizontal line.  shows the attribute values.","[Example]  shows a sample XML document.","<vline-begin>","This message starts drawing a vertical line.","This message cannot be used in page mode.","A vertical line is drawn until the end is specified by the <vline-end> message described below. This element is used with vline-end.","[Attribute]",{"@attributes":{"id":"p-0523","num":"0000"},"ul":{"@attributes":{"id":"ul0119","list-style":"none"},"li":{"@attributes":{"id":"ul0119-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0120","list-style":"none"},"li":"x"}}}},"This attribute specifies the start position of the vertical line (in dots).\n\n","(Option)","This attribute specifies the type of vertical line.  shows sample attributes.","[Example]  shows a sample XML document.","<vline-end>","This message stops drawing a vertical line.","This element is used with vline-begin described above.","[Attribute]",{"@attributes":{"id":"p-0530","num":"0000"},"ul":{"@attributes":{"id":"ul0123","list-style":"none"},"li":{"@attributes":{"id":"ul0123-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0124","list-style":"none"},"li":"x"}}}},"This attribute specifies the end position of the vertical line (in dots).\n\n","(Optional)","This attribute specifies the type of vertical line.  shows sample attributes.","[Example]  shows a sample XML document.","<page>","This message changes from the standard mode to the page mode.","[<page> elements]","The elements shown in  can be used in <page>.","[Example]  shows a sample XML document.","<area>","This message specifies the print area in page mode.","The print area is set by specifying the origin, width, and height referenced to the absolute origin. As shown in , the absolute origin is a dot above the top left corner of the printable area.","Specify the print area according to the print content. If print data extends beyond the print area, the print data will not be completely printed.","This element is used in a page element.","[Attribute]",{"@attributes":{"id":"p-0543","num":"0000"},"ul":{"@attributes":{"id":"ul0127","list-style":"none"},"li":{"@attributes":{"id":"ul0127-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0128","list-style":"none"},"li":"x"}}}},"(Default: \u201c0\u201d)","This attribute specifies the origin on the horizontal axis in dots.\n\n","(Default: \u201c0\u201d)","This attribute specifies the origin on the vertical axis in dots.\n\n","(Default: Varies according to type.)","This attribute specifies the width of the print area in dots.\n\n","(Default: Varies according to type.)","This attribute specifies the height of the print area in dots.","Specify the width and height of the print area according to the print direction setting. The print data may not be completely printed.","[Example]  shows a sample XML document.","<direction>","This message specifies the print direction in page mode.","This message specifies the print direction and rotates the print area. The starting point of the print area moves according to the rotation of the print area.","This element is used in a page element.","[Attribute]","dir","This attribute specifies the direction of rotation.  shows the attribute values.","[Example]  shows a sample XML document.","<position>","This message specifies the print position in page mode.","This message specifies the print position referenced to the starting point of the print area. The starting point of the print area moves according to the direction of rotation.","This element is used in a page element.","[Attribute]",{"@attributes":{"id":"p-0563","num":"0000"},"ul":{"@attributes":{"id":"ul0135","list-style":"none"},"li":{"@attributes":{"id":"ul0135-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0136","list-style":"none"},"li":"x"}}}},"(Default: \u201c0\u201d)","This attribute specifies the horizontal position in dots.\n\n","(Default: \u201c21\u201d)","This attribute specifies the vertical position in dots.","This message specifies the print start position (coordinates) according to the content to be printed. Refer to the following.\n\n","Specify the left end of the baseline of the first character.","This is optional when for left-aligned printing of standard-sized characters. To print double-sized height characters, specify a value equal to or greater than \u201c42\u201d for y.\n\n","Specify the bottom left of the symbol. Specify the barcode height for y.\n\n","Specify the bottom left of the graphic data. Specify the height of the graphic data for y.\n\n","Specify the top left of the symbol.","[Example]  shows a sample XML document.","<line>","This message draws a straight line in page mode.","Diagonal lines cannot be printed.","This element is used in a page element.","[Attribute]",{"@attributes":{"id":"p-0578","num":"0000"},"ul":{"@attributes":{"id":"ul0147","list-style":"none"},"li":{"@attributes":{"id":"ul0147-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0148","list-style":"none"},"li":"x1"}}}},"This attribute specifies the position (in dots) to start printing a horizontal line.\n\n","This attribute specifies the position (in dots) to start printing a vertical line.\n\n","This attribute specifies the position (in dots) to stop printing a horizontal line.\n\n","This attribute specifies the position (in dots) to stop printing a vertical line. Specify the line type.\n\n","(Optional)","This attribute specifies the line type.  shows the attribute values.","[Example]  shows a sample XML document.","<rectangle>","This message draws a rectangle in page mode.","This element is used in a page element.","In standard mode, Use the hline element, vline-begin element, and vline-end element are used.","[Attribute]",{"@attributes":{"id":"p-0589","num":"0000"},"ul":{"@attributes":{"id":"ul0157","list-style":"none"},"li":{"@attributes":{"id":"ul0157-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0158","list-style":"none"},"li":"x1"}}}},"This attribute specifies the position (in dots) to start printing a horizontal line.\n\n","This attribute specifies the position (in dots) to start printing a vertical line.\n\n","This attribute specifies the position (in dots) to stop printing a horizontal line.\n\n","This attribute specifies the position (in dots) to stop printing a vertical line. Specify the line type.\n\n","(Optional)","This attribute specifies the line type.  shows examples of attributes.","[Example]  shows a sample XML document.","<cut>","This message specifies a paper cut.","This message is used in standard mode.","This message executes at the beginning of a line. The paper is at the beginning of a line after the paper is cut.","[Attribute]",{"@attributes":{"id":"p-0600","num":"0000"},"ul":{"@attributes":{"id":"ul0167","list-style":"none"},"li":{"@attributes":{"id":"ul0167-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0168","list-style":"none"},"li":"type"}}}},"(Option)","This attribute specifies the type of cut.  shows examples of attributes.","[Example]  shows a sample XML document.","<pulse>","This message specifies outputting a signal to the drawer kick-out connector. A buzzer can be sounded depending upon the model.","[Attribute]",{"@attributes":{"id":"p-0605","num":"0000"},"ul":{"@attributes":{"id":"ul0169","list-style":"none"},"li":{"@attributes":{"id":"ul0169-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0170","list-style":"none"},"li":"drawer"}}}},"(Option)","This attribute specifies the drawer kick-out connector.  shows the attribute values.\n\n","(Option)","This attribute specifies the drawer kick-out signal ON time.  shows the attribute values.","[Example] FIG. shows a sample XML document.","<sound>","This message sounds a buzzer.","[Attribute]",{"@attributes":{"id":"p-0612","num":"0000"},"ul":{"@attributes":{"id":"ul0173","list-style":"none"},"li":{"@attributes":{"id":"ul0173-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0174","list-style":"none"},"li":"pattern"}}}},"(Option)","This attribute specifies the buzzer pattern.  shows the attribute values.\n\n","(Optional, default: \u201c1\u201d)","This attribute specifies the number of times the buzzer sounds.  shows the attribute values.","[Example] FIG. shows a sample XML document.","Message data for a customer display is described below.","Display data is described below in Customer Display Control XML.","<type>display<\/type>","[Request]","This message sends display data and setting data to the customer display.  shows sub-elements.","[Example]  shows an example of a request.","<type>onxmlresult<\/type>","[Response]","This message returns the result of sending to the customer display to the application.  shows the sub-element.","[Example]  shows an example of a response.","Customer Display Control XML, which is an XML document that controls a customer display, is described next.","Message data for a customer display is described above under Message Data for the Customer Display.","<epos-display>","This is an XML document sent from the application to the customer display. This document requests the customer display to execute the specified function. An <epos-display> message contains sub-elements required to control the customer display.","[Attribute]","xmlns\n\n","[Example]  shows a sample XML document.","<response>","This is an XML document returned from the customer display to the application.","[Attribute]",{"@attributes":{"id":"p-0632","num":"0000"},"ul":{"@attributes":{"id":"ul0179","list-style":"none"},"li":{"@attributes":{"id":"ul0179-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0180","list-style":"none"},"li":"success"}}}},"This attribute gets the display result.  shows the attribute values.\n\n","This attribute gets the error code.  shows the attribute values.\n\n","This attribute is always set to 0.","[Example]  shows a sample XML document.","<window>","This message controls creating and deleting windows and moving the current window.\n\n","This attribute specifies the number of the target window.  shows the attribute values.\n\n","This attribute specifies the x-coordinate (1 to 20) as an integer to create a window.\n\n","This attribute specifies the y-coordinate (1 or 2) as an integer to create a window.\n\n","This attribute specifies the width (1 to 20) as an integer to create a window.\n\n","This attribute specifies the height (1 or 2) as an integer to create a window.\n\n","This attribute specifies the scrolling method of the window when a window is created.  shows the attribute values.\n\n","This attribute specifies whether or not to delete the window specified by the number attribute.  shows the attribute values.","[Error Conditions]","When an error occurs, a value shown in  is returned.","[Example]  shows a sample XML document.","<text>","This message controls displaying a character string.\n\n","This attribute specifies the x-coordinate (1 to 20) of the text display as an integer.\n\n","This attribute specifies the y-coordinate (1 or 2) of the text display as an integer.\n\n","This attribute specifies shading for the displayed characters.",{"@attributes":{"id":"p-0652","num":"0750"},"figref":"FIG. 58A","ul":{"@attributes":{"id":"ul0205","list-style":"none"},"li":{"@attributes":{"id":"ul0205-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0206","list-style":"none"},"li":"lang"}}}},"This attribute specifies the language of the text display. If omitted, the current setting is used.  shows the attribute values.","[Example]  shows a sample XML document.","<cursor>","This message controls the cursor position and display settings.\n\n","This attribute specifies the x-coordinate (1 to 20) of the cursor as an integer.\n\n","This attribute specifies the y-coordinate (1 or 2) of the cursor as an integer.\n\n","This attribute specifies the cursor position in the current window.  shows the attribute values.\n\n","This attribute specifies the display method of the cursor. If omitted, the current setting is used.  shows the attribute values.","[Example]  shows a sample XML document.","<blink>","This message controls screen blinking. Blinking continues at the interval specified in the interval attribute.","The actual blinking interval is rounded up in 50 ms increments.","For example, if interval is 1 to 50, the actual interval is 50 ms; if the interval is 51 to 100, the actual interval is 100 ms.","[Attribute]",{"@attributes":{"id":"p-0664","num":"0000"},"ul":{"@attributes":{"id":"ul0215","list-style":"none"},"li":{"@attributes":{"id":"ul0215-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0216","list-style":"none"},"li":"interval"}}}},"This attribute specifies the blinking interval as an integer.  shows the attribute values.","[Example]  shows a sample XML document.","<brightness>","This message controls the display brightness.","[Attribute]",{"@attributes":{"id":"p-0668","num":"0000"},"ul":{"@attributes":{"id":"ul0217","list-style":"none"},"li":{"@attributes":{"id":"ul0217-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0218","list-style":"none"},"li":"value"}}}},"This attribute specifies brightness as a percentage.  shows the attribute values.","[Example]  shows a sample XML document.","<marquee>","This message controls the marquee display of a character string.","The specified string is displayed 1 character at a time at the interval specified in uwait. After the string is displayed to the end, display pauses for the time specified by rwait, and the string is then displayed again from the beginning.","[Attribute]",{"@attributes":{"id":"p-0673","num":"0000"},"ul":{"@attributes":{"id":"ul0219","list-style":"none"},"li":{"@attributes":{"id":"ul0219-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0220","list-style":"none"},"li":"format"}}}},"This attribute specifies the display pattern for the marquee.  shows the attribute values.\n\n","This attribute specifies how many times the marquee is displayed.  shows the attribute values.\n\n","This attribute specifies the interval waited to display each character in milliseconds.  shows the attribute values.\n\n","This attribute specifies how long to wait after the end of the string is displayed in milliseconds.  shows the attribute values.\n\n","This attribute specifies display language. If omitted, the current setting is used.  shows the attribute values.","[Example]  shows a sample XML document.","<clock>","This message displays the time in the bottom right corner of the display.","The displayed time is the local time managed by the OS of the printer .","[Example]  shows a sample XML document.","<clear>","This message clears the display of the current window.","If a window does not exist, the whole display is cleared.","[Example]  shows a sample XML document.","<reset>","This message resets the display. Resetting the display results in the following.\n\n","[Example]  shows a sample XML document.","<command>","This message executes a desired ESC\/POS command.","The desired command is specified by a hexadecimal string.","[Example]  shows a sample XML document.","Message Data for a POS Keyboard is described next.","<type>onkeypress<\/type>","[Response]","This message returns input data from a POS keyboard to the application.  shows sub-elements.","(Character Strings in Received Data)","The character strings shown in  are escaped.","[Example]  shows an example of a response.","<type>setprefix<\/type>","This message specifies the key code used to determine the start of a character string to detect input from the POS keyboard. If a key code specified by this message is input, the character string from then until the Enter key is pressed is returned in the onstring message. This is used, for example, to substitute input from the POS keyboard forbarcode input. To stop the onstring message, send a set prefix message without a keycode.","[Request]","This message specifies the key code used to determine the start of a character string to detect input from the POS keyboard.  shows sub-elements.","[Example]  shows an example of a request.","<type>onstring<\/type>","[Response]","This message returns input data from the POS keyboard to the application.","This message reports detection of input from any one of the key codes specified with setprefix to Enter. The detected key code information is acquired in the argument in addition to the input sequence of characters.  shows sub-elements.","(Character Strings in the Received Data)","The strings shown in  are escaped.","[Example]  shows an example of a response.","Message Data for a Serial Device is described next.","<type>sendcommand<\/type>","[Request]","This message sends commands to the serial device.  shows sub-elements.","[Example]  shows an example of a request.","<type>oncommandreply<\/type>","[Response]","This message returns data from the serial device to the application.  shows sub-elements.\n\n",{"@attributes":{"id":"p-0712","num":"0826"},"figref":"FIG. 71B"},"[Example]  shows an example of a response.","The device control script  is described next.","Programming is described first.",{"@attributes":{"id":"p-0716","num":"0830"},"figref":"FIG. 72"},"By using the device control script API provided by the device control function of the invention, data processing by a device can be customized and new devices can be used from the application .","As shown in , a device control script  has a DeviceConnection object  and a ClientConnection object . In , devices of the highly functional printer  are collectively represented by device .","When XML data (Request) containing the open_device message described above is sent, the socket interface  of the printer  receives the XML data. The socket interface  then passes the received data to the device service interface . The device service interface  then instantiates an object so that the device control script corresponding to the device requested by the open_device message can be used. The device  can then be controlled through the instantiated object.","[Device Control Script Object]","The objects shown in  are then passed to the device control script  from the device service interface . By using the device connection (DeviceConnection) object  and client connection (ClientConnection) object , the device control script  can communicate with the application  and device .","Functions that use device control script objects are described next.","The following functions can be used using device control script APIs.\n\n","The configuration of a device control script is described next.","A device control script is coded to include the following conditions.\n\n","(Only one file can be registered when configuring a device using the TMNetWebConfig utility.)\n\n","(Example) file name: Keyboard_Generic. ver1.0.js\u2192constructor name: Keyboard_Generic\n\n","(Example) exports.Keyboard_Generic=Keyboard_Generic\n\n","DEVICE_TYPE property (object type: String)","A list of settings is shown in .","DEVICE_GROUP property (object type: String)","A list of settings is shown in .\n\n",{"@attributes":{"id":"p-0732","num":"0855"},"figref":"FIG. 76","b":"502"},"A list of device control script APIs is shown.","The following objects are provided in the device control script API.\n\n","The ClientConnection object is described next.","This object is an object passed to the first parameter of the constructor of the device control script .\n\n","This method sends data to a device object that runs on a browser.","[Syntax]","send (event, data);","[Parameters]\n\n","This parameter specifies the event name of the device object.\n\n","This parameter specifies the data passed to the device object event.","An example is shown in . In this example, the onkeypress event of the device object is called, and 49 is received from data.keycode and 1 is received from data.ascii using the data parameter of the onkeypress event.","The DeviceConnection object is described next.","This object is an object passed in the second parameter of the constructor of the device control script .\n\n","This method sends data to a serial communication device.","[Syntax]","send (data);","[Parameters]","data: object type: (Buffer)","This parameter specifies the data to send to the device.","The device control script Name object is described next.\n\n","This event receives detected data from a key input device.","Events are described in this format in a device control script  for a key input device.","[Syntax]","on DeviceData (event, keycode, ascii);","[Parameters]","event: object type: (Number)","This parameter receives the direction of key operation. For a list of values, see .","keycode: object type: (Number)","This parameter receives the key code. For a list of key codes, see  and .","ascii: object type: (String)","This parameter receives the character corresponding to the operated key.","If no character corresponds to the key code (such as with the F1 key), undefined is returned.\n\n","This event receives data detected from a serial communication device.","Events are described in this format in a device control script  for serial communication.","[Syntax]","on DeviceData (data);","[Parameters]\n\n","This parameter receives data received from a serial communication device.\n\n","This event receives the results of API execution by a device object that runs on a browser.","[Syntax]","Name specified by callEvent (data);","[Parameters]\n\n","This parameter receives the object specified by the callEvent parameter of the device object.","A program is described next.","[Summary]","As shown in , this program provides the ability to read data with the barcode scanner and print.","[Environment]","Devices\n\n","Execution Environment","The following environment is described here.","The work flow for building the program environment is shown in .","1. Configure the network settings of the printer .","Configure the system and printer  network settings. The network settings of the printer  can be configured using either of the following methods.\n\n","2. Connect the barcode scanner  to the printer .","Connect the barcode scanner  to the printer .","3. Configure the barcode scanner","Register the barcode scanner  in the printer . Registration is done from a web browser.","[Configuring a Barcode Scanner]","Register a barcode scanner  to be controlled by Device XML in the printer . The barcode scanner  is registered and configured using the TMNet WebConfig utility.",{"@attributes":{"id":"p-0791","num":"0930"},"figref":"FIG. 94A"},"1. Confirm that the barcode scanner  is connected to the printer , and turn the printer  on.","2. Start the web browser on the computer used for configuring, and input the URL (http:\/\/IP address of printer \/webconfig\/).","3. The TMNetWebConfig utility starts. Click on [Web service settings]\u2014[Device registration]\u2014[Key input device] shown in (3) in .","4. The \u201cKey input device\u201d screen is displayed. Set the items shown in  in the input fields shown in (4) in , and click [Registration].","5. The registered barcode scanner is displayed in the [Registered key input devices] field in (5) in .","As described above, a device control system  according to this embodiment of the invention has a terminal  that executes an application , and a printer  with a connection panel  to which a device connects, connected over a network. The terminal  sends XML data generated by the application  to the printer . The printer  receives the XML data sent from the terminal  through a socket interface . When the terminal  sends data requesting administrator information, the printer  sends the administrator information of the printer  to the terminal  using functions of a device service interface  and device control script . When the terminal  sends data requesting device control, the printer  controls the device. As a result, devices connected to the printer  can be controlled by a terminal  connected to the network. The terminal  can be any device that can run an application that generates data written in XML. Because XML is highly versatile, many different devices can be used as the terminal . Developing applications for the terminal  is also simple.","When the terminal  requests administrator information by sending data containing an <admin_info> message, the printer  returns XML data including the administrator name and\/or location stored by the printer  to the terminal .","When the terminal  sends data including a device open request, the printer  enables controlling the device, and when the terminal  sends data including a device close request, the printer  disables control of the controlled device.","The data generated by the application  also includes message data that differs for each device connected to the printer , or message data common to devices.","When controlling a device requested by data, the printer  also instantiates a DeviceConnection object that sends data to the device, and a ClientConnection object that sends data to the terminal .","The foregoing embodiment obviously describes one example of the invention, and can be modified and adapted as desired within the scope of the accompanying claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 19A"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 19B"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 20A"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 20B"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 24A"},{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 24B"},{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 24C"},{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 24D"},{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 24E"},{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 25A"},{"@attributes":{"id":"p-0059","num":"0058"},"figref":"FIG. 25B"},{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 25C"},{"@attributes":{"id":"p-0061","num":"0060"},"figref":"FIG. 25D"},{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 25E"},{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 25F"},{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 26A"},{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 26B"},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 26C"},{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 26D"},{"@attributes":{"id":"p-0068","num":"0067"},"figref":"FIG. 26E"},{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 27A"},{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 27B"},{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 27C"},{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 27D"},{"@attributes":{"id":"p-0073","num":"0072"},"figref":"FIG. 28A"},{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 28B"},{"@attributes":{"id":"p-0075","num":"0074"},"figref":"FIG. 28C"},{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 29A"},{"@attributes":{"id":"p-0077","num":"0076"},"figref":"FIG. 29B"},{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 29C"},{"@attributes":{"id":"p-0079","num":"0078"},"figref":"FIG. 30A"},{"@attributes":{"id":"p-0080","num":"0079"},"figref":"FIG. 30B"},{"@attributes":{"id":"p-0081","num":"0080"},"figref":"FIG. 31A"},{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 31B"},{"@attributes":{"id":"p-0083","num":"0082"},"figref":"FIG. 32A"},{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 32B"},{"@attributes":{"id":"p-0085","num":"0084"},"figref":"FIG. 33A"},{"@attributes":{"id":"p-0086","num":"0085"},"figref":"FIG. 33B"},{"@attributes":{"id":"p-0087","num":"0086"},"figref":"FIG. 33C"},{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIG. 33D"},{"@attributes":{"id":"p-0089","num":"0088"},"figref":"FIG. 34A"},{"@attributes":{"id":"p-0090","num":"0089"},"figref":"FIG. 34B"},{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIG. 34C"},{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIG. 34D"},{"@attributes":{"id":"p-0093","num":"0092"},"figref":"FIG. 34E"},{"@attributes":{"id":"p-0094","num":"0093"},"figref":"FIG. 34F"},{"@attributes":{"id":"p-0095","num":"0094"},"figref":"FIG. 34G"},{"@attributes":{"id":"p-0096","num":"0095"},"figref":"FIG. 34H"},{"@attributes":{"id":"p-0097","num":"0096"},"figref":"FIG. 34I"},{"@attributes":{"id":"p-0098","num":"0097"},"figref":"FIG. 34J"},{"@attributes":{"id":"p-0099","num":"0098"},"figref":"FIG. 34K"},{"@attributes":{"id":"p-0100","num":"0099"},"figref":"FIG. 34L"},{"@attributes":{"id":"p-0101","num":"0100"},"figref":"FIG. 34M"},{"@attributes":{"id":"p-0102","num":"0101"},"figref":"FIG. 34N"},{"@attributes":{"id":"p-0103","num":"0102"},"figref":"FIG. 34P"},{"@attributes":{"id":"p-0104","num":"0103"},"figref":"FIG. 35"},{"@attributes":{"id":"p-0105","num":"0104"},"figref":"FIG. 36A"},{"@attributes":{"id":"p-0106","num":"0105"},"figref":"FIG. 36B"},{"@attributes":{"id":"p-0107","num":"0106"},"figref":"FIG. 36C"},{"@attributes":{"id":"p-0108","num":"0107"},"figref":"FIG. 36D"},{"@attributes":{"id":"p-0109","num":"0108"},"figref":"FIG. 37A"},{"@attributes":{"id":"p-0110","num":"0109"},"figref":"FIG. 37B"},{"@attributes":{"id":"p-0111","num":"0110"},"figref":"FIG. 38A"},{"@attributes":{"id":"p-0112","num":"0111"},"figref":"FIG. 38B"},{"@attributes":{"id":"p-0113","num":"0112"},"figref":"FIG. 38C"},{"@attributes":{"id":"p-0114","num":"0113"},"figref":"FIG. 38D"},{"@attributes":{"id":"p-0115","num":"0114"},"figref":"FIG. 38E"},{"@attributes":{"id":"p-0116","num":"0115"},"figref":"FIG. 38F"},{"@attributes":{"id":"p-0117","num":"0116"},"figref":"FIG. 38G"},{"@attributes":{"id":"p-0118","num":"0117"},"figref":"FIG. 38H"},{"@attributes":{"id":"p-0119","num":"0118"},"figref":"FIG. 38I"},{"@attributes":{"id":"p-0120","num":"0119"},"figref":"FIG. 38J"},{"@attributes":{"id":"p-0121","num":"0120"},"figref":"FIG. 39A"},{"@attributes":{"id":"p-0122","num":"0121"},"figref":"FIG. 39B"},{"@attributes":{"id":"p-0123","num":"0122"},"figref":"FIG. 39C"},{"@attributes":{"id":"p-0124","num":"0123"},"figref":"FIG. 39D"},{"@attributes":{"id":"p-0125","num":"0124"},"figref":"FIG. 39E"},{"@attributes":{"id":"p-0126","num":"0125"},"figref":"FIG. 39F"},{"@attributes":{"id":"p-0127","num":"0126"},"figref":"FIG. 39G"},{"@attributes":{"id":"p-0128","num":"0127"},"figref":"FIG. 39H"},{"@attributes":{"id":"p-0129","num":"0128"},"figref":"FIG. 39I"},{"@attributes":{"id":"p-0130","num":"0129"},"figref":"FIG. 39J"},{"@attributes":{"id":"p-0131","num":"0130"},"figref":"FIG. 39K"},{"@attributes":{"id":"p-0132","num":"0131"},"figref":"FIG. 40A"},{"@attributes":{"id":"p-0133","num":"0132"},"figref":"FIG. 40B"},{"@attributes":{"id":"p-0134","num":"0133"},"figref":"FIG. 41A"},{"@attributes":{"id":"p-0135","num":"0134"},"figref":"FIG. 41B"},{"@attributes":{"id":"p-0136","num":"0135"},"figref":"FIG. 42A"},{"@attributes":{"id":"p-0137","num":"0136"},"figref":"FIG. 42B"},{"@attributes":{"id":"p-0138","num":"0137"},"figref":"FIG. 43A"},{"@attributes":{"id":"p-0139","num":"0138"},"figref":"FIG. 43B"},{"@attributes":{"id":"p-0140","num":"0139"},"figref":"FIG. 44A"},{"@attributes":{"id":"p-0141","num":"0140"},"figref":"FIG. 44B"},{"@attributes":{"id":"p-0142","num":"0141"},"figref":"FIG. 45A"},{"@attributes":{"id":"p-0143","num":"0142"},"figref":"FIG. 45B"},{"@attributes":{"id":"p-0144","num":"0143"},"figref":"FIG. 46"},{"@attributes":{"id":"p-0145","num":"0144"},"figref":"FIG. 47A"},{"@attributes":{"id":"p-0146","num":"0145"},"figref":"FIG. 47B"},{"@attributes":{"id":"p-0147","num":"0146"},"figref":"FIG. 48A"},{"@attributes":{"id":"p-0148","num":"0147"},"figref":"FIG. 48B"},{"@attributes":{"id":"p-0149","num":"0148"},"figref":"FIG. 49A"},{"@attributes":{"id":"p-0150","num":"0149"},"figref":"FIG. 49B"},{"@attributes":{"id":"p-0151","num":"0150"},"figref":"FIG. 50A"},{"@attributes":{"id":"p-0152","num":"0151"},"figref":"FIG. 50B"},{"@attributes":{"id":"p-0153","num":"0152"},"figref":"FIG. 50C"},{"@attributes":{"id":"p-0154","num":"0153"},"figref":"FIG. 51A"},{"@attributes":{"id":"p-0155","num":"0154"},"figref":"FIG. 51B"},{"@attributes":{"id":"p-0156","num":"0155"},"figref":"FIG. 51C"},{"@attributes":{"id":"p-0157","num":"0156"},"figref":"FIG. 52A"},{"@attributes":{"id":"p-0158","num":"0157"},"figref":"FIG. 52B"},{"@attributes":{"id":"p-0159","num":"0158"},"figref":"FIG. 53A"},{"@attributes":{"id":"p-0160","num":"0159"},"figref":"FIG. 53B"},{"@attributes":{"id":"p-0161","num":"0160"},"figref":"FIG. 54A"},{"@attributes":{"id":"p-0162","num":"0161"},"figref":"FIG. 54B"},{"@attributes":{"id":"p-0163","num":"0162"},"figref":"FIG. 55A"},{"@attributes":{"id":"p-0164","num":"0163"},"figref":"FIG. 55B"},{"@attributes":{"id":"p-0165","num":"0164"},"figref":"FIG. 55C"},{"@attributes":{"id":"p-0166","num":"0165"},"figref":"FIG. 56"},{"@attributes":{"id":"p-0167","num":"0166"},"figref":"FIG. 57A"},{"@attributes":{"id":"p-0168","num":"0167"},"figref":"FIG. 57B"},{"@attributes":{"id":"p-0169","num":"0168"},"figref":"FIG. 57C"},{"@attributes":{"id":"p-0170","num":"0169"},"figref":"FIG. 57D"},{"@attributes":{"id":"p-0171","num":"0170"},"figref":"FIG. 58A"},{"@attributes":{"id":"p-0172","num":"0171"},"figref":"FIG. 58B"},{"@attributes":{"id":"p-0173","num":"0172"},"figref":"FIG. 58C"},{"@attributes":{"id":"p-0174","num":"0173"},"figref":"FIG. 59A"},{"@attributes":{"id":"p-0175","num":"0174"},"figref":"FIG. 59B"},{"@attributes":{"id":"p-0176","num":"0175"},"figref":"FIG. 59C"},{"@attributes":{"id":"p-0177","num":"0176"},"figref":"FIG. 60A"},{"@attributes":{"id":"p-0178","num":"0177"},"figref":"FIG. 60B"},{"@attributes":{"id":"p-0179","num":"0178"},"figref":"FIG. 61A"},{"@attributes":{"id":"p-0180","num":"0179"},"figref":"FIG. 61B"},{"@attributes":{"id":"p-0181","num":"0180"},"figref":"FIG. 62A"},{"@attributes":{"id":"p-0182","num":"0181"},"figref":"FIG. 62B"},{"@attributes":{"id":"p-0183","num":"0182"},"figref":"FIG. 62C"},{"@attributes":{"id":"p-0184","num":"0183"},"figref":"FIG. 62D"},{"@attributes":{"id":"p-0185","num":"0184"},"figref":"FIG. 62E"},{"@attributes":{"id":"p-0186","num":"0185"},"figref":"FIG. 62F"},{"@attributes":{"id":"p-0187","num":"0186"},"figref":"FIG. 63"},{"@attributes":{"id":"p-0188","num":"0187"},"figref":"FIG. 64"},{"@attributes":{"id":"p-0189","num":"0188"},"figref":"FIG. 65"},{"@attributes":{"id":"p-0190","num":"0189"},"figref":"FIG. 66"},{"@attributes":{"id":"p-0191","num":"0190"},"figref":"FIG. 67A"},{"@attributes":{"id":"p-0192","num":"0191"},"figref":"FIG. 67B"},{"@attributes":{"id":"p-0193","num":"0192"},"figref":"FIG. 67C"},{"@attributes":{"id":"p-0194","num":"0193"},"figref":"FIG. 68A"},{"@attributes":{"id":"p-0195","num":"0194"},"figref":"FIG. 68B"},{"@attributes":{"id":"p-0196","num":"0195"},"figref":"FIG. 69A"},{"@attributes":{"id":"p-0197","num":"0196"},"figref":"FIG. 69B"},{"@attributes":{"id":"p-0198","num":"0197"},"figref":"FIG. 69C"},{"@attributes":{"id":"p-0199","num":"0198"},"figref":"FIG. 70A"},{"@attributes":{"id":"p-0200","num":"0199"},"figref":"FIG. 70B"},{"@attributes":{"id":"p-0201","num":"0200"},"figref":"FIG. 71A"},{"@attributes":{"id":"p-0202","num":"0201"},"figref":"FIG. 71B"},{"@attributes":{"id":"p-0203","num":"0202"},"figref":"FIG. 71C"},{"@attributes":{"id":"p-0204","num":"0203"},"figref":"FIG. 72"},{"@attributes":{"id":"p-0205","num":"0204"},"figref":"FIG. 73"},{"@attributes":{"id":"p-0206","num":"0205"},"figref":"FIG. 74"},{"@attributes":{"id":"p-0207","num":"0206"},"figref":"FIG. 75"},{"@attributes":{"id":"p-0208","num":"0207"},"figref":"FIG. 76"},{"@attributes":{"id":"p-0209","num":"0208"},"figref":"FIG. 77"},{"@attributes":{"id":"p-0210","num":"0209"},"figref":"FIG. 78"},{"@attributes":{"id":"p-0211","num":"0210"},"figref":"FIG. 79"},{"@attributes":{"id":"p-0212","num":"0211"},"figref":"FIG. 80"},{"@attributes":{"id":"p-0213","num":"0212"},"figref":"FIG. 81"},{"@attributes":{"id":"p-0214","num":"0213"},"figref":"FIG. 82"},{"@attributes":{"id":"p-0215","num":"0214"},"figref":"FIG. 83"},{"@attributes":{"id":"p-0216","num":"0215"},"figref":"FIG. 84A"},{"@attributes":{"id":"p-0217","num":"0216"},"figref":"FIG. 84B"}]},"DETDESC":[{},{}]}
