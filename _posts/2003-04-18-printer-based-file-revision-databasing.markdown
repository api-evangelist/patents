---
title: Printer based file revision databasing
abstract: The present disclosure relates to modifying files that are part of file system in a printer or printing device. The file system is related to a database, such that the database is updated when the file system is modified. Changes to the files system are made through a request, modifying the file system based on the request, and updating the database. Individual files make up programs that may be provided by a printer manufacturer or a third party solution provider. When the printer manufacturer or solution provider desires to modify files affecting a program, a query may be made as to the existing files in the database of the particular printer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07456991&OS=07456991&RS=07456991
owner: Hewlett-Packard Development Company, L.P.
number: 07456991
owner_city: Houston
owner_country: US
publication_date: 20030418
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The present disclosure relates to printers, and more particularly, determining and tracking software revisions of applications executing on printers.","Certain printers, printing devices, and multifunction peripherals (MFP) (collectively known as \u201cprinters\u201d) incorporate an Internet-enabling technology into their firmware. An example is Hewlett Packard's Chai\u2122 appliance infrastructure. The Chai\u2122 appliance infrastructure includes several enabling components, including ChaiServer\u2122 that is an embedded web server (EWS), and ChaiVM\u2122 that is an embedded virtual machine (EVM). The ChaiServer\u2122 enables a printer to be accessed over the Internet via an Internet browser using standard protocols such as hyper-text transfer protocol (HTTP), and further provides an environment in which web programs can be executed. The output of these web programs can then be displayed on a web browser for use by a printer's user. The ChaiVM\u2122 provides an execution environment for Java programs that make use of industry standard application programming interfaces (APIs) to enhance printer functionality.","An example of a printer application is the Chai\u2122 Advanced Device Information Solution (ADIS)  remote printer management solution developed by Euroform. This printer application allows a printer to process email requests for device status, and return an email message with the requested device status information. Another printer application is Chai\u2122 AutoPrint WebSource by DataScan. This printer application enables a printer to automatically retrieve and print web pages according to a predefined time interval. Yet another example of a printer application is the Remote Firmware Upgrade utility (RFU) from Hewlett-Packard. This web-based application interacts with a printer's Chai server to update the printer's existing firmware components. Users can initiate an upgrade session with the RFU by navigating to the printer's home page and clicking on a web link that requests an upgrade process from a HP-supplied web site.","Printer applications are usually stored on a writeable memory device, such as a hard disk, single inline memory module (SIMM), a dual inline memory module (DIMM), compact flash module, etc. These memory devices are typically controlled by a firmware module that is capable of formatting the media as a file system. In this way, files can be added, removed and modified from the media similar to the way files are managed by an Operating System executing on a desktop computer. A printer manufacturer and\/or a third party solution provider installs printer solutions using a designated software installation interface that, in turn, stores the application files on the appropriate writeable memory device.","ChaiServer\u2122 provides programmatic interfaces for application installation. These interfaces can be accessed via several methods including use of a web browser-based application using HTTP commands that are processed by the ChaiServer\u2122 component. In this way, printer applications can be installed via the Internet or Intranet, depending upon the printer's network configuration. The ChaiServer\u2122 works with other system components to store the application file on the appropriate writeable memory device that is coupled directly or indirectly to the printer.","With the ability to provide printers with different application programs and firmware updates, it is expected that incompatibility may arise between an application program and a printer's updated firmware components. This is a concern when a third party solution provider attempts to download or install software to the printer. Without detailed knowledge of the current software that is installed on the printer, in particular the version information of each firmware component, the version information of each application component from an existing installation, and the version information of each printer firmware component, a third party solution provider is not able to adequately determine if the proposed software will execute properly after it is installed.","Typically, when a printer manufacturer and\/or third party solution provider desires to modify or determine status of software, particularly application programs, of a printer, there may be insufficient information that is provided by the printer. When software is loaded to a printer, changes or revisions are not tracked. Software files that are modified, added, and\/or deleted are not recorded. There may be hundreds of affected software files in a file system of the printer. In certain cases, it may be possible to track modified, added, or deleted files in firmware; however, this usually only involves retrieving a printer status page. In certain cases, the status pages may not contain sufficient information as to the hundreds of affected software files. Therefore when software, in particular an application program, is modified, an entire version of the application program is sent, not just a portion needed to perform the change.","Accordingly, this invention arose out of concerns associated with the ability to determine and track software changes that are made to a printer or printing device, and to allow parties to view such changes in order to provide new or revised software to the printer or printing device.","The systems and methods described herein include modifying a file system in printer by receiving requests from various parties. When the file system is modified, a database is updated. The database describes and tracks interrelationship of files in the file system, and may be queried as to particular files meeting particular conditions.","Certain systems and methods described include providing the ability of a third party solution provider to query the printer database using known query commands such as structured query language (SQL).","In particular embodiments, a file structure defines the organization of the files in the file system and the database is tied with the file structure.","Exemplary System",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1","b":["100","105","1","105"]},"Printers ()-(N) may be part of a local area network (LAN), a wide area network (WAN), a public network, a corporate network, or various other types of networks. In certain cases, printers  ()-(N) are not part of network and are dedicated units. However, dedicated units may be able to connect to a network such as the Internet through an interface provided by a device such as a personal computer (PC).","In this example, a network  is connected to printers ()-(N). Network  may include various intra and inter networks including the Internet. Network  may further be connected to an information technology (IT) center . IT center  through network , provides, tracks changes to, and deletes application programs and files located on printers ()-(N).","Third parties application venders, such as solution provider  distribute software to printers ()-(N) to perform various functions, such as downloading fonts and forms. Solution provider  may have its installation infrastructure configured to receive information from printers ()-(N). Such information provided by a printer may include description as to software and software files that are resident at a particular printer.","Printers ()-(N) may be directly connected through a Centronics parallel interface, serial interface, a universal synchronous bus (USB) interface, or similar direct connection to a computing device such as a PC. In this example, a PC  allows a user to download application programs directly to printer (N). Software may be received in the form of a removable storage medium  that includes optical disks, compact flash disks, floppy disks, and similar transportable computer readable media. PC  further allows a user to determine, through the direct interface with printer (N), printer status or condition including assessing particular application programs resident on printer (N).","Printers ()-(N) may also be accessed by remote PC  which is connected to network . PC , similar to PC , is configured to receive application programs in the form of a removable storage medium  that includes optical disks, compact flash disks, floppy disks, and similar transportable computer readable media. PC  allows a user to determine printer status or condition including assessing particular application programs resident on printers ()-(N).","Exemplary Printer Architecture",{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 2","FIG. 1"],"b":["105","105","205","210","215","210","210"]},"Memory  includes a number of program modules. In this example memory  includes a programmable firmware module . Firmware module  includes modules, which may or may not be written to (i.e., updated). However, the modules of firmware module  may be read from. In certain embodiments firmware module  is separate from memory , and maintains a separate coupling to processor  and printer engine .","Firmware module  includes a user interface module , a device state tracker module , a job manager module , an engine manager module , a database manager module , and a file system manager module . Firmware module  and its modules are operatively coupled to other modules of memory .","User interface module  receives instructions from a user, an IT center, or other party to initiate download or receipt of software to printer . Device state tracker module  tracks software and software file replacements, deletions, and additions (collectively referred to as \u201cmodifications\u201d) performed at printer . Job manager module  controls print jobs or printing of copies to be sent to and performed by processor . Engine manager module  controls programs that are sent to and performed by printer engine . Database manager module  tracks modifications of entries to a database module . File system manager module  receives file system requests (i.e., actions affecting a file system module ), initiates a corresponding file system task to be performed on a file system contained on the file system module , and provides a notification to the device state tracker module . File system changes specifically include modifications to software files, which make up the file system.","Further included in memory  are read only memory (ROM) module , random access memory (RAM) module , and nonvolatile random access memory (NVR) module . NVR module  is used to store printer configuration state information such as interconnections to other devices such as PCs. This eliminates the need for a user and\/or other devices to identify and\/or re-establish themselves with the printer . ROM module  and NVR module  continue to store information even when power is shut down from printer , while RAM module  loses information as soon as printer  loses power.","When downloading software, including software files, printer  may make use of RAM module , and file system module . File system module  is a form of temporary memory that is programmable (i.e., write to and read from). In typical cases, software files may be loaded from transportable medium onto a section of file system module  then loaded onto RAM module  when printer  is booted up (i.e., started). If memory is insufficient in RAM module  at boot up, RAM module  places software into file system module . RAM module  is used as transitory memory to place software (including software files), printer operating system, and other printer related programs prior to sending them to processor . Since software is stored and continuously processed, eventually RAM module  frees up enough memory to be able to download software that was previously stored in file system module . The software is then sent by RAM module  to processor .","In certain cases, file system module  and database module  are combined. Database module  defines the interrelationship of files and directories as part of a file structure that is defined by the file system module . This is further discussed below.","It is contemplated that an embedded operating system is used by printer . Such an operating system may be placed in NVR  or a dedicated section of memory . Initially or when updates are performed, the operating system is loaded from an external medium. As discussed above, at boot up the operating system is placed in RAM module  prior to processing by processor . A number of operating systems may be used, including Unix and Linux, and their variations. The particular choice of an operating system lies in the ability to provide a file structure that allows a user to perform query commands as to the software files defined by the file structure.","File Structure",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 3","FIG. 2"],"b":["300","260","260","300"]},"A file contains information that may include text strings, printer commands, machine and\/or user interfaces, assignable rights to a party (e.g., solution provider and\/or user), and data format. An extension (i.e., suffix) to the file name may be used to describe the type of the file. For example, a \u201c.txt\u201d extension would indicate a text file. A directory of files makes up executable software to perform a printer function or operation. An application program that provides functionality to the printer may place, and make use of, particular files into specific directories. In running the application program, the particular files are looked for, loaded into RAM module , and processed.","In this example, file system structure  includes a number of files: File A , File B , File C , File D , File E , File F , File G , File H , and File I . Directory B  is made up of File A , File B , and File C . Directory C  is made up of File D , File E , and File F . Directory D  is made up of File G , File H , and File I . At the next higher level, directory A  is made of directory B , directory C  and directory D .","Although, file structure  illustrates files as part of particular directories, it is contemplated that one or more files may be part of one or more directories. In other words, a particular file may be shared between multiple directories. Likewise, in file structures with a number of levels of directories, lower level directories may be shared amongst more than one higher-level directory. Also, files and directories at different levels may be shared with higher-level directories.","A file may be referenced by a path name that defines the directories that include the file. For example, a particular drive or memory, drive \u201cG\u201d, contains the directories and the files associated with file structure . The pathname for File A  would be G:directory A\/directory B\/file A. File A  may further include an extension that describes the file type.","Exemplary Database Entity Relationship",{"@attributes":{"id":"p-0039","num":"0038"},"figref":["FIG. 4","FIG. 2"],"b":["400","250","405","410","405","410"]},"A number of actions may be performed by providers that affect a printer application program. In this example the action \u201cmodify\u201d  defines the particular action of a provider  table entry on a printer application program  table entry. The arrow of modify  action indicates that the provider of table  performs the action on the printer application program of table .","A number of entities may relate to a number of other entities. In this example entity relationship \u201c0 . . . *\u201d  indicates that a particular provider can relate to zero (0) to many (*) printer application programs.","A provider is defined by a number of fields as included in table . The values of the fields may be defined by particular software files. In this example a provider is defined by a form field  that defines a particular form generated by the provider. A provider may be defined by a font field  that defines a particular font from by the provider. A provider may be defined by the access or modification rights associated with it as provided by access\/modification rights field . Providers may be defined by a provider ID value in provider ID field . In certain cases when a field is not applicable to a provider, the value in the field may be set to \u201cnull.\u201d","An application program may be defined by a number of fields as included in table . Particular files, such as files - of  may provide values of the particular fields of table . In other words, files provide data in the fields that define application programs. The values of the fields may be defined by particular software files. An application program may have a particular user interface as defined by interface field . A particular website URL may apply to the printer application program and defined by website URL field . A printer application program may have a style sheet associated with it and defined by a style sheet field . A printer application program may have a version number as defined by a version number field . The particular date and time that a printer application program was modified may be defined by a modification date\/time field . In certain cases when a field is not applicable to a printer application program the value in the field may be set to \u201cnull.\u201d","The above entity relationship is provided as an example. Other relationships between providers, application programs, and other entities may exist. Such entity relationships are used to define how particular fields and particular software files that define the values of such fields, relate to particular entities as part of a relational database. With a relational database, the use of database query commands can be used by a provider to the printer, a user of the printer, or an IT center managing the printer.","Examples of database query languages include structure query language (SQL) and variations of SQL. SQL is well known in the industry and query commands using SQL may be generated without detailed knowledge of the printer operating system and printer software architecture. Searches may be performed keyed to particular fields, where search results may be structured to described directories and\/or entities affected by the particular fields.","File System Modification and Database Update",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 5","b":["500","500"]},"At block , a request is initiated to modify or perform a change on the file system. In particular, the request is to add, delete or replace a software file or files that are part of the file system. The particular files are associated with application programs. File system module  of  may process the files. The request may be initiated by a user through user interface module  of . In other cases, the request is initiated from firmware modules such as job manager module  and\/or engine manager module  of , when print jobs or programs are processed. The request may be sent to and received by file system manager module  of .","After the request is initiated, at block  a task is performed on file system module  by file system manager module . File system manager module  performs the task that changes the file system, which may be to add, delete or replace a file. The file may affect one or more application programs.","In parallel with block , an event notification is sent at block  indicating a modification affecting the file system. The event notification contains information as to specific changes made to an application program or other program affecting the file system (i.e., modifications to files). The event notification is sent by file system manager module  after receiving the request at block . The event notification is received by device state tracker module  of . As described above, device state tracker module  tracks software modifications performed at the printer.","At block , an update is performed to the relational database of the printer. When the file system is changed, database module  of  is affected. Database module  includes a printer database that includes information regarding the interrelationships of entities, fields, files, and directories. Device state tracker module  notifies database manager module  of  as to events that affect the file system and the printer database.","At block , the printer database, as defined by database module , is updated. The update is performed by providing a database entry or modification regarding particular affected files. The update may be performed by database manager module  on database module .","Database Extraction",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 6","b":"600"},"At block , the printer receives a query command to search the printer database conditioned on parameters set by the provider. The query command may be made using a database query language such as SQL. The provider desires to modify a particular file, and the query command requests all directories that the file affects.","At block , the printer performs a search based on the parameters set forth by the query command. The search may be directed to particular files and\/or directories that meet the set parameters. Searching may make use of Boolean conditions and\/or value determinative conditions (i.e., equal to, less than, or greater than a set value).","At block , the search result of the query command is presented by the printer. In certain cases, the search result is presented as a list of files. In other cases, the search result is presented for use by a process (i.e., routine) resident on the printer or external device such as PC. Such a process is described below in the discussion of block .","At block , a determination is made as to the compatibility of the proposed file modification with pre-existing application programs. The pre-existing application programs relate directly to the directories identified at block . The process ends if a pre-existing application program is adversely affected by the file modification, and the file modification is not performed (i.e., the NO branch of block ).","If the file modification is acceptable for all pre-existing application programs (i.e., the YES branch of block ), block  is performed. The file modification is accepted and file system changes are initiated as described by process  of .","Although the flow charts of  show a specific order of execution, the order of execution may differ from what is depicted. All such variations are within the scope of the present invention.","Although the invention has been described in language specific to structural features and\/or methodological acts, it is to be understood that the invention defined in the appended claims is not necessarily limited to the specific features or acts described. Rather, the specific features and acts are disclosed as exemplary forms of implementing the claimed invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The drawings that are shown and described are to illustrate embodiments and\/or implementations of the invention, and are not of the invention itself.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
