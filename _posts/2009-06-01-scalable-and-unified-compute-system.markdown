---
title: Scalable and unified compute system
abstract: A Scalable and Unified Compute System performs scalable, repairable general purpose and graphics shading operations, memory load/store operations and texture filtering. A Scalable and Unified Compute. Unit Module comprises a shader pipe array, a texture mapping unit, and a level one texture cache system. It accepts ALU instructions, input/output instructions, and texture or memory requests for a specified set of pixels, vertices, primitives, surfaces, or general compute work items from a shader program and performs associated operations to compute the programmed output data. The texture mapping unit accepts source data addresses and instruction constants in order to fetch, format, and perform instructed filtering interpolations to generate formatted results based on the specific corresponding data stored in a level one texture cache system. The texture mapping unit consists of an address generating system, a pre-formatter module, interpolator module, accumulator module and a format module.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08558836&OS=08558836&RS=08558836
owner: Advanced Micro Devices, Inc.
number: 08558836
owner_city: Sunnyvale
owner_country: US
publication_date: 20090601
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application claims the benefit under 35 U.S.C. \u00a7119(e) to U.S. Provisional Patent Application No. 61\/057,483 filed May 30, 2008; U.S. Provisional Patent Application No. 61\/057,504 filed May 30, 2008; U.S. Provisional Patent Application No. 61\/057,492 filed May 30, 2008; U.S. Provisional Patent Application No. 61\/057,499 filed May 30, 2008; and U.S. Provisional Patent Application No. 61\/057,513 filed May 30, 2008, all of which are incorporated by reference herein in their entireties.","1. Field of the Invention","The present invention generally relates to computing operations performed by computing systems, and more particularly to graphics processing tasks performed by computing systems.","2. Related Art","A graphics processing unit (GPU) is a complex integrated circuit that is specially configured to carry out graphics processing tasks. A GPU can, for example, execute graphics processing tasks required by an end-user application, such as a video game application. For such applications, for example, there are several layers of software between the end-user application and the GPU.","The end-user application communicates with an application programming interface (API). An API allows the end-user application to output graphics data and commands in a standardized format, rather than in a format that is dependent on the GPU. Several types of APIs are commercially available, including DirectX\u00ae developed by Microsoft Corp. and OpenGL\u00ae developed by Silicon Graphics, Inc. The API communicates with a driver. The driver translates standard code received from the API into a native format of instructions understood by the GPU. The driver is typically written by the manufacturer of the GPU. The GPU then executes instructions from the driver.","A GPU produces, by carrying out a process known as \u201crendering\u201d creates individual pixels that together form an image based on a higher level description of image components. A GPU typically carries out continuous rendering using pipelines to process pixel, texture, and geometric data. These pipelines are often referred to as a collection of fixed function special purpose pipelines such as rasterizers, setup engines, color blenders, hieratical depth, texture mapping and programmable stages that can be accomplished in shader pipes or shader pipelines, \u201cshader\u201d being a term in computer graphics referring to a set of software instructions used by a graphic resource primarily to perform rendering effects. In addition, GPU's can also employ multiple programmable pipelines in a parallel processing design to obtain higher throughput. A multiple of shader pipelines can also be referred to as a shader pipe array.","As a shader pipe array performs its ongoing rendering process, manufacturing defects in a pipeline can be become known and subsequent failures can occur within a pipeline. A small defect or failure in a system without any logic repair is fatal and can render the device defective.","In addition, GPUs also support texture mapping. Texture mapping is a process used to determine the texture color for a texture mapped pixel through the use of the colors of nearby pixels of the texture, or texels. The process is also referred to as texture smoothing or texture interpolation. However, high image quality texture mapping requires a high degree of computational complexity.","Given the ever increasing complexity of new software applications and API shader language advancements, the demands on GPUs to provide high quality rendering, texture mapping and generalize memory access for advanced rendering and generalized compute, computation complexities are further increasing.","In addition, GPUs equipped with a Unified Shader also simultaneously support many types of shader processing, from pixel, vertex, primitive, surface and generalized compute are raising the demand for higher performance generalized memory access capabilities.","What are needed, therefore, are systems and\/or methods to alleviate the aforementioned deficiencies. Particularly, what is needed is a scalable Unified Shader design approach for a shader pipe with a multipurpose texture mapping system capable of generalized load\/store operations with the ability to overcome the effects of a defective internal subcircuit with minimal impact on overall system performance.","This section is for the purpose of summarizing some aspects of the present invention and to briefly introduce some preferred embodiments. Simplifications or omissions may be made to avoid obscuring the purpose of the section. Such simplifications or omissions are not intended to limit the scope of the present invention.","Consistent with the principles of the present invention as embodied and broadly described herein, the present invention includes method and apparatus related to a row based Scalable and Unified Compute Unit Module. The Scalable and Unified Compute Unit Module includes a shader pipe array and texture mapping unit with a level one cache system to perform texture mapping and general load\/store accesses with the ability to process shader pipe data destined to a defective shader pipe. The Scalable and Unified Compute System comprises a sequencer, Scalable and Unified Compute Unit Module with access to a level two texture cache system and thus an external memory system. The Scalable and Unified Compute System is configured to accept an executing shader program instruction including input, output, ALU and texture or general memory load\/store requests with address data from the shader pipes and program constants to generate the return texel or memory data based on state data controlling the pipelined address and filtering operations for a specific pixel or thread. The texture filter system is configured based on the shader program instruction and constant to generate a formatted interpolation based on texel data stored in the cache system for the addresses stored in the shader pipeline.","In an embodiment of the invention, the row based shader pipe Scalable and Unified Compute System further comprises a redundant shader pipe system. The redundant shader pipe system is configured to process shader pipe data destined to a defective shader pipes in the shader pipe array.","In another embodiment the row based Scalable and Unified Compute System further comprises a level two texture cache system. The level two texture cache system can be read and written to by any level one row based texture cache system.","In another embodiment the texture filter in the texture mapping unit in the Scalable and Unified Compute Unit Module further comprises a pre-formatter module, an interpolator module, an accumulator module, and a format module. The pre-formatter module is configured to receive texel data and convert it to a normalized fixed point format. The interpolator module is configured to perform an interpolation on the normalized fixed point texel data from the pre-formatter module and generate re-normalized floating point texel data. The accumulator module is configured to accumulate floating point texel data from the interpolator module to achieve the desired level of bilinear, trilinear, and anisotropic filtering. The format module is configured to convert texel data from the accumulator module into a standard floating point representation.","Further features and advantages of the invention, as well as the structure and operation of various embodiments of the present invention, are described in detail below with reference to the accompanying drawings. It is noted that the invention is not limited to the specific embodiments described herein. Such embodiments are presented herein for illustrative purposes only. Additional embodiments will be apparent to persons skilled in the relevant art(s) based on the teachings contained herein.","The features and advantages of the present invention will become more apparent from the detailed description set forth below when taken in conjunction with the drawings, in which like reference characters identify corresponding elements throughout. In the drawings, like reference numbers generally indicate identical, functionally similar, and\/or structurally similar elements. The drawing in which an element first appears is indicated by the leftmost digit(s) in the corresponding reference number.","The invention will be better understood from the following descriptions of various \u201cembodiments\u201d of the invention. Thus, specific \u201cembodiments\u201d are views of the invention, but each is not the whole invention. In one respect, the invention relates to a Scalable and Unified Compute System whereby a shader pipe array processes shader program instructions on input pixel, vertex, and primitive, surface or compute work items to create output data for each item using generated texel data or memory load\/store operations. In embodiments of this invention, bilinear texture mapping, trilinear texture mapping, and anisotropic texture mapping are applied to the texel data that is stored in a multi-level cache system. In another embodiment, a redundant shader system can be added and configured to process shader pipe data directed to defective shader pipes within the shader pipe array to recover devices with a defective sub-circuit in one or more shader pipes.","Embodiments of this invention that have configurations containing two or more Scalable and Unified Compute Systems, a subset of the Unified Compute Unit System itself can be configured to be a repairable unit. In such an embodiment workloads destined to a defective Unified Compute Unit System will instead be sent to a redundant Unified Compute Unit System to process all ALU, texture, and memory operations. This increases the portion of the device that is covered by repair significantly due to the inclusion of texture mapping unit and L1 cache system and thus significantly improves on the yield of such a device.","While specific configurations, arrangements, and steps are discussed, it should be understood that this is done for illustrative purposes only. A person skilled in the pertinent art(s) will recognize that other configurations, arrangements, and steps can be used without departing from the spirit and scope of the present invention. It will be apparent to a person skilled in the pertinent art(s) that this invention can also be employed in a variety of other applications.","It is noted that references in the specification to \u201cone embodiment,\u201d \u201can embodiment,\u201d \u201can example embodiment,\u201d etc., indicate that the embodiment described can include a particular feature, structure, or characteristic, but every embodiment may not necessarily include the particular feature, structure, or characteristic. Moreover, such phrases are not necessarily referring to the same embodiment. Further, when a particular feature, structure, or characteristic is described in connection with an embodiment, it would be within the knowledge of one skilled in the art to incorporate such a feature, structure, or characteristic in connection with other embodiments whether or not explicitly described.","While the present invention is described herein with reference to illustrative embodiments for particular applications, it should be understood that the invention is not limited thereto. Those skilled in the art with access to the teachings provided herein will recognize additional modifications, applications, and embodiments within the scope thereof and additional fields in which the invention would be of significant utility.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 1","b":["100","100","110","120","130","120","122","124","126","128"]},"Shader pipe array  performs ALU operations on input data. Sequencer  controls the shader program instruction issue for contained workloads and the flow of data through shader pipe array . In addition, in an embodiment where the redundant shader pipe array  is present, sequencer  reacts to defective shader pipes that occur within shader pipe array  by scheduling instructions to the appropriate redundant units.","Sequencer  can issue a texture fetch or load\/store operation that will initiate shader pipe array  to send addresses with the instruction issued to texture mapping unit . In this instance texture mapping unit  generates appropriate addresses to the level one texture cache system  that contains texel data or memory data associated with the addresses. Level one cache system , after receiving the addresses, will return the associated texel or memory data to texture mapping unit . When the requested texel or memory data is not present in the level one cache system , then the request is forwarded to a level two cache system  obtain and return the requested texel data.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 2","b":["120","122","122","0"]},"In an embodiment where redundant shader pipe array  is present, if sequencer  identifies, as an example, that the shader pipe located in shader pipe block SP_ is defective, then the shader pipe data destined to the defective pipe would be sent to redundant shader pipe array  via the input stream by the input module and processed by redundant shader pipe array . All texture mapping requests would be intercepted by redundant shader pipe array  when instructed via horizontal control path  from sequencer . Once redundant shader pipe array  processes the shader pipe data initially destined to the defective shader pipe, the processed redundant shader pipe array  data would be transferred from redundant shader pipe array  back to the output stream of shader pipe  and realigned in an output unit (not shown).","In an embodiment, redundant shader pipe array  consists of a single block, and therefore can only process shader pipe data destined to a single defective shader pipe at a time. In another embodiment wherein redundant shader pipe array  comprises multiple redundant shader blocks, then redundant shader pipe array  can process shader pipe data destined to more than one defective shader pipe simultaneously.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 3","b":["126","122","126","318","310","312","314","316","126","122","124","110","318","128","310","312","314","316","122","124","310","312","310","314","316","314","122","310","312","314","316"]},"An embodiment represented by  also illustrates the use of a level two cache system . The level two cache system is additional memory that is available to Scalable and Unified Computer Unit Module  when it is necessary or desirable to read and\/or write data from and to the level one cache system .",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 4","b":["400","400","402","404","406","408","410","400","412"]},"The functions, processes, systems, and methods outlined in , , , and  can be implemented in software, firmware, or hardware, or using any combination thereof. If programmable logic is used, such logic can execute on a commercially available processing platform or a special purpose device.","As would be apparent to one skilled in the relevant art, based on the description herein, embodiments of the present invention can be designed in software using a hardware description language (HDL) such as, for example, Verilog or VHDL. The HDL-design can model the behavior of an electronic system, where the design can be synthesized and ultimately fabricated into a hardware device. In addition, the HDL-design can be stored in a computer product and loaded into a computer system prior to hardware manufacture.","It is to be appreciated that the Detailed Description section, and not the Summary and Abstract sections, is intended to be used to interpret the claims. The Summary and Abstract sections may set forth one or more but not all exemplary embodiments of the present invention as contemplated by the inventor(s), and thus, are not intended to limit the present invention and the appended claims in any way.","The present invention has been described above with the aid of functional building blocks illustrating the implementation of specified functions and relationships thereof. The boundaries of these functional building blocks have been arbitrarily defined herein for the convenience of the description. Alternate boundaries can be defined so long as the specified functions and relationships thereof are appropriately performed.","The foregoing description of the specific embodiments will so fully reveal the general nature of the invention that others can, by applying knowledge within the skill of the art, readily modify and\/or adapt for various applications such specific embodiments, without undue experimentation, without departing from the general concept of the present invention. Therefore, such adaptations and modifications are intended to be within the meaning and range of equivalents of the disclosed embodiments, based on the teaching and guidance presented herein. It is to be understood that the phraseology or terminology herein is for the purpose of description and not of limitation, such that the terminology or phraseology of the present specification is to be interpreted by the skilled artisan in light of the teachings and guidance.","While various embodiments of the present invention have been described above, it should be understood that they have been presented by way of example only, and not limitation. It will be apparent to persons skilled in the relevant art that various changes in form and detail can be made therein without departing from the spirit and scope of the invention. Thus, the breadth and scope of the present invention should not be limited by any of the above-described exemplary embodiments, but should be defined only in accordance with the following claims and their equivalents."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The accompanying drawings, which are incorporated in and constitute part of the specification, illustrate embodiments of the invention and, together with the general description given above and the detailed description of the embodiment given below, serve to explain the principles of the present invention. In the drawings:",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
