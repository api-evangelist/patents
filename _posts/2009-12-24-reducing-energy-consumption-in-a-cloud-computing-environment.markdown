---
title: Reducing energy consumption in a cloud computing environment
abstract: Functionality can be implemented within a cloud manager to leverage energy consumption data of cloud processing and their associated facility resources when selecting computing nodes to complete the job. The cloud manager can determine possible computing nodes to complete the job based on the job attributes. The cloud manager can determine aggregate energy data of the cloud resources from an energy usage database. The cloud manager can analyze the energy usage data to determine a configuration of the computing nodes to perform the job that reduces total energy consumption. For example, a configuration of servers can be based on a number of servers and processor utilization at the servers to perform the job. The cloud manager can assign the job to the servers and set the processor utilization at the servers in accordance with the resource configuration determined to minimize energy consumption.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08341441&OS=08341441&RS=08341441
owner: International Business Machines Corporation
number: 08341441
owner_city: Armonk
owner_country: US
publication_date: 20091224
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DESCRIPTION OF EMBODIMENT(S)"],"p":["Embodiments of the inventive subject matter generally relate to the field of cloud computing, and, more particularly, to reducing energy consumption in a cloud computing environment.","Cloud computing is a computing technology that uses the internet and central remote servers to maintain data and applications. Cloud computing allows consumers and businesses to use applications without installation and access their personal files at any computer with internet access. Cloud computing architecture is abstracted from users who do not need knowledge about or control over the technology infrastructure inside the \u201ccloud.\u201d Users of cloud computing typically do not own the physical infrastructure allowing them to avoid capital expenditures. Instead, the users consume resources as a service and only pay for the resources they use.","Embodiments include a method directed to determining a plurality of computing nodes capable of serving a job submitted to a cloud. The cloud comprises the plurality of computing nodes. A peripheral associated with each of the plurality of computing nodes is determined. A first energy usage at a first processing utilization of a first set of computing nodes of the plurality of computing nodes and of the peripherals associated with the first set of computing nodes is computed. A second energy usage at a second processing utilization of a second set of computing nodes of the plurality of computing nodes and of the peripherals associated with the second set of computing nodes is computed. The first energy usage and the second energy usage are evaluated. The job is dispatched to the first set of computing nodes at the first processing utilization based, at least in part, on said evaluating the first energy usage and the second energy usage.","Embodiments include a computer program product for conserving energy usage in a cloud computing environment. The computer program product comprises a computer usable medium having computer usable program code. In embodiments, the computer usable program code is configured to determine resources of a cloud capable of serving a job. The resources comprise computing nodes and associated peripherals. The computer usable program code is configured to determine different configurations of the resources that comport with attributes of the job. The different configurations comprise at least one of different processing utilizations and different sets of the computing nodes. The computer usable program code is configured to compute energy usages for the different configurations of the resources of the cloud. The computer usable program code is configured to dispatch the job in accordance with a first of the different configurations of the resources.","Embodiments include a computer program product for conserving energy usage in a cloud computing environment. The computer program product comprises a computer usable medium having computer usable program code. In embodiments, the computer usable program code is configured to determine a plurality of computing nodes capable of serving a job submitted to a cloud. The cloud comprises the plurality of computing nodes. The computer usable program code is configured to determine a peripheral associated with each of the plurality of computing nodes. The computer usable program code is configured to compute a first energy usage at a first processing utilization of a first set of computing nodes of the plurality of computing nodes and of the peripherals associated with the first set of computing nodes. The computer usable program code is configured to compute a second energy usage at a second processing utilization of a second set of computing nodes of the plurality of computing nodes and of the peripherals associated with the second set of computing nodes. The computer usable program code is configured to evaluate the first energy usage and the second energy usage. The computer usable program code is configured to dispatch the job to the first set of computing nodes at the first processing utilization based, at least in part, on said evaluating the first energy usage and the second energy usage.","Embodiments include an apparatus comprising a processing unit, a network interface, and a cloud manager. The cloud manager is operable to determine resources of a cloud capable of serving a job. The resources comprise computing nodes and associated peripherals. The cloud manager is operable to determine different configurations of the resources that comport with attributes of the job. The different configurations comprise at least one of different processing utilizations and different sets of the computing nodes. The cloud manager is operable to compute energy usages for the different configurations of the resources of the cloud. The cloud manager is operable to dispatch the job in accordance with a first of the different configurations of the resources.","The description that follows includes exemplary systems, methods, techniques, instruction sequences, and computer program products that embody techniques of the present inventive subject matter. However, it is understood that the described embodiments may be practiced without these specific details. For instance, although examples refer to utilizing configuration management database (CMDB), embodiments may utilize other types of databases or data storage structures\/techniques. In other instances, well-known instruction instances, protocols, structures, and techniques have not been shown in detail in order not to obfuscate the description.","When a user submits a job to a cloud computing environment, computing nodes are selected to serve the job based on attributes of the job (e.g., processing power desired for the job, quality of service for the job and\/or the entity submitting the job, type of job, desired completion time, location of data to be accessed for the job, purchased processing time, policy of the cloud computing environment, etc.) without regard to energy consumption of the selected resources. Functionality can be implemented within a cloud manager to leverage energy consumption data of cloud resources when selecting computing nodes to complete the job. The cloud manager can determine possible computing nodes (e.g., blade servers, processor books, computers, cores, etc.) to complete the job based on the job attributes. The cloud manager can determine aggregate energy data of the resources (e.g., computing nodes and peripherals associated with the computing nodes) from an energy usage database. The cloud manager can analyze the energy usage data to determine a configuration of the computing nodes to perform the job that reduces energy consumption. For example, a configuration of servers can be based on a number of servers and processor utilization at the servers to perform the job. The cloud manager can assign the job to the servers and set the processor utilization at the servers in accordance with the resource configuration determined to minimize energy consumption.",{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 1","FIG. 1","FIG. 1","FIG. 1"],"b":["101","103","111","1","105","2","107","109","111","113","101","133","135","151","153","133","109","135","1","105","2","107","151","109","153","1","105","2","107","101"]},"At stage A, the cloud manager  receives a job from a client . For example, the client  submits the job through a web services interface of the cloud .","At stage B, the cloud manager  determines possible servers to complete the job. The cloud manager  can determine the possible servers based on attributes of the job. Examples of job attributes include type of work, processing power desired, desired completion time, types of resources indicated, etc. For example, the cloud manager  determines that the job indicates that IBM zSeries\u00ae servers should be used to complete the job. So, the cloud manager  determines the zSeries servers in the cloud as possible servers to complete the job. The cloud manager  can also determine a range for a number of servers to complete the job based on the attributes. For example, the cloud manager  determines that three to five servers should be used to complete the job based on work indicated in the job and a desired completion time. In this example, the cloud manager  determines server  , server   and server N  as possible servers to complete the job.","At stage C, the cloud manger  determines energy usage of the servers , , and  based on the energy usage data . The energy usage data  can be collected with various techniques. Examples of techniques for collecting energy usage data include the following: running a series of tests on the servers , , and  when the cloud  is configured and measuring energy usage during the tests; measuring energy usage of the servers , , and  over time during normal operation; computing values representative of projected energy usage based on specifications of the servers and associated peripherals, etc. The energy usage data relates energy usage to processor\/core utilization (\u201cprocessing utilization\u201d) of each of the servers , , and . Energy usage of peripherals (e.g., internal cooling systems, external cooling systems, uninterruptible power supplies, etc.) associated with the servers can be integrated into the energy usage data or can be stored separately. The cloud manager  can determine relationships between each of the servers and the peripherals from a CMDB. The relationships can be used to correlate separately stored energy usage data of the peripherals with energy usage data of the servers , , and .","At stage D, the cloud manager  analyzes the energy usage data to determine a configuration of servers based on a number of servers and processing utilizations to perform the job, as well as aggregate energy usage of the configurations. The aggregate energy usage of a configuration takes into account the energy usage of the servers of a configuration and the peripherals associated with the servers in the configuration. Each of the servers in the configuration can be set to different processing utilizations or the servers can be set to a uniform processing utilization. The cloud manager  can determine maximum processing utilization for different energy usage thresholds of each of the servers , , and . The cloud manager  can determine a plurality of potential server configurations based on the range determined in stage B and compute energy usage of each of the plurality of potential configurations based on the individual server's energy usage data. In this example, the range may be two to three of the servers , , and . So, the cloud manager  determines potential configurations based on two servers and potential configurations based on three servers. The cloud manager  can then compute aggregate energy usages for the two server configurations and the three server configurations. For instance, for a three server configuration that involves the servers  , the server  , and the server N , the cloud manager  will compute an aggregate energy usage that factor in the energy usage data of both UPSs ,  and both cooling systems , . For a two server configuration that involves the server   and the server  , the cloud manager will compute an aggregate energy usage that factors in the energy usage of the UPS  and the cooling system . The cloud manager  can choose one of the potential configurations to minimize energy usage. The cloud manager  may determine that running two of the servers at a higher processing utilization (e.g., 50% processing capability) comports with the job attributes and uses less energy than running three servers at the processing utilizations (e.g., 33% processing capability) corresponding to the lowest energy usage threshold of each of the three servers.","At stage E, the cloud manager  dispatches the job to the servers in accordance with the configuration and sets the processing utilizations of the servers in accordance with the determined resource configuration. In this example, the cloud manager  dispatches the job to the server   and the server  .",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 2-3","b":"201"},"At block , computing nodes that can serve the job request are determined. For example, a cloud manager determines that any server in a cloud could be used to complete the job. As another example, the cloud manager determines a particular type of server associated with a particular data store should be used to serve the job request based on a job type indicated in the job request and parameters indicating a dataset. Determining potential computing nodes can be based on availability of computing nodes in the cloud. For example, the cloud manager may not identify a server as a potential server if an amount of work already dispatched to the server meets (or exceeds) a threshold. Determining potential servers can comprise determining a range for a number of servers to serve the job request. For example, the cloud manager determines that five to seven servers should be used based on processing power allowed to the client (e.g., company, user, etc.) and time allotted to perform the job. In other cases, the job request itself may specify a range of servers.","At block , peripherals associated with the determined computing nodes are determined. The cloud manager can determine the peripherals from a CMDB that stores information about cloud topology and infrastructure. Energy usage of the peripherals (e.g., cooling systems, uninterruptible power source (UPS), etc.) is related to energy usage of the computing nodes. For example, more cooling is necessary when a clock rate of a computing node increases because the server generates more heat at higher clock rates. As another example, as the clock rate of a computing node increases, load on a cooling unit cooling the computing node increases and causes the cooling unit to consume more energy. The associations are utilized to aggregate energy usage of a computing node with energy usage of the corresponding\/associated peripherals.","At block , it is determined if energy usage data at different processing utilizations of the computing nodes is available. If energy usage data at different processing utilizations of the computing nodes is available, then the flow continues to block . Otherwise, the flow continues to block .","At block , energy usage of the computing nodes and the associated peripherals are determined. Energy usage data can be collected from data stores, dynamically determined with energy usage tests, collected in advance and updated periodically, etc. For instance, the cloud manager can retrieve energy usage data of the computing nodes and the associated peripherals. The energy usage data can be collected by measuring energy usage while running a series of tests on the computing nodes when a cloud is configured, measuring energy usage of the computing nodes and peripherals over time during normal operation, etc. If energy usage data is unavailable for a computing node at a particular processing utilization (e.g., a certain clock rates, without certain architectural elements, such as cache, enabled) because the computing node has not been run at the processing utilization, the cloud manager (or a separate process responsible for collecting energy usage data) can estimate energy usage of the computing node at the processing utilization based on existing energy usage data of the computing node, energy usage data corresponding to a similar computing node that was run at the processing utilization, etc. Control flows from block  to block .","At block , processing utilizations corresponding to energy usage thresholds are determined for each computing node. For example, the cloud manager can compute energy usage curves as a function of clock rate for each computing node. The computed energy usage curves can be stored in an energy usage data structure indexed\/accessed by identifiers of the corresponding computing node. The cloud manager can then determine energy usage thresholds based on the energy usage curves and determine a maximum clock rate that can be utilized for each of the thresholds. For example, a first energy usage threshold indicates that a server can be run at 35% of a nominal clock rate because a difference in energy consumption up to 35% is negligible. Embodiments can also compute energy usage of a first computing node and extrapolate energy usage for computing nodes with same or similar specifications. Control flows from block  to block .","At block , a configuration of computing nodes to minimize energy consumption (\u201cenergy conservation job configuration\u201d) is determined based on the determined energy usage. The configuration can comprise a number of computing nodes to complete the job and processing utilizations for the computing nodes. An energy conservation job configuration can identify computing nodes (e.g., serial numbers, network addresses, etc.) and\/or types of computing nodes (e.g., model numbers, processor types, etc.) for the job. Determining a configuration can involve determining a plurality of candidate configurations, and computing energy usage of each of the plurality of candidate energy conservation job configurations. For example, energy usage can be computed for a first candidate energy conservation job configuration based on three computing nodes each running at 33% of nominal processing utilization. Energy usage can be computed for a second candidate energy conservation job configuration based on two computing nodes running at 50% of nominal processing utilization. The cloud manager can choose the candidate energy conservation job configuration with a lowest overall energy usage.","At block , it is determined if the job is subject to a policy(ies). Policies for the job can be indicated by a user that submits the job request, a cloud administrator, or a combination thereof. For example, a user can indicate a policy for the job such that energy usage optimization should not impact performance by more than 20 percent. As another example, the cloud administrator can define a policy for maximum energy usage allowed for any job submitted to the cloud. The maximum energy usage for a job can be based on a size of the job. If the job is not subject to a policy(ies), flow continues at block . If the job is subject to a policy(ies), flow continues at block  of .","At block , the job is dispatched to the computing nodes at the processing utilizations in accordance with the energy conservation job configuration.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 3","FIG. 2","FIG. 2"],"b":["212","301","301"]},"At block , it is determined if the energy conservation job configuration of servers satisfies the performance criteria. For example, the performance criteria may indicate a guaranteed completion time for the type of requested job. The cloud manager can compute an estimated time of completion based on the processing utilization indicated by the energy conservation job configuration to determine if the configuration can meet satisfy the performance criteria. If the configuration does not satisfy the performance criteria, flow continues at block . If the configuration satisfies the performance criteria, flow continues at block .","At block , the configuration did not satisfy performance criteria, so the energy conservation job configuration is adjusted to satisfy the performance criteria. For example, the cloud manager determines that a configuration with a second lowest overall energy usage satisfies the performance criteria. Embodiments can store the plurality of candidate energy conservation job configurations, and select the one of the plurality of energy conservation job configuration that best satisfies the performance criteria.","At block , it is determined if the energy conservation job configuration of computing nodes violates administrative criteria. For example, the administrative criteria can indicate a maximum energy usage allowed for any job. As another example, the administrative criteria can indicate a maximum number of computing nodes that can be assigned to any job. The administrative criteria can have precedence over the performance criteria. Criteria can be indicated in different policies with different compliance criteria. Policies can also conform to an organizational hierarchy (e.g., cloud policy, sub-cloud policy, geographic policy, customer policy, etc.). If the configuration violates the administrative criteria, flow continues at block . If the configuration does not violate the administrative criteria, flow continues at block  of .","At block , an energy conservation job configuration of computing nodes that best satisfies the performance criteria while complying with the administrative policy is determined. For example, the administrative criteria define a maximum energy usage for any job. The cloud manager determines that the configuration that satisfies the performance criteria violates the administrative criteria, so the cloud manager chooses a configuration with the best performance with an overall energy usage lower than the maximum energy usage indicated in the administrative criteria. Flow continues at block  of .","Embodiments are not limited to the example flowcharts depicted in the above figures. Embodiments can perform additional operations, fewer operations, operations in parallel, etc. For instance, referring to , the operations for determining a configuration to minimize energy and for determining if the job is subject to polices can be interchanged.","As will be appreciated by one skilled in the art, aspects of the present inventive subject matter may be embodied as a system, method or computer program product. Accordingly, aspects of the present inventive subject matter may take the form of an entirely hardware embodiment, an entirely software embodiment (including firmware, resident software, micro-code, etc.) or an embodiment combining software and hardware aspects that may all generally be referred to herein as a \u201ccircuit,\u201d \u201cmodule\u201d or \u201csystem.\u201d Furthermore, aspects of the present inventive subject matter may take the form of a computer program product embodied in one or more computer readable medium(s) having computer readable program code embodied thereon.","Any combination of one or more computer readable medium(s) may be utilized. The computer readable medium may be a computer readable signal medium or a computer readable storage medium. A computer readable storage medium may be, for example, but not limited to, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, or device, or any suitable combination of the foregoing. More specific examples (a non-exhaustive list) of the computer readable storage medium would include the following: an electrical connection having one or more wires, a portable computer diskette, a hard disk, a random access memory (RAM), a read-only memory (ROM), an erasable programmable read-only memory (EPROM or Flash memory), an optical fiber, a portable compact disc read-only memory (CD-ROM), an optical storage device, a magnetic storage device, or any suitable combination of the foregoing. In the context of this document, a computer readable storage medium may be any tangible medium that can contain, or store a program for use by or in connection with an instruction execution system, apparatus, or device.","A computer readable signal medium may include a propagated data signal with computer readable program code embodied therein, for example, in baseband or as part of a carrier wave. Such a propagated signal may take any of a variety of forms, including, but not limited to, electro-magnetic, optical, or any suitable combination thereof. A computer readable signal medium may be any computer readable medium that is not a computer readable storage medium and that can communicate, propagate, or transport a program for use by or in connection with an instruction execution system, apparatus, or device.","Program code embodied on a computer readable medium may be transmitted using any appropriate medium, including but not limited to wireless, wireline, optical fiber cable, RF, etc., or any suitable combination of the foregoing.","Computer program code for carrying out operations for aspects of the present inventive subject matter may be written in any combination of one or more programming languages, including an object oriented programming language such as Java, Smalltalk, C++ or the like and conventional procedural programming languages, such as the \u201cC\u201d programming language or similar programming languages. The program code may execute entirely on the user's computer, partly on the user's computer, as a stand-alone software package, partly on the user's computer and partly on a remote computer or entirely on the remote computer or server. In the latter scenario, the remote computer may be connected to the user's computer through any type of network, including a local area network (LAN) or a wide area network (WAN), or the connection may be made to an external computer (for example, through the Internet using an Internet Service Provider).","Aspects of the present inventive subject matter are described with reference to flowchart illustrations and\/or block diagrams of methods, apparatus (systems) and computer program products according to embodiments of the inventive subject matter. It will be understood that each block of the flowchart illustrations and\/or block diagrams, and combinations of blocks in the flowchart illustrations and\/or block diagrams, can be implemented by computer program instructions. These computer program instructions may be provided to a processor of a general purpose computer, special purpose computer, or other programmable data processing apparatus to produce a machine, such that the instructions, which execute via the processor of the computer or other programmable data processing apparatus, create means for implementing the functions\/acts specified in the flowchart and\/or block diagram block or blocks.","These computer program instructions may also be stored in a computer readable medium that can direct a computer, other programmable data processing apparatus, or other devices to function in a particular manner, such that the instructions stored in the computer readable medium produce an article of manufacture including instructions which implement the function\/act specified in the flowchart and\/or block diagram block or blocks.","The computer program instructions may also be loaded onto a computer, other programmable data processing apparatus, or other devices to cause a series of operational steps to be performed on the computer, other programmable apparatus or other devices to produce a computer implemented process such that the instructions which execute on the computer or other programmable apparatus provide processes for implementing the functions\/acts specified in the flowchart and\/or block diagram block or blocks.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 4","FIG. 4"],"b":["401","407","407","403","405","409","421","423","421","401","401","423","421","423","423","421","421","421","423","401","401","409","405","403","403","407","401"]},"While the embodiments are described with reference to various implementations and exploitations, it will be understood that these embodiments are illustrative and that the scope of the inventive subject matter is not limited to them. In general, techniques for optimizing energy consumption in a cloud environment as described herein may be implemented with facilities consistent with any hardware system or hardware systems. Many variations, modifications, additions, and improvements are possible.","Plural instances may be provided for components, operations or structures described herein as a single instance. Finally, boundaries between various components, operations and data stores are somewhat arbitrary, and particular operations are illustrated in the context of specific illustrative configurations. Other allocations of functionality are envisioned and may fall within the scope of the inventive subject matter. In general, structures and functionality presented as separate components in the exemplary configurations may be implemented as a combined structure or component. Similarly, structures and functionality presented as a single component may be implemented as separate components. These and other variations, modifications, additions, and improvements may fall within the scope of the inventive subject matter."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present embodiments may be better understood, and numerous objects, features, and advantages made apparent to those skilled in the art by referencing the accompanying drawings.",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIGS. 2-3","FIG. 2"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
