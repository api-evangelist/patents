---
title: Mobile terminal device and communication switching method
abstract: In a mobile terminal device, a communication unit configured to communicate wirelessly in a first communication mode in which the mobile terminal device communicates with another mobile terminal device directly, or a second communication mode in which the mobile terminal device communicates with an external network via a router device. A communication control unit controls the operation of the communication unit. The communication control unit controls the switching of the first communication mode and the second communication mode in the communication unit and notifies the user that the first communication mode is terminated when the first communication mode is switched to the second communication mode.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08594725&OS=08594725&RS=08594725
owner: Sony Computer Entertainment Inc.
number: 08594725
owner_city: Tokyo
owner_country: JP
publication_date: 20111221
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["1. Field of the Invention","The present invention relates to a mobile terminal device and a communication switching method for controlling switching between different communication modes in the mobile terminal device.","2. Description of the Related Art","It has become common to carry an information terminal with a person as terminals with reduced size and weight are available. Recently, a group of users occasionally enjoy an application such as a game together using infrastructure such as a base station and an access point. Meanwhile, the technology of building a wireless ad hoc network for on-demand communication has become widely used (see patent document No. 1).","An ad hoc network does not require a base station or an access point. Therefore, a wireless network can be easily built in locations where such infrastructure is not available. With an ad hoc network, a group of users can enjoy a game together by bringing mobile game devices and communicating with each other wirelessly.","Published U.S. Patent Application 2005\/250487","Wireless communication as described above is implemented by using a communication technology defined in IEEE802.11. Information terminals generally have a single communication module implementing such communication technology. Therefore, when applications that will potentially use the communication module are executed in parallel, the applications may compete for the use of the communication module. For this reason, there is called for a technology capable of controlling competing communication requests efficiently.","The present invention addresses the challenge and a purpose thereof is to provide a technology capable of controlling competing communication requests.","One embodiment of the present invention that addresses the challenge relates to a mobile terminal device. The device comprises: a communication unit configured to communicate wirelessly in a first communication mode in which the mobile terminal device communicates with another mobile terminal device directly, or a second communication mode in which the mobile terminal device communicates with an external network via a router device; and a communication control unit configured to control the operation of the communication unit. The communication control unit controls the switching of the first communication mode and the second communication mode in the communication unit and notifies the user that the first communication mode is terminated when the first communication mode is switched to the second communication mode.","Another embodiment of the present invention relates to a communication switching method executed in a mobile terminal device. The method comprises: communicating in a first communication mode in which the mobile terminal device communicates with another mobile terminal device directly, or a second communication mode in which the mobile terminal device communicates with an external network via a router device; and notifying the user that the first communication mode is terminated when the first communication mode is switched to the second communication mode.","Still another embodiment of the present invention also relates to a mobile terminal device. The device comprises: a first communication unit configured to communicate with an external entity via a cell phone communication network; a second communication unit configured for wireless communication at a distance nearer than that of the first communication unit and configured to communicate with an external network via a router device; and a communication control unit configured to control the operation of the first communication unit and the second communication unit. The communication control unit uses second communication unit if both the first communication unit and the second communication unit can be used for communication.","Optional combinations of the aforementioned constituting elements, and implementations of the invention in the form of methods, apparatuses, systems, computer programs, data structures, and recording mediums may also be practiced as additional modes of the present invention.","The invention will now be described by reference to the preferred embodiments. This does not intend to limit the scope of the present invention, but to exemplify the invention.","A description will be given of an embodiment of the present invention with reference to the drawings.",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1","b":["100","100","100","300","200"],"i":["a ","b "]},"The communication mode in which a plurality of mobile terminal devices and directly communicate with each other without the mediation of the access point  is called \u201cad hoc mode\u201d. The mode in which the mobile terminal device or the mobile terminal device communicates with an external network via the access point  is called \u201cinfrastructure mode\u201d. In this specification, the mobile terminal devices and will simply generically referred to as \u201cmobile terminal devices \u201d unless there is need for distinction. The mobile terminal devices  cannot communicate in the ad hoc mode and in the infrastructure mode at the same time (not shown in ).",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 2","b":["100","100","10","14","16","18"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 2","FIG. 2"],"b":"100"},"The components of the mobile terminal device  are centrally controlled by an operating system (not shown). A plurality of applications are executed in parallel in the application execution unit  in the mobile terminal device  according to the embodiment under the control of the operating system. For example, applications include a game , a mailer , a browser , etc.","The display unit  displays the result of execution of an application by the application execution unit  or displays a screen for notification from the communication control unit  to the user. The display unit  can be implemented by a known technology such as that of a liquid crystal display (LCD) or an organic electro-luminescence (OEL). The communication unit  is a hardware device configured to communicate using wireless LAN. The communication unit  is compatible with both the ad hoc mode and the infrastructure mode for communication. The communication unit  can be implemented by, for example, a known wireless communication module such as a Wi-Fi (registered trademark) module.","An application attempting to communicate with an entity external to the mobile terminal device  according to the embodiment does not directly control the communication unit . Instead, the application communicates with an external entity via the communication control unit  managed by the operating system. For this reason, the application need not manage connection or disconnection with an external entity and need only transmit or receive data to and from the communication control unit . In this sense, the communication control unit  functions for the application as an application programming interface (API) for transmission and reception of data.","For example, the mailer , which is a client application for transmitting and receiving electronic mail, communicates with a mail server located on an external network via the communication unit  and the access point . In this case, the communication unit  communicates in the infrastructure mode mentioned above. The mailer  is not involved in connection or disconnection between the communication unit  and the access point , and transmits and receives data to and from the communication control unit . In an alternative example, a game , an application designed to allow a plurality of users to join, bringing their own mobile terminal devices , and to directly communicate with each other to play a matchup game, etc., communicates with another mobile terminal device  directly via the communication unit . In this case, the communication unit  communicates in the ad hoc mode mentioned above.","While the communication unit  establishes communication with an external device, there is a need to exchange signals with an external device to maintain the connected state even in the absence of data transmitted to or received from the application. This will consume power. The mobile terminal device  according to the embodiment is supplied with power from a battery (not shown) for operation so that the user carrying the device with him or her can use the device. Therefore, for the purpose of extending battery life, the communication unit  performs \u201cintermittent connection\u201d wherein connection with an external device is established only when the application requires communication.","More specifically, intermittent communication is such that communication is established only when the application requires communication. The communication unit disconnects itself when the application does not communicate for a predetermined duration (e.g., 2 minutes). As a result, communication with an external device occurs intermittently. Even if the access point  is located in the neighborhood of mobile terminal device  and the communication unit  is always available for connection in the infrastructure mode, intermittent connection is employed for the above reason. When the communication control unit  acquires a request for communication from an application, the communication control unit  controls connection and disconnection using the four communication mode APIs described later.","The mailer , which uses communication in the infrastructure mode, will be considered as an example. For brevity, it will be assumed that the applications other than the mailer  are not executed in the mobile terminal device . The user who started the mailer  directs the mailer  to receive mail to see whether a mail is available in a mail server on an external network, and, if a mail is available, to download the mail. In response to a direction from the user, the mailer  requests the communication control unit  to receive a mail. As a result, the communication unit  leaves a disconnected state and is placed in a communication state in the infrastructure mode. The communication unit  exchanges information with the mail server via the access point . Upon an elapse of a predetermined period of time since the scanning of the mail box and downloading of the mail, the communication unit  returns the communication unit  to a disconnected state.","The mailer  may be configured to automatically scan the mail box on the mail server or download a mail at predetermined time intervals (e.g., 30 minutes). In such a case, the mailer  requests reception at predetermined time intervals as a \u201cbackground process\u201d without an explicit direction from the user. As described above, connection for communication in the infrastructure mode is initiated in two types of occasions. Namely, communication may be initiated upon an explicit direction from the user or initiated in the background.","As in the case of communication in the infrastructure mode, communication for connection in the ad hoc mode is also initiated in two types of occasions. Namely, communication may be initiated upon an explicit direction from the user or initiated in the background. The former occurs when the user uses the game  as an application. It will be assumed that the game  is designed to allow a user to communicate with the mobile terminal device  in possession of a nearby another user and enjoy the game together. A user in possession of the mobile terminal device explicitly directs the game  run on the mobile terminal device to connect to the mobile terminal device in possession of another user.","In contrast, the latter occurs when two different mobile terminal devices  in a sleep state and located within a predetermined range, in which ad hoc communication is enabled, communicate in the background mode. In this case, the mobile terminal devices  in the neighborhood communicate automatically and instantaneously in the ad hoc mode. For example, this type of communication is used to exchange data related to the game  utilizing this communication mode, when the mobile terminal devices , in which the game  is resident on the memory, approach each other to a distance in which ad hoc communication is enabled, provided that neither of the communication units  is in connection.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 3","FIG. 3"],"b":["100","100","100","100","200","100","200"],"sub":["1","1","2"]},"Further, a communication mode in which an application run in the mobile terminal device  communicates in the background using the ad hoc mode will be referred to as \u201cthe fourth communication mode A\u201d. The communication control unit  of  includes API groups for managing communication connection, transmission and reception of data, and disconnection of communication in these four communication modes, namely, a first communication mode API , a second communication mode API , a third communication mode API , and a fourth communication mode API .","For convenience, communication modes initiated differently are described as being different communication modes. In practice, no distinction may be made as to how the communication mode is initiated. Only two communication mode API's, namely, the communication mode API for managing communication in the infrastructure mode and the communication mode API for managing communication in the ad hoc mode may be provided. In this case, the first communication mode Awill be \u201cthe first connection mode in the ad hoc communication mode\u201d, the second communication mode Iwill be \u201cthe first connection mode in the infrastructure communication mode\u201d, the third communication mode Iwill be \u201cthe second connection mode in the infrastructure communication mode\u201d, and the fourth communication mode Awill be \u201cthe second connection mode in the ad hoc communication mode\u201d.","It is assumed in the above description that an application such as the mailer  is executed on a solitary basis in the mobile terminal device  according to the embodiment. As mentioned above, a plurality of applications could be run in parallel on the mobile terminal device . Even if the communication unit  is compatible with both the ad hoc mode and the infrastructure mode of communication, it will be difficult to communicate in the two modes concurrently. For this reason, if the plurality of applications concurrently run in the mobile terminal device  use different communication modes, it is necessary to switch the communication mode. In that case, it is preferable to notify the user that the communication mode is switched or at least that the current communication mode will no longer be used.","Meanwhile, as the number of applications using the communication function is increased, the process of notifying the user each time the communication mode is switched will be complicated and the user will feel bothered. Accordingly, the communication control unit  further includes a communication mode switching unit  adapted to control communication for a plurality of applications, and a database  that stores a criterion defining whether notification associated with the switching of the communication mode is issued.","Before describing the criterion for communicating the switching of the communication mode, a description will first be given of transition between communication modes.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 4","FIG. 4"],"b":["100","100","100"],"sub":["1","1","2","2"]},"As mentioned above, the mobile terminal device  employs intermittent connection. The fourth communication mode Ais a communication mode in which a gap in intermittent connection is used. Therefore, transition to the fourth communication mode Acan only occur from the disconnected mode, and the fourth communication mode Acan only make transition to the disconnected mode. The fourth communication mode Acan be said as a communication mode with less priority than the first communication mode A, the second communication mode I, and the third communication mode I.","Meanwhile, the first communication mode A, the second communication mode I, the third communication mode I, and the disconnected mode can make transition to each other. In the second communication mode Iand the third communication mode I, which are infrastructure modes, a plurality of applications can use the communication unit  in parallel by time sharing. In the first communication mode A, which is an ad hoc mode, a single application will be using the communication unit  exclusively. In this sense, the first communication mode Ais a communication mode with higher priority than the second communication mode Iand the third communication mode I. The second communication mode I is higher in priority than the third communication mode Iin that the second communication mode Iis initiated in response to an explicit user direction.","To summarize the above, the order of priority of the first communication mode A, the second communication mode I, the third communication mode I, and the fourth communication mode Ais as described below.","The first communication mode A>the second communication mode I>the third communication mode I>the fourth communication mode A",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 4"},"Criterion: the user is notified that the current communication is terminated when the switching takes place from a communication mode initiated by an explicit user direction to another communication mode.","The criterion is designed to let the user know that communication initiated by the user's explicit will is terminated. For example, it will be assumed that the user playing a matchup game with another user using the first communication mode Awishes to view a web site located on the Internet  using the browser . The browser  requires switching from the first communication mode Ato the second communication mode Ifor web browsing. For this purpose, the matchup game should be terminated.","Because the user may want to continue the game rather than viewing the web site, the communication mode switching unit  notifies the user that the ad hoc mode is terminated and transition is made to the infrastructure mode and prompts user for confirmation.  shows an example of a notification screen that lets the user know that the current communication mode is terminated. If the user wishes to make transition of the communication mode, the user can select the switching of the communication mode by pressing a control button of the mobile terminal device . If the user wishes to continue the game, the user can cancel the switching of the communication mode. Data displayed in the notification screen is stored in the database . In place of, or, in addition to notifying the user that the current communication mode is terminated by a message displayed on the display unit , the user may be notified by using an alert sound or a speech reading the message.","In an alternative example, it will be assumed that the user attempts to start a matchup game with another user using the first communication mode Awhile the user is downloading content from a web site on the Internet  using the browser , which uses the second communication mode I. In this case, the user is prompted to verify whether to prioritize the downloading of content or starting the game by notifying the user that the communication is about to be switched.","By way of contrast, no notification need be made when transition occurs from a communication mode not initiated by an explicit user direction to a communication mode initiated by an explicit user direction. For example, it will be assumed that the user initiates a matchup game with another user using the first communication mode Awhile the mailer  is using the third communication mode Ito see whether a mail is available in the background. Normally, the user is not aware of the fact that the mailer  is seeing whether a mail is available in the background. For this reason, if the disconnection or switching of the communication mode is communicated to the user, the user cannot know what type of communication is taking place in the mobile terminal device  and may feel perplexed. To prevent this, it will be favorable not to communicate anything to the user when transition takes place from a communication mode not initiated by an explicit user direction to a communication mode initiated by an explicit user direction.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIG. 6","FIG. 4","FIG. 6","FIG. 6"],"b":"30","sub":["1","1","2","2","1 ","1"]},"When the communication mode switching unit  acquires a request to switch the communication mode from an application, the communication mode switching unit  refers to the database  and determines whether to communicate the switching of the communication mode. If it is determined as a result that the switching of the communication mode should be communicated, the communication mode switching unit  acquires data for the notification screen from the database  and outputs the data to the display unit . If the communication mode is not to be communicated, the communication mode switching unit  causes the communication mode API to switch the communication mode of the communication unit .",{"@attributes":{"id":"p-0059","num":"0058"},"figref":["FIG. 7","FIG. 7"],"b":["100","10","10","100"]},"The communication mode switching unit  acquires a request to switch the communication mode from an application (S). The communication mode switching unit  acquires the current communication mode of the communication unit  (S). Subsequently, the communication mode switching unit  refers to the database , using the current communication mode and the post-switching communication mode as keys, and determines whether to communicate that the current communication mode will be terminated (S).","If the communication should be made (Y in S), the communication mode switching unit  reads data for the notification screen from the database , outputs the data to the display unit , and prompts the user to verify whether to switch the communication mode (S). If it is determined as a result that the user desires to switch the communication mode (Y in S), the communication mode switching unit  calls the post-switching communication mode API and switches the communication mode (S).","If, as a result of determining whether to communicate the communication mode, that it is not necessary to give notification associated with the termination of the communication mode (N in S), the communication mode switching unit  calls the post-switching communication mode API and switches the communication mode (S).","If the communication mode switching unit  switches the communication mode or the user does not desire to switch the communication mode (N in S), the process in the flowchart is terminated.","The operation performed in the structure described above is as follows. The user uses the mobile terminal device  to run a plurality of applications in parallel. When the user attempts to run an application and when the application requires the switching of the communication mode in the communication unit  in the mobile terminal device , the communication mode switching unit  displays as such on the display unit . The user views the display and confirms his or her intention.","As described above, completing communication requests from a plurality of applications run in parallel can be efficiently controlled according to the embodiment. Described above is an explanation based on an exemplary embodiment. The embodiment is intended to be illustrative only and it will be obvious to those skilled in the art that various modifications to constituting elements and processes could be developed and that such modifications are also within the scope of the present invention.","In the above description, an example is described where the communication mode switching unit  gives notification that the second communication mode Iis terminated when the communication mode is switched from the second communication mode Ito the first communication mode Awith higher priority. The order of priority of the communication modes described above may be observed so that the communication mode switching unit  does not give any notification when the communication mode is switched from a communication mode with lower priority to a communication mode with higher priority.","In the above description, it is assumed that the infrastructure mode uses intermittent connection. However, connection may have to be always be on depending on the type of application. For example, an application like an online game using the infrastructure mode or an application that causes the mobile terminal device  to function as a music server may require communication always on. In this case, communication may be always on in the infrastructure mode.  is a state transition diagram showing transition between communication modes when communication is always on.","As compared with , which is a state transition diagram showing transition between communication modes when communication is intermittent, the fourth communication mode Aand the disconnected mode do not occur in the case of communication that is always on. Only the three modes, namely, the first communication mode A, the second communication mode I, and the third communication mode Icould occur. Whether the switching between the first communication mode A, the second communication mode I, and the third communication mode Iis communicated is determined similarly as in the case of intermittent communication. The state transition diagram for communication that is always on may be considered to be a subset of the state transition diagram for intermittent communication. Therefore, the database shown in  can also be used for connection that is always on.","The criterion as to whether to communicate the switching of the communication mode based on the order priority of communication modes is described above. The order of priority of communication modes and the criterion as to whether to communicate the switching of the communication mode may be modified application by application. This could be achieved by allowing an application to present a table shown in  on the display unit  via the communication mode switching unit  to allow the user to edit the table. The result may be stored in the database , mapping the table to the application.","Control of communication using wireless LAN in the infrastructure mode and in the ad hoc mode is described above. Alternatively, the embodiment may control communication using a cell phone communication network and communication using wireless LAN. In the following, a description will be given of such control. Those aspects that are common to those of the described embodiment will be omitted or simplified.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 9","b":["100","10","100","100","400","300","400"]},"Different communication modules are used to use wireless LAN and the cell phone communication network. Therefore, it is theoretically possible to use both modules concurrently. However, the mobile terminal device  is driven by a battery as mentioned above and so it is not practical to use both modules concurrently because of large power consumption. The mobile terminal device  is configured to be compact for portability. Therefore, it could be difficult to control heat if both are used concurrently.","Accordingly, the communication control unit  uses wireless LAN if both a cell phone communication network and wireless LAN (near-field wireless communication) are available for communication. Communication by wireless LAN is often more inexpensive than communication using a cell phone communication network and provides wider band. As such, wireless LAN is more advantageous to the user in that the communication cost and the communication time can be reduced.","The inventive control not only addresses establishment communication using a cell phone communication network and wireless LAN but also can address a cell phone communication network and other near-field wireless communication such as Bluetooth (registered trademark)."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Embodiments will now be described, by way of example only, with reference to the accompanying drawings which are meant to be exemplary, not limiting, and wherein like elements are numbered alike in several Figures, in which:",{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3","b":"100"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
