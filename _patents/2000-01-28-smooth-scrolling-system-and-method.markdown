---
title: Smooth scrolling system and method
abstract: A system and method for smooth scrolling a document and/or window within a graphical user interface is disclosed. The present invention in some preferred embodiments permits augmentation of traditional LINE UP/DOWN, PAGE UP/DOWN, and manual THUMBTRACK scrolling with a smooth scrolling alternative that augments additional hardware input features that may be present on several user input devices such a mouse, trackball, touchpad, Thinkpointâ„¢ pointing device and the like. The present invention generally solves the problem associated with providing the user the proper degree of scrolling feedback within the graphical user environment, irrespective of the size of the document being viewed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06856326&OS=06856326&RS=06856326
owner: International Business Machines Corporation
number: 06856326
owner_city: Armonk
owner_country: US
publication_date: 20000128
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TABLE OF CONTENTS","Provided for Examination Reference Purposes","CROSS REFERENCE TO RELATED APPLICATIONS","STATEMENT REGARDING FEDERALLY SPONSORED RESEARCH OR DEVELOPMENT","REFERENCE TO A MICROFICHE APPENDIX","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","Overview","Pointing Device System Architecture","Graphical Processing of API Messages","Pointing Device\/API Message Contextual Mapping","Description of the Prior Art","User Input Devices","Scrolling in the Prior Art","BRIEF SUMMARY OF THE INVENTION","Overview","Generalized System Architecture","Exemplary Advantages","DESCRIPTION OF THE PRESENTLY PREFERRED EXEMPLARY EMBODIMENTS","Embodiments are Exemplary","Definitions","Method","Computer Software","CONCLUSION"],"p":["UTILITY PATENT APPLICATION OF","SPECIFICATION\n\n","All of the material in this patent application is subject to copyright protection under the copyright laws of the United States and of other countries. As of the first effective filing date of the present application, this material is protected as unpublished material.","However, permission to copy this material is hereby granted to the extent that the copyright owner has no objection to the facsimile reproduction by anyone of the patent documentation or patent disclosure, as it appears in the United States Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","Not Applicable","Not Applicable","The invention is related in the general area of pointing devices and their associated graphical user interfaces. In many exemplary embodiments, the present invention permits the smooth scrolling of a document and\/or window in response to user input from a pointing device such as a mouse, trackball, touchpad, Trackpoint\u2122 pointing device or the like. As such, the present invention significantly improves the interaction between the user and the information being displayed by the graphical user interface.","The invention is related in the general area of graphical user interfaces and the use of user input devices such as mice, trackballs, Touchpoint\u2122 pointing devices and the like. The present invention is directly related to the interaction between the inputs from the pointing device and the graphical interface presented to the user.","As illustrated in , a typical pointing device system interface () provides for a hardware input device such as a mouse () that connects to a personal computer (PC) () on which a computer hardware interface () resides. This hardware interface () is supported via a software device driver () that is under control of an operating system ().","For systems incorporating a graphical user interface, typically an application programming interface (API) () is layered on top of the operating system to direct information messages () regarding pointing device () movement to an application program (). These messages are subsequently \u201ccracked\u201d to decode their results by a message cracker () that is typically incorporated within the application program (). Once cracked, these messages are then used to direct output to the graphical output device on the PC () under control of the application program ().","Referencing , a conventional graphical interface window () in which a document () or other information is displayed typically will include one or more scroll bars () that may be used to generate a viewport into the document (). Control of the scroll bar () is typically accomplished via manipulation of the scroll box () that graphically illustrates the position of the viewport with respect to the document (). Within this context, the nPage variable () represents the size of the viewport page with respect to the total document size.","Within the context of the prior art, the scrollbox () position (and thus the corresponding document viewport) may be controlled using one of three mechanisms:\n\n","As can be surmised from FIG.  and , there typically exists a direct mapping between the pointing device () input and the API messages () that are generated by the application programming interface (). The interaction between these API messages () and the graphical user interface () and more specifically the function of the document\/window () and corresponding scroll bar () are the subject of the present invention.","While traditional pointing device () encoder systems have provided only a linear method of positioning the scroll bar () based on pointing device inputs, the present invention permits this movement to be controlled in a nonlinear manner that provides for a smoother and more ergonomic user interface.","It should be noted that the addition of more pointing device () context information aids in this new smooth scrolling functionality. As illustrated in , a wide variety of pointing devices are available for selection by the user, with a number of these (, , ) incorporating more hardware data inputs than available on a conventional mouse pointing device (). The additional API messages () available from the use of these additional hardware features can be used to generate a greater variety of API messages (each having new unique functionality) that actually reach the application program (). This capability is advantageously exploited by the present invention.","The prior art has been typically developed surrounding the system architecture of  as applied to a variety of pointing device user input devices.","Referencing , the prior art has typically utilized mouse input devices () or the like comprising one, two or three input buttons (, , ) to provide a variety of informative messages that are context-sensitive based on the API state () as well as the application program () and message cracker () illustrated in FIG. .","Scrolling a document and\/or a window is one of the most frequent tasks in interacting with today's computers. A recent trend in the computer industry is to adopt an input device that offers a dedicated document\/window scrolling device. For example, there have been attempts by some manufacturers to augment the functionality of mouse input buttons (, , ) illustrated in  with additional scrolling functionality. One example of this is illustrated in , wherein the center button () of  has been augmented with a scrolling thumbwheel () function. In this context, the mouse () illustrated in  has identical left (), center (), and right () input buttons, but also has an additional wheel input feature () that can provide additional messaging () from the API () to the application program ().","Other examples of the move to a dedicated scrolling input device include:\n\n","There are generally three current methods of transforming signals from the above-mentioned scrolling devices to document and\/or Window movement.\n\n","In the first two case just mentioned the scrolling does not appear to be very smooth due to the noticeable movement increment associated with the scrolling function. As a result, the scrolling results appears \u201cjumpy\u201d and unpleasant to user's eye.","There are two problems with the third, scrollbar manipulation approach. One is that some applications do not update the viewing area until the scrollbar is released. Within Microsoft\u00ae Windows\u2122 environments, this state typically conforms to processing of the SB_THUMBPOSITION API message. These types of applications will not respond to such scrolling messages dynamically.","The second problem is that the scrollbar message sends a percentage of the document relative to its total size. For the same signal from the scrolling devices, this method produces an varying amount of absolute movement depending on the document size. For a large document, the resulting movement may appear to be too fast. For a small document, it may appear to be too slow.","The current invention solves the second problem by implementing two scrolling methods. The first uses the scrollbar message and the other uses the LINE+PAGE message. When an application that is known to dynamically respond to the scrollbar message the scrollbar message will be used. For the rest of the applications the LINE+PAGE message will be automatically switched on.","The current invention solves the problems associated with use of the scrollbar by normalizing the scrolling increment according the document size resulting in the same amount of movement from the same level of scrolling signal regardless the document size.\n\n","The invention is related in the general area of user input pointing device technology. The present invention extends the prior art by providing the user a mechanism of smooth scrolling that utilizes the additional input features of modern pointing devices while maintaining the conventional scrolling methods present in the prior art. Significantly, the features of the present invention can (in some embodiments) be implemented at a pointing device driver level, thus permitting application programs the functionality of smooth scrolling without the need for software modifications.","Referencing , the generalized system architecture of the present invention incorporates a translation module () that in many preferred embodiments is implemented between the operating system () and the application programming interface (API) (). This translation module () intercepts scrolling input from the pointing device and translates this to corresponding API messages () that are later processed by the application program () via a message cracker ().","However, as illustrated in , the teachings of the present invention can equivalently be implemented within any functional block within the pointing device interface system architecture, including the pointing device itself (, ), the hardware interface (, ), the device driver (, ), the operating system (, ), the application programming interface (, ), the application program (, ), the message cracker (, ), or an optional independent message processing task (). Specifically, the use of an optional independent external message processing task () permits interception of API () messages () that are processed and\/or filtered () and then directed () to the application program (). This specific embodiment generally requires severing of the API messages () directly to the application program () when using this optional bypass message processing task combination (, , ).","In all of these cases the function of the present invention is to transform scrolling input (however defined or implemented in the pointing device) into corresponding smooth scrolling commands that are interpreted at the application program level ().","Overall the present invention can in some exemplary embodiments provide one or more of the following advantages over the prior art:\n\n","One skilled in the art will realize that these advantages may be present in some embodiments and not in others, as well as noting that other advantages may exist in the present invention that are not specifically listed above.","While this invention is susceptible of embodiment in many different forms, there is shown in the drawings and will herein be described in detailed preferred embodiment of the invention with the understanding that the present disclosure is to be considered as an exemplification of the principles of the invention and is not intended to limit the broad aspect of the invention to the embodiment illustrated.","The numerous innovative teachings of the present application will be described with particular reference to the presently preferred embodiments, wherein these innovative teachings are advantageously applied to the particular problems of an SMOOTH SCROLLING SYSTEM AND METHOD. However, it should be understood that these embodiments are only examples of the many advantageous uses of the innovative teachings herein. In general, statements made in the specification of the present application do not necessarily limit any of the various claimed inventions. Moreover, some statements may apply to some inventive features but not to others. In general, unless otherwise indicated, singular elements may be in the plural and visa versa with no loss of generality.","Throughout the discussion in this document the following definitions will be utilized:","System Blocks\/Procedural Steps Not Limitive","The present invention may be aptly described in terms of exemplary system block diagrams and procedural flowcharts. While these items are sufficient to instruct one of ordinary skill in the art the teachings of the present invention, they should not be strictly construed as limiting the scope of the present invention. One skilled in the art will be aware that system block diagrams may be combined and rearranged with no loss of generality, and procedural steps may be added or subtracted, and rearranged in order to achieve the same effect with no loss of teaching generality. Thus, it should be understood that the present invention as depicted in the attached exemplary system block diagrams and procedural flowcharts is for teaching purposes only and may be reworked by one skilled in the art depending on the intended target application.","Personal Computer Not Limitive","Throughout the discussion herein there will be examples provided that utilize personal computer (PC) technologies to illustrate the teachings of the present invention. The term \u2018personal computer\u2019 should be given a broad meaning in this regard, as in general any computing device may be utilized to implement the teachings of the present invention, and the scope of the invention is not limited just to personal computer applications.","Operating System Not Limitive","Additionally, while the present invention may be implemented to advantage using a variety of Microsoft\u00ae operating systems (including a variety of Windows\u2122 variants), nothing should be construed to limit the scope of the invention to these particular software components. In particular, the system and method as taught herein may be widely implemented in a variety of systems, some of which may incorporate a graphical user interface.","Graphical Interface Model Not Limitive","Correspondingly, while the smooth scrolling input functionality may be advantageously applied to the graphical interface model illustrated in , nothing in the teachings of the present invention limits the scope of application to this particular interface model.","Pointing Device Not Limitive","Throughout the discussion herein of the present invention the term \u2018pointing device\u2019, \u2018mouse\u2019, \u2018trackball\u2019, \u2018Thinkpoint\u2122\u2019, \u2018ScrollPoint\u2122\u2019, or the like should be interpreted in its broadest sense to indicate any method of acquiring user input. While this term specifically anticipates mouse (FIG.  and variants), trackball, thumbwheel, scrolling wheel (FIG.  and variants), touchpad (, () and variants), Trackpoint\u2122 (, () and variants), and Scrollpoint\u2122 (FIG.  and variants) input mechanisms, it should not be limited to these forms of input devices.","Translation Means Not Limitive","Throughout the discussion herein of the present invention the \u2018translation function\u2019, \u2018curve\u2019, \u2018function\u2019 or the like should be interpreted in its broadest sense to indicate any method of modifying the raw scrolling input messages that are obtained from the pointing device. Thus, while the translation function illustrated in  is exemplary of one preferred embodiment, one skilled in the art will recognize that this functionality may be provide in a wide variety of other means, including but not limited to lookup tables, closed form functions, and the like.","Overview","The present invention generally can be viewed in terms of the exemplary system architecture () illustrated in FIG. . This exemplary architecture comprises the following components: provides the following features:\n\n","Referring to , the purpose of the Pointing Device Message Filter () is to intercept information from the Pointing Device Input () that corresponds to state information that should activate the smooth scrolling function. There are a variety of methods to perform this function.","For example, using the pointing device illustrated in , the dedicated Scrollpoint\u2122 input () may be used to provide the information that should be directly mapped to a smooth scrolling request to the API Message Sink (). A wide variety of pointing device hardware styles discussed previously have additional inputs in the form of scrolling wheels (), touch pads (), ThinkPoint\u2122 style inputs, and\/or Scrollpoint\u2122 inputs () that may provide this functionality. As mentioned previously, an existing hardware input device may be augmented with a context associated with the use of a keyboard button in addition to the pointing device input to provide this additional information. An example already mentioned in this respect is the use of the touch pad scroll regions (, ) for this purpose.","As illustrated in , pointing device information that is not targeted for smooth scrolling requests is generally passed on unmodified via the API Message Transmitter () to the API Message Sink for later use by the Graphical User Interface () conventional message cracker (FIG. ).","Transfer Function Generator ()","Overview","Once the Pointing Device Input () has been determined to be associated with a smooth scrolling request, this information (typically constituting a desired smooth scrolling increment (f)) is passed to a Transfer Function Generator () whose responsibility is to scale the smooth scrolling request to permit the document and\/or window to be ergonomically scrolled for the user.","While one skilled in the art will recognize that a plethora of transfer function generators may be applicable to any given embodiment of the present invention, nonetheless a preferred embodiment will be detailed to illustrate the general teachings of the present invention.","Exemplary Transfer Function ()","Referencing , an exemplary transfer function generator\n\n=curve()\u2003\u2003(1) \n\nhaving the domain () and range () as illustrated in the graph () will now be described in detail.\n","The basic scroll speed\/acceleration transfer function () as illustrated in  has three transfer function segments that will now be discussed separately.","In the first segment (), the output increases proportionally to the input, in an accelerated non-linear fashion. For example, the relationship can be a power function\n\ne=K\u00d7f\u2003\u2003(2) \n\n","In the second segment of the transfer function (), the output remains at the same level as the input increases. The scrolling speed corresponding to this output value is around  lines per second in many preferred embodiments. It is a speed at which a user can comfortably track the visual features of a document (headings, figures, and paragraphs). This second segment of the transfer function makes scrolling more controllable. For a large range of input values, the output will be kept under a speed that is visually trackable. Instability factors due to the user's scrolling action or due to scrolling sensor's inconsistency will be inhibited. This feature is especially important in situations where there is a large variation in the functional output of the scrolling sensor caused by manufacturing variations, temperature, etc.","The third segment of the transfer function (), whose output is proportional to input in an accelerated fashion, enables a user to scroll a large document quickly by a large distance. The user has to deliberately exert large input to reach this high speed. This in some exemplary embodiments of the pointing device () would correspond to a high level of finger pressure on the scrolling input () for example.","Scrolling Sensitivity Adjustment ()","The overall sensitivity of scrolling may in many preferred embodiments be adjusted by the user through the use of a Microsoft\u00ae Windows\u2122 Control Panel or equivalent user preference settings adjustment method () as illustrated in FIG. . The effect of this adjustment () is to compress or expand the transfer function () illustrated in  along the horizontal axes. As with other control panel settings, many exemplary embodiments of the present invention will incorporate a method for initializing the scrolling transfer function to factory default settings ().","As an illustrative example, in many preferred embodiments the (f) value () illustrated in  is multiplied by a sensitivity factor (K) (that typically ranges from 0.25 to 4). When (K) is greater then  the scrolling becomes more sensitive. When K is less than , the scrolling becomes less sensitive.","API Message Generator ()","Once the Transfer Function Generator () has generated a proper scrolling increment (e) as exemplified by (), this information is then translated into suitable API messages (SB_LINEUP\/SB_LINEDOWN\/SB_PAGEUP\/SB_PAGEDOWN\/SB_THUMBSCROLL, etc.) by an API Message Generator (). While the exact nature of this translation is API and operating system specific, an exemplary embodiment of this functionality is illustrated in the code samples of . One skilled in the art will no doubt be able to expound on the exemplary embodiment illustrated in  and convert this to any number of other operating system and API environments.","API Message Transmitter ()","The function of the API Message Transmitter () is to traffic API messages that are sourced from either the Pointing Device Input () through the Pointing Device Message Filter () or the API Message Generator (). The functionality in the API Message Transmitter () is very simple and may be omitted in some embodiments. In general, there must be some way of transmitting API messages to the API Message Sink () and\/or the Graphical User Interface (), either of which may be integrated into a general user application program (, ).","API Message Sink ()","While the API Message Sink () need not technically be a part of the present invention, an illustration of a typical API Message Sink () as depicted in  as a pointing device message cracker process () is instructive in understanding the operation of the present invention.","From  it is clearly seen that a conventional pointing device message cracker process () implemented in an application program (, ) starts by getting the API pointing device message (). This message is then sequentially compared (typically using C-code SWITCH functions) to LINE UP (), PAGE UP (), LINE DOWN (), PAGE DOWN (), and\/or THUMBTRACK () messages. Matches of these messages generate corresponding scrolling of the document\/window down 1 line (), down 1 page (), up 1 line (), up 1 page (), or up\/down based on a THUMBTRACK message parameter () respectively. Once the document\/window has been updated, return controls to the remainder of the application and\/or API interface.","The conventional message cracker process () is a typical API Message Sink () but by no means the only method of implementing the Message Sink functionality. What is important to recognize from the example in  is that the primitives generated by the API Message Generator () should be capable of interpretation by the API Message Sink (). The primitives illustrated in  typically satisfy this requirement for most typical application programs, but may not do so for all application programs.","As mentioned previously, the functionality of the present invention as illustrated in  can be implemented directly in the application API message sink (message cracker) of , but in many circumstances this is not convenient since this requires modification of each application program that the user activates. By embedding the present invention in other parts of the operating environment, this permits the desired smooth scrolling functionality to be implemented without any major application program changes.","Exemplary Smooth Scrolling Method","An exemplary general present invention method may best be understood by referencing the system diagrams of  and the exemplary flowchart of FIG. . These diagrams will now be discussed in detail.","Referencing , the exemplary Smooth scrolling method () involves the following steps:\n\n","The teachings of the present invention are sufficiently broad to not limit the manner in which the above mentioned steps are to be performed as well as not limiting the method to any particular hardware, operating system, API, or graphical user interface. Thus, while the particular information gathered within the context of FIG.  and the specific function calls listed in the exemplary flowchart are preferred for some embodiments, they are by no means Limitive of the present invention teachings or the scope thereof.","Generalized Methodology","The general teaching of the present invention that is fundamental to all embodiment is the fact that the Transfer Function Generator () and\/or the translation table\/function step () operate in conjunction with a normalization operation to increment the scrolling increment dP (delta page) () based on the document size D. Thus, for a large document, smooth scrolling would dictate a small page movement () in response to scrolling input (unless the user had a large scrolling input as in region () of FIG. ). This is in contrast to the prior art, which defines the dP (delta page) increment in terms of the defined scroll box size and not the document size in relation to the page size (H).","It should be noted that one skilled in the art would be able to take the functional relationship between the scrolling increment (dP) as illustrated in step () and produce a plethora of similar variants given the teachings of the present invention. The present invention anticipates this modification, as well as a plethora of other translation function curves as exemplified by FIG. .","As would be known by one skilled in the art and as indicated in the exemplary embodiment of , the system and method described herein and generally illustrated in  may be reduced to computer instruction codes and embodied on a computer readable storage means. This may take the form of a wide variety of storage media well known in the art and\/or contemplated for future use. Thus, the present invention specifically anticipates the incorporation of the system and methods discussed herein in the form of tangible computer software products.","Furthermore, while not limiting the scope of the present invention, the present invention specifically anticipates that one or more components of the present invention may be implemented using the Microsoft\u00ae Windows\u2122 operating environment in all its variations or its equivalent commercial embodiments, including but not limited to any system incorporating a graphical user interface.","A device and application independent smooth scrolling system and method have been disclosed wherein the scrolling increment is normalized according to the document size, thus permitting a more ergonomic, consistent and more user-friendly scrolling technique in which to view documents and the like. In contrast to the prior art, the present invention is amenable to use with a wide variety of both linear and non-linear scroll input hardware, and provides an optional method of compensating for the characteristics of these differing hardware devices.","Of significance in the realm of practical considerations is the fact that the present invention can be either incorporated into a variety of pointing device software and\/or hardware components, or can be transparently implemented as an optional ancillary task that monitors pointing device messages prior to their transmission to the application program. In any of these situations, the present invention can implement smooth scrolling functionality without the need for modifications of the application program, a significant benefit in retrofit applications where the message cracker of the application program cannot be accessed or modified.","Although a preferred embodiment of the present invention has been illustrated in the accompanying Drawings and described in the foregoing Detailed Description, it will be understood that the invention is not limited to the embodiments disclosed, but is capable of numerous rearrangements, modifications, and substitutions without departing from the spirit of the invention as set forth and defined by the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["For a fuller understanding of the advantages provided by the invention, reference should be made to the following detailed description together with the accompanying drawings wherein:",{"@attributes":{"id":"P-00096","num":"00096"},"figref":"FIG. 1"},{"@attributes":{"id":"P-00097","num":"00097"},"figref":"FIG. 2"},{"@attributes":{"id":"P-00098","num":"00098"},"figref":"FIG. 3"},{"@attributes":{"id":"P-00099","num":"00099"},"figref":"FIG. 4"},{"@attributes":{"id":"P-00100","num":"00100"},"figref":"FIG. 5"},{"@attributes":{"id":"P-00101","num":"00101"},"figref":"FIG. 6"},{"@attributes":{"id":"P-00102","num":"00102"},"figref":"FIG. 7"},{"@attributes":{"id":"P-00103","num":"00103"},"figref":"FIG. 8"},{"@attributes":{"id":"P-00104","num":"00104"},"figref":"FIG. 9"},{"@attributes":{"id":"P-00105","num":"00105"},"figref":"FIG. 10"},{"@attributes":{"id":"P-00106","num":"00106"},"figref":"FIG. 11"},{"@attributes":{"id":"P-00107","num":"00107"},"figref":"FIGS. 12-16"}]},"DETDESC":[{},{}]}
