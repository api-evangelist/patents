---
title: Systems and methods for an identification protocol between a local controller and a master controller in a photovoltaic power generation system
abstract: Systems and methods for local and master management units in a photovoltaic energy system. In one embodiment, a method implemented in a computer system includes sending a first identification code from a local management unit to a master management unit. The first identification code is associated with the first local management unit, and the local management unit controls a solar module. An authentication of the first identification code is received from the master management unit. In response to receiving the authentication, active operation of the local management unit is continued (e.g., for a set time period).
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08271599&OS=08271599&RS=08271599
owner: Tigo Energy, Inc.
number: 08271599
owner_city: Los Gatos
owner_country: US
publication_date: 20110106
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","FIELD OF THE TECHNOLOGY","BACKGROUND","SUMMARY OF THE DESCRIPTION","DETAILED DESCRIPTION"],"p":["The present application claims priority to U.S. Provisional Application Ser. No. 61\/335,568, filed Jan. 8, 2010, entitled \u201cSYSTEM AND METHOD FOR THEFT PREVENTION AND SECURE CERTIFICATE EXCHANGE,\u201d by Eizips et al., the entire contents of which application is incorporated by reference as if fully set forth herein.","At least some embodiments disclosed herein relate to photovoltaic systems in general, and more particularly, but not limited to, management units used in the configuration or operation of a photovoltaic system.","The operation of one or more local management units in a photovoltaic energy system may be defined by a protocol. In particular, the protocol is typically able to recover from various kinds of errors. For example, the protocol may be self-adjusting in the case of errors and other operational problems that may arise. Also, the protocol may maintain certain safety aspects associated with the operation of the photovoltaic energy system (e.g., a maximum operating voltage and other desired parameters).","Systems and methods for management units for use in the configuration or operation of a photovoltaic system are described herein. Some embodiments are summarized in this section.","In one embodiment, a method implemented in a data processing system includes: sending a first identification code from a first local management unit to a master management unit, the first identification code associated with the first local management unit, and the first local management unit coupled to control a first solar module; receiving, from the master management unit, an authentication of the first identification code; and in response to receiving the authentication, continuing active operation of the first local management unit.","In another embodiment, a master management unit performs a method including: receiving an identification code from a first local management unit, the identification code associated with the first local management unit, and the first local management unit coupled to control a solar module; and sending an authentication of the identification code, the authentication to cause the first local management unit to continue active operation (e.g., continue operating according to its normal or default profile or configuration).","The disclosure includes methods and apparatuses which perform these methods, including data processing systems which perform these methods, and computer readable media containing instructions which when executed on data processing systems cause the systems to perform these methods.","Other features will be apparent from the accompanying drawings and from the detailed description which follows.","The following description and drawings are illustrative and are not to be construed as limiting. Numerous specific details are described to provide a thorough understanding. However, in certain instances, well known or conventional details are not described in order to avoid obscuring the description. References to one or an embodiment in the present disclosure are not necessarily references to the same embodiment; and, such references mean at least one.","Reference in this specification to \u201cone embodiment\u201d or \u201can embodiment\u201d means that a particular feature, structure, or characteristic described in connection with the embodiment is included in at least one embodiment of the disclosure. The appearances of the phrase \u201cin one embodiment\u201d in various places in the specification are not necessarily all referring to the same embodiment, nor are separate or alternative embodiments mutually exclusive of other embodiments. Moreover, various features are described which may be exhibited by some embodiments and not by others. Similarly, various requirements are described which may be requirements for some embodiments but not other embodiments.","As used herein, a \u201csolar cell\u201d is a photovoltaic device configured to absorb photons and convert them into electrical energy. A \u201csolar module\u201d is a device that includes at least one or more solar cells, wherein the solar cells are connected in series or in parallel. A solar panel is one example of a solar module. The solar cells absorb photons and convert the photons into electrical energy. A power bus may be a conductive path connecting one or more solar modules in series.","At least some embodiments of the disclosure provide a system and method for the operation of distributed local management units (LMUs) in a photovoltaic energy system.","In one embodiment, each LMU attempts to communicate on a first active channel with a master management unit. Each LMU is coupled to control one solar module of a plurality of solar modules in the system. If the communication with the master management unit on the first active channel has been established, then the LMU proceeds to a configuration process. If the communication on the first active channel is not established (i.e., fails for some reason), the LMU attempts to communicate on a second active channel.","In one embodiment, the second active channel has a frequency different from the first active channel. If communication with the master management unit on the second active channel is established, then the LMU proceeds to the configuration process. If communication is not established after a predetermined total number of attempts or attempts on a predetermined number of channels, then the LMU proceeds to an error handling process.",{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 1","FIG. 1"],"b":["100","100","110","120","111","121","150","160"],"i":["a","n ","a","n","a","n ","a","n"]},"Each local management unit (LMU) has an antenna; in this exemplary illustration, only antennas and are numbered in , for simplicity and clarity of illustration. Combiner box  is typically used to combine the output of said multiple strings (i.e., -and -) of panels. Power busses  and  are connected to combiner box . For example, combiner box  may be used to house the wires, connections, etc., to combine the electricity generated from different solar panels, strings, subsystems, etc. Combiner box  is coupled to an inverter , for example, connected to power grid .","Master management unit (MMU)  (e.g., a master controller) is coupled to control each of the LMUs (e.g., by wireless communication via antennas and . MMU  acts as a gateway, connecting, for example, to the Internet , via connection , which may be wired, land line, Ethernet, wireless, or any other of various types of suitable connection. MMU  may store configuration profiles in a local database. MMU  may be updated or operated remotely from a remote server. For example, new profiles may be downloaded to MMU  using Internet .","In this example, MMU  has an antenna , which is used to communicate with the distributed LMUs. In some embodiments, one of the LMUs may act as the MMU for the system. The master management unit  is typically powered by the solar panels. However, it may be powered by alternative power sources, such as power grid .","Power line  may supply power to MMU , and in some cases, it could also transmit communications via power line communication between the MMU and LMUs, instead of using wireless communication. However, power line communication may exhibit problems similar to wireless communication, such as radio frequency (RF) interferences and other effects that may benefit from the use of active channel selection as described below. One example of power line communication is discussed in U.S. Non-Provisional application Ser. No. 12\/467,117, filed May 15, 2009, entitled \u201cMETHOD AND SYSTEM FOR CURRENT-MODE POWER LINE COMMUNICATIONS,\u201d by Leonid Rozenboim, the entire contents of which application is incorporated by reference as if fully set forth herein.","The structure as shown in  is one specific type of configuration, but other configurations may be used in other embodiments. For example, other system configurations may be as follows: 1) a set of solar panels, each connected to a parallel bus via a local management unit; 2) similarly as in , but with each string further connected to a parallel bus via a string management unit. In general, the operating protocol for the LMUs as described herein may be used with either a serial configuration (i.e., strings of local management units) or a parallel configuration (i.e., local management units on a parallel bus).","In one embodiment, an LMU may be provided for each solar panel, so that when the solar panels are connected into a system via the LMUs, the efficiency of the system as a whole is increased. In this embodiment, the LMUs are designed to keep each solar panel working at, or close to, its respective maximum power point, substantially independently from each other, even through the panels are connected together to form a system.","In addition to the efficiency consideration, the LMUs may also be configured to provide various features, such as safety, panel protection, etc., in various implementations. There are two possible types of LMUs that may be adapted for different types of basic connection configurations for solar panels: parallel and series. In a combination, strings of LMUs connected in serial may be each connected to a string management unit for parallel combinations of strings at a combiner box.","At a given working condition (e.g., sunlight exposure, temperature, etc.), the power output level of a solar panel is based on the voltage or current consumed by its load. At the given working condition, there is a maximum power point at which the solar panel outputs maximum power W, at current Iand voltage V. If the working voltage deviates from V(or the current from I), the power from the solar panel will be reduced.","In this embodiment, the LMUs permit individual solar panels to work at their maximum power points, while adjusting LMU outputs for efficient operations in serial or parallel connections. The solar panel works at the maximum power point W=I\u00d7V; and the combination of the solar panel and the LMU outputs W=I\u00d7V(since the LMU does not itself create power, and the power consumed by LMU is negligible).","In the parallel configuration, each of the solar panels is connected to an LMU to boost the voltage output V(while keeping the solar panel at its maximum power point W=I\u00d7V=I\u00d7V, thus reducing I). The solar panels are connected in parallel to a high voltage DC bus via their LMUs; and the DC bus can be used to power an inverter, which is tied to a power grid, to supply the grid.","In the serial configuration, each of the solar panels is connected to an LMU to boost the current output I(while keeping the solar panel at its maximum power point W=I\u00d7V=I\u00d7V, thus reducing V). The solar panels are connected in series via their LMUs; and the string of the solar panels (a serial power bus) can be used to power an inverter, which is tied to a power grid, to supply the grid.","In various embodiments, LMUs may have the following features:","a. LMUs for parallel connections are used to boost voltage (V>V). Each parallel LMU has a step up converter and has a maximum power point tracking circuit. Parallel LMUs are configured to output a substantially fixed voltage, allowing only very small variations from the nominal voltage of the high voltage DC bus.","b. LMUs for series connections typically boost current (I>I). The serial LMUs do not use step up converters or maximum power point tracking circuits. Serial LMUs receive duty cycles from a system management unit (e.g., master management unit ), which coordinates the output of the serial LMUs to improve the performance of the system. The system management unit adjusts the duty cycles of the serial LMUs to adjust the states of their respective solar panels.","In one embodiment, a solar panel has a few strings of solar cells (e.g., three solar cell strings per module). A local management unit can be applied to a group of cells within a string of an individual solar panel, or in some cases to each cell in a solar panel. A group of solar cells that are attached to a local management unit may be connected to each other in series, in parallel, or in a mesh configuration. A number of local management units connect the groups of the solar cells in a string to provide output for the solar panel. The foregoing is described further in U.S. Pat. No. 7,602,080, filed Oct. 13, 2009, entitled \u201cSYSTEMS AND METHODS TO BALANCE SOLAR PANELS IN A MULTI-PANEL SYSTEM\u201d by Hadar et al. (see, e.g., FIG. 5), the entire contents of which is incorporated by reference as if fully set forth herein. Some embodiments of the disclosure include methods to determine the duty cycles and\/or phases for local management units connected to a string or mesh of solar modules.","In one embodiment, the system management unit controls the operations of the LMUs via a communication connection, which may be over the power line through which the solar panels deliver power, or over wireless connections, or via separate communication lines (e.g., as discussed above for ). In one embodiment, as a safety feature, each LMU may have a watchdog circuit, which cuts off its output if the heartbeat signal from the system management unit is missing. This allows the solar system to be completely shut down remotely (e.g., for fire-fighting, or cleaning, etc.).","In one embodiment, the MMU listens for new LMUs that may be attempting to communicate with the MMU, for example during set up of a new system, or during replacement of an LMU. The MMU may listen on certain predefined channels (e.g., selected communication frequencies) known to the LMU. After the LMU establishes communication with the MMU, the LMU restarts and again establishes communication with the MMU, but does so on a different channel different from these predefined channels. A remote server or other computer system may be used to provide configuration profiles to the MMU (e.g., over the Internet). This permits a local photovoltaic system to be configured remotely by providing updated profiles to the MMU, then restarting one or more LMUs using the new profiles.","In one embodiment, a plurality of local management units are configured to, under supervision of a master management unit, balance currents between the plurality of solar modules in the power bus. In one embodiment, the LMUs may be configured to balance voltages and currents between solar modules and between power buses. The LMUs can be implemented serially or in parallel. The foregoing configurations are further described in U.S. Patent Application Publication No. 2010\/0139734, published Jun. 10, 2010, entitled \u201cSYSTEMS AND METHODS FOR AN ENHANCED WATCHDOG IN SOLAR MODULE INSTALLATIONS\u201d, by Hadar et al., the entire contents of which publication is incorporated by reference as if fully set forth herein.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 2","FIG. 2"],"b":["200","202","201","201","204","204","204","203"],"sub":["0","z","n "],"i":["a","b","x "]},{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 3","FIG. 3"],"b":"300"},"In step , the LMU unit wakes up. In step , the system checks to determine whether it has a predefined profile list of starting values (e.g., the output voltage for the solar panel controlled by the LMU; or power level and\/or initial channel to use for communications). If not (No), in step , the system sets a maximum value (e.g., maximum communications power or a default active channel). The maximum value may typically be for the output voltage that particular LMU contributes to its string, except in cases where local regulations require that the value be set lower than the maximum.","If the system finds a preset value in a profile (Yes), in step  the system sets the LMU at the preset value(s). Once the value is set for LMU operation in either step  or step , communication is attempted with the MMU on a first active channel. In step , the system checks to determine whether communication with the MMU has been established.","If communication is established (Yes), in step  the system communicates with the MMU in step  and in step , it receives one or more instructions from the MMU. In step , the system executes the instruction(s) it has received. In step , the system waits for a period (e.g., 1-5 seconds) whose value is contained in its profile list, and then it repeats the communication loop beginning again at step .","In cases where a communication error occurs in step , the system moves to step  and commences an error treatment protocol, for example as described below or otherwise. Examples of errors may include detection of a non-existing command, a mismatch in the MMU identification number, etc.","If the system finds, in step , that communication is not established (No), in step  the system attempts to establish communication by setting the channel fto the frequency of initial active channel fand, in step , scanning f. In step , the system checks to see if communication is then established on this new active channel. If it is (Yes), the system continues to the sequence of steps starting with step , as described above. If, in step , communication is not established (No), in step  the system increments the then-active channel fto the next available channel f+1 (i.e., channel f).","In step , the system checks to see if the next incremental channel exceeds the maximum number of available channels (e.g., a predetermined maximum number of channels stored in the LMU start-up profile). If the maximum is not exceeded (No), the system returns to step  and continues to scan succeeding active channels until either it establishes communication or it exceeds the maximum number of channels. In the case of exceeding the maximum number of available channels in step  (Yes), the system moves to step  and commences an error treatment protocol. An error treatment protocol may include one or more of various approaches. One typical approach would reset the LMU and start again at step . Another approach would shut down the LMU; while yet another would loop back to step  and try again.","The section below entitled \u201cEXEMPLARY PROTOCOL COMMUNICATION INFORMATION\u201d shows specific examples of the protocol of communications between an exemplary distributed LMU and an exemplary MMU. This protocol shows how a system can self-detect elements, available channels, etc., thus reducing setup efforts. This is advantageous with the use of wireless communications, as channels may be blocked by outside sources of interference (e.g., as discussed for  above), and the system desirably should be able to self-reconfigure in such situations.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 4","FIG. 1"],"b":["400","420","110","120","421","400"],"i":["a,b ","a,b "]},"Core LMU  has switches ,  and , plus controller . A diode  provides a voltage drop in the case of a short of switch , to ensure enough voltage to operate controller . Modem  and\/or wireless network interface  are coupled to controller  to permit communications with the LMUs. In some cases, modem  connects to the string wiring (e.g., to modulate control signals onto the wiring at control frequencies higher than the normal operating frequencies used in power busses  and ).","In other cases, wireless network interface  has an antenna  to use for communications with the LMUs. The network communications type used may be one of many different types of conventional wireless networks. The use of wireless communication may be advantageous in some cases by reducing the number of hardwire points of failure, and thus increasing the simplicity of system setup or the reliability of system operation.","In most cases, an LMU does not have both a modem  and a wireless network interface . Typically, a system contains only one or the other, but in some cases, these may be, for example, plug-in modules. In other cases, both components may be present, but only one may be activated. Controller  may be configured for operation by additional software code  that may include, in addition to other previously discussed features for a communication protocol, code for implementing a shut-off system.","Examples of an LMU are described in U.S. Provisional Application Ser. No. 61\/276,752, filed Sep. 16, 2009, entitled \u201cSYSTEM AND METHOD FOR REMOTE OR LOCAL SHUT-OFF OF SOLAR PANEL SYSTEMS,\u201d by Makhota et al. (see, e.g., FIG. 6 and TGY010-3), and also in U.S. Provisional Application Ser. No. 61\/277,867, filed Sep. 29, 2009, entitled \u201cSYSTEM AND METHOD FOR REMOTE OR LOCAL SHUT-OFF OF SOLAR PANEL SYSTEMS,\u201d by Makhota et al. (see, e.g., FIG. 6 and TGY010-3), the entire contents of each of the foregoing applications being incorporated by reference as if fully set forth herein.","In , a local management unit  according to another embodiment is illustrated. Local management unit  provides two connectors  and  for serial connections with other local management units  to form a serial power bus (e.g., power bus  or  of ). Note that in other embodiments, a parallel configuration of LMUs may be used.","A controller  controls the states of switches Q  and Q . When the controller  turns on switch , the panel voltage and the capacitor C  are connected in parallel to the connectors  and . The output voltage between the connectors  and  is substantially the same as the output panel voltage. During the period the switch  is turned off (open), the controller  turns on (closes) the switch Q  to provide a path around the diode D  to improve efficiency.","When the switch  is turned off (open), the panel voltage charges the capacitor C , such that when the switch  is turned on, both the solar panel and the capacitor  provides currents going through the connectors  and , allowing a current larger than the current of the solar panel to flow in the string (e.g., the serial power bus  or  of ). When the switch  is turned off (open), the diode D  also provides a path between the connectors  and  to sustain the current in the string, even if the switch  is off for some reason. In one embodiment, the controller  is connected (not shown) to the panel voltage to obtain the power for controlling the switches Q  and Q .","In one embodiment, the controller  is further connected (not shown) to at least one of the connectors  and  to transmit and\/or receive information from the string. In one embodiment, the controller  includes sensors (not shown) to measure operating parameters of the solar panel, such as panel voltage, panel current, temperature, light intensity, etc.","Additional information regarding local management units, and the operation thereof, that may be used in some embodiments of the present disclosure is described in U.S. Pat. No. 7,602,080, filed Oct. 13, 2009, entitled \u201cSYSTEMS AND METHODS TO BALANCE SOLAR PANELS IN A MULTI-PANEL SYSTEM\u201d by Hadar et al., the entire contents of which is incorporated by reference as if fully set forth herein.",{"@attributes":{"id":"p-0063","num":"0062"},"figref":"FIG. 6","b":["600","100","600","600","600"]},"CPU  is connected to bus , to which bus is also connected memory , non-volatile memory , display , I\/O unit , and network interface card (NIC) . I\/O unit  may, typically, be connected to keyboard , pointing device , hard disk , and real-time clock . NIC  connects to network , which may be the Internet or a local network, which local network may or may not have connections to the Internet. Also shown as part of system  is power supply unit  connected, in this example, to AC supply . Not shown are batteries that may be present in some embodiments, and many other hardware devices and modifications thereof that are well known for use in such computer systems, but are not directly applicable to the specific novel functions of the system and method disclosed herein. Although  illustrates various components of a computer system, it is not intended to represent any particular architecture or manner of interconnecting the components. Other systems that have fewer or more components may also be used.","In other embodiments, typical I\/O devices may include mice, modems, network interfaces, printers, scanners, video cameras and other devices which are well known in the art. The bus  may include one or more buses connected to one another through various bridges, controllers and\/or adapters. In one embodiment, the I\/O unit  includes a USB (Universal Serial Bus) adapter for controlling USB peripherals, and\/or an IEEE-1394 bus adapter for controlling IEEE-1394 peripherals.","In other embodiments, memory may include ROM (Read Only Memory) and volatile RAM (Random Access Memory). Non-volatile memory may include, for example, a hard drive, flash memory, etc. Volatile RAM is typically implemented as dynamic RAM (DRAM) which requires power continually in order to refresh or maintain the data in the memory. Non-volatile memory is typically a magnetic hard drive, a magnetic optical drive, or an optical drive (e.g., a DVD RAM), or other type of memory system which maintains data even after power is removed from the system. The non-volatile memory may also be a random access memory.","The non-volatile memory can be a local device coupled directly to the rest of the components in the data processing system. A non-volatile memory that is remote from the system, such as a network storage device coupled to the data processing system through a network interface such as a modem or Ethernet interface, can also be used.","In some embodiments, one or more servers of the system can be replaced with the service of a peer to peer network of a plurality of data processing systems, or a network of distributed computing systems. The peer to peer network, or a distributed computing system, can be collectively viewed as a server data processing system.","Embodiments of the disclosure can be implemented via the processor(s)  and\/or the memory \/. For example, the functionalities described can be partially implemented via hardware logic in the processor(s)  and partially using the instructions stored in the memory  and\/or . Some embodiments are implemented using the processor(s)  without additional instructions stored in memory. Some embodiments are implemented using the instructions stored in the memory for execution by one or more general purpose microprocessor(s). Thus, the disclosure is not limited to a specific configuration of hardware and\/or software.","As mentioned previously above, examples of additional communications protocol embodiments are described further in the section below entitled \u201cEXEMPLARY PROTOCOL COMMUNICATION INFORMATION\u201d. Specific examples of communication packet data structures and communication commands that may be used in specific implementations of the various embodiments described above are included in this section.","In one embodiment, communications are attempted using this exemplary communication protocol, from a first local management, on a first active channel with the MMU. Next, it is determined if communication with the MMU has been established. In response to a determination that the communication on the first active channel has not been established, communication is attempted on a second active channel with the MMU, the second active channel having a frequency different from the first active channel. Then, it is determined if communication with the master management unit on the second active channel has been established. If so, then the LMU continues with a configuration or start-up process.","In one embodiment, the method further comprises after the communication on the second active channel has been established, receiving a first communication from the master management unit. In one embodiment, the first communication comprises an instruction (e.g., a command), and the method further comprises executing the instruction on the first local management unit. In one embodiment, the plurality of local management units are connected in series. In another embodiment, the plurality of local management units are connected in parallel.","In one embodiment, the communication on the first active channel is at a predetermined frequency used by the master management unit for establishing communication with new local management units being added to the system. In one embodiment, the method further comprises after communication with the master management unit has been established, restarting the first local management unit and subsequently communicating with the master management unit at a frequency other than the predetermined frequency.","In one embodiment, the method further comprises communicating from the first local management unit to the master management unit an identification code (e.g., Unit ID) associated with the first local management unit; and receiving a profile from the master management unit, the profile corresponding to the identification code. In one embodiment, the method further comprises in response to receiving the identification code, retrieving, via the master management unit, the profile from a database that includes a plurality of different profiles suitable for configuration of local management units.","In one embodiment, the first local management unit comprises an antenna, and the attempting to communicate on the first active channel comprises sending a wireless signal via the antenna. In one embodiment, the method further comprises after the communication on the second active channel has been established, determining that an error has occurred in communication with the master management unit; and in response to the error, initiating an error treatment protocol for the first local management unit.","In one embodiment, the method further comprises: in response to a determination that the communication on the second active channel has not been established, attempting to communicate on a third active channel with the master management unit, the third active channel having a frequency different from the first and second active channels; determining if communication with the master management unit on the third active channel has been established; in response to a determination that the communication on the third active channel has not been established, determining whether a predetermined number of available channels for communication with the master management unit has been exceeded; and in response to a determination that the predetermined number has been exceeded, initiating an error treatment protocol for the first local management unit.","In one embodiment, the method further comprises: prior to the attempting to communicate on the first active channel, waking up the first local management unit; after the waking up, determining whether the first local management unit is storing a configuration profile; in response to a determination that the first local management unit is not storing the configuration profile, communicating to the master management unit a first identification code associated with the first local management unit; receiving a first profile from the master management unit, the first profile corresponding to the first identification code, and the first profile including a time period; and configuring the first local management unit using the first profile.","In one embodiment, the method further comprises: after the communication on the second active channel has been established, receiving a first instruction from the master management unit; executing the first instruction on the first local management unit; after the executing the first instruction, waiting for the time period; after the waiting, communicating with the master management unit to receive a second instruction; and executing the second instruction on the first local management unit.","In one embodiment, the method further comprises: establishing communication with the master management unit from a second local management unit of the plurality of local management units; and communicating to the master management unit a second identification code associated with the second local management unit; receiving a second profile from the master management unit, the second profile corresponding to the second identification code; and configuring the second local management unit using the second profile.","In one embodiment, a local management unit comprises memory storing software instructions, and a controller coupled to the memory. The controller is configured via the software instructions to execute a method comprising: controlling, under supervision by a master management unit, a first solar module of a plurality of solar modules, the master management unit coupled to supervise a plurality of local management units, wherein the plurality of local management units are coupled by a power bus, and each one of the plurality of local management units controls a respective one of the plurality of solar modules, attempting to communicate on a first active channel with the master management unit, determining if communication with the master management unit on the first active channel has been established, in response to a determination that the communication on the first active channel has not been established, attempting to communicate on a second active channel with the master management unit, the second active channel having a frequency different from the first active channel, and determining if communication with the master management unit on the second active channel has been established.","In one embodiment, the system further comprises a modem or wireless network interface to attempt to communicate with the master management unit on the first active channel. In one embodiment, the plurality of local management units are configured to, under supervision of the master management unit, balance currents between the plurality of solar modules in the power bus.","In one embodiment, a non-transitory computer-readable storage medium tangibly stores computer readable instructions. The instructions cause a computer or data processing system to perform a method comprising: attempting to communicate, from a first local management unit of a plurality of local management units, on a first active channel with a master management unit, each of the plurality of local management units coupled to control a respective solar module of a plurality of solar modules; determining if communication with the master management unit on the first active channel has been established; in response to a determination that the communication on the first active channel has not been established, attempting to communicate on a second active channel with the master management unit, the second active channel having a frequency different from the first active channel; and determining if communication with the master management unit on the second active channel has been established.","In one embodiment, a method further comprises: communicating from the first local management unit to the master management unit an identification code associated with the first local management unit; and receiving a profile from the master management unit, the profile corresponding to the identification code.",{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 7","b":["700","720","730","111","111","130"],"i":["a ","n"]},"At the same time, the components of the photovoltaic system may be secured (e.g., the local controllers on the panels and the master controller) from mischief (e.g., vandalism or theft) and inadvertent mistakes (e.g., interference by an outside entity or the use of incorrect or inappropriate solar panels in the system). This is accomplished by identifying the solar panels (by virtue of an identifier associated with the LMU that controls each panel).","More specifically, as illustrated in , process  involves communication between master controller  (e.g., MMU  as discussed above) and local controller  (e.g., one of LMUs . . . as discussed above). In step , the LMU requests a connection. In step , the MMU looks up the LMU's identifier (ID) in data repository , which repository may be a local storage device in the MMU, or may be a remote storage device accessible to the MMU via connection  (see  and corresponding discussion above), or may be some other, similar means.","In step , the MMU requests a certificate or sends an encrypted message to the LMU. In some cases the system may employ, for example, SSL-type certificates, which are distributed at the time the system or unit is set up. In other cases, the system may use encrypted communication in lieu of a certificate, where, for example, the MAC ID of the unit may be used to create an encryption algorithm, thus creating a pseudo-certificate. In yet other cases a modem or other communication device may be used, which device may provide a transparent communication link in the style of a virtual private network (VPN).","In step , the LMU receives the certificate or encrypted message. In step , the LMU calculates a response, which response depends on the type of message received in step . In step , the LMU sends back the encrypted message. If this panel is not the panel it is supposed to be (e.g., it is stolen or is not of an appropriate type for use in this particular system installation), or if the LMU sends back an incorrect certificate, the MMU notes (and may register in data repository ) that the registration is invalid.","If the message contains data that validates the panel, in step  the MMU registers this panel as valid, and in step  it sends a periodic activation message back to the LMU, keeping the LMU functional (starting or continuing in normal active operation). In the absence of such a signal, the LMU will, for example, turn off, or enter a low-level operating mode. Hence, for example, if a panel were stolen, the LMU would cease to work properly in another system as it would not receive periodic activation messages that provide authentication for continued operation.","In step , the LMU accepts the activation and sets a duration time for the activation period, after which the activation expires and the LMU sends a new request to the MMU for another activation message (which involves another look up of the identifier for the LMU to confirm its validity). In step , the communication process ends.","In some embodiments, the MMU may allocate and assign a communications channel or frequency, and a time slot, to each LMU based on its identifier. In yet other embodiments, the MMU may assign an identifier to an LMU.","In one embodiment, each LMU may have a watchdog circuit to monitor the periodic activation or authentication signal from the MMU. If the MMU does not send the signal periodically to the LMU, the LMU shuts down automatically. This watchdog feature may be used to shut down any LMU\/solar panel integral unit that is not supposed to be in the system (e.g., based on the list of permitted panels known to the MMU). An example of a watchdog circuit and its use are described in U.S. Patent Application Publication No. 2010\/0139734, published Jun. 10, 2010, entitled \u201cSYSTEMS AND METHODS FOR AN ENHANCED WATCHDOG IN SOLAR MODULE INSTALLATIONS\u201d, by Hadar et al., the entire contents of which publication is incorporated by reference as if fully set forth herein.",{"@attributes":{"id":"p-0093","num":"0092"},"figref":"FIG. 8","b":["800","720","130","840","720","840","131"]},"Some specific examples of the use of a back-end server or the communications of panel and\/or other system operating data between an MMU and various data processing systems (e.g., a web server) over a network (e.g., TCP\/IP over a local area network) are described in more detail in the following published U.S. patent applications, the entire contents of each such application being incorporated by reference as if fully set forth herein: U.S. Patent Application Publication No. 2009\/0150005 A1, published Jun. 11, 2009, entitled \u201cMETHOD AND SYSTEM TO PROVIDE A DISTRIBUTED LOCAL ENERGY PRODUCTION SYSTEM WITH HIGH-VOLTAGE DC BUS\u201d, by Hadar et al.; U.S. Patent Application Publication No. 2009\/0114263 A1, published May 7, 2009, entitled \u201cAPPARATUSES AND METHODS TO REDUCE SAFETY RISKS ASSOCIATED WITH PHOTOVOLTAIC SYSTEMS\u201d, by Powell et al.; and U.S. Patent Application Publication No. 2010\/0127571 A1, published May 27, 2010, entitled \u201cSYSTEMS AND METHODS TO BALANCE SOLAR PANELS IN A MULTI-PANEL SYSTEM\u201d, by Hadar et al.","In step , the system creates a secure connection from the MMU to server , which is running software instance . In step , the server receives the connection. In step , the MMU uploads its list of registered local controllers and, optionally, data about local controllers that have been determined to be invalid. In step , the server receives the list, and in step , the list is stored into the server's main storage repository . In step , the system compares the newly-received list to its previous lists or other data regarding missing panels, incorrect panels, unregistered panels, etc.","In step , the server sends back its updated list to the MMU. In step , the system may take additional actions, such as notifying the operator about incorrect, missing, or unregistered panels, or the reasons for refusing certain panels. In step , the process at the server ends.","Meanwhile, in step  the MMU, which is between back-end server  (which may be located, for example, at a service provider), and the LMU, receives the updated list. In step , the MMU may take various actions, such as excluding certain panels that may be in the wrong system, or that may be the wrong type, and could thus be damaged or damage some other components in the system.","Data flow process  may be used, for example, to exclude stolen panels that are improperly taken from another system and\/or are not registered for operation in the present system. In such cases, actions in steps  and  may include notifying the operators of the system from which the panels were stolen, the operators of the present system, the operator of the server, and\/or in some cases, even the authorities. In step , the process at the MMU ends.","It should be noted that in one embodiment the channel selection\/error recovery for the communication link between the LMU and MMU as discussed above for communication process  of  may be used with the identification protocols for processes  and\/or  of  as discussed above. Various other additional embodiments are now described below.","In a first additional embodiment, a first identification code is sent from a first local management unit to a master management unit. The first identification code is associated with the first local management unit, and the first local management unit is coupled to control a solar module. An authentication of the first identification code is received from the master management unit. In response to receiving the authentication, active operation of the first local management unit is continued.","The authentication may be periodically sent from the master management unit to each local management unit in a system. In one embodiment, the authentication is received in a first activation message, and the method further comprises in response to receiving the authentication, setting a first duration time for the active operation. After the first duration time expires, the first identification code is again sent to the master management unit. A second activation message is received, and in response to receiving the second activation message, active operation of the first local management unit is continued for a second duration time.","In one embodiment, the communications between the MMU and the LMU are performed via a first communications channel at a predetermined frequency used by the MMU for establishing communication with new LMUs. After the initial communications via the first channel, communications are performed with the master management unit on a second communications channel, where the second channel has a frequency different from the first channel.","In one embodiment, the LMU receives a profile (e.g., a configuration or start-up profile) from the master management unit, where the profile corresponds to the first identification code. In one embodiment, in response to receiving the first identification code, the MMU retrieves the profile from a database (e.g., stored on back-end server ) that includes a plurality of different profiles suitable for configuration of all legitimate local management units in the system (e.g., for a new system installation).","In one embodiment, the method further comprises: waking up the first local management unit; after the waking up, determining whether the first local management unit is storing a configuration profile (wherein the sending of a first identification code is in response to a determination that the first local management unit is not storing the configuration profile); receiving a first profile from the master management unit, the first profile corresponding to the first identification code, and the first profile including a duration time for the active operation; and configuring the first local management unit using the first profile.","In another embodiment, the method further comprises: receiving a first instruction from the master management unit; executing the first instruction on the first local management unit; after the executing the first instruction, waiting for the duration time; after the waiting, communicating with the master management unit to receive a second instruction; and executing the second instruction on the first local management unit.","In one embodiment, the method further comprises: establishing communication with the master management unit from a second local management unit of a plurality of local management units including the first local management unit; communicating to the master management unit a second identification code associated with the second local management unit; receiving, from the master management unit, an authentication of the second identification code; and in response to receiving the authentication of the second identification code, continuing active operation of the second local management unit.","In another embodiment, a master management unit performs a method including: receiving an identification code from a first local management unit, the identification code associated with the first local management unit, and the first local management unit coupled to control a solar module; and sending an authentication of the identification code, the authentication to cause the first local management unit to continue active operation.","In one embodiment, the method further comprises looking up the identification code to confirm that operation of the first local management unit is authorized; and the sending of the authentication is in response to confirmation that the operation is authorized and further includes the sending of a first activation message including the authentication to the first local management unit, where the first activation message will cause the first local management unit to continue the active operation for a first duration time.","In one embodiment, the method further comprises after the first duration time expires, again receiving the identification code from the first local management unit; again looking up the identification code to confirm that operation of the first local management unit is authorized; and in response to a confirmation that the operation is again authorized, sending a second activation message to cause the first local management unit to continue active operation for a second duration time. The looking up may include looking up the identification code in a data repository including a plurality of identification codes, each identification code corresponding to a respective local management unit.","The method may include receiving a message from the first local management unit, the message containing data that validates the first local management unit; and in response to receiving the message, registering the first local management unit in the data repository as being valid. Alternatively, the method may include receiving a message from the first local management unit that fails to validate the first local management unit; and in response to receiving the message, registering the first local management unit in the data repository as being invalid.","In one embodiment, the method further comprises sending a configuration profile from the master management unit to the first local management unit, the configuration profile corresponding to the identification code. In one embodiment, the method further comprises: sending a list of registered local management units, including the first local management unit, to a server; receiving results of a comparison via the server of the list to data regarding invalid local management units; and in response to the comparison indicating that the first local management unit is invalid, refusing to send an authentication to the first local management unit to permit continuation of active operation. The method may include sending data to the server regarding a local management unit that the master management unit has determined is invalid.","In another embodiment, a system includes a solar module and a local management unit coupled to control the solar module. The local management unit includes memory storing software instructions, and further includes a controller coupled to the memory. The controller is configured via the software instructions to execute a method comprising: sending an identification code to a master management unit, the identification code associated with the local management unit; receiving, from the master management unit, an authentication of the identification code; and in response to receiving the authentication, continuing active operation of the local management unit.","The authentication may be received in a first activation message, and in response to receiving the authentication, a duration time may be set for the active operation. After the duration time expires, the identification code may again be sent to the master management unit. A second activation message is received by the local management unit. In response to receiving this second activation message, active operation of the local management unit is again continued for the duration time (e.g., the same time or in other embodiments a different time as programmed or otherwise defined).","In this description, various functions and operations may be described as being performed by or caused by software code to simplify description. However, those skilled in the art will recognize what is meant by such expressions is that the functions result from execution of the code by a processor, such as a microprocessor. Alternatively, or in combination, the functions and operations can be implemented using special purpose circuitry, with or without software instructions, such as using an Application-Specific Integrated Circuit (ASIC) or a Field-Programmable Gate Array (FPGA). Embodiments can be implemented using hardwired circuitry without software instructions, or in combination with software instructions. Thus, the techniques are limited neither to any specific combination of hardware circuitry and software, nor to any particular source for the instructions executed by the data processing system.","While some embodiments can be implemented in fully functioning computers and computer systems, various embodiments are capable of being distributed as a computing product in a variety of forms and are capable of being applied regardless of the particular type of machine or computer-readable media used to actually effect the distribution.","At least some aspects disclosed can be embodied, at least in part, in software. That is, the techniques may be carried out in a computer system or other data processing system in response to its processor, such as a microprocessor, executing sequences of instructions contained in a memory, such as ROM, volatile RAM, non-volatile memory, cache or a remote storage device.","Routines executed to implement the embodiments may be implemented as part of an operating system, middleware, service delivery platform, SDK (Software Development Kit) component, web services, or other specific application, component, program, object, module or sequence of instructions referred to as \u201ccomputer programs.\u201d Invocation interfaces to these routines can be exposed to a software development community as an API (Application Programming Interface). The computer programs typically comprise one or more instructions set at various times in various memory and storage devices in a computer, and that, when read and executed by one or more processors in a computer, cause the computer to perform operations necessary to execute elements involving the various aspects.","A machine readable medium can be used to store software and data which when executed by a data processing system causes the system to perform various methods. The executable software and data may be stored in various places including for example ROM, volatile RAM, non-volatile memory and\/or cache. Portions of this software and\/or data may be stored in any one of these storage devices. Further, the data and instructions can be obtained from centralized servers or peer to peer networks. Different portions of the data and instructions can be obtained from different centralized servers and\/or peer to peer networks at different times and in different communication sessions or in a same communication session. The data and instructions can be obtained in entirety prior to the execution of the applications. Alternatively, portions of the data and instructions can be obtained dynamically, just in time, when needed for execution. Thus, it is not required that the data and instructions be on a machine readable medium in entirety at a particular instance of time.","Examples of computer-readable media include but are not limited to recordable and non-recordable type media such as volatile and non-volatile memory devices, read only memory (ROM), random access memory (RAM), flash memory devices, floppy and other removable disks, magnetic disk storage media, optical storage media (e.g., Compact Disk Read-Only Memory (CD ROMS), Digital Versatile Disks (DVDs), etc.), among others.","In general, a machine readable medium includes any mechanism that provides (e.g., stores) information in a form accessible by a machine (e.g., a computer, network device, personal digital assistant, manufacturing tool, any device with a set of one or more processors, etc.).","In various embodiments, hardwired circuitry may be used in combination with software instructions to implement the techniques. Thus, the techniques are neither limited to any specific combination of hardware circuitry and software nor to any particular source for the instructions executed by the data processing system.","Although some of the drawings illustrate a number of operations in a particular order, operations which are not order dependent may be reordered and other operations may be combined or broken out. While some reordering or other groupings are specifically mentioned, others will be apparent to those of ordinary skill in the art and so do not present an exhaustive list of alternatives. Moreover, it should be recognized that the stages could be implemented in hardware, firmware, software or any combination thereof.",{"@attributes":{"id":"p-0123","num":"0122"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"EXEMPLARY PROTOCOL COMMUNICATION INFORMATION"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["A.","Message Level"]},{"entry":[{},"Command Summary"]},{"entry":[{},"0x02 - data request"]},{"entry":[{},"0x03 - data response"]},{"entry":[{},"0x04 - request NO DATA response"]},{"entry":[{},"0x05 - no data response"]},{"entry":[{},"0x06 - general parameter error response"]},{"entry":[{},"0x08 - send broadcast request"]},{"entry":[{},"0x09 - send broadcast response"]},{"entry":[{},"0x0a - send version request"]},{"entry":[{},"0x0b - send version response"]},{"entry":[{},"0x0c - set channel"]},{"entry":[{},"0x0d - set channel response"]},{"entry":[{},"0x0e - read channel"]},{"entry":[{},"0x0f - read channel response"]},{"entry":[{},"0x10 - Hard reset of Gateway"]},{"entry":[{},"0x11 - Response to hard reset"]},{"entry":[{},"0x12 - STORE settings"]},{"entry":[{},"0x13 - Response to STORE settings"]},{"entry":[{},"0x14 - Set unit ID"]},{"entry":[{},"0x15 - Set unit ID response"]},{"entry":[{},"0x16 - Get unit ID"]},{"entry":[{},"0x17 - Get unit ID response"]},{"entry":[{},"---- diagnostic ------"]},{"entry":[{},"0x100 - Echo command"]},{"entry":[{},"0x101 - Echo response"]},{"entry":["(0x02)","Get data request"]},{"entry":[{},"Sent to request lines of LMU data from the Gateway"]},{"entry":[{},"<command> = 0x02"]},{"entry":[{},"<body> = <line count> <seq ID>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<line count> ","Number of lines desired"]},{"entry":[{},{},"16 bits, high byte first"]},{"entry":[{},"<seq ID> ","Starting sequence number desired"]},{"entry":[{},{},"<32 bits, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Responses"]},{"entry":[{},"\u20030x03 - data response"]},{"entry":[{},"\u20030x05 - no data response"]},{"entry":["(0x03)","Data Response"]},{"entry":[{},"Sent to supply LMU data to the MMU"]},{"entry":[{},"<response> = 0x03"]},{"entry":[{},"<body> = <line count> <delimiter> <LMU line> ..."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<line count>","Count of available lines"]},{"entry":[{},{},"16 bits, high byte first"]},{"entry":[{},"<delimiter> ","0xDDDD"]},{"entry":[{},{},"16 bites, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<LMU line> = ...."]},{"entry":["(0x04)","Get NO data request"]},{"entry":[{},"Sent to request sequence number limits"]},{"entry":[{},"<command> = 0x04"]},{"entry":[{},"<body> = <empty>"]},{"entry":[{},"Responses"]},{"entry":[{},"\u20030x05 - no data response"]},{"entry":["(0x05)","No Data Response"]},{"entry":[{},"Sent to indicate to the MMU that the requested sequence ID"]},{"entry":[{},"is not yet in the buffer"]},{"entry":[{},"<response> = 0x05"]},{"entry":[{},"<body> = <Seq ID first> <Seq ID next>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<Seq ID first>","First available Seq ID"]},{"entry":[{},{},"32 bits, high byte first"]},{"entry":[{},"<Seq ID next>","\u201cCurrent\u201d Seq ID (highest + 1)"]},{"entry":[{},{},"32 bits, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["(0x06)","General parameter error response"]},{"entry":[{},"Sent to indicate a parameter error."]},{"entry":[{},"<response> = 0x06"]},{"entry":[{},"<body> = <empty>"]},{"entry":["(0x08)","Send Broadcast Request"]},{"entry":[{},"Sent to load data to the beacon payload in the Gateway"]},{"entry":[{},"<command> = 0x08"]},{"entry":[{},"<body> = <ascii bytes>"]},{"entry":[{},"<ascii bytes> Up to 40 ascii bytes...."]},{"entry":[{},"Responses"]},{"entry":[{},"\u20030x09 - send broadcast response"]},{"entry":["(0x09)","Send Broadcast Response"]},{"entry":[{},"Sent in response to a broadcast command"]},{"entry":[{},"<command> = 0x09"]},{"entry":[{},"<body> = <empty>"]},{"entry":["(0x0a)","Send Version Request"]},{"entry":[{},"Request version and build strings"]},{"entry":[{},"<command> = 0x0a"]},{"entry":[{},"<body> = <empty>"]},{"entry":[{},"Responses"]},{"entry":[{},"\u20030x0b - Send Version Response"]},{"entry":["(0x0b)","Send Version Response"]},{"entry":[{},"<response> = 0x0b"]},{"entry":[{},"<body> = <version string> <build date> <build time>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<version string> ","Delimited ascii string (CR delimiter)"]},{"entry":[{},{},"Typ: \u201cGateway Version 00.6a\u201d"]},{"entry":[{},"<build date> ","Delimited ascii string (CR delimiter)"]},{"entry":[{},{},"Typ: \u201cBuild Aug 24 2009\u201d"]},{"entry":[{},"<build time> ","Delimited ascii string (CR delimiter)"]},{"entry":[{},{},"Typ: \u201c10:00:38\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["(0x0c)","Set Channel Request"]},{"entry":[{},"Sets new channel in gateway. Gateway is radio is then forcibly"]},{"entry":[{},"restarted with a hammer."]},{"entry":[{},"<command> = 0x0c"]},{"entry":[{},"<body> = <desired channel>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<desired channel>","Channel number between 11 and 26 (dec)"]},{"entry":[{},{},"16 bit, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Responses"]},{"entry":[{},"\u20030x06 - Bad parameter response"]},{"entry":[{},"\u20030x0d - Set Channel Response"]},{"entry":["(0x0d)","Set Channel Response"]},{"entry":[{},"<response> = 0x0d"]},{"entry":[{},"<body> = <empty>"]},{"entry":["(0x0e)","Get Channel Request"]},{"entry":[{},"<command> = 0x0e"]},{"entry":[{},"<body> = <empty>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<current channel>","Channel number between 11 and 26 (dec)"]},{"entry":[{},{},"16 bit, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Responses"]},{"entry":[{},"\u20030x0d - Get Channel Response"]},{"entry":["(0x0f)","Set Channel Response"]},{"entry":[{},"<response> = 0x0d"]},{"entry":[{},"<body> = <current channel>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<current channel>","Channel number between 11 and 26 (dec)"]},{"entry":[{},{},"16 bit, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["(0x10)","Request Gateway Reset"]},{"entry":[{},"Gateway is put into hard reset"]},{"entry":[{},"<command> = 0x10"]},{"entry":[{},"<body> = <magic string>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<magic string> ","\u20030x37249266L - arbitrary...."]},{"entry":[{},{},"32 bit, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Responses"]},{"entry":[{},"\u20030x06 - General error response (bad magic number)"]},{"entry":[{},"\u20030x11 - Get reset request Response"]},{"entry":["(0x11)","Request Gateway Reset Response"]},{"entry":[{},"<response> = 0x11"]},{"entry":[{},"<body> = <empty>"]},{"entry":[{},"In some embodiments, the gateway implementation does not "]},{"entry":[{},"\u2003finish theanswer packet before resetting."]},{"entry":["(0x12)","STORE settings"]},{"entry":[{},"Current parameters are formatted to a structure and written "]},{"entry":[{},"to Flash."]},{"entry":[{},"A limited number of writes are allowed before the memory "]},{"entry":[{},"is filled up."]},{"entry":[{},"Do NOT write to Flash unless the actions in NECESSARY"]},{"entry":[{},"<command> = 0x12"]},{"entry":[{},"<body> = <magic string>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<magic string>","\u20030x37249266L - arbitrary...."]},{"entry":[{},{},"32 bit, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Responses"]},{"entry":[{},"\u20030x06 - General error response (bad magic number)"]},{"entry":[{},"\u20030x13 - STORE settings response"]},{"entry":["(0x13)","STORE settings response"]},{"entry":[{},"<command> = 0x13"]},{"entry":[{},"<body> = <empty>"]},{"entry":["(0x14)","Set Unit ID Request"]},{"entry":[{},"Sets new Unit ID in gateway. Further transactions will use new ID."]},{"entry":[{},"<command> = 0x14"]},{"entry":[{},"<body> = <magic number> <desired ID>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<magic string> ","0x37249266L - arbitrary...."]},{"entry":[{},{},"32 bit, high byte first"]},{"entry":[{},"<desired id>","Desired Unit ID"]},{"entry":[{},{},"16 bit, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Responses"]},{"entry":[{},"\u20030x06 - Bad parameter response"]},{"entry":[{},"\u20030x15 - Set Unit ID Response"]},{"entry":["(0x15)","Set Channel Response"]},{"entry":[{},"<response> = 0x15"]},{"entry":[{},"<body> = <empty>"]},{"entry":["(0x16)","Get Unit ID Request"]},{"entry":[{},"<command> = 0x16"]},{"entry":[{},"<body> = <empty>"]},{"entry":[{},"Responses"]},{"entry":[{},"\u20030x0d - Get Channel Response"]},{"entry":["(0x17)","Get Unit ID Response"]},{"entry":[{},"<response> = 0x17"]},{"entry":[{},"<body> = <current channel>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<current ID>","Unit ID"]},{"entry":[{},{},"16 bit, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["B.","Packet Level"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"(MMU to Gateway):"},{"entry":"<0x55> <0x55> <length> <Gateway ID> <command> <body> "},{"entry":"<checksum>"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<0x55> ","literal header bytes"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<length> ","length - count of bytes starting with "]},{"entry":[{},{},"gateway ID"]},{"entry":[{},{},"through checksum. Total length minus 4"]},{"entry":[{},{},"16 bits, high byte first"]},{"entry":[{},"<Gateway ID>","\u2003Gateway address - test = 0x1235"]},{"entry":[{},{},"16 bits, high byte first"]},{"entry":[{},"<command> ","Command to execute"]},{"entry":[{},{},"16 bits, high byte first"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"(Gateway to MMU):"},{"entry":"<0xAA> <0xAA> <length> <Gateway ID> <command> <body> "},{"entry":"<checksum>"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<0xAA> ","literal header bytes"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"133pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<length> ","length - count of bytes starting with gateway ID"]},{"entry":[{},{},"through checksum. Total length minus 4"]},{"entry":[{},{},"16 bits, high byte first"]},{"entry":[{},"<Gateway ID>","\u2003Gateway address - test =0x1235"]},{"entry":[{},{},"16 bits, high byte first"]},{"entry":[{},"<command> ","Command response"]},{"entry":[{},{},"16 bits, high byte first"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"In the foregoing specification, the disclosure has been described with reference to specific exemplary embodiments thereof. It will be evident that various modifications may be made thereto without departing from the broader spirit and scope as set forth in the following claims. The specification and drawings are, accordingly, to be regarded in an illustrative sense rather than a restrictive sense."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments are illustrated by way of example and not limitation in the figures of the accompanying drawings in which like references indicate similar elements.",{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 6","FIG. 1"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
