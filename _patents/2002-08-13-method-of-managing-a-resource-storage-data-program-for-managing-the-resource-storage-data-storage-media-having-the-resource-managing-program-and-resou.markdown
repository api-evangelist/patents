---
title: Method of managing a resource storage data, program for managing the resource storage data, storage media having the resource managing program, and resource manager for managing the resource storage data
abstract: A resources managing program is provided on a computer network for converting a resources allocation request issued from a user into a setup request adapting to the type of storage systems that are resources on the network. Computer network interface type information is added to the address of each resources unit of the storage systems and stored as a part of management object information that a resources managing program holds for management. The request received is converted into a setup request adapting to the type of the interface.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07103665&OS=07103665&RS=07103665
owner: Hitachi, Ltd.
number: 07103665
owner_city: Tokyo
owner_country: JP
publication_date: 20020813
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["1. Technical Field of the Invention","The present invention relates to managing storage resources on a computer network.","2. Description of the Related Art","For managing storage resources on a computer network, conventionally used addresses locating the storage resources on the network and host computers that use the storage resources have a specific format depending on the type of an interface embodying the network for connecting the host computers and the storage resources. For example, if the interface of the computer network is fiber channels, the address of a host computer is identified by a World Wide Name (WWN) that is unique to the port of the host computer. If the interface is a network running Internet Protocol (IP), the address of a host computer is identified by a Media Access Control (MAC) address that is unique to the network card of the host computer. As an example of prior art of managing such resources using the WWN and MAC addressing, operation of setting a host computer having access rights to a logical volume provided by an on-line storage system will be illustrated below. For example, when a resources manager is allocating a logical volume provided by the storage system to a host computer in connection environment using fiber channels, it sets a port of the storage system for the entry of access requests for the logical volume, gets the WWN of the port of the host computer and the WWN of the above port of the storage system, and registers the mapping between the two WWNs on a switch on the computer network, thus completing the above setting.","Japanese Patent Laid-open No. 2001-249769 describes an on-line storage system whose logical volumes can be mapped to the address of a host computer. The technique described in this publication makes it possible to control access rights to the logical volumes as such by using the WWN of a host computer.","In the foregoing previous techniques for on-line resources management, storage systems and host computers are assigned addresses in a specific format depending on the type of a computer network interface connecting the storage systems and host computers. Therefore, it is necessary to use different address schemes for different types of interfaces. As described in the example of setting a host computer having access rights to a logical volume, some previous technique makes the control of the storage resources themselves possible, whereas some previous technique enables only the control of the entry to the storage resources for access thereto, according to the type of storage systems as the storage resources. Consequently, if different types of storage systems as on-line resources exist on a computer network, users need to take notice of different scopes of management for each type of storage systems to manage the resources of the storage systems. This may complicate the management of the resources particularly when many types of storage systems exist on the network. techniques, the challenges to overcome by the present invention are enabling users to manage on-line resources of storage systems on a computer network, independent of the type of the interface embodying the network and the type of the storage systems even when different types of storage systems exist on the network.","The present invention is a technique for managing storage resources that has overcome the foregoing challenges and problems.","The present invention essentially provides a resources managing program on a computer network having a plurality of storage systems of different types so that the program converts a resources allocation request received across the network into a setup request adapting to the type of the network or the storage systems. Specifically, in one aspect, the invention provides (1) a method for managing resources of storage systems on a network including the step of converting a resources allocation request received across the network into a setup request adapting to the type of the network or the storage systems under the control of a resources managing program, thereby providing compatibility of different modes of addressing the resources according to the type of the network and\/or different modes of accessing the resources according to the type of the storage systems. (2) In the foregoing method of (1), if the resources allocation request designates an asset on an Internet Protocol (IP) network, the above step converts it into a setup request including the Media access Control (MAC) address of the asset as an Application Programming Interface (API) parameter; or if the resources allocation request designates an asset on a fiber channel, the above step converts it into a setup request including the World Wide Name (WWN) of the asset as an API parameter. (3) In the foregoing method of (1), the above step includes the step of, under the control of the resources managing program, registering the following entries into a table: for each unit of the resources of the storage systems, its identifier on the networks its address which adapts to the type of the network, and a group identifier which is assigned by grouping the resources into allocation units. The above step further includes the step of allocating resources units making up a group in a lump, according to the group identifier. (4) In the foregoing method of (1), the above step further includes the steps of registering identification and related information for host computers on the network, mapping a host computer or a group of host computers with a group identifier to a resources unit or a group of resources units of the storage systems, and setting the host computer or the group of host computers permitted to access the resources unit or the group of resources units of the storage systems. (5) In the foregoing method of (1), the above step further includes the step of setting information that each host computer has access rights to which resources units of the storage systems on the network equipment or the storage systems. This information is used by the resources managing program as management information. (6) In the foregoing method of (1), the above step further includes the steps of comparing information that each host computer has access rights to which resources units of the storage systems, set on the storage systems or the network equipment, with the management information held by the resources managing program, and changing discrepancy, if exists, to the setting in accordance with the management information held by the resources managing program. (7) In the foregoing method of (1), the above step further includes the steps of, when a program other than the resources managing program changes the setting on the storage systems or the network equipment, receiving notification of setting change from the storage systems or the network equipment, comparing the setting change with the management information held by the resources managing program, and changing discrepancy, if exists, to the setting in accordance with the management information held by the resources managing program. (8) In the foregoing method of (1), the above step further includes the steps of, under the control of the resources managing program, adding network interface type information to the address of each host computer to which the resources of the storage systems are allocable and storing the network interface type information as a part of management object information that the resources managing program holds for management, wherein the above step converts the received resources allocation request into a setup request adapting to the type of the interface. In another aspect, the invention provides (9) a computer program for managing resources of storage systems on a network, the computer program comprising computer readable program code means causing a computer to perform the step of converting a resources allocation request received across the network into a setup request for network equipment that exerts control of the network or the storage systems so that the setup request adapts to the type of the network or the storage systems, thereby providing compatibility of different modes of addressing the resources according to the type of the network and\/or different modes of accessing the resources according to the type of the storage systems. (10) In the foregoing computer program of (9), if the resources allocation request designates an asset on an IP network, the above step converts it into a setup request including the MAC address of the asset as an API parameter; or if the resources allocation request designates an asset on a fiber channel, the above step converts it into a setup request including the WWN of the asset as an API parameter. (11) In the foregoing computer program of (9), the above step includes the step of registering the following entries into a table: for each unit of the resources of the storage systems, its identifier on the network, its address which adapts to the type of the network, and a group identifier which is assigned by grouping the resources into allocation units. The above step further includes the step of allocating resources units making up a group in a lump, according to the group identifier. (12) In the foregoing computer program of (9), the above step further includes the steps of registering identification and related information for host computers on the network, mapping a host computer or a group of host computers with a group identifier to a resources unit or a group of resources units of the storage systems, and setting the host computer or the group of host computers permitted to access the resources unit or the group of resources units of the storage systems. (13) In the foregoing computer program of (9), the above step further includes the step of setting information that each host computer has access rights to which resources units of the storage systems on the network equipment or the storage systems. This information is used by the computer program as management information. (14) In the foregoing computer program of (9), the above step further includes the steps of comparing information that each host computer has access rights to which resources units of the storage systems, set on the storage systems or the network equipment, with the management information held by the computer program, and changing discrepancy, if exists, to the setting in accordance with the management information held by the computer program. (15) In the foregoing computer program of (9), the above step further includes the steps of, when another program changes the setting on the storage systems or the network equipment, receiving notification of setting change from the storage systems or the network equipment, comparing the setting change with the management information held by the computer program, and changing discrepancy, if exists, to the setting in accordance with the management information held by the computer program. (16) The foregoing computer program of (9) is stored into a dedicated hardware chip or a nonvolatile memory as firmware included in the storage systems or the network equipment. In a further aspect, the invention provides (17) a computer readable medium having a computer program for managing resources of storage systems on a network stored thereon. The computer program causes a computer to perform the step of converting a resources allocation request received across the network into a setup request for network equipment that exerts control of the network or the storage systems so that the setup request adapts to the type of the network or the storage systems, thereby providing compatibility of different modes of addressing the resources according to the type of the network and\/or different modes of accessing the resources according to the type of the storage systems. In a still further aspect, the invention provides (18) an apparatus for managing storage resources on a network, comprising means for receiving a resources allocation request across the network, means for converting the received resources allocation request into a setup request for network equipment that exerts control of the network or the storage entity under the control of a resources managing program so that the setup request adapts to the type of the network or the storage entity of the storage resources, thereby providing compatibility of different modes of addressing the resources according to the type of the network and\/or different modes of accessing the resources according to the type of the storage entity, and means for sending the setup request to the network equipment or the storage entity across the network.","According to the foregoing, even if different type of storage systems exist on a computer system, the resources of the storage systems can be allocated and managed by a common host-to-LV mapping scheme.","The present invention now is described fully hereinafter with reference to the accompanying drawings, in which preferred embodiments of the invention are shown.",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1"},"In , a block identified by reference number  is a resources manager as a resources managing program for managing the resources of on-line storage; a block identified by reference number  is an administrative terminal from which directives are sent to the resource manager ; a block identified by reference number  is a storage system in which storage resources to be managed exist; a block identified by reference number  is a switch; and a line identified by reference number  is an interface for physically connecting the above entities. Through the interface, the resources manager  manages the storage system  and the switch , for example, remotely updating the setup information for the storage system  and the switch . The resource manager  comprises a setup request handler  which executes resources management of the storage system  in response to a request from the higher-level device, a host grouping table  in which respective information for host computers that use the storage system is stored, a logical volume (LV) grouping table  in which respective information for logical volumes (hereinafter referred to as LVs) as the resources provided by the storage system  is stored, and a host-to-LV mapping table  in which mapping between the host computers and the LVs accessible to the host computers is stored. The administrative terminal  presents a Graphical User Interface (GUI) window to the user and is provided with a resources management utility  for accepting a setup request and displaying results of the requested setup execution on the GUI window. The storage system  is furnished with an LV allocation table  that is a list of the LVs provided by it and the access-permitted host computers associated with the LVs and an LV allocation table manager  which updates the contents of the LV allocation table in response to a request from the higher-level device. The switch  is furnished with a port mapping table  which is referenced in determining what host computer and what storage system belong to a virtual computer network when a computer network comprising a plurality host computers and a plurality of storage systems is divided into a plurality of virtually independent computer networks, according to the information on the assignments of the ports to the host computers and the storage systems. In addition, the switch  includes a port mapping table manager which updates the contents of the port mapping table  in response to a request from the higher-level device.","In the thus configured system, the administrative terminal user performs setup operation via the GUI window provided by the resources management utility . This enables the user to map a host computer to an LV provided by the storage system in a manner that the operation of the LV allocation table manager  of the storage  and the port mapping table manager of the switch  is transparent to the user and easily if there are different types of storage systems.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 2 through 7"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 2"},"In , blocks identified by reference numbers , , and respectively are host computers; blocks identified by reference numbers and respectively are storage systems; entities identified by reference numbers and respectively are LVs as storage resources provided by the storage system ; and entities identified by reference numbers and respectively are LVs as storage resources provided by the storage system . The resources manager  is the same as shown in . Using a case where two host computers and are set having access rights to three LVs , , and and one host computer is set having access rights to one LV as an example, how to set mapping between the host computers and the LVs will be explained hereinafter. In the present configuration, to define mapping between a plurality of the above host computers and a plurality of the LVs, first group the host computers and the LVs.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 3","FIG. 2","FIG. 3"],"b":["3","3","3","3","3","3","3","3","3","3"],"i":["a","b","c","d ","a ","b ","b ","d "]},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 4","FIG. 3"],"b":["3","3"],"i":["b ","b "]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 5","FIG. 5"],"b":["3","3"],"i":["b ","b "]},{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 6","FIG. 2","FIG. 6"],"b":["4","4","4","4","4","4","4","4","4","4","4","4","3","4"],"i":["a","b","c","d","e","f ","a ","b ","d ","b ","f "]},{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 7","FIG. 2"],"b":"5"},"The host-to-LV mapping table  shown in  maps a host group number (host group #) () from the host grouping table  to an LV group number (LV group #) () from the LV grouping table . The mapping of a host group to an LV group in the host-to-LV mapping table  means that the host computers making up the host group are permitted to access the LVs making up the LV group.","How to operate the resources management utility  on the administrative terminal  shown in  will be explained below.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 8","FIG. 1","FIG. 8"],"b":["7","7","7","71","72","73","74","75","7","71","72","73","74","75","75"]},"Using  and , a procedure will be described below in which the setup request handler  of the resource manager  shown in  receives the information for the host computers making up a host group and the information for the LVs making up an LV group and completes access rights related settings on the storage system  and the switch .","(1) Step ","To fulfill a user request to map a host group to an LV group, the resources management utility  sends the resources manager  a setup request to map the host group to the LV group with the information for the host computers making up the host group and the information for the LVs making up the LV group. The setup request handler  of the resources manager  receives the setup request to map the host group to the LV group.","(2) Step ","The setup request handler  determines whether the information for the host computers making up the host group, included in the received request, is new host group information not registered in the host grouping table .","(3) Step ","If the information for the host computers making up the host group is new host group information, the setup request handler  adds that information to the host grouping table .","(4) Step ","The setup request handler  determines whether the information for the LVs making up the LV group, included in the received request, is new LV group information not registered in the LV grouping table .","(5) Step ","If the information for the LVs making up the LV group is new LV group information, the setup request handler  adds that information to the LV grouping table .","(6) Step ","The setup request handler  adds the host group and the LV group to the host-to-LV mapping table.","(7) Step ","The setup request handler  determines whether one of the storage systems having at least one of the LVs making up the LV group has an LV allocation facility.","(8) Step ","If one of the above storage systems has the LV allocation facility, that is, the storage system is furnished with the LV allocation table and the LV allocation table manager , the setup request handler  sends a request to set the LVs to the LV allocation table manager  of the storage system.","(9) Step ","The setup request handler  derives the information to identify the ports of the host computers from the addresses of the host computers making up the host group and the information to identify the ports of the storage systems that provide the LVs from the addresses of the LVs making up the LV group.","The setup request handler  sends a request to set the host computer ports and storage system ports to the port mapping table manager of the switch . Then, the port mapping table  is updated so that I\/O requests sent from the host computers through their ports are permitted to access the LVs through the ports of the storage systems that provide the LVs.","According to the above-described embodiment, on-line storage resources, that is, a plurality of types of storage systems existing on a computer network can be allocated and managed by a common host-to-LV mapping scheme using grouping, which makes the type of the interface embodying the computer network and the type of the storage systems transparent to users that requests host-to-LV mapping.","According to the present invention, even if different type of storage systems exist on a computer system, the resources of the storage systems can be allocated and managed by the common host-to-LV mapping scheme.","While the preferred embodiment of the present invention was described hereinbefore, the invention may be embodied in other specific forms without departing from its spirit or essential characteristics. Therefore, the described embodiment is to be considered in all respects only as illustrated and not restrictive. The scope of the invention is indicated by the appended claims. All modifications and changes which come within the meaning and range of equivalency of the claims are to be embraced within the scope of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
