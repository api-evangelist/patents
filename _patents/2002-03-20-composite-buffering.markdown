---
title: Composite buffering
abstract: A system is provided for managing and accessing media content received via a plurality of display channels and stored in a plurality of buffers in a storage device. The system associates the plurality of buffers with a composite buffer file.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06971121&OS=06971121&RS=06971121
owner: Scientific-Atlanta, Inc.
number: 06971121
owner_city: Lawrenceville
owner_country: US
publication_date: 20020320
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","TECHNICAL FIELD","BACKGROUND OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["This application is a continuation-in-part of copending U.S. utility applications entitled, \u201cCONTROLLING SUBSTANTIALLY CONSTANT BUFFER CAPACITY FOR PERSONAL VIDEO RECORDING WITH CONSISTENT USER INTERFACE OF AVAILABLE DISK SPACE,\u201d having Ser. No. 10\/010,270, filed Dec. 6, 2001, \u201cDIVIDING AND MANAGING TIME-SHIFT BUFFERING INTO PROGRAM SPECIFIC SEGMENTS BASED ON DEFINED DURATIONS,\u201d having Ser. No. 10\/008,439, filed Dec. 6, 2001, and \u201cCONVERTING TIME-SHIFT BUFFERING FOR PERSONAL VIDEO RECORDING INTO PERMANENT RECORDINGS,\u201d having Ser. No. 10\/008,624, filed Dec. 6, 2001, all of which are entirely incorporated herein by reference.","The present invention is generally related to television systems, and, more particularly, is related to buffering mechanisms for personal video recording.","With recent advances in digital transmission technology, subscriber television systems are now capable of providing much more than the traditional analog broadcast video. In implementing enhanced programming, the home communication terminal device (\u201cHCT\u201d), otherwise known as the set-top box, has become an important computing device for accessing media content services (and media content, such as movies, TV shows, web content, etc., within those services) and navigating a user through a maze of available services. In addition to supporting traditional analog broadcast video functionality, digital HCTs (or \u201cDHCTs\u201d) now also support an increasing number of two-way digital services such as video-on-demand and personal video recording.","Typically, a DHCT is connected to a cable or satellite, or generally, a subscriber television system, and includes hardware and software necessary to provide the functionality of the digital television system at the user's site. Some of the software executed by a DHCT may be downloaded and\/or updated via the subscriber television system. Each DHCT also typically includes a processor, communication components, and memory, and is connected to a television or other display device, such as a personal computer. While many conventional DHCTs are stand-alone devices that are externally connected to a television, a DHCT and\/or its functionality may be integrated into a television or personal computer or even an audio device such as a programmable radio, as will be appreciated by those of ordinary skill in the art.","DHCTs are typically capable of providing users with a very large number and variety of media content choices. As the number of available media content choices increases, viewing conflicts arise whereby the user must choose between watching two or more media content instances (e.g., discrete, individual instances of media content such as, for a non-limiting example, a particular television show episode or \u201cprogram\u201d), all of which the user would like to view. Further, because of the large number of viewing choices, the user may miss viewing opportunities. Buffering of media content instances in memory, or more recently, in storage devices (e.g., hard disk drives, CD ROM, etc.) coupled to the DHCT, has provided some relief from the conflict in viewing choices while providing personal video recording functionality. However, much of these buffered media content instances are irretrievably lost as a user scans or \u201csurfs\u201d through multiple display channels. Therefore, there exists needs to improve access to surfed media content and to more efficiently manage multiple buffers.","Thus, heretofore unaddressed needs exists in the industry to address the aforementioned deficiencies and inadequacies.","The preferred embodiments of the invention now will be described more fully hereinafter with reference to the accompanying drawings, in which preferred embodiments of the invention are shown. In particular, preferred embodiments of composite buffering will be described. Composite buffering preferably includes a mechanism that can be used to retain and access buffered media content from one or more buffer spaces in a storage device. Composite buffering preferably provides the user with the ability to navigate through a plurality of display channels without losing access to buffered media content from those display channels. In the description that follows,  will provide an example system that could use and benefit from composite buffering. Two implementations for buffering and the various ways that composite buffering can interact with these implementations will be described in association with . Finally, the mechanisms by which the user can view buffered and surfed media content will be described in association with . Composite buffering may, however, be embodied in many different forms and should not be construed as limited to the embodiments set forth herein; rather, these embodiments are provided so that this disclosure will be thorough and complete, and will fully convey the scope of the invention to those having ordinary skill in the art. Furthermore, all \u201cexamples\u201d given herein are intended to be non-limiting, and are provided as an exemplary list among many other examples contemplated but not shown.","One embodiment of the invention is generally implemented as part of a subscriber television system (STS), which includes digital broadband delivery systems (DBDS) and cable television systems (CTS). As a non-limiting example, a subscriber television system (STS) and its operation will be described initially, with the understanding that other conventional data delivery systems are within the scope of the preferred embodiments of the invention.  shows a block diagram view of an STS , which is generally a high quality, reliable and integrated network system that is typically capable of delivering video, audio, voice and data services to digital home communication terminals (DHCTs) . Although  depicts a high level view of an STS , it should be appreciated that a plurality of subscriber television systems can tie together a plurality of regional networks into an integrated global network so that DHCT users can receive media content provided from anywhere in the world. Further, it will be appreciated that the STS  shown in  is merely illustrative and should not be construed as implying any limitations upon the scope of the preferred embodiments of the invention. For instance, subscriber television systems also included within the scope of the preferred embodiments of the invention include systems not utilizing physical structured cabling for transmission, such as, but not limited to, satellite systems. Further, transmission media included within the scope of the preferred embodiments of the invention include, but are not limited to, Hybrid Fiber\/Coax (HFC), optical, satellite, radio frequency (RF), frequency modulated (FM), and microwave. Further, data provided from the headend  to the DHCTs  and programming necessary to perform the functions discussed below will be understood to be present in the STS , in accordance with the description below.","The STS  typically delivers broadcast video signals as digitally formatted signals in addition to delivering traditional broadcast analog video signals. Furthermore, the system can typically support one way broadcast services as well as both one-way data services and two-way media content and data services. The two-way operation of the network typically allows for user interactivity with services, such as Pay-Per-View programming, Near Video-On-Demand (NVOD) programming according to any of several known NVOD implementation methods, Video-on-Demand (VOD) programming (according to any of several VOD implementation methods), and interactive applications, such as Internet connections. Of course, some embodiments of the present invention do not support services that are 2-way interactive.","The STS  also provides the interfaces, network control, transport control, session control, and servers to access media content from media content services, and distributes media content to DHCT users. As shown in , a typical STS  comprises a headend , hubs , an HFC access network , nodes , taps , and DHCTs . It should be appreciated that although a single component (e.g., a headend) is illustrated in , the STS  can feature a plurality of any one of the illustrated components, can omit components, or may be configured with alternative embodiments for any one of the individual components or with yet other additional components not enumerated above.","Media content provided by one or more content providers (not shown) is communicated by the content providers to one or more headends . From those headends  the media content is then communicated over a communications network  that includes a plurality of HFC access networks  (only one HFC access network  is illustrated). The HFC access network  typically comprises a plurality of HFC nodes , each of which may serve a local geographical area. The hub  connects to the HFC node  through a fiber portion of the HFC access network . The HFC node  is connected to a tap , which is connected to a digital home communication terminal (DHCT) . Coaxial cables are typically used to couple nodes  and taps  because the electrical signals can be easily repeated with RF amplifiers. As the high-level operations of many of the functions of an STS  are well known to those of ordinary skill in the art, further high level description of the overall STS  of  will not be contained herein.",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 1B","FIG. 1A","FIG. 1A"],"b":["10","60","64","68","72","76","16","17","11","12"]},"As depicted in , the STS  () can simultaneously support a number of transmission signal types, transmission rates, and modulation formats. The ability to carry analog and digital signals over a large bandwidth are characteristics of an HFC network typically employed in an STS, as in the STS  of . As will be appreciated by those of ordinary skill in the art, analog and digital signals in HFC networks can be multiplexed using Frequency Division Multiplexing (FDM), which enables many different types of signals to be transmitted over the STS  to the DHCT . Typically, an STS  using HFC supports downstream (i.e., in the direction from the headend  to the DHCT ) frequencies from 50 mega-hertz (MHz) to 870 MHz, whereas upstream frequencies (i.e., in the direction from the DHCT  to higher levels of the system) are in the 5 MHz to 42 MHz band. Generally, the RF bandwidth spacing for analog and digital services is 6 MHz. Furthermore, for a typical 870 MHz system in the United States (U.S.), a possible downstream RF spectrum subdivision plan uses 6 MHz frequency subdivisions, or spans, within the 50 MHz to 550 MHz band for analog video transmission signals and within the 550 MHz to 870 MHz range for digital transmission signals. The ATSs  shown in  are typically broadcast in 6 MHz frequency subdivisions, typically referred to in analog broadcasting as channels, having an analog broadcast signal composed of analog video and analog audio, and include Broadcast TV Systems Committee (BTSC) stereo and Secondary Audio Program (SAP) audio.","Referring again to , the downstream direction transmission signals, having been multiplexed, and in one embodiment using FDM, are often referred to as in-band transmission signals and include Analog Transmission Signals (ATSs)  and Digital Transmission Signals (DTSs) , ,  (also known as Digital Transport Signals). These transmission signals carry video, audio, and\/or data services. For a non-limiting example, these transmission signals may carry television signals, Internet data, and\/or any additional types of data, such as Interactive Program Guide (IPG) data. Additionally, as will be appreciated by those of ordinary skill in the art, additional data can be sent with the analog video image in the Vertical Blanking Interval (VBI) of the video signal and stored in DHCT memory or a DHCT local physical storage device (not shown). It should be appreciated, however, that the amount of data that can be transmitted in the VBI of the analog video signal is typically significantly less than data transmitted in a DTS.","Like the ATSs , the DTSs , ,  each typically occupies 6 MHz of the RF spectrum. However, the DTSs , , and  are digital transmission signals consisting of 64- or 256-Quadrature Amplitude Modulated (QAM) digital signals formatted using Moving Picture Experts Group (MPEG) standards such as MPEG-2 transport streams, allocated in a separate frequency range. The MPEG-2 transport stream enables transmission of a plurality of DTS types over each 6 MHz RF subdivision, as compared to a 6 MHz ATS. The three types of digital transport signals illustrated in  include broadcast digital transmission signals , carousel digital transmission signals , and on-demand transmission signals .","MPEG-2 transport may be used to multiplex video, audio, and data in each of these DTSs. However, because an MPEG-2 transport stream allows for multiplexed video, audio, and data into the same stream, the DTSs do not necessarily have to be allocated in separate 6 MHz RF frequencies, unlike ATSs  in one embodiment. On the other hand, each DTS is capable of carrying multiple broadcast digital media content instances, multiple cycling data carousels containing broadcast data, and data requested on-demand by the subscriber. Data is formatted, such as in Internet Protocol (IP), mapped into MPEG-2 packets, and inserted into the multiplexed MPEG-2 transport stream. Encryption can be applied to the data stream for security so that the data may be received only by authorized DHCTs. The authorized DHCT  is provided with the mechanisms to receive, among other things, additional data or enhanced services. Such mechanisms can include \u201ckeys\u201d that are required to decrypt encrypted data.","Each 6 MHz RF subdivision assigned to a digital transmission signal (DTS) can carry the video and audio streams of the media content instances of multiple television (TV) stations, as well as media content and data that is not necessarily related to those TV media content instances, as compared to one TV channel broadcast over one ATS  that consumes the entire 6 MHz. The digital data is inserted into MPEG transport streams carried through each 6 MHz frequency subdivision assigned for digital transmission, and then demultiplexed at the subscriber DHCT so that multiple sets of data can be produced within each tuned 6 MHz frequency span, or subdivision.","Although broadcast in nature, the carousel DTSs  and on-demand DTSs  offer different functionality. Continuing with , the broadcast DTSs  and carousel DTSs  typically function as continuous feed for indefinite time, whereas the on-demand DTSs  are continuous feeds sessions for a limited time. In one embodiment, all DTS types are capable of being transmitted at high data rates. The broadcast DTSs  carry typical data comprising multiple digitally-MPEG-2 compressed and formatted TV source signals and other continuously fed data information. The carousel DTSs  carry broadcast media content or data that is systematically broadcast in a cycling fashion but updated and revised as needed. Thus, the carousel DTSs  serve to carry high volume data such as media content and data and possibly, other data at high data rates. The carousel DTSs  preferably carry data formatted in directories and files by a Broadcast File System (BFS) (not shown), which is used for producing and transmitting data streams throughout the STS , and which provides an efficient means for the delivery of application executables and application media content and data to the DHCT, as will be described below. Media content and data received by the DHCT  in such manner can then be saved in the DHCT memory and\/or transferred to the DHCT storage device for later use. The on-demand DTSs , on the other hand, can carry particular information such as compressed video and audio pertaining to subscriber requested media content instance preview and\/or media content instance descriptions, as well as other specialized data information.","Preferably, the User-to-Network Download Protocol of the MPEG-2 standard's DSM-CC specification (Digital Storage Media\u2014Command and Control) preferably provides the data carousel protocol used for broadcasting data from a server located at the headend , or located elsewhere. It also provides the interactive download protocol for reliable downloading of data from a server (possibly the same server) to an individual DHCT through the on-demand DTSs. Each carousel and on-demand DTS is preferably defined by a DSM-CC session. Therefore, some of the basic functionality reflected in the DHCT  when the DHCT does not have a local physical storage device is somewhat similar to a networked computer (i.e., a computer without a persistent storage device), in addition to traditional set top box functionality, as is well known to those of ordinary skill in the art. A DHCT  with a storage device reduces data access latency when the data is stored in the local physical storage device ahead of time.","Also shown in  are Out-Of-Band (OOB) signals that provide continuously available two-way signaling to the subscribers' DHCT  regardless of which in-band signals are tuned to by the individual DHCT in-band tuners. The OOB signals consist of a Forward Data Signal (FDS)  and a Reverse Data Signal (RDS) . The OOB signals can comply to any one of a number of well known transport protocols but preferably comply to either a Digital Audio Visual Council (DAVIC) 1.1 Transport Protocol with an FDS of 1.544 mega-bits per second (Mbps) or more using quadrature phase shift keying (QPSK) modulation and an RDS of 1.544 Mbps or more using QPSK modulation, or to a Data Over Cable Service Interface Specification (DOCSIS) Transport Protocol with an FDS of 27 Mbps using 64-QAM modulation and an RDS of 1.544 Mbps or more using QPSK modulation or 16-QAM modulation. The OOB signals provide the two-way operation of the network, which allows for subscriber interactivity with the applications and services provided by the network. Furthermore, the OOB signals are not limited to a 6 MHz spectrum, but generally to a smaller spectrum, such as 1.5 or 3 MHz.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 2","FIG. 1A","FIG. 2","FIG. 2"],"b":["11","10","12","12","11","11","11","11","18"]},"In a typical system, the programming, services and other information from content providers can be distributed according to a variety of mechanisms. The input signals may be transmitted from sources to the headend  via a variety of transmission paths, including satellites (not shown), and terrestrial broadcast transmitters and antennas (not shown). The headend  can also receive media content from a direct feed source  via a direct line . Other input sources from content providers include a video camera , analog input source , or an application server . The application server  may include more than one line of communication. One or more components such as analog input source , input source , video camera , and application server  can be located external to the headend , as shown, or internal to the headend  as would be appreciated by one having ordinary skill in the art. The signals provided by the media content or programming input sources can include a single media content instance or a multiplex that includes several media content instances.","The headend  generally includes one or more receivers  that are each associated with a media content source. MPEG encoders, such as encoder , are included for digitally encoding local programming or a real-time feed from video camera , or the like. The encoder  outputs the respective compressed video and audio streams corresponding to the analog audio\/video signal received at its input. For non-limiting example, encoder  can output formatted MPEG-2 or MPEG-1 packetized elementary (PES) streams or transport streams compliant to the syntax and semantics of the ISO MPEG-2 standard, respectively. The PES or transport streams may be multiplexed with input signals from switch , receiver  and control system . The multiplexing logic  processes the input signals and multiplexes at least a portion of the input signals into transport stream . Analog input source  can provide an analog audio\/video broadcast signal that can be input into modulator . From modulator , a modulated analog output signal can be combined at combiner  along with other modulated signals for transmission into transmission medium . Alternatively, analog audio\/video broadcast signals from analog input source  can be input into modulator . Alternatively, analog audio\/video broadcast signal can be input directly from modulator  to transmission medium . The analog broadcast media content instances are transmitted via respective RF channels, each assigned for transmission of an analog audio\/video signal such as National Television Standards Committee (NTSC) video, as described in association with .","The switch, such as asynchronous transfer mode (ATM) switch , provides an interface to an application server . There can be multiple application servers  providing a variety of services such as a Pay-Per-View service, including video on demand (VOD), a data service, an Internet service, a network system, or a telephone system. Service and content providers may download media content to an application server located within the STS . The application server  may be located within the headend  or elsewhere within the STS , such as in a hub . The various inputs into the headend  are then combined with the other information from the control system , which is specific to the STS , such as local programming and control information, which can include, among other things, conditional access information. The headend  contains one or more modulators  to convert the received transport streams  into modulated output signals suitable for transmission over the transmission medium  through the network . Each modulator  may be a multimodulator including a plurality of modulators, such as, but not limited to, QAM modulators, that radio frequency modulate at least a portion of the transport streams  to become output transport streams . The output signals  from the various modulators  or multimodulators are combined, using equipment such as a combiner , for input into the transmission medium , which is sent via the in-band delivery path  to subscriber locations (not shown). In-band delivery path  can include DTS , , , and ATS , as described with .","In one embodiment, the server  also provides various types of data  to the headend . The data, in part, is received by the media access control functions  that output MPEG transport packets containing data  instead of digital audio\/video MPEG streams. The control system  enables the television system operator to control and monitor the functions and performance of the STS . The control system  interfaces with various components, via communication link , in order to monitor and\/or control a variety of functions, including the frequency spectrum lineup of the programming for the STS , billing for each subscriber, and conditional access for the media content distributed to subscribers. Information, such as conditional access information, is communicated from the control system  to the multiplexing logic  where it is multiplexed into a transport stream .","Among other things, the control system  provides input to the modulator  for setting the operating parameters, such as selecting certain media content instances or portions of transport streams for inclusion in one or more output transport stream , system specific MPEG table packet organization, and\/or conditional access information. Control information and other data can be communicated to hubs  () and DHCTs  () via an in-band delivery path  or via an out-of-band delivery path .","The out-of-band data is transmitted via the out-of-band FDS  of the transmission medium  by means such as, but not limited to, a QPSK modem array . Two-way communication utilizes the RDS  of the out-of-band delivery path . Hubs  () and DHCTs  () transmit out-of-band data through the transmission medium , and the out-of-band data is received in headend  via the out-of-band RDS . The out-of-band data is routed through router  to an application server  or to control system . The out-of-band control information includes such information as, among many others, a pay-per-view purchase instruction and a pause viewing command from the subscriber location to a video-on-demand type application server located internally or external to the headend , such as application server , as well as any other data sent from the DHCT  or hubs , all of which will preferably be properly timed. The control system  also monitors, controls, and coordinates all communications in the subscriber television system, including video, audio, and data. The control system  can be located at the headend  or remotely. The transmission medium  distributes signals from the headend  to the other elements in the subscriber television system, such as a hub , a node , and subscriber locations (). The transmission medium  can incorporate one or more of a variety of media, such as optical fiber, coaxial cable, and HFC, satellite, direct broadcast, or other transmission media.",{"@attributes":{"id":"p-0047","num":"0046"},"figref":["FIG. 3A","FIG. 3A"],"b":["16","11","341","16","16","363","11","16","16","342","11","18","11","18"]},"The DHCT  further preferably includes one or more processors, such as processor , for controlling operations of the DHCT , an output system  for driving the television display , and at least one tuner system  for tuning into a particular television channel or frequency to display media content and for sending and receiving various types of data or media content to and from the headend . The DHCT  may include, in other embodiments, multiple tuners for receiving downloaded (or transmitted) media content. The tuner system  can select from a plurality of transmission signals () provided by the subscriber television system. The tuner system  enables the DHCT  to tune to downstream media content and data transmissions, thereby allowing a user to receive digital and\/or analog media content delivered in the downstream transmission via the subscriber television system. The tuner system  includes, in one implementation, an out-of-band tuner for bi-directional QPSK data communication and one or more QAM tuners (in band) for receiving television signals. Additionally, a receiver  receives externally generated information, such as user inputs or commands from an input device, such as a remote control device , or other devices.","According to another embodiment of the invention, a telephone modem (not shown) in the DHCT  can be utilized for upstream data transmission and a headend , hub  () or other components located upstream in the STS  () can receive data from a telephone network corresponding with the telephone modem and can route the upstream data to a destination internal or external to the STS , such as an application data server in the headend  or content provider.","The DHCT  includes a signal processing system , which comprises a demodulating system  and a transport demultiplexing and parsing system  (herein demultiplexing system) to process broadcast media content and\/or data. One or more of the systems of the signal processing system  can be implemented with software, a combination of software and hardware, or preferably in hardware. The demodulating system  comprises functionality for RF signal demodulation, either an analog transmission signal or a digital transmission signal. For instance, demodulating system  can demodulate a digital transmission signal in a carrier frequency that was modulated, for a non-limiting example, as a QAM-modulated signal.","When tuned to a carrier frequency corresponding to an analog TV signal transmission, the demultiplexing system  is bypassed and the demodulated analog TV signal that is output by demodulating system  is instead routed to an analog video decoder . The analog video decoder  converts the analog video signal (i.e., the video portion of a media content instance that comprises a video portion and an audio portion) received at its input into a respective non-compressed digital representation comprising a sequence of digitized pictures and their respective digitized audio. Presented at the input to the analog video decoder  is an analog video signal such as NTSC video comprising of audio and video. In one implementation, the video consists of a sequence of fields spaced apart at approximately one-sixtieth of a second. A pair of consecutive fields constitutes a picture. The odd field contains the odd-numbered lines of the picture and the even field contains the even-numbered lines of the picture. Analog video decoder  outputs the corresponding sequence of digitized pictures and respective digitized audio. Each picture is a two dimensional entity of picture elements and each picture element contains a respective set of values. A picture element value comprises luminance and chrominance information that are representative of brightness and color information at the spatial location of the picture element within the picture.","Digitized pictures and respective audio output by analog video decoder  are presented at the input of compression engine . Digitized pictures and respective audio output by analog video decoder  can also be presented to an input of media engine  via an interface (not shown) dedicated for non-compressed digitized analog video and audio, such as lTU-656 (International Telecommunications Union or ITU), for display on TV . Compression engine  is coupled to memory  and additionally to a local dedicated memory (not shown) that is preferably DRAM, for input and processing of the input digitized pictures and their respective digitized audio. Alternatively, compression engine  can have its own integrated memory (not shown). Compression engine  processes the sequence of digitized pictures and digitized audio and converts them into a video compressed stream and an audio compressed stream, respectively. The compressed audio and video streams are produced in accordance with the syntax and semantics of a designated audio and video coding method, such as specified by the MPEG-2 audio and MPEG-2 video ISO (International Organization for Standardization or ISO) standard, so that they can be interpreted by video decoder  (or video decompression engine) and audio decoder  (or audio decompression engine) for decompression and reconstruction at a future time. Each compressed stream consists of a sequence of data packets containing a header and a payload. Each header contains a unique program identification, or PID, associated with the respective compressed stream.","Compression engine  multiplexes the audio and video compressed streams into a transport stream, such as an MPEG-2 transport stream, for output. Furthermore, compression engine  can compress audio and video corresponding to more than one media content instance in parallel (e.g., from two tuned analog TV signals when the DHCT  possesses multiple tuners) and to multiplex the respective audio and video compressed streams into a single transport stream. The output of compressed streams and\/or transport streams produced by compression engine  is input to signal processing system . Parsing capabilities  within the signal processing system  allow for interpretation of sequence and picture headers, for instance, annotating their locations within their respective compressed stream for future retrieval from a storage device . A compressed analog media content instance (e.g., TV program episode or show) corresponding to a tuned analog transmission channel can be output as a transport stream by signal processing  and presented as input for storage in the storage device  via the interface  as will be described below. The packetized compressed streams can also be output by the signal processing system  and presented as input to the media engine  for decompression by video decompression engine  and audio decompression engine  for its display on the TV , as will be described below.","The demultiplexing system  can include MPEG-2 transport demultiplexing. When tuned to carrier frequencies carrying a digital transmission signal, the demultiplexing system  enables the separation of packets of data, corresponding to the compressed streams of information belonging to the desired media content instances, for further processing. Concurrently, the demultiplexing system  precludes packets in the multiplexed transport stream that are irrelevant or not desired, such as packets of data corresponding to compressed streams of media content instances of other media content signal sources (e.g., other TV display channels), from further processing.","The parsing capabilities of the demultiplexing system  includes reading and interpreting the received transport stream without disturbing its content, such as to interpret sequence and picture headers, for instance, to annotate their locations and corresponding time offset within their respective compressed stream for future retrieval from the storage device . Thus, the components of the signal processing system  are capable of QAM demodulation, forward error correction, and demultiplexing MPEG-2 transport streams, and parsing elementary streams and packetized elementary streams. A compressed media content instance corresponding to a tuned carrier frequency carrying a digital transmission signal can be output as a transport stream by the signal processing system  and presented as input for storage in the storage device  via the interface  as will be described below. The packetized compressed streams can be also output by the signal processing system  and presented as input to the media engine  for decompression by the video decompression engine  and the audio decompression engine  as will be described below.","One having ordinary skill in the art will appreciate that the signal processing system  will preferably include other components not shown, including local memory, decryptors, samplers, digitizers (e.g., analog-to-digital converters), and multiplexers. Further, other embodiments will be understood, by those having ordinary skill in the art, to be within the scope of the preferred embodiments of the present invention, including analog signals (e.g., NTSC) that bypass one or more elements of the signal processing system  and are forwarded directly to the output system . Further, outputs presented at corresponding next-stage inputs for the aforementioned signal processing flow may be connected via accessible memory  in which the outputting device stores the output data and the inputting device thereafter inputs the output data written to memory  by the respective outputting device. Outputting and inputting devices include analog video decoder , compression engine , media engine , signal processing system , and components or subcomponents thereof. Further, it will be understood by those having ordinary skill in the art that components of the signal processing system  can be spatially located in different areas of the DHCT . Further, it will be understood by those having ordinary skill in the art that, although the components of the signal processing system  are illustrated as being in communication with an incoming signal from the communications interface , the signal may not necessarily be in the order shown for all signals.","The DHCT  also includes the media engine , which includes digital video decoder  (also known as video decompression engine) and digital audio decoder  (also known as audio decompression engine), and other digital signal processing components not shown but which would be appreciated by those having ordinary skill in the art. For a non-limiting example, the demultiplexing system  is in communication with the tuner system  and the processor  to effect reception of digital compressed video streams, digital compressed audio streams, and\/or data streams corresponding to one or more media content instances to be separated from other media content instances and\/or streams transported in the tuned transmission channel and to be stored in a first part (not shown) of DRAM  of DHCT  assigned to receive packets of one or more media content instances. Other dedicated memory may also be used for media content instance packets.","Furthermore, while conducting this process, the demultiplexing system  demultiplexes and separates desired compressed streams from the received transport stream without disturbing its content. Further, the demultiplexer  parses (i.e., reads and interprets) compressed streams such as to interpret sequence headers and picture headers, and deposits a transport stream carrying compressed streams of a first media content instance into DRAM . The processor  causes the transport stream in DRAM  to be transferred to the storage device  via the interface . Under program control by the processor , the demultiplexing system , in communication with the digital video decoder , the storage device , and the processor , effect notification and\/or transfer of received packets of one or more compressed streams corresponding to one or more media content instances from a first part of DRAM  to a second part (not shown) of DRAM  assigned to the digital video decoder  and the digital audio decoder . Alternatively, the media engine  can have access to a dedicated localized DRAM (not shown). Upon demultiplexing and parsing the transport stream carrying media content instances, and in communication with processor , signal processing system  outputs to DRAM  ancillary data in the form of a table or data structure (not shown) comprising the relative or absolute location of the beginning of certain pictures in the compressed media content instance for convenience in retrieval during future operations.","In another embodiment, according to a plurality of tuners, and a respective number of demodulating systems , demultiplexing systems , and signal processing systems , a respective number of broadcast digital media content instances are received and routed to a hard disk  of the storage device  simultaneously while performing the necessary data annotations for each of the respective compressed media streams for their future retrieval from storage device . Alternatively, a single demodulating system , a single demultiplexing system , and a single signal processing system , each with sufficient processing capabilities can serve to process more than one digital media content instance. One or more of the received broadcast digital media content instances routed to storage device  can be routed simultaneously to media engine  for decoding and display to TV .","In another embodiment according to the aforementioned description, a first tuner of tuning system  receives an analog video signal corresponding to a first media content instance and a second tuner of tuner system  receives a digital compressed stream corresponding to a second media content instance. The first media content instance is processed as an analog signal and the second media content instance is processed as a digital compressed stream as described above. The compressed digital version of the analog video signal and\/or the second media instance can be routed to the storage device  while simultaneously performing the respective data annotations required for future retrieval. Additionally, either or both of the media content instances can be routed simultaneously to media engine  for decoding and display on TV .","In one implementation, the compression engine  can output formatted MPEG-2 or MPEG-1 packetized elementary streams (PES) inside a transport stream, all compliant to the syntax and semantics of the ISO MPEG-2 standard. Alternatively, the compression engine  can output other digital formats that are compliant to other standards. The digital compressed streams output by the compression engine  corresponding to a media content instance are preferably deposited in local, dedicated memory for the compression engine  and routed to the demultiplexing system . The demultiplexing system  parses (i.e., reads and interprets) the transport stream generated by the compression engine  without disturbing its content, such as to interpret picture headers, and deposits the transport stream into DRAM  (or other dedicated DRAM, not shown). The processor  causes transport stream in DRAM  to be transferred to the storage device . While parsing the transport stream, the demultiplexing system  outputs to the memory  ancillary data in the form of a table or data structure (not shown) comprising the relative or absolute location of the beginning of certain pictures in the compressed media content stream for the media content instance for convenience in retrieval during future operations. In this way, random access operations such as fast forward, rewind, and jumping to a location in the compressed media content instance can be attained.","In another embodiment, according to a plurality of tuners, a respective number of analog video decoders , and a respective number of compression engines , the aforementioned compression of analog video and audio is performed and routed to the hard disk  of the storage device  simultaneously on a respective number of analog media content instances. Alternatively, a single compression engine with sufficient processing capabilities can serve to compress more than one analog media content instance.","One or more programmed software applications, herein referred to as applications, are executed by utilizing the computing resources in the DHCT . Note that an application typically includes a client part and a server counterpart that cooperate to provide the complete functionality of the application. The applications may be resident in FLASH memory  or downloaded (or uploaded) into DRAM . Applications stored in FLASH memory  or DRAM  are executed by the processor  (e.g., a central processing unit or digital signal processor) under the auspices of the operating system . Data required as input by an application is stored in DRAM  or FLASH memory  and read by the processor  as need be during the course of application execution. Input data may be data stored in DRAM  by a secondary application or other source, either internal or external to the DHCT , or possibly anticipated by the application and thus created with the application at the time it was generated as a software application, in which case it is stored in FLASH memory . Data generated by an application is stored in DRAM  by the processor  during the course of application execution. DRAM  also includes application memory  that various applications may use for storing and\/or retrieving data.","An application referred to as a navigator  is also resident in FLASH memory  for providing a navigation framework for services provided by the DHCT . The navigator  registers for and in some cases reserves certain user inputs related to navigational keys such as channel increment\/decrement, last channel, favorite channel, etc. The navigator  also provides users with television related menu options that correspond to DHCT functions such as, for a non-limiting example, blocking a channel or a group of channels from being displayed in a channel menu presented on a screen display.","The FLASH memory  also contains a platform library . The platform library  is a collection of utilities useful to applications, such as a timer manager, a compression manager, a configuration manager, a hyper text markup language (HTML) parser, a database manager, a widget toolkit, a string manager, and other utilities (not shown). These utilities are accessed by applications via application programming interfaces (APIs) as necessary so that each application does not have to contain these utilities. Two components of the platform library  that are shown in  are a window manager  and a service application manager (SAM) application .","The window manager  provides a mechanism for implementing the sharing of the screen regions and user input. The window manager  in the DHCT  is responsible for, as directed by one or more applications, implementing the creation, display, and de-allocation of the limited DHCT  screen resources. It allows multiple applications to share the screen by assigning ownership of screen regions, or windows. The window manager  also maintains, among other things, a user input registry  in DRAM  so that when a user enters a key or a command via the remote control device  or another input device such as a keyboard or mouse, the user input registry  is accessed to determine which of various applications running on the DHCT  should receive data corresponding to the input key and in which order. As an application is executed, it registers a request to receive certain user input keys or commands. When the user presses a key corresponding to one of the commands on the remote control device , the command is received by the receiver  and relayed to the processor . The processor  dispatches the event to the operating system  where it is forwarded to the window manager  which ultimately accesses the user input registry  and routes data corresponding to the incoming command to the appropriate application.","The SAM application  is a client component of a client-server pair of components, with the server component (not shown) being located on the headend , preferably in the control system  (). A SAM database  (i.e., structured data such as a database or data structure) in DRAM  includes a data structure of services and a data structure of channels that are created and updated by the headend . Herein, database will refer to a database, structured data or other data structures as is well known to those of ordinary skill in the art. Many services can be defined using the same application component, with different parameters. Non-limiting examples of services include, without limitation and in accordance with one implementation, presenting television instances (available through a WatchTV application ), pay-per-view events (available through a PPV application ), digital music (not shown), media-on-demand (available through an MOD application ), and an interactive program guide (IPG) . In general, the identification of a service includes the identification of an executable application that provides the service along with a set of application-dependent parameters that indicate to the application the service to be provided. As a non-limiting example, a service of presenting a television instance (media content instance) could be executed by the WatchTV application  with a set of parameters specifying the HBO to view HBO or with a separate set of parameters to view CNN. Each association of the application component (tune video) and one parameter component (HBO or CNN) represents a particular service that has a unique service I.D. The SAM application  also interfaces with the resource manager  to control resources of the DHCT .","Applications can also be downloaded into DRAM  at the request of the SAM application , typically in response to a request by the user or in response to a message from the headend . In the non-limiting example DHCT  illustrated in , DRAM  includes a media-on-demand application (MOD) , an e-mail application , PVR application , and a web browser application . It should be clear to one with ordinary skill in the art that these applications are not limiting and merely serve as non-limiting examples for embodiments of the invention. Furthermore, one or more DRAM based applications may be resident, as an alternative embodiment, in FLASH memory . These applications, and others provided by the subscriber television system operator, are top-level software entities on the network for providing services to the user.","In one implementation, applications executing on the DHCT  work with the navigator  by abiding by several guidelines. First, an application utilizes the SAM application  for the provision, activation, and suspension of services. Second, an application shares DHCT  resources with other applications and abides by the resource management policies of the SAM application , the operating system , and the DHCT . Third, an application handles situations where resources are only available with navigator  intervention. Fourth, when an application loses service authorization while providing a service, the application suspends the service via the SAM (the navigator  will reactivate an individual service application when it later becomes authorized). Finally, an application is designed to not have access to certain user input keys reserved by the navigator (i.e., power, channel +\/\u2212, volume +\/\u2212, etc.).","The MOD application  provides the user with lists of available media content titles for each media content instance to choose from and with media content instances requested by the user. The MOD application  provides media content to the user by engaging, typically, in a direct two-way IP (Internet Protocol) connection with VOD content servers (not shown) that would be located, in one embodiment, in the headend .","An executable program or algorithm corresponding to an operating system (OS) component, or to a client platform component, or to an application, or to respective parts thereof, can reside in and execute out of DRAM  and\/or FLASH memory . Likewise, data input into or output from any executable program can reside in DRAM  or FLASH memory . Furthermore, an executable program or algorithm corresponding to an operating system component, or to a client platform component, or to an application, or to respective parts thereof, can reside in FLASH memory , or in a local storage device (such as storage device ) externally connected to or integrated into the DHCT  and be transferred into DRAM  for execution. Likewise, data input for an executable program can reside in FLASH memory  or a storage device and be transferred into DRAM  for use by an executable program or algorithm. In addition, data output by an executable program can be written into DRAM  by an executable program or algorithm and be transferred into FLASH memory  or into a storage device. In other embodiments, the executable code is not transferred, but instead, functionality is effected by other mechanisms.","The DHCT  may also include one or more wireless or wired interfaces, also called communication ports , for receiving and\/or transmitting data to other devices. For instance, the DHCT  may feature USB (Universal Serial Bus), Ethernet (for connection to a computer), IEEE-1394 (for connection to media content devices in an entertainment center), serial, and\/or parallel ports. The user inputs may be provided, for a non-limiting example, by an input device including a computer or transmitter with buttons or keys located either on the exterior of the terminal or by a hand-held remote control device  or keyboard that includes user-actuated buttons, or even aural input (e.g., voice activated).","The DHCT  includes at least one storage device  to provide storage for downloaded media content. Among others, the storage device  can be an optical storage device or a magnetic storage device, and is preferably a hard disk drive. The storage device  comprises storage for media content and\/or data that can be written to for storage and later read from for retrieval for presentation. The storage device  preferably includes at least one hard disk . Throughout this disclosure, references relating to writing to or reading from the storage device , or references regarding recordings from or to the storage device  will be understood to include read or write operations occurring to the actual medium (for non-limiting example, the hard disk ) of the storage device . The storage device  is also comprised of a controller  that receives operating instructions from the device driver  of the operating system  (as described below) and implements those instructions to cause read and\/or write operations to the hard disk . The device driver  communicates with the storage device controller  to format the hard disk , causing the hard disk to be divided radially into sectors  and concentric circles called tracks , as illustrated by the block diagram illustration of the non-limiting example hard disk  in . Note from  that the same number of sectors  per track  are illustrated, but other embodiments with a different number of tracks per side, sectors per track, bytes per sector, and in different zones of tracks, are within the scope of the preferred embodiments of the invention. The sector  is the basic unit of storage on the hard disk . In one implementation, each sector  of a hard disk  can store  bytes of user data. While data is stored in 512-byte sectors on the hard disk , the cluster, for a non-limiting example cluster , is typically the minimum unit of data storage the operating system  uses to store information. Two or more sectors on a single track make up a cluster.","Referring again to , storage device  is preferably internal to DHCT , coupled to a common bus through a communication interface , preferably an integrated drive electronics (IDE) interface or small computer system interface (SCSI), although IEEE-1394 or USB can be used. In other embodiments, the storage device  can be externally connected to (and thus removable from) the DHCT  via a communication port  implemented as IEEE-1394 or USB or as a data interface port such as a SCSI or an IDE interface. In one implementation, under the auspices of the real-time operating system  (as described below) and executed by the processor , and in coordination with the personal video recording (PVR) application , the device driver , and the device controller  (the latter three components described below), downloaded media content (herein understood to also refer to other types of data, in addition to, or instead of, media content instances) are received in the DHCT  via the communications interface , processed as described above, and stored in a temporary cache (not shown) in memory . The temporary cache is implemented and managed to enable media content transfers from the temporary cache to the storage device , or, in concert with the insertion of a newly arriving media content into the temporary cache. In one implementation, the fast access time and high data transfer rate characteristics of the storage device  enables media content to be read from the temporary cache in memory  and written to the storage device  in a sufficiently fast manner. Orchestration of multiple simultaneous data transfer operations is effected so that while media content is being transferred from the cache in memory  to the storage device , new media content is received and stored in the temporary cache of memory . In other implementations, the downloaded media content is received through the communications port  in the DHCT  and then transferred directly to the storage device , thus bypassing the temporary cache.","The operating system , device driver , and controller  communicate under program execution in the processor  and\/or via the interrupt and messaging capabilities of DHCT  and thus cooperate to create a special file in one of the hard disk sectors called a file allocation table (FAT) (not shown). The FAT is where the operating system  stores the information about the hard disk's directory, or media content instance file folder structure, and which clusters are assigned and associated with a file and thus used to store media content instances. The operating system  can determine where a file's data is located by using the directory entry (not shown) for the file and the entries of the FAT . The directory entry gives information about a directory such as its related files and subdirectories and create time, and special permissions. A FAT entry describes the physical locations of data associated with media content downloaded to the hard disk  of the storage device . The FAT also keeps track of which clusters are free, or open, and thus available for use. Updates to the FAT are provided for by the operating system , or the device driver , or a combination of both. Writes to the hard disk are coordinated between the PVR application  (described below), the operating system , the device driver , and the storage device controller .","The PVR application , operating system , and device driver  execute respective programmed instructions in the processor . The processor , storage controller  and demultiplexing system  communicate via interrupt and messaging capabilities of the DHCT . The PVR application  in communication with the operating system , device driver  and the storage device controller  and the demultiplexing system  effect retrieval of compressed video streams, compressed audio streams, and data streams corresponding to one or more media content instances from the storage device . Retrieved streams are deposited in an output cache in the storage device  and transferred to DRAM , and then processed for playback according to mechanisms well known to those having ordinary skill in the art. In some embodiments, the media content instances are retrieved and routed from the hard disk  to the video and audio decoding system  and  simultaneously, and then further processed for eventual presentation on a display device or other device.","The PVR application  provides for media content recording functionality by enabling the temporary writing to, and if requested, more permanent recording (i.e., relatively permanent) to the storage device . Media content can be transmitted (or downloaded) from a remote location, such as, for a non-limiting example, a remote server located in the headend , or from a home communication network, or from other consumer electronic devices (generally referred to herein as media content devices). Downloaded media content that is received at each tuner of tuner system  is temporarily stored, or buffered, on the hard disk  of the storage device . The corresponding space on the hard disk  is called buffer space, or a time shift buffer (TSB) . In a preferred embodiment, each tuner in tuner system  has a respective TSB . Although one TSB  is shown, it will be understood that more TSBs can be used with multiple tuners. Moreover, media content instances sourced from a media content device such as a camera attached to the DHCT  via communication port  can have a respective TSB . Note that buffering is understood to include temporarily maintaining received media content, resulting from, among others, a local attached device or either from reception of a broadcast digital channel or a digital compressed version of a broadcast analog channel and\/or data in the buffer space (or tuner buffer), or TSB , of the storage device .","Under normal operation, the PVR application  effectively associates a temporary recording designation with the media content received into the TSB . The media content stored in the TSB  will preferably either be deleted (i.e., the clusters storing the media content will be configured as writeable for eventual write operations that overwrite the media content within those clusters or immediately overwritten) or retained (through election by the user as one non-limiting example) as a permanent recording. A permanent recording will be understood to include media content that is stored for an extended period of time as decided by the user. Permanent recordings are stored in non-buffer clusters (i.e., not in the clusters assigned to the TSB ) that are not used for the TSB  in instances when the user elects in advance to make a scheduled recording of a media content instance that has not yet been tuned to at the DHCT . A permanent recording can also be achieved by the user selecting a media content instance stored in the TSB  and designating the media content instance as permanent. In this latter implementation, the designated media content is stored in clusters that are configured (i.e., re-designated) from TSB clusters to permanent recording clusters (non-buffer clusters). To compensate for the re-designation of clusters to a permanent recording, the device driver  assigns and associates an equivalent number of clusters to the TSB  that it obtains from a pool of available unused and\/or writeable (e.g., repossesed) clusters thus permitting continuance of normal TSB behavior and management. Thus, permanent recordings will preferably be more permanent than media content in the TSB , and permanent recordings can eventually be deleted from the disk space, typically at the explicit request of a user, as one non-limiting example.","There is a duration, associated with the TSB , which represents how much data is held by the TSB . This duration could represent, in one embodiment, actual media content instance time. In such a time-duration embodiment, the PVR application , in cooperation with the device driver , will preferably maintain a substantially constant buffer space capacity suitable for a certain duration of media content instance time, for a non-limiting example, 3\u20134 hours worth of media content instances. Media content instance-time tracking is related to hard disk space tracking if a constant data rate, or buffering rate, is assumed or estimated. In a preferred embodiment, the duration of the TSB  represents hard disk space. The PVR application  can set a buffer size capacity, for a non-limiting example 3 gigabytes (GB), and then track the disk space used for the TSB  to ensure a substantially constant TSB capacity. For a non-limiting example, before the PVR application  effects a write to the storage device , it can query the device driver  (through the operating system ) to determine the available hard disk space. After the write operation, the PVR application  again can poll the device driver  to get an update on available hard disk space.","One of several embodiments for maintaining and managing the TSB  (or a plurality of TSBs) includes associating a single file for each TSB , and controlling the allocation, removal, and replacement of clusters on the disk space at the device driver  level. In this embodiment, further described in the patent applications entitled, \u201cDISK DRIVER CLUSTER MANAGEMENT OF TIME SHIFT BUFFER WITH FILE ALLOCATION TABLE STRUCTURE,\u201d filed Dec. 5, 2001 under Ser. No. 10,005,628, and \u201cAPPLICATION MANAGEMENT AND INTERFACE FOR CLUSTER CONTROL OF TIME SHIFT BUFFER,\u201d filed Dec. 5, 2001 under Ser. No. 10\/010,781, both assigned to Scientific Atlanta, and both herein entirely incorporated by reference,\u201d the PVR application  requests the allocation of disk space for a single file (i.e., a buffer file, whether a tuner buffer file or composite buffer file) for each TSB . For each TSB , the device driver , implemented as either a separate software module, or integrated with the operating system , allocates enough clusters and assigns them to the respective file to meet the size requirement designated by the PVR application . Media content can then be downloaded and written into the clusters of that buffer file. When a user decides to designate one of the media content instances in the buffer file as permanent, the user, in one embodiment, can simply rewind to the location of that media content instance and select record. A permanent file is then created and associated with the clusters storing the desired media content instance. The permanent file temporarily shares the clusters associated with the selected media content with the buffer file until replacement clusters are allocated by the device driver  for the buffer file in order to replace the clusters associated with the permanent recording. Sharing is preferably accomplished by the device driver  maintaining a file sharing counter and file associations in the FAT for every cluster of the disk space. File sharing counts greater than one (e.g., in the case of a buffer file and a permanent recording file sharing the same cluster) can prompt the device driver  to not re-employ a cluster but to remove the assignment and association of shared clusters to the respective buffer file. Thus, the device driver  does not effect deletion of information associated with media content stored in shared clusters that are associated with one or more files. To compensate for the disassocation of clusters shared with a second file (i.e., the permanent recording file), device driver  assigns and associates an equivalent number of clusters to TSB  that it obtains from a pool of available unused and\/or writeable clusters thus permitting continuance of normal TSB behavior and management. Media content instances downloaded to the TSB  are tracked and preferably delineated by time. The device driver  provides a software generated pointer, called Normal Play Time (NPT), which points to locations within files and locations within media content instances within those files. Based on the Lightweight Stream Control Protocol, NPT can be thought of as the clock associated with a video asset (as distinguished from the real-time clock (not shown) for the DHCT ). For every file that is created for media content downloaded to the storage device , an NPT is generated. There is an NPT for the read head of the storage device  and for the write head of the storage device . For writing media content to the storage device  for a newly created file (e.g., a TSB file), an NPT is created for the write head of the storage device  with an initial value of zero. In one implementation, the device driver  receives a periodic interrupt (for a non-limiting example, every 5\u201310 msec) set up by the PVR application  through the computer services of the operating system . This interrupt is synchronized with the internal real-time clock (not shown) of the DHCT  in order to advance the pointer (i.e., the NPT) at a substantially constant rate. The NPT continues to increase in value (from an initial value of zero) until the associated file is closed. For the read head of the storage device , the NPT starts at 0 at the start of the file, advances in real time in normal play mode, advances faster than real time in fast forward mode, decrements in rewind mode, and is fixed when the video is paused.","The PVR application  maintains a data structure, or data record, for every downloaded media content instance. This data structure is preferably maintained on the hard disk  of the storage device , but can be maintained in memory  also. The data structure includes, for a non-limiting example, the NPT values defining the start and end times of the downloaded media content instance, the real-time values corresponding to the start and end times of the media content instances, as well as the corresponding media content instance guide data (e.g., similar to the IPG guide data), among other elements. The device driver  maintains the mapping between NPT and the cluster and sector locations of media content in a separate look-up table data structure (not shown) preferably located on the hard disk . In one embodiment, the device driver  can sample the current write location (i.e., cluster and sector location provided by the storage device controller ) as the write head of the storage device  advances, and store that cluster and sector location in the look-up table data structure along with a corresponding NPT value. This sampling can occur, for a non-limiting example, every 5\u201310 msec. In an alternative embodiment, the device driver  can record some initial samples and through an estimation algorithm (e.g., interpolation) estimate file locations and locations within said files. When the PVR application  references a particular media content instance (for a non-limiting example, where a user seeks to rewind to a downloaded media content instance stored on the hard disk ), the PVR application  passes the stored start and stop NPT values for that media content instance to the device driver , and the device driver  determines the hard disk locations from the look-up table data structure. The PVR application  also correlates NPT read values for locations within the media content instances to the real-time clock value.","Broadcast media content can include different services, provisioned for, in one implementation, by an application such as Watch TV . One or more services (e.g., CNN, HBO, ESPN) can occur in the same media content stream (e.g., in a transmission signal from the headend at the same carrier frequency), or may need to be accessed from another media content stream by tuning (via tuner system ) to a different carrier frequency. As discussed above, channels are often referred to as the bandwidth, or frequency span, of a broadcast analog signal. A display channel, on the other hand, is the channel displayed to the user on a display device, such as the screen of the television . The display channel corresponds to a service. This service to display channel translation preferably occurs at the SAM application . Alternatively, the translation can occur in part or entirely at a SAM server (not shown) located at the headend  () or at a hub  () serving as a mini-headend. Thus, a user selects a service preferably by selecting a display channel from a remote control device .","A display channel is selected, and changed, by a user, typically via pressing a key or button on a remote control device, such as that depicted in . Rewind  and fast-forward  buttons enable a user to access buffered media content instances in the TSB  (). The record button  enables the user to designate, as permanently recorded, any media content instance buffered into the TSB , as described below. The pause button  enables the user to pause a media content instance, or pause during a search for a particular media content instance. The playback button  enables the playback of a media content instance. The \u201cA\u201d , \u201cB\u201d , and \u201cC\u201d  buttons can correspond to certain application-defined functions that have a corresponding \u201cA\u201d, \u201cB\u201d, or \u201cC\u201d symbol displayed in a graphics user interface (GUI) presented on a display device. The list button  can be used to evoke various PVR application  user interface screens. The number buttons  enable the user to select a display channel for viewing media content. The user can also scroll through the display channels using the channel navigation button . Many alternative methods of providing user input may be used including a remote control device with different buttons and\/or button layouts, a keyboard device, a voice activated device, among other devices. The embodiments of the invention described herein are not limited by the type of device used to provide user input.","Note also that a display channel change can, but does not necessarily, involve a change in carrier frequency. As described above in association with  and , media content from such services as, for a non-limiting example, CNN and ESPN, can be in the same digital transmission signal under different packet identifications (PIDs). For a non-limiting example, the user can be viewing ESPN, and decide he or she wants to watch CNN. The user selects one of the display channel numbers  on the remote  (or scrolls up and down for the channel using the channel navigation button ), and the signal processing system  of , as described above, can extract the currently viewed media content of that particular service, based on the PID for that particular service (here, the CNN service). Thus, if the requested services are accessed in the same media content stream (e.g., in a digital transmission signal at one carrier frequency), a carrier frequency change is not necessary. Of course, access to media content from a different media content stream typically requires that the tuner system  tune to a different carrier frequency after the keypress event, much like accessing media content among different analog broadcast channels. As will be described below, in a multi-tuner embodiment, the display channel changes will preferably result in switching from one tuner of the tuner system  () to another tuner of the tuner system .","In a single tuner embodiment, the media content is downloaded to the buffer space clusters for temporary residence, unless the user chooses to make the media content permanent, as discussed above. In one implementation, the clusters used for temporary residence preferably have a file association (a tuner buffer file) maintained in a FAT. The clusters assigned and associated with the tuner buffer file will receive media content from the display channel selected by the user. As the media content continues to be downloaded to the buffer space of the tuner buffer file and the capacity of the buffer space is about to be exceeded, the write head can return to the first cluster of the buffer space and begin overwriting media content, or in other embodiments, the first cluster of the buffer space can be dissociated from the tuner buffer file and the tuner buffer file can be associated with a replacement buffer cluster. In both embodiments, one of the objectives of the buffering mechanisms is to maintain a substantially constant buffer space. Typically, when the user changes the display channel (e.g., via a keypress event), the media content within the buffer space (or buffer) is deleted. Herein, the term \u201cdeleted\u201d in the context of composite buffering will be understood to include the notion the cluster storing the media content on the hard disk is made writeable. This deletion allows the write head, in one implementation, to return to the first cluster of the tuner buffer file to begin writing media content from the current display channel. Thus, media content previously viewed by the user on a prior display channel is effectively \u201clost.\u201d","One mechanism for enabling the user to view media content from prior display channels is to employ a composite buffer file in addition to a tuner buffer file.  are schematic diagrams that will be used to describe, at a higher level of abstraction, such a mechanism for single tuner and multi-tuner implementations. As will be clearer in the context of the description below,  illustrate one non-limiting example among other non-limiting examples. Further description of other non-limiting examples are described in association with later figures. Beginning with , several DHCT elements are shown, including a FAT , a hard disk , a television , and a remote control device . Although the DHCT  is not shown, it can be located in the TV , or in proximity to the TV . The FAT  includes a partial list entry of allocated clusters (e.g., \u2013) for the tuner buffer file, which are associated with a composite buffer file. In the figures that follow, it will be understood that the tuner buffer file and the composite buffer file are files that, in one embodiment, are associated with (e.g., point to) the allocated clusters shown in the following file allocation tables, and which have filenames listed in the file allocation table, such as, for example, the \u201cTuner Buffer File\u201d or the \u201cComposite Buffer File\u201d. The FAT  serves as a pointer to the allocated clusters located in the buffer space on the hard disk , as indicated by the dual-arrowhead, interrupted line . The interrupted line  represents that communication between the FAT  and the hard disk  can occur through multiple DHCT elements, as described above. The single-arrowhead, interrupted line  is used to illustrate that media content instances stored in the buffer space of the hard disk, such as media content instance  (MCI ), will be delivered through one or more DHCT elements to the television  for display. The remote control device , pointing for example to a DHCT  located proximately to the TV , for example, will be used to evoke a display channel change, as shown in .","As media content is written to the buffer space on the hard disk , the composite buffer file can preferably be associated with the same clusters assigned to the tuner buffer file, thus utilizing the file sharing mechanism described above. This file sharing is illustrated in the FAT  by the tuner buffer file and the composite buffer file sharing the same clusters \u2013. The currently tuned MCI  is displayed on the television . When a display channel change occurs (i.e., from a prior display channel to a current display channel), as illustrated in , the user is presented with a display of the media content instance (i.e., MCI ) sourced from the new channel, which is downloaded into tuner buffer clusters  and , again with file sharing employed between the composite buffer file and the tuner buffer file. The clusters used to store the media content of the prior display channel remain associated with the composite buffer file but not with the tuner buffer file, as illustrated by the hashed lines  through the clusters \u2013 of the tuner buffer file in . Assignment and association of replacement clusters (not shown) to the tuner buffer file yield a continuance of normal TSB operation. Thus, a user seeking to review downloaded media content instances can go directly to the composite buffer file to review the content, as will be described below. In other embodiments, the tuner buffer file may continue to share the same clusters as the composite buffer file by retaining the association with the clusters until the tuner buffer file capacity has been reached and the write head advances to the beginning of the tuner buffer file. In some embodiments, the decision to associate the composite buffer file or not may be user configurable (via, for a non-limiting example, a user settings menu). For a non-limiting example, the user may select a threshold viewing time per media displayed media content instance that has to be attained before an association of clusters to the composite buffer file will occur.",{"@attributes":{"id":"p-0088","num":"0087"},"figref":["FIG. 4C","FIGS. 4A and 4B","FIG. 4D"],"b":["1","2","401","300","1","300","1","2","1","401","1","341","380","2","341","2","200","202","2","1","1","2","412","2","200","202","2","1","1","3","5","2","200","202","2","1","2"]},"The composite buffer file is used to enable, among other functions, user access to the media content from the prior display channels, while the remaining allocated tuner buffer file clusters can receive and store the media content from the current display channel. The size of the composite buffer file (i.e., the size of the buffer space corresponding to the composite buffer file) can be maintained as substantially constant, or of variable size based on user settings selected in a system settings menu (not shown). The current display channel will include media content that will be downloaded to the remaining available clusters of the tuner buffer file (i.e., those clusters allocated for the tuner buffer file) and shared by the composite buffer file.",{"@attributes":{"id":"p-0090","num":"0089"},"figref":["FIGS. 5A\u20135D","FIGS. 5A\u20135D","FIG. 5A"],"b":["500","510","520","500","10","10","1","5","1","1","3","2","4","5","502"]},"Upon changing the display channel, the clusters \u2013 (i.e., those clusters with a file sharing count of two) of the tuner buffer file that store the media content of the first display channel continue to retain MCI  and MCI , as recognized by the device driver  () due to the file sharing count of two and file association information. In one implementation, a portion of the tuner buffer file is dissociated from the clusters (clusters \u2013) storing MCI  and MCI , as illustrated by the cross hatching through the corresponding cluster list entry  of the FAT  of . At the cluster and device driver  level to effect this change, this can be implemented, as one non-limiting example, by immediately providing a replacement cluster by first disassociating the tuner buffer file from the respective physical clusters wherein MCI  and MCI  are currently stored and decrementing the file sharing count for those respective clusters. This enables the composite buffer file to continued usage of the respective physical clusters that currently store MCI  and MCI . The result to the user is transparent since the tuner buffer size (e.g., the disk space size allocation of the tuner buffer, the composite buffer in other implementations, or any other TSB) is maintained by obtaining physical clusters (i.e., replacement clusters) from the cluster pool. The device driver  updates the FAT accordingly. Thus, the replacement clusters become ready to store new media content.","Furthermore, the wrap-around functionality of the TSB is preferably maintained by the device driver  () when applicable. If the first physical cluster associated with the TSB file is replaced, the device driver  updates the pointer from the TSB file's last physical cluster to point to the new first cluster associated with the TSB file. The new first cluster \u201cinherits\u201d the pointer of the prior first cluster to continue to point to the second cluster associated with the TSB file. If the last cluster in the TSB file is replaced, the device driver  reuses the pointer from the TSB file's prior-to-last cluster to continue pointing to the first cluster associated with the file. The pointer of the prior-to-last cluster is updated to point to the new last cluster associated with the TSB file. Likewise, wrap-around continuity is maintained when a continuous sequence of clusters associated with the TSB file are replaced, since the last cluster in the new sequence \u201cinherits\u201d the pointer from the last cluster in the sequence being replaced, and the pointer of the cluster preceding the first replaced cluster in the sequence replaced is updated to point to the first cluster in the new sequence of continuous clusters. A replaced sequence of continuous clusters can encompass the last and first clusters in the TSB file.","In an alternate embodiment, the TSB retains association with clusters storing MCI  and MCI  and does not attempt to perform the cluster replacement operation until a future time. As a non-limiting example, consider the implementation with clusters allocated to the tuner buffer, and the tuner buffer file and the composite buffer file associated with the tuner buffer. The device driver  does not effect replacement of the tuner buffer clusters until a defined time during the course of operation when it starts approaching clusters shared with the composite buffer file. This is performed by \u201clooking ahead\u201d from clusters currently being written to, and relative to their \u201clogical\u201d circular position in the wrap-around tuner buffer. At such future time, the composite buffer file may have relinquished need for the information in those respective clusters and the tuner buffer automatically repossesses the respective physical clusters with sole proprietorship (for later shared associations). However, if the composite buffer file continues to retain need for the clusters, the replacement cluster operation is performed to effect transparent continuation of the tuner buffer functionality to the user.","The amount of look-ahead time at which device driver  starts conducting the determination to repossess or acquire replacement clusters is predetermined empirically and programmed into the device driver , in one implementation, to allow sufficient time for dissociation of clusters and assignment of replacement clusters for the tuner buffer (and tuner buffer file) and therefore maintains smooth operation in the event that replacement clusters are required.","Another mechanism can be employed by which a flag (not shown) is maintained in the FAT that alerts the device driver  to decrement the file sharing count immediately and dissociate the initially allocated clusters of the tuner buffer file. In other implementations, the tuner buffer file is not dissociated. The composite buffer file remains associated with the clusters \u2013, resulting in access to MCI  and MCI  from the composite buffer file only. Thus the media content from the first display channel is not deleted, and the media content is accessed via the composite buffer file, according to GUI mechanisms described below.",{"@attributes":{"id":"p-0096","num":"0095"},"figref":["FIG. 5C","FIG. 5C","FIG. 5D"],"b":["500","6","10","6","5","3","3","4","4","3","4","4","504","6","10","6","10"]},"In other embodiments, composite buffering can be employed for two or more tuners and media source devices attached to the DHCT  via communication port .  illustrate composite buffering for a two tuner implementation, with the understanding that a greater number of tuners will follow a similar mechanism to that described for the single tuner or two tuner embodiments. In the two tuner implementation, buffer space is employed for each tuner. Also, two tuner buffer files (e.g., as shown in  with filenames tuner buffer file  and tuner buffer file ) are used for the clusters of the two buffer spaces. A single composite buffer file is employed to share the clusters storing buffered media content with tuner buffer file  and tuner buffer file . In other embodiments, a composite buffer file can be employed for each buffer space (e.g., composite buffer file  and tuner buffer file , composite buffer file  and tuner buffer file ). As illustrated in , three files are shown in the file list entry  in the FAT , with the allocated clusters for each buffer space listed in the cluster list entries . As with , only a portion of the FAT  of  will be illustrated. The three files for the non-limiting example shown in  include the tuner buffer file  associated with a first buffer space and a tuner buffer file  associated with a second buffer space. Also included is the composite buffer file that is associated with the clusters storing buffered media content of each tuner buffer file. Assume an initial allocation of 5 clusters for each tuner buffer file, with tuner buffer file  associated with clusters \u2013, and tuner buffer file  associated with clusters \u2013. As with the description of , fewer or greater numbers of clusters can be allocated for the buffer files. Further, the initial allocation of clusters can operate in reverse, with the allocations to the composite buffer file and the associations to the tuner buffer files.","In , a first media content instance (MCI ) has been downloaded from a first display channel. MCI  is stored in clusters \u2013 associated with the tuner buffer file , and clusters \u2013 are shared by the tuner buffer file  and the composite buffer file. As described in the single tuner implementation, associations can, in some implementations, occur to the composite buffer file (or operate in reverse) contemporaneously with the download of media content as described above. In other implementations, associations can be made according to user configurable rules. For a non-limiting example, one rule can be that an association will not occur if the surfed channel was not displayed beyond a specified threshold duration. Another non-limiting example includes a rule that could be more preference filter related (or used in cooperation with a preference filter), such that some media content will not justify an association by the composite buffer file if the user is not interested in the subject material of the surfed media content. Assume a display channel change at point , which results in the FAT  shown in .","As noted in , a portion of the tuner buffer file, in one implementation, is dissociated from the clusters \u2013 storing the media content of the first display channel (this dissociation is represented by the hatching through the cluster list entry  for clusters  and ). As described in association with a single tuner embodiment, a portion of the tuner buffer file  does not necessarily have to immediately be dissociated in some embodiments. Media content (MCI ) is downloaded to the first available buffer cluster (cluster ) of tuner buffer file , and cluster  is shared between tuner buffer file  and the composite buffer file. In other embodiments, instead of transferring to the clusters of tuner buffer file , the write operation can continue at the next available clusters of the tuner buffer file , as is done with the single tuner buffer implementation. In this latter case (e.g., the continued write within the allocated clusters of the tuner buffer file ), writes to the clusters of the tuner buffer file  can then occur after a subsequent display channel change (i.e., subsequent to the write operations to the clusters of tuner buffer file ) based on one or more priority rules controlling buffer space changes, or when the tuner requires a change to a different carrier frequency, among other scenarios. In still other embodiments, a portion of the tuner buffer file  is not immediately (i.e., after the first display channel change) dissociated, but instead, remains associated with clusters \u2013 until the tuner buffer file  is used to receive media content resulting from a subsequent (e.g., a second display channel change) channel change, or remains associated until the write head of the storage device  () advances to the start of the buffer file clusters.","Continuing with the non-limiting example from , media content will be downloaded to cluster  and can continue to be written to clusters  and , as shown in . Upon the user instigating a display channel change (point ), a portion of the tuner buffer file  is dissociated from clusters \u2013 and MCI  and MCI  is accessed via the composite buffer file, as shown in . Continuing the non-limiting example, as shown in , media content (MCI ) from a third display channel is downloaded to the next available cluster of the tuner buffer file , which is cluster . Further, the cluster  is also associated with the composite buffer file. Thus, the user, at anytime, can view the media content downloaded to a plurality of buffers using one buffer file, accessed according to graphic user interface (GUI) mechanisms described below.",{"@attributes":{"id":"p-0101","num":"0100"},"figref":["FIGS. 7\u20139","FIGS. 7A and 7B","FIGS. 5A and 6A"]},{"@attributes":{"id":"p-0102","num":"0101"},"figref":["FIGS. 8A\u20138C","FIGS. 6A\u20136C","FIG. 8A","FIG. 8B","FIG. 8C","FIG. 3A","FIG. 3A"],"b":["1","1","802","2","2","1","1","2","804","1","3","1","1","373","311","1"]},{"@attributes":{"id":"p-0103","num":"0102"},"figref":["FIGS. 9A\u20139C","FIG. 9B","FIG. 9C"],"b":["1","1","902","1","1","2","3","2","2","904","2","200","203","2","3","2"]},"As the tuner buffer file  buffer space capacity is about to be attained, a pop-up window  can be displayed on the display of a currently viewed media content instance as shown in . In other implementations, the user can be presented with other visual or aural messages to alert the user. As shown, the pop-up window  can provide the user with options that include, for a non-limiting example, choosing to view the temporarily recorded media content (stored in the clusters associated with the tuner buffer file  and accessible through the tuner buffer file ) or continuing to track the surfed material (via the tuner buffer file  and\/or the composite buffer file). Note that the pop-up window  may not be displayed, in some embodiments. In other embodiments, the user can invoke the pop-up window  by selecting a button on the remote control device  (), or one or more of the options from the pop-up window  may be user selectable (and thus defaulted to) in a PVR systems settings menu. Further, the threshold that triggers the pop-up window  (or other actions) can include the quantity of media content (disk space used, for a non-limiting example) in either of the buffers, or elapsed time of recording, to name a few non-limiting examples.","Another embodiment for maintaining and managing a time shift buffer is illustrated in , and described in more detail in the parent applications indicated above. In this embodiment, each media content instance that is received at one or more tuners of tuner system  () prompts the PVR application  () to cause each media content instance to be downloaded to the hard disk  and associated as a media content instance file under a media content instance filename (e.g., filename , filename, etc.). This media content instance filename is recorded in a FAT  that maintains a list of the corresponding clusters storing the media content instance file. The PVR application  also creates a management file  that preferably points to the corresponding filename and includes a data record that includes, among other elements, guide data and the receipt time of the downloaded media content instance. The guide data includes the scheduled start time and stop time of the downloaded media content instance as well as other attributes and information that pertain to the media content instance. The receipt of the downloaded media content instance is also recorded by the PVR application  (through coordination with the operating system  () and an internal clock (not shown)) as a real-time value. The PVR application  is alerted to the start of a media content instance, in one implementation, from a keypress event (e.g., when a user tunes to a desired display channel). In another implementation, the PVR application can use polling or timing mechanisms in cooperation with the internal real-time clock and guide data. The PVR application  provides the operating system  with the scheduled stop time (from guide data, such as from an interactive program guide) of the downloaded media content instance in order to set up a timer interrupt (or in other embodiments, polls the operating system ) with the operating system . The operating system , in coordination with a real-time clock within the DHCT , alerts the PVR application  to the end of the received media content instance.","Further, the PVR application  () preferably maintains all of the management files with an organization mechanism such as a linked list , wherein each management file corresponds to each of the media content instances located on the hard disk . Read requests for a downloaded media content instance located in the TSB occurs by the PVR application  searching the linked list for the requested media content instance, and providing a graphics user interface (GUI) (not shown) on a display screen based on the information maintained in the corresponding management file. Furthermore, a bi-directional link-list mechanism can be employed for arbitrary entry and to search forward or backward in relation among media instances.","In relation to the composite buffering described above, similar mechanisms to those described for the lower level implementations described in  apply. For example, in the single tuner embodiment, the management file can be structured with a composite buffer flag  that is recognized by the PVR application  () as an alert that the filename entry of the FAT  has an additional file association (i.e., the composite buffer file). This additional file association can be maintained in another data structure or data table (not shown) that functions as an association table (associating the management file with the composite buffer file and the TSB filename). Thus, user requests for access to surfed media content will be managed by the PVR application  searching the linked list for the corresponding composite buffer file (from the association table) pointing to the desired media content instance. The association table can be addressed via a pointer in the data record of the management file, or be integrated into the linked list , among other embodiments. As with the above described implementations, display channel changes can result in the TSB filename being dissociated either immediately, on subsequent display channel changes, at write head advancement to the start of the buffer file, or otherwise. It will be appreciated, from the context of the above description, that similar mechanisms apply for multi-tuner embodiments.","The PVR application  () provides a graphics user interface (GUI) that assists the user in navigating to, and between, buffers and buffered media content instances. The PVR application  generates the GUI that includes buffer banners and progress bars (as explained below), based largely on the data maintained in a data structure maintained by the PVR application , as described above. In other embodiments, the controlling application (i.e., providing the real-time media content, such as CNN as provisioned by the WatchTV application ) can include PVR functionality, such as the user interface generation. The GUI screen displays provide the user with the ability to review buffered media content from a plurality of display channels (and thus from a plurality of buffers) by navigating through one buffer file (i.e., the  composite buffer file).","Access to buffered media content can occur through many different implementations.  illustrates one non-limiting example implementation that provides for access to buffered media content, and particularly, access to media content specific, buffer progress bars. The user can be currently viewing a displayed media content instance and select the LIST button  () on the remote control device  (), for a non-limiting example, and as a result of a keypress event the example GUI can be displayed as an overlay on the display of the media content instance as shown in the non-limiting example screen display  of . The display area  will preferably default to the display of the currently tuned media content instance associated with the composite buffer file (i.e., shown as the surf buffer). The user can configure the default display in a system settings menu (not shown). The banner  overlaid on the display area  includes a select button icon  and scroll arrow button icons  that suggest a correspondence to the remote control device  for navigating through the option blocks  and selecting a desired option (which is highlighted). For example, by selecting the tuner buffer (corresponding to the tuner buffer file), the display area  will present the display of the media content instance of the tuner buffer. Note that in other embodiments, the option blocks can be labeled differently, for a non-limiting example, by a user through a systems settings menu.","Each of the option blocks  includes identifiers of the contents of the identified buffer. For example, the highlighted option block  includes a list of all of the surfed media content instances (for example, by media content instance title) from a plurality of display channels. The boundaries of the tuned start and end time of each media content instance is preferably delineated by a line . Other mechanisms for delineating the boundaries can include using differences in shading or color or by the use of text within or outside of the option block, among others. Further, other mechanisms for presenting the identity of contents of each buffer can be implemented, including, for a non-limiting example, providing PVR entries in an IPG (much like channel entries), or providing separate banners for each buffer that can be selected using a cursor and\/or defaulted to based on a systems setting selection, among others.  is a screen diagram of another non-limiting example user interface screen  providing access to buffered media content in a system using multiple tuners (and thus multiple tuner buffers). In this non-limiting example, the user has channel surfed through three different display channels, with the media content instances (MCI -MCI) buffered in the respective tuner buffer and all three instances associated with the composite buffer file (labeled surf buffer) for convenient access, in accordance with one embodiment.","Assume the user has selected to view the contents of the composite buffer file (i.e., the surfing buffer). By highlighting and selecting the corresponding option block  of , the user is preferably presented with a media content instance specific progress bar as shown in . In other embodiments, the user can be presented with another GUI with the selected buffer banner that includes the list of downloaded media content instances, similar to the structure displayed in . The user also can be presented with a navigating bar within each boundary area or near each boundary area that enables individual media content instance selections for display. Continuing with the example, assume the user is presented with the media content instance specific bar illustrated in .",{"@attributes":{"id":"p-0112","num":"0111"},"figref":["FIGS. 12\u201315","FIG. 5A\u20135D","FIG. 3C","FIG. 12","FIG. 5D","FIG. 5D"],"b":["391","380","1200","4","4","4","1287","4","4","1220","1210","1205","4","1205","1220","1220","1221","1285","1287","1227","4","1210","4"]},"The progress bar  shows progression, in terms of buffer space, through a media content instance as the viewer moves, or navigates, through it. As shown here, the progress bar  is media content instance specific. That is, although having a substantially constant graphic length among displayed media content instances, portions of the progress bar  and associated timing indicators provide a display that is proportional to the duration of the media content instance, as well as representative of the viewed locations within the media content instance. The progress bar  in this non-limiting example illustrates a first portion , a second portion , and a status arrow . Each of these elements can include distinguishing characteristics, for instance various hatching, shades, but preferably, include different colors and shades for each. First portion  indicates what portion of the current media content instance is available for rewinding and fast forwarding. Thus first portion  represents the portion of MCI  that is stored in the clusters of the composite buffer file. Since MCI  was buffered for the first 30 minutes of an hour-long presentation before the next display channel change, first portion  spans from the beginning of the progress bar  to approximately midway through the progress bar . The second portion  indicates what portion of the current media content instance is unavailable for rewinding and fast forwarding. As the user changed the display channel midway through the presentation of MCI , the second half of the presentation is unavailable for viewing. Status arrow  indicates the currently viewed position in the buffered MCI , which in this non-limiting example, is the position where the user has rewinded to (thus midway on the progress bar ). Note that the time status  also indicates the presentation position to where the user has rewound. The progress bar  also includes a bar arrow  on the left-hand side, representing to the user that there is additional buffered media content.",{"@attributes":{"id":"p-0114","num":"0113"},"figref":["FIG. 13","FIG. 5C","FIG. 12"],"b":["3","4","1300","3","3","1336","1310","1385","1305","1332","3","3","1330","1332","3","1330","1332","1200","4","1317","1310","3"]},"If the user continues to rewind to the buffered media content before MCI , he or she will be presented with the non-limiting example screen  shown in . The user has rewound to the 8:01 PM position within MCI , as reflected by the time status  and position of the status arrow . Recall from the discussion of , the first 15 minutes (of a half-hour long presentation) of the second buffered media content instance (MCI ) was buffered. This fact is reflected by the boundary between the first portion  and the second portion  midway through the progress bar . Also, note that the first portion  is the first half of the progress bar , corresponding to the fact that the first half of MCI  was buffered.","Finally, the user has decided to rewind to approximately the beginning of the first buffered media content instance (MCI ), as illustrated in the non-limiting example screen  of . Recall from the discussion of  that the entire presentation of MCI  was buffered into the clusters of the composite buffer file. Accordingly, the only portion presented in the progress bar  is the first portion . Also note that the bar arrow  is only on the right hand side of the progress bar , reflecting, for a non-limiting example, that the DHCT  () was powered-on at the start of the presentation of MCI .","As indicated above, the non-limiting example screens of  correspond to the media content stored in the buffer clusters of the composite buffer file. Preferably, the user can evoke a user settings menu (not shown) at any time that offers the user the option to view the media content in the clusters of one or more tuner buffer files, or in the composite buffer file. Alternatively, the user can be presented with a GUI providing a pre-configured list (not shown) of buffered viewing choices when he or she selects the pause button (or other buttons). In this alternative implementation, the viewing choice can be presented on a GUI that provides selectable entries for viewing (e.g., composite buffer file media content, tuner buffer file  media content, etc). The user can rewind to any media content instance and choose to replay or permanently record, as described above. Alternatively, the user can be presented with a list (not shown) of all of the media content instances of the composite buffer file (or tuner buffer files), with additional entries that provide the user with the amount of time the user viewed the media content and the ability to permanently record, playback, or delete one or more media content instances. This list can be presented upon selecting the pause button  () on the remote control device  (), or by selecting other buttons on the remote control device , such as the list button , among other mechanisms.","In some embodiments, the composite buffer file is configurable so that user can block, or exclude, certain content from being associated with and\/or displayed from the composite buffer file. The block can be by rating or content, such as violence, sexual content, etc., as explicitly provided in IPG, in one embodiment. For example, if a user is channel surfing and runs into adult content or something rated that he or she wishes not to be accessible from the composite buffer file, it is excluded from being there. In one implementation, IPG data corresponding to a media instance is read via the PVR application  () in cooperation with the processor  to determine the media content instance rating and content from one or more records for that program (or media instance) in the IPG database (not shown). This rating and content information is specified in the IPG database, for instance, in attribute fields that have bits (or flags) assigned to content presence. One bit can be assigned to violence, another bit to language, etc. If a respective bit, such as the violence bit, is turned on, then that media instance includes violence. Likewise, there is another field that specifies one or more content ratings (X, R, PG\u2013, etc.).","In other implementations, media content can similarly be blocked out of the composite buffer file if a particular display channel is in a blocked channel list or a locked channel list as configured by parental control.","The device driver  () and PVR application  () may be implemented to provide a composite buffer file for the buffer spaces in the storage device , or in any memory-type device, such as RAM, DRAM, non-volatile memory, or related memory. Further, the scope of the preferred embodiment is not meant to be limited to downloads of media content through cache transfers between the storage device  and system memory , but may include direct downloads to system memory  alone, or to the storage device  alone.","The device driver  and the PVR application  can be implemented in hardware, software, firmware, or a combination thereof. In the preferred embodiment(s), the device driver  and the PVR application  are implemented in software or firmware that is stored in a memory and that is executed by a suitable instruction execution system. If implemented in hardware, as in an alternative embodiment, the device driver  and the PVR application  may be implemented with any or a combination of the following technologies, which are all well known in the art: a discrete logic circuit(s) having logic gates for implementing logic functions upon data signals, an application specific integrated circuit (ASIC) having appropriate combinational logic gates, a programmable gate array(s) (PGA), a field programmable gate array (FPGA), etc.","The device driver  and the PVR application , which comprise an ordered listing of executable instructions for implementing logical functions, can be embodied in any computer-readable medium for use by or in connection with an instruction execution system, apparatus, or device, such as a computer-based system, processor-containing system, or other system that can fetch the instructions from the instruction execution system, apparatus, or device and execute the instructions. In the context of this document, a \u201ccomputer-readable medium\u201d can be any means that can contain, store, communicate, propagate, or transport the program for use by or in connection with the instruction execution system, apparatus, or device. The computer readable medium can be, for non-limiting example but not limited to, an electronic, magnetic, optical, electromagnetic, infrared, or semiconductor system, apparatus, device, or propagation medium. More specific non-limiting examples (a nonexhaustive list) of the computer-readable medium would include the following: an electrical connection (electronic) having one or more wires, a portable computer diskette (magnetic), a random access memory (RAM) (electronic), a read-only memory (ROM) (electronic), an erasable programmable read-only memory (EPROM or Flash memory) (electronic), an optical fiber (optical), and a portable compact disc read-only memory (CDROM) (optical). Note that the computer-readable medium could even be paper or another suitable medium upon which the program is printed, as the program can be electronically captured, via for instance optical scanning of the paper or other medium, then compiled, interpreted or otherwise processed in a suitable manner if necessary, and then stored in a computer memory.","It should be emphasized that the above-described embodiments of the present invention, particularly, any \u201cpreferred embodiments\u201d are merely possible non-limiting examples of implementations, merely setting forth a clear understanding of the principles of the inventions. Many variations and modifications may be made to the above-described embodiments of the invention without departing substantially from the spirit of the principles of the invention. All such modifications and variations are intended to be included herein within the scope of the disclosure and present invention and protected by the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The preferred embodiments of the invention can be better understood with reference to the following drawings. The components in the drawings are not necessarily to scale, emphasis instead being placed upon clearly illustrating the principles of the present invention. Moreover, in the drawings, like reference numerals designate corresponding parts throughout the several views.",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 1B","FIG. 1A"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 2","FIG. 1A"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 3A","FIG. 1A"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 3B","FIG. 3A"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 3C","FIG. 3A","FIG. 3A"],"b":"16"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIGS. 4A\u20134D"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIGS. 5A\u20135D"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIGS. 6A\u20136E"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIGS. 7A and 7B","FIGS. 5\u20136"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIGS. 8A\u20138C","FIGS. 6A\u20136E"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIGS. 9A\u20139C","FIGS. 6A\u20136E"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 9D","FIGS. 9A\u20139C"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 11A"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 11B"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIGS. 12\u201315"}]},"DETDESC":[{},{}]}
