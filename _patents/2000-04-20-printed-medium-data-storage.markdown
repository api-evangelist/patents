---
title: Printed medium data storage
abstract: A method of, and apparatus for, printing information on a hardcopy medium includes the acceptance of data representing a first information and the acceptance of data representing a second information. Second information is printed in regions on the medium where first information data is not printed. Second information data is encoded into a grayscale or color data representation such that necessary or maximum data density is achieved. First information is printed using black (K) ink (or alternatively using a different color gamut than that used for printing the second information) such that first information can be filtered out in a straightforward manner upon scanning of the printed medium by a digital scanning apparatus, and second information can then be recovered and utilized to advantage.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07050195&OS=07050195&RS=07050195
owner: Hewlett-Packard Development Company, L.P.
number: 07050195
owner_city: Houston
owner_country: US
publication_date: 20000420
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENTS"],"p":["The present invention generally relates to printing on a hardcopy medium and more particularly relates to placing data within or adjacent the text or graphic printed on a hardcopy medium.","Inkjet printing is usually considered to be a technique of directing small discrete quanta of ink from a reservoir to a sheet or medium such as paper, transparency film, and the like to produce perceptible alphanumeric, graphic, and pictorial images on the medium. The energy needed to move the quanta of ink (ink drops, usually) can come from thermal, piezoelectric, electrostatic, acoustic, electromagnetic, and similar energy sources. The basics of inkjet printing technologies can be found in , W. J. Lloyd and H. T. Taub (edited by R. C. Durbeck and S. Sherr), Academic Press, San Diego, 1988, chapter 13. The ink drops are deposited on the printed medium as dots of ink colorant from which the liquid ink vehicle quickly evaporates. For text, ink dots are deposited in an arrangement that produces a full colorant (usually black) presence where a character is to be printed and an absence of colorant in the spaces within and between the characters. Roughness of the edges of the printed character due to the quantum nature of each ink drop can be mitigated by careful selection of the placement of each drop at the character edge (as well as other optimizations of ink chemistry, media, and the like).","For gray scale printing and color image printing, the concept of printing in superpixels has come into being to enable gradations of intensity and hue to be realized. A superpixel is generally recognized to be a coordination of an area (the superpixel) of the printed medium, usually a theoretical square that is subdivided into smaller square areas. Into each of the smaller areas (referred to as pixels) a dot can be placed, or left unplaced, depending upon the level of gray scale or the color to be realized for the superpixel. See, for example, U.S. Pat. No. 4,930,018. Moreover, to avoid undesirable artifacts (Moir\u00e9 patterns, \u201cworms\u201d, etc.) of printing using discrete quanta (dots), dithering and error diffusion calculations are made and the dots are distributed among the superpixels to reduce the artifacts in accordance with the calculations. See, for example, U.S. Pat. No. 5,031,050.","Generally without regard to the method of printing, others have begun to employ techniques of embedding information (data) into a printed image. In U.S. Pat. No. 5,905,819 the art of steganography was identified as a precursor to the more recent desire to hide a digital message within a printed image. Digital steganography was interpreted, there, as encompassing techniques of tamper-proofing (providing the ability to determine whether a digital image has been manipulated or modified from an original), digital watermarking (providing the ability to establish ownership and copyright infringement), image tagging (adding a unique identifier to each image copy to identify the individual creating bootleg copies), digital pointers (providing, for example, an invisible internet address for additional information), and data augmentation (providing, in a form relatively undetectable by human perception, additional information regarding the image in which the data is hiding). This patent discloses a complex method of combining the desired image and the data in a manner which disturbs the desired image very little. This disclosed method, however, suffers from the drawback that the original image must be known for the data to be recovered from the combined copy. Also see, for example, U.S. Pat. No. 5,859,920.","Hidden information in a visible image has also found usage in postal franking applications. In one instance, described in U.S. Pat. No. 5,829,895 where a two-pass dot matrix printing method is used to place a postal indicia on an envelope, one of the passes places a message in the printed postal indicia by adjusting the dot matrix dot density to create a lightly populated dot density, thereby enabling the message to be readable due to the low population of dots. The second printing pass places a higher dot density in the previously low dot population density area in order to obliterate the message. Postal franking fraud can thereby be avoided.","Other techniques of preventing postal fraud include the use of fluorescing (or phosphorescing) ink, which is invisible in the human-perceptible light spectrum, to be printed in a print layer over a visibly perceptible print layer. Thus, a bar code printed over the visible print (such as that described in U.S. Pat. No. 5,693,693) can contain more, and relatively secure, information than that available in a conventional bar code.","In a separate technological direction, InfoImaging Technologies, Inc. is presently marketing a product called 3D FaxFile. This product converts documents (text, color images, etc.) into a digital black and white pattern that can be transmitted via a standard fax machine. At the receiving end, the faxed document can be scanned or otherwise reconverted into a digital data stream that is subsequently recomposed into a copy of the original document. Coding and data compression can yield a secure and significantly smaller document to be faxed than the original. And, a color document can be transmitted by an otherwise colorless transmission technology.","The foregoing notwithstanding, there exists a need to provide a technique of adding information to or storing information on a printed medium. The use of color offers an expanded capability for higher information density than simple black and white printing. Moreover, if two or more blocks of information, which can be unrelated, are to be printed on the medium it is desirable that the information not interfere with each other and that each be independently recoverable from the printed medium.","Printing information on a medium includes the acceptance of data representing a first information and the acceptance of data representing a second information. The second information adds informational value over the first information. Marks of a first color are deposited in accordance with the first data and marks of a second color are deposited in accordance with the second data. In this way, the first information and the second information are printed on the medium and are detectable as separate first information and second information from the printed medium.","The present invention advantageously uses the multi-color dot deposition capability of color printing devices to place multiple channels or data sources of information on a printed medium by encoding each channel or data source in a different range of ink colors onto the printed medium. Although the preferred embodiment describes the use of an inkjet printer to place color marks in the form of ink dots on a recording medium, other printing devices such as laser printers, which also place color marks on a recording medium, may also profit from the present invention. The range of colors can be a single identifiable color such as black or cyan, a color gamut that can be separable into digitally encodable colors (for example 2combinations of yellow, cyan, and magenta inks, commonly known in inkjet printing), shades of gray (commonly referred to in printing as grayscale), or colors that are imperceptible to humans (such as those having reflectance or absorbtion in infrared or ultraviolet).","An exemplary inkjet printing apparatus, a printer  that may employ the present invention, is shown in outline form in the isometric drawing of . Printing devices such as graphics plotters, copiers, and facsimile machines may also profitably employ the present invention. A printer housing  contains a printing platen to which an input print medium , such as paper, is transported by mechanisms that are known in the art. Other forms of media can be overhead transparency material or fabric. A carriage  within the printer holds one or a set of individual print cartridges capable of ejecting ink drops of black or color ink. Alternative embodiments can include a semi-permanent printhead mechanism that is sporadically replenished from one or more fluidically-coupled off-axis ink reservoirs, or a single print cartridge having two or more colors of ink available within the print cartridge and ink ejecting nozzles designated for each color, or a single color print cartridge or print mechanism; the present invention can be satisfactorily employed by at least these alternatives. The carriage , which may be employed in the printer , mounts two print cartridges  and , as illustrated in . The carriage  is typically supported by a slide bar or similar mechanism within the printer and physically propelled along the slide bar to allow the carriage  to be translationally reciprocated or scanned back and forth across the print medium . The scan axis, X, is indicated by an arrow in . As the carriage  scans across the medium, ink drops are selectively ejected from drop generators disposed within the printheads of the set of print cartridges  and  onto the medium  in predetermined print swath patterns, forming images or alphanumeric characters using dot matrix manipulation. Generally, the dot matrix manipulation is determined by a user's computer (not shown) and instructions are transmitted to a microprocessor-based, electronic controller within the printer . Other techniques employ a rasterization of the data in a user's computer prior to the rasterized data being sent, along with printer control commands, to the printer. This operation is under control of printer driver software resident in the user's computer. The printer interprets the commands and rasterized data to determine which drop generators to fire. The ink drop trajectory axis, Z, directed from the print cartridge toward the medium is indicated by an arrow. When a swath of print has been completed, the medium  is moved an appropriate distance along the print media axis, Y, indicated by the arrow, in preparation for the printing of the next swath. This invention is also applicable to inkjet printers employing alternative means of imparting relative motion between printhead and media, such as those that have fixed printheads (such as page wide arrays) and move the media in one or more directions, those that have fixed media and move the printhead in one or more directions (such as flatbed plotters). In addition, this invention is applicable to a variety of printing systems, including large format devices, copiers, fax machines, photo printers, and the like.","The inkjet carriage  and print cartridges ,  are shown from the \u2212Z direction within the printer  in . The printheads ,  of each cartridge may be observed when the print cartridges are viewed from this direction. In a preferred embodiment, ink is stored in the body portion of each printhead ,  and routed through internal passageways to the respective printhead. In an embodiment of the present invention which is adapted for multi-color printing, three groupings of orifices, one for each color (cyan, magenta, and yellow), are arranged on the foraminous orifice plate surface of the printhead . Ink is selectively expelled for each color under control of commands from the printer that are communicated to the printhead  through electrical connections and associated conductive traces (not shown) on a flexible polymer tape. In the preferred embodiment, the tape is typically bent around an edge of the print cartridge and secured. In a similar manner, a single color ink, black, is stored in the ink-containing portion of cartridge  and routed to a single grouping of orifices in printhead . Control signals are coupled to the printhead from the printer on conductive traces disposed on a polymer tape. In other applications not shown, additional ink cartridges having additional colors may be mounted on the carriage . For special purposes, ink that is colorless in visible light but that is absorptive, fluorescent, or phosphorescent in the infrared or ultraviolet may also be used.","As can be appreciated from a preferred embodiment shown in , a single medium sheet is advanced from an input tray into a printer print area beneath the printheads by a medium advancing mechanism including a roller , a platen motor , and traction devices (not shown). In a preferred embodiment, the inkjet print cartridges ,  are incrementally drawn across the medium  on the platen by a carriage motor  in the \u00b1X direction, perpendicular to the Y direction of entry of the medium. The platen motor  and the carriage motor  are typically under the control of a media and cartridge position controller . An example of such positioning and control apparatus may be found described in U.S. Pat. No. 5,070,410. Thus, the medium  is positioned in a location so that the print cartridges  and  may eject drops of ink to place dots on the medium as required by the data that is input to a drop firing controller of the printer. These dots of ink are formed from the ink drops expelled from selected orifices in the printhead in a band parallel to the scan direction as the print cartridges  and  are translated across the medium by the carriage motor . When the print cartridges  and  reach the end of their travel at an end of a print swath on the medium , the medium is conventionally incrementally advanced by the position controller  and the platen motor . Once the print cartridges have reached the end of their traverse in the X direction on the slide bar, they are either returned back along the support mechanism while continuing to print or returned without printing. The medium may be advanced by an incremental amount equivalent to the width of the ink-ejecting portion of the printhead or some fraction thereof related to the spacing between the nozzles. Control of the medium, positioning of the print cartridge, and selection of the correct ink ejectors for creation of an ink image or character is determined by the position controller  and drop firing controller . The controllers may be implemented in a conventional electronic hardware configuration and provided operating instructions from conventional memory . Once printing of the medium is complete, the medium is ejected into an output tray of the printer for user removal.","A generalized flowchart of a document printing process that controls the printer in accordance with the present invention is shown in . Utilizing a computer system, a document author  creates a document using an authoring application  such as Microsoft Word or Quark Xpress. The author initiates a print of the document by invoking the application's print action . The application code converts the digital representation of the document into drawing application programming interface function calls , such as Microsoft Graphics Device Interface (GDI), as can be recognized by the computer operating system. The drawing application interface function calls are sent to the printing device driver . The printing device driver  converts the operating system drawing interface function calls into a page description language, e.g. Adobe PostScript or Hewlett-Packard Printer Control Language, , as can be understood by the printing device. Note that some application programs can generate page description language directly in which case alternate process path  would be used. A raster image processor , generally in the printing device, but which may also be implemented within the printer device driver software in low-cost systems, converts the digital document representation into a rasterized form whereby each page of the document is represented by a separate digital raster image data, . The rasterized page image data  is then processed by the printer device controller  as may consist of printer memory , drop firing controller , and position controller  as illustrated in . The printing device controller instructs the printer marking engine  as may consist of ink cartridges ,  previously described, to eject ink drops in accordance with the information input to the authoring application, to produce final printed document pages .",{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 5","b":["501","502","503","504","505","410","210","211","105","412"]},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 6","b":["604","605"]},"Several examples which illustrate output onto printed medium from a system employing the present invention follow. The features and advantages can best be perceived in the color renditions of the figures. In , an example of secondary information, rasterized into color superpixels and printed by a color inkjet printer such as an HP970Cxi, available from Hewlett-Packard Company, is shown. Since a great amount of information can be placed in the printed area of a standard sized sheet of media (several megabytes), the secondary information can effectively store data such as pictures, text, graphics, and the like\u2014information that may or may not be related to the primary information being printed.  illustrate magnified views of the secondary information printed in  and further show a possible range of color gamut that can be applied to a printed medium for storage of secondary information.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 10","FIG. 11","FIG. 10"]},"Recovery of the secondary information can be apprehended by viewing .  is a printed portion of one raster line of . A scanning apparatus having a sufficient resolution will easily detect the color gamut of each superpixel as a scan that follows the raster line occurs. By eliminating true black from the color gamut of the scanning apparatus, the two raster line portions of  are detected by the scanning apparatus. From the detection of the specific color of each superpixel, the secondary data is recovered from the stream of superpixels detected in the raster line scan. For completeness of understanding, the printed illustrations of  show the printed secondary data of the medium minus the black text information and a magnified view thereof ().","The first data need not be limited to textual data.  illustrates a first information graphic image (printed in true black) with a background of color superpixels encoding second information. The printed second information is shown with the first information removed in  and a magnified view of  is shown in .","The output from a first alternative embodiment of the present invention is shown in , in which \u201ccolor\u201d is taken to mean shades of gray. In this embodiment, first information is originally input as conventional text data, and the raster data of a second information, originally input as conventional picture, graphics, text, or the like data. The printed output, then, is a background of superpixels haying varying shades of gray in accordance with a predetermined printer gray scale and a foreground of black text. Thus, first and second data is printed on a medium independently detectable when viewed from the printed medium. Of course, second information density is diminished from color encoding when a gray scale encoding is used.  shows a single raster line from the gray scale printing of  and  shows a plurality of raster lines from the printed output of  but with the true black information removed.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":["FIG. 22","FIG. 23"]},"The printed output resulting from a third alternative embodiment is shown in . In this instance, the second information, encoded as raster lines of color superpixels, is placed on the printed medium in positions where the first information is not printed. This second information positioning can be in predetermined locations such as interlineations or marginalia, or it can be placed where unpredictable first information is not placed.","As an aid to scanning apparatus that must detect color quantizations superpixel by superpixel and detect raster scan lines with precision, a color gradient calibration can be placed on the printed media. Such a calibration is shown printed at the top of . Moreover, the printed first and second information is enclosed in a true black solid line that provides orientation reference for the scanning apparatus. An equivalent gray scale calibration and solid line reference is shown in the printed output of .","Thus a process and apparatus for recording secondary information while retaining a first information in a way that the first and second information does not interfere has been shown and described."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The file of this patent contains at least one drawing executed in color. Copies of this patent with color drawings will be provided by the Patent and Trademark Office upon request and payment of necessary fee.",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 8","FIG. 7"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 9","FIG. 8"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 11","FIG. 10"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 12","FIG. 10"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 13","FIG. 10"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 15","FIG. 14"]},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 17","FIG. 16"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 18","FIG. 17"]},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIG. 20","FIG. 18"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 21","FIG. 18"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 26"}]},"DETDESC":[{},{}]}
