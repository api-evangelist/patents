---
title: Apparatus and method for telecommunications services
abstract: One embodiment disclosed relates to a modular apparatus for telecommunications services. The apparatus includes at least a network interface, a service logic program, and a plug-in module. The network interface exchanges signals with a telephony network, and the service logic program communicates control events with the telephony network by way of the network interface. The plug-in module is configured to exchange in real-time (i) a first type of messages with a charging server and (ii) a second type of messages with the service logic program.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06954631&OS=06954631&RS=06954631
owner: Hewlett-Packard Development Company, L.P.
number: 06954631
owner_city: Houston
owner_country: US
publication_date: 20030213
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY","DETAILED DESCRIPTION"],"p":["1. Field of the Invention","The present invention relates generally to telecommunications systems.","2. Description of the Background Art","Conventionally, telephony service billing is conducted periodically. At the end of the billing period, the accumulated call data stored on telecommunications switches is downloaded to a facility that combines data for a subscriber and then compiles a summarized billing for the subscriber which is sent for payment.","With the conventional accounting structure, billing information is not readily accessible during a call. For example, a telecommunications service provider cannot readily access the billing information in real-time to determine when a prepaid caller has run out of credit.","A service control point is a central intelligent network node where service logic is executed. A previous implementation of a billing system for prepaid services has integrated a custom billing system into the service control point. However, such a solution is costly and lacks flexibility.","One embodiment of the invention relates to a modular apparatus for telecommunications services. The apparatus includes at least a network interface, a service logic program, and a plug-in module. The network interface exchanges signals with a telephony network, and the service logic program communicates control events with the telephony network by way of the network interface. The plug-in module is configured to exchange in real-time (i) a first type of messages with a charging server and (ii) a second type of messages with the service logic program.","Another embodiment of the invention pertains to a method for telecommunications services. The method includes exchanging signals between a service logic program and a telephony network. The method also includes exchanging in real-time a first type of messages between a module and a charging server and exchanging in real-time a second type of messages between the module and the service logic program.","Another embodiment of the invention pertains to a scalable apparatus for telecommunications services. The apparatus includes a plurality of plug-in modules configured to exchange in real-time (i) a first type of messages with a charging server and (ii) a second type of messages with a service logic program. In accordance with this embodiment, links to the charging server are creatable and deletable by way of activating and deactivating the plug-in modules such that bandwidth to the charging server is scalable.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1","b":["102","104","104","106","108"],"i":["a ","b"]},"The PPS server  may comprise a billing application available from various third party vendors. The billing application may use a specific billing protocol that is specific to each vendor's billing system.","The connection  between the PPS server and the SEP systems and may comprise, for example, a local area network (LAN). The LAN may, for example, utilize the Internet protocol (IP) for communications between devices. Alternatively, the connection  may comprise a wide area network (WAN) if the PPS server  is located remotely from the SEP systems and ","The two SEP systems and are provided for purposes of redundancy in order to provide high availability. As illustrated, one SEP system is active, while the other SEP system is on standby. Each SEP system comprises a service logic execution environment (SLEE) , plug-in \u201ccontainer\u201d software , a plug-in PPS module , and a fault tolerant controller . A message-based interface (MBI interface)  is utilized between the plug-in container software  and the SLEE .","One or more service logic programs (SLP) may be executed on the SLEE . An SLP is a program implementing a telecommunications-related service. SLPi denotes an instance of the SLP. In particular, a prepaid service SLP  may be executed on the SLEE . The call control logic is executed uniquely on the active SEP system . If the standby SEP system becomes the active system, then the new calls control logic will run on that system.","The plug-in container  includes various application programming interfaces (API). For example, a communication (Comm) API may be used for interfacing between the Plug-In PPS module  and the SLEE . A high availability (HA) API is used for interfacing between the plug-in PPS module  and the fault tolerant controller .","The fault tolerant controller  is utilized to provide the redundancy needed for high availability services. The fault tolerant controller  in the active SEP system is in communication with the fault tolerant controller  in the standby SEP system . When a core process (such as the SLEE ) from the active SEP system goes down or is interrupted, a switch occurs such that the service is provided by the standby SEP system . This advantageously provides redundancy for high availability.","The MBI interface  is utilized for communicating between the prepaid service SLP  and the plug-in PPS module . In accordance with an embodiment of the invention, the MBI interface  utilizes a protocol that is independent from the specific billing protocol that is utilized by the PPS server . This is advantageous in that the system may be easily modified to work with a different PPS server  having a different billing protocol. In order to work with the different billing protocol, only the plug-in PPS module  need be modified to be compatible with that billing protocol. Other components may remain the same since the MBI interface  is independent of the billing protocol.",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2","b":["202","204","206"]},"The SLEE process  includes one or more service logic programs, including the prepaid service SLP , and OAM (operations, administration, and maintenance) services, including an MBI plug-in OAM service . The MBI plug-in OAM service utilizes an MBI plug-in configuration database .","The MBI plug-in process  includes a protocol stack , a management stack , and core layers . The protocol stack  is a set of protocol layers in charge of protocol conversion functionalities. The management stack  is similarly in charge of the communications between the PPS server  and the MBI plug-in OAM service . The core layers  are in charge of the communications between the PPS server  and the prepaid service .",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 3","b":["301","120","114","102"]},"First, the top of  shows a \u201cstart of call event\u201d type message  from the telephony network  to the Prepaid Service SLP . In particular, such messages may be sent (and received) by a Mobile Switching Center (MSC)  in the telephony network . The specific form of the \u201cstart of call event\u201d type message , and of other communications between the Prepaid Service SLP  and the telephony network , will depend on the telecommunications protocol of the telephony network . For example, under the CAMEL (Customized Application for Mobile network Enhanced Logic) protocol, the start of call event  may comprise an InitialDP message. As another example, under the Wireless Intelligent Network (WIN) protocol, the start of call event  may comprise an OriginationRequest.Invoke message. Other telecommunications protocols may be used, and embodiments of the present invention are intended to be adapted for use with various telecommunications protocols.","The Prepaid Service SLP  receives the start of call event . It responds by generating an MBI_authorize message and transmitting the message to the Plug-In PPS module . This MBI_authorize message is part of the MBI interface. In accordance with an embodiment of the invention, the messages of the MBI interface are independent of the billing protocol used for communications between the Plug-In PPS module  and the PPS server .","The Plug-In PPS module  receives the MBI_authorize message  and then communicates with the PPS server  regarding \u201cauthorization\u201d and \u201ccredit reservation\u201d  in relation to the call. For example, the communication may be in the form of the Plug-In module  sending a \u201cReserve Request\u201d message with specified parameters to the PPS server , and the PPS server  responding with a \u201cReserve Response\u201d message with specified parameters. The specific communication will depend on the billing protocol used by the PPS server . For example, the PPS server  may use the billing protocol for an Amdocs billing system, available from Amdocs Limited of Chesterfield, Mo. and other office locations. Other billing systems besides Amdocs may be used, and embodiments of the present invention are intended to be customizable to a variety of billing systems.","Upon receiving an affirmative authorization\/credit reservation, the Plug-In PPS module  sends an MBI_authorize_confirmation message  to the Prepaid Service SLP . With the authorization confirmed, the Prepaid Service SLP  signals the telephony network  with an \u201cestablish the call\u201d type message .","Second,  shows how the PPS server  may cause an announcement to be played to the user. The PPS server  does so by sending a \u201cplay a message\u201d type message , including the announcement to be played, to the Plug-In PPS module . Upon receipt of that message, the Plug-In PPS module  sends an MBI_announcement  to the Prepaid Service SLP . The Prepaid Service SLP  responds by transmitting a \u201cplay the announcement\u201d type message  to the telephony network . The Prepaid Service SLP  also responds by sending an MBI_announcement_confirmation message  back to the Plug-In PPS module .","Third,  shows how the Prepaid Service SLP  may re-authorize a call. The Prepaid Service SLP  does so by sending an MBI_reauthorize message  to the Plug-In PPS module  when the time allocated by the PPS server  in the precedent authorization has expired. The timer used to determine such an expiration may be controlled by the Prepaid Service SLP  or a network switch. Typically, the PPS server  allocates time chunks to a user (not the full credit), so a user may have to be re-authorized a number of times during a call. Upon receipt of the MBI_reauthorize message , the Plug-In PPS module  communicates with the PPS server  regarding \u201ccredit reservation\u201d and \u201cdebit\u201d  in relation to the call event. For example, the communication may be in the form of the Plug-In module  sending a \u201cReserve Request\u201d message with specified parameters to the PPS server , and the PPS server  responding with a \u201cReserve Response\u201d message with specified parameters. The specific communication will depend on the billing protocol used by the PPS server . Upon receiving an affirmative response, the plug-in  sends an MBI_authorize_confirmation message  to the Prepaid Service SLP . This confirms the re-authorization of the call.","Fourth, near the bottom of  is shown the exchange for terminating the call event. The \u201cend of call event\u201d type message  is received from the telephony network  by the Prepaid Service SLP . For example, under the CAMEL protocol, the \u201cend of call event\u201d  may comprise the report of a disconnect event. As another example, under the WIN protocol, the \u201cend of call event\u201d  may comprise an ODisconnect.Invoke message.","The Prepaid Service SLP  receives the end of call event . It responds by generating an MBI_end message and transmitting the message to the Plug-In PPS module . Again, this MBI_end message  is part of the MBI interface.","The Plug-In PPS module  receives the MBI_end message  and then communicates with the PPS server  regarding \u201cfinal debit\u201d  in relation to the call. For example, the communication may be in the form of the Plug-In module  sending a \u201cCharge Request\u201d message with specified parameters to the PPS server , and the PPS server  responding with a \u201cCharge Response\u201d message with specified parameters. Again, the specific communication will depend on the billing protocol used by the PPS server .","Upon receiving a final debit related notification, the Plug-In PPS module  sends an MBI_end_acknowledgement message  to the Prepaid Service SLP . Finally, the Prepaid Service SLP  may send an MBI_close message  to the Plug-In PPS module  to clean the plug-in session allocated in the Plug-In PPS module .",{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 4","b":["302","301","120","120","302","114","114","304","102","402","114","404","120","120","301","406"]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 5"},"First, the top of  shows the message flow done at service startup. At service startup, the Prepaid Service SLP  transmits an MBI_startup message  to the Plug-In PPS module . An initial handshake communication  may then occur between the Plug-In PPS module  and the PPS server . Such a handshake  is optional, depending on the implementation. If the startup is successful, an MBI_startup_confirmation message  is sent from the Plug-In PPS module  to the Prepaid Service SLP . If the startup is unsuccessful, an MBI_startup_rejection message  is sent from the Plug-In PPS module  to the Prepaid Service SLP .","Second, the middle of  shows another message flow initiated by the service. The Prepaid Service SLP  transmits a management query (MA_query)  to the Plug-In PPS module . Such a management query  may be used by the Prepaid Service SLP  as a \u201cheartbeat\u201d mechanism to check that the connection with the PPS server  is still valid. A \u201cheartbeat\u201d communication  may then occur between the Plug-In PPS module  and the PPS server . Such a heart beat communication  is optional, depending on the implementation. Subsequently, an MA_Notify message  is sent from the Plug-In PPS module  to the Prepaid Service SLP .","Third, the bottom of  shows the message flow done at service shutdown. At service shutdown, the Prepaid Service SLP  transmits an MBI_shutdown message  to the Plug-In PPS module . A \u201cgood-bye\u201d communication  may then occur between the Plug-In PPS module  and the PPS server . Such a good-bye communication  is optional, depending on the implementation. If the shutdown is successful, an MBI_shutdown_confirmation message  is sent from the Plug-In PPS module  to the Prepaid Service SLP . If the shutdown is unsuccessful, an MBI_shutdown_rejection message  is sent from the Plug-In PPS module  to the Prepaid Service SLP .",{"@attributes":{"id":"p-0046","num":"0045"},"figref":["FIG. 6","FIG. 6"],"b":["102","302","304","306","308","310","3"]},"Subsequently, during a call, the PPS server  may initiate a message flow by sending a call termination request . The Plug-In PPS module  receives the call termination request  and responds by transmitting an MBI_authorization_rejection message  to the Prepaid Service SLP . The Prepaid Service SLP  receives the MBI_authorization_rejection message . In response, the Prepaid Service SLP  sends a \u201crelease the call\u201d message  to the telephony network, and the Prepaid Service SLP  also sends an MBI_end message  back to the Plug-In PPS module . A \u201cfinal debit\u201d type communication  then occurs between the Plug-In PPS module  and the PPS server . Subsequently, the Plug-In PPS module  may send an MBI_end_acknowledge message  to the Prepaid Service SLP , and the Prepaid Service SLP  may respond with an MBI_close message .","The PPS server  may also submit a heart beat type request  to the Plug-In PPS module . The heart beat type request  may be handled by the Plug-In PPS module  without forwarding to the Prepaid Service SLP . The Plug-In PPS module  transmits a heart beat type response  back to the PPS server .",{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 7","FIG. 7"],"b":["301","120","702","114","704","114","102","114","706","707","120"]},"The top of  shows the message flow in relation to a voucher to recharge an account. The Prepaid Service SLP  sends an MBI_voucher message  to the Plug-In PPS module . A \u201crecharge account\u201d type communication  then occurs between the Plug-In PPS module  and the PPS server . Subsequently, the Plug-In PPS module  may send an MBI_voucher_confirmation  or rejection  message to the Prepaid Service SLP .",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 8","b":["802","804","806","120","102","114","120","802","102","120","802","102"]},"In the above description, numerous specific details are given to provide a thorough understanding of embodiments of the invention. However, the above description of illustrated embodiments of the invention is not intended to be exhaustive or to limit the invention to the precise forms disclosed. One skilled in the relevant art will recognize that the invention can be practiced without one or more of the specific details, or with other methods, components, etc. In other instances, well-known structures or operations are not shown or described in detail to avoid obscuring aspects of the invention. While specific embodiments of, and examples for, the invention are described herein for illustrative purposes, various equivalent modifications are possible within the scope of the invention, as those skilled in the relevant art will recognize.","These modifications can be made to the invention in light of the above detailed description. The terms used in the following claims should not be construed to limit the invention to the specific embodiments disclosed in the specification and the claims. Rather, the scope of the invention is to be determined by the following claims, which are to be construed in accordance with established doctrines of claim interpretation."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
