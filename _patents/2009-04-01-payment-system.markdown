---
title: Payment system
abstract: Embodiments of the invention provide a method of processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants. The payment authorization requests are conducted as a result of orders by financial instrument holders via a plurality of different online merchant systems, each of said online merchants having an online merchant identity. The method is conducted by a trusted central intermediary system which is configured to transmit payment authorization requests to each of a plurality of different online merchant Internet Payment Service Provider (IPSP) systems. In some embodiments, a user may select a payment method on a per transaction basis, while removing the requirement for the user to provide payment details to individual online merchant systems or to their merchant IPSP systems by having the user submit their respective payment details to a separate, trusted entity.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08706577&OS=08706577&RS=08706577
owner: Visa Europe Limited
number: 08706577
owner_city: London
owner_country: GB
publication_date: 20090401
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF CERTAIN INVENTIVE ASPECTS","DETAILED DESCRIPTION OF CERTAIN INVENTIVE EMBODIMENTS"],"p":["This application claims priority under 35 U.S.C. \u00a7119(a) to Great Britain application no. GB 0900150.4, filed Jan. 6, 2009, the entire disclosure of which is incorporated by reference herein.","1. Field of the Invention","The present invention relates to a system and method of processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants, and is particularly, but not exclusively, suited to the processing of orders placed by financial instrument holders.","2. Description of the Related Technology","Users are increasingly encouraged to purchase goods online, i.e. via the Internet and associated technologies. Generally speaking, existing online payment systems fall into one of three types of arrangements: in a first type of arrangement, an online merchant system collects payment details from a financial instrument holder, otherwise known as a buyer or cardholder, without the buyer dealing directly with any other entity that may be involved in the transaction, and the online merchant system sends the transaction details directly to their acquiring bank system. In a second type of arrangement, the online merchant system collects payment details from a buyer without the buyer dealing directly with any other entity that may be involved in the transaction, and the online merchant system sends the transaction details to an online merchant Internet Payment Service Provider (IPSP) which processes payment authorizations on behalf of the merchant. The merchant IPSP system subsequently transmits the details to the online merchant's acquiring bank system; the details may be transmitted directly to the acquiring bank or to a payment processor which acts on behalf of the acquiring bank. Examples of IPSP systems which provide support for this second type of arrangement include the Protx\u2122 Veri-Secure Payment system (VSP).","In an arrangement of the first and second type, the online merchant system typically obtains payment card data, bank account information and\/or other financial data from the buyer. The online merchant system then passes this information either directly, or via a merchant IPSP system, to an acquiring bank processing system. Each online merchant system is assigned an online merchant account identifier by an acquiring bank, and this account identifier is used to identify the online merchant to the acquiring bank when requesting authorization of a transaction.",{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1","b":["1","1","1","3","1","1","3","3","3","3","5","7","3","3","1"],"i":["a","b","c","a ","c ","a"]},"A conventional end-to-end online transaction using an arrangement of the second type and involving the entities shown in  comprises the following steps:","An online merchant's system website collects from a buyer one or more order selections. The buyer checks out, enters their payment details and places an order on the online merchant's system website by pressing the \u2018Submit Order\u2019 or equivalent button on the merchant website's order transmission webpage. The buyer's web browser encrypts the information to be sent between the browser and the online merchant's web server. The online merchant then forwards the transaction details to their merchant IPSP system , typically via another encrypted connection to the payment server hosted by the merchant IPSP system . The merchant IPSP system  forwards the transaction information, including the online merchant's internet account identifier, to the processor used by the online merchant's acquiring bank system . The processor  forwards the transaction information to the payment scheme system  (e.g. Visa\/MasterCard). The payment scheme system  routes the transaction to the correct card issuing bank system .","The payment card issuing bank system  receives the authorization request and sends a response back to the processor of the online merchant's acquiring bank system  with a response code. The processor of the online merchant's acquiring bank system  forwards the response to the merchant IPSP system . The merchant IPSP system  receives the response, and forwards it on to the online merchant's system where it is interpreted and a relevant response then relayed back, via the merchant to the buyer confirming that the transaction has been authorized. The merchant IPSP system , on behalf of the online merchant, submits all their approved authorizations to the online merchant's acquiring bank system  for settlement. The acquiring bank system  deposits the total of the approved funds minus any fees and charges in to the online merchant's nominated account. This could be an account with the acquiring bank if the online merchant does their banking with the same bank, or an account with another bank.","An advantage of using a payment gateway such as the merchant IPSP system shown in  is that the merchant IPSP system can provide one or more additional various transaction processing functions, for example settlement, handling of chargebacks, handling of refunds, and transaction reporting, on behalf of the online merchant. In the settlement procedure, the merchant IPSP system  submits all the online merchant's approved authorizations collected over a given period, in a \u201cbatch\u201d, to the online merchant's acquiring bank system  for settlement. A chargeback is a reversal of a payment card transaction initiated by the buyer or the bank that issued the card used in the purchase. This differs from a refund, which is agreed to and initiated by the online merchant, via the merchant IPSP system . Transaction reporting involves providing an overview reporting function for accumulated transactions which have been authorized and optionally settled via the merchant IPSP system , so that a merchant can for example select a date range and see an overview relating to all transactions conducted within the selected date range. A merchant IPSP system  may provide an online merchant with a secure online website whereby to approve chargebacks, initiate refunds and\/or view transaction reports as described.","However, in each of the first and second types of payment systems described above, a buyer is required to provide his or her payment information separately for transactions initiated with each different online merchant. Thus, for each new online merchant that a buyer interacts with, the risk of exposure, misappropriation and\/or fraudulent use of the buyer's financial data increases.","In a third type of arrangement (not shown) the online merchant system redirects the buyer to an alternative payment system website with which the buyer interacts in order to complete the transaction. The alternative payment system interacts directly with the user who provides payment to the alternative payment system either directly from their bank account or via a mechanism such as a payment card. Where a payment card from a conventional payment scheme is used the alternative payment system performs the role of the merchant in the conventional payment system, submitting a payment demand through an acquiring system. Payment from the user is made to the alternative payment system. The alternative payment system is then responsible for any reimbursement of the merchant. In a second case, the alternative payment system can, in effect, behave as a conventional clearing house, funding a user's account within the alternative payment system from the user's actual issuing bank account by directly debiting their account. The alternative payment system subsequently ensures payment is sent to the merchant's issuing bank account, usually through a conventional clearing house. This merchant bank account may or may not be the same as their account held with their conventional acquiring system. Thus most of the time payment systems of the third type act as the intermediary to take actual funds from the user and pass them to the merchant, most usually via the consumer's and merchant's individual bank accounts, potentially holding on to those funds as they pass through accounts held by the payment system; an example of this third type of payment system includes the well known PayPal\u2122 payment system. Such a payment system may also have the capability to operate as a conventional IPSP, for example by providing associated online payment handling services.","While this type of payment system relieves the need for the user to set up individual payment accounts on a per online merchant basis, the user has a relationship with the alternative payment system and not with the online merchant system; this gives rise to several notable disadvantages: firstly the online merchant neither receives payment directly from an acquiring bank nor can avail itself of a payment-scheme based guarantee of payment, because for these transactions there is no direct relationship between the merchant and a card payment scheme. Secondly, for transactions effected via card payment the buyer does not have visibility of the individual online merchant from whom the product was bought (instead the card statement identifies the alternative payment system entity). Thirdly, the buyer is not protected by the card scheme's rules and may not be protected by any applicable consumer protection, because the transaction is with the payment system, and not with the online merchant system.","In accordance with at least one embodiment of the invention, systems and software are provided for processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants, as specified in the independent claims. This is achieved by a combination of features recited in each independent claim. Accordingly, dependent claims prescribe further detailed implementations of the present invention.","More particularly, aspects of the invention provide a method of processing payment authorization requests for payment transactions to be conducted via a data communications network on behalf of online merchants, the payment authorization requests being conducted as a result of orders by financial instrument holders via a plurality of different online merchant systems, each of the online merchants having an online merchant identity, and each of the online merchants being associated with one of a plurality of different acquiring banks,","wherein the method is conducted by a trusted central intermediary system which is configured to transmit payment authorization requests to each of a plurality of different online merchant Internet Payment Service Provider (IPSP) systems,","each of the merchant IPSP systems being configured to transmit payment authorization requests to at least one of a plurality of acquiring bank payment processor systems, each of the plurality of acquiring bank payment processor systems being responsible for processing payment authorizations for at least one of the acquiring banks,","the method comprising:\n\n","a) generating a payment authorization request comprising transaction data including:","i) a financial instrument identity to be used in the payment transaction by the financial instrument holder; and","ii) an online merchant identity, associated with the first online merchant, as the payment transaction beneficiary; and","iii) one or more transaction details including a payment amount; and","b) retrieving transmission data to enable the transmission of payment authorization request data to a selected merchant IPSP system associated with the first online merchant; and","on the basis of the retrieved transmission data, transmitting the generated payment authorization request to the selected merchant IPSP system, wherefrom a further payment authorization request may be generated and transmitted to an acquiring bank payment processor system responsible for processing payment authorizations for the acquiring bank with which the first online merchant is associated.","Thus embodiments of the invention enable a user to select a payment method on a per transaction basis, while removing the requirement for the user to provide payment details to individual online merchant systems or to their merchant IPSP systems. Thus, providing that online merchants, or their merchant IPSPs, subscribe to a service configured to perform the method, users only have to submit their respective payment details, preferably only once, to a separate, trusted entity. This has the benefit of reducing the risk of fraud that may be incurred in relation to conventional arrangements of payment systems, while allowing users to effect transactions more quickly and conveniently because there is no need for the user to input personal and financial information in respect of each transaction. Further, since the method can be implemented by an entity interfacing with, rather than replacing, an online merchant's existing IPSP system, it is the online merchant's account identifier that is transmitted to the acquiring bank. Thus the relationship for such transactions is between the buyer and the online merchant, with the resulting benefit that the buyer is protected by the card scheme's rules and, in some eventualities, compliance with any applicable consumer protection. In addition, the merchant IPSP system can provide one or more additional various transaction processing functions, for example settlement, handling of chargeback, handling of refunds, and transaction reporting, on behalf of the online merchant system. In particular the merchant IPSP system may provide an online merchant with a secure online website whereby to approve chargebacks, initiate refunds and\/or view transaction reports relating to transactions authorized through the system of the present invention.","Because the transactions which are authorized using the system of the present invention are still processed by the merchant IPSP system, merchant IPSP functions relating to these transactions may be accessed by the online merchant using an interface common to different transaction types. These transaction types may include both transaction types for which payment authorization requests are originated via the trusted intermediary system and other, separately authorized, transaction types which may be processed by the IPSP on behalf of the merchant without passing via the trusted intermediary system. This common interface may comprise a secure online website as mentioned above.","Further features and advantages of the invention will become apparent from the following description of certain embodiments of the invention, given by way of example only, which is made with reference to the accompanying drawings.","As described above, embodiments of the invention are concerned with a payment system and method, specifically a system and method of processing payment authorisation requests for payment transactions to be conducted via a data communications network on behalf of online merchants. The system involves a novel transactional entity, herein referred to as a trusted intermediary system, which cooperates with the conventional payment entities described in the background section with reference to .",{"@attributes":{"id":"p-0036","num":"0037"},"figref":"FIG. 2","b":["1","10","3","3","1","1","3","3","1","1","5","2","1","3","3"],"i":["a ","c","a ","c ","a ","c ","c","c","c","b","c "]},"Further, each online merchant system . . . website's order transmission webpage includes, as a novel payment option, referred to herein as \u201cSecure System of Payment\u201d (SSP), this identifying payment via the trusted intermediary system . Other payment options, including conventional online payment options, may also be included whereby a buyer can select a payment option which does not involve payment authorisation being processed through the trusted intermediary system . Such separately authorised transactions may for example include conventional online payment options in which a buyer enters their payment details into the online merchant system directly, or the merchant IPSP system directly, rather than using the trusted intermediary system . These separately authorised transactions are, however, preferably processed via the merchant IPSP system ","The trusted intermediary system  holds data in a database DB corresponding to users (buyers) and online merchants that have registered with the intermediary , together with transaction data. As will be described in more detail below, the database DB holds a set of payment details for the user in the form of a stored set of records conveniently referred to as a remote store; users can add details of payment instruments (typically cards and accounts) from which they can select to make payment for a transaction, causing the trusted intermediary system to update the contents of the user's remote store. This enables the user to select a payment method on a per transaction basis, while removing the requirement for the user to provide payment details to individual online merchants each time they shop online. Thus, provided online merchants subscribe to the trusted intermediary system , users only have to submit their respective payment details once, to a single entity. This has the benefit of reducing the risk of fraud that may be incurred in relation to conventional arrangements of payment systems (such as that shown in ).","The trusted intermediary system  interfaces with, rather than replaces, the online merchant IPSP system , which may be the online merchant's existing merchant IPSP system when subscribing to the service provided by the trusted intermediary system .","Because transaction authorisation requests which are originated using the trusted intermediary system  are passed to and processed by the IPSP system , additional various transaction processing IPSP functions relating to these transactions may be accessed by the online merchant. The merchant IPSP system can provide one or more such additional transaction processing functions, for example settlement, handling of chargeback, handling of refunds, and transaction reporting, on behalf of the online merchant system . The merchant IPSP system preferably provides the online merchant with a secure online website whereby to approve chargebacks, initiate refunds and\/or view transaction reports relating to transactions authorised through the trusted intermediary system .","Further, because transaction authorisation requests which are originated using the trusted intermediary system  are passed to and processed by the IPSP system , IPSP functions relating to these transactions may be accessed by the online merchant using an IPSP system interface which is common to different transaction types, including both transaction types authorised via the trusted intermediary system  and other, separately authorised, transaction types which may be processed by the IPSP on behalf of the merchant without passing via the trusted intermediary system . Such separately authorised transactions may for example include transactions for which a buyer enters their payment details into the online merchant system directly, or the merchant IPSP system directly, for use in payment authorisations conducted by the merchant IPSP system ","Further, it is the online merchant internet account identifier that is transmitted to the acquiring bank by the merchant IPSP system as part of the payment authorisation request. This has the benefit of ensuring the buyer is protected by the card scheme's rules and, in some eventualities, compliance with any applicable consumer protection, and identifies each transaction on a per online merchant basis on the user's card statements.","In addition, because payment systems according to embodiments of the invention involve the addition of the trusted intermediary system  within an existing and known set of processing entities, payments can be made according to conventional methods using the second and third types of arrangement described with reference to  in addition, or as an alternative to, via the trusted intermediary system .","Referring now to , operation of the payment system  according to an embodiment of the invention will now be described. At step S the user completes their shopping experience with online merchant C's online merchant system, initiates checkout using the online merchant system, and proceeds to the virtual checkout, according to conventional methods available through commonly available shopping cart and check-out software packages such as are known to the skilled person. The user selects \u201cSecure System for Payment\u201d (SSP) as a payment option (step S), causing the online merchant system to transmit an originating payment authorisation request message to the trusted intermediary system  (step S); the originating request message comprises at least an amount of payment for the selected goods, the online merchant account identifier and an identifier for the order. The trusted intermediary system  then transmits a login URL to the user (step S), prompting the user to login, or, if this is their first time of selecting SSP as a payment option, to register with the trusted intermediary system . Assuming for the purposes of this example that the user has previously registered with the service, the user inputs their login credentials (e.g. username, password, or other authentication details, dependent on the authentication mechanism utilised by the trusted intermediary system -step S).","The trusted intermediary system  then performs a lookup based on the user's credentials and identification details (step S), retrieving details from the user's remote store from the database DB, and presenting same to the user for their selection of payment method (step S). Upon selection of the desired payment method from options provided according to the details retrieved from user's remote store the trusted intermediary system  sends a payment authorisation request message to the online merchant's IPSP system , the payment authorisation request message comprising the selected payment instrument details, the amount of payment required and the online merchant identifier (step S). The merchant IPSP system sends a further payment authorisation request to the relevant acquiring bank (step S), prompting authorisation (or otherwise) per conventional methods (step S) and the transmission of a response message from the acquiring bank to the merchant IPSP system (step S). Assuming the response to comprise confirmation of the payment having been authorised, at step S, the merchant IPSP system sends a payment success notification message to the trusted intermediary system . This payment success notification message comprises a reference for the card scheme authorisation and a transaction identifier for the card scheme transaction.","Thereafter the trusted intermediary system  sends a payment success confirmation message to the online merchant system (step S), which prompts the online merchant system to confirm the order status to the user (step S).","It will be appreciated from the foregoing that conventional online merchant systems (including their merchant IPSP system) require modifying to include \u201cSecure System for Payment\u201d (SSP) as a payment option and indeed to interface with the trusted intermediary system . Accordingly the merchant IPSP system exposes a payment authorisation service to the trusted intermediary system  that allows payment & settlement for payment instruments (typically cards and bank accounts). Further it will be appreciated that because the trusted intermediary system  integrates with many merchant IPSP systems, it thus comprises a plurality of interface formats and protocols, each corresponding to a respective merchant IPSP system. Further, each online merchant's system is configured with integration software components, e.g. in the form of plug-ins, which enables the online merchant to integrate with the trusted intermediary system  for the purpose of initiating a payment transaction using SSP as a payment method.","Details of the configuration and processing capabilities of the trusted intermediary system  will now be described with reference to . The trusted intermediary system  comprises presentation and connectivity processing components, which are configured to transmit and manage various user-specific and online merchant-specific data; these processing components will be explained in more detail below, but in overview they comprise the following:","User Registration Components and Data","When a user wishes to register with the trusted intermediary system , they are required to complete an account registration process that allows a user to create an account with the SSP service. The account is required to be populated with appropriate data that can be used to make payments from the SSP service from an online merchant system offering the service.","Registration of the user with the trusted intermediary system  can be performed via any suitable interface, most conveniently, when the trusted intermediary system  is implemented as a web server, via a web browser. Once registered, and as mentioned above each user has a set of records associated therewith, which stores details of the accounts which they wish to debit when effecting a financial transaction. This could be a bank account, a payment card or other account such as any payment instrument that can be given a unique account reference. The trusted intermediary system  comprises presentation components  that enable the user to select and add to\/remove from the list of payment instruments. In addition the user has address book entries, which hold shipping details; the presentation components  enable the user to modify the shipping details. Each user has a profile, which comprises demographic and identification data for the user and can be modified via the presentation components , while user transaction data can be displayed for review by the user. As shown in  and explained in more detail below, the trusted intermediary system  can be implemented as a web server, in which case the presentation component  interoperate with the user's browser to allow selection and modification of the user data in the manner just described.","Registration can be effected via a number of channels:","Register via SSP site\u2014the user logs onto the website of the trusted intermediary system  and is presented with a registration page designed to capture the user's identity and preferred payment instrument details","Re-direct from order system\u2014If the user is within the online merchant's order system and wishes to effect payment using the SSP option they will need to register if they have not already done so. The user is re-directed to the registration screens associated with the trusted intermediary system  and then re-directed back to the online merchant's system","Register via an online bank\u2014assuming the trusted intermediary system  comprises the necessary integration functionality, the user can register for the SSP service from within their bank's online account service.","User Authentication Components","Authentication of a user into the trusted intermediary system  for payment transactions can be performed according to any one of the 3 known categories listed below:","1-factor authentication\u2014Something the user knows (e.g., a username and password, pass phrase, or personal identification number (PIN))","2-factor authentication\u2014As 1 factor authentication, plus, something the user has (e.g., ID card, security token, software token, phone, or cell phone)","3-factor authentication\u2014As 2 factor authentication, plus, something the user is or does (e.g., fingerprint or retinal pattern, DNA sequence (there are assorted definitions of what is sufficient), signature or voice recognition, unique bio-electric signals, or another biometric identifier)","In one embodiment the trusted intermediary system  implements the authentication process. Alternatively the user can login via their online banking details, in which case the user would log into their online banking account, whereupon the banking system software would re-direct the user back to the trusted intermediary system . As a further alternative, authentication could involve an account identifying entity, which, based on user-specific input, could act as an intermediary and cooperate with the trusted intermediary system  to effect identification of the user's account on behalf of the user.","Online Merchant Data Store:","The trusted intermediary system  stores online merchant profile and registration data. These data include an online merchant internet account identifier together with a transactional and network identifier of the merchant IPSP system with which the online merchant system is registered. These data are held to enable the trusted intermediary system  to communicate with the merchant IPSP system on behalf of the online merchant system, and are collectively referred to as merchant IPSP system transmission data, or simply transmission data. In addition the trusted intermediary system  comprises a payment authorization service through which the trusted intermediary system  effects payments on behalf of the online merchant. Further, because the trusted intermediary system  integrates with many merchant IPSP systems it comprises a plurality of interface formats and protocols. Details of the relevant formats and protocols for each merchant IPSP system are held in the online merchant data store. Thus the afore-mentioned transmission data comprises a mapping of a payment authorization request emanating from a given online merchant system to an IPSP identifier, a network address and\/or network protocols that enable payment authorization requests to be routed to the relevant merchant IPSP system.","It will therefore be appreciated that registration of any given merchant offering the SSP service involves the merchant specifying the merchant IPSP system to which they subscribe. Conveniently the trusted intermediary  can hold a set of records corresponding to active merchant IPSP systems: each set of records can comprise network identifier and required communications protocols for storage in the database DB by the trusted intermediary . Thus during registration with the SSP the given online merchant can select, e.g. via a drop down list coordinated by the presentation components  of the trusted intermediary , the merchant IPSP system to which the online merchant has subscribed; the corresponding transmission data (or a link thereto) can then be stored in conjunction with the merchant records held in the database DB. Accordingly, provided the given online merchant has specified its corresponding merchant IPSP system in the manner just described, then in response to receipt of a payment authorization request from the merchant system, the trusted intermediary  can perform a suitable lookup from the database and retrieve the network identifier, protocol requirements etc. of the corresponding merchant IPSP system.","Application Programming Interface (API) Services Adaptor","The trusted intermediary system  comprises an API Services Adaptor, which enables connectivity between the trusted intermediary system  and the messaging infrastructure of the payment system . The adaptor is configured to manage the fulfillment of the trusted intermediary system  requests to external services, such as payment authorizations to merchant IPSP system and to expose a set of the trusted intermediary system  services that could be used by external functions such as merchant IPSP system ","Transaction-Specific Components and Data:","The trusted intermediary system  stores transactional data such as payment authorizations and settlements that are managed by the trusted intermediary system . In addition the trusted intermediary system  can store audit data associated with users and online merchant online activity as well as general system activity.","Messaging Services","The trusted intermediary system  is configured with email agents, which compose and transmit emails for the purposes of email address authentication and user activation and purchase order confirmations.","As mentioned above the trusted intermediary system  is preferably embodied as a web application server, for example as a J2EE compliant application server  which manages and provides access to the common business logic of the platform, and a web server & J2EE servlet engine , which acts as the entry point for external HTTP requests to the trusted intermediary system  from online merchants and from users' browsers.","The web server and servlet engine  comprises presentation components, which expose web services-based payment APIs or API wrappers to online merchant systems. In addition, the web server and servlet engine  comprises presentation processing components  which are configured to generate and manage the interface to the user, e.g. when the user selects a payment method in the manner described above.","The J2EE Application Server  manages all the business logic for the web platform and applications. The business logic comprises functional software components . . . , which can be implemented as, for example, Session EJBs (Enterprise Java Beans). These functional groups include, e.g. email processing modules, address validation modules, and fraud and security service modules; in addition the server  comprises objects implemented, for example, as EJB 3.0 specified Java objects . . . that provide access to static and persistent data stored in DB such as user data, audit data and transaction data described above. The trusted intermediary system  comprises web services in the form of wrappers that expose the Session EJBs to other elements of the payment system . More specifically, the functional software components . . . and objects . . . interoperate with external service enablers  such as address validation services, email applications (including access to an email server) and fraud services . . . , among others. The application server  components . . . communicate with the application components . . . via a set of APIs, referred to generically as such in relation to parts . . . . When implemented as a web server, data between the elements of the payment system  (i.e. those shown in ) and the trusted intermediary system  are transmitted using a secure mechanism, e.g. via the HTTP over Secure Socket Layer protocol (HTTPS).","The processing steps described above with reference to , specifically the steps performed in particular by the trusted intermediary system  when interfacing with the various payment entities, will now be described in more detail. Turning to , at step S., the user selects SSP payment service as the payment method and submits their selection to the online merchant website. This triggers a request from the online merchant system, specifically retrieval by the online merchant system of the URL corresponding to a sign-in page of the trusted intermediary system , and subsequently the sending of a key order plus online merchant fields including a return URL (step S.) and the creation of a secure session. Having received the sign-in URL from the trusted intermediary system , the online merchant system displays the sign-in page to the user (step S.). In one arrangement the sign-in page is implemented as an iFrame, which enables the user to communicate directly with the trusted intermediary system  while remaining within the online merchant's online environment. The user enters their sign-in details (step S.), and is authenticated according to one of the authentication mechanisms described above (step S.); if authentication is successful, the web server and servlet engine  sends data content from the user's remote store to the iFrame for display and selection therein (step S.). Once the user has selected their payment method from the options within the downloaded remote store contents, the user submits their selected option (step S.) to the web server and servlet engine , resulting in a confirmation page being transmitted to the iFrame (step S.).","Once the user has confirmed the payment selection and submitted same (step S.), the web server and servlet engine  sends the payment details to the online merchant's IPSP system (step S.) via a payment authorisation service through which the trusted intermediary system  effects payments on behalf of the online merchant; this involves creating an authorization request for receipt by the payment APIs , converting the payment authorization request into the API format of the online merchant's API and transmitting the formatted request to the merchant IPSP system . A settlement request is also transmitted to the payment APIs , which performs conversion of the settlement request into the API format of the online merchant's API and transmits same to the merchant IPSP system . It will be appreciated that the communication may be effected by either single or dual message implementations. These formatting and transmission actions are recorded in the transaction data store held by the trusted intermediary system  corresponding to the online merchant system.","Upon notification of authorization of the payment request (step S.), the web server and servlet engine  transmits a return online merchant URL to the iFrame (step S.), together with notification of successful authorization, causing the iFrame to empty, reload with JavaScript code from the online merchant system (step S.), and thus remove the iFrame and return the user to the online merchant system's website. Finally, the online merchant system's website displays a successful order webpage at step S..","In parallel with steps S.-S. the application server  can log the user's activity and send same to the audit data store, while sending corresponding system and event information to a third party fraud notification system (this is represented by one of the common service enablers shown in ). The fraud notification system comprises, but is not limited to, a fraud risk engine, which performs analysis of same so as to generate a risk score and a recommended action for the transaction; suitable fraud notification systems such as that provided by RSA\u2122 in their fraud prevention suite are known and will not be described in any more detail herein. The risk score and action are stored in the database DB, in conjunction with the other transaction details for the online merchant and the user.","The above embodiments are to be understood as illustrative examples of the invention. Further embodiments of the invention are envisaged. For example, while in the foregoing examples the trusted intermediary system  is described as receiving payment requests from online merchant systems, the intermediary  could additionally or alternatively receive payment requests from a merchant IPSP system in the third type of arrangement described in the background section in cases where such merchant IPSP systems have been modified to offer SSP as a payment option.","Further, while certain embodiments make use of iFrame web technology to navigate the user to different websites, it will be appreciated that standard web redirection can instead be employed. In such alternative arrangements the user's browser will be navigated away from and back to the SSP website, depending on the entity (or rather the URL corresponding thereto) with which the user's browser is communicating at any point in time. For example, during authentication and\/or account selection by the user, the user's browser may be redirected by the SSP website to a website provided by, or on behalf of, the user's issuing bank, and once the user authentication and\/or account selection is completed, the user's browser may be redirected by the issuer bank website back to the SSP website.","In the foregoing embodiments the trusted intermediary system  is described as storing shipping details in the set of user records: to this extent the trusted intermediary system  can be viewed as providing part of the functionality associated with a checkout tool: the relevant fields stored in the database DB could be available through the interface to enable merchant systems to reference the data during the checkout process and populate fields appropriately. However, it is to be understood that this is an optional aspect of the intermediary . Indeed, the checkout functionality could be provided by the online merchant system , in which case the trusted intermediary system  would simply perform the role of a payment tool, and the database DB would then store fewer items of user-specific information.","In the foregoing, the term \u201csystem\u201d, when applied to entities such as the merchant system, the merchant IPSP system, the trusted intermediary system and other entities, should be understood to mean a data processing function, provided at one or more physical sites, connected to other data processing functions via data communications links. Each function may be provided by a single data processing node, for example a server computer, or a set of data processing nodes providing fail-over backup to each other, such as a cluster of server computers, and\/or a set of interconnected data processing nodes providing different modular sub-functions with respect to other members of the set, for example an interworking set of different server computers.","As will be appreciated from the foregoing, communications between the various entities comprising the payment system  preferably proceed via a data communications network such as the Internet. Each of the entities of the payment system  (the issuing bank; the trusted intermediary; the acquiring bank processor; the merchant IPSP systems; and the online merchant systems) is identifiable via a network identifier such as an Internet Protocol (IP) address or other suitable identifier.","Accordingly the communications network can comprise a network comprising one or more technologies i.e. a hybrid communication network; for example the network can comprise the Internet in conjunction with the Public Switched Telephone Network (PSTN) and\/or a mobile communication network capable of supporting, for example, one or more of the following communication protocols: GSM (Global System Mobile), WCDMA (Wideband Code Division Multiple Access), GPRS (General Packet Radio Service). In addition to or instead of the mobile communication network, a local area network such as a Wireless Local area network (WLAN) or BlueTooth\u00ae (BT) and\/or other technologies such as WiMax can be used to carry part of the payment authorisation request and response messages. In this way, users can interact with the online merchant systems using portable, remote devices. The data communications network can be arranged to support generic Internet access using any transport methods. In addition, or as an alternative, to sending confirmation messages as email messages, payment confirmation messages can be transferred as SMS-messages (Short Message Service), MMS-messages (Multi Media Service), Wireless Application Protocol (WAP) pages, Internet pages, HTML (Hypertext Mark-up Language) pages, XHTML (eXtended HTML) pages, or IP-datagrams (Internet Protocol).","It is to be understood that any feature described in relation to any one embodiment may be used alone, or in combination with other features described, and may also be used in combination with one or more features of any other of the embodiments, or any combination of any other of the embodiments. Furthermore, equivalents and modifications not described above may also be employed without departing from the scope of the invention, which is defined in the accompanying claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0030","num":"0031"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0031","num":"0032"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0032","num":"0033"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0033","num":"0034"},"figref":["FIG. 4","FIG. 2"]},{"@attributes":{"id":"p-0034","num":"0035"},"figref":["FIG. 5","FIG. 2"]}]},"DETDESC":[{},{}]}
