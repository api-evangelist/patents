---
title: Managing packet voice networks using a virtual entity approach
abstract: A method for managing packet voice networks conforming to ITU Recommendation H.323, using a virtual entity approach and abstract information model approach, is disclosed. A virtual zone object represents an association of a virtual gateway, which comprises an H.323 gateway and a signaling controller, and one or more associated virtual gatekeepers, each of which comprises an H.323 gatekeeper, or the combination of an H.323 gatekeeper and a route server. User input specifies a configuration operation on the virtual zone and one or more parameter values. One or more configuration instructions are automatically issued to both the gateway and the gatekeeper, and other involved objects representing other involved network elements, resulting in configuring both the gateway and the gatekeeper as specified in the user input. As a result, a user can configure or operate on a virtual zone or other virtual object as an atomic entity, for example, in a network management application, without involvement in complicated details of the actual network devices that provide a particular packet voice service.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07466710&OS=07466710&RS=07466710
owner: Cisco Technology, Inc.
number: 07466710
owner_city: San Jose
owner_country: US
publication_date: 20020515
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS; PRIORITY CLAIM","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE PREFERRED EMBODIMENT","TERMINOLOGY","Technical Overview","Virtual Switch Information Model","Virtual Switch Operations","OPT Network Management System","Virtual Entity Approach for H.323 Opt Networks","Hardware Overview","BENEFITS, EXTENSIONS AND ALTERNATIVES"],"p":["This application claims benefit of domestic priority as a Continuation-in-part of prior application Ser. No. 10\/027,005, filed Dec. 19, 2001 now U.S. Pat. No. 7,126,941, and from Provisional Appln. 60\/314,745, filed Aug. 24, 2001, the entire contents of which are hereby incorporated by reference as if fully set forth herein, under 35 U.S.C. \u00a7119(e) and \u00a7120.","The present invention relates to managing packet-switched telecommunication networks that carry voice and telephone call information, and relates more specifically to managing H.323 networks using a virtual entity approach.","Telecommunications service providers and equipment manufacturers are now rapidly developing and deploying packet-switched data communication networks that can carry voice and telephone call information, and that conform to published, non-proprietary engineering standards and protocols. Such \u201copen packet telephony\u201d (\u201cOPT\u201d) networks allow for integrating multiple services, such as voice and data, on the same network, which results in a cost savings.","One class of OPT networks is based on ITU recommendation H.323. Other OPT networks may be based on Media Gateway Control Protocol (MGCP) and its derivatives, such as SGCP, MeGaCo, H.248, and Session Initiation Protocol (SIP). In OPT networks based on the H.323 family of protocols, more intelligence is placed in the network as opposed to controllers. In contrast, OPT networks based on MGCP and similar protocols are designed such that individual networking devices store and process limited information about the network and its protocols (\u201cintelligence\u201d) and hence place most of the intelligence that is required for voice services in gateway controllers.","Generally, in an OPT network, voice functionality is separated into different planes. A bearer plane and a switching plane communicate data packets between endpoints. Media Gateway (\u201cMG\u201d) devices are located at the edge of the packet network and interface the packet network to other networks, such as the public switched telephony network. MGs provide facilities to transmit and receive data over the packet network, and convert data between the Time Division Multiplexed (TDM) format that is used in telephony networks, and the packetized voice payload format that is used in OPT networks. The signaling and control plane provides call intelligence, processing signaling, routing calls, interpreting dial plans, etc.","The signaling and control plane comprises one or more Media Gateway Controller (MGC) devices. MGCs instruct MGs through a control protocol such as MGCP to create, delete and modify voice connections. MGCs also terminate the signaling required for voice. In cases where signaling is physically connected to a Media Gateway, as with Primary Rate Interface or PRI, the signaling is backhauled between the MG and MGC. In this context, a \u201cbackhauled\u201d signal is one that is transported from a MG to a MGC, because the MGC is the entity that possesses or controls the MG.","Although OPT networks provide cost savings, managing OPT networks is far more complex than managing the TDM switches that are found in conventional circuit-switched networks, which the OPT networks are replacing. With TDM switches, operators manage and interact with fewer devices, possibly even one device, although each device is complex. In contrast, operators of OPT networks are required to manage and interact with a significant number of devices and many different types of devices. In short, where operators previously had to manage one network element, operators now have to manage an entire network.","For example, configuration and provisioning of the devices in an OPT network must be coordinated. Configuration mismatches must be properly detected. Alarms between different devices must be correlated where different devices detect the same error condition and, therefore, generate redundant alarms. As a further complication, the common principles underlying the operation of the OPT network are often not well understood by operators, who tend to \u201cthink\u201d in terms of boxes rather than in terms of general architecture. This increases costs and reduces profitability of service providers, as general operational complexity is increasing.","Further, how network management applications handle a problem is largely determined by how the application domain is modeled through data structures, program functions, and related processes. There is a need for modeling OPT networks in a way that simplifies dealing with such networks while addressing the unique properties of an OPT network. Current protocols and standards fail to address this need. In current approaches, network elements that represent MGs and MGCs are simply modeled and managed like any other network elements.","Distribution of functionality is one problem. Whereas TDM networks traditionally comprise monolithic network elements that hide much of their internal complexity, some of this complexity is now exposed, as functionality is distributed over several independent and cooperating components. Each component on its own is significantly simpler than a TDM switch, but the overall complexity of the network is higher, and it has a greater number and variety of components. Consistent provisioning of control elements as well as provided services can be a challenge because there is often a need to correctly configure multiple network elements.","Openness also results in management difficulty. Different components now provide functions that formerly were provided by the same TDM switch, and the different components may come from different vendors and may comprise different equipment types. There is a need for a way to accommodate future releases and implementations of MGs in a network management solution.","Flexibility also causes management challenges. Networks can have vastly different architectures. Central office equipment and customer premises equipment with different characteristics all may participate as MGs in the same virtual switch. The relationship between MGs and MGCs may vary over time.","Integration causes still other problems. A bearer network may carry services other than voice, which require management. A component acting as MG in a voice network may at the same time be part of a traditional data network. This introduces overlaps and dependencies between management domains, introducing additional complexity.","H.323 networks share similar problems. Indeed, in H.323 networks, the management problems outlined above can be considered even more acute because intelligence is less centralized than in an MGCP network. Based on the foregoing, there is a clear need in this field for improved methods to manage OPT networks and devices in them.","There is a particular need for an integrated network management solution for OPT networks that use ITU Recommendation H.323, so that gatekeepers and gateways are managed in a coordinated way.","There is also a need for a way for a solution that is operable in a way that is intuitive for an administrator or operator.","The foregoing needs, and other needs and objects that will become apparent for the following description, are achieved in the present invention, which comprises, in one aspect, a method for managing packet voice networks conforming to ITU Recommendation H.323, using a virtual entity approach and abstract information model approach, is disclosed. A virtual zone object represents an association of an H.323 gateway and one or more associated H.323 gatekeepers. User input specifies a configuration operation on the virtual zone and one or more parameter values. One or more configuration instructions are automatically issued to both the gateway and the gatekeeper, and other involved objects representing other involved network elements, resulting in configuring both the gateway and the gatekeeper as specified in the user input. As a result, a user can configure or operate on a virtual zone or other virtual object as an atomic entity, for example, in a network management application, without involvement in complicated details of the actual network devices that provide a particular packet voice service.","In other embodiments, virtual entities such as virtual SS7 gateways, virtual zone connections, virtual gateways, and others are used. There can be more than one H.323 gateway in a virtual zone. Further, an H.323 gateway may have an associated signaling controller, which is also considered as part of the same virtual zone.","In particular, in one embodiment, techniques are provided for managing packet switched networks that carry voice and more specifically for managing such networks using a virtual zone information object and processes that use and that implement such objects. The virtual zone represents a plurality packet switched network elements, such as gatekeepers and gateways. A virtual zone can be manipulated in a way that is analogous to provisioning a TDM switch and its constituent elements. In response to modification of a virtual zone object, programmatic processes automatically issue configuration commands or take other required actions with respect to all actual physical and logical devices and interfaces that are represented by the virtual zone object. As a result, the work required by operators and the number of errors interjected by operators is reduced.","Virtual zone operations are provided for operating on the virtual zone objects for performing provisioning and other functions are provided. The virtual zone object, in conjunction with the virtual zone operations, encapsulates and abstracts the packet switched network elements and facilitates provisioning the packet switched network elements. Thus much of the underlying complexity of a packet switched network is hidden from users, which simplifies network management.","Discrepancy detection and validation are also supported. In one embodiment, processes are provided to validate that the components of a virtual entity are configured in a way consistent with network level configuration integrity rules. Such validation can occur, for example, when the management system synchronizes its information with the network.","In other aspects, the invention encompasses a computer apparatus, a computer readable medium, and a carrier wave configured to carry out the foregoing steps.","In one embodiment, a virtual switch useful with an OPT network based on the MGCP protocol, and related control processes, are described. In another embodiment, networks based on H.323 use analogous concepts. In one such embodiment, virtual zones that encapsulate gateway and gatekeeper combinations are provided, and virtual SS7 gateways that encapsulate combinations of gateways and signaling controllers are provided. Other embodiments that provide route servers with gatekeepers are contemplated.","A method for managing packet voice networks using a virtual switch approach and abstract information model approach is described. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the present invention. It will be apparent, however, to one skilled in the art that the present invention may be practiced without these specific details. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the present invention.","For purposes of illustrating clear examples, the description herein generally relates to networks that are based on the H.323 protocol. However, embodiments are not limited to such a context, and embodiments are applicable to networks that use other OPT protocols. For example, embodiments described herein include a virtual zone and other virtual entities useful with H.323 OPT networks; other embodiments include a virtual switch useful with an OPT network based on the MGCP protocol. However, networks based on other protocols may use analogous concepts. In one such embodiment, virtual zones that encapsulate gateway and gatekeeper combinations are provided, and virtual SS7 gateways that encapsulate combinations of gateways and signaling controllers are provided. Other embodiments that provide route servers with gatekeepers are contemplated.","In this description, the following terms have the following meanings.","Directory Gatekeeper\u2014a Directory Gatekeeper (DGK) is a Gatekeeper that is configured to accept location request (LRQ) forwarding. With a Directory Gatekeeper, individual Gatekeepers do not need to know about other Gatekeepers. Instead, a Gatekeeper consults its routing table, which provides a default route to a Directory Gatekeeper. This Directory Gatekeeper is more knowledgeable about the topology of the network and can forward messages over to the proper egress Gatekeeper. The egress Gatekeeper can then contact the originating Gatekeeper to complete the call setup.","DGK Group\u2014group of Directory Gatekeepers, in which the Gatekeepers are configured solely for the purpose of redundancy through hot standby router protocol (HSRP), and\/or serving as alternate DGKs.","Gatekeeper\u2014an H.323 Gatekeeper (GK) provides E.164 address resolution and controls access for all types of H.323 endpoints. It can provide other services to the endpoints such as bandwidth shaping and gateway location. The Gatekeeper maintains a registry of H.323 endpoints in a H.323 network. The endpoints register with Gatekeeper at start-up, and they request admission from the Gatekeeper to set up a call. Similar to GW, a GK is a role that a physical device plays in the voice network. In the global long distance voice context, in one embodiment, a Cisco 3600 series router may be used as the Gatekeeper.","GK Group\u2014a Gatekeeper Group is an address resolution authority in a Virtual Zone. The GK Group must contain a primary Gatekeeper, and may contain a HSRP GK and\/or one or more alternate GKs. GK Groups are typically established to enable load balancing among multiple gatekeepers.","H.323 Gateway (or \u201cGateway\u201d)\u2014an H.323 Gateway (or \u201cGateway\u201d) is a type of Network Access Server (NAS) that acts as an interface between a circuit-switched PSTN network and a packetized voice network. A Gateway is the point at which a circuit-switched fax or voice call is encoded (using a CODEC) and repackaged into IP packets (or vice versa).","In a global long distance voice application, the Cisco 3640, 3660, AS5300, AS5350, AS5400, AS5800, or AS5850, or other functionally equivalent devices, may function as a Media Gateway. In this context, a Gateway initiates a call set-up with a H.323 Gatekeeper through H.225 RAS. The originating Gateway terminates the VoIP call to an appropriate destination Gateway with the Gatekeepers assistance. The terminating Gateway then re-translates the packetized voice into a format acceptable to the adjacent PSTN network. Thus, Media Gateway is a role that a physical device plays in the voice network; the same device can be configured for another role (such as MGCP gateway) in another setting.","Signaling Controller\u2014a Signaling Controller is a network element that terminates signaling and performs signaling conversion. In the global long distance voice context, in one embodiment, a Cisco Signaling Controller (SC) complex is used as a Signaling Controller. In this context, the SC provides an SS7 (ISUP or TCAP) to Q.931-over-IP signaling conversion function. The SC terminates the Message Transfer Part (MTP) Layer 3, converts the messages to Q.931 protocol and sends them to the gateway over an IP-based NFAS D Channel. The SC provides SS7 connectivity to the PSTN for the H.323 gateways. The SC does not provide any call routing functionality in the packet network. The call processing and routing functions are handled by the Gateways and Gatekeepers.","In one embodiment, the SC complex comprises a distributed combination of multiple components. In one specific embodiment, the SC complex comprises a Cisco SC2200, 5500, and SLT 2600. However, the SC complex may be viewed as one logical network element.","H.323 Gateway-SC association\u2014refers to the control ownership relationship between SC and H.323 Gateway. This relationship is reflected through a set of control connections between an H.323 Gateway and SC. This includes xGCP connections, signaling backhaul, as well as any resource coordination connections. In the global long distance voice context, this includes one control association: Q.931 backhaul for D-channel over Redundant Link Manager over RUDP.","Region\u2014a Region is a logical container that partitions the H.323 voice network. It may contain zero or one DGK Group, and one or more H.323 zones.","Router\u2014a router is a network device that performs packet routing functions. Depending on the service modules installed and the software settings, the same physical router can play different roles, including acting as a layer 3 IP router, a voice gateway, a gatekeeper, a SLT, or a voice gateway with embedded SLT. In the future, a router can even be configured to act as a gateway and gatekeeper at the same time.","Signaling port\u2014a port provided by a virtual gateway that terminates signaling; also termed D-channel port.","Trunk\u2014a port provided by a virtual gateway that terminates a voice channel. Typically, a DS0.","Virtual Gatekeeper\u2014a logical container for a gatekeeper and a route server. One function performed by a virtual gatekeeper in the signaling and control plane concerns route selection, for example, resolution of E.164 addresses to network addresses. A gateway communicates with a gatekeeper to perform route selection. In one approach, a gatekeeper communicates with a route server to perform route selection. Because the route server serves as an extension of the gatekeeper's own route selection function, use of a virtual gatekeeper to represent a combination of gatekeeper and route server is beneficial and shields users from having to set up and coordinate the connectivity between gatekeeper and route server.","Virtual SS7 Gateway\u2014a Virtual SS7 Gateway is a logical container consisting of one Media Gateway, and one Signaling Controller, and their interconnections. The MGC functions as a SS7 signaling gateway to the MG. In the global long distance voice context, a Virtual SS7 Gateway consists of one Voice Gateway and signaling converter, such as the Cisco SC2200 Signaling Converter. An SS7 network is communicatively coupled to the signaling converter, and the signaling converter is communicatively coupled to the Voice Gateway. The signaling controller converts RUDP based MTP3 messages from the SS7 network to Q.931 format messages, which are then sent to the Voice Gateway. Use of a Virtual SS7 Gateway is appropriate only in embodiments that interface to an SS7 PSTN network.","Virtual Gateway\u2014a Virtual Gateway is either a Gateway, or a Virtual SS7 Gateway.","Virtual Voice Port\u2014a logical container for a virtual aggregation of signaling and a voice port.","Virtual Zone\u2014a Virtual Zone is a group of Virtual Gateways and their associated GKs that are in the same GK Group, according to the same criteria as would be found for a canonical H.323 zone. A canonical H.323 zone consists of a set of GW groups with the same prefix; all GWs in the same zone route calls through the same address resolution authority (essentially a GK Group or OSP Server). Thus, each zone contains a list of address resolution authorities that could be used as destinations for egress routes. The address resolution authority could be a GK Group, or OSP Server. In addition, a Virtual Zone also includes the GK Group and the adjoining SS7 signaling controllers. There can be only one GK group in a zone.","Voice Port\u2014Voice ports are found at the intersection of packet-based networks and traditional telephony networks. A voice port is essentially a collection of Ds0 that physically connect an access server to a line from a circuit-switch telephony device in a PBX or PSTN. The voice port must be configured to convey signaling information in a way that the circuit-switched network can understand. Voice ports are essentially TDM ports.","Open packet telephony (OPT) networks based on Voice over Packet (VoP) technology are making inroads into the infrastructure of voice carriers. OPT networks enable service providers to offer telephony integrated with other services in a cost-effective way. Although several different OPT architectures exist, some have shared characteristics. For example, in general, OPT networks provide a bearer plane that deals with transport of voice payload data, and a separate control plane is responsible for signaling and provides \u201cintelligence\u201d in the network. Separation of the bearer plane and control plane enables other services to share the bearer plane, which services are controlled through their own control planes. Thus, multiple services can use the same transport mechanism with separate control mechanisms.","Separation of bearer and control planes also allows for flexibility in the design of OPT networks and enables integrated services to be provided by different components of different vendors. Because functions can be distributed across such components, the components tend to have less complexity individually and wider applicability, providing cost advantages. Further, service providers can differentiate themselves by creating networks in different ways to address different services and service characteristics.","However, network management is less well-developed in the context of OPT networks. Distribution of functionality across separate and heterogeneous components of multiple vendors increases the management complexity of the resulting networks. Further, whereas TDM switches in conventional networks had closed and proprietary interfaces not available for management manipulation, OPT network elements have open interfaces that are often exposed to management. As a result, there is an increasing need for management solutions, and the management problem is also more complex.","Effective management solutions are possible only with a thorough understanding of the unique aspects of OPT networks and how they impact management. However, service providers generally expect management solutions for OPT networks to fit in seamlessly with existing operations support structures and systems. Therefore, there is a need for a way to hide much of the underlying complexity of OPT networks from the operator.",{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 1A","b":["102","102","104","104","104","106","108","106","112","110","112","114","112","112","112","114","124","110"]},"A signaling and control plane  that lies logically outside the VoP network comprises first and second signaling transfer points (STPs) A, B, which are communicatively coupled to an SS7 switching network . These elements cooperate to provide signaling and control functions in the VoP network . For example, MGC A can backhaul certain signaling and control signals that cannot traverse IP network  through STP A, SS7 network , and STP B to reach MGC B.","A bearer plane  of VoP network  comprises first and second media gateways (MGs) A, B that are communicatively coupled to a second IP network . Alternatively, network  may be an ATM network that comprises one or more ATM switches. Networks ,  may overlap or constitute the same network. A first MG A is communicatively coupled to class 4 switch  and to a corresponding first MGC A that controls it. The second MG B is coupled to a corresponding MGC B that controls it. The second MGC B is further coupled to the second PBX B.","In one embodiment, each MG may comprise one or more Cisco MGX 8260 devices from Cisco Systems, Inc., San Jose, Calif., which may be coupled by DS3 connections to the PSTN of the ILEC. One such device, or a redundant pair, is typically used. Each MG may also have a DS3 connection to a PSTN of a competitive local exchange carrier (CLEC) and a DS3 or primary rate interface (PRI) connection to a service provider network. Each MGC may comprise the combination of redundant Sun Microsystems Netra servers, Cisco VSC3000 Virtual Switch Controller software, two or more Cisco Catalyst 5500 switches that control call routing through the networks and that are interconnected through the MG, and two or more Cisco 2600 routers that function as Signaling Link Terminators (SLTs) for termination of SS7 links from the ILEC network. In this arrangement, a LAN is implemented between the MGC components consisting of a fast Ethernet cross-connection between the Catalyst 5500 switches and an SS7 backhaul connection over IP between the switches and the routers. The Cisco VSC3300 software controls the network and also controls interaction between the SS7 network and the MG. The term \u201cvirtual switch\u201d as used in the label \u201cCisco VSC3300 software\u201d is distinct from the term \u201cvirtual switch\u201d as used in this disclosure.","In this arrangement, a call placed from telephone A is switched through PBX A, network , and class 4 switch  to MG A, where voice signals from telephone A are packetized. The packetized voice data passes through IP network  to MG B, which converts the packetized voice data back to TDM voice data that PBX B can carry to telephone B. These functions occur under the control of MGC A, B. As a result, a party at telephone A can hold a voice conversation with a party at telephone B, and the conversation is substantially carried in packetized digital form over IP network .","The network arrangement of  is provided as an example. Many variations are possible that share a common set of technical principles, namely the separation of bearer processing from signaling and control into distinct planes, and the introduction of open interfaces among the planes.","In general, bearer plane  is responsible for the transport of actual voice data (packet \u201cpayload\u201d). Bearer plane  can use different protocols, such as IP or ATM and various adaptation layers. Network elements within the bearer plane are not concerned with the specifics of telephony applications. The bearer plane  may comprise a conventional IP or ATM network with IP routers or ATM switches, respectively. Media gateways A, B reside at the edge of the bearer plane; for example, the MGs A, B can be located at the carrier's central office, or they can be customer premises equipment (CPE). Bearer traffic enters the VoP network  through MGs A, B. Further, in networks that interconnect packet and TDM networks, MGs normally provide for conversion of TDM voice data to packet data and the converse. Switches or routers in network  provide a bearer fabric or \u201cdata cloud\u201d that moves data packets among endpoints.","The Multiservice Switching Forum (MSF), an industry consortium, further divides bearer plane  into an adaptation plane and a switching plane. The switching plane deals with data transport, while the adaptation plane deals with the conversion of voice and adaptation of control functions to the specific bearer medium used. Functions of both the switching plane and adaptation plane can be implemented in the same physical device, under MSF guidelines.","Control plane  is responsible for signaling processing and call control and contains call processing intelligence in the form of MGCs A, B. The MGCs A, B control corresponding MGs A, B by instructing them when to set up or tear down connections, requesting notification of specific events for further processing, etc. MGCs A, B contain all programmatic logic required for telephony applications, including SS7 signaling termination, directory functions, and the collection of accounting information. The MSF further defines an application plane on top of the control plane, an understanding of which is not pertinent to the present disclosure.","Collectively, the bearer plane and control plane provide functionality that is analogous to that of conventional PSTN switches. Therefore, a set of one or more MGs and one or more associated MGCs are referred to herein as a \u201cvirtual switch.\u201d The term \u201cvirtual switch\u201d as used herein differs from a similar term, \u201csoft switch,\u201d which is sometimes used in the industry to refer to a MGC but does not include an associated MG.","Communication between the bearer plane  and control plane  in general, and between an MG A, B and a corresponding MGC A, B in particular, involves call control functions, signaling backhaul functions, and resource coordination functions. Call control functions involve proper allocation of network resources to calls, such as setting up and tearing down connections, or connection up-speeding for fax calls. Call control also involves creating records of the use of network resources that may be used as a basis for creating call data records that are used in billing services of the network provider.","Signaling backhaul relates to termination of signals. In general, signaling terminates at an MGC and not at an MG. In arrangements where signaling is physically connected through a line of the MG, e.g., channel associated signaling or primary rate interfaces, lower signaling layers such as Layer 2 are terminated at the MG. However, Layer 3 signals are backhauled to the MGC.","Resource coordination involves communicating information about the bearer plane components to the control plane, and information about the control plane components to the bearer plane. For example, the MGC is informed of certain properties of the MG, such as the available endpoints or their state. Resource coordination allows MGC and MG to directly exchange this information without requiring external provisioning.","Interfaces for the foregoing functions can be provided through one or several control protocols. For example, MGCP provides for call control and also can be used to an extent for signaling backhaul and aspects of resource coordination. Stream control transmission protocol (SCTP) may be used for signaling backhaul.",{"@attributes":{"id":"p-0096","num":"0095"},"figref":["FIG. 2A","FIG. 2A"],"b":["202","204","206","208"]},"Network element layer  represents the logical position of network devices in a network. Network element layer  may comprise, for example, one or more access devices acting as media gateways C; one or more edge devices acting as media gateways D; one or more core devices , which do not act as MGs; and one or more media controllers C.","Element management layer  comprises components that manage elements in network element layer . Typically, the components of element management layer  comprise software application programs that are executed on workstations that are communicatively coupled to the elements of layer  or to a network in which they participate. In one example arrangement, layer  comprises a media gateway element management system  that manages MGs; a transport network management system  that manages edge devices D and core devices ; and a media gateway controller element management system  that manages MGC C.","Service management layer  comprises an operational support system (OSS) that provides supervisory level control of the MG EMS , transport network management system , and the MGC EMS . Known OSS solutions from, for example, Telcordia or other vendors provide service order entry, service definition, and service provisioning functions.","Historically no commercial products have provided functionality for network management layer . In an embodiment, however, an OPT network management system  is placed in network management layer  and includes, among other elements, a virtual switch view and one or more virtual switch objects. The virtual switch view provides configuration management functions and may be used for other functions. OPT network management system  is configured in a highly scalable manner because it provides a single, overall management entry point into the OPT network. For example, flow-through interfaces are provided to enable programmatic functions of components of layer  to access the OSS . Further, an interface to an element management system is not required. For example, in environments in which no element management system is available, it is still possible for OPT network management system  to reach devices and have them under the scope of the OPT network management system by interfacing to a configuration delivery and retrieval engine, or by interfacing directly to the devices.",{"@attributes":{"id":"p-0101","num":"0100"},"figref":"FIG. 2B","b":["212","300","302","304","305","305","306","306","308","310"]},"A detailed description of an example embodiment of a GUI is also provided in pp. 33-163 of the above-referenced Provisional application.","In these embodiments, operations on the constituent elements of a virtual switch may be carried out by selecting one of the view tabs A, B or functions in toolbar . In response, OPT network management system  displays appropriate information or data entry fields in map area . A user may graphically drag virtual objects from tree view  and drop the objects in map area  in order to provide certain kinds of user input. For example, adding a PRI backhaul connection to a virtual switch may involve dragging an icon representation of a virtual switch from tree view  and dropping the icon in map area  in a specified data entry field, then providing one or more parameter values.","Other specific GUI operations are described herein with reference to . Use of a GUI is not essential to an embodiment. A GUI merely represents one example framework that may be used to manipulate virtual switch objects. In other embodiments, virtual switch objects may be manipulated programmatically through an appropriate API or other interface. Such an API may include function calls that provide the operations described herein that act upon virtual switches as atomic objects.","According to one embodiment, a virtual switch information model is provided. The virtual switch information model includes a virtual switch object and supporting objects in the form of one or more classes that are defined using an object-oriented programming language. The virtual switch object model encapsulates OPT network elements, such as MGCs and MGs. Virtual switch operations are provided in the information model for operating on a virtual switch, encapsulating individual operations that are to be sent to the network elements that underlie the other objects that it comprises. Network operators can manipulate one or more virtual switch objects using graphical representations of them that are displayed by a network management application, such as OPT network management system . In response, the network management application carries out operations on the actual OPT network elements that are encapsulated by the virtual switch. Thus, network operators can indirectly manipulate OPT network elements in a manner that is analogous to conventional manipulation of TDM components by using the virtual switch, without having to deal with details of the OPT network elements. As a result, the work required by operators, and the number of errors interjected by operator actions, are reduced.","According to one embodiment, a virtual switch encapsulates functions of MGs, MGCs and control communications between the MGs and MGCs. For example, a virtual switch object may represent an MGC, or a collection of MGCs backing each other up for reliability reasons; a set of MGs that are controlled by the MGC; and control connectivity between them, including control communications and transport connections necessary to carry the control protocols.","Numerous network management applications can use a virtual switch. For the purpose of illustrating an example, the description herein focuses on a configuration management application. However, embodiments are not limited to this context, and can be used in other areas of OPT management.",{"@attributes":{"id":"p-0108","num":"0107"},"figref":"FIG. 3","b":"300"},"Virtual switch information model  comprises a virtual switch object  that consists of one media gateway controller object  and one or more media gateway objects . Virtual switch object  also may have one or more association objects  that represent associations between an MG and an MGC, such as a control connection, backhaul connection, etc. Virtual switch object  also may have one or more virtual entity objects , which may represent virtual trunks, virtual trunk groups, D-channel trails, etc.","The media gateway controller object  may have one or more connection termination point objects  that represent, for example, a control connection termination point, a backhaul connection termination point, etc. Media gateway controller object  also may have one or more intelligence objects  that represent intelligence to interpret information, such as trunk information, trunk group information, IP path information, etc.","The media gateway objects  each comprise one or more connection termination point objects  that are substantially similar in structure and function to connection termination point objects . Media gateway objects  further may have one or more physical resource objects , which represent DS1 lines, DS0 lines, D-channels, and other physical resources that form a part of a media gateway.","The virtual switch model may include two categories of managed object classes (MOs) comprising one or more virtual switch level managed objects (VS MOs), and one or more media gateway managed objects (MG MOs) and media gateway controller managed objects (MGC MOs) that relate to constituent elements of the virtual switch. In general, these two categories of MOs constitute network-layer abstractions and aggregations, which are built on objects of the element-management layer. Virtual switch MOs are complemented by classes that model the Media Gateways and Media Gateway Controllers (i.e. the MG MOs and MGC MOs). The MGC MOs and the MG MOs are representations of network elements. One aspect of the virtual switch model lies in how the VS MOs tie MG MOs and MGC MOs together to allow management of the virtual switch as a single atomic entity.","The foregoing elements may be implemented in one or more computer programs that have the structure and functions described in pages 33 to 310, inclusive, of the above-referenced Provisional application, to which the reader is directed for further information. In general, according to one specific embodiment illustrated in such information, a virtual switch comprises the following programmatic objects:","(1) Virtual switch managed object: A virtual switch MO is a virtual representation of the following: (a) an MGC, (b) the MGs controlled by the MGC, and (c) the connectivity control between the MGC and the MGs. To an operator the \u201cvirtual switch\u201d provides virtual switch operations.","(2) Virtual Trunk: A virtual trunk comprises (a) the physical termination of the trunk at the MG (e.g., the actual DS0 line) as well as (b) knowledge of the trunk by the MGC, which is referred to as the trunk termination control. This \u201cknowledge of the trunk\u201d allows the MGC to control the trunk. To function properly, control communication needs to be working properly, which can be expressed through a configuration state. Thus, the OPT network elements need to be configured properly for control communications to work properly. Configuration state includes information that enables the determination of whether the OPT network elements are configured properly.","(3) Virtual Trunk group: A virtual trunk group constitutes a grouping of virtual trunks for administration purposes. In general, an MG will have no notion of which DS0s are grouped in a virtual trunk group; this concept of virtual trunk groups applies to the MGC for grouping the MGC's trunk termination controls. The concept of a virtual trunk group is a concept associated with a traditional switch, and therefore is a part of the virtual switch. Virtual trunk groups provide a way of administrating and provisioning trunks as a group. For example, instead of setting up 30 trunks separately, the virtual trunk group provides a mechanism for grouping the 30 trunks into a virtual trunk group and configuring the virtual trunk group as a whole, which in turns results in configuring all of the trunks in the trunk group in a manner that the virtual trunk group was configured.","(4) Virtual D-channel: A virtual D-channel is a representation of a physical termination of a D-channel, or the physical DS0 line that carries the D-channel signaling, at the MG, and the termination of the signaling at the MGC. A virtual D-channel is controlled and processed at the MGC. In addition, to be operable a D-channel requires a working backhaul connection. Again, by managing a virtual D-channel, the fact that an MG and MGC portion are associated with the virtual D-channel, and that backhaul connectivity needs to be managed can be hidden from the operator. As with a virtual switch, tracking virtual D-channels for fallout processing is possible. Tracking D-channel fallout processing involves tracking the fallout to the D-channel components associated with the MG, MGC, and backhaul connection. State can be used to identify D-channel problems related to signaling backhaul communications.","The following other objects may be provided in an embodiment, and relate to elements in a traditional network, and therefore are used to support the virtual switch model:","(1) Control connection: represents the MGCP communication, relating the MGCP endpoints on both the MG and the MGC. The control connection object is managed as part of the virtual switch, but can also be viewed independently.","(2) Backhaul connection: represents the communications related to signaling backhaul, using a session manager protocol or SCTP, relating the endpoints on both MG and MGC.","(3) Media Gateway: represents the Media Gateway.","(4) Media Gateway Controller: represents the Media Gateway Controller.","Another embodiment of a virtual switch information model is described in pp. 169-310 of the above-referenced Provisional application. Although the object-oriented programming approach has been used in this discussion, the various components comprising the virtual switch may be implemented using non-object-oriented programming techniques.","According to one embodiment, a virtual switch encapsulates many real resources (such as MGCs and MGs) and actions (communications between the MGCs and MGs) that operators are currently required to perform on these real resources. As a result, the OPT network operator (or any applications that may use the virtual switch) is not required to carry out the kinds of complex steps required in managing individual elements in an OPT network. Instead, an operator can think in terms of virtual switch operations. Thus the virtual switch in conjunction with these virtual switch operations provides a simplified mechanism for the operator to manage the real resources that comprise the OPT network. By using the virtual switch operations, the operator triggers an underlying application to perform complex management tasks on behalf of the operator.","Examples of virtual switch operations are as follows: (1) associate\/disassociate an MG from a virtual switch, (2) add\/remove\/modify parameters of a PRI backhaul service, (3) add\/remove\/modify a trunk, a trunk group, routes, route lists, (4) add\/remove\/modify a customer, (5) turn up\/tear down\/modify service for a customer. Each such operation is provided as a single operation, hiding from the user the underlying operational complexity of having to deal with multiple operations across multiple network elements.","In one embodiment implemented using object oriented programming, virtual switch operations are provided as methods on the objects comprising the virtual switch. Internally, each virtual switch operation is decomposed into a series of steps necessary to achieve the desired effect.",{"@attributes":{"id":"p-0127","num":"0126"},"figref":"FIG. 4"},"In block , user input selecting a virtual switch is received. For example, a GUI of OPT network management system  receives input from a mouse or other cursor movement device that selects a particular virtual switch object that is graphically represented in a network topology display. In block , user input selecting an \u201cAdd Media Gateway\u201d function is received. For example, input selecting an \u201cAdd Media Gateway\u201d function from a toolbar or pull-down menu of the GUI is received. In block , user input selecting a media gateway is received. The user input selects or identifies a media gateway object that is graphically illustrated in the network topology display or listed in an inventory list.","In block , provisioning commands are automatically generated and issued to the actual media gateway represented by the media gateway object that was selected in block  and to an associated media gateway. Thus, as a result of the operator performing the above steps of block -, OPT network management system  automatically sets up MGCP connections on both the MG end and the MGC end, signaling backhaul, etc. The operator does not have to be aware of the system's actions that are taking place under the covers. Removal and configuration modifications work analogously to this example of adding PRI service to a customer.","Block  necessarily involves numerous provisioning sub-steps that are omitted from  for illustrating a high-level view of the overall process. In an embodiment, most voice services and features that are the subject of operations of block  will involve coordinated provisioning of multiple network elements. For example, block  may involve setting line parameters on the media gateway controller, setting inter-connection parameters between them, and establishing end-to-end connection management parameters within the network. As a specific example, for turning up PRI service for a customer, block  may cause OPT network management system  to take the following actions:","1. Set up a MGCP control association; this will involve adding MGCP terminations at both the media gateway and media gateway controller;","2. Add a line with TDM endpoints and a CCS channel on the selected media gateway;","3. Instruct the media gateway controller to add a new trunk group and associate it with the customer;","4. Instruct the media gateway controller to add the trunks;","5. Associate the trunks with the corresponding media gateway endpoint;","6. Verify a signaling backhaul connection has been set up, which may involve separately verifying a primary backhaul connection and a secondary backhaul connection;","7. Set up a signaling backhaul connection if required; this may involve adding signaling backhaul terminations at both the media gateway and media gateway controller, and may involve setup of a Layer 2 connection to carry the signaling backhaul connection, such as a permanent virtual circuit in an ATM switch;","8. Set up a cross-connect between the CCS channel and the signaling backhaul connection at the media gateway, if required, as determined by the type of media gateway.","Different network solutions may have different configuration rules for virtual switches. For example, the selected control protocol may differ, or the solution may apply to VoAAL1, VoAAL2, or VoIP. Similarly, if the MG and MGC are interconnected using ATM switches, an operator may need to pre-establish PVPs or PVCs to interconnect MGs controlled by the same MGC.",{"@attributes":{"id":"p-0140","num":"0139"},"figref":"FIG. 5A","b":["502","212","502","504","212","506"]},"In block , user input providing basic group parameters is received. In one embodiment, a user selects a Basic Group Parameters tab and enters appropriate values, such as Description, Protocol Options, DLSAP profile table, MACSAP profile table, etc. Detailed values for signaling parameters also may be provided.","In block , user input approving the previously entered data values is received. Such input may comprise selecting an \u201cOK\u201d button, \u201cSUBMIT\u201d button, etc. In block , a provisioning job is initiated to provision the virtual switch and its constituent components as necessary to add a PRI signaling backhaul connection as specified by the user.",{"@attributes":{"id":"p-0143","num":"0142"},"figref":"FIG. 5B"},"In block , user input selecting a Trunk Group function area and Add function is received. For example, a user may select a Trunk Group tab and an Add function within the tab. In block , user input selecting a signaling type is received; the signaling type may be TDM-PRI or TDM-ISUP. User input specifying a direction, selected from among Bi-directional, Incoming, or Outgoing, is received in block .","If PRI was selected as the Signaling Type, then in block A, user input dragging and dropping a DS1 line onto a virtual switch field is received. Alternatively, if ISUP was selected as the Signaling Type, then in block B, user input dragging and dropping a virtual switch object into the virtual switch field is received. This operation selects a particular virtual switch in the network that will be the subject of processing.","In block , user input providing basic group parameter values is received. The basic group parameter values may include a trunk group number, description, etc., as indicated in block . In block , user input approving the entered data is received, and in block , a provisioning job is initiated. The provisioning job adds a trunk group to the MG and MGC that comprise the selected virtual switch.",{"@attributes":{"id":"p-0147","num":"0146"},"figref":"FIG. 5C","b":["530","212","532","534"]},"In block , user input dragging and dropping one or more trunk groups into a trunk groups field is received. This operation informs the OPT network management application about a proposed association of trunk groups to the selected virtual switch. In block , user input providing detailed parameter values is received. This operation enables a user to provided values that are more detailed for each selected trunk group. In block , user input approving the previously entered values is received, and in block , a provisioning job is initiated to actually associate the designated trunk groups with constituent elements of the virtual switch in the network.",{"@attributes":{"id":"p-0149","num":"0148"},"figref":"FIG. 5D","b":["550","212","552","554"]},"In block , user input providing basic group parameter values is received. In block , user input providing detailed parameter values, such as MG side parameters, SRCP values, MGC side parameters, etc. In block , user input approving the previously entered values is received. In block , a provisioning job is initiated to create an MGCP association between the selected virtual switch and MG.",{"@attributes":{"id":"p-0151","num":"0150"},"figref":"FIG. 6","b":"602"},"In block , an MG line object is created. As part of creating the MG line object, a request is dispatched to the lower-layer system (i.e., the MG or the MG's element management system) to instruct the MG to configure the DS1 line together with its D-Channel signaling on the MG, so the MG line object is associated with the physical MG line that the MG line object presents.","In block , a D-Channel signaling termination object  is created. As part of creating the D-Channel signaling termination object, a request is dispatched to the lower layer system to instruct the MGC to create a PRI signal path to terminate the D-Channel signaling backhauled from the MG's line that has been added.","In block , a test is carried out to determine whether the PRI object created in block  is the first PRI object associated with the current MG. If so, then control passes to block , in which a backhaul connection object is created.","In block , objects that the backhaul connection object depends on are created. The backhaul connection object resulting from block  in turn depends on other objects that have to be created, namely the objects that represent the backhaul terminations on both MG and MGC. The object that represents the backhaul termination at the MG is the \u201cMG backhaul termination object\u201d and the object that represents the backhaul termination at the MGC is the \u201cMGC backhaul termination object\u201d.","In block , one or more required resources are created and one or more operations are executed to support backhaul. Creation of the MG and MGC backhaul termination objects leads to dispatching requests to the lower layer systems to create the required resources and execute the required operations on the actual MG and MGC devices as a part of the creation of the respective objects. For example, protocol endpoints for signaling backhaul based on session manager protocol or SCTP are set up on the actual MG and MGC.","In block , the PRI is associated to the backhaul connection. If the backhaul connection already exists, the association of the PRI to the backhaul connection is created. If the backhaul connection doesn't exist, an association to a new backhaul connection is created; the association is required to be created first.","Upon successful creation of the MG and MGC backhaul termination objects the backhaul connection object is marked as working, as shown in block . Further, the PRI is marked as working, since all the dependent objects are in place and in working condition.","In an embodiment, fallout processing is provided in the event that a step fails. Further, depending on the actual devices slight differences in the steps of  may be carried out, which the objects and the object mapping to the \u201creal resources\u201d encapsulate.","The virtual switch described herein can be used not only to configuration management tasks but also to flagging inconsistencies in an existing OPT network configuration. Where objects are used to represent OPT network elements and relationships between those elements, flagging OPT network configuration inconsistencies (hereinafter referred to as \u201cinconsistency flagging\u201d) can be done by analyzing whether there are mismatches in the dependencies that the objects in the model have with other objects in the model. Inconsistency flagging can be used to relieve many problems for existing OPT operators, where the operator may have introduced an inconsistent configuration. Without inconsistency flagging, an operator does not have a good way of identifying inconsistencies between devices in a configuration.","One technique for quick identification of inconsistencies in the underlying network configuration is to associate one or more state attributes with the various objects that comprise the virtual switch. Configuration inconsistency occurs, for example, when an MGC is configured to control a particular MG but that particular MG is not configured to be controlled by that MGC. Inconsistency detection also may be carried out with respect to a virtual entity such as the virtual switch. For example, if the objects that the virtual entity depends on violate one or more integrity constraints, it can be concluded that the virtual switch itself is inconsistent and hence network-level configuration integrity violated. A simple example would be one of the dependent objects not referencing the other where it would be required (for instance, an MG not pointing to the MGC that is supposedly controlling it, e.g. pointing to a different IP address). Similarly, if one of the dependent objects indicates that it is not operational, or not installed, it can be concluded that the virtual entity as a whole is not operational.","Inconsistency detection can occur when the information in the object model is synchronized with the actual information in the network. As part of synchronization, the virtual entity objects may check if the newly synchronized information is still consistent. This can be invoked whenever an object that is part of a virtual entity changes (or is synchronized).","An OPT network management system  based on a virtual switch object model as disclosed herein may operate in coordination with element management systems , , . For example, the element management systems may be used for management tasks that are unrelated to voice or otherwise element-specific. The element management systems may carry out backup and restore of individual configuration data, downloading of software images, etc. However, an element management system is not required. For example, in environments in which no element management system is available, it is still possible for OPT network management system  to reach devices and have them under the scope of the OPT network management system by interfacing to a configuration delivery and retrieval engine, or by interfacing directly to the devices.","OPT network management system  may provide a graphical user interface to facilitate user interaction, as described in pp. 33-167 of the above-referenced Provisional application. For example, a particular screen may receive parameters for provisioning a virtual switch. To increase user productivity, basic parameters that must be supplied are treated separately from the rest of the parameters whose configuration by the user is optional and for which the system will provide defaults. Wizard-driven screens can be invoked for the configuration of special parameters.","Many of the provisioning operations of the OPT network management system  lead to multiple management requests issued to one or more of the element management systems shown in . Within OPT network management system , such requests may be represented as network management transactions or provisioning jobs. The OPT network management system  may comprise a provisioning job manager to provide a reliable way of managing such transactions. An operator may monitor job progress using a Job Listing tab that displays details of a particular job. This allows operators to know the actual status of provisioning at any point in time and to infer, in cases of failures, what went wrong.","Fault management functionality associated with management of a virtual switch includes integrated alarm reporting, de-duplication, correlation, and impact analysis. Examples of when event fault correlation would be used are the network is running and something in the network breaks such as a backhaul connection or someone unplugs a device. Since the OPT network elements are separate entities and each of these separate entities may detect the same error and generate an alarm for this same error, there is a need for correlating duplicate alarms and reducing the duplicate alarms down to one alarm (hereinafter referred to as de-duplication). One technique for providing de-duplication is via the virtual switch because the virtual switch has knowledge of the network elements and therefore can process all of the alarms generated in the network elements in the virtual switch to de-duplicate the alarms.","As a specific example, both MG and MGC will report a control connectivity disruption, even if the component at fault is the port of a switch through which all control communications is carried. In this example, the OPT network management system  can de-duplicate the alarm and indicate the loss of control connectivity as well as loss of service on the affected trunks as the impact or symptoms. Alarms received from multiple element management systems are first normalized, by applying consistent component names within the alarms, and sent to a de-duplicating process. Based on pre-defined or user-defined rules, multiple alarms for the same fault are de-duplicated into a single alarm, and displayed in an alarm browser, with information on impacted network elements and service impact.","In one embodiment, event correlation is facilitated using an event browser that is integrated in OPT network management system . An example embodiment of an event browser is described in pp. 127-139 of the above-referenced Provisional application. Use of an event browser is not essential to an embodiment, but provides a convenient way to view and evaluate environmental events that relate to OPT network management system . Event correlation also may be is facilitated using a log browser that is integrated in OPT network management system . An example embodiment of a log browser is described in pp. 140-143 of the above-referenced Provisional application. Use of a log browser is not essential to an embodiment, but provides a convenient way to view and evaluate environmental events that relate to OPT network management system .","Performance, accounting, and security management functions may be provided. For example, accounting data is typically collected by the MGC but not maintained at the MG, as all relevant data is conveyed to the MGC as part of control communications, for instance, when tearing down a connection. Accordingly, no correlation of accounting data is required.","In an embodiment, OPT network management system  enables a user to manage network elements that are not part of a virtual switch. For example, the network topology display may include \u201corphaned\u201d MGs that are not associated with or \u201cowned by\u201d an MGC.","A. Overview","A virtual entity approach particularly suited to use in H.323 OPT networks is now described. This description assumes that the reader is familiar with the H.323 recommendation and use of H.323-compliant network elements in an OPT network, with general principles of voice telephone network technical architecture, with call processing and signal processing methodologies, and with the role of H.323 network elements, such as gatekeepers and gateways.","The H.323 virtual entity approach herein takes into account certain key differences between H.323 and MGCP based networks that impact how they are managed. For example, in H.323, call-processing intelligence is distributed according to a model that is far more decentralized than that of MGCP. In H.323 OPT networks, gateways actually process signaling information, whereas MGCP uses a more centralized model revolving around \u201cintelligent\u201d media gateways controllers that control \u201cdumb\u201d media gateways. As a result, the H.323 approach uses virtual entities other than the virtual switch described above.","In the H.323 approach herein, virtual programmatic entities represent Signaling Controllers and Route Servers. Signaling Controllers provide for conversion between signaling not understood by a gateway, such as SS7, to signaling that the H.323 gateway can process, such as Q.931. Route Servers might be co-deployed with the actual H.323 components (gateways, gatekeepers, directory gatekeepers) as part of those networks. The virtual entities described herein can guide provisioning activities in H.323 networks and support applications such as network-level configuration mismatch detection.","The virtual entities are supported by processing methods that facilitate network management in a holistic manner, rather than an element-centered manner that would require users to deal with the distribution aspects of voice functionality. In one specific embodiment, the virtual entitles comprise one or more virtual zones, virtual zone connections, and virtual gateways.",{"@attributes":{"id":"p-0175","num":"0174"},"figref":"FIG. 1B","b":["128","132","120","122","120","120","102"]},"In a signaling and control plane , an SS7 network  is communicatively coupled to a signaling controller , which terminates SS7 signaling and provides an interface to gateway C. A first gatekeeper A is coupled to a directory gatekeeper , which is connected to IP network B. A second gatekeeper B receives signaling and control information and communicates with gateway D. A route server  may cooperate with gatekeeper B for performing route selection and other services.",{"@attributes":{"id":"p-0177","num":"0176"},"figref":["FIG. 1C","FIG. 1B"],"b":["152","154","134","154","130","120","152","156","120","156","134","138"]},"Virtual zones facilitate managing the dependencies between gateways, or virtual gateways of the type described below, of the same zone, as well as gateways and gatekeepers. A virtual zone is analogous to a virtual switch as described above for MGCP networks.","Virtual zone connections facilitate managing the dependencies between gatekeepers, between gatekeepers and directory gatekeepers, and between directory gatekeepers.","Virtual gateways facilitate managing the dependencies between signaling controllers, which provide for conversion between different types of signaling, and gateways, which logically terminate the signaling, such that the converted signaling is backhauled between the signaling controller and the gateway.","Virtual gatekeepers facilitate managing the dependencies between gatekeepers and route servers. Virtual gatekeepers, like virtual gateways, can be part of virtual zones, resulting in multiple levels of virtual entities.","In general, virtual gatekeepers serve to hide, from a user, complexities involved in communications of gatekeepers to route servers. Specifically, one function performed by a virtual gatekeeper in the signaling and control plane concerns route selection, for example, resolution of E.164 addresses to network addresses. A gateway communicates with a gatekeeper to perform route selection. Actual performance of route selection may occur in several ways. In one alternative, a gatekeeper, DGK, or a hierarchy of GKs and DGKs perform route selection. In another alternative, a dedicated route server performs route selection. A route server often provides more sophisticated facilities to configure policies that control how routing decisions are made than a GK or DGK. For instance, policies on resolving a route may result in selecting a different route depending on the time of day, on load conditions, or other factors. The gateway communicates with the gatekeeper for a routing decision; however, the gatekeeper also communicates to the route server and requests it to resolve the route, and then communicates the route selection decision back to the gateway. Thus, in this alternative, the gateway acts as a proxy for the route server. Because the route server serves as an extension of the gatekeeper's own route selection function, it is beneficial to treat the combination of gatekeeper and route server as a virtual gatekeeper. This shields users from having to set up and coordinate the connectivity between gatekeeper and route server.","For purposes of illustrating a simple example,  and  illustrate simplified networks having a limited number of gateways, gatekeepers, other elements, and virtual entities. However, in a practical embodiment, there may be any number of such elements.","In this approach, simplified provisioning of H.323-based OPT networks is achieved by projecting the virtual entities onto the physical network to hide the underlying distribution of voice functionality. Provisioning logic, embodied in programmatic provisioning methods or applications, receives user input or programmatic input requesting an operation on a virtual entity, and decomposes the input into one or more operations on constituent managed objects, and into configuration commands issued to one or more network elements or element management systems.","For example, assume that an administrator or application program needs to add a virtual voice port in a virtual gateway. This task is presented as a single operation to the user, but execution of the operation requires interaction with multiple managed objects that need to be created or updated. As a result, the virtual zone generates a sequence of multiple operations, which are hidden from the user, and that are directed at different devices such as a gateway, or signaling controller. Similarly, a graphical view of the network, such as a topology display, is presented in terms of the virtual entities.","The approach also provides a method to detect network-level configuration inconsistencies that lead to erroneous network behavior but are very hard to detect at an element level, helping maintain network integrity. In one embodiment, inherent integrity rules of virtual entities are validated against their constituent managed objects, which reflect the actual resources of the various network elements participating in those higher-level concepts. Validation occurs upon initial discovery. Validation also occurs whenever configuration changes occur in the network that are reflected in a managed object representing the affected resource of the affected network element, for the virtual entities of which that managed object is a part. If a mismatch is identified, then the integrity state of the virtual entity is marked accordingly and can be flagged to a user. An example of a mismatch is violating referential integrity among the managed objects.","Managing an OPT network as if it comprises higher-level virtual entities is useful for several reasons. First, it simplifies the way in which those networks can be managed, by allowing users to think in terms of higher-level concepts to which they can more easily relate because the concepts are analogous to legacy technology. Further, the approaches herein can abstract and aggregate management information and operations of multiple places in the network, leading to more efficient overall network operations.","The approaches herein also allow users to easily flag, or avoid altogether, inconsistencies and error conditions in OPT network configurations. This makes network operations less error prone, decreases service outage and increases network availability. The approaches enable management applications to be built in such a way that OPT management does not result in significant additional operational complexity, as compared with management of a conventional TDM network. Indeed, operational complexity is reduced as management of voice and data are combined. This is a significant advance over the current state of the art, which offers an element-centric view and forces users to deal with configuring each component of the VoIP network individually.","B. Overview of Information Model and its Uses",{"@attributes":{"id":"p-0189","num":"0188"},"figref":"FIG. 8A","b":["830","840","850","840"]},"The element management system\/network element model  represents objects that are managed in and exposed by element management systems and network elements.","The domain model  models all fundamental concepts underlying the managed network. The objects in the domain model  include network element managed objects and virtual entity managed objects. Network element managed objects include objects representing gateways, gatekeepers, signaling controllers and their components. Virtual entity managed objects represent concepts that consolidate management information from one or more network element managed objects, and that are not available at the element management level. Examples of virtual entities are Region, Virtual Gateway, Virtual Zone, and Gatekeeper Group.","The management\/application services object model  represents application services managed objects that are maintained by management applications, and that enhance the domain model  with certain functions that facilitate operation of higher-level applications.",{"@attributes":{"id":"p-0193","num":"0192"},"figref":["FIG. 8B","FIG. 8A"],"b":["840","802","804","804","806","808","810"]},"Each Virtual Zone object  represents and contains zero or more Virtual Gateway objects  and zero or one Gatekeeper Group objects . Each Virtual Gateway object  generally represents one Gateway object  corresponding to a real H.323 gateway node, but may also represent a SC Complex object . Each Gatekeeper Group object  represents one or more Gatekeeper objects , corresponding to respective real H.323 gatekeeper nodes.","A network management application may interact with H.323 network elements using the foregoing information model. In one embodiment, a network management software element implements management functions that are useful to administrators and other, higher-level management software, in part by manipulating instances of objects of the foregoing information model. An example of such a network management software element is Cisco Packet Telephony Center, from Cisco Systems, Inc. The network management software element can communicate programmatically with higher-level systems by receiving function calls through an application-programming interface (API) that implements an object broker mechanism, such as a CORBA broker.",{"@attributes":{"id":"p-0196","num":"0195"},"figref":"FIG. 9"},"A network management software application  is organized as a plurality of tiers of software elements. An EMS\/NE Proxy Tier  hides EMS\/NE-specific protocol details, such as access details) from the higher-level tiers and mediates protocols of messages exchanged among them. Tier  provides facilities by which application  accesses individual element management systems  or network elements . Examples of EMS  include Cisco Media Gateway Manager (CMGM), Cisco MGC Node Manager (CMNM), Cisco Universal Gateway Manager (CUGM), etc., and examples of NE  include gateways, signaling controllers, switches, routers acting as gatekeepers, etc.","Tier  also shields upper tiers from aspects such as having to manage associations with EMS\/NEs, as well as protocol specific aspects such as retries, timeouts, retransmission for reliable information, etc. Generally, tier  proxies events, such as unsolicited messages from EMS\/NEs, operations initiated by application , and bulk synchronization requests.","A managed object tier  (MO-Tier ) provides domain model . Managed object tier  is divided into an MO Model Mediation sub-tier  and a MO Handling sub-tier . The MO Model Mediation sub-tier  mediates between models ,  of  by mapping managed objects in model  to corresponding objects in model .","Two distinct aspects of such mapping are implemented. A Request Mediator  maps request operations initiated by application . In this context, \u201crequest\u201d refers to a request for carrying out a particular configuration or other operations, for example, translating a set or get operation or an action into a corresponding function provided by the EMS\/NE proxy tier . Request Mediator  provides instance as well as class mappings.","A Network-Sync Mediator  provides mappings for bulk synchronization operations, specifically bulk upload of information from EMS  or NE . For example, Network-Sync Mediator  can unpack the bulk information provided, associate it with individual managed object instances in the domain model , and provide class level mappings.","The MO Handling sub-tier  provides those aspects of the domain model  that do not depend on the underlying EMS\/NE model . Such aspects include all static aspects, as well as dynamic and behavioral aspects not depending on the information model mapping. MO Handling sub-tier  also implements a Management Information Tree, which comprises a hierarchical tree of information objects. MO Handling sub-tier  provides support for partitioning and distributing the MIT into different MO handlers for performance and scalability reasons.","An NM-Application Services-Tier  provides server, non-GUI specific portions of network management application , which operate on top of the domain model  provided by the MO tier . Application services in tier  can form a sub-architecture. For example, configuration application services can make use of functions provided by the topology application service (but not necessarily vice versa), etc.","Two mechanisms for accessing the NM-Application Services tier  are provided. Applications can access tier  using internal interfaces that are optimized for efficiency and that interact with a corresponding interface of the NM application services tier . Alternatively, applications can access the tier  using northbound interface , which provides restricted access to the tier  and model  over standards-based interfaces, thereby providing the best possible interoperability.","The Northbound interface  is offered by a presentation tier  that executes logically above tier . The Presentation Tier  deals with presenting application  and data relating to other tiers to outside users. For example, Presentation Tier  comprises one or more application user interfaces , which encompass both client and server portions. That is, UI components in presentation tier  may be distributed, and the presentation tier is not restricted to client user interfaces only.","Northbound interface  provides electronic interfaces for northbound operational support systems (OSSs), providing a mechanism that enables OSSs to access the NM application services model  through an open management interface.","C. Detailed Description of Information Model","A plurality of object views are now introduced as a means to break up specification of the domain model, and focus on specific aspects of the model. The same object can occur in more than one view. Likewise, within a view, not all aspects of an object and relationships with other objects are depicted. A composition into different views is possible, as are other ways to organize the presentation of the model. In this context, the terms \u201cobject\u201d and \u201cmanaged object class\u201d are used interchangeably. In addition, the term \u201cobject\u201d refers to a managed object class, and not an object instance. Objects in the views described herein correspond to entities of relevance to a user and to an application operating on top of application .","In one embodiment, the object views comprise the following views:","H.323 Voice Network view. Contains the voice network view of the H.323 network devices. A H.323 voice network is partitioned into regions, with each region consisting of a DGK Group, and a set of virtual zones. Each virtual zone contains a list of voice gateways, the SS7 signaling controllers, and a GK Group which functions as the address resolution authority for all the gateways within the zone.","Virtual Gateway views. Anything involving the virtual gateway in its entirety, as opposed to centering of any of its components. The following sub-views apply:","1. Virtual Gateway\u2014network view. Contains the view of the virtual gateway as a network, with its nodes (i.e. Gateway and Signaling Controller) and connections (i.e. association between GW and SC).","2. Virtual Gateway\u2014signal path association view. Essentially a refinement of the network view, expanding on the composition of the signaling association between MG and MGC.","3. Virtual Gateway\u2014voice port view. Essentially a refinement of the connection termination point view, this view deals with the composition of a trunk and its mapping into lines and ports of its component as well as the information required to control it.","Signaling Controller views. Anything centering on the Signaling Controller. While the objects of this view really are part of the EMS\/NE, they constitute the SC's abstraction as required and appropriate for application . The following sub-views apply:","1. Signaling controller\u2014connection termination point view. Offers a view of the Signaling Controller in terms of termination points. There are two aspects: actual termination points, specifically for signaling and for internal associations between it and the GW, and knowledge of termination points of the GW which is required to control them.","2. Signaling controller\u2014equipment view. Offers a view of the SC's physical instantiation. Clearly, in the case of the SC2200 complex, it is composed of several pieces of equipment that are networked together.","Router views. Anything centering on the Router. While the objects of this view really are part of the EMS\/NE, they constitute the router's abstraction as required and appropriate for application . The following sub-views apply:","1. Router\u2014connection termination point view. Offers a view of the Media Gateway in terms of the protocol access points it offers, as well as the lines respectively ports used to connect the router on the switching\/TDM plane.","2. Router\u2014equipment view. Offers a view of the Router in terms of its physical instantiation. This is relevant to application  mostly to be able to correlate other objects maintained by application  to the physical world; details of the equipment view will generally correspond to genuine element functionality.","Media gateway views. Anything centering on the Media Gateway. While the objects of this view really are part of the EMS\/NE, they constitute the media gateway's abstraction as required and appropriate for application. The following sub-views apply:","1. Media gateway\u2014connection termination point view. Offers a view of the GW in terms of the termination points it offers to terminate internal associations between it and the SC, and in terms of the voice service access points that connect to the lines respectively ports contained under the router.","2. Media gateway\u2014router association view. A Media Gateway really constitutes a role that a router plays in an OPT network. This view depicts the relationship between the Media Gateway and the router on which the GW is realized. It \u201cties up\u201d the logical voice entities that constitute a GW with the device entities that form a router. For example, it depicts the association between the GW and the network interface on which the H.323 protocol has been configured; it shows the association between the voice port and the DS1 line on which Ds0s belong; it relates the Q.931 TTP to the D-Channel TTPs on which the NFAS Group is supported.","Gatekeeper views. Anything centering on the Gatekeeper. While the objects of this view really are part of the EMS\/NE, they constitute the GK's abstraction as required and appropriate for application . The following sub-views apply:","1. Gatekeeper\u2014connection termination point view. Offers a view of the Gatekeeper in terms of the termination points it offers.","2. Gatekeeper\u2014router association view. Offers a view of the association between the GK and the router that realizes it.",{"@attributes":{"id":"p-0226","num":"0225"},"figref":"FIG. 8B"},{"@attributes":{"id":"p-0227","num":"0226"},"figref":"FIG. 11A","b":["812","1102","1104","1106","1106","812"]},{"@attributes":{"id":"p-0228","num":"0227"},"figref":["FIG. 11B","FIG. 11A"],"b":"1106"},{"@attributes":{"id":"p-0229","num":"0228"},"figref":"FIG. 12A"},{"@attributes":{"id":"p-0230","num":"0229"},"figref":"FIG. 12B"},{"@attributes":{"id":"p-0231","num":"0230"},"figref":"FIG. 12C"},{"@attributes":{"id":"p-0232","num":"0231"},"figref":"FIG. 12D","b":["1202","1204","1206","1204","1208","1210","1212","1214","1216"]},{"@attributes":{"id":"p-0233","num":"0232"},"figref":"FIG. 12E"},{"@attributes":{"id":"p-0234","num":"0233"},"figref":"FIG. 12F"},{"@attributes":{"id":"p-0235","num":"0234"},"figref":"FIG. 13A"},{"@attributes":{"id":"p-0236","num":"0235"},"figref":"FIG. 13B"},{"@attributes":{"id":"p-0237","num":"0236"},"figref":"FIG. 13C"},"The configuration parameters described herein are provided as non-limiting examples, and many other combinations of configuration parameters may be used. For example, certain parameters may apply to certain devices, whereas other parameters would be appropriate for other devices. Additional details concerning one example implementation of the foregoing object model are provided in APPENDIX A, INFORMATION MODEL, which provides class descriptions, inheritance diagrams, an object specification, and a data type specification for a complete object model.","D. Configuration Operations","Network management application  may implement five functional areas including fault management, configuration management, accounting management, performance management, and security management. For purposes of illustrating a simple example, this description focuses on use of network management application  and domain model  for configuration management.","In one embodiment, configuration management functions of application  include topology functions, provisioning functions, security management functions, and northbound API functions. Topology functions include discovery of network element physical and logical configurations; discovery of network layer concepts such as virtual zone, virtual gateway, GK group, DGK group, Q931 signal path, voice port; periodic and on-demand synchronization with network elements; flagging of network mis-configuration and policy violations; integrated network topology views, such as H.323 network view, EMSs view; introduction and removal of region, gatekeepers, gateways, and other elements; providing a single point of management entry, to enable an operator to launch other management applications; and synchronizing topological changes between applications.","Provisioning functions may include region configuration, virtual zone configuration, virtual gateway configuration, and configuration of gatekeepers and directory gatekeepers. Region configuration functions may include: Deploy SMNP; Deploy NTP; Configure RADIUS related parameters; Configure Accounting Template; Configure AAA Voice Class; Configure Gateway Accounting; Virtual Zone Configuration; Configure H.235 Security options; Configure SNMP; Configure NTP; Configure RADIUS related parameters; Configure Accounting Template; Configure AAA Voice Class; Configure Gateway Accounting; and Configure OSP related parameters.","Virtual Gateway configuration functions may include: Configure Q.931\/RLM Signal Path, including GTD parameters; Configure Voice Port, including Digital Voice Port for SS7, ISDN-PRI, T1 CAS, E1 R2 signaling, and Analog Voice Port for E&M, FXS, FXO signaling; Configure IVR & VoiceXML; Configure DNIS Map; Configure SNMP; Configure NTP; Configure RADIUS related parameters; Configure Accounting Template; Configure AAA Voice Class; Configure Gateway Accounting; Configure OSP related parameters; Configure Access List; Configure Ethernet Interface; Configure T.37\/T.38 FAX Application; Configure H.323 parameters; Configure BRQ Message Forwarding; Configure ISUP Parameter Forwarding; and Configure Trunk Group.","Gatekeeper\/Directory Gatekeeper configuration functions may include: Configure HSRP; Configure SNMP; Configure NTP; Configure RADIUS related parameters; Configure Access List; and Configure Ethernet Interface.","Security Management functions may include user authentication and authorization, user management (add, modify and delete user); and Audit Trail functions.","Northbound API functions may include user authentication and authorization, and network inventory bulk retrieval.","E. Voice Port Configuration","Voice port configuration is now described, as an example of configuration operations that may be performed by application  using model . In this description, voice port configuration refers to configuring a virtual voice port on a virtual gateway. For a non-SS7 voice port, this operation involves voice port configuration on the gateway; for an SS7 voice port, the voice port configuration operation involves creation of a digital SS7 voice port on the gateway, and creating a corresponding nailed trunk on the respective signaling controller. For the voice port to be fully functional, a Q.931 signal path is established between the signaling controller and gateway.","Voice ports are found at the intersections of packet-based networks and traditional telephony networks, and they facilitate passing voice and call signals between the two networks. Physically, voice ports connect an access server to a line from a circuit-switched telephony device in a PBX or the public switched telephone network (PSTN).","The devices in the packet network are configured to convey signaling information in a way that the circuit-switched network can understand. They also are required to understand signaling information received from the circuit-switched network. This is accomplished by installing appropriate voice hardware in the access, server and by configuring the voice ports that connect to telephony devices or the circuit-switched network.","The voice connections can be either analog or digital. Respective operations for configuring analog and digital voice ports are now described.","1. Configure Analog Voice Port for E&M, FXS, FXO Signaling","The signaling types on an analog voice port can be E&M, FXS, or FXO signaling. E&M signaling is the most common form of analog trunk circuit. An E&M interface uses special signaling paths that are separate from the trunk's audio path to convey information about the calls. Like a serial port, an E&M interface has a data terminal equipment\/data communications equipment (DTE\/DCE) reference. In terms of telecommunications, the trunking side is similar to the DCE, and is usually associated with central office (CO) functionality. The router acts as the DCE or trunking side of the interface. The other side is referred to as the signaling side, like a DTE, and is usually a device such as a PBX; it is an analog connection although an analog E&M circuit may be emulated on a digital line.","In FXS Signaling, an FXS interface connects a router or access server to end-user equipment such as telephones, fax machines, or modems. The FXS interface supplies ring, voltage, and dial tone to the station and includes an RJ-11 connector for basic telephone equipment, keysets, and PBXs.","In FXO signaling, an FXO interface is used for trunk, or tie line, connections to a PSTN CO or to a PBX that does not support E&M signaling (when local telecommunications authority permits). This interface is primarily used for off-premise station applications. A standard RJ-11 modular telephone cable connects the FXO voice interface card to the PSTN or PBX through a telephone wall outlet. FXO and FXS interfaces indicate on-hook or off-hook status and the seizure of telephone lines by one of two access signaling methods: loop start or ground start.","The configurable parameters on an analog voice port are:","For E&M Signaling: Type of Signaling (either wink-start or immediate-start or delay-dial); CPTone; the number of wires used for voice transmission; type of E&M Interface (one of Type-I, Type-II, Type-III, Type-IV); and Voice Port Description.","For FXS Signaling: Type of Signaling (either loop-start or ground-start); CPTone; Ring Frequency; Ring Pattern; and Voice Port Description.","For FXO Signaling: Type of Signaling (either loop-start or ground-start); CPTone; Dial Type (DTMF or Pulse); Ring Number; and Voice Port Description.","2. Configure Digital Voice Port for SS7, Isdn-PRI, T1 CAS, E1 R2 Signaling","Digital voice ports are found at the intersection of a packet voice network and a digital, circuit-switched telephone network. The digital voice port interfaces that connect the access server to T1 or E1 lines pass voice data and signaling between the packet network and the circuit-switched network.","The T1 or E1 lines that connect a telephony network to the digital voice ports on an access server contain channels for voice calls; a T1 line contains 24 full-duplex channels or \u201ctimeslots,\u201d and an E1 line contains 30. The signal on each channel is transmitted at 64 kbps, a standard known as digital signal 0 (DS0); the channels are known as DS0 channels. Some or all of the DS0 channels are grouped into a DS0 Group (or a logical voice port) facilitating similar configuration of all the DS0 Channels in a group.","Signaling on digital lines has two aspects. A first aspect is the actual information about line and device states that is transmitted, and the second aspect is the method used to transmit the information on the digital lines. The actual information about line and device states is communicated over digital lines using signaling methods that emulate the methods used in analog circuit-switched networks (FXS, FXO, and E&M). The method used to transmit the information describes the way that the emulated analog signaling is transmitted over digital lines, which may be common-channel signaling (CCS) or channel-associated signaling (CAS). CCS sends signaling information on a dedicated channel and CAS takes place within the voice channel itself. CAS signaling is also called robbed-bit signaling because user bandwidth is robbed by the network for signaling. A bit is taken from every sixth frame of voice data to communicate on- or off-hook status, wink, ground start, dialed digits, and other information about the call.","Adding a digital voice port on a gateway, involves the following operations. First, controller settings are configured. Specific line characteristics are configured to match those of the PSTN line that is being connected to the voice port. These are typically configured in controller configuration mode. Voice port controller configuration includes first specifying framing formats, clock sources, and line coding, and then creating a group of DS0 timeslots, that can be either a DS0 Group or PRI Group based on the signaling method used. If a DS0 Group is created, it defines the DS0 channels for E1 R2 signaling, and the emulated analog signaling method (E&M or FXO or FXS) that the router uses to connect to the PBX or PSTN. If a PRI Group is created, it defines the DS0 channels for ISDN or SS7 signaling. Thereafter, the controller is activated.","A logical voice port is then created and associated it to the DS0 Group, PRI Group or CAS Group.","For SS7 signaling, the serial interface corresponding to the D-Channel is configured, by specifying the parameters such as RLM group number, ISDN switch type, protocol emulation type, incoming voice type, CDP, fair queuing.","Basic voice port parameters are then configured. The voice port configuration mode allows many of the basic voice call attributes to be configured to match those of the PSTN or PBX connection being made on this voice port. Normally, default parameter values for voice ports are sufficient for most networks. Depending on the specifics of a particular network, however, certain parameters that are configured on voice ports may require adjustment. These parameters include: Auto Cut-Through, which enables the system to connect to PBXs that do not provide an M-lead response; Sent\/Received Bit Patterns; disconnect supervision parameters, which are used to indicate different methods to indicate that a call disconnection; FXO Supervisory Disconnect Tone parameters; voice call progress tone; companding standard; timeouts parameters; timing parameters; Voice Quality Tuning parameters, e.g. echo; and Voice Activity Detection (VAD) parameters.",{"@attributes":{"id":"p-0266","num":"0265"},"figref":"FIG. 14"},"1. User input selecting a virtual gateway and an \u201cAdd Voice Port to Virtual SS7 Gateway\u201d function is received, as shown in block . In one embodiment, the user invokes an Add Voice Port operation in application , and specifies the Gateway, signaling controller and all the parameters required to configure voice port. Alternatively, a virtual gateway is specified.","2. Application  translates the invocation into operations on the Gateway as well as the signaling controller, as follows.","3. Application  initiates the following operations on the Gateway:","a. Configure the TDM controller (T1\/E1 or T3), if it is not already configured, as shown in block  of .","b. For the T3 controller: Configure the parameters such as cable length, framing type, and description. Also, create 28 logical T1 controllers from the T3 Controller. Each T1 can be configured independently.","c. For the T1\/E1 controller, configure the parameters such as framing, clock source, and line coding.","d. For NFAS, create a PRI-Group using the specified time-slots on the TDM Controller, the operation of the D-Channel time-slot (primary|backup|none), NFAS interface value (0-8), and NFAS Group number.","e. Activate the controller.","f. Identify the Voice Port.","g. Parameter values for parameters of the voice port that are independent of the type of signaling are configured, as indicated in block . In one embodiment, such parameters may include: voice call progress tone; companding standard; timeouts (call-disconnect timeout, inter-digit timeout, ringing timeout, wait-release timeout); timing parameters (clear-wait, delay-duration, delay-start, dial-pulse min-delay, digit, guard-out, hook flash-out, inter-digit, pulse, pulse-digit, pulse-inter-digit, wink-duration, wink-wait); VAD parameters (music-threshold, comfort-noise); voice quality tuning parameters (jitter, echo-cancel, input gain, output attenuation, impedance); and FXS Hook flash Relay.","h. For NFAS configuration, also configure the serial interface corresponding to the D-Channel, by specifying the parameters such as RLM Group number, ISDN switch type (should always be \u201cprimary-ni\u201d), protocol emulation type, incoming voice type, CDP, fair queuing.","4. In block , the gateway is instructed to retrieve a configuration file containing the foregoing configuration instructions, and perform a syntax check on it. In one embodiment, application  generates an event, informing the Gateway to retrieve the configuration file and perform a syntax check, without writing the configuration into the Gateway's startup or running configuration, for all the commands in the configuration file.","5. After the Gateway has executed all the commands in the configuration file, generate an event indicating success or failure of the commands executed by the Gateway.","6. In block , a nailed trunk is added to the signaling controller. In one embodiment, if Application  receives an event signifying the success of the operation on the Gateway, then the application issues a request to the signaling controller to add a nailed trunk. In issuing such request, application  provides parameter values that indicate the NasPath between the signaling controller and the Gateway, the timeslot\/channel on the Gateway, the NFAS interface on the Gateway, and the SS7 Path.","7. If the operation on the signaling controller succeeds, then trigger an event, thereby informing the Gateway to get the configuration file and execute all the commands in the configuration file, and persistently store the configuration into the startup configuration of the Gateway, as in block .","8. After the Gateway has executed all the commands in the configuration file, an event indicating success or failure of the commands executed by the Gateway is generated.","9. If Application  receives an event signifying the success of the operation on the Gateway, then Application  updates its internal object tree. If the operation on the signaling controller fails, then a request to cancel the previous request to add the Voice Port on the Gateway is generated.","10. The operation is logged in the name of the requesting user in a database.","In all of the foregoing, references to performing configuration options are intended to refer broadly to both programmatically triggering a configuration operation on a programmatic object representing a virtual entity, and then as part of that operation, causing actual management operations to be performed with the underlying actual device. The way that a particular management operation is performed may vary from device to device and may include, for example, preparation of a configuration file, delivery of the configuration file, and generating an event at the device to indicate successful delivery. Alternatively, management operation could be sent, using an appropriate management protocol, to a device and a response could be received from the device. In yet another alternative, an asynchronous or synchronous operation may be invoked on an element of a management system acting as a communication proxy on behalf of application .","The foregoing is only one example of a provisioning operation that can be carried out using the virtual entity approach described herein. Other examples are provided in APPENDIX B, entitled \u201cUSE CASES.\u201d","F. Inconsistency Flagging","Programmatic objects in the domain model may automatically carry out inconsistency checking. For example, if a user attempts to add a voice port to a virtual entity, but no corresponding link previously was set up, appropriate objects of application  may automatically trap and report this inconsistency before attempting to actually add the requested voice port to physical devices constituent to the virtual entity. Similarly, if a user attempts to delete a voice port and a physical device is then-currently using a signaling link associated with the voice port, application  blocks deletion of the port until the user removes or de-activates the associated link.","In one embodiment, inconsistency checking is carried out by application  based on information that is gathered from the network in the course of performing discovery of devices that exist in the network. Inconsistency flagging may comprise region validation, directory gatekeeper group validation, gatekeeper group validation, virtual gateway validation, and virtual zone validation. In region validation, application  detects inconsistent inter-region configurations. Any inconsistency detected is marked in the respective region and DGK\/GK objects.","In one operation, application  detects mis-configuration among DGKs associated with a first Hierarchy Region and a second Hierarchy Region. The DGKs in two different hierarchical regions must be configured to point to each other as remote DGKs for each other. With respect to a Hierarchy Region and a Meshed Region, application  will detect mis-configuration between the DGKs in the hierarchy region, and the GKs in the meshed region. The DGK in the hierarchy region must point to each GK in the meshed region as remote GK. The GKs in each zone of the meshed region must point to the DGK as remote GK. With respect to a first Meshed Region and a second Meshed Region, application  will detect mis-configuration among the GKs between the two regions. The GKs in each zone of a first region must point to GKs in each zone of the other region as remote GK, and vice versa.","Application  detects other intra-region inconsistent configurations. Any inconsistency detected is marked in the respective region and DGK\/GK objects. For example, with respect to a Hierarchy Region, application  will detect mis-configuration between the DGK Group and the zones. Each DGK must be configured to point to each GK in each zone as remote GK, and vice versa. For a Meshed Region, application  will detect mis-configuration between zones. Each GK in each zone must be configured to point to each GK in the other zones as remote GK.","In another operation, application  performs DGK Group validation. Application  will validate that all DGKs contained in the DGK group are configured solely for the purpose of redundancy through HSRP and\/or serving as alternate DGKs. The validation will be done by cross-referencing the HSRP & cluster IOS configurations among the DGKs. Any inconsistency detected will be marked in respective DGK Group object.","In yet another operation, application  performs GK Group validation. Application  will validate that all GKs contained in the GK group are configured solely for the purpose of redundancy through HSRP, clustering and\/or serving as alternate GKs. The validation will be done by cross-referencing the HSRP & cluster IOS configurations among the GKs. Any inconsistency detected will be marked in the respective GK Group object.","Still another operation involves Virtual Gateway validation. Application  validates the configuration between the GW and SC on a SS7 virtual gateway. Any inconsistency detected will be marked in the respective virtual gateway and GW\/SC objects. Such checking includes testing for consistent redundant link managers; consistent Q.931 signal paths; and consistent trunk termination. In consistent redundant link manager (RLM) checking, GW RLM group configurations must be consistent with the SC NAS Path IP links. In consistent Q.931 signal path checking, the GW SS7 serial interface configurations must be consistent with the SC NAS Path configurations. In consistent trunk termination checking, the SC nailed trunk configurations must be consistent with the GW PRI group configurations","Application  also performs virtual zone validation. Application  will validate consistency between the GW dial peer configurations and the GK zone configurations. Any inconsistency detected will be marked in the respective virtual zone and GK\/GW objects. The checking will include verifying that the GK ID configured on the GW matches the GK ID in the GK configuration.","F. Graphical User Interfaces",{"@attributes":{"id":"p-0295","num":"0294"},"figref":["FIG. 10A","FIG. 10A"],"b":["1000","902"]},"In general, topology display  comprises a toolbar , a zone tree panel , a geographical view , and an object hold area . Zone tree panel  provides a hierarchical tree view of network objects under management by application . Network objects shown in zone tree panel  are displayed according to a logical containment hierarchy of the objects. A user may selectively display lower level objects by double clicking on any tree item.","The geographical view  provides a geographical map that includes one or more icons corresponding to physical or virtual entities, and showing the physical location of the network elements with respect to a particular geographic region. Topology display  can selectively generate one or more component views  to show the network elements contained within an object shown in topology panel . For example, component view  can display a signaling controller and gateway that are contained within a selected virtual gateway; or the gatekeeper group and virtual gateways of a selected virtual zone.","In the example of , topology display  depicts a United States geographical region showing three zones: Kansas City, New York and San Jose. Component panel  displays elements contained within the selected San Jose zone, including a gatekeeper and two virtual gateways.","In one embodiment, the topology display is divided into a plurality of logical views, including an H.323 network view and a management view. The H.323 network view shows elements of the network, regions, virtual zones, DGK groups, GK groups, virtual gateways, media gateways and signaling controllers. The management system view shows all element management systems and appliances to which application  interfaces.","Toolbar  serves as a launch point for functions internal to application , such as Provisioning GUI, Log Viewer, User Manager, etc., or for external applications. From topology display , a user can initiate forced synchronization with the entire network, or partial network (such as a region, a virtual zone, or virtual gateway). The user can add or delete a managed resource such as region, signaling controller, gateway, gatekeeper, and directory gatekeeper.","Any inconsistent network configurations are detected and flagged in the topology display . A mis-configured managed entity is highlighted in color; these entities may include a GK Group, DGK Group, virtual gateway, or virtual zone. The user will be able to select any mis-configured entity and review a detailed description of the inconsistent configurations. Unreachable devices and management systems are also highlighted in well-defined color in the Topology display.",{"@attributes":{"id":"p-0302","num":"0301"},"figref":["FIG. 10B","FIG. 9","FIG. 10A"]},"In the embodiment of , a provisioning GUI screen  is divided into four panels , , , . A top panel  is a menu panel that provides one or more drop-down menu for program functions. A middle left panel  provides a network tree display  used for object browsing and object selection. A middle right panel  is the main configuration area for the user to provision services. Objects  to be provisioned are selected from the network tree display  in the left panel , dragged and dropped into middle right panel . The user selects the type of service to provision, the parameters to configure, and the operation (add\/modify\/delete) to apply using tabs  and function buttons , respectively. In the example of , the \u201cRLM\/Q.931 Signal Path\u201d service tab is selected.","A provisioning job panel  comprises a list of provisioning jobs. A provisioning job will be implicitly created when the user applies a provisioning request. The provisioning job panel  displays, for each job, an identifier, status value (pending, completed or error), submission time, and completion time. The user can cancel pending jobs, or delete completed jobs using function buttons . The user can select any job, and review its job content and provisioning results. For failed jobs, the user can view detailed failure report, which includes failure reason, and rollback status if any; the user can also edit a failed job, and re-submit the job for processing.","A message status panel  provides for display of messages or status indicators.","In one embodiment, provisioning functions can be performed on an individual network device, or on a group of devices contained in a virtual entity (such as SC\/GW in a virtual gateway; or GW\/GK\/DGKs in a virtual zone or region). The Provisioning GUI enforces dependencies of such objects when configuring the features on the selected network entities. Table 1 below indicates what operations may be performed with respect to particular virtual entities:",{"@attributes":{"id":"p-0307","num":"0306"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Dependency Chart for Functions and Virtual Entities"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"Object Type"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"Virtual",{}]},{"entry":[{},"Region","Zone"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"35pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["Provisioning","(GW, GK","(GW, GK","Virtual Gateway",{}]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"6"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"35pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Feature","& DGK)","& DGK)","SC","GW","GK\/DGK"]},{"entry":{"@attributes":{"namest":"1","nameend":"6","align":"center","rowsep":"1"}}},{"entry":["RLM\/Q.931",{},{},"x","x",{}]},{"entry":["Voice Port\/",{},{},"x","x"]},{"entry":"Nailed Trunk"},{"entry":["SNMP","x","x",{},"x","x"]},{"entry":["NTP","x","x",{},"x","x"]},{"entry":["RADIUS","x","x",{},"x","x"]},{"entry":["OSP",{},"x",{},"x"]},{"entry":["H.235",{},"x"]},{"entry":"Security"},{"entry":["IVR &",{},{},{},"x"]},{"entry":"VoiceXML"},{"entry":["DNIS Map",{},{},{},"x"]},{"entry":["Access List",{},{},{},"x","x"]},{"entry":["Interface",{},{},{},"x","x"]},{"entry":["HSRP",{},{},{},{},"x"]},{"entry":{"@attributes":{"namest":"1","nameend":"6","align":"center","rowsep":"1"}}}]}}]}}},"In an embodiment, the Provisioning GUI supports job scheduling; upon applying a configuration operation, the user is given the choice to run the job immediately, or schedule it to run at a specific future time. In another embodiment, a user may launch the Provisioning GUI from a web browser running on a client machine.",{"@attributes":{"id":"p-0309","num":"0308"},"figref":"FIG. 7","b":"700"},"Computer system  includes a bus  or other communication mechanism for communicating information, and a processor  coupled with bus  for processing information. Computer system  also includes a main memory , such as a random access memory (RAM) or other dynamic storage device, coupled to bus  for storing information and instructions to be executed by processor . Main memory  also may be used for storing temporary variables or other intermediate information during execution of instructions to be executed by processor . Computer system  further includes a read only memory (ROM)  or other static storage device coupled to bus  for storing static information and instructions for processor . A storage device , such as a magnetic disk or optical disk, is provided and coupled to bus  for storing information and instructions.","Computer system  may be coupled via bus  to a display , such as a cathode ray tube (CRT), for displaying information to a computer user. An input device , including alphanumeric and other keys, is coupled to bus  for communicating information and command selections to processor . Another type of user input device is cursor control , such as a mouse, a trackball, or cursor direction keys for communicating direction information and command selections to processor  and for controlling cursor movement on display . This input device typically has two degrees of freedom in two axes, a first axis (e.g., x) and a second axis (e.g., y), that allows the device to specify positions in a plane.","The invention is related to the use of computer system  for implementing the techniques described herein. According to one embodiment of the invention, those techniques are performed by computer system  in response to processor  executing one or more sequences of one or more instructions contained in main memory . Such instructions may be read into main memory  from another computer-readable medium, such as storage device . Execution of the sequences of instructions contained in main memory  causes processor  to perform the process steps described herein. In alternative embodiments, hard-wired circuitry may be used in place of or in combination with software instructions to implement the invention. Thus, embodiments of the invention are not limited to any specific combination of hardware circuitry and software.","The term \u201ccomputer-readable medium\u201d as used herein refers to any medium that participates in providing instructions to processor  for execution. Such a medium may take many forms, including but not limited to, non-volatile media, volatile media, and transmission media. Non-volatile media includes, for example, optical or magnetic disks, such as storage device . Volatile media includes dynamic memory, such as main memory . Transmission media includes coaxial cables, copper wire and fiber optics, including the wires that comprise bus . Transmission media can also take the form of acoustic or light waves, such as those generated during radio wave and infrared data communications.","Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, or any other magnetic medium, a CD-ROM, any other optical medium, punch cards, paper tape, any other physical medium with patterns of holes, a RAM, a PROM, and EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave as described hereinafter, or any other medium from which a computer can read.","Various forms of computer readable media may be involved in carrying one or more sequences of one or more instructions to processor  for execution. For example, the instructions may initially be carried on a magnetic disk of a remote computer. The remote computer can load the instructions into its dynamic memory and send the instructions over a telephone line using a modem. A modem local to computer system  can receive the data on the telephone line and use an infrared transmitter to convert the data to an infrared signal. An infrared detector can receive the data carried in the infrared signal and appropriate circuitry can place the data on bus . Bus  carries the data to main memory , from which processor  retrieves and executes the instructions. The instructions received by main memory  may optionally be stored on storage device  either before or after execution by processor .","Computer system  also includes a communication interface  coupled to bus . Communication interface  provides a two-way data communication coupling to a network link  that is connected to a local network . For example, communication interface  may be an integrated services digital network (ISDN) card or a modem to provide a data communication connection to a corresponding type of telephone line. As another example, communication interface  may be a local area network (LAN) card to provide a data communication connection to a compatible LAN. Wireless links may also be implemented. In any such implementation, communication interface  sends and receives electrical, electromagnetic or optical signals that carry digital data streams representing various types of information.","Network link  typically provides data communication through one or more networks to other data devices. For example, network link  may provide a connection through local network  to a host computer  or to data equipment operated by an Internet Service Provider (ISP) . ISP  in turn provides data communication services through the worldwide packet data communication network now commonly referred to as the \u201cInternet\u201d . Local network  and Internet  both use electrical, electromagnetic or optical signals that carry digital data streams. The signals through the various networks and the signals on network link  and through communication interface , which carry the digital data to and from computer system , are exemplary forms of carrier waves transporting the information.","Computer system  can send messages and receive data, including program code, through the network(s), network link  and communication interface . In the Internet example, a server  might transmit a requested code for an application program through Internet , ISP , local network  and communication interface .","The received code may be executed by processor  as it is received, and\/or stored in storage device , or other non-volatile storage for later execution. In this manner, computer system  may obtain application code in the form of a carrier wave.","Modeling and driving configuration management applications for an OPT network as if that OPT network consisted of a set of virtual switches offers significant benefits. These benefits include:","(1) Simplifying the way OPT networks can be managed by allowing operators to think in terms of concepts that the operators already know and can easily relate to, and by abstracting management information and operations from multiple places in the network, which leads to more efficient overall network operations.","(2) Allowing easy flagging, or avoiding altogether, of inconsistencies and error conditions in an OPT network configurations results in managing network operations in a less error prone way; therefore decreasing service outages.","(3) Enabling management applications to be built in such a way that OPT management does not result in significant additional operational complexity as compared with TDM management. As a result and contrary to conventional thinking, operational complexity is reduced by using a virtual switch as management of voice and data are combined.","Added benefits of automating management tasks through virtual switch operations include a decrease in errors, and encapsulation of real devices and actions by manipulating real devices and actions through objects that represent these real devices and actions.","In the foregoing specification, the invention has been described with reference to specific embodiments thereof. It will, however, be evident that various modifications and changes may be made thereto without departing from the broader spirit and scope of the invention. The specification and drawings are, accordingly, to be regarded in an illustrative rather than a restrictive sense."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention is illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings and in which like reference numerals refer to similar elements and in which:",{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 1B"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 1C","FIG. 1B"]},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2B"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 5A"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 5B"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 5C"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 5D"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 8A"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 8B","FIG. 8A"]},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 10A"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 10B","FIG. 9"]},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 11A"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 11B"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 12A"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 12B"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 12C"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 12D"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 12E"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 12F"},{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 13A"},{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 13B"},{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 13C"},{"@attributes":{"id":"p-0055","num":"0054"},"figref":"FIG. 14"}]},"DETDESC":[{},{}]}
