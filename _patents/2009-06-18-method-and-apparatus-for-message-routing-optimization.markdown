---
title: Method and apparatus for message routing optimization
abstract: An approach is provided for optimizing message routing without repeatedly resolving a home location. A login request from a user equipment associated with a resource identifier is received. The user equipment is configured to operate within a network including a plurality of clusters. The resource identifier of the user equipment is modified to include home cluster information indicating a corresponding one of the clusters serving the user equipment.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08667122&OS=08667122&RS=08667122
owner: Nokia Corporation
number: 08667122
owner_city: Espoo
owner_country: FI
publication_date: 20090618
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SOME EXAMPLE EMBODIMENTS","DESCRIPTION OF PREFERRED EMBODIMENT"],"p":["Service providers and device manufacturers are continually challenged to deliver value and convenience to consumers by, for example, providing compelling network services, applications, and content. Important differentiators in the industry are application and network services as well as the capabilities to support and scale these services. In particular, these applications and services can be optimized to communicate with clients in a way that scales geographically.","According to one embodiment, a method comprises receiving a login request from a user equipment associated with a resource identifier. The user equipment is configured to operate within a network including a plurality of clusters. The method also comprises modifying the resource identifier of the user equipment to include home cluster information indicating a corresponding one of the clusters serving the user equipment.","According to another embodiment, an apparatus comprising at least one processor, and at least one memory including computer program code, the at least one memory and the computer program code configured to, with the at least one processor, cause the apparatus to receive a login request from a user equipment associated with a resource identifier. The user equipment is configured to operate within a network including a plurality of clusters. The apparatus is also caused to modify the resource identifier of the user equipment to include home cluster information indicating a corresponding one of the clusters serving the user equipment.","According to another embodiment, a computer-readable storage medium carrying one or more sequences of one or more instructions which, when executed by one or more processors, cause an apparatus to receive a login request from a user equipment associated with a resource identifier. The user equipment is configured to operate within a network including a plurality of clusters. The apparatus is also caused to modify the resource identifier of the user equipment to include home cluster information indicating a corresponding one of the clusters serving the user equipment.","According to yet another embodiment, an apparatus comprises means for receiving a login request from a user equipment associated with a resource identifier. The user equipment is configured to operate within a network including a plurality of clusters. The apparatus also comprises means for modifying the resource identifier of the user equipment to include home cluster information indicating a corresponding one of the clusters serving the user equipment.","Still other aspects, features, and advantages of the invention are readily apparent from the following detailed description, simply by illustrating a number of particular embodiments and implementations, including the best mode contemplated for carrying out the invention. The invention is also capable of other and different embodiments, and its several details can be modified in various obvious respects, all without departing from the spirit and scope of the invention. Accordingly, the drawings and description are to be regarded as illustrative in nature, and not as restrictive.","A method, apparatus, and computer software for efficiently resolving home locations of message users are disclosed. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the embodiments of the invention. It is apparent, however, to one skilled in the art that the embodiments of the invention may be practiced without these specific details or with an equivalent arrangement. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of the invention.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIGS. 1A and 1B","FIG. 1A"],"b":["100","101","100","101","101","103","103","105","103","101","107","107","109","109","111","111","113","113","115","115","107","101","117","109"],"i":["a","n","a","n ","a","n ","a","n","a","n","a","n","a","n"]},"In one embodiment, system , is a geographically distributed system, where each user or service has a home location. The geographical distribution allows for scalability of sending messages to many users quickly via a messaging bus . Thus, multiple subsystems are deployed at different realms . In one embodiment, a home location can be a cluster within a realm . Home location information can also include a node associated with a home cluster. A cluster can be a group linked computers acting to process information similar to a single computer. In some embodiments, a cluster is a realm . Each realm  should be able to communicate with other realms  to exchange messages between different end-points (e.g., users or services) located in different realms . To exchange messages between different endpoints in different realms , the messaging bus  should know the home location of the endpoints.","According to one embodiment, a user's home location can be resolved by querying a home location registry . The home location registry  can be a database containing the home messaging bus  address for each endpoint. Because the database should be simple and not regularly updated, the home location registry  can be stored in each realm  and each home location registry  instance can be updated each time one is modified. In another embodiment, each cluster, or a set of clusters can have its own instance of a home location registry . Querying a home location registry  each time a user sends a message may overload the system  or restrict the capacity of the system . In one embodiment, to ameliorate this issue, a home location resource identifier can be used to facilitate direct message routing between parties when a session has been established. The home location resource identifier can be appended to a user identifier uniquely identifying the user. When a session has been established, a session database  in each realm  involved in the session carries information regarding the session.","System , according to certain embodiments, utilizes a messaging bus  to provide efficient communications and services. A messaging bus  is a logical component that can connect applications and services running on application platforms . The messaging bus  transports the messages between applications. The messaging bus  uses a messaging scheme that is compatible with each of the applications. Also, the messaging bus  can have a set of common message commands and a common infrastructure for sending bus messages to receivers. When using a messaging bus , a sender application sends a message to the bus, the messaging bus  then transports the message to applications listening to the bus for the message.","Additionally, in certain embodiments, the messaging bus  can be associated with a publisher and subscriber messaging model where when a message is published, the message is sent to subscriber nodes. The publisher and subscriber model can include a list-based implementation, a broadcast-based implementation, or a content-based implementation. In a list-based subscription model, a list is maintained of publishing topics\/subjects and subscribers\/observers and notifying the subscribers\/observers when an event occurs. In a broadcast-based model, a messaging bus  broadcasts the message to all of the nodes listening to the messaging bus  and the listening node (subscriber) filters unwanted messages. In the content-based model, when the messaging bus  receives a message, it matches the message against a set of subscribers and forwards the message to the appropriate subscribers. The producers and subscribers can be various applications and services. For example, a music news application in a realm  in Arizona can subscribe to a producer news service in a realm  in New York. In another example, a music application on a UE  can be a producer or subscriber.","In one embodiment, a publisher publishes a message via a channel on the messaging bus . The channel can be created and configured by a messaging bus  endpoint (e.g., a user application  or a service running on an application platform ). The creator of the channel is the owner of the channel. In some embodiments, others users or services may publish or subscribe to the configured channel. Data about the configured channel can be stored in a channel database . Each channel database  contains publisher information and subscriber information of a channel. In one embodiment, if the channel owner home location is the current cluster, then information about all subscribers is stored in the channel database .","In another embodiment, the messaging bus  is used to send point-to-point messages within registered messaging bus  endpoints (e.g., a UE  or an application platform ). Point-to-point messages do not use publish-and-subscribe channels to deliver messages, but the messages are routed between the endpoints via the messaging bus . For example, an application  on a UE  may send and receives messages to and from a service by using the messaging bus .","An application platform can be used by a UE application to service a user's music, people, places, photo sharing, and other application services needs. In one embodiment, the application platform can be used to access application platforms -in different realms -; these realms -can be geographically dispersed. The application platforms -in different realms -can carry additional services, such as networks services, games, farming services, and video services. Further, services in realm can access the services in realm and realm via a messaging bus . Realms  can also communicate over a service to service network.","In one embodiment, a realm  includes a login handler . A client  that wishes to send a message can be directed to the login handler  to initiate a session. A session is an interactive information exchange between communicating devices that is established at a certain time (e.g., login) and torn down at a later time (e.g., logout). Session information (e.g., identifier, name of applications associated with session, timestamp of the session's creation, etc.) can be stored in a session database . The login handler  can authenticate a client session. Additionally, the login handler  can examine a client identifier to determine the home location of the client . During the examination, the login handler  compares the identifier to a home location registry . The login handler  can also return a modified identifier to the client  that appends the home location of the client to the identifier. Thus, information in a home location registry  can be replicated into a modified identifier.","By way of example, the communication network  of system  includes one or more networks such as a data network (not shown), a wireless network (not shown), a telephony network (not shown), or any combination thereof. It is contemplated that the data network may be any local area network (LAN), metropolitan area network (MAN), wide area network (WAN), a public data network (e.g., the Internet), or any other suitable packet-switched network, such as a commercially owned, proprietary packet-switched network, e.g., a proprietary cable or fiber-optic network. In addition, the wireless network may be, for example, a cellular network and may employ various technologies including enhanced data rates for global evolution (EDGE), general packet radio service (GPRS), global system for mobile communications (GSM), Internet protocol multimedia subsystem (IMS), universal mobile telecommunications system (UMTS), etc., as well as any other suitable wireless medium, e.g., microwave access (WiMAX), Long Term Evolution (LTE) networks, code division multiple access (CDMA), wireless fidelity (WiFi), satellite, mobile ad-hoc network (MANET), and the like.","The UE  is any type of mobile terminal, fixed terminal, or portable terminal including a mobile handset, station, unit, device, multimedia tablet, Internet node, communicator, desktop computer, laptop computer, internet computer, internet tablet, Personal Digital Assistants (PDAs), or any combination thereof. It is also contemplated that the UE  can support any type of interface to the user (such as \u201cwearable\u201d circuitry, etc.).","By way of example, the UE  and an application platform  communicate with each other and other components of the communication network  using well known, new or still developing protocols. In this context, a protocol includes a set of rules defining how the network nodes within the communication network  interact with each other based on information sent over the communication links. The protocols are effective at different layers of operation within each node, from generating and receiving physical signals of various types, to selecting a link for transferring those signals, to the format of information indicated by those signals, to identifying which software application executing on a computer system sends or receives the information. The conceptually different layers of protocols for exchanging information over a network are described in the Open Systems Interconnection (OSI) Reference Model.","Communications between the network nodes are typically effected by exchanging discrete packets of data. Each packet typically comprises (1) header information associated with a particular protocol, and (2) payload information that follows the header information and contains information that may be processed independently of that particular protocol. In some protocols, the packet includes (3) trailer information following the payload and indicating the end of the payload information. The header includes information such as the source of the packet, its destination, the length of the payload, and other properties used by the protocol. Often, the data in the payload for the particular protocol includes a header and payload for a different protocol associated with a different, higher layer of the OSI Reference Model. The header for a particular protocol typically indicates a type for the next protocol contained in its payload. The higher layer protocol is said to be encapsulated in the lower layer protocol. The headers included in a packet traversing multiple heterogeneous networks, such as the Internet, typically include a physical (layer 1) header, a data-link (layer 2) header, an internetwork (layer 3) header and a transport (layer 4) header, and various application headers (layer 5, layer 6 and layer 7) as defined by the OSI Reference Model.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 2","b":["201","101","203","205","201","203","201","203","203","205","207","209","209","209","211","209","201","203","213","215","217","203","219","219"],"i":["a","n"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 3","FIG. 8"],"b":["121","300","109","101","301","121","109","101","101","101","101"]},"At step , the login handler  modifies the resource identifier of the UE  to include home cluster information that indicates a cluster that serves the UE . In one embodiment, the home cluster information has a realm or site identifier, a cluster identifier, and a node identifier. The home cluster information is obtained by identifying the home cluster associated with a user of the UE  by using a home locator (e.g., querying a home location registry ). The resource identifier is then modified by appending the home cluster information to the resource identifier. In one embodiment, the modified resource identifier is sent to the endpoint. The endpoint can then parse the modified resource identifier to determine the home location of the UE  instead of resolving the home location by querying the home location registry .","With the above approach, a geographically distributed system with multiple locations can be optimized to reduce overhead of repeatedly determining the home location of users. In this manner, a user associated with one geographic site can interact with another user associated with a different geographic site without the servers of both geographic sites having to query a home location registry. This helps alleviate the burden of a home location registry from repeated queries by clusters of computers for determining the home location of endpoints sending repeated messages.",{"@attributes":{"id":"p-0036","num":"0035"},"figref":["FIG. 4","FIG. 8"],"b":["121","400","109","123","101","123","103","123","103","401","123","103","121","103","403","121","123","100","123","123","405","103","115","407","115","115","115","103"],"i":["a ","b","n "]},"At step , the login handler  determines if the local realm  is the home location of the client . If the local realm  is not the home location of the client , at step , the client  is forwarded to the home location of the client . The login handler  accomplishes the task querying the home location registry  for the home location of the identifier associated with the client . Then, the home location registry  returns a home location for the identifier. If the home location is different from the home location of the login handler , the client  is forwarded to the login handler at the home location of the client . From there the process is started anew.","If, at step , the local realm  is determined to be the home location of the client , at step , the login handler  modifies the identifier associated with the client  to include the home location of the client . The login handler  then updates a session database  with client information and session information. At step , the client  is sent the modified identifier. In one embodiment, during the session, the home location is resolved by parsing the modified identifier rather than querying the home location registry .","With the above approach, a UE  can communicate with an endpoint without the home location of each communication message being resolved. In a geographically distributed system, it may be necessary to identify the end locations of a message using a home location registry. The home location registry's contents can be replicated into a modified identifier to help alleviate the load of multiple home location requests.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 5","b":["500","123","103","501","503","505"]},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 6A","b":["600","601","1","601","603","603","601","2","605","605","603","603","3","4","603","605","603","601","605","605","5","605","603","6","603","601","7"]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 6B","b":["620","621","623","109","11","621","103","623","103","623","621","623","621","623","621","625","625","12","623","621","13","623","621","621","621","14","621","15"]},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 6C","b":["640","21","641","643","109","645","641","641","22","645","641","643","641","23","643","113","643","24","641","641","109","109","641"]},"The processes described herein for providing message routing optimization without resolving home location via a home location registry may be advantageously implemented via software, hardware (e.g., general processor, Digital Signal Processing (DSP) chip, an Application Specific Integrated Circuit (ASIC), Field Programmable Gate Arrays (FPGAs), etc.), firmware or a combination thereof. Such exemplary hardware for performing the described functions is detailed below.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 7","b":["700","700","710","700"]},"A bus  includes one or more parallel conductors of information so that information is transferred quickly among devices coupled to the bus . One or more processors  for processing information are coupled with the bus .","A processor  performs a set of operations on information as specified by computer program code related to optimizing message routing. The computer program code is a set of instructions or statements providing instructions for the operation of the processor and\/or the computer system to perform specified functions. The code, for example, may be written in a computer programming language that is compiled into a native instruction set of the processor. The code may also be written directly using the native instruction set (e.g., machine language). The set of operations include bringing information in from the bus  and placing information on the bus . The set of operations also typically include comparing two or more units of information, shifting positions of units of information, and combining two or more units of information, such as by addition or multiplication or logical operations like OR, exclusive OR (XOR), and AND. Each operation of the set of operations that can be performed by the processor is represented to the processor by information called instructions, such as an operation code of one or more digits. A sequence of operations to be executed by the processor , such as a sequence of operation codes, constitute processor instructions, also called computer system instructions or, simply, computer instructions. Processors may be implemented as mechanical, electrical, magnetic, optical, chemical or quantum components, among others, alone or in combination.","Computer system  also includes a memory  coupled to bus . The memory , such as a random access memory (RAM) or other dynamic storage device, stores information including processor instructions for optimizing message routing. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory  is also used by the processor  to store temporary values during execution of processor instructions. The computer system  also includes a read only memory (ROM)  or other static storage device coupled to the bus  for storing static information, including instructions, that is not changed by the computer system . Some memory is composed of volatile storage that loses the information stored thereon when power is lost. Also coupled to bus  is a non-volatile (persistent) storage device , such as a magnetic disk, optical disk or flash card, for storing information, including instructions, that persists even when the computer system  is turned off or otherwise loses power.","Information, including instructions for optimizing message routing, is provided to the bus  for use by the processor from an external input device , such as a keyboard containing alphanumeric keys operated by a human user, or a sensor. A sensor detects conditions in its vicinity and transforms those detections into physical expression compatible with the measurable phenomenon used to represent information in computer system . Other external devices coupled to bus , used primarily for interacting with humans, include a display device , such as a cathode ray tube (CRT) or a liquid crystal display (LCD), or plasma screen or printer for presenting text or images, and a pointing device , such as a mouse or a trackball or cursor direction keys, or motion sensor, for controlling a position of a small cursor image presented on the display  and issuing commands associated with graphical elements presented on the display . In some embodiments, for example, in embodiments in which the computer system  performs all functions automatically without human input, one or more of external input device , display device  and pointing device  is omitted.","In the illustrated embodiment, special purpose hardware, such as an application specific integrated circuit (ASIC) , is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor  quickly enough for special purposes. Examples of application specific ICs include graphics accelerator cards for generating images for display , cryptographic boards for encrypting and decrypting messages sent over a network, speech recognition, and interfaces to special external devices, such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.","Computer system  also includes one or more instances of a communications interface  coupled to bus . Communication interface  provides a one-way or two-way communication coupling to a variety of external devices that operate with their own processors, such as printers, scanners and external disks. In general the coupling is with a network link  that is connected to a local network  to which a variety of external devices with their own processors are connected. For example, communication interface  may be a parallel port or a serial port or a universal serial bus (USB) port on a personal computer. In some embodiments, communications interface  is an integrated services digital network (ISDN) card or a digital subscriber line (DSL) card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments, a communication interface  is a cable modem that converts signals on bus  into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example, communications interface  may be a local area network (LAN) card to provide a data communication connection to a compatible LAN, such as Ethernet. Wireless links may also be implemented. For wireless links, the communications interface  sends or receives or both sends and receives electrical, acoustic or electromagnetic signals, including infrared and optical signals, that carry information streams, such as digital data. For example, in wireless handheld devices, such as mobile telephones like cell phones, the communications interface  includes a radio band electromagnetic transmitter and receiver called a radio transceiver. In certain embodiments, the communications interface  enables connection to the communication network  for sending messages to the UE .","The term computer-readable medium is used herein to refer to any medium that participates in providing information to processor , including instructions for execution. Such a medium may take many forms, including, but not limited to, non-volatile media, volatile media and transmission media. Non-volatile media include, for example, optical or magnetic disks, such as storage device . Volatile media include, for example, dynamic memory . Transmission media include, for example, coaxial cables, copper wire, fiber optic cables, and carrier waves that travel through space without wires or cables, such as acoustic waves and electromagnetic waves, including radio, optical and infrared waves. Signals include man-made transient variations in amplitude, frequency, phase, polarization or other physical properties transmitted through the transmission media. Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, any other magnetic medium, a CD-ROM, CDRW, DVD, any other optical medium, punch cards, paper tape, optical mark sheets, any other physical medium with patterns of holes or other optically recognizable indicia, a RAM, a PROM, an EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave, or any other medium from which a computer can read. The term computer-readable storage medium is used herein to refer to any computer-readable medium except transmission media.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 8","FIG. 7"],"b":["800","800"]},"In one embodiment, the chip set  includes a communication mechanism such as a bus  for passing information among the components of the chip set . A processor  has connectivity to the bus  to execute instructions and process information stored in, for example, a memory . The processor  may include one or more processing cores with each core configured to perform independently. A multi-core processor enables multiprocessing within a single physical package. Examples of a multi-core processor include two, four, eight, or greater numbers of processing cores. Alternatively or in addition, the processor  may include one or more microprocessors configured in tandem via the bus  to enable independent execution of instructions, pipelining, and multithreading. The processor  may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors (DSP) , or one or more application-specific integrated circuits (ASIC) . A DSP  typically is configured to process real-world signals (e.g., sound) in real time independently of the processor . Similarly, an ASIC  can be configured to performed specialized functions not easily performed by a general purposed processor. Other specialized components to aid in performing the inventive functions described herein include one or more field programmable gate arrays (FPGA) (not shown), one or more controllers (not shown), or one or more other special-purpose computer chips.","The processor  and accompanying components have connectivity to the memory  via the bus . The memory  includes both dynamic memory (e.g., RAM, magnetic disk, writable optical disk, etc.) and static memory (e.g., ROM, CD-ROM, etc.) for storing executable instructions that when executed perform the inventive steps described herein to optimize message routing. The memory  also stores the data associated with or generated by the execution of the inventive steps.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 9","FIG. 1"],"b":["903","905","907","909","911","911","911","913"]},"A radio section  amplifies power and converts frequency in order to communicate with a base station, which is included in a mobile communication system, via antenna . The power amplifier (PA)  and the transmitter\/modulation circuitry are operationally responsive to the MCU , with an output from the PA  coupled to the duplexer  or circulator or antenna switch, as known in the art. The PA  also couples to a battery interface and power control unit .","In use, a user of mobile station  speaks into the microphone  and his or her voice along with any detected background noise is converted into an analog voltage. The analog voltage is then converted into a digital signal through the Analog to Digital Converter (ADC) . The control unit  routes the digital signal into the DSP  for processing therein, such as speech encoding, channel encoding, encrypting, and interleaving. In one embodiment, the processed voice signals are encoded, by units not separately shown, using a cellular transmission protocol such as global evolution (EDGE), general packet radio service (GPRS), global system for mobile communications (GSM), Internet protocol multimedia subsystem (IMS), universal mobile telecommunications system (UMTS), etc., as well as any other suitable wireless medium, e.g., microwave access (WiMAX), Long Term Evolution (LTE) networks, code division multiple access (CDMA), wireless fidelity (WiFi), satellite, and the like.","The encoded signals are then routed to an equalizer  for compensation of any frequency-dependent impairments that occur during transmission though the air such as phase and amplitude distortion. After equalizing the bit stream, the modulator  combines the signal with a RF signal generated in the RF interface . The modulator  generates a sine wave by way of frequency or phase modulation. In order to prepare the signal for transmission, an up-converter  combines the sine wave output from the modulator  with another sine wave generated by a synthesizer  to achieve the desired frequency of transmission. The signal is then sent through a PA  to increase the signal to an appropriate power level. In practical systems, the PA  acts as a variable gain amplifier whose gain is controlled by the DSP  from information received from a network base station. The signal is then filtered within the duplexer  and optionally sent to an antenna coupler  to match impedances to provide maximum power transfer. Finally, the signal is transmitted via antenna  to a local base station. An automatic gain control (AGC) can be supplied to control the gain of the final stages of the receiver. The signals may be forwarded from there to a remote telephone which may be another cellular telephone, other mobile phone or a land-line connected to a Public Switched Telephone Network (PSTN), or other telephony networks.","Voice signals transmitted to the mobile station  are received via antenna  and immediately amplified by a low noise amplifier (LNA) . A down-converter  lowers the carrier frequency while the demodulator  strips away the RF leaving only a digital bit stream. The signal then goes through the equalizer  and is processed by the DSP . A Digital to Analog Converter (DAC)  converts the signal and the resulting output is transmitted to the user through the speaker , all under control of a Main Control Unit (MCU) \u2014which can be implemented as a Central Processing Unit (CPU) (not shown).","The MCU  receives various signals including input signals from the keyboard . The keyboard  and\/or the MCU  in combination with other user input components (e.g., the microphone ) comprise a user interface circuitry for managing user input. The MCU  runs a user interface software to facilitate user control of at least some functions of the mobile station  to optimize message routing. The MCU  also delivers a display command and a switch command to the display  and to the speech output switching controller, respectively. Further, the MCU  exchanges information with the DSP  and can access an optionally incorporated SIM card  and a memory . In addition, the MCU  executes various control functions required of the station. The DSP  may, depending upon the implementation, perform any of a variety of conventional digital processing functions on the voice signals. Additionally, DSP  determines the background noise level of the local environment from the signals detected by microphone  and sets the gain of microphone  to a level selected to compensate for the natural tendency of the user of the mobile station .","The CODEC  includes the ADC  and DAC . The memory  stores various data including call incoming tone data and is capable of storing other data including music data received via, e.g., the global Internet. The software module could reside in RAM memory, flash memory, registers, or any other form of writable storage medium known in the art. The memory device  may be, but not limited to, a single memory, CD, DVD, ROM, RAM, EEPROM, optical storage, or any other non-volatile storage medium capable of storing digital data.","An optionally incorporated SIM card  carries, for instance, important information, such as the cellular phone number, the carrier supplying service, subscription details, and security information. The SIM card  serves primarily to identify the mobile station  on a radio network. The card  also contains a memory for storing a personal telephone number registry, text messages, and user specific mobile station settings.","While the invention has been described in connection with a number of embodiments and implementations, the invention is not so limited but covers various obvious modifications and equivalent arrangements, which fall within the purview of the appended claims. Although features of the invention are expressed in certain combinations among the claims, it is contemplated that these features can be arranged in any combination and order.","The following patent applications are incorporated herein by reference in their entireties: co-pending U.S. Patent Application (NC69561US P2605US00) filed Jun. 18, 2009, entitled \u201cMethod and Apparatus for Message Routing to Services,\u201d and co-pending U.S. Patent Application (NC69561US P2606US00) filed Jun. 18, 2009, entitled \u201cMethod and Apparatus for Message Routing Between Clusters using Proxy Channels.\u201d"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments of the invention are illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings:",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIGS. 1A and 1B"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIGS. 6A-6C"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
