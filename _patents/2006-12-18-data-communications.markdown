---
title: Data communications
abstract: The present invention provides methods of, computer programs for and apparatus for control and/or observation of a device with communication capabilities by a controller device with hypertext or hypermedia communication capabilities. More particularly, but not exclusively, the present invention relates to methods of, computer programs for and apparatus for control and observation of a consumer electronics device with communications capability from a mobile controller device with hypertext or hypermedia communications capability over a proximity bearer.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07565210&OS=07565210&RS=07565210
owner: STMicroelectronic Srl.
number: 07565210
owner_city: Amsterdam
owner_country: NL
publication_date: 20061218
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF CERTAIN INVENTIVE ASPECTS OF THE INVENTION","DETAILED DESCRIPTION OF CERTAIN EMBODIMENTS OF THE INVENTION","Appendix A","IMPLEMENTATION EXAMPLES","Example Program in HIPE-L"],"p":["This application is a continuation application, and claims the benefit under 35 U.S.C. \u00a7120 of application Ser. No. 10\/915,956 filed on Aug. 11, 2004, now abandoned, which is hereby incorporated by reference herein. Application Ser. No. 10\/915,956 also claimed the benefit under 35 U.S.C. \u00a7 120 of application Ser. No. 10\/705,260 filed on Nov. 10, 2003, now abandoned, which is hereby incorporated by reference herein. Application Ser. No. 10\/705,260 also claimed the benefit under 35 U.S.C. \u00a7 120 of application Ser. No. 10\/389,705 filed on Mar. 12, 2003, now abandoned, which is hereby incorporated by reference herein. Application Ser. No. 10\/389,705 also claimed the benefit under 35 U.S.C. \u00a7\u00a7 120 and 365 of PCT application No. PCT\/GB01\/04099 filed on Sep. 13, 2001, which is hereby incorporated by reference herein.","1. Field of the Invention","The present invention relates to methods of, computer programs for and apparatus for control and\/or observation of a device with communication capabilities by a controller device with hypertext or hypermedia communication capabilities. More particular, but not exclusively, the present invention relates to methods of, computer programs for and apparatus for control and observation of a consumer electronics device with communications capability from a mobile controller device with hypertext or hypermedia communications capability over a proximity bearer.","2. Description of the Related Technology","Techniques of remotely controlling consumer electronics devices, such as CD players are known. Conventional remote controllers are device-specific and factory-programmed\u2014i.e. pre-programmed in an unchangeable way\u2014to operate the particular device. Typically, such remote controllers will have keypads with buttons which, when pressed, will instruct the device to perform a particular function. Often, the remote controller will communicate with the device using Infra Red Data Association (IrDA) as the bearer medium and both the controller and the device will have IrDA communications hardware and software entities\u2014i.e. IrDA transmitters and\/or receivers, and IrDA protocol stacks. Most remote controllers have a one-way communication relationship with the device they control. Thus, instructions are sent from the remote controller to the device but data is not sent from the device back to the remote controller.",{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},"Controllers with two-way communications relationships with devices are known. For example, Sony\u2122 have developed remote controllers which are factory-programmed for Sony\u2122 devices but which have the capability of receiving status information from those devices and displaying it to a user on a display screen on the remote controller.","User-programmable remote controllers are also known. For example, the Philips Pronto\u2122 and the Marantz\u2122 RC500. Typically, user-programmable remote controllers are factory-programmed for particular devices but may be re-programmed by a user to function as remote controllers for new devices by either learning the control messages used by a device-specific factory-programmed remote controller (i.e. by pointing the factory-programmed remote controller IrDA transmitter at an IrDA receiver of the re-programmable controller which learns the control messages parasitically as the user exercises the control options available on the factory-programmed controller), or by connecting the re-programmable controller to a computing device, such as a personal computer (PC) and downloading control programs pre-configured for the new device from the Internet.","Consumer electronics devices connected to the Internet are known. For example, microwave ovens are known which may be connected to the Internet using a modem and the public switched telephone network (PSTN) for downloading cooking settings. Also, vending machines, such as Coke\u2122 vending machines, are known which have connection to a data network and which include a server, such as a finger daemon server, for remote interrogation by a client device also connected to the data network. This may be used by a user of the remote client device to find out whether the Coke\u2122 machine has any cans available for vending without the user needing to physically go to the machine.","One problem with the above-described approach to controlling devices is that the controller is typically specific to a particular device or a set of particular devices and must be pre-programmed (either by the manufacturer or the user) with all the capabilities of the controlled device that the user wishes to control. Another problem with the above-described approaches to controlling devices is that the method of control is unreliable. For example, one-way remote controllers have no way of determining whether a user instruction has been properly received by the device. This is particularly the case with IrDA remote controllers which require line of sight to the device. Furthermore, with two-way communication between remote controller and device, reliability can be even more of a problem. For example, where the remote controller maintains state relating to the operational status of the device, the unreliability of communicating commands to the device and the unreliability of receiving status from the device means that the state maintained in the remote controller may not be synchronised with the actual state of the device.","One problem with the above described approach to receiving status information at a controller device from a controlled device is that the controlled device must have knowledge of the capabilities of the controller device\u2014for example, the display capabilities of the controller device.","According to a first aspect of the present invention, there is provided a method of providing a remote data processing device with control data, the control data enabling a user to control the operation of a consumer electronics device, both the remote data processing device and the consumer electronics device being capable of communication using a hypermedia data communications protocol, the method comprising the following steps:","a) the consumer electronics device generating a hypermedia data message, the hypermedia data message comprising data representing one or more menu options, the menu options corresponding to one or more actions capable of being performed by the consumer electronics device in response to receiving a control message corresponding to one or more of the menu options;","b) the consumer electronics device sending the hypermedia data message to the remote data processing device using the hypermedia data communications protocol.","According to a second aspect of the present invention, there is provided a method of providing a remote data processing device with data representing the operational state of a consumer electronics device, both the remote data processing device and the consumer electronics device being capable of communication using a hypermedia data communications protocol, the method comprising the following steps:","a) the consumer electronics device generating a hypermedia data message in dependence on the operational state of the consumer electronics device; and","b) sending the hypermedia data message to the remote data processing device using the hypermedia data communications protocol.","According to a third aspect of the present invention, there is provided a method of controlling a consumer electronics device using a remote data processing device, both the remote data processing device and the consumer electronics device being capable of communication using a hypermedia data communications protocol, the method comprising the following steps:","a) the consumer electronics device generating a hypermedia data message, the hypermedia data message comprising data representing one or more menu options, the menu options corresponding to one or more actions capable of being performed by the consumer electronics device in response to receiving a control message corresponding to one or more of the menu options;","b) the consumer electronics device sending the hypermedia data message to the remote data processing device using the hypermedia data communications protocol;","c) the remote data processing device presenting the one or more menu options to a user via a man-machine interface;","d) the user selecting one or more of the menu options using the man-machine interface;","e) the remote data processing device generating and sending to the consumer electronics device a control message in response to the user selection;","f) the consumer electronics device performing the corresponding action or actions in response to the received control message.","According to a fourth aspect of the present invention, there is provided a consumer electronics device adapted to provide a remote data processing device with control data, the control data enabling a user to control the operation of the consumer electronics device, the consumer electronics device being capable of communication using a hypermedia data communications protocol, the consumer electronics device comprising the following:","a) means for generating a hypermedia data message, the hypermedia data message comprising data representing one or more menu options, the menu options corresponding to one or more actions capable of being performed by the consumer electronics device in response to receiving a control message corresponding to one or more of the menu options;","b) means for sending the hypermedia data message to the remote data processing device using the hypermedia data communications protocol.","According to a fifth aspect of the present invention, there is provided a consumer electronics device adapted to provide a remote data processing device with data representing its operational state, the consumer electronics device being capable of communication using a hypermedia data communications protocol, the consumer electronics device comprising the following:","a) means for generating a hypermedia data message in dependence on its operational state; and","b) means for sending the hypermedia data message to the remote data processing device using the hypermedia data communications protocol.","According to a sixth aspect of the present invention, there is provided a consumer electronics device adapted to be controlled using a remote data processing device, the consumer electronics device being capable of communication using a hypermedia data communications protocol, the consumer electronics device comprising the following:","a) means for generating a hypermedia data message, the hypermedia data message comprising data representing one or more menu options, the menu options corresponding to one or more actions capable of being performed by the consumer electronics device in response to receiving a control message corresponding to one or more of the menu options;","b) means for sending a hypermedia data message to the remote data processing device using the hypermedia data communications protocol;","c) means for receiving a control message from the remote data processing device using the hypermedia data communications protocol;","d) means for performing one or more actions in response to a received control message.","According to a seventh aspect of the present invention, there is provided a control unit for a consumer electronics device, the control unit being adapted to provide a remote data processing device with control data, the control data enabling a user to control the operation of the consumer electronics device, the control unit comprising:","a) means for determining the operational state of the consumer electronics device;","b) means for generating a hypermedia data message, the hypermedia data message comprising data representing one or more menu options, the menu options corresponding to one or more actions capable of being performed by the consumer electronics device;","c) means for sending the hypermedia data message to the remote data processing device using a hypermedia data communications protocol.","According to an eighth aspect of the present invention, there is provided a control unit for a consumer electronics device, the control unit being adapted to provide a remote data processing device with data representing its operational state, the control unit comprising the following:","a) means for determining the operational state of the consumer electronics device;","b) means for generating a hypermedia data message in dependence on its operational state; and","c) means for sending the hypermedia data message to the remote data processing device using a hypermedia data communications protocol.","According to a ninth aspect of the present invention, there is provided a control unit for a consumer electronics device, the control unit comprising the following:","a) means for generating a hypermedia data message, the hypermedia data message comprising data representing one or more menu options, the menu options corresponding to one or more actions capable of being performed by the consumer electronics device in response to receiving one or more control messages corresponding to one or more of the menu options;","b) means for sending the hypermedia data message to a remote data processing device using a hypermedia data communications protocol;","c) means for receiving a control message from a remote data processing device;","d) means for controlling the consumer electronics device to perform one or more actions in response to a received control message.","According to a tenth aspect of the present invention, there is provided an integrated circuit for a consumer electronics device comprising:","a) communications means adapted to communicate using a proximity bearer;","b) microprocessor control unit means;","c) interface means for electronic communication with a controller of the consumer electronics device.","According to an eleventh aspect of the present invention, there is provided a data processing device comprising proximity bearer communications means and hypermedia transport protocol message generation means, wherein the device is adapted to communicate with remote data processing devices using the hypermedia transport protocol over the proximity bearer.","According to a twelfth aspect of the present invention, there is provided a method of controlling a consumer electronics device, the consumer electronics device being capable of communicating using a hypermedia data communications protocol over a proximity bearer, the method comprising the following steps:","a) the consumer electronics device receiving a hypermedia request message;","b) the consumer electronics device determining one or more actions to be performed by the consumer electronics device, the determining being performed in dependence on the hypermedia request message;","c) the consumer electronics device performing the one or more actions.","According to a thirteenth aspect of the present invention, there is provided a method of compiling a computer program into a machine code program, the computer program being written in a programming language, the programming language having native functions or methods for causing the interrogation of electronic input\/output interfaces and having native functions or methods for causing the generation of menu option descriptions for inclusion in hypermedia data messages.","According to a fourteenth aspect of the present invention, there is provided a method of controlling a controlled data processing device using a controller data processing device, the controlled device and controller device both being capable of communication using a hypermedia data communications protocol, the method comprising the following steps:","a) the controlled device sending a hypermedia data message to the controller device using the hypermedia protocol, the hypermedia data message comprising one or more hyperlinks;","b) the controller device presenting the hypermedia data message to a user of the controller device using a man-machine interface of the controller device;","c) the user selecting one or more of the one or more hyperlinks using the man-machine interface;","d) in response to the user selection, the controller device sending a hypermedia request message to the controlled device using the hypermedia protocol; and","e) the controlled device performing an action in response to the hypermedia request message received.","According to a fifteenth aspect of the present invention, there is provided a method of controlling a controlled data processing device using a controller data processing device, the controlled device being capable of communication using a data communications protocol, the controller device being capable of communication using a hypermedia data communications protocol, the method comprising the following steps:","a) the controlled device sending a data message to a mediating data processing device using the data communications protocol, the mediating device being capable of communication using both the data communications protocol and the hypermedia data communications protocol,","b) in response to the data message received, the mediating device sending a hypermedia data message to the controller device using the hypermedia data communications protocol, the hypermedia message comprising one or more hyperlinks;","c) the controller device presenting the hypermedia data message to a user of the controller device using a man-machine interface of the controller device;","d) the user selecting one or more of the one or more hyperlinks using the man-machine interface;","e) in response to the user selection, the controller device sending a hypermedia request message to the mediating device using the hypermedia data communications protocol;","f) in response to the hypermedia request message received, the mediating device sending a control data message to the controlled device using the data communications protocol; and","g) the controlled device performing an action in response to the control data message received.","According to a sixteenth aspect of the present invention, there is provided a method of receiving status information from a consumer electronics device at a remote data processing device, the consumer electronics device and remote device both being capable of communication using a hypermedia data communications protocol over a proximity bearer, the method comprising the following steps:","a) the consumer electronics device sending a hypermedia data message to the remote device using the hypermedia protocol over the proximity bearer, the hypermedia data message comprising data representing the state of the consumer electronics device;","b) the remote device receiving the hypermedia data message using the hypermedia data communications protocol over the proximity bearer; and","c) the remote device presenting the hypermedia data message to a user of the remote device using a man-machine interface of the controller device.","According to a seventeenth aspect of the present invention, there is provided a method of receiving status information from a consumer electronic device at a remote data processing device, the remote data processing device being capable of communication using a hypermedia data communications protocol over a proximity bearer, the consumer electronics device being capable of communication using a data communications protocol, the method comprising the following steps:","a) the consumer electronics device sending a data message to a mediating data processing device using the data communications protocol, the mediating data processing device being capable of communication using both the data communications protocol and the hypermedia data communications protocol, data message comprising data representing the state of the consumer electronics device, the data message comprising data representing the state of the consumer electronics device;","b) in response to the data message received, the mediating device sending a hypermedia data message to the remote device using the hypermedia data communication protocol over the proximity bearer, the hypermedia data message comprising data representing the state of the consumer electronics device;","c) the remote device receiving the hypermedia data message using the hypermedia data communications protocol over the proximity bearer; and","d) the remote device presenting the hypermedia data message to a user of the remote device using a man-machine interface of the controller device.","Further aspects of the present invention are set out in the appended claims.","One advantage of the present invention is that it facilitates control and\/or observation of controlled devices without the controller device needing to have any prior knowledge or expectations of the capabilities of the controlled device, save that it is capable of hypermedia communication with the controller device. Thus, the controller device need not be pre-programmed with device-specific information either by a user or manufacturer as has been the case according to the prior art described above.","Another advantage of the present invention is that the control and\/or observation communication between a controller device and a controlled is reliable and any controlled device operational state maintained by the controller device will be reliably synchronised with the actual operational state of the controlled device.","Another advantage of the present invention is that the controller device need not store data enabling the control and\/or observation of the controlled device permanently or for as long as required by prior art systems described above.","Another advantage of the present invention is that the controller device need not store data enabling the control and\/or observation of the controlled device in a manner which are currently not valid due to the operational state of the controlled device as required by prior art systems described above. For example, the controller device will not store data enabling the control of a controlled CD player to stop playing a CD when the CD player is not currently playing a CD.","There now follows, by way of example only, a detailed description of the present invention in which:","By way of a brief overview, the present invention (sometimes referred to as the Hypertext or Hypermedia Control System or HCS) provides a system for control and\/or observation of a controlled device, such as a consumer electronics device, by a controller, such as a WAP-enabled mobile phone, in which the controller need not have any prior knowledge or expectations of the capabilities, or even the presence of the controlled device. The controller is essentially stateless and has not been programmed either by the manufacturer or the user of the controlled device. Similarly, the controlled device has no pre-configured knowledge or expectations of the controller. However, the controller and the controlled device are both able to communicate using a hypermedia protocol, such as the Hypertext Transfer Protocol (HTTP) or the Wireless Transfer Protocol (WTP). Typically, but not necessarily, the controller and the controlled device will communicate over a proximity bearer (PB) such as Bluetooth\u2122 (BT).",{"@attributes":{"id":"p-0096","num":"0095"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0097","num":"0096"},"figref":"FIG. 3","i":"a","b":["1","10","20","10","12","14","14","20","22","24","22","26","14","26","28","30","30","32","30","32","24","34"]},"Thus, a hypermedia control device is able to control a remote device, such as a consumer electronics device, using a hypertext data communications protocol over a proximity bearer. In other embodiments of the present invention, the controller device is able to control the control device using the proximity bearer alone. In other embodiments of the present invention, the controller device and the controlled device communicate using a link level communications bearer other than a proximity bearer. For example, they may communicate using physical cabling or another data communications network such as an Internet protocol network or a public switched telephone network or a cellular network.","The combination of HCVM  and DHCI  are also arranged to be capable of interrogating the device controller  to receive data representing the operational status of the controlled device. Using this data, HCVM  and DHCI  are able to generate hypermedia data messages comprising data representing the operational state of the control device and sending these data messages to the controller device using the stack and bearer arrangement . Upon receipt of the hypermedia data messages using stack and bearer arrangement , the controller device is able to display the hypermedia data message to a user of the controller device using the MMI . For example, the controller device may display a Web page or a WAP card or deck to the user via a browser application. Thus, the control device is able to present data representing the operational state of the device to a user of a remote controller device in the form of a hypermedia data message.","Furthermore, the hypermedia data messages generated by the controlled device may include hyperlinks or other menu options which, when presented to a user of the controller device, may be selected or activated by the user thereby causing the controller device to generate a hypertext request message or other control message for sending to the control device and thereby controlling the controlled device as has been described above. These hyperlinks or menu options may represent the currently available actions that may be performed by the control device. For example, if the control device is a CD player and the CD player is currently playing a CD, then a hyperlink or menu option for stopping the CD player may be included in the hypermedia data message, but not a hyperlink or menu option for starting the CD player to play a CD.","Thus, it can be seen that the control device arrangement as shown in ) is able to provide a controller device with both its operational status and data enabling the controller device to control the controlled device.",{"@attributes":{"id":"p-0102","num":"0101"},"figref":["FIG. 3","FIG. 3","FIG. 3"],"i":["b","a","b"],"b":["14","26","34","24"]},{"@attributes":{"id":"p-0103","num":"0102"},"figref":["FIGS. 4","FIG. 4","FIG. 4","FIG. 4"],"i":["a","b","a","b","b"],"b":"4"},"The compiled code is executed by the HCVM, but the HCVM does not itself have the ability to generate hypermedia data messages. This is left to the DHCI which functions as a wrapper to the HCVM and generates hypermedia data messages in response to instructions received from the HCVM. This is the case in both embodiments described with reference to ) and ).",{"@attributes":{"id":"p-0105","num":"0104"},"figref":["FIGS. 5","FIG. 5","FIG. 8","FIG. 8"],"b":["6","7","40","42","44","46","40","48","44","48","50"],"i":["a","b"]},{"@attributes":{"id":"p-0106","num":"0105"},"figref":"FIG. 6","b":["50","52","54","56","58","60","62","64"]},{"@attributes":{"id":"p-0107","num":"0106"},"figref":["FIG. 7","FIG. 6"],"b":["58","60"]},"Once the PLC of a controlled device has sent a hypermedia data message constituting a \u201chome page\u201d of the controlled device to the controller device, the user of the controller device may navigate through menu options presented on the MMI in a manner similar to navigating through a Internet Web site having first accessed the home page of the Web site. However, unlike navigating through a Web site, the actions of the user of the controller device may result in the control of the controlled device. Furthermore, the current status of the controlled device may be presented to the user of the controller device and menu options corresponding to currently available actions that may be performed by the controlled device are dynamically presented to the user of the controller device as the user navigates\/controls the controlled device. Thus the controller device is being dynamically programmed to control the controlled device by the controlled device itself.",{"@attributes":{"id":"p-0109","num":"0108"},"figref":["FIGS. 8","FIG. 8","FIG. 8","FIG. 8"],"i":["a","l","a","b","c"],"b":"8"},"In ) and ) the screen displayed by the phone is not a displayed Web or WAP page or card, although if the phone were equipped with its own PLC functioning as a proxy for remote PLCs then a Web or WAP page or card may be displayed by the local PLC. However, ) shows a Web or WAP page or card received from the PLC of the controlled device and presents it to the user of the phone by a browser application. ) shows another page or card displayed by the phone. The page or card displays status information\u2014such as the fact that track  is playing\u2014and menu options corresponding to actions of the control device that may be instructed by the user. ) shows a page or card displayed by the phone in which the user may select complex options such as the playing of a selected number of tracks of the CD. This may be achieved by using forms or applets for capturing complex user instructions before, generating a hypermedia request message for sending to the controlled device.",{"@attributes":{"id":"p-0111","num":"0110"},"figref":["FIGS. 8","FIG. 8","FIG. 8","FIG. 8","FIGS. 8","FIGS. 8","FIG. 8","FIG. 8","FIGS. 8","FIG. 8"],"i":["f","g","h","k","l","g","h","f","i","j","c","d","g","k","i","j","l"],"b":["8","8","8","8","8","8","8"]},{"@attributes":{"id":"p-0112","num":"0111"},"figref":"FIG. 9","b":["70","80","82","84","86","80","86","84","82","82","88"]},"The present invention is described in further detail in a technical report document appended hereto as Appendix A.","It is to be understood that the controller devices of the present invention are not limited to mobile phones or PDAs but may be any data processing device whether fixed or mobile which is capable of hypermedia communication whether over a radio interface or over a wired data network. It is also to be understood that the controlled devices according to the present invention may be any data processing devices capable of hypermedia communication whether over a radio interface or over a wired data network. Typically, but not necessarily, the controlled device will be a consumer electronics device such as a CD player, refrigerator, etc. Throughout this document, the term hypermedia and hypertext have been used to refer to any data representation capable of comprising data object referencing other data objects, such as text, audio or visual data etc. It is also to be understood that, while proximity bearers such as BT and IrDA have been described for providing remote communications between a controller device and a controlled device, the present invention may be implemented using a data communication bearer. For example, communication may take place over local area networks, IP networks, public switched telephone network, or cellular mobile networks such as GSM.","I. Foreword","This document describes the Hypertext Control System (HCS), which is a system for controlling and observing a device using a controller capable of hypertext communication.","II. Scope","Description of Remote Control System for Control of Devices via Hypertext over Proximity Bearers.","III. References",{"@attributes":{"id":"p-0117","num":"0000"},"ul":{"@attributes":{"id":"ul0001","list-style":"none"},"li":{"@attributes":{"id":"ul0001-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0002","list-style":"none"},"li":["a. GSM for MSISDN","b. Bluetooth for BTi","c. IrDA for Iri","d. RFC for HTTP\n\nIV. Acronyms and Abbreviations\n"]}}}},{"@attributes":{"id":"p-0118","num":"0120"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["BT","Bluetooth"]},{"entry":["Bti","Bluetooth Interactive"]},{"entry":["CED","Consumer Electronic Device"]},{"entry":["DD","Device Domain"]},{"entry":["DHCI","Device Hypertext Control Interpreter"]},{"entry":["GSM","Global System Mobile"]},{"entry":["HC","Hypertext Controller"]},{"entry":["HCID","Hypertext Controller Identifier"]},{"entry":["HCL","Hypertext Control Language"]},{"entry":["HCRF","Hypertext Controller Request Filter"]},{"entry":["HCVM","Hypertext Control Virtual"]},{"entry":["HCVM","Hypertext Control Virtual Machine"]},{"entry":["HEnc","Hypertext Encoder"]},{"entry":["HIPE-L","Hypertext Interactive Proximity Environment Language"]},{"entry":["HPS","A Hypertext Protocol Stack"]},{"entry":["HTTP","Hypertext Transport Protocol"]},{"entry":["IMode","Internet Mode (Japanese Mobile Internet Standard)"]},{"entry":["ISO","International Standards Organisation"]},{"entry":["LC","Link Controller"]},{"entry":["MSISDN","Mobile Station International Subscriber Digital Number"]},{"entry":["PB","Proximity Bearer"]},{"entry":["PLC","Proximity Link Controller"]},{"entry":["WBXML","Wireless Binary XML"]},{"entry":["WML","Wireless Markup Language"]},{"entry":["WSP","Wireless Session Protocol"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}},"br":{}},"This document describes the Hypertext Control System (HCS), which is a system for controlling and observing a device using a controller capable of hypertext communication. More particular, but not exclusively, the system relates to methods of, computer programs for, and apparatus for control and observation of a device from a mobile communications device via a proximity bearer.","Background","WAP & WML","The Wireless Application Protocol (WAP) is a standard for the presentation and delivery of wireless information and telephony services on mobile phones and other wireless terminals.","To date wireless terminal manufacturers representing 90 percent of the worlds market across all technologies have joined the WAP Forum\u2122.","The WAP has been developed as much as possible with the use of existing industry standards in particular Internet standards. The WAP forum also has formal liaison with International standards and specifications bodies such as:","W3C, TIA, ETSI etc These facts make WAP of particular interest as a vehicle for such control systems such as HCS.","The markup language used in WAE\u2014is Wireless Markup Language(WML). WML is a tag-based document language specified as an XML document type. Thus, WML may be generated with many standard authoring tools. Dyamic WML can be generated by such standard mechanisms as CGI, Perl ASP and similar. WML coding has been specially designed to make efficient use of Wireless bearers.",{"@attributes":{"id":"p-0125","num":"0127"},"chemistry":{"@attributes":{"id":"CHEM-US-00001","num":"00001"},"img":{"@attributes":{"id":"EMI-C00001","he":"94.40mm","wi":"108.54mm","file":"US07565210-20090721-C00001.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{}},"Bluetooth is a short range radio link intended to be a cable replacement between portable and or fixed electronic devices.","Bluetooth operates in the unlicensed ISM band at 2.4 GHz. A frequency hop transceiver is applied to combat interference and fading. The symbol rate is 1 Ms\/s and a slotted channel is applied with a nominal slot length of 625 micro seconds. A TDD multiplex system is used for full duplex operation. Bluetooth can support up to 3 simultaneous voice channels at 64 k\/bps.","Bluetooth provide point to point and point to multipoint connections.","The Bluetooth Link manager supports inquiry and paging procedures which allow a Bluetooth module discover which units are in its transmission range. This GIAC general inquiry mode allows the source bluetooth device to select certain device types via. a DIAC (dedicated inquiry access code)",{"@attributes":{"id":"p-0130","num":"0132"},"chemistry":{"@attributes":{"id":"CHEM-US-00002","num":"00002"},"img":{"@attributes":{"id":"EMI-C00002","he":"87.38mm","wi":"103.46mm","file":"US07565210-20090721-C00002.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{}},"This is the transport layer of Bluetooth with provision for RS-232 serial port emulation. This protocol supports up to 60 simultaneous connections between Bluetooth Devices.","Rfcomm can transmit up to 32 Kbps over each link.","SDP","This is the Service Discovery Protocol which provides a means for applications to discover which services are available and to determine the characteristics of those available services using an existing L2CAP connection. The service discovery application does not make use of the SDP as a means of accessing services but rather as a means of informing the user of a Local Device the services that are available on the Local Device and or via Remote devices.","L2CAP","This is the Logical Link control and application Protocol. This provides connection-oriented and connectionless services to the upper layers.","HCI Driver","This establishes a link between the hardware and the protocol stack. and is specific to the Baseband implementation.","The IC-Bus","The ic bus is a simple bi-directional 2-wire bus for efficient inter-IC communication.","The system allows direct connection of IC controllers for interfaces such as LCD controllers. I\/O ports and as in the example in this document MMI controllers.",{"@attributes":{"id":"p-0138","num":"0140"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"The bus consists of 2 lines"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"SDA","Serial Data Line"]},{"entry":[{},"SCL","Serial Clock Line"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"Each device connected to the bus has an individual address to allow any device to communicate with ay other device on the bus. Communication is done on a master-slave basis however the bus is a true multi-master bus with collision detection and arbitration between masters.","Serial 8 bit data transfer is supported fro 100 Kb\/s to 400 Kb\/s. The supporting interface chips have spike filtering on the data lines and the maximum number of chips that can be connected is only limited by the line maximum capacitance of 400 pF.",{"@attributes":{"id":"p-0141","num":"0143"},"chemistry":{"@attributes":{"id":"CHEM-US-00003","num":"00003"},"img":{"@attributes":{"id":"EMI-C00003","he":"62.65mm","wi":"130.47mm","file":"US07565210-20090721-C00003.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{}},"BlueVelvet is a complete Bluetooth system fully integrated in a single silicon chip. The chip integrates: RF front end, baseband, ROM, RAM, MCU (ARM7TDMI operating to up to 40 MHz) and Peripherals A pure CMOS solution is used to achieve a very low cost solution. The RF-CMOS8 process especially optimized for Bluetooth single chip system is used.","BlueVelvet is compliant with Bluetooth specification V1.0 for Class 2 (0 dBm) and for Class I (20 dBm) using an external power amplifier.","Chip Features",{"@attributes":{"id":"p-0144","num":"0000"},"ul":{"@attributes":{"id":"ul0003","list-style":"none"},"li":{"@attributes":{"id":"ul0003-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0004","list-style":"none"},"li":["32 KBytes internal SRAM, 200 Kbytes internal ROM","Low power consumption, different power modes and wake-ups","Two IRDA interfaces","8 general purpose PIO pins","JTAG debug interface and debug signals for logic analyzer support","I2 C interface","Integrated 12 Mbit\/s USB interface V1.1 in slave mode","PCM\n        \n        "]}}}},"ST is providing a set of base standards licensed from Ericsson\u2122 to ensure interoperability:\n\n","ST is supporting different software implementations\n\n","This is a System which allows any device capable of Hypertext communication to control\/observe a Device which contains a HCS-Link Controller(HCS-LC). The communication between the Controller and the Controlled Device is typically but not necessarily a Proximity Bearer(PB). In the case of a Proximity bearer this HCS-LC is simply called a Proximity Link Controller(PLC).",{"@attributes":{"id":"p-0148","num":"0165"},"chemistry":{"@attributes":{"id":"CHEM-US-00004","num":"00004"},"img":{"@attributes":{"id":"EMI-C00004","he":"58.67mm","wi":"135.81mm","file":"US07565210-20090721-C00004.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{}},"Implicit in a traditional remote control and observation devices the following assumptions:\n\n",{"@attributes":{"id":"p-0150","num":"0171"},"chemistry":{"@attributes":{"id":"CHEM-US-00005","num":"00005"},"img":{"@attributes":{"id":"EMI-C00005","he":"79.42mm","wi":"156.97mm","file":"US07565210-20090721-C00005.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{},"ul":{"@attributes":{"id":"ul0014","list-style":"none"},"li":["1. The Controlled device makes its presence known to any device wishing to control it by identifying the Link as a HCS controlled Link.","2. There may be master-slave or peer to peer control and observation.","3. The Controlling device needs no prior knowledge of any Controlled device other than its compliance to HCS.","4. The instantaneously available command set of the controlled device is communicated to the controlling device via Hypertext.","5. The control MMI is interactive and is programmed as an interactive State machine within the Bti device generating Hypertext Language in response to the Controller Command and the Device State.","6. The interactive MMI State Machine is written in a Language Called HIPE-L which runs on a link embedded Hypertext Virtual Machine. Command Translation Hypertext generation within the HCl (this is specific to our current implementation\u2014not general)\n\nMain Features of the HCS System are:\n    \n    "]}},"Enhanced features of HCS remote control are:\n\n",{"@attributes":{"id":"p-0152","num":"0191"},"chemistry":{"@attributes":{"id":"CHEM-US-00006","num":"00006"},"img":{"@attributes":{"id":"EMI-C00006","he":"87.71mm","wi":"158.24mm","file":"US07565210-20090721-C00006.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}}},"The diagram above shows the modular system overview of the HCS. We have segmented the system into natural modules and domains, relating to the Hypertext Controller (HC) and the Device Domain (DD). The Device Domain includes the PLC Domain which performs the Hypertext Control and Access, as in most use cases the PLC is situated within the consumer electronic product.","Proximity Bearer (PB)","A Proximity Bearer (PB) may be defined as a wireless communication channel within an area of less than about 100 meters. An example of such a Bearer is Bluetooth where most communication takes place between devices within a 10 meter radius.","The Hypertext Controller (HC)","This is an apparatus capable of hypertext-based control and\/or observation of a selected device over a proximity bearer. More particular, but not exclusively, the HC apparatus may be a mobile communications device or a personal digital assistant (PDA). The HC may have a standard Proximity bearer baseband module or indeed a PLC as described in this HCS description.","Proximity Link Controller (PLC)","This is an apparatus used for detection of devices that are operating using the same bearer or bearers, that manages the proximity bearer, physical link, link integrity and networking over the bearer, link status, unique link identification, connection control amongst other functions. The PLC may additionally include the HCRF and Hypertext Control Interpreter (HCI).","Hypertext Controller Request Filter (HCRF)","This is a filter that directs control and observation-related Hypertext Request to the Hypertext Control Interpreter.","Device Hypertext Control Interpreter (DHCI)","This is a computer program that interprets Hypertext Requests using a Hypertext Control Virtual Machine that executes compiled Hypertext Control Language (HIPE) programs.","Hypertext Controller Virtual Machine (HCVM)","This is a virtual Hypertext machine used by the DHCI program to generate the correct Hypertext format and encoding in response to the HC requests. It may also have included in it the format and encoding of the command set for the Device in which the PLC resides*. This allows the programmer of a HCI to issue commands in an abstract way to the Device and issue Hypertext responses independent of the Hypertext type used.","Hypertext Protocol Stack (HPS)","A Hypertext Protocol Stack is a protocol stack based on the ISO model that is required for a particular Hypertext Protocol to be used. For example with a WAP mobile phone, the WAP Server Protocol stack is required on the PLC for WML-based communication and related encoding to take place.","Note * (This functionality may alternately be included in a Command transcoder module if the device manufacturer wished to keep proprietary the format and encoding of the device commands allowing third-party programming of the DHCI)","Functional Specification","The Hypertext Controller (HC)","The HC (typically a mobile communications device or a personal digital assistant (PDA)) provides or has access to module providing the following:\n\n","Whereas it is not excluded that the HC-MMI may have HCS specific commands it is not a requirement. Typically all of these requirements are fulfilled by a communications device with Hypertext enabled for communications over a detected proximity bearer.(eg: Mobile phone with a WAP enabled Bluetooth bearer)","Proximity Link Controller (PLC)","Requirements","This is the core of the HCS system and provides the following Functions:\n\n","This module is responsible for providing a device with the capability of being controller via a HC","Hypertext Controller Request Filter (HCRF)","Requirements","This module is typically but not essentially a component of the PLC which provides the following functions:\n\n","This module has the task of recognizing the returned requests for URL based upon their header information and routing it to the DHCI to allow execution of the related Device command.","The HCRF uses a Uniform Resource Locator data string prefix (up to the full length of the URL data string) or coded version thereof to identify Hypertext Requests to be filtered into the Hypertext Control Interpreter. The URL will include the prefix which identifies its control\/observation request purpose and other parts of the URL may optionally include a data string describing the requested control or observation command . Alternatively, the control and observation command data may be stored in other parts of the Hypertext Request, such as HTTP Headers in HTTP protocol. Other protocols that may be used for hypertext communication are but are not limited to WSP protocol.","Hypertext Control Language (HCL)","Requirements","The Hypertext Control Language is required to include the following functionality regarding its syntax:\n\n","This module handles Hypertext Protocol Session as well as configuring the HCVM for execution of required Compiled Code necessary to perform a specific observation or control or menu display task. This module can be seen as a configuration module for the HCVM. The main required functions are:\n\n","The DHCI produces hypertext or encoded version of the hypertext in the same Hypertext syntax and human language as the Hypertext Request that was issued by the Hypertext Controller. The menu language may be specified by a Hypertext Protocol Header such and a HTTP Header in HTTP e.g. (\u201cAccepts\u201d) or by a Hypertext Controller Identifier\u2014specific setting stored on the PLC.","The headers that the DHCI requires are the following:\n\n","The DHCI takes the form of a program written in a language called HIPE. This program is compiled to an intermediate format which is readable by the HCVM.","In this way the different responses in the different natural languages may be pre-compiled. The knowledge about hypertext encoding is considered fixed and this is part of the HCVM.","Hypertext Controller Virtual Machine (HCVM)","Requirements","This module is a component of the PLC and is the virtual hypertext machine on which the DHCI code is run. It provides the following functions:\n\n","This module adapts its state dependant on the programming of the DHCI as the DHCI will prime the module and configure the HCVM with the following information:\n\n","The HCVM will the use the Compiled Code (CC) and execute the required function.","The HCVM will return out of the function producing the required Hypertext as output in standard or encoded form and passing suc Hypertext content to the DHCI.","Note * (This functionality may alternately be included in a Command transcoder module if the device manufacturer wished to keep proprietary the format and encoding of the device commands allowing third-party programming of the DHCI)","In one embodiment, HIPE and CC are generating Hypertext responses that assumes that the Consumer Device bus provides only command responses. An alternative method is to allow a consumer device to create menu syntax and the PLC DHCI converts such syntax into required hypertext and hyperlinks.",{"@attributes":{"id":"p-0188","num":"0269"},"chemistry":{"@attributes":{"id":"CHEM-US-00007","num":"00007"},"img":{"@attributes":{"id":"EMI-C00007","he":"107.78mm","wi":"147.66mm","file":"US07565210-20090721-C00007.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":[{},{}]},"The HC user selects the option on an MMI menu to enter into \u201cHypertext over PB\u201d CED detection mode. Such a menu option may be denoted by \u201cFind Local Devices\u201d on a phone MMI menu. After detection is completed the user is presented with a list of the available devices to connect to. This list typically contains device descriptive text extracted from the PB-Profile information conveyed upon detection.","Filtered Detection (Optional)","Upon choosing PB Detection the HC shall commence filtered detection of PB Devices. The filtering is done by forming an internal list of all CED devices which responded to the unique PB Device Access Request (URL request) from the HC. The device shall respond to the HC with a PB Device Access Response. These responses are recorded and provide CED name identifiers which are presented to the user as a typical HC system menu (option ) or Hypertext (option ).","Such menus may optionally be produced with device categorization according to functionality.","Initial PLC Selection Procedure","The user now selects from the list the Device Access Response of the Device to be controlled. This issues a request to the Device for access. The PLC looks in the PB Hypertext Controller Device Access Register (HC-DAR) upon reception of every Hypertext command for control or observation and since this is an initial access by the controller device there is no matching entry in the register for the controller device. If the PB is Bluetooth, the Bluetooth Identifier may be used to identify the HC, which is obtained by the DHCI of the PLC from the Proximity Bearer Stack of the PLC.","The non-existence of a matching HCID in this register shall result in the Controller receiving a Hypertext response requesting a device specific Access Code. If correct the device shall (1) register the HCID along with its access classification in the HC-DAR and (2) serve the Control and Observation Deck associated with this access code to the controller device.",{"@attributes":{"id":"p-0194","num":"0275"},"chemistry":{"@attributes":{"id":"CHEM-US-00008","num":"00008"},"img":{"@attributes":{"id":"EMI-C00008","he":"55.29mm","wi":"108.63mm","file":"US07565210-20090721-C00008.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{}},"In all subsequent access made by a controller device on a PLC the HCID shall be recognized as an allowed controller and shall be directly served with Hypertext containing Hyperlinks to Control and Observation functionality.",{"@attributes":{"id":"p-0196","num":"0277"},"chemistry":{"@attributes":{"id":"CHEM-US-00009","num":"00009"},"img":{"@attributes":{"id":"EMI-C00009","he":"55.29mm","wi":"105.75mm","file":"US07565210-20090721-C00009.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{}},"Global and user-specific settings may be configured optionally after entry of the PLC Maser PIN code. The security aspects of such configuration options are covered in the Security Issues section","Issuing Control & Observations Commands by HC","The Command is issued simply by making the request for a link concerning the control itself, usually by making a key press on a mobile communications device or selecting and pressing an area of a touch screen. Audio and tactile input is allowed for such selection. This Command is encoded as a Hypertext Request and later identified in the PLC by the HCRF and filtered to the DHCI for interpretation.","The Hypertext Request can be any of the common fixed and mobile Internet Hypertext Protocols (WAP\/WSP, HTTP, cHTML\/HTTP). The Hypertext Response will be of the same type as the Hypertext Request. For example, if the Hypertext Request was a WAP WML request, the response will be in encoded WML.","The HIPE language allows the definition of devices within the language. Devices are defined as bus devices that can be accessed over a specified bus and device identifier. Such busses include: serial, IC, USB, SCSI and others. The language can be used to construct specific functions that will send command strings and receive status strings or acknowledgements back from a identified device on a specific bus.","The HIPE language construct used is as follows:",{"@attributes":{"id":"p-0202","num":"0283"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"REQUEST \u2003\u2003\u2003\u2003bytes_IDENTIFIER \u2003\u2003\u2003\u2003FROM"]},{"entry":[{},"dev_IDENTIFIER"]},{"entry":[{},"\u2003\u2003GIVING \u2003\u2003\u2003\u2003\u2003bytes_IDENTIFIER \u2003\u2003\u2003OF"]},{"entry":[{},"int_IDENTIFIER WITH TIMEOUT"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"For example, the following command from the sample program included in Appendix 1 sends a command to a CD player and waits for a response with timeout:",{"@attributes":{"id":"p-0204","num":"0285"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"DEVICE cd IS I2C(1)"]},{"entry":[{},". . ."]},{"entry":[{},"REQUEST output FROM cd GIVING input OF ilen"]},{"entry":[{},"WITH TIMEOUT 500"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"The command defines a specific device.","The output parameter is a byte stream that is relayed to the device cd. The input parameter is the byte stream that will be received back from the CD player device.","The Hypertext Response is produced by the DHCI. The DHCI configures the HCVM to output a specific type of Hypertext. The HCVM runs Compile Code that has been compile and assembled form source files that have been programmed in a special language called HIPE. The generated hypertext from the HCVM forms the basis of the DHCI Hypertext Response to the HC.","The interpretation of the requests has been programmed in the DHCI code which runs on the HCVM. The HCVM allows the DHCI code to be very compact and to support multiple Hypertext languages and have multi-lingual or even user selectable human language responses. Example of a HIPE-L program is described in the Language Overview","A Hypertext Encoder may need to be optionally present in system if the DHCI does not produce encoded form of Hypertext for certain Hypertext Language and Protocol combinations, for example iMode and HTTP or WML and WSP. The DHCI may also generate already encoded hypertext, i.e. WBXML-encoded WML format is output directly from the HCVM for WML.","Note: The Compiled Code (CC) is the binary file that is produced by compiling and assembling a source code of a program written in the HIPE Language. The CC is of a specific type as it contains device-specific control and\/or observation command definitions for one or more devices. Furthermore, the CC contains control and observation menu definitions defined in one or more human languages\u2014used for internationalization. The CC is intended to be stored in storage accessible to the Blue Velvet Chip. The HCVM the interprets the COMPILED CODE is capable of using menu definitions defined in the CC to generate the appropriate Hypertext Responses to a Hypertext Request that has been requested by from the HC and passed into the HCVM by the DHCI.","Security Issues","User Authentication, Identification and Authorization","When a user using the HC attempts access to a CED, several methods of user authentication and HC authorization can take place. The techniques usually involve user, use-level or Master PIN codes:\n\n","The following authentication scenarios have been envisaged:","1. Using a master code to allow\/deny use-level PIN usage.\n\n","2. Using Master PIN code to subscribe a HC and no further authentication of user.","3. Use a Master PIN code to subscribe a HC and each time authenticate user using a user specific PIN.","4. Use a Master PIN code to subscribe a HC and each time authenticate user using a use level specific PIN.","CED-specific Access Classes","There shall be a minimum of 6 BTi device specific classes\n\n","The normal entry mode is with one of the 4 the user classes","It is intended that the device manufacturer shall set up a list of all the functionality's and data controllable or displayable by a device and the Master Code shall allow the user to attribute groupings of these functionality's to each of the 4 user classes. In this way closed controller user groups can be supported.","Encryption","The PB channel should be encrypted for all security sensitive applications such as door access, car access, mobile commerce applications etc.","Bluetooth Interactive (BTi)","The BTi system is an implementation of the HCS system using Bluetooth as the Proximity Bearer (PB) and WML as the Hypertext Language. In particular the controlling device is a mobile device (Phone or PDA) which is capable of WAP over Bluetooth. The controlled device is a CD player with an integrated amplifier. The PLC is a Bluetooth silicon module called \u201cBlue Velvet\u201d, into which the DHCI has been embedded, although a less integrated solution is also possible. Thus it is possible to communicate between the Mobile device and the audio controller using WML.","BTi Hardware Architecture",{"@attributes":{"id":"p-0222","num":"0312"},"chemistry":{"@attributes":{"id":"CHEM-US-00010","num":"00010"},"img":{"@attributes":{"id":"EMI-C00010","he":"90.85mm","wi":"154.09mm","file":"US07565210-20090721-C00010.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":{}},"As stated above the Controller is and device which is capable of performing WAP over Bluetooth. No other special requirements exist for the Controller","BTi\u2014PLC Domain","The BTi\u2014PLC is a specially adapted version of the STMicroelectronics \u201cBlue Velvet\u201d Chip. The Hardware changes to the Blue Velvet chip depend of the level of integration required but the minimum changes involve an increase of the present internal memory to incorporate the SW required for BTi support and the addition of internal or external \u201cprotected\u201d flash for the implementation of the Access Control & Security Registers.","BTi Device Domain","This is represented by a SONY CD Player with and IC MMI control interface.","BTi Software Architecture",{"@attributes":{"id":"p-0226","num":"0316"},"chemistry":{"@attributes":{"id":"CHEM-US-00011","num":"00011"},"img":{"@attributes":{"id":"EMI-C00011","he":"30.99mm","wi":"118.11mm","file":"US07565210-20090721-C00011.TIF","alt":"embedded image","img-content":"chem","img-format":"tif"}}},"br":[{},{}]},"The figure below shows the system overview. A Bluetooth-enabled mobile phone is within 10 meters range of a SONY CDP-123 CD player. The Phone is also WAP-enabled allowing WAP over Bluetooth bearer communication. The user wishes to use the Mobile Phone as an HC (described earlier) in order to control and observe the CD Player actions.","User Activity","The Mobile Phone scans the Bluetooth Neighborhood. Following the Bluetooth enquiry for a number of seconds a list of available devices that are in the Bluetooth neighborhood are displayed. The user of the mobile phone then selects the desired device (in the example case the user selects the SONY CDP-123 CD player device). Following this device selection a PIN code may optionally be required requesting the user for either master PIN or user PIN entry. The Security Description is described in the Security MMI Use Case section (below). Alternatively, and on successful PIN code entry the user-specific device-state dependent main menu of the device is displayed showing a stopped CD player. If the CD is playing then a state-dependent menu is returned. Particular attention is draw to the generation of complex functions such as Select Track where user of the HC can easily select the desired CD tracks to listen to. Following the Selection the user can Play the Disk and only the selected Tracks will be played.","The HC will time out after a period of non-use. The Bluetooth link will be terminated by the HC (master). Subsequent control of the previously selected device will require initial device selection and access procedures as outlined earlier in this section.","Security MMI Use Case","A Master PIN code may optionally be requested. A regular user or use-level pin code may optionally be requested. If the user of the HC enter an invalid code as Invalid PIN error warning may be displayed. Repeated incorrect code entry can disable use of the HC with a specific Hypertext Controller Identifier (HCID) for control of the selected CED device.","Note: Hypertext Controller Identifier (HCID) may be a communications protocol identifier attributed to a Hypertext Controller, such as the Bluetooth ID in Bluetooth or the MSISDN in GSM. It may also be a proximity identifier such as a vehicle registration number, were the device requires proximity to the vehicle.","4 Appendix I: Language Description","HIPE\u2014Hypertext Interactive Protocol Language","HIPE is a new language for interactive control using hypertext languages for user interaction. The language named HIPE-L (Hypertext Interactive Proximity Environment Language) is intended to be used in devices capable of using proximity bearers such as Bluetooth and Wireless LAN (primarily devices capable of proximity ad-hoc networking). However it can be used for any kind of control through Web, WAP or other Hypertext standards.","The example below shows control of basic CD player function using a IC-bus-controlled CD player. The program enables the user to control the player in English and Croatian (dependent on jumper settings).",{"@attributes":{"id":"p-0234","num":"0324"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"1. IMAGE imgbut_play IS \u201cplay.jpg\u201d"]},{"entry":[{},"2. IMAGE imgbut_stop IS \u201cstop.jpg\u201d"]},{"entry":[{},"3. DEVICE cd IS I2C(1)"]},{"entry":[{},"4. BOOLEAN valid"]},{"entry":[{},"5. BYTES input LENGTH 10"]},{"entry":[{},"6. BYTES output LENGTH 10"]},{"entry":[{},"7. STRING status LENGTH 20"]},{"entry":[{},"8. DEFINE JUMPER 0 AS eng WITH main_menu"]},{"entry":[{},"9. DEFINE JUMPER 1 AS cro WITH main_menu"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"10.","STRING non_react LENGTH 20"]},{"entry":[{},"11.","STRING stat LENGTH 20"]},{"entry":[{},"12.","STRING stpd LENGTH 20"]},{"entry":[{},"13.","STRING psd LENGTH 20"]},{"entry":[{},"14.","STRING ply LENGTH 20"]},{"entry":[{},"15.","STRING cnt LENGTH 20"]},{"entry":[{},"16.","STRING stp LENGTH 20"]},{"entry":[{},"17.","STRING paus LENGTH 20"]},{"entry":[{},"18.","NUMBER num"]},{"entry":[{},"19.","FUNCTION WILL BE got_track"]},{"entry":[{},"20.","PAGE WILL BE action_pause"]},{"entry":[{},"21.","PAGE WILL BE action_stop"]},{"entry":[{},"22.","LABEL WILL BE redo"]},{"entry":[{},"23.","LOCALE GLOBAL ["]},{"entry":[{},"24.","PAGE action_play ["]},{"entry":[{},"25.","STORE \u201cG\u201d IN output"]},{"entry":[{},"26.","SEND output TO cd"]},{"entry":[{},"27.","DO NOTHING FOR 1000"]},{"entry":[{},"28.","GOTO LOCALE:redo"]},{"entry":[{},"29.","]"]},{"entry":[{},"30.","PAGE action_continue ["]},{"entry":[{},"31.","STORE \u201cC\u201d IN output"]},{"entry":[{},"32.","SEND output TO cd"]},{"entry":[{},"33.","DO NOTHING FOR 1000"]},{"entry":[{},"34.","GOTO LOCALE:redo"]},{"entry":[{},"35.","]"]},{"entry":[{},"36.","FUNCTION fetch_status ["]},{"entry":[{},"37.","TITLE \u201cCD Savvy 123CDP\u201d"]},{"entry":[{},"38.","STORE 0 IN input(*9)"]},{"entry":[{},"39.","STORE \u201cS\u201d IN output"]},{"entry":[{},"40.","NUMBER ilen"]},{"entry":[{},"41.","REQUEST output FROM cd GIVING input OF ilen"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2009WITH TIMEOUT 500"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"42.","IF TIMEOUT OUTPUT non_react ELSE ["]},{"entry":[{},"43.","OUTPUT stat"]},{"entry":[{},"44.","NEWPARAGRAPH"]},{"entry":[{},"45.","IF input(1) = \u20180\u2019 REMEMBER stpd AS status"]},{"entry":[{},"46.","IF input(1 . . . 3) = \u2018255\u2019 REMEMBER psd AS"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2009status"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"47.","EVALUATE input(1*) GIVING num"]},{"entry":[{},"48.","IF (num > 0) AND (num < 255) DO"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\u2003\u2009LOCALE:got_track"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"49.","OUTPUT status"]},{"entry":[{},"50.","IF num = 0 BUTTON ply FOR action_play"]},{"entry":[{},"51.","IF num = 255 BUTTON cnt FOR action_continue"]},{"entry":[{},"52.","IF (num > 0) AND (num < 255) ["]},{"entry":[{},"53.","IF WML ["]},{"entry":[{},"54.","BUTTON paus FOR action_pause"]},{"entry":[{},"55.","BUTTON stp FOR action_stop"]},{"entry":[{},"56.","]"]},{"entry":[{},"57.","IF HTML ["]},{"entry":[{},"58.","IMAGEBUTTON imgbut_play FOR action_pause"]},{"entry":[{},"59.","IMAGEBUTTON imgbut_stop FOR action_stop"]},{"entry":[{},"60.","]"]},{"entry":[{},"61.","]"]},{"entry":[{},"62.","]"]},{"entry":[{},"63.","]"]},{"entry":[{},"64.","]"]},{"entry":[{},"65.","STRING trk LENGTH 10"]},{"entry":[{},"66.","LOCALE eng ["]},{"entry":[{},"67.","FUNCTION got_track ["]},{"entry":[{},"68.","STORE \u201cplaying track \u201d IN status"]},{"entry":[{},"69.","EVALUATE num GIVING trk"]},{"entry":[{},"70.","CATENATE status WITH trk"]},{"entry":[{},"71.","]"]},{"entry":[{},"72.","PAGE main_menu ["]},{"entry":[{},"73.","LABEL redo"]},{"entry":[{},"74.","TITLE \u201cCD Sony 123CDP\u201d"]},{"entry":[{},"75.","STORE \u201cCD not responding\u201d IN non_react"]},{"entry":[{},"76.","STORE \u201cStatus:\u201d IN stat"]},{"entry":[{},"77.","STORE \u201cstopped\u201d IN stpd"]},{"entry":[{},"78.","STORE \u201cpaused\u201d IN psd"]},{"entry":[{},"79.","STORE \u201cStart Play\u201d IN ply"]},{"entry":[{},"80.","STORE \u201cContinue Play\u201d IN cnt"]},{"entry":[{},"81.","STORE \u201cStop\u201d IN stp"]},{"entry":[{},"82.","STORE \u201cPause\u201d IN paus"]},{"entry":[{},"83.","DO fetch_status"]},{"entry":[{},"84.","]"]},{"entry":[{},"85.","]"]},{"entry":[{},"86.","LOCALE cro ["]},{"entry":[{},"87.","FUNCTION got_track ["]},{"entry":[{},"88.","STORE \u201csvira trak \u201d IN status"]},{"entry":[{},"89.","EVALUATE num GIVING trk"]},{"entry":[{},"90.","CATENATE status WITH trk"]},{"entry":[{},"91.","]"]},{"entry":[{},"92.","PAGE main_menu ["]},{"entry":[{},"93.","LABEL redo"]},{"entry":[{},"94.","TITLE \u201cSony CD 123CDP\u201d"]},{"entry":[{},"95.","STORE \u201cCD ne reagira\u201d IN non_react"]},{"entry":[{},"96.","STORE \u201cStanje:\u201d IN stat"]},{"entry":[{},"97.","STORE \u201czaustavljen\u201d IN stpd"]},{"entry":[{},"98.","STORE \u201cstanka\u201d IN psd"]},{"entry":[{},"99.","STORE \u201cSviraj\u201d IN ply"]},{"entry":[{},"100.","STORE \u201cNastavi\u201d IN cnt"]},{"entry":[{},"101.","STORE \u201cZaustavi\u201d IN stp"]},{"entry":[{},"102.","STORE \u201cStanka\u201d IN paus"]},{"entry":[{},"103.","DO fetch_status"]},{"entry":[{},"104.","]"]},{"entry":[{},"105.","]"]},{"entry":[{},"106.","PAGE action_pause ["]},{"entry":[{},"107.","STORE \u201cP\u201d IN output"]},{"entry":[{},"108.","SEND output TO cd"]},{"entry":[{},"109.","DO NOTHING FOR 1000"]},{"entry":[{},"110.","GOTO LOCALE:redo"]},{"entry":[{},"111.","]"]},{"entry":[{},"112.","PAGE action_stop ["]},{"entry":[{},"113.","STORE \u201cX\u201d IN output"]},{"entry":[{},"114.","SEND output TO cd"]},{"entry":[{},"115.","DO NOTHING FOR 1000"]},{"entry":[{},"116.","GOTO LOCALE:redo"]},{"entry":[{},"117.","]"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}},"br":{}},"The HIPE-language uses HTTP Protocol Header information, URL request and information relayed in HPS-structured information.","For systems accepting WML, the following lines of HIPE source code:",{"@attributes":{"id":"p-0237","num":"0327"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"BUTTON paus FOR action_pause"]},{"entry":[{},"BUTTON stp FOR action_stop"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},{"@attributes":{"id":"p-0238","num":"0328"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"196pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<p><anchor><go href=\u201curl . . . \u201d>Pause<\/go><\/anchor><\/p>"]},{"entry":[{},"<p><anchor><go href=\u201curl . . . \u201d>Stop<\/go><\/anchor><\/p>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}},{"@attributes":{"id":"p-0239","num":"0329"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"168pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<A HREF=\u201curl . . . \u201d>Pause<\/A><BR>"]},{"entry":[{},"<A HREF=\u201curl . . . \u201d>Stop<\/A><BR>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":{}}],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0089","num":"0088"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0090","num":"0089"},"figref":["FIG. 2","FIGS. 3"],"i":["a","b"]},{"@attributes":{"id":"p-0091","num":"0090"},"figref":"FIGS. 4","i":["a","b"]},{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIGS. 5","b":["6","7"]},{"@attributes":{"id":"p-0093","num":"0092"},"figref":"FIGS. 8","i":["a","l"]},{"@attributes":{"id":"p-0094","num":"0093"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
