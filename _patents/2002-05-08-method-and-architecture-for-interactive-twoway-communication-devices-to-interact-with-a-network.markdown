---
title: Method and architecture for interactive two-way communication devices to interact with a network
abstract: The invention allows access to the Internet by two-way mobile communication devices capable of wireless communication via a link server. Despite limited computing resources in the mobile devices, the invention allows the mobile devices to interact with Internet entities using a control engine in the link server and an interface engine in the mobile devices. The control engine utilizes the computing resources of the link server and handles tasks requiring considerable computing resources, such as processing of URL requests, interpreting markup language files, managing a data cache and variable states. Working with a message processor in the link server, the control engine communicates with an interface engine using a compact data format that is efficiently transportable in the wireless data network. The interface engine typically performs tasks that do not require considerable computing resources, such as receiving input from users and rendering data received from the link server.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07003284&OS=07003284&RS=07003284
owner: Openwave Systems Inc.
number: 07003284
owner_city: Redwood City
owner_country: US
publication_date: 20020508
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION","AUTHORIZATION WITH RESPECT TO COPYRIGHTS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["This application is a continuation of U.S. patent application Ser. No. 09\/153,322, filed on Sep. 14, 1998, which is a continuation-in-part of U.S. patent application Ser. No. 08\/570,210, filed Dec. 12, 1995 now issued as U.S. Pat. No. 5,809,415, entitled \u201cMETHOD AND ARCHITECTURE FOR AN INTERACTIVE TWO-WAY DATA COMMUNICATION NETWORK\u201d of Alain Rossmann, each of which is incorporated herein by reference.","A portion of the present disclosure contains material subject to copyright protection. Such material includes, but is not limited to, an Appendix entitled \u201cImp Specification protocols between Femto Engine and Terminal\u201d. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent files or records, but otherwise reserves all copyright rights whatsoever.","1. Field of the Invention","This invention relates generally to data communications, and in particular to interactive two-way communication mobile devices that permit a user to interact with a network server providing hypermedia information through a data network. Such a data network can include, for example, the Internet and a wireless network. The mobile devices may include cellular telephones, two-way pagers, or a palm-sized computing devices and typically have limited computing resources.","2. Description of the Related Art","The Internet is a rapidly growing communication network of interconnected computers and computer networks around the world. Together, these connected computers form a vast repository of multimedia information that is readily accessible by the connected computers from anywhere at any time. To navigate a portion of the Internet organized as the \u201cWorld Wide Web\u201d, the connected computers, e.g., workstations and desktop computers, typically operate a user interface called a \u201cbrowser\u201d. A browser is a client application program that generally requests multimedia information throughout the Internet using, typically, the Hypertext Transfer Protocol (HTTP). A computer which operates a browser using HTTP is generally a relatively powerful computer with sufficient computing resources, such as processing power, memory, a display capability and a user interface.","To provide mobility and portability of access to the Internet, interactive two-way communication mobile devices capable of communicating, via wireless data networks, with the Internet have been introduced. The interactive two-way communication mobile devices (e.g., two-way pagers, cellular phones, palm-sized computing devices and personal digital assistants (PDAs)) are among the fastest emerging communication devices. These devices enable users to receive, collect, analyze, review and disseminate information as the users travel or move about. Unlike computers coupled to the Internet, the mobile devices are characterized by severe limitations in computing resources. For example, a cellular phone has less than one percent processing power of a typical desktop personal computer, generally less than 128 kilobytes of memory, an LCD display which is perhaps four lines high by twelve or twenty characters, and limited or non-existent graphics capabilities. Further, a cellular phone inputs using a keypad that has far fewer keys than a typical personal computer (PC) keyboard. With these constraints, a mobile device cannot efficiently operate the browser used by desktop computers to navigate the Internet.","To make available to mobile devices computing resources comparable to a desktop computer is too costly. There is, therefore, a great need for a solution that enables mobile devices to freely access information on the Internet without providing these computing resources in the mobile devices.","Additionally, mobile devices are typically serviced through one or more wireless service carriers. The wireless service carriers often provide additional services by upgrading client application programs in the mobile devices. In conventional computers, an upgrade can be accomplished by downloading a new version of an application program from a service provider. In mobile devices, downloading a new version of an application program can be a prohibitive task, limited by the performances of the computing resources and the wireless network. Hence, there is a further need for an ability to manage client application programs operated by the mobile devices.","The present invention includes a method and corresponding apparatus wherein the method in one embodiment of the invention is characterized as follows: A first resource request is received a link system from a thin-client mobile device over a wireless network. A control engine in the link system is used to process the first resource request, and a message is received at the link system from a resource on a landnet, the message corresponding to the first resource request. The message is converted in the link system to a more compact format to facilitate transmission of the message over the wireless network. The message is for use by an interface engine in the thin-client mobile device to render information on a display device of the thin-client mobile device, wherein the interface engine uses substantially less computing resources than the control engine.","Other objects, together with the foregoing are attained in the exercise of the invention in the following description and resulting in the embodiment illustrated in the accompanying drawings.","Referring now to the drawings, in which like numerals refer to like parts throughout the several views.  illustrates a schematic configuration in which the present invention may be practiced. As shown in , landnet  is a land-based network that may be the Internet, an Intranet or a data network of any private network. Coupled to landnet  are a personal computer (PC)  and a network server . Personal computer  may be a Pentium II-based desktop personal computer. Preferably, personal computer  runs a HyperText Markup Language (HTML) browser, such as Netscape Navigator from Netscape Communications Corporation (http:\/\/www.netscape.com), via landnet  using HyperText Transfer Protocol (HTTP) to access information stored in network server , which may be a workstation from SUN Microsystems Inc (http:\/\/www.sun.com\/). The information stored in network server  may be hypermedia information including mobile data designed for mobile devices.","There are n mobile devices  serviced by airnet . Mobile devices  are interactive two-way communication devices (e.g., mobile computing devices, cellular phones, palm-sized computing devices with PDA (Personal Data Assistants) functionality and Internet-capable appliance remote controllers) which are capable of communicating wirelessly with antenna  via airnet . As shown, antenna  also represents a wireless carrier infrastructure that generally includes a base station and an operations and maintenance center. The base station controls radio or telecommunication links with mobile devices . The operations and maintenance center comprises a mobile switching center performing the switching of calls between the mobile devices and other fixed or mobile network users. Further the operations and maintenance center manages mobile account services, such as authentication, and oversees the proper operation and setup of the wireless network. Each of the hardware components and processes in carrier infrastructure  are known to those skilled in the art and thus are not described here to avoid unnecessarily obscuring aspects of the present invention.","Between landnet  and airnet  there is a link server device  functioning as a bridge between the two networks  and . Link server device , which is also referred to as proxy server or wireless data server or network gateway server, may be a workstation or a personal computer. Link server , which is loaded with many processes including compiled and linked versions implementing the present invention, couples airnet  to landnet  and performs many functions as described in more detail below. One of the functions that link server  performs is to facilitate the communication of mobile devices  with any of the devices coupled to landnet , including mapping or translating from one communication protocol in landnet  to another in airnet  or vice versa.","To facilitate the description of the present invention,  depicts a typical GSM digital cellular phone  that can be used as one of the mobile devices  in the arrangement of  to practice the present invention. Cellular phone  includes a small screen  and an extended phone keypad . Screen  is typically a LCD display capable of displaying perhaps four lines high by twelve or twenty characters with limited graphics capabilities. Extended phone keypad  includes, preferably, a regular phone keypad , a pair of generic keys  and  and positioning key . Generic keys  and  are used to activate soft keys displayed in screen  and positioning key  is to reposition an element indicator or a cursor to activate, for example, one of the hyperlinks displayed in screen . Generic keys  and  and positioning key  are not necessary in practicing the present invention. These keys can be replaced by a set of designated keys in regular phone keypad  but provide preferred convenient means for a user to interact efficiently with the phone . Further, having a regular phone keypad is not a requirement to practice the present invention. Some of the mobile devices have no physical keys at all, such as those palm-size computing devices that use \u201csoft keys\u201d or icons for receiving user input data. In the following, unless otherwise specifically described, keys or buttons are generally referred to as either physical keys or soft keys.",{"@attributes":{"id":"p-0029","num":"0028"},"figref":["FIG. 2B","FIG. 1"],"b":["200","200","246","204","248","202","200","128","250","252","254","204","128","252","114","256"]},"It is generally understood that a computing device equipped with an HTML browser using HTTP can access hypermedia information in a network server. However, HTTP requires considerable computing power and network bandwidth resources. For example, a request from a computing device to establish a communication session with a network server may require an exchange of a number of data packets. In addition to the resources required to implement HTTP, significant resources must be supported in the computing device to request, format, process and display information. This is not a significant disadvantage in many situations because the computing device, including personal computers and workstations coupled to a network operating HTTP, generally has sufficient computing power, memory and display capabilities.","Nevertheless, cellular phone  or mobile devices  of  typically do not have the computing resources to implement HTTP to run an HTML browser. The computing power in cellular phone  or mobile devices  of  is typically less than one percent of a laptop personal computer's computing power, the memory capacity is generally less than 128 kilobytes and the graphics display capability is very limited. Cellular phone  or any of mobile devices  of  is not a replacement of a desktop computing device or the combination of a wireless communication module and a personal computer. Further, making a mobile device, such as cellular phone , capable of navigating hypermedia information in a network server is a significant departure from prior art systems.","Referring now to , there are respectively shown functional block diagrams of a link server device and a mobile device according to an embodiment of the present invention. Link server device, or simply link server , that may represent link server  of , is typically a server computer. Mobile device  may, for example, correspond to one of mobile devices  of  or cellular phone  of . To avoid obscuring any aspect of the present invention, well known methods, procedures, components and circuitry in link server  and mobile device  are not described in detail.","Link server  includes a landnet communication protocol (LCP) interface  that couples to landnet , and a wireless communication protocol (WCP) interface  that couples to a wireless network  via a carrier's infrastructure (not shown in the figure). LCP interface  implements a communication protocol operated in landnet . Generally, landnet  operates HTTP, so that LCP interface  is typically an HTTP interface. Similarly, wireless network  may operate a wireless communication protocol suitable for the characteristics of a wireless network. One of the available wireless communication protocols is Handheld Device Transport Protocol (HDTP) (formerly known as Secure Uplink Gateway Protocol (SUGP)), which runs on User Datagram Protocol (UDP). In this embodiment, WCP interface  is implemented with a UDP or HDTP interface. HDTP is developed by Openwave Systems Inc. (formerly Unwired Planet, Inc.) located at 140 Seaport Boulevard, Redwood City, Calif. 94063. The specifications of HDTP, entitled \u201cHDTP Specification\u201d is enclosed and incorporated herein by reference in its entirety.","To facilitate the description of the present invention, the wireless communication protocol in use is HDTP. The present invention is, however, not limited by this exemplary communication protocol.","HDTP is a session-level protocol that resembles HTTP but runs on UDP and without incurring the overhead of HTTP\/TCP and is highly optimized for use in thin devices, such as the mobile devices, that have significantly less computing power and memory than those of a desktop personal computer. Further, UDP does not require a connection to be established between a client device and a server before information can be exchanged, which eliminates the need of exchanging a large number of packets during a session creation. Exchanging a very small number of packets during a transaction is one of the desired features for a mobile device with limited computing power and memory to effectively interact with a landline device.","Link server  further comprises a server module  coupled between LCP interface  and WCP interface . Server module , which is typically loaded in a memory, performs traditional server processing as well as protocol conversion processing from one communication protocol to another communication protocol. In particular, the protocol conversion processing includes protocol conversion between HDTP\/UDP and HTTP\/TCP according to one embodiment.","In server module , account manager  manages through account interface  a number of user accounts for all the mobile devices serviced by link server . Each of the mobile devices, such as , is assigned a device identification (ID). Device ID can be a phone number of the device or an IP address or a combination of an IP address and a port number, for example: 204.163.165.132:01905 where 204.163.165.132 is the IP address and 01905 is the port number. The device ID is further associated with a subscriber ID created and administrated by a carrier in link server  as part of the procedures to activate a subscriber account for mobile device . The subscriber ID may take the form of, for example, 861234567-10900_pn.mobile.att.net by AT&T Wireless Service, and is a unique identification to a mobile device. In other words, each of mobile devices  serviced by link server  in  has a unique device ID that corresponds to a respective user account in link server . Additionally, account manager  is responsible for creating a user account for a mobile device that anonymously communicates with link server . In this case, account manager  ensures proper (limited) access of the anonymous mobile device to services provided by link server .",{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 4","b":["400","312","300","104","314","312","402","404","406","408","408","410"]},"Returning now to , a database of user accounts permits account manager  to authenticate and to verify the subscribed mobile devices and to control access to provided services by all mobile devices (subscribed or anonymous devices) via wireless data network . More importantly in the present invention, account manager  is responsible for managing the operations of control engines , which are respectively and independently designated to one mobile device. The detailed operations of control engines  are provided below.","The following description is focused on mobile device  and its associated account. However, the present description is equally applicable to any mobile device in communication with link server .","In addition, server module  includes message processor , which includes a message digester  and a converter . Message processor  processes messages communicated between a network server and link server  and generates for each message a corresponding compact message to be communicated between link server  and mobile device . In particular, message digester  receives the messages from the network server and performs a sequence of message processing that include interpretation and management of the messages. Converter  converts the messages, according to the interpretation, to a data format that is compact enough to be efficiently transportable over wireless network . The messages received from the network server are typically markup language files or data, requests, notifications and other commands that could cause mobile device  to respond as desired in the received messages. The markup language may include, for example, Handheld Device Markup Language (HDML), HyperText Markup Language (HTML), compact HTML, Wireless Markup Language (WML), Standard Generalized Markup Language (SGML) and Extensible Markup Language (XML).","For example, LCP interface  receives an HDML file from a financial network server that directs mobile device  to display a pre-designed screen, in response to mobile device 's request to the financial network server. The exemplary HDML file is listed as follows:",{"@attributes":{"id":"p-0043","num":"0042"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<HDML VERSION=2.0>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<DISPLAY NAME>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<ACTION TYPE=ACCEPT TASK=GO DEST=#card2>"]},{"entry":[{},"Dow has hit 20,000 today !"]},{"entry":[{},"Nasdaq has popped 20%."]},{"entry":[{},"Detailed Financial Headlines"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/DISPLAY>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/HDML>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"The screen display corresponding to this HDML file is shown in . If a user selects the \u201cOK\u201d soft key, a list of the detailed financial news packaged in one or more HDML files would be fetched (pulled) from the financial network server and displayed, as shown in . As used herein, a display screen or screen is the physical display apparatus in a device, such as a 4 by 20 character LCD screen in a mobile device or 2.5 inch by 3.5 inch touch LCD screen in a palm-sized computer. A screen display is the image presented on the display screen. As shown in , display screen  shows a list of choices with element indicator  pointing to the first choice. Pointer  indicates that screen display  has more items to be displayed but limited by the size of display screen .","As described above, mobile device  typically does not have the necessary computing power and memory to operate a browser in response to the HDML files. Therefore, an HDML file received is first analyzed by message digester  and then converted through converter  into a set of screen commands that cause a mobile device, upon receiving the screen commands, to display the contents in the HDML file according to the screen commands. Typically, the screen commands are expressed in a form of screen description data (SDD) that is rendered in an interface engine in mobile device . The following is an example of an SDD stream:\n\n","In other words, the actual data being exchanged between link server  and mobile device  is in SDD format, which is typically binary and can be communicated more compactly and efficiently in wireless network . Further SDD files can be directly rendered by an interface engine in mobile device  without further processing. Nevertheless, the above procedures are provided for illustrative purpose only and the present invention is not limited to the Imp data format. According to another embodiment, the message processor does not have a pair of separate message digester and converter, a markup language file in HDML, compact HTML or XML is received at the message processor and converted into a corresponding binary file that is much smaller in size and may be in Imp, cHDML, cHTML, or cXML, wherein \u201cc\u201d means stripped, compressed, compiled or converted version of the corresponding markup files.","To interact with mobile device , server module  further includes control engine . Control engine  works in conjunction with an interface engine in mobile device  and further with message processor  to interpret actions from mobile device  in the present embodiment. More detailed description of the interactions between the interface engine in mobile device  and control engine  in server module  is given below.","Mobile device  includes a corresponding WCP interface  that couples to airnet  via a RF transceiver (not shown in the figure) to receive incoming and outgoing data signals. WCP interface  is implemented with a UDP interface, as is WCP interface , when wireless network  operates HDTP. When another wireless communication protocol is operated in wireless network , both WCP interface  and WCP interface  are readily implemented accordingly so that link server  and mobile device  can communicate with each other.","Device identifier (ID) storage  supplies a device ID to WCP interface . The device ID identifies a mobile device  and directly corresponds to the device ID in the user account in link server . In addition, mobile device  includes a client module  that performs many of the processing tasks performed by the mobile device . Such processing tasks include establishing a communication session with line server  via carrier network , requesting and receiving data from carrier network , displaying information on a display screen , and receiving user input data. Specifically, client module  is coupled to WCP interface  to establish a communication session and to request and receive data. Additionally, Client module  operates, among other things, an interface engine  that typically receives the screen description data from link server  and causes display drive  to display on the display screen what is intended in the HDML file originally received from the network server.","As mentioned above, in prior art systems, terminal devices typically run a local browser such as the one from Netscape or Microsoft to interact with the Internet. The present invention, however, uses an interface engine in a terminal device and a control engine in a proxy server. In other words, the present invention uses an interface engine demanding little computing resources in a wireless mobile device and a control engine utilizing sufficient computing resources provided in a server device to allow the mobile device to effectively interact with a network server. Further, working with the control engine in the link server, the interface engine in the mobile device does not need considerable computing power or memory to cache, parse, process and display a markup language file.","To facilitate further description of the present invention,  demonstrates an overview of a systematic configuration according to the present invention and should be understood in conjunction with .  shows that a mobile device  communicates with a network server  via link server device . Network server , or sometimes called service server, may be any server on the Internet that provides accessible hypermedia information. Mobile device  and link server  may correspond respectively to mobile device  and link server  in . Service server  having an IP address, for example, www.abcnews.com, provides hypermedia information to network  so that computing devices coupled to network  can access the information in service server .","According to one embodiment, the information in network server  is a World Wide Web page that may be authored in HDML and fetched over network  operating HTTP. From the perspective of mobile device  that ultimately receives the information, link server  receives the HDML files that are then processed by message processor  and converted to screen description data according to the device characteristics of mobile device . The device characteristics may include the type and size of display screen and other information passed over link server  when a communication session is established between mobile device  and link server . Generally, a request to establish the communication session can be initiated by either mobile device  or link server . During the process of exchanging authentication information, the data carrying the device characteristics of mobile device  is received and maintained in link server  such that the screen description data is generated in accordance with the device characteristics of mobile device . The detailed description of initiating the request and the processing of exchanging information so as to subsequently establish a secure and authenticated communication session is described in commonly assigned U.S. patent application Ser. No. 08\/966,988 entitled \u201cMethod and System for Secure Lightweight Transactions in Wireless Data Networks\u201d by Hanqing Liao et al, which is hereby incorporated by reference in its entirety.","With the established communication session, the screen description data are then forwarded to mobile device  over wireless network  operating a wireless communication protocol. Upon receiving and rendering the screen description data, interface engine  causes display screen  to display the information embedded in the screen description data.",{"@attributes":{"id":"p-0054","num":"0061"},"figref":["FIGS. 7A through 7G","FIG. 6"],"b":["602","604","606","602"]},"Prior to describing , some of the features in HDML are recited. Similar to HTML, HDML is a tag-based document markup language which includes a set of commands or statements specified in a card that defines how information is displayed on a small screen. Normally a number of cards are grouped into a deck that is the smallest unit of HDML information that can be exchanged between network server  and link server  over landnet . The HDML specification entitled \u201cHDML 2.0 Language Reference\u201d is enclosed and incorporated herein by reference in its entirety.","According to one embodiment of the HDML, there are four typical types of cards: a display card, a choice card, an entry card, and a no-display card. A display card gives information to be displayed to the user. The displayed content can include any one of, or any combination of text, image, and soft keys. A choice card displays a list of choices to the user. The choices are presented in a format specified on the choice card and are generally numbered sequentially. As explained above, the user selects a choice by depressing a corresponding key. An entry card is used to obtain input data from the user. An entry card displays one or more entry lines. The entry line, in this embodiment, can be used to receive either numeric or text data. A no-display card is a hidden card which is not displayed. The no-display card is normally used to execute an intermediate action and generally not known to a user. Regardless of its type, a card can contain text, soft keys and images.","In one aspect and from the perspective of a browser operating HDML, choice and entry cards prevent a user from moving to the next card until the requested information is received from the user. When the user reaches the last card in a deck and hits a corresponding key, a request for a new deck is initiated. The deck requested is determined by either the deck that the user has completed, or by the choices made by the user. When the deck is completed, the choices and\/or data entered by the user are typically transmitted along with the request to a network server for a new deck. When a deck containing multiple cards is received and stored in a cache memory, the browser fetches the first card in the deck, displays the information in the card, and allows the user to respond thereto. Depending on the card type, the user responds by entering text or choosing an option, and then pressing a predetermined key to transact the response.",{"@attributes":{"id":"p-0058","num":"0065"},"figref":["FIGS. 7A through 7G","FIG. 6","FIG. 3","FIG. 7A","FIG. 7A"],"b":["602","604","606","702","700","602","616","606"],"ul":{"@attributes":{"id":"ul0003","list-style":"none"},"li":{"@attributes":{"id":"ul0003-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0004","list-style":"none"},"li":["1. processing requests from the mobile device;","2. generating a URL request to a network server;","3. interpreting markup language files;","4. generating screen description data;","5. management of data cache;","6. management of history;","7. management of variable states in a markup language file;","8. maintaining push data, including alerts, electronic mails."]}}}},"According to one embodiment, display screen  displays a graphical image. In another embodiment, display screen  displays only text. Screen display , and other screen displays described more completely below, include a horizontal arrow , i.e., a multi-screen indicator translated from a multi-card deck indicator, to communicate to the user that screen display  includes another screen display. To view the HDML file, a multi-card deck indicator indicates that the current deck includes another card. The inclusion of screen indicators, such as horizontal arrow , to communicate with the user is optional. The functionality of this invention is independent of such screen indicators.","Referenced by  is a soft key generally associated with one of the generic buttons in the keypad of the mobile device . A soft key can be used to map a generic button into a specified button or activated by a touch pen or a finger. In this instance, pressing the generic button or touching the key directly is equivalent to pressing an \u201cOK\u201d button when the soft key OK is displayed. In many palm-sized computing devices, the number of the keys is generally kept to a minimum so as to provide a larger display screen. The larger display screen can accommodate more soft keys, which can be directly activated using a touch pen. Soft keys thus provide an efficient means to interact with display screen .","When the user depresses a predetermined key (i.e. one of the generic buttons in this case), thus selecting a soft key, a client module in the mobile device  interprets the action and sends a request to link server . Upon receiving the request, control engine  in link server  interprets the request which is, in this instance, a request to display the next screen display. Control engine  calls converter  to retrieve the next card from the received HDML deck, preferably, cached in a memory in the link server and converts the card in HDML to a SDD file that is subsequently delivered to mobile device . Upon receiving the SDD file, interface engine  draws a new screen display as shown in .","Screen display  in  shows a list of choices (the original HDML card is a choice card). Besides a list of choices that can be accessed by the user in , there is a downward arrow which indicates that the screen display includes additional items that are not shown in display screen . The screen display can be larger than the number of lines available in the display screen  and so the user must scroll the screen display to view the complete screen. Thus, to view the additional items, the user presses the downward arrow key corresponding to the downward arrow indicator  on the display screen . In this embodiment, when the downward arrow key is pressed, each line of the display is rolled up one line. The resulting display has an icon with an upward arrow (not shown) if the menu requires only two screen displays. If the menu requires more than two screen displays, the second screen display of the menu would have two icons, one with the upward arrow and another with the downward arrow. To scroll between the various lines in the second menu, the user uses the downward arrow key, and the upward arrow key. If the user displays the last line of a card, e.g., the last line in the second menu, and presses the downward arrow key nothing would happen because the downward arrow icon, another soft key, will not be present. In this screen display, the user must make a choice before a next display screen is available.","In this embodiment, each of the menu items is available on service server  or distributed on several server computers coupled to network . As explained more completely below, each of the menu items in the original HTML file is associated with a numeral that corresponds to a resource locator in the card containing the menu items. The resource locator includes an address of a particular object associated with one of the menu items. In general, a resource locator includes a universal resource identifier (URI) or universal resource locator (URL) and may include appended data. The address can be referenced to another card in the deck cached in link server  or to a remote object on service server .","As shown in , the first item in the menu  is initially indicated by an arrow  as a pre-chosen item. If the user decides to proceed with the pre-chosen item, the soft key \u201cOK\u201d may be pressed. Alternatively, a numbered key \u201c1\u201d, i.e. one of the 10 numbered keys, can be pressed to cause the client module in mobile device  to send a new request to link server  for a next screen display. This new request, however, is not a simple request as the one from . This request may include a resource locator to another card in the deck cached in link server  or a remote object in service server , depending on whether the original received HDML includes the information requested by the new request from mobile device .","This new request corresponds to a hyperlink in the card that has been converted to the SDD file currently being displayed in . The hyperlink may include a URL as follows:\n\n",{"@attributes":{"id":"p-0066","num":"0082"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<HDML version=\u201d2.0\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<CHOICE>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"126pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<CE TASK =","GO DEST=www.abc.com\/sales.hdml>"]},{"entry":[{},{},"ABC Corp. Sales"]},{"entry":[{},"<CE TASK =","GO DEST=www.xyzinfo.com>"]},{"entry":[{},{},"XYZ Information"]},{"entry":[{},"<CE TASK =","GO DEST=www.financialinfo.com>"]},{"entry":[{},{},"Financial Info"]},{"entry":[{},"<CE TASK =","GO DEST=www.personalweb.com>"]},{"entry":[{},{},"Personal Web Site"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},". . . "]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/CHOICE>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/HDML>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}},"br":{},"figref":"FIG. 7B","ul":{"@attributes":{"id":"ul0007","list-style":"none"},"li":{"@attributes":{"id":"ul0007-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0008","list-style":"none"},"li":["www.abc.com\/sales.hdml","www.xyzinfo.com","www.financialinfo.com","www.personalweb.com\n\nWhen one item is subsequently chosen, the control engine will generate a URL request to the identified network server to retrieve the desired information.\n"]}}}},"Although converter  in link server  converts the above code to a SDD file, a much more compact format for transmitting over wireless network . A long address, like http:\/\/www.xyzinfo.com\/LocalNews\/Towns, typically cannot be compressed further. It is neither efficient nor wise to use the wireless network to communicate a number of long addresses in a file and return a URL request containing one or more of the addresses. Hence the present invention uses one or more address identifiers that are communicated over the wireless network. Each of the address identifiers identifies the full address. An address table is maintained in link server  that maps the address identifiers to the actual (full) addresses. The address identifying or address mapping methods described here are significantly different from prior art systems which send addresses to all hyperlinks in a markup language document along with the document to a terminal device.",{"@attributes":{"id":"p-0068","num":"0088"},"figref":["FIGS. 8A and 8B","FIG. 3","FIG. 6","FIG. 8A","FIG. 8A"],"b":["800","802","800","804","806","800","802","800","804","800"]},"According to another embodiment, the account manager manages an address mapping table  shown in , in which user ID column  includes identifications (e.g. device ID or subscriber ID) of all active mobile devices communicating with the link server. Address identifiers  includes all address identifiers corresponding to the actual addresses in address buffer . Thus, whenever a mobile device refers an address identifier to a resource locator, the actual address is retrieved from address buffer  using the address identifier and used in a URL request generated by the control engine to the identified network server.","According to another embodiment in which the SDD is a group of Imp data, the actual addresses are mapped to their relative positions in a final screen display. For example, the above four URLs are hyperlinks, according to the original HDML file, to be displayed one in each of successive lines. Thus their relative positions, line1, line2, line3 and line4, each corresponds to one of the URLs. The relationships between the relative positions and the actual URLs may be maintained in the address table discussed above or directly by the control engine. If a user eventually chooses one of the hyperlinks, a (client) request from the mobile device will include the chosen position. The request may be expressed as follows:\n\n","Returning to , the user may scroll the choice arrow  downward if the pre-chosen item is not a wanted one. It should be noted that scrolling to a selected item is a feature that is specific to this example, and in general is not required to implement the invention. Other methods can be used to indicate the user's choice on display screen  such as a horizontal highlighting strip overshadowing the choice, if such an indication is desired. As described above, the user may simply key in one or more numerals to select an item that is of interest.","As described above, screen display  also includes the representations of two soft keys, an OK key , and a Back key . In this example, these soft keys are defined only for the card used to generate screen display . The \u201cOK\u201d key allows the user to proceed with the chosen item and the \u201cBack\u201d soft key allows the user to go back the previous screen display if so desired. In the present invention, the \u201cBack\u201d soft key may generate a request that is sent over to the link server from which the previous screen display is fetched again. Other keys can be implemented. For example a \u201cHome\u201d key, resulting in a request that returns the user to screen display  of . The \u201cHome\u201d key may be associated with a resource locator identifying the card representing screen display . Specifically, the link server manages a limited history stack of recent requests made by the mobile device in a memory. When a request is made, the control engine looks up the history stack to see if the request is an \u201cold\u201d one. For example, when the \u201cHome\u201d key is pressed, the request can be found in the history stack and the contents, either in the form of an HDML card or an SDD file, can be retrieved from memory and forwarded to the mobile device for display.","As shown in , the user moves arrow  downward to the second item. Display screen  shows four menu items numbered consecutively. As described above, the downward arrow indicates that there are more items in the next screen. Each of the items has an address identifier. For example, for the first four items, the respective address identifiers may be:\n\n","In , there is shown a new screen display . Typically, it is from one of the cards in a new deck received in the link server as a result of the request from screen display . The deck is cached in the link server and the first choice card is converted to a SDD file that is rendered by the interface engine in the mobile device for display. If the user proceeds with any of the items, for example, \u201cLocal News\u201d, a request is made from the interface engine in the mobile device and received by the corresponding control engine in the link server. The control engine causes the message processor to retrieve a card identified by the request from the cache and convert the card to a SDD file and forwards the file to the mobile device for display.",{"@attributes":{"id":"p-0075","num":"0104"},"figref":["FIG. 7E","FIG. 7F","FIG. 7G"],"b":["718","718","718","720","722","706","724","724"]},{"@attributes":{"id":"p-0076","num":"0105"},"figref":["FIGS. 9A to 9G","FIGS. 3A to 3B","FIG. 6"],"b":["904","906"]},"At , the account manager assigns a control engine to work in conjunction with the interface engine in the mobile device. At , the account manager detects, through the server module, any message arrived. At , the source of the message is identified (i.e., whether the message is received from a network server or from the mobile device).","At , when the received message is from the network server, the control engine along with other modules in the link server determines the message type. In this embodiment, there are primarily two message types that are processed distinctively from the prior art systems. Specifically, these message types are notifications and markup language (ML) files. The notification or alert message indicates the arrival of an electronic mail or fulfillment of certain requests (e.g., sale of a stock at a limit price). The notification or alert message includes a device identification identifying the mobile device, an alert type (instructing the mobile device to beep, vibrate or display a visual sign), an alert title (a text string describing the subject matter of the alert), a life-time specifying a time period during which the alert should be delivered) and a URL that a user can request when the user desires to respond to the alert. Alternatively, an alert can be expressed as follows:","Notification={023, \u201cnew mail\u201d, 4, www.wireless.com\/mail retrieval\/87473} where \u201c023\u201d a special code that can causes the mobile device to beep, the title \u201cnew mail\u201d is then displayed on the screen of the mobile device, the value \u201c4\u201d specifies that the notification message be delivered within four hours or discarded, and the last entry in the notification is the URL to retrieve the new mail identified by \u201c87473\u201d from a mail server identified by www.wireless.com.","As indicated above, a notification or alert message is not always immediately deliverable; sometimes the mobile device is out of the service area or the mobile device is turned off. Consequently, the account manager of the link server maintains a notification list or an alert list for each mobile device. Upon receiving a new alert message, at , the account manager determines from an alert list if the newly arrived alert message correspond to a URL already on the alert list. If there is an identical URL in the alert list, at , the corresponding entry in the alert list is updated with the newly arrived alert message. If no identical URL is found, at  the newly arrived alert message is inserted. The newly arrived alert messages are sequenced in the alert list for delivery to the target mobile device.","At , the alert message is modified by substituting the actual URL by an address identifier retrieved from an address table. At , the modified alert message is sent to the mobile device over the wireless network. It should be pointed out that the above alert list update is not necessary if the newly arrived alert message is immediately delivered. Further it should be pointed out that the alert list may not be necessarily maintained in the link server device and, as will be explained below, may be maintained in the mobile device.","Returning to , wherein the received message from the network is a markup language (ML) files. At , the message processor in the link server processes the ML files. The processes at  may include caching the ML files in proper memory, parsing the ML files to generate internal data structure needed to generate SDD files. In particular, at  and  all the URLs in the received ML files are substituted by corresponding address identifiers, with the actual URLs stored in the address table maintained in the link server or the relative positions of the URLs are determined with regard to the Imp data implementation. At , the message processor converts the processed ML files to SDD files corresponding to the mobile device's characteristics information, to allow proper display of the SDD files in the mobile device. To ensure that the control engine in the link server is in synchrony with the interface engine in the mobile device, at , the SDD files are respectively sequenced, preferably numbered consecutively and, at , delivered to the mobile device over the wireless network.","Returning to , wherein the message is from a mobile device. Typically, such a message includes one or more (client) URL requests. At , the control engine processes the message after the account manager verifies that such requests are permissible at . Depending on the services subscribed, each mobile device serviced by the link server may have the different privileges from other mobile devices to the services offered by the link server. If a request is granted at , the link server processes the request. Collectively, a (client) request may be expressed as follows:\n\n","At , the request is processed. Generally, the request is to request information. In some instances, at , variables in the requests are substituted to provide an updated request, as explained below.","According to one aspect of the invention, variables are used to hold user input data. Such user input data can be collected, for example, in response to a query provided to the user in a display screen. When the user input data (e.g., a number) is entered by the user, the user data received is provided on the next display screen to provide feed back to the user. Specifically, the link server receives an ML file in which are defined a number of variables. The variables in the ML file constitute information to be requested at a terminal device. When the ML is converted to a corresponding SDD file to be displayed on the mobile device, in response to the display screen, the user enters the required input data and a request is dispatched containing the input data to the link server, after a predefined key is pressed. In prior art systems, a terminal device running a browser performs the substitutions locally. In the present invention, the mobile device operates only an interface engine without the capability of performing the substitution. The substitutions are performed by the control engine in the link server when the request from the mobile device is received at . The link server responds to the request by sending the mobile device a new SDD file that has the user data substituted for the variables at .","According to another aspect of the present invention, some values received from the mobile device for variables in the ML files are provided as address identifiers that must be substituted with the actual URLs. Examples of a request including address identifiers include a new information request to a network server or a request to retrieve email. Upon receiving such a request, the actual URLs are retrieved by the account manager from an address table in the link server. At , the original requests from the mobile device are modified to produce updated requests with the actual URLs substituted and the updated requests are then sent to the identified network server(s) corresponding to the URLs at .",{"@attributes":{"id":"p-0087","num":"0117"},"figref":"FIGS. 9E to 9G","b":["953","957"]},"At , the client module in the mobile device receives a message. Typically the mobile device receives three kinds of messages: notifications, SDD files and local service requests. At , a notification message arrives. Note that a notification message received at the mobile device is different from the notification or alert message provided from a network server. The notification message received at the mobile device is a distilled version with no explicit URLs. Upon receiving the notification message, the client module looks up in an alert list in the mobile device to determine if there is an identical notification pending there at . Sometimes a user of the mobile device may not necessarily or immediately respond to an alert, the mobile device hence maintains an alert list to keep all the received notification or alerts. If a notification identical to the newly received notification message is found, the alert list gets updated with the newly arrived notification message at . Otherwise, i.e., no identical notification message is found in the alert list, the newly arrived notification message is added sequentially into the alert list at . Meanwhile, the user is notified according to the alert type in the received notification message at . When the user decides to respond to the notification and presses a key or activates a soft key, a request corresponding to the notification message is sent to the link server at .","At , a message is received requesting an update to the local services in the mobile device. Local services may include functions for modifying wireless voice\/date protocols, configuration or system parameters, bookmarks, addresses, subscriber provisioning information and other parameters that may enable or disable certain telephony and data features of the mobile devices. Technically, the interface engine recognizes such a message by a special prefix indicating a \u201clocal service\u201d request. According to one embodiment, a URL for a local service always begins with \u201cdevice:\u201d. (e.g., device:addressbook).","Upon the arrival of a local service request, the local service in the mobile device is invoked. For example, a user may navigate to a page providing email service to the mobile device. After a key is pressed or a soft key is activated, a request is sent to the control engine of a link server, which in turn responds by a local service request which causes an address book to be displayed in the mobile device. After the user makes a selection from the address book, at , the mobile device sends another request specifying the selected address to the control engine which then sends the mobile device an SSD file. Upon receiving the SSD file, the display screen displays a page which allows the user to proceed with composing a mail message.","At , when the received message is an SDD file. Upon receiving the SDD file, the interface engine renders the SDD file and causes the display screen of the mobile device to display according to the SDD file at . Within the display screen, the user may browse the screen display at  by pressing a navigation key to reposition a cursor to a subject of interest. For further information on the selected subject, the user may press a predefined key; hence a URL request is generated at . Also at , the user may be asked for input data to some context. Once the input data is entered, the user may press a predefined key, such as the \u201cOK\u201d key to generate a URL request at . The URL request is then sent to the link server for processing at .","The present invention is described above by way of example using specific embodiments. Numerous changes and modifications can be made within the scope of the invention claimed below."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention will be readily understood by the following detailed description in conjunction with the accompanying drawings, wherein like reference numerals designate like structural elements, and in which:",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":["FIG. 2A","FIG. 1"]},{"@attributes":{"id":"p-0016","num":"0015"},"figref":["FIG. 2B","FIG. 2A"]},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIGS. 3A and 3B"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIGS. 5A and 5B"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIGS. 7A to 7G"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 8A"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8B"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIGS. 9A and 9G"}]},"DETDESC":[{},{}]}
