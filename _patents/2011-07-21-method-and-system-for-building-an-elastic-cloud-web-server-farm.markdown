---
title: Method and system for building an elastic cloud web server farm
abstract: A method and system for building an elastic cloud web server farm. The method includes registering a web application on a serving cloud and copying the web application to a distributed store. A load of the web application is specified, and a plurality of nodes is added for the web application based on the load. A web server corresponding to a node of the plurality of nodes is then initialized. A web request is received from a user and a web server is selected from a list of available web servers to process the web request. The web request is further transmitted to the web server. A web response, based on the web request, is transmitted back to the user. The system includes a central registry, a distributed store, a process coordinator, one or more web servers, and a router.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08954568&OS=08954568&RS=08954568
owner: Yahoo! Inc.
number: 08954568
owner_city: Sunnyvale
owner_country: US
publication_date: 20110721
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION OF THE EMBODIMENTS"],"p":["Embodiments of the disclosure relate to the field of building an elastic cloud web server farm.","Internet has become a popular platform for storing information and accessing one or more web applications. Web application based processing is typically utilized for handling high throughput internet traffic. Conventionally, the web applications are hosted on a server farm. The server farm is defined as a cluster of server computers coupled to each other through a local area network (LAN). The server farm enables communication between the cluster of server computers and a user that deploys the web applications. However, the server farm does not provide necessary elasticity to the web applications. The server farm also lacks in providing isolation to each web application when multiple web applications are deployed simultaneously. Further, the server farm is unable to process large number of web applications.","The above limitation can be overcome by utilizing a cloud computing infrastructure. The cloud computing infrastructure deploys the web applications on one or more dedicated virtual machines. The cloud computing infrastructure allows sharing of the infrastructure when large number of the web applications is deployed simultaneously. The cloud computing infrastructure also provides different features, for example isolation, self healing and easy deployment of the web applications. However, the cloud computing infrastructure requires complex infrastructure for maintaining the dedicated virtual machines.","In the light of the foregoing discussion, there is a need for a method and system for deploying and processing multiple web applications efficiently.","The above-mentioned needs are met by a method, a computer program product and a system for building an elastic cloud web server farm.","An example of a method of building an elastic cloud web server farm includes registering a web application on a serving cloud and copying the web application to a distributed store. The method also includes specifying a load of the web application and adding a plurality of nodes for the web application based on the load. The method further includes initializing a web server corresponding to a node of the plurality of nodes. Further, the method includes receiving a web request from a user, and selecting the web server from a list of available web servers to process the web request. Moreover, the method includes transmitting the web request to the web server, and transmitting a web response, based on the web request, to the user.","An example of a computer program product stored on a non-transitory computer-readable medium that when executed by a processor, performs a method of building an elastic cloud web server farm includes registering a web application on a serving cloud and copying the web application to a distributed store. The computer program product also includes specifying a load of the web application, adding a plurality of nodes for the web application based on the load, and initializing a web server corresponding to a node of the plurality of nodes. The computer program product further includes receiving a web request from a user and selecting the web server from a list of available web servers to process the web request. Further, the computer program product includes transmitting the web request to the web server. Moreover, the computer program product includes transmitting a web response, based on the web request, to the user.","An example of a system for building an elastic cloud web server farm includes a central registry that maintains a list of available web servers. The system also includes a distributed store that stores a plurality of web applications. The system further includes a process coordinator that registers a web application on a serving cloud, copies the web application to the distributed store, specifies a load of the web application, adds a plurality of nodes for the web application based on the load, and initializes a web server corresponding to a node of the plurality of nodes. Further, the system includes one or more web servers. Each web server comprises a map web engine that initializes a web server corresponding to a node of the plurality of nodes. Moreover, the system includes a router that receives a web request from a user, selects the web server from the list of available web servers to process the web request, transmits the web request to the web server, and transmits a web response, based on the web request, to the user.","The features and advantages described in this summary and in the following detailed description are not all-inclusive, and particularly, many additional features and advantages will be apparent to one of ordinary skill in the relevant art in view of the drawings, specification, and claims hereof. Moreover, it should be noted that the language used in the specification has been principally selected for readability and instructional purposes, and may not have been selected to delineate or circumscribe the inventive subject matter, resort to the claims being necessary to determine such inventive subject matter.","The above-mentioned needs are met by a method, computer program product and system for selecting advertisements based on user tags. The following detailed description is intended to provide example implementations to one of ordinary skill in the art, and is not intended to limit the invention to the explicit disclosure, as one or ordinary skill in the art will understand that variations can be substituted that are within the scope of the invention as described.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1","b":"100"},"The environment  includes one or more users. Examples of the users include, but are not limited to, a user , a user , and a user . The environment  also includes a network , a server  and one or more web servers, for example a web server , a web server , a web server , and a web server ","The server  is connected to the network . The server  is in electronic communication through the network  with the web servers, for example the web server and the web server . The web servers can be located remotely with respect to the server . Each web server can host one or more websites on the network . Each website can have multiple web pages. Examples of the network  include, but are not limited to, Ethernet, a Local Area Network (LAN), a Wireless Local Area Network (WLAN), a Wide Area Network (WAN), internet, and a Small Area Network (SAN).","The server  is also in communication with an electronic device (not shown) of a user, for example the user , via the network . The electronic device can be remotely located with respect to the server . Examples of the electronic device include, but are not limited to, desktops, laptops, hand held computers, mobile devices, personal digital assistants (PDAs), smart phones, digital television (DTV), internet protocol television (IPTV), and play stations.","In some embodiments, the server  can perform functions of the electronic device. The server  has access to the web sites hosted by the web servers, for example the web server and the web server . In some embodiments, the server  is functionally similar to the web server or the web server and vice versa.","A user, for example the user , can enter a web request on a website hosted by the web server , via the electronic device. The server  processes the web request entered by the user. Upon processing, the server  obtains a web response, for example one or more feeds, associated with the web request. The feeds are uploaded by the server  for user access. The feeds provide updated information regarding the web request entered by the user. Examples of the feeds include, but are not limited to, news feeds, sports feeds, audio feeds, video feeds, and blog entries. Similarly, multiple users can enter multiple web requests simultaneously. Hence, the feeds obtained by the server  allow the user to obtain thorough knowledge about the web request.","In one example, Hadoop is utilized for processing the queries entered by the user . Hadoop is as a cloud computing infrastructure that enables distributed parallel processing. Hadoop includes Hadoop MapReduce and Distributed File System. Workflow system on Hadoop is established, for example using the technique described in U.S. patent application Ser. No. 12\/133,965 entitled \u201cCOMPUTING PLATFORM FOR STRUCTURED DATA PROCESSING\u201d filed on Jun. 5, 2008 and assigned to Yahoo! Inc., which is incorporated herein by reference in its entirety.","The server  along with the web servers are explained in detail in .",{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 2","b":"200"},"The system , built on a cloud computing platform, is utilized for processing numerous web applications. In one example, Hadoop is utilized for establishing the system . The system  includes multiple grids, for example Hadoop grids. The system  deploys the web applications on a single grid in order to increase capacity of processing. The system  provides elasticity while deploying the numerous web applications.","In one example, sports feeds possess high load during important events, for example the cricket world cup. The system  is capable of processing the high load by deploying the web applications in the single grid. In another example, news feeds possess data size in a range of kilobytes and bears a service level agreement (SLA) in seconds. The system  processes the news feeds, for example 1500 news feeds per minute, by executing multiple processes simultaneously.","The system  provides isolation while processing the web applications simultaneously. In one example, if a first web application requires varied amount of memory then the system  allocates optimum memory required by the first web application without affecting other web applications. The system  dynamically allocates the optimum memory required by the first web application. Further, the system  provides isolation by deploying a web application in the context of a single process.","The system  includes a process coordinator , a router , a distributed store , and a central registry . The system also includes one or more web servers, for example the web server , the web server , and the web server . Each web server includes a map web engine, for example the web server includes a map web engine , the web server includes a map web engine , and the web server includes a map web engine . The process coordinator  and the central registry  can be included in the server . The process coordinator  is coupled between the central registry  and the distributed store . Each web server is coupled between the router  and the distributed store . The process coordinator  further includes a job manager unit , and a job tracker (JT) unit . The job manager unit  is coupled to the distributed store  and the JT unit . The central registry  is coupled between the job manager unit  and the router .","A plurality of web applications is registered on a serving cloud by the job manager unit . A system interface, for example a Servlet application programming interface (API), is used and the web applications are packaged using WebARchive (WAR). The job manager unit  copies the web applications onto the distributed store . The web applications are thereby deployed on a grid, for example a Hadoop grid. The grid runs web servers using computing nodes of Hadoop. The job manager unit  also specifies a load of the web application and adds a plurality of nodes for the web application based on the load, in the central registry .","Each of the map web engines initializes a web server corresponding to a node, for example the map web engine initializes the web server ","In some embodiments, the job manager unit  generates a job associated with a node and transmits the job to the JT unit , for example a Hadoop JT unit. The job, for example a Hadoop job, is generated for a map task that is associated with a particular web server and a particular web application.","The job manager unit  registers a watcher with the central registry  in order to receive notifications in case one of the web servers become unresponsive. The job manager unit  also runs a monitor thread that periodically checks that the number of the web servers is consistent with a number configured in the central registry . In some embodiments, if the number of the web servers is more, the job manager unit  kills the job running the corresponding web servers. If the number of the web servers is low, the job manager unit  generates new jobs.","The central registry  maintains a list of available web servers. Each web server is further registered with the central registry  as a node in a format of \u2018hostname:port\u2019. The node is a server instance that is identified by an identifier of hostname and port. The central registry  is a high performance coordination service for distributed web applications. The central registry  also maintains information of jobs that run the web applications. The central registry  can scale up to hundreds of thousands of transactions per second on a majority read system, for example the system , due to local reads and lock-free properties. The central registry  is explained in detail in conjunction with .","The router  is a single entry point of the system  which receives a web request from a user, for example the user . The router  listens on a unique port and is seen as a standard web server. The router  selects the web server from the list of available web servers, for example the web server , the web server , and the web server , in the central registry . The router  then transmits the web request synchronously to the web server in the map web engine , to process the web request. The router  further transmits a web response, based on the web request, back to the user.","In some embodiments, the router  retransmits the web request to another web server from the list of available web servers to handle failure of the web server.","Each map web engine maps each web application to a corresponding web server. The map web engine is an implementation of a map task, for example a Hadoop map task. The map web engine starts, monitors, and stops the web servers. In some examples, the web server can be a Jetty web server, a Tomcat web server, or a Grizzly web server which implement the Servlet API.","The map web engine opens a session for lifetime of the web server . A free port from a predetermined range of ports is determined and the web server is started. The web server is registered with the central registry  by creating an ephemeral node (hostname:port) or the identifier that is automatically deleted on termination of the session. The map web engine also registers a shutdown hook for the easy shutdown on receiving a job kill signal. As the web application can run on any machine in a cluster of machines, generated log files are spread across the grid. In some embodiments, a custom log4j appender that rolls over the log files onto a common location in the distributed store  is developed. One of standard grid based aggregation tools can further be used.","In some embodiments, the distributed store  used is a Hadoop distributed file system (HDFS). The Hadoop Distributed File System (HDFS) is defined as a primary storage system used by Hadoop applications.","An exemplary illustration of the system  is described in conjunction with .",{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 3","b":"200"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 3","b":["305","310","315","320","325","120","120","120","120","330","120","330","120","330","305","325","315","310","320","325","315","305","320"],"i":["a","b","c","a ","a","b ","b","c ","c"]},"A plurality of web applications is registered on a serving cloud by the job manager . A system interface, for example a Servlet application programming interface (API), is used and the web applications are packaged using WebARchive (WAR). The job manager  copies the web applications to the Hadoop distributed file system . The web applications are thereby deployed on a Hadoop grid that runs web servers using computing nodes of Hadoop. The job manager  also specifies a load of the web application and adds a plurality of nodes for the web application based on the load, in the Zookeeper .","Each of the map web engines initializes a web server corresponding to a node, for example the map web engine initializes the web server ","In some embodiments, the job manager  generates a job associated with a node and transmits the job to the Hadoop job tracker .","The router  receives a web request from a user, for example the user . The router  selects the web server from the list of available web servers, for example the web server , the web server , and the web server , in the Zookeeper . The router  then transmits the web request synchronously to the web server , to process the web request. The router  further transmits a web response, based on the web request, back to the user.","In some embodiments, the router  retransmits the web request to another web server from the list of available web servers to handle failure of the web server.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 4","b":"225"},"The central registry  stores large number of tasks that are utilized for deploying the web applications . Examples of the web applications  include, but are not limited to, the web application and the web application . The central registry  is capable of scaling thousands of reads per second. The web applications , associated with the central registry , initiates a session with the central registry . The session includes an associated time period defined as a time-out. The central registry  includes a number of ports. Execution of the tasks commences by associating each web application, for example the web application , with a free port of the central registry . The free port of the central registry  is selected from a predetermined range. The central registry  considers the web application as faulty when it does not receive any updates from the web application within the time-out. Upon determining the web application as faulty, the central registry  ends the session initiated by the web application ","Upon obtaining the free port, the web application gets registered with the central registry . Registration is performed by creating a coordinator node for the web application . Similarly, another coordinator node can be created for the web application . Each coordinator node is a memory data node that can be organized in a hierarchical manner referred to as a data tree.","The central registry  deploys various web applications, for example the web application and the web application . The central registry  utilizes a pipeline architecture for storing a list of web applications that requires to be processed. The web requests are uniformly distributed by the central registry  using a randomized algorithm across all the nodes for the web application or the web application . The web requests that are stored in a pipeline are further processed in First-In-First-Out (FIFO) order.","The central registry  also provides caching. The caching enables the web application, for example the web application , to increase the performance of a read operation. In one example, the priority web application can be cached so that a task running the web application is restrained from probing the central registry  every time the task needs to determine the priority web application stored in the pipeline. The central registry  utilizes a watch process for caching. The watch process provides notifications on any updates of the web applications  present in the pipeline.","The list of web applications present in the pipeline submits requests to the central registry  through an application programming interface (API). The API is further associated with a process coordinator library for managing network connections between the list of web applications and the central registry . The coordinator nodes can be utilized for manipulating the API associated with the central registry . In one example, the coordinator nodes can be defined using UNIX notation. Each of the coordinator nodes creates two sub-coordinator nodes, a sub-coordinator node and a sub-coordinator node until the corresponding coordinator node deploys the web application . Similarly, the other coordinator node creates a sub coordinator node  until the web application is deployed.","The central registry  is also utilized for providing locking features. The locking features are required for maintaining consistency to update the registry sequentially. In one example, to acquire the lock, the web application creates a web application lock . The web application lock  can be created by associating an ephemeral flag with the coordinator node. If the creation of the web application lock  succeeds, then the web application holds the web application lock . Further, if the creation of web application lock  does not succeed, then the web application can wait for notification.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 5"},"At step , a web application is registered on a serving cloud. The web application is one of a plurality of web applications that is registered on the serving cloud. The web applications are also processed simultaneously. The web applications can be packaged using WebARchive (WAR), and system interface is also used, for example a Servlet application programming interface (API).","At step , the web application is copied to a distributed store, for example the distributed store . The web application is copied to the distributed store using the job manager unit, for example the job manager unit . In one example, the distributed store can be a Hadoop distributed store or a Hadoop distributed file system (HDFS). The web applications are hence deployed on a grid, which runs web servers using computing nodes of Hadoop.","At step , a load of the web application is specified by the job manager unit, for example the job manager unit . The load is specified in a central registry, for example the central registry . Increase in the load can be dynamically handled by increasing number of web servers required for the web application. Similarly, decrease in the load can be dynamically handled by decreasing number of the web servers required for the web application.","At step , a plurality of nodes is added for the web application based on the load. The nodes are added by the job manager unit, for example the job manager unit , in the central registry, for example the central registry .","In some embodiments, the web application is mapped to a web server, corresponding to a node of the plurality of nodes, after addition of the nodes. The mapping is performed by the central registry.","At step , the web server corresponding to the node of the plurality of nodes is initialized. A port is determined from a predetermined range of ports, and an identifier is registered with the central registry. The identifier can be defined with a hostname and port. A number of the web servers that run with an optional schedule are associated as metadata of each node.","At step , a web request is received from a user, for example the user . In one example, the web request is a hyper text transfer protocol (HTTP) web request. The web request is received by a router, for example the router . A plurality of web requests can also be received from other users, for example the user and the user ","At step , the web server, for example the web server , is selected from a list of available web servers to process the web request. The list of available web servers is maintained by the central registry, for example the central registry . The web server is selected by the router, for example the router , which is seen as a standard web server.","At step , the web request is transmitted to the web server, for example the web server , by the router.","In some embodiments, the web request is retransmitted to another web server from the list of available web servers to handle failure of the web server.","At step , a web response is transmitted back to the user, by the router. In one example, the web response is a HTTP response.",{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 6","b":["115","115","115","120","120"],"i":["a ","b. "]},"The server  includes a bus  for communicating information, and a process coordinator  coupled with the bus . The server  also includes a memory , for example a random access memory (RAM) coupled to the bus  for storing instructions to be executed by the process coordinator . The memory  can be used for storing temporary information required by the process coordinator . The server  can further include a read only memory (ROM)  coupled to the bus  for storing static information and instructions for the process coordinator . A server storage device , for example a magnetic disk, hard disk or optical disk, can be provided and coupled to the bus  for storing information and instructions.","The server  can be coupled via the bus  to a display , for example a cathode ray tube (CRT) or a liquid crystal display (LCD), for displaying information. An input device , for example a keyboard, is coupled to the bus  for communicating information and command selections to the process coordinator . In some embodiments, cursor control , for example a mouse, a trackball, a joystick, or cursor direction keys for command selections to the process coordinator  and for controlling cursor movement on the display  can also be present.","In one embodiment, the steps of the present disclosure are performed by the server  in response to the process coordinator  executing instructions included in the memory . The instructions can be read into the memory  from a machine-readable medium, for example the server storage device . In alternative embodiments, hard-wired circuitry can be used in place of or in combination with software instructions to implement various embodiments.","The term machine-readable medium can be defined as a medium providing content to a machine to enable the machine to perform a specific function. The machine-readable medium can be a storage media. Storage media can include non-volatile media and volatile media. The server storage device  can be non-volatile media. The memory  can be a volatile medium. All such media must be tangible to enable the instructions carried by the media to be detected by a physical mechanism that reads the instructions into the machine.","Examples of the machine readable medium include, but are not limited to, a floppy disk, a flexible disk, hard disk, magnetic tape, a CD-ROM, optical disk, punchcards, papertape, a RAM, a PROM, EPROM, and a FLASH-EPROM.","The machine readable medium can also include online links, download links, and installation links providing the instructions to be executed by the process coordinator .","The server  also includes the communication interface  coupled to the bus  for enabling communication. Examples of the communication interface  include, but are not limited to, an integrated services digital network (ISDN) card, a modem, a local area network (LAN) card, an infrared port, a Bluetooth port, a zigbee port, and a wireless port.","The server  is also connected to the distributed store  that stores web applications.","In some embodiments, the process coordinator  can include one or more processing devices for performing one or more functions of the process coordinator . The processing devices are hardware circuitry performing specified functions.","The present disclosure provides easy deployment of web applications. The system  has high throughput by ensuring that the web applications are copied onto HDFS, launching of Hadoop jobs and initialization of the web server, are performed during deployment The system  also has increased scalability of web applications due to addition of Hadoop nodes. Each web application runs in isolation, without overhead and cost of managing virtual machines. The system  further shares resources and has improved reliability. The features of the present disclosure are provided in detail below:\n\n","It is to be understood that although various components are illustrated herein as separate entities, each illustrated component represents a collection of functionalities which can be implemented as software, hardware, firmware or any combination of these. Where a component is implemented as software, it can be implemented as a standalone program, but can also be implemented in other ways, for example as part of a larger program, as a plurality of separate programs, as a kernel loadable module, as one or more device drivers or as one or more statically or dynamically linked libraries.","As will be understood by those familiar with the art, the invention may be embodied in other specific forms without departing from the spirit or essential characteristics thereof. Likewise, the particular naming and division of the portions, modules, agents, managers, components, functions, procedures, actions, layers, features, attributes, methodologies and other aspects are not mandatory or significant, and the mechanisms that implement the invention or its features may have different names, divisions and\/or formats.","Furthermore, as will be apparent to one of ordinary skill in the relevant art, the portions, modules, agents, managers, components, functions, procedures, actions, layers, features, attributes, methodologies and other aspects of the invention can be implemented as software, hardware, firmware or any combination of the three. Of course, wherever a component of the present invention is implemented as software, the component can be implemented as a script, as a standalone program, as part of a larger program, as a plurality of separate scripts and\/or programs, as a statically or dynamically linked library, as a kernel loadable module, as a device driver, and\/or in every and any other way known now or in the future to those of skill in the art of computer programming. Additionally, the present invention is in no way limited to implementation in any specific programming language, or for any specific operating system or environment.","Furthermore, it will be readily apparent to those of ordinary skill in the relevant art that where the present invention is implemented in whole or in part in software, the software components thereof can be stored on computer readable media as computer program products. Any form of computer readable medium can be used in this context, such as magnetic or optical storage media. Additionally, software portions of the present invention can be instantiated (for example as object code or executable images) within the memory of any programmable computing device.","Accordingly, the disclosure of the present invention is intended to be illustrative, but not limiting, of the scope of the invention, which is set forth in the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE FIGURES","p":["In the following drawings like reference numbers are used to refer to like elements. Although the following figures depict various examples of the invention, the invention is not limited to the examples depicted in the figures.",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
