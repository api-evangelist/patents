---
title: Secure device introduction with capabilities assessment
abstract: Introducing, managing and restricting devices in an environment is discussed, including how to securely introduce the devices, how to establish trust between the devices, how to manage bandwidth requirements and other resource requirements of the devices, how to aggregate resource usage when multiple devices within an environment are engaging in a common task, and how to restrict device access to environment resources. Various techniques including manual and automatic solutions are disclosed.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08464322&OS=08464322&RS=08464322
owner: Intel Corporation
number: 08464322
owner_city: Santa Clara
owner_country: US
publication_date: 20111227
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATION","FIELD OF THE INVENTION","BACKGROUND","DETAILED DESCRIPTION"],"p":["The application is a division of U.S. patent application Ser. No. 11\/514,452, filed Sep. 1, 2006, entitled \u201cSECURE DEVICE INTRODUCTION WITH CAPABILITIES ASSESSMENT,\u201d and claims priority to the 11\/514,452 application.","The invention generally relates to securely introducing devices into an environment, and more particularly to establishing relationships between, managing data communication with, and restricting resource access of devices introduced into an environment.","Wired and wireless communication between computing devices has enjoyed wide adoption and significant growth as a flexible and cost-effective infrastructure has become available. For example, gigabit Ethernet and wireless technology such as WiFi (a common name for several related standards proposed by the Institute of Electrical and Electronics Engineers, \u201cIEEE\u201d), Bluetooth, infrared coded data, etc. permit data transfer via wireless signals or fast wired data pathways. Unfortunately, while new standards and improved equipment have increased network data rates, the technology continues to have issues that have not been satisfactorily addressed, such as easily and securely introducing devices, and once introduced, configuring devices and establishing trust (as needed) between the devices.","In addition to configuration difficulty for devices introduced into an environment, another problem is bandwidth management or allocation, which may be an issue when, as often happens, multiple devices in an environment are engaging in a common task with devices outside the environment. An example would be multiple devices engaging in a data download, peer-to-peer data transfer, conferencing or telephony communication session, etc. Another issue is establishing trust and identity between various devices, such as conference participants. Yet another issue is determining a proper scope of rights in the environment for visiting devices.","It will be appreciated there are several different issues being addressed herein, one of which being how to securely introduce devices into an environment, such as a digital home, digital office, etc. discussed above, where some or all of the devices may be operating over wireless communication channels. Another issue is how to establish trust between the devices, such as to enable devices to set up trusted multiparty, multi-media conferences and sharing of media between devices over a secure communication channel, and enable devices to be confident of the authenticity of other endpoints in the conference. It will be appreciated endpoints establishing trust relationships with a common device may indirectly establish trust with other endpoints based at least in part on knowledge the other endpoints have similarly established trust relationships with the common device. Another issue is minimizing bandwidth requirements when multiple devices within an environment may be engaging in a common task and hence it may be beneficial to aggregate communication into a common communication in to or out of the environment. Another issue smart bandwidth allocation so low bandwidth devices are recognized as such and are not unnecessarily provided bandwidth to the detriment of other high-bandwidth devices. Other issues are addressed herein as well and will become apparent from the following description.","When introducing devices in an environment, such as a local area network (LAN) or wireless LAN (WLAN), and\/or other communication environment, it will be appreciated devices may transfer credentials within the environment, and while doing so, a device may also communicate it capabilities and resource requirements to facilitate configuring the device for use within the environment. Credentials may be passwords or encryption keys required to obtain access to network resources, or other configuration information useful or necessary to operate the device. Capabilities and requirements provided by the device (and\/or determined based on device identity) may be used to facilitate coordinating efficient communication between devices within an environment with devices outside the environment, such as aggregating overlapping communication sessions into a single common session between the environment and external communication end points, as well as to facilitate smart bandwidth allocation through transcoding data sent to a device, as well as segregating some devices to limit their access (as desired) to resources of the environment, etc.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1","b":["100","102","104","106","108","104","106","110","104","106","102","112","100"]},"If the user of a device such as laptop WLAN client  wishes to use the wireless network through AP  to access resources on other wireless or wired nodes, it must obtain a valid encryption key and enter it into the wireless device's configuration. Traditionally, an administrator of the wireless network would provide the key and the user would type it into a configuration form. However, this approach is inconvenient for the user and cumbersome for the administrator. In addition, an unauthorized user may obtain a copy of the key from the user and use it to access the network. Changing the WLAN configuration to exclude such an unauthorized user may entail re-configuring all of the other authorized devices.","An alternate method of managing WLAN access may use a registration protocol according to an embodiment of the invention. For example, a protocol may be used allowing WLAN client  to register with a network entity called a Registrar  by way of communication through AP . While illustrated as separate entities, in another embodiment, the Registrar may be integrated with the AP, and yet other embodiments may use several Registrars. In some embodiments, there may also be a Media Gateway Device (MGD), which may be a standalone device or, as assumed in the illustrated embodiment, incorporated within the Registrar. The MGD may configured to perform various tasks, such as coordinating communication for multiple devices within the environment be engaging in a common communication task, such as a video conference, with devices outside the environment, such as with devices on the Internet, or transcoding content to provide compatibility or reducing bandwidth, or to block out attempts by a device to access communication features not authorized for the device within the environment.","In some embodiments, device introduction into a new environment may utilize a relatively secure Out-Of-Band (OOB) channel to initially transfer data from an existing device, such as a Registrar or other device in the environment to a new device being introduced. This data may, for example, be used to at least temporarily establish a secure communication channel over which the new device may subsequently be configured. An Application Framework implementing the registration protocol may be used to provide a common framework for new device configuration. In one embodiment, application software for a device registers with the Application Framework, and the framework coordinates with the Registrar (or other existing device) and the new device to automatically configure the new device when it is introduced. Registrar  may communicate with AP  over the wired network , over a wireless (radio) connection, or both. The Registrar may provide administrative facilities to monitor the WLAN and manage encryption keys.","In the illustrated embodiment, a New WLAN client  has an associated secret called a device password which can be used as the OOB data to transfer for establishing the secure communication channel. The password may be engraved on the device or printed on a label, or may be displayed by the device or by software associated with the device. If the device password is displayed in this way, it may be dynamic (for example, the displayed password may be valid for a period of time or until some event occurs, then a new device password may be chosen and displayed). In some embodiments, the device password may be readable by a reader device near the new client. For example, Near Field Communication (\u201cNFC\u201d) devices can exchange data wirelessly over a short distance, so a device password might be stored in an NFC token and read by an NFC reader. In another embodiment, the new WLAN client might be equipped with an infrared or other light signal transmitter, and be able to transmit the device password to an optical receiver of the Registrar within line-of-sight proximity. These and other known techniques may be used to perform an OOB data transfer between the new device and the existing device in the environment, e.g., the Registrar, to facilitate establishing the secure communication channel.","As noted above, it is presumed that an in-band communication channel can be (or already is) compromised. A typical example of a high-risk in-band channel is a public wireless \u201chotspot,\u201d e.g., a place providing public network access, or a hotel room network connection. To avoid the new device being compromised when it is introduced, in various embodiments, an initial OOB data transfer with the new device is performed to bootstrap establishing a secure communication channel over which to then configure the new device. For example, assuming the OOB data contains cryptosystem data, the new device and Registrar, or other existing device, proxy, etc., use the cryptosystem data to establish a secure communication channel with the new device. It will be appreciated various cryptographic protocols and techniques may be used; in some embodiments, the new device may request a Registrar, Framework Protocol Stack (see, e.g., the  embodiment) or other entity or programmatic construct to act as a certificate authority (CA) for cryptographic, e.g., X.509, type certificates.",{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 2","FIG. 2","FIG. 2"],"b":["200","116","102","114"]},"First, the client's device password is provided to the Registrar . This may be accomplished by reading the password from the client's label or display and entering it through a Registrar user interface, by placing the client near the Registrar so that the Registrar can read the client's NFC token automatically, or via some other OOB method. Next, after initiating the EAP transaction  (not illustrated), the client transmits a first message (\u201cM\u201d) (encapsulated within an EAP message) to initiate the introduction protocol with the Registrar. M contains a first random number N and a public key PKof the client, and may contain other information (described below). M is received by the Registrar .","The Registrar responds to M by transmitting a second message (\u201cM\u201d) containing a second random number N and a public key PKof the Registrar . The client receives M . The transaction continues with the client transmitting a message Mn  and the Registrar responding with message Mn+1 . Portions of each message may be encrypted with a key known to both the client and the Registrar, or with a public or private key of one of the parties. Messages may have appended a message authentication code (\u201cHMAC\u201d), containing a cryptographic hash of the previous message and a portion of the current message preceding the MAC, to permit the recipient to verify that the other party correctly received the previous message and that no third party is tampering with the messages in transit.","The key used to compute the HMAC in one or more of the messages from the Registrar is authenticated using a device password that should match the client's own device password. This permits the client to verify that it is receiving credentials from an authorized Registrar (and not, for example, from a rogue Registrar that is attempting to trick the client into connecting to a hostile wireless network). One or more of the messages from the Registrar contains a credential such as a WEP or WPA key that the client can use to access the wireless LAN through the AP. The credential may be encrypted with a key-encryption key to prevent its recovery by an eavesdropper. When the client receives the message containing the credential, it verifies the HMAC to ensure the message came from a Registrar with knowledge of its own device password , e.g., in one embodiment a test is performed to ensure mutually proved knowledge of the device password was received. If the passwords differ, the client aborts the EAP transaction by transmitting a negative acknowledge (\u201cNACK\u201d) message . If the HMAC correctly verifies knowledge of the device password, the client may decrypt the credential and store it in a configuration database for future use .","Once the client has successfully received the credential, in an EAP context, the session is terminated. For example, this may be performed by transmitting a \u201cDone\u201d response to the Registrar , which receives the \u201cDone\u201d message  and responds with an EAP \u201cFail\u201d message . The client subsequently receives the \u201cFail\u201d message . Note that in this context, the failure message does not mean that the client must repeat the EAP transaction to obtain a credential. It merely indicates that the transaction was used to provision a credential rather than to grant the client immediate use of the wireless LAN. The client may use the credential it received later, when it attempts to access the network through the AP . For example, the client may update its configuration according to data in the credential, or may use the credential to complete a new authentication protocol transaction designed to provide network access.","After successfully establishing communication with an introduced device, as will be discussed further below, configuring communication parameters and communication configurations for the devices may also be performed. For example, by establishing trust between the devices and a registrar, credentials may be exchanged between the devices to facilitate establishing trust between the devices. Or, bandwidth requirements for devices may be configured to control device inter-communication as well as communication to locations external to the environment.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 3","b":"300"},"In one embodiment, an Application Framework  is built on device introduction mechanisms, such as those described above with respect to . In one embodiment, the Application Framework is initialized after sending the Done message and before responding with the Fail message and terminating the EAP session. It will be appreciated by one skilled in the art the  EAP discussion is exemplary and any message transport protocol may be used for credential setup. The illustrated Application Framework may be used by any application or device to bootstrap a secure communication channel. It will be further appreciated that device discovery techniques, such as wireless or wired network discovery data probes, Universal Plug and Play (UPnP) operations, or other discovery techniques may be used to announce a new device's presence in an environment, locate Registrars or other devices of the environment, and manage networked devices. An Application Programming Interface (API) or Software Development Kit (SDK) may also be defined to provide functions to perform the operations and techniques discussed herein for discovering, registering and configuring devices within an environment.","In the illustrated embodiment, the below line  components - may be standardized or become well-defined by a Specification, such as described in the \u201cWi-Fi Simple Config Proposal\u201d, the most current version at this time being Revision 1.0a dated Feb. 10, 2006. Below the line  components - include an In-Band media manager  for managing a conventional communication connections such as a Bluetooth link, an Institute of Electrical and Electronics Engineers (IEEE) 802.x type of WLAN link, etc. It is presumed this in-band communication channel is susceptible to attack.","There is also an Out-Of-Band (OOB) media manager  for managing OOB communication channels, such as the various exemplary communication channels discussed above. The OOB communication channel is presumed difficult to attack and hence is therefore deemed trustable for initial data exchanges to establish secure communication over the not-trusted in-band channel.","In one embodiment, a Registrar or other managing device may have associated policies that control what characteristics or features of a new device that may be allowed to become active. For example, while a new device may support instant messaging, the Registrar may be configured to ignore and\/or not configure such features of software for a new device. This allows a user or other environment administrator to selectively allow resource access, e.g., to implement \u201cguest\u201d access. It will be appreciated restricting access may be based on automatically applied policies (or their equivalent) as well as through interaction with a user or other environment administrator. It will be appreciated various device characteristics, such as device type, owner, bandwidth or other resource requirements, well-behaved time in the environment, etc. may be used as decision factors in granting rights to a device. Thus for example, a telephony device may be brought into the environment and automatically only be granted access to resources compatible with the nature of the device, e.g., to conference data streams, audio portions of audiovisual data, etc.","In addition to an environment restricting a device's access, the device itself may impose its own access limitations, such as to protect itself from intrusion or to maximize its operation duration. For example, while an environment may support and\/or allow certain activity, such access to streaming media, a particular device may nonetheless have its own local policy such that the device does not utilize the activity even though present and available in the environment. For example, security conscious device owners disallow activity even if offered in a particular environment, such as file sharing in a public access network hotspot. Or, if battery levels are low, a device may be configured to ignore battery intensive features available within an environment.","In one embodiment, each application that registers (or that has already registered), such as with the Application Framework  can be identified in an interface (not illustrated), such as a Graphical User Interface (GUI) for receiving user input, or to an automatic interface to process registrations, where the interface provides opportunity for a user or automatic registration processor to enforce a local policy or user interest in permitting, denying, or modifying an application's registration. For example, the \u201cguest\u201d access discussed above can be interactively enforced for a device introduced into an environment by, during introduction of the device, recognizing it is a foreign device and checking for applicability of rules, policies, or the like and prompting (if needed) a user by way of a GUI or other interface for access rights for this new device. Thus, a guest device of a visiting friend may be given restricted access in the environment, such as only being allowed to engage in certain types of communication, e.g., to grant or deny Internet access, to grant or deny music streaming, to time limit access to the environment, etc.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 4","FIG. 1"],"b":["400","402","116"]},"In the illustrated embodiment, a test is performed to check a newly added device to see if  restrictions are applicable to the device. It will be appreciated some devices, such as those previously registered with the system, or devices having a certain characteristic such as a digitally secured trust certificate or other trusted characteristic authenticated by a trusted party such as a CA (Certificate Authority) or other authority recognized by the environment may bypass the restriction checks. If  restrictions apply to the new device or functionality, service access restrictions and device configurations may be established -. It will be appreciated while items - are illustrated sequentially, operations may occur in parallel or in a different order than as illustrated, and in some cases only selected operations are performed.","As discussed above and as will be discussed further with respect to  and , it may be desirable to establish  limited rights or guest access rights to an introduced device, such as to prevent local area network (LAN) file access, restrict access to bandwidth consuming services, etc. As discussed above, restrictions may be applied automatically and\/or interactively through a GUI or other interface. For example, there may be situations where a user or environment administrator desires to allow only temporary device access to a network, such as when a visitor comes with a device, such as a Personal Digital Assistant (PDA), music player, camera, etc., and wants the visiting device to connect to the internet, share files with the user, play songs from the music player on a wireless or wired local area network (LAN) capable stereo system, share pictures from a camera, print pictures on a printer in the environment, etc.","In order for the visitor to perform these tasks, the user and\/or administrator needs to grant necessary credentials to the visitor's device for it to perform desired tasks within the environment, e.g., to allow it network access and\/or access to devices within the host environment. However, as will be appreciated, users or environment administrators do not want to give the visiting device unrestricted environment access but instead wants to carefully control the extent of network access the visitor's device receives. As discussed above with respect to  guest access or other device restrictions may be determined when introducing a device to an environment.","In one embodiment, restrictions are enforced with dynamic filters implemented on an Access Point (AP), router, gateway or other such device through which network access is obtained. In one embodiment environment devices and resources are accessible through their own physical and\/or logical network reachable through an AP, router, gateway, etc. When registering a guest device in this embodiment, the user or environment administrator has the option of enforcing access restrictions on the new device. It will be appreciated defaults may be assigned for common interests such as Internet access, file access, etc. Access rights may be directly managed by a Registrar, and\/or defaults and device specific restrictions may be communicated by the Registrar to an AP, router, gateway, etc. that is positioned to restrict environment access and able to establish access control lists (ACLs), filters, or the like as necessary to restrict access as desired.","Thus, it will be appreciated that after completing registration of a device with the environment, if the guest device wants to access specific resources such as shares or devices for which access was not initially granted, the user or environment administrator can enable such access via the Registrar. For example, as discussed above, a GUI may be used to interactively control initial device access and such a GUI may also be used to change access permissions. In one embodiment, the Registrar is configured to enumerate available resources within the environment, e.g., shares, or input and\/or output devices on the network, such as printers, stereo systems, speakers, etc. The user or administrator may select devices and shares a guest device may access. If access is not directly managed by the Registrar, the Registrar communicates access changes to the AP, router, gateway, etc. which is controlling access and it sets up appropriate ACLs, filters, etc. corresponding to the changed access rights.","Note that ACLs may be as simple as IP and\/or MAC address and\/or port-based filters, or may be more advanced, depending on the capability of the Registrar, AP, router, gateway, etc. limiting access to environment resources. The guest device obtains access only to specified portions of the network, and will be unable to view or access other resources within the user's network. It will be appreciated guest access rights may be configured to automatically expire, e.g., time out, or be revoked on certain conditions, such as when the guest device leaves the environment.","In addition to establishing  access rights, it may also be desired to establish  communication restrictions. For example, when a device is introduced and its applications and\/or functionality registered , during the registration process characteristics of the device may be tracked or recorded, such as knowledge that the device is an audio only device such as a telephone, has only a black and white screen, has limited processing power, etc. In the audio only case, for example, communication features discoverable by, or otherwise accessible by, the device may be established in accord with the device's characteristics. For example, if an audio only device seeks to join an audiovisual based conference, the device may be introduced into the conference as an audio only device where all video functionality is automatically disabled, and more particularly, no attempt is made to send video data to the audio only device. Such intelligent data routing may significantly decrease the bandwidth requirements for the audio only device as well as improve bandwidth or other resource performance for other devices having more burdensome requirements.","In addition to establishing  communication restrictions, communication aggregation  may also be performed. As discussed with respect to  and  below, if multiple devices are engaging in a common task, conventional arrangements typically require each device to individually establish requisite connections while participating in the common task. Common tasks include, for example, streaming audio data, such as music or voice communication, transferring video data such as related to a movie presentation, video conference, video telephone, etc., Voice over IP (VoIP), instant messaging, collaboration applications, and the like. As will be discussed with , significant bandwidth may be wasted in having multiple devices all trying to individually communicate with every other device. Instead of such cross-communication, in various configurations communication aggregation may be performed to simplify communication requirements. In one embodiment, when a common communication nexus such as a gateway, router, firewall, etc. is by several devices to the common task, it may be used to cross-connect devices communicating through it and maintain multiple communication lines on behalf of the devices using the nexus. This thus simplifies the operation of the devices as they need only maintain communication with the nexus, from which the devices will receive the communications from all the other devices. In addition to freeing bandwidth, simplification reduces cost and facilitates home appliance type devices.","Once a device is registered , and restrictions - processed, an association  is recorded between a device and its hardware or other software devices that need to know about the introduction of the device, and monitoring  is performed for new devices being added to the environment. In the illustrated embodiment, a  Application Framework monitors device introductions. In another embodiment, a  registrar  monitors device introductions. As devices are introduced, already registered applications (if any) for the new device are notified when the introduction is complete so that they can engage in data exchanges to provide for automatic configuration of the new device.","In the illustrated embodiment logically processing continues with checking if  there was a new device introduction. If  a new device is not seen, processing loops back with monitoring  for device introductions. The loop  back is shown as a dotted line to suggest that processing might not literally loop directly back since a system implementing the illustrated embodiment may perform other tasks and\/or processes not illustrated before returning to the monitoring . If  a new device was introduced, a check  is performed to determine if it has associated (registered) apps. If  so, those apps are notified  to trigger their responsive action to the introduction, e.g., to configure the device or take some other action. If  there was no new device, or if  there are no associated applications, or after notifying  associated applications, processing loops back to monitoring  for new devices.","By providing automatic applications triggering on device introduction, this reduces the burden on an end user in having to know what software to run to configure the new device to work in an existing network, what order to attempt to utilize the software, how to effectively limit access to the network for guest devices, etc. Similarly, by providing a way to automatically interrogate introduced devices to identify and handle restrictions -, an end user is able to more simply limit device access to the user's network, and also have opportunity to aggregate devices (if possible) to minimize burden and consumption of the user's resources. Note multiple applications may be registered with a device and that priority and\/or execution ordering data may be associated with the applications and\/or restrictions to capture dependencies that may exist between the applications, e.g., to allow designating that one application needs to be run before another, or to limit application access in accord with restrictions.","It will be appreciated various features and functions described herein may be provided by way of an API available for use by a Registrar or other device and\/or software of a particular environment, such as application software illustrated in  items , , in an operating system, or by another application to perform the foregoing operations. In one embodiment, an Expert System with appropriate rule sets may be used by the  Application Framework  to analyze whether existing device configurations can and\/or should be modified in light of new device introduction, such as to take advantage of services now available from the new device. An expert system may also be used to control the execution order of associated applications, if needed, when multiple applications registrations exist for a device.","It will be appreciated device may be introduced in a variety of ways, such as, for example, by activating a wireless transceiver, pressing an \u201cinstall\u201d button or switch, plugging the device in to a bus communicatively coupled with the Application Framework, etc. When the new device is recognized, e.g.,  item , an installation \u201cwizard\u201d may become active on a Registrar and\/or or on a user interface for the new device. In embodiments utilizing an API implementing functions to perform operations described herein, a callback function could be called to trigger execution  of the appropriate application(s). The installation wizard itself would have previously registered  itself for all devices. Once the wizard is active, as needed, it may provide instructions and\/or configuration questions to a user to assist with installing the new device. While in some cases no intervention by the user is required, thus making matters very simple for a user, in other cases, such as when assigning device restrictions, configuring communication aggregation, or introducing a wireless access point, it may respectively be desirable to prompt a user for access rights, aggregation parameters, a SSID (service set identifier) or other personalization data to associate with the new device, etc.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 5","FIG. 5A"],"b":["500","502","506","508","512","514","502","512"]},"Such overhead is especially burdensome in some configurations in which devices participating in a common task, such as a conference, share a common network access, such as a gateway, firewall or other device  as illustrated in . In the  embodiment, all devices - need to establish a communication connection to every other device, however, since several - of the devices are behind a common communication nexus  such as a gateway, firewall, or the like, this device  bears the burden of passing all communication between inner - and outer - devices, which also may result in the nexus  being a bottleneck. Combining related communication and\/or other data transfers may significantly facilitate communication by multiple devices engaging in the common task.","Thus, rather than have multiple devices - operate independently, instead, in one embodiment, when registering\/introducing devices in an environment, e.g., as discussed above with respect to , devices may be evaluated for whether they support functionality that may be aggregated with other devices if such devices are engaged in a common task. For example, as illustrated in the  system  of devices, if devices - all support a particular task, such as conferencing (which includes audio and\/or visual conferencing, data conferencing, etc.), the devices are instructed during registration or introduction to use an aggregation communication mode instead of a conventional communication mode. In the illustrated embodiment, the devices are all communicatively coupled by way of a network  and communicate through a common communication nexus  referred to herein as a such as a Media Gateway Device (MGD). As illustrated the MGD also incorporates the Registrar, e.g.,  item , to which devices are introduced. As will be appreciated a MGD incorporates data handling capabilities of a gateway, firewall, or the like, along with aggregation features (and Registrar features if present) discussed below.","Thus, in contrast with the  configurations having complex communication lines  between devices -, for devices - sharing a MGD or equivalent devices as a common communication nexus, the devices establish individual communication connections - with the MGD , e.g., over their local wired and\/or wireless network . The MGD then establishes connections  as needed to outside (e.g., with respect to local network(s) ) end points -. Note only three connections as illustrated are required for all three internal devices - to communicate with the outside endpoints, and similarly, while the outside devices - require a conventional burdensome communication lines  to communicate with each other, they only need to establish communication with the MGD in order to engage in the common task with the inside end points -. In one embodiment, the outside endpoints are aware of the MGD and hence pursuant to a protocol agreed upon by the endpoints and MGD, each outside endpoint establishes a single communication line  to the MGD, e.g., over the Internet or other network  communicatively coupling the endpoints -, - with the understanding the MGD will convey data as needed to the inside endpoints. In another embodiment, each of the illustrated communication lines  represents three communication lines from each outside endpoint to each inside endpoint, however, each of these routes to the MGD since it remains the common communication nexus for the inside endpoints.","In one embodiment, based on the characteristics of the devices -, the MGD may attempt to establish a more optimal communication for the device as well as for the communication with outside endpoints - through the MGD or other gateway, firewall, router, etc. For example, if device  is an audio-only telephone, even if the telephone attaches to an audiovisual conference, the MGD can automatically strip out video data from other participants to simplify what data  the telephone is required to process. This type of proxying for the telephone also allows the MGD to act as a transcoder to allow incompatible devices to engage in activities not ordinarily supported, such as a video conference on an audio-only device. It will be appreciated that various device characteristics may be determined when registering or introducing a device, such as network interface card (NIC) speed, audio capabilities or associated codecs, video capabilities or associated codecs, screen size, resolution, output abilities, camera specifications, text capabilities, specific application support (Skype\u2122, Instant Messaging, VoIP applications, collaboration applications, etc.), and decisions made regarding aggregation, transcoding, and the like.","Consider a Digital Home scenario in which the MGD  is used to set up conference calls with the outside endpoints - for internal home devices - that wish to join these calls. In this scenario, the MGD also functions as a home media server, and hence is capable of streaming media to endpoint devices in the home. It will be appreciated that the devices may have wired and\/or wireless connections to the MGD. Once devices have been registered and authorized to access resources of the network , the MGD reviews the discovered capabilities of the newly introduced device. It will be appreciated the MGD may directly receive these capabilities if it is collocated with a Registrar, or this information is passed to the MGD (e.g., by way of a push or pull mechanism) after successful registration or introduction of a device. The MGD may also be configured to poll for capabilities responsive to monitored execution of certain applications, e.g., in  application layer , using a device within the environment, such as communication software executed on an endpoint -.","As discussed above with respect to , during registration with a Registrar, the registrant and Registrar exchange cryptographic data so that devices can establish secure communication sessions, e.g., Transport Layer Security (TLS), Internet Protocol Security (IPSec), etc. sessions between themselves and the MGD. In one embodiment, the MGD sets up a conference call with outside entities, e.g., between outside endpoints - and inside devices - in the Digital Home. In the illustrated embodiment there is a single MGD; it will be appreciated there may be multiple MGDs each communicatively coupled so as to tie together multiple sub-networks of devices. Logically, multiple MGDs, if present, may operate as a single MGD. In the illustrated embodiment, each device sets up a session with the MGD, which in turn multiplexes all media streams and sends them to the outside devices participating in the common communication task, e.g., the conference call.","In one embodiment, once the common communication task is established for one of the devices through the MGD, other devices may choose to participate as well through the MGD. When another device enters the call, the MGD uses the device capability information provided and\/or discovered when the device joined the network, e.g., during registration or introduction, to mediate the media traffic, determine what data ad\/or media streams get sent to particular devices, and transcode or otherwise scale data, such as to reduce high resolution images for small screen sizes, such as for a cell phone or to remove the video entirely, to reduce audio bitrates, etc. A more powerful device such as a desktop or laptop computer engaging in the common communication task will, however, receive complete media streams since such devices are able to support higher capabilities. In one embodiment, the MGD functions as a multiplexer\/de-multiplexer for the endpoint communications. In one embodiment, the MGD collates incoming streams from devices - and sends them out as a single stream to an outside endpoint -. Similarly, in this embodiment, the MGD receives data for the common communication task from each of the outside endpoints and combines them into a single data stream provided to each of the inside endpoints.","In some embodiments, for shared tasks such as the conference example discussed above, it may be important to be able to establish secure connections between participants to prevent eavesdropping on the conference, as well as to enable each party to be confident of the authenticity of other parties in the conference. It will be appreciated such security information can be established during registration or introduction of devices and shared with other conference participants. In particular, in one embodiment, the Registrar (or MGD incorporating the Registrar) receiving device registration acts as a local Certificate Authority (CA) and hence may act as an authority as to the identity of devices within an environment thus allowing devices within the environment to validate the identity of other devices as desired. It will be appreciated conference participants or other endpoints may establish trust relationships with the MGD and indirectly establish trust with other conference participants or endpoints based at least in part on knowledge the other participants or endpoints have similarly established trust relationships with the MGD.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 7"},"Typically, the environment includes a machine  that includes a system bus  to which is attached processors , a memory , e.g., random access memory (RAM), read-only memory (ROM), or other state preserving medium, storage devices , a video interface , and input\/output interface ports . The machine may be controlled, at least in part, by input from conventional input devices, such as keyboards, mice, etc., as well as by directives received from another machine, interaction with a virtual reality (VR) environment, biometric feedback, or other input source or signal.","The machine may include embedded controllers, such as programmable or non-programmable logic devices or arrays, Application Specific Integrated Circuits, embedded computers, smart cards, and the like. The machine may utilize one or more connections to one or more remote machines , , such as through a network interface , modem , or other communicative coupling. Machines may be interconnected by way of a physical and\/or logical network , such as the network  of , an intranet, the Internet, local area networks, and wide area networks. One skilled in the art will appreciated that communication with network  may utilize various wired and\/or wireless short range or long range carriers and protocols, including radio frequency (RF), satellite, microwave, Institute of Electrical and Electronics Engineers (IEEE) 802.11, Bluetooth, optical, infrared, cable, laser, etc.","The invention may be described by reference to or in conjunction with associated data such as functions, procedures, data structures, application programs, etc. which when accessed by a machine results in the machine performing tasks or defining abstract data types or low-level hardware contexts. Associated data may be stored in, for example, volatile and\/or non-volatile memory , or in storage devices  and\/or associated storage media, including conventional hard-drives, floppy-disks, optical storage, tapes, flash memory, memory sticks, digital video disks, etc., as well as more exotic mediums such as machine-accessible biological state preserving storage. Associated data may be delivered over transmission environments, including network , in the form of packets, serial data, parallel data, propagated signals, etc., and may be used in a compressed or encrypted format. Associated data may be used in a distributed environment, and stored locally and\/or remotely for access by single or multi-processor machines. Associated data may be used by or in conjunction with embedded controllers; hence in the claims that follow, the term \u201clogic\u201d is intended to refer generally to possible combinations of associated data and\/or embedded controllers.","Thus, for example, with respect to the illustrated embodiments, assuming machine  embodies the  Registrar, then remote machines ,  may respectively be  Client  and Station . It will be appreciated that remote machines ,  may be configured like machine , and therefore include many or all of the elements discussed for machine.","Having described and illustrated the principles of the invention with reference to illustrated embodiments, it will be recognized that the illustrated embodiments can be modified in arrangement and detail without departing from such principles. And, though the foregoing discussion has focused on particular embodiments, other configurations are contemplated. In particular, even though expressions such as \u201cin one embodiment,\u201d \u201cin another embodiment,\u201d or the like are used herein, these phrases are meant to generally reference embodiment possibilities, and are not intended to limit the invention to particular embodiment configurations. As used herein, these terms may reference the same or different embodiments that are combinable into other embodiments.","Consequently, in view of the wide variety of permutations to the embodiments described herein, this detailed description is intended to be illustrative only, and should not be taken as limiting the scope of the invention. What is claimed as the invention, therefore, is all such modifications as may come within the scope and spirit of the following claims and equivalents thereto."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The features and advantages of the present invention will become apparent from the following detailed description of the present invention in which:",{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
