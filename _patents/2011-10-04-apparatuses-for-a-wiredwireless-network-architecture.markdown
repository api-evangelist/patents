---
title: Apparatuses for a wired/wireless network architecture
abstract: In some embodiments, an apparatus comprises a core network node and a control module within an enterprise network architecture. The core network node is configured to be operatively coupled to a set of wired network nodes and a set of wireless network nodes. The core network node is configured to receive a first tunneled packet associated with a first session from a wired network node from the set of wired network nodes. The core network node is configured to also receive a second tunneled packet associated with a second session from a wireless network node from the set of wireless network nodes through intervening wired network nodes from the set of wired network nodes. The control module is operatively coupled to the core network node. The control module is configured to manage the first session and the second session.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09407457&OS=09407457&RS=09407457
owner: JUNIPER NETWORKS, INC.
number: 09407457
owner_city: Sunnyvale
owner_country: US
publication_date: 20111004
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This application is related to U.S. patent application Ser. No. 13\/252,856, filed Oct. 4, 2011 (now U.S. Pat. No. 8,804,620), and entitled \u201cMethods and Apparatus for Enforcing a Common User Policy within a Network;\u201d U.S. patent application Ser. No. 13\/252,860, filed Oct. 4, 2011, and entitled \u201cMethods and Apparatus for Centralized Management of Access and Aggregation network Infrastructure;\u201d U.S. patent application Ser. No. 13\/252,857, filed Oct. 4, 2011 (now U.S. Pat. No. 9,118,687), and entitled \u201cMethods and Apparatus for a Scalable Network with Efficient Link Utilization,\u201d U.S. patent application Ser. No. 13\/252,854, filed Oct. 4, 2011, and entitled \u201cMethods and Apparatus for a Self-organized Layer-2 Enterprise Network Architecture,\u201d each of which is incorporated herein by reference in its entirety.","Some embodiments described herein relate generally to enterprise networks, and, in particular, to methods and apparatus for converging wired and wireless networks into one unified enterprise network architecture.","Some known enterprise networks manage wired sessions and wireless sessions separately, which leads to wired traffic and wireless traffic being forwarded separately in the enterprise network. The separation of wired and wireless traffic, however, results in inefficiencies and increased complexity in the enterprise network, such as user-based policy applications and services being duplicated for the wired and wireless networks. Also, maintaining consistency between user policies across the wired and wireless networks is a challenge.","Some other known enterprise networks handle wired and wireless traffic together by converting packets of wireless sessions (e.g., IEEE 802.11 packets) to packets of wired sessions (e.g., Ethernet packets) at wireless access points before transmitting them to access switches. Although the converting method results in a unified data path for a portion of the wired traffic and the wireless traffic, it does not provide converged policy enforcement or services for wired and wireless clients of the enterprise network.","Accordingly, a need exists for a converged wired\/wireless enterprise network architecture with access to information and services based on a user identity.","In some embodiments, an apparatus comprises a core network node and a control module within an enterprise network architecture. The core network node is configured to be operatively coupled to a set of wired network nodes and a set of wireless network nodes. The core network node is configured to receive a first tunneled packet associated with a first session from a wired network node from the set of wired network nodes. The core network node is configured to also receive a second tunneled packet associated with a second session from a wireless network node from the set of wireless network nodes through intervening wired network nodes from the set of wired network nodes. The control module is operatively coupled to the core network node. The control module is configured to manage the first session and the second session as well as the set of wired network nodes and the set of wireless network nodes.","In some embodiments, an enterprise network includes a core network node and a control module. The core network node is operatively coupled to a set of wired network nodes including one or more aggregation network nodes and one or more access network nodes, and a set of wireless network nodes including one or more access points. The core network node is configured to receive a first tunneled packet associated with a wired session from a wired network node (e.g., an access network node) from the set of wired network nodes. The wired session is associated with a user or a user communication device at a first time. The wired session is associated with a subnet identifier. The core network node is also configured to receive a second tunneled packet associated with a wireless session from a wireless network node from the set of wireless network nodes through intervening wired network nodes from the set of wired network nodes. The wireless session is associated with the same user or the same user communication device as the wired session at a second time. The wireless session is associated with the same subnet identifier as the wired session. The control module is operatively coupled to the core network node. The control module is configured to manage both the wired session and the wireless session, as well as the set of wired network nodes and the set of wireless network nodes. The control module is configured to apply a common user policy to the wired session and the wireless session. In some embodiments, the first tunneled packet and the second tunneled packet each is an Ethernet packet that is tunneled according to a layer-3 tunneling protocol or the Multiprotocol Label Switching (MPLS) protocol.","In some embodiments, an enterprise network includes an access point configured to be operatively coupled to a wireless communication device and a core network node that is operatively coupled to a set of wired network nodes (e.g., aggregation network nodes, access network nodes). The access point is configured to forward a tunneled packet associated with a wireless session from the wireless communication device to the core network node. The tunneled packet is tunneled according to a layer-3 tunneling protocol or the MPLS protocol. The wireless session is associated with a user or a user communication device at a time. A control module of the core network node manages the wireless session and a wired session associated with at least one wired network node from the set of wired network nodes. The wired session is associated with the same user or the same user communication device as the wireless session, at a different time. The control module is configured to apply a common user policy to the wired session and the wireless session.","In some embodiments, an enterprise network includes a wired network node configured to be operatively coupled to a wireless access point that is operatively coupled to a wireless communication device and to a core network node. The wired network node is configured to send to the core network node a tunneled packet associated with a wireless session and associated with a packet received from the wireless access point. The wireless session is associated with a user or a user communication device at a time. The wired network node is configured to send a tunneled packet associated with a wired session to the core network node. A control module of the core network node manages the wireless session and a wired session associated with at least one wired network node from a set of wired network nodes. The control module also manages the set of wired network nodes and the set of wireless network nodes. The wired session is associated with the same user or the same user communication device as the wireless session at a different time. The control module is configured to apply a common user policy to the wired session and the wireless session.","In some embodiments, the wired network node can be an access network node or an aggregation network node. When the wired network node is an access network node, the access network node is configured to send the tunneled packet associated with the wireless session and the tunneled packet associated with the wired session to the core network node through an intervening aggregation network node. In some embodiments, the access network node is configured to receive the packet associated with the wireless session from the wireless access point, and the packet associated with the wireless session is tunneled between the access network node and the core network node. In some other embodiments, the access network node is configured to receive the tunneled packet associated with the wireless session from the wireless access point, and the tunneled packet associated with the wireless session is forwarded between the wireless access point and the core network node. In some embodiments, the tunneled packet is tunneled according to a layer-3 tunneling protocol or the MPLS protocol.","Note that a given network node may function in the dual role as an access network node and an aggregation network node. When the network node is directly connected to a user communication device (e.g., a wired communication device), the network node can operate as an access network node, for example, establishing a tunnel between the access network node and the core network node. When the network node is indirectly connected to a user communication device through an intervening network node (e.g., an access network node indirectly connected to a wireless communication device through an access point), the network node can operate as an aggregation network node, for example, allowing packets to tunnel through. Thus, it should be understood that while a network node may be referred to as an aggregation network node, an access network node or an access point, these network nodes may function as another type of network node depending on the context.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 1","b":["100","151","152","141","144","131","132","121","122","110","181","182","143","142","110","151","152","191","151"]},"A core network node (e.g., core network node , core network node ) can be a high-capacity switching device positioned in the physical core, or backbone, of an enterprise network (e.g., overlay enterprise network ). In some cases, a core network node is known as a core switch, a tandem switch or a backbone switch. In overlay enterprise network , core network node  and core network node  are configured to connect the access devices (e.g., access network node -, access point -) and WLAN controller  with network , such that access to information services (e.g., persistent data and applications) located at network  can be provided to users that are coupled to overlay enterprise network  via wired or wireless communication devices (e.g., wired communication device , wired communication device , wireless communication device ). Specifically, core network node  and core network node  operatively connect aggregation network node  and aggregation network node  with network , and forward packets of wired and\/or wireless sessions between aggregation network node , aggregation network node  and network  based on IP routing services. In other words, core network node  and core network node  act as a router working in layer 3 (i.e., network layer) of the OSI (open systems interconnection) model for overlay enterprise network . In overlay enterprise network , the access network nodes manage the wired sessions, core network nodes are configured to switch or route wired sessions' traffic received from the aggregation network node(s), while wireless sessions are managed by WLAN controller , as described in detail below.","Shown in , network  can be any network that is directly connected to overlay enterprise network  through one or more core network nodes. For example, network  can be a data center network including one or more data servers that provide information services. For another example, network  can be a WAN (wide area network) access network that is used to connect overlay enterprise network  to remote data resources. For yet another example, network  can be the Internet. Typically, overlay enterprise network  acts as an access network providing, for wired or wireless clients, access to data resources, applications, and information services that are located at or provided from network .","In overlay enterprise network , the access network nodes (e.g., access network node -) can be any device that can directly connect one or more wired communication devices (e.g., wired communication device , wired communication device ) to overlay enterprise network , such as a hub, an Ethernet switch, etc. In some cases, an access network node is known as an access switch, a network switch, or a switching hub. Furthermore, as described in detail herein, access network node - is configured to ensure packets are delivered between one or more aggregation network nodes, one or more wired communication devices, and\/or one or more access points that are coupled to the access network nodes. In overlay enterprise network , a wired communication device can be any device that can receive packets from and\/or send packets to an access network node through a wired connection, such as a desktop computer, a workstation, a printer, etc.","In overlay enterprise network , the aggregation network nodes (e.g., aggregation network node -) can be any device that is used to aggregate multiple access network nodes and ensure packets are properly switched or routed within the network, such as a router, a layer-3 switch, etc. Furthermore, as described in detail herein, aggregation network node - is configured to route packets received from one or more access network nodes to another access network node or a core network node, based on the routing information provided in the packet and the routing policy implemented at aggregation network node -. In some embodiments, a collection of aggregation network nodes and associated access devices (e.g., access network nodes, access points) having a common connection to a redundant set of core network nodes are referred to as a pod. As shown in , aggregation network nodes - with their associated access network nodes - and access points - comprise a pod.","In overlay enterprise network , core network node -, aggregation network node -, and access network node - are configured collectively to manage and forward wired traffic for one or more wired communication devices that are operatively coupled to one or more access network nodes. Wired network nodes including access network nodes - and aggregation network nodes - are configured to switch or route packets of a wired session that are received from a wired communication device, to another wired network node or a core network node, based on a destination address (e.g., a destination IP address, a destination MAC address) included in the packets. More specifically, some wired traffic that is received at an aggregation network node from an access network node may be switched or routed to another access network node from the aggregation network node if the traffic is destined to a destination device within the same pod. In contrast, the wired traffic destined to a destination device located in another pod is forwarded to a core network node, from which the traffic is forwarded into the other pod. For example, if wired communication device  sends a packet to access network node  destined to wired communication device , the packet can be first forwarded by access network node  to aggregation network node . Then, based on the destination IP address or MAC address included in the packet, the packet is further forwarded by aggregation network node  to access network node , which finally sends the packet to wired communication device . For another example, if wired communication device  sends a packet to access network node  destined to a device located in network , the packet can be first forwarded by access network node  to aggregation network node . Then, based on the destination IP address or MAC address included in the packet, the packet is further forwarded by aggregation network node  to core network node , which sends the packet into network  for further routing.","In overlay enterprise network , wireless equipment, including WLAN controller  and access points -, forward wireless traffic that is received from one or more wireless communication devices (e.g., wireless communication device ). Specifically, WLAN controller  can be any device that can automatically handle the configuration of multiple access points, and act as a centralized controller configured to manage wireless sessions in an overlay of the wired network portion of overlay enterprise network . An access point can be any device that connects a wireless communication device to a wired network (e.g., via an access network node as shown in ) using, for example, WI-FI\u00ae, BLUETOOTH\u00ae, or other wireless communication standards. In some cases, an access point can be located on the same device together with an access network node, such as a wireless Ethernet router equipped with a wireless transceiver. In some other cases, an access point can be a stand-alone device, such as a wireless access point (WAP). Similar to a wired communication device, a wireless communication device can be any device that can receive packets from and\/or send packets to an access point through a wireless connection, such as, for example, a mobile phone, a WI-FI\u00ae, enabled laptop, a BLUETOOTH\u00ae, earphone, etc.","In overlay enterprise network , WLAN controller  and access points - are configured collectively to manage and forward wireless traffic through intervening wired network nodes and core network nodes. Specifically, WLAN controller  is configured to receive encapsulated packets of a wireless session from access point  or access point  via a layer-3 tunnel through intervening wired network nodes and core network nodes, decapsulate the packets, and then bridge the decapsulated packets to core network node  or core network node , from which the decapsulated packets are further forwarded to the destination. Similarly, WLAN controller  is configured to receive packets of the wireless session from core network node  or core network node  destined to access point  or access point , encapsulate the packets according to a layer-3 tunneling protocol, and then send the encapsulated packets to access point  or access point  via a layer-3 tunnel through intervening wired network nodes and core network nodes, where the encapsulated packets are decapsulated and forwarded to a wireless communication device.","In some cases, a layer-3 tunnel can be an Ethernet over layer-3 tunnel, such as a CAPWAP (control and provisioning of wireless access points) tunnel, an Ethernet-in-GRE (generic routing encapsulation) tunnel, etc. For example, if wireless communication device  sends a packet to access point  destined to wired communication device , the packet is first encapsulated according to a layer-3 tunneling protocol such as CAPWAP or Ethernet-in-GRE, and then transmitted to WLAN controller  through access network node , aggregation network node , and core network node  (shown as the tunnel represented by  in ). Next, the encapsulated packet is decapsulated at WLAN controller  according to the same layer-3 tunneling protocol, and transmitted back to core network node  based on the destination IP address or MAC address. Finally, the packet is forwarded by core network node , aggregation network node , and access network node , based on the destination IP address or MAC address, to wired communication device . For another example, if wireless communication device  sends a packet to access point  destined to an IP address or MAC address located in network , the packet is first encapsulated according to a layer-3 tunneling protocol such as CAPWAP or Ethernet-in-GRE, and then transmitted to WLAN controller  through access network node , aggregation network node , and core network node  (shown as the tunnel represented by  in ). Next, the encapsulated packet is decapsulated at WLAN controller  according to the same tunneling protocol, and transmitted to core network node  based on the destination IP address or MAC address. Finally, the packet is forwarded by core network node  to network  based on the destination IP address or MAC address, and further delivered to the entity associated with the destination IP address or MAC address in network .","In overlay enterprise network , an access control policy (e.g., to network resources, to specific IP addresses) for users is individually maintained, configured, and enforced at wired network nodes and wireless network nodes, including aggregation network nodes, access network nodes, and access points. Furthermore, policy enforcement implemented at wired network nodes and\/or wireless network nodes is dependent on each individual wired network node and\/or wireless network node, and can be different from one node to another node. For example, an access control policy is enforced separately at access network node  and access point , such that packets destined to a specific IP address or MAC address in network  that are received at access network node  (e.g., from wired communication device ) from a user cannot be forwarded by access network node ; while packets destined to the same IP address or MAC address that are received at access point  (e.g., from wireless communication device ) from the same user can be forwarded by access point . Thus, the user can connect to an entity associated with the specific IP address or MAC address in network  via wireless communication device , which is operatively coupled to access point , but may not be connected to the entity associated with the same IP address or MAC address via wired communication device , which is operatively coupled to access network node .","In some cases, IP addresses assigned to wired and wireless clients that are connected to overlay enterprise network  are provided from different subnets. Thus, the subnet identifier of the IP addresses assigned to wired communication devices connected to overlay enterprise network  is different from the subnet identifier of the IP addresses assigned to wireless communication devices connected to overlay enterprise network . For example, if the IP addresses assigned to wired communication devices connected to overlay enterprise network  are from a class-C group of IP addresses 192.168.120.x, while the IP addresses assigned to wireless communication devices connected to overlay enterprise network  are from another class-C group of IP addresses 192.168.10.x, then wired communication device  and wired communication device  are associated with the same subnet identifier (e.g., a network prefix) of 192.168.120.0, which is different from the subnet identifier for wireless communication device , i.e., 192.168.10.0.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 2","FIG. 1"],"b":["200","251","252","241","244","231","232","221","222","281","243","200","251","252","291","251","200","101","201","200","221","222","200","201"]},"In an enterprise network, if every network device included in the enterprise network or a portion of the enterprise network can be controlled by one or more core network nodes, then that enterprise network can be referred to as a homogeneous enterprise network, or that portion of the enterprise network can be referred to as a homogeneous portion of the enterprise network. In such a homogeneous network or portion of the network it is possible to use MPLS tunneling technology to tunnel traffic (e.g., wired or wireless traffic). If not every network node included in a portion of the enterprise network can be controlled by one or more core network nodes, then that portion of the enterprise network is referred to as an overlay enterprise network portion. Furthermore, an enterprise network including both a homogeneous portion and an overlay portion can be referred to as a heterogeneous enterprise network. Additionally, in some embodiments, one or more network devices included in a homogeneous portion or an overlay enterprise network portion of an enterprise network can tunnel traffic using a layer-3 tunneling technology (e.g., CAPWAP, Ethernet-in-GRE). MPLS tunneling technology can be used only in the homogeneous portion.","In a homogeneous enterprise network, a common tunneling technology can be used to forward both the wired traffic and the wireless traffic in any portion of the homogeneous enterprise network. For example, as described in detail herein, the MPLS tunneling technology or a layer-3 tunneling technology can be used to forward both the wired traffic and the wireless traffic in any portion of the homogeneous enterprise network . In contrast, as described above with respect to , in an overlay enterprise network (e.g., overlay enterprise network ) a layer-3 tunneling technology can be used to forward the wireless traffic in the wireless overlay portion of the overlay enterprise network, while typically no tunneling technology (e.g., a layer-3 tunneling technology, the MPLS tunneling technology) is used to forward the wired traffic in the overlay enterprise network. On the other hand, in a heterogeneous enterprise network, different tunneling technologies may be used to forward wired or wireless traffic in different portions of the heterogeneous enterprise network, depending on the capabilities of network devices in specific portions of the heterogeneous enterprise network. For example, as described in detail with respect to , the MPLS tunneling technology or a layer-3 tunneling technology can be used to forward both the wired traffic and the wireless traffic in a homogeneous portion of the heterogeneous enterprise network . A layer-3 tunneling technology (e.g., CAPWAP, Ethernet-in-GRE), but not the MPLS tunneling technology, can be used to forward the wireless traffic in an overlay enterprise network portion of the heterogeneous enterprise network . A layer-3 tunneling technology or no tunneling technology can be used to forward the wired traffic in the overlay enterprise network portion of the heterogeneous enterprise network  depending on the capabilities of the wired network nodes (e.g., core network nodes, aggregation network nodes, access network nodes) in the overlay enterprise network portion of the heterogeneous enterprise network .","A core network node in a homogeneous enterprise network (e.g., core network node  or core network node  in the homogeneous enterprise network ) can be, for example, upgraded from a core network node in an overlay enterprise network (e.g., core network node  or core network node  in overlay enterprise network ). In such an upgrade, the core network node in a homogeneous enterprise network (e.g., core network node , core network node ) is a single device that combines for example a switch, a router, and a controller, which includes a control module (e.g., control module  for core network node  as shown in ) configured to manage wired\/wireless network nodes and\/or wired\/wireless user sessions. In other words, core network node ,  is a consolidation of at least a WLAN controller (e.g., WLAN controller ) and a core network node from an overlay enterprise network. On one hand, similar to a core network node from an overlay enterprise network, core network node ,  is still able to forward packets of wired sessions between an aggregation network node and a network that is operatively coupled to core network node , . On the other hand, unlike a core network node within an overlay enterprise network, core network node ,  can establish a wired session with an access network node, or establish a wireless session with an access point, through intervening wired network nodes, via a tunnel (e.g., the MPLS tunnel, a layer-3 tunnel). Detail on tunneling of session data between a core network node and an access network node and\/or an access point within a homogeneous enterprise network is described below. In some embodiments, a core network node in a homogeneous enterprise network is referred to as a core SRC (switch, router, and controller).","Similar to core network nodes -, all other devices in the homogeneous enterprise network , including aggregation network node -, access network node -, and access point -, can be configured to operate in a homogeneous enterprise network. Specifically, the functionality of access network node - and aggregation network node - includes multiplexing client traffic, including packets of wired and wireless sessions, to core network node  or core network node  without any need for local switching or complex forwarding and classification functionality. For example, unlike aggregation network nodes - in overlay enterprise network , aggregation network node  does not need to be configured to switch or route a packet received from access network node  to another access network node based on a destination address included in the packet. Instead, aggregation network node  can be configured to forward the packet, through a portion of a tunnel between access network node  and core network node  (shown as the tunnel represented by  in ), to core network node , from which the packet is further switched or routed to the destination. Similarly stated, access network nodes - are configured to transmit wired traffic to core network node  or core network node  via a tunnel (e.g., the tunnel represented by  in ) through intervening aggregation network nodes -. Access points - are configured to transmit wireless traffic to core network node  or core network node  via a tunnel (e.g., a tunnel represented by  in ) through intervening access network nodes and aggregation network nodes.","In an enterprise network, the tunneling technology applied between a core network node and an access device (e.g., an access network node, an access point) depends on the nature and\/or capabilities of the core network node, the access device, and the intermediate network device(s) (e.g., aggregation network node) present between the core network node and the access device. Specifically, in an overlay enterprise network (e.g., overlay enterprise network ), typically no tunneling protocol can be used between a core network node and an access device. In a homogeneous enterprise network (e.g., homogeneous enterprise network ), a tunneling protocol such as MPLS or a layer-3 tunneling protocol can be used. In a heterogeneous enterprise network (e.g., the heterogeneous enterprise network  shown in ), a tunneling protocol such as MPLS or a layer-3 tunneling protocol can be used in the homogenous portion of the heterogeneous enterprise network, while a layer-3 tunneling protocol or no tunneling protocol can be used in the overlay enterprise network portion of the heterogeneous enterprise network.","For example, if wireless communication device  sends a packet to access point  destined to wired communication device , the packet is first encapsulated according to MPLS or a layer-3 tunneling protocol (e.g., CAPWAP, Ethernet-in-GRE) at access point , and then transmitted to core network node  via a MPLS tunnel or a layer-3 tunnel through access network node  and aggregation network node  (shown as the tunnel represented by  in ). Next, the encapsulated packet is decapsulated according to MPLS or the layer-3 tunneling protocol at core network node . Then based on a destination IP address or a destination MAC address included in the packet, the packet is encapsulated again according to MPLS or a layer-3 tunneling protocol at core network node , and the encapsulated packet is forwarded by core network node  to access network node  via another MPLS tunnel or another layer-3 tunnel through aggregation network node  (shown as the tunnel represented by  in ). Finally, the encapsulated packet is decapsulated according to MPLS or the layer-3 tunneling protocol at access network node , from which the decapsulated packet is delivered to wired communication device .","For another example, if wired communication device  sends a packet to access network node  destined to an IP address located in network , the packet is first encapsulated according to MPLS or a layer-3 tunneling protocol at access network node , and then transmitted to core network node  via a MPLS tunnel or a layer-3 tunnel through aggregation network node  (shown as the tunnel represented by  in ). Next, the encapsulated packet is decapsulated according to MPLS or the layer-3 tunneling protocol at core network node . Finally, based on a destination IP address included in the packet, the decapsulated packet is forwarded by core network node  to network , and further delivered to the destination entity associated with the destination IP address in network .","In the homogeneous enterprise network , unlike in overlay enterprise network , wired network nodes and wireless network nodes are no longer individually configured and managed. In particular, the access control policy for a given user (e.g., to network resources, to specific IP addresses) is no longer individually maintained, configured, and enforced at each aggregation network node, access network node, or access point. Instead, a common user policy for a given user is maintained and configured at one or more core network nodes, and applied automatically by the enterprise network at an access network node or an access point as needed, depending on where and how the user connects to the network. More specifically, down-link policy enforcement can be centralized at core network nodes, where for example, a complete view of all user traffic is available for monitoring and policing. In contrast, most up-link policies can be downloaded to and enforced at access devices (e.g., access network nodes, access points) to avoid wasting bandwidth in the enterprise network.","For example, as shown in , a common user policy for a user is maintained and configured at core network nodes - of the homogeneous enterprise network . Specifically, down-link policies for all users that are connected or potentially connected to the homogeneous enterprise network , including users accessing through wireless communication device  and wired communication device , are maintained in a policy table stored in core network node  and\/or core network node , and enforced at the core network nodes. On the other hand, up-link policies for users accessing the homogeneous enterprise network  through wireless communication device  and wired communication device  are downloaded to and enforced at access point  and access network node , respectively, after the users are connected to the access devices.","In some embodiments, maintaining and configuring a common user policy at one or more core network nodes of a homogeneous enterprise network enables a user policy, including an up-link policy and a down-link policy, to be enforced solely dependent on the user, regardless of the access method (e.g., via a wired connection, via a wireless connection) adopted by the user. In other words, the same user policy is applied to a user when the user accesses the homogeneous enterprise network through different access devices (e.g., an access point, an access network node) and\/or via different types of connections (e.g., a wired connection, a wireless connection). In some embodiments, a user can be identified by a homogeneous enterprise network using a unique combination of a user ID and a password. For example, as shown in , a user using wireless communication device  accesses access point  by providing a combination of a user ID and a password, and then is engaged in a wireless session at a first time. As a result, an up-link policy for the user is applied at access point  and a down-link policy for the user is applied at core network node . Note that access network node  and aggregation network node  need not have the up-link policy for the user because access point  tunnels through access network node  and aggregation network node  to reach core network node . At a second time, the same user using wired communication device  accesses access network node  by providing the same combination of the user ID and the password, and then is engaged in a wired session. As a result, again, the same up-link policy for the user is applied at access network node  and the same down-link policy for the user is applied at core network node . Note that aggregation network node  need not have the up-link policy for the user because access network node  tunnels through aggregation network node  to reach core network node .","In some embodiments, a common user policy can be enforced solely dependent on the user communication device (e.g., a wired communication device, a wireless communication device) used by a user, regardless of the access method adopted by the user. In other words, the same user policy can be applied to a user communication device when the user communication device is connected to the homogeneous enterprise network through different access devices and\/or via different types of connections. In some embodiments, a user communication device can be identified by a homogeneous enterprise network using a unique identifier associated with the user communication device, such as a MAC address. For example, as shown in , a user communication device (e.g., a WI-FI\u00ae enabled laptop) is connected to access point  and recognized by its MAC address, and then is engaged in a wireless session at a first time. As a result, an up-link policy for the user communication device is applied at access point  and a down-link policy for the user communication device is applied at core network node . At a second time, the same user communication device is connected to access network node  and recognized by its MAC address again, and then is engaged in a wired session. As a result, again, the same up-link policy for the user communication device is applied at access network node  and the same down-link policy for the user communication device is applied at core network node . More detail related to a common policy infrastructure for a homogeneous enterprise network is set forth in U.S. patent application Ser. No. 13\/252,856, filed Oct. 4, 2011, entitled, \u201cMethods and Apparatus for Enforcing a Common User Policy within a Network,\u201d which is incorporated herein by reference in its entirety.","In some embodiments, IP addresses assigned to wired and wireless clients that are connected to a homogeneous enterprise network are provided from a common subnet. Thus, the subnet identifier of the IP addresses assigned to wired communication devices connected to the homogeneous enterprise network is the same as the subnet identifier of the IP addresses assigned to wireless communication devices connected to the homogeneous enterprise network. For example, as shown in , the IP addresses assigned to wired or wireless communication devices connected to the homogeneous enterprise network  are from a class-C group of IP addresses 192.168.100.x. As a result, wired communication device  and wireless communication device  are associated with the same subnet identifier (e.g., a network prefix) of 192.168.100\/24.","In some embodiments, assigning IP addresses from a common subnet to both wired and wireless communication devices enables an enterprise network to treat clients in the same way regardless of the access method adopted by the clients. With an IP address assigned from a common subnet for both wired and wireless communication devices, a user communication device can seamlessly move between a wired access device (e.g., an access network node) and a wireless access device (e.g., an access point) without being reassigned a new IP address. Furthermore, the associated user session, in which the user communication device is engaged, can seamlessly move between a wired session and a wireless session correspondingly, without being reestablished. For example, as shown in , with an IP address 192.168.100.10 assigned from the class-C group of IP addresses 192.168.100.x, a user communication device (e.g., a WI-FI\u00ae enabled laptop) can seamlessly move from access point  to access network node  without being reassigned a new IP address. In such an example, the user communication device (e.g., a WI-FI\u00ae enabled laptop) can include agent or locally-stored logic (e.g., hardware or software executing on a processor) to communicate with portions of the homogeneous enterprise network . Accordingly, the associated user session can seamlessly move from a wireless session to a wired session without being reestablished.","In some embodiments, a centralized core architecture can provide a single point of configuration and management for services within the enterprise network as well as a single logic node of interaction for visibility and monitoring applications. As a result, various types of service modules can be aggregated and\/or consolidated at one or more core network nodes, such as firewall, intrusion detection policy (IDP), virtual private network (VPN) termination, load balancing, etc. In such a homogeneous enterprise network, services no longer need to be distributed at various levels in the network, and users can be given consistent policy that is independent of their access mechanism, as described in detail above.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":["FIG. 3","FIG. 2","FIG. 3"],"b":["300","251","252","200","300","300","300","322","324","326","328","329","300","300","322","324","329","326","328"]},"In some embodiments, access point  can communicate with a wireless communication device (e.g., a WI-FI\u00ae enabled laptop, a mobile phone) using any suitable wireless communication standard such as, for example, WI-FI\u00ae, BLUETOOTH\u00ae, and\/or the like. Specifically, access point  can be configured to receive data and\/or send data through RF transceiver , when communicating with a wireless communication device. Furthermore, in some embodiments, an access point of an enterprise network uses one wireless communication standard to wirelessly communicate with a wireless communication device operatively coupled to the access point; while another access point of the enterprise network uses a different wireless communication standard to wirelessly communicate with a wireless communication device operatively coupled to the other access point. For example, as shown in , access point  can receive data packets through its RF transceiver from wireless communication device  (e.g., a WI-FI\u00ae enabled laptop) based on the WI-FI\u00ae standard; while access point  can send data packets from its RF transceiver to another wireless communication device (e.g., a BLUETOOTH\u00ae-enabled mobile phone) (not shown in ) based on the BLUETOOTH\u00ae standard.","In some embodiments, access point  can be operatively coupled to an access network node by implementing a wired connection between communications interface  and the counterpart (e.g., a communications interface) of the access network node. The wired connection can be, for example, twisted-pair electrical signaling via electrical cables, fiber-optic signaling via fiber-optic cables, and\/or the like. As such, access point  can be configured to receive data and\/or send data through communications interface , which is connected with the communications interface of an access network node, when access point  is communicating with the access network node. Furthermore, in some embodiments, an access point of an enterprise network implements a wired connection with an access network node operatively coupled to the access point; while another access point of the enterprise network implements a different wired connection with an access network node operatively coupled to the other access point. For example, as shown in , access point  can implement one wired connection such as twisted-pair electrical signaling to connect with access network node ; while access point  can implement a different wired connection such as fiber-optic signaling to connect with access network node .","Although not explicitly shown in , it should be understood that an access point  can be connected to one or more other access points, which in turn, can be coupled to yet one or more other access points. In such an embodiment, the collection of interconnected access points can define a wireless mesh network within the homogenous enterprise network . In such an embodiment, the communications interface  of access point  can be used to implement a wireless connection(s) to the counterpart (e.g., a communications interface) of another access point(s). As such, access point  can be configured to receive data and\/or send data through communications interface , which is connected with the communications interface of another access point, when access point  is communicating with that access point.","In some embodiments, as described with respect to , access point  can be configured to prepare a packet (e.g., a data packet, a control packet) received from a wireless communication device operatively coupled to access point , and send the packet to another network device such as a core network node via a tunnel (e.g., a layer-3 tunnel, a MPLS tunnel). Access point  can also be configured to decapsulate a packet received via a tunnel from another network device such as a core network node, before forwarding the decapsulated packet to a wireless communication device operatively coupled to access point . Specifically, upon receiving a packet from a wireless communication device operatively coupled to access point , tunnel module  is configured to encapsulate the packet (e.g., add a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to a predetermined tunneling protocol (e.g., CAPWAP, Ethernet-in-GRE, MPLS). The encapsulated packet is then sent through communications interface  to an access network node connected to access point , from which the encapsulated packet is forwarded along the tunnel to a network device at the end of the tunnel. On the other hand, upon receiving a packet from an access network node connected to access point  that is sent through a tunnel from a network device, tunnel module  is configured to decapsulate the packet (e.g., remove a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to a predetermined tunneling protocol (e.g., CAPWAP, Ethernet-in-GRE, MPLS). The decapsulated packet is then sent by RF transceiver  to a wireless communication device operatively coupled to access point .","In some embodiments, as described with respect to , when the network device (e.g., a core network node) at the end of the tunnel and all the intervening wired network nodes (e.g., access network nodes, aggregation network nodes) are within a homogeneous enterprise network or a homogeneous portion of a heterogeneous enterprise network, tunnel module  can be configured to encapsulate or decapsulate a packet according to a tunneling protocol such as MPLS or a layer-3 tunneling protocol. In such embodiments, access point  can be configured to send a packet to and\/or receive a packet from a core network node via a tunnel such as a MPLS tunnel or a layer-3 tunnel through intervening wired network nodes. In some other embodiments, as described below with respect to , when one or more of the network devices at the end of the tunnel and intervening wired network nodes are within an overlay enterprise network portion of a heterogeneous enterprise network, tunnel module  may be configured to encapsulate or decapsulate a packet, for example, according to a layer-3 tunneling protocol (e.g., CAPWAP, Ethernet-in-GRE). In such embodiments, access point  may be configured to send a packet to and\/or receive a packet from a core network node via a layer-3 tunnel through the intervening wired network nodes.","In some embodiments, as described with respect to , access point  can be configured to implement an up-link policy for one or more users and\/or for one or more user communication devices that are operatively coupled to access point . Specifically, after a user communication device associated with a user is operatively coupled to access point , an up-link policy associated with the user and\/or the user communication device is downloaded from a core network node to access point , and stored in memory . Processor  is configured to apply the up-link policy stored in memory  to control forwarding packets received from the user communication device. Specifically, processor  is configured to forward packets received from the user and\/or the user communication device to the access network node connected to access point , if such a forwarding is allowed by the up-link policy associated with the user and\/or the user communication device, or drop the packets if such a forwarding is denied by the up-link policy associated with the user and\/or the user communication device.","In some embodiments, memory  can be, for example, a random-access memory (RAM) (e.g., a dynamic RAM, a static RAM), a flash memory, a removable memory, and\/or so forth. In some embodiments, data other than up-link policies that is related to operations of access point  can also be stored in memory . For example, MAC addresses of potential user communication devices can be stored in memory , such that a user communication device can be recognized by access point  upon being operatively coupled to access point . For another example, information associated with tunneling packets to a core network node can be stored in memory , such that establishing a tunnel such as a MPLS tunnel or a layer-3 tunnel with the core network node can be initialized by access point .",{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIG. 4","FIG. 2","FIG. 4"],"b":["400","241","244","200","400","400","400","400","448","444","446","442","400","400","448","442","444","446"]},"In some embodiments, communications interface  of access network node  includes at least two ports (not shown in ) that can be used to implement one or more wired connections between access network node  and one or more access points, wired communication devices, and\/or aggregation network nodes. The wired connection can be, for example, twisted-pair electrical signaling via electrical cables, fiber-optic signaling via fiber-optic cables, and\/or the like. As such, access network node  can be configured to receive data and\/or send data through one or more ports of communications interface , which are connected to the communications interfaces of one or more access points, wired communication devices, and\/or aggregation network nodes. Furthermore, in some embodiments, access network node  can implement a wired connection with one of an access point, a wired communication device, or an aggregation network node that is operatively coupled to access network node  through one port of communications interface , while implementing a different wired connection with another access point, wired communication device, or aggregation network node that is operatively coupled to access network node  through another port of communications interface . For example, as shown in , access network node  can implement one wired connection such as twisted-pair electrical signaling to connect with access point , while implementing a different wired connection such as fiber-optic signaling to connect with aggregation network node .","In some embodiments, as described with respect to  and , access network node  can be one of the intervening wired network nodes between an access point and a core network node, through which a tunnel (e.g., a layer-3 tunnel, a MPLS tunnel) is established between the access point and the core network node. In such embodiments, access network node  can be configured to forward a tunneled packet (e.g., a packet encapsulated according to a layer-3 tunneling protocol, a packet encapsulated according to MPLS). For example, as shown in , access network node  can forward a tunneled packet encapsulated according to MPLS or a layer-3 tunneling protocol, which is received from access point , to aggregation network node  along a MPLS tunnel or a layer-3 tunnel (shown as the tunnel represented by  in ) between access point  and core network node .","In some embodiments, as described with respect to , access network node  can be configured to prepare a packet (e.g., a data packet, a control packet) received from a wired communication device operatively coupled to access network node , and send the packet to another network device such as a core network node via a tunnel (e.g., a tunnel according to a layer-3 tunneling protocol (e.g., Ethernet-in-GRE, CAPWAP, etc.) or the MPLS protocol). Access network node  can also be configured to decapsulate a packet received via a tunnel from another network device such as a core network node, before forwarding the decapsulated packet to a wired communication device operatively coupled to access network node . Specifically, upon receiving a packet from a wired communication device operatively coupled to access network node , tunnel module  is configured to encapsulate the packet (e.g., add a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to the protocol of the tunnel. The encapsulated packet is then sent through a port of communications interface  to an aggregation network node connected to access network node , from which the encapsulated packet is forwarded along the tunnel to a core network node. On the other hand, upon receiving a packet from an aggregation network node connected to access network node  that is sent through a tunnel from a core network node, tunnel module  is configured to decapsulate the packet (e.g., remove a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to the protocol of the tunnel. The decapsulated packet is then sent through a port of communications interface  to a wired communication device operatively coupled to access network node .","In some embodiments, as described with respect to , access network node  can be configured to implement an up-link policy for one or more users and\/or for one or more user communication devices that are operatively coupled to access network node . Specifically, after a user communication device associated with a user is operatively coupled to access network node , an up-link policy associated with the user and\/or the user communication device is downloaded from a core network node to access network node , and stored in memory . Processor  is configured to apply the up-link policy stored in memory  to control forwarding packets received from the user communication device. Specifically, processor  is configured to forward packets received from the user and\/or the user communication device to the aggregation network node connected to access network node , if such a forwarding is allowed by the up-link policy associated with the user and\/or the user communication device, or drop the packets if such a forwarding is denied by the up-link policy associated with the user and\/or the user communication device.","In some embodiments, memory  can be, for example, a random-access memory (RAM) (e.g., a dynamic RAM, a static RAM), a flash memory, a removable memory, and\/or so forth. In some embodiments, data other than up-link policies that is related to operations of access network node  can also be stored in memory . For example, MAC addresses of potential user communication devices can be stored in memory , such that a user communication device can be recognized by access network node  upon being operatively coupled to access network node . For another example, information associated with tunneling packets to a core network node can be stored in memory , such that establishing a MPLS tunnel or a layer-3 tunnel with the core network node can be initialized by access network node .",{"@attributes":{"id":"p-0063","num":"0062"},"figref":["FIG. 5","FIG. 2"],"b":["500","221","222","200","500","500","500","500"]},"As shown in , core network node  includes communications interface , memory , which contains policy table , and processor , which contains tunnel module  and control module . Each operation of communications interface  (e.g., transmit\/receive data), tunnel module  (e.g., encapsulate\/decapsulate packets), and control module  (e.g., manage a user session), as well as each manipulation on policy table  (e.g., modify an entry) or any other portion of memory , are controlled by processor .","In some embodiments, communications interface  of core network node  includes at least two ports (not shown in ) that can be used to implement one or more wired connections between core network node  and one or more aggregation network nodes, one or more access network nodes, other core network nodes, and\/or devices of other networks. The wired connections can be, for example, twisted-pair electrical signaling via electrical cables, fiber-optic signaling via fiber-optic cables, and\/or the like. As such, core network node  can be configured to receive data and\/or send data through one or more ports of communications interface , which are connected with the communications interfaces of one or more aggregation network nodes, one or more access network nodes, other core network nodes, and\/or devices of other networks. Furthermore, in some embodiments, core network node  can implement a wired connection with one of an aggregation network node, an access network node, another core network node, or a device of another network that is operatively coupled to core network node  through one port of communications interface , while implementing a different wired connection with another aggregation network node, access network node, core network node, or device of another network that is operatively coupled to core network node  through another port of communications interface . For example, as shown in , core network node  can implement one wired connection such as twisted-pair electrical signaling to connect with aggregation network node , aggregation  and core network node , while implementing a different wired connection such as fiber-optic signaling to connect with a device of network .","In some embodiments, as described with respect to , core network node  can be configured to prepare a packet (e.g., a data packet, a control packet) to be sent to an access device (e.g., an access point, an access network node) via a tunnel (e.g., a tunnel according to a layer-3 tunneling protocol (e.g., Ethernet-in-GRE, CAPWAP, etc.) or the MPLS protocol). Core network node  can also be configured to receive and decapsulate an encapsulated packet from an access device via a tunnel. Similar to core network nodes in overlay enterprise network  shown in , core network node  can be configured to forward packets to and\/or receive packets from other network devices that are operatively coupled to core network node , including other core network nodes and\/or devices in other networks, without using any tunneling technology. Additionally, core network node  can be configured to forward or drop packets of a user session based on a user policy associated with the user or the user communication device that is stored in policy table . Particularly, control module  of core network node  is configured to manage both wired and wireless user sessions, and apply user policies to forward or drop packets for one or more users and\/or for one or more user communication devices.","More specifically, upon receiving a packet associated with a user session at a port of communications interface  via a tunnel (e.g., a tunnel according to a layer-3 tunneling protocol or the MPLS protocol), tunnel module  is configured to decapsulate the packet (e.g., remove a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to the protocol for that tunnel. Alternatively, core network node  receives a packet associated with a user session at a port of communications interface  from another network device operatively coupled to core network node , such as another core network node or a device in another network. Control module  is then configured to apply a user policy associated with the user or the user communication device, which is stored in policy table , on the received packet. If the user session is allowed by the user policy, control module  is configured to forward the packet. If the user session is denied by the user policy, control module  is configured to drop the packet. If the user session is identified by the user policy as being restricted or otherwise affected by the user policy, control module  is configured to retrieve more information associated with the packet and\/or the user session to make a decision.","To forward the received packet, control module  is configured to check the destination IP address or the destination MAC address included in the packet. If the packet is not destined to a user in a pod that is directly connected to core network node  (e.g., destined to a network device in a pod that is not connected to core network node , destined to a user in another network), control module  is configured to forward the packet, from a port of communications interface , to a network device that is operatively coupled to core network node . For example, control module  can be configured to forward the packet to another core network node operatively coupled to core network node  via a tunnel between the two core network nodes. For another example, control module  can be configured to forward the packet to a network device in another network operatively coupled to core network node  without using any tunneling technology. If the packet is destined to a user in a pod that is directly connected to core network node , tunnel module  is configured to encapsulate the packet (e.g., add a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to the protocol for the tunnel. Meanwhile, control module  is configured to establish a tunnel connecting core network node  to the access device (e.g., an access network node, an access point) that is operatively coupled to the user communication device (if such a tunnel is not established yet). Finally, control module  is configured to send the encapsulated packet, from a port of communications interface , to the access device through the tunnel.","As described with respect to  and shown in , a common user policy for a user is stored in policy table , which is maintained and configured at core network node . Policy table  is located within a portion of memory . In some embodiments, memory  can be, for example, a random-access memory (RAM) (e.g., a dynamic RAM, a static RAM), a flash memory, a removable memory, and\/or so forth. In some embodiments, data other than user policies that is related to operations of core network node  can also be stored in memory . For example, combinations of user IDs and passwords of potential users can be stored in memory , such that the identification of a user can be verified by core network node  upon a user ID and a password entered by the user being provided to core network node . Alternatively, the memory  can store address information for an external server that stores user authentication information (e.g., user IDs and passwords) and related policy. For another example, information associated with tunneling packets to one or more access devices can be stored in memory , such that establishing a MPLS tunnel or a layer-3 tunnel with one of the access devices can be initialized by core network node .",{"@attributes":{"id":"p-0070","num":"0069"},"figref":["FIG. 6","FIG. 6","FIG. 6"],"b":["600","500","600","610","620","630","640","650","610","200","620","630","640","650"]},"In a homogeneous enterprise network or a homogeneous portion of a heterogeneous enterprise network, as described herein, a common user policy can be applied to a user communication device in a given user session independent of the user's location or access method. In other words, a user policy (e.g., a down-link policy, an up-link policy) for a user in a user session can be dependent on the user identifier and the remote IP address of the user session, but need not be dependent on the user IP address. For example, the first entry of user policies stored in policy table  is a down-link policy for user A, which defines that packets from a remote IP address 192.168.120.200 destined to any device associated with user A should be dropped, regardless of the user IP address for user A, as indicated by the user IP address x.x.x.x. For another example, the third entry of user policies stored in policy table  is an up-link policy for user B, which defines that packets from any device associated with user B destined to a remote IP address 192.168.120.200 should be forwarded, regardless of the user IP address for user B, as indicated by the user IP address x.x.x.x.","Furthermore, as described herein, a down-link policy can be enforced at a core network node to drop or forward packets destined to a user within the homogeneous enterprise network or the homogeneous portion of the heterogeneous enterprise network. After a user communication device is operatively coupled to an access device (e.g., an access network node, an access point) of a homogeneous enterprise network or a homogeneous portion of a heterogeneous enterprise network and assigned an IP address, a core network node (e.g., core network node  in ) is configured to update one or more down-link policy entries associated with the user in a policy database (e.g., policy table  in ) stored in the core network node. Specifically, the core node is configured to replace a default user IP address (e.g., x.x.x.x) or any other form of user IP address in the down-link policy entries with the IP address assigned to the user, such that the down-link policies can be implemented at the core network node to control traffic sent to the user through the core network node. Additionally, one or more up-link policy entries associated with the user are downloaded from the policy database to the access device of the user, such that the up-link policies can be implemented at the access device to control traffic sent from the user.","For example, as shown in , after the communication device of user B is operatively coupled to the homogeneous enterprise network and assigned an IP address 192.168.120.2, the core network node that hosts policy table  is configured to update the user IP address for user B in the second entry of policy table  with 192.168.120.2. Thus, the down-link policy for user B stored in the second entry of policy table  can be implemented at the core network node to control traffic sent to user B through the core network node. Furthermore, the up-link policy for user B stored in the third entry of policy table  is downloaded to an access device coupled to the communication device of user B, such that the up-link policy can be implemented at the access device to control traffic sent from the communication device of user B through the access device.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":["FIG. 7","FIG. 2","FIG. 7","FIG. 7","FIG. 1"],"b":["700","751","753","741","744","731","732","721","722","710","751","753","741","743","731","721","200","700","700","752","742","744","732","722","710","700","100"]},"As described herein, the tunneling technology applied between two network devices (e.g., access points, access network nodes, aggregation network nodes, core network nodes, WLAN controllers) in an enterprise network depends on the nature and\/or capabilities of the two network devices and the intermediate network devices present between the two network devices. Specifically, if not all of the two network devices and the intermediate network devices present between the two network devices are capable of using MPLS, then a layer-3 tunneling protocol (e.g., CAPWAP, Ethernet-in-GRE) can be applied, while MPLS will not be applied, for the tunnel between the two network devices. On the other hand, if all of the two network devices and the intermediate network devices present between the two network devices are capable of using the MPLS, or in other words, operating like the devices in a homogeneous enterprise network, then either a layer-3 tunneling protocol or MPLS can be applied for the tunnel between the two network devices.","As described in detail herein, a core network node (e.g., core network node ) within a homogeneous portion of a heterogeneous enterprise network can be configured to manage wired\/wireless network devices and\/or wired\/wireless sessions within the homogeneous portion of the heterogeneous enterprise network. In contrast, a core network node (e.g., core network node ) within an overlay enterprise network portion of a heterogeneous enterprise network, which operates like a core network node in a wireless overlay enterprise network (e.g., core network node  or  in overlay enterprise network  in ), can be configured to manage wired sessions only, but not wireless sessions. For a wireless overlay enterprise network portion that does not include any core network node operating like a core network node in a homogeneous enterprise network, a WLAN controller (e.g., WLAN controller ) can be used to manage wireless network nodes and\/or wireless sessions. That is, wireless traffic generated from access points within such a wireless overlay enterprise network portion is tunneled to the WLAN controller via a layer-3 tunnel before it is forwarded to the destination by the WLAN controller.","In some embodiments, more than one type of tunneling technologies can be used in a homogeneous portion of a heterogeneous enterprise network. For example, as shown in , both layer-3 tunnels and MPLS tunnels can be used to forward wired and\/or wireless traffic in the homogeneous portion of the heterogeneous enterprise network . To be specific, a layer-3 tunnel (e.g., a CAPWAP tunnel, an Ethernet-in-GRE tunnel) can be used to forward wireless traffic between access point  and core network node  (shown as the tunnel represented by  in ). Alternatively, a MPLS tunnel can also be used to forward wireless traffic between access point  and core network node . Meanwhile, a MPLS tunnel can be used to forward wired traffic between access network node  and core network node  (shown as the tunnel represented by  in ). Alternatively, a layer-3 tunnel can also be used to forward wired traffic between access network node  and core network node . Although not shown in , other tunnels (e.g., layer-3 tunnels, MPLS tunnels) also can be used between network devices in the homogeneous portion of the heterogeneous enterprise network .","In some embodiments, a controller-to-controller tunnel can be used to connect a WLAN controller with a controller (e.g., a control module) of a core network node within a homogeneous portion to forward wired and\/or wireless traffic, in a heterogeneous enterprise network. For example, as shown in , a controller-to-controller tunnel (shown as the tunnel represented by  in ) can be used to forward wired and\/or wireless traffic between WLAN controller  and core network node  in the heterogeneous enterprise network . In some embodiments, such a controller-to-controller tunnel can enable the WLAN controller and the controller of the core network node within the homogeneous portion to make mobility possible across the entire heterogeneous enterprise network.","In some embodiments, network devices in an overlay enterprise network portion of a heterogeneous enterprise network can operate like the network devices in a wireless overlay enterprise network (e.g., overlay enterprise network ). On one hand, a layer-3 tunnel can be used to forward wireless traffic between a WLAN controller and an access point through intervening wired network nodes in the overlay enterprise network portion of the heterogeneous enterprise network. For example, as shown in , a layer-3 tunnel (shown as the tunnel represented by  in ) is used to forward wireless traffic between WLAN controller  and access point  through intervening core network node , aggregation network node  and access network node . Thus, wireless communication device  can send wireless traffic to and\/or receive wireless traffic from other devices operatively coupled to the heterogeneous enterprise network  through the layer-3 tunnel between access point  and WLAN controller .","On the other hand, a layer-3 tunnel can be used to forward wired traffic between two wired network nodes in the overlay enterprise network portion of the heterogeneous enterprise network. For example, as shown in , a layer-3 tunnel (shown as the tunnel represented by  in ) can be used to forward wired traffic between core network node  and access network node  through intervening aggregation network node . Thus, a wired communication device  coupled to access network node  can send wired traffic to and\/or receive wired traffic from, for example, wired communication device  through the layer-3 tunnel between core network node  and access network node . Alternatively, wired traffic can be transmitted between network devices in the overlay enterprise network portion of the heterogeneous enterprise network without using any tunnel, as described with respect to .","In some embodiments, one or more core network nodes in an enterprise network can be configured to manage a branch deployment of network devices that are operatively coupled to, but located separately from the enterprise network. Such a branch deployment of network devices typically does not include a core network node or any other type of control device that can manage the operations of the network devices. In some embodiments, such a branch deployment of network devices can be operatively coupled to the core network node(s) within the enterprise network through one or more other networks. In the example of , core network node  can be configured to manage a branch deployment of network devices (not shown in ) that is operatively coupled to core network node  through network .",{"@attributes":{"id":"p-0082","num":"0081"},"figref":["FIG. 8","FIG. 2","FIG. 8","FIG. 1"],"b":["800","851","852","841","844","831","832","821","822","851","852","841","842","843","844","831","821","822","200","800","832","100"]},"In some embodiments, a core network node in a heterogeneous enterprise network that operates like a device in a homogeneous enterprise network can be configured to manage wired and wireless sessions, as well as wired and wireless network devices. In such embodiments, a WLAN controller (e.g., WLAN controller  in ) may not be needed for the heterogeneous enterprise network. For example, as shown in , core network node  can be configured to manage the shaded wired and wireless network devices within the left-side portion (including aggregation network node , access network nodes , , and access point ) of the heterogeneous enterprise network . Similarly, core network node  can be configured to manage the shaded wired and wireless network devices within the right-side portion (including access network nodes , , and access point ) of the heterogeneous enterprise network . Specifically, wired or wireless traffic from a wired network device or a wireless network device can be sent to core network node  or core network node  using a tunnel through one or more intervening wired network device(s), and then forwarded by core network node  or core network node  accordingly. Furthermore, the tunnel can be a MPLS tunnel or a layer-3 tunnel depending on the nature and\/or capabilities of the wired or wireless network device and the intervening wired network device(s).","For example, access point  can send wireless traffic received from wireless communication device  to, or receive wireless traffic destined to wireless communication device  from, core network node  through a tunnel (shown as the tunnel represented by  in ). Because access point , core network node , and the intervening access network node  and aggregation network node  are all operating like the network devices in a homogeneous enterprise network, the tunnel  connecting access point  and core network node  can be a MPLS tunnel or a layer-3 tunnel. In some embodiments, as discussed herein, if at least one of two network devices and the intervening wired network node(s) between the two network devices is not capable of using MPLS, a MPLS tunnel will not be used to forward wired or wireless traffic between the two network devices though the intervening wired network node(s). If, however, all of the two network devices and the intervening wired network node(s) between the two network devices are capable of using a layer-3 tunneling protocol, a corresponding layer-3 tunnel can be used to forward wired or wireless traffic between the two network devices through intervening wired network node(s).","In the example of , core network node , access network node , access network node  and access point  are all operating like the network devices in a homogeneous enterprise network (i.e., capable of using MPLS or layer-3 tunneling protocols), but aggregation network node  is not capable of using MPLS. Thus, a layer-3 tunnel (shown as the tunnel represented by  in ) can be used to forward wireless traffic between core network node  and access point  through aggregation network node  and access network node . Similarly, a layer-3 tunnel (shown as the tunnel represented by  in ) can be used to forward wired and\/or wireless traffic between core network node  and access network node  through aggregation network node .","In some embodiments, similar to a controller-to-controller tunnel between a core network node within a homogeneous portion and a WLAN controller (e.g., the tunnel represented by  in ), a controller-to-controller tunnel can be used to connect two core network nodes that function as controllers in a heterogeneous enterprise network. Such a controller-to controller tunnel can be used to forward wired and\/or wireless traffic between the two core network nodes in the heterogeneous enterprise network. For example, as shown in , a controller-to-controller tunnel (shown as the tunnel represented by  in ) can be used to forward wired and\/or wireless traffic between core network node  and core network node  in the heterogeneous enterprise network .",{"@attributes":{"id":"p-0087","num":"0086"},"figref":["FIG. 9","FIG. 2","FIG. 9","FIG. 1"],"b":["900","951","954","941","944","931","932","921","922","951","952","953","941","943","931","932","921","922","200","900","954","942","944","100"]},"In some embodiments, a core network node in a heterogeneous enterprise network that operates like a device in a homogeneous enterprise network can be configured to manage wired and wireless sessions, as well as wired and wireless network devices. In such embodiments, a WLAN controller (e.g., WLAN controller  in ) may not be needed for the heterogeneous enterprise network. For example, as shown in , core network node  can be configured to manage the wired and wireless network devices within the left-side portion (including aggregation network node , access network node , access network node , and access point ) of the heterogeneous enterprise network . Similarly, core network node  can be configured to manage the wired and wireless network devices within the right-side portion (including aggregation network node , and access points  and ) of the heterogeneous enterprise network . Specifically, wired or wireless traffic from a wired network device or a wireless network device can be sent to core network node  or core network node  using a tunnel through one or more intervening wired network device(s), and then forwarded by core network node  or core network node  accordingly. Furthermore, the tunnel can be a MPLS tunnel or a layer-3 tunnel depending on the nature and\/or capabilities of the wired or wireless network device and the intervening wired network device(s).","For example, access point  can send wireless traffic received from wireless communication device  to, or receive wireless traffic destined to wireless communication device  from, core network node  through a tunnel (shown as the tunnel represented by  in ). Because access point , core network node , and the intervening access network node  and aggregation network node  are all operating like the network devices in a homogeneous enterprise network, the tunnel  connecting access point  and core network node  can be a MPLS tunnel or a layer-3 tunnel. In some embodiments, as discussed herein, if at least one of two network devices and the intervening wired network node(s) between the two network devices is not capable of using MPLS, a MPLS tunnel will not be used to forward wired or wireless traffic between the two network devices though the intervening wired network node(s). If, however, all of the two network devices and the intervening wired network node(s) between the two network devices are capable of using a layer-3 tunneling protocol, a corresponding layer-3 tunnel can be used to forward wired or wireless traffic between the two network devices through intervening wired network node(s).","In the example of , core network node , aggregation network node , access point , and access point  are all operating like the network devices in a homogeneous enterprise network (i.e., capable of using MPLS or layer-3 tunneling protocols), but access network nodes  and  are not capable of using MPLS. Thus, a layer-3 tunnel (shown as the tunnel represented by  in ) can be used to forward wireless traffic between core network node  and access point  through aggregation network node  and access network node . In some embodiments, a tunnel (e.g., a MPLS tunnel, a layer-3 tunnel) can be used to forward wired or wireless traffic between a core network node and an aggregation network node (through intervening wired network node(s) or not), such that the aggregation network node can forward the traffic received from an access device (e.g., an access network node, an access point) to the core network node, or forward the traffic received from the core network node via the tunnel to an access device. In some embodiments, the tunnel between the core network node and the aggregation network node can be for example, a MPLS tunnel or a layer-3 tunnel, depending on the nature and\/or capabilities of the core network node, the aggregation network node and every potential intervening wired network node between the core network node and the aggregation network node. In the example of , a tunnel (shown as the tunnel represented by  in ) can be used to forward wired or wireless traffic between core network node  and aggregation network node , such that all the traffic associated with access network node ,  or access point  or  can be forced to go through core network node  via the tunnel.","In some embodiments, a common tunnel can be used to forward wired traffic and wireless traffic in an enterprise network. Following the example of , access network node  can receive wired traffic from wired communication device , as well as wireless traffic from access point  via tunnel  and wireless traffic from access point  without a tunnel. All such traffic, wired and wireless, is sent to aggregation node  and then to the core network node  via a tunnel (e.g., a layer-3 tunnel, a MPLS tunnel), shown as the tunnel represented by  in . Similarly, wired traffic for wired communication device  and wireless traffic for access points  and  are sent from core network node to aggregation node via the common tunnel , and from the aggregation node , the wired and wireless traffic is forwarded to access node  and access points  and .",{"@attributes":{"id":"p-0092","num":"0091"},"figref":["FIG. 10","FIG. 3","FIG. 2"],"b":["1002","251","291","291","251"]},"At , the first packet can be encapsulated at the access point to define a first encapsulated packet. Specifically, as described in detail with respect to , a tunnel module in the access point can be configured to encapsulate the first packet (e.g., add a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to a predetermined tunneling protocol (e.g., CAPWAP, Ethernet-in-GRE, MPLS). As a result, a first encapsulated packet is defined and prepared to be forwarded by the access point through a tunnel that is established based on the predetermined tunneling protocol. For example, as shown in , a tunnel module in access point  is configured to encapsulate the first packet according to MPLS or a layer-3 tunneling protocol, to define a first encapsulated packet that is ready to be sent through a MPLS tunnel or a layer-3 tunnel.","At , the first encapsulated packet can be transmitted to a core network node via a tunnel through intervening wired network nodes. The tunnel can be established between the access point and the core network node, based on the same tunneling protocol that is adopted for encapsulating the first packet at the access point. In some embodiments, the tunnel can span over one or more intervening wired network nodes, including one or more access network nodes and aggregation network nodes. Subsequently, as described with respect to , the first encapsulated packet can be sent through a communications interface in the access point to a network device (e.g., an access network node) that is operatively coupled to the access point. For example, as shown in , access point  is configured to transmit the first encapsulated packet through a communications interface in access point  to core network node , via a MPLS tunnel or a layer-3 tunnel through access network node  and aggregation network node .","At , a second encapsulated packet can be received at the access point from the core network node via a tunnel through intervening wired network nodes. Similar to step , the second encapsulated packet can be received at the communications interface in the access point, and the tunnel can be established between the access point and the core network node based on the same tunneling protocol that is adopted for encapsulating and sending the first packet. Furthermore, in some embodiments, the intervening wired network nodes can be same as the intervening wired network nodes in the tunnel for sending the first encapsulated packet. For example, as shown in , access point  is configured to receive a second encapsulated packet at the communications interface in access point  from core network node , via a MPLS tunnel or a layer-3 tunnel through aggregation network node  and access network node .","At , the second encapsulated packet can be decapsulated at the access point to retrieve a second packet. Similar to step , the tunnel module in the access point can be configured to decapsulate the second encapsulated packet (e.g., remove a header portion, a footer portion, and\/or modify any other identifiers included within the packet) according to the tunneling protocol that is adopted for transmitting the second encapsulated packet. As a result, a second packet is retrieved and prepared to be forwarded by the access point to the wireless communication device. For example, as shown in , the tunnel module in access point  is configured to decapsulate the second encapsulated packet according to MPLS or the layer-3 tunneling protocol, to retrieve a second packet that is ready to be sent to wireless communication device .","At , the second packet can be transmitted by the access point to the wireless communication device via a wireless link. Similar to step , the second packet can be transmitted by the RF transceiver in the access point to the wireless communication device that is operatively coupled to the access point via the wireless link. For example, as shown in , the second packet is transmitted by the RF transceiver in access point  to wireless communication device  via the wireless link that operatively couples wireless communication device  to access point .","Although  is described in connection with packets tunneled between an access point and a core network node for wireless traffic, packets can be tunneled between an access network node and a core network node for wired traffic in similar manners. More specifically, a first packet can be received from a wired communication device via a wired link, similar to  in . Then the first packet can be encapsulated to define a first encapsulated packet, similar to  in . The first encapsulated packet can be transmitted to the core network node via a tunnel through intervening wired network nodes, similar to  in . A second encapsulated packet can be received from the core network node via a tunnel through intervening wired network nodes, similar to  in . The second encapsulated packet can be decapsulated to retrieve a second packet, similar to  in . This second packet can be transmitted to the wired communication device via the wired link, similar to  in .","While various embodiments have been described above, it should be understood that they have been presented by way of example only, not limitation, and various changes in form and details may be made. Any portion of the apparatus and\/or methods described herein may be combined in any combination, except mutually exclusive combinations. The embodiments described herein can include various combinations and\/or sub-combinations of the functions, components and\/or features of the different embodiments described.","While shown and described above with respect to  as aggregation network nodes - with their associated access network nodes - and access points - comprising a pod, in other embodiments, a pod can include less than two or more than two aggregation network nodes and their associated access devices (e.g., access network nodes, access points). As described herein, a pod is defined as a collection of aggregation network nodes and associated access devices having a common connection to a redundant set of core network nodes. Furthermore, while shown and described above with respect to  as a redundant set of core network nodes connected to a pod including two core network nodes, in other embodiments, such a redundant set of core network nodes can include more than two core network nodes. For example, a cluster of any number (e.g., 3, 4, 5, etc.) of core network nodes can be coupled to a pod of aggregation network nodes and their associated access devices. Each core network node in the cluster of core network nodes can function as a controller, a hop and\/or a switch for the network devices included in the pod associated with the cluster of core network nodes.","While shown and described above with respect to  as control module  being included in core network node , in other embodiments, a control module can be separate from and operatively coupled to a core network node. In some embodiments, a control module can be located on a separate device that is operatively coupled to a core network node. In such an example, the control module can be configured to manage wired and\/or wireless sessions and apply user policies to wired and\/or wireless sessions by sending signals (e.g., control signals) to and receiving signals from the core network node. For example, the control module can send a control signal to a tunnel module in the core network node, instructing the tunnel module to encapsulate or decapsulate a received packet, according to a predetermined tunneling protocol (e.g., a layer-3 tunneling protocol, MPLS). For another example, the control module can send a control signal to a processor of the core network node, instructing the processor to compare information associated with a user session with data stored in a policy table within the core network node, such that an appropriate user policy can be determined and applied on the user session.","While shown and described above with respect to  where the policy table  includes data for each of the first three fields for each user, a user policy entry can include data for less than or more than three fields. That is, a user policy entry does not necessarily need to include data for all of the first three fields (i.e., user identifier, source IP address, destination IP address) to be stored in policy table  and to be applied by an entity (e.g., a core network node, an access device). For example, a user policy entry with a user identifier \u201cD\u201d and a policy keyword \u201cdeny\u201d (and without data for the source IP address or destination IP address) indicates all packets of a user session associated with the user identifier \u201cD\u201d should be dropped, regardless of the source IP address or the destination IP address of the user session. For another example, a user policy entry with a source IP address \u201c192.168.120.10\u201d and a policy keyword \u201callow\u201d (and without data for the user identity or the destination IP address) indicates all packets of a user session associated with the source IP address \u201c192.168.120.10\u201d should be forwarded, regardless of the user identifier or the destination IP address of the user session. In alternative embodiments, a policy table can be based on other classification techniques such as, for example, Deep Packet Inspection, and packet size and cadence information.","Some embodiments described herein relate to a computer storage product with a computer-readable medium (also can be referred to as a processor-readable medium) having instructions or computer code thereon for performing various computer-implemented operations. The media and computer code (also can be referred to as code) may be those designed and constructed for the specific purpose or purposes. Examples of computer-readable media include, but are not limited to: magnetic storage media such as hard disks, floppy disks, and magnetic tape; optical storage media such as Compact Disc\/Digital Video Discs (CD\/DVDs), Compact Disc-Read Only Memories (CD-ROMs), and holographic devices; magneto-optical storage media such as optical disks; carrier wave signal processing modules; and hardware devices that are specially configured to store and execute program code, such as Application-Specific Integrated Circuits (ASICs), Programmable Logic Devices (PLDs), and read-only memory (ROM) and RAM devices.","Examples of computer code include, but are not limited to, micro-code or micro-instructions, machine instructions, such as produced by a compiler, code used to produce a web service, and files containing higher-level instructions that are executed by a computer using an interpreter. For example, embodiments may be implemented using Java, C++, or other programming languages (e.g., object-oriented programming languages) and development tools. Additional examples of computer code include, but are not limited to, control signals, encrypted code, and compressed code."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 10"}]},"DETDESC":[{},{}]}
