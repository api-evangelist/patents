---
title: Transport-dependent prediction of destinations
abstract: A destination analysis module is described which estimates at least one destination of a user given a partial path taken by the user within a geographic area. The destination analysis module operates by detecting a mode of transportation that a user uses to traverse the path (e.g., automobile, public transportation, walking, etc.). The destination analysis module then loads a model associated with the mode of transportation into a destination prediction module and estimates at least one destination based on the path and the model. The model has various components that depend on the mode of transportation, such as routing network information and prior probability information.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08538686&OS=08538686&RS=08538686
owner: Microsoft Corporation
number: 08538686
owner_city: Redmond
owner_country: US
publication_date: 20110909
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["An automobile may include a navigation system that provides travel guidance to a user. In operation, a typical navigation system allows the user to manually input a desired destination. The navigation system then computes a route from the user's present location to the desired destination. In the course of the user's travel, the navigation system provides prompts which guide the user along the computed route. This type of technology is useful, but is burdensome in that it requires the user to manually input the desired destination.","The research community has recently proposed various techniques for automatically determining the destination of a user who embarks on a trip via automobile, that is, before the user reaches the intended destination. However, there is room for improvement in this type of technology.","A destination analysis module is described which estimates a destination of a user given a partial path (C) taken by the user within a geographic area. The destination analysis module operates by detecting a mode of transportation that a user uses to traverse the path (e.g., automobile, public transportation, walking, etc.). The destination analysis module then loads a model associated with the mode of transportation. The destination analysis module uses the model to estimate at least one likely destination associated with the partial path. By virtue of this approach, the destination analysis module estimates a destination (or destinations) in a manner that is dependent on the mode of transportation that the user is using to reach his or her intended destination.","The above approach can be manifested in various types of systems, components, methods, computer readable media, data structures, articles of manufacture, and so on.","This Summary is provided to introduce a selection of concepts in a simplified form; these concepts are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used to limit the scope of the claimed subject matter.","The same numbers are used throughout the disclosure and figures to reference like components and features. Series 100 numbers refer to features originally found in , series 200 numbers refer to features originally found in , series 300 numbers refer to features originally found in , and so on.","This disclosure is organized as follows. Section A describes illustrative destination determination functionality for determining a likely destination of a user who is traveling within a geographic area via a particular mode of transportation. Section B describes illustrative methods which explain the operation of the destination determination functionality of Section A. Section C describes illustrative computing functionality that can be used to implement any aspect of the features described in Sections A and B.","This application is related to co-pending and common-assigned U.S. application Ser. No. 11\/426,540, filed on Jun. 26, 2006, entitled \u201cMethods for Predicting Destinations from Partial Trajectories Employing Open- and Closed-World Modeling Methods,\u201d naming the inventors of John C. Krumm, et al. The '540 Application is incorporated by reference herein.","As a preliminary matter, some of the figures describe concepts in the context of one or more structural components, variously referred to as functionality, modules, features, elements, etc. The various components shown in the figures can be implemented in any manner by any physical and tangible mechanisms, for instance, by software, hardware (e.g., chip-implemented logic functionality), firmware, etc., and\/or any combination thereof. In one case, the illustrated separation of various components in the figures into distinct units may reflect the use of corresponding distinct physical and tangible components in an actual implementation. Alternatively, or in addition, any single component illustrated in the figures may be implemented by plural actual physical components. Alternatively, or in addition, the depiction of any two or more separate components in the figures may reflect different functions performed by a single actual physical component. , to be discussed in turn, provides additional details regarding one illustrative physical implementation of the functions shown in the figures.","Other figures describe the concepts in flowchart form. In this form, certain operations are described as constituting distinct blocks performed in a certain order. Such implementations are illustrative and non-limiting. Certain blocks described herein can be grouped together and performed in a single operation, certain blocks can be broken apart into plural component blocks, and certain blocks can be performed in an order that differs from that which is illustrated herein (including a parallel manner of performing the blocks). The blocks shown in the flowcharts can be implemented in any manner by any physical and tangible mechanisms, for instance, by software, hardware (e.g., chip-implemented logic functionality), firmware, etc., and\/or any combination thereof.","As to terminology, the phrase \u201cconfigured to\u201d encompasses any way that any kind of physical and tangible functionality can be constructed to perform an identified operation. The functionality can be configured to perform an operation using, for instance, software, hardware (e.g., chip-implemented logic functionality), firmware, etc., and\/or any combination thereof.","The term \u201clogic\u201d encompasses any physical and tangible functionality for performing a task. For instance, each operation illustrated in the flowcharts corresponds to a logic component for performing that operation. An operation can be performed using, for instance, software, hardware (e.g., chip-implemented logic functionality), firmware, etc., and\/or any combination thereof. When implemented by a computing system, a logic component represents an electrical component that is a physical part of the computing system, however implemented.","The following explanation may identify one or more features as \u201coptional.\u201d This type of statement is not to be interpreted as an exhaustive indication of features that may be considered optional; that is, other features can be considered as optional, although not expressly identified in the text. Finally, the terms \u201cexemplary\u201d or \u201cillustrative\u201d refer to one implementation among potentially many implementations","A. Illustrative Destination Determination Functionality",{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 1","b":["100","102"]},"The destination determination functionality  can discretize the geographic region into any map location elements. For example, in the examples presented in , the map location elements correspond to polygonal cells (e.g., square cells). But more generally, the cells can have any shape, size, and dimension; indeed, in one case, the cells can be reduced in size such they can be effectively considered as points. A user's location within such a geographic area can be approximated by identifying the cell which contains the user's actual position. Alternatively, the map location elements can correspond to intersections within the geographic area. A user's location within such a geographic area can be approximated by identifying the intersection that is closest to the user's actual position. Still other ways of discretizing the geographic region are possible.","In a first case, the mode of transportation  may correspond to a user-controlled mode of vehicular transportation, such as an automobile, truck, motorcycle, boat, submarine, plane, helicopter, bicycle, snowmobile, etc. Here, the user may freely choose the spatial course of his or her route through the geographic area, subject to the rules and laws governing the use of roadways, waterways, airspace, etc., and subject to any applicable physical constraints (e.g., including those imposed by the natural features of the terrain). Further, the user may generally choose the timing at which he or she departs, as well as the rate of travel through the geographic area (subject, again to the applicable rules and laws, physical constraints, etc.).","In another case, the mode of transportation  corresponds to a form of public transportation of any type, such as a bus, van, shuttle, subway, tram, ferry, plane, mine car, etc. In this case, the user can not generally control the spatial course of the route taken by the mode of transportation . Nor can the user generally choose the timing at which he or she departs, as well as the rate of travel. For example, a bus follows a predetermined route through the geographic area, and that route has predetermined stopping locations; further, the bus traverses the route based on a predetermined schedule.","In yet another case, the mode of transportation  corresponds to pedestrian mode of transportation, such as walking, running, skating, skiing, swimming, caving, etc. Like the first case, the user may freely choose the spatial course of the route, the timing of departure, and the rate of travel, subject to applicable rules and laws. For instance, a user who is walking may choose whatever road or pathway he or she desires, but a particular jurisdiction may prevent the user from walking on freeways, through private property, etc. The natural features of the geographic area may also constrain the walking route of a user; for example, the user may choose to avoid traveling over mountainous terrain, lakes, rivers, etc.","The modes of transportation identified above are cited by way of example, not limitation. Other environments may accommodate additional modes of transportation.","A position detection module  may register the position of the user as he or she moves within the geographic area. For example, the position detection module  may correspond to a GPS mechanism or the like. Alternatively, or in addition, the position detection module  can register the position of the user using cell tower triangulation, Wi-Fi triangulation, dead reckoning, image-based tracking (e.g., whereby a user's position in video is detected and tracked), and\/or any other position-detection technique. Alternatively, or in addition, the position detection module  can represent any mechanism by which a user can manually report his or her position on a periodic basis or any other basis. In some environments, the position detection module  can also generate and report other sensor measurements which may have a bearing on the manner in which the user moves within an area. Such measurements can include accelerometer readings, gyroscopic readings, magnetometer readings, etc.","A user device  may represent a piece of equipment which accompanies the user on his or her trip. For example, in one case, the user device  may correspond to a computing device that is affixed to or otherwise associated with a vehicle. Alternatively, or in addition, the user device  may correspond to a portable user device that a user carries while traveling. Examples of such portable devices include mobile telephone devices, personal digital assistant devices, e-book reader devices, laptop computer devices, portable game devices, and so on.","In one case, the user device  may include the position detection module  as one of its components. In still other cases, some other system(s) or mechanism(s) implement the position detection module , besides the user device  or in addition to the user device .","In some environments, the position detection module  specifies the position information by providing a longitude and latitude reading. In other environments, the position detection module  can specify other dimensions of position, such as altitude. The position detection module  can also specify the time at which each position reading was taken. In addition, or alternatively, the position detection module  can report other readings, such as accelerometer readings, gyroscopic readings, magnetometer readings, etc. The term position information encompasses all such position-related data.","A destination analysis module  receives the position information from the position detection module . By way of overview, the destination analysis module  can use successive instances of the position information to automatically estimate the intended destination of the user, prior to the user actually reaching that destination. As will be clarified below, the destination analysis module  performs this task in a manner which takes into account the mode of transportation  of the user. For example, the destination analysis module  applies one set of considerations in predicting the destination of a user who is walking within the geographic area; it may apply another set of considerations in predicting the destination of a user who is driving an automobile within the geographic area.","In one case, the destination analysis module  can be implemented by separate functionality from the user device , such as by one or more server computers and associated data stores. In another case, the destination analysis module  can be implemented entirely by the user device  or some other device which is local with respect to the user. In yet another case, part of the destination analysis module  can be implemented by the user device  and part of the destination analysis module  can be implemented by a separate system. Additional information will be provided below regarding possible physical implementations of the destination analysis module , e.g., in the context of the explanation of .","The destination analysis module  can include (or can be conceptualized as including) plural modules. A path assessment module  defines a partial path (C) that a user has traversed within the geographic area, at any given time. For example, the path assessment module  can define the path as a temporally ordered series of map location elements (e.g., cells) through which the user has passed. Consider, for instance, the partial path (C) shown in . The cell labeled as () represents the start of the partial path. The cell labeled as () represents the current position of the user (which, in this case, does not correspond to the final destination of the user). More specifically, the path assessment module  can record a single entry (such as a cell index entry) for each cell which the user has entered. In some cases, the user may move out of a particular cell and then, at some later time, move back into that same cell. In this case, the partial path would include two entries for the cell that the user has passed through twice.","The path assessment module  can also determine the temporal characteristics of the partial path. These characteristics include the time at which the user has commenced the trip, as well as the rate at which the user traverses the path, at each point along the path. The path assessment module  can determine this rate information based on time stamps associated with individual instances of the position information received from the position detection module , and\/or based on sensor readings provided by the position detection module , etc.","A transportation mode determination module  identifies the mode of transportation  being used by the user to traverse the path. The transportation mode determination module  can use any technique or combination of techniques to determine the mode of transportation . In one case, for example, the user may manually specify the mode of transportation, such as by inputting this information into an input mechanism of the user device . The user device  can then forward the manually inputted information to the destination analysis module .","In another case, the transportation mode determination module  can perform automated analysis to determine the mode of transportation . For example, the transportation mode determination module  can compare the spatial and temporal characteristics of the path to telltale patterns associated with different modes of travel. Alternatively, or in addition, the transportation mode determination module  can directly examine sensor readings provided by the position detection module , such as accelerometer readings, gyroscopic readings, magnetometer readings, and so on. The transportation mode determination module  can compare these readings with typical readings associated with different modes of transportation. If there is a match with respect to typical patterns and\/or readings, the transportation mode determination module  associates the path with the identified mode of transportation.","For example, if the spatial and temporal characteristics of a path conform to a particular bus schedule, it is likely that the user is traveling via bus. Alternatively, if the path indicates that the user is moving slowly for an extended period of time, it is likely that the user is walking; this conclusion is strengthened if the user's path encompasses locations that are not accessible to motorized vehicles, and\/or if the user's path otherwise exhibits characteristics indicative of ambulatory motion. Alternatively, if the path indicates that the user is traveling at a very high rate of speed over a course that does not conform to any roadway, it is likely that the user is traveling via airplane; this conclusion can alternatively, or in addition, be strengthened or definitively confirmed by examining the altitude of the user, if that data is available. These pattern-matching examples are cited by way of illustration, not limitation. The transportation mode determination module  can apply yet further heuristics to detect the mode of transportation , based on any available evidence associated with the trip that the user is making.","In many of the examples presented herein, it will generally be assumed that the user uses a single mode of transportation  to travel from a starting location to the intended destination. But the user can also employ two or more modes of transportation to reach the desired destination. For example, the user may take the subway to a station that is closest to his or her desired destination. The user may then walk for the remainder of the trip to the desired destination. To address this type of scenario, the transportation mode determination module  can continually (or periodically) monitor the characteristics the user's path as it evolves. This enables the transportation module determination module  to detect whether the user has transitioned to a different mode of transportation.","In some cases, the transportation mode determination module  may not be able to determine the mode of transportation with sufficient confidence. The transportation mode determination module  can be configured to address this situation in different ways. In one case, the transportation mode determination module  can select a default mode of transportation (such as an automobile-related mode) when it cannot ascertain the mode of transportation with sufficient confidence. In other cases, the transportation mode determination module  can select a mode of transportation that is most commonly used by the user who is taking the trip, or the mode of transportation that was last selected by the user, and so on.","A configuration module  loads a model associated with the identified mode of transportation  into a destination prediction module . Here, \u201cloads\u201d refers to any manner by which the configuration module  makes the model accessible to the destination prediction module . For example, loading may comprise providing a copy of the model for storage in the destination prediction module ; or loading may comprise providing a pointer to the model, etc. The destination prediction module  then estimates at least one intended destination of the user based on the partial path, using the model that has been loaded. In this manner, the destination prediction module  performs mode-specific analysis in determining the intended destination(s) of the user.","More specifically, a model refers to a set of information items that the destination prediction module  uses to perform its prediction. These information items are referred to as components herein. A data store  may store these components. Additional information regarding the nature of these components will be set forth below in greater detail, e.g., in the context of the explanation of . As a preview of that explanation, one component of a model corresponds to network routing information. The network routing information describes a system of travel routes that are available to the user in moving within the geographic area. Different network routing information applies to different respective modes of transportation because different types of routes are available to different respective modes of travel. For example, a user driving his or her own car has different route options compared to a user traveling via bus or subway.","The following explanation will also provide additional information regarding the manner in which the destination prediction module  estimates the desired destination of the user. By way of overview, in one approach, the destination prediction module  can use Bayes analysis to assign a probability to each map location element (e.g., each cell) within the geographic area. That probability defines the likelihood that that map location element represents the intended destination of the user. The destination prediction module  identifies the map location element(s) with the highest probability(ies) as the most probable destination(s) of the user.","The dashed box entitled \u201cAny Application . . . \u201d  represents any application that makes use of the estimated destination provided by the destination prediction module . For example, an application may notify the user of the estimated destination and then offer the user navigation instructions to reach the intended destination. Alternatively, or in addition, an application can notify the user of services that are located nearby the estimated destination (and\/or the route leading to the estimated destination). Alternatively, or in addition, an application can perform a search that is based on the estimated destination (and\/or the route leading to the estimated destination), and then present the user with the results of such a search. Alternatively, or in addition, an application can present the user with any travel warnings associated with the estimated destination (and\/or the route leading to the estimated destination). Alternatively, or in addition, an application can present the user with advertisements related to the estimated destination (and\/or the route leading to the estimated destination), and so on. These applications are cited by way of example, not limitation.","Advancing to , this figure shows a hypothetical geographic area through which a user drives an automobile. The geographic area is divided into an array of square cells. But, as stated above, the map location elements can have any size, shape, and dimension. For example, the geographic area can also express the altitude variations in a user's trip by using three-dimensional map location elements, such as cubes or the like.","The transportation mode determination module  detects that the user is driving a car because the spatial and temporal characteristics of the user's movement match the telltale patterns and\/or sensor readings associated with user-controlled automobile travel. For example, the relevant characteristics of the user's travel may include any of: (a) the velocity at which the user travels; (b) the manner in which the user accelerates and decelerates; (c) the routes over which the user travels; (d) the intermediary stopping points selected by the user, and so on. This information can be obtained from various sources, such as the timestamp information associated with GPS readings, other sensor readings (accelerometer readings, etc.), and so on. In response to this detection, the configuration module  loads an automobile-related model into the destination prediction module . For example, the model includes routing network information that defines roadways available for use by automobiles. The routing network information may exclude routes that are not available to automobile traffic (such as pedestrian walkways).","At the present time represented in , the user has traversed a path (C) that spans a series of seven cells, corresponding to the temporally ordered cell set {1, 2, 3, 4, 5, 6, 7}. This means that the user's automobile is currently located at a position encompassed by cell No. 7. Presume that cell No. 7 is not the final destination of the user. At this juncture, the destination prediction module  is called on to predict at least one intended destination of the user. This prediction takes into account the partial path in its present state, as well as information imparted by the mode-specific model (in this case, an automobile-related model).","More specifically, the destination prediction module  considers each cell in the geographic area as a candidate destination (c*) of the user\u2014that is, as a potential end point of the user's trip. For example,  identifies four such representative candidate destinations (although every cell corresponds to a candidate destination). The destination prediction module  calculates a probability for each of these candidate destinations. Each probability quantifies the likelihood that a corresponding cell represents the intended destination of the user. The cell(s) with the highest probability corresponds to the most likely candidate destination(s).","Assume that the user next moves to the cell to the immediate left of cell No. 7. In response, the destination prediction module  recalculates the probability that each candidate cell presents the actual destination of the user. More specifically, the user's movement draws the user away from some cells and closer to other cells. In response, the destination prediction module  can be expected to increase the probabilities of some cells, and decrease the probabilities of other cells. (Additional details regarding the nature of the calculations performed by the destination prediction module  will be provided below in the context of the explanation of .) The above-described process continues until the user reaches his or her actual final destination, e.g., corresponding to cell No. 11 shown in . Each time the user enters a new cell, the destination prediction module  recalculates the probabilities for all of the candidate destinations.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 4","FIGS. 2 and 3","FIG. 4","FIG. 2"]},"Other modes of transportation may exhibit yet other route options. For example, pedestrian routing network information may exclude certain roadways shown in  (representing routes that are not accessible to pedestrians); in addition, or alternatively, the pedestrian routing network information may include additional pathways that are not shown in  (representing routes that are not accessible to motorized vehicles). Different instances of routing network information also convey different characteristics pertaining to the route options. For example, the routing network information for automobile travel will convey rate-of-travel information for automobiles (e.g., which may correspond to speed limit information associated with the available routes); in contrast, the routing network information for pedestrian travel will convey rate-of-travel information associated with walking.",{"@attributes":{"id":"p-0055","num":"0054"},"figref":["FIG. 5","FIG. 1"],"b":["100","502","504","506","502","508","100","504","510","100","502","504","504"]},"In yet another scenario, the local computing functionality  can implement all of the tasks of the destination determination functionality . In another case, the remote computing functionality  can implement all of the tasks of the destination determination functionality  (except that the local computing functionality  may still forward position information or data from which the position information can be derived). Still other allocations of tasks between different computing modules are possible.","The local computing functionality  may physically represent any type of device, such as a portable (e.g., person-borne) user device (e.g., a mobile telephone device, personal digital assistant device, e-book reader device, laptop computer device, portable game device, and so on). Alternatively, or in addition, the local computing functionality  may represent a vehicle-borne computing device or any kind. The remote computing functionality  may represent one or more computer servers and associated data stores. Colloquially speaking, for instance, the remote computing functionality  may represent a cloud computing service. That service may have cluster computing resources or other high-performance computing resources. The communication conduit(s)  may represent any type of network(s), including any type of local area network(s), and\/or any type of wide area network (e.g., the Internet), governed by any protocol or combination of protocols. The communication conduit(s)  may also incorporate wireless communication functionality (e.g., cell towers, base stations, etc.) for communicating with user devices in a wireless manner. The communication conduit(s)  can also incorporate hardwired links and associated routing infrastructure.",{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 6","FIG. 1"],"b":["116","116","116"]},"In one implementation, the destination prediction module  predicts the destination using Bayes rule, e.g., based on the following expression:",{"@attributes":{"id":"p-0060","num":"0059"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msup":{"mi":"c","mo":"*"},"mo":"\u2758","mi":"C"}}},{"mfrac":{"mrow":[{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"C","mo":"\u2758","msup":{"mi":"c","mo":"*"}}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"msup":{"mi":"c","mo":"*"}}}],"mo":"\u2062"},{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mi":"N"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"C","mo":"\u2758","msub":{"mi":"c","mrow":{"mo":["(",")"],"mi":"j"}}}}},{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"msub":{"mi":"c","mrow":{"mo":["(",")"],"mi":"j"}}}}],"mo":"\u2062"}}]},"mo":"."}],"mo":"="}}}},"In this expression, p(c*|C) represents the probability that a candidate destination (associated with a candidate map location element c*) represents an actual destination of the user, given the path C. The term p(C|c*) corresponds to the likelihood of the partial path C given a particular candidate destination c*. The term p(c*) represents a prior probability that c* represents the actual destination of the user. And the denominator of the above expression corresponds to a normalizing factor (normalizing f actor), which ensures that the distribution of p(c*|C) sums to 1 when summed over all candidate destinations.","In the context of , a likelihood determination module  computes the term p(C|c*), while a prior probability determination module  computes the term p(c*). A destination probability determination module  computes p(c*|C) based on p(C|c*), p(c*), and the normalizing factor.","As described above, the configuration module  configures the destination prediction module  by loading a model which reflects the mode of transportation  being used by the user to traverse the geographic area. The model can be conceptualized as having different components. Each component imparts different information. More specifically, some components of the model supply information that is used by the likelihood determination module to compute p(C|c*). Other components of the model supply information that is used by the prior probability module  to compute p(c*). More specifically, illustrative model components are described below.","Routing Network Information.","The configuration module  can supply routing network information to the likelihood determination module . The routing network information describes the routes that are available to the user in traversing the geographic area, in view of the mode of transportation  being used by the user. (As described above, different routes may be available to different modes of transportation.) In addition, the network routing information can describe other characteristics of the routes. For example, the routing network information for an automobile can identify speed limits (and\/or typical travel speeds) associated with different roadways. The routing network information for a subway system can describe the time schedules of different subway lines, and so on.","More specifically, the routing network information can be expressed as a graph having a collection of nodes and edges, where the edges connect the nodes together. The nodes represent locations and the edges represent pathways between the locations. More specifically, in one implementation, the routing network information can assign directions to the routes. For example, an edge associated with a one-way street points in a single direction, i.e., from a first node to a second node. An edge associated with a two-way street bi-directionally points from the first node to the second node, and from the second node to the first node. The routing network information for public modes of transportation can also define different sets of edges (and nodes) for different respective lines or schedules of transportation. For example, two different train lines may travel over the same route, traveling from point A to point B. Yet the first train line may include more stops along the way compared to the second train line. In other words, the second train line may represent an express service. Accordingly, the routing network information for the first train line may include more edges (and nodes) compared to the routing network information for the second train line. In other words, the different train lines can effectively be treated as different modes of transportation, although otherwise related in one or more respects.","The routing network information can also assign a cost measure (or plural cost measures) to each edge. The likelihood determination module  uses the cost measure(s) in comparing routes with each other, e.g., with the ultimate objective of selecting the route between two points that is deemed most appropriate.","For example, one cost measure is time of travel, representing the amount of time it takes to travel from a source node to a destination node. In this case, the likelihood determination module  can compare routes based on the differing amounts of time it takes to reach the designated destination via these routes (based on the premise that is desirable to reach a destination in the shortest amount of time as possible). Another cost measure is physical distance, corresponding to the physical distance between a source node and a destination node. In this case, the likelihood determination module  can compare routes based on the physical distances associated with the routes (based on the premise that is desirable to reach a destination using the physically shortest possible path). Another cost measure is financial cost, corresponding to the amount of money it takes to travel between a source node and a destination node. In this case, the likelihood determination module  can compare competing routes based on the different financial costs of taking the routes (based on the premise that is desirable to reach a destination using the cheapest possible route). These cost measures are cited by way of example, not limitation. In other cases, the likelihood determination module  can use a combination of two or more cost measures in assessing the desirability of a path with respect to other paths.","Different instances of routing network information, for different modes of transportation, may specify the use of different cost measures. For example, the routing network information for an airline may place more emphasis on the financial cost of its links compared to, for example, the routing network information for an automobile. Other factors may also influence the choice of cost measure(s). For example, an increase in the cost of automobile fuel may increase the importance of a distance-related cost measure relative to a time-related cost measure in assessing the suitability of routes, e.g., because users may now be more concerned with financial expenditure compared to timeliness of arrival.","Other Information Supplied to the Likelihood Determination Module.","The configuration module  can also supply one or more parameters which influence the calculations performed by the likelihood determination module . For example, the configuration module  can supply an efficiency parameter (\u03b1) that describes the efficiency at which users advance to their desired destination within the geographic area. The efficiency parameter can be empirically determined by analyzing the directness at which users advance to their desired destinations in a particular environment. Generally, the efficiency parameter will be greater than 0.5 if users, on average, efficiently move towards their destinations.","The value of the efficiency parameter can depend on the mode of transportation being used. For example, for the case of automobile travel, in one particular environment, \u03b1=0.625. Additional information will be provided below regarding the context in which the likelihood determination module  applies the efficiency parameter.","Prior Probability Information.","The configuration module  can also supply prior probability information to the prior probability determination module . For each possible candidate destination, the prior probability information describes the prior probability that the candidate destination represents the actual destination of the user, that is, without considering the influence of the partial path C. The prior probability information, in turn, can depend on different factors. And at least some of the factors may depend on the mode of transportation that the user is using to travel within the geographic area. The parts of the probability information that correspond to different factors can be conceptualized as different prior probability components of the model.","For example, a trip time prior probability component can identify probabilities associated with different trip durations. In other words, this prior probability component describes a distribution of possible trip durations within the geographic area. The destination prediction module  can use this prior probability component to identify the likelihood that a user will visit certain locations, that is, based on the amount of time it takes to reach those locations (with respect to a present location of the user). The distribution of trip durations for a first mode of transportation can generally be expected to differ from the distribution of trip durations for a second mode of transportation. For example, in some environments, the average travel time for walking trips may be shorter than the average travel time for automobile trips.","A point-of-interest (POI) prior probability component can identify probabilities based on different types of points of interest. The destination prediction module  can use this prior probability component to identify the likelihood that a user will visit locations which encompass or are otherwise associated with these types of points of interest. For example, this prior probability component can indicate that a user is more likely to visit a restaurant within a particular area compared to a dentist. Again, the probabilities associated with this prior probability component may differ for different modes of transportation. For example, a user who is walking may be more likely to visit a sidewalk kiosk compared to a user who is driving.","A ground cover prior probability component can identify probabilities for different types of ground cover found within the geographic area, with respect to the mode of transportation. The destination prediction module  can use this prior probability component to identify the likelihood that a user will visit certain locations, in this case, based on the ground cover classification of those locations. For example, a user who is driving an automobile may be more likely to visit a cell that is classified as commercial, industrial, transportation-related, and\/or residential, compared to, for example, a cell that is classified as a water-related or forestland. Again, the probabilities associated with this prior probability component may differ for different modes of transportation. For example, a user who is walking may be more likely to visit an area of high vegetation (such as a park) compared to a user who is driving.","A user history prior probability component can identify probabilities based on previous destinations visited by the user. The destination prediction module  can use this prior probability component to identify the likelihood that a user will visit certain locations, in this case, based on whether the user has visited those locations in the past and\/or whether the user has visited nearby or otherwise similar locations. For example, this prior probability component may indicate that a user is more likely to seek out a restaurant that he or she has visited several times in the past, compared to a restaurant that the user has never visited, or has infrequently visited. In other cases, this prior probability component may indicate that a user is also likely to visit a restaurant that is nearby other establishments that the user has visited in the past, although the user may have never actually visited that particular restaurant in the past. Again, the probabilities associated with this prior probability component may differ for different modes of transportation. For example, consider the case of a user who almost invariably takes the subway to and from her place of work. The user history prior probability component may indicate that the user's place of work is a likely destination of the user when the user is taking a trip by subway, but not by other modes of travel.","These prior probability components are cited by way of example, not limitation. The prior probability determination module  can take into consideration any other factors which have a bearing on the likelihood that a user will visit a particular destination (such as any kind of demographic information associated with the destination, etc.). Alternatively, or in addition, other environments can exclude one or more of the prior probability components described above.","Other Information Supplied to the Prior Probability Determination Module.","The configuration module  can also supply one or more parameters and associated probability information to the prior probability determination module . The prior probability determination module  uses these parameters to modify or otherwise qualify the information imparted by the prior probability components described above. Illustrative factors include traffic, time of day, weather, region, etc. For example, consider the case of the point-of-interest prior probability component. This component may identify the relative popularity of a particular establishment, which correlates with the probability that a user will visit that establishment in the future. But that popularity also may vary depending on whether the traffic is heavy or light near the establishment, and\/or depending on whether it is day or night, and\/or depending on whether it is sunny or raining, and\/or depending on whether the establishment (e.g., which may be a chain restaurant) is located in city A as opposed to city B, and so on. The values of these parameters may also vary depending on the mode of transportation that is being used. For example, a user's inclination to visit a particular restaurant may be less impacted by the rain when the user is traveling by automobile, compared to the case in which the user is traveling on foot.","Any of the above-described parameters can alternatively, or in addition, be expressed as probability components in their own right. For example, a probability component can express probabilities based on the average rainfall, average traffic, etc. associated with different map regions.","The prior probability information and parameters described above can be obtained or derived from various sources. For example, the information imparted by the trip time prior probability component can be obtained from empirical studies of actual trip durations taken by users within particular areas, for particular modes of transportation. The information imparted by the point-of-interest prior probability component can be obtained from one or more business directories, which reveal the locations of different types of businesses; that information, can be then be combined with empirical studies which reveal the relative popularity of different types of businesses.","Now referring to the likelihood determination module  in greater detail, this component includes a routing determination module . The routing determination module  computes routes between pairs of locations within the geographic area, e.g., between location A and location B, between location A and location C, etc. (To simplify calculation, in one environment, it is assumed that the cost from location x to location y is the same as the cost from location y to location x.) The routing determination module  also quantifies the cost of each such route, with respect to any cost measure(s) (e.g., time, distance, financial cost, etc.). The routing determination module  can use any functionality to perform this task, such as any route planning functionality. The route planning functionality can select a route between two identified locations that minimizes an identified cost measure (or plural cost measures). The route planning functionality, in turn, can use any algorithm to perform this route-planning task, such as Dijkstra's shortest path algorithm. Alternatively, or in addition, the route planning functionality can use an accelerated-processing technique which leverages high-efficiency computing resources. One such technique is the PHAST algorithm described in DELLING, et al., \u201cPHAST: Hardware-Accelerated Shortest Path Trees,\u201d Microsoft Research Technical Report No. MSR-TR-2010-125, Microsoft\u00ae Corporation, Redmond, Wash.","The routing determination module  can perform its computations using the local processing functionality , or the remote processing functionality , or a combination of the local processing functionality  and the remote processing functionality . Further, as described above, the computations performed by the routing determination module  can be performed in an offline manner (before they are needed), or in a dynamic manner (as they are needed), or some combination thereof. For example, in an offline manner of operation, the routing determination module  can compute a cost of traversal between each pair of map location elements in a geographic area, where that cost can be expressed in any of the ways described above.","A likelihood calculation module  uses the results of the routing determination module  to compute p(C|c*). More specifically, (C|c*) can be expressed as:",{"@attributes":{"id":"p-0087","num":"0086"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"p","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":"C","mo":"\u2758","msup":{"mi":"c","mo":"*"}}}},{"munderover":{"mo":"\u220f","mrow":{"mi":"i","mo":"=","mn":"2"},"mi":"n"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mo":"{","mtable":{"mtr":[{"mtd":{"mrow":{"mi":["\u03b1","if","is","closer","to","than","any","previous","cell","in","C"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"msub":{"mi":["c","i"]},"msup":{"mi":"c","mo":"*"}}}},{"mtd":{"mrow":{"mn":"1","mo":"-","mrow":{"mi":"\u03b1","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mi":"otherwise","mo":"."}}}}}]}}}],"mo":"="}}}},{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIG. 7","b":["610","610","610","610","610"]},"Less formally stated, the likelihood calculation module  operates to penalize those candidate destinations that the partial path C is successively advancing away from. In contrast, the likelihood calculation module  bolsters the probability of those candidate destinations that the partial path C is successively advancing towards.","Returning to , the prior probability determination module  can include (or can be conceptualized as including) one or more prior probability (PP) calculation modules (e.g., PP calculation modules , . . . , ). Each PP calculation module identifies prior probabilities for candidate destinations with respect to a particular factor, associated, in turn, with a particular prior probability component. For example, a prior probability (PP) calculation module A  can compute the prior probability of the candidate locations based on trip time probability information, as imparted by the trip time prior probability component. A PP calculation module B  can compute the prior probability of the candidate locations based on point-of-interest probability information, as imparted by the point-of-interest prior probability component, and so on.","The prior probability determination module  can compute a consolidated prior probability value p(c*) for a particular candidate destination by multiplying together the component prior probability values computed by the respective individual PP calculation modules (e.g., PP calculation modules , . . . ). For example, assume that there are three factors (a, b, c) that influence the prior probability value (p(c*)) of a particular candidate destination c*; in that case, P(c*)=p(c*)p(c*)p(c*). When computed for all candidate destinations, the values of p(c*) form a distribution of prior probabilities over the geographic area. The prior probability determination module  further normalizes this distribution so that it sums to 1 when summed over all candidate destinations.","Finally, for each candidate destination c*, the destination probability determination module  receives the value of p(C|c*) from the likelihood determination module , and the value of p(c*) from the prior probability determination module . The destination probability determination module  then computes the value of p(c*|C) based on these input values, using the Bayes rule expression set forth above.","B. Illustrative Processes",{"@attributes":{"id":"p-0094","num":"0093"},"figref":["FIG. 8","FIG. 1"],"b":["800","100","100"]},"In block , the path assessment module  receives position information from the position detection module . In block , the path assessment module  updates a current state of the path C based on the position information that is received in block . That is, if the position information indicates that the user has advanced to a new map location element (such as a new cell), then the path assessment module  adds a new cell index value to the end of a series of prior cell index values of the path C (if there are any such prior cell index values). In this example, the path C forms a temporally ordered list of indices defining the cells through which the user has passed.","In block , the transportation determination module  determines the mode of transportation  that is being used to traverse that path. The transportation determination module  can perform this classification task by comparing the spatial and temporal characteristics of the path with telltale patterns and\/or sensor readings associated with different modes of transportation. In block , the transportation mode determination module  determines whether the mode detected in block  represents a newly encountered mode of transportation (that is, in the context of the course of the path). For example, assume that the user starts out on a trip by riding a bus. When the transportation determination module  recognizes this mode of transportation, block  will be answered in the affirmative, but thereafter in the negative. But assume that the user at some point departs the bus and continues his or her trip on foot. When the transportation determination module  recognizes this event, block  will again be answered in the affirmative.","In block , the configuration module  loads a model into the destination prediction module  associated with any newly encountered mode of transportation. As explained above, the model can include multiple components corresponding to different pieces of information that control the operation of the destination prediction module . Some components of the model influence the operation of the likelihood determination module , while other components influence the operation of the prior probability determination module .","In block , the destination prediction module  estimates a most likely destination (or destinations) of the user based on the partial path (specified in block ) and based on the mode of transportation (specified in block ). This determination can be performed using the Bayes rule expression set forth above.","In block , any application can use the results of block  in any way. For example, an application can provide driving suggestions to the user based on the estimated destination, etc.","C. Representative Computing Functionality",{"@attributes":{"id":"p-0101","num":"0100"},"figref":["FIG. 9","FIG. 1","FIG. 5"],"b":["900","900","100","900","900"]},"The computing functionality  can include volatile and non-volatile memory, such as RAM  and ROM , as well as one or more processing devices  (e.g., one or more CPUs, and\/or one or more GPUs, etc.). The computing functionality  also optionally includes various media devices , such as a hard disk module, an optical disk module, and so forth. The computing functionality  can perform various operations identified above when the processing device(s)  executes instructions that are maintained by memory (e.g., RAM , ROM , or elsewhere).","More generally, instructions and other information can be stored on any computer readable medium , including, but not limited to, static memory storage devices, magnetic storage devices, optical storage devices, and so on. The term computer readable medium also encompasses plural storage devices. In all cases, the computer readable medium  represents some form of physical and tangible entity.","The computing functionality  also includes an input\/output module  for receiving various inputs (via input modules ), and for providing various outputs (via output modules). One particular output mechanism may include a presentation module  and an associated graphical user interface (GUI) . The computing functionality  can also include one or more network interfaces  for exchanging data with other devices via one or more communication conduits . One or more communication buses  communicatively couple the above-described components together.","The communication conduit(s)  can be implemented in any manner, e.g., by a local area network, a wide area network (e.g., the Internet), etc., or any combination thereof. The communication conduit(s)  can include any combination of hardwired links, wireless links, routers, gateway functionality, name servers, etc., governed by any protocol or combination of protocols.","Alternatively, or in addition, any of the functions described in Sections A and B can be performed, at least in part, by one or more hardware logic components. For example, without limitation, illustrative types of hardware logic components that can be used include Field-programmable Gate Arrays (FPGAs), Application-specific Integrated Circuits (ASICs), Application-specific Standard Products (ASSPs), System-on-a-chip systems (SOCs), Complex Programmable Logic Devices (CPLDs), etc.","In closing, functionality described herein can employ various mechanisms to ensure the privacy of user data maintained by the functionality. For example, the functionality can allow a user to expressly opt in to (and then expressly opt out of) the provisions of the functionality. The functionality can also provide suitable security mechanisms to ensure the privacy of the user data (such as data-sanitizing mechanisms, encryption mechanisms, password-protection mechanisms, etc.).","Further, the description may have described various concepts in the context of illustrative challenges or problems. This manner of explanation does not constitute an admission that others have appreciated and\/or articulated the challenges or problems in the manner specified herein.","Although the subject matter has been described in language specific to structural features and\/or methodological acts, it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather, the specific features and acts described above are disclosed as example forms of implementing the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 3","FIG. 2"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 4","FIG. 2"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 6","FIG. 1"]},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 7","FIG. 6"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":["FIG. 8","FIG. 1"]},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
