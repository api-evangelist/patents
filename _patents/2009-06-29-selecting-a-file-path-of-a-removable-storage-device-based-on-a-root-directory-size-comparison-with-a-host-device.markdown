---
title: Selecting a file path of a removable storage device based on a root directory size comparison with a host device
abstract: Systems and methods of identifying a file path of a removable storage device are disclosed. A method includes, at a host device that is coupled to the removable storage device, selecting a file path that is associated with the removable storage device by accessing a size associated with a root directory accessible to the host device, where the root directory corresponds to the removable storage device. The file path is selected based upon the size associated with the root directory. The selected file path is verified by initiating a memory access operation using the selected file path.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08433734&OS=08433734&RS=08433734
owner: Sandisk Technologies Inc.
number: 08433734
owner_city: Plano
owner_country: US
publication_date: 20090629
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE DISCLOSURE","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The present disclosure is generally related to storage devices, and more particularly, to accessing data stored on removable storage devices.","Memory cards and other removable storage devices increase the memory capacity of computing platforms, such as phone devices, personal digital assistants, and computers. An application executing on such a computing platform accesses data on a removable storage device by using a known file path, typically including a drive letter.","Respective proprietary computing platforms use different file paths to access removable storage devices. Different versions of applications are consequently developed for each respective computing platform to support the different file paths. For example, multiple versions of a phone application may be developed to communicate with the respective operating systems of different handsets. Such application development for multiple platforms adds costs and complexity during product development.","Systems and methods of identifying a file path to a removable storage device are disclosed. A method includes selecting a file path at a host device where the file path is associated with the removable storage device. The file path may be selected based upon the size of a root directory of a file system that is accessible to the host device. The root directory corresponds to the removable storage device. A root directory may include and comprise the origin of all other directories in a hierarchical file system. The selected file path may be verified by initiating a memory access operation using the selected file path. A result of the memory access operation indicates whether the host has access to the removable storage device.","Referring to , an illustrative embodiment of a system that may be used to identify a file path of a removable storage device is depicted and generally designated . The system  may include a host device , such as a telephone, personal digital assistant, or other computing device. The host device  is operatively coupled to a removable storage device , such as a Secure Digital (SD) or other type of memory card.","The host device  may include a size comparison and file path validation module  for identifying a file path of the removable storage device . The file path may be used by an application  at the host device  to access data stored within the removable storage device . For example, the application  may include a bytecode application that is interpreted by a virtual machine (not shown) implemented at the host device  that generates a request for encrypted data stored on the removable storage device . As an illustration, the application  may be a Java application interpreted by a Java Virtual Machine.","The size comparison and file path validation module  may select a file path that is associated with the removable storage device  by retrieving or otherwise accessing a first root directory  stored within memory accessible to the host device  and corresponding to the removable storage device . The size comparison and file path validation module  may select the file path  based upon a first size  associated with the first root directory . In a particular embodiment, the size comparison and file path validation module  may verify the selected file path by initiating a memory access operation using the selected file path . The result of the memory access operation may indicate that the host  has obtained access to the removable memory storage device .","The size  associated with the first root directory  may be included within the host device  as directory size information . The directory size information  may also include second and third sizes ,  associated with respective second and third root directories ,  stored within a memory  of the host device . In a particular embodiment, the first size  associated with the first root directory  is different than the second and third sizes ,  associated with respective root directories ,  that correspond to file system directories at the host device . For example, the first size  may be smaller or larger than the second size  and third size . The second size  and the third size  associated with respective root directories ,  that correspond to the host device  may be the same size as each other. For example, the second and third sizes ,  may each equal the total memory capacity of the host device . In contrast, the first size  may equal the total memory capacity of the removable storage device .","In a particular embodiment, the size comparison and file path validation module  may initiate a memory access operation , such as a validation command, to verify the selected file path . For example, the validation command may include a test signal sent to a test file (not shown) on the removable storage device . The test file may be created by the host device  to verify a file path of the removable storage device . In such an example, the host device  knows the location of the test file and may use the known location to verify that the test file may be accessed using the validation command. The file path validation module  may identify a result  of the memory access operation  as indicating the removable storage device. For instance, the host device  may await an expected response signal after sending the validation command to the removable storage device .","In a particular embodiment, the validation command may be used to verify an electronic credential stored on the removable storage device . For example, a cryptographic key may be stored as verification data and read from the removable storage device  to verify the file path . In a particular embodiment, a digital certificate stored in the removable storage device  may be verified by the host device .",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1","b":["106","112","110","104","116","118","120","122","102","106","130","104"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 2","b":["200","202","210","202","210","202","210","202","210"]},"The host device  may be coupled to a network , such as a wireless network. The host device  may communicate display data to a display device . The display device  may be coupled to the host device  or integrated with the host device .","The host device  includes the removable storage device , a processor  that has access to the removable storage device  via an interface , a display interface , and a network interface  that is responsive to the network . The interface  is configured to receive the removable storage device . The interface  may include interface circuitry, such as bus connectors coupled to I\/O buffers and latches and output driver circuitry, as well as a controller, to enable sending and receiving data via a bus connector to the removable storage device . The interface  may operate in accordance with a universal serial bus (USB) protocol. For example, the controller  may be programmed to receive USB protocol instructions and data from the host device  via the interface . The interface  may be configured to support additional communication protocols, such as a Secure Digital (SD) protocol, a small computer system interface (SCSI), parallel interface, a Compact Flash (CF) protocol, one or more other protocols, or any combination thereof.","The processor  is configured to automatically select a file path  based upon a size of a root directory  corresponding to the removable storage device . The processor  may verify the selected file path  and access the stored data on the removable storage device . The display interface  may receive data from the processor  and communicate the data to the display device  for display. The removable storage device  includes a memory  and a controller  that controls access to data stored at the memory . The controller  may use a Digital Rights Management component  of the memory  for regulating access to secure data .","The secure data  may include data files  used by an application  resident on the host device . A test file  may be created by the host device  to verify the file path  of the removable storage device . In such an example, the host device  knows the location of the test file  and may use the known location to verify that the test file  may be accessed by the host device .","In the embodiment of , the memory  includes an electronic credential . For example, a cryptographic key may be stored on the removable storage device  to allow the host device  to verify the file path . In a particular embodiment, the memory  of the removable storage device  also includes a root directory  similar to the first root directory  of .","The host device  includes software drivers  that may be executed by the processor  to communicate with various components of the host device , such as the display interface , the network interface , modems, other internal and peripheral hardware, or any combination thereof. Additionally, the host device  includes a representative application  and application program interfaces (APIs)  that may be executed by the processor  to verify that a selected file path is associated with the removable storage device . The application  may include a path table  storing file paths , such as the representative file paths , , and . For example, one or more file paths , , and  may include mapping information between the host device , such as a phone platform, and the removable storage device . To illustrate, when a Java application is launched, the path table  may be included within application memory to enable access to the removable storage device .","In a particular embodiment, the host device  may include a Java platform , as well as a plurality of root directories  associated with the host device . The root directories  may be similar to the second root directory  and the third root directory  of . A root directory list  may include data similar to the directory size information of . The root directory list  may be accessed to determine the sizes of the root directories  of the host device  and the root directory  of the removable storage device .","The host device  may include an operating system . The host device  of  also includes a path identification algorithm  for selecting the file path  to the removable storage device  and a verification algorithm  for verifying the selected file path  of the path table .","Verification data  may be accessed by the verification algorithm  to verify the selected file path . In a particular embodiment, the verification data  may include an electronic credential  to assist in verifying the selected file path . For example, a cryptographic key may be stored as verification data  and be used by the host device  to verify the selected file path .","During operation, the system  that may identify a file path of the removable storage device  at the host device  that is coupled to the removable storage device . Processes executed by the host device  may select one or more file paths  that may be associated with the removable storage device  by accessing a size associated with a root directory  accessible to the host device  and corresponding to the removable storage device . For example, when the file paths  do not provide sufficient information to the application  to determine a path to the removable storage device , a file path, such as the file path , may be selected based upon the size associated with the root directory , using a method described in further detail with respect to . A selected file path  may be verified by initiating a memory access operation using the verified file path, such as the memory access operation  of . A result of the memory access operation, such as the reply  of , may be identified as indicating successful access to data stored at the removable memory storage device .","While the removable storage device  is shown in  as coupled to but external to the host device  and while the removable storage device  is shown in  as embedded within the host device , it should be understood that the functionality of each of the storage devices (e.g.  or ), the functionality of the host devices (e.g. , ), or any functionality of a system including a combination of a removable storage device and a host device may be independent of the location or position (e.g. embedded or external) of the removable storage device operatively coupled to a host. Thus, features or operations described with respect to the system  of  may also apply to the system  of  and vice versa.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 3","FIG. 3","FIG. 1","FIG. 1","FIG. 1"],"b":["300","300","102","302","102","104"]},"A request to access data on the removable storage device may be received, at . For example, an application, such as the application  of , may request data stored on the removable storage device .","A file path may be selected based upon a size associated with a root directory that appears to correspond to the removable storage device, at . The root directory of the removable storage device may be smaller or larger than other root directories corresponding to the host device. The size of the root directories may correspond to the total memory capacity of the device associated with the root directory. The root directories associated with the host device, for example, may each reflect the total memory capacity of the host device. The memory capacity of the host device may differ from the memory capacity of the removable storage device, which may approximate the size of the root directory of the removable storage device. In the example of , the size  that corresponds to the first root directory  may be used to select the file path. Prior to accessing the data from the remote storage device, the method  may optimally include receiving a test file or other verification procedure.","The data stored on the removable storage device may be accessed using the selected file path, at . The file path may be stored for future use, at . For example, the application  of  may store the file path for subsequent access to the data of the removable storage device .","The method  enables an application to identify and use a file path of a removable storage device by providing an automated file path detection and validation process. The method  may facilitate data access for a requesting application resident on a host device without requiring multiple versions of the application for multiple platforms having differing directory naming conventions.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 4","FIG. 1","FIG. 2"],"b":["400","400","102","402","266","254"]},"A determination may be made whether the file path has been located, at . Where the file path is located, a verification of the file path may be attempted, at . For example, a test file, such as the test file  of , on the removable storage device may be accessed by the host to verify the file path. In another example, an electronic credential may be read from the removable storage device to verify the file path. For instance, the electronic credential  stored within the removable storage device  of  may be verified by the host device .","The determination of whether the file path is verified is made, at . When the path is verified, a Secure Digital card may be detected, at . When the file path is alternatively not verified, the absence of a Secure Digital card may be determined, at . In this manner, the method  may determine based on a failed verification attempt that a file path is unassociated with the removable storage device.","When a file path is not located, at , a list of root directories may be generated, at . The listed root directories may include root directories associated with both the host device and the removable storage device. The list may be generated in response to the file path not being found using a system property or the card path table.","A determination may be made as to whether there is one listed root directory, at . Where there is only one root directory, the file path may be verified, at . Alternatively, at , a determination may be made as to whether there are two root directories. Where there are two root directories listed, the file path for each of the two root directories may be verified, at .","Where there are more than two root directories, a differently sized root directory may be located, at . A size of a root directory may include the total capacity of the root directory's file system. For example, the total size of a root directory in a phone memory may be the total capacity of the phone memory, while the total size of a root directory of a memory card may be the total memory capacity of the memory card.","A determination may be made as to whether a differently sized root directory is present, at . For example, a listing of root directories, such as the root directories list  of , may be evaluated. When a differently sized root directory is found, the file path of the root directory may be verified, at . Otherwise, at , a determination may be made that no Secure Digital card is present when a differently sized root directory is not located.","The method  enables the identification of a file path of a removable storage device. The automated processes may enable access to data stored on the removable storage device in the absence of a previously known file path. An attempt may be made to locate the file path within a memory card path table, such as the path table  of , or by using a retrieval command, such as a \u201cfileconn.dir.memorycard\u201d command, prior to automatically selecting the file path associated with the removable storage device. The selection of the file path may be facilitated based upon size differences of respective root directories of a host device and the removable storage device.",{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 5","FIG. 1"],"b":["500","502","108","104"]},"An attempt may be made to locate the file path using a command configured to retrieve the file path of the removable storage device, at . For example, an attempt to locate the file path may be made using a memory card path table, such as the path table  of  stored within the application . In another example, the file path may be located using a command configured to retrieve the file path from the removable storage device. For instance, a \u201cfileconn.dir.memorycard\u201d command or a \u201cSystem.getProperty\u201d command may be issued in an attempt to determine the file path.","A size corresponding to a first root directory associated with a root directory of the removable storage device may be determined by accessing the first root directory, at . Also at , a size corresponding to a second or a plurality of root directories associated with a root directory of the host device may determined by accessing the second root directory (or multiple directories of the host device). For example, the first size  and the second size  of  may be determined for comparison.","The file path associated with the removable storage device may be automatically selected based upon the size corresponding to the root directory of the removable storage device, at . For example, a file path to the removable storage device may be selected based on the root directory of the removable storage device being a different size than other root directories of the host device.","The file path may be verified by initiating a memory access operation using the selected file path, at . A result of the memory access operation may indicate successful access to the removable storage device. An API, such as API  of , may be used to verify that the selected file path is associated with the removable storage device. For example, a test file may be created by the host device as part of a memory access operation to verify a file path of the removable storage device. In another example, an electronic credential on the removable storage device may be interrogated by the host device to validate the file path.","The selected file path may be used to access data from the removable storage device, at . For example, the application  of  may use the file path to access data on the removable storage device .","The method  may enable the identification and use of a file path of a removable storage device. The automated processes may facilitate data access for a requesting application resident on a host device using a single version of the application that is operable with a variety of host device types.","Although various components depicted herein are illustrated as block components and described in general terms, such components may include one or more microprocessors, state machines, or other circuits configured to enable the disclosed data storage devices, such as the size comparison and file path validation module  of , to perform the particular functions attributed to such components. For example, the size comparison and file path validation module  of  may represent one or more physical components, such as controllers, state machines, logic circuits, or other structures to enable the host device  to identify a file path to a removable storage device. In another example, the size comparison and file path validation module  of  may include a processor configured to automatically select the file path  based upon a size  of a root directory corresponding to the removable storage device , to verify the selected file path , and to access the stored data on the removable storage device .","For example, the size comparison and file path validation module  of  may be implemented using a microprocessor or microcontroller programmed to identify a path to a removable storage device. In a particular embodiment, the size comparison and file path validation module  of  includes executable instructions that are executed by a processor and the instructions may be stored at the memory . Alternatively, or in addition, executable instructions that are executed by the processor may be stored at a separate memory location, such as at the removable storage device  or at a read-only memory (ROM) (not shown) at the host device .","In a particular embodiment, the removable storage device  of  may be a portable device configured to be selectively coupled to one or more external devices. However, in other embodiments, the data storage device may be attached or embedded within one or more host devices, such as within a housing of a portable communication device. For example, the data storage device may be within a packaged apparatus such as a wireless telephone, personal digital assistant (PDA), gaming device or console, portable navigation device, or other device that uses internal non-volatile memory. In a particular embodiment, the data storage device  includes a non-volatile memory, such as a flash memory (e.g., NAND, NOR, Multi-Level Cell (MLC), Divided bit-line NOR (DINOR), AND, high capacitive coupling ratio (HiCR), asymmetrical contactless transistor (ACT), or other flash memories), an erasable programmable read-only memory (EPROM), an electrically-erasable programmable read-only memory (EEPROM), a read-only memory (ROM), a one-time programmable memory (OTP), or any other type of memory.","The illustrations of the embodiments described herein are intended to provide a general understanding of the various embodiments. Other embodiments may be utilized and derived from the disclosure, such that structural and logical substitutions and changes may be made without departing from the scope of the disclosure. This disclosure is intended to cover any and all subsequent adaptations or variations of various embodiments. Accordingly, the disclosure and the figures are to be regarded as illustrative rather than restrictive.","The above-disclosed subject matter is to be considered illustrative, and not restrictive, and the appended claims are intended to cover all such modifications, enhancements, and other embodiments, which fall within the scope of the present disclosure. Thus, to the maximum extent allowed by law, the scope of the present invention is to be determined by the broadest permissible interpretation of the following claims and their equivalents, and shall not be restricted or limited by the foregoing detailed description."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
