---
title: Method and system for mobile telemetry device prioritized messaging
abstract: An approach is provided for prioritizing transmission of messages from a telemetry device. A first information element is stored in a device log. A determination is made whether the first information element includes a first priority level indication, and the first information element is stored in a first data structure when it is determined that the first information element includes the first priority level indication. A second information element is stored in the device log. A determination is made whether the second information element includes a second priority level indication, and the second information element is stored in a second data structure when it is determined that the second information element includes the second priority level indication. A first message is transmitted based on the first information element, and after the first message is transmitted, a second message is transmitted based on the second information element, wherein an ordering of transmission is based on the first and second level priority indications.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08799324&OS=08799324&RS=08799324
owner: Verizon Patent and Licensing Inc.
number: 08799324
owner_city: Basking Ridge
owner_country: US
publication_date: 20040116
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE PREFERRED EMBODIMENT"],"p":["The present invention relates to data communications, and more particularly, to prioritizing messages for tracking mobile telemetry devices for fleet and asset management.","Modern wireless networks, such as paging systems, can readily be configured to offer a variety of telemetry services, notably fleet and asset management. The management of vehicles within a fleet as well as assets involves obtaining information, generally in real-time, about the location and movement of these objects. The fleet manager utilizes this information to maximize use of fleet resources. With the advent of the Global Positioning System (GPS) supported by a constellation of satellites, a vehicle may determine its location with great accuracy and convenience if no obstruction exists between the GPS receiver within the vehicle and the satellites. Additionally, in recognition of the utility of real-time location of vehicles, governmental bodies have begun to impose strict requirements for determining position information of emergency 911 callers. Therefore, with the impetus stemming from competitive and regulatory forces, service providers seek to offer an efficient, cost-effective fleet and asset management service with robust capability by effectively integrating GPS technology with wireless networks so as to minimize bandwidth in the exchange of telemetry data.",{"@attributes":{"id":"p-0004","num":"0003"},"figref":"FIG. 11","b":["1101","1103","1103","1101","1103","1105","1107","1107","1105","1105"]},"A GPS device  may determine three-dimensional geolocation from signals obtained from at least four satellites. Measurements from satellite tracking and monitoring stations located around the world are incorporated into orbital models for each satellite to compute precise orbital or clock data. GPS signals are transmitted over two spread spectrum microwave carrier signals that are shared by all of the GPS satellites . The device  must be able to identify the signals from at least four satellites , decode the ephemeris and clock data, determine the pseudo range for each satellite , and compute the position of the receiving antenna. The time required to acquire a position depends on several factors including the number of receiving channels, processing power of the receiving device, and strength of the satellite signals.","The above arrangement, as an autonomous GPS environment, has a number of drawbacks that can hinder its effectiveness as a fleet management system. Because the GPS device  must obtain all of the ephemeris data from the satellite signals, weak signals can be problematic. A building location or a location in any area that does not have clear view of the satellite constellation  can prevent the GPS device  from determining its geolocation. Also, cold start acquisition may consume a few seconds to as much as a few minutes, which is a significant delay for the device's ability to log positional information and evaluate its position against pre-configured alert conditions.","The vehicles  then need to transmit the location information to the wireless network . These transmissions can consume large amounts of bandwidth of the wireless network  if the location information is continually transmitted without attention to the polling scheme and the underlying transmission protocol used to transport such data. Additionally, conventional limitations on the amount of storage available on devices configured for tracking of vehicles  constrain the amount of information that may be retained for communication with the wireless network .","If one of the vehicles  is in imminent danger, e.g., of losing its ability to communicate with the wireless network  for some reason, it may not be able to transmit to the wireless network  information needed for the wireless network  to be able to respond to needs of the vehicle  in a timely manner. This may be especially critical, e.g., if the vehicle  is progressing into a state which may pose an imminent danger to occupants of the vehicle. Additionally, if the vehicle  loses its ability to communicate with the wireless network  for an extended period of time, it may be difficult to determine critical information which was available at the vehicle , but had not been communicated, just prior to the loss of communication with the wireless network .","Therefore, there is a need for a fleet and asset management system that prioritizes information to be sent from the vehicles  to ensure timely acquisition of location information, while ensuring that urgent information is communicated from the vehicle prioritized over other information that is less urgent. There is also a need to maintain certain information that may be available to the vehicle , but that has not been sent from the vehicle  prior to a loss of ability to communicate with the wireless network . There is also a need to efficiently utilize precious resources of the wireless network in support of fleet and asset management services.","These and other needs are addressed by the present invention, in which an approach for tracking mobile telemetry devices over a two-way wireless network in support of fleet and asset management is provided. Each of the telemetry devices can operate in multiple Global Positioning System (GPS) modes: autonomous GPS mode, and mobile-based assisted-GPS (A-GPS) mode. In autonomous mode, GPS data may be acquired with no assistance data provided by the wireless network. When a telemetry device is within the network coverage area of the wireless network, the telemetry device operates in the A-GPS mode, in which assistance data is supplied by an A-GPS server resident within a Network Operations Center (NOC). The assistance data can include ephemeris data, approximate location, time, and other GPS aiding data needed to obtain location quickly or in obstructed view locations (in building, wooded areas, etc.). The NOC also includes a presentation server that executes a number of applications in support of fleet and asset management: a database application for maintaining configuration information of the telemetry devices and the user account information; and a web-based application for serving maps, presenting user interfaces to manage and control user administration, and the device configuration.","Each of the telemetry devices accumulates information for transmission to the provider and stores the information for messages to be transmitted (e.g., messages associated with responses made to a request made to the device, messages that are generated when a status of the device changes, messages generated when alert criteria are met, messages generated when a schedule indicates that data should be transmitted) in multiple prioritized queues to ensure, e.g., that more urgent messages are sent before less urgent messages. Additionally, device data (e.g., GPS information, Input\/Output (I\/O) data, sample times) is stored in a log and may be transmitted if needed. When the prioritized queues are full, no more information is stored in the queues until messages are transmitted from the queues to allow space for more information. The log is configured to delete older data as space become full, so that only newer data is kept in the log. Some of the message information may be derived from data in the data log. The above arrangement advantageously provides timely and prioritized communication of information from the telemetry device, while effectively utilizing limited storage available on the device, and minimizing use of network resources.","According to one aspect of the present invention, a method for prioritizing transmission of messages from a telemetry device is disclosed. The method includes storing a first information element in a device log. The method also includes determining whether the first information element includes a first priority level indication, and storing the first information element in a first data structure when it is determined that the first information element includes the first priority level indication. The method includes storing a second information element in the device log. The method also includes determining whether the second information element includes a second priority level indication and storing the second information element in a second data structure when it is determined that the second information element includes the second priority level indication. The method additionally includes transmitting a first message based on the first information element, and after transmitting the first message, transmitting a second message based on the second information element. An ordering of transmission is based on the first and second level priority indications.","According to another aspect of the present invention, a telemetry device for prioritizing transmission of messages from the telemetry device is disclosed. The telemetry device includes a device log including a first information element and a second information element. The device also includes a first data structure, other than the device log, including the first information element which includes a first priority level indication, and a second data structure, other than the device log, including the second information element which includes a second priority level indication. The device also includes a processor configured to determine whether the first information element includes a first priority level indication, to determine whether the second information element includes a second priority level indication, to transmit a first message based on the first information element, and after transmitting the first message, to transmit a second message based on the second information element. An ordering of transmission is based on the first and second level priority indications.","According to another aspect of the present invention, a computer-readable medium carrying one or more sequences of one or more instructions for prioritizing transmission of messages to be transmitted from a telemetry device is disclosed. The one or more sequences of one or more instructions include instructions which, when executed by one or more processors, cause the one or more processors to perform the steps of storing a first information element in a device log; determining whether the first information element includes a first priority level indication; storing the first information element in a first data structure when it is determined that the first information element includes the first priority level indication; storing a second information element in the device log; determining whether the second information element includes a second priority level indication; storing the second information element in a second data structure when it is determined that the second information element includes the second priority level indication; transmitting a first message based on the first information element; and after transmitting the first message, transmitting a second message based on the second information element, wherein an ordering of transmission is based on the first and second level priority indications.","According to another aspect of the present invention, a method for prioritizing transmission of messages from a telemetry device is disclosed. The method includes storing a plurality of information elements in a device log. The method also includes selectively storing each of a group of the plurality of information elements in one of a plurality of data structures based on a priority indicator associated with each one of the information elements of the group. The method additionally includes selecting one of the plurality of data structures based on one of the priority indicators, and transmitting a message including one of the information elements of the selected one of the data structures.","According to yet another aspect of the present invention, an apparatus for prioritizing transmission of messages from a telemetry device is disclosed. The apparatus includes means for storing a plurality of information elements in a device log. The apparatus also includes means for selectively storing each of the plurality of information elements in one of a plurality of data structures based on a priority indicator associated with each one of the information elements. The apparatus also includes means for selecting one of the plurality of data structures based on one of the priority indicators, and means for transmitting a message including one of the information elements of the selected one of the data structures.","Still other aspects, features, and advantages consistent with the present invention are readily apparent from the following detailed description, simply by illustrating a number of particular embodiments and implementations, including the best mode contemplated for carrying out the present invention. Methods, systems, and articles of manufacture consistent with the present invention are also capable of other and different embodiments, and its several details can be modified in various obvious respects, all without departing from the spirit and scope of the present invention. Accordingly, the drawing and description are to be regarded as illustrative in nature, and not as restrictive.","A system, method, and software for timely and prioritized communication of information from a mobile telemetry device are described. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the present invention. It is apparent, however, to one skilled in the art that the present invention may be practiced without these specific details or with an equivalent arrangement. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the present invention.",{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 1","FIG. 11"],"b":["100","100","101","103","105","103","107","103","101","107","103","100"]},"The NOC  provides the necessary fleet and asset management functions, such as user account creation and management, access control, and deployment of business rules; these functions are more fully described below with respect to . The NOC  also supports remote management capabilities by hosts  over a data network , such as the global Internet.","To better understand the hybrid A-GPS environment of the system , it is instructive to describe the operation of the general operation of a mobile-centric A-GPS system. The telemetry device  has GPS hardware and intelligence, whereby the network  in conjunction with the NOC  employs mechanisms for providing GPS data (or assistance data). The network  includes base transmitters and some base receivers containing GPS hardware from which the ephemeris and approximate location can be obtained, constituting a GPS reference network .","The assistance data that is transmitted to the devices , in an exemplary embodiment, can include ephemeris data differential GPS correct data, timing data and\/or other aiding data. Using the aiding (or assistance) data, the telemetry devices  performs geolocation calculations, yielding a number of advantages. For example, the telemetry devices  can generate real-time speed and route adherence alerts. Additionally, transmission of geolocation data need not be frequent. Transmission of geolocation data is more compact because it is true location rather than pseudo range data. Also, the telemetry devices  can more intelligently request assistance data because the devices  themselves can determine when the ephemeris data is no longer valid.","The hybrid A-GPS system  thus permits fast and precise geolocation when in network coverage of the network , while providing immunity from obstructed view of the sky. Also, the switch to autonomous GPS mode when outside of the coverage area of the network , the devices  can still obtain geolocation data. This data can be stored within the device  and transmitted to the NOC  when the associated vehicle  returns to the network coverage area.","As noted earlier, the telemetry devices  may be attached to a host entity such as a vehicle or other valuable asset. The device may be used to track, monitor, and control aspects of the host entity. These devices  are configurable with respect to the existence and number of digital inputs\/outputs (I\/O), analog inputs\/outputs (I\/O), and device port interfaces for connection with peripheral devices. By way of examples, the digital inputs can be used to monitor various components of the vehicles : ignition status, door lock status, generic switch status, headlight status, and seat occupancy status. The digital outputs can be used to control, for example, the starter, and door locks, and to monitor such parameters as engine temperature, cargo temperature, oil pressure, fuel level, ambient temperature, and battery voltage. The exact configuration of the telemetry devices  can be based on cost consideration and\/or applications.","The telemetry devices , in an exemplary embodiment, employ a wireless protocol to receive commands and transmit data and alerts (e.g., high speed alert) over the radio network . Additionally, the telemetry devices  can queue alerts, message responses, and scheduled data, whereby if the devices  are unable to send the messages, the messages are queued and sent when the device  returns to wireless network coverage. Prioritized queues are used and include, for example, queues for high, normal, and low priority messages. In the exemplary implementation, critical device status changes are given highest priority, while other alerts and responses are given normal priority. Scheduled data messages are given the lowest priority. The queues are configured, as first in yields first out, wherein new messages are dropped when its corresponding queue is full. This arrangement advantageously allows for the status of the device  at the time of transmission failure to be known even when the data stored in the data log at time of the transmission has been overwritten.","The telemetry devices  can also respond to status (e.g., of position, speed, digital I\/O port status, analog input channel status, peripheral status or other device status) queries transmitted by the NOC . The status query may request either current status or status within a time and date range. The device  responds to the query with either the current status or all status within the date range that is currently stored in the device's data log.","As regards data logging, the devices  support use of one or more schedules for the data acquisition. The data logging involves storing of the data locally on the device . This data, which can include position, speed, digital I\/O port status, analog input channel status, peripheral status or other device status, is not automatically transmitted over the air. Instead, the data is stored for a finite period of time and made available for use by scheduled data acquisitions, data acquisitions on demand, and data acquisitions with alerts. The data log is circular in that when the last available memory for the data logger has been written, the data logger begins recording new data at the first location of memory available for the data logger.","With scheduled acquisitions of the data collected by the data logger, the data within the data log is transmitted by the device  according to a configurable schedule at the configured transmission rate. Multiple schedules may be configured on the device . Schedules are configured to obtain data at a regular interval based upon calendar time and date. Schedules may be configured such that they are enabled and disabled based upon status of a digital input. For example, an ignition status input may be used to turn a schedule on when the engine is on and turn the schedule off when the engine is off. A Response (or Data) Message Window value can be configured on the device , such that the device  delays sending scheduled data using an Offset within the Data Message Window (shown in ). That is, the scheduled transmit time is adjusted by the Offset, the device  delays queuing the scheduled data until the time is equal to the transmit time plus the Offset. Use of the Data Message Window helps prevent overwhelming the wireless network when many devices are scheduled to transmit data at the same time. For example, it is likely that many schedules will be based upon transmitting on the hour, half past the hour, or at fifteen minute intervals. Using the Offset ensures that the scheduled data transmissions from all of the devices with similar schedules are not sent at precisely the same time. Given the precision of the telemetry device's clock (as it is based upon GPS time), this randomization of regularly scheduled device transmissions is particularly useful.","As mentioned previously, the telemetry devices  can be configured to monitor a variety of information relating to the vehicle or asset through the digital I\/O and analog I\/O. For instance, alerts can be used to indicate status change of the digital inputs. Each Digital Input Status Change Alert can be enabled and disabled through configuration. The alert may be configured to transmit other device status recorded at the time of the alert such as position, speed, status of other digital I\/O ports, analog input status, peripheral status, or other device status. As regards the digital output, the status of each available digital output can be changed or read.","Similarly, the statuses of analog inputs of the devices  are monitored for change. In an exemplary embodiment, multiple threshold levels (e.g., high and low) can be set, whereby alerts are generated (e.g., Low Range Entry alert, Low Range Exit, High Range Entry, and High Range Exit). That is, if the value of the Analog Input falls below the Low Threshold, a Low Range Entry Alert is generated. If the value of the Analog Input rises above the Low Threshold plus a Hysteresis value, a Low Range Exit Alert is generated. In similar fashion, if the value of the Analog Input rises above the High Threshold minus a Hysteresis value, a High Range Entry Alert is output from the device . Also, if the value of the Analog Input falls below the High Threshold, a High Range Exit Alert is generated. The alert may be configured to transmit other device status recorded at the time of the alert such as position, speed, status of other digital I\/O ports, analog input status, peripheral status, or other device status.","By way of example, the devices  can be used to monitor excessive speed via a High Speed Alert Control, whereby a High Speed Threshold can be set by a fleet manager. In addition, a duration parameter (i.e., High Speed Duration) can be utilized to specify the time at which the High Speed Threshold must be exceeded before an alert is generated. Further, a configurable High Speed Hysteresis parameter is set as the delta change below the High Speed Threshold used to determine when the High Speed Threshold has no longer been exceeded. The alert may be configured to transmit other device status recorded at the time of the alert such as position, speed, status of other digital I\/O ports, analog input status, peripheral status, or other device status.","The system  also permits users via the hosts  to specify and configure areas of interest within the coverage area of the network  such that alerts can be generated when a device  enters or exits the configured areas. The alert may be configured to transmit other device status recorded at the time of the alert such as position, speed, status of other digital I\/O ports, analog input status, peripheral status, or other device status.","The data collected and transmitted by the telemetry devices  are processed by the NOC , the components of which are described in .",{"@attributes":{"id":"p-0048","num":"0047"},"figref":["FIG. 2","FIG. 1","FIG. 1"],"i":"a ","b":["103","107","103"]},"In this exemplary embodiment, the telemetry device  includes a two-way wireless modem  for receiving and transmitting signals over the wireless network  according to the communication protocols supported by the wireless network , such as the Motorola ReFLEX\u2122 protocol for two-way paging. By way of example, a Karli ReFLEX\u2122 module by Advantra International can be used for the modem . The two-way wireless modem  couples to a two-way wireless antenna (not shown) that can be placed local to the device  or remote from the device  (e.g., 12 or more feet) to enhance flexibility in installation.","The telemetry device  also contains a GPS module  that is capable of operating in the multiple GPS modes: autonomous GPS mode, and mobile-based A-GPS mode. The GPS module  can employ, for example, a GPS receiver manufactured by FastraX\u2014iTrax02\/4. In autonomous mode, GPS data may be acquired with no assistance data provided by the wireless network . The GPS module  operates in the A-GPS mode when the device  is in wireless network coverage, in which assistance data is supplied and can include ephemeris data and data to obtain location in obstructed view locations (in building, wooded areas, etc.). Further, the assistance can include differential GPS (DGPS) to enhance location accuracy under some conditions. The GPS module  couples to a GPS antenna (not shown) that can be placed local to the device  or remote from the device  (e.g., 12 or more feet) to enhance flexibility in installation.","Attachment of peripheral modules to the telemetry device  is supported by one or more peripheral ports . The ports , for example, can be used to connect to intelligent peripherals that operate according to business rules and logic. These business rules and logic can be housed in a vehicle harness (not shown), which include an On-Board Diagnostic (OBDII) interface and intelligence. Under this arrangement, a user (e.g., fleet manager) can query any parameter available through the OBDII interface. For example, data obtained for each tracking record can include any combination of the following items: RPM (Revolutions Per Minute), oil pressure, coolant temperature, etc. Such data recorded by the telemetry device  is stored in memory . The acquisition period for the data is configurable, as well as the transmission interval to the NOC . Furthermore, the monitoring and subsequent data exchange can be governed by a configurable schedule, which can specify such parameters as start date, start time, end time, recurrence (e.g., daily, weekly, monthly, etc.), and duration.","Data is logged by a data logger , made available for use by scheduled data acquisitions, data acquisitions on demand, and data acquisitions associated with alerts. As mentioned, the telemetry device  also can be configured to include digital I\/O  and analog I\/O  for monitoring and control of the vehicle or asset. The data logger  also collects data associated with these I\/O ports , .","The telemetry device  also includes a processor  that may handle arithmetic computations, and may support operating system and application processing. The processor , while shown as a single block, may be configured as multiple processors, any of which may support multipurpose processing, or which may support a single function.","The memory  of the telemetry device  can be organized to include multiple queues for prioritizing the messages to be processed by the device . In an exemplary embodiment, the memory  includes a High Priority queue , a Medium Priority queue , and Low Priority queue . The memory , while shown as a single block, may be configured as multiple memory devices, any of which may support static or dynamic storage, and may include code for operating system functionality, microcode, or application code.","Data recorded by the telemetry device  may additionally be stored in a storage medium other than the prioritized queues , , and , such as in a flash memory . A log (not shown) of information may be kept for storing data such as GPS information, I\/O data, and sample times. Message information that may be kept in the prioritized queues , , and  includes, e.g., message information associated with responses to a request made to the telemetry device , message information that is generated when the status of the telemetry device  changes, message information that is generated when alert criteria are met, and message information that is generated when a schedule indicates that data should be transmitted. Storage devices have only a finite amount of space for storage of information, and thus the information for only a finite number of messages may be stored in either the prioritized queues , ,  or the flash memory .","The prioritized queues , , and  may be stored in the flash memory  when external power fails (e.g., while operating on internal power before shutting down the telemetry device  so that the message information is not lost). When power is restored, the information is restored to the memory  and the messages may then be transmitted.","In an exemplary embodiment, information collected, e.g., for up to a 72-hour period may be stored in the log in the flash memory . The information may be stored in the log as elements in a queue, in which the information elements are processed according to a first-in-first-out scheme.","To improve availability of the telemetry device , an internal battery  is optionally included. With the internal battery  the telemetry device  can continue to monitor and transmit alerts and status information to the NOC  even if the electrical system of a vehicle is inoperable. Additionally, the internal battery  can be used by the device  to gracefully report power status wirelessly and shut down gracefully when the energy level of the internal battery is becoming to low to sustain operation of the device.","The functions of the NOC , which interacts with the telemetry devices  to exchange information for supporting fleet and asset management, are detailed with respect to .",{"@attributes":{"id":"p-0060","num":"0059"},"figref":["FIG. 2","FIG. 2"],"i":["b ","a"],"b":["234","234","215","217","219","213","223"]},"As shown, the queue  includes a Head  indicator, which indicates a location of the current \u201chead,\u201d or first element (next in line to be processed), and a Tail  indicator which indicates the current \u201ctail,\u201d or last element (last in line to be processed) in the queue. The Head  and Tail  may, e.g., be implemented as an index into an array (if the queue  is implemented as an array), or, e.g., an absolute address or other reference type to the respective elements if the queue  is implemented, e.g., as a linked list or other suitable abstract data type.","As shown in , the Head  currently references an element \u201cmsg1,\u201d and the Tail  currently references an element \u201cmsgn.\u201d Typical processing of a queue , for preparation of a stored message for transmission, involves accessing the current first element via the Head , and updating the Head  to reference the next element, which in this example, is \u201cmsg2.\u201d This type of processing continues until the queue is empty, i.e., there are no elements left to process. Addition of new elements is accomplished by determining the \u201cnext\u201d storage location in the queue to be considered the next location after the current \u201ctail\u201d element. For the example shown in , the next available storage would be the slot shown immediately to the right of \u201cmsgn.\u201d The new element is stored at the slot, and the Tail  reference is updated to reflect the position of the new \u201ctail\u201d element. For the example shown in , when the current \u201ctail\u201d element is stored in the rightmost slot in the available storage, the addition procedure involves an attempt to add the next new element in the leftmost slot shown.","In the case of the prioritized queues , ,  shown in the memory , if an addition attempt involves overwriting an active element (e.g., overwriting an element currently referenced by Head ), the write is refused (i.e., the queue , , or  is full, and the new element is not stored in queue , , or ), thus maintaining only the older information, and not the newer information after filling up the prioritized queue , , or  as shown in the memory .","In the case of a log (not shown) which may be stored in the flash memory , the new element overwrites the older element referenced by the Head , and the Head  is updated to reference the next element in the queue , thus maintaining only newer information in the queue  for the log.",{"@attributes":{"id":"p-0065","num":"0064"},"figref":["FIG. 2","FIG. 2"],"i":["c ","a"],"b":["215","217","219","103","103","215","217","215"]},"Once information has been stored in the prioritized queues , , and  as discussed above, the processing of messages for transmission from the device may be handled according to the exemplary method steps as shown in . After starting, at step , a determination is made whether the High Priority Queue  is empty. This determination may be made, e.g., by simply comparing the Head  and the Tail , or it may be made by checking a flag or counter (not shown) indicating whether there are any elements currently stored in the High Priority Queue .","If it is determined that the High Priority Queue  is not empty, then step  processes the information stored at the \u201chead\u201d of the High Priority Queue , step  updates the Head  for the High Priority Queue , and control returns to step .","If step  determines that the High Priority Queue  is empty, step  determines whether the Medium Priority Queue  is empty. If it is determined that the Medium Priority Queue  is not empty, then step  processes the information stored at the \u201chead\u201d of the Medium Priority Queue , step  updates the Head  for the Medium Priority Queue , and control returns to step . Thus, any elements which may have arrived at the High Priority Queue  during the processing of an element of the Medium Priority Queue  will receive a higher priority in processing than elements in the other prioritized queues.","If step  determines that the Medium Priority Queue  is empty, step  determines whether the High Priority Queue  is empty. If step  determines that the High Priority Queue  is not empty, control is passed to step  to process a High Priority Queue  element.","If step  determines that the High Priority Queue  is empty, step  determines whether the Low Priority Queue  is empty. If step  determines that the Low Priority Queue  is empty, control is passed to step .","If step  determines that the Low Priority Queue  is not empty, then step  processes the information stored at the \u201chead\u201d of the Low Priority Queue , step  updates the Head  for the Low Priority Queue , and control returns to step . Thus, any elements which may have arrived at the High Priority Queue  during the processing of an element of the Low Priority Queue  will receive a higher priority in processing than elements in the other prioritized queues.","The exemplary arrangement discussed above ensures that information considered urgent, or high priority, will be processed and transmitted before less urgent information, in a prioritized ordering of high, medium, low.","Additionally, by keeping newer log information in the log in the flash memory , deleting the older log information in the flash memory as storage capacity is filled, the newer log information is available, e.g., by request later if, e.g., the telemetry device  becomes unable to transmit information for some period of time (e.g., out of range of the provider, failure of communication facilities). By keeping the older message information in the prioritized queues , ,  shown in the memory  when the storage capacity of the prioritized queues , ,  is filled (i.e., not storing newer message information after the prioritized queues , ,  become full), at least some older message information is still available after communication with the telemetry device  is restored, thus providing, at least, a capability of analyzing the information available at the time of the breakdown in communication (e.g., as an aid in determining a potential source of failure, as well as aiding in providing information which may no longer be stored in the device log), as well as a capability to provide some of the newer log information which has been accumulated in the flash memory  over a time period which may be determined, e.g., by the available capacity of the flash memory . Additionally, the above discussion included only three prioritized queues, whereas any number of prioritized queues may be used.","It is to be understood that this explanation is directed to a specific example of prioritizing information to be transmitted, and is not intended to be limiting over other equivalent means of prioritizing information to be sent by the telemetry device . For example, the above description relies upon ordering elements within queues , ,  based upon their time of \u201carrival\u201d for placement in the queues , , . This could instead be implemented by, e.g., using a buffer area for arriving information, and ordering the information in the buffer by type of information (e.g., response message information, alert message) before storing the information in the queue , , .",{"@attributes":{"id":"p-0075","num":"0074"},"figref":["FIG. 3","FIG. 1"],"b":["101","103","101","301","103","101","103","303","305","307","307","309","311","101","111","109","109","313"]},"Although a single server is shown for the presentation server , in the alternative, the server  can functionally be implemented as three separate servers: a database server, a middleware server, and a web server. The database server is responsible for data storing, data updating, and data retrieval as well as providing a set of interfaces to achieve these functions. The web server is responsible for serving maps, presenting user interfaces to manage and control user administration, device configuration, and etc. The middleware server can be deployed between the database server and the web server, and has the following responsibilities: 1) converting the web server's data retrieval requests to database server APIs and then sending to database server, 2) receiving the responses from the database server and then sending back to web server, 3) receiving data from gateway  and then sending requests to the database to store\/update data records. Because of the modularity in this design, these three components can reside on the same machine, as shown in , or reside in multiple platforms.","Messages from the telemetry devices  are forwarded by the messaging server  to either the A-GPS server  or the routing server . If the message is an assist request, this message is sent to the A-GPS server . In response to the GPS assist request, the A-GPS server  determines GPS assistance data for transmission to the requesting telemetry device .","The A-GPS server  obtains ephemeris data from the GPS reference network , and determines satellite configuration for each of the geographic zones comprising the wireless network. The A-GPS server  also determines the assistance data for each geographic zone. The NOC  then periodically broadcasts the assistance data to each geographic zone. In addition, the A-GPS server  supplies GPS assistance data to any telemetry device  that requests the GPS assistance data. When supporting this request, the NOC  determines approximate location of the requesting device  (based upon base receivers that received the request, using a type of triangulation. Subsequently, a GPS Assistance message is generated by the A-GPS server  to send to the telemetry device  based upon its approximate location. The messaging server  sends the GPS Assistance message to the particular telemetry device .","Thus, the A-GPS server  delivers GPS assistance data through two mechanisms by periodically broadcasting GPS assistance data to all devices  in each of the geographic zones covered by the wireless network , or by responding to specific requests by the telemetry devices  for GPS assistance data.","The routing server  has responsibility for routing of the messages from the telemetry devices , and managing such messages from the devices  to their server destinations. Each device  can be configured to have messages directed to one or more destination servers. The routing server , upon receiving message from a telemetry device , determines a destination address that has been configured for the device  and modifies the destination address accordingly. The message is then forwarded to the configured destination. By default, the messages are directed to the gateway .","The gateway  interfaces with the presentation server  to permit the desktop client  access to the fleet and asset management system. The gateway  provides translation of messages and commands from the presentation server  to the wireless protocol for communication with the telemetry devices . For example, the gateway  supports an eXtensible Markup Language (XML) interface, such that XML commands submitted to the gateway  over wireline are converted to the wireless protocol commands and sent over the paging network  to the devices . In turn, the wireless protocol messages received from the devices  are converted to wireline XML messages. The gateway  provides translation of wireline messages and commands from the host  to the wireless protocol for communication with the telemetry devices . In turn, the wireless protocol messages received from the devices  are converted to wireline XML messages and sent to host .","The presentation server  provides the following functions: fleet and asset tracking, and general purpose I\/O monitoring and control. The server  also maintains a database (not shown) for user accounts and other related data (e.g., configuration data, user management information, device management, and data acquired from the devices ). The presentation server , as mentioned, also generates the maps corresponding to where the devices  are tracked and the mapping preferences configured. Using the desktop client , a user can even issue requests to command a particular device , such as requesting location of the device .","With the presentation server  as a front end, a user via the desktop client  can configure the telemetry devices  via web interfaces. In an exemplary embodiment, the server  is a World Wide Web (\u201cweb\u201d) application server to support a web browser based front-end for the desktop clients . The web application server (not shown) can be deployed to support such web interfaces as a set of Java Server Pages (JSP) and Java Applet to interact with the user on the desktop client . On the backend, based on data collected by JSP and Java Applet, the web server can generate the proper XML commands that are compliant with Application Programming Interface (API) of the presentation server . Consequently, the collected records can be stored in the database of the presentation server . The database also stores the properties of the telemetry devices , such as the alerts and thresholds earlier described.","The desktop client  interfaces to the system  through the presentation server . From the desktop client , the user logs in to the system . The presentation server  can also perform authentication as well as administration tasks such as adding new users or devices . The user can also configure business rules executed by the presentation server , wherein the business rules logic uses this user supplied configuration to configure the devices , acquire, and process data from the devices .","Additionally, the presentation server  provides a reporting capability based on the stored information in the database. The presentation server  can support standard reports or customize reports to the user via the desktop client .","Instead of using a desktop client , the user, if associated with a large organization, can utilize an enterprise server to obtain all of the user functionality through the gateway  using the API of the fleet and asset management system . Accordingly, the enterprise server would possess the functional capabilities of the presentation server , but would be managed by the customer (or user) at the customer's premise, as shown in .","As noted, the wireless protocol supports communications between the NOC  and the telemetry devices . In an exemplary embodiment, the messaging is performed according the FLEXsuite Uniform Addressing & Routing (UAR) protocol (developed by Motorola). The wireless protocol message, which can be encapsulated with an UAR message, is unencrypted.",{"@attributes":{"id":"p-0088","num":"0087"},"figref":["FIG. 4","FIG. 1"],"b":["401","401","401","401","401","401","401"],"i":["a","b","c","d","a","c"]},{"@attributes":{"id":"p-0089","num":"0088"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":["Field","Definition","Data Type","Size"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SIF","Identifies the application","Integer","\u20028 bits"]},{"entry":[{},"protocol used to encode the"]},{"entry":[{},"remaining data in the mes-"]},{"entry":[{},"sage; indicates UAR"]},{"entry":[{},"addressing is used"]},{"entry":["To","Destination Address","UAR \u201cTo","Variable"]},{"entry":["Address",{},"Address\u201d Encoding",{}]},{"entry":["Content","Identifies the format of","UAR Content","24 bits"]},{"entry":["Type","the attached Data","Type",{}]},{"entry":["Data","UAR format data payload","UAR data","Variable"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"With respect to the \u201cTo Address\u201d field , this address can be further specified the following fields: an End-To-End field , a Host field , a Port field , and a Path field . The End-To-End field is utilized for device to server routing. It is noted that no addressing is needed for device to server routing with the exception of an Assisted GPS Request message. Because the routing server  controls message routing from the telemetry device , some of the address information requirement is specific to UAR. Path Addressing, per the Path field , is used for server to device routing, as in the case, for example, addressing of a peripheral device attached to the telemetry device . As shown in , for server to device messaging, message  can be used and includes a SIF field , a To Address field specifying the path, and a Data field . A device to server message  utilizes a SIF field , a To Address field specifying the End-to-End address, and a Data field . In the case of a device to server transmission relating to acquisition of Assisted GPS (e.g., in form of an Assisted GPS request), a message  is provided, and includes a SIF field , a To Address field specifying the End-to-End address and Port , and a Data field ","As regards UAR messages in general, the Data field contains binary formatted data, which is the unencrypted Wireless Protocol (WP) message (as described in ).",{"@attributes":{"id":"p-0092","num":"0091"},"figref":["FIG. 5","FIG. 1","FIG. 1"],"b":["501","501","103","101","103","107","501","103","103","103","103"],"i":["a ","a "]},"The message  also provides a Message Data field for specifying the data (such as data within the data log, and alerts).","According to one embodiment of the present invention, the NOC  can batch the WP messages  to reduce overhead, resulting in a batched message . The batched message  specifies a Message Count field to indicate the number of WP messages  (0 . . . n, where n is an integer) that are contained within the batched message . The WP Message fields , pertain to the corresponding messages specified by the Message Count value in the field ","The messages of  support a number of transactions between the NOC  and the telemetry device . For example, server transactions involve a request being sent from a server (e.g., servers , , and ) to the device  and a response sent from the device  to the server.",{"@attributes":{"id":"p-0096","num":"0095"},"figref":["FIG. 7","FIG. 1"],"b":["311","101","701","307","111","100"]},"The discussion thus far of the fleet and asset management system  has provided security from the telemetry devices  to the NOC  through use of the security server  resident within the NOC . In the alternative, end-to-end encryption can be supported by situating the security server at the customer premise, as described in  and .",{"@attributes":{"id":"p-0098","num":"0097"},"figref":["FIG. 8","FIG. 3"],"b":["801","309","307","311","311","313","803","111","307"]},{"@attributes":{"id":"p-0099","num":"0098"},"figref":"FIG. 9","b":["801","311","313","701"]},{"@attributes":{"id":"p-0100","num":"0099"},"figref":"FIG. 10","b":["1000","1000","1000","1001","1003","1001","1000","1005","1001","1003","1005","1003","1000","1007","1001","1003","1009","1001"]},"The computer system  may be coupled via the bus  to a display , such as a cathode ray tube (CRT), liquid crystal display, active matrix display, or plasma display, for displaying information to a computer user. An input device , such as a keyboard including alphanumeric and other keys, is coupled to the bus  for communicating information and command selections to the processor . Another type of user input device is a cursor control , such as a mouse, a trackball, or cursor direction keys, for communicating direction information and command selections to the processor  and for controlling cursor movement on the display .","According to one embodiment of the invention, the processes of the servers and clients in the system  of  are performed by the computer system , in response to the processor  executing an arrangement of instructions contained in main memory . Such instructions can be read into main memory  from another computer-readable medium, such as the storage device . Execution of the arrangement of instructions contained in main memory  causes the processor  to perform the process steps described herein. One or more processors in a multi-processing arrangement may also be employed to execute the instructions contained in main memory . In alternative embodiments, hard-wired circuitry may be used in place of or in combination with software instructions to implement the embodiment of the present invention. Thus, embodiments of the present invention are not limited to any specific combination of hardware circuitry and software.","The computer system  also includes a communication interface  coupled to bus . The communication interface  provides a two-way data communication coupling to a network link  connected to a local network . For example, the communication interface  may be a digital subscriber line (DSL) card or modem, an integrated services digital network (ISDN) card, a cable modem, a telephone modem, or any other communication interface to provide a data communication connection to a corresponding type of communication line. As another example, communication interface  may be a local area network (LAN) card (e.g. for Ethernet\u2122 or an Asynchronous Transfer Model (ATM) network) to provide a data communication connection to a compatible LAN. Wireless links can also be implemented. In any such implementation, communication interface  sends and receives electrical, electromagnetic, or optical signals that carry digital data streams representing various types of information. Further, the communication interface  can include peripheral interface devices, such as a Universal Serial Bus (USB) interface, a PCMCIA (Personal Computer Memory Card International Association) interface, etc. Although a single communication interface  is depicted in , multiple communication interfaces can also be employed.","The network link  typically provides data communication through one or more networks to other data devices. For example, the network link  may provide a connection through local network  to a host computer , which has connectivity to a network  (e.g. a wide area network (WAN) or the global packet data communication network now commonly referred to as the \u201cInternet\u201d) or to data equipment operated by a service provider. The local network  and the network  both use electrical, electromagnetic, or optical signals to convey information and instructions. The signals through the various networks and the signals on the network link  and through the communication interface , which communicate digital data with the computer system , are exemplary forms of carrier waves bearing the information and instructions.","The computer system  can send messages and receive data, including program code, through the network(s), the network link , and the communication interface . In the Internet example, a server (not shown) might transmit requested code belonging to an application program for implementing an embodiment of the present invention through the network , the local network  and the communication interface . The processor  may execute the transmitted code while being received and\/or store the code in the storage device , or other non-volatile storage for later execution. In this manner, the computer system  may obtain application code in the form of a carrier wave.","The term \u201ccomputer-readable medium\u201d as used herein refers to any medium that participates in providing instructions to the processor  for execution. Such a medium may take many forms, including but not limited to non-volatile media, volatile media, and transmission media. Non-volatile media include, for example, optical or magnetic disks, such as the storage device . Volatile media include dynamic memory, such as main memory . Transmission media include coaxial cables, copper wire and fiber optics, including the wires that comprise the bus . Transmission media can also take the form of acoustic, optical, or electromagnetic waves, such as those generated during radio frequency (RF) and infrared (IR) data communications. Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, any other magnetic medium, a CD-ROM, CDRW, DVD, any other optical medium, punch cards, paper tape, optical mark sheets, any other physical medium with patterns of holes or other optically recognizable indicia, a RAM, a PROM, and EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave, or any other medium from which a computer can read.","Various forms of computer-readable media may be involved in providing instructions to a processor for execution. For example, the instructions for carrying out at least part of the present invention may initially be borne on a magnetic disk of a remote computer. In such a scenario, the remote computer loads the instructions into main memory and sends the instructions over a telephone line using a modem. A modem of a local computer system receives the data on the telephone line and uses an infrared transmitter to convert the data to an infrared signal and transmit the infrared signal to a portable computing device, such as a personal digital assistant (PDA) or a laptop. An infrared detector on the portable computing device receives the information and instructions borne by the infrared signal and places the data on a bus. The bus conveys the data to main memory, from which a processor retrieves and executes the instructions. The instructions received by main memory can optionally be stored on storage device either before or after execution by processor.","The following patent applications are incorporated by reference in their entireties: co-pending U.S. patent application Ser. No. 10\/759,406, filed Jan. 16, 2004, entitled \u201cMethod and System for Scheduling of Data Retrieval from Mobile Telemetry Devices\u201d; co-pending U.S. patent application Ser. No. 10\/758,770, filed Jan. 16, 2004, entitled \u201cMethod and System for Tracking Mobile Telemetry Devices\u201d; co-pending U.S. patent application Ser. No. 10\/758,769, filed Jan. 16, 2004, now abandoned, entitled \u201cMethod and System for Remotely Configuring Mobile Telemetry Devices\u201d; co-pending U.S. patent application Ser. No. 10\/758,930, filed Jan. 16, 2004, entitled \u201cMethod and System for Interfacing with Mobile Telemetry Devices\u201d; co-pending U.S. patent application Ser. No. 10\/759,404, filed Jan. 16, 2004, entitled \u201cMethod and System for Transmitting Assistance Location Data for Fleet and Asset Management\u201d; co-pending U.S. patent application Ser. No. 10\/758,213 filed Jan. 16, 2004, entitled \u201cMethod and System for Tracked Device Location and Route Adherence via Geofencing\u201d; and co-pending U.S. patent application Ser. No. 10\/758,199 filed Jan. 16, 2004, entitled \u201cMethod and System for Secured Wireless Data Transmission to and from a Remote Device.\u201d","While the present invention has been described in connection with a number of embodiments and implementations, the present invention is not so limited but covers various obvious modifications and equivalent arrangements, which fall within the purview of the appended claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention is illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings and in which like reference numerals refer to similar elements and in which:",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 2","FIG. 1"],"i":"a "},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 2","FIG. 2"],"i":["b ","a"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 2","FIG. 2"],"i":["c ","a"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 4","FIG. 1"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 5","FIG. 1"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":["FIG. 6","FIG. 1"]},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 7","FIG. 1"]},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 11"}]},"DETDESC":[{},{}]}
