---
title: Method, system, and program for determining information on a storage system in a network
abstract: Provided are a method, system, and program for providing information on a network storage system. Information is received from host systems identifying storage units the host systems access through at least one identified storage system. The at least one storage system is probed to determine storage units available through the storage system and an identifier of the storage system. The information received from the host systems on storage units the host systems access and the information probed from the at least one storage system on the storage units available through the storage system are processed to determine an association of host systems to storage units for the at least one storage system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07565431&OS=07565431&RS=07565431
owner: International Business Machines Corporation
number: 07565431
owner_city: Armonk
owner_country: US
publication_date: 20031120
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY","DETAILED DESCRIPTION","ADDITIONAL IMPLEMENTATION DETAILS"],"p":["1. Field of the Invention","The present invention relates to a method, system, and program for determining information on a storage system in a network.","2. Description of the Related Art","In prior art storage systems, one or more host computers access a storage subsystem over a network such as a Storage Area Network (SAN). The network storage system may manage access to a storage enclosure including one or more interconnected hard disk drives, where the disk drives may be organized as a Redundant Array of Independent Disks (RAID), a Just a Bunch of Disks (JBOD), Direct Access Storage Device (DASD), etc. The host systems include Host Bus Adaptors (HBAs) providing a network connection to the storage subsystems. Host systems may view the physical storage space as a partition of Logical Unit Numbers (LUNs). The hosts will submit input\/output (I\/O) commands to a particular LUN, and the storage subsystem managing access to such targeted LUNs will translate the target LUN to a physical storage area. The LUNs within a storage subsystem are assigned to the host systems, and the host systems would direct I\/O requests to their assigned LUNs.","Prior art storage subsystems often include a proprietary database to maintain information on attached hosts and LUN assignments and proprietary application programming interfaces (APIs) that may be used to extract information on attached host and LUN assignments and present such information in a report form. For instance, such a reporting API may be issued from a host system or a reporting server to obtain information on the attached hosts and assigned LUNs.","Provided are a method, system, and program for providing information on a network storage system. Information is received from host systems identifying storage units the host systems access through at least one identified storage system. The at least one storage system is probed to determine storage units available through the storage system and an identifier of the storage system. The information received from the host systems on storage units the host systems access and the information probed from the at least one storage system on the storage units available through the storage system are processed to determine an association of host systems to storage units for the at least one storage system.","In the following description, reference is made to the accompanying drawings which form a part hereof and which illustrate several embodiments of the present invention. It is understood that other embodiments may be utilized and structural and operational changes may be made without departing from the scope of the present invention.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1","b":["4","4","4","4","4","4","6","8","6","8","6","8","6","6","6","8","8","8","10","12","14","14","14","4","4","4","10","16"],"i":["a","b","c ","a","b","c ","a","a","b","b","c","c ","a","b","c","a","b","c ","a","b ","n","a","b","c "]},"Each host , , includes an inquiry agent program , , to gather information on the LUNs , . . . to which the HBAs , , , , , connect. The storage system  includes a storage manager interface  through which a system in the network  can access information and perform management operations with respect to the storage system . The configuration information  includes information on the configuration of the storage device , including LUNs , . . . accessible through the storage system . The storage manager interface  may comprise a web server that provides web pages through which another system can access configuration information and perform management operations with respect to the storage system . Additionally, the storage manager interface  may implement Application Programming Interfaces (APIs) that may be called from systems over the network  to access configuration information  and perform management related operations. In further implementations, the storage manager interface  may implement the Common Information Model (CIM) and Web Based Enterprise Management (WBEM) industry standard specifications. CIM provides a representation of a computer\/network system and WBEM allows for the interchange of management information in a network environment including devices from different vendors, where the network may include heterogenous as well as homogeneous devices. The CIM schema specifies a set of classes, including methods and objects, that management programs call to obtain information and perform management operations with respect to devices in the network. Each vendor of a network that is capable of interfacing in a WBEM\/CIM environment may provide a set of device specific extension classes which extend from the CIM classes. The device specific extension classes are managed by management programs through WBEM. A vendor of a network would provide a CIM Provider, which is a program module that maps CIM Classes, Properties, and Methods, as defined by the industry standard CIM model, to device specific APIs, or to another industry standard API, that may implement the functionality of a defined CIM class or extension class for the specific device.","A monitor system  is capable of communicating with the hosts , , and storage system  over the network . The monitor system  includes a storage resource manager  to determine the assignment of host systems , , to storage resources, such as LUNs , , , by interacting with the storage system  and inquiry agents , , in the hosts , , . A storage repository  includes information on the assignment of hosts , , to LUNs , , in the storage device . The storage repository  may comprise a relational or non-relational database of information, or store host and storage system information, and host\/LUN assignment information in other data structures known in the art, such as Extended Markup Language (XML) or other structured documents.","The described implementations show a certain number of hosts and a storage system. In additional implementations, there may be more or fewer host systems and there may be additional storage systems, where hosts may access LUNs managed by multiple storage systems.",{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIGS. 2","FIG. 2","FIG. 3"],"b":["3","4","28","50","10","52","54","14","14","14","12","10","70","18","18","18","72","4","4","4","74","74","76","76","78","78","80"],"i":["a","b ","n ","a","b","c","a","b","c ","a ","n ","a ","n ","a ","n "]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4","b":["90","26","50","70","90","92","94","10","12","10","96","96","98","98"],"i":["a ","n ","a ","n "]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5","b":["18","18","18","4","4","4","24","4","4","4","100","18","18","18","102","4","4","4","18","18","18","18","18","18","18","18","18","104","118","6","8","6","8","6","8","106","10","108","12","10","110","10","14","14","14","10"],"i":["a","b","c ","a","b","c ","a","b ","c","a","b","c ","a","b","c ","a","c ","a","b","c ","a","b","c ","a","a","b","b","c","c ","a","b ","n "]},"The inquiry agent , , then extracts (at block ) the serial number of the storage system  and the LUN ID of the attached disk from the information returned in response to the second inquiry command. The inquiry agent , , further determines (at block ) the host operating system\/file system in which the inquiry agent , , is executing and the logical volume(s) the host assigns to the attached disk. The inquiry agent , , then transmits (at block ) the extracted serial number LUN ID, and volume number of the attached one or more disks, and the determined host operating system\/file system to the monitor system . From the no branch of block  or block , control proceeds (at block ) back to block  for the next determined HBA i.","In alternative implementations, the inquiry agents , , may issue one or more than two inquiry commands to determine information on attached disks and the storage system . Further, if an HBA , , , , , is attached to multiple disks, then the LUN ID and storage system  would be determined and transmitted to the monitor system  for each attached disk.",{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIGS. 6","FIG. 6","FIG. 3","FIG. 3"],"b":["7","8","26","26","150","18","18","18","152","28","70","4","4","4","26","4","70","70","74","76","78","78","4","4","4","152","70","4","4","4","26","156","10","74","76","78","70","80","70","158"],"i":["a","b","c ","a","b","c ","c ","a","a","a ","a","b","c","a","b","c","n","n","n"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 7","FIG. 2"],"b":["26","10","16","26","170","10","26","172","20","10","14","14","14","20","10","10","26","22","10","10","14","14","14","174","14","14","14","10","176","28","50","10","50","178","14","14","14","56","50","176","50","10","50","10","178","28","14","14","14","10"],"i":["a","b ","n","a","b ","n","a","b ","n ","a","b ","n","a","b ","n "]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 8","FIG. 2","FIG. 3","FIG. 2"],"b":["26","4","4","4","10","200","26","202","210","50","28","70","204","76","76","74","74","54","50","26","206","90","4","4","4","98","98","14","14","14","96","96","96","96","26","208","98","98","80","70"],"i":["a","b","c ","a ","n ","a ","n ","a","b","c ","a ","n ","a","b ","n ","a ","n","a ","n","a ","n"]},"The described implementations determine host\/LUN assignments in a manner that ensures that active host\/LUN assignments are reported by determining all available LUNs at a storage system, and then from the hosts, determining which LUNs are available to that host. By using information independently gathered from the hosts on active LUN assignments and from the network storage system, the implementations verify that a host\/LUN assignment is active and recognized from the host perspective, as well as the storage system perspective.","The network management operations described herein may be implemented as a method, apparatus or article of manufacture using standard programming and\/or engineering techniques to produce software, firmware, hardware, or any combination thereof. The term \u201carticle of manufacture\u201d as used herein refers to code or logic implemented in hardware logic (e.g., an integrated circuit chip, Programmable Gate Array (PGA), Application Specific Integrated Circuit (ASIC), etc.) or a computer readable medium, such as magnetic storage medium (e.g., hard disk drives, floppy disks, tape, etc.), optical storage (CD-ROMs, optical disks, etc.), volatile and non-volatile memory devices (e.g., EEPROMs, ROMs, PROMs, RAMs, DRAMs, SRAMs, firmware, programmable logic, etc.). Code in the computer readable medium is accessed and executed by a processor. The code in which preferred embodiments are implemented may further be accessible through a transmission media or from a file server over a network. In such cases, the article of manufacture in which the code is implemented may comprise a transmission media, such as a network transmission line, wireless transmission media, signals propagating through space, radio waves, infrared signals, etc. Thus, the \u201carticle of manufacture\u201d may comprise the medium in which the code is embodied. Additionally, the \u201carticle of manufacture\u201d may comprise a combination of hardware and software components in which the code is embodied, processed, and executed. Of course, those skilled in the art will recognize that many modifications may be made to this configuration without departing from the scope of the present invention, and that the article of manufacture may comprise any information bearing medium known in the art.","In the described implementations, an inquiry agent executing in the host system uses the SCSI inquiry command to determine information on attached disks. In alternative implementations, alternative commands, such as proprietary or other standard interface commands, may be used to determine the information on attached disks. Further, when probing the storage systems, any storage management interface, proprietary or industry standard, may be used to obtain configuration information on the storage system.","In the described implementations, the information on an attached disk comprises a LUN ID. In alternative implementations, the storage space may be segregated into storage units having designations different than a \u201cLUN ID\u201d.","In the described implementations, the storage resource manager  and storage repository  are implemented in a monitor system  (). In alternative implementations, the storage resource manager and storage repository may be implemented in different distributed devices. Alternatively, the storage resource manager  may be implemented in one of the hosts , , or the storage system , as opposed to a separate monitor system .",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIGS. 2","FIGS. 2"],"b":["3","4","3","4"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIGS. 5-8"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 9","FIG. 1"],"b":["300","300","302","304","306","306","306","304","302","308","310","302","312","302"]},"The foregoing description of the implementations has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of the above teaching. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto. The above specification, examples and data provide a complete description of the manufacture and use of the composition of the invention. Since many implementations of the invention can be made without departing from the spirit and scope of the invention, the invention resides in the claims hereinafter appended."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["Referring now to the drawings in which like reference numbers represent corresponding parts throughout:",{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIGS. 2","b":["3","4"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIGS. 5","b":["6","7","8"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":["FIG. 9","FIG. 1"]}]},"DETDESC":[{},{}]}
