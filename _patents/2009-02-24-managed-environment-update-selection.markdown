---
title: Managed environment update selection
abstract: Software update selection information can be obtained for each of multiple machines in a managed environment. The update selection information for each machine can represent selections of software updates corresponding to software installed on the machine. The software update selection information for the machines can be aggregated to produce aggregated software update selection information. In addition, the aggregated software update selection information can be used to produce a subscription set of software update selections corresponding to software to update on the machines. The subscription set can exclude available software update selections that do not correspond to software installed on the machines.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08539477&OS=08539477&RS=08539477
owner: Microsoft Corporation
number: 08539477
owner_city: Redmond
owner_country: US
publication_date: 20090224
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["COPYRIGHT NOTICE AND PERMISSION","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["A portion of the disclosure of the patent document may contain material that is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the patent and trademark office patent files or records, but otherwise reserves all copyright rights whatsoever. The following notice shall apply to this document: Copyright\u00a9 2009, Microsoft Corporation.","In a managed environment, updates for one or more managed machines can be managed by one or more managing machines, and often by a single managing machine. As used herein, machines can be physical or virtual computing machines or other computing configurations that can be updated in a manner similar to physical or virtual machines. As an example, the managing and managed machines can be running server and client components of computing environment management software, such as Microsoft's System Center Essentials information technology (IT) systems management software.","As used herein, a managed environment is an environment where one or more managing machines manage updates for one or more managed machines. The managing machine(s) can also manage other aspects of the managed machines, or such other aspects could be managed by one or more other machines. The managed machines can operate as one or more of many different types of machines in computing environments, such as server machines, client machines, peer machines, etc.","In a managed environment, a user (often an IT professional) typically manually selects from a product list those software products for which updates will be obtained for the environment. The product list can contain a large number of product areas (such as Microsoft's Windows\u00ae operating system, Microsoft's Office productivity software, etc.) and specific products and\/or product versions in each area (such as Windows\u00ae XP operating system with service pack 2). To select the products, the user typically manually reviews software usage patterns in the environment and decides the products for which to obtain updates. The user can then enter update selections by entering appropriate settings in update management software, such as Microsoft's Windows\u00ae Server Update Services software.","Update categories corresponding to the selections can then be obtained from an update source, such as the Microsoft Update software update source. Update categories can include software updates that apply to particular software companies, software products, groups of software products, and\/or versions of software products. The update categories can include one or more human language versions (English, French, Japanese, etc.) of the updates, which can be provided as specified in the software update selection settings.","Whatever the advantages of previous managed environment updating tools and techniques, they have neither recognized the updating tools and techniques described and claimed herein, nor the advantages produced by such tools and techniques.","In one embodiment of the tools and techniques, software update selection information can be obtained for each of multiple machines in a managed environment. The update selection information for each machine can represent selections of software updates corresponding to software installed on the machine. The software update selection information for the machines can be aggregated to produce aggregated software update selection information. In addition, the aggregated software update selection information can be used to produce a subscription set of software update selections corresponding to software to update on the machines. The subscription set can exclude available software update selections that do not correspond to software installed on the machines.","In another embodiment of the tools and techniques, managed machine software update selection indications can be produced for each of a plurality of managed machines in a managed environment. The software update selection indications for each managed machine can indicate software update selections corresponding to software installed on the managed machine. The managed machine software update selection indications for the plurality of managed machines can be aggregated to produce aggregated software update selection indications. Additionally, the aggregated software update selection indications can be used to request available updates corresponding to the aggregated software update selection indications.","In yet another embodiment of the tools and techniques, one or more software products installed on each of a plurality of machines in a managed environment are identified. The one or more software products can correspond to one or more software update selections, and one or more indications of the software update selections can be produced. The software update selections for each of the machines can be aggregated. In addition, available software updates corresponding to the software update selections can be obtained.","This Summary is provided to introduce a selection of concepts in a simplified form. The concepts are further described below in the Detailed Description. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used to limit the scope of the claimed subject matter. Similarly, the invention is not limited to implementations that address the particular techniques, tools, environments, disadvantages, or advantages discussed in the Background, the Detailed Description, or the attached drawings.","Described embodiments are directed to techniques and tools for improved selection of updates in a managed updating environment. Such improvements may result from the use of various techniques and tools separately or in combination.","Such techniques and tools may include obtaining information on software update selections for selecting one or more pertinent software update categories for one or more managed machines. The software update selection information can include information on different software products to be updated. The update selection information can be used to obtain software update categories corresponding to software installed on machines in the managed environment, and it can be used to avoid obtaining software update categories that do not correspond to software installed on machines in the managed environment. This selection of updates can be done automatically, such as periodically according to one or more schedules.","For example, the update selection information for each of the one or more managed machines can be obtained and aggregated, and the resulting aggregated update selection information can be used to request the appropriate update categories for a managed environment. Aggregation includes bringing together and organizing the update selection information for the managed machines so that the update selection information for the managed machines in the managed environment can be used together as a whole. For example, this can include eliminating duplicate update selection information, where the update selection information for multiple managed machines overlaps. In one embodiment, the update selection information for each individual machine in the managed environment (which can include one or more managing machines in addition to one or more managed machines) can be represented in a corresponding machine manifest. Moreover, aggregated update selection information for all the machines in the managed environment can be represented in a managed environment subscription set. The managed environment subscription set can be used to request appropriate update categories from an update source.","The terms manifest and subscription set are used herein broadly to include sets of software update selection information, regardless of the format of that information (e.g., in a single file, in multiple files, etc.). A subscription set refers to a set of software update selection information (such as indications of software update categories) for a managed environment, while a manifest refers to such information for a single machine.","As used herein, update categories refer broadly to categories of software updates, which are typically delivered in a package from an update source. In addition to information on such update categories, software update selection information can include other pertinent information for software update selections in a managed environment. Thus, appropriate software update categories may be automatically obtained using the software update selection information.","Currently, software products to update in a managed environment are selected manually. This manual selection can be an arduous task, given the number of machines (often hundreds) in many managed environments. Thus, it is often a prohibitively time-consuming to actually check the software products installed on each particular machine. Users, such as IT professionals, may generate reports of installed software in a managed environment using existing system management software, such as Microsoft's System Center Essentials software. However, such reports may not provide all the information a user needs to select only those update categories that correspond to installed software in a managed environment. For example, such a report may not indicate whether a specific service pack is installed on a machine, while update categories may correspond to software with specific service packs installed. Thus, a user may not manually request all the service pack categories corresponding to the software installed in the managed environment, thereby potentially missing important updates. To avoid this, a user may request categories applying to all service packs for any installed software, but that can require added work for the managing machine and the user in dealing with unnecessary software update categories.","Because of such limitations and the work involved in manually monitoring software usage and selecting software products to update, users struggle to obtain all the desired updates for a managed environment and to deal with undesired updates. When users obtain too few update categories for a managed environment, then parts of their managed environment can be out of date and possibly unsecure. When users obtain too many update categories, they place extra burdens on themselves and their managing machines.","As noted above, with existing manual software update selection techniques for managed environments, machines and users can be overburdened by too many software updates or left unsecure because of missing software updates for installed software. The tools and techniques described herein can be beneficial in allowing the correct software updates to be selected and obtained without overburdening users and managed environments. Indeed, in some embodiments it can allow the appropriate updates for a managed environment to be selected and obtained automatically according to one or more schedules.","The subject matter defined in the appended claims is not necessarily limited to the benefits described herein. A particular implementation of the invention may provide all, some, or none of the benefits described herein. Although operations for the various techniques are described herein in a particular, sequential order for the sake of presentation, it should be understood that this manner of description encompasses rearrangements in the order of operations, unless a particular ordering is required. For example, operations described sequentially may in some cases be rearranged or performed concurrently. Techniques described herein with reference to flowcharts may be used with one or more of the systems described herein and\/or with one or more other systems. Moreover, for the sake of simplicity, flowcharts may not show the various ways in which particular techniques can be used in conjunction with other techniques.","I. Exemplary Computing Environment",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1","b":"100"},"The computing environment () is not intended to suggest any limitation as to scope of use or functionality of the invention, as the present invention may be implemented in diverse general-purpose or special-purpose computing environments.","With reference to , the computing environment () includes at least one processing unit () and memory (). In , this most basic configuration () is included within a dashed line. The processing unit () executes computer-executable instructions and may be a real or a virtual processor. In a multi-processing system, multiple processing units execute computer-executable instructions to increase processing power. The memory () may be volatile memory (e.g., registers, cache, RAM), non-volatile memory (e.g., ROM, EEPROM, flash memory), or some combination of the two. The memory () stores software () implementing managed environment update selection.","Although the various blocks of  are shown with lines for the sake of clarity, in reality, delineating various components is not so clear and, metaphorically, the lines of this and the other figures would more accurately be grey and fuzzy. For example, one may consider a presentation component such as a display device to be an I\/O component. Also, processors have memory. The inventors hereof recognize that such is the nature of the art and reiterate that the diagram of  is merely illustrative of an exemplary computing device that can be used in connection with one or more embodiments of the present invention. Distinction is not made between such categories as \u201cworkstation,\u201d \u201cserver,\u201d \u201claptop,\u201d \u201chandheld device,\u201d etc., as all are contemplated within the scope of  and reference to \u201ccomputer,\u201d \u201ccomputing environment,\u201d or \u201ccomputing device.\u201d","A computing environment () may have additional features. In , the computing environment () includes storage (), one or more input devices (), one or more output devices (), and one or more communication connections (). An interconnection mechanism (not shown) such as a bus, controller, or network interconnects the components of the computing environment (). Typically, operating system software (not shown) provides an operating environment for other software executing in the computing environment (), and coordinates activities of the components of the computing environment ().","The storage () may be removable or non-removable, and may include magnetic disks, magnetic tapes or cassettes, CD-ROMs, CD-RWs, DVDs, or any other medium which can be used to store information and which can be accessed within the computing environment (). The storage () stores instructions for the software ().","The input device(s) () may be a touch input device such as a keyboard, mouse, pen, or trackball; a voice input device; a scanning device; a network adapter; a CD\/DVD reader; or another device that provides input to the computing environment (). The output device(s) () may be a display, printer, speaker, CD\/DVD-writer, network adapter, or another device that provides output from the computing environment ().","The communication connection(s) () enable communication over a communication medium to another computing entity. Thus, the computing environment () may operate in a networked environment using logical connections to one or more remote computing devices, such as a personal computer, a server, a router, a network PC, a peer device or another common network node. For example, the computing environment () may operate in a managed environment such as the environments described below with reference to . The communication medium conveys information such as data or computer-executable instructions or requests in a modulated data signal. A modulated data signal is a signal that has one or more of its characteristics set or changed in such a manner as to encode information in the signal. By way of example, and not limitation, communication media include wired or wireless techniques implemented with an electrical, optical, RF, infrared, acoustic, or other carrier.","The tools and techniques can be described in the general context of computer-readable media. Computer-readable media are any available media that can be accessed within a computing environment. By way of example, and not limitation, with the computing environment (), computer-readable media include memory (), storage (), and combinations of the above.","The tools and techniques can be described in the general context of computer-executable instructions, such as those included in program modules, being executed in a computing environment on a target real or virtual processor. Generally, program modules include routines, programs, libraries, objects, classes, components, data structures, etc. that perform particular tasks or implement particular abstract data types. The functionality of the program modules may be combined or split between program modules as desired in various embodiments. Computer-executable instructions for program modules may be executed within a local or distributed computing environment. In a distributed computing environment, program modules may be located in both local and remote computer storage media.","For the sake of presentation, the detailed description uses terms like \u201cdetermine,\u201d \u201cchoose,\u201d \u201cselect,\u201d \u201ctransmit,\u201d \u201cadjust,\u201d and \u201coperate\u201d to describe computer operations in a computing environment. These and other similar terms are high-level abstractions for operations performed by a computer, and should not be confused with acts performed by a human being, unless performance of an act by a human being (such as a \u201cuser\u201d) is explicitly noted. The actual computer operations corresponding to these terms vary depending on the implementation.","II. Update Selection Managed Environment","A. Managed Environment Overview",{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 2","b":["200","200","210","200","200","230","210","200","230","200"]},"Alternatively, the managed environment () can include multiple managing machines. For example, multiple managing machines can perform the same functions in parallel to decrease the workload on any particular machine. As another example, different functions of the managing machine () can be split between multiple managing machines.","The managing machine () can include an update selection server component () and a user interface component (), in addition to other components. The server component () can aggregate update selection information for the managed environment () and select corresponding update categories to be requested from the update source ().","The user interface component can allow a user to specify whether to manually select updates to download or let the system automatically select updates for the managed environment (). If a user chooses the automatic setting, automatic selection of updates, as described herein, can be enabled. If the automatic setting is not selected, then automatic update selection can be disabled. If so, then the user interface component () can allow traditional manual selection of software products to update in the managed environment.","The managed environment () can also include one or more managed machines () that can operate as servers, such as fileservers, database servers, etc. Each of those server managed machines () can include an update selection client component (), which can obtain software update selection information for the managed machine (). Each update selection client component () can also send the software update selection information to the update selection server component () in the managing machine (), where it can be aggregated with software update selection information from other machines in the environment ().","Referring still to , the managed environment () can also include one or more client managed machines (), such as client machines in one or more client-server networks and\/or peer machines in one or more peer-to-peer networks. Each of those client managed machines () can include an update selection client component (), which can obtain update selection information for the managed machine () and send the update selection information to the update selection server component () in the managing machine ().","As noted above, the server component () of the managing machine () can receive update selection information for the managed environment (). That update selection information can include the update selection information from the client components ( and ) in the managed machines ( and ), and it can also include update selection information corresponding to software products installed on the managing machine (). The update selection server component () can aggregate the update selection information and use it to make software update selections corresponding to software installed in the managed environment ().","B. Managed Environment Transmissions","Referring to , particular embodiments of some transmissions into and within the managed environment () will be described. It should be understood that transmitted and\/or stored data or documents (e.g., inventories of available updates, manifests with update selection information, subscription sets with update selection information, and software updates) may each be various different formats, such as in one or many files, depending on the embodiment. In addition, the transmissions may be initiated using different transmission techniques, such as typical push (with the sender initiating the transmission) or pull (with the receiver initiating the transmission) techniques. The transmissions may be executed using conventional transmission technology, including conventional transmission protocols, transmission devices, etc.","As is depicted by the cloud illustration between the managing machine () and the update source (), communications between the managing machine () and the update source () can be transmitted via a global computer network (), such as the Internet. For example, the managing machine () can receive an inventory (), which can include indications of available software updates, from the update source () via the global computer network (). The server component () of the managing machine () can pass that inventory () of available software updates on to the client component ( and ) of each of the managed machines ( and ). Each managed machine ( and ) can conduct an interrogation to determine what installed software on the managed machine ( and ) can be updated by corresponding update categories indicated by the inventory ().","Each client component ( and ) of a managed machine ( and ) can send a machine update manifest () to the managing machine (). The update manifest () can include update selection information, such as indications of which of the software update categories from the inventory () of available updates apply to software installed on the managed machine ( and ).","The managing machine () can also conduct an interrogation of its own software and maintain a machine update manifest () for the managing machine (), such as by using scripts like those discussed below with reference to the managing machines. Alternatively, the managing machine () may select updates for itself in some other manner that is separate from the selection of updates for the managed machines ( and ).","The managing machine () can aggregate the update selection information from the machine update manifests () and generate an aggregated subscription set (). This aggregation can include eliminating duplicate update selection information, such as duplicate indications of an update category. The aggregated subscription set () can thus include the update selection information for the managed machines ( and ) in the managed environment, and possibly the update selection information for the managing machine () as well. Aggregation and creation of the aggregated subscription set () can be done by the server component (). Alternatively, the aggregation and creation could be done by different components, and it could even be done by different machines.","Referring still to , the managing machine () can use the aggregated subscription set () to request from the update source () updates represented by the update selection information in the aggregated subscription set (). Accordingly, instead of requesting all the available updates indicated in the inventory (), the managing machine () can request those update categories that apply to software products installed in the managed environment (), and can exclude from the request categories that do not apply to installed software products. In response to this request (which could be in the form of one or multiple requests), the update source () can transmit the requested updates () to the managing machine () in a conventional manner, such as a standard synchronization technique of Windows\u00ae Server Update Services software and Microsoft Update software source. The received updates () can be distributed within the managed environment () using conventional techniques. For example, the updates () can be distributed using available IT management software, such as Windows\u00ae Server Update Services software.","C. Managing and Managed Machine Components","Referring now to , some components of a managing machine () and a managed machine () will be described. The managing machine () can include a managing selection component (). The managing selection component () can communicate with an update manager (). For example, the managing selection component () can be part of a management server software product, such as Microsoft System Essentials management software. The update manager () can be existing update management software that can be executed to obtain updates from an update source and distribute them in a managed environment. For example, the update manager () can be Windows\u00ae Server Update Services server software.","1. The Update Manager","The update manager () can receive available update indications () from the update source, and can pass those indications () on to the managing selection component () to be further passed on to the managed machines (). The available update indications () indicate update subscription items, such as available update categories, which are available from an update source. The available update categories can correspond to software updates for software products, particular versions of software products, groups of software products, or groups of software product versions. The indications can include identifiers such as GUIDs (globally unique identifiers, which may not be guaranteed to be entirely unique) that correspond to update categories.","The update manager () can also access and modify a current subscription set (). The current subscription set () can include a set of indications of update items available from the update source and to which the update manager () is currently subscribing. The indicated update items can be indicated by settings, which can be set by a user in some situations (such as when manual selection of updates is chosen by a user), but they can also be set by the managing selection component () through one or more programming interfaces, as discussed in more detail below. The update manager () can automatically (such as periodically) or manually be prompted to synchronize the update subscription items indicated in the current subscription set () with the update source, and can receive the most recent corresponding updates () from the update source if those updates () have not already been received.","2. Managed Machine Components","Referring still to , some components of a managed machine () will be described. The managing selection component () can prompt discovery tasks on the managed machines () and possibly on the managing machine (). This prompting can result in the corresponding managed machines () and possibly the managing machine () producing machine manifests (), as discussed in more detail below.","Each managed machine () can operate in a managed environment similar to the managed environment () of , or in some other managed environment. The managed machine () can operate as a server, a client, and\/or a peer computer in one or more computer networks.","The managed machine () can include a managed selection component (), which can communicate with the managing selection component () in the managing machine (). The managed selection component () can also communicate with a software interrogator (), which can also reside in the managed machine (). The software interrogator () can access one or more software footprints (), which can be indications of installed software products, software product versions, and\/or groups of software products installed on the managed machine (). For example, the software footprints can include identifiers such as GUIDs corresponding to each software product, product version, and\/or group of software products that corresponds to an update category. These can be the same identifiers as are used by the software source to indicate available software updates in the available update indications (). The software footprints can also include other indications.","The managed selection component () can be triggered by a communication from the managing selection component (), such as a communication that is sent according to a schedule. This schedule could include placing a software discovery task in a queue at a specified time or period according the schedule, as will be discussed in more detail below when discussing the managing selection component () in more detail.",{"@attributes":{"id":"p-0066","num":"0065"},"figref":["FIG. 5","FIG. 5","FIGS. 6-7"],"b":["500","400"],"ul":{"@attributes":{"id":"ul0001","list-style":"none"},"li":["\u201cTarget=SC!Microsoft.SystemCenter.ManagedComputer.\u201d The discovery script is to be entered in a queue to be run on the managed computers repeatedly at timed intervals, as indicated by the following language:","\u201cTypeID=\u2018Windows!Microsoft.Windows.TimedScript.DiscoveryProvider.\u2019\u201d In the example of , the timed interval is 10800 seconds (3 hours), as indicated by the language, \u201c<IntervalSeconds>10800<\/IntervalSeconds>.\u201d In addition, the script to be run on the managed machines is identified by name:","\u201c<ScriptName>Microsoft.SystemCenter.AutoSelect.vbs<\/ScriptName>\u201d. The script \u201cMicrosoft.SystemCenter.AutoSelect.vbs\u201d can include the VBScript code illustrated in , which is to be run on the managed machines (). There are many other ways to trigger the interrogation of the managed machines, including trigging the interrogation with timers or using some other technique on the managed machines ()."]}},"The task of interrogating software on each managed machine () can include the managed selection component () making one or more application programming interface calls to the interrogator (). The interrogator () can include one or more existing modules with the ability to take inventory of pertinent software products on the managed machine (). For example, the interrogator () can include an existing discovery mechanism in System Center Operations Manager software, as well as a Microsoft Update Agent software component.","The managed selection component () can include one or more scripts running on each managed machine (). For example, System Center Operations Manager software can be used to run the script(s) on all the managed machines (). The available update indications () can be downloaded to each managed machine () from the managing machine () using standard transmission techniques, such as using the System Center Operations Manager client and server components. Thus, the managed selection component () can access the available update indications () to determine which indicated software selections from the available update indications () correspond to software installed on the managed machine ().","A script can be run on each managed machine () to invoke a discovery mechanism to walk an existing software category \u201ctree\u201d on the managed machine (), looking for category identifications corresponding to the identifications in the available update indications (). When the script is run, the managed machine () can create discovery instances for each of the identifications in the category tree that match identifications in the available update indications (). Those instances can include the update selection information, such as a corresponding identification for each of one or more discovered software products.","Referring to , an example of a discovery script portion () for walking a software category tree on a managed machine () is shown. The discovery script portion () can be run by itself or as part of a larger script, which may also include the search script portion discussed below with reference to . The script portion () can include error handling routines, variable definitions, etc. In addition, the script portion () can include a core call portion (), which uses a Windows Update agent mechanism to walk the software category tree and return a discovery object for each identification that is found to match an identification in the available update indications (). Thus, the returned discovery objects can indicate which of the available update selections indicated by the available update indications () are recognized as corresponding to software installed on the managed machine (). The discovery objects can then be returned to the managing machine () as part of a machine manifest () using standard techniques, such as using the client and server components of System Center Operations Manager.","The managed selection component () can also include a script portion for calling an interrogation module to search and collect additional information about software installed on the managed machine ().  illustrates an example of such a search script portion () in VBScript language, which can invoke a Windows\u00ae Update Agent software component on the managed machine () to search and return information about software installed on the machine, including information about updates to software programs and\/or drivers. This information can also include the category identifications (such as GUIDs) corresponding to update categories. Thus, the search script portion () can be part of the managed selection component () of , and the Windows\u00ae Update Agent software component can be part of the software interrogator (), which can be invoked by the managed selection component () to collect and return information regarding software installed on the managed machine (). The results of the search script portion () can be returned to the managing machine ().","The results of the search script portion () and the discovery objects returned from the discovery script portion () can be included as update selection information in a machine manifest () for the managed machine ().","3. Managing Selection Component","Referring to , the managing selection component () can receive a machine manifest () for each managed machine (), and possibly for the managing machine (). In addition, the managing selection component () can maintain the machine manifests (), and can aggregate the update selection information from the machine manifests () to produce a new subscription set ().","The managing selection component () can interact with a clock () in the managing machine () to prompt discovery tasks according to one or more schedules, and to aggregate the update selection information according to a schedule. Each time the aggregation is performed, it can use the most recent machine manifest () for each machine in the managed environment. For example, the managing selection component () can enter a discovery task in a queue for each managed machine () periodically, such as every 51 minutes, every 53 minutes, every hour, every two hours, or every three hours. The managing selection component () can aggregate the update selection information from the machine manifests () periodically, such as every 51 minutes, every 53 minutes, every hour, every two hours, or every three hours, once per day, or twice per day. Alternatively, a schedule for aggregation or discovery can be done at random or quasi-random periods, or according to some other scheduling scheme.","Thus, the selection of updates for a managed environment, including obtaining and maintenance of the current subscription set () representing desired updates, can be performed automatically. The update manager () can also run in a standard manner to obtain updates from an update source and to distribute the updates throughout a managed environment, such as automatically according to a schedule.","Alternatively, schedules can be implemented in some other manner. For example, discovery tasks on managed machines () can be triggered by clocks on the managed machines (), rather than being triggered by a clock () on the managing machine ().","After the managing selection component () aggregates the update selection information from the machine manifests () to produce a new subscription set (), the current subscription set () can be compared against the new subscription set (). The managing selection component () can obtain the current subscription set from the update manager () or can access the current subscription set directly. If changes are found, as discussed more below, the new subscription set () can be submitted to the update manager () to replace the current subscription set (). For example, if the update manager () is Windows\u00ae Server Update Services software, the new subscription set () can be transmitted to the update manager () by setting update categories through the ISubscription.SetUpdateCategories( ) application programming interface. The update manager () can be instructed to save the new subscription set () by calling ISubscription.Save( ). If no differences are found between the new subscription set () and the current subscription set (), then the current subscription set () can remain unchanged.","This updating of the settings of the update manager () with a new subscription set () can be done following each update of the current aggregated subscription set (). Thus, each time the aggregated subscription set () is updated, the settings of the update manager () can be set to obtain updates represented by the update selection information in the updated aggregated subscription set ().","If the update manager () is busy and\/or the current subscription set () is in use (e.g., because the update manager () is synchronizing with the update source) when the managing selection component () attempts to instruct the update manager () to save the new subscription set () to replace the current subscription set (), then the new subscription set () may not be saved. If that happens, the managing selection component () can keep trying repeatedly (such as at preset or random intervals) until the update manager () and the current subscription set () are available. If the saving operation fails more than a prescribed number of times (such as twenty-five times), then an error message can be surfaced at a user interface to alert a user that a problem may exist.","As noted above, the managing selection component () can detect whether the new subscription set () has changes compared to the current subscription set (). To do this, the managing selection component () can sort both the existing and updated subscription sets ( and ) and compare the elements of the subscription sets ( and ). For example, the managing selection component () can sort update category instances by their identifiers (e.g., GUIDs) and then compare the resulting sorted identifiers.","If no managed machines () have reported with machine manifests () at the time of aggregation, the managing selection component () can set the update manager () to retrieve only update categories corresponding to software installed on the managing machine (). For example, the categories may correspond to operating system and management software products installed on the managing machine ().","Using the tools and techniques described above, updates for a managed environment can be selected automatically, and those updates can be limited to those that apply to software installed in the managed environment. This can be done with little or no input needed from a user and without overloading the managed environment with updates that do not apply to the managed environment.","III. Managed Environment Update Selection Techniques","Referring now to , a general managed environment update selection technique () will be described. This and other techniques described below may be performed in a managed environment using managing and managed machines such as those described above, or in some other type of managed environment.","The selection technique () can include obtaining () update selection information for one or more machines in the managed environment, such as one or more managing machines and one or more managed machines. The update selection information can be aggregated () to produce () a subscription set for the managed environment.","Referring to , a more specific technique () for selecting, obtaining, and distributing updates will be described. The technique () can include obtaining () software update selection information for one or more machines in a managed environment. Obtaining () the selection information can include obtaining () available software update selection indications, such as indications of available software update categories from a software update source. It can then be determined () whether software corresponding to each of the indicated update selections is installed on the machine(s) in the managed environment.","After the update selection information is obtained () from the machines, the selection information for the machines can be aggregated (). The aggregated update selection information can be used to obtain () pertinent updates for the managed environment.","Obtaining () the pertinent updates can include producing () a new aggregated subscription set for the managed environment. It can then be determined () whether the new subscription set is different from a current subscription set. If so, then the current subscription set can be replaced () with the new subscription set. If not, then the replacement () can be skipped. Updates for the managed environment can be requested () and received () in a standard manner, such as by using synchronization between Windows\u00ae Server Update Services software and Microsoft Update software update source.","Obtained updates can be distributed () to machines in the managed environment in a standard manner, such as by using Windows\u00ae Server Update Services software.","Although the subject matter has been described in language specific to structural features and\/or methodological acts, it is to be understood that the subject matter defined in the appended claims is not necessarily limited to the specific features or acts described above. Rather, the specific features and acts described above are disclosed as example forms of implementing the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 9"}]},"DETDESC":[{},{}]}
