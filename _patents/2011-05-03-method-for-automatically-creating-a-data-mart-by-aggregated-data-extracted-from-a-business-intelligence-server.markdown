---
title: Method for automatically creating a data mart by aggregated data extracted from a business intelligence server
abstract: Systems and methods are described for automating the creation of data marts within an enterprise. Data is maintained in a plurality of data sources that include at least a relational database and a multidimensional database. The system includes a business intelligence server that provides a virtual logical semantic model to integrate all of the plurality of data sources. The user specifies a list of levels and measures on the virtual logical semantic model. The list of levels and measures can span data from multiple data sources. The user can also specify a location in the plurality of data sources that will store the aggregate matrix. Once the list of levels and measures are specified, the business intelligence server generates a multidimensional cube to store the data for the aggregate matrix and stores the multidimensional cube in the data source location.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09218408&OS=09218408&RS=09218408
owner: ORACLE INTERNATIONAL CORPORATION
number: 09218408
owner_city: Redwood Shores
owner_country: US
publication_date: 20110503
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["COPYRIGHT NOTICE","FIELD OF THE INVENTION","BACKGROUND","SUMMARY OF INVENTION","DETAILED DESCRIPTION"],"p":["A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever.","The current invention relates generally to business intelligence and in particular to efficiently accessing data by using aggregates.","In recent years, business intelligence tools have become increasingly utilized by large business enterprises and other organizations. Business intelligence provides current and historical views of business operations by analyzing internal, structured data and business processes of the organization. It is often used to create future models and predictions in order to support better business decision making. As such, business intelligence tools can lead to decreased costs and increased efficiency, productivity and profit margins for many companies.","Business intelligence is usually implemented as software and\/or hardware tools that are used to collect and analyze data and to transform the raw data into meaningful and useful information used to enable more effective strategic, tactical, and operational insights and decision-making. As such, a typical business intelligence server relies on data that may reside in a variety of places, including but not limited to databases, repositories, content management systems, application servers and many other sources.","In a typical business intelligence server, data is collected from all (or some) of these sources and placed into a (virtual or physical) data warehouse or data mart, where it can then be modeled and analyzed before being presented to the user. The creation of such data marts can significantly improve performance. For example, data marts can store aggregate tables, which are physical tables that store aggregates of measures across multiple levels of a hierarchy. These aggregate tables can be thought of as pre-computed results, which are measures that have been aggregated (typically summed) over a set of dimensional attributes. The persistence of such aggregates can improve query performance by providing faster access to specific data than would otherwise be achieved by executing full queries to gather the underlying data. In other words, by pre-computing and storing the desired aggregates ahead of time, query response time is reduced since the server no longer needs to compute and gather all of the results upon each execution of the query.","However, many shortcomings still exist in the creation and automation of such data marts and aggregates. The task of manually creating aggregate tables is tedious, usually requiring writing complicated data definition language (DDL) and\/or data manipulation language (DML) to create tables in the databases involved. Additionally, these tables need to be mapped into the repository metadata to be available for queries. This is a time consuming, and a possibly error prone process. Additionally, as the number of aggregate tables increases, taking advantage of such aggregates and putting them to good use becomes more and more difficult. In light of these inefficiencies, what is desirable is a way to automate, to the greatest extent, the creation of aggregate tables and their mappings into the metadata.","Systems and methods are described for building and maintaining data marts over a variety of different data sources. Aggregates are created and persisted across a plurality of different data sources that include relational databases, as well as multidimensional databases. This allows site administrators to easily build and maintain data marts over a wide variety of data sources and performance enhancing technologies, including but not limited to relational databases, multidimensional database management systems (MDBMS), Online Analytical Processing (OLAP) tools, and the like.","In the various embodiments, a business intelligence server provides a virtual semantic model that incorporates all of the various data sources of the enterprise. The user or administrator can identify a set of queries that tend to be a bottleneck and would thus benefit from aggregated data. The user can specify a list of levels and optionally a list of measures that will be used to create the aggregates. These levels and measures can span multiple data sources. In addition, a target data source can be specified, which will be used to store the generated aggregate. The business intelligence server can then create the multidimensional cube that will store the aggregated data and store the multidimensional cube into the specified target data store.","The invention is illustrated by way of example and not by way of limitation in the figures of the accompanying drawings in which like references indicate similar elements. References to embodiments in this disclosure are not necessarily to the same embodiment, and such references mean at least one. While specific implementations are discussed, it is understood that this is done for illustrative purposes only. A person skilled in the relevant art will recognize that other components and configurations may be used without departing from the scope and spirit of the invention.","In the following description, numerous specific details are set forth to provide a thorough description of the invention. However, it will be apparent to those skilled in the art that the invention may be practiced without these specific details. In other instances, well-known features have not been described in detail so as not to obscure the invention.","In accordance with various embodiments of the invention, systems and methods are described for automating the creation of data marts and aggregates within an enterprise. Data is maintained in a plurality of data sources that include at least a relational database and a multidimensional database. The system includes a business intelligence server that provides a virtual logical semantic model to integrate all of the plurality of data sources. The user specifies a list of levels and measures for the aggregate by using the virtual logical semantic model. The aggregate includes data from one or more of the plurality of data sources. The user can also specify a location in the plurality of data sources that will store the aggregate matrix. Once the input is received for creating the aggregate, the business intelligence server automatically creates a multidimensional cube to store the data for the aggregate and stores the multidimensional cube in the data source location designated by the user.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 1"},"In accordance with various embodiments, the enterprise data is stored in a plurality of different physical data sources, which can include relational databases , multidimensional database management systems (e.g. Oracle Essbase ), Online Analytic Processing tools (e.g. Oracle Analytic Workspace ) and other data sources . In accordance with an embodiment, the business intelligence (BI) server  provides a foundation for defining a semantic model  for the data across the multiple data sources of the enterprise. This single logical model  can accommodate all of the data sources of the enterprise. This can be implemented by providing a presentation layer that is rendered to the user which is mapped to the physical layer that directly models the entities in the data sources. As such, the user is provided with one logical view of data and the BI server maps this view to each physical model of the respective source.","In accordance with various embodiments, the business intelligence server can employ aggregate persistence to improve access to the data in the multiple data sources. In one embodiment, a user (e.g. administrator) can specify measures and levels that need to be aggregated across the plurality of data sources. For example, the user  can define an aggregate matrix  using the virtual semantic model. This aggregate matrix can pull together information across multiple data sources. Because the levels and measures are specified using the virtual semantic model of the BI server, the fact that a particular aggregate spans multiple data sources can be made transparent to the user. In other words, BI server can take care of all appropriate data mapping and the user does not need to specify (or know) which piece of data is residing at which data source.","In accordance with an embodiment, at the time of specifying the levels and measures for the aggregate, the user an also designate a location in one of the plurality data sources where the aggregated data will be physically stored.","Once the list of levels and measures are specified using the virtual model, the BI server can automatically generate the multidimensional cube that contains the data defined in the aggregate matrix and populate the designated data source with the cube. In accordance with an embodiment, the BI server creates metadata, relational dimensions and the cube and stores the cube in the data source specified in the location.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 2"},"As illustrated, an administrator  of a repository logs in and issues the aggregate creation requests against a live analytics server (e.g. a business intelligence server). This process can be automated and scheduled through external means as needed (e.g. using batch files and Windows scheduler). In accordance with certain embodiments, it may be advantageous to perform this aggregate creation against a staging analytics server and tested for some time, before being moved to the production system.","In the example illustrated, the extract, transform and load (ETL)  process is run on the first day of every month. Assuming no metadata changes other than new aggregate addition, the repository file  is brought back to its original state () by removing the system generated aggregates  (the repository file contains the metadata that represents the analytical model). The administrator can then either:\n\n","In accordance with an embodiment, the translator component  receives the input from the administrator  and creates the appropriate metadata and submits structured query language (SQL) statements to the execution engine  to populate the aggregate. In accordance with an embodiment, the execution engine creates the multidimensional cube containing the aggregate and stores the aggregate in the designated data store.","In accordance with an embodiment, to create an aggregate, the business intelligence server can perform the following steps:\n\n","It should be noted that the list of steps above is provided purely for purposes of illustration and is not intended to be limiting on all of the embodiments described herein. It will be apparent to one of ordinary skill in the art that other steps can be implemented by the server to carry out the creation of the aggregate within the scope of the present disclosure.",{"@attributes":{"id":"p-0030","num":"0045"},"figref":"FIG. 3"},"As shown in the illustration, the highlighted query (select \u201cFact\u2014Purchase Cycle Lines\u201d. \u201cReceived Quantity\u201d, \u201cTime\u201d. \u201cYear\u201d from \u201cSourcing\u2014Purchase Cycle Lines\u201d) is the slowest and takes about 30 seconds to run. In accordance with an embodiment, creating an aggregate for \u2018Received Quantity\u201d at the \u201cYear\u201d level would benefit this query greatly. After creating the aggregates for this query, the run time for the query would be substantially reduced (e.g. 2 seconds).",{"@attributes":{"id":"p-0032","num":"0047"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0033","num":"0048"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"245pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"create aggregates"]},{"entry":[{},"\u201cam_ag_Fact_Fins_AR\u201d"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"231pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"for \u201cSiebel Business Analytics\u201d.\u201cFact - Fins (Internal) AR"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"Balance Delta\u201d(\u201cDebit Account Amount\u201d,\u201cCredit Account Amount\u201d,\u201cDebit"},{"entry":"Local Amount\u201d,\u201cCredit Local Amount\u201d,\u201cAR Local Amount\u201d,\u201cDebit Group"},{"entry":"Amount\u201d,\u201cCredit Group Amount\u201d,\u201cAR Group Amount\u201d,\u201cAR Account Amount\u201d)"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"245pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"at levels (\u201cSiebel Business Analytics\u201d.\u201cDate\u201d.\u201cYear\u201d)"]},{"entry":[{},"using connection pool \u201cSiebel Business Analytics Data"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Warehouse\u201d.\u201cSiebel Data Warehouse Connection Pool\u201d"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"245pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"in \u201cSiebel Business Analytics Data Warehouse\u201d;"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"In accordance with an embodiment, the creation of this aggregate reduces the runtime for the sub-query and therefore the total time for the query. In accordance with various embodiments, one could also aggregate the fact table for the fourth sub-query (ID: 189350) which takes 178 seconds, as well as the other sub-queries shown in .",{"@attributes":{"id":"p-0035","num":"0050"},"figref":"FIG. 5"},"As shown in step , enterprises typically maintain data in a wide variety of different data sources. These data sources can include relational databases, multidimensional database management systems (MDBMS), Online Analytical Processing (OLAP) tools, and the like. In accordance with an embodiment, the BI server provides a single virtual semantic model that incorporates all of the plurality of data sources (step ).","In step , the user specifies list of levels for aggregation that span one or more of the plurality of data sources using the virtual semantic model. Optionally, the user can also provide a list of measures. In addition, the user specifies a target data source where the aggregate will be stored (step ). In accordance with an embodiment, this designated target data store is one of the plurality of data sources.","In step , the business intelligence server creates a multidimensional cube to store data for the aggregate and stores the multidimensional cube in the specified data source. In accordance with an embodiment, this can be performed by creating the metadata, physical tables in the target store by using the application programming interfaces (APIs) of the data store or by generating the appropriate SQL statements to execute against the data store.",{"@attributes":{"id":"p-0039","num":"0054"},"figref":"FIG. 6"},"As shown in step , the user first specifies the measures and levels for aggregation. In one embodiment, this is performed using the virtual model on the BI server. In step , the BI server creates the metadata for the dimensions and cube of the underlying multidimensional database. Next in step , the BI server creates relational dimensions for level attributes. Once this is done, the BI server can create the dimensions for the underlying data source (e.g. Essbase) based on the keys from relational dimensions, as shown in step . In step , the BI server then creates the multidimensional cubes based on the keys from relational dimensions and stores the cube(s) in the designated target data source.","Throughout the various contexts described in this disclosure, the embodiments of the invention further encompass computer apparatus, computing systems and machine-readable media configured to carry out the foregoing systems and methods. In addition to an embodiment consisting of specifically designed integrated circuits or other electronics, the present invention may be conveniently implemented using a conventional general purpose or a specialized digital computer or microprocessor programmed according to the teachings of the present disclosure, as will be apparent to those skilled in the computer art.","Appropriate software coding can readily be prepared by skilled programmers based on the teachings of the present disclosure, as will be apparent to those skilled in the software art. The invention may also be implemented by the preparation of application specific integrated circuits or by interconnecting an appropriate network of conventional component circuits, as will be readily apparent to those skilled in the art.","The various embodiments include a computer program product which is a storage medium (media) having instructions stored thereon\/in which can be used to program a general purpose or specialized computing processor(s)\/device(s) to perform any of the features presented herein. The storage medium can include, but is not limited to, one or more of the following: any type of physical media including floppy disks, optical discs, DVDs, CD-ROMs, microdrives, magneto-optical disks, holographic storage, ROMs, RAMs, PRAMS, EPROMs, EEPROMs, DRAMs, VRAMs, flash memory devices, magnetic or optical cards, nanosystems (including molecular memory ICs); and any type of media or device suitable for storing instructions and\/or information. The computer program product can be transmitted in whole or in parts and over one or more public and\/or private networks wherein the transmission includes instructions which can be used by one or more processors to perform any of the features presented herein. In various embodiments, the transmission may include a plurality of separate transmissions. In one embodiment, the computer readable storage medium is non-transitory.","The foregoing description of the preferred embodiments of the present invention has been provided for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise forms disclosed. Many modifications and variations can be apparent to the practitioner skilled in the art. Embodiments were chosen and described in order to best explain the principles of the invention and its practical application, thereby enabling others skilled in the relevant art to understand the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
