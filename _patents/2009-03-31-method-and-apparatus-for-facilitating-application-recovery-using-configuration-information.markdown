---
title: Method and apparatus for facilitating application recovery using configuration information
abstract: A method and apparatus for facilitating application recovery using configuration information is described. In one embodiment, a method for facilitating application recovery using configuration information includes accessing information in memory associated with an application configuration that correlates with source computer hardware for operating an application using at least one processor, identifying at least one portion that is to be restored of the application configuration using the at least one processor and applying the at least one portion of the application configuration in the memory to destination computer hardware using the at least one processor.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09171024&OS=09171024&RS=09171024
owner: Symantec Corporation
number: 09171024
owner_city: Mountain View
owner_country: US
publication_date: 20090331
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["1. Field of the Invention","Embodiments of the present invention generally relate to datacenter management systems and, more particularly, to a method and apparatus for facilitating application recovery using configuration information.","2. Description of the Related Art","In a typical computing environment (e.g., a datacenter), administrators and\/or users desire highly available applications and quick recovery of host computers after a disaster (e.g., power failure, hurricane and\/or the like). Various software programs (e.g., an application) as well as one or more hardware devices (e.g., a server, an array, a switch, a firewall and\/or the like) are employed to provide data and application services to client computers.","Current disaster recovery systems (e.g., SYMANTEC NetBackUp Bare Metal Recovery (NBU-BMR)) store a backup of the host computer (e.g., a physical machine or a virtual machine). When a hardware failure or software fault occurs that disables the host computer, these current disaster recovery systems provisions a bare metal server to restore operations at the host computer or another host computer. Generally, the bare metal server is a computer that does not contain an operating system or any software applications. The bare-metal server may be a computer in which a virtual machine is installed directly on computer hardware rather than within the host operating system (OS). The bare metal server provisioned with an appropriate operating system, application software, file data and a host computer configuration. Configurations associated with the various hardware devices and\/or software programs are backed up regularly to facilitate restoration of one or more hardware and\/or software programs during a failure.","Currently, various recovery techniques (i.e., Bare Metal Host Recovery (BMR) and\/or the like) are employed, but such techniques are restricted to recovering an entire host computer but not an application that is running on the host computer. In addition, an application configuration simply includes configuration information that only the application may view and\/or comprehend. For example, a database name and location, among other application specific parameters, are of significance from the application perspective but not from the file system, logical volume, LUN and\/or a zone on which a storage device associated with the database is assigned.","Disaster recovery techniques for host computers are not flexible and are unable to assure a full application recovery in an efficient manner. For instance, the host may operate three instances of a database application and each instance uses different volumes to storage data. If such host is restored using current techniques, then the new host is configured with all three database instances, but the new host may not have a sufficient amount of storage resources to operate all three database instances. In other words, the current techniques are unable to recover an instance of an application. For example, restoration of only one of the three database instances and any associated volumes is impossible using the current techniques.","Therefore, there is a need in the art for a method and apparatus for facilitating application recovery in a datacenter using configuration information.","Embodiments of the present invention comprise a method and apparatus for facilitating application recovery using configuration information. In one embodiment, a method for facilitating application recovery using configuration information includes accessing information in memory associated with an application configuration that correlates with source computer hardware for operating an application using at least one processor, identifying at least one portion that is to be restored of the application configuration using the at least one processor and applying the at least one portion of the application configuration in the memory to destination computer hardware using the at least one processor.","In another embodiment, an apparatus for facilitating application recovery using configuration information includes a data protection component for accessing information in memory associated with an application configuration that correlates with source computer hardware that operates an application using at least one processor and applying at least one compatible configuration parameter associated with the application configuration of the source computer hardware to destination computer hardware using the at least one processor.","In yet another embodiment, a computer-readable-storage medium comprising one or more processor-executable instructions that, when executed by at least processor, causes the at least one processor to access information associated with an application configuration that correlates with source computer hardware for operating an application, identify at least one portion that is to be restored of the application configuration and apply the at least one portion of the application configuration to destination computer hardware.",{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1","b":["100","100","102","102","102","102","102","104","106","108"],"sub":["1","2","3 ","N"]},"The plurality of devices  are illustrated as a device , a device , a device . . . a device . Each device of the plurality of devices  is a type of a hardware device (e.g., including but not limited to an array, a switch, a router, a firewall and\/or the like) known to one of ordinary skill in the art having the benefit of this disclosure. The plurality of devices  facilitates various computer operations within the system  (e.g., data storage, disaster recovery, application\/file serving and\/or the like).","Even though two or more devices of the plurality of the devices  may be provided by different venders, these devices may perform similar functions and utilize compatible configurations. For example, various configuration parameters (e.g., a LUN size, a number of disks, volume group IDs, an Internet Protocol (IP) address, a SCSI target address and\/or the like) may be common to the two or more devices. As described further below, one or more compatible configuration parameters associated with source computer hardware of the plurality of devices  may be used to configure a target device of the plurality of devices  in order to perform device recovery. In addition, one or more compatible configuration parameters associated with an application running on the source computer hardware may be used to configure the destination computer hardware in order to achieve application recovery.","The host computer  is a type of computing device (e.g., a laptop, a desktop, a Personal Digital Assistant (PDA) and\/or the like), such as those generally known in the art. The host computer  includes a Central Processing Unit (CPU) , various support circuits  and a memory . The CPU  may comprise one or more commercially available microprocessors or microcontrollers that facilitate data processing and storage. The various support circuits  facilitate the operation of the CPU  and include one or more clock circuits, power supplies, cache, input\/output circuits, and the like. The memory  comprises at least one of Read Only Memory (ROM), Random Access Memory (RAM), disk drive storage, optical storage, removable storage and\/or the like. The memory  includes various data, such as application .","The server  is a type of computing device (e.g., a laptop, a desktop, a Personal Digital Assistant (PDA) and\/or the like), such as those generally known in the art. The server  includes a Central Processing Unit (CPU) , various support circuits  and a memory . The CPU  may comprise one or more commercially available microprocessors or microcontrollers that facilitate data processing and storage. The various support circuits  facilitate the operation of the CPU  and include one or more clock circuits, power supplies, cache, input\/output circuits, and the like. The memory  comprises at least one of Read Only Memory (ROM), Random Access Memory (RAM), disk drive storage, optical storage, removable storage and\/or the like. The memory  includes various software packages, such as a data protection component , an integration component , one or more plurality of agents  and an application agent .","The network  comprises a communication system that connects computers by wire, cable, fiber optic and\/or wireless link facilitated by various types of well-known network elements, such as hubs, switches, routers, and the like. The network  may employ various well-known protocols to communicate information amongst the network resources. For example, the network  may be a part of the Internet or Intranet using various communications infrastructure such as Ethernet, WiFi, WiMax, General Packet Radio Service (GPRS), and the like. Furthermore, the network  may form a portion of a Storage Network Area (SAN) using various communications infrastructure such as Ethernet, Fibre Channel, InfiniBand, Internet Small Computer System Interface (iSCSI) and\/or the like.","The plurality of agents  may share various resources (e.g., data sources, application services, protocols, methods and\/or the like) amongst one another. Such sharing is facilitated by execution of the integration component  by the CPU . Accordingly, the integration component  includes software code that is configured to facilitate communication and interaction between various agents of the plurality of the agents . For example, the integration component  includes various plug-ins (e.g., software components) that enable communication between the various agents of the plurality of agents . Because of the various plug-ins, the integration component  is able to apply one or more configuration parameters associated with a source device of the plurality of devices  to a target device of the plurality of devices .","The data protection component  calls the integration component  to select an appropriate agent amongst the plurality of agents  to access various configuration parameters from a particular device of the plurality of devices . Subsequently, the integration component  determines an appropriate agent to extract the parameter data . Once the parameter data  is extracted, the integration component  communicates the parameter data  to the data protection component . The data protection component , in turn, stores the parameter data  as the device configuration information .","The plurality of agents  include various device specific agent software components that are configured to access and\/or extract the parameter data  from the plurality of devices  in order to generate the device configuration information . Each agent of the plurality of agents  may be specific to a particular device of the plurality of the devices . In one embodiment, the plurality of agents  may be executed by the CPU  to access and\/or extract the parameter data  from each device of the plurality of devices . The plurality of agents  communicate the device configuration information  to the server . For example, the plurality of agents  may employ various protocols (e.g., a Simple Network Management Protocol (SNMP), a Small Computer System Interface (SCSI), and\/or the like) to access the parameter data  and\/or communicate the device configuration information .","In one embodiment, the device configuration information  associated with the plurality of devices  may include but not limited to a Logical Unit Number (LUN) configuration of an array, a zoning configuration of a switch, a packet filtering policy of a firewall and\/or the like. The device configuration information  includes various parameters for operating and managing the plurality of devices  (e.g., creating a LUN, assigning a LUN to a host computer, assigning an IP address to a NIC, establishing a SCSI target address for a LUN, adding the host computer to a zone and\/or the like). The plurality of agents  access parameter data  that is associated with the plurality of devices  as described further below.","In one embodiment, the application configuration information  includes various configuration parameters associated with operating one or more applications (e.g., the application ) on the host computer  and the plurality of devices . Each application configuration reflects relationships between an instance of an application and one or more computer hardware components (e.g., operating systems, storage services, networking and\/or the like). As described further below, the various parameters may enable application recovery using an application configuration that correlates with the related computer hardware components on the host computer  and the plurality of devices  that are used to operate the application  at the host computer . For example, the various parameters stored within the application configuration information  may represent an instance of the application  (e.g., a database application, such as ORACLE Database) as well as any related computer hardware component configurations (e.g., a directory, a volume id, a volume group, Logical Unit Number (LUN) exported by an array and\/or the like).","The application agent  may be configured to generate the application configuration information  and establish appropriate relationships\/dependencies between the application  and various related computer hardware components within the host computer  and\/or the plurality of devices  (e.g., a Storage Area Network (SAN), Network Interface Cards (NICs), a disk array, a fibre chanel switch and\/or the like). The various related computer hardware components may be critical for operating the application . The application agent  is configured to access information related to data files, index files and volumes that are linked to an LUN or an array. For example, the application agent  identifies and configures a destination NIC with an Internet Protocol (IP) address previously used at a source NIC at the host computer .","The data protection component  cooperates with the integration component  to discover the plurality of devices  and one or more computer hardware components within the host computer . As an example and not as a limitation, the integration component  (e.g., VERITAS Enterprise Administrator (VEA)) may utilize various agents (e.g., VERITAS Array Integration Layer (VAIL), SAL, and CommandCentral (CC)) to discover computer hardware components and access configuration parameters. In one embodiment, the data protection component  utilizes the application agent  to capture the application configuration information  associated with the application  running on the host computer  as well as one or more related computer hardware components.","The data protection component  may request the device configuration information  through the integration component . Hence, the integration component  selects an appropriate device agent amongst the plurality of agents  to extract the device configuration information . For example, the data protection component  may utilize an interface (e.g., an Application Programming Interface (API), Command Line Interface (CLI), and\/or the like) provided by the integration component  to issue such requests. The data protection component  stores the device configuration information  and\/or the application configuration information  in the memory .","The data protection component  (e.g., SYMANTEC NetBackUp (NBU)) performs regular backups of application configurations and device configurations associated with the plurality of devices  and\/or the host computer  in accordance with a user-configured backup policy. Furthermore, the data protection component backs up configurations that are critical to the operations of the application , such as configurations associated with application software and\/or an operating system. In one embodiment, a backup may be performed at a fixed pre-defined time interval or a variable time interval. In another embodiment, the backup policy identifies one or more devices that are to be backed up. Furthermore, various protocols may be employed to perform the regular backups (e.g., a Simple Network Management Protocol (SNMP), a Small Computer System Interface (SCSI), and\/or the like).","The data protection component  includes software code that is executed by the CPU  to identify one or more compatible configuration parameters between an application configuration that correlates with one or more source computer hardware components (e.g., one or more devices of plurality of devices  or the host computer ) for operating the application  and device configurations associated with one or more destination computer hardware components. The source computer hardware components and the destination computer hardware components may include two similar computer hardware components that perform a same function (e.g., two arrays, two switches, two routers, two network cards and\/or the like) and have one or more compatible device configuration parameters, such as a LUN size, a host computer name to which a LUN is assigned, a number of LUNs and\/or the like for arrays.","In one or more embodiments, the data protection component  examines the application configuration information  to identify an application to be recovered, such as the application . Once an application configuration that correlates with source computer hardware (e.g., one or more related hardware components, such as the plurality of devices ) for operating the application  is selected to be restored (e.g., by a user and\/or an administrator), the data protection component  maps the application configuration to destination computer hardware associated with the host computer  and\/or another host computer.","In operation, the data protection component  identifies one or more portions (i.e., a subset) of an application configuration to be restored on the destination computer hardware. The data protection component  compares the application configuration to a configuration of the destination computer hardware to identify one or more compatible configuration parameters (e.g., a LUN configuration, size of a LUN, virtual disk, a host computer to which a LUN is assigned, zoning of a host, and\/or the like).",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 2","FIG. 1"],"b":["200","202","204","200","202","204","106","200","206","208","210","206","208","210"]},"The database , the database  and the database  operate on source computer hardware within the host . For example, the host  includes an internal\/external storage  that provides data storage services to the database , the database  and the database . As described further below, a data protection component  (e.g., the data protection component  of ) restores the database  on the host  as a database  (i.e., a database application instance) that operates on internal\/external storage . In addition, the data protection component  restores the database  on the host  as a database  that operates on internal\/external storage .","In one embodiment, the data protection component  (e.g., NetBackUp-Bare Metal Recovery (NBU-BMR)) backups and maintains point-in-time consistent device configuration parameters associated with the internal\/external storage , the internal\/external storage  and the internal\/external storage . Subsequently, a user and\/or administrator may select a database application instance (e.g., the application  of ) and one or more related Logical Unit Numbers (LUNs) within the internal\/external storage  for restoration.","In one embodiment, the database  and the database  are selected to be restored to the host  and the host  respectively. The data protection component  cooperates with an integration component (e.g., the integration component  of ) to identify information regarding application configurations associated with the database  and the database  that correlate with the internal\/external storage . For example, the application configurations may indicate a directory, a volume, a volume group, a hard disk and\/or LUNs exported by the internal\/external storage  and utilized by the database  and\/or the database . As another example, the application configurations may indicate an IP address of a NIC card at the host  that is used by the database  and\/or the database  to communicate data. Furthermore, the application configurations may define an operating system, a file system and\/or a Fibre-Channel switch configuration associated with the host .","The data protection component  identifies one or more portions of the application configurations to be restored. The data protection component  applies one or more portions of the application configurations to destination computer hardware within the host  and the host . As a result, the database  and the database  operate on one or more computer hardware components within the host  and the host  respectively. For example, the database  and the database  access and store information in the internal\/external storage  and the internal\/external storage  respectively.","In one embodiment, the data protection component  identifies one or more compatible configuration parameters (e.g., a LUN configuration, size of a LUN, virtual disk, a host to which a LUN is assigned, zoning of the host, and\/or the like) between the application configurations that correlate with the source computer hardware and a device configuration of the destination computer hardware. The one or more compatible configuration parameters may be a subset of the application configurations.","In one embodiment, the data protection component  communicates the one or more compatible configuration parameters to one or more agents (e.g., device agents), which apply the one or more compatible configuration parameters to the internal\/external storage  and the internal\/external storage . For example, the data protection component  configures the internal\/external storage  with volume IDs and a LUN size that are used at the internal\/external storage  for the database . The database  utilizes same volume IDs and LUN size as the database . As such, the database  is recovered as the database .","The host  may be a bare metal server that does not include an operating system, application software and\/or computer hardware configurations. When the data protection component decides to restore the database  on the host  as the database , the data protection component examines an application configuration to identify an operating system and\/or application software to be installed. Because the database  may depend upon various software programs to function properly, the data protection component  recovers the operating system, device and application software as well as any respective configuration as a portion of the bare metal recovery. Then, the data protection component compares the application configuration with a device configuration associated with the internal\/external storage . In one embodiment, one or more compatible configuration parameters are identified and applied to the internal\/external storage  as described above. Therefore, the data protection component provisions the host  with the computer hardware configurations as well is the operating system and the application software.",{"@attributes":{"id":"p-0043","num":"0042"},"figref":["FIG. 3","FIG. 1","FIG. 1"],"b":["300","300","302","304","128","120"]},"At step , an application is selected for restoration. At step , an application configuration that correlates with source computer hardware is processed. In one embodiment, the data protection component cooperates with an integration component (i.e., the integration component ) to select the application (e.g., the application ) and one or more related computer hardware components that are to be restored. At step , the application configuration is compared with a device configuration of destination computer hardware.","At step , a determination is made as to whether there are compatible configuration parameters between the source computer hardware and the destination computer hardware. If it is determined that there are no compatible configuration parameters (option \u201cNO\u201d) then the method  proceeds to step . If it is determined that there are compatible configuration parameters (option \u201cYES\u201d), then the method  proceeds to step . At step , one or more compatible configuration parameters are applied to the destination computer hardware. The method  proceeds to step , at which the method  ends.","While the foregoing is directed to embodiments of the present invention, other and further embodiments of the invention may be devised without departing from the basic scope thereof, and the scope thereof is determined by the claims that follow."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["So that the manner in which the above recited features of the present invention can be understood in detail, a more particular description of the invention, briefly summarized above, may be had by reference to embodiments, some of which are illustrated in the appended drawings. It is to be noted, however, that the appended drawings illustrate only typical embodiments of this invention and are therefore not to be considered limiting of its scope, for the invention may admit to other equally effective embodiments.",{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 3"}]},"DETDESC":[{},{}]}
