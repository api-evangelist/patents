---
title: Method and system for processing a search request
abstract: Application to methods for travel data service interrogation and to search engines.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09183298&OS=09183298&RS=09183298
owner: Amadeus S.A.S.
number: 09183298
owner_city: Biot
owner_country: FR
publication_date: 20110712
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["The present invention relates to the field of data service interrogation, particularly at processing stages of client search requests.","Web based techniques applied to the travel and tourism industry have dramatically improved the processing of search queries. First a graphical user interface is now a typical means for inputting request data in a quite friendly manner. This interface includes several fields to be filled to specify the criteria of the request. One drawback of the current interfaces is that the user is required to fill several fields each time he\/she wants to build a request.","This drawback can be illustrated in the case of web-based computer reservation systems in the travel and tourism industry.","Online distribution systems of travel and leisure are known on the market today. Among some well-known ones are found: Kayak\u00ae, bing\u00ae, Expedia\u00ae, Orbitz\u00ae, Yahoo\u00ae Travel\u00ae, and Travelocity\u00ae.","In general, when a user wants to book e.g. an airplane ticket online, the user must fill at least three different fields: one for the origin, one for the destination, one for the requested departure date and still another one for the return date. Furthermore, the user must also fill one additional field for each of the following options: cabin, number of travelers, preferred time of departure, etc. Another drawback is, if the user wants to change the destination or any other information provided after a first search, he\/she will in most cases need to start all over, filling all the fields once more, including the mandatory ones.","Hence there is a need for an improved method for processing search requests where the user's input is made easier. There is also a need for a method and a system that preserves accuracy of source interrogation with the use of well-defined search parameters, without implying a complex input from the user's standpoint.","There is also a need for a universal interface which does not require any user expertise as to field formats or significations.","At least some of the foregoing and other problems are overcome, and other advantages are realized, in accordance with the embodiments of this invention. In one aspect thereof the exemplary embodiments provide a method for processing a search request comprising the following steps performed with at least one data processor:\n\n","In another aspect thereof the exemplary embodiments provide a system for processing a search request comprising:\n\n","The invention can be implemented with computer hardware and software means. It can include a server side where the processing of data applicable to a customer takes place. This server side\u2014which may be comprised of single or plural computer devices\u2014preferably communicates via network resources with at least one remote user device such as but not exclusively a desktop computer, a smart phone or the like.","More generally, the invention can be implemented on any device. Mobile phone applications are targeted as well as web browsers. TV (including games) displays can also be used to implement the user interaction with the system.","Before turning to the figures to describe preferred embodiments of the invention, some optional features of the invention which can be used cumulatively or alternatively are introduced hereafter even though they will be later presented in detail:\n\n","The invention will now be described in the field of travel reservation systems aimed at providing, upon request, information (availability, price . . . ) and booking services to users. This exemplary application can be related to air travel only or to any kind of travel and leisure products such as, for instance, hotels, cars, cruises, vacations, etc. It is not however limiting the scope of the invention.",{"@attributes":{"id":"p-0025","num":"0060"},"figref":"FIG. 1"},"One for the departure city, one for the destination and yet another one for the departure date. Moreover, when the search is for a return trip (i.e., most of the cases), a fourth field must be filled with the return date.","As can be further seen from , many additional options can be chosen as well. Each one of them requires ticking a box or choosing an item from a drop down list. Examples of additional options are: cabin, number of travelers, preferred time of departure, preferred time of return, include nearby airports on the departure or the arrival, etc.","It is also well-known that most of the time, after a first search, if the user either wants to change departure or destination city, for instance, the user will have to fill in all the fields again, including the mandatory ones.","The interface of  is a rather complex interface lacking user-friendliness, but corresponds to most well known Web sites dedicated to travel and leisure reservation services.","On the other hand shows a simple yet powerful input interface according to the present invention. In , the online user is presented with a very simple web page containing only a logo and a search request input zone. The user can enter several keywords describing the requested trip.","An example of such keyword sequence could be \u201cnce nyc 22\/03\u201d describing a request for the 22March from Nice, France to New York, USA. Or \u201cNice Paris summer 2 adults 1 child\u201d describing a request for a trip planned for next summer involving a family. More generally, the keywords may be entered in a way closer to natural language.","In the example from , the user wants to go from Nice to Reykjavik on the 25of April, and return 7 days after departure. There are 2 adults traveling with one child and one dog. The end user wants for example to limit the search for offers coming from KLM (\u201ckl\u201d), Finnair (\u201cfi\u201d), Air France (\u201caf\u201d) and British Airways (\u201cba\u201d). Although the input page displayed at the user device  may include other input areas, it is preferred that it only includes the previously described input zone. The input of the user may comprise any characters he\/she can type using a keyboard, a mobile touch screen or any other input means. This includes letters, numbers, symbols or any other characters. Spaces or some characters such as \u201c-\u201d or \u201c\/\u201d can be used by the user so that a plurality of data strings are defined within his input. Data strings are then groups of characters within the sequence. Data strings can correspond to a word or a portion of a word, an abbreviation, cryptic commands, date or date range representations or entries with any other group of characters reflecting one aspect of the user request.","Preferably, the sequence of data strings is understood by the invention method and system as comprising a first extremity and a second extremity. The first extremity is defined as the starting extremity which is the beginning of the sequence. Typically, this corresponds to the extremity where the user input has started and\/or where the reading of the sequence would normally start. The second extremity is the one situated opposite the first extremity. This will usually correspond to the end of the sequence.","The sequence of data strings will thus be generated by a free-text input of the user in the input zone. Each data string will typically reflect one keyword or a portion of a keyword the user wishes to use for the request. The terms \u201cfree-text\u201d and \u201ckeyword\u201d shall here be understood as any set of characters as previously presented.","The search request comprising the sequence of data strings is then forwarded in the form of a message of any conventional type to a remote portion of the invention. The forwarding step can be triggered by any means such as by pressing the \u201center\u201d button of a keyboard, clicking on an icon or else. Web technologies are advantageously used for communication purposes as well as for the interface management at the user level. Mobile applications on the user end are also possible. By way of example, any browser and any Internet protocol can be implemented.",{"@attributes":{"id":"p-0036","num":"0071"},"figref":"FIG. 3","b":["1","2"]},"The server side may include means  for interfacing with at least one user device . Means  for interfacing will usually comprise means for receiving the search request from the user device  and means for transmitting a reply to the user device . The server side also preferably comprises a parsing engine , interpreting means  and a query builder  which will all be described hereafter. All these components advantageously involve or share at least one data processor.","The parsing engine  is configured to analyze the sequence of data strings in the perspective of detecting items which could reflect the wishes of the user, i.e. search parameters. Such items are advantageously a list of elements (such as words, groups of words, dates or date ranges, numbers and signs) that are pre-determined and stored in at least one data repository. An example of repository is depicted in  in the form of a database . It is worth saying that a plurality of repositories can be used and at least one of them can be located remote from the parsing engine  and connected via any communication means.","Items can non limitatively comprise:\n\n","In one embodiment of the invention, plural repositories are used, each for specific data. By way of example, one repository can be for cities and airports, another one for dates and time, a further one for airlines and so forth. Such repositories may consist in data storage means used for other purposes. In the case of travel reservation systems, one database can be used both for the invention as well as for other parts of the reservation system. For instance a database of airport names used in the context of flight schedules or fare quote operations between origin and destinations can also be accessed for the invention.","The invention compares the data strings of the search request with the stored items in an attempt to detect a match which indicates that a matching item has been recognized in the data strings.","A detected match can be a full match (all the characters of an item match all the characters of at least one data string), or an approximative match (the two compared elements are sufficiently close to be deemed to match). In the latter case, a vicinity criterion can be used which reflects a distance between the two compared elements: this can be defined, for example as the number of wrong letters within a given word. More sophisticated formula may also be applied, such as the square root of the sum of the squares of the numbers of wrong letters within any given word. Correct alternatives to the misspelled word are then ordered according to their distance to that word.","In case the match is not a full match, the system may automatically apply a correction or return a message to the user device, requesting the user to confirm that the corrected element (the matching item) is what he\/she actually meant. Preferably, this is done by returning the full free-text in a corrected version (or a few possible corrected versions). The user can then confirm the appropriate corrected version, for example by simply clicking on a hyperlink embedding the corrected version. This triggers a message from the user device  to the parsing engine via means .","Another preferred embodiment is auto-completion (implemented through dedicated JavaScript client-side libraries), where the user is directly presented with the right search items.","Thanks to this feature, the user is guided so that the right request is built before it is sent over the network.","In a preferred embodiment of the invention, the parsing stage follows a special algorithm. The parsing engine  tries to recognize the largest item embedded in the request by starting from second extremity of the sequence (i.e. starting from the end of the sequence when reading it). At the start, the whole sequence is considered. If no item matches, one data string is removed from consideration and the new potential longest portion of the sequence is compared with the items. The process goes on until the considered portion of the sequences matches an item. This item is then set as first matching item.","The invention then tries to recognize a further item. The portion of the sequence corresponding to the first matching item is removed from consideration thus leading to a remaining portion. This portion is parsed the same way as the whole sequence has been parsed before, until a second matching item is found.","A new remaining portion, where both first and second matching items are removed from consideration, is then considered.","The process goes on until no further matching items can be found.","The number of matching items is not limited. The invention can detect two or more items even though they are originally incorporated in a single input zone of the displayed input page.","An example of the steps described above is explained hereafter and in connection with , which represent chronological stages of the parsing process.","The abbreviation \u201citer\u201d in the and stands for iteration and refer to various sub-step of the stage \u201c\u2014iterate until \u201cRemaining-to-be-parsed\u201d is empty detailed hereafter. The \u201cremaining to be parsed\u201d corresponds to the remaining portion described above, i.e., to the sequence of data strings minus the already recognized matching items. At the start of the process it is set as the full sequence. The \u201cassociation list\u201d is the list of matching items\/data strings couples already found. The \u201clongest recognized sublist\u201d corresponds to the remaining portion of the sequence to be parsed. The \u201cmatches sublist\u201d is for identifying a match in a current iteration. In case of such identification, the \u201cHas matched\u201d Boolean is set to \u201cTrue\u201d. The \u201clongest match\u201d identifies the longest item that matches during a current iteration.","More details are given hereafter:","Take for instance the following request: \u201clso angeles rio de janeiro 22\/206+7 2 adults 1 child 1 dog-ih\u201d.","0. Initialisation\n\n","1. Iterate until RemainingToBeParsed is empty.\n\n","2. The AssociationList list contains, for each data string or group of data strings the corresponding matches against the reference data sets which are the predetermined items.","At this stage, matching items have been recognized. They are then used to define search parameters. This is performed thanks to the interpreting means .","In a preferred embodiment described therein, the interpretation occurs after all matching items have been recognized. However, the interpretation may begin upon recognition of only one or of a few matching items.","The interpretation consists in identifying search parameters among the matching items previously recognized during the parsing stage. Rules are advantageously used for the interpretation.","The process first advantageously takes the type of the matching items into account. As previously indicated, the items can reflect various types of information such as geographical information, date information . . . .","On the other hand, the system preferably holds a list of potential search data fields which are associated to at least one type of items (Search data fields correspond to search parameter types). Examples of fields are given in the first column of . By way of example, fields such as origin and destination are linked to items types related to geographical information, (including cities, airports, countries, continents . . . ). Departure date and return date will also often be used as parameters.","Thus one matching item can potentially be associated with at least one search data field depending on its type.","Further rules are preferably used to overcome any ambiguity when one matching item is potentially associated to a plurality of search data fields.","Examples are given hereafter:\n\n","Similarly, if the user has registered the place where he\/she has already been and expressed his\/her wishes for the places he\/she would like to visit, some advertisement may be displayed even before the user has typed anything in the input field, targeted to the recognized potential needs of that user. The interpreted user request may also be used as an information basis for selecting advertisement matching the user's wishes.",{"@attributes":{"id":"p-0067","num":"0124"},"figref":"FIG. 6"},"Default values may also be derived from information contained in repositories the invention can access to. As previously indicated, reservation systems usually include a lot of information split into several databases or repositories. The invention may benefit form these information sources at the step of defining default parameters. The example of user profiles has already been described. User data may also derive from PNR data (PNR stands for Passengers Name Record) stored at a ticketing facility. Another example is schedule data which may help determine the destination of the travel based on an origin and in view of flights existing from that origin. The same may apply to determine a destination. The above examples are not exclusive and any other sources of data (such as sources used for availability or fare determination) can be used.","At the end of the interpreting stage, matching items have been each associated with one search data field and the matching item is set as value for such data field thus creating a search parameter (which is here defined as the association of a search data field with a value).","Turning back to , a query can then be built by a query builder . The query builder is in charge with the construction of a query message that fits the format of one travel data service or of its communication channel. It associates the search parameters (or at least some of them) to base the query. Several queries can be built each time several travel data services working with different formats are interrogated.",{"@attributes":{"id":"p-0071","num":"0128"},"figref":"FIG. 3"},"At the query building stage or at a previous stage, a matching item may be translated into a formatted item which represents a generic format of an item. Most search engines, especially in the travel industry, use to perform searches based on formatted data fields. For instance, city or airport codes as well as airline codes are defined for the whole industry and are used as input of the search systems. At the same time, the user may not be aware of these codes (or not have any knowledge of the language of the website; e.g.: the user is an English citizen accessing a Japanese website). The invention copes with this by proposing an automatic translation of the matching items into another format such as a code format or a foreign language format. As depicted in , the input string \u201cNICE\u201d of the request is detected as a matching item and translated into \u201cNCE\u201d which corresponds to a IATA code for this airport (IATA is the acronym of International Air Transport Association). Similarly \u201cReykjavik\u201d is converted into \u201cKEF\u201d.","Data repositories can be used for the translation step in which several similar items (corresponding to the same search parameter) are specified with correspondence tables. Again the invention can benefit from information already existing in computer reservation system such as Low Fare Search (LFS) systems implemented for the Travel and Tourism industry.","The nature of the travel data service(s) is not limited. Travel data service can be a remote system in communication with the query builder via any communication means such as Internet.","Preferably, the travel data service comprises a search engine and at least one local or deported data repository. By way of example, the search engine can be a Low","Fare Search Engine as used in the travel and tourism industry.","It is an advantage of the invention to easily create queries adapted to various search engines of travel data services.","In addition, the invention enables the user to obtain accurate information obtained by a real time interrogation made with a search engine. In one example, the interrogation is made by a search engine in the form of a low fare search request.",{"@attributes":{"id":"p-0079","num":"0136"},"figref":"FIG. 3","b":["1","2","3"]},"After the travel data service has processed the query, a reply is constructed in destination of the user device . The reply can be directly built and sent by the travel data service(s) (e.g. one GDS) or the response obtained from the travel data service(s) is (are) transformed at another level, to generate the final reply to be sent to the user.","In one embodiment, receiving means , the parsing engine , the interpreting means , the query builder  and means for preparing the reply are integrated in the same computer system and preferably in the same server","In case several travel data services are interrogated, their responses are then aggregated while generating the reply.","An example of the invention is now further described in the field of travel distribution systems.","In a preferred embodiment, the result of the Low Fare Search (LFS) request is displayed as a list of hyper-links pointing to the corresponding Travel Recommendations (TR), ordered by default according to their travel times vs. prices. The Travel Recommendation details are displayed, as well as hyper-links to book them. Here, again, the details of the Travel Recommendations are retrieved through the corresponding distribution service, if those details were not already given by the Low Fare Search (LFS) response.","The user request is restated, as understood, within a new search request input field, at the top of the page. That distribution display is shown in ","When the user clicks on the hyper-link of any given Travel Recommendation, that latter is booked (i.e., added to the shopping basket). And when the user clicks on the \u201cbook\u201d hyper-link of the shopping basket, the corresponding travel solutions are booked, once again through the corresponding GDS service (for instance, \u201cBook flights\u201d, \u201cBook hotels\u201d, \u201cRent a car\u201d, etc.).","If some keywords of the user request did not exactly match any of the above-mentioned lists, but are sufficiently close to some of them, a list of corrected suggestions is displayed. That list may take the shape of simple hyperlinks. One example is depicted in ","When the user clicks on such an hyperlink, the amended request is displayed within the request input field, and the new corresponding result (list of Travel Recommendations) is displayed.","If the request was not understood correctly by the Invention, the user has just to amend it in the request input field and to type enter on the keyboard or click on a \u201cSearch\u201d button for the hyperlinks on the new corresponding Travel Recommendation to be displayed.","Furthermore, some advertisements may be displayed on a position of the screen, e.g. the right hand side, targeting the potential recognized needs of the user. For instance, if the user request is \u201cnce mia dec\u201d, the Invention understands that the user would like to make a trip from Nice, France, to Miami, Fla., USA, on the next December and proposes, within the advertisement part of the screen, hyper-links on Web sites proposing related travel products, e.g. lastminutes.com proposing trips to the sun of Morocco or Tunisia during December, and\/or hotels, car rentals and entertainment (theatre, museum, restaurants, etc) in the destination area.","As the Invention may require interfacing with existing distribution systems, an obvious way to implement it is to use the Web Services of a GDS (for instance, Sabre\u00ae, TravelPort\u00ae or Amadeus\u00ae), even though the Invention is not limited to that kind of protocols. The Invention has then to recognize the user request keywords against some well-known static lists of referential data, e.g. geographical, time- and passenger-related, and to formulate the distribution request with the corresponding syntax and protocol, e.g. XML and SOAP (or XML-RPC or even RESTful) in the case of Web Services. In  we can see an explanatory schema of the overall process.","In , the airport code of Reykjavik, Iceland, is recognized, even though the user misspelled it. Also, if the user does not specify any given year, current year or next year, depending on the current time of the year (for instance, if current time is November, and if the request is made for a departure in March, the request is assumed to be for the next calendar year), is taken into account. Moreover, default values can be assigned to the search parameters when not specified by the user. For instance, if the user wants to go from Nice to Reykjavik, departing the 25Apr. 2008, the Invention assumes that the user is an adult, searching for the lowest fare in economy class.","All options for all the querying technologies can be potentially parsed by the Parsing Engine, and for power users, even cryptic entries e.g. \u201cAN25APRNCEKEF*\u201d for Amadeus cryptic entry. Whatever the user input is, the request is interpreted and the Low Fare Search (LFS) transaction is processed with a distribution system.","Note that any other algorithm may be used by the Invention. Parts of existing algorithms may also be used. In fact, pieces of algorithm, such as \u201cApproximate Pattern Matching\u201d, form a possible part of the implementation of the Invention.","Although illustrative embodiments of the present invention have been described in detail with reference to the accompanying drawings, it is to be understood that the invention is not limited to those precise embodiments and that changes and modifications may be effected therein by those in the art without departing from the scope and spirit of the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention will now be described in details with reference to the drawings for the purpose of illustrating the preferred embodiment.",{"@attributes":{"id":"p-0013","num":"0019"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0020"},"figref":"FIG. 2","i":"a "},{"@attributes":{"id":"p-0015","num":"0021"},"figref":"FIG. 2","i":"b "},{"@attributes":{"id":"p-0016","num":"0022"},"figref":"FIG. 2","i":"c "},{"@attributes":{"id":"p-0017","num":"0023"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0024"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0025"},"figref":"FIGS. 5","i":["a ","b "],"b":"5"},{"@attributes":{"id":"p-0020","num":"0026"},"figref":"FIG. 6"}]},"DETDESC":[{},{}]}
