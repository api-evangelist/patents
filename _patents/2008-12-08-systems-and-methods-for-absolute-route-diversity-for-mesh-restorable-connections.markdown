---
title: Systems and methods for absolute route diversity for mesh restorable connections
abstract: The present disclosure provides absolute route diversity (ARD) for mesh restorable sub-network connection protection (MR-SNCP) services. ARD addresses concerns in MR-SNCP by providing absolute path diversity between both paths (e.g., peer Sub Network Connections (SNCs)) of an MR-SNCP connection. If an ARD condition is not met, the peer SNC is not mesh restored and the MR-SNCP works with just one single SNC. The advantage of this approach is to reuse the bandwidth saved from ARD for other MR-SNCP, i.e. more efficient bandwidth utilization due to ARD for other MR-SNCPs, and better service quality guarantee (protection) in terms of planning and managing the network bandwidth.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08509055&OS=08509055&RS=08509055
owner: Ciena Corporatin
number: 08509055
owner_city: Hanover
owner_country: US
publication_date: 20081208
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS-REFERENCE TO RELATED APPLICATION(S)","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The present non-provisional patent claims the benefit of priority of co-pending Indian Patent Application No. 2411\/DEL\/2008, filed on Oct. 23, 2008, and entitled \u201cSYSTEMS AND METHODS FOR ABSOLUTE ROUTE DIVERSITY FOR MESH RESTORABLE CONNECTIONS,\u201d the contents of which are incorporated in full by reference herein.","The present invention relates generally to communication networks. More particularly, the present invention provides systems and methods for absolute route diversity (ARD) with mesh restorable sub-network connection protection (MR-SNCP) services in optical switches utilizing optical control planes, such as Optical Signal and Routing Protocol (OSRP), Automatically Switched Optical Network (ASON), Generalized Multi-Protocol Label Switching (GMPLS), and the like.","Sub-network connection protection (SNCP) is a path protection mechanism defined in ITU-T G.841, \u201cTypes and characteristics of SDH network protection architectures,\u201d which is similar to unidirectional path switched rings (UPSR) in the SONET standard. SNCP utilizes a permanent source bridge on an ingress port, and a selector function at an egress port. SNCPs are unidirectional and switching is performed similarly to a 1+1 and UPSR protection mechanisms. SNCP services are 1+1 protected services that provide protection in a network in the presence of one failure, with minimal traffic-impacting switching ability.","Referring to , in a network  with a SNCP service, two paths ,  (also referred to as legs) are provisioned through the network . The network  can include multiple switches  including an ingress switch and an egress switch . The switches  can include optical switches operating SONET, SDH, Optical Transport Network (OTN), or the like along with a control plane including a signal and routing protocol, such as Optical Signal and Routing Protocol (OSRP) or the like. Both the paths ,  carry the same traffic stream, and a select function is used to select one of the two streams. In case of a failure of an active stream, a simple switch at the egress switch , a device attached to the egress switch , or the like is able to protect the service. Advantageously, the SNCP service experiences smaller down time as compared to other protection schemes such as a full mesh restoration on an ordinary sub-network connection (SNC) service.","In general, the ability to provide SNCP protection does not rely on the network's  structure, i.e. it does not depend on the existence of rings for line switched ring (LSR) protection or with duplicate equipment for APS\/MSP protection. The ability to provide SNCP protection does depend on the ability to establish the two paths ,  through the network  such that they are fully disjoint from the point of view of failure points\u2014so that no single failure can affect both paths ,  at the same time. For example, in a mesh network of optical switches, availability of single-failure disjoint paths generally translates into OSRP Bundle ID diversity.","While SNCP services in general are resilient to single failures, they may not be resilient to dual failures that affect the two paths ,  of the service. The introduction of Mesh Restorable SNCP (MR-SNCP) services aims at providing services that are potentially resilient to dual failures, as long as failure-disjoint paths can be established through the network post-failure.","Referring to , the network  includes a MR-SNCP on the two paths , . In a MR-SNCP, the occurrence of a failure  is protected in the same way as an ordinary SNCP service, i.e. through a selection switch at the egress switch Unlikely previous SNCP services, the path  that is affected by the failure  attempts protection or mesh restoration in the same way as an ordinary SNC, such as possible protect switching and local span mesh restoration (LSMR). For example, the path  is rerouted to a path  upon the occurrence of the failure , providing redundancy for the MR-SNCP service. Advantageously, upon occurrence of a second failure , the MR-SNCP service can still be protected through a selection switch. Moreover, additional failures can keep being protected through a selection switch as long as the path  that was affected by the most recent failure  can migrate to a path  that is failure-disjoint from the currently active path. Notice that resiliency to dual failures is not assured solely by the introduction of the MR-SNCP feature, but it requires some degree of diversity in the network layout itself.","When network failures impact both working and protection paths , , both paths ,  need to be restored onto additional bandwidth. Disadvantageously, this can cause bandwidth contention among multiple circuits, lack of absolute route diversity between paths, lower priority circuits hogging bandwidth and blocking mesh restoration of higher priority circuits, and the like. Existing MR-SNCP services suffer with a problem that moving a peer path to a new path could overlap with the existing home path or current path of the peer SNC. The reason for such a behavior is due to treating the other path's current and home path as preferred exclusive path and not as mutual exclusive path. This leads to both the MR-SNCP legs double booking some of the same links or bundles under such conditions. In such scenarios, a single failure can lead both the paths to go down and there is no protection switch guaranteed at that time.","Currently there is no support for the above shortcomings in any customer-deployed network","In various exemplary embodiments, the present invention provides absolute route diversity (ARD) for MR-SNCP connections. ARD addresses concerns in MR-SNCP by providing absolute path diversity between both paths (legs) of an MR-SNCP connection. If an ARD condition is not met, the peer SNC is not mesh restored and the MR-SNCP works with just one single SNC. The advantage of this approach is to reuse the bandwidth saved from ARD for other MR-SNCPs, i.e. more efficient bandwidth utilization due to ARD for other MR-SNCPs, and better service quality guarantee (protection) in terms of planning and managing the network bandwidth.","In an exemplary embodiment of the present invention, a switch configured to provide Absolute Route Diversity for Mesh Restorable connections includes one or more line interfaces; a control module configured to operate a control plane and to control the one or more line interfaces; and a Mesh Restorable Sub Network Connection Protection service with a first leg and a second leg, wherein the Mesh Restorable Sub Network Connection Protection service is provided through the one or more line interfaces; wherein the control module ensures Absolute Route Diversity for each of the first leg and the second leg. The control module ensures Absolute Route Diversity for each of the first leg and the second leg during any of provisioning, mesh restoration, regrooming, reversion, and switch to protect. The switch can further include Absolute Route Diversity validation logic configured to determine if a path for the first leg is bundle and link diverse from the second leg. Responsive to the Absolute Route Diversity validation logic determining that the path is not diverse, the path is not setup and the Mesh Restorable Sub Network Connection Protection service is operated as a Sub Network Connection. The switch can further include Maximum Admin Weight validation logic configured to determine if the path meets a Maximum Admin Weight restriction. For the first leg, the Absolute Route Diversity validation logic is configured to ensure a path for the first leg avoids links that belong to a home path of the second leg and links that belong to a current path of the second leg. Optionally, the control plane includes any of Optical Signal and Routing Protocol (OSRP), Automatically Switched Optical Network (ASON), and Generalize Multi-Protocol Label Switching (GMPLS).","In another exemplary embodiment of the present invention, a method for providing Absolute Route Diversity for Mesh Restorable connections includes provisioning a Mesh Restorable Sub Network Connection Protection service with a first leg and a second leg; determining Absolute Route Diversity of a path for the first leg responsive to a trigger event; if Absolute Route Diversity is valid, setting up the path; and if Absolute Route Diversity is invalid, operating the second path as a Sub Network Connection. The trigger can include any of provisioning, mesh restoration, regrooming, reversion, and switch to protect. The method can further include enabling Absolute Route Diversity for the first leg. Optionally, the method further includes selecting a path for the first leg responsive to the trigger. Determining Absolute Route Diversity includes ensuring the path for the first leg avoids links that belong to a home path of the second leg and links that belong to a current path of the second leg. The method can further include ensuring the path meets a Maximum Admin Weight restriction. Optionally, the method further includes periodically checking for Absolute Route Diversity on the path; and reverting back to the Mesh Restorable Sub Network Connection Protection responsive to Absolute Route Diversity on the path. Optionally, the method further includes defining a Designated Transit List for the first leg; and defining a Designated Transit List for the second leg.","In yet another exemplary embodiment of the present invention, a network with Absolute Route Diversity for Mesh Restorable connections includes a plurality of nodes; a plurality of links interconnecting the plurality of nodes a control plane between the plurality of nodes; an ingress node of the plurality of nodes; an egress node of the plurality of nodes; a Mesh Restorable Sub Network Connection Protection service originating at the ingress node and terminating at the egress node, the Mesh Restorable Sub Network Connection Protection service with a first leg and a second leg, wherein the first leg and the second leg each diversely traverse the plurality of links; and Absolute Route Diversity validation logic configured to determine if a path for the first leg is bundle and link diverse from the second leg responsive to a trigger event. The trigger event can include any of provisioning, mesh restoration, regrooming, reversion, and switch to protect. The control plane is configured to control the trigger event; and responsive to the path lacking Absolute Route Diversity, the second leg operates as a Sub Network Connection with the first leg down. Optionally, the control plane includes any of Optical Signal and Routing Protocol (OSRP), Automatically Switched Optical Network (ASON), and Generalize Multi-Protocol Label Switching (GMPLS); and wherein the plurality of nodes each include an optical switch. The Absolute Route Diversity validation logic is configured to check if the path for the first leg avoids links that belong to a home path of the second leg and links that belong to a current path of the second leg.","In various exemplary embodiments, the present invention provides absolute route diversity (ARD) for MR-SNCP connections. Advantageously, ARD provides additional service class definitions and possible bandwidth savings in multiple failure scenarios. ARD addresses concerns in MR-SNCP by providing absolute path diversity between both paths of an MR-SNCP connection. If an ARD condition is not met, the peer SNC is not mesh restored and the MR-SNCP works with just one single SNC. The advantage of this approach is to reuse the bandwidth saved from ARD for other MR-SNCP, i.e. more efficient bandwidth utilization due to ARD for other MR-SNCPs, and better service quality guarantee (protection) in terms of planning and managing the network bandwidth.","Referring to , a network  of a plurality of interconnected nodes  illustrates ARD with MR-SNCP connections according to an exemplary embodiment of the present invention. The interconnected nodes  can include optical switches, cross-connects, etc., each including a switching component and multiple line interfaces to interconnect to other nodes . These interconnected nodes  can utilize a control plane for automatic resource discovery, distribution of network resource information, and establishment and restoration of connections dynamically across the network . For example, the control plane can include OSRP, Automatically Switched Optical Networks (ASON), Generalized Multi-Protocol Label Switching (G-MPLS), and the like.","In describing the exemplary embodiments herein, reference is made to OSRP paths, links, legs, and lines. OSRP is a distributed protocol designed for controlling a network of optical cross-connects (OXCs). OSRP introduces intelligence in the control plane of an optical transport system. It can perform many functions such as automatic resource discovery, distributing network resource information, establishing and restoring connections dynamically across the network, and the like. However, the present invention is not limited to OSRP. Those skilled in the art will recognize that other intelligent signaling and routing protocols that can (or can be modified to) provide similar functionality as OSRP (e.g., automatically establishing and restoring connections across the network, and the like) are within the scope of embodiments of the invention.","The network  includes a MR-SNCP connection  from an ingress node to an egress node . The MR-SNCP connection  includes two legs , , and each leg ,  is equivalent to an SNC service that can mesh restore on a secondary path upon occurrence of a failure, possibly with the secondary path being as diverse as possible from the failing equipment and from the current path of the other leg.  illustrates two exemplary failures ,  on each leg , , respectively. Also, the network  includes multiple nodes  with links  with an administrative weight that restricts these nodes from rerouting of the legs , .","OSRP provides route selection through a computation performed at the ingress node . For example, route selection can be optimized using Dijkstra's Algorithm which can find a shortest path from the ingress nodes to the egress node through the network  based on a least administrative cost or weight, subject to a set of user-defined constraints. For example, routing considerations can include link capacity, connection type, line\/path protection, restoration priority, explicit routes, maximum delay, reversion, connection preemption, transit delay, and the like. Ideally, in rerouting a failed leg in the MR-SNCP connection , a maximally disjoint route is chosen. However, due to maximum administrative weight restrictions, available bandwidth, and other routing constraints, working and protect legs may overlap in some segments after the failures , . For example, the leg  is mesh restored to a leg  following the failure , and the leg  is mesh restored to a leg  following the failure . However, the restored legs ,  share common legs . When both the SNCP-MR legs ,  double book the same common legs  or bundle, a single failure can lead both the legs ,  to go down and there is no protection switch guaranteed at that time (i.e., SNCP switching is unavailable).","When an Absolute Route Diverse (ARD) path cannot be found for mesh restoring failed SNCP-MR leg, the ARD function of the present invention has the MR-SNCP circuit behave like a single SNC. For example, using ARD, the legs ,  are treated as a single SNC from the ingress node to the egress node , i.e. the legs ,  do not each mesh restore to the legs , . Instead, a single leg (i.e., either leg  or leg ) is mesh restored as a single SNC circuit, e.g. only leg . The SNC circuit automatically reverts back from a linear SNC to SNCP as soon as the bundle diversity criteria along with restricted admin weight are met again in the network , or the original home path has recovered from failure.","ARD provides an absolute diversity path between both legs of the MR-SNCP connection. The aim of ARD is to prevent one peer SNC \u2018A\u2019 of a MR-SNCP to go occupy a new path that, together with peer SNC \u2018B\u2019, does not guarantee 50 milliseconds protection switch for all user-configured cases of protection bundle failures. Under ARD, the peer SNC \u2018A\u2019 of a MR-SNCP that is moving to a new path needs to avoid a set of protection bundle IDs that cover: Links that belong to the other peer SNC's (SNC \u2018B\u2019) home path; and links that belong to the other peer SNC's (SNC \u2018B\u2019) current path, if different from home path. If no route can be found that has absolutely no protection bundle ID in common with the set of bundle IDs to avoid, peer SNC \u2018A\u2019 remains down.","Referring to , a network  with a plurality of interconnected nodes -illustrates ARD according to an exemplary embodiment of the present invention. The network  includes a plurality of links --- interconnecting each of the nodes -. For illustrative purposes, node is the originating node and is the terminating node. The initial working designated transit list (DTL) for both legs of a SNCP-MR is exclusive by design, and once DTLs are validated by the Optical Routing Protocol (ORP), the nodes  validate them for Absolute Route Diversity in accordance with the behavior of the present invention.","For example, assume the configured Working DTL for both the legs of MR-SNCP includes a Working Path for the SNCP-MR working leg of {link -, link -, link -} and a Working Path for the SNCP-MR protect leg of {link -, link -, link -, link -}. Assuming both the DTLs are valid and since both are Absolute Diverse (no link or bundle overlaps), both the legs come up on their working DTL and thus these DTLs are set as their Home DTL. If any of the link or bundle in these DTLs overlap, then as per ARD behavior in accordance with the present invention, ARD validation logic on the nodes  does not allow the second leg to come up and that particular MR-SNCP stays down with the first leg operating as a SNC.","Alternatively, assume the MR-SNCP working leg has already come up on the Working Path as mentioned above {link -, link -, link -}, and if the MR-SNCP protect leg is chosen to use a Working Path as {link -, link -, link -, link -}, then due to an ARD validation logic failure (i.e., link - overlaps with the Working Path of MR-SNCP working leg), this leg does not come up.","Due to Mesh Restorable nature of the SNCs involved in the MR-SNCP, it is possible that due to any of the triggers, such as Regroom, Revert, Hard Failure, Switch To Protect, and the like, the failed or triggered leg tries to find an alternate path using ORP or a user provided DTL. At that point in time, ARD validation logic is used to get an absolute diversity path with respect to the other leg. For example, if in case of Hard Failure on working leg of SNCP {link -, link -, link -}, the new DTL for working leg retrieved is {link -, link -, link -, link }, the ARD validation logic does not allow this DTL because the link - overlaps with the Home DTL of the protect leg {link -, link -, link -, link -}. However, a new DTL for the working leg of {link -, link -, link -, link -} is okay for absolute route diversity (assuming the Hard failure is on the link -, for example).","The ARD feature of the present invention applies to MR-SNCPs only, and only if the two peer SNCs of the MR-SNCP originate at the same node . The termination points of the two peer SNCs can be on the same node  or not, indifferently. ARD can apply to a MR-SNCP when both peer SNCs are mesh-restorable, but also when only one is mesh-restorable.","The restriction of finding a path that satisfies ARD is applied if a peer SNC of a MR-SNCP needs to find a new path as a result of one of the following: Provisioning, Mesh restoration, Regroom, Reversion (auto or manual), Switch to protect, and the like (for brevity, these are all referred to as ARD triggers). Due to any of the above ARD triggers on a MR-SNCP leg, ARD validation is applied on that leg (with Home and Current Working path of peer SNC). If ARD validation is passed, only then the leg comes up, else it remains down until it can get a path which is ARD compliant. During this period MR-SNCP works with only one leg as a SNC and the other leg can continuously try to get an ARD compliant path.","A management system  can connect to one or more of the nodes  through a data communication network (DCN) . For example, the management system  can include a network management system (NMS), element management system (EMS), craft interface (CI), nodal manager, or the like, and the management system  can be configured to provide operations, administration, maintenance, and provisioning (OAM&P) access to the nodes  and the network . The nodes  can communicate to one another through an in-band or out-of-band signaling mechanism, and accordingly the management system  can communicate with all the nodes .","A MR-SNCP service with the two legs originating on the same node can be provisioned through the management system . For example, the MR-SNCP service could utilize automatic provisioning (i.e., one-step provisioning) of a MR-SNCP service. The two home paths of the MR-SNCP can be calculated through the management system , the nodes , etc. The management system  can download the two home paths in the form of user-configured DTLs to the ingress node and then create the MR-SNCP service. Among other attributes, each one of the two legs of the MR-SNCP service can be chosen as revertive or not, and a service class can be picked. Also, the MR-SNCP can be provisioned in a similar fashion as other SNCPs with the addition of specification of certain attributes for each leg of the service, independently. These specifications include: service class; Mesh restoration attributes, to control timing of the process; Reversion attributes, to control intra-leg reversion; Integrity Check attributes, and the like.","The two user-configured DTLs that are assigned to the MR-SNCP service can be used in a DTL-exclusive way to set up the two legs of the MR-SNCP service. DTL-exclusivity means that each leg attempts establishment on its given DTLs only. If either one of the two legs does not come up on the corresponding DTL, then the management system  considers the MR-SNCP service as not active. If an operator bypasses the management system  to establish the two legs of an MR-SNCP service, then it is the operator's responsibility to make sure they are both operative.","In the present invention, an operator (e.g., network administrator) can enable an ARD Enable flag attribute on individual SNCP-MR legs either during creation or anytime through a configure operation, such as through the management system . The default value of this attribute can be false. Enabling this attribute triggers ARD validation to take place during the next mesh activity (lock to unlock, hard failure, regroom, revert, switch to protect operations, etc.). This attribute applies only to MR-SNCPs and becomes applicable only if the two peer SNCs of the SNCP-MR originate at the same node . This attribute is persisted by the node  to recover from control plane failures. The operator can be given the ability to enable or disable ARD for each peer SNC of a MR-SNCP, independently.","The presence or absence of the ARD constraint on a peer SNC acts in conjunction with the presence or absence of a Max Admin Weight (MAW) restriction. When both restrictions are enabled, only paths that satisfy both restrictions can be attempted. In particular for automatically computed paths, only the lowest cost path that avoids all the protection bundles in the other peer SNC's home and current paths is going to be examined for MAW. The path can be attempted only if its total cost is smaller or equal to the MAW setting.","Any change in the ARD setting for a peer SNC has no immediate effects on the peer SNC. The new setting applies the next time an ARD trigger event occurs for the peer SNC, provided that the other peer SNC is up at that time. Once ARD is enabled on the existing SNC in a WORKING state (on which ARD is disabled), until the time ARD validation is applied on both the legs (due to any ARD trigger), ARD is not guaranteed for that MR-SNCP.","The management system  can provide enabling and disabling of ARD through a graphical user interface (GUI) checkbox. If a SNCP is enabled or a MR flag is disabled, then the management system  does not display this checkbox, i.e. the circuit is not a MR-SNCP. The management system  can provide enabling and disabling of ARD for an entire SNCP-MR, if applicable, through the GUI checkbox. Also, TL-1 commands can also be implemented for ARD.","Referring to , a flowchart illustrates ARD validation logic  according to an exemplary embodiment of the present invention. The ARD validation logic  determines if a SNC from a current leg of an ARD-enabled MR-SNCP has absolute diversity from its peer SNC. The ARD validation logic  can be implemented in hardware and\/or software, such as in the management system , in the nodes , etc. The ARD validation logic  starts (step ) by checking if the necessary preconditions are met for ARD validation (step ). For example, the preconditions include whether the SNCP leg is mesh restorable, whether ARD is enabled, whether the peer SNC exists and originates from the same node, whether the peer SNC of the MR-SNCP is in the working state, and the like. If the preconditions are not met, then the ARD validation logic ends (step ).","If the preconditions for ARD validation are met, then the home and working DTLs of the peer SNC of the MR-SNCP leg that is being validated are extracted (step ). The ARD validation logic  checks if a User defined DTL set exists (e.g., UsrDtlWPSet) (step ). If the User defined DTL set exists, then the ARD validation logic  gets the User defined DTL for the current leg of the ARD-enabled SNCP (step ). The User defined DTL is converted to a dynamic DTL (step ), and the dynamic DTL is validated with ORP (step ) to provide a path.","If the User defined DTL set does not exist, then ORP gets a path while passing the extracted paths from the peer SNC (step ). After steps  and , the path computed in both these steps is checked to see if the path is valid (step ). If the path is valid, then the ARD validation logic  checks to ensure the path is bundle and link diverse from the extracted paths for the peer SNC (step ). If the path is bundle and link diverse, the ARD validation logic  checks that the max admin weight constraint is still valid from the above steps (step ).","If the path is not valid (step ) and the max admin weight constraint is not met (step ), the an appropriate error is recorded based on steps  and  (step ). If the paths are not bundle and link diverse (step ), then the ARD validation logic  fails, and an appropriate error based on steps  is recorded (step ). If the paths are bundle and link diverse (step ), then ARD validation is successful (step ). In steps  and , an alarm is not raised always. An alarm is raised only in two scenarios a) Initial Provisioning fails and b) Mesh Restoration fails. In the rest of the cases Regroom, Revert, Switch To Protect if ARD fails, no alarm is raised as SNC is already up and these operations simply fail\u2014so in these cases Only Diagnostics are getting filled. Note (For the three operations where diagnostics are filled\u2014the SNC is UP). After ARD validation, the SNC connection is broken and a new SETUP will be sent to the new Path\/DTL. In this case if due to any reason SETUP fails then Alarm will be raised. So in the three cases discussed last Alarm is not really due to ARD.","Referring to , a flowchart illustrates ARD unlock behavior  according to an exemplary embodiment of the present invention. One leg of a MR-SNCP service can be locked in place in case the other leg is inoperative, for example. The lock prevents operations on the operative leg that cause the leg to lose connectivity, other than mesh restoration or tear down. This mechanism is generally referred to as Availability Lock to indicate that its purpose is to maintain availability of the MR-SNCP service in cases where one leg loses connectivity when it was not supposed to.","The Availability Lock applies to one operative leg A when the other leg B of a MR-SNCP is in the following states: during mesh restoration of B, during reversion of B, during one-legged regroom of B, etc. The Availability Lock prevents an operative leg A from attempting reversion of A and initiating a one-legged regroom of A. However, the operative leg A can initiate mesh restoration if its path fails. In such a case, the lock is lifted (notice that leg A is not operative any more). Also, an operative leg can initiate tear down if under Availability Lock. If neither leg is operative, as soon as one leg becomes operative an Availability Lock is placed on the operative leg. The Availability Lock is going to last as long as the other leg is inoperative. If Availability Lock on a leg inhibits execution of a manual Regroom or Revert operation on the same leg, then an exception is generated to indicate the cause to the operator. After being notified, if the operator is still determined to proceed with a possible loss of service availability, the operator can do so by tearing down the SNCP and subsequently attempting establishment of the two legs on the desired, or management system  computed, DTLs.","The ARD unlock behavior  starts by getting the configured working User defined DTL (e.g., UsrDtl from UsrDtlWPSet) (step ). The User defined DTL is converted to a dynamic DTL and validated from ORP (step ). If the validation fails (step ), then an alarm is raised with the SNC unavailable (step ). If the validation passed (step ), then ARD validation logic is applied (step ). The ARD validation logic can include the ARD validation logic  from , for example. If the ARD is invalid (step ), then an alarm is raised with the SNC unavailable due to an ARD restriction (step ). If the ARD is valid (step ), then a setup message is sent on the available path from the validated dynamic DTL (step ).","Referring to , a flowchart illustrates mesh restoration behavior  with ARD according to an exemplary embodiment of the present invention. Upon occurrence of a failure affecting one or both legs of a MR-SNCP service, an affected leg that is mesh restorable can attempt protection or mesh restoration (this includes possible protection switching and LSMR, based on the leg's class of service). This follows the same procedure as the corresponding service class does, with the additional requirement that a mesh restoration path is computed maximally bundle-diverse from the home path of the other leg, and from the current path of the other leg if available and different from its own home path.","Notice that because of the mesh restoration scheme and the low priority service classes, a backoff timer applies to the restoration phase. As a consequence, the service is not resilient to dual failures for a period of time that includes the expiration of the backoff timer at a minimum. In certain circumstances, mesh restoration of the leg affected by the failure may be completely unachievable. In such cases, establishment of a restoration path for the leg affected by failure is attempted periodically in the same way that an ordinary SNC service attempts restoration periodically.","If one leg is in a transition state, e.g. waiting for mesh restoration to be performed after a failure, and the other leg also experiences a failure, then the entire MR-SNCP service is down until either one leg is able to mesh restore. Notice that because neither leg has a current path any more, the first mesh restoration to be attempted computes the restoration path with fewer diversity constraints than in the case that the other leg was up.","The mesh restoration behavior  starts with a hard failure triggered (step ). The mesh restoration behavior  depends on whether the MR-SNCP leg is configured with only a work DTL or with work and protect DTLs (step ). If the MR-SNCP leg is configured with only a work DTL, then a new DTL is computed on the fly by ORP (step ). This computed DTL is checked for validity (step ), and if the path is invalid, then a route is not found (step ) and an alarm is raised.","If the MR-SNCP leg is configured with work and protect DTLs, then a DTL is retrieved from the protect DTLs list (step ). The retrieved protect DTL is validated from ORP (step ). The retrieved protect DTL is checked for validity (step ), and if the path is invalid, then the mesh restoration behavior  checks if there are additional DTLs in the protect DTLs list (step (). If there are additional DTLs, then another DTL is retrieved from the protect DTLs list (step ). If there are no additional DTLs, then a route is not found (step ) and an alarm is raised.","If the path is valid in both steps  and , then ARD validation logic is applied (step ). The ARD validation logic can include the ARD validation logic  from , for example. If the ARD is invalid (step ), then if there are additional DTLs in the list (step ), the mesh restoration behavior  returns to step . Otherwise, an alarm is raised with the SNC unavailable due to an ARD restriction (step ). If the ARD is valid (step ), then a setup message is sent on the available path from the validated dynamic DTL (step ).","Referring to , a flowchart illustrates reversion behavior  with ARD according to an exemplary embodiment of the present invention. When a failure on the home path of one leg is cleared, if the leg is revertive, then the leg is going to try to revert automatically to the home path if the routing information shows it as available. After reversion is initiated, it is possible that the home path is not available anymore\u2014in particular, if another service concurrently occupies the corresponding bandwidth. This might result in temporary loss of one leg for a considerable amount of time, until a restoration path is found and the leg is established on that path. Therefore, it is preferable to avoid operations of reversion or regroom of the other leg at the same time so that the entire MR-SNCP service is not lost for that amount of time.","The reversion behavior  starts by getting the Home DTL for the MR-SNCP leg (step ). The Home DTL leg is validated with ORP (step ). If the validation fails (step ), the SNC is unavailable and the reversion fails (step ). If the validation is successful (step ), then ARD validation logic is applied (step ). The ARD validation logic can include the ARD validation logic  from , for example. If the ARD is invalid (step ), the reversion fails due to an ARD restriction and this is filled in Diagnostics (step ). If the ARD is valid (step ), then a setup message is sent on the available path from the validated dynamic DTL (step ).","Referring to , a flowchart illustrates regroom behavior  with ARD according to an exemplary embodiment of the present invention. Due to the reaction to failures (mesh restoration), either one or both legs of a MR-SNCP service can be on a path that is different from the original home path (user-configured DTL). Also, the network may have undergone such changes that make the home paths obsolete by certain standards, in particular considering that home paths were possibly computed to satisfy certain requirements. Therefore, a Regroom operation may be required. The Regroom operation can be orchestrated through the management system  and potentially includes two phases, one each for the two legs of the MR-SNCP service, i.e. each phase can be referred to as a One-Legged Regroom.","Independently of which leg of the MR-SNCP service the One-Legged Regroom operation is applied to, the operation requires one user-configured DTL to be used as the home route. The user-configured DTL can be changed at any time, and the One-Legged Regroom can use the most recent one. Similarly to MR-SNCP service establishment, during One-Legged Regroom the DTL is going to be used in a DTL-exclusive way, i.e., if the leg cannot be established on the available DTL then the One-Legged Regroom fails. It is possible that no path can be found for the One-Legged Regroom even though one was available previously, for instance due to service establishment through other mechanisms while the regroom is attempted or because of mesh restoration of another service. In this case, the leg trying regroom may remain in a failed state indefinitely. Therefore, it is preferable to avoid operations of reversion or regroom of the other leg at the same time so that the entire MR-SNCP service is not down for that amount of time.","The regroom behavior  is initiated by a regroom operation (step ). The regroom behavior  checks to see if there are existing DTLs (step ). If there are existing DTLs, i.e. work and protect DTLs or only work DTLs, then the regroom behavior  checks if the current SNC is on the working DTL (step ). If the current SNC is on the working DTL, the SNC stays on the same route and the regroom operation is complete (step ). If the current SNC is not on the working DTL, a regroom is performed to move the SNC back to the working DTL (step ).","If there are no existing DTLs (step ), then a new DTL is configured (step ). The regroom behavior  checks to see that the working DTL from the new DTL is not down (step ). If the working DTL is down, then the regroom operation fails (step ). If not, then the regroom operation proceeds to the new working DTL (step ). With the working DTL from steps  and , the regroom behavior  applies ARD validation logic (step ). The ARD validation logic can include the ARD validation logic  from , for example. If the ARD is invalid (step ), then Diagnostics are filled in saying regroom fails due to ARD (step ). If the ARD is valid (step ), then a setup message is sent on the available path to regroom back to the working DTL (step ).","Referring to , a flowchart illustrates switch to protect behavior  with ARD according to an exemplary embodiment of the present invention. Switch to Protect is a manual operation. It is applied only on the SNC leg which is in working state. Its purpose is to switch to a new Protect DTL\/Path. So this operation can be applied either on a working leg or a protect leg of the SNCP-MR. Switch to protect is initiated (step ). The switch to protect behavior  checks whether the MR-SNCP leg is configured with only Work DTL or with Work and Protect DTLs (step ). If there is no Protect DTL, then a new protect DTL is computed on the fly by ORP (step ). If ORP is not able to get a new Protect DTL (step ), then a route is not found (step ) and the failed leg is not able to restore.","If there are protect DTLs (step ), then a new protect DTL is retrieved from the protect DTL list (step ). The retrieved route is validated by ORP (step ). If the path is invalid (step ), the switch to protect behavior  checks to see if there are additional protect DTL routes in the protect DTL list (step ). If there are additional protect DTL routes, then the switch to protect behavior  retrieves a new protect DTL route from the protect DTL list (step ). If no additional routes are available, then a route is not found (step ) and the failed leg is not able to restore.","If valid paths are found in steps  and , then the switch to protect behavior  applies ARD validation logic (step ). The ARD validation logic can include the ARD validation logic  from , for example. If the ARD is invalid (step ), then if there are additional DTLs in the list (step ), the switch to protect behavior  returns to step . Otherwise, switch to protect fails is recorded in Diagnostics (step ). If the ARD is valid (step ), then the primary connection is released and a new setup message is sent with the valid route DTL (step ).","Referring to , a flowchart illustrates associated hop DTL and Manual Switch to Protect (MSP) DTL behavior  with ARD according to an exemplary embodiment of the present invention. The behavior  checks for associated hop DTL and MSP DTL (step ). If it is associated hop DTL, a new protect DTL is extracted from the failed Hop (step ), and is validated against ORP (step ). If ORP validates this path (step ), then ARD validation is applied against this path (step ). If ORP invalidates this path (step ), then a new path is extracted from ORP by passing the other leg's current and home path as least preferred path (step ). If there is a path available (step ) and it is valid (step ), then ARD validation is applied against that path (step ). If a path is not available (step ), then the behavior  ends with a path not found (step ).","If the behavior  is MSP (step ), then the MSP DTL is retrieved and a current path is validated against this DTL (step ). If the paths are the same (step ), then the behavior  changes the SNC diags indicating it is on same path. If the paths are not same (step ), then MSP DTL is validated in ORP (step ). The MSP DTL is check for validity (step ). If invalid, the behavior  goes to step . If the path is valid from steps  and , then ARD validation logic is applied (step ). The ARD validation logic can include the ARD validation logic  from , for example. If the ARD is invalid (step ), then a failure is recorded in Diagnostics (step ). If the ARD is valid (step ), then a new setup message is sent with the valid route DTL (step ).","In all of the behaviors described herein, the presence or absence of the ARD constraint on a peer SNC acts in conjunction with the presence or absence of a Max Admin Weight (MAW) restriction. When both restrictions are enabled, only paths that satisfy both restrictions can be attempted. In particular for automatically computed paths, only the lowest cost path that avoids all the protection bundles in the other peer SNC's home and current paths is going to be examined for MAW.","Referring to , a flowchart illustrates automatically computed path behavior  with ARD according to an exemplary embodiment of the present invention. There are two scenarios where automatically computed paths from ORP are tried. These two instances go along with a peer SNC when it configured only with Working DTL without any Protect DTLs. These two instances include during a Hard Failure, when there is no Protect DTLs configured, and during a Switch To Protect when there is no Protect DTL configured.","For automatically computed paths, the steps to apply MAW and ARD in the automatically computed path behavior  include getting the Exclusion List with Home and Working DTLs of peer SNC before getting the new path from ORP (step ). This Exclusion List is passed to ORP to be excluded during calculation of the new path (step ). This path is not necessarily Absolute Diverse. Once the new path is calculated considering the above restrictions, ARD validation logic is applied (step ). After ARD validation, MAW logic is applied (step ). The ARD validation logic can include the ARD validation logic  from , for example.","Referring to , a state diagram  illustrates behaviors of an MR-SNCP leg according to an exemplary embodiment of the present invention. The state diagram  includes a down , creating , starting , working , protecting , and recovering  state. By earlier design, a SNC corresponding to a SNCP-MR leg is a low priority SNC which does not have any pre-computed Protect DTLs and during Switch To Protect, Protect DTLs are computed on the fly either from UsrDTLWPSet or from ORP and Protecting  as well as Recovering  states are just transitioned during the Manual Switch To Protect. Manual Revert\/Revert Timer Expiry, Manual Regroom and Hard Failure follow the same flow of Low Priority SNC.","There are six cases in which ARD can be triggered with the condition that all the ARD pre-conditions must be satisfied. The six cases include initial provisioning\/unlock from the down  state, a hard failure (from either the starting , the working , or the recovering  states, a manual revert from the working  state, a revert timer expired from the working  state, a manual regroom from the working  state, and a manual switch to protect from the working  state. These six triggers lead to various state changes as captured by the state diagram .","Due to the ARD feature, additional ARD validation logic is applied on all the ORP validated\/returned paths, and these state changes are just blocked on the ARD validation logic in all these above cases. Thus in the new model of ARD, the SNC corresponding to a SNCP-MR leg will never pick a DTL for it new SETUP unless it is validated by the ARD logic.","Referring to , a multi-service, multi-protocol switching system  that can utilize ARD with regard to MR-SNCP services is illustrated according to an exemplary embodiment of the present invention. For example, the switching system  can include an optical switch network element (NE) that can consolidate the functionality of a multi-service provisioning platform (MSPP), digital cross connect (DCS), Ethernet and Optical Transport Network (OTN) switch, into a single, high-capacity intelligent switching system.","Generally, the switching system  includes common equipment , line modules , and switch modules . The common equipment  can include power, a control module, OAM&P access, and the like. For example, the common equipment  can connect to the management system  through a network . Additionally, the control module can be configured to operate the control plane and the systems and methods described herein with regard to ARD.","The line modules  are communicatively coupled to the switch modules , such as through a backplane, mid-plane, or the like. The line modules  are configured to provide ingress and egress to the switch modules , and are configured to provide interfaces for the MR-SNCP services described herein. For example, the line modules  can include optical transceivers, such as, for example, 2.5 Gb\/s (OC-48\/STM-1, OTU1), 10 Gb\/s (OC-192\/STM-64, OTU2), 40 Gb\/s (OC-768\/STM-256, OTU3), etc. The line modules  can include DWDM interfaces, short reach interfaces, and the like, and can connect to other line modules  on remote NEs, end clients, and the like.","The switch modules  are configured to switch services between the line modules . For example, the switch modules  can provide wavelength granularity, SONET\/SDH granularity, OTN granularity, Ethernet granularity, and the like. The switch modules  can include redundancy as well. Collectively, the line modules  and the switch modules  can provide an MR-SNCP service with ARD as described herein.","Referring to , redundant control modules (CMs) ,  are illustrated to provide control plane processing to enable an MR-SNCP service with ARD according to an exemplary embodiment of the present invention. For example, the CMs ,  can be part of common equipment, such as common equipment  in the system  of . The CMs ,  can include a processor which is hardware device for executing software instructions. The processor can be any custom made or commercially available processor, a central processing unit (CPU), an auxiliary processor among several processors associated with the CMs , , a semiconductor-based microprocessor (in the form of a microchip or chip set), or generally any device for executing software instructions. When the CM ,  is in operation, the processor is configured to execute software stored within memory, to communicate data to and from the memory, and to generally control operations of the CM ,  pursuant to the software instructions.","The CMs ,  can also include network interfaces, a data store, memory, and the like. The network interfaces can be used to enable the CMs ,  to communicate on a network, such as to communicate control plane information to other CMs. The network interfaces can include, for example, an Ethernet card (e.g., 10BaseT, Fast Ethernet, Gigabit Ethernet) or a wireless local area network (WLAN) card (e.g., 802.11a\/b\/g). The network interfaces can include address, control, and\/or data connections to enable appropriate communications on the network. The data store can be used to store data, such as control plane information received from NEs, other CMs, etc. The data store can include any of volatile memory elements (e.g., random access memory (RAM, such as DRAM, SRAM, SDRAM, and the like)), nonvolatile memory elements (e.g., ROM, hard drive, tape, CDROM, and the like), and combinations thereof. Moreover, the data store can incorporate electronic, magnetic, optical, and\/or other types of storage media. The memory can include any of volatile memory elements (e.g., random access memory (RAM, such as DRAM, SRAM, SDRAM, etc.)), nonvolatile memory elements (e.g., ROM, hard drive, tape, CDROM, etc.), and combinations thereof. Moreover, the memory may incorporate electronic, magnetic, optical, and\/or other types of storage media. Note that the memory can have a distributed architecture, where various components are situated remotely from one another, but can be accessed by the processor.","Each of the CMs ,  include a state machine , a link database (DB) , a topology DB , and a circuit DB . The CMs ,  are responsible for all control plane processing, e.g. OSRP, to provide MR-SNCP with ARD services. For example, the CMs ,  can be configured in a redundant 1+1, 1:1, etc. configuration. The state machine  is configured to implement the behaviors described herein with regard to ARD. The DBs , ,  can be stored in the memory and\/or data store. The link DB  includes updated information related to each link in a network. The topology DB  includes updated information related to the network topology, and the circuit DB  includes a listing of terminating circuits and transiting circuits at an NE where the CMs ,  are located. The CMs ,  can utilize control plane mechanisms to maintain the DBs , , . For example, a HELLO protocol can be used to discover and verify neighboring ports, nodes, protection bundles, and the like. Also, the DBs can share topology state messages to exchange information to maintain identical data.","Referring to , a management screen GUI  illustrates a MR-SNCP service with ARD according to an exemplary embodiment of the present invention. For example, the GUI  can be hosted on the management system , and accessed via a remote client, such as through a Web interface. The GUI  enables provisioning of a MR-SNCP service on a node. The GUI  can include a toolbar  for navigation and other functions, a tree list  for selecting nodes, circuits, etc., a table  for selecting a particular circuit (e.g., SNC-W  in the example of ), and a work area  for provisioning particular attributes of the particular circuit, i.e. SNC-W . For example, the GUI  can be associated with the system  and the CMs , .","In an exemplary embodiment of the present invention, ARD is a circuit level parameter, and only impacts for the MR-SNCP circuit which selects this option, i.e. SNC-W . The ARD option can be presented as a GUI check box from the GUI , i.e. checkbox . The ARD selection is a property of the MR-SNCP circuit, and is visible from all MR-SNCP related screens. A user can select and change the ARD selection  at any time. The ARD change only takes effect from the next restoration event. By default, the ARD check box  can be Un-selected.","ARD only impacts a mesh-restoring, failed MR-SNCP leg. It does not change system behaviors of a regular SNC. When ARD is enabled, to restore a failed MR-SNCP leg, the system tries to find an alternative path which has NO overlap in any OSRP link or bundle ID with the Current working path of the peer SNC and the Home Route of the peer SNC, if the peer SNC is revertive. If the peer SNC is in failed state, the routing constraints can be removed even if the ARD option is selected (to avoid traffic outages).","Also, the ARD feature and MAX Admin Weight (MAW) feature can be used in conjunction on MR-SNCP. When both ARD and MAW are enabled, the system routing engine can select the paths meeting both MAX and ARD requirements; if more than one routes meet both MAW and ARD constraints, the path with lowest Admin Weight can be selected. When ARD is enabled, if the system cannot find an ARD path for failed SNCP leg, the path goes down, and alarmed. The MR-SNCP circuit then acts as single SNC Mode. The system can retry the mesh restoration in the background with pre-set intervals (the same with current normal SNC behavior), which are configurable in the GUI . The single SNC MODE circuit can be back to a MR-SNCP mode once a suitable path is found or failed leg is restored. The alarm can be cleared automatically.","The system  can be configured to allow a peer SNC \u2018A\u2019 that is not a P-SNC and is part of an SNCP which has its other peer SNC \u2018B\u2019 originating on the same NE, to be enabled or disabled for ARD. Conversely, the system  can be configured to not allow a peer SNC \u2018A\u2019 that is part of an SNCP which has its other peer SNC \u2018B\u2019 originating on a different NE, to be enabled or disabled for ARD. The system  can be configured to not allow a peer SNC \u2018A\u2019 that is P-SNC and is part of an SNCP to be enabled or disabled for ARD. Also, the system  can be configured to not allow an ordinary SNC (not a peer SNC of any SNCP) to be enabled or disabled for ARD. The system  can allow the two peer SNCs of a SNCP to be ARD enabled or disabled independently, if applicable. The enabling and disabling of ARD, if applicable, can be at any time including creation time. Also, the GUI  can remove the checkbox  if ARD is not applicable to the selected service.","When a peer SNC \u2018A\u2019 is provisioned and a peer SNC \u2018B\u2019 is unprovisioned, the system  behavior does not differ from ordinary behavior whether ARD is enabled or disabled for peer SNC \u2018A\u2019. When an ARD-enabled peer SNC \u2018A\u2019 is provisioned and a peer SNC \u2018B\u2019 is already provisioned and it is active, the system  does not establish peer SNC \u2018A\u2019 on any path that shares one or more protection bundle IDs with home path and current path of peer SNC \u2018B\u2019. When an ARD-enabled peer SNC \u2018A\u2019 is provisioned and a peer SNC \u2018B\u2019 is already provisioned but down, the system  allows the peer SNC \u2018A\u2019 on a path that shares one or more protection bundle IDs with the home path of peer SNC \u2018B\u2019. If the peer SNC \u2018A\u2019 of an SNCP-MR is ARD-enabled and its provisioning fails, then the existing alarm that is raised after  seconds can be assigned a probable cause of \u201cARD restriction\u201d.","The system  does not allow an ARD-enabled peer SNC \u2018A\u2019 to use any path that shares one or more protection bundle IDs with the home path and current path of the peer SNC \u2018B\u2019, if the peer SNC \u2018B\u2019 is active, when the peer SNC \u2018A\u2019 is looking for a new path following either one of: (a) mesh restoration; (b) regroom; (c) reversion; or (d) switch to protect. The system  allows an ARD-enabled peer SNC \u2018A\u2019 to use a path that shares one or more protection bundle IDs with the home path and current path of the peer SNC \u2018B\u2019 only if the peer SNC \u2018B\u2019 is provisioned but it is down at that time.","After ARD is enabled for a peer SNC that is ARD-disabled and is active, the system  applies the ARD constraint at the first occurrence of an event among: (a) mesh restoration; (b) regroom; (c) reversion; or (d) switch to protect with no M-STP DTL. After ARD is disabled for a peer SNC that is ARD-enabled and is active, the system  can cease applying the ARD constraint at the first occurrence of an event among: (a) mesh restoration; (b) regroom; (c) reversion; or (d) switch to protect.","After ARD is enabled for a peer SNC \u2018A\u2019 that is ARD-disabled and is down, only if the peer SNC \u2018B\u2019 is active does the system  apply the ARD constraint at the first scheduled attempt at finding a new path. After ARD is disabled for a peer SNC that is ARD-enabled and is down, the system  can cease applying the ARD constraint at the first scheduled attempt at finding a path. The system  can apply the ARD constraint, when applicable, in conjunction with Max Admin Weight (MAW) if a MAW setting is specified for the same peer SNC. For an ARD-enabled peer SNC \u2018A\u2019 that is down after an attempt at moving to a new path, the system  can assign a probable cause of \u201cARD restriction\u201d to the existing alarm that is raised after  seconds that \u2018A\u2019 is down, whatever state peer SNC \u2018B\u2019 is in. The application of the ARD constraint has negligible performance impact on establishment of a peer SNC of an MR-SNCP for the following events: (a) provisioning; (b) mesh restoration; (c) regroom; (d) reversion; and (e) switch to protect.","Although the present invention has been illustrated and described herein with reference to preferred embodiments and specific examples thereof, it will be readily apparent to those of ordinary skill in the art that other embodiments and examples may perform similar functions and\/or achieve like results. All such equivalent embodiments and examples are within the spirit and scope of the present invention and are intended to be covered by the following claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The present invention is illustrated and described herein with reference to the various drawings, in which like reference numbers denote like method steps and\/or system components, respectively, and in which:",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 16"}]},"DETDESC":[{},{}]}
