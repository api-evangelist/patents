---
title: Protocol to fix broken links on the world wide web
abstract: A protocol for automatically fixing broken hypertext links is described that can save countless hours wasted by World-Wide Web surfers trying to navigate using a broken link or web authors trying to fix broken links to their web pages. A link correction service checks hypertext links in a document by sending messages according to a hyperlink verification protocol (HLVP) to a remote web server indicated by the link. A link checking service at the remote web server, in response to receiving an HLVP message for a link, consults a mapping table to determine if the link is valid, has changed, has been removed, or is unknown. A response code indicating the status of the link is returned to the link correction service to modify the page accordingly.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07689667&OS=07689667&RS=07689667
owner: International Business Machines Corporation
number: 07689667
owner_city: Armonk
owner_country: US
publication_date: 20020221
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["1. Field of the Invention","The invention relates to client-server data communication systems. More particularly, it relates to repairing links between pages in a client-server network.","2. Description of the Related Art","The Internet, as it is popularly known, has become an important and useful tool for accessing a wide variety of information. One component of the Internet is the World Wide Web (hereinafter the web). In recent years the web has become an increasing popular vehicle for providing information to virtually anyone with access to the Internet. Many websites have been established to provide, over the web, information in many different forms, such as text, graphics, video and audio information.","A typical website is hosted on a network server computer that includes application software programs. The server, also known as a web server, is connected to the Internet. By connecting the web server to the Internet, clients that are connected to the Internet can access the website via the web server. Usually, a client is located remotely from the web server, although the client and the server can be at the same location. A web server also can be connected to a private intranet, as opposed to or in addition to the public Internet, in order to make a website privately available to clients within an organization.","A client-server communication system used on the web is shown on . The system includes a client  that is connected to a monitor  and to a network , such as the Internet. The client sends and receives messages over the network  to a server, such as web server , web server , or web server  shown in . The web servers host web sites that include one or more web pages. For example, web server  hosts web site  that contains a series of web pages through . Similarly, web server  hosts web site  that contains a series of pages through , and web server  hosts web site  that contains a series of pages through . A uniform resource locator (URL) is a string that gives information about the location of a particular resource (such as a file, image, or program) on the Internet. Generally, each web page has a unique URL.","The client  accesses web pages on a website by using a web browser ; that is, a software program that runs on the client and receives from the server information formatted in a known manner. A very popular format for information sent over the web from a server to a client is the Hyper Text Mark-up Language (HTML).","A web server typically takes user input, in the form of a URL, and returns the file(s) that correspond to that web page. This process begins by the client browser sending a request to a web server indicated by the URL. Once the web server receives the client request, it locates the file, or executes the program, specified by the URL and sends the file back to the client browser. The file(s) making up the web page that has been delivered to the client is held in a cache memory for use by the browser . Web page  shown in  represents a web page that is stored in the browser's cache. The browser interprets the HTML code in the web page to generate a display  on monitor . If the web server encounters a problem while processing the client browser's request, it returns an error code.","One web page on the Internet can reference another web page on the Internet through the use of URL links. These links are basically URL strings contained within special HTML tags. When the user clicks on such a link the client browser requests from a web server the resource specified by the URL and displays that resource, such as an HTML web page file, on the client browser. Here, for purposes of illustration, referring to , assume the web page  held in the browser's cache and displayed as page  came from web site  in web server . The web page display  includes two hypertext links to other web pages held on different severs. URL link B (\u201clink B\u201d)  contains the URL of web page  a stored in web server . URL link C (\u201clink C\u201d)  contains the URL of web page  a stored in web server . If a user selects link B , the browser sends a message to the web server  to return the web page corresponding to the URL of link B. Here, web server  returns an HTML copy of web page to client . Similarly, if a user selects link C , the browser sends a message to the web server  to return the web page corresponding to the URL of link C. Here, web server  returns an HTML copy of web page to client .","A commonly encountered problem with many web pages is that the hypertext links on those pages might become stale, or broken, such that the URL within the hypertext link no longer refers to the location of a web page. The problem of broken links, also known as linkrot, occurs commonly on sites and pages throughout the web. Web surfers find broken links to be annoying and usually tend to avoid sites that have many broken links. For web page authors, fixing broken links can be tedious and labor intensive.","A URL link can be considered to be broken when, for example","1. The file specified by the URL has been renamed in the web server.","2. The file specified by the URL has been deleted in the web server.","3. The location of the file under the web browser is changed.","Under any one of these circumstances the web server returns an error message (e.g., error code 404) back to the client browser.","Broken links are very annoying to the users and are quite common on the World Wide Web. A 1997 World Wide Web user survey rated broken links to be the most frequent problem encountered by users.","Fixing broken links is a significant inconvenience for web developers. It is a task that is carried out manually, and hence, is labor intensive and time consuming. Despite the fact that broken links are regarded as one of the most serious problems on the World Wide web, no definitive solutions that solve the problems once and for all has yet been developed.","Proposed solutions to date are difficult to implement and do not operate automatically. One such solution recommends web developers follow rules, set forth below, to prevent broken links.","1. Check the web page links frequently and fix them to reduce outbound linkrot.","2. Keep old pages on the server forever and if moving pages place a redirect link on the old page.","Web developers often either are not aware of such rules or simply do not follow them, as illustrated by the large number of broken links on the World Wide Web. Accordingly, there is a long felt but as of yet unsolved need to automatically detect and fix broken links.","Therefore, in light of the above, and for other reasons that will become apparent when the invention is fully described, an object of the invention is to automatically fix broken links on web pages.","Another object of the invention is to automatically detect broken hypertext links.","A further object of the invention is to correct hypertext links in documents without requiring modifications to client software.","Yet another object of the invention is to enable a service for automatically detecting and correcting hypertext links embedded in documents on a web site.","A still further object of the invention is to provide a protocol for detecting, and correcting or removing broken hypertext links.","The aforesaid objects are achieved individually and in combination, and it is not intended that the invention be construed as requiring two or more of the objects to be combined unless expressly required by the claims attached hereto.","In accordance with the invention, a protocol is described here that can be used to fix broken links automatically, thereby saving countless hours wasted by web surfers trying to navigate using a broken link or web authors trying to fix broken links to their web pages.","The above and still further objects, features and advantages of the invention will become apparent upon consideration of the following descriptions and descriptive figures of specific embodiments thereof. While these descriptions go into specific details of the invention, it should be understood that variations may and do exist and would be apparent to those skilled in the art based on the descriptions herein.","The embodiments described below are described with reference to the above drawings, in which like reference numerals designate like components.","A solution to the problems associated with fixing broken web links can be based in a web server that operates automatically to correct or remove broken links. One aspect of the solution checks hypertext links in a web page to determine whether or not those links are broken. If they are broken then the web page is automatically corrected so that the link refers to the correct URL, or the link is removed. As described in more detail below, checking for broken links and fixing them can be accomplished by including the following extensions to a web server, without the need to modify any clients, although using such extensions in a client is not precluded.","1. A mapping table that maps a new URL to the old URL.","2. A hyperlink validation protocol (HLVP).","3. A link correction service.","A local server, such as a web host that hosts one or more web sites, can include a link correction service that performs link correction on web pages, or other types of documents that have broken URLs in those sites. The link correction service operates to correct broken hypertext links in the document and produce a corrected, or fixed document to use with the web site. The link correction service employs a new protocol that is described in more detail below for validating hyperlinks in a document. Based on a URL in the hypertext link, the link correction service identifies a remote web server that is referred to by the URL in the document. The link correction service uses the link verification protocol to request the remote web server to validate the link. The link correction service can reside in the web server that is attempting to the fix broken links in the documents that it manages, or alternatively the service can reside in a client.","A client-server network system that performs link checking and link correction services is illustrated in . Referring to , a web server  includes a link correction service unit  that performs link correction on web pages or other types of documents. The box labeled  in  represents one or more documents that contain hyperlinks or URLs pointing to various resources that may be present on one or more remote web servers. For purposes of illustration here, it is assumed that many of the hyperlinks in document  are broken. The link correction service unit  operates to read and parse the document , and then fix or remove any of the broken hyperlinks found in that document. The link correction service unit  upon fixing or removing the broken hyperlinks, generates a modified form of document  where the modifications can include: 1) either broken links being replaced by fixed links, or 2) broken links being removed from the document. The document modified to correct or remove broken links is shown as the box labeled  in .","A link checking service informs the link correction service whether a hyperlink that points to the web server where the link checking service resides is: 1) valid, 2) no longer exists, 3) has been replaced by an alternate URL, or 4) has an unknown status. The link checking service typically operates on another web server that, generally, is remote from the web server running the link correction service, although they can reside on the same server. A remote web server, such as web server  shown in , includes a link checking service unit  that checks the validity of a link based on a request from the link correction service unit . Within the remote web server are a set of documents that are managed by web server . Often such documents are in HTML form, and accordingly, box  in  is labeled HTML file repository, although documents in other formats can reside in repository . The remote web server  also includes a mapping table  for mapping old URLs to new URLs, and a mapping tale maintenance unit  for maintaining the mapping table.","The mapping table  lists the changes that occur in the URL of the resources that the web server exposes to the outside world. A change in the URL of a resource has a corresponding entry in the mapping table. An example of such a mapping table is shown in . Here, the mapping table  includes the old URLs, listed in column ; codes indicating the status of the URL, listed in column ; and the new URLs corresponding to the changed locations, listed in column . The mapping table can be stored either in a file, in a database, or in any other suitable form that allows access to and use of the mapping table. The table can be generated and updated manually by a webmaster or through the use of a software utility program running in the mapping table maintenance unit . The mapping table maintenance unit  can operate with other software programs that determine an alternate URL for a given URL, to automatically update the mapping table.","In the mapping table , shown in , five rows -are shown corresponding to five files that are stored, or were previously stored, in remote web server . For example, row of the mapping table indicates that the file having a URL http:\/\/www.company-name.com\/removed.html has been removed since it has a URL status code of \u201c\u22121\u201d. Row indicates that the file with URL http:\/\/www.company-name.com\/index.html still resides where the URL indicates it can be located, and accordingly, has a URL status code of \u201c0\u201d. Row indicates that the file with URL http:\/\/www.company-name.com\/moved.html has moved to a new location since its URL status code is \u201c1\u201d. Row also indicates the new URL for the file, namely, the URL http:\/\/www-3.company-name.com\/moved.html.","Other remote web servers, such as web server  shown in , can include a link checking service. Those other web servers, such as web server , include a link checking service unit , an HTML file repository , a mapping table  and a mapping table maintenance unit .","The link correction and checking services preferably are implemented in software with program instructions being executed on a computer to operate as described below with reference to . Referring to , the link correction service unit operates by reading a document that may possibly contain one or more broken links . The link correction service unit checks each of the hyperlinks found in the document one by one. Upon inputting the document, the link correction service parses that document to obtain the first hyperlink or URL to be checked . For each hyperlink or URL in document A, the link correction service unit accesses the web server indicated by the URL and sends a request to the link checking service unit in that server to determine if the link is valid . Operations performed by the link checking service are illustrated in  within box .","In response to the link checking service unit at the remote server receiving the request for validating a link, it checks if the link is valid by determining if the document pointed to by the URL is actually present among the documents managed by its web server . If the document is found to be present, then the link checking service returns the code \u201c0\u201d to the link validation service unit, indicating that the link is valid. The link correction service unit then obtains the next link in the document to be checked , and then checks that next link in a similar manner. If the document is not found among the documents managed by the web server, the link checking service unit uses the mapping table to determine if an alternate link is available . If no alternate link is available a code \u201c\u22121\u201d is returned and if the link cannot be found in the mapping table a code \u201c\u22122\u201d is returned. Upon receiving either of those codes the link correction service unit removes the link from the document  and obtains the next link in the document to check . If an alternate link is available, the link checking service unit returns a code \u201c1\u201d and the URL of the alternate link. The link correction service unit modifies the document to replace the broken link with the alternate link  and then obtains the next link in the document to check .",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 4B","b":["78","80","82","84"]},"If the URL does not correspond to a file that is found among the documents managed by the remote web server, the link checking service consults the mapping table to determine if an alternate URL is available for the hyperlink. A mapping table can show the status of a URL to be valid (status code \u201c0\u201d), or as being permanently removed (status code \u201c\u22121\u201d), or it can show a new or alternate URL for the URL that the link checking service is attempting to validate (status code \u201c1\u201d+alternate URL). The link checking service unit determines if the URL corresponds to a file that has been deleted . If the mapping table indicates that the file corresponding to the URL has been deleted, a return code of \u201c\u22121\u201d is returned .","If the file is not indicated in the mapping table as being deleted, then the link checking service determines if the mapping table indicates that the file corresponding to the requested URL has been moved . If so, a return code of \u201c1\u201d and the alternate URL indicated in the mapping table are returned .","If the document corresponding to the URL is not found among the documents being managed by the web server and if there is no entry in the mapping table also for that URL, then that URL is considered to be invalid. This condition can occur as a result of a link correction service sending a request to a link checking service to validate a false hyperlink, or a hyperlink believed to be incorrect. In such a situation the link checking service responds by returning a status code of \u201c\u22122\u201d .","For each link in a document, the link correction service might have to send requests to various link checking services running on different remote web servers, since hyperlinks contained within a document can point to different web servers.","For the purpose of description below assume the following parameters set foryh in Table 1.",{"@attributes":{"id":"p-0055","num":"0054"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"105pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"98pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Domain name of web server:","www.company-name.com"]},{"entry":[{},"Root directory of web server:","\/"]},{"entry":[{},"Requested file name:","foo.html"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},"Web servers today implement the Hypertext Transfer Protocol (http) for communicating requests and responses for web pages between a client and a server. In order to validate a link, the web servers ,  and  shown in  are configured to operate according to a new protocol, referred to here as a Hyperlink Validation Protocol (HLVP). The HLVP protocol has the following characteristics.","1. A protocol request is URL based, similar to HTTP. To validate the http link http:\/\/www.company-name.com\/foo.html a client program sends an HLVP request message  in the form shown in , where \u201chlvp\u201d indicates that the request follows the HLVP protocol, and the URL to be validated is \u201cwww.company-name.com\/foo.com\u201d. Note that the URL for the requested document is exactly the same as in HTTP except for the name of the protocol in the beginning of the URL string (\u201chlvp\u201d sa opposed to \u201chttp\u201d).","2. An HLVP protocol response message  validates the URL and has the form shown in . The HLVP response message includes two fields, a URL tatus field and a URL field . The URL status field includes one of the numeric codes shown in  depending on the determined status of the URL. For example, if the URL is determined to be valid, the URL status field of the HLVP response message contains the response code \u201c0\u201d. If the location of the URL is determined to be changed, the URL status field of the HLVP response message contains the response code \u201c1\u201d and the URL field contains the new URL identifying the present location of the document.","The link correction service first checks all the web pages stored on the server to determine all the external links in those pages. Then, the link correction service uses the HLVP protocol to validate the links on the web pages. The actions initiated by the link correction service based on the HLVP response is summarized as follows.","1. If an HLVP response for a link on the web page has a URL status code of \u201c0\u201d then that link is valid and the link correction service takes no further action.","2. If an HLVP response for a link on a web page has a URL status code of \u201c\u22121\u201d then the web page pointed to by the link no longer exists. In that case, the link correction service edits the web page to remove the broken link.","3. If an HLVP response for a link has a URL status code of \u201c1\u201d indicating a change in the location of the file corresponding to the URL, the link correction service edits the web page to change the broken URL to point to the new URL contained in the HLVP response message.","4. If an HLVP response for a link on a web page has a URL status code of \u201c\u22122\u201d then the link checking service does not know about the requested URL. Accordingly, the resource pointed to by the link is unknown by the remote web server. In that case, the link correction service edits the web page to remove the unknown link.","The systems and techniques described here for fixing broken links do not require modifying client web browsers, but rather are based in the web server. This solution when implemented in a web server configured as described above, allows the web server to autonomously check, validate, and correct the URLs present in the web pages that the web server manages.","Having described embodiments of apparatuses, articles of manufacture and methods of correcting broken hyperlinks, it is believed that other modifications, variations and changes will be suggested to those skilled in the art in view of the teachings set forth herein. It is therefore to be understood that all such variations, modifications and changes are believed to fall within the scope of the present invention as defined by the appended claims. Although specific terms are employed herein, they are used in their ordinary and accustomed manner only, unless expressly defined differently herein, and not for purposes of limitation."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIGS. 4A and 4B"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIGS. 5A and 5B"}]},"DETDESC":[{},{}]}
