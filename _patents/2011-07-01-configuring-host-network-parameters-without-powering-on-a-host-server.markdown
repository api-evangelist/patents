---
title: Configuring host network parameters without powering on a host server
abstract: Techniques are provided to adjust network settings for network connectivity resources used by a host server. A network card device, coupled to the host server, receives instructions to adjust network settings associated with the host server. Power is received from the host server at the network card device in order to allow the network card device to configure the network settings while the host server is in a standby mode. The network card device receives commands to adjust the network settings while the host server is in the standby mode.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08977733&OS=08977733&RS=08977733
owner: Cisco Technology, Inc.
number: 08977733
owner_city: San Jose
owner_country: US
publication_date: 20110701
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","DESCRIPTION OF EXAMPLE EMBODIMENTS","Overview","Example Embodiments"],"p":["The present disclosure relates to configuring network related parameters associated with a host server.","A host server of a network can be configured with parameters that establish network policies. When host servers are not performing network operations (e.g., the host servers are \u201coff\u201d), the host server is typically maintained in a standby mode. When the host servers are performing network operations (e.g., when the host servers are \u201con\u201d), the host server is in a normal operational mode. A power supply provides the necessary power level to maintain the host server in the standby mode and\/or the normal mode.","A network card device is used to provide network connectivity for a host server. Currently, when a network setting of the network card device needs to be changed, the host server needs to be re-booted in order for those changes to take effect.","Techniques are provided to adjust network settings for network connectivity resources used by a host server. A network card device, coupled to the host server, receives instructions to adjust network settings associated with the host server. Power is received from the host server at the network card device in order to allow the network card device to configure the network settings while the host server is in a standby mode. The network card device receives commands to adjust the network settings while the host server is in the standby mode.",{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 1","FIG. 1"],"b":["100","110","112","114","100","200","110","202","200","110","200","110","110","200","300","400","400","112","110","112","110","200"]},"In one embodiment, the PCI card slot device  of the host server  is configured to interface with a PCI connector on the network card device , as described herein. In another embodiment, the host server  is configured to couple to the network card device  via an external cable, as described herein. The network controller device  of the network card device  is configured to transmit and receive communications between the network card device , host server  and client network . For example, the network controller device  may be a network controller device configured to monitor network settings associated with host server  and to receive commands (e.g., from user device  across client network ) to adjust or modify the network settings of the network card device  used by the host server , as described herein. Client network  may be any network configured to enable communications between user device , host server  and network card . For example, client network  may be a wired or wireless Local Area Network (LAN), wired or wireless Wide Area Network (WAN), etc. The host server  may be a blade server that is mounted in a rack with a plurality of other similar blade servers. The host server  may also be a rack or rackable server.","According to the techniques described herein, the host server  supplies power to the network card device  so that the network card device  can communicate with a user device in order to receive network setting change commands from the user device and make those changes effective for the host server without powering on and booting up the host server . Thus, the host server  need not be powered on and in a normal operational mode when the network settings are changed. However, it is to be understood that wall or rack power is coupled to the host server  so that power is available from the host server  even when it is not powered on and booted up.","Turning to , a block diagram of host server  connected to the network card device  across a network path according to one embodiment, is now described. As stated above, host server  comprises a management controller device  and a PCI card slot  coupled to the management controller device . The management controller device  comprises multiple network interface devices  and an IC port  configured to transmit and receive power and commands as described herein. The management controller device  transmits and receives network communications with the PCI card slot  across a network path  established between one or more of the network interface devices  of the management controller device  and the PCI card slot . For example, the network interface devices  of the management controller may be Ethernet or Fibre (or Fiber) Channel (FC) interface devices. Additionally, the management controller device  transmits and receives power with the PCI card slot  across a power path (e.g., an IC management bus line) , as described herein.","The host server  also comprises a network interface port  coupled to the management controller device  that is configured to transmit and receive communications over the client network . For example, network interface port  of the host server  may be an Ethernet port or an FC port configured to receive network communications originating from user device  across client network . The host server  further comprises a power supply device , a processor  and a memory . It should be appreciated, however, that the host server  may comprise multiple processors, but for simplicity, a single processor  is shown and described herein. The power supply device  is coupled to the PCI card slot  and is configured to deliver power to the PCI card slot  across a power path (e.g., an IC management bus line) , as described herein. The processor  is coupled to the management controller device  and to the memory . The memory  is configured to store executable instructions for Basic Input\/Output Settings (BIOS)  and for network configuration logic , the operations of which are described hereinafter.",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2","b":["200","200","202","202","204","206","204","208","200","208","400","300","208","300","400"]},"The network card device  also comprises a power controller unit  that includes an IC port  configured to transmit and receive power as described herein. A connector  (comprising a set of pins ) are disposed on the network card device  that are configured, in one embodiment, to engage the PCI card slot  of the host server . The network card device  also has a processor  and a memory . The processor  is coupled to the network controller device  and to memory . Memory  stores executable instructions for network settings and modification logic .","When the connector  is installed in the PCI card slot  of the host server , a network path  is established between the PCI card slot  and the network controller device . Additionally, power paths (e.g., IC management bus lines)  and  are established between the PCI card slot  and the management controller device . In one example, the host server  assigns an identifier for the network card device  to indicate that the network card device  is coupled with the PCI card slot .","A user device  may access the host server  using a dedicated method by communicating with the management controller device  through client network . The user device  may also access the host server  using a shared method by communicating with the management controller device  through the network card device . The dedicated method and shared method allow the user device  to modify network settings of the host server  and network settings for one or more network ports on the network card device  that are used by the host server . For example, a user device  may access management controller device  on host server  via the network card device  (after network path  has been established) to configure or modify network settings of the host server . In this example, user device  may send commands that are configured to cause management controller device  to modify the BIOS  in memory  and to configure or modify the network settings. In one example, the management controller device  modifies the network settings by communicating directly with the network controller device  via a communication path involving the network interface device , network path , PCI slot  and network path . The management controller device  is also known and referred to as a baseboard management controller (BMC).","The management controller device  is configured to monitor network settings (e.g., BIOS settings and operations) associated with host server . For example, the management controller device  may monitor requests by the user device  (for example, via the network card device ) for access to host server  to configure the network settings. The management controller device  is also configured to monitor performance characteristics of host server . For example, the management controller device  may monitor parameters of host server , such as temperature, cooling fan speeds, power status, operating system functionality, etc. The management controller device  can modify the performance characteristics based on operating requirements associated with host server .","The PCI card slot , as described above, is configured to interface with pins  of connector  of the network card device  and in so doing establish a hardware connection between host server  and the network card device . As a result, the network path  is established between the PCI card slot device  and the network controller device . Software on the host server  determines whether a valid connection has been made between the two devices. For example, software on the host server  reads a field replacement unit (FRU) physically attached to the network card device  over one or more IC bus lines to determine whether the host server  is connected to the network card device . In one example, the network path  is a medium dependent interface (MDI) or a reverse MDI (MDIX) connection. Thus, the network card device  is able to transmit network communications (e.g., commands originating from user device  to modify network settings) to the host server  across the network path . Additionally, when connector  is installed in the PCI card slot , the network card device  is able to receive power from the host server  (in particular, the PCI card slot ) over the power paths  and , as described above.","The power supply device  of the host server  provides power to the PCI card slot  via path . The power supply device  also provides power to the management controller device  via path . For example, the power supply device  may be configured to provide power to the PCI card slot  (via path ) and to the management controller device  (via path ) at a normal power level, a standby power level and an enhanced standby level. The normal power level may be a power level that is relatively higher than the standby power level, such that the normal power level enables enhanced network performance or enhanced functions\/features by the host server  (e.g., when the host server  is operating in a \u201cnormal\u201d operational mode) while standby power enables only minimal performance or functions\/features of host server . In one example, when the power supply device  supplies standby power, only the management controller device  and the network interface port  of the host server  and the power controller unit  of the network card device  receive power and are active. In another example, when the power supply device  supplies normal power, every component of the host server  and the network card device  receives power and are active. The power supply device  may also supply power in the enhanced standby mode, in which the power supply device  delivers enough power to operate components of the host server  in the standby mode (as described above) and additionally to provide enough power to all of the components of the network card device  to allow the network card device  to configure network settings associated with the host server . It should be appreciated that while multiple standby modes (e.g., standby mode and enhanced standby mode) are described, the power supply device , in one example, may deliver power in only two modes, one of which comprises is a standby mode (standby mode or enhanced standby mode, described above) and the other is the normal mode, described above.","The management controller device  may enable a transition from a standby power level to the enhanced standby power level by issuing a special IC command. This special IC command may comprise a command that originates at IC port  of the management controller device  destined for power controller unit  of the network card device  (via, e.g., IC bus line , PCI card slot , connector , and IC bus ). The power controller unit  of the network card device  is configured to receive power (e.g., power at a normal power level, standby power level, or enhanced standby power level, as described above) from the PCI card slot  when the connector  is installed in the PCI card slot . The power delivered by the power supply device  may flow to the connector  of the network card device  from the PCI card slot .","The IC port  of the power controller unit  may be configured to gate the power signals received from the host server  across the power paths  and . For example, a user device  may request the management controller device  to modify the power level supplied by the power supply device  (e.g., to operate in the enhanced standby mode). In this example, the management controller device  sends a power signal (e.g., an IC transaction) to the power controller unit , the power paths  and  on the network card device  can act as power rails for power to the network card device . For example, the power paths  and  can act as power rails for standby, enhanced standby or normal power. In this example, the IC port  serves as a general purpose input\/output (GPIO) device. After receiving power from the PCI card slot , the power controller unit  can power the network card device . The network card device  is capable of being configured by the management controller device  when it receives, for example, enhanced standby power from the host server , according to the techniques described herein. In other words, when the host server  is not in a \u201cnormal\u201d operation mode (as described above), only the management controller device  configures the network card device . When the host server  is in a \u201cnormal\u201d operation mode, the BIOS , processor  and the management controller device  can all configure the network card device .","The processor  of the host server  is a microprocessor or microcontroller that is configured to execute program logic instructions (i.e., software) for carrying out various operations and tasks described herein. For example, the processor  is configured to execute network configuration logic  that is stored in memory  to configure and modify network settings of the host server , as described herein. For example, the processor  may modify network settings of the host server . The functions of the processor  may be implemented by logic encoded in one or more tangible computer readable storage media (e.g., embedded logic such as an application specific integrated circuit, digital signal processor instructions, software that is executed by a processor, etc), wherein memory  stores data used for the operations described herein and stores software or processor executable instructions that are executed to carry out the operations described herein.","As stated above, memory  is configured to store, for example, BIOS  and network configuration logic . Memory  may comprise read only memory (ROM), random access memory (RAM), magnetic disk storage media devices, optical storage media devices, flash memory devices, electrical, optical or other physical\/tangible memory storage devices. Network configuration logic  may take any of a variety of forms, so as to be encoded in one or more tangible computer readable memory media or storage device for execution, such as fixed logic or programmable logic (e.g., software\/computer instructions executed by a processor) and the processor  may be an application specific integrated circuit (ASIC) that comprises fixed digital logic, or a combination thereof. For example, the processor  may be embodied by digital logic gates in a fixed or programmable digital logic integrated circuit, which digital logic gates are configured to perform network configuration logic . In general, network configuration logic  may be embodied in one or more computer readable storage media encoded with software comprising computer executable instructions and when the software is executed operable to perform the operations described herein for logic .","Similarly, the processor  of the network card device  is a microprocessor or microcontroller that is configured to execute program logic instructions (i.e., software) for carrying out various operations and tasks described herein. For example, the processor  is configured to execute network settings modification logic  that is stored in memory  to receive instructions that cause it to adjust network configuration settings of the host server  when the host server  is in an enhanced standby mode, as described herein. The functions of processor  may be implemented by logic encoded in one or more tangible computer readable storage media (e.g., embedded logic such as an application specific integrated circuit, digital signal processor instructions, software that is executed by a processor, etc), wherein memory  stores data used for the operations described herein and stores software or processor executable instructions that are executed to carry out the operations described herein.","Memory  may comprise ROM, random access RAM, magnetic disk storage media devices, optical storage media devices, flash memory devices, electrical, optical or other physical\/tangible memory storage devices. Network settings modification logic  may take any of a variety of forms, so as to be encoded in one or more tangible computer readable memory media or storage device for execution, such as fixed logic or programmable logic (e.g., software\/computer instructions executed by a processor) and the processor  may be an ASIC that comprises fixed digital logic, or a combination thereof. For example, the processor  may be embodied by digital logic gates in a fixed or programmable digital logic integrated circuit, which digital logic gates are configured to perform network settings modification logic . In general, network settings modification logic  may be embodied in one or more computer readable storage media encoded with software comprising computer executable instructions and when the software is executed operable to perform the operations described herein for logic .","The power controller unit  in the network card device  is accessed by the management controller device  of the host server  over the IC bus lines to power on the network card device  after the host server  and the network card device  are connected. For example, the management controller device  can cause power to be supplied to the network card device  in response to a command line interface (CLI) command from the user device , via a web user interface format (WebUI) command from the user device , or via any public specification format, such as an Intelligent Platform Management Interface (IPMI), Web Services Management (WSMAN), server manager command line protocol, Application Programmable Interface (API), Representational State Transfer (REST) API, etc. In this example, the user device  can transmit a CLI, WebUI, or public specification command to the management controller  or to the host server  to configure network parameters of the host server . Upon receiving the command, the host server  can modify the network settings, according to the techniques described herein, without fully powering on the host server  to a normal operational mode, and also without requiring that the host server  be re-booted in order for the network setting changes to take effect.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 3","FIG. 3","FIG. 2","FIG. 3","FIG. 3","FIG. 2"],"b":["110","150","110","110","200","112","124","150","150","120","112","200","124","200"]},"In general, the internal network topology  shown in  is any interconnection of one to many components that reside on the host server  or the network card device  that allow network related communications. It could comprise multiple management controller devices, network switches, network routers, network interface ports, Ethernet components (e.g., multiple LOMs), and FC components. The internal network topology  may also comprise actual physical connections used between devices such as multiple document interface (MDI\/MDIX), reduced media independent interface (RMII) and gigabit media independent interface (GMII) devices. Network related communications may comprise, for example, any communications of network protocols relating to, for example, user datagram protocol (UDP), transport control protocol\/internet protocol (TCP\/IP), asynchronous transfer mode (ATM), and any protocol at the electrical, physical or software level described by the Institute of Electrical and Electronic Engineers (IEEE).","The host server  is coupled to the network card device  via an external connector device , e.g., a cable. The external connector device  interfaces respective connector device components  on the host server  and the network card device  to establish the connection. The external connector device  enables a network communication path between the host server  and the network card device  and also enables a power path between the host server  and the network card device . It should be appreciated that, though not shown in , one or more IC bus paths may provide power to components of the network card device . For simplicity, network card device  in  does not show all the components described in connection with , above, though it should be appreciated that the network card device  depicted in  may comprise these components.",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 4","b":["226","110","450","200","126","114","110","200","110","110","126","112","400","300","110","110","112","400","300","200","110","112","200","460","200","112","110","470","120"]},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 5","b":["136","110","510","110","200","110","200","200","110","520","300","530","112","200","540","112","200","110"]},"As explained above, the network settings that are changed may involve a setting or parameter associated with one or more network ports on the network card device that are used by the host server or a setting or parameter associated with one or more network ports of the host server itself, if such exist.","Examples of network settings that may be configured\/modified include, but are not limited to:","For Ethernet interfaces (e.g., Ethernet ports):","Create, Delete, Modify:\n\n","For FC interfaces (e.g., FC port):","Create, Delete, Modify:\n\n","In summary, the techniques and apparatus described herein allow for configuring and managing host-side networking parameters without the need to power-on the host server. This reduces the amount of time required for a customer to bring a servers out-of-the-box to an operational state. In addition, these techniques provide for an added layer of security whereby configurations, such as a firewall setting, can be made by the management controller device in the host server. The network settings can be made even before the host server has booted to an operating system for the first time.","Furthermore, a method is provided comprising: at a network card device coupled to a host server, receiving power from the host server to power the network card device to allow the network card device to configure network settings associated with the host server while the host server is in a standby mode; and receiving commands at the network card device over a network to adjust the network settings while the host server is in the standby mode.","Additionally, a method is provided comprising: at a host server coupled to a network card device, receiving from commands to adjust network settings; supplying power to the network card device while the host server is in a standby mode in which the host server supplies power to the network card device to allow the network card device to configure network settings; communicating the commands to the network card device; and modifying the network settings based on the received commands.","In addition, one or more computer readable storage media is provided that is encoded with software comprising computer executable instructions and when the software is executed operable to: receive and respond to a command that causes power from a power supply of a host server to power a network card device in order to allow the network card device to configure network settings associated with the host server while the host server is in a standby mode; and receive commands at the network card device over a network to adjust the network settings while the host server is in the standby mode.","Furthermore, an apparatus is provided comprising one or more network ports; a network interface device configured to enable communications over a network; a power controller unit configured to receive power from a power supply to power the apparatus; a processor configured to: receive and respond to a command that causes power from a power supply of the host server to be coupled to the power controller unit in order to configure network settings associated with the host server with the host serve is in a standby mode; and receive commands to adjust network settings while the host server is in the standby mode.","The above description is intended by way of example only. Various modifications and structural changes may be made therein without departing from the scope of the concepts described herein and within the scope and range of equivalents of the claims."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0005","num":"0004"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
