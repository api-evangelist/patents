---
title: Reconfigurable digital processing system for space
abstract: A reconfigurable digital processing system for space includes the utilization of field programmable gate arrays utilizing a hardware centric approach to reconfigure software processors in a space vehicle through the reprogramming of multiple FPGAs such that one obtains a power/performance characteristic for signal processing tasks that cannot be achieved simply through the use of off-the-shelf processors. In one embodiment, for damaged or otherwise inoperable signal processors located on a spacecraft, the remaining processors which are undamaged can be reconfigured through changing the machine language and binary to the field programmable gate arrays to change the core processor while at the same time maintaining undamaged components so that the signal processing functions can be restored utilizing a RAM-based FPGA as a signal processor. In one embodiment, multiple FPGAs are connected together by a data bus and are also provided with data pipes which interconnect selected FPGAs together to provide the necessary processing function. Flexibility in reconfiguration includes the utilizing of a timing and synchronization block as well as a common configuration block which when coupled to an interconnect block permits reconfiguration of a customizable application core, depending on the particular signal processing function desired. The result is that damaged or inoperable signal processing components can be repaired in space without having to physically attend to the hardware by transmitting to the spacecraft commands which reconfigure the particular FPGAs thus to alter their signal processing function. Also mission changes can be accomplished by reprogramming the FPGAs.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07142953&OS=07142953&RS=07142953
owner: Bae Systems Information and Electronic Systems Integration Inc.
number: 07142953
owner_city: Nashua
owner_country: US
publication_date: 20030925
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATION","STATEMENT OF GOVERNMENT INTEREST","FIELD OF INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This is a Continuation-In-Part of U.S. application Ser. No. 10\/334,317, filed Dec. 31, 2002. This application also claims rights under 35 USC \u00a7 119(e) under U.S. application Ser. No. 60\/347,670, filed Jan. 11, 2002.","The invention described herein was made under Contract No. 572100 with the Government of the United States of America and may be manufactured and used by and for the Government of the United States of America for Governmental purposes without the payment of any royalties thereon or therefor.","This invention relates to the repair or mission redirection of space vehicle electronics and more in particularly to the utilization of field programmable gate arrays to provide a hardware centric approach to the repair or mission redirection.","In the past decade, signal and data processing aboard spacecrafts have advanced rapidly from KIPS or kilo instructions per second to MIPS or millions of instructions per second. The result is the utilization of increasingly powerful commercial technology which has to be adapted for space applications.","However, as is common in the design of electronics carried in space vehicles, a massive amount of redundancy has heretofore been utilized such that if one of the particular processing systems goes down due to massive incoming radiation or due to component failures, it was the policy to provide for redundant processing to repair the electronics by simply duplicating it and calling up the duplicate processor.","However, with increased processing loads the amount of a weight and space occupied by such redundant systems has become excessive. Additionally, the utilization of redundant systems requires increased power resources which are unavailable at the spacecraft. Thus there is a limit of how much redundancy one can achieve given the limited space and power resources available on, for instance, a communications satellite.","Moreover, due to the long time span of missions lasting from several years to over decades, the applications for the processing elements for the spacecraft sometimes needs to be changed due to different requirements that did not exist at the time of launch. This means that there is a requirement to be able to flexibly change the signal processing capabilities of the on-board electronics package and to do so not only to accommodate system element failure, but also to accommodate new mission objectives.","In the early days of space flight in the United States, triple redundancy was thought to be sufficient to counteract system failures during the relatively short space flights involved. For instance, in manned programs, the missions were at most a number of weeks as opposed to number of decades. Thus for manned space flight, triple redundancy was sufficient due to the relatively short duration of the space flight.","However, for longer missions involving multiple years to decades, not only was it necessary to be able to accommodate subsystem failures, it was necessary to be able to repair the downed subsystems without costly individual element redundancy. For mission changes individual element redundancy was likewise inappropriate.","Thus, with decade long missions, and with power at a premium, to say nothing of payload weight, there is a requirement for providing a fundamentally different methodology for accommodating system failure and mission changes.","In the subject invention, a multi processor network architecture is utilized which is composed of a group of hardware and software building blocks supported by tests and development environments that are combined utilizing well defined interfaces to perform general purpose processing, and more particularly signal processing. As part and parcel of the subject invention some or all of the spacecraft processing is provided by field programmable gate arrays. The reconfigurable nature of the subject invention derives from the utilization of the field programmable gate arrays usable in a space environment which today may have as many as one million gates in a module. As a result, in the subject invention, the multi processor network is built up from a number of hardware building blocks one or more of which being one or more field programmable gate arrays. To make the blocks most useful, an infrastructure is created around the fixed elements (such as external I\/O connections to the board) of the FPGA array. This is fully tested and provides a mission configurable attachment to the unique processing in each FPGA.","In one embodiment, an array of field programmable gate arrays (FPGAs) is provided and interconnected with a bus structure, and with data pipes being provided to interconnect various field programmable gate arrays and to the outside world.","Moreover, for the FPGA infrastructure a timing and synchronization block is utilized to synchronize the various data pipes to the clock or clocks of interest, whereas a set of common infrastructure block registers is utilized to configure the fixed interconnects into and out of the FPGA as well as to provide the status of both the fixed elements and as a collector of status from the customizable application core involved in the FPGA digital signal processor. Shadowed data ports are provided to synchronize data pipes from other FPGAs to the same clock or clocks so that all the data can be worked on in parallel by the various FPGAs. Thus the shadowing concept involves the idea of making sure that all of the FPGAs have the requisite data for their particular processing functions or that one FPGA can provide output data to any of the externally connected types of devices or to the other FPGAs.","The shadowing is utilized for flexibility purposes and also due to limitations on external signals where they can only be connected to one FPGA.","Thus, rather than simply uploading new software for software modules on-board the spacecraft, what is uploaded to the spacecraft are commands involving messages which reconfigure the basic signal-processing components utilized. What this means is that the instruction set for the FPGAs can be changed on the fly in terms of changing the machine language and the binary so that the original or new hardware processing function is defined, thus to be able to reconfigure or create a new signal processor where one has previously damaged or where the mission task has changed requiring different types of signal processing.","In one embodiment, a circuit is provided for periodically monitoring the health of a FPGA and if found defective, this fact is transmitted to an earth station to alert engineers and scientists to the fact that a problem exists. When a solution is engineered the appropriate FPGA change is uploaded to the spacecraft to correct the problem. Alternatively, upon detection of such an event, other processors on the spacecraft can be programmed to reconfigure damaged processors.","The result is that it is no longer necessary, if it were at all possible to switch out unique processors on a spacecraft in the same manner that shuttle-reachable low earth orbit satellite processors can be changed through utilizing the space shuttle. Rather the field programmable gate array modules supply sufficient on-board hardware to provide for the aforementioned redundancy by simply creating a new signal processor through the reconfiguration of an operational FPGA.","To provide for programming flexibility, either for repair or to accommodate mission change, a RAM-based FPGA is used as a space-based signal processor, with the RAM-based portion providing that the FPGA have a volatile memory. Moreover, since field programmable gate arrays are presently massive and are likely be even more massive, all of the potentially increased processing power that would be required on a spacecraft may be provided by an array or multiplicity of FPGAs so that even with the increased processing requirements for todays missions, reconfigurable hardware may be provided.","In summary, a reconfigurable digital processing system for space includes the utilization of field programmable gate arrays utilizing a hardware centric approach to reconfigure software processors in a space vehicle through the reprogramming one or more FPGAs such that one obtains a power\/performance characteristic for signal processing tasks that can not be achieved simply through the use of off-the-shelf processors. In one embodiment, for damaged or otherwise inoperable signal processors located on a spacecraft, the remaining processors which are undamaged can be reconfigured through changing the machine language and binary to the field programmable gate arrays to change the core processor while at the same time maintaining undamaged components so that the signal processing functions can be restored utilizing a RAM based FPGA. In one embodiment, multiple FPGAs are connected together by a data bus and are also provided with data pipes which interconnect selected FPGAs together to provide the necessary processing function or functions. Flexibility in reconfiguration includes the utilizing of a specialized timing and synchronization block as well as a common configuration block which when coupled to an interconnect block permits reconfiguration of a customizable application core, depending on the particular signal processing function desired. The result is that damaged or inoperable signal processing components can be repaired in space without having to physically attend to the hardware by transmitting to the spacecraft commands which reconfigure the particular FPGAs thus to alter their signal processing function. Whether or not damaged, the same system can be used mid-flight to reconfigure processors for new mission tasks.","Referring now to , in the prior art, a low earth orbit spacecraft such as illustrated at  could be serviced by a space shuttle  such that for any malfunctioning equipment or any change in mission task equipment could be removed, repaired and re-installed. Such was the case with the Hubbel space telescope. However, for those spacecraft above the shuttle's reach such as geosyncronous satellites  it is impossible to do a manned repair for any equipment that may be malfunctioning.","It will be appreciated that such satellites may be on station multiple years to decades and that the electronic circuits within the satellite may simply deteriorate with age or may be damaged by a burst or the build-up of radiation. In order to assure that such failures could be remedied, the number of active unique elements in the spacecraft electronics were duplicated for redundancy purposes such as illustrated at , such that whatever functions the active elements were to perform, if one of the unique elements went down, the functions were then switched to a redundant identical unique element such as illustrated by arrow .","As mentioned hereinbefore, with the monumental increase in processing power for signal processing aboard the satellites, it then became imperative to find some way of resurrecting the function of a failed signal processor or some other element aboard such a satellite.","In the past, the resurrection would mean merely switching from one previously programmed active element to an identical active element and to couple it to a fixed asset such as on antenna and the like here illustrated at  in order to make sure the function of the satellite was restored.","However, for missions that last over multiple years to decades, not only may the individual electrical components fail, the mission tasks may change and it is for this reason that it is important to provide a certain amount of reconfigurable flexibility in order to accommodate both scenarios.","Rather than simply reprogramming existing processors, in the subject invention the flexibility is provided by reconfigurable field programmable gate arrays, each which presently can have as many one million separate gates.","While the subject invention will be concerned with present day field programmable gate arrays that are qualified for space usage, it will be appreciated that with new technical advances, the number of gates per square inch is already increasing in terrestrial applications and may become space qualified in the future.","Referring now to , in order to provide a reconfigurable digital processing system for space applications, the signal processing function in the subject invention is provided through one or a number of field programmable gate arrays  in which an input signal  of a digital nature is processed by the field programmable gate array so as to provide an output , with the output depending on the particular signal processing function. These signal processing functions can be as simple as a filter function, or as complicated as a fast Fourier transform device. Moreover, the field programmable gate array can provide a histogram type function in which incoming data is categorized over time so that the particular signature or time history of an event is cataloged as to the number of occurrences. This is utilized for, for instance, for signal recognition purposes. For telemetry or sparse data collection, for instance, a number of compression algorithms are implemented in the spacecraft's electronics so as to be able to provide compressed data transmissions to earth stations or between satellites, with the compression algorithms providing the information in a compressed form so as to reduce the amount of data transmitted. Moreover, when the satellites are utilized, for instance for reconnaissance purposes, a number of co-band interfering signals can be analyzed, separated, demodulated and the information provided in a downlink to an earth station. This type of processing can involve multi-user detection algorithms and can involve complicated Viturbi processing, all of which requires increased processing power.","In fact, any signal analysis which is performed by the electronics payload of the satellite requires the use of computers and therefore requires the ability to be able to do the particular processing task even when some of the active elements are down due to malfunction.","Moreover, if the signal-processing task varies, in the subject invention it is the purpose of the use of the field programmable gate arrays to provide a hardware centric approach to digital signal processing so that for new mission tasks the basic functioning of the processor is altered in terms of altering the configuration of the field programmable gate array.","In order to upload commands or messages which will reconfigure the field programmable gate array, in general the function of the field programmable gate array is written or generated in VHDL as illustrated at  which with design tool  and a compiler  are utilized to generate messages  that are stored at  and then transmitted at  via an antenna  to a spacecraft antenna . These messages in the form of commands are received by a receiver  on the spacecraft which are then provided to a communication application  which provides the commands in a form suitable for reprogramming or reconfiguring in a field programmable gate array . This is done through an interface  as illustrated.","Referring now to , in the subject invention for spacecraft applications, a number of field programmable gate arrays  are provided as the essential reconfigurable digital processing elements. In order to be able to reconfigure the field programmable gate arrays, one or more busses  are provided which provides configuration instructions as well as timing, along with low speed data for inputting and outputting data not subject to major timing constraints. It will be appreciated that any bus has an associated clock  which represents one of a number of clocks that may be utilized in this subsystem.","Also interconnecting the field programmable gate arrays are a number of data pipes . These data pipes have their own clocking system  that provide the time base and clock signals for moving and operating on the data between and in the FPGAs. These data pipes  provide data inputs and data outputs for each of the field programmable gate arrays. These data pipes also provide a shadowing technique for synchronizing the data between multiple FPGAs. By shadowing is meant the provision of a data bus to present the same data at the same time (on the same clock pulse or on a clock pulse that is a deterministic number of clocks from the main clock) to multiple field programmable gate arrays. Shadowing also provides the ability to output data from any FPGA to a specific output port of another FPGA that is also time synchronized to a specific clock pulse.","It will also be appreciated that selected ones of the FPGAs may be required to communicate with the outside world, meaning other electronics components within the spacecraft. Data pipe  also provides such a function. Thus, the data pipes may provide interconnectability between the FPGAs and also serve as a means of inputting data as well as outputting data.","Referring now to , in one illustrative embodiment, it may be required that a filtering process such as illustrated at  for a given FPGA array be converted into a histogram generating function as illustrated at . When formulating the original mission, it may have been unrecognized that histograms would be required and it is up to the system designers to be able to garner whatever assets are on-board the spacecraft in order to be able to perform the histogram function.","As part of the subject invention, since field programmable gate arrays are used as a processing element for the signal processing in the spacecraft, a filter function for a given FPGA is to be converted into a histogram generating function. While this scenario is for illustrative purposes only, it will be appreciated that for malfunctioning apparatus a given FPGA, if operational, may be reconfigured to perform the signal-processing task of an inoperative FPGA or an inoperable component on the spacecraft.","Referring now to , it will now be demonstrated how the FPGA infrastructure can be utilized in the first instance to provide a filter function.","Referring now to , as can be seen at , a customizable application core which utilizes in general 95% or more of the FPGA capacity, provides a digital signal processing functioning and is pre-encoded to provide a preselected filter function. Raw data to be filtered as illustrated by arrow  is introduced into the FPGA via external CDP input data pipe  through an external I\/O block  over internal data pipe  which then through a timing and synchronization block  provides this information via a synchronized data pipe  to and through an interconnect block  and over a data pipe  to core . The flow of data is illustrated by dotted line , with the timing and synchronization block synchronizing the data in time with the controlling clock and thus with the filter function. It will be appreciated that the purpose of interconnect block  is to function as a switch to be able to connect appropriate data pipes to and from core  to and from external I\/O block . In this case, the raw digital data to be filtered is applied over data pipe , with the result of the processing accomplished by the core being applied to data pipe  which is connected through interconnect  over shadow CDP data pipe  to external I\/O block  from which the filtered data  is available over shadow data pipe B . This output filter data path is shown by dotted line .","Further, regarding the control of the field programmable gate array, a configuration and status block  has within it common infrastructure block registers which store configuration and status information, with the common infrastructure configuration and status block being connected to external I\/O block  to receive and transmit data over control bus , and to timing and synchronization block  utilizing connected clocks , interconnect block  controlled over configuration and control interface , and core  through register interface  and controlled over configuration and control interface .","Configuration and status block  also provides interrupt and discretes  which are coupled to the external I\/O block , the purpose of which is to signal events and status of the FPGA function to external apparatus such as illustrated by arrow . Block  is also configured to receive as well as transmit this information. It will be appreciated that this information comes from a source external from the FPGA to control the FPGA infrastructure or can be generated by the FPGA infrastructure for use externally. It will be appreciated that the external I\/O block  is indeed the boundary of the control for the FPGA, with the control bus connection being illustrated at  between external I\/O block  and configuration and status block .","It will be noted that as illustrated at  control logic is generated for bus A and B illustrated at  and  respectively and control bus illustrated at , connected between core  or CIB Registers  and external I\/O block . It will be appreciated that bus A, bus B and Control Bus connect to the outside world through external I\/O block  as illustrated and correspond to the connections between FPGAs  of  and bus .","As to the aforementioned shadowing, there is a shadow bus control  which is connected between external I\/O block  and configuration and status block  with control provided over configuration and control interface  as illustrated. Also shown are three shadows ,  and  which are connected between the external I\/O block  and interconnect block  or the timing and synchronization block  as shown so as to provide time synchronized data pipes from and to external sources which as illustrated in  are other FPGAs. Note that while a status and clock control from external I\/O block  is illustrated going into shadow bus control , as illustrated at  a line from the shadow bus control  goes to external I\/O block  to gate and control the connection between the interconnect block and the outside world through the external I\/O block.","Referring now to , in which like reference characters are applied to like elements, in converting the particular FPGA from a filter function to a histogram generating function, the customizable application core  is reconfigured to perform histogram processing along with expanding the memory thereof to be able to store histogram data and the histogram results. Thus, it is important to be able to reconfigure core  both as to the particular type of processing it is to do as well as to add or subtract memory depending on the requirements of the particular signal processing task. It will be appreciated that memory is of course integral to the field programmable gate array, with the amount of it being prebuilt-in and utilized as required.","As can be seen in , histogram data  is applied through a data pipe to external I\/O block  which as can be seen by dotted arrow  moves up through timing and synchronization block  and through interconnect block  to core  through the utilization of data pipes , ,  and . Rather than dumping the results of the histogram generation back through interconnect block  and down to external I\/O block  through timing and synchronization block , in this embodiment, the output of the histogram function is transmitted over bus B, here illustrated at  and through external I\/O block  such that the histogram result is available as illustrated at . Note that in this embodiment this function is controlled by a stop, start signal  as opposed to being continuous as in a filter function. This start, stop function is generated externally and is applied through configuration and status block  utilizing the internal interrupts and discretes lines , external interrupts and discretes  and register interface  to appropriately control core  through the utilization of an internal control interface  as illustrated. Here the flow of data is illustrated by dotted line .","As can be seen at  a line connects infrastructure block registers to registers within core . Alternatively this line can dump the information in registers in core  back to the common infrastructure block registers in block .","What can be seen is that the field programmable gate array infrastructure is sufficiently flexible to convert a field programmable gate array function from one of a filtering function to one of a histogram generating function; and to do so via command from an earth station so that the required reconfiguration flexibility is achieved.","Referring now to , in order to reconfigure a computing card containing a number of field programmable gate arrays, configuration information is received on bus  which is received by bus interface  that in turn routes it to a control unit  which stores the incoming information in a series of SRAMs . This control has its own oscillator or clock , with the output of control  being applied to a configuration bus  to configure or reconfigure field programmable gate arrays ,  and . It will be appreciated that the control unit  either can provide control for all three field programmable gate arrays in parallel or can individually configure a field programmable gate array.","It will be appreciated that the field programmable gate arrays can be expanded with Memory such as illustrated at  should there be insufficient memory in any one of the field programmable gate arrays. Note that these SDRAM can be used either between each of the field programmable gate arrays or individually.","In one embodiment, bus interface  is provided with an internal microcontroller (not shown) to configure the card function externally at startup. In order to be able to store the startup configuration a non-volatile memory  in the form of an EEPROM is provided for this purpose. As shown each of the FPGAs \u2013 are provided with their own individual data pipes \u2013 which are the external data connections for the FPGAs. Shadow data pipes  indicate that they can be used to shadow data pipes for the connection of one FPGA to another. Thus, in one embodiment each one of the three data pipes ,  and  is connected individually to every other FPGA on the card through the utilization of the shadow data pipes.","Note that an interconnect bus  adds additional conductivity between the FPGAs for future application use and normally connects most signals between the FPGAs.","Note also that on line  carries triggers and discretes which are applied to the timing and synchronization block  as illustrated in  for each of the field programmable gate arrays, thus providing shadow synchronization. Note also as illustrated at  and  interrupts and discretes respectively are connected to and from the configuration and status block  of  in the case of . This means that FPGA interrupts on  are connected externally through bus interface  and represents the collection of those signals from control  and all of the FPGAs on the card. The same applies for the discretes on line .","With respect to single event handling in the FPGA, it will be appreciated that what is referred to as a single event is a change of state in the FPGA caused by radiation, which change is not permanent. The result is that this change can be in fact corrected. For this purpose FIG. 's control unit  constantly polls the configuration of all the FPGAs to ascertain that they match the predetermined configuration stored in memory . In this manner the system self-tests all of its FPGAs to ascertain if there is a single event upset. Upon detection of a single event upset, control unit  reloads the segment of a configuration determined to be in error and notifies an external device using the interrupt structure to indicate that a single event upset has occurred. Once control unit  ascertains that the problem has been fixed which it does by rechecking the configuration of the associated FPGA, control unit  returns to its monitoring status and notifies the external element with another interrupt. The notification process allows ground controllers or other processes to be able to decide what to do about the single event upset and whether to use the data that was produced during this time period.","Note that a JTAG bus meeting the IEEE 1149.1a standard 190 is connected to bus interface  for test and maintenance purposes.","Having now described a few embodiments of the invention, and some modifications and variations thereto, it should be apparent to those skilled in the art that the foregoing is merely illustrative and not limiting, having been presented by the way of example only. Numerous modifications and other embodiments are within the scope of one of ordinary skill in the art and are contemplated as falling within the scope of the invention as limited only by the appended claims and equivalents thereto."],"GOVINT":[{},{}],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["These and other features of the subject invention will be better understood in connection with the Detailed Description in conjunction with the Drawings, of which:",{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 6","FIG. 5"]},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
