---
title: Shopping cart service system and method
abstract: In accordance with one embodiment of the invention, a set of web services is provided that allow a client application to display product information from a site catalog, add/update/delete those products into a shopping cart hosted on the client, and have that shopping cart also maintained at a central hosted site. As such, the user is directed to the central hosted site in order to complete payment and fulfillment of the order. Several companies desire this functionality. As such, a set of shopping cart application programming interface (API) can be built and used to access product information and prices as well as to add or remove products from the shopping cart to which the consumer will be redirected upon finalizing the purchase. These processes are conducted in real time.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08190493&OS=08190493&RS=08190493
owner: Digital River, Inc.
number: 08190493
owner_city: Eden Prairie
owner_country: US
publication_date: 20070330
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application claims the benefit of U.S. Provisional Application No. 60\/787,977 filed 31 Mar. 2006, entitled \u201cShopping Cart Service,\u201d which is incorporated herein by reference.","The present invention relates to ecommerce systems on the internet. More particularly, the present invention relates to a system and related tools for providing integration and synchronization between one hosted shopping cart and the display of the same shopping cart on an external application such as a flash client.","Since the dawn of the computer age, computer systems have evolved into extremely sophisticated devices, and computer systems may be found in many different settings. The widespread proliferation of computers prompted the development of computer networks that allows computers to communicate with each other. With the introduction of the personal computer (PC), computing became accessible to large numbers of people. Networks for personal computers were developed that allow individual users to communicate with each other.","One significant computer network that has recently become very popular is the Internet. The Internet grew out of this proliferation of computers and networks, and has evolved into a sophisticated worldwide network of computer system resources commonly known as the World Wide Web. A user at an individual PC (i.e., workstation) that wishes to access the Internet typically does so using a software application known as a web browser. A web browser makes a connection via the Internet to other computers known as web servers, and receives information from the web servers that is rendered to the user's workstation. Information transmitted from the web server to the web browser is generally formatted using a specialized language called Hypertext Markup Language (HTML) and is typically organized into pages known as web pages. Other Internet resources exist for transferring information, such as File Transfer Protocol (FTP) and Gopher, but have not achieved the popularity of the Web. In the Web environment, servers and clients effect data transfer using the Hypertext Transfer Protocol (HTTP), a known protocol for handling the transfer of various data files (e.g., text, still graphic images, audio, motion video, etc.). When capitalized, the term \u201cInternet\u201d refers to the collection of networks and gateways that use the TCP\/IP suite or protocols.","It will be understood by one of ordinary skill in the art that the term \u201ccomputer\u201d or \u201ccomputational device\u201d, as used herein, may refer to any of such device which contains a processor and some type of memory. The networks connecting computational devices may be \u201cwired\u201d networks, formed using lines such as copper wire or fiber optic cable, wireless networks employing earth and\/or satellite-based wireless transmission links, or combinations of wired and wireless network portions. Many such networks may be organized using a client\/server architecture, in which \u201cserver\u201d computational devices manage resources, such as files, peripheral devices, or processing power, which may be requested by \u201cclient\u201d computational devices. \u201cProxy servers\u201d can act on behalf of other machines, such as either clients or servers.","On-line commerce is now an important part of our economy, mainly because of the efficiency and the ready convenience that on-line commerce, or e-commerce, provides. Furthermore, online merchants have discovered the value of selling their goods via the Internet. Many allow buyers to place goods in a virtual \u201cshopping cart\u201d, and then when the buyer is prepared to finalize the purchase, they proceed to the \u201ccheckout.\u201d At this stage, all of the items in the buyer's shopping cart are displayed with their prices, tax, shipping and handling, and a total amount due is shown to the buyer. The buyer can then enter credit card information, and pressing a \u201csubmit\u201d button sends the credit card information to the merchant, who then authenticates the credit card and receives an authorization for the sale. The term e-commerce is used herein to refer to any commercial activity using computers interconnected by a communication network, e.g., the Internet. Because of the unique characteristics of the Internet, carrying out commercial transactions over the Internet presents new issues and new opportunities.","Recognizing that buyers may not want to conclude their purchase immediately, merchants often allow the buyer to save his or her shopping cart for a predetermined period of time. The buyer may then retrieve the saved cart at some later time, after providing the merchant with proper identification. The saved cart may then be cancelled or changed at will. When the buyer is ready to conclude their purchase, he or she may proceed to check out, in the same manner described above.","The number of online shoppers who purchase something has steadily increased from approximately 3.5 percent in 2003 to over four percent in 2004. It has been estimated that between 25 and 78 percent of online shoppers abandon their online shopping carts before making purchases. This correlates to the estimate that for every dollar of revenue made from sales online, shopping cart abandonment results in nearly five dollars of lost revenue. Furthermore, some prior art shopping carts utilize back end systems to authorize and then charge buyers. This type of shopping cart sends product and customer data back to another service before approving and adding the item to the cart.","Thus a need exists to have a synchronized shopping cart service that solves the above mentioned problem. The present invention provides a solution to these needs and other problems, and offers other advantages over the prior art.","The present invention is related to a software system that solves the above-mentioned problems. In accordance with one embodiment of the invention, a set of web services will be provided that allow the client application to display product information from a site catalog, add\/update\/delete those products into a shopping cart hosted on the client, and have that shopping cart also maintained at a central hosted site. As such, the user may be directed to the central hosted site in order to complete payment and fulfillment of the order. It is believed that several companies desire this functionality. As such, a set of shopping cart application programming interface (API) can be built and used to access product information and prices as well as to add or remove products from the shopping cart to which the consumer will be redirected upon finalizing the purchase.","Additional advantages and features of the invention will be set forth in part in the description which follows, and in part, will become apparent to those skilled in the art upon examination of the following or may be learned by practice of the invention.","In a preferred embodiment of shopping cart service system and method, a set of web services will be provided that allow the client application to display product information from a site catalog. The web service will allow the client application to add, update, and delete products into a shopping cart hosted on the client application. The shopping cart will also be maintained at a central hosted site. As such, the user may be directed to the central hosted site in order to complete payment and fulfillment of the order. It is believed that several companies desire this functionality. As such, a set of shopping cart APIs can be built and used to access product information and prices as well as to add or remove products from the shopping cart to which the consumer will be redirected upon finalizing the purchase.","For example, say a user is playing a simulation and strategy video game and wants to acquire a new pair of jeans for one of the \u201cvirtual people\u201d in the game. The user may then purchase the jeans from a shopping cart incorporated into the video game menu screen. A video game shopping cart may be a flash application that allows the user to choose and purchase items within the video game. The video game shopping cart continually synchronizes with the shopping cart service system, thereby omitting the need to remotely send data or wait for authorization.","Furthermore, the shopping cart service system and method allows third party applications or any other process desiring this functionality to retrieve product information and manage a shopping cart. More specifically, the features provide the ability to retrieve a list of products matching desired search criteria, such as a product identification (ID) or external reference ID. The third party applications or other process desiring functionality will be able to add new items to a shopping cart and modify quantities for items already existing in a shopping cart. The user will also be able to delete items from the cart, setting the quantity to zero.","In a preferred embodiment of shopping cart service system and method, the service is implemented as a job existing in an integration framework by extending a RealtimeJoblmpl class. This provides the shopping cart service with all the functionality provided by the integration framework such as logging, retry, and transports.","In another preferred embodiment, shopping cart system and method works with an electronic commerce (e-commerce) platform to provide third-party applications with an interface for retrieving products, variations and quantity based pricing. Furthermore, the interface allows for adding a quantity of a product to the shopping cart that will retrieve full content of the real-time shopping cart to the third-party application.","In addition, the client application may post standard canonical xml to an integration servlet. Conversely, the client can post data in an alternative format, which will require integration services work to define a translator to map the client format into the canonical XML. Each request posted to the shopping cart service should contain XML as its body and will be processed with an XML response returned. The definitions of the XML request and corresponding responses are described further below.","The shopping cart service needs to ensure that repeated requests from a buyer operate on the correct user session and requisition. Authentication may occur by first returning a session token attribute. The value for this attribute will be an encrypted user session ID. Next, all requests to the shopping cart service can optionally pass in a session token attribute. Users of the shopping cart service can maintain session continuity by re-sending the session token received from previous responses. The logic for setting the value for session token upon processing a request is as follows:\n\n","The logic for determining the requisition to sue is as follows:\n\n","Before moving on to a description of the figures, Table 1 is shown. Specifically, Table 1 describes concrete classes that are part of a code base for shopping cart service system and method. It will be understood by one of ordinary skill in the art that these concrete classes apply to . The corresponding description for each concrete class is also shown.",{"@attributes":{"id":"p-0030","num":"0036"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"119pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Class","Description"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["ShoppingCartServiceJoblmpl 126","Responsible for processing all requests posted"]},{"entry":[{},"to the Shopping Cart Service"]},{"entry":["SearchProductHandler 130","Helper for product search requests"]},{"entry":["AddUpdateShoppingCartHandler 132","Helper for adding to and updating shopping"]},{"entry":[{},"cart"]},{"entry":["GetShoppingCartHandler 134","Helper for retrieving shopping cart"]},{"entry":["BaseShoppingCartServiceRequest 136","Base class for all requests to the Shopping"]},{"entry":[{},"Cart Service. Contains standard request"]},{"entry":[{},"attributes: siteID, locale, applicationName"]},{"entry":["SessionToken 138","Superclass for all requests and base class of"]},{"entry":[{},"all responses from the Shopping Cart Service."]},{"entry":[{},"Manages the session ID sent to and returned"]},{"entry":[{},"from the Shopping Cart Service. Returns an"]},{"entry":[{},"encrypted Pacific user session ID"]},{"entry":["SearchProductRequest 140","A request received by the Shopping Cart"]},{"entry":[{},"Service for fetching products. Can search for"]},{"entry":[{},"multiple products using received product keys."]},{"entry":[{},"Optionally searches by catalog and category."]},{"entry":[{},"May limit number of rows returned and can"]},{"entry":[{},"exclude variations. Request can also specify"]},{"entry":[{},"which base attributes and extended attributes"]},{"entry":[{},"should be returned"]},{"entry":["SearchProductResponse 142","The response returned for a"]},{"entry":[{},"SearchProductRequest. May return one or"]},{"entry":[{},"more product matches for the request."]},{"entry":[{},"Returned product information includes any"]},{"entry":[{},"specified attributes and price information"]},{"entry":["ProductSearchCriteria 144","In the ProductSearchRequest, encapsulates"]},{"entry":[{},"the details for the search criteria"]},{"entry":["ProductSearchOptions 146","In the ProductSearchRequest, encapsulates"]},{"entry":[{},"details for how the search results should be"]},{"entry":[{},"returned"]},{"entry":["ProductInfo 148","Main container object representing a product"]},{"entry":[{},"in Shopping Cart Service responses"]},{"entry":["ProductBaseFields 150","Represents a product's base attributes"]},{"entry":["ProductPricingInfo 152","The pricing attributes of a product. Includes"]},{"entry":[{},"quantity, unit prices both with and without"]},{"entry":[{},"incentives, and total price with and without"]},{"entry":[{},"incentives"]},{"entry":["AddUpdateShoppingCartRequest 154","A request received by the Shopping Cart"]},{"entry":[{},"Service for adding new items to the shopping"]},{"entry":[{},"cart or updating existing line items"]},{"entry":["AddUpdateShoppingCartResponse","The response returned for an"]},{"entry":["174","AddUpdateShoppingCartRequest. Returns the"]},{"entry":[{},"contents of the shopping cart. Uses existing"]},{"entry":[{},"shopping cart matching received session or"]},{"entry":[{},"requisitionID or returns new shopping cart if"]},{"entry":[{},"one does not exist or requested cart is invalid"]},{"entry":["GetShoppingCartRequest 176","A request received by the Shopping Cart"]},{"entry":[{},"Service for retrieving the shopping cart."]},{"entry":["GetShoppingCartResponse 178","The response returned for a"]},{"entry":[{},"GetShoppingCartRequest. Returns the"]},{"entry":[{},"contents of the shopping cart. Uses existing"]},{"entry":[{},"shopping cart matching received session or"]},{"entry":[{},"requisitionID or returns new shopping cart if"]},{"entry":[{},"one does not exist or requested cart is invalid."]},{"entry":["ShoppingCartDisplayOptions 156","For requests that interact with shopping cart,"]},{"entry":[{},"allows specifying any product base attributes"]},{"entry":[{},"and extended attributes to return within the"]},{"entry":[{},"response"]},{"entry":["ShoppinCartLineItemInfo 158","Holds the information for a request to add or"]},{"entry":[{},"update a specific line item"]},{"entry":["ShoppingCartLineItemDetailedInfo 160","Holds the information for a response"]},{"entry":[{},"representing a specific line item in the"]},{"entry":[{},"shopping cart"]},{"entry":["ProductKey 162","For both requests and responses, contains the"]},{"entry":[{},"compound data the uniquely identifies the"]},{"entry":[{},"product: productID, externalReferenceID,"]},{"entry":[{},"companyID, and locale. Request may contain"]},{"entry":[{},"only a subset of this data"]},{"entry":["CatalogKey 164","Contains optional parameters used during"]},{"entry":[{},"product search requests for returning products"]},{"entry":[{},"that exist in a specific catalog. If values for"]},{"entry":[{},"CatalogKey do not get set, service will search"]},{"entry":[{},"for products in the site's default catalog."]},{"entry":["CategoryKey 166","Contains optional parameters used during"]},{"entry":[{},"product search requests for returning products"]},{"entry":[{},"that exist in a specific catalog category"]},{"entry":["RequisitionLineItemKey 168","Used for uniquely identifying line items within a"]},{"entry":[{},"shopping cart"]},{"entry":["ExtendedAttributesInfo 170","Contains name\/value pairs and data types for"]},{"entry":[{},"any returned product extended attributes. Will"]},{"entry":[{},"only return attribute value for a given attribute"]},{"entry":[{},"if viewable flag for the attribute is set to true"]},{"entry":["MoneyInfo 172","Represents the currency and amount for any"]},{"entry":[{},"returned prices"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0031","num":"0037"},"figref":"FIG. 1","b":["100","116","114","112","116","106","102","104","106","106","108","118","110","106","108","114","108","106","104"]},"Referring now to , a framework diagram of a backend view of shopping cart service system and method is described. A framework for java packaging  is shown as well as a process between <<interface>>RealtimeJob , RealtimeJoblmpl , <<interface>>ShoppingCartServiceJob , Object , and ShoppingCartServiceJoblmpl . Also, SearchProductHandler , AddUpdateShoppingCartHandler , and GetShoppingCartHandler  de-serialize XML and form XML into objects. It will be understood that these correspond to requests and responses for shopping carts (shown and described in ). This is further outlined in Table 2, showing a request and the corresponding handler and response.",{"@attributes":{"id":"p-0033","num":"0039"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"91pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Request","Handler","Response"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["SearchProductRequest 140","SearchProductHandler 130","SearchProductResponse 142"]},{"entry":["AddUpdateShoppingCart","AddUpdateShoppingCart","AddUpdateShoppingCart"]},{"entry":["Request 154","Handler 132","Response 174"]},{"entry":["GetShoppingCartRequest","GetShoppingCartHandler","GetShoppingCartResponse"]},{"entry":["176","134","178"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0034","num":"0040"},"figref":"FIG. 3","b":["140","110"]},"Referring now to , a search product response diagram is shown. A SearchProductResponse  is returned for each SearchProductRequest . It returns the product details for each found product matching the search criteria of the request. Information returned includes any requested base fields and product attributes, as well as pricing information. Only purchasable products will be returned in this response. If a productKey  is received that finds a base product that does not contain variations, the base product will be returned. If the productKey  is received that finds a base product that contains variations, its variations will be returned. If the productKey  is received that finds a variation, the variation will be returned.",{"@attributes":{"id":"p-0036","num":"0042"},"figref":"FIG. 5","b":["154","158"]},{"@attributes":{"id":"p-0037","num":"0043"},"figref":["FIG. 6","FIG. 5"],"b":["174","136"]},"Furthermore,  illustrates a diagram for reclaiming the shopping cart. GetShoppingCartRequest  retrieves the shopping cart. The request can define which base attributes and product attributes should be returned with the shopping cart response. Referring now to , a GetShoppingCartResponse  is returned for each GetShoppingCartRequest . It returns the entire contents of the shopping cart. Information returned includes any requested base fields and product attributes, as well as pricing information.","Use cases for the various embodiments of shopping cart system and method are shown below, in Tables 3-7. A user may utilize the shopping cart service system and method to view product details and tiered pricing, as described in Table 3. Table 4 shows the steps and requirements for adding products to the shopping cart, and Table 5 shows changing shopping cart product quantities. Table 6 shows a use case for viewing an existing cart, and Table 7 shows a use case for checking out.",{"@attributes":{"id":"p-0040","num":"0046"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"center"}},"thead":{"row":{"entry":"TABLE 3"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Viewing Product Details & Tiered Pricing"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Information","Details"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Summary","Using a third-part application (TPA), a consumer is able to view product"]},{"entry":[{},"details and tiered pricing. The TPA will retrieve product details and pricing"]},{"entry":[{},"through a Get Products API."]},{"entry":["Primary Actor(s)","Consumer; TPA; Get Products API"]},{"entry":["Preconditions","When the TPA is initiated from an ecommerce business web page,"]},{"entry":[{},"only the base product keys need to have been uploaded into the TPA."]},{"entry":[{},"When the TPA is not initiated from an ecommerce business, the site id,"]},{"entry":[{},"locale, catalog id and the base product keys need to have been"]},{"entry":[{},"uploaded into the TPA."]},{"entry":[{},"TPA has defined to it at least one valid and deployed base product key"]},{"entry":[{},"with tiered pricing."]},{"entry":[{},"TPA has defined to it at least one valid base product key that has"]},{"entry":[{},"currently deployed variations with tiered pricing."]},{"entry":[{},"TPA has defined to it at least one invalid base product key."]},{"entry":[{},"TPA has defined to it at least one valid base product key with"]},{"entry":[{},"variations\u2014none of which are currently deployed."]},{"entry":["Minimal","The Get Products request will be acknowledged by ecommerce business"]},{"entry":["Guarantees","server."]},{"entry":["Success","For each product requested, if any key parameter is invalid or if the"]},{"entry":["Guarantees","base product with no variations or the variations of the base product is"]},{"entry":[{},"not in a deployed state, an error code and no other details will be"]},{"entry":[{},"returned."]},{"entry":[{},"For each product requested, if the key parameters are all valid, the"]},{"entry":[{},"product is a base product without variations and it is in a deployed"]},{"entry":[{},"state, the details for the base product will be returned."]},{"entry":[{},"For each product requested, if the key parameters are all valid, the"]},{"entry":[{},"product is a base product with variations and one or more of the"]},{"entry":[{},"variations are in a deployed state, the details of all the variation"]},{"entry":[{},"products in the deployed state will be returned."]},{"entry":["Trigger","Consumer chooses to view pricing for a quantity of a product defined to the"]},{"entry":[{},"TPA."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"right"}},{"@attributes":{"colname":"3","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Basic Course of","1.","The TPA is initiated by the consumer from an ecommerce business"]},{"entry":["Events",{},"webpage."]},{"entry":[{},"2.","Passed to the TPA are the site id, locale and catalog id."]},{"entry":[{},"3.","The consumer navigates to a page within the TPA that displays one or"]},{"entry":[{},{},"more valid and deployed base products without variations."]},{"entry":[{},"4.","The TPA posts a single XML request to the Get Products API with a"]},{"entry":[{},{},"quantity of 1 for each of the base product keys defined for the products"]},{"entry":[{},{},"that are to be displayed."]},{"entry":[{},"5.","The Get Products API returns an XML document with the product"]},{"entry":[{},{},"details and pricing for each of the valid and deployed base products."]},{"entry":[{},"6.","The TPA displays the details and single unit pricing for each of the"]},{"entry":[{},{},"products returned to it from the Get Products API."]},{"entry":[{},"7.","The consumer enters one or more quantities that will introduce a per"]},{"entry":[{},{},"unit price break and initiates an update of the page."]},{"entry":[{},"8.","The TPA posts a single XML request to the Get Products API with user"]},{"entry":[{},{},"entered quantities for each of the base product keys defined for the"]},{"entry":[{},{},"products that are to be updated."]},{"entry":[{},"9.","The Get Products API returns an XML document with the product"]},{"entry":[{},{},"details and discounted pricing for each of the valid and deployed"]},{"entry":[{},{},"base\/variation products."]},{"entry":[{},"10.","The TPA displays the details and discounted single unit pricing for"]},{"entry":[{},{},"each of the base\/variation products."]},{"entry":[{},"11.","End."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"196pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Extensions","A:","1.","The TPA is initiated outside an ecommerce business web page."]},{"entry":[{},{},"2.","The TPA supplies the site id, locale and catalog id."]},{"entry":[{},"B:","3.","The consumer navigates to a page within the TPA that displays"]},{"entry":[{},{},{},"one or more valid base products with deployed variations."]},{"entry":[{},{},"5.","The Get Products API returns an XML document with the product"]},{"entry":[{},{},{},"details and pricing for all the deployed variations of the base"]},{"entry":[{},{},{},"products with deployed variations."]},{"entry":[{},"C.","3.","The consumer navigates to a page within the TPA that intends to"]},{"entry":[{},{},{},"display at least one product that is defined with an invalid base"]},{"entry":[{},{},{},"product key."]},{"entry":[{},{},"5a.","Within the XML document, for the invalid base product key, the"]},{"entry":[{},{},{},"Get Products API returns an error code and no additional details."]},{"entry":[{},{},"6.","End."]},{"entry":[{},"D.","3.","The consumer navigates to a page within the TPA that intends to"]},{"entry":[{},{},{},"display at least one valid base product for which there is no"]},{"entry":[{},{},{},"deployed version."]},{"entry":[{},{},"5a.","Within the XML document, for the base product that has no"]},{"entry":[{},{},{},"deployed version, the Get Products API returns an error code"]},{"entry":[{},{},{},"and no additional details."]},{"entry":[{},{},"6.","End."]},{"entry":[{},"E.","3.","The consumer navigates to a page within the TPA that intends to"]},{"entry":[{},{},{},"display the variations for at lease one valid base product key"]},{"entry":[{},{},{},"where none of the variations have been deployed."]},{"entry":[{},{},"5a.","Within the XML document, for the base product that has no"]},{"entry":[{},{},{},"deployed variations, the Get Products API returns an error code"]},{"entry":[{},{},{},"and no additional details."]},{"entry":[{},{},"6.","End."]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0041","num":"0047"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"301pt","align":"center"}},"thead":{"row":{"entry":"TABLE 4"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Adding Products to Shopping Cart"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"245pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Information","Details"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Summary","Using a third-part application (TPA), a consumer is able to add line-items. The"]},{"entry":[{},"TPA will add line-items to the DR shopping cart via the Add Line-Item API which"]},{"entry":[{},"in turn returns the full shopping cart back to the TPA."]},{"entry":["Primary Actor(s)","Consumer; TPA; Add Line-Items API"]},{"entry":["Preconditions","Because of the Get Products API, the consumer will only be able to add valid"]},{"entry":[{},"and deployed products."]},{"entry":["Minimal","The Add Line-Item request will be acknowledged by ecommerce business server."]},{"entry":["Guarantees",{}]},{"entry":["Success","The products listed within the add line-items request will be added to"]},{"entry":["Guarantees","ecommerce business shopping cart."]},{"entry":[{},"The full shopping cart details are returned to the TPA."]},{"entry":["Trigger","Consumer adds line-items to the TPAs shopping cart."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"right"}},{"@attributes":{"colname":"3","colwidth":"231pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Basic Course of","1.","After viewing the details of one or more valid and deployed products within"]},{"entry":["Events",{},"the TPA, the consumer enters quantities and selects the products to be added"]},{"entry":[{},{},"to the TPAs shopping cart."]},{"entry":[{},"2.","The TPA posts a single XML request to the Add Line-Items API with the user"]},{"entry":[{},{},"entered quantities for each of the selected products."]},{"entry":[{},"3.","The Add Line-Items API creates a new order if it doesn't already exist."]},{"entry":[{},"4.","Including any discounts and\/or tight\/semi-tight marketing bundles, the Add"]},{"entry":[{},{},"Line-Items API adds the entered quantities of the selected products to the"]},{"entry":[{},{},"ecommerce business shopping cart."]},{"entry":[{},"5.","An XML document including all the quantities of lines-items selected by the"]},{"entry":[{},{},"user, any tight\/semi-tight bundles that apply and discounted pricing that"]},{"entry":[{},{},"applies is returned to the TPA."]},{"entry":[{},"6.","The TPA displays the returned results within the TPA shopping cart."]},{"entry":[{},"7.","End."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"245pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Extensions","None"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0042","num":"0048"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"294pt","align":"center"}},"thead":{"row":{"entry":"TABLE 5"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Changing Shopping Cart Product Quantities"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Information","Details"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Summary","Using a third-part application (TPA), a consumer is able to change product"]},{"entry":[{},"quantities and\/or remove products. The TPA will update the ecommerce business"]},{"entry":[{},"shopping cart via the Update Line-Item Quantities API which returns the full"]},{"entry":[{},"shopping cart back to the TPA."]},{"entry":["Primary Actor(s)","Consumer; TPA; Update Line-Item Quantities API"]},{"entry":["Preconditions","Consumer has added one or more items to the TPAs shopping cart."]},{"entry":["Minimal","The Update Product Quantities request will be acknowledged by ecommerce"]},{"entry":["Guarantees","business's server."]},{"entry":["Success","Product quantity changes will be updated to the ecommerce business shopping"]},{"entry":["Guarantees","cart."]},{"entry":[{},"Product quantities equal to zero will be removed from the ecommerce"]},{"entry":[{},"business shopping cart."]},{"entry":[{},"The full shopping cart details are returned to the TPA."]},{"entry":["Trigger","Consumer changes the quantity for one or more products and\/or requests one or"]},{"entry":[{},"more products be removed from the TPA shopping cart."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"right"}},{"@attributes":{"colname":"3","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Basic Course of","1.","While viewing the TPAs shopping cart, the consumer changes the quantity of"]},{"entry":["Events",{},"one or more products and requests one or more products be removed."]},{"entry":[{},"2.","The TPA posts a single XML request to the Update Line-Item Quantities API"]},{"entry":[{},{},"with the new quantity for each of the products for which a quantity was"]},{"entry":[{},{},"changed and a quantity of zero for each of the products the consumer"]},{"entry":[{},{},"requested be removed."]},{"entry":[{},"3.","The Update Line-Item Quantities API updates the ecommerce business"]},{"entry":[{},{},"shopping cart as follows:"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"right"}},{"@attributes":{"colname":"3","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"a.","Any products for which the quantity is zero will be removed."]},{"entry":[{},"b.","Any tight\/semi-tight marketing bundles for removed products are"]},{"entry":[{},{},"also removed."]},{"entry":[{},"c.","Quantities are adjusted to reflect the consumer's latest entries."]},{"entry":[{},"d.","Any volume discounts will be adjusted based on the new quantities."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"right"}},{"@attributes":{"colname":"3","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"4.","An XML document including all remaining quantities of lines-items, any"]},{"entry":[{},{},"tight\/semi-tight bundles that still apply and any discount pricing that still"]},{"entry":[{},{},"applies is returned to the TPA."]},{"entry":[{},"5.","The TPA displays the returned results within the TPA shopping cart."]},{"entry":[{},"6.","End."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Extensions","None"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0043","num":"0049"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"294pt","align":"center"}},"thead":{"row":{"entry":"TABLE 6"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Viewing Existing Cart"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Information","Details"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Summary","Using a third-part application (TPA), a consumer is able to view the existing cart"]},{"entry":[{},"from within the TPA. The TPA will retrieve the current shopping cart via the Get"]},{"entry":[{},"Cart API which returns the full ecommerce business shopping cart back to the"]},{"entry":[{},"TPA."]},{"entry":["Primary Actor(s)","Consumer; TPA; Get Cart API"]},{"entry":["Preconditions","None."]},{"entry":["Minimal","The Get Cart request will be acknowledged by ecommerce business's server."]},{"entry":["Guarantees",{}]},{"entry":["Success","The full shopping cart details are returned to the TPA."]},{"entry":["Guarantees",{}]},{"entry":["Trigger","Consumer requests within the TPA to view the existing shopping cart."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"right"}},{"@attributes":{"colname":"3","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Basic Course of","1.","From within the TPA, the consumer requests to view the existing shopping"]},{"entry":["Events",{},"cart."]},{"entry":[{},"2.","The TPA posts a single XML request to the Get Cart API with the visitor's"]},{"entry":[{},{},"session id."]},{"entry":[{},"3.","The Get Cart API verifies the visitor's session id exists and retrieves the"]},{"entry":[{},{},"associated order details."]},{"entry":[{},"4.","An XML document including all the quantities of lines-items selected by the"]},{"entry":[{},{},"user, any tight\/semi-tight bundles that apply and discounted pricing that"]},{"entry":[{},{},"applies is returned to the TPA."]},{"entry":[{},"5.","The TPA displays the returned results within the TPA shopping cart."]},{"entry":[{},"6.","End."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"210pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Extensions","A.","3.","The Get Cart API is not able to verify the visitor's session id and"]},{"entry":[{},{},{},"creates a new visitor session id."]},{"entry":[{},{},"4.","An XML document with the new session id and no cart details is"]},{"entry":[{},{},{},"returned to the TPA."]},{"entry":[{},{},"5.","End."]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0044","num":"0050"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"294pt","align":"center"}},"thead":{"row":{"entry":"TABLE 7"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Checking Out"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Information","Details"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}},{"entry":["Summary","After using a third-part application (TPA) to fill a shopping cart, the consumer"]},{"entry":[{},"clicks on the checkout button. The consumer will be redirected to the identically"]},{"entry":[{},"built ecommerce business shopping cart page."]},{"entry":["Primary Actor(s)","Consumer; TPA"]},{"entry":["Preconditions","None."]},{"entry":["Minimal","The ecommerce business shopping cart page will be displayed."]},{"entry":["Guarantees",{}]},{"entry":["Success","The items within the ecommerce business shopping cart page are identical to"]},{"entry":["Guarantees","those within the TPA's shopping cart."]},{"entry":["Trigger","Consumer initiates checkout procedure."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"14pt","align":"right"}},{"@attributes":{"colname":"3","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Basic Course of","1.","From within the TPA, the consumer initiates the checkout procedure."]},{"entry":["Events","2.","The TPA redirects the consumer to the ecommerce business shopping cart"]},{"entry":[{},{},"where the included items within the ecommerce business cart are identical to"]},{"entry":[{},{},"those within the TPA shopping cart."]},{"entry":[{},"3.","End."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Extensions","None."]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Table 8 describes the XML schema for the various concrete classes.","The following provide examples of xml and xsd for some of the functions of the system. It will be appreciated by those skilled in the art that other xml code could be devised that performs the same functions without departing from the scope and spirit of the present invention.","An XML Schema Definition (XSD) is an instance of an XML schema written in the XML Schema language. An XSD defines a type of XML document in terms of constraints upon what elements and attributes may appear, their relationship to each other, what types of data may be in them, and other things. It can be used with validation software in order to ascertain whether a particular XML document is of that type, and to produce a Post-Schema Validation Infoset.","It is to be understood that even though numerous characteristics and advantages of various embodiments of the present invention have been set forth in the foregoing description, together with details of the structure and function of various embodiments of the invention, this disclosure is illustrative only, and changes may be made in detail, especially in matters of structure and arrangement of parts within the principles of the present invention to the full extent indicated by the broad general meaning of the terms in which the appended claims are expressed. For example, the particular elements may vary depending on the particular application for the web interface such that different dialog boxes are presented to a user that are organized or designed differently while maintaining substantially the same functionality without departing from the scope and spirit of the present invention."],"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","BRIEF SUMMARY OF THE INVENTION","DETAILED DESCRIPTION","Use Cases","Table 8\u2014Message XML Schema and Other XSDs"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
