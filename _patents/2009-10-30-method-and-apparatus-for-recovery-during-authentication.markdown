---
title: Method and apparatus for recovery during authentication
abstract: Techniques for recovery during authentication include initiating sending a HyperText Transfer Protocol (HTTP) authentication message from user equipment of a user to a merchant node of a merchant. If the user is not authenticated in response to the HTTP authentication message, then sending a Short Message Service (SMS) message from the user equipment to the merchant node is initiated. The SMS message indicates a transaction between the user and the merchant. In some embodiments, techniques include changing an access point to a network until an access point utilized is on a list of acceptable access points, in response to a buy response message that indicates a transaction between a merchant and a user. A hypertext transfer protocol authentication message is sent through the access point that is on the list of acceptable access points.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09195980&OS=09195980&RS=09195980
owner: Nokia Technologies Oy
number: 09195980
owner_city: Espoo
owner_country: FI
publication_date: 20091030
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND","SOME EXAMPLE EMBODIMENTS","DESCRIPTION OF SOME EMBODIMENTS"],"p":["Most users of mobile and fixed communication devices pay for access to a communications network through a subscription with a network operator. The arrangement of payments from users by the network operator is called operator billing and is implemented in the network by an operator billing system that tracks user consumption of network resources, tracks charges for such use, and tracks payments from users. In direct operator billing, a merchant different from the network operator uses the network operator's billing system to extract payment from a user for a product ordered or delivered through the user's communication device, rather than duplicating functions to obtain and track payments from users. Charging a user of a mobile communication device is challenging because the device does not have a fixed network address that can be associated with the user.","To charge the user of a mobile device for a product, the merchant's system authenticates a user to get a user identifier suitable for billing by the operator, such as a subscriber identifier for the user, rather than the current network address of the user's mobile device. A common authentication method supported by many operators is based on a HyperText Transfer Protocol (HTTP) message directed to the merchant's system, typically addressed on the communications network by a Universal Resource Locator (URL). In this common mechanism, an access point of the operator's network adds a subscriber identifier to the header portion of the HTTP message. HTTP URL authentication works well when the user's mobile communications device is connected to the network through Wireless Applications Protocol (WAP) access points. However, if the user's mobile communication device happens to have a default access point defined to be something else (e.g., a WiFi access point or Internet access point, among others) the HTTP message is not associated with a subscriber of the operator by the access point, so authentication fails\u2014leading to failure of operator billing, and an unsatisfying user experience.","Therefore, there is a need for an approach for authentication of a user even when the user's mobile communication device connects to a communications network through a non-WAP access point. One approach presented herein is called Short Message Service (SMS) recovery during authentication for operator billing.","According to one embodiment, a method comprises initiating sending a hypertext transfer protocol authentication message from user equipment of a user to a merchant node of a merchant. The method further comprises initiating sending a short message service message from the user equipment to the merchant node, if the user is not authenticated in response to the hypertext transfer protocol authentication message. The short message service message indicates a transaction between the merchant and the user.","According to another embodiment, an apparatus comprises at least one processor, and at least one memory including computer program code. The at least one memory and the computer program code are configured to, with the at least one processor, cause, at least in part, the apparatus to initiate sending an hypertext transfer protocol authentication message for a user of the apparatus to a merchant node of a merchant. The apparatus is also caused to initiate sending, to the merchant node, a short message service message, if the user is not authenticated in response to the hypertext transfer protocol authentication message. The short message service message indicates a transaction between the merchant and the user.","According to another embodiment, an apparatus comprises at least one processor, and at least one memory including computer program code. The at least one memory and the computer program code are configured to, with the at least one processor, cause, at least in part, the apparatus to generate a buy response message that indicates a transaction between a merchant and a user. The apparatus is also caused to initiate sending the buy response message using hypertext transfer protocol to user equipment of the user. The apparatus is further caused to receive a short message service message which indicates the transaction and an identifier for the user. The apparatus is further caused to authenticate the user based on the short message service message.","According to another embodiment, a method comprises facilitating access, including granting access rights, to a service. The service includes sending, using hypertext transfer protocol, a buy response message that indicates a transaction between a merchant and a user. The service further receives a short message service message that indicates the transaction and an identifier for the user. for the service authenticates the user based on the short message service message.","According to another embodiment, a computer-readable storage medium carries one or more sequences of one or more instructions, which, when executed by one or more processors, cause, at least in part, an apparatus to initiate sending a hypertext transfer protocol authentication message for a user of the apparatus to a merchant node of a merchant. The apparatus is also caused to initiate sending, to the merchant node, a short message service message, if the user is not authenticated in response to the hypertext transfer protocol authentication message. The short message service message indicates a transaction between the merchant and the user.","According to another embodiment, a computer-readable storage medium carries one or more sequences of one or more instructions, which when executed by one or more processors, cause, at least in part, an apparatus to generate a buy response message that indicates a transaction between a merchant and a user. The apparatus is also caused to initiate sending the buy response message using hypertext transfer protocol to user equipment of the user. The apparatus is further caused to receive an short message service message which indicates the transaction and an identifier for the user. The apparatus is further caused authenticate the user based on the short message service message.","According to another embodiment, an apparatus comprises means for sending a hypertext transfer protocol authentication message for a user of the apparatus to a merchant node of a merchant. The apparatus further comprises means for sending, to the merchant node, a short message service message, if the user is not authenticated in response to the hypertext transfer protocol authentication message. The short message service message indicates a transaction between the merchant and the user.","According to another embodiment, an apparatus comprises means for generating a buy response message that indicates a transaction between a merchant and a user. The apparatus further comprises means for sending the buy response message using hypertext transfer protocol to user equipment of the user. The apparatus further comprises means for receiving a short message service message which indicates the transaction and an identifier for the user. The apparatus further comprises means for authenticating the user based on the short message service message.","According to another embodiment, a method comprises changing an access point to a network until an access point utilized is on a list of acceptable access points, in response to a buy response message that indicates a transaction between a merchant and a user. A hypertext transfer protocol authentication message is sent through the access point that is on the list of acceptable access points. In some embodiments, the list of acceptable access points is a list of wireless access protocol access points.","Still other aspects, features, and advantages of the invention are readily apparent from the following detailed description, simply by illustrating a number of particular embodiments and implementations, including the best mode contemplated for carrying out the invention. The invention is also capable of other and different embodiments, and its several details can be modified in various obvious respects, all without departing from the spirit and scope of the invention. Accordingly, the drawings and description are to be regarded as illustrative in nature, and not as restrictive.","Examples of a method, apparatus, and computer program are disclosed for providing recovery during authentication for operator billing. In the following description, for the purposes of explanation, numerous specific details are set forth in order to provide a thorough understanding of the embodiments of the invention. It is apparent, however, to one skilled in the art that the embodiments of the invention may be practiced without these specific details or with an equivalent arrangement. In other instances, well-known structures and devices are shown in block diagram form in order to avoid unnecessarily obscuring the embodiments of the invention.","As used herein, the term operator refers to an operator of a communications network or portion thereof, including network and Internet, wired and wireless, service providers. A user refers to a person who connects to the operator's network, including a subscriber to the operator's communication network service, for example, a subscriber to a pre-paid, pre-arranged or invoiced subscription for network service. In a pre-paid subscription, charges are deducted from an amount the user has already paid to the operator. In a pre-arranged payment subscription, payments for accumulated charges are extracted with user permission automatically from one or more bank or credit accounts of the user on a regular schedule, e.g., monthly. In an invoiced subscription, the user is sent a written electronic or paper invoice describing resources provided and accumulated charges; and the user sends a payment in response to the written description. A used herein, a merchant is a commercial entity different from the provider, which provides goods or services that are selected or delivered over the communications network to the user. As used herein a network node, or simply node, is any wired or wireless device that is in communication with a communications network to originate or terminate messages or to relay messages.","Although various embodiments are described with respect to a user connecting to the provider's network with a cell phone to purchase a product using operator billing, it is contemplated that the approach described herein may be used with other wired and wireless user equipment, such as laptop and desk top computers, personal digital assistants, and network appliances and during authentication relating to any product or service, not just for operator billing.","As described above, in direct operator billing, a merchant different from the network operator uses the network operator's billing system to extract payment from a user for a product ordered or delivered through the user's mobile or wired communication device, rather than duplicating functions to obtain and track payments from users. Typically, the merchant has a public site (called a front-end) on one or more nodes of the communications network where the user can view and select the merchant's products. In communications hidden from the user (called a back-end), the merchant's back-end system on the same or different nodes integrates to the operator billing system on one or more different nodes via an application programming interface (API).","To charge the user for a product, the merchant's back-end system authenticates a user to get a user identifier suitable for billing by the operator, such as a subscriber identifier for the user, also called a customer ID (C ID). This C ID can be Mobile Subscriber Integrated Services Digital Network Number (MSISDN, which is a cell telephone number) or some other identifier defined by the operator, such as an International Mobile Subscriber Identity (IMSI) identifier, an email address or Short Message Service (SMS) short code. IMSI is a unique 15-digit code used to identify an individual user on a global system for mobile communications (GSM) network. An IMSI value is typically stored on a Subscriber Identity Module (SIM card), a device used to store information in many mobile phones, especially for advanced features.","A common authentication method supported by many operators is based on a hypertext transfer protocol (HTTP) message directed to the merchant's front-end or back-end system, typically using a Uniform Resource Locator (URL) to address the merchant system on the communications network. In this common mechanism, a client process on the user's mobile communications device sends an HTTP GET message to the merchant's authentication URL, and a network node, such as an access point, of the operator adds a subscriber identifier to the header portion of the HTTP message. HTTP URL authentication works well when the user's mobile communications device is connected to the network through certain access points, called Wireless Applications Protocol (WAP) access points. If the user's mobile communication device happens to have a default access point defined to be something else (e.g. WiFi access point, Internet access point, among others) authentication may fail\u2014leading to failure of operator billing, and an unsatisfying user experience",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 1","b":["100","100"]},"As shown in , the system  comprises user equipment (UE)  having connectivity to a merchant platform  via a communication network . By way of example, the communication network  of system  includes one or more networks such as a data network (not shown), a wireless network (e.g., operator network ), a telephony network not shown), or any combination thereof. It is contemplated that the data network may be any local area network (LAN), metropolitan area network (MAN), wide area network (WAN), a public data network (e.g., the Internet), or any other suitable packet-switched network, such as a commercially owned, proprietary packet-switched network, e.g., a proprietary cable or fiber-optic network. In addition, the wireless network may be, for example, a cellular network and may employ various technologies including enhanced data rates for global evolution (EDGE), general packet radio service (GPRS), global system for mobile communications (GSM), Internet protocol multimedia subsystem (IMS), universal mobile telecommunications system (UMTS), etc., as well as any other suitable wireless medium, e.g., worldwide interoperability for microwave access (WiMAX), Long Term Evolution (LTE) networks, code division multiple access (CDMA), wideband code division multiple access (WCDMA), wireless fidelity (WiFi), satellite, mobile ad-hoc network (MANET), and the like. At least a portion  of network  is under the administrative control of a network operator, and is called the operator network  herein.","The communications network  includes one or more access points (APs) for wireless devices, such as non-WAP AP and a WAP AP , collectively called herein APs . One or more of these APs are in the operator network  portion of network . WAP, well known in the art, is designed to transmit, over a wireless link, video and image content, such as Web pages transmitted using HTTP and graphical user interfaces, to a wireless device, such as a cell phone, which has limited display screen area and possibly limited bandwidth. The operator network  also includes an operator billing system , as described above, and a Short Message System (SMS) control system (SMSC) . The SMSC  handles, stores and forwards short messages in a mobile telephone network. The SMS is used to provide cell phone connection information in a mobile telephone network, but has come to be a popular way to send messages, primarily text, between end users for an application called text messaging. The SMS messages can be used between any pair devices that support SMS, such as any pair of third generation (3G) communication devices, in communication with the operator network  directly or indirectly through network .","The UE  is any type of mobile terminal, fixed terminal, or portable terminal including a mobile handset, station, unit, device, multimedia computer, multimedia tablet, Internet node, communicator, desktop computer, laptop computer, Personal Digital Assistants (PDAs), or any combination thereof. It is also contemplated that the UE  can support any type of interface to the user (such as \u201cwearable\u201d circuitry, etc.).","The merchant platform  is one or more network nodes that host applications that support the presentation, sale or delivery of products offered by the merchant, or some combination, generally referred to as e-commerce. The front end processes are represented by the online purchase user interface (UI) ; and the back end processes are represented by payment gateway . The merchant platform  also includes an SMS module . The SMS module  is used to compose, send, receive, store and display SMS messages on merchant platform . SMS modules are well known in the art.","By way of example, the UE  and merchant platform  communicate with each other, and with other components of the communication network , using well known, new or still developing protocols. In this context, a protocol includes a set of rules defining how the network nodes within the communication network  interact with each other based on information sent over the communication links. The protocols are effective at different layers of operation within each node, from generating and receiving physical signals of various types, to selecting a link for transferring those signals, to the format of information indicated by those signals, to identifying which software application executing on a computer system sends or receives the information. The conceptually different layers of protocols for exchanging information over a network are described in the Open Systems Interconnection (OSI) Reference Model.","Communications between the network nodes are typically effected by exchanging discrete packets of data. Each packet typically comprises (1) header information associated with a particular protocol, and (2) payload information that follows the header information and contains information that may be processed independently of that particular protocol. In some protocols, the packet includes (3) trailer information following the payload and indicating the end of the payload information. The header includes information such as the source of the packet, its destination, the length of the payload, and other properties used by the protocol. Often, the data in the payload for the particular protocol includes a header and payload for a different protocol associated with a different, higher layer of the OSI Reference Model. The header for a particular protocol typically indicates a type for the next protocol contained in its payload. The higher layer protocol is said to be encapsulated in the lower layer protocol. The headers included in a packet traversing multiple heterogeneous networks, such as the Internet, typically include a physical (layer 1) header, a data-link (layer 2) header, an internetwork (layer 3) header and a transport (layer 4) header, and various application headers (layer 5, layer 6 and layer 7) as defined by the OSI Reference Model.","The client-server model of computer process interaction is widely known and used. According to the client-server model, a client process sends a message including a request to a server process, and the server process responds by providing a service. The server process may also return a message with a response to the client process. Often the client process and server process execute on different computer devices, called hosts, and communicate via a network using one or more protocols for network communications. The term \u201cserver\u201d is conventionally used to refer to the process that provides the service, or the host computer on which the process operates. Similarly, the term \u201cclient\u201d is conventionally used to refer to the process that makes the request, or the host computer on which the process operates. As used herein, the terms \u201cclient\u201d and \u201cserver\u201d refer to the processes, rather than the host computers, unless otherwise clear from the context. In addition, the process performed by a server can be broken up to run as multiple processes on multiple hosts (sometimes called tiers) for reasons that include reliability, scalability, and redundancy, among others. A well known client process available on most nodes connected to a communications network is a World Wide Web client (called a \u201cweb browser,\u201d or simply \u201cbrowser\u201d) that interacts through messages formatted according to the HyperText Transfer Protocol (HTTP) with any of a large number of servers called World Wide Web servers that provide web pages.","The UE  includes a browser  and an SMS module . The SMS module  is used to compose, send, receive, store and display SMS messages on UE . Browsers and SMS modules are well known in the art. In the illustrated embodiment, the browser  includes a plug-in application or transient script that functions as a commercial client process  for interacting with the online purchase UI . The commercial client  presents graphical elements from the online purchase UI  and captures and sends user actions, such as pointer moves and key strokes so that a user can navigate the products and initiate a purchase. Messages are exchanged between commercial client  on UE  and online purchase UI  on merchant platform  using any application layer protocol, including HTTP among others. The online purchase UI  performs some functions of a commercial server for the merchant. In some embodiments, the commercial client is not part of a browser but is part of another application or is stand alone.","According to some embodiments, the commercial client  on UE  includes an authentication recovery client  that communicates with an authentication recovery server  on merchant platform , as described in more detail below. The authentication recovery client  determines whether an HTTP URL message was successful in obtaining authorization; and, if not, then recovering by changing access points or sending an recovery message using a different protocol, such as SMS, to achieve authentication. The authentication recovery server  provides a transaction identifier to be used in the recovery message; and, uses an identifier for the user in the received recovery message to complete the operator billing.","Although nodes, modules and processors are shown in the illustrated embodiment as integral blocks in a particular arrangement for purposes of illustration, in other embodiments, one or modules or processes, or portions thereof, are arranged in a different order on the same or different nodes, or the arrangement is changed in some combination of ways.",{"@attributes":{"id":"p-0044","num":"0043"},"figref":["FIG. 2","FIG. 9","FIG. 10"],"b":["200","130","130","900","1000"]},"In the illustrated embodiment, the merchant platform  includes the payment gateway , the online purchase UI , a product identifiers data structure , a transaction module , transaction content data structure , authentication recovery server  and SMS module . The merchant platform  interacts with commercial client , e.g., on UE , and operator billing system , e.g., in network . According to the illustrated embodiment, in transaction module  the merchant platform  generates a transaction whereby a product and price is selected based on user input received through the online purchase UI, and the transaction is stored in transaction content database . In some embodiments, a unique transaction identifier (TX ID) is defined and then used as an index into the transaction content data structure . The transaction is provided to the payment gateway  through the transaction module and used to bill the user through the operator billing system .","As described in more detail below, the authentication recovery server  interacts with processes ,  and , and adds fields to certain sent messages and extracts field from certain received messages to deduce a C ID for the user and provide that C ID to payment gateway  for operator billing.","Although processes, modules and data structures are shown as integral blocks in particular locations on certain nodes for purposes of illustration, in other embodiments one or more processes, modules or data structures, or portions thereof, are arranged in a different order on the same or different network nodes. Thus, authentication recovery server  may be included within the payment gateway process  as shown in , or separate as shown in .",{"@attributes":{"id":"p-0048","num":"0047"},"figref":["FIG. 3A","FIG. 3E","FIG. 3A"],"b":["300","130","135","101","131","300","302","304","306","300","308","309","300","307"]},"Buy response message  is sent by the merchant platform  in response to a buy request message from the user equipment, e.g., UE . As is well known in the art, a buy request message comes from the UE of the user attempting to purchase a product presented by the merchant's platform. The request message holds data that indicates the user node making the request, e.g., a Internet Protocol (IP) address for UE , data that indicates the product to be purchased or delivered (such as a product ID), data that indicates the provider network (such as Mobile Network Code, MNC, and Mobile Country Code, MCC, to uniquely identify a mobile phone operator), and data that indicates an amount for the product. These data fields and any other associated data, not shown, are used to define a transaction and are stored in the transaction content data structure  with an associated transaction ID (TX ID).","The client address field  holds data that indicates an address of the UE  learned from the buy request message and thus indicates where the message  is directed. For example, the client address field  holds an IP address and is included in a header portion of the IP layer.","The TX ID field  holds data that indicates the transaction identifier defined based on the buy request message, described above.","The authentication URL field  holds data that indicates where an HTTP message from the client (e.g., commercial client ) is to be directed to determine a subscriber number for the user, according to the HTTP URL method for identifying the user to the operator billing system. For example, the URL indicates the back-end payment gateway  or the authentication recovery server .","The optional AP list field  holds data that indicates a client ordered list of access points, such as WAP access points, that are suitable for HTTP authentication to avoid HTTP authentication failure.","The merchant SMS address field  holds data that indicates a SMS address (telephone number or short code) of the merchant platform or a program running on the merchant platform. Short codes, also known as short numbers, are special telephone numbers, significantly shorter than full telephone numbers, which can also be used to address SMS and Multimedia Message Service (MMS) messages from mobile phones or 3G phones. The SMS address field  holds the address to which a SMS recovery message is directed, if useful. The optional SMS message field  holds text data that is to be included in the SMS payload of the SMS recovery message, if sent. In some embodiments the SMS message field  includes data that indicates the transaction, such as the product and amount or the transaction identifier (TX ID).","In response to receiving the buy response message , the commercial client  sends an HTTP GET message to the authentication URL which is forwarded by the access point  to the merchant platform as HTTP GET authentication message  from the operator network, depicted in . The forwarded HTTP GET authentication message  includes the authentication URL field  as a destination in the HTTP header and the TX ID field  inserted by the commercial client . If the HTTP GET message is received at a WAP AP, e.g., WAP AP , then the WAP AP inserts a customer ID into the message as values in a customer ID type field  and a customer ID field , e.g., in a header of the HTTP message, before forwarding the message  to the merchant platform. The customer ID type field  holds data that indicates the type of customer ID for specifying the user, e.g., whether the customer ID is a MSISDN, ISMI or some other type. The customer ID field  holds the value of that type of ID for the particular user. However, if the HTTP GET message is received at a non-WAP AP, e.g., WAP AP , then fields  and  are omitted.","According to some embodiments, before sending the HTTP GET message, the commercial client checks what access point is currently being used for data connection; and determines if access point type is WAP AP. If not, then the commercial client terminates the current data connection and creates a new data connection using a WAP AP. In some embodiments, the determination whether the access point type is WAP AP is made using a lookup to a device access point database. In some embodiments, the determination whether the access point type is WAP AP is made using the WAP access points provided by a backend server, e.g., in field  of buy response message .","According to some embodiments, if the user does not receive authentication, e.g., as a valid access code for retrieving the product with a particular time interval, then the client sends an SMS recovery message, called herein a client SMS message  depicted in . For example, the message  is sent from authentication recovery client  on UE . The SMS message from client  includes a merchant SMS address field  and, if available, the SMS message field , both from the buy response message . The SMS message field  includes data that indicates the transaction, such as the TX ID. The client SMS message is processed by the SMSC , which adds a customer ID, e.g., a MSISDN value, in MSISDN field  to form SMSC message . In some embodiments, the type of customer ID is known to all users of the network. In some embodiments, the type of customer ID is also provided in field .","This SMSC message  is received by the merchant platform backend, e.g., in authentication recovery server  or payment gateway . Once the merchant platform  is in possession of an identifier for the user that is also known by the operator, the information is used to form a charge customer message  depicted in . The charge customer message  is sent from the merchant platform back end, e.g., payment gateway , to the operator billing system, e.g., operator billing system . The charge customer message  includes an amount field , a customer ID type field  and a customer ID field .","The amount field  holds data that indicates the purchase price (e.g., before taxes). This value can be obtained from the transaction content data structure  based on a TX ID value in the SMS message field , or can be included explicitly in the SMS message field .","The Customer ID type field  indicates the type of identifier used to specify the user, e.g., MSISDN or some other identifier utilized by the network operator. The Customer ID field  indicates the value of identifier used to specify the user, e.g., a MSISDN value or value for another ID type.","Although in  through  data fields are depicted as integral blocks in a particular order in certain messages, in other embodiments, one or more fields, or portions thereof, may be arranged in a different order in the same or more or fewer messages.",{"@attributes":{"id":"p-0062","num":"0061"},"figref":["FIG. 4","FIG. 400","FIG. 10","FIG. 4","FIG. 5"],"b":["400","433","435","437","151","131"]},"In step , the available authentication mechanisms are determined. For example, authentication mechanisms can be configured dynamically by operator and UE type and version of commercial client. SMS authentication can be used as a recovery or primary authentication mechanism. For example, certain embodiments of commercial clients can use HTTP with SMS recovery, while other embodiments of commercial clients on different UE use SMS only or other recovery means, such as lists of approved WAP access points. In some embodiments it is determined whether operator billing is available at all, or other billing is available, such a credit card or other network payment services. In some embodiments, the available mechanisms are received as data. Any method may be used to receive this data. For example, in various embodiments, the data is included as a default value in software instructions, is received as manual input from a network administrator on the local or a remote node, is retrieved from a local file or database, or is sent from a different node on the network, either in response to a query or unsolicited, or the data is received using some combination of these methods.","In step  it is determined whether operator billing is available. If not, then in step  a client display is modified to indicate operator billing is not available, e.g., by greying out a button to be selected to charge a purchase to a phone bill.","In step , a user operates the browser  to find a particular merchant platform that includes a product (i.e., item or service) of acceptable price to be purchased. In step  the client receives input that indicates whether the user determined to make the purchase, i.e., to buy the item or service. If so, then in step  a buy request message is sent to a merchant platform.","In step , in response to sending the buy request message, the commercial client, e.g., commercial client , receives a buy response message, such as modified buy response message . A standard buy response message includes the transaction identifier (TX ID) and authentication URL where an HTTP message should be sent by the client (e.g., commercial client ) for HTTP authentication. The modified buy response message, according to some embodiments, includes the merchant SMS address field  and SMS message  (called hereinafter the SMS recovery fields) to be used during SMS recovery in case of HTTP authentication failure. In some embodiments, the modified buy response message includes the AP list field . In some embodiments, the authentication recovery client  extracts the SMS recovery fields and AP list field, if any, from the buy response message to use in an SMS recovery step  or the HTTP authentication step , both described below.","In step , it is determined whether operator billing is to be used, e.g., the user has selected an option to add the purchase to the user's phone bill. If not, then in step  another payment type is processed.","In step , it is determined whether an access code for the product has been received, e.g., a URL with credentials to download the product in an HTTP message from the merchant platform. If not, then in step  a notification of failure of the purchase is displayed on the UE. Example notifications are described in more detail below with reference to . If the access code for the product has been received, then in step  the product is retrieved using the access code, as is well known in the art. In many embodiments, the HTTP response to the HTTP authentication message does not contain the access code. Instead, during step  in such embodiments, as is well known in the art, the commercial client  sends to the merchant node another message (not shown) that includes a query for the access code. This separate message may be sent using any protocol. A response (not shown) to this message with the query, in a corresponding protocol, includes data that indicates the access code.","If it is determined, in step  that operator billing is being utilized, then in step  it is determined whether HTTP authentication is the primary form of authentication. HTTP authentication is advantageous because it is quicker, consuming fewer network resources. If HTTP authentication is primary, then in step  the HTTP GET is sent to the URL received in the buy response message, e.g., the URL of a process on the merchant platform . In some embodiments, before sending the HTTP GET message, the authentication recovery client changes an access point to the network until an access point utilized is on a list of acceptable access points, e.g., is indicated in AP list .","In step , it is determined whether there has been an authentication failure, e.g., by determining that an HTTP message with an access code has not been received within a particular time; or, sending a status request to the URL and receiving a status response indicating authentication failure. If there is not authentication failure, then control passes to step  and subsequent steps described above, to retrieve the product or display failure notifications.","If there is authentication failure, or if it is determined in step  that HTTP is not the primary form of authentication, then in step  a SMS message is sent to the merchant SMS address with the SMS message indicating the transaction, e.g., by sending message  depicted in . Recall that the SMS address and SMS message were received in the modified buy response message  depicted in . Then control passes to step , and following steps, described above. In an illustrated embodiment, steps  and  are performed by authentication recovery client .","In some embodiments, step  includes a value of an IMSI identifier, e.g., read from a SIM card on the UE. In some embodiments, the IMSI value is included in the buy message sent in step , which pre-empts further authentication, so that steps , ,  and  are omitted. For example, the commercial client reads IMSI from the SIM card in the UE  and initiates payment by browsing or calling the merchant ecommerce platform .","As described above, a user's subscriber ID is added to HTTP headers only if the user is using GPRS\/3G access point. Depending on the operator, only some of the GPRS access points adds the user's subscriber ID and therefore only some work for authentication. To avoid billing failures, some embodiments use SMS as backup authentication mechanism for HTTP authentication. It is advantageous if shortcode that is used in SMS address field for SMS authentication recovery is zero rated in an agreement with the operator, so that commercial client  can safely send SMS messages  without asking permission from the user and thus diminishing the user experience.",{"@attributes":{"id":"p-0074","num":"0073"},"figref":["FIG. 5","FIG. 500","FIG. 10"],"b":["500","509","519","521","153","130"]},"In step , the authentication mechanisms to be used by the merchant platform  with commercial clients running on different user devices are determined, as described above for step .","In step , a buy request message is received from a commercial client  on a particular user device, e.g., UE . As described above with respect to step , the buy request message includes data that indicates a particular product of the merchant and an amount for that product, as well as the user device network address and the network operator to which the user subscribes for network service. Step  includes actions by the transaction module  to form a transaction record that is stored in the transaction content data structure  in association with a transaction identifier (TX ID) that is unique at the merchant platform . The transaction record includes information that indicates one or more attributes each for the product, the amount, the user, and the operator network for the user, as is well known in the art.","In step  it is determined whether operator billing is to be used to pay for the product. Any method may be used to determine this. In some embodiments, operator billing is the default payment process. In some embodiments, the step  includes exchanging one or more messages with the commercial client  on the user device, e.g., through the online purchase UI process , to determine if the user has opted for operator billing. An example UI displayed on the user device to receive user input is described in more detail below with reference to  through . In some embodiments, such a UI is presented by the commercial client  inserted in the user's browser  by the online purchase UI process , as is well known in the art. If operator billing is not chosen, then in step , payment is obtained by processing another payment type, not relevant to the operator authentication embodiments described herein.","If it is determined, in step , that operator billing is to be used, then in step  it is determined whether the buy request message included an IMSI value as a user identifier. If so, then there is sufficient information for operator billing starting in step , as described in more detail below. If not, then user authentication is still to be performed; and control passes to step .","In step , a modified buy response message is generated and sent to the user's device, e.g., to UE . As described above, the modified buy response message includes a transaction identifier (TX ID) field and authentication URL for a HTTP message, as in previous approaches. To provide for recovery, the modified buy response message is generated to include also an SMS address for the merchant platform as a full telephone number, or as a short code, in merchant SMS address field . In some embodiments, the TX ID is included in the SMS message sent during recovery. In other embodiments, other information is desirable and included in the SMS message. Thus, in some embodiments the buy response message also includes the SMS message field  that holds the contents of the SMS message to be sent to the merchant SMS address during recovery from authentication failure. For example, the SMS recovery fields  and  are inserted into the buy response message  by the authentication recovery server . In some embodiments, field  is inserted and includes a list of approved access points, such as WAP access points, in addition to or instead of inserting the SMS recovery fields.","In step  it is determined whether an HTTP GET message is received at the authentication URL on merchant platform, e.g., by the payment gateway . If so, then in step  it is determined if the HTTP GET message includes for the user a customer identifier (C ID) which is provided by the operator, e.g., in an HTTP header portion of the message. If so, then there is sufficient information for operator billing starting in step .","In step  a charge customer message is sent to the operator with the C ID and the purchase amount and any text to identify the transaction in the bill presented to the user by the operator. For example, charge customer message  is sent with a purchase price in the amount field , a customer ID type indicating MSISDN or IMSI or other type in field , and the value of the MSISDN or IMSI or other type identifier in customer ID field . Step  includes receiving any response from the operator, including an approval with an amount of tax to apply or data indicating an error, such as a failure due to insufficient balance or inactive account.","In step  a response is generated and sent to the client indicating a successful billing and amount or indicating an error. In the event of a successful billing, the response includes an access code, such as a URL and credentials to obtain the product at a website. Any method known in the art may be used to send this response. In some embodiments, the response is sent automatically to the client, e.g., as an HTTP message. In some embodiments, the response is sent in response to a status inquiry message from the client.","If it is determined in step , however, that the HTTP GET message received in step  does not include for the user a C ID provided by the operator, then in step  a response is generated and sent to the client indicating authentication failure. Any method known in the art may be used to send this response. In some embodiments, the response is sent automatically to the client, e.g., as an HTTP message. In some embodiments, the response is sent in response to a status inquiry message from the client. In some embodiments step  is omitted.","If the HTTP message received from the client in step  does not have a C ID supplied by the operator (e.g., because the UE  connects to network  through a non-WAP access point ), or if an HTTP message is not received from the client, then in step  it is determined whether an SMS message is received with a transaction identifier and a user ID for the operator, such as a value for a MSISDN or other identifier. If not, then authentication fails. If such an SMS message is received, for example if SMSC message  is received, then there is sufficient information for operator billing; and control passes to step  and following steps, as described above. For example, authentication recovery server  extracts, from the SMSC message , the user ID from the MSISDN field  included in the SMS header and the TX ID and any other desired information from the SMS message field .",{"@attributes":{"id":"p-0085","num":"0084"},"figref":["FIG. 6A","FIG. 6B"],"b":["131","111","111","117","115","130"],"i":["b","a"]},{"@attributes":{"id":"p-0086","num":"0085"},"figref":"FIG. 6A","b":["610","111","111","611","130"],"i":["b ","a "]},"A process on the merchant platform, e.g., payment gateway , sends a charge customer message , like charge customer message , to the operator billing system (e.g., operator billing system ) with an amount in field , a customer ID type field  holding data that indicates IMSI, and a customer ID field  holding data that indicates the value of the IMSI identifier. In the illustrated embodiment, IMSI is used directly in billing request to operator billing system. In other embodiments, if IMSI cannot be used directly, the IMSI is used to lookup MSISDN or other identifier type that is allowed in the operator billing system.","A charged message  is returned from the operator billing system, as is well known in the art. This charged message  indicates a tax amount if the charge is OK or data indicating a failure of some type, e.g., account closed or insufficient funds. A purchase completed message  is returned to the commercial client, e.g., commercial client , as is well known in the art. If unsuccessful, an example purchase completed message indicates the transaction identifier (TX ID), the amount of purchase, and data that indicates the failure, such as an error code with or without additional expository text. If successful, an example purchase completed message indicates the transaction identifier (TX ID), the amount of purchase, the amount of tax, and an access code for retrieving the purchased product (item or service), such as a URL with any credentials to download a file from a particular World Wide Web (WWW) site. Subsequent messages  represent retrieval of the product based on the access code, if a valid access code is provided, as is well known in the art.",{"@attributes":{"id":"p-0089","num":"0088"},"figref":"FIG. 6B","b":["620","111","111","621","130"],"i":["b ","a "]},"A process on the merchant platform, e.g., online purchase UI , sends a buy response message  using the same protocol as the buy request message . The buy response message  includes data indicating the transaction identifier (TX ID) and the authentication URL to which the client  should send an HTTP message to complete HTTP authentication. In a standard approach, the buy response message  does not include the SMS recovery fields  or  or AP list field  of modified buy response message .","In response to receiving the buy response message , the client  sends an HTTP GET authentication message  directed to the authentication URL provided in message . To avoid failure, this message should be received at a WAP access point . The WAP access point adds a user identifier (customer ID, C ID) known by the operator, such as a MSISDN identifier, to the HTTP header to form message . The HTTP header now includes the C ID, which comprises the type of user ID (e.g., MSISDN) and the value. The WAP access point forwards the message  to the merchant platform .","A process on the merchant platform, e.g., payment gateway , sends a charge customer message , like charge customer message , to the operator billing system (e.g., operator billing system ) with an amount in field , a customer ID type field  holding data that indicates the type (e.g., MSISDN) of the C ID and a customer ID field  holding data that indicates the value of the identifier of that type. Messages ,  and  are as described above.","If the HTTP GET authentication message  is not received by a WAP access point , (e.g., is received by a WiFi access point or Internet access point represented by non-WAP access point ), then there is a danger the forwarded message will not include in the HTTP header a user identifier (C ID) known by the operator. Then the authentication process fails; and messages , ,  and  depicted in  are not sent.",{"@attributes":{"id":"p-0094","num":"0093"},"figref":["FIG. 7A","FIG. 7B"]},{"@attributes":{"id":"p-0095","num":"0094"},"figref":["FIG. 7A","FIG. 6B"],"b":["620","111","111","621","130"],"i":["b ","a "]},"A process on the merchant platform, e.g., authentication recovery server , sends a modified buy response message , such as modified buy response message . In addition to the fields described above for message , modified buy response message  includes one or both SMS recovery fields  and . In some embodiments, the modified buy response message includes the AP list field .","In response to receiving the modified buy response message , the client  sends an HTTP GET authentication message  directed to the authentication URL provided in message , while the authentication recovery client  extracts the SMS recovery field  and, if included, field  or field  or both. When message  is received at a WAP access point , as shown, the remaining messages are the same depicted in . The WAP access point adds a user identifier (C ID) known by the operator, such as a MSISDN identifier, to the HTTP header to form message . A process on the merchant platform, e.g., payment gateway , sends a charge customer message  to the operator billing system, and messages ,  and  are as described above.","In some embodiments, the merchant platform  provides a client ordered list of access points that are suitable for HTTP authentication to avoid HTTP authentication failure, e.g., in AP list field . If the commercial client  or authentication recovery client  detects that a current data connection is using some other access point, the client will try to terminate the current connection and create a new one using access points suggested by the merchant platform in field . Multiple attempts can be made if there are many access points provided by merchant platform .",{"@attributes":{"id":"p-0099","num":"0098"},"figref":"FIG. 7B","b":["620","621","722","614","616","618"]},"In response to receiving the modified buy response message , the client  sends an HTTP GET authentication message  directed to the authentication URL provided in message , while the authentication recovery client  extracts the SMS recovery field  and, if included, field  or field  or both. When message  is received at a non-WAP access point , however, as shown, the non-WAP access point might not add a user identifier (C ID) known by the operator, such as a MSISDN identifier, to the HTTP header. HTTP GET message  with no C ID is forwarded to the authentication URL on merchant platform . A process on the merchant platform, e.g., payment gateway , does not authenticate the user and cannot issue a charge customer message. Instead a message indicating failed authentication is sent to the client, either automatically as a HTTP response  to the HTTP GET, or in response to a status inquiry message from the client . In an example of the latter embodiments, HTTP GET message  just returns HTTP OK message . Subsequently, the commercial client  automatically requests payment status with a separate call that sends a check status message . Authentication failure is provided as response to that call in status response message .","Upon determination of HTTP authentication failure, a process in the commercial client, e.g., authentication recovery client , sends an SMS message  directed to the SMS address of the merchant platform , as received in field  of modified buy response message . In some embodiments, the payload of the SMS message includes the TX ID from field  of the modified buy response message . In some embodiments, the payload of the SMS message includes the data in the SMS message field  of the modified buy response message .","The SMS message  is processed at the SMSC node  of the operator network, where a customer identifier (C ID) known by the operator for the user, such as a MSISDN identifier, is added to the header of the client SMS message to form the SMSC message  from the SMSC. The SMSC message is forwarded as message , which includes the SMS recovery fields and the SMS C ID (e.g., MSISDN).","A process on the merchant platform, e.g., authentication recovery server , extracts the SMS C ID and transaction identifier from the SMS message , e.g. for use by the payment gateway . The payment gateway  sends a charge customer message , like charge customer message , to the operator billing system (e.g., operator billing system ) with an amount in field , a customer ID type field  holding data that indicates the type (e.g., MSISDN) of the C ID in the SMS header and a customer ID field  holding data that indicates the value of the identifier of that type from the SMS header. Messages ,  and  are as described above.",{"@attributes":{"id":"p-0104","num":"0103"},"figref":["FIG. 8A","FIG. 8C","FIG. 4","FIG. 4","FIG. 8A"],"b":["415","810","101","810","811","813","815","802","804","802","804"]},"The top panel  presents an image that indicates the user name of the user of the device and a name of a merchant from which a product has been selected. The product panel  presents an image that indicates the product selected and the purchase price for the product. In some embodiments, the panel  includes a picture of the product.","The purchase panel  presents an image that indicates possible actions to confirm the purchase of the product and selectable active areas  and  that determine the next action to be performed by the user equipment. The Accept Operator Billing area  is selected by the user (e.g., by moving pointer keys to highlight the area and then pressing a select key) to cause the client to perform operator billing in order to pay for the product identified in panel . The Change Billing area  is selected to be presented with other options for paying for the product. In step , the Accept Operator Billing area is modified (e.g., made grey) to indicate it cannot be selected, if it is determined in step  that operator billing is not available for this user or this user equipment (UE).","If the Accept Operator Billing area is selected, then user interface screen  depicted in  is presented on a display of the UE. User interface screen  includes a top panel  and labels  and  for programmable keys on the UE, as described above, and a statements panel . The statements panel  presents an image that describes the legal and business implications of operator billing and includes selectable active area . For example, in some embodiments, the statements recite the following or similar words: \u201cTo finalize the purchase, you have to confirm that you are at least 18 years old or have parental permission;\u201d or \u201cPlease note that the price of the service will not include the price of data traffic with your mobile device;\u201d or \u201cYou will find the payments recorded on your subscription phone bill or subtracted from your pre-paid balance,\u201d among others, alone or some combination. The Confirm area  is selected to indicate that the user agrees with the statements presented and allows the client to proceed with operator billing.","If the Confirm area is selected, then user interface screen  depicted in  is presented on a display of the UE. User interface screen  includes a top panel  and labels  and  for programmable keys on the UE, as described above, and a purchase progress panel . The purchase progress panel  presents an image that describes the progress of the purchase and includes notification window . For example, the purchase progress panel displays a statement indicating \u201cPurchase in progress, confirming payment\u201d during steps , , ,  and  and an animated icon indicating the progress, such as an hourglass, dots arranged along a circle that appear and fade in succession, or a progress bar, among others, alone or in some combination. In some embodiments, the actual authentication failure and recovery are hidden from the user.","Upon completing step  the user is notified of success or failure in the notification window . For example, during step  when the product is being retrieved, the window  recites the following or similar words: \u201cPayment completed. Your receipt has been sent to [email address].\u201d In some embodiments, the window  includes an animated icon indicating the progress of the retrieval during step . If, instead, the process fails, then notification window  recites one or more of the following error messages or similar messages, alone or in some combination.","\u201cPhone bill payment error. We are experiencing problems with the Phone bill payment service. Please try again later.\u201d","\u201c\u201dLow balance. You have not been charged. At the moment your prepaid balance is too low to complete this purchase. The purchase is cancelled and you will be taken back to the catalogue page.\u201d","\u201cSpending limit exceeded. You have not been charged. The purchase exceeds the spending limit set to your account. Please contact your operator.\u201d","\u201cAccount locked. You have not been charged. Your account is locked. Please contact your operator.\u201d","\u201cBandwidth limit exceeded. You have not been charged. The bandwidth limit set to your account has been reached. Please contact your operator.\u201d","\u201cProduct not eligible. You have not been charged. The product is not eligible for purchase through this account. The purchase is cancelled and you will be taken back to the catalogue page.\u201d","\u201cPayment confirmation failed. You have not been charged. Payment confirmation failed. Please check if the correct connection access point is selected in the settings of your phone or contact your operator.\u201d In some embodiments, the SMS authentication recovery described herein prevents an error message of this type.","The processes described herein for providing recovery during authentication for operator billing may be advantageously implemented via software, hardware (e.g., general processor, Digital Signal Processing (DSP) chip, an Application Specific Integrated Circuit (ASIC), Field Programmable Gate Arrays (FPGAs), etc.), firmware or a combination thereof. Such exemplary hardware for performing the described functions is detailed below.",{"@attributes":{"id":"p-0118","num":"0117"},"figref":["FIG. 9","FIG. 9"],"b":["900","900","900","900","910","900","900"]},"A bus  includes one or more parallel conductors of information so that information is transferred quickly among devices coupled to the bus . One or more processors  for processing information are coupled with the bus .","A processor  performs a set of operations on information as specified by computer program code related to recovery during authentication for operator billing. The computer program code is a set of instructions or statements providing instructions for the operation of the processor and\/or the computer system to perform specified functions. The code, for example, may be written in a computer programming language that is compiled into a native instruction set of the processor. The code may also be written directly using the native instruction set (e.g., machine language). The set of operations include bringing information in from the bus  and placing information on the bus . The set of operations also typically include comparing two or more units of information, shifting positions of units of information, and combining two or more units of information, such as by addition or multiplication or logical operations like OR, exclusive OR (XOR), and AND. Each operation of the set of operations that can be performed by the processor is represented to the processor by information called instructions, such as an operation code of one or more digits. A sequence of operations to be executed by the processor , such as a sequence of operation codes, constitute processor instructions, also called computer system instructions or, simply, computer instructions. Processors may be implemented as mechanical, electrical, magnetic, optical, chemical or quantum components, among others, alone or in combination.","Computer system  also includes a memory  coupled to bus . The memory , such as a random access memory (RAM) or other dynamic storage device, stores information including processor instructions for recovery during authentication for operator billing. Dynamic memory allows information stored therein to be changed by the computer system . RAM allows a unit of information stored at a location called a memory address to be stored and retrieved independently of information at neighboring addresses. The memory  is also used by the processor  to store temporary values during execution of processor instructions. The computer system  also includes a read only memory (ROM)  or other static storage device coupled to the bus  for storing static information, including instructions, that is not changed by the computer system . Some memory is composed of volatile storage that loses the information stored thereon when power is lost. Also coupled to bus  is a non-volatile (persistent) storage device , such as a magnetic disk, optical disk or flash card, for storing information, including instructions, that persists even when the computer system  is turned off or otherwise loses power.","Information, including instructions for recovery during authentication for operator billing, is provided to the bus  for use by the processor from an external input device , such as a keyboard containing alphanumeric keys operated by a human user, or a sensor. A sensor detects conditions in its vicinity and transforms those detections into physical expression compatible with the measurable phenomenon used to represent information in computer system . Other external devices coupled to bus , used primarily for interacting with humans, include a display device , such as a cathode ray tube (CRT) or a liquid crystal display (LCD), or plasma screen or printer for presenting text or images, and a pointing device , such as a mouse or a trackball or cursor direction keys, or motion sensor, for controlling a position of a small cursor image presented on the display  and issuing commands associated with graphical elements presented on the display . In some embodiments, for example, in embodiments in which the computer system  performs all functions automatically without human input, one or more of external input device , display device  and pointing device  is omitted.","In the illustrated embodiment, special purpose hardware, such as an application specific integrated circuit (ASIC) , is coupled to bus . The special purpose hardware is configured to perform operations not performed by processor  quickly enough for special purposes. Examples of application specific ICs include graphics accelerator cards for generating images for display , cryptographic boards for encrypting and decrypting messages sent over a network, speech recognition, and interfaces to special external devices, such as robotic arms and medical scanning equipment that repeatedly perform some complex sequence of operations that are more efficiently implemented in hardware.","Computer system  also includes one or more instances of a communications interface  coupled to bus . Communication interface  provides a one-way or two-way communication coupling to a variety of external devices that operate with their own processors, such as printers, scanners and external disks. In general the coupling is with a network link  that is connected to a local network  to which a variety of external devices with their own processors are connected. For example, communication interface  may be a parallel port or a serial port or a universal serial bus (USB) port on a personal computer. In some embodiments, communications interface  is an integrated services digital network (ISDN) card or a digital subscriber line (DSL) card or a telephone modem that provides an information communication connection to a corresponding type of telephone line. In some embodiments, a communication interface  is a cable modem that converts signals on bus  into signals for a communication connection over a coaxial cable or into optical signals for a communication connection over a fiber optic cable. As another example, communications interface  may be a local area network (LAN) card to provide a data communication connection to a compatible LAN, such as Ethernet. Wireless links may also be implemented. For wireless links, the communications interface  sends or receives or both sends and receives electrical, acoustic or electromagnetic signals, including infrared and optical signals, that carry information streams, such as digital data. For example, in wireless handheld devices, such as mobile telephones like cell phones, the communications interface  includes a radio band electromagnetic transmitter and receiver called a radio transceiver. In certain embodiments, the communications interface  enables connection to the communication network  for recovery during authentication for operator billing to the UE .","The term computer-readable medium is used herein to refer to any medium that participates in providing information to processor , including instructions for execution. Such a medium may take many forms, including, but not limited to, non-volatile media, volatile media and transmission media. Non-volatile media include, for example, optical or magnetic disks, such as storage device . Volatile media include, for example, dynamic memory . Transmission media include, for example, coaxial cables, copper wire, fiber optic cables, and carrier waves that travel through space without wires or cables, such as acoustic waves and electromagnetic waves, including radio, optical and infrared waves. Signals include man-made transient variations in amplitude, frequency, phase, polarization or other physical properties transmitted through the transmission media. Common forms of computer-readable media include, for example, a floppy disk, a flexible disk, hard disk, magnetic tape, any other magnetic medium, a CD-ROM, CDRW, DVD, any other optical medium, punch cards, paper tape, optical mark sheets, any other physical medium with patterns of holes or other optically recognizable indicia, a RAM, a PROM, an EPROM, a FLASH-EPROM, any other memory chip or cartridge, a carrier wave, or any other medium from which a computer can read. The term computer-readable storage medium is used herein to refer to any computer-readable medium except transmission media.","Logic encoded in one or more tangible media includes one or both of processor instructions on a computer-readable storage media and special purpose hardware, such as ASIC .","Network link  typically provides information communication using transmission media through one or more networks to other devices that use or process the information. For example, network link  may provide a connection through local network  to a host computer  or to equipment  operated by an Internet Service Provider (ISP). ISP equipment  in turn provides data communication services through the public, world-wide packet-switching communication network of networks now commonly referred to as the Internet .","A computer called a server host  connected to the Internet hosts a process that provides a service in response to information received over the Internet. For example, server host  hosts a process that provides information representing video data for presentation at display . It is contemplated that the components of system  can be deployed in various configurations within other computer systems, e.g., host  and server .","At least some embodiments of the invention are related to the use of computer system  for implementing some or all of the techniques described herein. According to one embodiment of the invention, those techniques are performed by computer system  in response to processor  executing one or more sequences of one or more processor instructions contained in memory . Such instructions, also called computer instructions, software and program code, may be read into memory  from another computer-readable medium such as storage device  or network link . Execution of the sequences of instructions contained in memory  causes processor  to perform one or more of the method steps described herein. In alternative embodiments, hardware, such as ASIC , may be used in place of or in combination with software to implement the invention. Thus, embodiments of the invention are not limited to any specific combination of hardware and software, unless otherwise explicitly stated herein.","The signals transmitted over network link  and other networks through communications interface , carry information to and from computer system . Computer system  can send and receive information, including program code, through the networks ,  among others, through network link  and communications interface . In an example using the Internet , a server host  transmits program code for a particular application, requested by a message sent from computer , through Internet , ISP equipment , local network  and communications interface . The received code may be executed by processor  as it is received, or may be stored in memory  or in storage device  or other non-volatile storage for later execution, or both. In this manner, computer system  may obtain application program code in the form of signals on a carrier wave.","Various forms of computer readable media may be involved in carrying one or more sequence of instructions or data or both to processor  for execution. For example, instructions and data may initially be carried on a magnetic disk of a remote computer such as host . The remote computer loads the instructions and data into its dynamic memory and sends the instructions and data over a telephone line using a modem. A modem local to the computer system  receives the instructions and data on a telephone line and uses an infra-red transmitter to convert the instructions and data to a signal on an infra-red carrier wave serving as the network link . An infrared detector serving as communications interface  receives the instructions and data carried in the infrared signal and places information representing the instructions and data onto bus . Bus  carries the information to memory  from which processor  retrieves and executes the instructions using some of the data sent with the instructions. The instructions and data received in memory  may optionally be stored on storage device , either before or after execution by the processor .",{"@attributes":{"id":"p-0132","num":"0131"},"figref":["FIG. 10","FIG. 9"],"b":["1000","1000","1000"]},"In one embodiment, the chip set  includes a communication mechanism such as a bus  for passing information among the components of the chip set . A processor  has connectivity to the bus  to execute instructions and process information stored in, for example, a memory . The processor  may include one or more processing cores with each core configured to perform independently. A multi-core processor enables multiprocessing within a single physical package. Examples of a multi-core processor include two, four, eight, or greater numbers of processing cores. Alternatively or in addition, the processor  may include one or more microprocessors configured in tandem via the bus  to enable independent execution of instructions, pipelining, and multithreading. The processor  may also be accompanied with one or more specialized components to perform certain processing functions and tasks such as one or more digital signal processors (DSP) , or one or more application-specific integrated circuits (ASIC) . A DSP  typically is configured to process real-world signals (e.g., sound) in real time independently of the processor . Similarly, an ASIC  can be configured to performed specialized functions not easily performed by a general purposed processor. Other specialized components to aid in performing the inventive functions described herein include one or more field programmable gate arrays (FPGA) (not shown), one or more controllers (not shown), or one or more other special-purpose computer chips.","The processor  and accompanying components have connectivity to the memory  via the bus . The memory  includes both dynamic memory (e.g., RAM, magnetic disk, writable optical disk, etc.) and static memory (e.g., ROM, CD-ROM, etc.) for storing executable instructions that when executed perform the inventive steps described herein to provide recovery during authentication for operator billing. The memory  also stores the data associated with or generated by the execution of the inventive steps.",{"@attributes":{"id":"p-0135","num":"0134"},"figref":["FIG. 11","FIG. 1"],"b":"1100"},"Pertinent internal components of the telephone include a Main Control Unit (MCU) , a Digital Signal Processor (DSP) , and a receiver\/transmitter unit including a microphone gain control unit and a speaker gain control unit. A main display unit  provides a display to the user in support of various applications and mobile terminal functions that perform or support the steps of recovery during authentication for operator billing. The display  includes display circuitry configured to display at least a portion of a user interface of the mobile terminal (e.g., mobile telephone). Additionally, the display  and display circuitry are configured to facilitate user control of at least some functions of the mobile terminal. An audio function circuitry  includes a microphone  and microphone amplifier that amplifies the speech signal output from the microphone . The amplified speech signal output from the microphone  is fed to a coder\/decoder (CODEC) .","A radio section  amplifies power and converts frequency in order to communicate with a base station, which is included in a mobile communication system, via antenna . The power amplifier (PA)  and the transmitter\/modulation circuitry are operationally responsive to the MCU , with an output from the PA  coupled to the duplexer  or circulator or antenna switch, as known in the art. The PA  also couples to a battery interface and power control unit .","In use, a user of mobile terminal  speaks into the microphone  and his or her voice along with any detected background noise is converted into an analog voltage. The analog voltage is then converted into a digital signal through the Analog to Digital Converter (ADC) . The control unit  routes the digital signal into the DSP  for processing therein, such as speech encoding, channel encoding, encrypting, and interleaving. In one embodiment, the processed voice signals are encoded, by units not separately shown, using a cellular transmission protocol such as global evolution (EDGE), general packet radio service (GPRS), global system for mobile communications (GSM), Internet protocol multimedia subsystem (IMS), universal mobile telecommunications system (UMTS), etc., as well as any other suitable wireless medium, e.g., microwave access (WiMAX), Long Term Evolution (LTE) networks, code division multiple access (CDMA), wideband code division multiple access (WCDMA), wireless fidelity (WiFi), satellite, and the like.","The encoded signals are then routed to an equalizer  for compensation of any frequency-dependent impairments that occur during transmission though the air such as phase and amplitude distortion. After equalizing the bit stream, the modulator  combines the signal with a RF signal generated in the RF interface . The modulator  generates a sine wave by way of frequency or phase modulation. In order to prepare the signal for transmission, an up-converter  combines the sine wave output from the modulator  with another sine wave generated by a synthesizer  to achieve the desired frequency of transmission. The signal is then sent through a PA  to increase the signal to an appropriate power level. In practical systems, the PA  acts as a variable gain amplifier whose gain is controlled by the DSP  from information received from a network base station. The signal is then filtered within the duplexer  and optionally sent to an antenna coupler  to match impedances to provide maximum power transfer. Finally, the signal is transmitted via antenna  to a local base station. An automatic gain control (AGC) can be supplied to control the gain of the final stages of the receiver. The signals may be forwarded from there to a remote telephone which may be another cellular telephone, other mobile phone or a land-line connected to a Public Switched Telephone Network (PSTN), or other telephony networks.","Voice signals transmitted to the mobile terminal  are received via antenna  and immediately amplified by a low noise amplifier (LNA) . A down-converter  lowers the carrier frequency while the demodulator  strips away the RF leaving only a digital bit stream. The signal then goes through the equalizer  and is processed by the DSP . A Digital to Analog Converter (DAC)  converts the signal and the resulting output is transmitted to the user through the speaker , all under control of a Main Control Unit (MCU) \u2014which can be implemented as a Central Processing Unit (CPU) (not shown).","The MCU  receives various signals including input signals from the keyboard . The keyboard  and\/or the MCU  in combination with other user input components (e.g., the microphone ) comprise a user interface circuitry for managing user input. The MCU  runs a user interface software to facilitate user control of at least some functions of the mobile terminal  to provide recovery during authentication for operator billing. The MCU  also delivers a display command and a switch command to the display  and to the speech output switching controller, respectively. Further, the MCU  exchanges information with the DSP  and can access an optionally incorporated SIM card  and a memory . In addition, the MCU  executes various control functions required of the terminal. The DSP  may, depending upon the implementation, perform any of a variety of conventional digital processing functions on the voice signals. Additionally, DSP  determines the background noise level of the local environment from the signals detected by microphone  and sets the gain of microphone  to a level selected to compensate for the natural tendency of the user of the mobile terminal .","The CODEC  includes the ADC  and DAC . The memory  stores various data including call incoming tone data and is capable of storing other data including music data received via, e.g., the global Internet. The software module could reside in RAM memory, flash memory, registers, or any other form of writable storage medium known in the art. The memory device  may be, but not limited to, a single memory, CD, DVD, ROM, RAM, EEPROM, optical storage, or any other non-volatile storage medium capable of storing digital data.","An optionally incorporated SIM card  carries, for instance, important information, such as the cellular phone number, the carrier supplying service, subscription details, and security information. The SIM card  serves primarily to identify the mobile terminal  on a radio network. The card  also contains a memory for storing a personal telephone number registry, text messages, and user specific mobile terminal settings.","While the invention has been described in connection with a number of embodiments and implementations, the invention is not so limited but covers various obvious modifications and equivalent arrangements, which fall within the purview of the appended claims. Although features of the invention are expressed in certain combinations among the claims, it is contemplated that these features can be arranged in any combination and order."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The embodiments of the invention are illustrated by way of example, and not by way of limitation, in the figures of the accompanying drawings:",{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 3A","FIG. 3E"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":["FIG. 6A","FIG. 6B"]},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 7A","FIG. 7B"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 8A","FIG. 8C","FIG. 4"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 11"}]},"DETDESC":[{},{}]}
