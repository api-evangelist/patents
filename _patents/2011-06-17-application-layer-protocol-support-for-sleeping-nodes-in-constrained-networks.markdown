---
title: Application layer protocol support for sleeping nodes in constrained networks
abstract: Methods and systems providing application layer support for one or more sleeping nodes in constrained networks are contemplated. Embodiments contemplate inserting sleep information in a header option or payload of an application layer message. The application layer message may be conveyed in a hypertext transfer protocol (HTTP) or a constrained application protocol (CoAP). Embodiments contemplate communicating the application layer message to a server, which may serve as a caching and/or buffering proxy.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08626893&OS=08626893&RS=08626893
owner: InterDigital Patent Holdings, Inc.
number: 08626893
owner_city: Wilmington
owner_country: US
publication_date: 20110617
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Patent Provisional Application No. 61\/355,679, titled \u201cApplication Layer Protocol Support for Sleeping Nodes in Constrained Networks\u201d, filed on Jun. 17, 2010; U.S. Patent Provisional Application No. 61\/376,468, titled \u201cMethods and Systems Providing Application Layer Support for Sleeping Nodes in Constrained Networks\u201d, filed on Aug. 24, 2010; U.S. Patent Provisional Application No. 61\/416,915, titled \u201cMethods and Systems Providing Application Layer Support for Sleeping Nodes in Constrained Networks\u201d, filed on Nov. 24, 2010, the content of all three applications being hereby incorporated by reference herein, for all purposes.","A constrained network and the nodes within them have may have limited packet sizes, may exhibit a high degree of packet loss, and may have a substantial number of devices that may be in a sleep mode (e.g., powered off) at any point in time but periodically \u201cwake up\u201d for brief periods of time. Nodes of constrained networks may be characterized by limits on throughput, available power, and\/or RAM, and may be connected over a low power wireless connection (e.g., LoWPAN (Low-Power Wireless Personal Area Networks), such as IEEE 802.15.4).","In many applications that use IEEE 802.15.4, nodes are battery powered, and battery replacement or recharging in relatively short intervals may often be impractical. Therefore, power consumption may be of concern. Battery-powered nodes may often require duty-cycling to reduce power consumption. These devices may spend most of their operational life in a sleep mode; however, each node may periodically listen to an RF channel in order to determine whether a message is pending. This mechanism allows the application designer to decide on the balance between battery consumption and message latency. IEEE 802.15.4 and 802.15.5 define power saving techniques at the Media Access Control (MAC) and Physical (PHY) layers in constrained networks.","IEEE 802.15.4 defines two ways of synchronization between nodes, both with and without beacons. The standard sets forth that all devices operating on a beacon-enabled Personal Area Network (PAN) shall be able to acquire beacon synchronization in order to detect any pending messages or to track the beacon. Further, all devices operating on a non-beacon-enabled PAN shall be able to poll the coordinator for data at the discretion of the next higher layer.","IEEE 802.15.5 defines a Synchronous Energy Saving (SES) power saving mechanism that utilizes a synchronous time schedule for data transmission. For SES, all mesh devices should be synchronized network-wide and have the same time structure including an active and an inactive duration. A wakeup notification command frame allows a mesh device to notify its own schedule information to neighbors in the optional energy saving mode. When a setting (e.g., meshASESOn) is set to TRUE, it should be transmitted at the beginning of the active duration for every wakeup interval.","Constrained Application Protocol (CoAP) is an HTTP-like application layer protocol designed for constrained networks. The protocol is REQUEST\/RESPONSE based and uses the Representational State Transfer (REST) architecture. CoAP defines at least 4 HTTP-like methods, for example GET, POST, PUT and DELETE.","This Summary is provided to introduce a selection of concepts in a simplified form that are further described below in the Detailed Description of Illustrative Embodiments. This Summary is not intended to identify key features or essential features of the claimed subject matter, nor is it intended to be used to limit the scope of the claimed subject matter.","Disclosed herein are systems and methods for application layer protocol support for sleeping nodes in constrained networks. According to an aspect, a proxy node in a communication system may include an interface configured to communicate with a sleep node in a constrained network. The proxy node may also include a resource management function configured to receive sleep information from the sleep node. Further, the resource management function may be configured to manage a resource of one of the proxy node and the sleep node based on the sleep information.","Disclosed herein are methods and systems providing application layer support for sleeping nodes in constrained networks. According to an aspect, a method may include inserting sleep information in a header option or payload of an application layer message. The method may also include communicating the application layer message to a server.","According to another aspect, a method may include storing sleep information in a URI of a message. The method may also include communicating the application layer message to a server.","Disclosed herein are methods and systems providing application layer support for sleeping nodes in constrained networks. According to an aspect, a method may include inserting sleep information in a header option or payload of an application layer message. Further, the method may include communicating the application layer message to a server, proxy or client.","According to another aspect, a method is disclosed that may include storing sleep attribute information using a dedicated sleep attributes CoAP resource with corresponding URI. The method may also include communicating the application layer message to a server.","According to another aspect, a method may include supporting sleep attributes to being added in a request URI field within a CoAP header options. This aspect may be used rather than defining new dedicated attribute header options.","According to another aspect, a method is disclosed that may include receiving a message targeting a sleeping node. Further, the method may include determining that the node is sleeping. The method may also include buffering the message in response to determining that the node is sleeping. In response to determining that the node is available, the message may be forwarded to the node.","According to another aspect, a method is disclosed that may include caching a subscription to a resource residing on a sleep node. The method may also include storing a state of the sleep node. Further, the method may include sending a notification of the state of the sleep node to a subscriber.","Embodiments contemplate a first node, where the first node may be associated with a first communication network and the first node may be in communication with a second communication network. The first node being may be configured, at least in part, to communicate with a second node, where the second node may be associated with the second communication network. Embodiments contemplate that the first node may also receive sleep information from the second node, and may manage at least one resource of the second node based, at least in part, on the sleep information. Embodiments contemplate that the first node may be a non-constrained node, and that the first node may functions as a proxy node. Also embodiments contemplate that the second node may be a constrained node. Further, embodiments contemplate that the first node may be further configured to receive an application layer message from the second node, where the sleep information may be included in one or more fields of the application layer message.","Embodiments contemplate methods that may be performed by a first node, where the first node may be associated with a first communication network and the first node may be in communication with a second communication network. The method may comprise communicating with a second node, where the second node may be associated with the second communication network. Embodiments contemplate that the method may include receiving sleep information from the second node and managing at least one resource of the second node based, at least in part, on the sleep information. Embodiments contemplate that the first node may receive an application layer message from the second node. Embodiments contemplate that the sleep information may be included in one or more fields of the application layer message, and the one or more fields of the application layer message may be a part of at least one of a header or a payload. In addition, the first node may subscribe to the second node to receive the sleep information, and also the method may further include responding to the second node upon receipt of the sleep information.","Embodiments contemplate methods that may be performed by a first node, where the first node may be associated with a first communication network and the first node may be in communication with a second communication network. The method may include communicating with a second node, where the second node may be associated with the second communication network. The method may also include receiving at least one of a hypertext transfer protocol (HTTP) or a constrained application protocol (CoAP) message from the second node, where the HTTP or the CoAP may include at least one header. The method may also include determining one or more sleep attributes of the second node from the at least one HTTP or CoAP message header, and responding to the message from the second node. Embodiments contemplate that the sleep attributes may be represented by a uniform resource identifier (URI) in the at least one HTTP or CoAP message header. Embodiments also contemplate synchronizing with the second node upon the second node transitioning form a sleep mode to a non-sleep mode. Further, embodiments contemplate placing the second node into a sleep mode.","A detailed description of illustrative embodiments will now be described with reference to the various Figures. Although this description provides a detailed example of possible implementations, it should be noted that the details are intended to be exemplary and in no way limit the scope of the application.",{"@attributes":{"id":"p-0052","num":"0051"},"figref":"FIG. 1A","b":["100","100","100","100"]},"As shown in , the communications system  may include wireless transmit\/receive units (WTRUs) , , , and\/or (which generally or collectively may be referred to as WTRU ), a radio access network (RAN) \/\/, a core network \/\/, a public switched telephone network (PSTN) , the Internet , and other networks , though it will be appreciated that the disclosed embodiments contemplate any number of WTRUs, base stations, networks, and\/or network elements. Each of the WTRUs , , , may be any type of device configured to operate and\/or communicate in a wireless environment. By way of example, the WTRUs , , , may be configured to transmit and\/or receive wireless signals and may include user equipment (UE), a mobile station, a fixed or mobile subscriber unit, a pager, a cellular telephone, a personal digital assistant (PDA), a smartphone, a laptop, a netbook, a personal computer, a wireless sensor, consumer electronics, and the like.","The communications systems  may also include a base station and a base station . Each of the base stations , may be any type of device configured to wirelessly interface with at least one of the WTRUs , , , to facilitate access to one or more communication networks, such as the core network \/\/, the Internet , and\/or the networks . By way of example, the base stations , may be a base transceiver station (BTS), a Node-B, an eNode B, a Home Node B, a Home eNode B, a site controller, an access point (AP), a wireless router, and the like. While the base stations , are each depicted as a single element, it will be appreciated that the base stations , may include any number of interconnected base stations and\/or network elements.","The base station may be part of the RAN \/\/, which may also include other base stations and\/or network elements (not shown), such as a base station controller (BSC), a radio network controller (RNC), relay nodes, etc. The base station and\/or the base station may be configured to transmit and\/or receive wireless signals within a particular geographic region, which may be referred to as a cell (not shown). The cell may further be divided into cell sectors. For example, the cell associated with the base station may be divided into three sectors. Thus, in one embodiment, the base station may include three transceivers, i.e., one for each sector of the cell. In another embodiment, the base station may employ multiple-input multiple output (MIMO) technology and, therefore, may utilize multiple transceivers for each sector of the cell.","The base stations , may communicate with one or more of the WTRUs , , , over an air interface \/\/, which may be any suitable wireless communication link (e.g., radio frequency (RF), microwave, infrared (IR), ultraviolet (UV), visible light, etc.). The air interface \/\/ may be established using any suitable radio access technology (RAT).","More specifically, as noted above, the communications system  may be a multiple access system and may employ one or more channel access schemes, such as CDMA, TDMA, FDMA, OFDMA, SC-FDMA, and the like. For example, the base station in the RAN \/\/ and the WTRUs , , may implement a radio technology such as Universal Mobile Telecommunications System (UMTS) Terrestrial Radio Access (UTRA), which may establish the air interface \/\/ using wideband CDMA (WCDMA). WCDMA may include communication protocols such as High-Speed Packet Access (HSPA) and\/or Evolved HSPA (HSPA+). HSPA may include High-Speed Downlink Packet Access (HSDPA) and\/or High-Speed Uplink Packet Access (HSUPA).","In another embodiment, the base station and the WTRUs , , may implement a radio technology such as Evolved UMTS Terrestrial Radio Access (E-UTRA), which may establish the air interface \/\/ using Long Term Evolution (LTE) and\/or LTE-Advanced (LTE-A).","In other embodiments, the base station and the WTRUs , , may implement radio technologies such as IEEE 802.16 (i.e., Worldwide Interoperability for Microwave Access (WiMAX)), CDMA2000, CDMA2000 1X, CDMA2000 EV-DO, Interim Standard 2000 (IS-2000), Interim Standard 95 (IS-95), Interim Standard 856 (IS-856), Global System for Mobile communications (GSM), Enhanced Data rates for GSM Evolution (EDGE), GSM EDGE (GERAN), and the like.","The base station in  may be a wireless router, Home Node B, Home eNode B, or access point, for example, and may utilize any suitable RAT for facilitating wireless connectivity in a localized area, such as a place of business, a home, a vehicle, a campus, and the like. In one embodiment, the base station and the WTRUs , may implement a radio technology such as IEEE 802.11 to establish a wireless local area network (WLAN). In another embodiment, the base station and the WTRUs , may implement a radio technology such as IEEE 802.15 to establish a wireless personal area network (WPAN). In yet another embodiment, the base station and the WTRUs , may utilize a cellular-based RAT (e.g., WCDMA, CDMA2000, GSM, LTE, LTE-A, etc.) to establish a picocell or femtocell. As shown in , the base station may have a direct connection to the Internet . Thus, the base station may not be required to access the Internet  via the core network \/\/.","The RAN \/\/ may be in communication with the core network \/\/, which may be any type of network configured to provide voice, data, applications, and\/or voice over internet protocol (VoIP) services to one or more of the WTRUs , , , . For example, the core network \/\/ may provide call control, billing services, mobile location-based services, pre-paid calling, Internet connectivity, video distribution, etc., and\/or perform high-level security functions, such as user authentication. Although not shown in , it will be appreciated that the RAN \/\/ and\/or the core network \/\/ may be in direct or indirect communication with other RANs that employ the same RAT as the RAN \/\/ or a different RAT. For example, in addition to being connected to the RAN \/\/, which may be utilizing an E-UTRA radio technology, the core network \/\/ may also be in communication with another RAN (not shown) employing a GSM radio technology.","The core network \/\/ may also serve as a gateway for the WTRUs , , , to access the PSTN , the Internet , and\/or other networks . The PSTN  may include circuit-switched telephone networks that provide plain old telephone service (POTS). The Internet  may include a global system of interconnected computer networks and devices that use common communication protocols, such as the transmission control protocol (TCP), user datagram protocol (UDP) and the internet protocol (IP) in the TCP\/IP internet protocol suite. The networks  may include wired or wireless communications networks owned and\/or operated by other service providers. For example, the networks  may include another core network connected to one or more RANs, which may employ the same RAT as the RAN \/\/ or a different RAT.","Some or all of the WTRUs , , , in the communications system  may include multi-mode capabilities, i.e., the WTRUs , , , may include multiple transceivers for communicating with different wireless networks over different wireless links. For example, the WTRU shown in  may be configured to communicate with the base station , which may employ a cellular-based radio technology, and with the base station , which may employ an IEEE 802 radio technology.",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 1B","FIG. 1B","FIG. 1B"],"b":["102","102","118","120","122","124","126","128","130","132","134","136","138","102","114","114","114","114"],"i":["a ","b","a ","b "]},"The processor  may be a general purpose processor, a special purpose processor, a conventional processor, a digital signal processor (DSP), a plurality of microprocessors, one or more microprocessors in association with a DSP core, a controller, a microcontroller, Application Specific Integrated Circuits (ASICs), Field Programmable Gate Array (FPGAs) circuits, any other type of integrated circuit (IC), a state machine, and the like. The processor  may perform signal coding, data processing, power control, input\/output processing, and\/or any other functionality that enables the WTRU  to operate in a wireless environment. The processor  may be coupled to the transceiver , which may be coupled to the transmit\/receive element . While  depicts the processor  and the transceiver  as separate components, it will be appreciated that the processor  and the transceiver  may be integrated together in an electronic package or chip.","The transmit\/receive element  may be configured to transmit signals to, or receive signals from, a base station (e.g., the base station ) over the air interface \/\/. For example, in one embodiment, the transmit\/receive element  may be an antenna configured to transmit and\/or receive RF signals. In another embodiment, the transmit\/receive element  may be an emitter\/detector configured to transmit and\/or receive IR, UV, or visible light signals, for example. In yet another embodiment, the transmit\/receive element  may be configured to transmit and receive both RF and light signals. It will be appreciated that the transmit\/receive element  may be configured to transmit and\/or receive any combination of wireless signals.","In addition, although the transmit\/receive element  is depicted in  as a single element, the WTRU  may include any number of transmit\/receive elements . More specifically, the WTRU  may employ MIMO technology. Thus, in one embodiment, the WTRU  may include two or more transmit\/receive elements  (e.g., multiple antennas) for transmitting and receiving wireless signals over the air interface \/\/.","The transceiver  may be configured to modulate the signals that are to be transmitted by the transmit\/receive element  and to demodulate the signals that are received by the transmit\/receive element . As noted above, the WTRU  may have multi-mode capabilities. Thus, the transceiver  may include multiple transceivers for enabling the WTRU  to communicate via multiple RATs, such as UTRA and IEEE 802.11, for example.","The processor  of the WTRU  may be coupled to, and may receive user input data from, the speaker\/microphone , the keypad , and\/or the display\/touchpad  (e.g., a liquid crystal display (LCD) display unit or organic light-emitting diode (OLED) display unit). The processor  may also output user data to the speaker\/microphone , the keypad , and\/or the display\/touchpad . In addition, the processor  may access information from, and store data in, any type of suitable memory, such as the non-removable memory  and\/or the removable memory . The non-removable memory  may include random-access memory (RAM), read-only memory (ROM), a hard disk, or any other type of memory storage device. The removable memory  may include a subscriber identity module (SIM) card, a memory stick, a secure digital (SD) memory card, and the like. In other embodiments, the processor  may access information from, and store data in, memory that is not physically located on the WTRU , such as on a server or a home computer (not shown).","The processor  may receive power from the power source , and may be configured to distribute and\/or control the power to the other components in the WTRU . The power source  may be any suitable device for powering the WTRU . For example, the power source  may include one or more dry cell batteries (e.g., nickel-cadmium (NiCd), nickel-zinc (NiZn), nickel metal hydride (NiMH), lithium-ion (Li-ion), etc.), solar cells, fuel cells, and the like.","The processor  may also be coupled to the GPS chipset , which may be configured to provide location information (e.g., longitude and latitude) regarding the current location of the WTRU . In addition to, or in lieu of, the information from the GPS chipset , the WTRU  may receive location information over the air interface \/\/ from a base station (e.g., base stations , ) and\/or determine its location based on the timing of the signals being received from two or more nearby base stations. It will be appreciated that the WTRU  may acquire location information by way of any suitable location-determination method while remaining consistent with an embodiment.","The processor  may further be coupled to other peripherals , which may include one or more software and\/or hardware modules that provide additional features, functionality and\/or wired or wireless connectivity. For example, the peripherals  may include an accelerometer, an e-compass, a satellite transceiver, a digital camera (for photographs or video), a universal serial bus (USB) port, a vibration device, a television transceiver, a hands free headset, a Bluetooth\u00ae module, a frequency modulated (FM) radio unit, a digital music player, a media player, a video game player module, an Internet browser, and the like.",{"@attributes":{"id":"p-0073","num":"0072"},"figref":["FIG. 1C","FIG. 1C"],"b":["103","106","103","102","102","102","115","103","106","103","140","140","140","102","102","102","115","140","140","140","103","103","142","142","103"],"i":["a","b","c ","a","b","c","a","b","c ","a","b","c ","a","b"]},"As shown in , the Node-Bs , may be in communication with the RNC . Additionally, the Node-B may be in communication with the RNC. The Node-Bs , , may communicate with the respective RNCs , via an Iub interface. The RNCs , may be in communication with one another via an Iur interface. Each of the RNCs , may be configured to control the respective Node-Bs , , to which it is connected. In addition, each of the RNCs , may be configured to carry out or support other functionality, such as outer loop power control, load control, admission control, packet scheduling, handover control, macrodiversity, security functions, data encryption, and the like.","The core network  shown in  may include a media gateway (MGW) , a mobile switching center (MSC) , a serving GPRS support node (SGSN) , and\/or a gateway GPRS support node (GGSN) . While each of the foregoing elements are depicted as part of the core network , it will be appreciated that any one of these elements may be owned and\/or operated by an entity other than the core network operator.","The RNC in the RAN  may be connected to the MSC  in the core network  via an IuCS interface. The MSC  may be connected to the MGW . The MSC  and the MGW  may provide the WTRUs , , with access to circuit-switched networks, such as the PSTN , to facilitate communications between the WTRUs , , and traditional land-line communications devices.","The RNC in the RAN  may also be connected to the SGSN  in the core network  via an IuPS interface. The SGSN  may be connected to the GGSN . The SGSN  and the GGSN  may provide the WTRUs , , with access to packet-switched networks, such as the Internet , to facilitate communications between and the WTRUs , , and IP-enabled devices.","As noted above, the core network  may also be connected to the networks , which may include other wired or wireless networks that are owned and\/or operated by other service providers.",{"@attributes":{"id":"p-0079","num":"0078"},"figref":"FIG. 1D","b":["104","107","104","102","102","102","116","104","107"],"i":["a","b","c "]},"The RAN  may include eNode-Bs , , , though it will be appreciated that the RAN  may include any number of eNode-Bs while remaining consistent with an embodiment. The eNode-Bs , , may each include one or more transceivers for communicating with the WTRUs , , over the air interface . In one embodiment, the eNode-Bs , , may implement MIMO technology. Thus, the eNode-B , for example, may use multiple antennas to transmit wireless signals to, and receive wireless signals from, the WTRU ","Each of the eNode-Bs , , may be associated with a particular cell (not shown) and may be configured to handle radio resource management decisions, handover decisions, scheduling of users in the uplink and\/or downlink, and the like. As shown in , the eNode-Bs , , may communicate with one another over an X2 interface.","The core network  shown in  may include a mobility management gateway (MME) , a serving gateway , and a packet data network (PDN) gateway . While each of the foregoing elements are depicted as part of the core network , it will be appreciated that any one of these elements may be owned and\/or operated by an entity other than the core network operator.","The MME  may be connected to each of the eNode-Bs , , in the RAN  via an Si interface and may serve as a control node. For example, the MME  may be responsible for authenticating users of the WTRUs , , , bearer activation\/deactivation, selecting a particular serving gateway during an initial attach of the WTRUs , , , and the like. The MME  may also provide a control plane function for switching between the RAN  and other RANs (not shown) that employ other radio technologies, such as GSM or WCDMA.","The serving gateway  may be connected to each of the eNode-Bs , , in the RAN  via the Si interface. The serving gateway  may generally route and forward user data packets to\/from the WTRUs , , . The serving gateway  may also perform other functions, such as anchoring user planes during inter-eNode B handovers, triggering paging when downlink data is available for the WTRUs , , , managing and storing contexts of the WTRUs , , , and the like.","The serving gateway  may also be connected to the PDN gateway , which may provide the WTRUs , , with access to packet-switched networks, such as the Internet , to facilitate communications between the WTRUs , , and IP-enabled devices.","The core network  may facilitate communications with other networks. For example, the core network  may provide the WTRUs , , with access to circuit-switched networks, such as the PSTN , to facilitate communications between the WTRUs , , and traditional land-line communications devices. For example, the core network  may include, or may communicate with, an IP gateway (e.g., an IP multimedia subsystem (IMS) server) that serves as an interface between the core network  and the PSTN . In addition, the core network  may provide the WTRUs , , with access to the networks , which may include other wired or wireless networks that are owned and\/or operated by other service providers.",{"@attributes":{"id":"p-0087","num":"0086"},"figref":"FIG. 1E","b":["105","109","105","102","102","102","117","102","102","102","105","109"],"i":["a","b","c ","a","b","c"]},"As shown in , the RAN  may include base stations , , , and an ASN gateway , though it will be appreciated that the RAN  may include any number of base stations and ASN gateways while remaining consistent with an embodiment. The base stations , , may each be associated with a particular cell (not shown) in the RAN  and may each include one or more transceivers for communicating with the WTRUs , , over the air interface . In one embodiment, the base stations , , may implement MIMO technology. Thus, the base station , for example, may use multiple antennas to transmit wireless signals to, and receive wireless signals from, the WTRU . The base stations , , may also provide mobility management functions, such as handoff triggering, tunnel establishment, radio resource management, traffic classification, quality of service (QoS) policy enforcement, and the like. The ASN gateway  may serve as a traffic aggregation point and may be responsible for paging, caching of subscriber profiles, routing to the core network , and the like.","The air interface  between the WTRUs , , and the RAN  may be defined as an R reference point that implements the IEEE 802.16 specification. In addition, each of the WTRUs , , may establish a logical interface (not shown) with the core network . The logical interface between the WTRUs , , and the core network  may be defined as an R reference point, which may be used for authentication, authorization, IP host configuration management, and\/or mobility management.","The communication link between each of the base stations , , may be defined as an R reference point that includes protocols for facilitating WTRU handovers and the transfer of data between base stations. The communication link between the base stations , , and the ASN gateway  may be defined as an R reference point. The R reference point may include protocols for facilitating mobility management based on mobility events associated with each of the WTRUs , , ","As shown in , the RAN  may be connected to the core network . The communication link between the RAN  and the core network  may defined as an R reference point that includes protocols for facilitating data transfer and mobility management capabilities, for example. The core network  may include a mobile IP home agent (MIP-HA) , an authentication, authorization, accounting (AAA) server , and a gateway . While each of the foregoing elements are depicted as part of the core network , it will be appreciated that any one of these elements may be owned and\/or operated by an entity other than the core network operator.","The MIP-HA may be responsible for IP address management, and may enable the WTRUs , , to roam between different ASNs and\/or different core networks. The MIP-HA  may provide the WTRUs , , with access to packet-switched networks, such as the Internet , to facilitate communications between the WTRUs , , and IP-enabled devices. The AAA server  may be responsible for user authentication and for supporting user services. The gateway  may facilitate interworking with other networks. For example, the gateway  may provide the WTRUs , , with access to circuit-switched networks, such as the PSTN , to facilitate communications between the WTRUs , , and traditional land-line communications devices. In addition, the gateway  may provide the WTRUs , , with access to the networks , which may include other wired or wireless networks that are owned and\/or operated by other service providers.","Although not shown in , it will be appreciated that the RAN  may be connected to other ASNs and the core network  may be connected to other core networks. The communication link between the RAN  the other ASNs may be defined as an R reference point, which may include protocols for coordinating the mobility of the WTRUs , , between the RAN  and the other ASNs. The communication link between the core network  and the other core networks may be defined as an R reference, which may include protocols for facilitating interworking between home core networks and visited core networks.","As referred to herein, the term \u201csleep mode\u201d refers to a state in which a device or node is not capable of sending or receiving messages. This mode may be entered for the purpose of power conservation at the device or node, for example.","As referred to herein, the term \u201csleep node\u201d refers to a node or device that is capable of entering a sleep mode. The sleep mode may be entered at any time. One or more sleep nodes may be in, for example, a constrained network. A sleeping node may refer to a node currently in the sleep mode.","In constrained networks, nodes are often battery powered with limited capacity. In the interest of power conservation, such nodes spend most of the time in sleep mode. The presently disclosed systems and methods are capable of managing sleeping. In constrained networks, nodes are often battery powered with limited capacity. In the interest of power conservation, such nodes spend most of the time in sleep mode. The presently disclosed systems and methods are capable of managing sleeping nodes in constrained networks. Also, the presently disclosed systems and methods are capable of providing application layer support for sleeping nodes in constrained networks.","Although MAC and PHY layers typically have mechanisms for power saving (e.g., turn off transmitter and receiver for a short period of time and listen to the RF channel periodically), it the present subject matter provides improved techniques for application layer protocols to efficiently manage sleep nodes as well. When the application layer is aware and able to handle sleep nodes, it can help provide additional power saving mechanisms complementary to those supported by the lower layers. Unfortunately, current application layer protocols such as HTTP as well as the proposed constrained application layer protocol CoAP do not support sleep-aware mechanisms such as the sharing of sleep schedule information nor the synchronization of devices at the application layer. On the other hand, if the application layer is not able to handle sleep situations, sleeping can cause long delays in message delivery, unnecessary retransmissions, or even cause disconnection at the application layer. This can severely impact applications and user experience.","Embodiments contemplate that HTTP may also run on constrained devices. For example, constrained devices that are connected to the Internet (e.g. Zigbee devices) may run HTTP as an application. The CoAP protocol is contemplated as perhaps more efficient than HTTP and hence may improve performance for constrained devices. One or more embodiments contemplate that constrained devices may run on HTTP alone.","Embodiments contemplate scenarios in which where the normal device may run HTTP (e.g. web browser on a laptop). Such normal devices may want to communicate with a constrained device (e.g. light switch in the home) that may run CoAP. For example, the owner of a home goes to his web browser (on his laptop) to set his home light switch to turn on at 7 pm since he will be arriving home late and wants the lights to be on upon his arrival. The web browser may then send HTTP messages to a proxy in the home. The proxy may then process the HTTP message as described herein (e.g., if the light switch is sleeping at that moment) and may then convert the message to CoAP at a proper time. The CoAP protocol describes how to do the HTTP to CoAP conversion. Embodiments described herein contemplate how to do the signaling, buffering, and processing, among other actions, at the application layer. Embodiments described herein also contemplate how to do the signaling, buffering, and processing, among other actions, at the application layer if the constrained node is asleep.","Embodiments contemplate that constrained networks may be connected to the Internet, where for example the Internet connection may be the Layer 3 connection, while the IEEE 802.15.4 connection may be the Layer 2 connection. Embodiments also contemplate scenarios in which a normal (e.g., non-constrained) node, perhaps anywhere on the Internet, communicates with a constrained node (e.g., where a constrained node may be asleep when the non-constrained node sends a message to it). The CoAP or HTTP application layer signaling, by way of example and not limitation perhaps somewhere in Layers 4-7, would be running on top of Layers 3 (Internet) and Layers 2 (e.g., IEEE 802.15.4 for the constrained device, and perhaps Ethernet for the normal device).","In accordance with embodiments of the presently disclosed subject matter, sleep-aware support is provided to an application layer protocol that is not supported by existing application layer protocols such as, for example, HTTP or CoAP. Doing so, enables an application layer protocol to more effectively optimize the exchange of application layer messages and as a result maximize the overall efficiency of sleep nodes and proxies. For example, by making sleep schedule information available to a proxy's application layer, the proxy can then implement enhancements to its application layer protocol and messaging that allow it to maintain tighter synchronization with a sleep node. Therefore, the sleep node does not need to check-in with the proxy each time it wakes up, thus optimizing the node's battery lifetime and reducing signaling messages.",{"@attributes":{"id":"p-0102","num":"0101"},"figref":"FIG. 2","b":["200","202","204","206","202","200","206","200","202","204","204","208","210"]},"The presently disclosed subject matter provides application layer methods for supporting sleep nodes in constrained networks, that may include proxy nodes. The systems and methods disclosed herein may manage how sleep nodes and proxy nodes exchange sleep information, what sleep information can be exchanged, and how the sleep information can be utilized. The methods may include: using URI represented resources to exchange sleep information; using header field (e.g., CoAP header option); and using reserved fields in protocol header. The systems and methods disclosed herein may also manage how sleep and proxy nodes obtain and maintain synchronization by leveraging the exchange of sleep information. The systems and methods disclosed herein may also manage proxy initiated and controlled sleep scheduling. Further, the systems and methods disclosed herein manage proxy operation when both source and destination nodes are sleep nodes. The systems and methods disclosed herein also reduce overhead for sleep nodes. These methods and systems are described in more detail herein below. Although these methods and systems are described in the context of a CoAP in a constrained network, these methods and systems may also be applied to any other suitable protocols as well as in a non-constrained network.","Embodiments contemplate indications of sleep modes. A node can provide its power consumption mode, for example, whether it may go to sleep mode (e.g., sleep mode) or it will always be powered on (e.g., no sleep mode) to the proxy node or other nodes at the application protocol layer. This can ease the operation at the proxy node. For example, when the proxy node receives messages destined for a \u201cnon-sleep node\u201d, the proxy node may decide not to cache for the node and can instead forward messages, perhaps immediately. Otherwise, if the node is a \u201csleep node\u201d, the proxy can decide to always cache messages destined for the sleep node.","In addition to indication of sleep mode, a sleep node and the proxy node can exchange more detailed sleep information so the proxy node can make more informed decisions about caching and message delivery.","Sleep information can be exchanged between the sleep node and proxy using CoAP messages at anytime. The sleep information can be sent by the constrained node, or by the proxy. When the sleep information is available at the sleep node, the sleep node can inform the proxy (or other sleep nodes) of its sleep schedule. In another way, a proxy can instruct or configure a constrained node of its sleep schedule. A sleep node can use methods such as POST\/PUT to inform the proxy about its sleep information. Alternatively, the proxy may subscribe to the sleep info and get notified when it changes.","Several mechanisms to exchange sleep information using CoAP are discussed in details below. The figures use the notion of client and server. A client is the node that initiates the CoAP request and a server is the recipient of the request. A client and server can be constrained nodes or proxies.","Embodiments contemplate the exchange of sleep information at application protocol. Below are examples of sleep information that a sleep node and a proxy may exchange.\n\n","The sleep information may provide proxy(s) or other nodes with awareness of resources that they are able to proxy for, as well as which devices sleep and their corresponding sleep cycle attributes. Using this sleep information, the proxy(s) could choose which device resources it wants to create\/maintain intercept caches for (e.g. support intercept caches only for sleeping devices). The information can also be used by the proxy to optimize the size of a device's intercept cache. For example, nodes with longer sleep cycles could be allocated larger caches vs. nodes with shorter sleep cycles.","The following sections discuss detailed techniques for sleep node and proxy node exchange of sleep information using an HTTP-like application protocol. The CoAP protocol may be used as an example for the purpose of discussions. It should be noted that the individual methods described can be used independently or in a combined manner.","Embodiments contemplate that sleep information can be treated as a resource and represented by a URI. This may allow a proxy or other nodes to retrieve a node's sleep information, or may allow the constrained node to post the sleep information to the proxy.","A sleep node can support a URI which may allow a proxy node to retrieve the sleep node's sleep information or may allow the sleep node to post the sleep information to the proxy node. This approach may provide for the exchange of more sophisticated sleep information, and the format can be more flexible (in comparison to embedding sleep information into the headers of existing message exchanges, for example).  illustrates an exemplary messaging diagram including three options of how to use a URI for sharing sleep information. As an extension, the URI of a sleep node may be stored in a repository, not the sleep node itself.","In option  of , the sleep node can use methods such as POST\/PUT to inform the proxy about its sleep information.","In option  of , the proxy node may subscribe to the sleep information URI and gets notified when it changes. This is based on the assumption that the proxy node knows the URI for the sleep information. The proxy can receive the URI information if the sleep node sends it to the proxy node (such as mentioned in Option  below), or \u201cwell known\u201d resource can be defined to represent sleep information during resource discovery.","In option  of , the sleep node includes the sleep information in a message, such as in the option header as discussed in more detail below. The actual method of the message can be any type thus the sleep info URI can be piggy-backed. The proxy node can use GET to retrieve the sleep info stored under this URI.","Typical information stored in the URI to describe the sleep pattern may include the sleep interval, sleep pattern type (event triggered, periodic), and start of next sleeping interval. The semantics on how the sleeping information is stored could be standardized using a language such as, but not limited to, HTML.","Below are examples of the URI (URL) representation of sleep information. CoAP [I-D.draft-ietf-core-coap] splits the URI into Uri-Scheme, Uri-Authority and Uri-Path Options.\n\n","The sleep information URI can be exchanged during CoAP resource discovery using link format. The sleep information can be carried in link-value, link-extensions, etc.  illustrates a message flow diagram of an exemplary exchange of sleep information using a link format.","Alternatively, in CoAP discovery, the CoAP well-known URI can be used to carry the sleep information. For example, \/.well-known\/r\/sleep (assuming \/.well-known\/r is the CoAP well-known URI). Therefore a proxy can query a node about its sleep schedule using GET request. [GET\/.well-known\/r\/sleep] returns a list of sleep information stored under this location.",{"@attributes":{"id":"p-0120","num":"0134"},"figref":"FIG. 4"},"Ver (Version): A 2-bit unsigned integer that indicates the version of CoAP. This field is set to 0. The values 1-3 are reserved for future versions.","T (2-bit Message Type Flag): Indicates if this message is a CoAP request (0), response (1), or notify (2) header. The value 3 is forbidden to avoid collision with the magic byte \u2018r\u2019.","O (4-bit Number of Options Field): Indicates if there are option headers following the base header. If set to 0, the payload (if any) immediately follows the base header. If greater than 0, the field indicates the number of options to immediately follow the header.","A (1-bit Acknowledgement Flag): When set to 1, indicates that the destination must respond with a response message matching this request. When set to 0, the destination must not send a response to this request.","Meth (4-bit Unsigned Integer): This field indicates the CoAP method of the request, including GET, POST, PUT, DELETER, and SUBSCRIBE.","Code (6-bit unsigned integer): This field indicates the code of a response or notify message.","Transaction ID (16-bit Unsigned Integer): A unique transaction ID assigned by the source and used to match responses. The transaction ID must be changed for each new request (regardless of the end-point) and must not be changed when retransmitting a request.",{"@attributes":{"id":"p-0128","num":"0142"},"sub":"\u2014\u2014\u2014\u2014\u2014\u2014"},"Embodiments contemplate techniques to support unicast and multicast transport in a constrained network.",{"@attributes":{"id":"p-0130","num":"0144"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0131","num":"0145"},"figref":"FIG. 8"},"Embodiments contemplate utilizing one or more CoAP header option and\/or payload fields. The sleep information could also be shared via embedding it (i.e. \u2018piggy-backing it\u2019) within existing application layer protocol messages. Embodiments contemplate that sleep schedule information could be shared in a less costly manner (e.g. by leveraging the existing resources and application layer messaging infrastructure already in place).","For example, the CoAP application layer protocol header options, or CoAP payload could be used to share updated sleep information as a part of every message exchange or alternatively for only a subset of the message exchanges between a sleep node and the proxy node. In the event that sleep information needs to be exchanged at a faster rate than the normal message exchange rate, additional messages could also be generated for the sole purpose of exchanging sleep information within the message header (e.g. a short optimized message with only a header and no data payload could be exchanged). The encoding of the sleep information should follow the Content-type encoding defined by the CoAP protocol.","For example, CoAP specifies TLV format for the Header Options which may be used to encode some sleep pattern information such as the following:\n\n",{"@attributes":{"id":"p-0135","num":"0152"},"figref":["FIG. 9","FIG. 9"]},{"@attributes":{"id":"p-0136","num":"0153"},"figref":["FIG. 10","FIG. 10"]},"Embodiments contemplate that reserved values can be used to signify particular sleep patterns. The reserved fields can be in the message header, or header options of an application layer protocol. For example, one reserved bit can inform other nodes that the device is now operating under an unpredictable sleep pattern (triggered by an external event). In another example, another field may be present indicating when the next sleep interval will start. In this example, a reserved value or the absence of this field may signify that the device sleep period has started. In another example, a bit can be reserved to indication a node's sleep mode (as discussed herein previously).","Embodiments contemplate that sleep nodes and proxy node can utilize the exchange of application layer sleep schedule information to help maintain synchronization with one another.","A proxy node can subscribe to a sleep node, and the sleep node can send notify message when it wakes up. In the notify message, the sleep node can include updates for resources as well as sleep cycle information. In this way, the proxy node can maintain loose synchronization with the sleep node. If the proxy node already has a sleep node's sleep information (such as a schedule), and the sleep node and proxy node are synchronized, the sleep node may not need to check-in with the proxy every time it wakes up.","If the proxy node maintains a counter that is reset each time it receives a sleep node's check-in message, it can also keep track of how long a sleep node has been sleeping and how soon before it wakes up. Leveraging this information, a proxy node can more efficiently schedule messages to\/from the sleep node (e.g. transmit messages just before a sleep node wakes up to minimize the amount of buffering required by intermediate nodes within a multi-hop constrained network).","Message delivery latency may be considered for synchronization. For example, the time \u201cNow\u201d in a source device would be \u201cNow+message delivery latency\u201d in the destination device, providing both are synchronized in time. The sleep node and the proxy node can exchange their perception of how long \u201cmessage delivery latency\u201d should be so they can maintain more accurate synchronization.","Embodiments contemplate that a sleep node may switch to sleep mode autonomously based on its own triggers. However, a proxy node (or network) can also initiate sleeping for sleep nodes. For example, a proxy can initiate a command for a sleep node to switch into sleep mode and provide the duration of the sleep time. This may enable the proxy node to have better control and coordination of the sleep nodes in a constrained network, and the proxy node can have a sleep node's schedule without having to get it from the sleep node.","In a HTTP-like application protocol, a new method \u201cSLEEP\u201d can be used for a proxy node to command a sleep node to go to sleep. Alternatively, a sleep node can subscribe to \u201cproxy initiated sleep cycle\u201d and the proxy node may send notification to the sleep node for switching to sleep mode.",{"@attributes":{"id":"p-0144","num":"0161"},"figref":"FIG. 5","b":["1","2"]},"In the example, Node  may be assumed to be a constrained node using CoAP and it sends a CoAP REQUEST. The REQUEST may contain any CoAP method, such as GET, POST PUT, DELETE, or SUBSCRIBE. The proxy node may intercept the request, and may check the sleep state of the Node  (if Node  registered with the proxy about its sleep state), and the proxy node may decide either to cache the REQUEST on behalf of the node, or it can forward the REQUEST.","The POST, PUT, DELETE and SUBSCRIBE methods require certain actions of the destination node so the proxy node will deliver the message to the destination when the destination device is awake.","The GET method retrieves information from the destination so it is handled differently from other methods. The proxy node can cache the response and send the response to the source node when it is awake. If the proxy node has updated content, it may not send the GET request to the destination node at all.","When both nodes are sleep nodes, it may cause challenges to the proxy node to cache for both nodes. There can be cases when both sleep nodes are not synchronized. For example, Node  sends GET request to Node , while Node  is sleeping and the proxy node does not have an updated record. Node  wakes up and sends updates to the proxy node, and Node  may have gone back to sleep in the meantime. To mitigate such a situation, the proxy node can command a sleep node not to go back to sleep for a period of time, or the proxy node may help nodes to synchronize their sleep schedule, using proxy initiated sleep as discussed herein above.","Embodiments contemplate reduced messaging overhead. In accordance with embodiments, retransmission times may be reduced for each message when a node may be in sleep mode. For example, if by default a re-transmission counter is set to 3, the number can be decreased or even set to 0 if the message is sent to a sleep node. Therefore, in case the message cannot be delivered due to the destination being sleeping, the source does not need to re-transmit it again. This can also relieve the source node so it can switch to sleep mode quicker.","Using information from the sleep node such as its sleep schedule and its memory buffer size, a proxy node can implement a flow control mechanism to reduce the loading on the constrained device as well as other devices in the network (e.g. intermediate devices located between the proxy and targeted device). As mentioned herein above, a sleep node could provide a proxy node with its sleep schedule information as part of the CoAP message header or as part of the CoAP resource discovery process (i.e. CoAP link header). This same methodology could also be used to share other device attributes such as buffer size. Using this information, the proxy node may then implement an intelligent flow control mechanism tuned to a sleep node's attributes. This methodology could also be scaled to take into account not just a single sleep node's attribute's but also interdependencies between nodes (e.g. having the proxy perform flow control for a multi-hop network path of devices).","Embodiments contemplate \u201cpiggy-backing\u201d in request URI. Sleep information can be added in the request URI in the CoAP header options. In this way, the sleep information can be piggybacked in any CoAP messages.  is a message flow diagram illustrating how the client informs the server that its sleep duration will be 1 hour. The sleep information is piggy-backed in the request URI. Such information can be exchanged at any time, using any CoAP method.","By way of details of a URI, a URI may provide a simple and extensible means for identifying a resource. By way of example, each URI may begin with a scheme name that refers to a specification for assigning identifiers within that scheme. As such, the URI syntax is a federated and extensible naming system wherein each scheme's specification may further restrict the syntax and semantics of identifiers using that scheme.","Embodiments contemplate that scheme names may include a sequence of characters beginning with a letter and followed by any combination of letters, digits, plus (\u201c+\u201d), period (\u201c.\u201d), or hyphen (\u201c-\u201d), for example. Although schemes may be case-insensitive, the canonical form is lowercase and documents that specify schemes may, and in some embodiments perhaps must, do so with lowercase letters. An implementation may accept uppercase letters as equivalent to lowercase in scheme names (e.g., allow \u201cHTTP\u201d as well as \u201chttp\u201d) for the sake of robustness and may produce lowercase scheme names for consistency, or in some embodiments perhaps should only produce lowercase scheme names for consistency. For example, scheme=ALPHA*(ALPHA\/DIGIT\/\u201c+\u201d\/\u201c-\u201d\/\u201c.\u201d).","Individual schemes are contemplated. The scheme registry may maintain the mapping between scheme names and their specifications. URI scheme specifications may, and perhaps must, define their own syntax so that all strings matching their scheme-specific syntax may also match the <absolute-URI> grammar.","When presented with a URI that may violates one or more scheme-specific restrictions, the scheme-specific resolution process may, and perhaps should, flag the reference as an error rather than ignore the unused parts. In so doing, the number of equivalent URIs may be reduced and detection of abuses of the generic syntax may be helped, which might indicate that the URI has been constructed to mislead a user. Embodiments contemplate that a resource can be anything physical (such as a device) or abstract (such as a concept). The widely used URL (Uniform Resource Locator) for the Web is a subset of URI.","As referred to herein, the term \u201cuniform resource identifier\u201d or \u201cURI\u201d can be an identifier for a resource. A resource may be anything physical (such as a device) or abstract (such as a concept). A uniform resource locator (URL) is a subset of URI. CoAP splits the URI into three parts: Uri-Scheme, Uri-Authority and Uri-Path. For CoAP, the Uri-Scheme is \u201ccoap\u201d. The Uri-Authority indicates the host and port of a URI, such as \u201c198.51.100.0:8000\u201d. The Uri-Path indicates the absolute path of a resource, such as \u201cs\/light\u201d.","CoAP [I-D.draft-ietf-core-coap] is an HTTP-like application layer protocol designed for constrained networks. It is a REQUEST\/RESPONSE based protocol using the REST (REpresentational State Transfer) architecture. CoAP defines 4 HTTP-like methods: GET, POST, PUT, DELETE.",{"@attributes":{"id":"p-0158","num":"0175"},"figref":"FIG. 12","ul":{"@attributes":{"id":"ul0010","list-style":"none"},"li":{"@attributes":{"id":"ul0010-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0011","list-style":"none"},"li":["Ver: Version. 2-bit unsigned integer. Indicates the version of CoAP. Implementations of this specification MUST set this field to 1. Other values are reserved for future versions.","T: 2-bit unsigned integer to indicate Transaction Type field. Indicates if this message is Confirmable (0), Non-Confirmable (1), Acknowledgment (2) or Reset (3)."]}}}},"OC: 4-bit unsigned integer for Option Count field. Indicates if there are Option Headers following the base header. If set to 0 the payload (if any) immediately follows the base header. If greater than zero the field indicates the number of options to immediately follow the header.","Code: 8-bit unsigned integer. This field indicates the CoAP Method of the request or the code of a response.","Transaction ID: 16-bit unsigned integer. A unique Transaction ID assigned by the source and used to match responses. The Transaction ID MUST be changed for each new request (regardless of the end-point) and MUST NOT be changed when retransmitting a request.","The term \u201cCON\u201d refers to confirmable. Some messages require an acknowledgment, either just to know they did arrive or also to deliver the reply to a request. These messages are called \u201cConfirmable\u201d.","The term \u201cACK\u201d refers to Acknowledgment. An Acknowledgment message acknowledges that a specific Confirmable message (identified by its Transaction ID) arrived. It may carry a payload and some options to provide more details.","As referred to herein, a client may be node that initiates a CoAP request. A server may be the recipient of the request. A client and server can be constrained nodes or proxies.","The present disclosure provides methods and apparatus for the IETF CoAP protocol to support exchange of sleep information at discovery phase and dynamically during network operations. The CoAP client and server can exchange the sleep information using any CoAP RESTful methods, such as POST, PUT, GET and the Subscribe\/Notification mechanisms.","In accordance with embodiments of the presently disclosed subject matter, may provide sleep-aware support to an application layer protocol that is not supported by existing application layer protocols such as, for example, HTTP or CoAP. Doing so may enable an application layer protocol to more effectively optimize the exchange of application layer messages and as a result maximize the overall efficiency of sleep nodes and proxies. For example, by making sleep schedule information available to a proxy's application layer, the proxy can then implement enhancements to its application layer protocol and messaging that allow it to maintain tighter synchronization with a sleep node. Therefore, the sleep node does not need to check-in with the proxy each time it wakes up, thus optimizing the node's battery lifetime and reducing signaling messages.","Method and system embodiments described herein provide for the IETF CoAP protocol to support exchange of sleep attribute at discovery phase and dynamically during network operations. The CoAP client and server can exchange the sleep attributes using any CoAP RESTful methods, such as POST, PUT, GET and the Subscribe\/Notification mechanisms, for example.","Embodiments of the present disclosure can provide the following features:\n\n","According to embodiments, methods and systems are provided for the IETF CoAP protocol to support proxy buffering of messages targeting sleeping nodes. Proxy buffering may involve queuing of messages on behalf of a resource while it is unavailable to service the messages itself. Once the resource is available the messages can then be forwarded to the resource to be serviced.","Alternatively or additionally, embodiments contemplate methods and systems that may provide for the IETF CoAP protocol to support proxy caching subscriptions for sleep node resources. Caching a subscription to a resource residing on a sleep node may require a proxy to maintain client subscription state on behalf of the sleep node and send notifications on behalf of the sleep node to the client.","Alternatively or additionally, embodiments contemplate methods and systems that may provide for the IETF CoAP protocol to support an enhanced cache refresh mechanism optimized for networks consisting of sleep nodes.","Embodiments contemplate the exchange of sleep attributes. Clients of sleeping devices may use a proxy to access resources while the device is sleeping. According to one or more embodiments, sleep attribute information may be provided within the CoAP protocol for allowing a proxy to access resources while the device is sleeping.","Sleep attribute information may include, but is not limited to:\n\n","One or more embodiments for exchanging sleep attributes using CoAP are contemplated. Examples provided herein use the notion of client and server. In these examples, a client is the node that may initiate the CoAP request and a server may be the recipient of the request, and a client and server can be constrained nodes or proxies.","Embodiments contemplate that sleep attributes may be embedded in the CoAP Options Header. In embodiments, sleep attributes can be exchanged using any of the supported CoAP message types. In such cases, the sleep node can update its proxy or other client nodes either via a dedicated message or by piggy-backing the update within in an existing message.","The CoAP may support two sleep node attribute header options or alternatives: \u201cSleep Duration\u201d and \u201cSleep State\u201d. These alternatives are elective so they can be assigned an even number. Assuming the type for \u201cSleep Duration\u201d may be x, which may be an integer, the header options are illustrated in Table 1 below.",{"@attributes":{"id":"p-0177","num":"0204"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Exemplary CoAP Sleep Attribute Header Options"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"chemistry":{"@attributes":{"id":"CHEM-US-00001","num":"00001"},"img":{"@attributes":{"id":"EMI-C00001","he":"37.17mm","wi":"88.98mm","file":"US08626893-20140107-C00001.TIF","alt":"embedded image","img-content":"table","img-format":"tif"}}}}},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Sleep Duration can have a default value of 0, hence in the absence of this alternative, a node may be assumed to be a non-sleep node. Sleep State can have a default value of 0, hence in the absence of this alternative, a node may be assumed to be \u2018Awake\u2019. In the event that a client or proxy receives a message containing a Sleep State setting of 1, it can be interpreted that the sleep node is going to enter into sleep mode following the successful completion of this message exchange.",{"@attributes":{"id":"p-0179","num":"0206"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0180","num":"0207"},"figref":"FIG. 14"},"Embodiments contemplate that sleep attributes can be implemented using a dedicated sleep attributes CoAP resource with a corresponding URI. This may provide a proxy or other client nodes accessibility to a node's sleep attributes via this corresponding resource. This resource can be implemented either locally on the sleep node itself or remotely on another node such as a proxy, for example.","Below are some examples of a URI representation of a sleep attributes resource. CoAP splits the URI into Uri-Scheme, Uri-Authority and Uri-Path Options:\n\n",{"@attributes":{"id":"p-0183","num":"0212"},"figref":"FIG. 15"},"Embodiments contemplate that, in response to a client or proxy discovering the sleep attributes resource of a node, it can then query (e.g., GET sensor1.example.com:CoAP-PORT\/Sleep) to obtain the sleep attributes of the node. The sleep attributes can then be returned in the CoAP header options of the response message. In addition, a client or proxy can also subscribe to the sleep attributes resource and have the sleep node notify it of changes to its sleep attributes if\/when they occur.","Alternatively or additionally, embodiments contemplate that individual sleep attributes may be carried within the link format description of the sleep attributes resource itself. For example, individual sleep attributes can be carried in the link-value and link-extensions fields of the link format description. Doing so can allow a client to obtain sleep attributes of a node during resource discovery rather than having to perform an additional query of the sleep attributes resource thereafter.","Alternatively or additionally, embodiments contemplate that in CoAP resource discovery, the CoAP URI can also be used to carry the sleep attributes, perhaps rather than relying on a dedicated sleep attributes resource. For example, \/.well-known\/core\/sleep. Therefore, a proxy or client can query a node to get its sleep attributes using a GET request. [GET\/.well-known\/core\/sleep] returns a list of sleep attributes stored under this location. The sleep attributes can be returned in the CoAP header options of the ACK response message.",{"@attributes":{"id":"p-0187","num":"0216"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0188","num":"0217"},"figref":"FIG. 17"},"An example advantage of using a sleep attributes resource is that sleep attributes become a known resource for the sleep node, proxy, and other nodes. Additional sleep attributes can be exchanged, and the format can be more flexible (compared to embedding sleep attributes into the headers of existing message exchanges). Additionally, the sleep attributes may be managed remotely in a centralized repository, not necessarily locally on the sleep node itself. This can facilitate centralized control and configuration of sleep attributes for sleep nodes within a network.","Alternatively or additionally, embodiments contemplate that sleep attributes can be added in the request URI within the CoAP header options, perhaps rather than defining new dedicated sleep attribute header options. In this way, the sleep attributes can be piggybacked in any CoAP message.  illustrates an example where the sleep node informs the proxy that its sleep duration will be 1 hour in accordance with one or more embodiments. The sleep attributes are piggy-backed in the response URI. Embodiments contemplate that such attributes can be exchanged at any time, using any suitable CoAP method.","Embodiments contemplate one or more sleep node attribute use scenarios. Example sleep duration scenarios follow:\n\n","Embodiments contemplate one or more example of sleep state use cases, such as:\n\n","Embodiments contemplate that proxy buffering can involve queuing of messages on behalf of a resource while it may be unavailable to service the messages itself. Once the resource is available the messages are then forwarded to the resource to be serviced (e.g. PUT request to a sleep node resource). This may be in contrast to caching, where a proxy can service a message on behalf of resource without having to forward any messages to the resource (e.g. servicing a GET request using a cached version of the resource).","Embodiments contemplate that support for proxy caching in CoAP. To support a proxy buffering feature in CoAP, a mechanism may be provided for a proxy to determine when (and when not) to buffer for a corresponding resource. Sleep Node Attributes can be leveraged by a proxy to help make this determination. For example, if a resource supports a PUT operation and it resides on a node having a non-zero Sleep Duration then the resource is a candidate for buffering by a proxy. In addition, if the Sleep State of this resource changes to \u2018Asleep\u2019 then the proxy may, or perhaps should, enable buffering. Likewise, if the Sleep State of the resource changes to \u2018Awake\u2019 then the proxy may, or perhaps should, start forwarding any buffered messages to the resource.",{"@attributes":{"id":"p-0195","num":"0231"},"figref":"FIG. 19"},"Using the Sleep State attribute, the proxy may start buffering incoming messages when it is notified that the resource is entering sleep mode. Likewise, the proxy forwards buffered messages to the resource when it is notified that the resource has exited sleep mode.","Embodiments contemplate that an incremental feature enhancement may allow the proxy to convey the number of buffered messages to the sleep node using a CoAP header alternative. In doing so, a sleep node can be made aware of the number of buffered messages that are waiting to be serviced at the proxy and may refrain from going back to sleep until some or all buffered messages have been serviced. For example, in , the proxy could include this header alternative within the ACK message to the \u2018Awake\u2019 notification. Table 2 shows a CoAP number of buffered messages header option.",{"@attributes":{"id":"p-0198","num":"0234"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Exemplary CoAP number of Buffered Messages Header Option"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"chemistry":{"@attributes":{"id":"CHEM-US-00002","num":"00002"},"img":{"@attributes":{"id":"EMI-C00002","he":"29.21mm","wi":"87.55mm","file":"US08626893-20140107-C00002.TIF","alt":"embedded image","img-content":"table","img-format":"tif"}}}}},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},{"@attributes":{"id":"p-0199","num":"0235"},"figref":"FIG. 20"},"Embodiments contemplate proxy caching for sleep node resources. Embodiments contemplate that CoAP may, or perhaps must, support the caching of recent resource requests, along with caching subscriptions to sleeping nodes. Unlike caching the response to a recent resource request (e.g. response to a GET request), caching a subscription to a resource residing on a sleep node requires a proxy to maintain client subscription state on behalf of the sleep node. By maintaining client subscription state, a proxy can then send notifications on behalf of the sleep node to the client. These notifications can be initially serviced by the proxy using its cached version of the sleep node resource. Thereafter, as the proxy receives resource updates from the sleep node, it can provide notification updates to all subscribed clients on behalf of the sleep node. Contemplate embodiments define functionality for caching subscriptions to sleeping nodes such that a proxy can send notification responses on behalf of a sleeping node.",{"@attributes":{"id":"p-0201","num":"0237"},"figref":"FIG. 21"},"Embodiments contemplate that CoAP may define cache refresh functionality using a CoAP GET request, for example. Although this scheme may be adequate for networks consisting of non-sleep nodes, it can be problematic for networks having sleep nodes. For example, a GET request to a sleep node with a sleep duration that exceeds the CoAP retransmission window defined by RESPONSE_TIMEOUT*(2^MAX_RETRANSMIT\u22121) can result in a timeout as shown in . For the case where a resource is implemented on a sleep node, the use of a CoAP GET request to support a cache refresh operation may not be optimal hence alternatives are needed. Embodiments contemplate that this problem may be most prevalent for nodes that communicate directly with sleep nodes. For example, a proxy for a sleep node or possibly a client node that communicates directly with a sleep node (in the event that a proxy is not available). For nodes that communicate indirectly with a sleep node via a proxy, this may be less of a problem since the caching and buffering implemented by the proxy can help alleviate this issue.","Embodiments contemplate that, for cache refresh, supporting sleep nodes may include leveraging a subscribe\/notify scheme. When deciding to cache a resource that resides on a sleep node, a proxy or client can rely on notifications from the sleep node to refresh its cached version of the resource rather than initiating a GET request to the sleep node resource. Once subscribed to a resource, a proxy or client can receive cache refresh notification from a sleep node (e.g., each time the sleep node wakes-up).",{"@attributes":{"id":"p-0204","num":"0240"},"figref":"FIG. 23"},"Embodiments contemplate methods and apparatus for the IETF CoAP protocol to support exchange of sleep information at discovery phase and dynamically during network operations. The CoAP client and server can exchange the sleep information using any CoAP RESTful methods, such as POST, PUT, GET and the Subscribe\/Notification mechanisms.","In light of the previous description, and referring to , embodiments contemplate that a first node may be associated with a first communication network and the first node may also be in communication with a second communication network. The first node may perform methods that, at , may include communicating with a second node, where the second node may be associated with the second communication network. At , embodiments contemplate receiving sleep information from the second node, and at , managing at least one resource of the second node based, at least in part, on the sleep information. Embodiments contemplate that the first node may be a non-constrained node, and that the first node may function as a proxy node. Embodiments contemplate that the second node may be a constrained node. At , embodiments contemplate receiving an application layer message from the second node.","Embodiments contemplate that the sleep information may be included in one or more fields of the application layer message, and the one or more fields of the application layer message may be a part of at least one of a header or a payload. Further, embodiments contemplate, at , subscribing to the second node to receive the sleep information. Referring to , embodiments contemplate, at , responding to the second node upon receipt of the sleep information. Embodiments contemplate that the application layer message may be provided in at least one of hypertext transfer protocol (HTTP) or a constrained application protocol (CoAP). Also, embodiments contemplate that the sleep information may include at least one of a sleep duration or a sleep state. Embodiments contemplate, at , receiving a message from a third node, where the third node may be associated with the first communication network, and the message from the third node may be directed to the second node. Also, embodiments contemplate that the management of the at least one resource of the second node may include, at , caching the message from the third node and, at , providing the message to the second node.","Referring to , embodiments contemplate that a first node may be associated with a first communication network and the first node may also be in communication with a second communication network. The first node may perform methods that, at , may include communicating with a second node, where the second node may be associated with the second communication network. At , embodiments contemplate receiving a constrained application protocol (CoAP) message from the second node, where the CoAP may include at least one header. Also, embodiments contemplate, at , determining one or more sleep attributes of the second node from the at least one CoAP message header, and at , responding to the message from the second node. In addition, embodiments contemplate that the sleep attributes may be represented by a uniform resource identifier (URI) in the at least one CoAP message header. Embodiments contemplate, at , synchronizing with the second node upon the second node transitioning from a sleep mode to a non-sleep mode. And embodiments contemplate, at , placing the second node into a sleep mode.","Although features and elements are described above in particular combinations, one of ordinary skill in the art will appreciate that each feature or element can be used alone or in any combination with the other features and elements. In addition, the methods described herein may be implemented in a computer program, software, or firmware incorporated in a computer-readable medium for execution by a computer or processor. Examples of computer-readable media include electronic signals (transmitted over wired or wireless connections) and computer-readable storage media. Examples of computer-readable storage media include, but are not limited to, a read only memory (ROM), a random access memory (RAM), a register, cache memory, semiconductor memory devices, magnetic media such as internal hard disks and removable disks, magneto-optical media, and optical media such as CD-ROM disks, and digital versatile disks (DVDs). A processor in association with software may be used to implement a radio frequency transceiver for use in a WTRU, UE, terminal, base station, RNC, or any host computer."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A more detailed understanding may be had from the following description, given by way of example in conjunction with the accompanying drawings wherein:",{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":["FIG. 1B","FIG. 1A"]},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 1C","FIG. 1A"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":["FIG. 1D","FIG. 1A"]},{"@attributes":{"id":"p-0025","num":"0024"},"figref":["FIG. 1E","FIG. 1A"]},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 26"}]},"DETDESC":[{},{}]}
