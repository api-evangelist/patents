---
title: High accuracy heading sensor for an underwater towed array
abstract: A high performance solid-state heading sensor for underwater towed arrays is taught that combines high quality MEMS sensor components with data processing filters to resolve performance limitations present in prior art heading sensors. The heading sensor employs rate gyroscopes, accelerometers, magnetometers and a customized Kalman filter formulation implemented on a micro-controller to improve performance in determining the roll, pitch and heading of a towed array.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08768647&OS=08768647&RS=08768647
owner: The United States of America as represented by the Secretary of the Navy
number: 08768647
owner_city: Washington
owner_country: US
publication_date: 20110921
---

{"@attributes":{"id":"description"},"GOVINT":[{},{}],"heading":["STATEMENT OF GOVERNMENT INTEREST","CROSS REFERENCE TO OTHER RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["The invention described herein may be manufactured and used by or for the Government of the United States of America for governmental purposes without the payment of any royalties thereon or therefore.","Not applicable.","(1) Field of the Invention","The present invention relates to heading sensors for underwater towed arrays, and in particular to a high performance solid state heading sensor operated in conjunction with a data processing orientation formulation for towed acoustic arrays.","(2) Description of the Prior Art","Current towed acoustic sonar arrays use magnetic heading sensors to measure the shape of the array to determine the azimuthal bearing of acoustic sources of interest and to allow for the determination of array shape for improved beamforming performance. The towed array application requires very high accuracy measurement of the horizontal angle between the axis of the array and the magnetic field vector, even at high earth latitudes where the horizontal component of the magnetic field vector may only be 10% of the total vector magnitude. Existing heading sensors use fluxgate floating ring-core gimbal magnetometers that suffer significantly from reliability and production problems. Due to the gimbal design of these sensors, the heading sensor output becomes very noisy and completely unreliable due to the flow induced vibration that excites the gimbal close to its resonance during vessel maneuvers and during erratic array motion.","For this reason, what is needed is a heading sensor that provides accurate heading measurements when the array is under dynamic motion within the constraints of power consumption, processing and space that are imposed by implementation into an underwater towed acoustic array.","It is a general purpose and object of the present invention to provide a heading sensor that provides accurate heading measurements when the array is under dynamic motion, for example during vessel turns and during times of vessel straight course when the array is exhibiting unstable motion.","This object is accomplished by employing a series of micro electro-mechanical systems (MEMS) sensors and other miniature sensors in a suite operated in conjunction with a customized Kalman filter formulation that can accurately relay heading, pitch and roll information for an underwater towed array.","Referring now to  there is illustrated a heading sensor  for a towed array comprised of a suite of micro electro-mechanical system (MEMS) sensors and other miniature sensors. The heading sensor  fuses the output of individual sensors including accelerometers, gyroscopes and magnetometers to determine sensor heading, pitch and roll angles relative to the Earth's gravity vector and the horizontal component of the Earth's magnetic field vector.","The suite of micro electro-mechanical systems sensors and other miniature sensors comprises three magnetometers  (magneto-resistive or magneto-inductive) with each magnetometer  assigned to one of the three (x, y, z) spatial axes, three accelerometers  with each accelerometer  assigned to one of the three (x, y, z) spatial axes, three solid state MEMS gyroscopes  with each gyroscope  assigned to one of the three (x, y, z) spatial axes and a temperature sensor  for use in calibration of the other sensors. The analog voltage output signals from the sensors are directed to an analog to digital converter and serial peripheral interface (SPI) bus  to digitize the signals for processing by a customized Kalman filter formulation implemented by a low power (thirty milliamps at five volts in the preferred embodiment due to constraints in receiving power from the towed array system) microcontroller , which converts the signals to heading, pitch and roll data. In a preferred embodiment, the microcontroller  has a non-volatile memory component, has a sensor sampling rate of 200 Hz, a processing rate of 40 Hz, and performs real-time single precision floating point processing. The microcontroller  implements the Kalman filter formulation and addresses temperature compensation for the sensors, in-situ field calibration and physical alignment, and sensor data integration. A communication interface 23 channels the digital output of the microcontroller  to the host sonar system.","The Kalman filter formulation makes the best use of all the data available from sensors and thereby achieves a lower mean squared orientation estimation error than prior art methods and apparatus. Due to the nonlinear nature of the attitude determination equations and the fact that the Kalman filter must be simple enough to run in real-time, the formulation suits a reduced order and yet efficient customized Kalman filter.","In a preferred embodiment, as illustrated in , the individual components (accelerometers , magnetometers , gyroscopes , thermometer , micro-controller ) of the heading sensor  are all mounted to a printed circuit board  with a stabilized backing . The entire heading sensor  is contained in a non-magnetic cylindrical container  that protects the components from hydrostatic pressure and the mechanical forces subjected by the towed array handling and stowage systems. In a preferred embodiment the physical dimensions of the heading sensor  allow it to fit in a 0.75 inch diameter cylinder that is 4 inches long allowing it to fit within the small diameter of acoustic arrays, typically 1.5 inches. In a preferred embodiment, the physical dimensions and low power consumption of the heading sensor  allow for multiple heading sensors  to be incorporated into a towed acoustic array in the case where more sensors are used to allow for the averaging of heading readings for improved accuracy.","During manufacturing, each of the components of the heading sensor , (accelerometers , magnetometers , gyroscopes ), is calibrated with respect to temperature following a burn-in and aging process that helps to ensure that each of the components remain stable over time and variable temperature. The calibration coefficients, obtained during testing performed after the burn-in and aging process are stored in a look-up table residing in the non-volatile memory component of microcontroller  for use in processing the sensor data.","The customized Kalman filter formulation involves multiple data preparation and processing steps. The first step deals with accelerometer  data preparation. The accelerometer  analog-to-digital converter output is an uncalibrated digital number proportional to acceleration. Using the calibration table of the accelerometer versus temperature, the calibrated x-axis acceleration is calculated as follows:",{"@attributes":{"id":"p-0022","num":"0021"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["a","x"]},"mo":"=","mfrac":{"mrow":{"msub":[{"mi":["AV","x"]},{"mi":["Abias","x"]}],"mo":"-"},"msub":{"mi":["scalefactor","x"]}}}},{"mrow":{"mo":["(",")"],"mn":"1"}}]}}}},"br":[{},{},{}],"sub":["x ","x ","x ","x","y","z"],"b":"14","in-line-formulae":[{},{}],"i":["A","A","+A","+A"],"sup":["2","2","w"]},"The second step involves gyroscope  data processing. The gyroscope  analog-to-digital converter output is an uncalibrated digital number proportional to rotational rate. Using the calibration table of the gyroscopes versus temperature, the rate of turn is calculated as follows:",{"@attributes":{"id":"p-0024","num":"0023"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["\u03c9","x"]},"mo":"=","mfrac":{"mrow":{"msub":[{"mi":["GV","x"]},{"mi":["Gbias","x"]}],"mo":"-"},"msub":{"mi":["scalefactor","x"]}}}},{"mrow":{"mo":["(",")"],"mn":"3"}}]}}}},"br":{},"sub":["x ","x "]},"The third step involves magnetometer  data processing to measure azimuth. The magnetometer  data versus temperature data is calibrated if needed. The field measurements of the magnetometer are calculated as follows:\n\nbias\u2003\u2003(4)\n\nHis the magnetic field in the X direction and Hbiasis the magnetometer bias in the X direction. The magnetic field in the Y and Z directions are calculated similarly. Magnetic field data is combined with the accelerometer data to obtain a heading measurement.\n","The fourth step involves Kalman filter processing. The Kalman filter process integrates the following attitude equation:",{"@attributes":{"id":"p-0027","num":"0026"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"mrow":{"mover":{"mi":"\u03d5","mo":"."},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"mover":{"mi":"\u03b8","mo":"."},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"mover":{"mi":"\u03a8","mo":"."},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}}]}},{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mrow":{"mi":["sin","\u03d5tan\u03d5"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},{"mrow":{"mi":["cos","\u03d5tan\u03b8"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}]},{"mtd":[{"mn":"0"},{"mrow":{"mi":["cos","\u03d5"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},{"mrow":{"mrow":{"mo":"-","mi":"sin"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"\u03a8"}}]},{"mtd":[{"mn":"0"},{"mrow":{"mi":["sin","\u03d5","cos","\u03b8"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mtext":"\/"},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]}},{"mrow":{"mi":["cos","\u03d5","cos","\u03b8"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mtext":"\/"},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]}}]}]}},{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"mrow":{"msub":{"mi":["\u03c9","x"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"msub":{"mi":["\u03c9","y"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"msub":{"mi":["\u03c9","z"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}}]}}],"mo":"\u2062"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"5"}}]}}}},"br":{},"sub":["x","y","z"]},"A software module and data flow diagram of the software implementation of the customized Kalman filter formulation is illustrated in . The notations are as follows: \u03c6, \u03b8, \u03c8 roll, pitch and heading respectively. The software implementation has four main software modules as follows: three-axis gyroscope module ; three-axis accelerometer module ; three-axis magnetometer module ; and the Kalman filter implementation module  (implemented at some rate such as 20 Hz). As illustrated in , Gx, Gy and Gz are the gyroscope  outputs in radians per second, Temp is the temperature sensor output in degrees Celsius. Hx, Hy, and Hz are the magnetic field components read by the three axis magnetometer module  in gauss, a, a, and aare the accelerometer  output in meters per second squared, \u03c9, \u03c9, \u03c9are the corrected rotation rate in radians\/second, \u03c8is the corrected magnetometer heading in radians, \u00e6and \u03b8are the corrected sensor indication for pitch and roll in radians. X, Yand Zare the normalized, corrected magnetic field values after compass calibration in gauss. The symbols {circumflex over (\u03c6)}, {circumflex over (\u03b8)} and {circumflex over (\u03c8)} are the estimated pitch, roll and heading representing the final data output of the Kalman filter formulation.","Each of the accelerometers , gyroscopes , and magnetometers  has a calibration coefficient versus temperature table stored in non-volatile memory of processor . Calibration is done at temperature values of 0, 10, 20, 30, and 40 degrees Celsius. The operating temperature is from minus 2 to 40 degrees Celsius. Temperature, compensation is interpolated linearly between temperature points in the calibration table. The interpolation equation for accelerometer outputs is as follows:",{"@attributes":{"id":"p-0030","num":"0029"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mrow":{"mrow":{"msub":[{"mrow":{"msub":{"mi":["a","x"]},"mo":"\uf604"},"mi":"T"},{"mi":["a","x"]}],"mo":"="},"mo":"\uf604"},"mi":"TL"},"mo":"+","mrow":{"mfrac":{"msub":{"mrow":{"mrow":{"msub":[{"mrow":{"msub":{"mi":["a","x"]},"mo":"\uf604"},"mi":"TH"},{"mi":["a","x"]}],"mo":"-"},"mo":"\uf604"},"mi":"TL"},"mrow":{"mi":["TH","TL"],"mo":"-"}},"mo":"\u00d7","mrow":{"mo":["(",")"],"mrow":{"mi":["T","TL"],"mo":"-"}}}}},{"mrow":{"mo":["(",")"],"mn":"6"}}]}}}},"br":{},"sub":["x","TH ","x","TL "],"b":"18"},"The three-axis accelerometer module  performs the following data processing steps. First the module smoothes the acceleration data. Due to accelerometer  random noise, a smoothing function is implemented by collecting samples of the acceleration at higher rate, for example at 100 Hz, averaging these samples and sending the output to the Kalman filter at a reduced rate, for example 20 Hz. The accelerometer  output is in voltage (AV). The accelerometer  offset is calibrated and stored in a lookup table versus temperature. Next the accelerometer module  uses the calibration table of the accelerometer versus temperature. The acceleration at output is calculated as follows according to equation (1):",{"@attributes":{"id":"p-0032","num":"0031"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["a","x"]},"mo":"=","mfrac":{"mrow":{"msub":[{"mi":["AV","x"]},{"mi":["Abias","x"]}],"mo":"-"},"msub":{"mi":["scalefactor","x"]}}}},{"mrow":{"mo":["(",")"],"mn":"1"}}]}}}},"br":{},"sub":["x ","x "]},"In the next step, the output of the accelerometer from equation 1 is corrected for cross-axis effects as follows:",{"@attributes":{"id":"p-0034","num":"0033"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["a","x","c"]}}},{"mtd":{"msubsup":{"mi":["a","y","c"]}}},{"mtd":{"msubsup":{"mi":["a","z","c"]}}}]}},{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msub":{"mi":"d","mn":"11"}},{"msub":{"mi":"d","mn":"12"}},{"msub":{"mi":"d","mn":"13"}}]},{"mtd":[{"msub":{"mi":"d","mn":"21"}},{"msub":{"mi":"d","mn":"22"}},{"msub":{"mi":"d","mn":"23"}}]},{"mtd":[{"msub":{"mi":"d","mn":"31"}},{"msub":{"mi":"d","mn":"32"}},{"msub":{"mi":"d","mn":"33"}}]}]}},{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"msub":{"mi":["a","x"]}}},{"mtd":{"msub":{"mi":["a","y"]}}},{"mtd":{"msub":{"mi":["a","z"]}}}]}}],"mo":"\u00d7"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"7"}}]}}}},"br":{},"sub":["x","y","z ","x","y","z ","11","22","33 "],"sup":["c","c","c"]},"In the next step, tilt calculations are performed according to the following equations:",{"@attributes":{"id":"p-0036","num":"0035"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":[{"mtd":[{"mrow":{"mi":"\u03b8","mo":"=","mrow":{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":["(",")"],"mfrac":{"msubsup":{"mi":["a","x","c"]},"mrow":{"msqrt":{"mrow":{"mrow":{"mo":["(",")"],"msubsup":{"mi":["a","y"],"mn":"2"}},"mo":"+"}},"mo":"\u2062","mrow":{"mo":["(",")"],"msubsup":{"mi":["a","z"],"mn":"2"}}}}}}},{"mrow":{"mo":["(",")"],"mn":"8"}}]},{"mtd":[{"mrow":{"mi":"\u03d5","mo":"=","mrow":{"msup":{"mi":"tan","mrow":{"mo":"-","mn":"1"}},"mo":["(",")"],"mfrac":{"msubsup":{"mi":["a","y","c"]},"mrow":{"msqrt":{"mrow":{"mrow":{"mo":["(",")"],"msubsup":{"mi":["a","x"],"mn":"2"}},"mo":"+"}},"mo":"\u2062","mrow":{"mo":["(",")"],"msubsup":{"mi":["a","z"],"mn":"2"}}}}}}},{"mrow":{"mo":["(",")"],"mn":"9"}}]}]}}},"br":{}},"The next step is to calculate the total acceleration as follows (similar to equation (2) above):\n\n_total=\u221a{square root over ()}\u2003\u2003(10)\n\nIf a_total is less than 0.90 (G) or a_total is greater than 1.1 (G), then a flag should be initialized MOVING=TRUE. The accelerometer module  outputs a value for pitch, roll, total acceleration and flag status (i.e., moving or stationary).\n","The three axis gyroscope module  performs the following data processing steps. First the module , using the calibration table of the gyroscope  versus temperature, calculates the rate of turn according to the following equation:",{"@attributes":{"id":"p-0039","num":"0038"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["\u03c9","x"]},"mo":"=","mfrac":{"mrow":{"msub":[{"mi":["GV","x"]},{"mi":["Gbias","x"]}],"mo":"-"},"msub":{"mi":["scalefactor","x"]}}}},{"mrow":{"mo":["(",")"],"mn":"3"}}]}}}},"br":{},"sub":"x "},"The output of the gyroscopes  are corrected for cross-axis effects as follows:",{"@attributes":{"id":"p-0041","num":"0040"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["\u03c9","x","c"]}}},{"mtd":{"msubsup":{"mi":["\u03c9","y","c"]}}},{"mtd":{"msubsup":{"mi":["\u03c9","z","c"]}}}]}},{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"msub":{"mi":"g","mn":"11"}},{"msub":{"mi":"g","mn":"12"}},{"msub":{"mi":"g","mn":"13"}}]},{"mtd":[{"msub":{"mi":"g","mn":"21"}},{"msub":{"mi":"g","mn":"22"}},{"msub":{"mi":"g","mn":"23"}}]},{"mtd":[{"msub":{"mi":"g","mn":"31"}},{"msub":{"mi":"g","mn":"32"}},{"msub":{"mi":"g","mn":"33"}}]}]}},{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"msub":{"mi":["\u03c9","x"]}}},{"mtd":{"msub":{"mi":["\u03c9","y"]}}},{"mtd":{"msub":{"mi":["\u03c9","z"]}}}]}}],"mo":"\u00d7"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"11"}}]}}}},"br":{},"sub":["x","y","z ","x","y","z","11","22","33","x","y","z"],"b":"14","sup":["c","c","c "]},"The three axis magnetometer module  performs the following data processing steps. First the module calibrates the magnetometer  versus temperature. In the next step, the field measurement of the magnetometer  is calculated as follows:\n\nbias\u2003\u2003(4)\n\nThe next step is hard and soft iron calibration. The calibration results in a 3\u00d73 matrix and additional constants. The equation for calibration is as follows:\n",{"@attributes":{"id":"p-0043","num":"0042"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"msubsup":{"mi":["H","x","c"]}}},{"mtd":{"msubsup":{"mi":["H","y","c"]}}},{"mtd":{"msubsup":{"mi":["H","z","c"]}}}]}},{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mi":"a"},{"mi":"b"},{"mi":"c"}]},{"mtd":[{"mi":"d"},{"mi":"e"},{"mi":"f"}]},{"mtd":[{"mi":"g"},{"mi":"h"},{"mi":"i"}]}]}},{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"mrow":{"msub":[{"mi":["H","x"]},{"mi":"H","mrow":{"mi":"x","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"}}],"mo":"-"}}},{"mtd":{"mrow":{"msub":[{"mi":["H","y"]},{"mi":"H","mrow":{"mi":"y","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"}}],"mo":"-"}}},{"mtd":{"mrow":{"msub":[{"mi":["H","z"]},{"mi":"H","mrow":{"mi":"z","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"}}],"mo":"-"}}}]}}],"mo":"\u00d7"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"12"}}]}}}},"br":[{},{},{},{},{}],"sub":["x0","y0","z0 ","h ","h","h","x","y","z","h","y","z","h","h"],"in-line-formulae":[{},{},{},{},{},{}],"i":["X","=H","H","H","Y","=H","H","Y","\/X"],"sup":["c ","c ","c ","c ","c ","\u22121"]},"The Kalman Filter implementation module  combines the data from the accelerometers , gyroscopes  and magnetometers  and then estimates the variables that are not directly measurable, with the added advantage of smoothing the noise. In this case, gyroscopes  measure the orientation by integrating their angular rates. As a result, they provide a vibration insensitive orientation measurement with large attenuation for noise. Because the gyroscopes  have inherent drift in their measurements, they need to be corrected over time. Magnetometers  and accelerometers  provide a different measurement of the orientation that is drift free but they are noisy, and have problems with vibration. The Kalman Filter implementation module  weights the two sources of orientation information using a process model of the integrated gyroscope  input as shown in the following equation:",{"@attributes":{"id":"p-0045","num":"0044"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"mrow":{"mover":{"mi":"\u03d5","mo":"."},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"mover":{"mi":"\u03b8","mo":"."},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"mover":{"mi":"\u03a8","mo":"."},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}}]}},{"mrow":[{"mo":["[","]"],"mtable":{"mtr":[{"mtd":[{"mn":"1"},{"mrow":{"mi":["sin","\u03d5tan\u03d5"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},{"mrow":{"mi":["cos","\u03d5tan\u03b8"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}]},{"mtd":[{"mn":"0"},{"mrow":{"mi":["cos","\u03d5"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},{"mrow":{"mrow":{"mo":"-","mi":"sin"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"\u03a8"}}]},{"mtd":[{"mn":"0"},{"mrow":{"mi":["sin","\u03d5","cos","\u03b8"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mtext":"\/"},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]}},{"mrow":{"mi":["cos","\u03d5","cos","\u03b8"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mtext":"\/"},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}]}}]}]}},{"mo":["{","}"],"mtable":{"mtr":[{"mtd":{"mrow":{"msub":{"mi":["\u03c9","x"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"msub":{"mi":["\u03c9","y"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}},{"mtd":{"mrow":{"msub":{"mi":["\u03c9","z"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"t"}}}}]}}],"mo":"\u2062"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"5"}}]}}}},"br":{},"sub":["x","y","z ","inc","inc","mag"],"b":["14","12","16"]},"The data flow diagram of the Kalman filter implementation module  is shown in . Note that x={{circumflex over (\u03c6)} {circumflex over (\u03b8)} {circumflex over (\u03c8)}}is the estimated orientation in the following order (roll, pitch and heading) in radians. dx={\u03b4{circumflex over (\u03c6)} \u03b4{circumflex over (\u03b8)} \u03b4{circumflex over (\u03c8)}} is the orientation error estimate vector in radians, omega={\u03c9\u03c9\u03c9} is the rate of turn coming in from the gyros including the gyro drift in radians\/second, and domega={\u03b4{circumflex over (\u03c9)}\u03b4{circumflex over (\u03c9)}\u03b4{circumflex over (\u03c9)}} is the gyro drift estimate (also called bias drift) in radians\/second.","The advantage of the present invention over the prior art is that it resolves performance limitations in prior art heading sensors. The key to the heading sensor  of the present invention is the ability to rely on the gyroscopes  during maneuvers to correct magnetometer  and accelerometer  errors particularly during turns when heading readings are normally unreliable and then to use the magnetometer  and accelerometer  during linear array motion to correct for the gyroscopic drift. In this manner the measured heading is much less sensitive to vibration and will maintain accuracy under array dynamic motion.","The present invention is the first embodiment of a towed array heading sensor  employing rate gyroscopes and an indirect Kalman filter function to improve performance.","In light of the above, it is therefore understood that within the scope of the appended claims, the invention may be practiced otherwise than as specifically described."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["A more complete understanding of the invention and many of the attendant advantages thereto will be readily appreciated as the same becomes better understood by reference to the following detailed description when considered in conjunction with the accompanying drawings wherein:",{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 4"}]},"DETDESC":[{},{}]}
