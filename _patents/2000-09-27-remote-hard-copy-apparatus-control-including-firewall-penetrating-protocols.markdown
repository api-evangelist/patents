---
title: Remote hard copy apparatus control including firewall penetrating protocols
abstract: A server implementation adapted for use with a computer peripheral having a plurality of reportable operational states. In an exemplary embodiment for a hard copy apparatus, both internet browser and electronic mail clients are provided with access to and control of the apparatus. Data filtering and handling are provided for discriminating specific data communications. Firewall penetrating protocols are provided.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06931447&OS=06931447&RS=06931447
owner: Hewlett-Packard Development Company, L.P.
number: 06931447
owner_city: Houston
owner_country: US
publication_date: 20000927
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DESCRIPTION OF THE PRESENT INVENTION"],"p":["1. Field of the Invention","the present invention relates generally to a networked computer peripheral apparatus, such as a hard copy apparatus, and more particularly to communicating apparatus control, diagnostics, and status information, through a network firewall.","2. Glossary","The following terms and acronyms may be used throughout this document and appendices, if any; there definitions are provided for the convenience of the reader; however, no limitation on the scope of the invention should be implied herefrom.","\u201cClient-Server\u201d: A model of interaction in a distributed computer network system in which a program at one site sends a request to another site and then waits for a response. The requesting program is called the \u201cclient,\u201d and the program which responds to the request is called the \u201cserver.\u201d In the context of the World Wide Web (\u201cwww\u201d or \u201cweb\u201d defined hereinafter), the client is a \u201cbrowser;\u201d i.e., a program which runs on a computer of an end-user.","A program and network computer which responds to a browser request by serving web pages and the like, is referred to as a \u201cserver.\u201d Specialized servers, such as dedicated electronic mail (defined hereinafter) servers are also known in the art.","\u201cCommon Gateway Interface\u201d (\u201cCGI\u201d): A way of interfacing computer programs with HTTP (defined hereinafter) or web servers so that a server can offer interactive sites instead of just static text and images. \u201cCGI script\u201d is a program that is run on a web server in response to input from a browser. The CGI script is the link between the server and a program running on the system; for example, a database. CGI scripts are used with interactive forms.","\u201cCookies\u201d: a technology that enables a web server to retrieve informational items from an end user's computer that reveals prior browsing activities of the user; the informational item is stored on the user's computer by a server, typically on the computer's hard drive.","\u201cElectronic Mail\u201d (\u201ce-mail\u201d): The process and software for sending and receiving of textual information and attachments thereto between end-users over a distributed computer network such as the internet; internet access providers often include e-mail service to its customers as part of the access software that allows the end user to dial into the internet.","\u201cFirewall\u201d: an electronic boundary that prevents unauthorized users from accessing certain files on a network, or a computer used to maintain such a boundary; or a generic term for any program used to secure a network from such public access.","\u201cHyperlink\u201d: An internet navigational link from about document or web page to another, or from one portion or component of a document or web page to another. Typically, a hyperlink is displayed as a highlighted word or phrase on a web page that can be selected by clicking a mouse screen pointer thereon, resulting in a jump to the associated document or portion.","\u201cHypertext System\u201d: A computer-based informational system in which documents or other types of data, are linked together via hyperlinks to form a user-navigable web of network or internet sites.","\u201cInternet\u201d: A generic term for a collection of distributed, interconnected networks (ARPANET, DARPANET, World Wide Web, or the like) that are linked together by a set of industry standard protocols (e.g., TCP\/IP, HTTP, UDP (defined hereinafter), and the like) to form a global, distributed network.","\u201cHeader\u201d: A data string defining the attributes such as size, data format, and the like, of an attached message.","\u201cHypertext Mark-up Language\u201d (\u201cHTML\u201d): A standard coding convention and set of codes for attaching presentation and linking attributes to informational content within documents; the primary standard used for generating web documents. During a document authorizing stage, the HTML codes (referred to as \u201ctags\u201d) are embedded within the informational content of the document; when the document is subsequently transferred from a server to a client, the codes are interpreted by the browser and used to parse and display the document. In specifying how the browser is to display the document, HTML tags can be used to create hyperlinks to other webs documents.","\u201cHyperText Transport Protocol\u201d (\u201cHTTP\u201d): The standard www client-server protocol used for the exchange of information such as HTML documents and client requests for such documents between a browser and the server. HTTP includes a number of different types of messages which can be sent from the client to the server to request different types of server actions. For example, a \u201cget\u201d message which has the format GET<URL> (defined hereinafter) causes the server to return the document or file located at the specified URL.","\u201cIP\u201d is the standard acronym for \u201cinternet protocol.\u201d","\u201cMessaging Application Programming Interface\u201d (\u201cMAPI\u201d): A program interface that enables a user to send and receive e-mail from within any MAPI-compliant application by means of the Microsoft\u2122 Mail messaging system. If two applications are MAPI-enabled, they can share e-mail messages with each other. Applications that can use MAPI include word processors, spreadsheets, and graphic applications.","\u201cMicrosoft COM\u201d (\u201cCOM\u201d): a public standard for binary interface communications.","\u201cPULL\u201d: A technology, commonly used as the basis for web communications, in which the client browser must request a specific web page, such as by a hyperlink, before it is sent by a server.","\u201cPUSH\u201d: A technology for information dissemination used by a server to send data to users over a network. PUSH protocols send the informational content to the end user computer, or client, automatically, typically based on information pre-specified by the user.","\u201cSimple Mail Transmission Protocol\u201d (\u201cSMTP\u201d): An internet standard for text only transmission commonly known as \u201ce-mail.\u201d","\u201cTransmission Control Protocol\/Internet Protocol\u201d (\u201cTCP\/IP\u201d): A communications protocol developed for the internet to get data from one network device to another; uses a retransmission strategy to ensure that data will not be lost in transmission.","\u201cUser Datagram Protocol\u201d (\u201cUDP\u201d): A communications protocol for the internet network layer, transport layer, and session layer, which makes it possible to send a datagram message from one computer to an application running in another computer; used in conjunction with IP.","\u201cUniform Resource Locator\u201d (\u201cURL\u201d): A unique address which fully specifies the location of a file or other resource on the internet. The general format of a URL to is protocol:\/\/machine address.port\/path\/filename. The port specification is optional, and if none is entered by the user, the browser defaults to the standard port for whatever service is specified as the protocol. For example, if HTTP is specified as the protocol, the browser will use the HTTP default port; <HTTP:\/WWW.HP.COM> is a URL, where postfix \u201c.COM\u201d is a commercial entity, \u201c.EDU\u201d is an educational entity, \u201c.GOV\u201d is a government entity, and \u201c.ORG\u201d is a non-profit organization. Hyperlinks are often URL designations.","\u201cWeb Site\u201d: A computer system that servers informational content over a network using standard protocols of the web. Typically, a web site corresponds to a particular internet domain name, such as HP.COM\u201c, and includes the content associated with a particular organization such as Hewlett-Packard Company. The term is generally intended to encompass both (1) the hardware\/software server components that serve the informational content over the network, and (2) the \u201cback-end\u201d hardware-software components, including any non-standard or specialized components that interact with the server component to perform service for web site users.","\u201cWorld Wide Web (\u201cweb\u201d)\u201d: Refers generally to both (1) a distributed collection of interlinked, user-viewable hypertext documents (\u201cweb documents\u201d or \u201cweb pages\u201d) that are accessible via the internet, and (2) the client and server software components which provide user access to such documents using standardized internet protocols. Currently, the primary standard protocol for allowing applications to locate and acquire web documents is HTTP, and the web pages are encoded using HTML. However, the terms \u201cweb\u201d and world wide web\u201d as used herein are intended to encompass future mark-up languages and transport protocols which may be used.","3. Description of the Related Art","Remote use of a computer peripheral, such as an exemplary hard copy apparatus peripheral (hereinafter \u201cprinter\u201d), may be desired, for example, to print a report for local employees at a remote office location. A key element for any printer to be reliable is that it also be easily serviceable. Therefore, another example of remote control or use would be to access the printer logic for performance of diagnostics or actual maintenance. It is also important to know when user and device problems occur, like the user leaving the printer off-line or low ink levels in pens. Thus, it is becoming increasingly important for information technology administrators to have access to a remote printer.","Using common communication protocols, like TCP\/IP or UDP, would require the opening of a particular port through which the printer would communicate with a client outside a firewall. This is a procedure that a network system administrator would not likely accept due to the increased security risk to the network behind the firewall.","One method of obtaining such access is disclosed by Nelson in U.S. patent application Ser. No. 09\/299,832, filed Apr. 26, 1999 for REVERSE HTTP CONNECTIONS FOR DEVICE MANAGEMENT OUTSIDE A FIREWALL (assigned to the common assignee herein). Nelson teaches a method for enabling a remote processor to control a device coupled to a local processor, where the local processor is coupled to a computer network and a firewall is operatively interposed between the local processor and the computer network. The firewall routes messages from the local processor to the computer network, and only when authorized, routes messages from the computer network to the local processor. The local processor initiates communication with the remote processor, authorizes the firewall to pass a message from the remote processor to the local processor, and executes commands to manage the device as indicated in the message from the remote processor. The exchange of messages is continued when the message from the remote processor directs the local processor to send a next message to the remote processor. A reverse HTTP connection is established when the messages received from the remote processor are requests, and the messages sent to the remote processor are responses.","Another application assigned to the common assignee herein was filed on Nov. 5, 1999, by Obert Jr. et al. for an E-MAIL-BASED REMOTE DIAGNOSTIC FACILITY. That invention is utilized in the context of a peripheral device that is coupled to a network via a firewall which blocks unwanted incoming message traffic, except for e-mail message traffic. A remotely located diagnostic device, which includes code for diagnosis of causes of peripheral device malfunctions, is connected to communicate via the network. The peripheral device includes a processor for controlling its operation, a memory for storing a diagnostic application that is adapted to execute one or more diagnostic subroutines for diagnosing a cause of a device malfunction. The peripheral device dispatches an event e-mail message that reports an anomaly or malfunction to the remote diagnostic device and receives a response e-mail message from the remote diagnostic device (all via the firewall and the network). The response e-mail message is transmitted to the peripheral device which, in-turn, causes the diagnostic application to execute a subroutine in an attempt to determine the cause of the event. In the case where the remote diagnostic device is adapted to download an executable diagnostic subroutine via an e-mail message, the peripheral device receives the subroutine and executes it.","There is a need for a widely accepted and understood mode of communication such as direct web-based or e-mail-based remote status notification and computer peripheral maintenance and control, such as for a networked hard copy apparatus.","In its basic aspects, the present invention provides a server for hard copy apparatus control including: mechanisms for connecting the apparatus to a network; mechanisms for deciphering messages received via said means for connecting based on data type and content; mechanisms for routing deciphered messages received via said mechanisms for deciphering such that specific tasks associated with hard copy apparatus control are discriminatively routed; and mechanisms for respectively receiving discriminatively routed messages and for executing said tasks.","In another aspect, the present invention provides a hard copy apparatus, having printing mechanisms which have reportable operational state conditions, including: an embedded server further including computer code for providing internet interface; associated with said computer code for providing internet interface, computer code for discriminating types of HTML data received via said means for providing internet interface; computer code for handling incoming electronic mail and outgoing electronic mail; associated with said computer code for discriminating and said computer code for handling incoming electronic mail and outgoing electronic mail, computer code for routing data from said code for discriminating types of HTML data and said code for handling incoming electronic mail and outgoing electronic mail; and associated with said computer code for routing, computer code for processing data routed by said code for routing data such that the hard copy apparatus printing mechanisms can be controlled and said reportable operational state conditions can be monitored via either said internet interface or said electronic mail.","In another aspect, the present invention provides a method for operating a computer peripheral apparatus protected by a network firewall, including the steps of: providing the apparatus with a server interface; storing predetermined subsets of operational parameters of the apparatus wherein each subset is related to a remote client having access to the server interface; and upon a change of operational parameter state of said apparatus, determining if the change is associated with any said subset and sending an electronic message via said server interface to each client associated with said subset wherein the message content includes notification of the change of operational parameter state.","In another aspect, the present invention provides a process for communicating hard copy apparatus printing mechanisms reportable operational states over internet pathways wherein the apparatus is protected by a firewall, including the steps of: coupling the apparatus to the internet pathways via a server having both web server interface and electronic mail interface between the printing mechanisms; communicating from a client to the server either via a web page provided by the server to the client having predetermined permissible data entry or via electronic mail having predetermined permissible data entry, wherein said predetermined permissible data entry is limited such that non-conforming data can not penetrate said firewall.","In another aspect, the present invention provides a hard copy apparatus server including: mechanisms for abstracting operational state parameters of at least one hard copy apparatus associated with said server; and mechanisms for communicating with said mechanisms for abstracting and said at least one hard copy apparatus via the internet using predetermined firewall penetrating protocols, wherein a plurality of clients outside of said firewall can communicate substantially simultaneously with the at least one apparatus.","Some of the advantages of the present invention are:","it provides a plurality of solutions for a network interface to a hard copy apparatus or other computer peripherals which have multiple operational state conditions;","it provides access to computer apparatus behind a firewall; and","it provides a method and apparatus for computer peripheral device configuration control, status queries, diagnostics operations, and executing operational function control.","The foregoing summary and list of advantages is not intended by the inventors to be an inclusive list of all the aspects, objects, advantages, or features of the present invention not should any limitation on the scope of the invention be implied therefrom. This Summary is provided in accordance with the mandate of 37 C.F.R. 1.73 and M.P.E.P. 608.01(d) merely to apprise the public, and more especially those interested in the particular art to which the invention relates, of the basic nature of the invention in order to be of assistance in aiding ready understanding of the patent in future searches. Other aspects, objects, advantages, and features of the present invention will become apparent upon consideration of the following explanation and the accompanying drawings, in which like reference designations represent like features throughout the drawings.","Reference is made now in detail to a specific embodiment of the present invention which illustrates the best mode presently contemplated by the inventors for practicing the invention. Alternative embodiments are also briefly described as applicable.",{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 1","b":["101","101","103","105","107"]},"A plurality of Clients are outside the firewall . Connections to the network  via the firewall  are represented by arrows labeled via generic balloon messages representative of internet, or web,  data flow. Individual process boundaries within the Server  are represented by dashed lines. In this exemplary embodiment, the printer  in the exemplary embodiment of  is an \u201cintelligent\u201d web peripheral. While only one printer  is shown, it should be recognized that a plurality of apparatus will likely be part of the network . The present invention in its preferred embodiment is employed in this \u201csmart,\u201d or \u201cintelligent,\u201d printer which would include the necessary server and internet subsystems such that it resides on a direct connection to the web . It should be recognized that in the spirit of the invention, simple, off-the-shelf, computer printers, such as the HP\u2122 LaserJet\u2122 printer or HP\u2122 JetDirect\u2122 enabled DeskJet\u2122 printer, can be connected inside the firewall  via a separate, dedicated server such as that described as the preferred embodiment hereinafter.","It is well known that a web-based (i.e., using a browser) Client  set, comprising Clientsof , can not penetrate the firewall to obtain access to the printer . In order to gain such access, printer-embedded Server  programming in accordance with the present invention is provided with a plurality of subcomponents now described. (Subtitles used hereinafter are merely for the convenience of the reader; no limitation on the scope of the invention is intended nor should any be implied therefrom.)","Web Server ","The Server  system includes a commercially available Web Server  interface application component, such as Apache WEB Server\u2122 software (a commercial program which might be run in the alternative on, for example, an HP\u2122 E60 NetServer computer). Such products are well known in the art and no further detail is required for an understanding of the present invention.","Status Server ","In general, the Status Server  component is a server application using PML language that abstracts the devices operations and connections thereto for one or more physical printers , allowing one or more remote Clients  to determine the status of features thereof. In the context of the present invention, the Status Server  component provides a portal having data representing each printer  operational state in a client-server model. In the main, the Status Server  component transposes device specific language, e.g. HP-PML formatted device driver, into a PML language for use by the other Server  components. In essence, it is an analogous to a multiplexer for permitting and managing data for a plurality of local clients to communicate with the same printer without having to resort to Microsoft COM programming. It does not however permit cross-firewall printer management in and of itself (note process boundary ).","Further, extensive detail regarding a specific preferred embodiment of the status Server  is set forth in U.S. patent application Ser. No. 09\/676,385, attorney docket no. 10003389, by Osborne et al. and assigned to the common assignee herein, for a ASYNCHROUNOUS DEVICE STATUS VIA A BROWSER USING A SERVER PUSH TECHNIQUE, but is not necessary for a complete understanding of the present invention.","Print Job Subroutines ","A print job program , such as commercially available Acrobat\u2122 Reader\u2122 software, is coupled to the printer I\/O and used to execute incoming print jobs.","Diagnostics Interface Components ,  (\u201cRCCGI\u201d)","A Remote Control  component is interfaced with the Web Server . The specific diagnostic subroutines are of course specific to the actual printer(s)  employed in the network  which are to be maintained accordingly. The Remote Control  components also provides a CGI component between the web  via the Web Server . Its main function is to generate requested HTML pages dynamically from provided predetermined templates on-board and to process user input from these pages. An exemplary web page  is shown in FIG. . Included in the Remote Control  CGI component are interactive pages from the templates that enable users to specify e-mail server settings and to configure notification events. These pages further give the Clients  the ability to specify new configurations for the Remote Control  subroutines. These new configurations are submitted for processing such that the diagnostic subroutines employed can do the actual reconfiguration. The Remote Control  components is implemented in C++ programming language as would be known in the art. It resides in a directory that has Web Server  execute rights on the front-end so that it can be invoked as a CGI script. When invoked, the Remote Control  components runs in the Web Server's process space. On the back-end, the Remote Control  components communicates (via known manner filtering and handling techniques) with data storage subsystems, described hereinafter.","An HTML User Interface  components is downloaded via an Internet Browser  (such as commercially available Microsoft\u2122 Explorer\u2122 software) to each web-based client (e.g., Client ) upon request. The User Interface  component in a known manner provides links on a web site that lead to web pages point to the Remote Diagnostic  component. Links also contain page identifiers that are used by the Remote Control  component to determine which specific page is to be generated dynamically. The Remote Control  component loads the HTML file containing the template for the requested HTML page and merges it with current settings of the diagnostics subsystem in storage which results in an HTML page containing current settings that is returned to Client . Using generated HTML pages such as shown in , selecting (by a mouse click or equivalent on) administration\/Diagnostics, the user can review and modify remote diagnostic settings to get specific status reports. After modifications are made, the page is submitted back to the Remote Control  component for processing, viz., extracting new settings and passing them to data storage.","Data Storage Management ","A Data Storage Manager (DSM)  component provides a nexus through which transactions are routed. The DSM  component is coupled to a known manner memory  device. The DSM  component is a COM executable server program used to save and retrieve e-mail and printer status notification settings. The DSM  component further provides the subroutines for registering with the Status Server  component for predetermined printer status notification events; when an event occurs, the Status Server call back into the DSM which then takes appropriate action pursuant to Client registration configurations. In other words, whenever an event occurs, the DSM  component initializes an e-mail component described hereinafter (see Mailer description) to send appropriate e-mail to all subscriber Clients of that event.","In operation, when a Client sends requests, the DSM  component interprets the data sent and registers for certain events with the Status Server . The Status Server  component in turn notifies the DSM  component of any printer status event. For example, if Client  has requested via a prior subscription to be notified on any out-of-ink event, the DSM  component registers this event with the Status Server  component. Whenever this event occurs at the printer , the Status Server  component calls and notifies the DSM  component. In turn, the DSM  component calls the e-mail component described hereinafter, instructing the sending of an e-mail message to Client  (and all other subscribing e-mail Clients) notifying Client  that the event has occurred. An exemplary e-mail message is illustrated in FIG. .","Electronic Mail Handler (\u201cEMH\u201d or \u201cMailer\u201d) ","An EMH  components is provided having two main functions, sending and receiving e-mail. The EMH  components is a MAPI-based e-mail application that is associated with a commercial mail server program, such as Microsoft\u2122 Outlook\u2122 products. Based on known manner timer events, the EMH  components polls the mail server for incoming messages from subscribing Clients. The EMH  component dispatches nay received mail via a known manner parser which deciphers the message and takes appropriate forwarding action. A parser is a known manner subroutine for interfacing a Mailer and a data storage manager, generally using e-mail FROM, SUBJECT, and MESSAGE fields. The EMH  component is invoked by the DSM to send an e-mail to subscribed Clients based upon printer  status changes noted in the Status Server  component. In essence, the Mailer is a COM executable server component.","A client  can have the printer  perform tasks via an e-mail message. A format can be tailored for a specific printer model. In the exemplary embodiment of , four Client  outgoing e-mail tasks are shown:\n\n","Based on the Client  outgoing e-mail content received by the EMH  component and forwarded to the Filter  component (described hereinafer) and the Handlers  component (described hereinafter) appropriately such that the specific task is implemented. For example, a message having a print message, (4) \u201cDevice tasks (print) over e-mail\u201d, and an Acrobat-formatted attachment, is filtered and handed-off to the Acrobat Reader  component, then printed out.","Filter","The Filter  component is associated integrally with the EMH  component, interfacing the EMH, the Remote Control  component, and the Handlers  component described hereinafter. The Filter  component provides message content analysis for the EMH  component and the Remote Control  component, routing the message to the appropriate handling subroutine. For example, an e-mail message containing a device query is sent by a Client and is received into the EMH  component. The Filter  component examines the contents and forwards it to a query handler subroutine which executes the query to the DSM  component to obtain the current status related to the query. Or, for example, an e-mail message from a Client contains an Adobe Acrobat formatted document as an attachment for printing. The EMH  component receives the messages, the Filter  component examines the content and passes it to the Acrobat Reader  component via an appropriate Handler subroutine as described hereinafter which forwards it to the printing queue.","Handlers ","The Handlers  component receives filtered e-mail messages and provides the appropriate interaction with the rest of the system by examining the content described by an associated header of the message and acting on it. For example, one handler subroutine is built to direct Adobe Acrobat formatted files to the Acrobat Reader  component for printing; another handle subroutine is built to interact with the DSM  component, querying for printer status and outputting a predetermined e-mail message via the DSM component and Mailer  component to the Client requesting the status.","Exemplary Operations","The flow charts of  illustrate operations in accordance with the present invention. Looking specifically to  in conjunction with , assume a Client having downloaded the HTML User Interface  component and having the web address of the printer  is interested in the status of the printer  either for printing thereon or system administration, e.g., keeping adequately loaded pens installed. Prior to sending a print job or as part of administrative duties, the Client decides to check the status of the printer .","HTML User Interface  Operations",{"@attributes":{"id":"p-0070","num":"0073"},"figref":["FIG. 4A","FIG. 1","FIG. 2"],"b":["117","111","117","111","105","117","105","201"],"ul":{"@attributes":{"id":"ul0002","list-style":"none"},"li":["\u201cJOBS\u201d","\u201cSUPPLIES,\u201d","\u201cADMINISTRATION\u201d AND","\u201cHELP.\u201d\n\nSpecific tasks which the Client can perform, such as \u201cQueue\u201d . . . \u201cInk\u201d. . . \u201cServices & Maintenance\u201d . . . \u201cIndex\u201d . . . and the like are provided as click-on mouse button selections.\n"]}},"The HTML User Interface  component is launched, step , by the Client  whenever a task involving the printer  is to be performed. A preliminary task of the end-user or a system administrator is to register the Clients  who are allowed access to the printer , step , YES-path Selecting (mouse click) \u201cNotification\u201d in the task column  displays at least one device configuration page, , typified by region  in FIG. . In this embodiment, a plurality of user's, \u201cRecipient  . . . ,\u201d are shown, each having an individual internet addresses and each has a checked-off preference regarding specific events regarding printer \u201cSupplies\u201d (e.g., ink and paper supplies currently on-board), \u201cService\u201d (e.g., a door open), and \u201cMedia Path\u201d (e.g., paper jams). The data is appropriately entered, step , and when all required data fields are complemented, the forms are sent to the server , specifically the RCCGI  component via the Web Server  interface. Forward, Back, and Help (or \u201c?\u201d) mouse click-on buttons  are provided to allow the user\/administrator to step through the various pages, filling out the provided forms.","Similarly, steps , YES-path, , , and  represent a sequential operation for a user\/administrator to determine printer  current operational characteristics. The banner region  of the web page  in  typifies a display format that would be upgraded with the current information regarding printer . In this example, in the banner region , using graphical depictions, shows that the printer \u201clight\u201d graphic indicates the printer is \u201cready,\u201d paper tray \u201c1\u201d is full but paper trays \u201c2\u201d and \u201c3\u201d are low, and that there are three jobs in the queue\u2014a black and white text job (\u201c470\u201d pages), a partial color\/partial text job (\u201c302\u201d pages), and a full color job (\u201c155\u201d pages).","Similarly, steps , ,  and  represent a sequential operation for \u201cDiagnostics\u201d page review and data entry which is invoked when a Client  selects \u201cADMINISTRATION\u201d and \u201cDiagnostics\u201d from the task column  buttons.","In like manner via the JOBS tasks, steps , , , provision is made for the Client  to send a print job to the printer  queue via, as shown in , the Web Server , RCCGI , Filter , Handlers , Acrobat Reader  components path.","RCCGI  Operations",{"@attributes":{"id":"p-0075","num":"0082"},"figref":"FIG. 4B","b":["115","431","111","108"]},"For a Process type operation, the RCCGI  component reformats the data, step , to the appropriate language and format for subsequent handling by the Filter  component as described hereinbefore. The data reformatting is undertaken, step , in a known manner associated with the language, e.g. C++, used in a specific implementation of the present invention.","For a Request type operation, the RCCGI  component first obtains the form, that is the static data of the HTML template, step . The Data Store  () provides current settings\u2014\u201cdynamic data\u201d\u2014of the printer  from the Status Server , step . The form and dynamic data are merged into an HTML web page format, step , and returned, step , to the Client .","EMH  Operations",{"@attributes":{"id":"p-0078","num":"0085"},"figref":"FIG. 4C","b":["125","111","133","119","111","127","111"],"sub":["2-N ","1 "]},"The EMH  component discriminates, step , as to whether an e-mail message is incoming to the Server  or outgoing from the Server . For example, as described above, certain Clients  may be registered to receive notification when a change in printer  operational characteristics changes. Following the \u201cOutgoing\u201d path of the flow chart of , the EMH  component receives the message, step , from the Handler  component. In a known manner, the EMH  component reformats the message per SMTP, step . Depending on content and the data stored in the DSM  component \u2014that is, as described hereinbefore, receiving continual printer operational state monitoring data from the Status Server  component\u2014the EMH  component then addresses and transmits the reformatted message, step , as an e-mail to the appropriate registered (see ) Clients .  illustrates an exemplary outgoing message from the EMH  component to predetermined\u2014namely notification registered\u2014Clients .","Following the \u201cIncoming\u201d path of the flow chart of , an incoming message is received via a direct internet interface by the EMH  component, step . The incoming message is in an SMTP (or other industry standard) format. Therefore, the EMH  reformats the data to the appropriate language and format for handling by the Filter  component. The data reformatting is undertaken in a known manner associated with the language, e.g., C++, used in a specific implementation of the present invention. Once reformatted, the data is passed to the Filter  component.","Handlers  Operations",{"@attributes":{"id":"p-0081","num":"0088"},"figref":["FIG. 4D","FIG. 1"],"b":["129","129","455","457","113","121","111","103","1"]},"Filter  Operations",{"@attributes":{"id":"p-0082","num":"0089"},"figref":["FIG. 4E","FIG. 4C"],"b":["127","125","125","127","453","461","463"]},"One decision, step , may be whether the e-mail message received contains a Client  query (see , web balloon \u201cDevice query over e-mail\u201d). Note that specific formats for e-mail to permit queries, diagnostics, job tasks, and the like must be implemented in accordance with appropriate industry protocol standards or in a proprietary format by recognizing and transposing the industry protocol standards. For example, a Client may wish to known what the current printer queue is before sending a print job. The query is tagged as such and forwarded to the Handlers  component, step .","Another decision, step , may be whether an Acrobat print job is attached to the e-mail message. If so,  YES-path, the document is routed via the Handlers  to the Acrobat Reader  component for printing.","Still another exemplary decision, step , may be whether a maintenance type firmware upgrade is being sent by a system administrator type Client . The Handlers  component subroutine can be designed to recognize such as message (subject to suitable security procedures) and begin a firmware upgrade procedure, step , via the Status Server component .",{"@attributes":{"id":"p-0086","num":"0093"},"figref":"FIG. 4F","b":["127","119","115","108","127","115","470","129","481","129","111","119"]},"Again, a specific implementation of the present invention can provide for other Handlers  component subroutines (represented symbolically in  by \u201c. . . \u201d).","When no appropriate Handlers  components subroutine is found to match an e-mail message, step , an error messages is generated and forwarded to the EMH  component via a Handlers  component outgoing e-mail subroutine.","In summary, the present invention provides a method and apparatus for subscribed clients outside a network firewall to query, diagnose, configure, and control a computer peripheral such as a hard copy apparatus from outside the firewall using predetermined web based browser interface applications provided or using electronic mail using predetermined format electronic mail messages. A dedicated status subserver is provided to permit substantially simultaneous communication with a multiplicity of such clients.","The foregoing description of the preferred embodiment of the present invention has been presented for purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form or to exemplary embodiments disclosed. Many modifications and variations will be apparent to practitioners skilled in this art. Similarly, any process steps described might be interchangeable with other steps in order to achieve the same result. The disclosed embodiment was chosen and described in order to best explain the principles of the invention and its best mode practical or preferred application, thereby to enable others skilled in the art to understand the invention for various embodiments and with various modifications as are suited to the particular use or implementation contemplated. It is intended that the scope of the invention be defined by the following claims and there equivalents. Reference to an element in the singular is not intended to mean \u201cone and only one\u201d unless explicitly so stated, but can mean \u201cone or more.\u201d Moreover, no element, component, nor method step in the present disclosure is intended to be dedicated to the public regardless of whether the element, component, or method step is explicitly recited in the claims. No claim element herein is to be construed under the provisions of 35 U.S.C. Sec. 112, sixth paragraph, unless the element is expressly recited using the phrase \u201cmeans for . . . \u201d"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 2","b":"1"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 3","b":"1"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIGS. 4A-4F","b":"1"}]},"DETDESC":[{},{}]}
