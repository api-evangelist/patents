---
title: Secure communication system and method of operation for conducting electronic commerce using remote vault agents interacting with a vault controller
abstract: A secure end-to-end communications system provides end users access to vault-based custom applications of an organization for purposes of conducting electronic commerce. The system includes a web-based vault controller running an application, e.g. a registrations application in a vault cryptographically linked to a database and a Certificate Management System (CMS) for generating digital certificates, and at least one remote vault agent coupled to the vault controller for providing vault-based custom applications to end users. An X.500 directory is coupled to the CMS and cryptographically linked to the remote vault agents for storing end user data. The remote vault agent is an application which comprises a collection of Application Programming Interfaces (APIs) which provide a secure interface to the vault controller; a Lightweight Data Access Protocol (LDAP) used to access the X.500 directory; a secure depositor coupled to vault-based custom applications of an organization. The secure depositor includes APIs to perform cryptographic functions in passing communications between vaults used by the vault agent and vaults used by the vault controller or vaults used by other vault agent applications and a secure depositor library which uses functions in the LDAP to access the X.500 directory. The remote vault agent accesses the web based vault controller on a non-web basis to enable remote custom applications to communicate securely with vault-based applications, such as a registration application that administers digital certificates.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=06892300&OS=06892300&RS=06892300
owner: International Business Machines Corporation
number: 06892300
owner_city: Armonk
owner_country: US
publication_date: 20030108
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF INVENTION","DESCRIPTION OF PREFERRED EMBODIMENT"],"p":["This application is a continuation of the U.S. application identified by Ser. No. 09\/223,764 now abandoned, filed Dec. 31, 1998, the disclosure of which is incorporated by reference herein. The application identified by Ser. No. 09\/223,764 now abandoned claims the benefit of the filing date of provisional application entitled \u201cSecure Server Using Public Key Registration and Methods of Operation,\u201d Ser. No. 60\/087,974, filed Jun. 4, 1998, assigned to the same assignee as that of the present invention, and fully incorporated herein.","This application is related to the following non-provisional applications, all assigned to the same assignee as that of the present invention and all fully incorporated herein by reference:","1. Ser. No. 08\/980,022 now U.S. Pat. No. 6,105,131, filed Nov. 26, 1997 [SE9-97-005 (1963-7131-US1)], entitled \u201cSecure Server and Method of Operation for a Distributed Information System\u201d, issued Aug. 14, 2000, now U.S. Pat. No. 6,105,131.","2. Ser. No. 09\/223,765, filed Dec. 31, 1998 [SE9-98-017 (1963-7256)], entitled \u201cVault Controller Supervisor and Method of Operation for Managing Multiple Independent Vault Processes & Browser Sessions for Users in an Electronic Business System.\u201d","3. Ser. No. 09\/223,834 now U.S. Pat. No. 6,438,690, filed Dec. 31, 1998 [SE9-98-022 (1963-7261)], entitled \u201cVault Controller Based Registration Application Serving Web Based Registration Authorities and End Users for Conducting Electronic Commerce in a Secure End-to-End Distributed Information System.\u201d","1. Field of the Invention","This invention relates to secure end to end communications systems. More particularly, the invention relates to a system and method of operation for conducting electronic commerce using remote vault agents directly interacting with a web based vault controller.","2. Background Discussion","Traditionally, organizations, such as retailers, banks, and insurance companies in conducting electronic commerce, register their customers or users and control their access to organization software applications with a user identification (user ID) and password. The user ID and password establish a user identity for accessing secure information. The password is the \u201cvirtual key\u201d that authenticates a user. However, a password does not provide the necessary security needed for electronic commerce. Passwords have the following limitations:","(a) Can be compromised during log-on by on-lookers;","(b) Can be easily intercepted on the Internet if the transaction is not secured with a secure web protocol, such as a secure socket layer (SSL);","(c) Authenticate a user to a host but not a host to a user;","(d) Can be discovered using automatic \u201ctrial and error\u201d techniques;","(e) Do not protect transmitted information; and","(f) Do not ensure the access is limited to authorized entities and applications.","A new approach to conducting electronic commerce on secure end to end communication systems is described in the cross-reference application. In this approach, digital keys have replaced user identification\/password pairs. Public key cryptography uses mathematically related public\/private key pairs. Only the private key can decrypt the information the public key has encrypted. Only the public key can verify a signature performed with a private key. The public key can be made available to anyone. The private key is kept secret by the holder.","Just as digital authentication is replacing user identification\/password pairs in electronic commerce, digital signatures are replacing physical signatures. A digital signature is a coded message affixed to a document or data that helps guarantee the identity of the sender, thereby providing a greater level of security than physical signatures. A digital signature identifies the sender because only the sender's private key can create the signature. The key also helps ensure the content of the signed message cannot be altered without the recipient being able to discover that the message has been altered. Digital certificates are replacing their physical counterpart\u2014hard copy credentials. Digital certificates issued by a certification authority vouch for (or certify) the key of an individual, software application, organization or business. The certificate performs a role similar to that of a driver's license or medical diploma\u2014the certificate certifies that the bearer of the corresponding private key is authorized (by an organization) to conduct certain activities for that organization.","However, the life cycle of digital certificates is similar to that of physical certificates. Digital certificates are issued after authorization in which a user is given the right to use a digital certificate for a specific amount of time. The certificate may be temporarily suspended when a user reports a lost certificate and re-instated at a later time. The certificate may also be revoked by the organization. Finally, digital certificates expire and for secure end-to-end communications in electronic business, the certificate must be validated to determine whether the certificate has expired, been revoked, or suspended.","Digital certificates are issued through authorized registrars known as Registration Authorities (RAs). The RAs determine whether the applicant should be authorized to access secure applications or services and set in motion a process to issue a certificate. A Certification Authority (CA) issues the digital certificate after approval by the Registration Authority. The certificate is a binding between a public key and an identity, i.e., a person, organization, or computer device. The certificate includes a subject name; issuer name; public key; validity period; unique serial number; and CA digital signature. A CA guarantee's the authenticity of the certificate through its digital signature. The certificate may be revoked at any time. The serial numbers of the revoked certificates are added to a Certification Revoked List (CRL) published in an X.500 Directory based on a standard defined by the International Telecommunications Union (ITU).","A secure operating environment is required by RAs and end users in conducting the registration process for the issuance of digital certificates, which uniquely identify end users. A preferred secures operating environment employs \u201cVault Technology\u201d, described in the above-mentioned cross-related application, Ser. No. 08\/980,022 now U.S. Pat. No. 6,105,131, filed Jun. 13, 1997. Briefly stated, \u201cVault Technology\u201d provides a secure environment in a web server using a vault controller, which provides security from other processes running on the same server. The vault controller provides secure areas as personal storage vaults to which only the owner has an access key. System operators, administrators and others cannot get to stored information or secure processes in such personal vaults. Combined with the well-known Secure Sockets Layer (SSL) protocol, the vault controller enables secure transactions that may require multiple sessions using personal vaults. The personal vault is linked to a particular UNIX account that is linked to a user with a specific vault access certificate. The content of the vault is always encrypted. The vault contains an encryption key pair and signing key pair, both of which are protected. Each vault has a unique distinguished name in an X.500 directory that provides storage for specific items essential to a Public Key Infrastructure (PKI).","To enhance and facilitate the conduct of electronic commerce for both end users and organizations providing vault-based custom applications, a need exists for a remote vault agent, preferably under the control of the business organization, to directly interact with a vault controller on a non-web basis and in a secure end to end manner.","An object of the invention is a remote vault agent providing an improved system and method for organizations to interact directly with vault-based custom applications deployed with a vault controller.","Another object is a remote agent and method of operation serving an organization and directly interacting with a web-based vault controller in registering end users for conducting electronic commerce using secure vault-based custom applications.","Another object is a remote vault agent serving an organization directly interacting with a web-based vault controller in issuing, renewing, revoking digital certificates for end users in conducting electronic commerce with secure vault-based custom applications of the organization.","Another object is a remote vault agent and method of operation for serving an organization directly interacting with a web-based vault controller to securely encrypts, sign and exchange data with vaults.","Another object is a remote vault agent and method of operation, which performs cryptographic functions in transferring data between vault agents and vaults.","These and other objects, features and advantages are achieved in a secure end to end communications system including a web based vault controller running a registration application and cryptographically linked to a database and a Certificate Management System for generating digital certificates. A remote vault agent serving an organization provides end users access to vault-based custom applications of an organization for conducting electronic commerce. An X.500 directory is coupled to the CMS and cryptographically linked to the remote vault agents. The remote vault agent is an application which comprises a collection of Application Programming Interfaces (APIs) which provide a secure interface to the vault controller; a secure depositor using vault APIs to perform cryptographic functions in passing communications between vaults used by the vault agent and vaults used by the vault controller or vaults used by other vault agent applications, and a Lightweight Data Access Protocol (LDAP) used to access the X.500 directory. In a preferred embodiment, the remote vault agent directly accesses the web based vault controller to interact with the registration application to obtain digital certificates which a registered user must present when attempting to access vault-protected services in the custom application. Certificates can be issued, revoked, renewed, suspended and resumed by the remote vault agent without access to the web server to which the vault controller is linked.",{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 1","b":["15","23","23","13","18","13","14","17","17","17","17","17","17","25"],"sup":"1"},"The vault controller  further includes vault process applications , which run in the vaults on the vault controller and are activated when a user presents a vault access certificate.","A secure deposit daemon  is responsible for secure communications between the vaults. When a message is sent from one vault to another, the depositor ensures the message is encrypted and signed before placing it in the queue of a recipient vault. When retrieving a message, the depositor is responsible for decrypting and verifying the signature before returning the message content. A Certificate Management System (CMS)  is outside the vault controller and is accessed by a Certification Authority Agent Daemon . The CMS  is cryptographically linked to the secure depositor  and to a database . Optionally, the CMS may be linked to cryptographic hardware  for purpose of signing certificates for users. The vault agent applications are cryptographically linked to the CMS  and to the X.500 Directory . Likewise the certificate validator application  is linked to the Directory .","In , the structure of a remote vault agent application  comprises an organization's custom application , which sits directly atop a secure depositor Application Programming Interface (API) . The APIs (not shown) are used to: encrypt and sign a buffer of arbitrary length containing text or binary data and store signed and encrypted data in recipients vault message queue; verify the sender's signature, and decrypt the data on the receiving side. The interface uses a secure deposit library  to access the X.500 Directory using a Lightweight Directory Access Protocol (LDAP)  and a Cryptographic Support Library  to perform encryption, decryption, signing and verification functions for the application, the cryptographic keys used by these functions are located in encrypted form in a file. A password must be supplied at \u201cstart up\u201d to allow the vault agent to access the private keys. The secure depositor uses an algorithm to custom map a Distinguished Name (DN) of the vault holder to the Distinguished Name of the vault using information stored in the X.500 directory under the holder Distinguished Name. Information about the location of the recipient vault or vault agent and its cryptographic strength is also stored in the X.500 Directory.","The main function of the remote vault agent is to enable organizations to securely exchange data between applications running in remote vaults and applications running in vaults under the vault controller. The vault agent incorporates a subset of the vault controller's application programming interface which enable the vault agent to send messages and receive messages on a non-web basis to\/from vault processes running on the vault controller. Messages are signed and encrypted before transmission. A TCP\/IP socket connection is used to transmit messages from the secure depositor process to a secure depositor daemon located in the vault controller.","The secure depositor takes the DN of a target vault owner as an argument and accesses the appropriate record from the X.500 Directory to retrieve an attribute. The attribute contains a signed message which is a combination of a vault owner Distinguished Name; vault ID or vault name; vault IP address; vault daemon port number and vault encryption level. The vault ID is concatenated with a subset of the vault owner Distinguished Name to form a complete Distinguished Name for the vault. This methodology facilitates the detection of any modification or replacement of the information used to map to the target vault. When the secure depositor retrieves the signed message from the user DN record, the depositor extracts the vault name from the signed message. The secure depositor then retrieves the encryption certificate from the X.500 directory and encrypts the message to the target vault. Combining the vault owner DN and the vault name in the signed message provides two benefits. The first benefit is that the secure depositor can verify that the vault name is actually bound to the user DN and this binding has not been modified. The second benefit is that if someone has replaced the signed message in the user DN record with that from another record, the user DN in the signed message will not match the DN in the X.500 record. The secure depositor will then reject the encryption attempt.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 3","b":["23","15","45","21"]},"In step , the vault agent  sends a request to an automated registration authority  in the vault controller. The message is handled by the secure depositor daemon .","In step , the daemon stores the request in a queue  serving the automated Registration Authority .","In step , the automated registration authority retrieves the message, verifies that the sender is authorized to perform the requested action, then forwards a new message to the certification authority agent  via queue .","In step , the Certification Authority (CA) agent  signs the certificate\u2014through the certification agent\u2014and returns it to the automated Registration Authority.","In step , the automated Registration Authority sends the certificate back to the remote vault agent by way of the secure depositor daemon  which is then placed in the queue  of the vault agent. The remote vault agent then delivers the certificate in step  to the appropriate user  accessing the remote vault agent .",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 4","b":["23","17","15","17","52"]},"Summarizing, a remote vault agent directly interacts with a vault controller on a non-web basis and in a secure end-to-end manner for performing various tasks in connection with applications running in the remote vault agent and\/or in the vault controller, among which is the issuance of digital certificates to end users authorized to have access to vault-based custom applications.","While the invention has been shown and described in the preferred embodiment, various modifications may be made therein without departing from the spirit and scope of the invention as defined in the appended claims, in which:"],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"DESCRIPTION OF THE DRAWING","p":["The invention will be further understood from the following detailed description of a preferred embodiment taken in conjunction with an appended drawing, in which:",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 2","b":"1"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 4","FIG. 1"]}]},"DETDESC":[{},{}]}
