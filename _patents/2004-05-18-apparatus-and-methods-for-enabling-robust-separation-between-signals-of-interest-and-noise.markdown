---
title: Apparatus and methods for enabling robust separation between signals of interest and noise
abstract: Disclosed are methods and apparatus for analyzing the Raze data provided by an optical inspection tool. The Haze data is analyzed so as to detect defects associated with the specimen surface. In general, the Haze data is first conditioned so that background noise which corresponds to low frequency variation on the specimen is separated or removed from the Haze data prior to analysis of such Haze data. In a specific embodiment, low frequency variations in the specimen surface are characterized, in effect, as an optical surface upon which an incident beam is directed. The Haze data that conforms to this resulting polynomial equation is then subtracted from the original Haze data to result in residual data, where slow variations in surface roughness are subtracted out, leaving possible defect information in the residual Haze data. This residual Haze data may then be analyzed to determine whether the specimen contains a defect.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07038773&OS=07038773&RS=07038773
owner: KLA-Tencor Technologies Corporation
number: 07038773
owner_city: Milpitas
owner_country: US
publication_date: 20040518
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED PATENT APPLICATION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF SPECIFIC EMBODIMENTS"],"p":["This application claims priority of U.S. Provisional Patent Application No. 60\/472,032, entitled APPARATUS AND METHODS FOR ENABLING ROBUST SEPARATION BETWEEN SIGNALS OF INTEREST AND NOISE, filed 19 May 2003 by Lionel Kuhlmann, et al. which application is incorporated herein by reference in its entirety for all purposes.","The present invention relates generally to inspection of specimens, such as semiconductor specimens. More specifically, it relates to the analysis of Haze data collected during inspection of bare wafers or wafers that have a uniform film, and the like.","Generally, the industry of semiconductor manufacturing involves highly complex techniques for fabricating integrating circuits using semiconductor materials which are layered and patterned onto a substrate, such as silicon. Due to the large scale of circuit integration and the decreasing size of semiconductor devices, the substrate must be defect free prior to fabrication of the integrated circuits. Thus, inspection procedures for detecting defects, such as particles or scratches, on the bare substrate are therefore critical to maintain quality control. Since the inspection procedures are an integral and significant part of the manufacturing process, the semiconductor industry is constantly seeking to improve the accuracy and efficiency of inspection procedures.","One conventional optical inspection tool for locating defects on bare or unpatterned wafers work by scanning the surface of the bare wafer with a tightly focused laser spot and measuring the amount of light scattered by the illuminated spot on the wafer. One example of such an inspection tool is the Surfscan SP1 DLS and TBI tool available from KLA-Tencor, Inc. of San Jose, Calif.","The incident light may be scattered by defects, such as particles. Thus, one may detect defects by analyzing the light scattered and reflected by the specimen and defects located on the specimen. In addition to gross defects, the surface texture itself produces a certain amount of diffracted light in addition to the light scattered by particle defects. This surface light scatter, commonly referred to as Haze, tends to be concentrated at smaller angles near the specularly reflected light beam. The Haze signal may be analyzed to determine surface roughness. Haze is generally defined as a decrease in the smoothness of a wafer surface from the ideal due to imperfections in the surface, such as, minute steps, contaminants in the grain structure, and other surface defects which cause light scattering or absorption. Subjectively, a wafer surface with a high amount of Haze appears dull while a wafer with little Haze appears glossy. One can then visually inspect the Haze image and generally assess the surface roughness profile.","Although conventional systems for detecting defects work well in certain applications, there is a continuing need for improved inspection apparatus and techniques for facilitating defect detection on bare specimens or specimens having a uniform film layer or stack.","Accordingly, mechanisms are provided for analyzing the Haze data provided by an optical inspection tool. The Haze data is analyzed so as to detect defects associated with the specimen surface. In general, the Haze data is first conditioned so that background noise which corresponds to low frequency variation on the specimen is separated or removed from the Haze data prior to analysis of such Haze data. In a specific embodiment, low frequency variations in the specimen surface are characterized, in effect, as an optical surface upon which an incident beam is directed. In one example, the Haze data that corresponds to the specimen surface is characterized with a polynomial equation, such as a Zernike equation. In other words, a polynomial equation is fit to the low frequency or background noise (or variation) of the Haze data. The Haze data that conforms to this resulting polynomial equation is then subtracted from the original Haze data to result in residual data, where slow variations in surface roughness are subtracted out, leaving possible defect information in the residual Haze data. This residual Haze data may then be analyzed to determine whether the specimen contains a defect. Techniques for enhancing detection of defects by analyzing the residual data are also disclosed. Preferably, techniques for calibrating the resulting residual data so that it is normalized between different inspection tools are also provided.","One useful application of these inventive techniques is to use the Haze analysis results to monitor a processing tool, such as a polishing tool which is used to polish the bare specimen or a uniform film of the specimen. For example, when the polishing pad becomes worn, this wear will affect the Haze data collected from the polished specimens. For instance, variations in the Haze data collected from wafers that were polished by the worn polishing pad may be processed and analyzed so as to determine that the polishing pad is worn. Additionally, in embodiments which include calibration of the residual data so that it is normalized across different inspection tools, the residual data can more accurately and reliably be assessed for deviations which correspond to polishing pad wear, as well as other processing tool problems.","In a specific embodiment, a method of analyzing Haze data provided from a surface of a specimen (e.g., a bare semiconductor wafer or a specimen having a uniform film disposed thereon) is disclosed. Haze data which corresponds to a surface roughness of the specimen is provided. Low frequency variations are then removed from the Haze data to form residual data that corresponds to any defects which are present in the surface of the specimen. In a further embodiment, the residual data is analyzed to determine whether the specimen has any defects.","In a specific implementation, removing low frequency variations from the Haze data is accomplished by fitting the low frequency variations of the Haze data to a fitting plan and subtracting the fitting plan from the Haze data to form the residual data. In a further aspect, the fitting plan is in the form of a two dimensional (2D) polynomial equation. In yet another aspect, the 2D polynomial equation is a Zernike polynomial. In a specific example, Zernike polynomial includes terms for tilt direction, tilt magnitude, and bowl shape. In a further embodiment, the Zernike polynomial has an order greater than 2. In another embodiment, the Zernike polynomial has an order less than 9. In an alternative embodiment, the low frequency variations are removed from the Haze data is accomplished using a filter.","In further aspect, the Haze data is pre-processed to exclude a portion of the Haze data from the fitting plan. In one specific implementation, the pre-processing includes excluding outliers within the Haze data from the fitting plan, and the outliers include intensity values which correspond to the specimen's edge and large blob defects. In a further example, excluding outliers includes determining a mean and standard deviation for the Haze data, determining a threshold which depends on the mean and standard deviation, and excluding Haze data which falls below the threshold from the fitting plan. In a specific embodiment, the threshold is set equal to the mean plus a predetermined factor multiplied by the standard deviation. In another embodiment, the predetermined factor is set equal to 1.5. In another aspect, the predetermined factor is determined experimentally.","In a specific implementation, the residual data is analyzed by a) obtaining a window which contains a portion of the residual data; b) determining a minimum pixel having a lowest intensity and a maximum pixel having a maximum intensity within the obtained window; and c) determining whether the window has a defect based on the minimum pixel, the maximum pixel, and a predetermined threshold. In a first technique, when the minimum pixel minus the maximum pixel is greater than the predetermined threshold, it is determined that the window has a defect. In a second step, when a maximum of (A) a center pixel of the window minus the minimum pixel and (B) the maximum pixel minus the center pixel is greater than the predetermined threshold, it is determined that the window has a defect. Steps (a) through (c) may be repeated for a plurality of windows which contain other areas of the residual data so that all portions of the residual data are analyzed.","In another specific embodiment, the predetermined threshold is determined by determining a histogram based on the residual data; selecting a range of residual values from the residual data; and determining a threshold based on the selected range. In one aspect, the threshold is determined by multiplying a predetermined factor times the range, wherein the predetermined factor varies for each system which provides Haze data so that the threshold is normalized between the different systems. In another aspect, the threshold is determined by multiplying a factor times the range plus an absolute threshold value. In another example, the selected range is between about 5 and 95 percent.","In another aspect, the invention pertains to a computer system operable to analyze Haze data provided from a surface of a specimen. The computer system includes one or more processors and one or more memory configured to perform one or more of the above method operations. In yet another aspect, the invention pertains to a computer program product for analyzing Haze data provided from a surface of a specimen. The computer program product includes at least one computer readable medium and computer program instructions stored within the at least one computer readable product configured to perform one or more of the above described inventive procedures.","These and other features and advantages of the present invention will be presented in more detail in the following specification of the invention and the accompanying figures which illustrate by way of example the principles of the invention.","Reference will now be made in detail to a specific embodiment of the invention. An example of this embodiment is illustrated in the accompanying drawings. While the invention will be described in conjunction with this specific embodiment, it will be understood that it is not intended to limit the invention to one embodiment. On the contrary, it is intended to cover alternatives, modifications, and equivalents as may be included within the spirit and scope of the invention as defined by the appended claims. In the following description, numerous specific details are set forth in order to provide a thorough understanding of the present invention. The present invention may be practiced without some or all of these specific details. In other instances, well known process operations have not been described in detail in order not to unnecessarily obscure the present invention.","In general terms, the present invention provides techniques and apparatus for analyzing Haze data obtained from a bare specimen or a specimen having one or more uniform films. Although the present invention is mainly described below as being applied to bare semiconductor wafers, it may be applied to other types of specimens which consist of a bare substrate or have a uniform film or film stack deposited thereon. Prior to analysis of the Haze data, the Haze data is first filtered so as to eliminate background noise, such as low frequency variations across the specimen or wafer.","Background noise is generally defined as intensity values which correspond to a specimen's global roughness as it slowly varies across the specimen. Background noise does not include variations which typically correspond to defects, such as scratches, pits, trenches, bumps, dimples, polishing defects, etc. in the sample's surface For instance, the Haze data may include background noise in the form of intensity values having a \u201cbowl-shape\u201d profile across the wafer, where the intensity values rise at the wafer edges and drop in values towards the center of the wafer. Other examples of background noise include any combination of the following: a uniform roughness of the specimen surface, an angled plane of the specimen surface, and higher order roughness variations of the specimen surface.","After the background noise is subtracted or filtered from the Haze data, the residual Haze data may then be analyzed to detect defects or high frequency variations across the specimen. Defects may include scratches, pits, trenches, bumps, dimples, and polishing defects in the sample surface. Techniques and apparatus for effectively analyzing the Haze data for defects are also provided and described further below.",{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIGS. 1A through 1C","FIG. 1A"],"b":"100"},"As shown, the Haze data includes background noise  and two large scratch type defects and . The scratch type defects are exaggerated to better illustrate the techniques of the present invention. The two large scratch defects  may difficult to detect in the presence of the background noise . That is, the scratches  may be difficult to distinguish from the background noise .",{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 1B","FIG. 1A","FIG. 1C","FIG. 1B","FIG. 1A","FIG. 1A","FIG. 1C"],"b":["110","110","120","110","100","102","102","120"],"i":["a ","b "]},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 2","b":["200","202","204","206","208"]},"The Haze data may be provided in any suitable manner. Systems for inspecting bare wafers may typically provide such Haze data. One example system is the Surfscan SP1 DLS tool available from KLA-Tencor, Inc. of San Jose, Calif. The fitting plan generally conforms to the global or low frequency variations within the Haze data. For example, any two dimensional polynomial may be utilized for the fitting plan. Alternatively, the Haze data may be filtered through any filtering mechanism. Zernike polynomials are well known within the optics industry and broadly used functions for describing the wave front of optical systems in terms of aberrations. In the present invention, Zernike polynomial may be applied to the Haze data so that the surface is characterized as an optical surface.","The Zernike polynomials are a set of orthogonal polynomials that arise in the expansion of a wave front function for optical systems with circular pupils. The odd and even Zernike polynomials are given by",{"@attributes":{"id":"p-0038","num":"0037"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"{","mtable":{"mtr":[{"mtd":{"mrow":{"mrow":[{"mmultiscripts":{"mi":["U","n","m","o"],"mprescripts":{},"none":{}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}},{"mrow":[{"msubsup":{"mi":["R","n","m"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03c1"}},{"mi":"sin","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["m","\u03d5"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}],"mo":"\u2062"}],"mo":"="}}},{"mtd":{"mrow":{"mrow":{"mrow":[{"mmultiscripts":{"mi":["U","n","m","e"],"mprescripts":{},"none":{}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}},{"mrow":[{"msubsup":{"mi":["R","n","m"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03c1"}},{"mi":"cos","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["m","\u03d5"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}],"mo":"\u2062"}],"mo":"="},"mo":","}}}]}}},{"mrow":{"mo":["(",")"],"mn":"1"}}]}}}},"br":{},"sub":"n","sup":"m"},{"@attributes":{"id":"p-0039","num":"0038"},"maths":{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"msubsup":{"mi":["R","n","m"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03c1"}},{"mo":"{","mtable":{"mtr":[{"mtd":[{"mrow":{"munderover":{"mo":"\u2211","mrow":[{"mi":"l","mo":"=","mn":"0"},{"mrow":{"mo":["(",")"],"mrow":{"mi":["n","m"],"mo":"-"}},"mo":"\/","mn":"2"}]},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mfrac":{"mrow":[{"msup":{"mrow":{"mo":["(",")"],"mrow":{"mo":"-","mn":"1"}},"mi":"l"},"mo":"\u2062","mrow":{"mrow":{"mo":["(",")"],"mrow":{"mi":["n","l"],"mo":"-"}},"mo":"!"}},{"mrow":{"mrow":[{"mrow":{"mrow":[{"mi":"l","mo":"!"},{"mo":["[","]"],"mrow":{"mrow":{"mfrac":{"mn":["1","2"]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["n","m"],"mo":"+"}}},"mo":"-","mi":"l"}}],"mo":"\u2061"},"mo":"!"},{"mo":["[","]"],"mrow":{"mrow":{"mfrac":{"mn":["1","2"]},"mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"mi":["n","m"],"mo":"-"}}},"mo":"-","mi":"l"}}],"mo":"\u2061"},"mo":"!"}]},"mo":"\u2062","msup":{"mi":"\u03c1","mrow":{"mi":"n","mo":"-","mrow":{"mn":"2","mo":"\u2062","mi":"l"}}}}}},{"mrow":{"mrow":[{"mi":["for","n"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mi":["m","even"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}}],"mo":"-"}}]},{"mtd":[{"mn":"0"},{"mrow":{"mrow":[{"mi":["for","n"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},{"mi":"m","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},"mrow":{"mi":"odd","mo":"."}}],"mo":"-"}}]}]}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"2"}}]}}}}},"Here, \u03c6 is the azimuthal angle with 0\u2266\u03c6\u22662\u03c0 and \u03c1 is the radial distance with 0\u2266\u03c1\u22661.","Any arbitrary radial function F(\u03c1,\u03c6) can be represented in terms of Zernike polynomials as",{"@attributes":{"id":"p-0041","num":"0040"},"maths":{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"mi":"F","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}},{"munderover":{"mo":"\u2211","mrow":{"mi":"m","mo":"=","mn":"0"},"mi":"\u221e"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":["n","m"],"mo":"="},"mi":"\u221e"},"mo":"\u2062","mrow":{"mo":["[","]"],"mrow":{"mrow":[{"msubsup":{"mi":["A","n"],"mrow":{"mi":"m","mo":"\u2062","mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},"mo":"\u2062","mrow":{"mmultiscripts":{"mi":["U","n","m","o"],"mprescripts":{},"none":{}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}}},{"msubsup":{"mi":["B","n","m"]},"mo":"\u2062","mrow":{"mmultiscripts":{"mi":["U","n","m"],"mprescripts":{},"none":{},"mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mo":"\u2062","mi":"e"}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}}}],"mo":"+"}}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"3"}}]}}}},"br":{},"sub":["n","n"],"sup":["m ","m "]},{"@attributes":{"id":"p-0042","num":"0041"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mo":"{","mrow":{"mrow":[{"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":{"msubsup":{"mi":["A","n","m"]},"mo":"=","mrow":{"mfrac":{"mrow":[{"mo":["(",")"],"mrow":{"mi":"n","mo":"+","mn":"1"}},{"msubsup":{"mi":"\u025b","mrow":{"mi":["m","n"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mn":"2"},"mo":"\u2062","mi":"\u03c0"}]},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mn":["0","1"]},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mn":"0","mrow":{"mn":"2","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"\u03c0"}},"mo":"\u2062","mrow":{"mrow":[{"mi":"F","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}},{"mmultiscripts":{"mi":["U","n","m","o"],"mprescripts":{},"none":{}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}},{"mo":"\u2146","mi":"\u03d5"},{"mo":"\u2146","mi":"\u03c1"}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mi":"\u03c1","mstyle":[{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}},{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}]}}}}},"mo":","}}},{"mtd":{"mrow":{"mrow":{"msubsup":{"mi":["B","n","m"]},"mo":"=","mrow":{"mfrac":{"mrow":[{"mo":["(",")"],"mrow":{"mi":"n","mo":"+","mn":"1"}},{"msubsup":{"mi":"\u025b","mrow":{"mi":["m","n"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},"mn":"2"},"mo":"\u2062","mi":"\u03c0"}]},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mn":["0","1"]},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mn":"0","mrow":{"mn":"2","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mi":"\u03c0"}},"mo":"\u2062","mrow":{"mrow":[{"mi":"F","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}},{"mmultiscripts":{"mi":["U","n","m","e"],"mprescripts":{},"none":{}},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u03c1","\u03d5"],"mo":","}}},{"mo":"\u2146","mi":"\u03d5"},{"mo":"\u2146","mi":"\u03c1"}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mi":"\u03c1","mstyle":[{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}},{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}]}}}}},"mo":","}}}]},"mo":["\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mtext":{}},{"mtext":{}}],"mi":"where","msub":{"mi":"\u025b","mrow":{"mi":["m","n"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}},{"mo":"{","mtable":{"mtr":[{"mtd":[{"mfrac":{"mn":"1","msqrt":{"mn":"2"}}},{"mrow":{"mrow":[{"mrow":{"mi":["for","m"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}},"mo":"=","mn":"0"},{"mi":"n","mo":"\u2260","mn":"0"}],"mo":","}}]},{"mtd":[{"mn":"1"},{"mi":"otherwise"}]}]}}],"mo":"="}}},{"mrow":{"mo":["(",")"],"mn":"4"}}]}}}}},"A Zernike fitting algorithm is well suited for applying to a wafer surface due to its circular nature. Once the order of the Zernike fitting is specified, the number of terms can be calculated by the table of . A special case is the order 0, where no fitting is performed. The default value for the order is 3 although other term numbers may be used depending on the particular application. In the analysis, the tilt direction, tilt magnitude, and bowl shape are preferably included for fitting to the Haze data. These terms are defined as follows;\n\nTilt_Drection=tan((2), (1));\n\nTilt_Magnitude=sqrt((2)*(2)+(1)*(1)); and\n\nBowl_Shape=(4).\n\nZ(i), where i equals 0,1,2,3,4, . . . , are Zernike fitting coefficients. An order greater than or equal to 2 may be used to calculate all three parameters. Otherwise, the order is less than 9. The following factors may be considered for selecting the order: good fit, memory usage, and throughput.\n","Since the Haze values at the specimen or wafer edge (as well as any defects) tend to have very high intensity values, these data points may not be used for the fitting because they would otherwise bias the fitting results. That is, when a fitting result which includes such edge values and blob defect values is subtracted from the Haze data, it may inadvertently subtract out the actual blob defects. Accordingly, the Haze data is preferably pre-processed before the fitting plan is estimated and applied to the Haze data. This pre-processing excludes the \u201cBad\u201d Haze pixel data or outliers from the fitting plan. Typically, these outliers will be in the form of edge pixel and large blob defects. These outliers may generally include any large defects or imperfections creating large absolute values as well as high local Haze gradients.",{"@attributes":{"id":"p-0045","num":"0044"},"figref":["FIG. 3B","FIG. 3C","FIG. 3B"],"b":["300","310","302","304","306","310","302","304","306"]},"The factor \u03b1 may be determined a number of ways. For example, a first default \u03b1 may be selected and applied to samples having known defects. The factor \u03b1 is then adjusted until the defects are not excluded from the Haze data after the fitting plan is subtracted. The fitting plan may be based on a portion of the smaller defects or none of the defects. A \u03b1 value of 1.5 has been found to work well.","The outliers may be found using global statistics from all of the wafer. Alternatively, the outliers for a particular window or area of the wafer may be found using local statistics, which is a more sensitive approach. However, the tradeoff is robustness because a global approach tends to be more robust than a local approach.","As shown in , portions of the Haze data that have an intensity value above a value equal to the mean \u03bc plus \u03b1 times the standard deviation \u03c3 (i.e., \u03bc+\u03b1\u03c3) are excluded from the fitting plan, while Haze data below a value equal to the mean \u03bc plus \u03b1 times the standard deviation \u03c3 are included within the fitting plan.",{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 4","b":["408","410","412","402","404","404","406","402","408","402","408","412","412","408","410","404","406","402","402","410","412","410"],"i":["a ","b"]},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIGS. 5A through 5B","b":["500","500"]},"After the residual data is obtained, portions of this residual data may be analyzed window by window to determine whether a defect is present within each window.  shows a first window  having center pixel  within residual image . When this window  is moved to the right one pixel, window  having center pixel  results, as illustrated in . In a first technique, a pixel having a minimum intensity and a pixel having a maximum intensity are determined for each window. The maximum intensity pixel value is subtracted from the minimum intensity pixel value for each window to result in a intensity difference. This intensity difference is then compared to a predetermined threshold to determine whether a defect is present for the windows central pixel. For example, if the difference intensity is greater than the predetermined threshold, it is determined that a defect is present for the central pixel.","When the first technique is applied to , the maximum and minimum intensity pixel each have a value of 0 for window . The difference in intensity is also equal to 0 for window . If the predetermined threshold is equal to 10, for example, then it will be determined that window  and its corresponding center pixel  do not have a defect. In contrast, the window  and center pixel  of  are determined to have a defect. More specifically, the maximum pixel value is 20 and the minimum value pixel is \u221210 for window . Subtracting the minimum pixel value \u221210 from the maximum pixel value 20 results in a difference value of 30 for window . This difference intensity value of 30 is greater than the exemplary threshold of 10. Accordingly, it may be determined that center pixel  of window  has a defect.","In a second technique, the following parameters are determined for each window:\n\n\u2212min()\n\n=max()\u2212\n\nIt is then determined whether the maximum of these two parameters A and B is greater than the predetermined threshold. If the maximum of these two parameters is greater than the predetermined threshold, it is determined that the center pixel has a defect.\n","When the second technique is applied to , the parameters A and B have a value of 0 for window  since all of the pixels have a 0 value. Accordingly, the maximum of A and B is 0 for window . When the predetermined threshold is equal to 10, for example, then it is determined that window  and its corresponding center pixel  do not have a defect since the maximum value of 0 for window  is less than the threshold value of 10. In contrast, the window  and center pixel  of  are determined to have a defect. More specifically, the maximum pixel value is 20 and the minimum value pixel is \u221210 for window . The center pixel  has a value of 0. The A parameter then equals the center pixel value 0 minus the minimum pixel value \u221210, resulting in A=10 for window . The B parameter then equals the maximum pixel value 20 minus the center pixel value 0, resulting in B=20 for window . The maximum of A and B for window  is then equal to 20. Accordingly, it may be determined that center pixel  of window  has a defect since this maximum 20 is greater than the threshold value 10.","The predetermined threshold may be determined in any suitable manner. Since the Haze variation or the roughness of the wafer in the case of polished silicon wafers increases during the production of batches of wafers, an adaptive threshold approach is preferable utilized. In this technique, a histogram of the residual data is first determined as illustrated in . A range is then selected to include a significant portion of the residual data. In one embodiment, the range includes 5% to 95% of the residual intensity values. The goal is to exclude the probable defects from this range. A variable factor may then be multiplied with this range value to determine a variable threshold. In a specific embodiment, the threshold is determined by the following formula;\n\n\n","The parameter \u03b1 is a relative threshold factor and parameter \u03b2 is a fixed or absolute threshold value. Thus, when an absolute threshold is desired, parameter \u03b1 is set to zero. When a relative threshold is desired, the parameter \u03b2 may be set to zero. The parameter \u03b1 is then multiplied against a variable range (R) value to obtain a threshold value which depends on the range (R) of intensity values. A value of 0.5 for \u03b1 seems to work well.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 7","b":["10","10","20","22","24","20","26","28","30","22","24","20","20","28","30","32","22","24"],"i":"a "},"The area or spot illuminated by either one or both-beams on wafer  scatters radiation from the beam(s). The radiation scattered by area along directions close to a line  perpendicular to the surface of the wafer and passing through the area is collected and focused by lens collector  and directed to a PMT .","Since lens  collects the scattered radiation along directions close to the normal direction, such collection channel is referred to herein as the narrow channel, and  as the dark field narrow collector. When desired, one or more polarizers  may be placed in the path of the collected radiation in the narrow channel.","Radiation scattered by spot of wafer , illuminated by either one or both beams , , along directions away from the normal direction  is collected by an ellipsoidal collector  and focused through an aperture  and optional polarizers  to dark field collector . The outputs of detectors ,  are supplied to a computer  for processing the signals and determining the presence of anomalies and their characteristics.","Preferably, axi-symmetrical collectors are used. In the illustrated embodiment, the wide and a narrow collector are used to collect Haze data. Since the ellipsoidal collector  collects scattered radiation along directions at wider angles from the normal direction  than lens , such collection channel is referred to as the wide channel or collector. Lens  is referred to as the narrow channel or collector. In alternative embodiments, Haze data may be obtained from a bright field channel, a phase channel, and a segmented (in angle) channel. In general, Haze data is obtained by averaging the scattered light collected within a certain XY spatial extent (and angle according to the chosen collector). The Haze data may be separated from the point defects in any suitable manner, such as a lowpass filtered version of the total scatter.","Regardless of the system's configuration, it may employ one or more memories or memory modules configured to store data, program instructions for the general-purpose inspection operations and\/or the inventive techniques described herein. The program instructions may control the operation of an operating system and\/or one or more applications, for example. The memory or memories may also be configured to store images of scanned specimens and position data, as well as values for particular operating parameters of the system.","Because such information and program instructions may be employed to implement the systems\/methods described herein, the present invention relates to machine readable media that include program instructions, state information, etc. for performing various operations described herein. Examples of machine-readable media include, but are not limited to, magnetic media such as hard disks, floppy disks, and magnetic tape; optical media such as CD-ROM disks; magneto-optical media such as floptical disks; and hardware devices that are specially configured to store and perform program instructions, such as read-only memory devices (ROM) and random access memory (RAM). The invention may also be embodied in a carrier wave traveling over an appropriate medium such as airwaves, optical lines, electric lines, etc. Examples of program instructions include both machine code, such as produced by a compiler, and files containing higher level code that may be executed by the computer using an interpreter.","Although the foregoing invention has been described in some detail for purposes of clarity of understanding, it will be apparent that certain changes and modifications may be practiced within the scope of the appended claims. Although the techniques of the present invention has been described as being applied to bare or unpatterned samples, of course, they could also easily be applied to patterned wafers. Here, the wide collector signal is split and combined electronically to suppress the pattern noise. Therefore, the described embodiments should be taken as illustrative and not restrictive, and the invention should not be limited to the details given herein but should be defined by the following claims and their full scope of equivalents."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 1A"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":["FIG. 1B","FIG. 1A"]},{"@attributes":{"id":"p-0019","num":"0018"},"figref":["FIG. 1C","FIG. 1B","FIG. 1A"]},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 3B"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":["FIG. 3C","FIG. 3B"]},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIGS. 5A through 5B"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
