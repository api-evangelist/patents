---
title: Systems and methods for trading of text based data representation
abstract: A method for sharing encrypted data and encryption keys through a system comprised of the following data types, but not limited to a; 1) Record and its encryption key, 2) RecordSet and its encryption key, and 3) Entity and its encryption key. A Record is encrypted using an encryption key, furthermore, the Record encryption key is encrypted using a RecordSet encryption key, and finally, both the encrypted Record and its encrypted encryption key are wrapped as a single unit, to avoid key the expensive operations of key lookup and general key operation overhead. Access control to the RecordSet encryption keys are provided by a combination of data types, but not limited to a; 1) Entity and its encryption key, 2) Ciphers, and 3) Trusted Entity Lists. For each Entity which is authorized access to access a RecordSet, an encrypted Cipher, made of both the Entity encryption key and RecordSet encryption key, is added to a Trusted Entity List. Tokens are protected by user defined secrets, comprised of Entity encryption keys.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09436849&OS=09436849&RS=09436849
owner: 
number: 09436849
owner_city: 
owner_country: 
publication_date: 20141121
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION","PATENT CITATIONS"],"p":["The field of the invention is access control of key wrapped data encryption and sharing.","Data storage in a trust-no-one environment requires encryption keys to be protected. Data sharing requires keys to be shared. These two requirements contradict each other, which is what our key encryption mechanism will solve: A key encryption mechanism that achieves a trust-no-one architecture and facilitates data sharing.","Having direct hardware or database access typically provides a backdoor to shared data in most conventional computer systems; compromising security. An invention of trust-no-one access control is highly desirable.","In a typical computer system, individual records need to be decrypted in order to be shared or regrouped. An invention that can share or regroup encrypted data without any decryption is a more efficient improvement.","In most modern systems, sharing encrypted data requires sharing encryption keys in order for recipients to trust data, to trust the data's origin, and to decrypt data. Key management is an expensive operating overhead in systems that have a lot of keys, data, and users. Alternatively, some systems decrypt and share unencrypted data to avoid key management overhead, and consequently, compromising data security and privacy. An invention that allows sharing encrypted data and encryption keys with minimal key management overhead is highly desirable.","Using this mechanism, records can be stored in their encrypted form without storing any of the encryption keys. No centralized key store is required. None of the record keys, recordset keys, entity keys, token secrets, or the user's passwords, are stored directly in the database. Having direct hardware or database access does not automatically mean one has data access, which is the cornerstone of \u201cTrust No-One\u201d Architecture.","A key encryption mechanism that achieves a trust-no-one architecture and facilitates data sharing. This mechanism is also distributed and requires no centralized key store. All access control is achieved through the encryption of different keys.","The heart of the key wrapping mechanism is the 3 tier structure: Record, RecordSet and Entity.","Having direct hardware or database access does not automatically mean one has data access, which is the cornerstone of a \u201cTrust No-One\u201d Architecture.","The individual record keys purpose is so that when sharing records, or during regrouping, the records do not need to be decrypted.","When the user changes a user defined key, only the entity key needs to be re-encrypted.","Among the many different possibilities contemplated, additional methods may advantageously be provided to share tokens, create keys, update keys, distribute keys, and modify shared records.","Various objects, features, aspects, and advantages of the present invention will become more apparent from the following detailed description of preferred embodiments of the invention, along with the accompanying drawings in which like numerals represent like components","An Entity is referring to users or user-groups who want access to the record.","A System is referring to both a software and hardware implementation of this invention. The techniques presented herein may be implemented with any state of the art computer programming languages (including but not limited to, Javascript, Java, Objective-C, C, C++, C#, PHP, Python, Swift), development tools, platforms or frameworks (including but not limited to LAMP, and MEAN stacks).","Data Store may be representative of a plurality of data stores as can be appreciated.","The Token Key, Entity Key, Record Key, and RecordSet Key are all generated using a bitstream, which can either be a byte, an integer, or a bit sequence. The bitstream can be either system generated, or user defined.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":"FIG. 1","b":["100","101","101","102","104","104","105","103","101","105","104","104"]},{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 2","b":["200","201","201"]},"The RecordSet  maintains a list of trusted entities . The Trusted Entity List  is used for sharing and access control. The Trusted Entity list  may contain one or more Entity References . The Entity Reference  is referring to Entity record , that has access to the particular RecordSet . When an entity is being assigned to RecordSet , that Entity Reference  is added to the Trusted Entities list .","The Entity Reference  contains 3 sections: Entity Name , Access Level , and RecordSetKeyCipher . The Entity Name  is the name of the entity that has access to the RecordSet . The Access Level  indicates the abilities the entity can perform on the RecordSet . The Access Level  can have the value of either READONLY or READWRITE. The RecordSetKeyCipher  is essentially the encrypted RecordSet key . The RecordSet key  is a random generated key that was created when the RecordSet  got created. The RecordSet key  is encrypted by the Entity key  to form the RecordSetKeyCipher .",{"@attributes":{"id":"p-0060","num":"0059"},"figref":"FIG. 3","b":["300","301","301","302","303"]},"Data  in the Record Data section  is protected by a Record key . The Record key  is generated during record creation time and will stay with the record for the life-time of the record. The purpose of having individual Record keys  is so that the records  do not need to be decrypted when sharing records, or during regrouping.","The Record MetaData section  may contains one or more RecordSet References . The RecordSet Reference  is referring to a logical group of Records  which is know as RecordSet  in this invention. The implication is that each Record  can belong to multiple logical groups. Data sharing and data access control of this invention is being controlled via the use of the RecordSet Reference . The Record  can be shared to multiple users\/entities. The Entity would only have access to records based on the RecordSet  that the entity belongs to.","Each RecordSet Reference  contains the RecordSetId  and the RecordKeyCipher . The RecordSetId  identifies the RecordSet  that Record  belongs to. The Record key  is encrypted by the RecordSet key  to form the RecordKeyCipher . The RecordKeyCipher  is stored in the Record MetaData section  and will be used with the RecordSet key  to obtain the Record key  to unlock the encrypted data .",{"@attributes":{"id":"p-0064","num":"0063"},"figref":"FIG. 4","b":["400","401","103","105","104","104","206","207","402","207","307","308","403","308","304","404"]},{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 4","b":["410","411","304","308","308","207","307","412","307","301","302","207","104","206","413","206","201","104","105","414"]},{"@attributes":{"id":"p-0066","num":"0065"},"figref":"FIG. 5","b":["500","501","502","503","502","511","503","207","503"]},{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 5","b":["510","511","511","511","501","511","512","513","514","515","516"]},"The Token Key  must match with the Token Key  of the Sharing Token . The Expiration Date  allows the system to determine if the token is still valid. The Type  identifies the type of the sharing. The Target Entity Id  identifies the entity that has access to use the share token. The RecordSetKeyCipher  is the encrypted RecordSet that can be decrypted by using the Sharing Token Secret .",{"@attributes":{"id":"p-0069","num":"0068"},"figref":"FIG. 5","b":["520","502","511","521","522","513","523"]},{"@attributes":{"id":"p-0070","num":"0069"},"figref":"FIG. 5","b":["530","503","206","207","531","207","307","308","532","308","304","533"]},{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 6","b":["600","601","601","501","601","207","307","601"]},{"@attributes":{"id":"p-0072","num":"0071"},"figref":"FIG. 6","b":["610","501","207","601","207","307","601"]},{"@attributes":{"id":"p-0073","num":"0072"},"figref":"FIG. 7","b":["700","701","105","702","105","704"]},{"@attributes":{"id":"p-0074","num":"0073"},"figref":"FIG. 8","b":["800","801","802","201","207","206","104","207","301","308","304","308","308","207","301","803","804"]},{"@attributes":{"id":"p-0075","num":"0074"},"figref":"FIG. 9","b":["900","901","902","202","903","400","904"]},{"@attributes":{"id":"p-0076","num":"0075"},"figref":"FIG. 10","b":["1000","1001","1002","202","1003","400"]},{"@attributes":{"id":"p-0077","num":"0076"},"figref":"FIG. 11","b":["1100","1101","1102","1103","1104","202","202","308","207","303","1105","1106"]},{"@attributes":{"id":"p-0078","num":"0077"},"figref":"FIG. 12","b":["1200","1201","501","1202","202","511","1203","207","503","516","511","501","1204","501"]},{"@attributes":{"id":"p-0079","num":"0078"},"figref":"FIG. 12","b":["1210","1211","501","502","1212","520","201","1213","201","201","503","301","201","1214","1215"]},{"@attributes":{"id":"p-0080","num":"0079"},"figref":"FIG. 12","b":["1220","1221","501","502","1222","520","1223","201","1224","201","201","503","301","201","1225","1226"]},{"@attributes":{"id":"p-0081","num":"0080"},"figref":"FIG. 13","b":["1300","1301","520","1302","1303","1304"]},{"@attributes":{"id":"p-0082","num":"0081"},"figref":"FIG. 14","b":["1400","1401","1402","202","207","206","104","1403","601","301","307","207","308","308","601","601"]},{"@attributes":{"id":"p-0083","num":"0082"},"figref":"FIG. 15","b":["1500","1501","601","1502","601","202","201","202","308","207","301","1503"]},{"@attributes":{"id":"p-0084","num":"0083"},"figref":"FIG. 16","b":["1600","1601","1602","1602","1603","1602","1603"]},"Record Key  may not be publicly shared. As such, vulnerabilities of any sharing acts alone would not compromise access to Record Key . At renewal of some RecordSet Key , there would be no need to renew associated Record Keys . There would also be no need to generate new Record Keys , and no need to encrypt again Record Data . The is a potential gain in performance and efficiency as a result. However, using new Record Keys  while replacing a RecordSet Key  may be useful in some alternative use cases.","RecordSet  and Shared Tokens  may be associated with Access. When access is revoked, RecordSet Keys  may be renewed, yet no need to renew Record Keys . Expiration by date and time is a preferred embodiment, while alternative embodiments may also be implemented using a shared token , or RecordSet , or Trusted Entity List . In some alternative embodiments, renewal of Record Keys  and Record Data  may also be advantageous.","In the preferred embodiment, JSON is thought to be the choice of data representation, and thus is used for illustration purpose in many of the diagrams wherever applicable.",{"@attributes":{"id":"p-0088","num":"0087"},"figref":"FIG. 1","b":["2100","2100","2110","2120"]},"Method  illustrates the flow of turning JSON data into a single cipher. JSON data enters the system in step , which is then encrypted using an encryption method in step . The result of the encryption is a long string as seen in step , resulting in a single cipher.","Method  illustrates the flow of turning JSON data into a composite cipher structure. JSON data enters the system in step , which is then encrypted using an encryption method in step , resulting in the same JSON structure wherein all contained values are encrypted as ciphers. The result found in step  is still a JSON data where the original name-value pair structure is preserved.","The encryption method used can be any modern methods capable of carrying out cryptology. SHA  and AES are among the many alternatives contemplated.",{"@attributes":{"id":"p-0092","num":"0091"},"figref":"FIG. 2","b":["2370","2200","2221","2224","2223"]},"The JSON Data Core  section contains the encrypted JSON Sale Data . A Record key  is a randomly generated key that was generated at encryption time. Each Encrypted JSON Record  is associated to a unique Record key . The Record key  should stay with the Encrypted JSON Record  for the lifetime of the Encrypted JSON Record . The Record key  is used to encrypt and decrypt the JSON Sale Data . The Record key  is encrypted and stored in the Record Meta Data  section as the RecordKeyCipher attribute .","The Encrypted JSON Meta Data  section contains elements that provide information about the encryption of the data such as RecordKeyCipher , Algorithm , and idFields . In some embodiments, the Record Meta Data  may contain an array of one or more of these attributes.","The RecordKeyCipher  element contains the encrypted Record key . The Access key  encrypts the Record key . The Access key  is a randomly generated key string. The purpose of the Access key  is to provides users with access to the JSON Sale Data . Only users with the Access key  would be able to decrypt the Record key  and ultimately using the Record key  to decrypt JSON Data Core  to obtain the Sale Data . An important advantage of using Access key  during sharing and data transfer is that the encrypted JSON Data Core  does not need to be decrypted, and the Record key  does not need to be shared. In some embodiments, the Access key  may be used to encrypt group of Record keys  hence giving users access to a subset of records.","The Algorithm  attribute identifies the crypto algorithm used to encrypt the data as well as the Record key . This helps to ensure obtaining the original sale data by using the same consistent algorithm for decryption.","The idFields  contains a list of id fields that will not be encrypted by the encryption method. The ID field attribute contains a list of attributes that represent the object's identities. These attributes will not be encrypted and will remain in plain text. Many databases require ID fields in order to store JSON objects. If the content in the ID fields point to an embedded object, the entire object will not be encrypted.",{"@attributes":{"id":"p-0098","num":"0097"},"figref":"FIG. 3","b":["2300","2323","2324","2370"]},"In the preferred embodiment, a composite cipher structure is used to store individually encrypted values . The advantage of a composite cipher structure is the capability to support discovery and analysis of the Sale Data  without decrypting any of the values. Note that there is an additional price element  in this illustration. The price element is an example of a core attribute  that is stored unencrypted in the Data Core .",{"@attributes":{"id":"p-0100","num":"0099"},"figref":["FIG. 3","FIG. 3"],"b":["2323","2361","2362","2363"]},{"@attributes":{"id":"p-0101","num":"0100"},"figref":["FIG. 4","FIG. 3","FIG. 3"],"b":["2400","2423","2424","2473","2474","2464","2424","2364","2300"]},{"@attributes":{"id":"p-0102","num":"0101"},"figref":["FIG. 5","FIG. 5","FIG. 2"],"b":["2500","2205","2207","2206","2568","2500","2200"]},{"@attributes":{"id":"p-0103","num":"0102"},"figref":"FIG. 6","b":["2600","2601","2208","2208","2602","2209","2603","2209","204","604","2224","2209","2208","2605","2205","2205","2223","2221"]},{"@attributes":{"id":"p-0104","num":"0103"},"figref":"FIG. 7","b":["2700","2221","2701","2223","2208","205","2209","2702","2209","2224","2204"]},{"@attributes":{"id":"p-0105","num":"0104"},"figref":"FIG. 8","b":["2800","2221","2801","2221","2208","2208","2221","2208","2802","2221","2208"]},"Upon receiving both the JSON record  and the Shared key , the Target system generates a new target Access key  in step . In step , the Target system decrypts the RecordKeyCipher  using the Shared key  to obtain the Record key . The Target system then encrypts the Record key  with the new target Access key . The Shared key  can now be discarded as it is no longer needed. The Target system stores the Encrypted JSON objects into their data stores in step . The Target system securely protects the new Access key in step .",{"@attributes":{"id":"p-0107","num":"0106"},"figref":"FIG. 9","b":["2900","2902","2903"]},{"@attributes":{"id":"p-0108","num":"0107"},"figref":"FIG. 10","b":["1000","3002","3003","2363","2363","2374"]},{"@attributes":{"id":"p-0109","num":"0108"},"figref":"FIG. 11","b":["3100","3102","3103"]},{"@attributes":{"id":"p-0110","num":"0109"},"figref":"FIG. 12","b":["3200","3220","3230","3240","3210","3210","3211","3220","3221","3211","2370"]},"On the other hand, the online API  makes it possible for buyers  carry out various trade transactions, such as browsing for sale data and their list prices . When trade transactions successfully complete, access keys are typically provided through the online API  to buyers, for the delivery of purchased digital merchandise. Furthermore, the online API provides support of transactions that may not be directly related to transactions of trading of sale data. Examples include support of social network tags or feedback provided by potential buyers. The online API to the product attributes of sale data typically applies such updates.","Service providers  are authorized parties who have administrative access to sale data, who can provide updates to the servicing attributes of sale data . One of the many servicing attributes that have been contemplated is a warranty expiration date, whose values can vary depending on one or more factors, such as date of transaction, license agreements, and so on.","In addition to data providers , buyers , and service providers , other roles have also been contemplated in alternative embodiments. It is thought that their use of the marketplace is to be carried out through the same online API identified in the preferred embodiment.","Data  can be changed efficiently. The same Record Key  can be used to encrypt changed data, and Record Data  can be replaced without changing any Record Key  or RecordSet Keys .  illustrates a Data Update Diagram . Operations , , , and  are the Data Decryption steps found in diagram. Data  is updated with the changes in operation . Using the same Record Key , data  is encrypted and updated to the data store in operation .","Access Control module, RecordSet Sharing module, and Key Wrap module can run all at the same location (see  diagram), separate locations, or a combination of both. There may or may not be firewalls between each modules. Data and keys may not be required to upload to a single location in order to share.  illustrates an Alternative System Architecture Diagram . In some scenarios, there may be a need for each module to be on different computing environments.",{"@attributes":{"id":"p-0116","num":"0115"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"56pt","align":"left"}}],"thead":{"row":[{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}},{"entry":["Cited",{},"Publi-",{},{}]},{"entry":["patent","Filing","cation",{},{}]},{"entry":["application","Date","Date","Applicant","Title"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["14\/050,947","Oct. 10,","Jul. 10,","SafelyLocked,","TECHNIQUES"]},{"entry":[{},"2013","2014","LLC","FOR SECURE"]},{"entry":[{},{},{},{},"DATA"]},{"entry":[{},{},{},{},"EXCHANGE"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}}}}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0034","num":"0033"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0036","num":"0035"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0037","num":"0036"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0038","num":"0037"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0041","num":"0040"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0042","num":"0041"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0043","num":"0042"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0044","num":"0043"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0045","num":"0044"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0048","num":"0047"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0049","num":"0048"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0050","num":"0049"},"figref":"FIG. 29"},{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 30"}]},"DETDESC":[{},{}]}
