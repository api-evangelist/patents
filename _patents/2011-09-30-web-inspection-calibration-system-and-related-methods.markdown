---
title: Web inspection calibration system and related methods
abstract: Systems and methods for calibrating a web inspection system using data from a calibrated point sensor, using a frequency spectra-based analysis. A sensor measures a web property of interest, which is then converted into the frequency domain, as is information from a web inspection system. A correlation model is then created to allow calibration of the web inspection system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08553228&OS=08553228&RS=08553228
owner: 3M Innovative Properties Company
number: 08553228
owner_city: Saint Paul
owner_country: US
publication_date: 20110930
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","SUMMARY","DETAILED DESCRIPTION","Example","Optical Density","Example","Retardance and Orientation of Fast Axis for Birefringent Films","Example","Correlation Based on Frequency Spectra Analysis"],"p":["This application is related to U.S. patent application Ser. No. 12\/133,487 (now U.S. Pat. No. 7,773,226), and application Ser. No. 12\/786,975 (now U.S. Pat. No. 7,957,000), both entitled \u201cWeb Inspection Calibration System and Related Methods\u201d.","Certain web properties lend themselves to optical inspection. Such properties may either be directly observable (such as transmissivity, or aberrations such as scratches or other cosmetic defects) or be sufficiently correlated to an optically-observable property as to be measurable. For example, for a non-woven web, a property correlated with an optically-observable property, but not directly observable, is its insulating capability, which is often measured by thermal conductivity. A web's thermal conductivity can be measured by monitoring the rate of heat flux across a known temperature gradient, but such measurement is difficult in on-line, production-type environments. However, if the web's construction allows for light transmission, its thermal conductivity may be correlated to the brightness of light transmitted through it and into a series of optical sensors. Thus, using the optical signal of light transmitted through the web, the web's thermal conductivity can be characterized using known optical sensing technologies, provided the optical signal can be calibrated to thermal conductivity units. Thermal conductivity is just one example of a property that may be measured by optical inspection techniques. Other example properties include surface roughness, thermal diffusivity, porosity, crystalinity, and thickness, to name a few, as well as of course optical properties like optical density, transmissivity, reflectivity, and birefringence.","An issue for quantitative inspection schemes (and to a lesser degree qualitative inspection schemes) is the calibration of the sensor or sensors that comprise the web inspection system such that it yields data about the web property of interest in units of measurement calibrated to be within some margin of error of a known standard.","Systems and methods for calibrating a web inspection system are disclosed. More specifically, systems and methods for real-time, on-line calibration of a web inspection system are disclosed. Generally, these systems and methods involve the use of a sensor up-web (or down-web) from the web inspection system, the sensor configured to accurately measure a web property of interest in calibrated units. Information provided from this sensor is converted to the frequency domain (using a Fourier transform, or similar), as is information provided from a web inspection system (for example a camera). A frequency range of interest is provided, and a correlation model created for this frequency range. This calibration model is then used to enable calibration constants for the web inspection system (within the frequency range) to be computed real-time or near real-time, most often without interrupting the normal manufacturing process of the web. In various embodiments, this calibration system may eliminate the need for down-time or resource-intensive tests associated with traditional approaches to web inspection system calibration. Further, using the systems and methods disclosed herein, a web inspection system may be configured to provide quantitative information about a web property in engineering units. In some embodiments, quantitative information may be used to compare properties of web processes on different lines, or compare data across web inspection systems, or analyze the performance of the same web inspection system over single or multiple runs.","Web inspection systems consist of quantitative and qualitative embodiments. A quantitative inspection system yields inspection information about a web property in units calibrated to a known standard, for example in engineering units. This is contrasted with qualitative inspection systems, which focus on the relative change of a web property over time. Qualitative inspection systems may be sufficient to recognize signal patterns indicative of particular process defects (such as chatter, die lines, mottle, and other typical non-uniformities). However, as qualitative inspection systems rely on no absolute target levels or calibration procedures, they yield no reproducible metric (or set of metrics) that can be used by an operator to track whether the web process is in control, or whether changes to the process have reduced the web's level of non-uniformity from one run to the next.","Sensors and imaging systems used for inspecting web-based products must be calibrated periodically. The particular calibration schedule depends on such things as the type of web being inspected, and that web's property of interest that is subject to the inspection. Additionally, environmental conditions in the operating environment (temperature, humidity, dust levels, and so forth) and production and maintenance schedules may cause inspection systems to go out of calibration, and thus necessitate calibration every few days, every few hours, or possibly even more frequently. Approaches to calibrating optical sensing equipment for web inspection generally fall into one or more of several categories.","First, the \u201coff-line\u201d approach to calibrating a web inspection system involves recording the signal (optical or otherwise) produced by the web inspection system when that system is exposed to a known sample or known set of samples. In the case of an optical inspection system, this is often done by placing a series of samples into the optical path or paths of the inspection system, possibly at multiple positions. This off-line approach requires that normal web processing or production be interrupted while samples are placed into the location normally occupied by the web. A variation on this off-line approach is to move the web inspection system (including illumination devices) to an off-web position, generally adjacent to the line and outside the web path, where the sensing response associated with a standard sample or samples can be recorded, and thus the web inspection system calibrated. After calibration the web inspection system is restored to its web-inspection position. While the inspection system if off-line, being calibrated, web processing may proceed, but absent a second inspection system (which is costly), such processing may not be within control.","A second approach attempts to obtain calibration data while normal web is being produced, that is, using as-produced web, albeit with as yet unknown properties. To do this, the inspection system records data from a first section of web whose location is either marked or otherwise known to the web handling system. When the first section of web reaches the winder, it is cut from the remainder of the web, usually as an \u201cend-of-roll\u201d sample, and taken to a quality control lab. Provided that accurate location information is available such to allow positions on the sample to be registered with the data stored by the inspection system when the sample passed through the inspection station, off-line quality control instruments can be used to provide calibration data for the inspection system. This approach is resource intensive and requires careful attention to sample registration to achieve good data, and also suffers from a substantial time lag between when the sample initially passed through the inspection station and when the calibration becomes available.","A third approach involves some combination of the above two approaches. For example, a known sample may be placed outside the edges of the normal web path, but within the area viewed by the inspection system. This provides ongoing calibration data for the outermost sensor elements while product is still running However, transferring calibrations to web inspection system sensor(s) over the normal web, whose properties are unknown, requires knowledge of the relation between the responses of the inner sensor elements and the responses of the outer sensor elements, and those responses must remain fixed relative to each other at all times. In another example, calibration samples are exposed to various portions of the inspection system's field-of-view, thus adding additional known offsets to the unknown properties of the web. This places some restrictions on the statistical variations of the web during calibration, and also changes the range that the inspection system may have to operate over.","The multiple point calibrations of an inspection system required for the approaches described above are tedious and may require a relatively large number of human operators, a large capital investment in an automated calibration system, or a combination of both. Further, changes to components that comprise the inspection system (for example the intensity distribution of a light source providing illumination to a camera, or the alignment between the source and receiving optics in a laser scanner) necessitate further calibration(s).",{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 1","b":["6","6","1","1","1","1","1"]},"Web W moves from left to right, possibly as part of a manufacturing or converting process. Sensor W is shown positioned up-web from web inspection system W but it could also be positioned down-web from web inspection system W. In one embodiment, sensor W could even be positioned so as to receive signals from the same web area as web inspection system W. In such embodiment, one or more beamsplitters could be used on signals emanating from a web area (provided both the sensor W and web inspection system W are based on optical signals).","Sensor W, in one embodiment, is a single readout sensor configured to receive inspection signals emanating from a single lane W of web W, and then generate signals indicative of this response. Sensor W may be any type of sensor\u2014for example it may be an optical sensor (sensitive to, for example, visible light, ultraviolet, infra-red, or near infra-red, or employing terahertz imaging techniques), or a sensor configured to receive some type of electromagnetic radiation, or a sensor configured to receive acoustic waves. Sensor W is calibrated to accurately measure a property of web W in calibrated units. It is not necessary that sensor W be a single point sensor, but the calibration transfer to the web inspection system described below uses a single data stream. Where sensor W is not a single point sensor, a single data stream may be provided by averaging signals from several adjacent sensing elements that comprise sensor W (camera pixels, capacitive sensing elements, and so forth) to obtain a single data stream. There is no strict limit to the number of sensing elements that comprise sensor W, however, the more elements there are in sensor W, the more difficult it may become to assure they are all calibrated to the same response relative to one another.","Web inspection system W is, in one embodiment, a line-scan camera, which at least receives inspection signals associated with the same single lane W as single output sensor W, as well as a lane other than lane W. A line-scan camera is relatively inexpensive and ubiquitous, but the same or similar calibration techniques and systems as described herein could accommodate other types of inspection systems. For example, rather than line-scan cameras, web inspection system W may also comprise laser scanners, time-delay integration cameras, area scan cameras, other array sensors, or some combination of these systems. Web inspection system W may receive signals from a width of web W that is less than the entire width.","Sensor W is periodically calibrated against a known standard. The timing of sensor W calibration is dependant on the propensity of the sensor to drift out of calibration and the tolerances required for a particular web processing environment. For example, an optical density gauge used as sensor W can be configured to measure the light transmission of a web within a particular wavelength band, but as the light source ages, its spectral output and\/or power levels might change so as to affect the accuracy of the data coming from the sensor. The response of such a sensor could be checked periodically using a known standard or set of standards to correct for such a drift.","The calibration of a sensor W, as compared with the calibration of a web inspection system such as a line scan camera, is a rather trivial matter and may be accomplished in one embodiment by swinging the single output sensor off-line to receive signals from a known standard or set of standards. Alternatively, the sensor W may be calibrated using known techniques in a quality control laboratory located near the manufacturing line. As another alternative, sensor W could be sent in to a manufacturer or a vendor laboratory or even a national laboratory such as the National Institute of Standards and Technology for calibration. During calibration of sensor W, web inspection system W may continue inspection of the web using its previously calibrated state. In some cases it may be desirable to configure web handling system W with a plurality (2, 3, or even more) of single output sensors, such that at any given time, at least one is on-line and receiving signals from web passing in lane W, such that a calibrated signal is received from at least one single output sensor while any of the other single output sensor(s) is off-line being calibrated (and vice-versa).","Sensor W, in one embodiment, is configured to measure the same property as web inspection system W. For example, both sensor W and web inspection system W may in one embodiment be configured to respond to inspection signals (in this case light) in the range visible to humans. Alternatively, however, web inspection W may be configured to measure a property different than that measured by sensor W, but strongly correlated to it. An example of a strongly correlated property is where sensor W measures thickness of the web via an ultrasonic transducer, and the web inspection system W is a line scan camera sensitive to light in the human-visible spectrum. Another example of a web property strongly correlated with light in the human-visible spectrum is, at least in some cases, thermal conductivity, discussed above.","Quantitative imaging system W may be an application-specific or general purpose computer with memory and a central processing unit that receives input from sensor W and web inspection system W and analyzes the input to apply, or in some embodiments determine, a calibration model for web inspection system W. A calibration model is one or more numerical values or algorithms that define a mathematical relationship used to convert output signals from web inspection system W from raw data into calibrated units. There are two general calibration models that will be described herein. The first calibration model, which is the \u201csensor to inspection system calibration model\u201d defines the mathematical relationship between sensor W and the portion of inspection system W associated with the same lane W as sensor W. The second calibration model, which is the \u201ccross-web calibration model\u201d defines the mathematical relationship between lanes that comprise inspection system W's cross-web field-of-view.","Quantitative imaging system  determines the cross-web calibration model by processing data sets associated with lane W (which is calibrated to point sensor W via the sensor to inspection system calibration model) and data sets associated with one or more lanes other than lane W, as well as data describing the cross-web signal profile of the inspection system.","Quantitative imaging system W is shown in  as a single system, but in alternative embodiments it may be comprised of a plurality of computers, networked together or standing alone, that execute various software algorithms in support of the calibration techniques described herein.",{"@attributes":{"id":"p-0030","num":"0029"},"figref":["FIG. 2","FIG. 2","FIG. 2","FIG. 2","FIG. 2"],"b":["5","1","5","1","1","1","5","5","1","5","5","5","5"]},"I\/O module P interfaces with sensor W and web inspection system W. I\/O module P receives data streams from sensor W and web inspection system W. In one example embodiment, depending on the particular implementation of quantitative imaging system W, I\/O module P also provides command and control information to sensor W and\/or web inspection system W. For example, elsewhere in this disclosure is described an embodiment of a cross-web transport device upon which sensor W is affixed, such that sensor W may move cross-web. I\/O module P, in such an embodiment, could provide control signals that dictate such cross-web movement. Also, I\/O module P may provide other information to generally control either sensor W or web inspection system w. Input received by I\/O module P may be provided to other modules directly or stored in database P for subsequent analysis.","Database P is a data store implemented in a computer memory such as random access memory or a hard disk drive, or some combination thereof. It may be simply computer memory, a flat file, or a database such as that marketed by Microsoft Corporation of Redmond, Wash. under the trade name \u201cSQL Server.\u201d Database P handles data storage needs of any of the functional modules that comprise quantitative imaging system W. Data streams emanating from sensor W and web inspection system W may be stored in database P, as well as data that comprise calibration models.","Web inspection system control module P provided command and control signals via I\/O module P to web inspection system W. The particular functionality supported by web inspection system control module P is dependant largely on the command and control interface provided by the particular web inspection system W chosen for implementation.","For example, some line scan cameras that could comprise web inspection system W have application programming interfaces such to support a particular set of functionality; such functionality would exist in  within web inspection system control module P. If web inspection system W has output that needs to be converted (for example, a raw voltage which needs to be converted into units), the means for conversion is implemented within web inspection system control module P.","Sensor control module P is to the sensor control module P what web inspection system control module P is to the web inspection system W, mutatis mutandis.","Sensor-to-inspection system calibration module P analyzes data from sensor W (provided via I\/O module P and possibly stored in database P) and web inspection system W and establishes the sensor to inspection system calibration model such that output from inspection system W associated with the same cross-web lane as sensor W is converted into the calibrated units of sensor W's output. Examples of this conversion are provided below.","Cross web calibration module P determines, if necessary, and applies the calibration model provided by sensor-to-inspection system calibration module P to the other lanes of web W inspected by web inspection system W, such that data from all lanes the comprise inspection system W's field-of-view are calibrated to lane W. Examples of such a calibration are provided below.","The functional modules described in association with  may have further functionality that is consistent with their general nature, but was not mentioned in this disclosure. Functionality described elsewhere that is not explicitly associated with a functional module listed in  exists within quantitative imaging system W generally. For example, the functionality that provides the alignment of signals emanating from sensor W and web inspection system W exists generally within quantitative imaging system W.",{"@attributes":{"id":"p-0039","num":"0038"},"figref":"FIGS. 3","i":["a ","b "],"b":"3"},{"@attributes":{"id":"p-0040","num":"0039"},"figref":["FIG. 3","FIG. 1","FIG. 3","FIG. 3"],"i":"a ","b":["3","2","3","4","1","3","2","3","3","2","3","1","2","3","1","2","3","2","3","2","3"]},"When the shift value cannot be determined by measuring (or calculating) the time delay between sensor and web inspection system, data analysis techniques such as cross-correlation may be used to determine the shift value necessary to time synchronize data streams emanating from sensor W and web inspection system W. These techniques are possible if data streams from sensor W and the lane-X portion of web inspection system W are similar such that linear cross-correlation methods are adequate to determine misalignments between the data sets. In some cases, data streams from sensing elements adjacent to lane-X of web inspection system W are compared with the data stream from sensor W in order to find the best cross-web alignment for lane-X. The cross-web spatial location on web inspection system W with the best correlation may vary slightly from the physical cross-web location of sensor W due to web steering or potentially even web stretching or shrinking In other cases, where the cross-web spatial resolution of web inspection system W is of a finer scale than the lane-X sensed by sensor W, the signal outputs from several adjacent elements of web inspection system W may be combined so as to better reflect the material in lane-X before the cross-correlation is carried out.","In certain embodiments, it may be advantageous to apply a variable transformation prior to cross-correlation in order to obtain a linear relationship between the data sets, especially in cases where a mathematical model exists for the response functions of the sensors. In other embodiments in which an unknown, possibly nonlinear relationship exists between the data sets, one may employ more general similarity metrics that are known in the art, such as mutual information. The procedure is analogous to that described below, in that the similarity metric is computed for several time shift values, and the data sets are aligned by choosing the time shift that maximizes the similarity metric.","The equations below show one approach to determining the shift value mathematically, in order to synchronize the data streams. The following equations are for non-normalized cross correlation followed by linear regression.",{"@attributes":{"id":"p-0044","num":"0043"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"r","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":{"mi":["x","i"]},"mo":",","mi":"n"}}},{"munder":{"mo":"\u2211","mi":"m"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"mrow":[{"mi":"f","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["x","i"]},{"mi":["y","m"]}],"mo":","}}},{"mi":"g","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["x","i"]},{"mi":"y","mrow":{"mi":["m","n"],"mo":"+"}}],"mo":","}}}],"mo":"\u2062"}}],"mo":"\u2261"}}},"br":[{},{},{}],"sub":["i","i","n","i"],"b":["2","3","4","5","2","3"],"in-line-formulae":[{},{}],"i":["n","x","{r","x",",n"]},"A combination of manual and statistical techniques may also be employed to determine the shift value to be applied to the data streams to achieve synchronization. For example, an estimate of the time it takes for a point on the web to move from sensor W to web inspection system W may be used to establish a window within which to use cross-correlation to get the more accurate data alignment from the peak of the cross-correlation result. The strength of the correlation coefficient can also be used as an indication of sensor errors, as the farther down web distance between the sensor and the web inspection system, the more web steering affects might reduce correlation.","Continuing with , with the data streams aligned, the first and second signal responses are next analyzed by quantitative imaging system W to produce a calibration model that define(s) the relationship between the respective signal response of sensor W (which will be called the first data stream for the purposes of this figure) and the area of web inspection system W associated with the same lane W as sensor W (which will be called the second data stream for the purposes of this figure) (step F).","A first exemplary technique described herein uses linear regression to determine the relationship, and thus correlation factor, between the first and second data streams. Linear regression has been found to work sufficiently well for sensors with similar response functions over a finite range of the measured property. Other techniques may be better suited for other combinations of sensor and web inspection system responses. For example, when dealing with wider ranges of a measured property, local linear regressions could be done at fixed intervals between data sets (for example, after the passage of a certain amount of time or a certain distance of web) or automatically as determined by the magnitude of the measured property. If a nonlinear parametric model is known to relate the data sets, one may employ nonlinear least squares to fit the parameters of the model. In the case of an unknown model, more general nonparametric techniques are well-known in the art. For example, a kernel smoother may be applied to the observed curve relating aligned datasets in order to obtain a nonparametric estimate of the true relationship without recourse to any prior model.","A linear response model for the ielement of the array sensor with no cross talk between adjacent elements, may be written as\n\n()=\u03b1()()+\u03b1()\n\nwhere {tilde over (g)}(x, y)=g(x, y) is the aligned data vector, and {circumflex over (f)} is the estimation vector for the calibrated output. The goal is to find the fitting coefficients, \u03b1, that minimize the least squares error between the measured values from the calibrated sensor, f, and the values predicted by this model, {circumflex over (f)}, derived from the data from the ielement of the array sensor.\n","Thus, letting G be the matrix whose first column is the aligned and weighted array sensor data at position xand f be the single column vector formed from the calibrated single output sensor data, also at position x, we then compute the scalar vector \u03b1 to get the best fit linear scaling and offset values in the least-squares sense:\n\n()=()\n\n=1\n\n\u03b1()=()\u2003\u2003(3a,b,c)\n","It is this scalar vector \u03b1 that comprises the calibration factor (in this example).","Referring now to , a flowchart is shown illustrating a second exemplary technique that can be used to establish the relationship between the first and second data streams, and thus a calibration factor (or factors) or a calibration model. This second exemplary technique involves computations in the frequency domain rather than the time or space domains. One limitation associated with time\/space series implementation (as compared with a frequency analysis) is due to the fact that not all changes in sensor and camera data sets are correlated in exactly the same way. For example, in the low frequency domain typically dominated by gradual changes in material properties and\/or the background environment, the correlation models derived from time-based analysis may not be as accurate. Analysis in the frequency domain also relieves the requirement of strict time alignment between the intensity and reference signals that are necessary for correlation analysis in the time domain. In the frequency domain, data streams don't have to be aligned, but rather just \u201cwindows\u201d of data associated with the same down web lengths of web must be processed for both sensor and inspection system data sets.","This concept may be illustrated with a hypothetical example. Suppose that a process variation of interest has at least some periodically repetitive frequency content within the range of variation. Process operators often have some knowledge of what the range of frequencies associated with particular process variations might be, which can aid in this process, but such knowledge is not necessarily required. Corresponding down web windows of data from both sensor W, and from web inspection system W are collected (, steps F and F). Fourier transform operations are applied to both the signal data (from sensor W) and the image data (from inspection system W) (step F). Other transform operations could be used instead of Fourier transforms, for example wavelet transforms or a filter bank approach (an array of filters all tuned to different frequencies), or Laplace or z-transform methods known in the art. Since data from the sensor W is most highly correlated with lane W of pixel data from web inspection system W, several processing operations are possible at this point. One could crop the image data in the cross-web direction to a single pixel column, in which case 1D transforms can be applied to both data streams. Alternatively, one could simply average together pixel columns in the lane into a single data stream, followed again by 1D transformations applied to both data streams. But those skilled in the art will recognize that the column averaging operation above is a form of a 2D transform applied to the lane of image data. So the general case is to apply a particular 2D convolution kernel to the lane of image data, followed by transformation of the image data and selection of downweb frequency data. In all of these illustrations, the transformed data sets will show amplitudes of variation as a function of frequency, generally referred to as frequency spectra. Fourier transform operations are well known to those skilled in the art, and details about how to select the data window size and carry out the operation will be known to a skilled artisan. An appropriate reference that describes both 1D and 2D transforms is Ronald Bracewell, (McGraw-Hill, 3edition, 1999).","If there is periodic variability in the process that is observable in the signals of both W and W, then both spectra will show spikes in the amplitude spectra at the same frequencies. A frequency range of interest is next selected (, step F). This could be done manually, as, for example, by an operator with some knowledge of processing conditions that may give rise to certain frequencies of down-web anomalies (see the peaks amplitudes shown in , for example, or automatically by, for example, algorithmically identifying frequency peak regions associated with the frequency spectra of the point sensor and the web inspection system. If done algorithmically, data collected from elsewhere in the process may provide information on the periodic cycle of many different potential causes (e.g. roll rotation frequencies, frequency content of tension variations, etc). A process controller could seek out this information, determine appropriate bands to envelop likely causes of periodic variability, and specify the frequency bands of interest to the quantitative imaging system. Within narrow frequency ranges (bands) surrounding any of these spikes, we would expect to have a time-steady (i.e. down web space steady) correlation to hold between the two data streams related to the same output web properties. In another embodiment, a peak detection algorithm can be used, which for example identifies peaks using derivatives of the amplitudes and applying a threshhold value for amplitude of peaks. A skilled artisan will readily see the possible use of other approaches to identifying common frequency bands. The relative amplitudes of the sensor spectra and the web inspection spectra can then be used to establish the relationship, and thus the calibration model, between the two data sets at that particular characteristic frequency range. Several different frequency ranges could be correlated, and the relative relationships might be different for different ranges. In fact, this is expected near the low frequency end of the spectra, since these values correspond to the constant values in the linear regression method described above. In its essence, the two relative amplitudes from the frequency spectra allow for the establishment of a stable relationship between the two signal sets, which is the basis for the correlation model. Focusing on data within the same frequency often improves the signal-to-noise ratio of the correlation model, because it focuses in on repetitive variations and thereby greatly reduces random noise components affecting both signal streams.","With a relationship between sensor W and imaging system W at some frequency or range of frequencies established, the next step is developing the correlation model (, step F).","We will illustrate the development of the model using an application in which visible light is transmitted through a web, but one skilled in the art will see that a similar process can be used for the case where the image is derived from other forms of radiation that are transmitted, reflected, refracted, scattered, etc. through or from the web. The first step in developing the correlation model involves imaging the visible light transmitted through the web with each line of the image being captured in synchronization with a reference clock, if temporal analysis is desired, or a web coupled encoder in the case when spatial analysis is desired. The cross-web width may be subdivided into any number of sub-regions, each of which will yield a discrete measurement. Within each sub-region, a 2-D kernel is applied to the pixel data. The form of the kernel can be chosen to emphasize or de-emphasize certain patterns in the data, but in many cases it is sufficient to choose a kernel which is simply a weighted average corresponding to the spatial response of the point sensor. The simplest case of such a kernel is an average of the column data along each row to create a row-by-row signal that forms the down web data stream from the inspection system, but one skilled in the art will realize that other weighting kernals may also be useful, such as a circular Gaussian kernel for point sensors that have a circular measurement volume. Such an operation is effectively a low-pass filter in the cross-web direction that removes some of the random noise from such sources as analog pixel noise and granularity or porousness in the web material and provides a relatively clean down-web signal for each sub-region. Once these intensity signals have been acquired in arbitrary brightness units, a conversion needs to be applied to express subsequent analysis results in real units of thickness or density.","A form of Beer's law is assumed to model the transmission of light through the product of interest.\n\n\n","The variables I, \u03b1, and z are, respectively, the incident intensity on the back side of the web, the extinction coefficient for the material, and the thickness of the material. All of these variables are generally functions of the wavelength of light used, but we are incorporating the integral over the wavelengths of illumination into the variables listed here. We use the extinction coefficient to encompass cases that involve scattering of light as well as absorption, since the extinction cross section can be expressed as the sum of scattering and absorption processes. An reference describing these dependencies can be found in Craig F. Bohren and Donald R. Huffman, (Wiley, 1ed, 1983).","Taking natural logs on both sides of the equation above, we can make the following manipulation.\n\nln()=ln()\u2212\u03b1\u00b7\n","When a periodic caliper variability exists in the product, a corresponding variability in normally transmitted light will be observed. Taking the difference between these high and low intensities gives the following expressions.",{"@attributes":{"id":"p-0060","num":"0059"},"maths":[{"@attributes":{"id":"MATH-US-00002","num":"00002"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mrow":[{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"msub":{"mi":"I","mn":"1"}}},{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"msub":{"mi":"I","mn":"2"}}}],"mo":"-"},{"mrow":[{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"msub":{"mi":"I","mn":"0"}}},{"mi":"\u03b1","mo":"\u00b7","msub":{"mi":"z","mn":"1"}},{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"msub":{"mi":"I","mn":"0"}}},{"mi":"\u03b1","mo":"\u00b7","msub":{"mi":"z","mn":"2"}}],"mo":["-","-","+"]}],"mo":"="}}},{"@attributes":{"id":"MATH-US-00002-2","num":"00002.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":"I","mn":"1"},{"mi":"I","mn":"2"}]}}},{"mi":"\u03b1","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":"z","mn":"2"},{"mi":"z","mn":"1"}],"mo":"-"}}}],"mo":"="}}},{"@attributes":{"id":"MATH-US-00002-3","num":"00002.3"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":["I","max"]},{"mi":["I","min"]}]}}},{"mi":"\u03b1","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["\u0394","z"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}}}],"mo":"="}}},{"@attributes":{"id":"MATH-US-00002-4","num":"00002.4"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mi":["\u0394","z"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}},{"mfrac":{"mn":"1","mi":"\u03b1"},"mo":"\u2062","mrow":{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":["I","max"]},{"mi":["I","min"]}]}}}}],"mo":"="}}}]},"Where Irepresents one extremum of the measured intensity and Irepresents the complementary extremum of the measure light intensity. The corresponding extrema in web thickness are designated as z, and z.","This last equation is an example of a calibration equation. Once the extinction coefficient, alpha, is known, this may be used to estimate actual caliper variability from measured variability in transmitted intensity. Conveniently, using the log of the intensity ratio excludes the reference intensity from the variability calculation; therefore, changes in backlight intensity do not impact the calibration of variability. If an independent measurement of the actual change in caliper is available, such a signal may used to estimate the extinction coefficient mentioned above. Typically, this reference signal will be a point displacement sensor such as a laser triangulation gauge placed at the same cross-web location as one of the sub-regions mentioned above. The intensity signal from that particular sub-region would then be compared with this reference signal to carry out the calibration method discussed in the following paragraphs. A measure of the reference intensity is sometimes useful if a time-invariant target for the thickness, i.e. transmitted intensity, is also desired. This can be accessed via the DC component (zero frequency) of the spectra.","Well known algorithms for recursive, weighted, least-squares estimation with a priori information are well suited for this task of estimating the extinction coefficient. At the heart of these algorithms is a measurement model that links some inputs or process states to measurable outputs. For linear estimation, this is done through a linear matrix mapping:\n\n\n","For the parameter estimation problem posed here, the measurement model is posed as follows where each element in the y and H vectors corresponds to a matched pair of caliper and intensity measurements:",{"@attributes":{"id":"p-0065","num":"0064"},"maths":[{"@attributes":{"id":"MATH-US-00003","num":"00003"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"y","mo":"=","msup":{"mrow":{"mo":["[","]"],"mrow":{"mi":["\u0394","\u0394","\u2026","\u0394"],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}],"msub":[{"mi":"z","mn":"1"},{"mi":"z","mn":"2"},{"mi":["z","n"]}]}},"mi":"T"}}}},{"@attributes":{"id":"MATH-US-00003-2","num":"00003.2"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"H","mo":"=","msup":{"mrow":{"mo":["[","]"],"mrow":{"mrow":[{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":"I","mrow":{"mi":"max","mo":",","mn":"1"}},{"mi":"I","mrow":{"mi":"min","mo":",","mn":"1"}}]}}},{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":"I","mrow":{"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mo":"\u2062","mrow":{"mi":"max","mo":",","mn":"2"}}},{"mi":"I","mrow":{"mi":"min","mo":",","mn":"2"}}]}}},{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":"I","mrow":{"mi":["max","n"],"mo":","}},{"mi":"I","mrow":{"mi":["min","n"],"mo":","}}]}}}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}}],"mi":"\u2026"}},"mi":"T"}}}},{"@attributes":{"id":"MATH-US-00003-3","num":"00003.3"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"x","mo":"=","mfrac":{"mn":"1","mi":"\u03b1"}}}}]},"According to the algorithm, parameter estimation is recursively updated by the following update equation, which essentially calculates the error between the current model based estimation and the actual measurements and then multiplies it by a gain to determine how much should be added or subtracted from the estimate.\n\n]\n","The following is the expression that determines the gain matrix at each step. The P matrix expresses how much uncertainty is in the current estimate. High uncertainty yields high gain matrices and estimate evolution proceeds aggressively. The R matrix expresses how much uncertainty is expected in the new measurements coming in. When uncertainty in the new measurements is high, the gain matrix is throttled back and estimate evolution is more conservative. When great confidence is placed in the new measurements, the gain of this matrix is large and estimate evolution is accelerated.\n\n]\n","The level of uncertainty in the current estimate is updated based on past adjustments as well as expected deterioration in the quality of the estimate as portrayed through the addition of the deterioration matrix Q.\n\n\n","While a simple execution of this calibration estimation on time series data appears tractable, practical experience suggests undertaking the operation in the frequency domain. One of the main issues with time series implementation results from the fact that not all changes in transmitted intensity are linked to changes in caliper. This is especially true in the low frequency domain typically dominated by gradual changes in material properties and environment. Analysis in the frequency domain also relieves the requirement of strict time alignment between the intensity and reference signals that is necessary for correlation analysis in the time domain.","The method proposed here utilizes the targeted periodic caliper variability that is to be measured and, in one embodiment, takes advantage of prior knowledge about the expected frequency content. Often, the periodic variability is known to fall into a limited frequency band. If this band is sufficiently narrow, the likelihood that intensity variability measured in the same range correlates to caliper variability is high. The resulting favorable signal-to-noise ratio greatly enhances the performance of the parameter estimation. Following this idea, the y vector and H matrix above reflect the natural variability contained in the targeted periodic signal and are populated from spectral content in the expected frequency band of the magnitude spectra from the reference and intensity signals respectively. The magnitude spectra for both signals are estimated using a fast fourier transform (FFT) in combination with a flat top window. The flat top window helps to minimize the effect of FFT bin size and location on the calibration results. The spectral amplitudes for thickness and intensity in each frequency bin are treated as individual measurement pairs. The calculation of \u0394z is straightforward, as the magnitude at each frequency in the limited band is simply doubled. The intensity ratios are calculated by adding and subtracting the magnitude at each frequency in the band to the DC magnitude of the intensity signal to get Iand Irespectively and then taking the ratios of those two sets of numbers.","Even when a nicely limited band has been defined, the signal strength and purity may not always be at desirable levels for good estimation performance. The periodic signal of interest may come and go depending on current process conditions or noise may occasionally enter this frequency band for one sensor or the other. To address this issue, information from a cross-power spectrum between the intensity signal and reference signal is incorporated into the R weighing matrix.",{"@attributes":{"id":"p-0072","num":"0071"},"maths":{"@attributes":{"id":"MATH-US-00004","num":"00004"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"R","mo":"=","mrow":{"mfrac":{"mrow":{"msub":[{"mi":["\u03c3","I"]},{"mi":["\u03c3","r"]}],"mo":"\u00b7"},"mi":"k"},"mo":"\u00b7","mrow":{"mi":"diag","mo":"\u2061","mrow":{"mo":["[","]"],"mtable":{"mtr":{"mtd":[{"mfrac":{"mn":"1","msub":{"mi":["cp","i"]}}},{"mfrac":{"mn":"1","msub":{"mi":"cp","mrow":{"mi":"i","mo":"+","mn":"1"}}}},{"mi":"\u2026"},{"mfrac":{"mn":"1","msub":{"mi":"cp","mrow":{"mi":["i","n"],"mo":"+"}}}}]}}}}}}}}},"The ratio between the product of the standard deviation of the intensity signal, \u03c3, and reference signal, \u03c3, and each cross-power term is used along the diagonal of the weighting matrix. This in effect gives large authority to measurements taken when the intensity and reference signal exhibit relatively high correlation in the frequency domain especially when their amplitudes are high and well above the spectral noise floor. The rate of estimate evolution is most aggressive when strong, coherent signals are present and least aggressive when the signals are weak. An overall gain, k, is included to allow the engineer to tune the overall aggressiveness of the calibration estimation.  illustrates the general setup of the estimation problem.","If input is not received from a user identifying a frequency band of interest, the system may select a frequency band based on analysis of the frequency spectra. For example, a simple high-pass, low-pass, or band-pass selection could be used such that regions of the spectra that are likely to contain unusable data are omitted from the calculations. A thresholding method could also be employed where a frequency band is selected around any spectral peaks that exceed a defined amplitude threshold or regions with energy or energy density in excess of a defined energy threshold.","Regardless of which method is used to establish the relation between the data from sensor W and the web inspection system W for lane W, the final step in calibrating the web inspection system is, optionally, for calibration factors to be applied to remaining cross-web portions of web inspection system W. This is illustrated as step F in . The step is not illustrated in , though the same general techniques may be used. This is termed cross-web calibration. Generally, the response of each of the sensor elements that comprise web inspection system W will vary such that each one may have a slightly different output signal for the same amount of optical energy (in this example) emanating from the sample being imaged. Hence, it is necessary to correct for variation in the responses of the individual elements in the web inspection system in order to obtain calibrated data from the entire web inspection system. In other words, for each sensor element that makes up the web inspection system, it is necessary to find the \u03b1 vectors at each cross-web position, x. This problem is analogous to the \u201cflat field\u201d correction that is often applied to camera-based inspection systems. The key is how to do this efficiently in a case where there may be thousands of cross-web positions xin the imaging inspection system.","The inspection system's non-uniform sensor element, or pixel, response, may arise from differences in both the \u201cbackground level\u201d from pixel to pixel, that is, the signal value (although low, it is not necessarily zero) recorded when the illumination source is turned off, and the \u201cgain\u201d level associated with the amount of increase in output signal associated with a given unit of increase in incident optical power falling on a pixel. If one were to turn off the illumination source, one could record a background signal, and if the camera response is linear, one could take another image of a uniformly bright \u201cwhite\u201d field and characterize the response of the changes in values associated with the pixels. If the camera response is nonlinear, more than just two points would be required to characterize the response.","Several difficulties arise when characterizing cross-web response variations, since background light levels, illumination source intensity profiles, and sensor response factors can all change with time. For example, assume inspection system W images the light transmitted by a reference sample along a line illuminated by light source (for example, a line light, laser scanner, or similar device) with a line scan camera. Define the intensity distribution along the imaged section created by the illumination source as I(x), the transmission of the sample as T(x), with the light collected by the inspection system from the web area A(x) and imaged onto the corresponding discrete sensor in the linear array whose response per unit of light is linear and given by R(x). Further assume that there can be a set of amplifiers, at least one for each pixel, that define gain along the array. Then if b(x) is the signal from the linear array when the illumination light source is off, the signal output along the linear array could be written as\n\n()=()*()*()*()*()+(),\n\nor combining terms, as\n\n()=()*()+()\n","The goal is to find a(x), and b(x), such that one can invert the measured signal S(x) and recover the property T(x) of the web material.","The transmission case above can be generalized to any web property Z(x) by defining \u03b6(x) as the fraction of light output to the inspection system per unit light input and per unit of property Z. Then the generalized form for the signal is\n\n()=()\u03b6()()+()\n","In many cases of interest, neither \u03b6(x) nor b(x) is a function of Z, so this can be written as\n\n()=()\u03b6()()+()\n\nwhich we rewrite as\n\n()=\u03b1()()+()\n\nwhere k is an constant scaling factor, such that \u03b1(x) is the relative signal response profile, consistent with our previous notation. Since the constant k will be found during the linear regression step described earlier, we only need find the relative profile \u03b1(x) to invert the signal and find Z(x). This important in practice because sometimes the cross-web profile calibration must be carried out using different overall gain or exposure levels than used during production so as neither to saturate nor underexpose the inspection system response. However, since \u03b1(x) now contains an additional function other than just the light source and pixel response variations, we can't in general simply image the light source intensity distribution to arrive at the desired profile, although this can be adequate when the property of interest is transmission. In many cases of interest, variations in b(x) with respect to x will be small relative to the signal levels at all x locations, so its dependence on x can be neglected, and its constant value can therefore be found during the linear regression step. Otherwise, b(x) can be recorded by storing the signal with a reference sample in place under normal ambient production conditions except with the illumination source turned off such that \u03b1(x)=0 everywhere.\n","We now define a time-averaged signal as",{"@attributes":{"id":"p-0082","num":"0081"},"maths":{"@attributes":{"id":"MATH-US-00005","num":"00005"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mrow":[{"mo":["\u2329","\u232a"],"mrow":{"mover":{"mi":"S","mo":"^"},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}}},{"mrow":[{"mfrac":{"mn":"1","mi":"T"},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mrow":[{"mi":"t","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},{"mrow":{"mi":"t","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},"mo":"+","mi":"T"}]},"mo":"\u2062","mrow":{"mrow":[{"mi":"S","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}},{"mo":"\u2146","mi":"t"}],"mo":"\u2062"}}},{"mfrac":{"mn":"1","mi":"T"},"mo":"\u2062","mrow":{"msubsup":{"mo":"\u222b","mrow":[{"mi":"t","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},{"mrow":{"mi":"t","mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mn":"0"},"mo":"+","mi":"T"}]},"mo":"\u2062","mrow":{"mrow":[{"mo":["[","]"],"mrow":{"mrow":[{"mi":"k","mo":["\u2062","\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":[{"mi":"\u03b1","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}},{"mi":"Z","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}}]},{"mi":"b","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"x"}}],"mo":"-"}},{"mo":"\u2146","mi":"t"}],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.2em","height":"0.2ex"}}}}}}],"mo":"="}],"mo":"="}}},"br":[{},{},{}],"sub":["0 ","0"],"in-line-formulae":[{},{}],"img":[{"@attributes":{"id":"CUSTOM-CHARACTER-00001","he":"3.13mm","wi":"0.68mm","file":"US08553228-20131008-P00001.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00002","he":"3.56mm","wi":"0.68mm","file":"US08553228-20131008-P00002.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00003","he":"3.13mm","wi":"0.68mm","file":"US08553228-20131008-P00001.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00004","he":"3.56mm","wi":"0.68mm","file":"US08553228-20131008-P00002.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00005","he":"3.13mm","wi":"0.68mm","file":"US08553228-20131008-P00001.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00006","he":"3.56mm","wi":"0.68mm","file":"US08553228-20131008-P00002.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00007","he":"3.13mm","wi":"0.68mm","file":"US08553228-20131008-P00001.TIF","alt":"custom character","img-content":"character","img-format":"tif"}},{"@attributes":{"id":"CUSTOM-CHARACTER-00008","he":"3.56mm","wi":"0.68mm","file":"US08553228-20131008-P00002.TIF","alt":"custom character","img-content":"character","img-format":"tif"}}],"i":["\u015c","x","k","x","Z","x","b","x"]},"The profiles of <\u03b1(x)> and <b(x)> tend to be relatively stable with time (that is, downweb distance) during a given run. Since values for k and b at a particular x location of the web sensor can be found essentially as often as desired using the calibration transfer method described above, the cross-web calibration problem is reduced to that of recording a relative cross-web profile <\u03b1(x)> that is valid over some reasonable duration of time (>>T) to the accuracy levels required for the measurement. If the profile of <\u03b1(x)> is found to drift slightly during a run, then a profile correction can be accomplished using calibrated web sensor data at only a few cross web locations as described below. A new recording for <\u03b1(x)> may be required whenever there is a substantive change to the inspection system, or whenever, for example, a new product configuration changes the profile associated with \u03b6(x).","Recording the relative cross-web calibration profile, \u03b1(x), may be accomplished in several ways. As a first example method, before the web is in production, a single calibration sample could be scanned across the field of view of each sensor in the inspection array to map out the relative cross-web response profile. As long as the property value, call it Z, of this sample is in the range of interest for the web and \u03b6 is only a function of x and not of Z, the exact value of Zwouldn't even have to be known.","A second example method of cross-web calibration is as follows. Before a web is in production, web inspection system W could image a contiguous section of a strip of material whose profile of the desired property has been measured across an area that corresponds to the area viewed by sensor elements that comprise web inspection system W, and the positions measured along the sample strip could be registered with the corresponding elements in the inspection array. In such a case, the range of the desired property along the calibration strip does not need to be completely uniform, as long as the profile of values along the strip is known, the values lie within the operating range for a subsequent web run, and \u03b6 is only a function of x and not of Z. The points on the strip may be physically registered with elements of the array, or cross-correlation analyses may be used to match the known profile along the strip to the measured response from the array elements.","A third example method for cross-web calibration is to acquire an image as the web is being produced, collect the cross-web section of web corresponding to that image, and then use another calibrated sensor to measure properties across the web sample at positions corresponding to those sampled by the inspection system array elements. Several \u201crows\u201d or strips across the sample could be used to reduce the impact of noise from the different sensors. Once again, this method is straightforward as long as \u03b6 is only a function of x and not of Z.","A fourth mode for performing the cross-web calibration in cases where \u03b6 is only a function of x and not of Z is an iterative method that updates the cross-web calibration profile during production of the web. For this fourth mode of performing the cross-web calibration, web inspection system W is comprised of either several stationary web sensors W of similar make fixed at different cross web locations or a movable sensor W, which can be located at several different cross web locations, or a combination thereof, together with a time-average image from the inspection image. The number of cross web sensor locations, call it M, however, is far less than the number of sensing locations, P, in a web inspection system W that is comprised of an imaging system (such as a line scan camera). The web sensor locations yield only a coarse estimate of the true time-average cross-web material property profile, <Z(x)>; in general, this is adequate, because a stable <Z(x)>, often one that is relatively uniform, is the target for well-controlled manufacturing process. So, for example, time averaged data from, say, three web sensors could be used to fit up to a second order profile for <Z(x)>. The fine spatial details in <\u03b1(x)> and <b(x)>, related to variations in the illumination intensity profile and the sensor response and gain factors, are contained within a time-average cross-web signal profile, <S(x)>. We therefore record <S(x)>, compute <\u03b1(x)> using the recorded <b(x)> profile and <Z(x)> as an estimate of the true profile <Z(x)>. This process can be repeated, often with the inclusion of moving one of the point sensors to a new position cross-web position to update the accuracy of the <Z(x)> profile and hence <\u03b1(x)>.","The primary issue that arises in this time-average method is that of distinguishing between cross web variations in the web property <Z(x)> that are constant with time, for example streaks, and variations in <\u03b1(x)> that are also constant with time, as might be caused by, for example, pieces of dirt fallen onto the illumination light source. This is where operations in the frequency domain can help, s the 2D kernel may help to filter out the high frequency cross web variations in the image. Moreover, if the streak wanders in and out under the sensor, it is likely not a periodic wandering, so it's effect would be greatly reduced in the frequency analysis of the sensor data. Incorporating a repositionable sensor which can be driven to the location of the streak or to several positions along the profile to calibrate the actual web property values at those points solves this issue, again without calibrating each sensor in the array that comprises the inspection system in this example.","Alternatively, one could purposely impart a relative change in the cross-web alignment between the inspection system and the web, for example by steering the web or translating the entire inspection system an amount \u0394x relative to the web. New profiles akin to <Z(x)> and <\u03b1(x\u2212\u0394x)> could then be found as above, and spatial variations in the profiles could then be properly attributed to either <Z(x)> or <\u03b1(x)> by comparison to the profile data prior to the displacement. The amount of movement required would depend upon the levels of variation in <Z(x)> and <\u03b1(x)> and the signal-to-noise ratio of the time-average measurements. Other methods might also be readily apparent to one skilled in the art, for example employing dual inspection systems, such that the likelihood that both <\u03b1(x)> and <\u03b1(x)> corresponding to the response both inspection systems have cross-web profile disturbances at exactly the same cross-web locations at the same instant is negligibly small.","In some embodiments, the use of a time-average signal profile obtained during normal web production is used to correct for pixel-to-pixel response variations, and the small number of cross-web calibration points used to correct for slowly varying changes in the cross-web calibration model. The \u03b1(x) vectors form a cross-web response profile, and could be used to transform the inspection system data into a calibrated, quantitative image of the cross- and down-web variations in the web properties. This mode has the advantage that it can be done while film is being produced on the line and updated periodically during a run.","So far we've dealt with the case where the signal dependence on Z is linear and separable. Cases of interest where \u03b6=\u03b6(x,Z) also may arise, as, for example, with properties like porosity and surface roughness, when optical scattering is likely to be important. But this is still the situation that we desire as long as the light signal is monotonically correlated with the property Z, albeit in a nonlinear fashion. The simplest case occurs when the x and Z dependencies in \u03b6 are separable, as in\n\n\u03b6()=\u03be()\u03a8()\n\nthen we simply define a new property\n\n\u2032=\u03a8()\n\nand proceed as before, substituting \u03be(x) as necessary for \u03b6(x) in the above. In order to recover the property Z, we would need to know or separately calibrate the function \u03a8(Z), and this function would have to remain stable during the run. In the case of example method 1, we would need a set of calibrated samples spanning the appropriate range of property values of interest, each scanned across the field of view of the web inspection system at the plane that the web would occupy during production. In example method 2, a set of calibrated strips could be used to span the desired property range. In example method 3, several cross-web samples may have to be collected and measured to characterize the response range of the web inspection system. In these instances, if the functional form of \u03be(x) is known a priori, a smaller number of calibrated samples could be used. In a mode employing the iterative method 4, the nonlinear methods described earlier would suffice.\n","A conceptually similar approach can also handle the most general case, with \u03b6=\u03b6(x,Z). Assume we have a set of N calibration samples that span the desired calibration range with {Z}known for each sample, and that the set of measured responses {S}corresponding to these samples are recorded at multiple cross web positions, x. The number of cross-web positions, j=1 to M, that are required depends on the smoothness of the function \u03b6=\u03b6(x, Z) and the accuracy to which one needs the final measurement. Our experience has shown that the number of cross-web calibration points, M, can be much less than the number of sensing elements in the inspection array, P, for the vast majority of cases of interest. Hence, the first estimate of \u03b6=\u03b6(x, Z) can be obtained by fitting profiles through the M measurements for each of the N realizations of Z, as described above in methods 1-3. The cross-web profiles can then be iteratively updated as described in method 4. Examples of the analytical methods used to do this would be nonlinear least squares in cases where a parametric model for \u03b6=\u03b6(x, Z) was available, and non-parametric kernel smoothing techniques in cases where the model for \u03b6=\u03b6(x, Z) was unknown.",{"@attributes":{"id":"p-0093","num":"0092"},"figref":["FIG. 4","FIG. 4","FIG. 1"],"b":["2","7","2","4","2","5","4","8"]},"With web inspection system W's output thus calibrated, statistical processing methods, image processing algorithms and pattern recognition can be used to separate, classify, and track the severity of defects against benchmarks established in standardized metrics, such as in engineering units. Information about defects, now quantified in standardized metrics, can be used for on-line feedback on product quality, or combined with other process parameters to identify cause and effect relationships. Further, information on defects may be tracked over multiple runs to assess the impacts and tradeoffs associated with various process changes. The information about the defects may also be provided in conjunction with roll-maps to ensure a standardized, confirmable product quality level.","A skilled artisan will recognize many variations on the system described thusly. For example, the system and methods thus described could be adapted for use with an web inspection system comprised of a plurality of line scan cameras.  shows one such system, where web inspection system W includes two line-scan cameras. Sensor W may be manually placed at lanes WX and WX, which correspond to areas within the range of the first and second line scan cameras, respectively, that comprise web inspection system W. Similarly, the sensor W could be mounted to a cross-web transfer device, as discussed earlier, which moves among a plurality of lanes, possibly corresponding cross-web range of web inspection system W.","We demonstrated the ability to measure the calibrated level of optical density of a carbon black coating on a web. The property of interest was the optical density of the carbon black coating at a wavelength of \u03bb=10604 nanometers. Optical density, \u201cOD,\u201d is a logarithmic measure of transmission, T, of the coated film, as\n\nOD(\u03bb)=\u2212log(\u03bb)]\u2003\u2003(1)\n\nwhere\n",{"@attributes":{"id":"p-0097","num":"0096"},"maths":{"@attributes":{"id":"MATH-US-00006","num":"00006"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"T","mo":"=","mfrac":{"mrow":[{"mi":"I","mo":"-","msub":{"mi":["I","bkg"]}},{"msub":[{"mi":"I","mn":"0"},{"mi":["I","bkg"]}],"mo":"-"}]}}},{"mrow":{"mo":["(",")"],"mn":"2"}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0001","list-style":"none"},"li":{"@attributes":{"id":"ul0001-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0002","list-style":"none"},"li":["I=light intensity transmitted through film","I=light intensity incident on film","I=background ambient light leakage with light source off and film present"]}}}},"The carbon black coating obeys Beer's Law of extinction, so light transmitted through the film follows",{"@attributes":{"id":"p-0099","num":"0101"},"maths":{"@attributes":{"id":"MATH-US-00007","num":"00007"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mtable":{"mtr":[{"mtd":{"mrow":{"mrow":[{"mi":"I","mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03bb"}},{"mrow":[{"msub":{"mi":"I","mn":"0"},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03bb"}},{"mo":["(",")"],"mrow":{"mn":"1","mo":"-","msubsup":{"mi":["r","substrate"],"mn":"2"}}},{"mi":"exp","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mo":"-","mrow":{"msub":{"mi":["\u03b1","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03bb"}}},"mo":"\u2062","msub":{"mi":["\u2113","coating"]}}}}],"mo":["\u2062","\u2062"]}],"mo":["=","\u2062"],"mi":{}}}},{"mtd":{"mrow":{"mi":{},"mo":"\u2062","mrow":{"mi":"exp","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mo":"-","mrow":{"msub":{"mi":["\u03b1","substrate"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03bb"}}},"mo":"\u2062","msub":{"mi":["\u2113","substrate"]}}}}}}},{"mtd":{"mrow":{"mo":["=","\u2062"],"mi":{},"mrow":{"msub":[{"mi":"I","mn":"0"},{"mi":["T","substrate"]}],"mo":["\u2062","\u2062"],"mrow":{"mi":"exp","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mrow":{"mo":"-","mrow":{"msub":{"mi":["\u03b1","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"\u03bb"}}},"mo":"\u2062","msub":{"mi":["\u2113","coating"]}}}}}}}}]}},{"mrow":{"mo":["(",")"],"mn":"3"}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0003","list-style":"none"},"li":{"@attributes":{"id":"ul0003-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0004","list-style":"none"},"li":["\u03b1and \u03b1are the extinction coefficients of the coating and substrate, respectively, at the given wavelength","land lare the physical thickness of the coating and substrate, respectively","rand Tare the amplitude reflection coefficient and the transmissivity of the substrate, respectively"]}}}},"Hence, optical density is a nonlinear function of coating thickness, and it varies with wavelength. We installed and calibrated a custom near infrared (NIR) sensor to monitor the OD at 1060 nm (this sensor corresponding to sensor W in FIG. W). The target NIR OD for the coating layer was 0.8, and the substrate had T=0.92. The measured coated substrate OD=0.84, and an independent measure of coating thickness gave l=1.18 \u03bcm, which implied \u03b1(\u03bb=1060 nm)=1.56 \u03bcm. Thus, a variation of \u00b10.02 \u03bcm (\u00b120 nm) in coating thickness corresponded to a \u00b13% change in transmission at \u03bb=1060 nm.","A line scan camera and incandescent line light were used as the web inspection system (corresponding to web inspection system W in ). This web inspection system was used to monitor the uniformity of coating transmission over about a 6\u2033 cross web field of view. The images were normalized using a time-averaged image taken through an uncoated substrate (using a shortened exposure time to bring the signal into range) to account for variations in light source intensity profile and camera response with cross-web position. The NIR sensor was located a distance of about d=12 inches up-web of the line imaged by the camera near the center of the camera field of view, and the data was sampled at the same frequency as the line rate of the camera, f Since the web speed, v, was known, the time delay between the sensor and camera data streams was approximately d\/v, and the NIR data could be shifted forward in time by fd\/v points to approximately align the data sets. In many cases, such \u201cmanual\u201d alignment is adequate, but the accuracy depends on the accuracy to which the separation distance, d, web speed, v, and sampling rate, f, are known. More exact alignment can be found by selecting the shift associated with the peak in the cross-correlation spectrum near this approximate value. Combining the cross-correlation method with the approximate values we knew from the experimental conditions allowed us to select the proper shift even in the presence of a somewhat periodic disturbance in the OD of the web.","There were no filters in front of the line scan camera, so the spectral response was that of a typical silicon charge-coupled device with a peak response wavelength at about 650 nm and minimal response below about 400 nm and above 1000 nm. In other words, there was no attempt to make the camera view the same spectral window as the NIR sensor. The details of spectral extinction profile over the camera response range were unknown, though we knew the transmission was lower when viewed over this range than out the outset. Neglecting background light leakage in both sensors, one can show that in this case, the effect of the substrate transmission is negligible, and the following approximation holds",{"@attributes":{"id":"p-0103","num":"0108"},"maths":{"@attributes":{"id":"MATH-US-00008","num":"00008"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"msub":{"mi":"OD","mrow":{"mi":["coati","ng"],"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}}}},"mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1060"}},{"mfrac":{"mrow":[{"msub":{"mi":["\u03b1","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1060"}},{"msub":{"mi":["\u03b1","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"vis"}}]},"mo":"\u2062","mrow":{"msub":{"mi":["OD","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"vis"}}}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"4"}}]}}}},"br":{}},{"@attributes":{"id":"p-0104","num":"0109"},"maths":{"@attributes":{"id":"MATH-US-00009","num":"00009"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mrow":[{"msub":{"mi":["OD","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"1060","mo":",","mi":"pixel"}}},{"mrow":[{"mo":["[","]"],"mrow":{"mrow":{"mrow":[{"mo":"-","msub":{"mi":"log","mn":"10"}},{"mo":["{","}"],"mrow":{"mi":"T","mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mi":["vis","pixel"],"mo":","}}}}],"mo":"\u2062"},"mo":"-","mn":"0.036"}},{"mo":["[","]"],"mfrac":{"mrow":[{"msub":{"mi":["\u03b1","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mi":"vis"}},{"msub":{"mi":["\u03b1","coating"]},"mo":"\u2061","mrow":{"mo":["(",")"],"mn":"1060"}}]}}],"mo":"\u2061"}],"mo":"="}},{"mrow":{"mo":["(",")"],"mn":"5"}}]}}}}},"The 0.036 offset arises from the substrate transmission, and the last term in brackets is the calibration factor for converting the visible transmission data recorded by the camera into infrared OD units. Using our a priori knowledge of web speed and distance between sensor and camera allowed us to manually shift the data sets into alignment with the aid of side-by-side plots of the two data series. We then adjusted the scaling factor of \u03b1(vis) in eqn (5) until we minimized the least squares difference between the aligned data sets, analogous to the regression method described earlier.","Point sensors and line scan cameras were configured to monitor optical properties of birefringent polypropylene film. In this case, the film stretching process orients polymer molecules and creates a \u201cfast\u201d optical axis nominally in the downweb direction, meaning that the refractive index in this direction is slightly lower than the refractive index measured 90\u00b0 from this axis, that is, the \u201cslow\u201d axis. However, the fast axis is not constrained to align exactly in the downweb direction\u2014downweb alignment is the target, but variations in the process cause the orientation to vary in the range of \u00b13\u00b0 or so. Since the refractive indices along the fast and slow axes are unequal, light waves polarized along these axes become out of phase after propagating through the film. This is called retardation, where the in-plane retardance, R, of a birefringent film is defined as\n\n=()\u2003\u2003(6)\n\nwhere\n\n","The point sensors (corresponding to sensor W in ) were setup such that the incident light passed in series through a polarizer, the film, an analyzer (a 2nd polarizer crossed with the 1), and onto a detector. Both the fast axis orientation and retardance sensors had similar signal response equations:",{"@attributes":{"id":"p-0108","num":"0116"},"maths":{"@attributes":{"id":"MATH-US-00010","num":"00010"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"msub":{"mi":["V","i"]},"mo":"=","mrow":{"mrow":{"msub":{"mi":["A","i"]},"mo":["\u2062","\u2062"],"mrow":[{"msup":{"mi":"sin","mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mn":"2","mo":"\u2062","mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["\u03b2","FA"]},{"mi":"\u03b2","mrow":{"mi":["o","i"],"mo":","}}],"mo":"-"}}}}},{"msup":{"mi":"sin","mn":"2"},"mo":"\u2061","mrow":{"mo":["(",")"],"mrow":{"mfrac":{"mi":"\u03c0","msub":{"mi":["\u03bb","i"]}},"mo":"\u2062","msub":{"mi":"R","mn":"0"}}}}]},"mo":"+","msub":{"mi":["C","i"]}}}},{"mrow":{"mo":["(",")"],"mn":"7"}}]}}}},"br":{},"ul":{"@attributes":{"id":"ul0007","list-style":"none"},"li":{"@attributes":{"id":"ul0007-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0008","list-style":"none"},"li":["i stands either for fast axis (FA) or retardance sensor","V is the signal voltage","A is a gain coefficient accounting for light source intensity, reflection losses, detector response, and amplifier gain","\u03b2is the angle of the fast axis of the film, measured positive CW from the downweb machine direction","\u03b2is the angle of the 1st polarizer pass axis, measured positive CW from the downweb machine direction","\u03bb is the wavelength of light used (determined by the wavelength of the source and any spectral filters in front of the detector), [nm]","Ris film retardance [nm]","C is an offset coefficient (generally near zero) accounting for background light that leaks through polarizers when no film is present, average depolarization of film, and non-zero amplifier offset."]}}}},"The FA and retardance sensor responses differed only by the coefficients, A and C, and the angles of the polarizers, that is, nominal angles for \u03b2=\u221210\u00b0 and \u03b2=\u221245\u00b0. Values for A, C, and \u03b2for each sensor were determined from a calibration procedure, and the source wavelength was known, so the two sensors together measured the unknowns \u03b2and R. Sensitivity analysis showed that when the gain coefficients were adjusted to map the signals into the range [0, 10 V] for films with \u03b2in the range [\u22125, 5\u00b0] and Rin the range [45, 85 nm], the film retardance values had to be taken into account when analyzing the FA response, whereas including the true FA angle of the film (compared to assuming a FA angle of 0\u00b0) had only a minor effect on the retardance value computed from the Rsensor.","Line scan cameras (corresponding to web inspection system W in ) were setup down-web from the sensors to view polarized line lights through the film, and analyzers were mounted on the camera lenses and crossed with the respective polarizers that served as the illumination source. Except for the units of the digitized response, the camera pixels near the center of the field-of-view received signals at near normal incidence (to the web's surface) obey similar response equations to the above. Therefore by aligning the cameras such that the point sensors were within the center of the field of view and synchronizing the camera line rate with the sampling rate of the point sensors, could use the cross correlation and regression operations described earlier to transfer the calibrated responses of the Rand FA point sensors to the central pixels in the respective Rand FA cameras. Note that this operation uses only on-line data from production film; no calibration samples were used to characterize the response of these pixels.","We neglected FA orientation variations completely for the Rimage, since this had only a minor effect, as noted above. For the FA image, we assumed as a first approximation that the Rvalue measured by the point sensor was uniform along the entire line viewed by the camera. This worked fairly well in this application, since chatter and casting wheel speed variations tended to dominate variations in R, and such variations show up as time-varying web thickness extending more or less uniformly across the web. In this way, we didn't need to register the two line scan cameras to ensure that the line arrays were exactly parallel, although such an operation could have been done.",{"@attributes":{"id":"p-0112","num":"0128"},"figref":["FIG. 6","FIG. 6"],"i":["a ","b"]},{"@attributes":{"id":"p-0113","num":"0129"},"figref":"FIG. 7","b":["710","701"]},"Frequency band  includes a peak of interest, clearly occurring in both graph  and . The information used to estimate the calibration coefficient is extracted from the frequency band of interest. Recall from earlier that the calibration method is built around a measurement model equation where x is a vector (of length one in this case) representing the unknown parameters, y is a vector containing the reference measurements taken, and H is a matrix containing elements that describe the modeled dependence the measurements have on the unknown parameters.\n\n\n","In simple terms, the process of estimating the calibration coefficient consists of collecting two sets of several measurements: one closely related to the system involving the unknown parameter and expressed in uncalibrated units, the other coming directly from a measurement of the same subject in calibrated units. Each spectral component in the band of interest,  in , is treated as an individual measurement. The two sets of measurements just mentioned come from the same band in the intensity signal spectrum  and the reference thickness signal spectrum  respectively as indicated in the following equations.\n\n]\n","The collection of reference measurements represented by y consists of the periodic change in thickness occurring at each of the n frequencies in the band of interest where i designates the first frequency falling within this band. As explained earlier, the total change in thickness at given frequency is simply calculated as twice the spectral amplitude at that frequency.",{"@attributes":{"id":"p-0117","num":"0133"},"maths":{"@attributes":{"id":"MATH-US-00011","num":"00011"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"H","mo":"=","msup":{"mrow":{"mo":["[","]"],"mrow":{"mrow":[{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":"I","mrow":{"mi":["max","i"],"mo":","}},{"mi":"I","mrow":{"mi":["min","i"],"mo":","}}]}}},{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":"I","mrow":{"mi":"max","mo":",","mrow":{"mi":"i","mo":"+","mn":"1"}}},{"mi":"I","mrow":{"mi":"min","mo":",","mrow":{"mi":"i","mo":"+","mn":"1"}}}]}}},{"mi":"ln","mo":"\u2061","mrow":{"mo":["(",")"],"mfrac":{"msub":[{"mi":"I","mrow":{"mi":"max","mo":",","mrow":{"mi":["i","n"],"mo":"+"}}},{"mi":"I","mrow":{"mi":"min","mo":",","mrow":{"mi":["i","n"],"mo":"+"}}}]}}}],"mo":["\u2062","\u2062","\u2062","\u2062","\u2062","\u2062"],"mstyle":[{"mspace":{"@attributes":{"width":"1.1em","height":"1.1ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}},{"mspace":{"@attributes":{"width":"0.8em","height":"0.8ex"}}}],"mi":"\u2026"}},"mi":"T"}}}}},"From earlier discussion, we also know that the reference measurements are modeled to vary linearly with the unknown parameter 1\/\u03b1 and that the multiplier is the natural log of the ratio between the maximum and minimum of the periodic intensity variation at each frequency in the band. The maximum and minimum intensities are calculated by adding and subtracting, respectively the spectral amplitude at each frequency to the mean intensity.","Using these primary components in combination with other factors described below, the well-known recursive, weighted, least-squares algorithm, represented in the following three equations, is applied.\n\n]\n\n]\n\n\n","The next step is to define the weighting matrix that will regulate the amount of estimate change that occurs due to each individual data point. For reasons discussed earlier, the weighting matrix is also extracted from the spectral content of the two signals. In order to place more weight on measurements that correspond to instances when the interesting components of the intensity signal and reference signal are highly correlated and large in magnitude relative to the overall noise in the two signals, the following matrix is used for the weighting matrix. At each frequency the relative magnitude between the cross-power spectral components at each frequency in the band of interest to the overall cross-power of the two signals is used to determine how much the estimate is adjusted based on each individual pair of measurement data. If the cross-power component at a given frequency is relatively small compared to the overall cross-power, indicating that two signals are not in agreement that there is meaningful information present at that particular frequency, little change is allowed in the calibration estimate based on the corresponding measurement data at that frequency. The gain, k, is tuned to adjust the overall responsiveness of the estimation algorithm.",{"@attributes":{"id":"p-0121","num":"0137"},"maths":{"@attributes":{"id":"MATH-US-00012","num":"00012"},"math":{"@attributes":{"overflow":"scroll"},"mrow":{"mi":"R","mo":"=","mrow":{"mfrac":{"mrow":{"msub":[{"mi":["\u03c3","I"]},{"mi":["\u03c3","r"]}],"mo":"\u00b7"},"mi":"k"},"mo":"\u00b7","mrow":{"mi":"diag","mo":"\u2061","mrow":{"mo":["[","]"],"mtable":{"mtr":{"mtd":[{"mfrac":{"mn":"1","msub":{"mi":["cp","i"]}}},{"mfrac":{"mn":"1","msub":{"mi":"cp","mrow":{"mi":"i","mo":"+","mn":"1"}}}},{"mi":"\u2026"},{"mfrac":{"mn":"1","msub":{"mi":"cp","mrow":{"mi":["i","n"],"mo":"+"}}}}]}}}}}}}}},"The uncertainty matrix, P, is a scalar in the case, since there is only a single unknown parameter, and is set at some arbitrarily high number, 5000 for example, to allow the algorithm to quickly approach reasonable values for the calibration estimate. After the initial setting, this value is continually adjusted by the algorithm to reflect how much confidence is placed on the current estimate based on the quality of information in recent measurements. Higher values of this variable allow more liberal changes in the calibration estimate for all levels of quality in the incoming measurements.","The last component to the algorithm, the deterioration matrix, Q, is also scalar and is used to prevent the algorithm from becoming too static. This variable in effect applies upward pressure on the uncertainty matrix such that information rich measurements must occur consistently to maintain a low uncertainty; otherwise, the uncertainty will drift upwards and the algorithm will become more open to changes based on new measurements. This parameter is tuned in conjunction with the gain, k, contained in the R matrix by the engineer based on a qualitative assessment of the algorithm's ability to respond to changes in the calibration coefficient."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 3","i":"a "},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 3","i":"b "},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIGS. 6","i":["a ","b "],"b":"6"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 7"}]},"DETDESC":[{},{}]}
