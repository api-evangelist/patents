---
title: Virtual disk utility
abstract: In particular embodiments, a method comprising, by one or more computing devices, installing an application on a portion of a physical disk system of a first platform, virtualizing the portion of the physical disk system into a virtual disk system, comprising, storing data in the portion of the physical disk system in a database of the virtual disk system, providing an interface to access the data stored in the database, and providing a plurality sets of drivers for a plurality of platforms, wherein each set of drivers supports native operations with respect to the portion of the physical disk system on a different one of the plurality of platforms, mounting the virtual disk system on a second platform, and executing the application on the second platform, wherein all operations in connection with executing the application are contained within the virtual disk system mounted on the second platform.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09323778&OS=09323778&RS=09323778
owner: DELL PRODUCTS L.P.
number: 09323778
owner_city: Round Rock
owner_country: US
publication_date: 20110406
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["TECHNICAL FIELD","BACKGROUND","SUMMARY","DESCRIPTION OF EXAMPLE EMBODIMENTS"],"p":["The present disclosure generally relates to cross-platform storage of data and more specifically relates to managing and storing data in a secure and portable manner.","As the value and use of information continues to increase, individuals and businesses seek additional ways to process and store information. One option available to these users is an information handling system. An information handling system generally processes, compiles, stores, and\/or communicates information or data for business, personal, or other purposes thereby allowing users to take advantage of the value of the information. Because technology and information handling needs and requirements vary between different users or applications, information handling systems may vary with respect to the type of information handled; the methods for handling the information; the methods for processing, storing or communicating the information; the amount of information processed, stored, or communicated; and the speed and efficiency with which the information is processed, stored, or communicated. The variations in information handling systems allow for information handling systems to be general or configured for a specific user or specific use such as financial transaction processing, airline reservations, enterprise data storage, or global communications. In addition, information handling systems may include or comprise a variety of hardware and software components that may be configured to process, store, and communicate information and may include one or more computer systems, data storage systems, and networking systems.","The information handling system may include one or more operating systems. An operating system serves many functions, such as controlling access to hardware resources and controlling the execution of application software. Operating systems also provide resources and services to support application software. These resources and services may include a file system, a centralized configuration database (such as the registry found in Microsoft Windows operating systems), a directory service, a graphical user interface, a networking stack, device drivers, and device management software. In some instances, services may be provided by other application software running on the information handling system, such as a database server.","Some information handling systems are designed to interact with other information handling systems over a computer network connection. In particular, certain information handling systems may be designed to monitor, configure, and adjust the features, functionality, and software of other information handling systems by communicating with those information handling systems over a network connection. For example, one information handling system might be configured to manage the installation and updating of software on several other information handling systems.","In the context of the present disclosure, the term \u201cnetwork appliance\u201d may refer to any device, such as an information handling system, which may include a combination of hardware, firmware, and\/or software, that is capable of performing a set of operations or functions in connection with or over a computer network. The actual set of operations or functions a specific network appliance is capable of performing often depends on the hardware, firmware, and\/or software included in that appliance. In the very least, however, a network appliance should be capable of being connected to a computer network.","System management appliances automate file distribution over a network and are available to save time for systems administration professionals and to save money for their companies. System administration professionals seeking to distribute licensed software and systems over a network to many network resources are often constrained by complex, time-consuming, and non-automated deployment. Performing system and software deployment has become increasingly challenging and time-consuming across diverse network, hardware, and software platforms.","Programs are available that archive, backup, and virtualize file systems, such as WinZip, Apple Disk Image, and VMware. Each of these programs use various methods to compress and encrypt platform-specific files. Each of these file systems that are created have various issues. For example, WinZip is considered an archival method, not a virtualization method. Even though .zip files may be transported between various computing devices on a network, the .zip files cannot be mounted and constituent files cannot be directly updated in place. In order for .zip files to be updated, they must first be extracted to a local copy and then replaced into the .zip file. Apple Disk Image backs up data in a copy but performs more like an archival method as opposed to a virtualization method. Further, Apple Disk Image has compatibility issues. For example, an Apple Disk Image, or a .dmg disk image, works only on Mac OS X and has a fixed size set at creation time, as it is essentially a raw disk image, or a backup copy of a hard disk. VMware also has compatibility issues. For example, a VMware virtual disk system created using Windows can be stored as files on a host computer or on a remote storage device but can only be accessed by a Windows machine. Thus, such file systems do not aid systems administration professionals who seek to deploy files across diverse network, hardware, and software platforms.","There are continuous efforts to improve the quality of the cross-platform file distribution over a network. Developers strive to improve file distribution management by reducing processing time and increasing network efficiency.","The present disclosure generally relates to cross-platform storage of data and more specifically relates to managing and storing data in a secure and portable manner.","In particular embodiments, a method comprising, by one or more computing devices, installing an application on a portion of a physical disk system of a first platform, virtualizing the portion of the physical disk system into a virtual disk system, comprising, storing data in the portion of the physical disk system in a database of the virtual disk system, providing an interface to access the data stored in the database, and providing a plurality sets of drivers for a plurality of platforms, wherein each set of drivers supports native operations with respect to the portion of the physical disk system on a different one of the plurality of platforms, mounting the virtual disk system on a second platform, and executing the application on the second platform, wherein all operations in connection with executing the application are contained within the virtual disk system mounted on the second platform.","These and other features, aspects, and advantages of the disclosure are described in more detail below in the detailed description and in conjunction with the following figures.","For purposes of this disclosure, an information handling system may include any instrumentality or aggregate of instrumentalities operable to compute, classify, process, transmit, receive, retrieve, originate, switch, store, display, manifest, detect, record, reproduce, handle, or utilize any form of information, intelligence, or data for business, scientific, control, or other purposes. For example, an information handling system may be a personal computer, a network storage device, or any other suitable device and may vary in size, shape, performance, functionality, and price. The information handling system may include random access memory (RAM), one or more processing resources such as a central processing unit (CPU) or hardware or software control logic, ROM, and\/or other types of nonvolatile memory. Additional components of the information handling system may include one or more disk drives, one or more network ports for communication with external devices as well as various input and output (I\/O) devices, such as a keyboard, a mouse, and a video display. The information handling system may also include one or more buses operable to transmit communications between the various hardware components.","The present disclosure is now described in detail with reference to a few embodiments thereof as illustrated in the accompanying drawings. In the following description, numerous specific details are set forth in order to provide a thorough understanding of the present disclosure. However, the present disclosure may be practiced without some or all of these specific details. In other instances, well known process steps and\/or structures have not been described in detail in order not to unnecessarily obscure the present disclosure. In addition, while the disclosure is described in conjunction with the particular embodiments, it should be understood that this description is not intended to limit the disclosure to the described embodiments. To the contrary, the description is intended to cover alternatives, modifications, and equivalents as may be included within the spirit and scope of the disclosure as defined by the appended claims.","System management appliances automate file distribution over a network and are available to save time for systems administration professionals and to save money for their companies. System administration professionals seeking to distribute licensed software and systems over a network to many network resources are often constrained by complex, time-consuming, and non-automated deployment. Performing system and software deployment has become increasingly challenging and time-consuming across diverse network, hardware, and software platforms. Virtual disk systems may be used to distribute license software and systems over a network to many network resources, but may also be used for many other applications. This specification contemplates the usage of virtual disk systems for many other usage in addition to the particular example of usage described in this specification.","Programs are available that archive, backup, and virtualize file systems, such as WinZip, Apple Disk Image, and VMware. Each of these programs use various methods to compress and encrypt platform-specific files. Each of these file systems that are created have various issues. For example, WinZip is considered an archival method, not a virtualization method. Even though .zip files may be transported between various computing devices on a network, the .zip files cannot be mounted and constituent files cannot be directly updated in place. In order for .zip files to be updated, they must first be extracted to a local copy and then replaced into the .zip file. Apple Disk Image backs up data in a copy but performs more like an archival method as opposed to a virtualization method. Further, Apple Disk Image has compatibility issues. For example, an Apple Disk Image, or a .dmg disk image, works only on Mac OS X and has a fixed size set at creation time, as it is essentially a raw disk image, or a backup copy of a hard disk. VMware also has compatibility issues. For example, a VMware virtual disk system created using Windows can be stored as files on a host computer or on a remote storage device but can only be accessed by a Windows machine. Thus, such file systems do not aid systems administration professionals who seek to deploy files across diverse network, hardware, and software platforms.","A virtual disk system represents a single file that simulates the operations of a file system, an application, or any software that resides on a physical disk system. A virtual disk system provides a means of storing and managing files and in a secure and portable manner. In particular embodiments, a virtual disk system may be used to email data, share data on a network, store data, as a data backup, to protect personal data, or for remote access of data. In particular embodiments, a virtual disk system may store an entire file system within a single file. A virtual disk system also provides a mountable, compressable, encryptable, cross-platform file system for the storage of data and documents. In particular embodiments, the virtual disk system may be encrypted with authorization required to access the data, thus providing security for sensitive data. In","In particular embodiments, a virtual disk system utilizes an easy-to-use interface that allows a user to interact with the virtual disk system as the user would interact with any removable drive. In particular embodiments, for example, but not by way of limitation, an easy-to-use interface of the virtual disk system allows the user to create a virtual disk system on a computing device, mount an existing virtual disk system on a computing device, and unmount a virtual disk system from a computing device. In particular embodiments, an easy-to-use interface of the virtual disk system allows virtual disk systems to be mounted or unmounted by right-clicking on the files or drives that represent them.",{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 1","b":["100","100","110","120","130","110","120","122","124","126","122","124","126","130"]},"In particular embodiments, when tab  is selected to create a new virtual disk system, the user may be prompted to enter additional information before the new virtual disk system is created. In particular embodiments, the user may be prompted to enter information such as, but not by way of limitation, a destination location where the virtual disk system will be stored, and a name for the virtual disk system. In particular embodiments, the user may be further prompted to enter information prior to the virtual disk system being created. For example, the user may be further prompted to enter a drive letter, where the virtual disk system be displayed in connection with a specific drive letter. In particular embodiments, the user may create a passcode or other means of authorization to restrict access to the virtual disk system.","In particular embodiments, once the virtual disk system is mounted, it will behave as a drive. For example, in Windows Explorer the mounted virtual disk system will be displayed in connection with a specific drive letter. For example, in Mac OS X the mounted virtual disk system will be appear in the Devices list within the Mac Finder.","In particular embodiments, when tab  is selected to mount an existing virtual disk system, the user may be prompted to enter additional information before the virtual disk system is mounted. In particular embodiments, the user may be prompted to enter information such as, but not by way of limitation, a virtual disk system to mount and a drive letter referencing the virtual disk system. In particular embodiments, the user may be prompted to enter a passcode or other means of authorization in order to access the virtual disk system for mounting. In particular embodiments, when tab  is selected to unmount an existing virtual disk system, the user may be prompted to enter additional information before the virtual disk system is unmounted. In particular embodiments, the user may be prompted to enter information such as, but not by way of limitation, a virtual disk system to unmount, and verification that this is in fact the correct virtual disk system that the user wishes to unmount. In particular embodiments, the user may be prompted to enter a passcode or other means of authorization in order to access the virtual disk system for unmounting.",{"@attributes":{"id":"p-0028","num":"0027"},"figref":["FIG. 2","FIG. 3"],"b":["210","220","230"]},"In particular embodiments, database  may be a relational database, such as a SQL database. In particular embodiments, data stored in database  comprises the contents of one or more sets of data associated with a physical disk system and one or more attributes describing a structure of the physical disk system. In particular embodiments, database  comprises tables representing a hierarchical file system, file attributes, and blocks of file content. In particular embodiments, data stored in database  originates from a first platform. In particular embodiments, database  automatically expands and contracts to fit the set of data or the file system that it contains. In particular embodiments the size of database  may be subject to native storage space or a 2 terabyte (TB) SQLite upper bound.","In particular embodiments, file system  provides an interface for supporting access to the data stored in the database. In particular embodiments, file system  normalizes all attributes associated with a set of data associated with a physical disk system. Various operating systems have various requirements for attributes associated with a set of data. For example, the unpatented Windows FAT32 file system format is widely supported by non-Windows OS vendors but is not suitable for network transport, has a 4 gigabyte (GB) size limitation, and has file naming limitations. In particular embodiments, file system  may normalize any properties associated with a set of data other than the contents of the set of data, such as, for example, but not by way of limitation, path, name, value, size, or date and time in order for the data stored in the database to be accessible. More specifically, in particular embodiments, file system  normalizes file names so that the files are accessible for any platform.","In particular embodiments, file system  assembles the set of data for uniform access across all platforms. More specifically, file system  may assemble the set of data for operations such as open files, open directory, list all files in directory, read and write files, manipulate attributes of files. In particular embodiments, because the file name and\/or file attributes are normalized, a computing device may perform operations of the physical disk system on the specific platform without requiring any additional operation from a computing system running the specific platform.","In particular embodiments, file system  utilizes a plurality of application programming interfaces (APIs) to normalize a set of data associated with the physical disk system. APPENDIX A illustrates an example routine utilized by file system  that corresponds to a custom application without mount point. Appendix B illustrates an example routine utilized by file system  that corresponds to a Filesystem in Userspace (FUSE) interface adaptor. In particular embodiments, the FUSE operation normalizes native OS filenames in passage to and from the OS native character set, path separator, etc. Additional FUSE operations are documented at http:\/\/www.ibm.com\/developerworks\/linux\/library\/l-fuse\/#N10169, and are hereby incorporated by reference. Appendix C illustrates an example routine utilized by file system  that corresponds to the Dokan interface adaptor for Windows. In particular embodiments, the Dokan interface adaptor is utilized to create file systems that can be seen as normal file systems in Windows.","In particular embodiments, platform dependent drivers  comprise a plurality sets of drivers corresponding to a plurality of platforms respectively, wherein each set of drivers supports native operations with respect to the physical disk system on a different platform. In particular embodiments, platform specific drivers enable the virtual disk system to be mounted on the corresponding platform to retrieve the physical disk system.","In particular embodiments, each set of platform dependant drivers  support operations of the physical disk system on the specific platform without requiring any additional operation from a client running the specific platform. In particular embodiments a computing device may call specific file attributes viewable from the native platform by utilizing the platform dependant drivers .",{"@attributes":{"id":"p-0035","num":"0034"},"figref":["FIG. 3","FIG. 1","FIG. 3","FIG. 3"],"b":"100"},"In particular embodiments, a virtual disk system originates from a first platform. In particular embodiments, a first platform may be any one of a number of operating systems. Operating systems may be, for example, any of a number of operating systems including, but not by way of limitation, Microsoft Windows, Unix, Linux, BSD, Free BSD, Net BSD, Open BSD, Mac OS X, Plan 9, GNU, Google Chrome OS, Blackberry, Palm, Symbian, Android OS, or Windows Mobile.","In particular embodiments, data of a physical disk system is stored in a database, as illustrated in step . As described above, a database may be any database, such as database .","In particular embodiments, file system  provides an interface for supporting access to the data stored in the database, as illustrated in step . In particular embodiments, file system  generates a portable hierarchical file system that is platform neutral. In particular embodiments, a portable hierarchical file system that is platform neutral may be a .kvd file.","In particular embodiments, the virtual disk system provides platform dependent drivers , as illustrated in step . In particular embodiments, platform dependant drivers  enables the virtual disk system to be mounted on the corresponding platform to retrieve the physical disk system.","In particular embodiments, the virtual disk system may employ various encryption or compression for security and efficiency in transport. Particular embodiments of the virtual disk system may employ different levels of encryption depending on the sensitivity of the data within the virtual disk system. In particular embodiments, the user may select the level of encryption for the virtual disk system depending on the sensitivity of the data within the virtual disk system. In particular embodiments, the virtual disk may employ compression for efficiency in transport.","In particular embodiments, the virtual disk system may be transmitted between computing systems using hardware. In particular embodiments, the virtual disk system may be transmitted between computing systems over a network. Still in other particular embodiments, the virtual disk system may be stored for transport through other various means, such as a file transfer protocol (FTP) client, an HTTP site, or email. In particular embodiments, the virtual disk system may be mounted on a second platform to retrieve the physical disk system, where the operating system of the second platform is different from the operating system of the first platform. In particular embodiments the operating system of the second platform may be the same as the operating system of the first platform. Further, in particular embodiments, the virtual disk system may be mounted on any platform, including but not limited to, a desktop computing system, a cloud system, any device system, a mobile phone, or any other device containing a user interface that can access data on file systems.","In particular embodiments, specific platforms display the normalized file names or other attributes in native format to the second operating system.","In particular embodiments, the contents of the virtual disk system may be accessed natively according to the second platform. When the virtual disk system is accessed natively according to the second platform, the second platform uses the set of drivers corresponding to the second platform, such as platform specific drivers . In particular embodiments, the second platform can access the virtual disk system natively without modifying the physical disk system in any way or the contents of the physical disk system. In particular embodiments, the second platform can access the virtual disk system natively without requiring any support from the second platform itself.","In particular embodiments, multiple instances of the virtual disk system may be running concurrently on the same computing device or across many disparate systems. In particular embodiments, multiple instances of the virtual disk system may be accessible on the same computing device or across many disparate systems. Still, in particular embodiments, multiple instances of the virtual disk system may be managed by a single computing device or network appliance. In particular embodiments, multiple instances of the virtual disk system may be managed at the instance level. For example, multiple instances of the virtual disk system available across a network may be centrally managed either in aggregate or at the instance level.","In particular embodiments, the data of the virtual disk system may be synchronized between one or more computing devices or any other devices accessing data of the virtual disk system.","In particular embodiments, the virtual disk system may utilize a time bomb to cease access to the virtual disk system. A time bomb is a computer program that has been written in such a way that it will stop functioning after a certain fixed date or time is reached. In particular embodiments, when a time bomb has been deployed within the virtual disk system, a user may be denied access to the virtual disk system after a certain time period, based on the user's location, or based on other uses of the virtual disk system on the same network. For example, in particular embodiments time bombs may be deployed within the virtual disk system to meter the use of the virtual disk system or to maintain compliance with a license agreement or other terms of use for the virtual disk system.","In particular embodiments, the virtual disk system may be removed. In particular embodiments, when the user removes the virtual disk system, there are may be no orphaned files or registry entries left behind. In particular embodiments, removal of the virtual disk system may comprise complete removal of the virtual disk system. For example, once the virtual disk system as been removed, there may be no trace, no breadcrumb, and no possibility for data recovery by malicious software.","In particular embodiments, software applications may be isolated to a virtual disk system in order to prevent infection of a local network and computing devices. In particular embodiments, applications isolated to a virtual disk system may be distributed to computing systems connected by a local network. In particular embodiments, the virtual disk system may be utilized as an installer to enable the applications to be accessible by running the virtual disk system instead of installing the application locally to each computing system.","In particular embodiments, a software application isolated to the virtual disk system and any and all data associated with the application may remain completely partitioned from the operating system of the computing device or any other network device accessing the application from the virtual disk system. Particular embodiments of an application isolated to the virtual disk may keep the application's data separate from the configuration aspects of the application. For example, executables, binaries, libraries, and other data associated with application within the virtual disk system may remain separate from license keys, application options, bookmarks, and any other configuration aspects associated with the application.","In particular embodiments, software applications isolated to a virtual disk system may be monitored and controlled by systems administrators. For example, in particular embodiments, applications isolated to the virtual disk system may be moved from computing device to computing device, synchronized between one or more computing devices, or have time bombs deployed within them. In particular embodiments, when a time bomb has been deployed within the software application isolated to the virtual disk system, a user may be denied access to the application after a certain time period, based on the user's location, or based on other uses of the application on the same network. For example, in particular embodiments time bombs may be deployed within the software application isolated to the virtual disk system to meter the use of the application or to maintain compliance with the software license or other terms of use for the software application.","In particular embodiments, a web browser may be installed into a virtual disk system. A virtual disk comprising a web browser may be sent to a computing device to for a user to access through the computing device. When the virtual disk system is mounted on the computing device the web browser runs from the virtual disk system. Any and all reading or writing tasks associated with use of the web browser are directed to the virtual disk system. In a virtual disk system comprising a web browser, no files are accessing the actual file system of the computing device from which the virtual disk system is running. If the virtual disk file system becomes corrupted in any way, the managing computing system or network appliance may remotely shutdown and unmount the virtual disk system. The managing computing system or network appliance may then replace a refreshed virtual disk system comprising a web browser with a copy of the web browser that has not been corrupted.","In particular embodiments, for example, a network systems management appliance running on Free Berkeley Software Distribution (FreeBSD) may create a virtual disk, install an application, such as FireFox, a web browser, onto it and distribute the virtual disk over the network to remote desktop clients or other computing devices for local mounting to aid application containment and ease-of-use.","Particular embodiments may be implemented on one or more computer systems.  illustrates an example computer system . In particular embodiments, one or more computer systems  perform one or more steps of one or more methods described or illustrated herein. In particular embodiments, one or more computer systems  provide functionality described or illustrated herein. In particular embodiments, software running on one or more computer systems  performs one or more steps of one or more methods described or illustrated herein or provides functionality described or illustrated herein. Particular embodiments include one or more portions of one or more computer systems .","This disclosure contemplates any suitable number of computer systems . This disclosure contemplates computer system  taking any suitable physical form. As example and not by way of limitation, computer system  may be an embedded computer system, a system-on-chip (SOC), a single-board computer system (SBC) (such as, for example, a computer-on-module (COM) or system-on-module (SOM)), a desktop computer system, a laptop or notebook computer system, an interactive kiosk, a mainframe, a mesh of computer systems, a mobile telephone, a personal digital assistant (PDA), a server, or a combination of two or more of these. Where appropriate, computer system  may include one or more computer systems ; be unitary or distributed; span multiple locations; span multiple machines; or reside in a cloud, which may include one or more cloud components in one or more networks. Where appropriate, one or more computer systems  may perform without substantial spatial or temporal limitation one or more steps of one or more methods described or illustrated herein. As an example and not by way of limitation, one or more computer systems  may perform in real time or in batch mode one or more steps of one or more methods described or illustrated herein. One or more computer systems  may perform at different times or at different locations one or more steps of one or more methods described or illustrated herein, where appropriate.","In particular embodiments, computer system  includes a processor , memory , storage , an input\/output (I\/O) interface , a communication interface , and a bus . Although this disclosure describes and illustrates a particular computer system having a particular number of particular components in a particular arrangement, this disclosure contemplates any suitable computer system having any suitable number of any suitable components in any suitable arrangement.","In particular embodiments, processor  includes hardware for executing instructions, such as those making up a computer program. As an example and not by way of limitation, to execute instructions, processor  may retrieve (or fetch) the instructions from an internal register, an internal cache, memory , or storage ; decode and execute them; and then write one or more results to an internal register, an internal cache, memory , or storage . In particular embodiments, processor  may include one or more internal caches for data, instructions, or addresses. The present disclosure contemplates processor  including any suitable number of any suitable internal caches, where appropriate. As an example and not by way of limitation, processor  may include one or more instruction caches, one or more data caches, and one or more translation lookaside buffers (TLBs). Instructions in the instruction caches may be copies of instructions in memory  or storage , and the instruction caches may speed up retrieval of those instructions by processor . Data in the data caches may be copies of data in memory  or storage  for instructions executing at processor  to operate on; the results of previous instructions executed at processor  for access by subsequent instructions executing at processor  or for writing to memory  or storage ; or other suitable data. The data caches may speed up read or write operations by processor . The TLBs may speed up virtual-address translation for processor . In particular embodiments, processor  may include one or more internal registers for data, instructions, or addresses. The present disclosure contemplates processor  including any suitable number of any suitable internal registers, where appropriate. Where appropriate, processor  may include one or more arithmetic logic units (ALUs); be a multi-core processor; or include one or more processors . Although this disclosure describes and illustrates a particular processor, this disclosure contemplates any suitable processor.","In particular embodiments, memory  includes main memory for storing instructions for processor  to execute or data for processor  to operate on. As an example and not by way of limitation, computer system  may load instructions from storage  or another source (such as, for example, another computer system ) to memory . Processor  may then load the instructions from memory  to an internal register or internal cache. To execute the instructions, processor  may retrieve the instructions from the internal register or internal cache and decode them. During or after execution of the instructions, processor  may write one or more results (which may be intermediate or final results) to the internal register or internal cache. Processor  may then write one or more of those results to memory . In particular embodiments, processor  executes only instructions in one or more internal registers or internal caches or in memory  (as opposed to storage  or elsewhere) and operates only on data in one or more internal registers or internal caches or in memory  (as opposed to storage  or elsewhere). One or more memory buses (which may each include an address bus and a data bus) may couple processor  to memory . Bus  may include one or more memory buses, as described below. In particular embodiments, one or more memory management units (MMUs) reside between processor  and memory  and facilitate accesses to memory  requested by processor . In particular embodiments, memory  includes random access memory (RAM). This RAM may be volatile memory, where appropriate Where appropriate, this RAM may be dynamic RAM (DRAM) or static RAM (SRAM). Moreover, where appropriate, this RAM may be single-ported or multi-ported RAM. The present disclosure contemplates any suitable RAM. Memory  may include one or more memories , where appropriate. Although this disclosure describes and illustrates particular memory, this disclosure contemplates any suitable memory.","In particular embodiments, storage  includes mass storage for data or instructions. As an example and not by way of limitation, storage  may include an HDD, a floppy disk drive, flash memory, an optical disc, a magneto-optical disc, magnetic tape, or a Universal Serial Bus (USB) drive or a combination of two or more of these. Storage  may include removable or non-removable (or fixed) media, where appropriate. Storage  may be internal or external to computer system , where appropriate. In particular embodiments, storage  is non-volatile, solid-state memory. In particular embodiments, storage  includes read-only memory (ROM). Where appropriate, this ROM may be mask-programmed ROM, programmable ROM (PROM), erasable PROM (EPROM), electrically erasable PROM (EEPROM), electrically alterable ROM (EAROM), or flash memory or a combination of two or more of these. This disclosure contemplates mass storage  taking any suitable physical form. Storage  may include one or more storage control units facilitating communication between processor  and storage , where appropriate. Where appropriate, storage  may include one or more storages . Although this disclosure describes and illustrates particular storage, this disclosure contemplates any suitable storage.","In particular embodiments, I\/O interface  includes hardware, software, or both providing one or more interfaces for communication between computer system  and one or more I\/O devices. Computer system  may include one or more of these I\/O devices, where appropriate. One or more of these I\/O devices may enable communication between a person and computer system . As an example and not by way of limitation, an I\/O device may include a keyboard, keypad, microphone, monitor, mouse, printer, scanner, speaker, still camera, stylus, tablet, touch screen, trackball, video camera, another suitable I\/O device or a combination of two or more of these. An I\/O device may include one or more sensors. This disclosure contemplates any suitable I\/O devices and any suitable I\/O interfaces  for them. Where appropriate, I\/O interface  may include one or more device or software drivers enabling processor  to drive one or more of these I\/O devices. I\/O interface  may include one or more I\/O interfaces , where appropriate. Although this disclosure describes and illustrates a particular I\/O interface, this disclosure contemplates any suitable I\/O interface.","In particular embodiments, communication interface  includes hardware, software, or both providing one or more interfaces for communication (such as, for example, packet-based communication) between computer system  and one or more other computer systems  or one or more networks. As an example and not by way of limitation, communication interface  may include a network interface controller (NIC) or network adapter for communicating with an Ethernet or other wire-based network or a wireless NIC (WNIC) or wireless adapter for communicating with a wireless network, such as a WI-FI network. This disclosure contemplates any suitable network and any suitable communication interface  for it. As an example and not by way of limitation, computer system  may communicate with an ad hoc network, a personal area network (PAN), a local area network (LAN), a wide area network (WAN), a metropolitan area network (MAN), or one or more portions of the Internet or a combination of two or more of these. One or more portions of one or more of these networks may be wired or wireless. As an example, computer system  may communicate with a wireless PAN (WPAN) (such as, for example, a BLUETOOTH WPAN), a WI-FI network, a WI-MAX network, a cellular telephone network (such as, for example, a Global System for Mobile Communications (GSM) network), or other suitable wireless network or a combination of two or more of these. Computer system  may include any suitable communication interface  for any of these networks, where appropriate. Communication interface  may include one or more communication interfaces , where appropriate. Although this disclosure describes and illustrates a particular communication interface, this disclosure contemplates any suitable communication interface.","In particular embodiments, bus  includes hardware, software, or both coupling components of computer system  to each other. As an example and not by way of limitation, bus  may include an Accelerated Graphics Port (AGP) or other graphics bus, an Enhanced Industry Standard Architecture (EISA) bus, a front-side bus (FSB), a HYPERTRANSPORT (HT) interconnect, an Industry Standard Architecture (ISA) bus, an INFINIBAND interconnect, a low-pin-count (LPC) bus, a memory bus, a Micro Channel Architecture (MCA) bus, a Peripheral Component Interconnect (PCI) bus, a PCI-Express (PCI-X) bus, a serial advanced technology attachment (SATA) bus, a Video Electronics Standards Association local (VLB) bus, or another suitable bus or a combination of two or more of these. Bus  may include one or more buses , where appropriate. Although this disclosure describes and illustrates a particular bus, this disclosure contemplates any suitable bus or interconnect.","Herein, reference to a computer-readable storage medium encompasses one or more non-transitory, tangible computer-readable storage media possessing structure. As an example and not by way of limitation, a computer-readable storage medium may include a semiconductor-based or other integrated circuit (IC) (such, as for example, a field-programmable gate array (FPGA) or an application-specific IC (ASIC)), a hard disk, an HDD, a hybrid hard drive (HHD), an optical disc, an optical disc drive (ODD), a magneto-optical disc, a magneto-optical drive, a floppy disk, a floppy disk drive (FDD), magnetic tape, a holographic storage medium, a solid-state drive (SSD), a RAM-drive, a SECURE DIGITAL card, a SECURE DIGITAL drive, or another suitable computer-readable storage medium or a combination of two or more of these, where appropriate. Herein, reference to a computer-readable storage medium excludes any medium that is not eligible for patent protection under 35 U.S.C. \u00a7101. Herein, reference to a computer-readable storage medium excludes transitory forms of signal transmission (such as a propagating electrical or electromagnetic signal per se) to the extent that they are not eligible for patent protection under 35 U.S.C. \u00a7101. A computer-readable non-transitory storage medium may be volatile, non-volatile, or a combination of volatile and non-volatile, where appropriate.","This disclosure contemplates one or more computer-readable storage media implementing any suitable storage. In particular embodiments, a computer-readable storage medium implements one or more portions of processor  (such as, for example, one or more internal registers or caches), one or more portions of memory , one or more portions of storage , or a combination of these, where appropriate. In particular embodiments, a computer-readable storage medium implements RAM or ROM. In particular embodiments, a computer-readable storage medium implements volatile or persistent memory. In particular embodiments, one or more computer-readable storage media embody software. Herein, reference to software may encompass one or more applications, bytecode, one or more computer programs, one or more executables, one or more instructions, logic, machine code, one or more scripts, or source code, and vice versa, where appropriate. In particular embodiments, software includes one or more application programming interfaces (APIs). This disclosure contemplates any suitable software written or otherwise expressed in any suitable programming language or combination of programming languages. In particular embodiments, software is expressed as source code or object code. In particular embodiments, software is expressed in a higher-level programming language, such as, for example, C, Perl, or a suitable extension thereof. In particular embodiments, software is expressed in a lower-level programming language, such as assembly language (or machine code). In particular embodiments, software is expressed in JAVA. In particular embodiments, software is expressed in Hyper Text Markup Language (HTML), Extensible Markup Language (XML), or other suitable markup language.","Particular embodiments may be implemented in a network environment.  illustrates an example network environment . Network environment  includes a network  coupling one or more servers  and one or more clients  to each other. In particular embodiments, network  is an intranet, an extranet, a virtual private network (VPN), a local area network (LAN), a wireless LAN (WLAN), a wide area network (WAN), a metropolitan area network (MAN), a communications network, a satellite network, a portion of the Internet, or another network  or a combination of two or more such networks . The present disclosure contemplates any suitable network .","One or more links  couple servers  or clients  to network . In particular embodiments, one or more links  each includes one or more wired, wireless, or optical links . In particular embodiments, one or more links  each includes an intranet, an extranet, a VPN, a LAN, a WLAN, a WAN, a MAN, a communications network, a satellite network, a portion of the Internet, or another link  or a combination of two or more such links . The present disclosure contemplates any suitable links  coupling servers  and clients  to network .","In particular embodiments, each server  may be a unitary server or may be a distributed server spanning multiple computers or multiple datacenters. Servers  may be of various types, such as, for example and without limitation, web server, news server, mail server, message server, advertising server, file server, application server, exchange server, database server, or proxy server. In particular embodiments, each server  may include hardware, software, or embedded logic components or a combination of two or more such components for carrying out the appropriate functionalities implemented or supported by server . For example, a web server is generally capable of hosting websites containing web pages or particular elements of web pages. More specifically, a web server may host HTML files or other file types, or may dynamically create or constitute files upon a request, and communicate them to clients  in response to HTTP or other requests from clients . A mail server is generally capable of providing electronic mail services to various clients . A database server is generally capable of providing an interface for managing data stored in one or more data stores.","In particular embodiments, each client  may be an electronic device including hardware, software, or embedded logic components or a combination of two or more such components and capable of carrying out the appropriate functionalities implemented or supported by client . For example and without limitation, a client  may be a desktop computer system, a notebook computer system, a netbook computer system, a handheld electronic device, or a mobile telephone. A client  may enable a network user at client  to access network . A client  may have a web browser, such as Microsoft Internet Explorer or Mozilla Firefox, and may have one or more add-ons, plug-ins, or other extensions, such as Google Toolbar or Yahoo Toolbar. A client  may enable its user to communicate with other users at other clients . The present disclosure contemplates any suitable clients .","A client  may have a web browser , such as MICROSOFT INTERNET EXPLORER, GOOGLE CHROME or MOZILLA FIREFOX, and may have one or more add-ons, plug-ins, or other extensions. A user at client  may enter a Uniform Resource Locator (URL) or other address directing the web browser  to a server , and the web browser  may generate a Hyper Text Transfer Protocol (HTTP) request and communicate the HTTP request to server . Server  may accept the HTTP request and communicate to client  one or more Hyper Text Markup Language (HTML) files responsive to the HTTP request. Client  may render a web page based on the HTML files from server  for presentation to the user. The present disclosure contemplates any suitable web page files. As an example and not by way of limitation, web pages may render from HTML files, Extensible Hyper Text Markup Language (XHTML) files, or Extensible Markup Language (XML) files, according to particular needs. Such pages may also execute scripts such as, for example and without limitation, those written in JAVASCRIPT, JAVA, MICROSOFT SILVERLIGHT, combinations of markup language and scripts such as AJAX (Asynchronous JAVASCRIPT and XML), and the like. Herein, reference to a web page encompasses one or more corresponding web page files (which a browser may use to render the web page) and vice versa, where appropriate.","In particular embodiments, one or more data storages  may be communicatively linked to one or more servers  via one or more links . In particular embodiments, data storages  may be used to store various types of information. In particular embodiments, the information stored in data storages  may be organized according to specific data structures. Particular embodiments may provide interfaces that enable servers  or clients  to manage (e.g., retrieve, modify, add, or delete) the information stored in data storage .","The present disclosure encompasses all changes, substitutions, variations, alterations, and modifications to the example embodiments herein that a person having ordinary skill in the art would comprehend. Similarly, where appropriate, the appended claims encompass all changes, substitutions, variations, alterations, and modifications to the example embodiments herein that a person having ordinary skill in the art would comprehend.",{"@attributes":{"id":"p-0071","num":"0070"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"APPENDIX A"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"#if (defined(WIN32) \u2225 defined (_WIN32))"},{"entry":"#include \u201cstdafx.h\u201d"},{"entry":"#include <windows.h>"},{"entry":"#include <io.h>"},{"entry":"#endif \/* defined(WIN32) \u2225 defined (_WIN32) *\/"},{"entry":"#include <stdio.h>"},{"entry":"#include <string.h>"},{"entry":"#include <stdlib.h>"},{"entry":"#include <ctype.h>"},{"entry":"#include \u201cKvd.h\u201d"},{"entry":"#if (defined(WIN32) \u2225 defined (_WIN32))"},{"entry":"int cdecl _tmain(int argc, _TCHAR* argv[ ])"},{"entry":"#else \/* defined(WIN32) \u2225 defined (_WIN32) *\/"},{"entry":"int main(int argc, char* argv[ ], char* envp[ ], char** exec_path)"},{"entry":"#endif \/* defined(WIN32) \u2225 defined (_WIN32) *\/"},{"entry":"{"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"int result = 0, i = 1, flags;"]},{"entry":[{},"mode_t mode = 0666;"]},{"entry":[{},"char pathBufr[256] = { \u201ckirk\u201d }, dataBufr[1024];"]},{"entry":[{},"uint64_t fileSize, offset = 0;"]},{"entry":[{},"KvdContext kvdCtx = NULL;"]},{"entry":[{},"char *key = NULL;"]},{"entry":[{},"int keyLength = 0;"]},{"entry":[{},"char *kvdStore = NULL, *kvdLabel = \u201cKACE Demonstration"]},{"entry":[{},"KVD\u201d;"]},{"entry":[{},"KvdAccess kvdAccess;"]},{"entry":[{},"while ( i < argc ) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( argv[i] && argv[i][0] == \u2018-\u2019 ) {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( !strcmp(&argv[i][1], \u201ckvdstore\u201d) &&"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2002i < argc \u2212 1 && argv[i+1] && argv[i+1][0] ) {"]},{"entry":[{},"if (kvdStore != NULL )"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"free(kvdStore);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( kvdStore = strdup(argv[i+1]) )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"i++;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"} else if ( !strcmp(&argv[i][1], \u201ckey\u201d) ) { \/\/ Enable disk"]},{"entry":[{},"encryption."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( i < argc \u2212 1 &&"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2002(keyLength = strlen(argv[i+1])) > 0 )"]},{"entry":[{},"key = strdup(argv[++i]);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"keyLength = 0;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"} else ..."]},{"entry":[{},"}"]},{"entry":[{},"i++;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"}"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},"if ( KvdFsStorageAccessible(kvdStore, key, &kvdAccess) &&"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003(kvdCtx = KvdFsNew(kvdStore, kvdLabel, key, compress,"]},{"entry":[{},"\u2003clearLocks, FALSE)) ) {"]},{"entry":[{},"if ( flags = O_CREAT | O_RDWR,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\u2003!(result = KvdFsCreate(kvdCtx, pathBufr, mode, flags,"]},{"entry":[{},"\u20030)) ) { \/* Create new file. *\/"]},{"entry":[{},"fileSize = 0;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else if ( flags = O_RDWR,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"147pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"!(result = KvdFsOpen(kvdCtx, pathBufr, flags)) )"]},{"entry":[{},"{ \/* Open existing file. *\/"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"KvdFsGetattr(kvdCtx, pathBufr, &stbuf, NULL);"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"fileSize = stbuf.st_size;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"result = 2;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( !result ) {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( !fileSize ) {"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"memset(dataBufr, \u2018?\u2019, sizeof(dataBufr));"]},{"entry":[{},"KvdFsWrite(kvdCtx, pathBufr, dataBufr,"]},{"entry":[{},"sizeof(dataBufr), offset);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"161pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"KvdFsRead(kvdCtx, pathBufr, dataBufr,"]},{"entry":[{},"sizeof(dataBufr), offset);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"KvdFsClose(kvdCtx, pathBufr);"]},{"entry":[{},"KvdFsUnlink(kvdCtx, pathBufr, TRUE);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"}"]},{"entry":[{},"KvdFsDestroy(kvdCtx);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"result = 1;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return result;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0072","num":"0071"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"APPENDIX B"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"static int"},{"entry":"kvdRead(const char *path, char *buf, size_t size, off_t offset, struct"},{"entry":"fuse_file_info *fi) {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"int result;"]},{"entry":[{},"char pathBufr[KVD_PATH_LIMIT+1];"]},{"entry":[{},"KvdContext kvdCtx ="]},{"entry":[{},"(KvdContext)(fuse_get_context( )\u2212>private_data);"]},{"entry":[{},"if ( !normalPathname(path, pathBufr, sizeof(pathBufr)) )"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"result = -EINVAL;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"result = KvdFsRead(kvdCtx, pathBufr, buf, size,"]},{"entry":[{},"(uint64_t)offset);"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return result;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"static struct fuse_operations kvdOperations = {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},".getattr = kvdGetattr,"]},{"entry":[{},".access = kvdAccess,"]},{"entry":[{},".readlink = kvdReadlink,"]},{"entry":[{},".readdir= kvdReaddir,"]},{"entry":[{},".mknod = kvdMknod,"]},{"entry":[{},".mkdir = kvdMkdir,"]},{"entry":[{},".symlink= kvdSymlink,"]},{"entry":[{},".unlink = kvdUnlink,"]},{"entry":[{},".rmdir = kvdRmdir,"]},{"entry":[{},".rename = kvdRename,"]},{"entry":[{},".link = kvdLink,"]},{"entry":[{},".chmod = kvdChmod,"]},{"entry":[{},".chown = kvdChown,"]},{"entry":[{},".truncate = kvdTruncate,"]},{"entry":[{},".utime = kvdUtime,"]},{"entry":[{},".open = kvdOpen,"]},{"entry":[{},".create = kvdCreate,"]},{"entry":[{},".read = kvdRead,"]},{"entry":[{},".write = kvdWrite,"]},{"entry":[{},".statfs = kvdStatfs,"]},{"entry":[{},".release= kvdRelease,"]},{"entry":[{},".fsync = kvdFsync,"]},{"entry":[{},".init = kvdInit,"]},{"entry":[{},".fgetattr = NULL\/*kvdFgetattr*\/,"]},{"entry":[{},".setxattr = kvdSetxattr,"]},{"entry":[{},".getxattr = kvdGetxattr,"]},{"entry":[{},".listxattr = kvdListxattr,"]},{"entry":[{},".removexattr= kvdRemovexattr,"]},{"entry":[{},".destroy = kvdDestroy"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"};"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},{"@attributes":{"id":"p-0073","num":"0072"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":[{"entry":"APPENDIX C"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"static int"},{"entry":"kvdReadFile(LPCWSTR FileName, LPVOID Buffer, DWORD"},{"entry":"BufferLength, LPDWORD"},{"entry":"ReadLength,"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"LONGLONG Offset, PDOKAN_FILE_INFO"]},{"entry":[{},"DokanFileInfo) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"int result = 0, bytesRead = 0;"]},{"entry":[{},"char pathBufr[KVD_PATH_LIMIT+1];"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"size_t bufrSize = BufferLength;"]},{"entry":[{},"uint64_t offset = (uint64_t)Offset;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"KvdContext kvdCtx ="]},{"entry":[{},"(KvdContext)(DokanFileInfo\u2212>DokanOptions\u2212>GlobalContext);"]},{"entry":[{},"if ( ReadLength )"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"*ReadLength = (DWORD)bytesRead;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( !BufferLength )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},";"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else if ( !normalPathname(FileName, pathBufr, sizeof(pathBufr)) )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"result = -ERROR_INVALID_NAME;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"else if ( (bytesRead = KvdFsRead(kvdCtx, pathBufr, Buffer,"]},{"entry":[{},"bufrSize, offset)) < 0 ) {"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"if ( bytesRead == -ENOLCK )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"result = -ERROR_LOCK_VIOLATION;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else if ( bytesRead == -EIO )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"result = TRUE\/*-ERROR_HANDLE_EOF*\/;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"else"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"result = -ERROR_FILE_NOT_FOUND;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"} else if ( ReadLength )"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"189pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"*ReadLength = (DWORD)bytesRead;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"return result;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"}"},{"entry":"\/* VisualStudio's C compiler doesn't support the C99 \u201cdesignated"},{"entry":"initializer\u201d syntax."},{"entry":"* So, statically initializing the following two structs must set field values"},{"entry":"in order"},{"entry":"* and their order must be checked when\/if there's a Dokan library update."},{"entry":"*\/"},{"entry":"static DOKAN_OPERATIONS kvdDokanOperations = {"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/*.CreateFile =*\/ kvdCreateFile,"]},{"entry":[{},"\/*.OpenDirectory =*\/ kvdOpenDirectory,"]},{"entry":[{},"\/*.CreateDirectory =*\/ kvdCreateDirectory,"]},{"entry":[{},"\/*. Cleanup =*\/ kvdCleanup,"]},{"entry":[{},"\/*.CloseFile =*\/ kvdCloseFile,"]},{"entry":[{},"\/*.ReadFile =*\/ kvdReadFile,"]},{"entry":[{},"\/*.WriteFile =*\/ kvdWriteFile,"]},{"entry":[{},"\/*.FlushFileBuffers =*\/ kvdFlushFileBuffers,"]},{"entry":[{},"\/*.GetFileInformation =*\/ kvdGetFileInformation,"]},{"entry":[{},"\/*.FindFiles =*\/ kvdFindFiles,"]},{"entry":[{},"\/*.FindFilesWithPattern =*\/ NULL,"]},{"entry":[{},"\/*.SetFileAttributes =*\/ kvdSetFileAttributes,"]},{"entry":[{},"\/*.SetFileTime =*\/ kvdSetFileTime,"]},{"entry":[{},"\/*.DeleteFile =*\/ kvdDeleteFile,"]},{"entry":[{},"\/*.DeleteDirectory =*\/ kvdDeleteDirectory,"]},{"entry":[{},"\/*.MoveFile =*\/ kvdMoveFile,"]},{"entry":[{},"\/*.SetEndOfFile =*\/ kvdSetEndOfFile,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/* .SetAllocationSize = *\/ kvdSetAllocationSize,"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/*.LockFile =*\/ kvdLockFile,"]},{"entry":[{},"\/*.UnlockFile =*\/ kvdUnlockFile,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"203pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"\/*.GetDiskFreeSpace =*\/ kvdGetDiskFreeSpace,"]},{"entry":[{},"\/*.GetVolumeInformation =*\/ kvdGetVolumeInformation,"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"175pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"\/*.Unmount =*\/ kvdUnmount"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"};"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 5"}]},"DETDESC":[{},{}]}
