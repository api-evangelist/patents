---
title: Method and system for transcoding web pages by limiting selection through direction
abstract: Signature schema documents, pre-defined in a query language, provide one or more instructions for application by an engine to transcode web pages of respective web sites. The instructions identify a web page family for the web page and extract a subset of data from the web page using one or more signatures previously identified within web pages of the same web page family (e.g. in accordance with a shared template for each family) of the web site. The instructions may include one or more directional references relative to the signatures to locate and extract the subset of data within the web page. Signatures may comprise text strings within the code of the web page and the directional references indicate positions of respective data relative to the location of the text strings. Transcoding may facilitate use of e-commerce web sites by wireless mobile devices.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08037084&OS=08037084&RS=08037084
owner: Research In Motion Limited
number: 08037084
owner_city: Waterloo
owner_country: CA
publication_date: 20080512
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE","COPYRIGHT","FIELD","BACKGROUND","DETAILED DESCRIPTION OF THE EMBODIMENTS","Example 1","News Site","Example 2 ","E-Commerce Site"],"p":["This application claims the benefit of the prior filing of U.S. Provisional Patent Application Ser. No. 60\/924,503 filed May 17, 2007, the disclosure of which is incorporated herein by reference.","A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights.","The present application relates generally to telecommunications and more particularly to a system and method for transcoding web pages.","Web sites host and provide information using web pages that are communicated electronically via a telecommunications network. Accessing this information by some client computing devices can be challenging. Computing devices are becoming smaller and increasingly utilize wireless connectivity. Examples of such computing devices include portable computing devices that include wireless network browsing capability as well as telephony and personal information management capabilities.","The smaller size of most wireless mobile client devices necessarily limits their display capabilities. Furthermore the wireless connections to such devices typically have less or more expensive bandwidth than corresponding wired connections. The Wireless Application Protocol (\u201cWAP\u201d) was designed to address such issues, but WAP can still provide a very unsatisfactory experience or even completely ineffective experience, particularly where the small client device needs to effect a connection with web sites that host web pages that are directed to traditional full desktop browsers.","Signature schema documents, pre-defined in a query language, provide one or more instructions for application by an engine to transcode web pages of respective web sites. The instructions identify a web page family for the web page and extract a subset of data from the web page using one or more signatures previously identified within web pages of the same web page family (e.g. in accordance with a shared template for each family) of the web site. The instructions may include one or more directional references relative to the signatures to locate and extract the subset of data within the web page. Signatures may comprise text strings within the code of the web page and the directional references indicate positions of respective data relative to the location of the text strings. Transcoding may facilitate use of e-commerce web sites by wireless mobile devices.","In accordance with an aspect, there is provided a method of transcoding a web page of a web site. The method comprises: retrieving a signature schema for the web site, said signature schema comprising one or more instructions to identify a web page family for the web page and to extract a subset of data from the web page using one or more signatures previously identified within at least one web page of a same web page family of the web site; obtaining the web page; and applying the one or more instructions to the web page; wherein at least some of the instructions include one or more directional references relative to the signatures to locate and extract some of the subset of data within the web page. The web page may comprise code in a markup language and the signatures may comprise text strings within the code. The one or more directional references may indicate positions of some of the subset of data within the web page code relative to the text strings.","The instructions to locate some of the subset of data may comprise a directional reference to indicate that the position of the some of the subset of data relative to a particular signature comprises one of: 1) before the particular signature; 2) after the particular signature; or 3) both before and after the particular signature. The instructions to locate some of the subset of data may further comprise: at least one of: i) a start reference; or ii) an end reference, said start reference and end reference respectively indicating a starting location and ending location for the some of the subset of data relative to the signature and in accordance with the direction indicated by the directional reference.","The one or more instructions may establish at least one of a beginning limit or an end limit within which to locate some of the subset of data. The subset of data may comprise a plurality of elements for an object within the web page and each element may be located and extracted by respective instructions.","The one or more instructions may be interpreted by a transcoding engine component of a computing device configured for transcoding web pages to a target format. The web site may comprise an e-commerce web site and some of the web pages may be for conducting a transaction. The target format may be suitable for use by a wireless mobile device thereby to conduct the transaction.","In accordance with another aspect, there is provided a computing device for transcoding a web page of a web site. The computing device comprises: a processor and a memory coupled thereto, said memory storing instructions and data configuring the processor to provide a transcoding engine to: retrieve a signature schema for the web site, said signature schema comprising one or more schema instructions to identify a web page family for the web page and to extract a subset of data from the web page using one or more signatures previously identified within at least one web page of a same web page family of the web site; obtain the web page; and apply the schema instructions to the web page; wherein at least some of the schema instructions include one or more directional references relative to the signatures to locate and extract the subset of data within the web page.","In accordance with an embodiment, the computing device may comprise a gateway server and the instructions and data may further configure the processor to proxy a request for the web page from a client machine to obtain the web page; and respond to the client machine with the subset of data in a target format thereby to provide a transcoded web page.","In accordance with an embodiment, the computing device may comprise the client machine configured for communicating for web pages and the instructions and data further may configure the processor of the client machine to retrieve the scheme signature and apply the one or more schema instructions to at least some of the web pages retrieved from the web site. The client machine may be further configured to communicate for some of the web pages via a gateway server to receive transcoded web pages. The client machine may comprises a wireless mobile device. The web site may comprise an e-commerce web site and at least some of the web pages may be configured for conducting a transaction.","In accordance with another aspect, a computer program product storing computer readable instructions which when executed by a computer processor configure the processor to: retrieve a signature schema for a web site, said signature schema comprising one or more schema instructions to identify a web page family for a web page of the web site and extract a subset of data from the web page using one or more signatures previously identified within web pages of the same web page family of the web site; obtain the web page; and apply the one or more schema instructions to the web page; wherein at least some of the one or more schema instructions include one or more directional references relative to the signatures to locate and extract the subset of data within the web page.","In accordance with a further method aspect, there is provided a method of conducting an e-commerce transaction between a wireless mobile device and an e-commerce web site, said method comprising: obtaining a signature schema comprising one or more schema instructions to locate, extract and transcode a subset of data from plain text of a web page of the web site, said schema instructions using one or more signatures previously identified within plain text of web pages of a same web page family of the e-commerce web site, thereby to transcode the web page; receiving at least one web page from the e-commerce web site for conducting the transaction; and transcoding at least some of the web pages received in accordance with the signature schema to conduct the transaction; wherein at least some of the one or more schema instructions include one or more directional references relative to the one or more signatures to locate and extract the subset of data. The method may be performed by the wireless mobile device, said device communicating with said e-commerce site directly at least for some of said web pages to conduct the transaction.","In accordance with another aspect, there is provided a system for transcoding web pages of a web site comprising: a web site serving said web pages; at least one client machine configured to utilize transcoded web pages; a gateway coupled between the web site and the at least one client machine via a telecommunication network, said gateway proxying respective requests for web pages from the at least one client machine and responding with transcoded web pages; said gateway configured with a transcoding engine to: retrieve a signature schema for the web site, said signature schema comprising one or more schema instructions to identify a web page family for the web page and extract a subset of data from the web page using one or more signatures previously identified within web pages of a same web page family of the web site; obtain the web page; and apply the signature schema to the web page; wherein at least some of the one or more schema instructions include one or more directional references relative to the signatures to locate and extract the subset of data within the web page.","Referring now to , there is illustrated a system  for content navigation via a telecommunications network. In a present embodiment system  comprises a plurality of client computing devices in the form of client machines A and B (collectively ), a web site server  hosting a web site  and a gateway and schema server . Devices  are respectively coupled to communicate with gateway and schema server  to obtain web pages (e.g. ) transcoded from web site .","In the present embodiment, a web server  comprises web site  serving web pages (e.g. ) defined from a plurality of web page family templates A-D (collectively ) and web page content (described further herein below) from data store . For ease within the present embodiment, only a single web site  is shown coupled via gateway and schema server ; however, in another embodiment a plurality of different web sites may be so coupled. In the present embodiment of system , gateway and schema server  is coupled to a schema repository  from which to obtain a signature schema  for a particular web site. Signature schema documents (e.g. ) provide instructions and data with which an engine  of server  can extract data from web pages (e.g. ) and transcode same to a target format to provide transcoded web page data (e.g.  and ) to the respective requesting client machines A and B as described more fully below. Gateway and schema server  may also be coupled to a database  for retrieving\/storing data extracted from web sites in accordance with its operations. The database  may be a relational database storing extracted data from web sites in relation to the defined signature schema. The stored data can be accessed by a Structured Query Language (SQL). Signature schemas for respective web sites may be defined (e.g. coded) using a computing device  as described herein below.","Representative client machines  include any type of computing or electronic device that can be used to communicate and interact with content available via web sites. Each of the client machines  may be operated by a respective user U (not shown). Interaction with a particular user includes presenting information on a client machine (e.g. by rendering on a display screen) as well as receiving input at a client machine (e.g. such as via a keyboard for transmitting to a web site). In the present embodiment, client machine A comprises a mobile electronic device with the combined functionality of a personal digital assistant, cell phone, email paging device, and a web-browser. Such a mobile electronic device may comprise a keyboard (or other input device(s)), a display screen, a speaker, (and other output device(s) (e.g. LEDs)) and a chassis for housing such components. The chassis may further house one or more central processing units, volatile memory (e.g. random access memory), persistent memory (e.g. Flash read only memory) and network interfaces to allow client machine A to communicate over the telecommunication network.","Referring now to , a schematic block diagram shows an exemplary client machine A in greater detail. It should be emphasized that the structure in  is purely exemplary, and contemplates a device that may be used for both wireless voice (e.g. telephony) and wireless data (e.g. email, web browsing, text) communications. Client machine A includes a plurality of input devices which in a present embodiment includes a keyboard and, typically, additional input buttons, collectively , an optional pointing device  (e.g. a trackball or trackwheel) and a microphone . Other input devices, such as a touch screen, and camera lens are also contemplated. Input from keyboard\/buttons , pointing device  and microphone  may be received at a processor . Processor  may be further operatively coupled with a non-volatile storage unit  (e.g. read only memory (\u201cROM\u201d), Erasable Electronic Programmable Read Only Memory (\u201cEEPROM\u201d), or Flash Memory) and a volatile storage unit  (e.g. random access memory (\u201cRAM\u201d), speaker , display screen  and one or more lights (LEDs ). Processor  may be operatively coupled for network communications via a subsystem . Wireless communications are effective via at least one radio (e.g. ) such as for Wi-Fi or cellular wireless communications. Client machine A also may be configured for wired communications such as via a USB or other port and for short range wireless communications such as via a Bluetooth\u00ae radio (all not shown).","Programming instructions that implement the functional teachings of client machine A as described herein are typically maintained, persistently, in non-volatile storage unit  and used by processor  which makes appropriate utilization of volatile storage  during the execution of such programming instructions. Of particular note is that non-volatile storage unit  persistently maintains a web browser application  and, in the present embodiment, a native menu application , each of which can be executed on processor  making use of volatile storage  as appropriate. An operating system and various other applications (not shown) are maintained in non-volatile storage unit  according to the desired configuration and functioning of client machine A, one specific non-limiting example of which is a contact manager application (also known as an address book, not shown) which stores a list of contacts, addresses and phone numbers of interest to user U and allows user U to view, update, and delete those contacts, as well as providing user U an option to initiate telecommunications (e.g. telephone, email, instant message (IM), short message service (SMS)) directly from that contact manager application.","Native menu application  may be configured to provide menu choices to user U according to the particular application (or other context) that is being accessed. By way of example, while user U is activating the contact manager application, user U can activate menu application  to access a plurality of menu choices available that are respective to contact manager application . For example, menu choices may include options to invoke other applications (e.g. a mapping application to map a contact's address) or communication functions (e.g. call, SMS, IM, email, etc.) on the client machine A for a particular contact. Menu application  may be associated to a particular input button (e.g. one of buttons ) and invoked to provide a contextual menu comprised of a plurality of menu choices that are reflective of the context in which the button  was selected. Note that the options in a contextual menu are stored within non-volatile storage  as being specifically associated with a respective application. Menu application  may be therefore configured to generate a plurality of different contextual menus that are reflective of the particular context in which the menu application  is invoked. For example, in an email application where an email is being composed, invoking menu application  would generate a contextual menu that included the options of sending the email, cancelling the email, adding addresses to the email, adding attachments, and the like. The contents for such a contextual menu would also be maintained in non-volatile storage . Other examples of contextual menus will occur to those of ordinary skill in the art.","As noted, gateway and schema server  applies a signature schema to transcode a web page and provide transcoded data to a requesting client machine . Signature schema  may be configured to transcode navigational features of a web site  to provide menu options to menu application  for use when browsing the web site  with browser . The signature schema may further transcode web site content for presentation by the browser .",{"@attributes":{"id":"p-0031","num":"0030"},"figref":["FIGS. 6A-6D","FIG. 6A","FIG. 7A"],"b":["7","7","660","104","650","650","660","652","654","655","652","750","750","652","82","104"]},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 6B","FIG. 7B"],"b":["660","650","666","666","666","666","666","750","668"]},{"@attributes":{"id":"p-0033","num":"0032"},"figref":["FIG. 6C","FIG. 7C"],"b":["660","650","670","670","670","670","750","672","670"]},{"@attributes":{"id":"p-0034","num":"0033"},"figref":["FIG. 6D","FIG. 7D"],"b":["660","650","680","750"]},"Returning now to , web server  and gateway and schema server  (which can, if desired, be implemented on a single server) can be based on any commonly available server environments or platforms including a module that houses one or more central processing units, volatile memory (e.g. random access memory), persistent memory (e.g. hard disk devices) and network interfaces to allow servers  and  to communicate over the telecommunications network. Web server  hosts software applications comprising instructions and data for generating and serving web pages dynamically from the template families  and current informational content therefore from data store . Load balancing, security\/firewall, billing, account and other applications may also be present as is well-known in the art.","Gateway and schema server  hosts software applications comprising instructions and data for proxying requests and responses between the client machines  and web site . In addition to software for maintaining HTTP communications, performing requests, maintaining sessions, handling cookies, etc., engine  may be implemented in software to apply the signature schemas to web pages from web sites. There may be provided an interpreter that interprets the signature schema document and applies the actions against the web page code (as an ASCII (plain text) document) to extract the subset of data to produce a result set. A renderer may be provided to express the subset of data result set (i.e. transcode to a target format such as cHTML (Compact HTML) for a mobile device browser) for transmitting to the client machines also in accordance with the signature schema. A cache feature may also be provided for storing\/retrieving data from database . Caching may comprise storing web pages from the web site as well as extracted data from which to build a relational database of object and elements and their relationships. The gateway and schema server (or a separate server (not shown)) may host a web site engine to provide content extracted from the relational database (e.g. stored web site data) to the client machines .","Devices , schema server  and web site  are coupled via a telecommunication network (not shown) typically comprising a plurality of interconnected networks that may include wired and (at least for device A) wireless networks. It should now be understood that the nature of the network is not particularly limited and is, in general, based on any combination of architectures that will support interactions between client machines  and servers  and . In a present embodiment the network includes the Internet as well as appropriate gateways and backhauls.","More specifically, in the present embodiment, a wireless network for client machine A may be based on core mobile network infrastructure (e.g. Global System for Mobile communications (\u201cGSM\u201d), Code Division Multiple Access (\u201cCDMA\u201d), Enhanced Data rates for GSM Evolution (\u201cEDGE\u201d), Evolution Data-Optimized (\u201cEV-DO\u201d), High Speed Downlink Packet Access (\u201cHSPDA\u201d), Universal Mobile Telecommunications System (\u201cUMTS\u201d), etc.) or on wireless local area network (\u201cWLAN\u201d) infrastructures such as the Institute for Electrical and Electronic Engineers (\u201cIEEE\u201d) 802.11 Standard (and its variants) or Bluetooth or the like or hybrids thereof. In the present embodiment of system  it is contemplated that client machine B may be another type of client machine such as a PC (desktop or laptop) configured to include a full desktop computer or as a \u201cthin-client\u201d. Typically such have larger display monitors\/screens than portable machines like A. A wired network for system  and device B can be based on a T1, T3 or any other suitable wired connection.","As previously stated in relation to , each of the client machines  is configured to interact with content available over the network, including web pages on web site . In a present embodiment, client machines A and B may navigate for content using a browser application (e.g. ). As will be explained further below, on client machine A, browser application  may be a mini-browser in the sense that it may be configured to render web pages on the relatively small display  of client machine A. Often, during such rendering, those pages are presented in a format that may be different from how those pages are rendered on a traditional desktop browser application (e.g. browser  of client machine B). Mini-browsers typically attempt to convey substantially the same information as if the web pages had been rendered on a full browser such as Internet Explorer\u00ae, Safari\u00ae or Firefox\u00ae on a traditional desktop or laptop computer like client machine B.",{"@attributes":{"id":"p-0040","num":"0039"},"figref":"FIG. 3","b":["110","104","102","120","102","104","102","302","120","110","140","304","106","308","110","140"]},"The engine  (for example, in parallel or without waiting for a response from server ) makes a request  to the signature repository  for the signature schema document  for the web site, which request may use the domain in the URL as an identifier for obtaining the document . The engine  receives  the schema. The engine  does not render the web page  per se but instead uses the instructions in the signature schema document  to extract the subset of data from the web page  for transcoding. In the present embodiment signature schema  is configured to transcode the web page  in accordance with the specific characteristics of the requesting client device A, having knowledge of display  capabilities\u2014such as screen size, resolution, and other parameters\u2014useful in determining the way in which the transcoded data is to be displayed on the machine A.","Optionally, the web page  or extracted data or both can be stored  in database . Engine  transmits  the transcoded data  that has been extracted and transcoded to a target format from web page , in accordance with the schema , to the requesting client machine A. As noted above, transcoded data  may comprise transcoded navigational data for menu application  and informational content data (e.g. a list of products and related information from a web page) for displaying by browser application .","Signature schemas are pre-defined documents, and may be eXtensible Markup Language (XML) documents utilizing an SQL-like query language, to incorporate instructions and data with which to intelligently extract the data from web pages (which web pages are typically coded in HTML, DHTML, XHTML, XML, RSS, JavaScript, etc). This extracted data may be transcoded and provided to client machines , or used to dynamically generate a relational database (e.g. ) or both. Each signature schema incorporates an understanding of a particular web site's data including relationships among the various data (e.g. among its primary informational content found in the body of its web pages as well as among such content and associated navigational data (e.g. web page links) that govern the data in the page). As described further herein below, prior knowledge of the web page code including specific identifiers, tags and text (i.e. strings) used within the code (sometimes referred to as \u201csignatures\u201d herein), may be used to define instructions to identify portions of the code of interest and to extract specific data.","As a further feature, transcoding may be configured to provide continuity of browsing\/transactional\/session experience enabling a user to switch client machines (e.g. starting with client machine A and switching to machine B (or vice-versa)). A user may be enabled to start an interaction with a web site and have displayed data (published content and navigational data) on the client machine A. The browsing session may then be continued on a second client machine (B) while retaining the transcoding as provided to the first client machine. For example, a user on a desktop can continue to browse the published content and navigational data of the web site as previously experienced on a mobile device, using only a portion of the desktop screen (for example) for data display.","In accordance with the present embodiment, a signature schema document may be defined for all the pages of a particular web site. Large data-driven web sites (e.g. ) don't maintain thousands of individual web pages per se. The sites typically adopt a few page family templates  and dynamically populate these with pertinent content from database  comprising information (e.g. weather, stock data, news, shopping\/product data, patent data, trade-mark data etc.) as applicable when a client requests a particular page. Each template represents a family of pages having objects and attributes. Below are representative example page family templates and their objects and attributes for a web site offering news and an e-commerce web site offering products for sale electronically:","Family: List Page","Objects: lists a selection of news stories","Attributes: Title, abstract and date","Family: Detail page","Objects: lists a single news story (and optionally other related stories)","Attributes: Journalist, City, Date, Title, Full Story, Image","Family: List Page","Objects: lists a selection of products","Attributes: Image, Item Name, Price, Sale Price","Family: Search Page (a specific kind of list page)","Objects: Similar to a list page","Attributes: Similar to a list page","Each family of pages (the family template) can be identified by a \u201csignature\u201d or unique set of one or more features that automatically identifies a given page on a web site as part of the family and differentiates that family from another family of pages. Similarly each object and attribute field of interest can be identified with its respective unique signature within a family of pages. A signature schema document typically comprise numerous pieces of information (commands), for example, information that instructs the engine  for:\n\n","A signature schema document may also be configured to enable special functionality for the target web site including searching, logging in a user, purchasing items, etc.","In accordance with a present embodiment, the structure and syntax of a representative signature schema document for a representative e-commerce site eshop.ca is shown and described. Engine  may be configured to receive web page code comprising text data and search through the text in accordance with the schema document instructions that provide SQL-query like language instructions. Engine  maintains a pointer within the text as it moves through the web page code performing various actions, as described below, in accordance with the schema instructions. Table 1 illustrates a snippet of a representative signature schema",{"@attributes":{"id":"p-0049","num":"0052"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"XML Signature Schema Snippet for E-Shop.ca"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"259pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"1 <?xml version=\u201c1.0\u201d encoding=\u201cISO-8859-1\u201d ?>"},{"entry":"2 <site>"},{"entry":"3 \u2003\u2003\u2002<version major=\u201c1\u201d minor=\u201c2\u201d\/>"},{"entry":"4 \u2003\u2003\u2002<url location=\u201chttp:\/\/www.eshop.ca\u201d key=\u201ceshop.ca\u201d name=\u201cE-Shop\u201d \/>"},{"entry":"5 \u2003\u2003\u2002<advanced>"},{"entry":"6"},{"entry":"7 \u2003\u2003\u2003\u2003\u2002<index_link value=\u201chttp:\/\/www.eshop.ca\/home.asp\u201d \/>"},{"entry":"8 \u2003\u2003\u2002<\/advanced>"},{"entry":"9 \u2003\u2003\u2002<page_type>"},{"entry":"10 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201clocate_string\u201d name="},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u201clist_elements\u201d id=\u201cmylist_1\u201d ref=\u201cCompare products\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003alt1=\u201cSort products\u201d \/>"},{"entry":"11 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201clocate_string\u201d name=\u201citem_elements\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003id=\u201cmyitem_1\u201d ref=\u201c&quot;product-details&quot;\u201d \/>"},{"entry":"12 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201clocate_string\u201d name=\u201cmenu_elements\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003id=\u201cmymenu_2\u201d ref=\u201canc-lhsnav-subItem\u201d \/>"},{"entry":"13 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201clocate_string\u201d name=\u201cmenu_elements\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003id=\u201cmymenu_1\u201d ref=\u201cproduct-table\u201d \/>"},{"entry":"14 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201clocate_string\u201d name=\u201citem_elements\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003id=\u201cmyitem_1\u201d ref=\u201c*\u201d \/>"},{"entry":"15 \u2003\u2003<\/page_type>"},{"entry":"16 \u2003\u2003<list_elements id=\u201cmylist_1\u201d>"},{"entry":"..."},{"entry":"17 \u2003\u2003<\/list_elements>"},{"entry":"..."},{"entry":"18 \u2003\u2003<item_elements id=\u201cmyitem_1\u201d>"},{"entry":"19 \u2003\u2003\u2003\u2003<actions>"},{"entry":"20 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d ref=\u201c&lt;\/head&gt;\u201d \/>"},{"entry":"21 \u2003\u2003\u2003\u2003<\/actions>"},{"entry":"22 \u2003\u2003\u2003\u2003<element>"},{"entry":"23 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201cimage\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201clargeimageref\u201d location=\u201cafter\u201d start=\u201c&lt;img"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003src=&quot;\u201d end=\u201c&quot;\u201d \/>"},{"entry":"24 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201ctitle\u201d ref=\u201cproduct-"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003details-prd-title\u201d location=\u201cafter\u201d start=\u201c&lt;span\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&lt;\/span&gt;\u201d include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"25 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201cprice\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201cour price:\u201d location=\u201cafter\u201d start=\u201c&lt;td\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&lt;\/td&gt;\u201d include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"26 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201csale_price\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201csale price:\u201d location=\u201cafter\u201d start=\u201c&lt;td\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&lt;\/td&gt;\u201d include_sz=\u201c1\u201d strip_tags=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003tolerance=\u201c1\u201d \/>"},{"entry":"27 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201cdescription\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201cdetailbox-text\u201d location=\u201cmiddle\u201d start=\u201c&lt;p\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&lt;\/p&gt;\u201d include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"28 \u2003\u2003\u2003\u2003<\/element>"},{"entry":"29 \u2003\u2003<\/item_elements>"},{"entry":"..."},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"In the XML code snippet of Table 1, instructions at line 4 are for verifying that the web page under consideration and the signature schema relate to the same web site\/domain-eshop.ca. Instructions at lines 9-15 are for determining the particular page family to which the web page under consideration belongs. A respective signature that defines the particular page family has been previously identified for use to distinguish the page. The engine  processes the <page type> tag by registering the identification strings for each page family. When a web page is obtained by the engine as input, the engine may be able to identify the page family by its unique string ref=\u201d and the command provides the related tag within the signature schema document where further instructions for the particular web pages are found:","action=\u201clocate_string\u201d: command to check for the existence of a string.","name=\u201d: identifies the type of page family for each identified family.","id=\u201d: assigns an id to the page family that is used across the signature schema document.","For example, at line 10, the instructions identify a web page using the alternative signatures \u201cCompare products\u201d or \u201cSort Products\u201d. Web pages with these strings are of the same family type. The instructions at line 10 provide a reference tag to further instructions for this family, providing a link to instructions for the list_elements page family with and ID of mylist1 (see lines 16-17). Similarly the other lookup instructions provide references to the specific instructions within the signature schema document for handling a web page of each web page family. Representative instructions for some of the web page families are provided in Table 1, for example, at lines 16-17 and 18-29 with others omitted for brevity.","With reference to the extraction instructions for one of the web page families (e.g. item_elements id=\u201cmyitem1\u201d) at lines 18-29, the instruction at line 20 advances the scan pointer within the text file of the web page code to a beginning limit of a region of interest indicated by a signature reference. This establishes an upper limit for review within the text file. Though not shown in this table, an end limit may be defined as well (See Table 4). Further such instructions at lines 22-28 may comprise commands to locate the subset of data using \u201csignatures\u201d such as string identifiers that uniquely identify the data within the region of interest. In the present example the instructions locate and extract a plurality of elements, namely, product image, title, price, sale price and description for a product of the item web page family. For example, instructions at line 23 extract a string in between the first \u201c&lt;img src=&quot;\u201d and \u201c&quot;\u201d that appears after next appearance of \u201clargeimageref\u201d. The string returned is the path (relative URL at web site eshop.ca) to the product image. By advancing a search scan pointer within the web code to a particular location, references before that location can be skipped when searching. Any prior instances of a signature string such as \u201clargeimageref\u201d may be ignored. In this way, otherwise ambiguous signature references can be avoided.","The example in Table 1 shows at least some of the instructions (e.g. lines 23-27) including one or more directional references relative to the signatures to locate and extract the subset of data. For example, directional references such as \u201cbefore\u201d or \u201cafter\u201d command the engine to extract the data that is in a relative position in the web page before or after the signature string (i.e. ref=). Moreover, such instructions may further include at least one of a start reference or an end reference further pinpointing the location of the data in accordance with that direction. Additional directional reference information is discussed herein with reference to code snippets in other Tables and the discussion of an embodiment of signature transcoding engine syntax presented below.","The example within Table 1 demonstrates the extraction of data and the establishment of relationships between objects and elements within a same page of a web site. However, signature schema documents may further capture relevant attributes of an object across pages. For example, a user of client machine A may click through a number of web pages in eshop.ca to get to a specific product page (e.g. Department\u2192Product Category\u2192Product Sub-Category\u2192Specific Product, such as TV & Video>19\u2033-21\u2033 TVs>LCD TVs>BrandX Product. The navigational hierarchy representing a categorization may be captured and associated to the extracted objects and their elements.","For brevity, certain instructions were omitted from Table 1. Tables 2-4 provide representative instructions for further web page families for e-shop.ca that may be read with Table 1. Table 2 below provides representative instructions, e.g. for lines 16 and 17 of Table 1, including instructions for a web page family related to a list of items\/products for sale. Whereas instructions at lines 22-28 provided product data extraction instructions for a web page family showing a single item (i.e. product), the instructions of Table 2 provide additional instructions that repeat product data extractions for each product in the list.",{"@attributes":{"id":"p-0057","num":"0060"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"XML Signature Schema Snippet for Product List Page"},{"entry":"Family of E-Shop.ca"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"1 \u2003\u2003\u2002<list_elements id=\u201cmylist_1\u201d>"},{"entry":"2 \u2003\u2003\u2003\u2003\u2002<paging>"},{"entry":"3 \u2003\u2003\u2003\u2003\u2003\u2003\u2002<page_variable value=\u201cpage\u201d \/>"},{"entry":"4 \u2003\u2003\u2003\u2003\u2003\u2003\u2002<page_start value=\u201c0\u201d \/>"},{"entry":"5 \u2003\u2003\u2003\u2003\u2003\u2003\u2002<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201clink\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201cNext&amp;nbsp\u201d location=\u201cbefore\u201d start=\u201c&lt;a"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003class=\u201d end=\u201c&lt;\/a&gt;\u201d include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"6 \u2003\u2003\u2003\u2003\u2002<\/paging>"},{"entry":"7 \u2003\u2003\u2003\u2003\u2002<actions>"},{"entry":"8 \u2003\u2003\u2003\u2003\u2003\u2003\u2002<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d ref=\u201cSort or compare"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003products\u201d ref_alt_1=\u201cSort products\u201d \/>"},{"entry":"9 \u2003\u2003\u2003\u2003\u2002<\/actions>"},{"entry":"10 \u2003\u2003\u2003\u2003<element>"},{"entry":"11 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201clink\u201d ref=\u201cthumbnail\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cbefore\u201d start=\u201c&lt;ahref=&quot;\u201d end=\u201c&quot;&gt;\u201d \/>"},{"entry":"12 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201cimage\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201cthumbnail\u201d location=\u201cmiddle\u201d start=\u201c&quot;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&quot;\u201d \/>"},{"entry":"13 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201ctitle\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201cclass=&quot;tx-strong-dgrey&amp;quot;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cafter\u201d start=\u201c&lt;a href=\u201d end=\u201c&lt;\/a&gt;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"14 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201cprice\u201d ref=\u201cpricepill\/\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cafter\u201d start=\u201c\/\u201d \u2003repeat_start=\u201c1\u201d end=\u201c.gif\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003tolerance=\u201c1\u201d \/>"},{"entry":"15 \u2003\u2003\u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d ref=\u201cpricepill\/\u201d \/>"},{"entry":"16 \u2003\u2003\u2003\u2003<\/element>"},{"entry":"17 \u2003\u2003<\/list_elements>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"If the engine  identifies that the page is of the \u201cmylist1\u201d family, the engine determines the location in the signature schema document that contains the signature for the objects and elements of that family and applies the instructions therefor. A product list at e-shop.ca may span multiple web pages. Instructions at lines 2-6 of Table 2 find the number of pages and generate the links for each of the pages. Instructions at lines 7-9 (action tag) advance the search scan pointer to the region of web page code that may be of interest (i.e. in this case, the start of the list). In this way, a local signature reference can be used and any earlier ambiguous references skipped. Skipping to the local region of interest may also make the specification of the signature reference less complicated.","Taking advantage of inherent repeated patterns in the web page code, instructions at lines 10-16 (elements tag) of Table 2 provide product data extraction instructions that may be repeated for each product in the list. The engine  may be provided with commands to scan for each data element of interest using a signature reference e.g. ref=\u201d, an action, one or more positional instruction(s) to further identify the data within the text of the web page code, and any additional text data manipulation instructions to extract the data (e.g. to remove HTML formatting characters or add characters). The instruction at line 15 moves the scan pointer to the end of the object (in this example a product in a list of products) to ready the instructions for application against the next object (product) in the list.","More particularly:\n\n",{"@attributes":{"id":"p-0061","num":"0071"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 3"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"E-Shop Search Family Signature Schema Snippet"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"1 <search_elements id=\u201cmysearch_1\u201d>"},{"entry":"2 \u2003\u2003\u2002<settings>"},{"entry":"3 \u2003\u2003\u2003\u2003\u2002<search_path value=\u201chttp:\/\/www.eshop.ca\/search\/search.asp\/>"},{"entry":"4 \u2003\u2003\u2003\u2003\u2002<search_variable value=\u201ckeyword\u201d \/>"},{"entry":"5 \u2003\u2003\u2002<\/settings>"},{"entry":"6 \u2003\u2003\u2002<paging>"},{"entry":"7 \u2003\u2003\u2003\u2003\u2002<page_variable value=\u201cpage\u201d \/>"},{"entry":"8 \u2003\u2003\u2003\u2003\u2002<page_start value=\u201c0\u201d \/>"},{"entry":"9 \u2003\u2003\u2003\u2003\u2002<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201clink\u201d ref=\u201cNext&amp;nbsp\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cbefore\u201d start=\u201c&lt;a href=\u201d repeat_start=\u201c1\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&lt;\/a&gt;\u201d include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"10 \u2003\u2003<\/paging>"},{"entry":"11 \u2003\u2003<actions>"},{"entry":"12 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d ref=\u201cbg-compare-hero\u201d \/>"},{"entry":"13 \u2003\u2003<\/actions>"},{"entry":"14 \u2003\u2003<element>"},{"entry":"15 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201clink\u201d ref=\u201c&gt;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cafter\u201d start=\u201c&lt;a href=&quot;\u201d end=\u201c&quot;&gt;\u201d \/>"},{"entry":"16 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201cimage\u201d ref=\u201c&lt;a href\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cafter\u201d start=\u201c&lt;img src=&quot;\u201d end=\u201c&quot;\u201d \/>"},{"entry":"17 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201ctitle\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003ref=\u201cclass=&quot;tx-strong-dgrey&amp;quot;\u201d location=\u201cafter\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003start=\u201c&lt;a href=\u201d end=\u201c&lt;\/a&gt;\u201d include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"18 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d ref=\u201cbg-compare-hero\u201d \/>"},{"entry":"19 \u2003\u2003<\/element>"},{"entry":"20 <\/search_elements>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"If the engine  has identified that the page is of the \u201cmysearch1\u201d family the engine applies the portion of the signature schema document that contains the signature for the objects and elements of that family, shown above in Table 3.","<settings> . . . <\/settings>: Contains any web page specific manual overrides such as excluding certain menu items, customization, modification of a menu that may be desired. In this example, as per line 3 a value of form variable \u201ckeyword\u201d will be posted to \u201chttp:\/\/www.eshop.ca\/search\/search.asp\u201d.\n\n<paging> . . . <\/paging>: Manages paging for the search pages.\n\n<actions> . . . <\/actions>: Instruct the engine to move the scan pointer to the string \u201cbg-compare-hero\u201d (line 12 of Table 3) and start looking for elements from there.\n\n<element> . . . <\/element>: Contains lookup instructions for each object element as previously described.\n",{"@attributes":{"id":"p-0064","num":"0074"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 4"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"E-shop Menu Family Signature Schema Snippet"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"1 <menu_elements id=\u201cmymenu_1\u201d>"},{"entry":"2 \u2003\u2003<settings>"},{"entry":"3 \u2003\u2003\u2003\u2003<black_list value=\u201cSite Index##External Link\u201d \/>"},{"entry":"4 \u2003\u2003<\/settings>"},{"entry":"5 \u2003\u2003<actions>"},{"entry":"6 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2002 ref=\u201cbg-lhsnav-title\u201d \/>"},{"entry":"7 \u2003\u2003\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cend_ptr\u201d ref=\u201c&lt;\/table&gt;\u201d \/>"},{"entry":"8 \u2003\u2003<\/actions>"},{"entry":"9 \u2003\u2003<element>"},{"entry":"10 \u2003\u2003\u2003\u2002<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201clink\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2002 ref=\u201c&lt;li&gt;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cafter\u201d start=\u201c&lt;a href=&quot;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&quot;\u201d \/>"},{"entry":"11 \u2003\u2003\u2003\u2002<lookup type=\u201cpex\u201d action=\u201cget_string\u201d name=\u201ctitle\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2002 ref=\u201c&lt;li&gt;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003location=\u201cafter\u201d start=\u201c&lt;a href=&quot;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003end=\u201c&lt;\/a&gt;\u201d"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003include_sz=\u201c1\u201d strip_tags=\u201c1\u201d \/>"},{"entry":"12 \u2003\u2003\u2003\u2002<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d ref=\u201c&lt;\/li&gt;\u201d\/>"},{"entry":"13 \u2003\u2002<\/element>"},{"entry":"14 <\/menu_elements>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}]}}},"If the engine  has identified that it is looking for a menu on a page that contains the menu style of the \u201cmymenu1\u201d family, the engine applies the portion of the signature schema document that contains the signature for the objects and elements of that family, shown above in Table 4.","<settings> . . . <\/settings>: Contains any page specific manual overrides such as exclude list, customization, modification, personalization, etc. In this example, as per line 3, any result that matches \u201cSite Index\u201d, \u201cExternal Link\u201d are excluded but partial matches are also possible by using wild card strings.\n\n<action> . . . <\/action>: Lines 6-7 of Table 4 sets the start and end limits to instruct the engine  where to look for menu items.\n\n<element> . . . <\/element>: Contains lookup instructions for each object element as previously described. In this example, lines 10 and 11 of Table 4, an element in \u2018mymenu1\u2019 (each individual menu entry of web page) contains link and title as its properties. Line 12 instructs the engine to move the pointer to \u201c&lt;\/li&gt;\u201d to get ready to loop through and extract the next menu item with the same elements, taking advantage of the repeated patterns within the text of the web page code.\n","Though the example described relates to extracting informational content for an e-commerce oriented site, no limitation should be applied. Similar instructions may be defined for other types of sites, for pages which permit a user to input information and for navigational data extraction.","Signature schema document  may further comprise transcoding instructions (not shown) for use by engine  to express the extracted subset of data in a target format (e.g. a format of HTML, XML, script etc.) for use by the requesting client machine . For example, the transcoding instructions may define a web page for displaying the extracted data in browser application  that is suitable for display on the client device . The formatting rules can be system and\/or user defined and can include parameters such as but not limited to: object positioning, object colour, object size, object shape, object font\/image characteristics, background style, and navigational item display (e.g. in a menu as described above) or for display with the content in the generated page on the client screen. Browser application  (e.g. of machine A) may be configured for using a markup language (e.g. cHTML) or other code format that is not identical to the code provided by web page . Alternatively, transcoding instructions may be defined to express the extracted subset of data in XML or another code format such as for use by a different client application or plug-in to a client application such as menu application  or another application (not shown) on client machine .","Signature schema documents may be prepared (i.e. coded) using a computing device such as computing device . Computing device  may be any suitable desktop or laptop device capable of coding documents (which may be but need not be XML-type documents) and may be configured to automate or semi-automate coding of such documents.","Computing device  may be coupled to web site  to retrieve web pages from the site for reviewing to prepare the custom signature schema document for the site. Computing device  may be configured to automatically review the web page code and apply heuristics or other techniques (e.g. spatial analysis) to determine probable content of interest (i.e. subset of data) and generate code to extract the subset of data. For example, primary content of interest tends to be located toward the centre of the web page. In another embodiment, the computing device may facilitate a user coding signature schema to manually assist with the analysis of the web page and identification of subset of data and the generation of the instructions. Computing device  may be further coupled to repository  to provide (e.g. up-load or publish) coded signature schema documents for use by server .","It will be apparent to a person of ordinary skill in the art that as a web site may be re-designed or otherwise changed such that the code of one or more web page families may be changed or a family added, an existing signature schema may require re-coding to account for the change\/addition, as applicable.","Signature (Transcodinq) Engine Syntax","In accordance with a present embodiment, further details concerning the syntax of schema instructions are described.","Lookup Syntax","The lookup tag instructs the engine  to perform an insert, delete or query the document contents.","Type: Defines the data type of the lookup. Type may be \u201cpex\u201d for a string expression. Type may also support more advanced options such as regular expressions, API calls, and SQL queries.","Action:","Action=\u201clocate_string\u201d: Look for a string (\u201cref\u201d identifier\u201d) value within the data. Return true if the string exists in the data (i.e. the \u201cref\u201d identifier index>=0).","Action=\u201creplace_string\u201d: Replace a string within the data with the \u201cref\u201d identifier.","Action=\u201cmove_ptr\u201d: Remove all characters in the data that exist before the location of the \u201cref\u201d identifier.","Action=\u201cend_ptr\u201d: Remove all characters in the data that exist after the location of the \u201cref\u201d identifier.","Action=\u201cget_string\u201d Extract a string based on the location of the \u201cref\u201d, \u201cstart\u201d, and \u201cend\u201d identifiers.","ID: ID is an identifier of another section within the signature. It allows the result of a query to trigger another set of actions within the signature. This is primarily used when identifying page types. Once a match has been made, specific instructions are executed that are marked with this ID. Recursive data structures (e.g. lists within lists) may also be supported.\n\nRef: Ref defines the initial identifier that the lookup searches for. If an AND case is required multiple ref identifiers can be used (i.e. ref=\u201cstring1\u201d ref1=\u201cstring2\u201d). If an OR case is required ref_[ref identifier]_alt1 can be used (i.e. ref=\u201cstring1\u201d ref_alt1=\u201cstring2\u201d). To demonstrate (X=\u201c1\u201d\u2225Y=\u201c2\u201d) && (A=\u201c8\u201d\u2225B=\u201c9\u201d) would translate to ref=\u201c1\u201d ref_alt1=\u201c2\u201d ref1=\u201c8\u201d ref1_alt1=\u201c9\u201d.\n\nRepeat_[identifier]: Repeat executes the identifier query additional times. For example, if ref=\u201chello\u201d to set the identifier index at the second occurrence of hello the following tag would be added: repeat_ref=\u201c1\u201d.\n\nLocation:\n\nLocation=\u201cbefore\u201d: Search the data in a reverse direction, starting from the \u201cref\u201d identifier. This implies that both the \u201cstart\u201d and \u201cend\u201d identifier indexes must be less than the \u201cref\u201d index.\n\nLocation=\u201cmiddle\u201d: Search the data in two directions, starting from the \u201cref\u201d identifier. This implies that the \u201cref\u201d identifier index is greater than the \u201cstart\u201d identifier index and less than the \u201cend\u201d identifier index.\n\nLocation=\u201cafter\u201d: Search the data in a forward direction, starting from the \u201cref\u201d identifier. This implies that both the \u201cstart\u201d and \u201cend\u201d identifier indexes must be greater than the \u201cref\u201d index.\n\nStart: Start is primarily used when action=\u201cget_string\u201d and may also be used for replace\/remove instructions. The start identifier index will be the start index of the string to extract. If an AND case is required multiple \u201cstart\u201d identifiers can be used (i.e. start=\u201cstring1\u201d start1=\u201cstring2\u201d). If an OR case is required start_[start identifier]_alt1 can be used (i.e. start=\u201cstring1\u201d start_alt1=\u201cstring2\u201d). To demonstrate (X=\u201c1\u201d\u2225Y=\u201c2\u201d) && (A=\u201c8\u201d\u2225B=\u201c9\u201d) would translate to start=\u201c1\u201d start_alt1=\u201c2\u201d start1=\u201c8\u201d start1_alt1=\u201c9\u201d. To find the nmatch see the repeat syntax.\n\nEnd: End is primarily used when action=\u201cget_string\u201d and may also be used for replace\/remove instructions. The end identifier index will be the end index of the string to extract. If an AND case is required multiple \u201cend\u201d identifiers can be used (i.e. end=\u201cstring1\u201d end1=\u201cstring2\u201d). If an OR case is required end_[end identifier]_alt1 can be used (i.e. end=\u201cstring1\u201d end_alt1=\u201cstring2\u201d). To demonstrate (X=\u201c1\u201d\u2225Y=\u201c2\u201d) && (A=\u201c8\u201d\u2225B=\u201c9\u201d) would translate to end=\u201c1\u201d end_alt1=\u201c2\u201d end1=\u201c8\u201d end1_alt1=\u201c9\u201d. To find the nmatch see the repeat syntax\n\nMax_index: Max_index is used to limit the scope of a query by ensuring that no other identifier index is greater than the \u201cmax_index\u201d. If an AND case is required multiple \u201cmax_index\u201d identifiers can be used (i.e. max_index=\u201cstring1\u201d max_index1=\u201cstring2\u201d). If an OR case is required max_index_[max_index identifier]_alt1 can be used (i.e. max_index=\u201cstring1\u201d max_index_alt1=\u201cstring2\u201d). To demonstrate (X=\u201c1\u201d\u2225Y=\u201c2\u201d) && (A=\u201c8\u201d\u2225B=\u201c9\u201d) would translate to max_index=\u201c1\u201d max_index alt1=\u201c2\u201d max_index=\u201c8\u201d max_index_alt1=\u201c9\u201d. To find the nmatch see the repeat syntax.\n\nMax_Index_Use_Ref: Max_Index_Use_Ref is a Boolean value set to 0 or 1. It is used with Max_Index. When set to 0, the \u201cmax_index\u201d will begin querying at the beginning of the data. When set to 1, the \u201cmax_index\u201d will begin querying from the \u201cref\u201d identifier index.\n\nGbl_append_[identifier]: Gbl_append appends a string passed via the url to the identifiers query value\n\nGbl_Repeat_[identifier]: Gbl_Repeat executes the identifier query additional times. For example, if ref=\u201chello\u201d to set the identifier index at the second occurrence of hello the following tag would be added: gbl_repeat_ref=\u201cvar\u201d where var would be passed in the URL i.e. http:\/\/www.eshop.ca\/mobile\/fatfree.asp?site= . . . &url= . . . &var=1.\n\nTolerance: Tolerance is a Boolean value set to 0 or 1. It is used to return an empty string. By default tolerance is set to 0 which enforces that a property be found on a page, otherwise the page will be marked as \u201cinvalid\u201d and an appropriate error message returned. When set to one, an empty value is returned for properties that can not be located.\n\nInclude_sz: Include_sz is a Boolean value set to 0 or 1 and used with get_string. It is by default set to 0. When set to 1 it includes the \u201cstart\u201d value and the \u201cend\u201d value as part of the result.\n\nInclude_start: Include_start is a Boolean value set to 0 or 1 and used with get_string. It is by default set to 0. When set to 1 it includes the \u201cstart\u201d value as part of the result.\n\nInclude_end: Include_end is a Boolean value set to 0 or 1 and used with get_string. It is by default set to 0. When set to 1 it includes the \u201cend\u201d value as part of the result.\n\nClosetag: Closetag is a Boolean value set to 0 or 1 and used when action=\u201cget_string\u201d. It appends \/> to the extracted value.\n\nStrip_Tags: Strip_Tags removes HTML tags from the value and used when action=\u201cget_string\u201d.\n\nStrip_tags=\u201c1\u201d: remove all tags.\n\nStrip_tags=\u201c2\u201d: remove all br and script tags.\n\nStrip_tags=\u201c3\u201d: remove all tags except replace <\/p> <\/li> with <br>.\n\nStrip_tags=\u201c4\u201d: remove all tags except replace <\/div> <br> with <br>.\n\nStrip_tags=\u201ctag1, tag2, . . . tagN\u201d: remove all tag1, tag2, . . . tagN leaving any tag not listed.\n\nNotrim: Notrim is a Boolean value set to 0 or 1 and used when action=\u201cget_string\u201d. By default all value have white spaced trimmed. When this property is set to 1, white space is not trimmed.\n\nAppend: Append is a string value and used when action=\u201cget_string\u201d. It appends a string to the extracted value.\n\nPrepend: Prepend is a string value and used when action=\u201cget_string\u201d. It prepends a string to the extracted value.\n\nUpper: Upper is a Boolean value set to 0 or 1 and used when action=\u201cget_string\u201d. It converts all characters to upper case.\n\nLower: Lower is a Boolean value set to 0 or 1 and used when action=\u201cget_string\u201d. It converts all characters to lower case.\n\nPage Syntax\n","The page syntax extracts the paging information from the data. This allows the end user the ability to change pages just as on the desktop.","Page_variable: Defines unique key that defines a family's paging feature.","Page_start: Defines value of first page in a family's paging feature.","Page_post: Path where paging variable(s) must be transmitted to.","Page_start: Defines value of first page in a family's paging feature.","Page_increment: Defines value that paging increases by for each page in a family's paging feature.","Page_block: Defines unique key that defines a family's paging block feature.","Page_block_size: Defines the size of the family's page block. (i.e. 10 items per page)","Url_append: Append the unique key that defines a family's paging feature and the page number.","Search Syntax","Make a web site family's search feature functional by specifying details such as what variable to post.","Search_path: Search path where search variable must be transmitted to","Search_variable: Name of search variable which a web site's search feature is looking to read, request, post, etc.","Url_replace: Remove a portion of the url that is specific to posting search parameters","URL Syntax","The url tag defines global properties for a site, including the url, and name: <url location=\u201chttp:\/\/www.eshop.ca\u201d key=\u201ceshop.ca\u201d name=\u201cE-Shop\u201d\/>","Name: Name is the name to display when browsing using the gateway ","Location: Location defines the fully qualified address of the site.","Key: Key is the site.","Advanced Syntax","The advanced tag defines global properties for the site. This at a minimum includes the path to the initial page of the site.",{"@attributes":{"id":"p-0080","num":"0090"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"182pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<advanced>"]},{"entry":[{},"\u2003\u2003<index_link value=\u201chttp:\/\/www.eshop.ca\u201d \/>"]},{"entry":[{},"\u2003\u2003<check_out value=\u201c1\u201d \/>"]},{"entry":[{},"<\/advanced>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":[{},{},{},{},{},{},{},{}],"b":["120","120","120","102","104","104"]},"The page type is a collection of lookup queries that have an id associated with them. Lookup queries may be processed in a top down fashion. The first successful lookup will trigger another section in the signature schema document. For example, if the following evaluates to true:",{"@attributes":{"id":"p-0082","num":"0092"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<page_type>"},{"entry":"\u2003\u2003<lookup type=\u201cpex\u201d action=\u201clocate_string\u201d name=\u201clist_elements\u201d"},{"entry":"id=\u201cmylist_1\u201d ref=\u201c&lt;!--\u201d \/>"},{"entry":"<\/page_type>"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Then the tag element <list_elements id=\u201cmylist1\u201d> would be executed next.","General Element Syntax","Elements include list_elements, menu_elements, item_elements, search_elements, form_elements. Each element has an ID. For example a menu element: <menu_element id=\u201cmenu_id\u201d\/>","The element may contain the following sub containers (settings, actions, elements, paging) which scope resides only within the element. Each element is associated with a specific rendering function.",{"@attributes":{"id":"p-0084","num":"0094"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"161pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<menu_element id=\u201dmenu_id\u201d\/>"]},{"entry":[{},"\u2003\u2003<settings> <\/settings>"]},{"entry":[{},"\u2003\u2003<paging> <\/ paging >"]},{"entry":[{},"\u2003\u2003<elements> <\/ elements >"]},{"entry":[{},"\u2003\u2003<actions> <\/ actions >"]},{"entry":[{},"<\/menu_element>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}},"br":[{},{},{},{},{},{},{},{},{},{},{},{},{},{},{}]},{"@attributes":{"id":"p-0085","num":"0095"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"203pt","align":"left"}}],"thead":{"row":{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<actions>"]},{"entry":[{},"\u2003\u2003<lookup type=\u201cpex\u201d action=\u201cmove_ptr\u201d ref=\u201c&lt;\/head&gt;\u201d \/>"]},{"entry":[{},"<\/actions>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}}}},"Persons of ordinary skill in the art will appreciate that alternative embodiments are contemplated. Though not shown, a client machine may incorporate a transcoding engine, applying a signature schema document obtained from a repository such as repository  to web pages received from a web site. For example, client machine B may be configured with an engine in cooperation with a mini-browser application or plug-in to another application. The engine obtains the schema document to apply against web page content from a particular web site. Communications with the web site may be direct and not via a gateway . The transcoding engine may apply the commands from the schema and transcode appropriately for rendering content by the mini-browser or via the plug-in.",{"@attributes":{"id":"p-0087","num":"0097"},"figref":["FIG. 4","FIG. 1","FIG. 2","FIG. 4"],"b":["400","100","102","402","104","102","102","102"]},"Large public database-driven web sites do not typically encrypt data that is publicly available. Instead, the sites encrypt specific pages that contain user information, for example login, signup, checkout, and account management pages. One reason why all content is not encrypted may be that SSL\/TLS is resource intensive and reduces scalability. Another reason why all content is not encrypted may be that SSL\/TLS increase response times for the end user due to the time spent encrypting and decrypting content. Examples of web sites that follow this model include online stores, news sites, sports information and weather. Therefore, since the number of SSL\/TLS pages is relatively small, signature schema can be created to define a mobile friendly layout. Another benefit of the signature schema, is that each field in an HTML form can be classified and populated with user data from an external application. It will be understood that each individual SSL\/TLS page will likely require its own respective page family template within a schema.","In contrast to ,  shows a client machine C comprising a browser application C similar to browser  for communicating with web site  via gateway and schema server . In a similar way, a signature schema may be used to transcode un-encrypted communications of web pages  to provide transcoded data . However, browser C may be further configured to communicate through secure transcoding engine , handing off communications for secure web pages  when such communications between machine C and web site  are to be encrypted. Secure transcoding engine  may communicate with gateway and schema server  to obtain the signature schema document  which may be applied to transcode secure communications with web site .",{"@attributes":{"id":"p-0090","num":"0100"},"figref":["FIG. 5","FIG. 3"],"b":["102","120","104","404","102","110","408","120","104","86","502","402","402","504","122","120","140","122","506","140","124","402","508","404","106","402","510","404","106","122","404"]},"Schema document  may include instructions for populating secure responses to web site  with data previously stored to client machine C. Such information may include personal information that has been stored using an external client application  such as a password keeping application for securely storing (encrypted) personal information. Schema documents may be coded with suitable instructions to invoke communications or application programming interfaces between the secure transcoding engine and external application  to securely obtain such data. Such information may be available via a plugin (not shown) to browser C.","Those skilled in the art will now recognize that system  may be implemented so that a plurality of web sites are coupled to the telecommunication network (either alone by a server  or by a plurality of web servers like web-server ), and that a corresponding plurality of schemas for each of those web sites (or each of the web pages therein, or both) can be maintained by gateway and schema server  and repository . Those skilled in the art will now recognize that there can in fact be a plurality of gateway and schema servers (like server ). Client machines  can be configured for proxied connection through different servers . Those skilled in the art will now further recognize that servers  can be hosted by a variety of different parties, including, for example but without limitation: a) a manufacturer of client machine , b) a service provider that provides access to the telecommunication network on behalf of user U of a client machine ; c) the entity that hosts web-site  or d) a third party intermediary. In web site host example it can even be desired to simply combine the web server  and schema server engine  on a single server to thereby obviate the need for separate servers.","Accordingly, signature schemas may be defined to provide custom browsing experiences for small (e.g. mobile) devices (among others) and the proposed framework avoids changing web site code for existing web sites. Data extracted from the web sites may be intelligently stored to a relational database using knowledge of the web pages (i.e. the objects and their attributes) incorporated into the signature schemas. Query language may be used to direct a search of the web page as an ASCII text file to look for signatures to distinguish the web page's family (from other web page families of a site) and to identify the subset of data to be extracted."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0006","num":"0005"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0007","num":"0006"},"figref":["FIG. 2","FIG. 1"]},{"@attributes":{"id":"p-0008","num":"0007"},"figref":["FIG. 3","FIG. 1"]},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIGS. 6A-6D","b":["7","7"]}]},"DETDESC":[{},{}]}
