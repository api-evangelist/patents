---
title: Methods and apparatus for pruning decision optimization in example-based data pruning compression
abstract: An apparatus includes a patch library creator for creating a first patch library from an original version of the picture and a second patch library from a reconstructed version of the picture. Each of the libraries includes a plurality of high resolution replacement patches for replacing one or more pruned blocks during a recovery of a pruned version of the picture. A pruner generates the pruned version from the first patch library, and decides whether to respectively replace original blocks with pruned blocks responsive to a comparison between a first rate-distortion estimate and a second rate-distortion estimate. The estimates are based on both a distortion component and a bitrate component. A metadata generator generates metadata from the second patch library. The metadata is for recovering the pruned version. An encoder encodes the pruned version and the metadata.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=09544598&OS=09544598&RS=09544598
owner: THOMSON LICENSING
number: 09544598
owner_city: Issy les Moulineaux
owner_country: FR
publication_date: 20110909
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application claims the benefit, under 35 U.S.C. \u00a7365 of International Application PCT\/US2011\/050925, filed Sep. 9, 2011, which was published in accordance with PCT Article 21(2) on Mar. 15, 2012 in English and which claims the benefit of U.S. provisional patent application No. 61\/403,109, filed Sep. 10, 2010.","This application is related to the following co-pending, commonly-owned, patent applications:\n\n","The present principles relate generally to video encoding and decoding and, more particularly, to methods and apparatus for pruning decision optimization in example-based data pruning compression.","The idea of combining data pruning technology and video compression has been explored. For example, in first, second, and third approaches, texture regions are removed at the encoder and are recovered using texture synthesis tools at the decoder. These approaches could decrease the rates of encoding video data and hence improve the compression efficiency. However, both the encoder and decoder require modifications and the improvement is limited. A fourth approach proposed a line removal based method to rescale a video by removing some horizontal or vertical lines with a least-square minimization framework, and using a high-order interpolation method to upscale the video to full resolution at the decoder. The fourth approach is an out-of-loop approach which does not need to modify the encoder and decoder, but fails to achieve compression efficiency gain according to their experimental results. In a fifth approach, several down-sampled frames are generated from the original frame at the encoder side. A full resolution frame is then re-synthesized from the decoded down-sampled frames at the decoder side. However, experiments show that the fifth approach achieves little improvement over conventional encoders.","All the above schemes only have a limited source to recover the missing data and, hence, constrain the efficiency improvement. Therefore, some preliminary research on the exampled-based schemes has been conducted. An example-based super-resolution data pruning scheme is proposed in a sixth approach. A representative patch library is trained from the original video data. Then the down-sampled video and the patch library are encoded and the full resolution video is obtained by performing the exampled-based super resolution method at the decoder side. It is difficult to achieve compression gain because encoding the patch library consumes a lot of bits. Therefore, a novel exampled-based data pruning scheme is proposed in a seventh approach. Instead of transmitting the patch library itself, the patch library can be created by training the previous or current decoded frames at the decoder side. Furthermore, metadata that includes pruning results and the locations of best-match patches are also transmitted to the decoder side to assist in the recovery of missing regions. The seventh approach obtains a better compression performance at low bitrates for some sequences. However, the seventh approach has a big loss at other bitrates because it adopts a fixed threshold to decide the pruning regions based only on the distortion.","These and other drawbacks and disadvantages of these approaches are addressed by the present principles, which are directed to methods and apparatus for pruning decision optimization in example-based data pruning compression.","According to an aspect of the present principles, there is provided an apparatus for encoding a picture in a video sequence. The apparatus includes a patch library creator for creating a first patch library from an original version of the picture and a second patch library from a reconstructed version of the picture. Each of the first patch library and the second patch library includes a plurality of high resolution replacement patches for replacing one or more pruned blocks during a recovery of a pruned version of the picture. The apparatus also includes a pruner for generating the pruned version of the picture from the first patch library, and for deciding whether to respectively replace one or more original blocks from the original version of the picture with the one or more pruned blocks responsive to a comparison between a first rate-distortion estimate and a second rate-distortion estimate. The first rate-distortion estimate and the second rate-distortion estimate are based on both a distortion component and a bitrate component. The apparatus further includes a metadata generator for generating metadata from the second patch library. The metadata is for recovering the pruned version of the picture. The apparatus additionally includes an encoder for encoding the pruned version of the picture and the metadata.","According to another aspect of the present principles, there is provided a method for encoding a picture in a video sequence. The method includes creating a first patch library from an original version of the picture and a second patch library from a reconstructed version of the picture. Each of the first patch library and the second patch library includes a plurality of high resolution replacement patches for replacing one or more pruned blocks during a recovery of a pruned version of the picture. The method also includes generating the pruned version of the picture from the first patch library, and deciding whether to respectively replace one or more original blocks from the original version of the picture with the one or more pruned blocks responsive to a comparison between a first rate-distortion estimate and a second rate-distortion estimate. The first rate-distortion estimate and the second rate-distortion estimate are based on both a distortion component and a bitrate component. The method further includes generating metadata from the second patch library. The metadata is for recovering the pruned version of the picture. The method additionally includes encoding the pruned version of the picture and the metadata using an encoder.","According to yet another aspect of the present principles, there is provided an apparatus for encoding a picture in a video sequence. The apparatus includes means for creating a first patch library from an original version of the picture and a second patch library from a reconstructed version of the picture. Each of the first patch library and the second patch library includes a plurality of high resolution replacement patches for replacing one or more pruned blocks during a recovery of a pruned version of the picture. The apparatus also includes means for generating the pruned version of the picture from the first patch library, and for deciding whether to respectively replace one or more original blocks from the original version of the picture with the one or more pruned blocks responsive to a comparison between a first rate-distortion estimate and a second rate-distortion estimate. The first rate-distortion estimate and the second rate-distortion estimate are based on both a distortion component and a bitrate component. The apparatus further includes means for generating metadata from the second patch library. The metadata is for recovering the pruned version of the picture. The apparatus additionally includes means for encoding the pruned version of the picture and the metadata.","These and other aspects, features and advantages of the present principles will become apparent from the following detailed description of exemplary embodiments, which is to be read in connection with the accompanying drawings.","The present principles may be better understood in accordance with the following exemplary figures, in which:","The present principles are directed to methods and apparatus for pruning decision optimization in example-based data pruning compression.","The present description illustrates the present principles. It will thus be appreciated that those skilled in the art will be able to devise various arrangements that, although not explicitly described or shown herein, embody the present principles and are included within its spirit and scope.","All examples and conditional language recited herein are intended for pedagogical purposes to aid the reader in understanding the present principles and the concepts contributed by the inventor(s) to furthering the art, and are to be construed as being without limitation to such specifically recited examples and conditions.","Moreover, all statements herein reciting principles, aspects, and embodiments of the present principles, as well as specific examples thereof, are intended to encompass both structural and functional equivalents thereof. Additionally, it is intended that such equivalents include both currently known equivalents as well as equivalents developed in the future, i.e., any elements developed that perform the same function, regardless of structure.","Thus, for example, it will be appreciated by those skilled in the art that the block diagrams presented herein represent conceptual views of illustrative circuitry embodying the present principles. Similarly, it will be appreciated that any flow charts, flow diagrams, state transition diagrams, pseudocode, and the like represent various processes which may be substantially represented in computer readable media and so executed by a computer or processor, whether or not such computer or processor is explicitly shown.","The functions of the various elements shown in the figures may be provided through the use of dedicated hardware as well as hardware capable of executing software in association with appropriate software. When provided by a processor, the functions may be provided by a single dedicated processor, by a single shared processor, or by a plurality of individual processors, some of which may be shared. Moreover, explicit use of the term \u201cprocessor\u201d or \u201ccontroller\u201d should not be construed to refer exclusively to hardware capable of executing software, and may implicitly include, without limitation, digital signal processor (\u201cDSP\u201d) hardware, read-only memory (\u201cROM\u201d) for storing software, random access memory (\u201cRAM\u201d), and non-volatile storage.","Other hardware, conventional and\/or custom, may also be included. Similarly, any switches shown in the figures are conceptual only. Their function may be carried out through the operation of program logic, through dedicated logic, through the interaction of program control and dedicated logic, or even manually, the particular technique being selectable by the implementer as more specifically understood from the context.","In the claims hereof, any element expressed as a means for performing a specified function is intended to encompass any way of performing that function including, for example, a) a combination of circuit elements that performs that function or b) software in any form, including, therefore, firmware, microcode or the like, combined with appropriate circuitry for executing that software to perform the function. The present principles as defined by such claims reside in the fact that the functionalities provided by the various recited means are combined and brought together in the manner which the claims call for. It is thus regarded that any means that can provide those functionalities are equivalent to those shown herein.","Reference in the specification to \u201cone embodiment\u201d or \u201can embodiment\u201d of the present principles, as well as other variations thereof, means that a particular feature, structure, characteristic, and so forth described in connection with the embodiment is included in at least one embodiment of the present principles. Thus, the appearances of the phrase \u201cin one embodiment\u201d or \u201cin an embodiment\u201d, as well any other variations, appearing in various places throughout the specification are not necessarily all referring to the same embodiment.","It is to be appreciated that the use of any of the following \u201c\/\u201d, \u201cand\/or\u201d, and \u201cat least one of\u201d, for example, in the cases of \u201cA\/B\u201d, \u201cA and\/or B\u201d and \u201cat least one of A and B\u201d, is intended to encompass the selection of the first listed option (A) only, or the selection of the second listed option (B) only, or the selection of both options (A and B). As a further example, in the cases of \u201cA, B, and\/or C\u201d and \u201cat least one of A, B, and C\u201d, such phrasing is intended to encompass the selection of the first listed option (A) only, or the selection of the second listed option (B) only, or the selection of the third listed option (C) only, or the selection of the first and the second listed options (A and B) only, or the selection of the first and third listed options (A and C) only, or the selection of the second and third listed options (B and C) only, or the selection of all three options (A and B and C). This may be extended, as readily apparent by one of ordinary skill in this and related arts, for as many items listed.","Also, as used herein, the words \u201cpicture\u201d and \u201cimage\u201d are used interchangeably and refer to a still image or a picture from a video sequence. As is known, a picture may be a frame or a field.","Additionally, as used herein, the phrase \u201cexample-based compression\u201d refers to a data pruning method that creates a patch library using a set of training frames that are accessible for both encoder and decoder sides, and uses the patch library to remove the coding blocks in the frames at the encoder side and recover the blocks in the video frames at the decoder side.","Turning to , an exemplary example-based data pruning system having training frames obtained from decoded frames is indicated generally by the reference numeral . The pruning system  includes a pruner  having an output connected in signal communication with an input of a video encoder  and a first input of a metadata generator and encoder . An output of the video encoder is connected in signal communication with an input of a video decoder  and an input of a patch library creator . An output of the video decoder  is connected in signal communication with a first input of a recovery device . An output of the patch library creator  is connected in signal communication with a second input of the recovery device . An output of the metadata generator and encoder  is connected in signal communication with an input of a metadata decoder . An output of the metadata decoder  is connected in signal communication with a third input of the recovery device . An output of the patch library creator  is connected in signal communication with a second input of the metadata generator and encoder . An output of a clustering device and patch library creator  is connected in signal communication with a second input of the pruner . An input of the pruner  and an input of the clustering device and patch library creator  are available as inputs to the pruning system , for receiving input video. An output of the recovery device is available as an output of the pruning system , for outputting video.","Turning to , an exemplary example-based data pruning system having training frames obtained from public resources is indicated generally by the reference numeral . The pruning system  includes a pruner  having an output connected in signal communication with an input of a video encoder . An output of the video encoder  is connected in signal communication with an input of a video decoder . An output of the video decoder  is connected in signal communication with a first input of a recovery device . An output of a patch library (lib) creator  is connected in signal communication with a second input of the recovery device . An output of a clusterer and patch library (lib) creator  is connected in signal communication with a second input of the pruner . An input of the pruner  is available as an input of the pruning system , for receiving input video. An input of the clusterer and patch library creator  is available as an input of the pruning system , for receiving public video. An input of the patch library creator  is available as an input of the pruning system , for receiving public video. An output of the recovery device  is available as an output of the pruning system , for providing output video.","Turning to , an exemplary video encoder to which the present principles may be applied is indicated generally by the reference numeral . For example, video encoder  may be video encoder  and\/or video encoder  in  and\/or video encoder  in . The video encoder  includes a frame ordering buffer  having an output in signal communication with a non-inverting input of a combiner . An output of the combiner  is connected in signal communication with a first input of a transformer and quantizer . An output of the transformer and quantizer  is connected in signal communication with a first input of an entropy coder  and a first input of an inverse transformer and inverse quantizer . An output of the entropy coder  is connected in signal communication with a first non-inverting input of a combiner . An output of the combiner  is connected in signal communication with a first input of an output buffer .","A first output of an encoder controller  is connected in signal communication with a second input of the frame ordering buffer , a second input of the inverse transformer and inverse quantizer , an input of a picture-type decision module , a first input of a macroblock-type (MB-type) decision module , a second input of an intra prediction module , a second input of a deblocking filter , a first input of a motion compensator , a first input of a motion estimator , and a second input of a reference picture buffer .","A second output of the encoder controller  is connected in signal communication with a first input of a Supplemental Enhancement Information (SEI) inserter , a second input of the transformer and quantizer , a second input of the entropy coder , a second input of the output buffer , and an input of the Sequence Parameter Set (SPS) and Picture Parameter Set (PPS) inserter .","An output of the SEI inserter  is connected in signal communication with a second non-inverting input of the combiner .","A first output of the picture-type decision module  is connected in signal communication with a third input of the frame ordering buffer . A second output of the picture-type decision module  is connected in signal communication with a second input of a macroblock-type decision module .","An output of the Sequence Parameter Set (SPS) and Picture Parameter Set (PPS) inserter  is connected in signal communication with a third non-inverting input of the combiner .","An output of the inverse quantizer and inverse transformer  is connected in signal communication with a first non-inverting input of a combiner . An output of the combiner  is connected in signal communication with a first input of the intra prediction module  and a first input of the deblocking filter . An output of the deblocking filter  is connected in signal communication with a first input of a reference picture buffer . An output of the reference picture buffer  is connected in signal communication with a second input of the motion estimator  and a third input of the motion compensator . A first output of the motion estimator  is connected in signal communication with a second input of the motion compensator . A second output of the motion estimator  is connected in signal communication with a third input of the entropy coder .","An output of the motion compensator  is connected in signal communication with a first input of a switch . An output of the intra prediction module  is connected in signal communication with a second input of the switch . An output of the macroblock-type decision module  is connected in signal communication with a third input of the switch . The third input of the switch  determines whether or not the \u201cdata\u201d input of the switch (as compared to the control input, i.e., the third input) is to be provided by the motion compensator  or the intra prediction module . The output of the switch  is connected in signal communication with a second non-inverting input of the combiner  and an inverting input of the combiner .","A first input of the frame ordering buffer  and an input of the encoder controller  are available as inputs of the encoder , for receiving an input picture. Moreover, a second input of the Supplemental Enhancement Information (SEI) inserter  is available as an input of the encoder , for receiving metadata. An output of the output buffer  is available as an output of the encoder , for outputting a bitstream.","Turning to , an exemplary video decoder to which the present principles may be applied is indicated generally by the reference numeral . For example, video decoder  may be video decoder  in  and\/or video decoder  in . The video decoder  includes an input buffer  having an output connected in signal communication with a first input of an entropy decoder . A first output of the entropy decoder  is connected in signal communication with a first input of an inverse transformer and inverse quantizer . An output of the inverse transformer and inverse quantizer  is connected in signal communication with a second non-inverting input of a combiner . An output of the combiner  is connected in signal communication with a second input of a deblocking filter  and a first input of an intra prediction module . A second output of the deblocking filter  is connected in signal communication with a first input of a reference picture buffer . An output of the reference picture buffer  is connected in signal communication with a second input of a motion compensator .","A second output of the entropy decoder  is connected in signal communication with a third input of the motion compensator , a first input of the deblocking filter , and a third input of the intra predictor . A third output of the entropy decoder  is connected in signal communication with an input of a decoder controller . A first output of the decoder controller  is connected in signal communication with a second input of the entropy decoder . A second output of the decoder controller  is connected in signal communication with a second input of the inverse transformer and inverse quantizer . A third output of the decoder controller  is connected in signal communication with a third input of the deblocking filter . A fourth output of the decoder controller  is connected in signal communication with a second input of the intra prediction module , a first input of the motion compensator , and a second input of the reference picture buffer .","An output of the motion compensator  is connected in signal communication with a first input of a switch . An output of the intra prediction module  is connected in signal communication with a second input of the switch . An output of the switch  is connected in signal communication with a first non-inverting input of the combiner .","An input of the input buffer  is available as an input of the decoder , for receiving an input bitstream. A first output of the deblocking filter  is available as an output of the decoder , for outputting an output picture.","As noted above, the present principles are directed to pruning decision optimization in example-based data pruning compression. In accordance with an embodiment, data pruning is used as a preprocessing technology to remove a portion of video data before the video data is encoded. Missing data can be recovered at the decoder by inferring from the decoded data and a library of patches. The library of patches can be created using existing video frames or current decoded frames. Moreover, the library of patches can be maintained to be the same at both the encoder and decoder sides.","In the example-based data pruning video compression scheme, each block within a frame should be decided to be pruned or not before the encoding process. The pruning results are also encoded as side information to assist in the recovery of missing blocks at the decoder. In order to obtain a better compression performance, determining whether or not to prune parts (such as blocks) of a video frame is a crucial problem. Therefore, in accordance with the present principles, this application discloses a novel decision strategy based on rate distortion theory. This decision strategy adaptively prunes an input video to ensure the compression efficiency improvement for most sequences within a large range of bitrates.","In an embodiment, this application discloses the use of rate distortion optimization in the pruning decision process that considers both distortion and rate. As the rate distortion optimization does not require the use of any thresholds, the embodiment is adaptive to the content of different video sequences. The rate distortion optimization provides an independent decision strategy for every macroblock to guarantee that the decision is the best for the current macroblock.","Referring back to , the patch library is generated by a large number of small patches coming from the existing frames that have been sent to the decoder side, or macroblocks in the current pruning frame as shown in , or public videos shared by both encoder and decoder sides as shown in . In our current scheme, the former method for patch library creation is employed (). In this method, there are two patch libraries at the encoder side, a patch library created from the original frames for pruning, and another patch library created from the reconstructed frames (encoded and then decoded frames) for metadata encoding. For the first patch library, a fast clustering algorithm is performed to group the patches into several clusters prior to the patch search process. For each macroblock with a size of 16\u00d716 in the original video, a best match patch from the patch library is obtained through an efficient search process and, hence, a frame composed by the best match patches of every macroblock of the current original frame is generated. It will be utilized in the pruning process to make a decision of whether or not a macroblock is pruned and replaced by the flat region. After the pruning process, the pruned video, where some macroblocks are replaced by their direct current (DC) components, is created and sent to a video encoder, such as a video encoder compliant with the International Organization for Standardization\/International Electrotechnical Commission (ISO\/IEC) Moving Picture Experts Group-4 (MPEG-4) Part 10 Advanced Video Coding (AVC) Standard\/International Telecommunication Union, Telecommunication Sector (ITU-T) H.264 Recommendation (hereinafter the \u201cMPEG-4 AVC Standard\u201d). The metadata including the locations of the best match patches are also encoded using the patch library created from the reconstructed frame. The patch libraries created from the reconstructed frame for metadata encoding and decoding are the same for the encoder and decoder sides.","At the decoder side, the reconstructed video is generated by the video decoder and the metadata is also decoded to assist in the recovery of the pruned video. Since the patch library at the decoder side can be created exactly the same as that at the encoder side from the reconstructed frames, the removed regions can be obtained from the patch library. Therefore, a reconstructed video is generated through the recovery process. Moreover, the clustering and search processes are not needed here and, thus, will not increase the complexity of the decoder side. The metadata only needs a much smaller amount of bits than the video data itself, and more importantly, the patch library provides a reliable source to recover the missing regions. For at least this reason, the compression efficiency can be greatly improved.","The process of creating the patch library, the clustering patches, the best match searching, the encoding and decoding of the metadata and the recovery of the missing regions is disclosed in at least one of the related and commonly-owned patent applications filed on the same day with this patent application. Herein, this application discloses a novel decision strategy in the pruning process to generate a pruned video in example-based data pruning compression.","Turning to , an exemplary portion for performing encoder side processing in an example-based data pruning system with pruning decision optimization is indicated generally by the reference numeral . The portion  includes a divider  having an output in signal communication with an input of a cluster . An output of the cluster  is connected in signal communication with a first input of pruning decision device . An output of a divider  is connected in signal communication with a second input of the pruning decision device . A first output of the pruning decision device  is connected in signal communication with an input of a block replacer . A second output of the pruning decision device  is connected in signal communication with an input of a metadata encoder . An output of the block replacer  is connected in signal communication with an input of a video encoder. An input of the divider  is available as an input of the portion , for receiving training frames. An input of the divider  is available as an input of the portion , for receiving an input frame. An output of the metadata encoder  is available as an output of the portion , for outputting encoded metadata. An output of the video encoder  is available as an output of the portion , for outputting encoded video.","Pruning Decision Strategy","In other approaches, the pruning decision is made by comparing the distortion of the original and best-match patches with a fixed threshold. These approaches to the pruning decision may obtain an improvement at low bitrates, but usually results in large distortion at other bitrates. Therefore, in accordance with the present principles, this application discloses a decision strategy considering both distortion and rate to guarantee that there will not be a loss within a large range of bitrates.","In rate distortion theory, the goal of an encoder is to optimize its overall fidelity, that is, minimize the distortion D subject to a constraint Ron the number of bits R. This constrained problem can be solved by using a Lagrangian optimization method. Thus, the Lagrangian formulation of this problem may be represented as follows:\n\nmin{}, where \u2003\u2003(1)\n\nwherein \u03bb is the Lagrangian parameter, which is related to the quantization parameter QP.\n","Similar to the video compression standard, the input video frames are divided into a Group of Pictures (GOP). The pruning process is conducted on the first frame of a GOP. The pruning result is propagated to the rest of the frames in the GOP afterwards. In our approach, the following comparison is conducted for each macroblock with a size of 16\u00d716 pixels in such frames in a progressive scanning order the same way as the encoding order in the MPEG-4 AVC Standard encoder. First, the distortion-rate cost Jfor the case denoted as Case 1 is estimated when the current macroblock is not pruned (i.e., the original video data is kept intact). Second, the distortion-rate Jfor the case denoted as Case 2 is estimated when the current macroblock is pruned (i.e., the whole macroblock is replaced by the DC component of the original data). Then the two distortion rates are compared, and a decision is made to prune the macroblock if J<Jand not to prune if J<J.","Turning to , an exemplary method for rendering a pruning decision in example-based data pruning is indicated generally by the reference numeral . At step , a loop is performed over each macroblock. At step , a rate-distortion (RD) estimation of original video data is performed. At step , a rate-distortion (RD) estimation of pruned video data is performed. At step , a pruning decision is determined regarding whether or not J1<J2. If so, then the method proceeds to a step . Otherwise, the method proceeds to a step . At step , the original video data is maintained. At step , the current macroblock is replaced with a flat region. At step , the loop over each macroblock is terminated. At step , the pruned video is output.","The distortion and rate estimation process for each macroblock is similar to the intra-mode decision in the MPEG-4 AVC Standard encoder. The residue of the input video data can be obtained through the prediction process. The input video data is the original video data in Case  and the pruned video data in Case . Turning to , exemplary prediction directions for distortion estimation are indicated generally by the reference numeral . In , the reference numeral  indicates a vertical prediction mode, the reference numeral  indicates a horizontal prediction mode, the reference numeral  indicates a diagonal-down\/left prediction mode, the reference numeral  indicates a diagonal-down\/right prediction mode, the reference numeral  indicates a vertical-right prediction mode, the reference numeral  indicates a horizontal-down prediction mode, the reference numeral  indicates a vertical-left prediction mode, and the reference numeral  indicates a horizontal-up prediction mode. The DC direction is not shown and its prediction is the average of the neighboring pixels.","Turning to , an apparatus for performing distortion estimation when the input data is the original video data (Case ) is indicated generally by the reference numeral . The apparatus includes a combiner  having an output connected in signal communication with an input of a transformer . An output of the transformer  is connected in signal communication with an input of a quantizer . A first output of the quantizer  is connected in signal communication with an input of a reverse quantizer . An output of the reverse quantizer  is connected in signal communication with an input of a reverse transformer . An output of a predictor  is connected in signal communication with an inverting input of the combiner . A non-inverting input of the combiner  and an input of the predictor  are available as inputs to the apparatus , for receiving original video. An output of the quantizer  is available as an output of the apparatus , for outputting a quantized residue. An output of the reverse transformer  is available as an output of the apparatus , for outputting reconstructed video.","Turning to , an apparatus for performing distortion estimation when the input data is pruned (i.e., Case ) is indicated generally by the reference numeral . The apparatus includes a block pruner  having an output connected in signal communication with a non-inverting input of a combiner  and an input of a predictor . An output of the predictor  is connected in signal communication with an inverting input of the combiner . An output of the combiner  is connected in signal communication with an input of a transformer . An output of the transformer  is connected in signal communication with an input of a quantizer . An input of the block pruner  and an input of a patch library searcher  are available as inputs of the apparatus , for receiving original video. An output of the patch library searcher  is available as an output of the apparatus , for outputting best match patch data. An output of the quantizer  is available as an output of the apparatus, for outputting a quantized residue.","For both Case  and Case , the residue goes through the transformation and quantization process, and then the reconstructed video data can be obtained through reverse quantization and reverse transformation. In Case , the distortion is calculated as the MSE (Mean Square Error) between the original video and the reconstructed video. In Case , the distortion is calculated as the MSE between the original video data and the best match patch data from the created patch library. For data X and Y with a size of 16\u00d716, the definition of MSE is as follows:",{"@attributes":{"id":"p-0066","num":"0076"},"maths":{"@attributes":{"id":"MATH-US-00001","num":"00001"},"math":{"@attributes":{"overflow":"scroll"},"mtable":{"mtr":{"mtd":[{"mrow":{"mi":"MSE","mo":"=","mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"j","mo":"=","mn":"1"},"mn":"16"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"mrow":{"munderover":{"mo":"\u2211","mrow":{"mi":"i","mo":"=","mn":"1"},"mn":"16"},"mo":["\u2062","\u2062"],"mstyle":{"mspace":{"@attributes":{"width":"0.3em","height":"0.3ex"}}},"msup":{"mrow":{"mo":["(",")"],"mrow":{"msub":[{"mi":["X","ij"]},{"mi":["Y","ij"]}],"mo":"-"}},"mn":"2"}}}}},{"mrow":{"mo":["(",")"],"mn":"2"}}]}}}}},"There are two exemplary ways of estimating the rates. The simpler way involves estimating the values of the non-zero coefficients of the quantized residue of the original block. The more complex way involves entropy coding the quantized residue of the original block, where the rate is the bits of the coded bitstream, as illustrated in . Turning to , an exemplary apparatus for bitrate estimation when entropy coding is used is indicated generally by the reference numeral . The apparatus  includes an entropy coder  having an input for receiving a quantized residue, and an output of outputting a coded bitstream. Context adaptive variable length coding (CAVLC) or context adaptive binary arithmetic coding (CABAC) can be used in the entropy coding process. The Lagrangian parameter \u03bb is related to the quantization parameter QP. Here the following formulation is utilized, which is used by the intra prediction mode decision in the standard MPEG-4 AVC Standard compression scheme as follows:\n\n\u03bb=0.68\u00d72. \u2003\u2003(3)\n\nExperimental Results\n","Fourteen sequences are used for testing the performance. Among the 14 sequences, five sequences have a static background. Other sequences have different degrees of background motion. Four videos use the patch libraries trained from existing frames. The rest of the sequences use the patch library trained from the current frame. TABLE 1 shows the name, size, frame rate and training frame of the test sequences.",{"@attributes":{"id":"p-0069","num":"0079"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}},{"entry":["Sequence","Size","Frame rate(fps)","Training Frame"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["independence_day","720 \u00d7 480","24","existing"]},{"entry":["american_pie","720 \u00d7 480","24","existing"]},{"entry":["opening_ceremony","720 \u00d7 480","30","current"]},{"entry":["man_in_restaurant","720 \u00d7 480","24","Current"]},{"entry":["dome","720 \u00d7 480","24","Current"]},{"entry":["flower_garden2","720 \u00d7 480","30","existing"]},{"entry":["baseball","1280 \u00d7 720\u2002","60","existing"]},{"entry":["big_mammas_house2","720 \u00d7 480","24","current"]},{"entry":["carnival_ride","720 \u00d7 480","30","current"]},{"entry":["flamingo","720 \u00d7 480","30","current"]},{"entry":["partyscene","832 \u00d7 480","50","current"]},{"entry":["mountain","720 \u00d7 480","30","current"]},{"entry":["lion","720 \u00d7 480","24","current"]},{"entry":["statue2","1280 \u00d7 1072","24","current"]},{"entry":{"@attributes":{"namest":"1","nameend":"4","align":"center","rowsep":"1"}}}]}}}}},"The test conditions of the MPEG-4 AVC Standard encoder are as follows: High profile; turn on the 8\u00d78 transform; and QP is (20, 26, 32, 38, 44, 50). The PSNR of the luminance component and the bitrates of these test sequences are illustrated in . Turning to , exemplary test results for pruning decision optimization in example-based data pruning compression is indicated generally by the reference numeral . In each of , the X-axis corresponds to the bitrate in kilobytes per second, and the Y-axis corresponds to the peak signal to noise ratio (PSNR) in decibels.",{"@attributes":{"id":"p-0071","num":"0081"},"figref":"FIG. 11A","b":"1101"},{"@attributes":{"id":"p-0072","num":"0082"},"figref":"FIG. 11B","b":"1102"},{"@attributes":{"id":"p-0073","num":"0083"},"figref":"FIG. 11C","b":"1103"},{"@attributes":{"id":"p-0074","num":"0084"},"figref":"FIG. 11D","b":"1104"},{"@attributes":{"id":"p-0075","num":"0085"},"figref":"FIG. 11E","b":"1105"},{"@attributes":{"id":"p-0076","num":"0086"},"figref":"FIG. 11F","b":["1106","2"]},{"@attributes":{"id":"p-0077","num":"0087"},"figref":"FIG. 11G","b":"1107"},{"@attributes":{"id":"p-0078","num":"0088"},"figref":"FIG. 11H","b":["1108","2"]},{"@attributes":{"id":"p-0079","num":"0089"},"figref":"FIG. 11I","b":"1109"},{"@attributes":{"id":"p-0080","num":"0090"},"figref":"FIG. 11J","b":"1110"},{"@attributes":{"id":"p-0081","num":"0091"},"figref":"FIG. 11K","b":"1111"},{"@attributes":{"id":"p-0082","num":"0092"},"figref":"FIG. 11L","b":"1112"},{"@attributes":{"id":"p-0083","num":"0093"},"figref":"FIG. 11M","b":"1113"},{"@attributes":{"id":"p-0084","num":"0094"},"figref":"FIG. 11N","b":["1114","2"]},"TABLE 2 shows the bitrate saving and PSNR gain for each of the video sequences corresponding to .",{"@attributes":{"id":"p-0086","num":"0096"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"center"}}],"thead":{"row":[{"entry":"TABLE 2"},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}},{"entry":["Sequence","Bitrate Saving (%)","PSNR Gain (dB)"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"112pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"49pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["independence_day_720 \u00d7 480_24 p","23.05%","1.412"]},{"entry":["american_pie_720 \u00d7 480_24 p","10.93%","0.771"]},{"entry":["opening_ceremony_720 \u00d7 480_30 p","4.95%","0.427"]},{"entry":["man_in_restaurant_720 \u00d7 480_24 p","\u22122.30%","\u22120.171"]},{"entry":["dome_720 \u00d7 480_30 p","\u22120.61%","\u22120.041"]},{"entry":["flower_garden2_720 \u00d7 480_30 p","55.18%","4.302"]},{"entry":["baseball_1280 \u00d7 720_60 p","4.92%","0.323"]},{"entry":["big_mammas_house2_720 \u00d7 480_30 p","3.65%","0.244"]},{"entry":["carnival_ride_720 \u00d7 480_30 p","1.92%","0.153"]},{"entry":["flamingo_720 \u00d7 480_30 p","\u22120.73%","\u22120.058"]},{"entry":["partyscene_832 \u00d7 480_50 p","0.19%","0.005"]},{"entry":["mountain_720 \u00d7 480_30 p","1.00%","0.048"]},{"entry":["lion_720 \u00d7 480_24 p","1.15%","0.058"]},{"entry":["statue2_128 \u00d7 1072_24 p","\u22122.90%","\u22120.125"]},{"entry":["Average","7.17%","0.525"]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"As shown in TABLE 2, the average bitrate saving is 7.17% and PSNR gain is 0.525 dB. There are great improvements for INDEPENDENCE DAY, AMERICAN PIE, BASEBALL, OPENING CEREMONY, BIG MAMMAS HOUSE  and tremendous gain about 55.18% bitrate deduction for FLOWER GARDEN  because there are a large number of similar patches in these training frames. There are little gain and even loss at very low bitrates for MAN IN RESTAURANT, DOME, CARNIVAL RIDE, FLAMINGO, MOUNTAIN, LION, PARTY SCENE AND STATUE  because there is little self-similarity in these sequences.","Moreover, at very low bitrates, the bits of the metadata are comparable with the video data and, hence, the compression performance is decreased. However, the compression performance is higher or at least the same for all the test sequences at the middle or high bitrates.","These and other features and advantages of the present principles may be readily ascertained by one of ordinary skill in the pertinent art based on the teachings herein. It is to be understood that the teachings of the present principles may be implemented in various forms of hardware, software, firmware, special purpose processors, or combinations thereof.","Most preferably, the teachings of the present principles are implemented as a combination of hardware and software. Moreover, the software may be implemented as an application program tangibly embodied on a program storage unit. The application program may be uploaded to, and executed by, a machine comprising any suitable architecture. Preferably, the machine is implemented on a computer platform having hardware such as one or more central processing units (\u201cCPU\u201d), a random access memory (\u201cRAM\u201d), and input\/output (\u201cI\/O\u201d) interfaces. The computer platform may also include an operating system and microinstruction code. The various processes and functions described herein may be either part of the microinstruction code or part of the application program, or any combination thereof, which may be executed by a CPU. In addition, various other peripheral units may be connected to the computer platform such as an additional data storage unit and a printing unit.","It is to be further understood that, because some of the constituent system components and methods depicted in the accompanying drawings are preferably implemented in software, the actual connections between the system components or the process function blocks may differ depending upon the manner in which the present principles are programmed. Given the teachings herein, one of ordinary skill in the pertinent art will be able to contemplate these and similar implementations or configurations of the present principles.","Although the illustrative embodiments have been described herein with reference to the accompanying drawings, it is to be understood that the present principles is not limited to those precise embodiments, and that various changes and modifications may be effected therein by one of ordinary skill in the pertinent art without departing from the scope or spirit of the present principles. All such changes and modifications are intended to be included within the scope of the present principles as set forth in the appended claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"p":[{"@attributes":{"id":"p-0013","num":"0023"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0014","num":"0024"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0015","num":"0025"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0016","num":"0026"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0017","num":"0027"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0018","num":"0028"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0019","num":"0029"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0020","num":"0030"},"figref":"FIG. 8","b":"1"},{"@attributes":{"id":"p-0021","num":"0031"},"figref":"FIG. 9","b":"2"},{"@attributes":{"id":"p-0022","num":"0032"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0023","num":"0033"},"figref":"FIG. 11A-N"}]},"DETDESC":[{},{}]}
