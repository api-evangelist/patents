---
title: Locating a mobile station and applications therefor
abstract: A location system and applications therefor is disclosed for wireless telecommunication infrastructures. The system is an end-to-end solution having one or more location systems for outputting requested locations of hand sets or mobile stations (MS) based on, e.g., CDMA, GSM, GPRS, TDMA or WIFI communication standards, for processing both local mobile station location requests and more global mobile station location requests via, e.g., Internet communication between a distributed network of location systems. The following applications may be enabled by the location system: 911 emergency calls, tracking, navigation, people and animal location including applications for confinement to and exclusion from certain areas, friend finder applications, and applications for allocating user desired resources based on the user's location.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08994591&OS=08994591&RS=08994591
owner: TracBeam LLC
number: 08994591
owner_city: Golden
owner_country: US
publication_date: 20100823
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","RELATED FIELD OF THE INVENTION","BACKGROUND","TERMS","SUMMARY","DETAILED DESCRIPTION"],"p":["The present application is a continuation-in-part of U.S. patent application Ser. No. 11\/069,441 filed Mar. 1, 2005, which is a continuation of U.S. application Ser. No. 09\/820,584 filed Mar. 28, 2001 (now U.S. Pat. No. 6,952,181), and U.S. application Ser. No. 09\/820,584 is a continuation of U.S. application Ser. No. 09\/230,109 filed Jul. 8, 1999 (now U.S. Pat. No. 6,236,365) which is the National Stage of International Application No. PCT\/US97\/15933 filed Sep. 8, 1997 which, in turn, claims the benefit of the following three applications: U.S. Provisional Application No. 60\/056,603 filed Aug. 20, 1997, U.S. Provisional Application No. 60\/044,821 filed Apr. 25, 1997; and U.S. Provisional Application No. 60\/025,855 filed Sep. 9, 1996.","All the above cited references are fully incorporated by reference herein.","The present disclosure is directed generally to a system and method for wirelessly locating mobile stations and using such locations, and in particular, to a system and method for locating a wireless mobile radio station.","Wireless communications systems are becoming increasingly important worldwide. Wireless cellular telecommunications systems are rapidly replacing conventional wire-based telecommunications systems in many applications. Commercial mobile radio service provider networks, and specialized mobile radio and mobile data radio networks are examples. The general principles of wireless cellular telephony have been described variously, for example in U.S. Pat. No. 5,295,180 to Vendetti, et al filed Apr. 8, 1992, which is incorporated herein by reference. There is great interest in using existing infrastructures for wireless communication systems for locating people and\/or objects in a cost-effective manner. Such a capability would be invaluable in a variety of situations, especially in emergency or crime situations. Due to the substantial benefits of such a location system, several attempts have been made to design and implement such a system. Systems have been proposed that rely upon signal strength and trilateralization techniques to permit location include those disclosed in U.S. Pat. No. 4,818,998 filed Mar. 31, 1986 and U.S. Pat. No. 4,908,629 filed Dec. 5, 1988 both to Apsell et al. (\u201cthe Apsell patents\u201d), and U.S. Pat. No. 4,891,650 to Sheffer (\u201cthe Sheffer patent\u201d) filed May 16, 1988. The Apsell patents disclose a system employing a \u201choming-in\u201d scheme using radio signal strength, wherein the scheme detects radio signal strength transmitted from an unknown location. This signal strength is detected by nearby tracking vehicles, such as police cruisers using receivers with directional antennas. Alternatively, the Sheffer patent discloses a system using the FM analog cellular network. This system includes a mobile transmitter located on a vehicle to be located. The transmitter transmits an alarm signal upon activation to detectors located at base stations of the cellular network. These detectors receive the transmitted signal and transmit, to a central station, data indicating the signal strength of the received signal and the identity of the base stations receiving the signal. This data is processed to determine the distance between the vehicle and each of the base stations and, through trilateralization, the vehicle's position. However, these systems have drawbacks that include high expense in that special purpose electronics are required. Furthermore, the systems are generally only effective in line-of-sight conditions, such as rural settings. Radio wave surface reflections, refractions and ground clutter cause significant distortion, in determining the location of a signal source in most geographical areas that are more than sparsely populated. Moreover, these drawbacks are particularly exacerbated in dense urban canyon (city) areas, where errors and\/or conflicts in location measurements can result in substantial inaccuracies.","Another example of a location system using time of arrival and triangulation for location are satellite-based systems, such as the military and commercial versions of the Global Positioning Satellite system (GPS). GPS can provide accurate position determination (i.e., about 100 meters error for the commercial version of GPS) from a time-based signal received simultaneously from at least three satellites. A ground-based GPS receiver at or near the object to be located determines the difference between the time at which each satellite transmits a time signal and the time at which the signal is received and, based on the time differentials, determines the object's location. However, the GPS is impractical in many applications. The signal power levels from the satellites are low and the GPS receiver requires a clear, line-of-sight path to at least three satellites above a horizon of about 60 degrees for effective operation. Accordingly, inclement weather conditions, such as clouds, terrain features, such as hills and trees, and buildings restrict the ability of the GPS receiver to determine its position. Furthermore, the initial GPS signal detection process for a GPS receiver is relatively long (i.e., several minutes) for determining the receivers position. Such delays are unacceptable in many applications such as, for example, emergency response and vehicle tracking.","Differential GPS, or DGPS systems offer correction schemes to account for time synchronization drift. Such correction schemes include the transmission of correction signals over a two-way radio link or broadcast via FM radio station subcarriers. These systems have been found to be awkward and have met with limited success.","Additionally, GPS-based location systems have been attempted in which the received GPS signals are transmitted to a central data center for performing location calculations. Such systems have also met with limited success due, for example, to the limited reception of the satellite signals and the added expense and complexity of the electronics required for an inexpensive location mobile station or handset for detecting and receiving the GPS signals from the satellites.","The behavior of a mobile radio signal in the general environment is unique and complicated. Efforts to perform correlation between radio signals and distance between a base station and a mobile station are similarly complex. Repeated attempts to solve this problem in the past have been met with only marginal success. Factors include terrain undulations, fixed and variable clutter, atmospheric conditions, internal radio characteristics of cellular and PCS systems, such as frequencies, antenna configurations, modulation schemes, diversity methods, and the physical geometry of direct, refracted and reflected waves between the base stations and the mobile. Noise, such as man-made externally sources (e.g., auto ignitions) and radio system co-channel and adjacent channel interference also affect radio reception and related performance measurements, such as the analog carrier-to-interference ratio (C\/I), or digital energy-per-bit\/Noise density ratio (E) and are particular to various points in time and space domains.","Before discussing real world correlation between signals and distance, it is useful to review the theoretical premise, that of radio energy path loss across a pure isotropic vacuum propagation channel, and its dependencies within and among various communications channel types.","Over the last forty years various mathematical expressions have been developed to assist the radio mobile cell designer in establishing the proper balance between base station capital investment and the quality of the radio link, typically using radio energy field-strength, usually measured in microvolts\/meter, or decibels.","One consequence from a location perspective is that the effective range of values for higher exponents is an increased at higher frequencies, thus providing improved granularity of ranging correlation.","Actual data collected in real-world environments uncovered huge variations with respect to the free space path loss equation, giving rise to the creation of many empirical formulas for radio signal coverage prediction. Clutter, either fixed or stationary in geometric relation to the propagation of the radio signals, causes a shadow effect of blocking that perturbs the free space loss effect. Perhaps the best known model set that characterizes the average path loss is Hata's, \u201cEmpirical Formula for Propagation Loss in Land Mobile Radio\u201d, M. Hata, IEEE Transactions VT-29, pp. 317-325, August 1980, three pathloss models, based on Okumura's measurements in and around Tokyo, \u201cField Strength and its Variability in VHF and UHF Land Mobile Service\u201d, Y. Okumura, et al, Review of the Electrical Communications laboratory, Vol 16, pp 825-873, September-October 1968.","Although the Hata model was found to be useful for generalized RF wave prediction in frequencies under 1 GHz in certain suburban and rural settings, as either the frequency and\/or clutter increased, predictability decreased. In current practice, however, field technicians often have to make a guess for dense urban an suburban areas (applying whatever model seems best), then installing a base stations and begin taking manual measurements.","In 1991, U.S. Pat. No. 5,055,851 to Sheffer filed Nov. 29, 1989 taught that if three or more relationships have been established in a triangular space of three or more base stations (BSs) with a location database constructed having data related to possible mobile station (MS) locations, then arculation calculations may be performed, which use three distinct Pmeasurements to determine an X,Y, two dimensional location, which can then be projected onto an area map. The triangulation calculation is based on the fact that the approximate distance of the mobile station (MS) from any base station (BS) cell can be calculated based on the received signal strength. Sheffer acknowledges that terrain variations affect accuracy, although as noted above, Sheffer's disclosure does not account for a sufficient number of variables, such as fixed and variable location shadow fading, which are typical in dense urban areas with moving traffic.","Most field research before about 1988 has focused on characterizing (with the objective of RF coverage prediction) the RF propagation channel (i.e., electromagnetic radio waves) using a single-ray model, although standard fit errors in regressions proved dismal (e.g., 40-80 dB). Later, multi-ray models were proposed, and much later, certain behaviors were studied with radio and digital channels. In 1981, Vogler proposed that radio waves at higher frequencies could be modeled using optics principles. In 1988 Walfisch and Bertoni applied optical methods to develop a two-ray model, which when compared to certain highly specific, controlled field data, provided extremely good regression fit standard errors of within 1.2 dB.","In the Bertoni two ray model it was assumed that most cities would consist of a core of high-rise buildings surrounded by a much larger area having buildings of uniform height spread over regions comprising many square blocks, with street grids organizing buildings into rows that are nearly parallel. Rays penetrating buildings then emanating outside a building were neglected.","After a lengthy analysis it was concluded that path loss was a function of three factors: 1.) the path loss between antennas in free space; 2.) the reduction of rooftop wave fields due to settling; and 3.) the effect of diffraction of the rooftop fields down to ground level.","However, a substantial difficulty with the two-ray model in practice is that it requires a substantial amount of data regarding building dimensions, geometry, street widths, antenna gain characteristics for every possible ray path, etc. Additionally, it requires an inordinate amount of computational resources and such a model is not easily updated or maintained.","Unfortunately, in practice clutter geometry and building heights are random. Moreover, data of sufficient detail is extremely difficult to acquire, and regression standard fit errors are poor; i.e., in the general case, these errors were found to be 40-60 dB. Thus the two-ray model approach, although sometimes providing an improvement over single ray techniques, still did not predict RF signal characteristics in the general case to level of accuracy desired (<10 dB).","Work by Greenstein has since developed from the perspective of measurement-based regression models, as opposed to the previous approach of predicting-first, then performing measurement comparisons. Apparently yielding to the fact that low-power, low antenna (e.g., 12-25 feet above ground) height PCS microcell coverage was insufficient in urban buildings, Greenstein, et al, authored \u201cPerformance Evaluations for Urban Line-of-sight Microcells Using a Multi-ray Propagation Model\u201d, in IEEE Globecom Proceedings, 12\/91. This paper proposed the idea of formulating regressions based on field measurements using small PCS microcells in a lineal microcell geometry (i.e., geometries in which there is always a line-of-sight path between a subscriber's mobile and its current microsite). Additionally, Greenstein studied the communication channels variable Bit-Error-Rate (BER) in a spatial domain, which was a departure from previous research that limited field measurements to the RF propagation channel signal strength alone. However, Greenstein based his finding on two suspicious assumptions: 1) he assumed that distance correlation estimates were identical for uplink and downlink transmission paths; and 2) modulation techniques would be transparent in terms of improved distance correlation conclusions. Although some data held very correlation, other data and environments produced poor results. Accordingly, his results appear unreliable for use in general location context.","In 1993 Greenstein, et al, authored \u201cA Measurement-Based Model for Predicting Coverage Areas of Urban Microcells\u201d, in the IEEE Journal On Selected Areas in Communications, Vol. 11, No. 7, 9\/93. Greenstein reported a generic measurement-based model of RF attenuation in terms of constant-value contours surrounding a given low-power, low antenna microcell environment in a dense, rectilinear neighborhood, such as New York City. However, these contours were for the cellular frequency band. In this case, LOS and non-LOS clutter were considered for a given microcell site. A result of this analysis was that RF propagation losses (or attenuation), when cell antenna heights were relatively low, provided attenuation contours resembling a spline plane curve depicted as an asteroid, aligned with major street grid patterns. Further, Greenstein found that convex diamond-shaped RF propagation loss contours were a common occurrence in field measurements in a rectilinear urban area. The special plane curve asteroid is represented by the formula:","x+y=r. However, these results alone have not been sufficiently robust and general to accurately locate a mobile station, due to the variable nature of urban clutter spatial arrangements.","At Telesis Technology in 1994 Howard Xia, et al, authored \u201cMicrocellular Propagation Characteristics for Personal Communications in Urban and Suburban Environments\u201d, in IEEE Transactions of Vehicular Technology, Vol. 43, No. 3, 8\/94, which performed measurements specifically in the PCS 1.8 to 1.9 GHz frequency band. Xia found corresponding but more variable outcome results in San Francisco, Oakland (urban) and the Sunset and Mission Districts (suburban).","The physical radio propagation channel perturbs signal strength, frequency (causing rate changes, phase delay, signal to noise ratios (e.g., C\/I for the analog case, or E, RF energy per bit, over average noise density ratio for the digital case) and Doppler-shift. Signal strength is usually characterized by:\n\n","The cell designer increases the transmitted power Pby the shadow fading margin Lwhich is usually chosen to be within the 1-2 percentile of the slow fading probability density function (PDF) to minimize the probability of unsatisfactorily low received power level Pat the receiver. The Plevel must have enough signal to noise energy level (e.g., 10 dB) to overcome the receivers internal noise level (e.g., \u2212118 dBm in the case of cellular 0.9 GHz), for a minimum voice quality standard. Thus in this example Pmust never be below \u2212108 dBm, in order to maintain the quality standard.","Additionally the short term fast signal fading due to multipath propagation is taken into account by deploying fast fading margin L, which is typically also chosen to be a few percentiles of the fast fading distribution. The 1 to 2 percentiles compliment other network blockage guidelines. For example the cell base station traffic loading capacity and network transport facilities are usually designed for a 1-2 percentile blockage factor as well. However, in the worst-case scenario both fading margins are simultaneously exceeded, thus causing a fading margin overload.","In Roy Steele's, text, , IEEE Press, 1992, estimates for a GSM system operating in the 1.8 GHz band with a transmitter antenna height of 6.4 m and a mobile station receiver antenna height of 2 m, and assumptions regarding total path loss, transmitter power would be calculated as follows:",{"@attributes":{"id":"p-0029","num":"0031"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE 1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"GSM Power Budget Example"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Parameter","dBm value","Will require"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"4"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"63pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"70pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"L","14",{}]},{"entry":[{},"L","7"]},{"entry":[{},"LI","110"]},{"entry":[{},"Min. RX pwr required","\u2212104"]},{"entry":[{},{},{},"TXpwr = 27 dBm"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"3","align":"center","rowsep":"1"}}]}]}}]}}},"Steele's sample size in a specific urban London area of 80,000 LOS measurements and data reduction found a slow fading variance of","\u03c3=7 dB","assuming log-normal slow fading PDF and allowing for a 1.4% slow fading margin overload, thus","L=2\u03c3=14 dB","The fast fading margin was determined to be:","L=7 dB","In contrast, Xia's measurements in urban and suburban California at 1.8 GHz uncovered flat-land shadow fades on the order of 25-30 dB when the mobile station (MS) receiver was traveling from LOS to non-LOS geometries. In hilly terrain fades of +5 to \u221250 dB were experienced. Thus it is evident that attempts to correlate signal strength with mobile station ranging distance suggest that error ranges could not be expected to improve below 14 dB, with a high side of 25 to 50 dB. Based on 20 to 40 dB per decade, corresponding error ranges for the distance variable would then be on the order of 900 feet to several thousand feet, depending upon the particular environmental topology and the transmitter and receiver geometries.","Although the acceptance of fuzzy logic has been generally more rapid in non-American countries, the principles of fuzzy logic can be applied in wireless location. Lotfi A. Zadeh's article, \u201cFuzzy Sets\u201d published in 1965 in , vol. 8, Pg 338-353, herein incorporated by reference, established the basic principles of fuzzy logic, among which a key theorem, the FAT theorem, suggests that a fuzzy system with a finite set of rules can uniformly approximate any continuous (or Borel-measureable) system. The system has a graph or curve in the space of all combinations of system inputs and outputs. Each fuzzy rule defines a patch in this space. The more uncertain the rule, the wider the patch. A finite number of small patches can always cover the curve. The fuzzy system averages patches that overlap. The Fat theorem was proven by Bart Kosko, in a paper entitled, \u201cFuzzy Systems as Universal Approximators\u201d, in , Pages 1153-1162, in San Diego, on March, 1992, herein incorporated by reference.","Fuzzy relations map elements of one universe, say \u201cX\u201d, to those of another universe, say \u201cY\u201d, through the Cartesian product of the two universes. However, the \u201cstrength\u201d of the relation between ordered pairs of the two universes is not measured with the characteristic function (in which an element is either definitely related to another element as indicated by a strength value of \u201c1\u201d, or is definitely not related to another element as indicated by a strength value of \u201c0\u201d, but rather with a membership function expressing various \u201cdegrees\u201d of strength of the relation on the unit interval [0,1]. Hence, a fuzzy relation R is a mapping from the Cartesian space X\u00d7Y to the interval [0,1], where the strength of the mapping is expressed by the membership function of the relation for ordered pairs from the two universes or \u03bc(x,y).","Just as for crisp relations, the properties of commutativity, associativity, distributivity, involution and idempotency all hold for fuzzy relations. Moreover, DeMorgan's laws hold for fuzzy relations just as they do for crisp (classical) relations, and the null relations O, and the complete relation, E, are analogous to the null set and the whole set in set-theoretic from, respectively. The properties that do not hold for fuzzy relations, as is the case for fuzzy sets in general, are the excluded middle laws. Since a fuzzy relation R is also a fuzzy set, there is overlap between a relation and its complement, hence.\n\n\n\n\n","As seen in the foregoing expression, the excluded middle laws for relation do not result in the null relation, O, or the complete relation, E. Because fuzzy relations in general are fuzzy sets, the Cartesian product can be defined as a relations between two or more fuzzy sets. Let A be a fuzzy set or universe X and B be a fuzzy set on universe Y; then the Cartesian product between fuzzy sets A and B will result in a fuzzy relation R, which is contained within the full Cartesian product space, or\n\n\n","where the fuzzy relation R has membership function:\n\n\u03bc()=\u03bc()=min(\u03bc(),\u03bc())\n","Fuzzy composition can be defined just as it is for crisp (binary) relations. If R is a fuzzy relation on the Cartesian space X\u00d7Y, and S is a fuzzy relation on the Cartesian space Y\u00d7Z, and T is a fuzzy relation on the Cartesian space X\u00d7Z; then fuzzy max-min composition is defined in terms of the set-theoretic notation and membership function-theoretic notation in the following manner:\n\n\u03bc()=(\u03bc()\u03bc())=max{min[\u03bc(),\u03bc()]}\n","The fuzzy extension principle allows for transforms or mappings of fuzzy concepts in the form y=f(x). This principle, combined with a compositional rule of inference, allows for a crisp input to be mapped through a fuzzy transform using membership functions into a crisp output. Additionally, in mapping a variable x into a variable y, both x and y can be vector quantities.","The following definitions are provided for convenience. In general, the definitions here are also defined elsewhere in this document as well.","(1) The term wireless herein is, in general, an abbreviation for digital wireless, and in particular (but without limitation), wireless refers to digital radio signaling using one of standard digital protocols such as CDMA, TDMA, GSM, GPRS, as well as various other protocols such as those for WIFI and indoor wireless systems as one skilled in the art will understand,\n\n(2) As used herein, the term mobile station (equivalently, MS) refers to a wireless device that is at least a transmitting device, and in most cases is also a wireless receiving device, such as a portable radio telephony handset. Note that in some contexts herein instead or in addition to mobile station, the following terms are also used: mobile device, mobile unit, personal station (PS), and location unit (LU). In general, these terms may be considered synonymous. However, the latter two terms may be used when referring to reduced functionality communication devices in comparison to a typical digital wireless mobile telephone.\n\n(3) The term, infrastructure, denotes, in at least some embodiments, network of telephony communication services, and more particularly, that portion of such a network that receives and processes wireless communications with wireless mobile stations. In particular, an infrastructure may include network equipment such as telephony wireless base stations, access points or units, and\/or other devices for communication with mobile stations, wherein such equipment may be based on protocols such as CDMA, TDMA, GSM, GPRS, as well as various other protocols such as those for WIFI and indoor wireless systems as one skilled in the art will understand, wherein such network equipment may provide cooperative wireless communication channels with the mobile station. Moreover, to simplify the description herein, to the extent possible, the term \u201cbase station\u201d, and\/or \u201cBS\u201d is used herein to denote any\/all of the above listed network equipment. Thus, an MS user within an area serviced by the base stations may be provided with wireless communication throughout the area by user transparent communication transfers (i.e., hand-offs) between the users mobile station and these base stations in order to maintain effective communication service (e.g., voice service, or data service). Moreover, for at least many wireless systems, a mobile switch center provides communications and control connectivity among base stations.\n\n(4) An example of a Parametric-driven intelligent agent-based location service follows: An intelligent agent software process monitors sets of Parametric conditions and location scenarios. When appropriate conditions and location criteria are satisfied, then a set of notifications or other actions are triggered to occur. A specific example follows: given that a certain child carrying a mobile station should be in a certain school between 8:00 A.M. and 3:00 P.M. on regular school days, then a wireless location request is invoked periodically, within the school day time frame. If a location request determines that the child's mobile station is located substantially outside of the general school area, then a parent\/guardian is notified of that fact, and of the child's location via any of several methods, such as: (a.) a voice-synthesized telephone message, (b.) various extranet\/internet means, such as electronic mail, netcasting, such as the product Castanet, by Marimba Software, Inc., (c.) fax to a pre-determined telephone number, or (d.) alpha-numeric text paging.\n\n(5) A commercial mobile radio service provider (CMRS) is the referenced name of a company that owns and\/or operates a publicly accessible wireless system in the cellular or PCS spectrum radio bands.\n\n(6) The term \u201cgeolocation\u201d as used herein refers to \u201ca representation of at least one of: a geographical location or a geographical extent\u201d. Thus, the term \u201cGeoLocation Message\u201d refers to a message that contains a content representative of at least one of: a geographical location or a geographical extent. Moreover, the term \u201cgeolocation result\u201d refers to a result that represents at least one of: a geographical location or a geographical extent, and the term \u201cgeolocation related processing\u201d is intended to mean \u201cprocessing that is related to a result that represents at least one of: a geographical location or a geographical extent\u201d.\n","It is an aspect of the present disclosure to describe a system and method for determining wireless location using one or more commercial mobile radio telecommunication systems for accurately locating people and\/or objects in a cost effective manner. Related aspects for the present disclosure include providing a system and method that:","(1) can be readily incorporated into existing commercial wireless telephony systems with few, if any, modifications of a typical telephony wireless infrastructure;","(2) can use the native electronics of typical commercially available telephony wireless mobile stations (e.g., handsets) as location devices;","(3) can be used for locating people and\/or objects residing indoors.","Yet another aspect is to provide a low cost location system and method, adaptable to wireless telephony systems, for using simultaneously a plurality of base stations owned and\/or operated by competing commercial mobile radio service providers within a common radio coverage area, in order to achieve FCC phase 2 or other accuracy requirements, and for synergistically increasing mobile station location accuracy and consistency.","Yet another aspect is to provide a low cost location system and method, adaptable to wireless telephony systems, for using a plurality of location techniques In particular, at least some of the following mobile station location techniques can be utilized by various embodiments of the present disclosure:","(4.1) time-of-arrival wireless signal processing techniques;","(4.2) time-difference-of-arrival wireless signal processing techniques;","(4.3) adaptive wireless signal processing techniques having, for example, learning capabilities and including, for instance, neural net and genetic algorithm processing;","(4.4) signal processing techniques for matching MS location signals with wireless signal characteristics of known areas;","(4.5) conflict resolution techniques for resolving conflicts in hypotheses for MS location estimates;","(4.6) enhancement of MS location estimates through the use of both heuristics and historical data associating MS wireless signal characteristics with known locations and\/or environmental conditions.","Yet another aspect is to provide a system and method for flexible delivery of location information to Public Safety Answering Points, end users, centralized dispatchers, as well as to agents (either human or mechanized) associated with trigger-based inventory and tracking systems. Flexible delivery used here indicates providing location via various two dimensional closed-form shapes, such as polygons, ellipses, etc., which bound the location probabilities. In cases where height location information is known, the bounding shape may be three-dimensional.","Yet another aspect is to provide a system and method for a variety of new location-based services for public and private group safety, including family support functions.","Yet another aspect is to provide a system and method for National Scale Wireless Location capability. Although the primary focus of this patent is to provide wireless location with accuracy to meet the FCC phase two requirements, a system and method is provided that also utilizes roaming signaling to determine in which city is a particular wireless mobile station located.","Yet another aspect is to provide a system and method for Parametric-driven, intelligent agent-based location services. Parameters may include time, location, and user-specific and\/or group specific criteria.","Yet another aspect is to provide a system and method for determining and\/or enhancing wireless location using one or more of the following: (a.) CDMA-based Distributed Antenna technology; (b.) Home Base Stations and AIN technology.","Yet another aspect is to provide notification messages and\/or voice-synthesized call or text paging function to a plurality of other mobile station users when a mobile station user travels into, or away from, one or more zones or is within short distances of shopping malls, stores, merchandising dealers etc. as described in the Section titled \u201cSelective Group, Multicast, Individualized Directions Conferencing Application.\u201d","Yet another aspect is to provide notification messages and\/or voice-synthesized call or text paging functions to a plurality of other mobile station users when a mobile station dials a predefined telephone number, such as 911, or a type of \u201cmild emergency cry for help\u2019 number.","Yet another aspect is to provide notification messages and\/or voice-synthesized call or text paging function to a plurality of other mobile station users when a mobile station user dials a predefined telephone number, such as 311, or a type of mild emergency cry for help number, wherein the plurality of other mobile station users are within a particular distance, or a minimum distance to the mobile station user who dialed the predefined number.","Yet another aspect is to provide notification messages and\/or voice-synthesized call or text paging function to a plurality of other mobile station users when a mobile station user dials a predefined telephone number, such as 311, or a type of mild emergency cry for help number, wherein the plurality of other mobile station users are within a particular distance, or a minimum distance to the mobile station user who dialed the predefined number, and wherein the other mobile station users are provided individualized directional or navigation information from their current locations, to reach to the mobile station user who dialed the predefined number.","Yet another aspect is to provide automatic home office, vehicle and boat security functions, which are activated and deactivated based on a mobile station users location to or away from a location associated with the security functions.","Yet another aspect is to provide notifications (e.g., via fax, page, e-mail, text paging or voice synthesized call message), or to setup a group conference call capability to a plurality of predefined individuals, based on a mobile station users call to 911, or based on a mobile station users traveling into or away from a location zone or area, or based upon a sensor input signal to the users mobile station, such as a sudden change in G forces, such as falling down, having the car hit another object suddenly, air bag deployment, etc.","Yet another aspect is to provide location information to a \u2018searcher\u2019 mobile station user who then further refines or narrows the scope of the location\/search for a \u2018target\u2019 mobile station, or the mobile station to be located, using a small microwave dish, in communication with, or to supplement\/replace the searcher mobile station antenna, whose physical orientation is used to further determine the target mobile station location, relative to the searchers mobile station position\/orientation.","Yet another aspect is to provide a means to allow more flexible storage, inventory and enhanced user accessibility of rental vehicles, by combining location technology of rental car driver carrying his\/her own mobile station, along with a mobile station which remains always active and fixed to a rental car. By maintaining accurate location records of rental car locations and automatic, remote-control of rental cars (or smart cars) which use the mobile station to telemeter control data to and from the car, whose doors, door locks, and general accessibility are controlled by a centralized computer system, rental cars can be dropped off at convenient shopping center malls, airport parking lots, hotels and at other convenient locations.","Yet another aspect is to provide location estimates to users carrying mobile stations, via voice synthesis, data circuit messaging or text paging.","Yet another aspect is to provide a mechanism whereby mobile station users may access and control their subscriber profile for location purposes. The location subscriber profile is a persistent data store which contains logic regarding under what criteria will that mobile station user allow his\/her location to be made known, and to whom. The mobile station user may access the location profile via several methods, including Internet means, and mobile station handset keypad entry and voice recognition circuits.","Yet another aspect is to utilize signaling detection characteristics of other CDMA base stations and systems in a given area, owned and operated by another commercial mobile radio service provider (CMRS provider). By including other CMRS providers' infrastructure in the location estimation analysis process, improvements in location accuracy can be realized.","In one embodiment, the location system of the present disclosure accomplishes the above and other aspects by the following steps:","(1) receiving signal data measurements corresponding to wireless communications between a mobile station to be located (herein also denoted the target mobile station) and a wireless telephony infrastructure, wherein the mobile station, MS and\/or mobile switch center may be enhanced in certain novel and cost effective ways so as to provide an extended number of values characterizing the wireless signal communications between the target mobile station and the base station infrastructure, such infrastructure including multiple, distinct CMRS where base stations share a common coverage area;","(2) organizing and processing the signal data measurements received from a given target mobile station and surrounding base stations so that composite wireless signal characteristic values may be obtained from which target mobile station location estimates may be derived. In particular, the signal data measurements are ensembles of samples from the wireless signals received from the target mobile station by the base station infrastructure, and from associated base stations wherein these samples are subsequently filtered using analog and digital spectral filtering.","(3) providing the resultant location estimation characteristic values to a mobile station location estimate model, wherein each such model (also denoted a \u201cfirst order model\u201d or FOM) subsequently determines the estimate of the location of the target mobile station based on, for example, the signal processing techniques (1) through (2) above.","Accordingly, steps (1) and (2) above are performed by a subsystem of the disclosure denoted the Signal Processing and Filtering Subsystem (or simply the Signal Processing Subsystem). In particular, this subsystem receives samples of wireless signal characteristic measurements such as a plurality of relative signal strengths and corresponding signal time delay value pairs, wherein such samples are used by this subsystem to produce the component with the least amount of multipath, as evidenced in the sample by the short time delay value, wherein each such value pair is associated with wireless signal transmissions between the target mobile station and a particular base station of a predetermined wireless base station infrastructure. Extremely transient signal anomalies such as signal reflection from tree leaves or the passing of a truck are likely to be filtered out by the Signal Processing Subsystem. For example, such an ensemble of data value pairs can be subjected to input cropping and various median filters employing filtering techniques such as convolution, median digital, Fast Fourier transform, Radon transform, Gabar transform, nearest neighbor, histogram equalization, input and output cropping, Sobel, Wiener, and the like. It is a further aspect of the present disclosure that the wireless personal communication system (PCS) infrastructures currently being developed by telecommunication providers offer an appropriate localized infrastructure based upon which to build various personal location systems employing the present disclosure and\/or utilizing the techniques disclosed herein. In particular, the present disclosure is especially suitable for the location of people and\/or objects using code division multiple access (CDMA) wireless infrastructures, although other wireless infrastructures, such as, time division multiple access (TDMA) infrastructures and GSM are also contemplated. Note that CDMA personal communications systems are described in the Telephone Industries Association standard IS-95, for frequencies below 1 GHz, and in the Wideband Spread\u2014Spectrum Digital Cellular System Dual-Mode Mobile Station-Base Station Compatibility Standard, for frequencies in the 1.8-1.9 GHz frequency bands, both of which are incorporated herein by reference. Furthermore, CDMA general principles have also been described, for example, in U.S. Pat. No. 5,109,390, to Gilhousen, et al filed Nov. 7, 1989, and CDMA Network Engineering Handbook by Qualcomm, Inc., each of which is also incorporated herein by reference.","In another aspect of the present disclosure, in environments where a home base station capability exists, then wireless location can be provided under certain circumstances, wherein when a mobile station user is within a predetermined range of, for example, 1000 feet of his\/her premises, the user's mobile station is detected through mobile station receiving electronics provided in, for example, cordless telephone units as being at home. Thus, the local public telephone switching network may be provided with such information for registering that user is at home, and therefore the mobile station may be allowed to function as a cordless home telephone utilizing the local public telephone switching network instead of the base station infrastructure. According to this aspect of the present disclosure, the location center of the present disclosure receives notification from the local public switched telephone network that the mobile station is at or near home and utilizes this notification in outputting a location estimate for the mobile station.","For example, in one embodiment, the present disclosure describes low cost, low power base stations, denoted location base stations (LBS) above, providing, for example, CDMA pilot channels to a very limited area about each such LBS. The location base stations may provide limited voice traffic capabilities, but each is capable of gathering sufficient wireless signal characteristics from an MS within the location base station's range to facilitate locating the MS. Thus, by positioning the location base stations at known locations in a geographic region such as, for instance, on street lamp poles and road signs, additional MS location accuracy can be obtained. That is, due to the low power signal output by such location base stations, for there to be communication between a location base station and a target MS, the MS must be relatively near the location base station. Additionally, for each location base station not in communication with the target MS, it is likely that the MS is not near to this location base station. Thus, by utilizing information received from both location base stations in communication with the target MS and those that are not in communication with the target MS, an embodiment of the present disclosure can substantially narrow the possible geographic areas within which the target MS is likely to be. Further, by providing each location base station (LBS) with a co-located stationary wireless transceiver (denoted a built-in MS above) having similar functionality to an MS, the following advantages are provided:","(4.1) assuming that the co-located base station capabilities and the stationary transceiver of an LBS are such that the base station capabilities and the stationary transceiver communicate with one another, the stationary transceiver can be signaled by another component(s) of the present disclosure to activate or deactivate its associated base station capability, thereby conserving power for the LBS that operate on a restricted power such as solar electrical power;","(4.2) the stationary transceiver of an LBS can be used for transferring target MS location information obtained by the LBS to a conventional telephony base station;","(4.3) since the location of each LBS is known and can be used in location processing, an embodiment of the present disclosure is able to (re)train and\/or (re)calibrate itself in geographical areas having such LBSs. That is, by activating each LBS stationary transceiver so that there is signal communication between the stationary transceiver and surrounding base stations within range, wireless signal characteristic values for the location of the stationary transceiver are obtained for each such base station.","A novel aspect of the present disclosure relies on the discovery that in many areas where MS location services are desired, the wireless signal measurements obtained from communications between the target MS and the base station infrastructure are extensive enough to provide sufficiently unique or peculiar values so that the pattern of values alone may identify the location of the target MS. Further, assuming a sufficient amount of such location identifying pattern information is captured in the composite wireless signal characteristic values for a target MS, and that there is a technique for matching such wireless signal patterns to geographical locations, then a FOM based on this technique may generate a reasonably accurate target MS location estimate. Moreover, if the present disclosure (e.g., the Location Signature Data Base) has captured sufficient wireless signal data from location communications between MSs and the base station infrastructure wherein the locations of the MSs are also verified and captured, then this captured data (e.g., location signatures) can be used to train or calibrate such models to associate the location of a target MS with the distinctive signal characteristics between the target MS and one or more base stations. Accordingly, the present disclosure includes one or more FOMs that may be generally denoted as classification models wherein such FOMs are trained or calibrated to associate particular composite wireless signal characteristic values with a geographical location where a target MS could likely generate the wireless signal samples from which the composite wireless signal characteristic values are derived. Further, the present disclosure includes the capability for training (calibrating) and retraining (recalibrating) such classification FOMs to automatically maintain the accuracy of these models even though substantial changes to the radio coverage area may occur, such as the construction of a new high rise building or seasonal variations (due to, for example, foliage variations).","Note that such classification FOMs that are trained or calibrated to identify target MS locations by the wireless signal patterns produced constitute a particularly novel aspect of the present disclosure. It is well known in the wireless telephony art that the phenomenon of signal multipath renders most analytical location computational techniques such as time-of-arrival (TOA) or time-difference-of-arrival (TDOA) substantially useless in urban areas and particularly in dense urban areas. However, this same multipath phenomenon also may produce substantially distinct or peculiar signal measurement patterns, wherein such a pattern coincides with a relatively small geographical area. Thus, the present invention utilizes multipath as an advantage for increasing accuracy where for previous location systems multipath has been a source of substantial inaccuracies. Moreover, it is worthwhile to note that the utilization of classification FOMs in high multipath environments is especially advantageous in that high multipath environments are typically densely populated. Thus, since such environments are also capable of yielding a greater density of MS location signal data from MSs whose actual locations can be obtained, there can be a substantial amount of training or calibration data captured by the present disclosure for training or calibrating such classification FOMs and for progressively improving the MS location accuracy of such models. Moreover, since it is also a related aspect of the present disclosure to include a plurality stationary, low cost, low power \u201clocation detection base stations\u201d (LBS), each having both restricted range MS detection capabilities and a built-in MS, a grid of such LBSs can be utilized for providing location signal data (from the built-in MS) for (re)training or (re)calibrating such classification FOMs.","In one embodiment of the present disclosure, one or more classification FOMs may each include a learning module such as a neural network for associating target MS location signal data with a target MS location estimate. Additionally, one or more classification FOMs may be statistical prediction models based on such statistical techniques as, for example, principle decomposition, partial least squares, or other regression techniques.","Another aspect, the present disclosure provides a capability for locating a target mobile station within areas of poor reception for infrastructure base stations by utilizing distributed antennas. A distributed antenna system as used herein is a collection of antennas attached in series to a reduced function base station, wherein the antennas are distributed throughout an area for improving telephony coverage. Such distributed antenna systems are typically used in indoor environments (e.g., high rise buildings) or other areas wherein the signal to noise ratio is too high for adequate communication with standard infrastructure base stations. Also a distributed antenna system may be located such that its coverage pattern overlaps the area of coverage of another distributed antenna system. In such cases each of the overlapping distributed antenna systems includes purposeful delay elements to provide different signal delays for each of the overlapping antenna systems and thereby provide multipath signals with sufficient delay spread for signal discrimination, as one skilled in the art will understand. Accordingly, an embodiment of the present disclosure receives and utilizes location information communicated from distributed antenna systems for locating a target mobile station. That is, an embodiment of the present disclosure may receive information from the base station infrastructure indicating that a target mobile station is communicating with such a distributed antenna system and provide distributed antenna signal characteristic values related to the distributed antenna system. Accordingly, to process such target mobile station location signal data, an embodiment of the present disclosure includes a distributed antenna system for generating target mobile station location estimate derived from the location signal data obtained from the distributed antenna system.","The location system of an embodiment of the present disclosure offers many advantages over existing location systems. The system of an embodiment of the present disclosure, for example, is readily adaptable to existing wireless communication systems and can accurately locate people and\/or objects in a cost-effective manner. In particular, an embodiment of the present disclosure requires few, if any, modifications to commercial wireless communication systems for implementation. Thus, existing personal communication system infrastructure base stations and other components of, for example, commercial CDMA infrastructures are readily adapted to an embodiment of the present disclosure. An embodiment of the present disclosure can be used to locate people and\/or objects that are not in the line-of-sight of a wireless receiver or transmitter, can reduce the detrimental effects of multipath on the accuracy of the location estimate, can locate people and\/or objects located indoors as well as outdoors, and uses a number of wireless stationary transceivers for location. An embodiment of the present disclosure employs a number of distinctly different location computational models (FOMs) for location which provides a greater degree of accuracy, robustness and versatility than is possible with existing systems. For instance, the location models provided include not only the radius-radius\/TOA and TDOA techniques but also adaptive neural net techniques (e.g., the \u201cN\/N Model\u201d of FIG. () identifies an artificial neural network FOM). Further, an embodiment of the present disclosure is able to adapt to the topography of an area in which location service is desired. An embodiment of the present disclosure is also able to adapt to environmental changes substantially as frequently as desired. Thus, an embodiment of the present disclosure is able to take into account changes in the location topography over time without extensive manual data manipulation.","Moreover, there are numerous additional advantages of the system of an embodiment of the present disclosure when applied in CDMA communication systems. The location system of an embodiment of the present disclosure readily benefits from the distinct advantages of the CDMA spread spectrum scheme, namely the exploitation of radio frequency spectral efficiency and isolation by (a) monitoring voice activity, (b) management of two-way power control, (c) provision of advanced variable-rate modems and error correcting signal encoding, (d) inherent resistance to fading, (e) enhanced privacy, and (f) multiple \u201crake\u201d digital data receivers and searcher receivers for correlation of signal multipaths.","Additionally, note that this architecture need not have all modules co-located. In particular, it is an additional aspect of an embodiment of the present disclosure that various modules can be remotely located from one another and communicate with one another via telecommunication transmissions such as telephony technologies and\/or the Internet. Accordingly, an embodiment of the present disclosure is particularly adaptable to such distributed computing environments. For example, some number of the location center modules may reside in remote locations and communicate their generated hypotheses of mobile station location estimates (each such hypothesis also denoted a \u201clocation hypothesis\u201d herein) via the Internet.","In one embodiment of the present disclosure, the processing following the generation of location estimates by the modules may be such that this processing can be provided on lnthrnet user nodes and the modules may reside at Internet server sites. In this configuration, an Internet user may request hypotheses from such remote modules and perform the remaining processing at his\/her node.","Additionally, note that it is within the scope of the present disclosure to provide one or more central location development sites that may be networked to, for example, dispersed location centers or systems providing location services according to an embodiment of the present disclosure, wherein the modules may be accessed, substituted, enhanced or removed dynamically via network connections with a central location development site. Thus, a small but rapidly growing municipality in substantially flat low density area might initially be provided with access to, for example, two or three modules for generating location hypotheses in the municipality's relatively uncluttered radio signaling environment. However, as the population density increases and the radio signaling environment becomes cluttered by, for example, thermal noise and multipath, additional or alternative modules may be transferred via the network to the location center for the municipality.","Of course, other software architectures may also to used in implementing the processing of the location center without departing from scope of the present disclosure. In particular, object-oriented architectures are also within the scope of the present disclosure. For example, the modules may be object methods on an mobile station location estimator object, wherein the estimator object receives substantially all target mobile station location signal data output by the signal filtering subsystem . Alternatively, software bus architectures are contemplated by the present disclosure, as one skilled in the art will understand, wherein the software architecture may be modular and facilitate parallel processing.","One embodiment of the present disclosure includes providing the location of a mobile station (MS) using the digital air interface voice channel and an automatic call distributor device. This embodiment provides location information to either the initiating caller who wishes to learn of his location, using the voice channel, and\/or location information could be provided to another individual who has either a wireline or wireless telephone station.","Another embodiment of the present disclosure includes providing the location of a mobile station using the digital air interface voice channel and a hunt group provided from a central office or similar device. This embodiment provides location information to either the initiating caller who wishes to learn of his location, using the voice channel, and\/or location information could be provided to another individual who has either a wireline or wireless telephone station.","Another embodiment of the present disclosure includes providing the location of a mobile station using the digital air interface text paging, or short message service channel and a hunt group provided from a central office or similar device. This embodiment provides location information to either the initiating caller who wishes to learn of his location, using the voice channel, and\/or location information could be provided to another individual who has either a wireline or wireless telephone station.","Another embodiment of the present disclosure includes providing the location of a plurality of mobile stations using the public Internet or an intranet, with either having the ability to further use \u201cpush\u201d, or \u201cnetcasting\u201d technology. This embodiment provides location information to either the initiating Internet or Intranet user who wishes to learn of one or more mobile station locations, using either the Internet or an intranet. Either the mobile station user to be located can initiate a request for the user to be located, or an Internet\/Intranet user may initiate the location request. Optionally the location information could be provided autonomously, or periodically, or in accordance with other logic criteria, to the recipient of the location information via the Internet or a intranet. As a further option, location information can be superimposed onto various maps (e.g., bit\/raster, vector, digital photograph, etc.) for convenient display to the user.","Yet another embodiment of the present disclosure includes providing a multicast notification to a group of mobile station users, based on a distress call from a particular mobile station, wherein the group of mobile station users are relatively nearby the distressed caller. The multicast notification provides individual directions for each group mobile station user, to direct each user to the fastest route to reach the distressed caller.","Other aspects of the present disclosure can be described as follows:\n\n","Further description of the advantages, benefits and patentable aspects of the present disclosure will become evident from the accompanying drawings and description hereinbelow. All novel aspects of the present disclosure, whether mentioned explicitly in this Summary section or not, are considered subject matter for patent protection either singly or in combination with other aspects of the present disclosure. Accordingly, such novel aspects of the present disclosure and\/or in the drawings that may be omitted from, or less than fully described in this Summary section are fully incorporated herein by reference into this Summary. In particular, all claims of the Claims section hereinbelow are fully incorporated herein by reference into this Summary section.","Various digital wireless communication standards have been introduced such as code division multiple access (CDMA) and Time Division Multiple Access (TDMA) (e.g., Global Systems Mobile (GSM). These standards provide numerous enhancements for advancing the quality and communication capacity for wireless applications. Referring to CDMA, this standard is described in the Telephone Industries Association standard IS-95, for frequencies below 1 GHz, and in J-STD-008, the Wideband Spread-Spectrum Digital Cellular System Dual-Mode Mobile Station-Base station Compatibility Standard, for frequencies in the 1.8-1.9 GHz frequency bands.","Additionally, CDMA general principles have been described, for example, in U.S. Pat. No. 5,109,390, Diversity Receiver in a CDMA Cellular Telephone System, by Gilhousen, et al, filed Nov. 7, 1989. There are numerous advantages of such digital wireless technologies such as CDMA radio technology. For example, the CDMA spread spectrum scheme exploits radio frequency spectral efficiency and isolation by monitoring voice activity, managing two-way power control, provision of advanced variable-rate modems and error correcting signal design, and includes inherent resistance to fading, enhanced privacy, and provides for multiple \u201crake\u201d digital data receivers and searcher receivers for correlation of multiple physical propagation paths, resembling maximum likelihood detection, as well as support for multiple base station communication with a mobile station, i.e., soft or softer hand-off capability. When coupled with a location center as described herein, substantial improvements in radio location can be achieved. For example, the CDMA spread spectrum scheme exploits radio frequency spectral efficiency and isolation by monitoring voice activity, managing two-way power control, provision of advanced variable-rate modems and error correcting signal design, and includes inherent resistance to fading, enhanced privacy, and provides for multiple \u201crake\u201d digital data receivers and searcher receivers for correlation of multiple physical propagation paths, resembling maximum likelihood detection, as well as support for multiple base station communication with a mobile station, i.e., soft hand-off capability. Moreover, this same advanced radio communication infrastructure can also be used for enhanced radio location. As a further example, the capabilities of IS-41 and AIN already provide a broad-granularity of wireless location, as is necessary to, for example, properly direct a terminating call to a mobile station. Such information, originally intended for call processing usage, can be re-used in conjunction with the location center described herein to provide wireless location in the large (i.e., to determine which country, state and city a particular mobile station is located) and wireless location in the small (i.e., which location, plus or minus a few hundred feet within one or more base stations a given mobile station is located).","Related content to the present disclosure is provided in U.S. patent application Ser. No. 09\/194,367 filed Nov. 24, 1998 now U.S. Pat. No. 7,764,231, this patent being incorporated fully herein by reference. Related content is also provided in U.S. Provisional Application No. 60\/056,590 filed Aug. 20, 1997; U.S. Provisional Application No. 60\/044,821 filed Apr. 25, 1997; and U.S. Provisional Application No. 60\/025,855 filed Sep. 9, 1996, each of these patent applications also being fully incorporated herein by reference.",{"@attributes":{"id":"p-0153","num":"0296"},"figref":"FIG. 1","b":["112","112","112"],"i":["a","a","b"]},"(1) a location system or center  which is required for determining a location of a target mobile station using signal characteristic values as measured by the target mobile station (not shown) and nearby base stations (not shown), further including of the following modules or subsystem components:","(1.1) an application programming interface  (having a controller also denoted by the label \u201c14\u201d), for physically interfacing with and controlling the messaging to and from each CMRS mobile switch center , , service control points 4a and 4b, receiving location requests from either the mobile switch center , or , or the Internet , and providing connection to the signal processing subsystem ;","(1.2) a signal processing subsystem , which is in communication with the application programming interface (L-API) . The signal processor  receives, queues, filters and processes signal measurement messages into various formats suitable for the location estimate modules DA  and TOA\/TDOA ;","(1.3) a TOA\/TDOA location estimate module , in communication with the signal processing subsystem . The TOA\/TDOA module  provides a location estimate result, using a time of arrival or a time difference of arrival technique based on conditioned signals from the signal processing subsystem ; in addition the TOA\/TDOA module may also process signals from the distributed antenna module , in order to provide a location estimate within environments containing distributed antenna systems;","(1.4) a distributed antenna (DA) module , which receives signals related to distributed antennas, from the signal processor  in communication a location estimating capability for utilizing one or more distributed antenna systems  as shown in , wherein each such system  provides wireless location information for an MS  within the area in communication with one or more distributed antenna system .","(1.5) a home base station module (HBS)  in , which receives signals from the (application programming interface) controller  and determines wireless location (i.e., providing a location estimate result) based on registration principles of the wireless user's mobile station when in communication with the user's home base station (not shown) in communications with a given service control point 4a or 4b, containing a home base station application (not shown).","Since home base stations and distributed antenna systems can be located on potentially each floor of a multi-story building, in such cases where infrastructure is installed, the wireless location technology described herein can be used to perform location in terms of height as well as by Latitude and Longitude.","Referring to , additional detail is provided of typical base station coverage areas, sectorization, and high level components used in the present disclosure's scope, including the mobile switch center , a mobile station  in communication with a home base station , and communication between the location system  and the public Internet , via an Internet service provider interface . A novel aspect of the present disclosure includes providing wireless location estimate information to various designated users via the public Internet. Although base stations may be placed in any configuration, a typical deployment configuration is approximately in a cellular honeycomb pattern, although many practical tradeoffs exist, such as site availability, versus the requirement for maximal terrain coverage area. To illustrate, such exemplary base stations (BSs) through are shown, each of which radiate referencing signals within their area of coverage to facilitate mobile station (MS)  radio frequency connectivity, and various timing and synchronization functions. A given base station may contain no sectors (not shown), thus radiating and receiving signals in a 360 degree omnidirectional coverage area pattern, or the base station may contain \u201csmart antennas\u201d (not shown) which have specialized coverage area patterns.","Alternatively and generally most frequent are base stations having three sector coverage area patterns. Shown in , each sector for base station through contains three sectors, labeled a, b, and c, which represent antennas that radiate and receive signals in an approximate 120 degree arc, from an overhead view. As one skilled in the art will understand, actual base station coverage areas generally are designed to overlap to some extent, thus ensuring seamless coverage in a geographical area. Control electronics within each base station are used to communicate with a given mobile station . Further, during communication with the mobile station the exact base station identification and sector identification information are known and are provided to the location center .","The base stations located at their cell sites may be coupled by various transport facilities  such as leased lines, frame relay, T-Carrier links, optical fiber links or by microwave communication links.","When the mobile station is powered on and in the idle state, it constantly monitors the pilot signal transmissions from each of the base stations located at nearby cell sites. As illustrated in , base station\/sector coverage areas may often overlap both in the context of a single CMRS base station network, and also in the context of multiple CMRS base station networks, thus enabling mobile stations to detect, and, in the case of certain technologies, communicate simultaneously along both the forward and reverse paths, with multiple base stations\/sectors, either with a single CMRS network or, in the case of hand-offs and roaming, multiple CMRS network equipment. In  the constantly radiating pilot signals from base station sectors , and are detectable by mobile station  at its location. The mobile station  scans each pilot channel, which corresponds to a given base station\/sector ID, and determines which cell it is in by comparing signals strengths of pilot signals transmitted from these particular cell-sites.","The mobile station  then initiates a registration request with the mobile switch center , via the base station controller (not shown). The mobile switch center determines whether or not the mobile station  is allowed to proceed with the registration process (except in the case of a 911 call, wherein no registration process is required). At this point, calls may be originated from the mobile station  or calls or short message service messages can be received from the mobile switch center ","As shown in , the mobile switch center  communicates as appropriate, with a class 4\/5 wireline telephony circuit switch or other central offices, with telephone trunks in communication with the public switch telephone network (PSTN) . Such central offices connect to wireline stations, such as telephones, or any communication device compatible with the line, such as a personal or home base station. The PSTN may also provide connections to long distance networks and other networks.","The mobile switch center  may also utilize IS\/41 data circuits or trunks , which in turn connects to a service control point , using, for example, signaling system #7 (SS7) signaling link protocols for intelligent call processing, as one skilled in the art will understand. In the case of wireless advanced intelligent network (AIN) services such trunks and protocols are used for call routing instructions of balls interacting with the mobile switch center  or any switch capable of providing service switching point functions, and the public switched telephone network (PSTN) , with possible termination back to the wireless network. In the case of an mobile station  in communication with a corresponding home or office base station (HBS) , the HBS  controls, processes and interfaces the mobile station  to the PSTN , in a manner similar to a cordless telephone system, except that added AIN logic within, for example, the service control point (SCP)  is used to determine if the mobile station  is being controlled by the HBS  or a wireless base station . Regarding non-HBS calls, the mobile switch center  may direct calls between mobile stations  via the appropriate cell site base stations  a through since such mobile stations  do not typically communicate directly with one another in such wireless standards as CDMA, TDMA NAMPS, AMPS and GSM.","Referring again to , the Location system  interfaces with the mobile switch center  either via dedicated transport facilities , using for example, any number of LAN\/WAN technologies, such as Ethernet, fast Ethernet, frame relay, virtual private networks, etc., or via the PSTN  (not shown). The location system  receives autonomous (e.g., unsolicited) or command\/response messages regarding, for example: (a) the wireless network states, including for example, the fact that a base station has been taken in or out of service, (b) mobile station  and BS  radio frequency (RF) signal measurements, (c) notifications from a SCP  indicating that an HBS  has detected and registered with the SCP  the mobile station  corresponding to the HBS , and (d) any distributed antenna systems . Conversely, the location system  provides data and control information to each of the above components in (a)-(d). Additionally, the Location system  may provide location information to a mobile station , via a BS , using, for example the short message service protocol, or any data communication protocol supported by the air interface between the base station and the mobile station. Interface  connecting the location system  with the service control point  may also be required in the event the home location register and\/or the home base station AIN function is located in the SCP .","Assuming the wireless technology CDMA is used, each BS , , , through uses a time offset of the pilot PN sequence to identify a forward CDMA pilot channel. Furthermore, time offsets, in CDMA chip sizes, may be re-used within a PCS system, thus providing efficient use of pilot time offset chips, thus achieving spectrum efficiency.","The use of distributed antennas is another technique for improving or extending the RF coverage of a radio coverage area  of a wireless system. Such distributed antennas are typically used in buildings or other areas of dense clutter, such as numerous walls, partitions and\/or similar structures causing substantial signal attenuation. As shown in , , , , and , distributed antennas  are typically connected together in a serial fashion for communicating with one or more infrastructure base stations . Distributed antennas may be connected to the mobile switch center  via various air interfaces, as shown in , or alternately distributed antennas may be connected to the MSC via a directed connection to a base station  as shown in , or via a private branch exchange (PBX) as shown in .","Referring to , distributed antennas  are useful particularly in wireless system configurations involving microcells, and potentially indoor environments, such as wireless systems in communication with private branch exchange systems (reference ) in business offices, and in wireless local loop applications (not shown) as one skilled in the art will understand. Additionally, a distributed antenna embodiment can provide significant improvements in decreasing location error, as compared with an indoor mobile station  (reference ) user with a wireless connection to an outdoor, infrastructure base station , as illustrated in , ,  and .","A Second Embodiment of the Location Center",{"@attributes":{"id":"p-0172","num":"0315"},"figref":["FIG. 44","FIG. 44"],"b":["112","120","122","125","127","156","122","124","106","104","110","140"]},"(10.1) a location center  which is required for determining a location of a target MS using signal characteristic values for this target MS;","(10.2) one or more mobile base stations  (MBS) which are optional, for physically traveling toward the target MS or tracking the target MS;","(10.3) a plurality of location base stations  (LBS) which are optional, distributed within the radio coverage areas , each LBS  having a relatively small MS detection area ;","(10.4) a plurality of subscriber home\/business base stations  (hereinafter simply denoted home base stations , or HBS, which are optional) wherein a corresponding MS  electronically paired with an HBS  may become a cordless telephone when it is within proximity of its paired HBS . Note that the HBS  typically would share a wireline connection with the users home telephone , although this arrangement is not required, as long as the HBS  has a wireline connection to the PSTN . Alternatively a wireless local loop interface  can be used for both a wireline simulated connection to the home, as well as a wireless interface. Accordingly, as described in detail herein below, when the MS  is detected by the HBS , an embodiment of the present disclosure registers this detection with the PSTN  and with the location center . Thus, such registration may be communicated to the location center  when a request for locating the MS  is provided;","(10.5) a location estimating capability for utilizing one or more distributed antenna systems , which is optional, within buildings wherein each such system  provides wireless location information for an MS  within the area in communication with one or more distributed antennas . Note, as will be discussed in detail below, that such distributed antenna systems  are particularly useful when the interior of the building provides poor communication with the base stations , , and .","Since location base stations, home base stations and distributed antennas can be located on potentially each floor of a multi-story building, the wireless location technology described herein can be used to perform location in terms of height as well as by Latitude and Longitude.","In operation, the MS  may utilize one of the wireless technologies, CDMA, TDMA or GSM techniques for radio communication with: (a) one or more infrastructure base stations , , and\/or , (b) mobile base station(s) , (c) a distributed antenna system  (which may be, in turn, in communication with a base station , (d) an LBS  and\/or (e) an HBS .","Referring to  again, additional detail is provided of typical base station coverage areas, sectorization, and high level components within a radio coverage area , including the MSC . Although base stations may be placed in any configuration, a typical deployment configuration is approximately in a cellular honeycomb pattern, although many practical tradeoffs exist, such as site availability, versus the requirement for maximal terrain coverage area. To illustrate, three such exemplary base stations (BSs) ,  and  are shown, each of which radiate referencing signals within their area of coverage to facilitate mobile station (MS)  radio frequency connectivity, and various timing and synchronization functions. A given base station may contain no sectors, thus radiating and receiving signals in a 360 degree omnidirectional coverage area pattern, or the base station may contain \u201csmart antennas\u201d which have specialized coverage area patterns. Alternatively and generally most frequent are base stations having three sector coverage area patterns. Shown in , each sector for base station , sector a , sector b , and sector c , radiates and receives signals in an approximate 120 degree arc, from an overhead view. As one skilled in the art will understand, actual base station coverage areas generally are designed to overlap to some extent, thus ensuring seamless coverage in a geographical area. Control electronics within each base station are used to communicate with a given mobile station . Information regarding the coverage area for each sector, such as its range, area, and \u201choles\u201d or areas of no coverage within the radio coverage area , are known information which is used by the location center  to facilitate location determination. Further, during communication with the mobile station the exact base station identification and sector identification information are known and are provided to the location center .","In the case of the non-home base station communication of location information, a base station or mobility controller  (BSC) controls, processes and interfaces originating and terminating telephone calls between the mobile station (MS) , and the mobile switch center (MSC) . The MSC also performs various administration functions such as mobile station registration, authentication and the relaying of various system parameters.","The base stations located at their cell sites may be coupled by various transport facilities  such as leased lines, frame relay, T-Carrier links, optical fiber links or by microwave communication links.","When the mobile station is powered on and in the idle state, it constantly monitors the pilot signal transmissions from each of the base stations located at nearby cell sites. As illustrated in , base station\/sector coverage areas may often overlap, thus enabling mobile stations to detect, and, in the case of certain technologies, communicate simultaneously along both the forward and reverse paths, with multiple base stations\/sectors. In  the constantly radiating pilot signals from base station sectors ,  and  are detectable by mobile station  at its location. The mobile station  scans each pilot channel, which corresponds to a given base station\/sector ID, and determines which cell it is in by comparing signals strengths of pilot signals transmitted from these particular cell-sites.","The mobile station  then initiates a registration request with the MSC , via the base station controller . The MSC determines whether or not the mobile station  is allowed to proceed with the registration process (except in the case of a 911 call, wherein no registration process is required). At this point calls may be originated from the mobile station  or calls or short message service messages can be received from the network. The MSC communicates as appropriate, with a class 4\/5 wireline telephony circuit switch or other central offices, connected to the PSTN network. Such central offices connect to wireline terminals, such as telephones, or any communication device compatible with the line, such as a personal or home base station. The PSTN may also provide connections to long distance networks and other networks.","The MSC  may also utilize IS\/41 data circuits or trunks connecting to signal transfer point , which in turn connects to a service control point , via Signaling System #7 (SS7) signaling links (e.g., trunks) for intelligent call processing, as one skilled in the art will understand. In the case of wireless AIN services such links are used for call routing instructions of calls interacting with the MSC  or any switch capable of providing service switching point functions, and the public switched telephone network (PSTN) , with possible termination back to the wireless network. In the case of an MS  in communication with a corresponding home or office base station BBS , the BBS  controls, processes and interfaces the MS  to the PSTN , in a manner similar to a cordless telephone system, except that added AIN logic within, for example, the service control point (SCP)  is used to determine if the MS  is being controlled by the HBS  or a wireless base station . Regarding non-BBS calls, the BSC  may direct calls between MSs  via the appropriate cell site BSs since such MSs  do not typically communicate directly with one another in such wireless standards as CDMA, TDMA and GSM.","Referring to  again, the Location Center (LC)  interfaces with the MSC  either via dedicated transport facilities , using for example, any number of LAN\/WAN technologies, such as Ethernet, fast Ethernet, frame relay, virtual private networks, etc., or via the PSTN . The LC  receives autonomous (e.g., unsolicited) or command\/response messages regarding, for example: (a) the wireless network states, (b) MS  and BS  radio frequency (RF) measurements, notifications from a SCP  indicating that an HBS  has detected (and registered with the SCP ) the MS  corresponding to the HBS , (d) any MBSs , (e) any distributed antenna systems , (f) any location base stations , and (g) location applications requesting MS locations using the location center. Conversely, the LC  provides data and control information to each of the above components in (a)-(g). Additionally, the LC  may provide location information to an MS , via a BS . Moreover, in the case of the use of a mobile base station (MBS) , several communications paths may exist with the LC .","The MBS  acts as a low cost, partially-functional, moving base station, and is, in one embodiment, situated in a vehicle where an operator may engage in MS  searching and tracking activities. In providing these activities using CDMA, the MBS  provides a forward link pilot channel for a target MS , and subsequently receives unique BS pilot strength measurements from the MS . The MBS  also includes a mobile station for data communication with the LC , via a BS . In particular, such data communication includes telemetering the geographic position of the MBS  as well as various RF measurements related to signals received from the target MS . In some embodiments, the MBS  may also utilize multiple-beam fixed antenna array elements and\/or a moveable narrow beam antenna, such as a microwave dish . The antennas for such embodiments may have a known orientation in order to further deduce a radio location of the target MS  with respect to an estimated current location of the MBS . The MBS  may further contain a global positioning system (GPS), distance sensors, dead-reckoning electronics, as well as an on-board computing system and display devices for locating both the MBS  itself as well as tracking and locating the target MS . The computing and display provides a means for communicating the position of the target MS  on a map display to an operator of the MBS .","Each location base station (LBS) and is a low cost location device. Each such LBS and communicates with one or more of the infrastructure base stations  using one or more wireless technology interface standards. In some embodiments, to provide such LBS's cost effectively, each LBS and only partially or minimally supports the air-interface standards of the one or more wireless technologies used in communicating with both the BSs  and the target MSs . Each LBS and , when put in service, is placed at a fixed location, such as a traffic signal, lamp post, etc. and wherein the location of the LBS may be determined as accurately as, for example, the accuracy of the locations of the infrastructure BSs . Assuming the wireless technology CDMA is used, each BS , , ,  uses a time offset of the pilot PN sequence to identify a forward CDMA pilot channel. In one embodiment, each LBS emits a unique, time-offset pilot PN sequence channel in accordance with the CDMA standard in the RF spectrum designated for BSs , , and , such that the channel does not interfere with neighboring BS  cell site channels, nor would it interfere with neighboring LBSs. Furthermore, time offsets, in CDMA chip sizes, may be re-used within a PCS system, thus providing efficient use of pilot time offset chips, thus achieving spectrum efficiency. Each LBS and may also contain multiple wireless receivers in order to monitor transmissions from a target MS . Additionally, each LBS and contains mobile station  electronics, thereby allowing the LBS to both be controlled by the LC , and to transmit information to the LC  via at least one neighboring BS .","As mentioned above, when the location of a particular target MS  is desired, the LC  can request location information about the target MS  from, for instance, one or more activated LBSs and in a geographical area of interest. Accordingly, whenever the target MS  is in the area, or is suspected of being in the area, either upon command from the LC  or in a substantially continuous fashion; the LBS's pilot channel appears to the target MS  as a potential neighboring BS channel, and consequently, is placed, for example, in the CDMA neighboring set, or the CDMA remaining set, of the MS  (as one familiar with the CDMA standards will understand). During the normal CDMA pilot search sequence of the mobile station initialization state (in the target MS), the target MS  will, if within range of such an activated LBS and , detect the LBS pilot presence during the CDMA pilot channel acquisition substrate. Consequently, the target MS  performs RF measurements on the LBS signal. Similarly, an activated LBS can perform RF measurements on the wireless signals from the target MS . The LBS and may subsequently telemeter back to the LC  measurement results related to signals from\/to the target MS . Thus, upon command, the target MS  will telemeter back to the LC  its own measurements of the LBSs and , and consequently, this new information, in conjunction with other BSs , can be used to more accurately locate the target MS .","It should be noted that the LBS will normally deny hand-off requests, since typically the LBS does not require the added complexity of handling voice or traffic bearer channels, although economics and peak traffic load conditions would dictate preference here. GPS timing information, needed by any CDMA BS, is either achieved via the inclusion of a local GPS receiver or via a telemetry process from a neighboring normal BS, which contains a GPS receiver and timing information. As energy requirements are minimal, potentially rechargeable batteries or solar cells may be used to power the LBS. No expensive terrestrial transport link is typically required since two-way communication is provided by the MS, thus LBSs may be placed in numerous locations, particularly in dense urban canyon areas, remote skiing\/highway areas, or anywhere more precision is required for location and\/or traffic-handling purposes, is needed.","The use of distributed antennas is another technique for improving or extending the RF coverage of a radio coverage area  of a wireless system. Such distributed antennas are typically used in buildings or other areas of dense clutter, such as numerous walls, partitions and\/or similar structures causing substantial signal attenuation. As shown in , distributed antennas  are typically connected together in a serial fashion to a mini base station for communicating with the infrastructure base stations .","Distributed antennas  are useful particularly in wireless system configurations involving microcells, and potentially indoor environments, such as PBX (private branch exchange) systems in business offices, and in wireless local loop applications as one skilled in the art will understand. Additionally, a distributed antenna embodiment can provide significant improvements in decreasing location error, as compared with an indoor MS  user with a wireless connection to an outdoor, infrastructure base station .","Mobile Station Description","As an example of a mobile station , such a mobile station will be described using CDMA technology.  illustrates a typical block diagram of the functional components of a CDMA mobile station (MS) , based on the patent, \u201cDiversity Receiver in a CDMA Cellular Telephone System\u201d, U.S. Pat. No. 5,109,390. The MS  contains an antenna  coupled through diplexer  to analog receiver  and transmit power amplifier . Antenna  and diplexer  permit simultaneous transmission and reception of signals through an antenna . Antenna  collects transmitted signals and provides them through diplexer  to analog receiver . Receiver  receives the RF frequency signals, typically either in the 800-900 MHZ or 1.8-1.9 GHz band, from diplexer , for amplification and frequency down conversion to an intermediate frequency (IF). Translation is accomplished through the use of a frequency synthesizer of standard design which permits the receiver  to be tuned to any of the frequencies within the designated receive frequency band. The IF signal is passed through a surface acoustic wave bandpass filter, typically of 1.25 MHZ bandwidth, to match the waveform of the signal transmitted by a base station . Receiver  also provides an analog to digital converter (not shown) for converting the IF signal to a digital signal. The digital signal is provided to each of four or more data receivers (, , , and ), one of which is a searcher receiver () with the remainder being data receivers, as one skilled in the art will understand.","Analog receiver  also performs a open-loop type of power control function for adjusting the transmit power of the mobile station  on the reverse link channel. Receiver  measures the forward link signal strength of the signals from base stations , then generates an analog power control signal to circuitry in the transmit power amplifier , which can effect a range up to about 80 dB. The power control for the transmit power amplifier  is also supplemented by a closed-loop power control or mobile attenuation code (MAC) control parameter sent to the mobile station  via the air (i.e., wireless) interface from a BS , with either the CMAC or VMAC command (as one knowledgeable in CDMA standards will understand). The MAC can take on one of eight values 0 through 7, which effect a closed loop to raise or lower the power correction. The transmit amplifier  may utilize one of three transmit power classes when transmitting within a transmitted power control group in the 800-900 MHZ cellular band: class I (1 to 8 dBW), class II (\u22123 to 4 dBW), or class III (\u22127 to 0 dBW), for a closed-loop range of about \u201c32 dB. In the PCS 1.8-1.9 GHz band five classes are defined: class I (\u22122 to 3 dBW), class II (\u22127 to 0 dBW), class III (\u221212 to \u22123 dBW), class IV (\u2212 to \u22126 dBW), class V (\u2212 to \u22129 dBW), for a closed-loop range of about\u201d 40 dB. The mobile station  power class and transmit power level for a communicating mobile station  is known to the wireless infrastructure network, and may be utilized for location estimation, as is described hereinbelow.","The digitized IF signal may contain the signals from several telephone calls together with the pilot channels and multipath delayed signals from each of several pilot channels. Searcher receiver , under control of control processor , continuously scans the time domain around the nominal time delay offsets of pilot channels contained within the active, candidate, neighboring and remaining sets of pilot channels. The initial sets of pilot channels and a defined search window size for each set are provided by a control message from a BS  via the air interface to the mobile station . The searcher receiver  measures the strength of any reception of a desired waveform at times other than the nominal time and measures each pilot channel's arrival time relative to each pilot's PN sequence offset value. Receiver  also compares signal strength in the received signals. Receiver  provides a signal strength signal to control processor  indicative of the strongest signals and relative time relationships.","Control processor  provides signals to control digital data receivers ,  and  such that each of these receivers processes a different one of the strongest signals. Note, as one skilled in the art will understand, the strongest signal, or finger, may not be the signal of shortest arrival time, but rather may be a reflected, and therefore delayed, signal (such reflected denoted collectively as \u201cmultipath\u201d). Data receivers ,  and  may track and process multipath signals from the same forward channel pilot channel offset or from a different forward channel pilot offset. In the case where a different pilot channel offset signal is of greater strength than the current cell site (or more specifically the current base station ) pilot channel offset, then control processor  generates a control message for transmission on a reverse channel from the mobile station  to the current BS , requesting a transfer of the call, or a soft hand-off, to the now strongest cell site Base station . Note that each of the four receivers , ,  and  can be directed independently from each other. The three data receivers , , and  are capable of tracking and demodulating multipath signals from of the forward CDMA pilot channel. Thus data receivers ,  and  may provide reception of information via separate multipath signals from one BS  (e.g., in particular, an antenna face of a sectored antenna at the BS , or reception of signals from a number of sectors at the same BS , or reception of signals from multiple BSs  or their antenna faces of sectored antennas. Upon receiving a CDMA pilot measurement request order command, or whenever: (a) the mobile station  detects a pilot signal of sufficient strength, not associated with any of the assigned forward traffic channels currently assigned, or (b) the mobile station  is in preparation for a soft or hard hand-off, then the searcher receiver  responds by measuring and reporting the strengths of received pilots and the receivers definition of the pilot arrival time of the earliest useable multipath component of the pilot, in units of PN chips (one chip=0.813802 microseconds). The receiver  computes the strength of a pilot by adding the ratios of received pilot energy per chip E, to total received spectral density, I, of at most k useable multipath components, where k is the number of data receivers supported in the mobile station .","The outputs of data receivers , , and  are provided to diversity combiner and decoder circuitry  (i.e., simply diversity combiner). The diversity combiner  performs the function of adjusting the timing of a plurality of streams of received signals into alignment and adds them together. In performing this function, the diversity combiner  may utilize a maximal ratio diversity combiner technique. The resulting combined signal stream is then decoded using a forward stream error detection contained within the diversity combiner. The decoded result is then passed on to the user digital baseband circuitry .","The user digital baseband circuitry  typically includes a digital vocoder which decodes the signals from diversity combiner , and then outputs the results to a digital to analog (D\/A) converter (not shown). The output of the D\/A serves as an interface with telephony circuitry for providing mobile station  user analog output information signals to the user corresponding to the information provided from diversity combiner .","User analog voice signals typically provided through an mobile station  are provided as an input to baseband circuitry . Baseband  serves as an interface with a handset or any other type of peripheral device, to the user for audio communication. Baseband circuitry  includes an analog to digital (A\/D) converter which converts user information signals from analog form into a digital form. This digital form is then input to a vocoder (not shown) for encoding, which includes a forward error correction function. The resulting encoded signals are then output to transmit modulator .","Transmit modulator  modulates the encoded signal on a PN carrier signal whose PN sequence is based on the assigned address function for a wireless call. The PN sequence is determined by the control processor  from call setup information that was previously transmitted by a cell site BS  and decoded by the receivers , ,  as one skilled in the art will understand. The output of transmit modulator  is provided to transmit power control circuitry . Note that signal transmission power is controlled partially by an open-loop analog power control signal provided from receiver . In addition, control bits are also transmitted by the controlling BS  in the form of a supplemental closed-loop power adjustment command and are processed by data receivers , . In response to this command, control processor  generates a digital power control signal that is provided to the transmit power amplifier . Transmit power control  also provides the digitized and encoded user information signals in an IF format to output to the transmit power amplifier . The transmit power amplifier  converts the IF format signals into an RF frequency by mixing this signal with a frequency synthesizer (not shown) output signal for providing a corresponding signal at the proper output transmission frequency signal. Subsequently, transmit power amplifier  amplifies the signal to the final power output level. The transmission signal is then output from the transmit power amplifier  to the diplexer . The diplexer  then couples the transmission signal to antenna  for air interface transmission to the infrastructure base stations .","Additionally, note that control processor  is also responsive to various control and information request messages from the controlling BS , including for example, sync channel messages, the system parameters messages, in-traffic system parameters messages, paging\/alert messages, registration messages, status requests, power control parameters messages and hand-off direction messages, as one skilled in the art will understand.","Referring still to a CDMA mobile station , in one embodiment of the present disclosure, the above-described standard CDMA mobile station architecture in an mobile station  is sufficient. However, in a second embodiment, this architecture may be modified in minor, cost effective ways so that additional information may be transmitted from an mobile station  to the BS . The modifications for this second embodiment will now be described. The following modifications, either together or in any combination, provide improvements in location accuracy from the perspective of capturing RF measurement data: (1) increasing measurement quantity, (2) improving measurement transmission, (3) extending the pilot set and search, (4) extending the pilot signal reporting capabilities, (5) decreasing the Quantization size of the units used to report the pilot PN phase arrival time, (6) improving the accuracy of the mobile and base station time reference, and (7) increasing the number of data receivers and related circuitry, for correlation tracking of a larger plurality of pilot channels and each of their multipath signals.","Using the standard system parameters overhead message in the paging channel as one method of reporting to the base station the signal strengths and delays of detectable pilot channels, a mobile station has various timers indicating the upper bounds of time needed to respond to a request, and to bid for access to the forward channel (if not already using it's assigned traffic channel). These timers restrict the frequency of measurement reporting and thus limit the aggregate amount of measurement data which can be sent in a given time period.","For example, CDMA standard timer Testablishes the maximum time of a mobile station to enter the update overhead information substate of the system access state to respond to messages received while in the mobile station idle state, typically 0.3 seconds. Timer T, the maximum time for the mobile station to respond to one service option request, is typically 0.2 seconds. Thus during a period of about five seconds, this measurement reporting method would provide for a maximum of about fifteen measurements.","However the same CDMA receiver design infrastructure, with slight circuitry modification can be used to support improved measurement transmission.","In order to collect a data ensemble of RF measurements that represents a statistically significant representation of data values in a geographical area of interest, it is the intention that the second (CDMA) mobile station  embodiment be capable of sending to the network base station infrastructure approximately 128 samples of each multipath peak signal strength and its relative delay, for each detectable pilot channel, in less than a preferred period of about five seconds. In order to transmit this amount of data, other means are needed to efficiently send the needed data to the network (i.e., from the mobile station to the base station, and then to forward data to the wireless switch, and then to forward data to the Location Center).","The CDMA air interface standard provides several means for transmitting data at higher rates. The Data Burst message can be used, or various blank-and-burst, dim-and-burst multiplex options can be used, and well as selecting various service options 2 through 9, through the setup of a normal voice or data telephone call. In one embodiment, the user dials a speed number representing a data-type call to the Location Center , which initiates a command to the mobile station , responsive by the mobile station , which then provides the location center , via the base station , mobile switch center  with the needed measurement data.","Referring to , in one embodiment a software controllable data connection or path  is established between the control processor , and the user digital baseband  functional components in the mobile station, a much larger quantity of RF measurements, on the order of 128 data samples, can be transmitted as a data burst, multiplexed, or sent by other means such as a data circuit call, back to the network, and to the Location Center. Note that the existing connection between the control processor  and the transmit modulator  may also be used, as well via any other virtual path, such as software register-to-register move instructions, as long as sufficient signal measurement content and data samples can be sent to the wireless network and the location center  via the associated interfaces. Those skilled in the art will understand the wireless network consists of the base station, mobile switch center, and related infrastructure equipment, interfaces and facilities circuits to telemeter the measurement content and data samples to the location center . Additional design issues include, for example, the fact that existing memory in the mobile station must be allocated to the temporary storage of RF sample measurements, and new control means, such as selecting a future use control bit pattern in the CDMA air standard, are required to telemeter, preferably upon command, RF measurement sample data to the Location Center  in . In the case where a location request is received by the location engine  in the location center , the location engine  initiates a message to the mobile station  via a signal processing subsystem and the location center mobile switch center physical interface, the location applications programming interface  (e.g., , L-API-MSC) for the mobile switch center  and the wireless network infrastructure.","The addition of a controllable data connection or path  can be easily performed by CDMA application-specific integrated circuit (ASIC) manufacturers. In the case of one ASIC manufacturer known to the authors, the Qualcomm ASIC chip mobile station modem, model number MSM , provides both the control processor function  and the user digital baseband  functions or the same chip, thus the external pinout physical configuration would not have to change to accommodate the wireless location software controllable data connection or path  modification.","If the mobile station  searcher receiver detects  pilots with 4 multipaths each, with each measurement consisting of a pilot index, finger identification, multipath signal strength, and multipath arrival time, then about 480 bytes are needed per measurement. Assuming the searcher receiver performs one measurement every 10 microSeconds, about 1 second is needed to compile and buffer each sample of 128 measurements per sample, or about 48 kilobytes. Using a typical 9600 kbps CDMA data channel between the mobile station  and a BS , and assuming a 50 percent overhead, the mobile station can complete the collection and transmission of a location measurement sample in less than ten seconds, which is within a reasonable period for satisfying a location request.","Network Data Services","The implementation of the data services required to telemeter the necessary signal measurements may be performed in any of several embodiments. In one embodiment the location signal measurements request-response application message set utilizes the air interface services provided by the spare bits and digital control words not currently in the air interface standards IS-95 and ANSI-J-STD-008. Such bits and control words can be reserved for the purpose of requesting and providing the required location signal measurements discussed herein. Using this embodiment the base station and mobile switch center must be modified to support the interworking function required between the location center and the mobile station. In a second embodiment the location signal measurements request-response application message set is implemented using service options 4 and 12, which provides asynchronous data transmission capability, as defined in 45 , document number TIA\/EIA\/IS-DATA.4. Using this second embodiment, the mobile station control processor provides, or would interface with a function emulating mobile termination 0 or 2 services at the R, network reference point. The L-API  then provides, or would interface with a function emulating the physical interface connecting a data circuit-terminating equipment (DCE) to the PSTN at the W network reference point, in communication with the PSTN, which is also in communication with reference point Ai, which is in communication with reference point U, which is in turn in communication with reference point R. An advantage of this embodiment is that no ASIC or circuit board modifications are needed in the mobile station.","The ANSI standards J-008 and IS-95 provide several means for the base station  to establish and to extend the search window size that the mobile station  should use in its scanning process, and to identify further pilots. For location purposes, either existing standard parameters can be extended, or a location message request from the Base station can inform the searcher receiver of the mobile station to extend its search range, as necessary, to capture all relevant base station pilots and their multipath fingers, in order to complete the location measurement sample.","The search performance criteria defined in ANSI IS-98, Recommended Minimum Performance Standards for Dual Mode, can be increased as appropriate to accommodate a larger set of potentially detectable base stations, including Location Base stations and Mobile Base stations. Additionally the search window table size for various search window values must be increased to accommodate new pilot channel pn-offsets associated with Location Base Stations and Mobile Base stations.","Existing standard parameters include, for example using the In-traffic System Parameters Message, the values SRCH_WIN_A (for active and candidate set), SRCH_WIN_N (for neighboring set), and SRCH_SIN_R (for remaining set) can be used to cause the searcher receiver to increase its search area to detect and thus measure as many pilots as can be detected in the area. Extending the range of T_ADD and T_DROP parameters can also be used to facilitate the mobile to retain data on additional pilots in the area. The extended neighbor list message is used to inform the mobile station of the necessary characteristics of neighboring pilot signals. For example if location base stations are used on a different frequency assignment, and\/or utilize unique, non-public pilot PN sequence offset indices, for example, in using increments other than 64 PN chips, then the extended neighbor list message can be used to instruct the mobile station to scan for those types of base stations, accordingly.","There can be several combinations of delay spread signal strength measurements made available to the location center, from the mobile station . In some cases the mobile station  may detect up to three to four pilot channels (representing 3-4 base stations), or as few as one signal from one pilot channel.","For each pilot channel detection case, multiple, up to three to four fingers, or multipath signals may be detected per pilot channel.","Note that multiple multipath signals, or multiple \u201cfingers\u201d could exist from a less-strong BS pilot signal, or in any of several combinations, which can depend widely upon the mobile station's location within the base station environment.","By modifying the CDMA Base station, mobile station and controller capabilities to provide the location center  with data that exceeds the 1:1 fingers to data receiver correspondence, additional information can be collected and processed in order to further improve the accuracy of the location estimate. A control message from the location center  and carried through the network, is sent to the control processor in the mobile station, requiring the searcher receiver in the mobile station to transmit to the location center  via the network, all detectable delay spread fingers related to each detectable pilot channel.","In one embodiment the control message is implemented in the CDMA receiver via a multiplexing technique, including appropriate manipulation of the hand-off parameters T_ADDs, T_DROPs, search window and the active, neighbor and remaining pilot sets held within the mobile station\u2019 memory.","Although the CDMA ANSI J-STD 008 requires reporting of the pilot channel arrival time in a time period of units of one chip size, or 813.802 nanoseconds, typical CDMA receivers contain an internal Quantization interval of one eighth chip size.","Within the mobile station, by modifying the time of arrival message response message to output the delay value in unit increments of one-eighth chip size, the precision of location accuracy can be increased from about 800 feet in radius to about 110 feet. At the base station the arrival time measurement is forwarded in one-eighth units to the Location Center. A multiplier function applied to the received measurement at the base station rescales the measurement for routine CDMA control and monitoring purposes, in order to be consistent with the CDMA standard. In order to distinguish among several mobile station models which report arrival time in either one-eighth chip units or one chip unit sizes, an encoding can be used in the mobile station's hardware or software identifications, telemetered to the base station and Location Center, in order to determine the arrival time measurement units. In one embodiment the analog receiver in the mobile station utilizes a clock signal which runs eight times faster than the clock originally disclosed in the Gilhousen patent, U.S. Pat. No. 5,109,390. In this manner the digital signal provided to the data receivers and the searcher receiver will include an improved resolution in ability to detect delay spread signals, which are directly used to improve wireless location.","Although the CDMA air interface standard only requires a 1,000 nanosecond tolerance accuracy within respect to the base station, location accuracy can be improved if manufacturing calibration precision's are held to within tighter tolerances, such as less than 250 nanoseconds. However in any given location request, as long as the base station to base station tolerances are tuned properly to an amount less than 500 nanoseconds, then very good location estimates can be performed due to the self canceling time effect geometries typically present in multi pilot channel detection found in urban and suburban areas.","Increasing the typical number of data receivers in either the mobile station or base station provide added capabilities to lock and track more delay spread fingers and respective base station pilot channels. The resulting additional information, if available in a given radio coverage area  in , can be used for enhanced location estimate accuracy due to confluence or voting methods which can be deployed at the Location system .","Fuzzy Logic for Vertical Location","In certain cases wireless location signals are received representing distributed antennas (or other base stations) across building floor boundaries being received from a specific floor on a multi-storied building. As a specific example, consider signals are being received from both the 40th and the 41floor; the objective is to resolve the ambiguity of the situation. Fuzzy logic is used to resolve this ambiguity. The determination as to which floor the user of the mobile station is on is based on the strength of the signal, S, and the past reliability of the information associated with the two antennae, R. The spaces of S and R are discretized using fuzzy sets. The strength is defined as being: (1) VERY STRONG (VS), (2) STRONG (S), (3) WEAK (W), and (4) VERY WEAK (VW) as defined by membership functions. The reliability of information is defined as being: (1) VERY RELIABLE (VR), (2) RELIABLE (R), and (3) NOT RELIABLE (NR), again as defined by membership functions. A fuzzy relation or mapping is described which descretizes how confident it is that the signal is coming for a given floor, e.g., the 40th floor, using the following notation:",{"@attributes":{"id":"p-0225","num":"0368"},"tables":{"@attributes":{"id":"TABLE-US-00002","num":"00002"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"center"}}],"thead":{"row":[{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]},{"entry":[{},"VS","S","W","VW"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"4","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"6"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"56pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"28pt","align":"char","char":"."}},{"@attributes":{"colname":"5","colwidth":"56pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"VR","1.0","0.85","0.45","0.2"]},{"entry":[{},"R","0.85","0.6","0.4","0.1"]},{"entry":[{},"NR","0.6","0.4","0.3","0.0"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"5","align":"center","rowsep":"1"}}]}]}}]}}},"The above relation matrix is read, for example, that when the signal information is RELIABLE and the strength is WEAK, then the confidence that the signal is coming from the 40th floor is 0.4. A similar fuzzy relation matrix is established for the distributed antenna on the 41st floor, and thus the result would be a confidence factor associated with the mobile station being located on either floor. A single solution, that is, whether the mobile station is on the 40th or 41st floor is determined using a compositional rule of inference. The compositional rule of inference is a function that prescribes a mechanism for consolidating membership function values into a single crisp function. This function can take a variety of forms including max-min composition, max-product composition. etc. The compositional rule of inference can be implemented, for example, by a summing junction which collects the results of each firing rule. The summing junction's output is then provided to a centroidal defuzzier which provides the discretized output.",{"@attributes":{"id":"p-0227","num":"0370"},"figref":"FIG. 43","b":["41","8"]},"Note that the confidence associated with the location of the mobile station can be considered a function of several variables, not just the two (S and R) described above. For instance, it would not be unreasonable to segregate the reliability information by time signal delay as determined within the present disclosure. The fuzzy relation is capable of handling a variety of such situations. Thus which floor the mobile station is on can be considered to be a function of numerous variables; the ultimate decision can be made based on a great deal of information.","Location Center\u2014Network Elements Api Description","A location application programming interface  (), or L-API, is required between the location system's  signal processor  and the mobile switch center  network element type, in order to send and receive various control, signals and data messages for wireless location purposes. The L-API  is implemented using a preferably high-capacity physical layer communications interface, such as IEEE standard 802.3 (10 baseT Ethernet), although other physical layer interfaces could be used, such as fiber optic ATM, frame relay, etc. Two forms of API implementation are possible. In the first case the control signals and data messages are realized using the mobile switch center  vendor's native operations messages inherent in the product offering, without any special modifications. In the second case the L-API  includes a full suite of commands and messaging content specifically optimized for wireless location purposes, which may require some, although minor development on the part of the mobile switch center vendor. A minimum set of L-API message types includes:","A first message type, an autonomous notification message from the mobile switch center  to the location system , is required in the event a wireless enhanced 9-1-1 call has been sent to the mobile switch center from a mobile station , including the mobile identification number (MIN), along with various CMRS identification and mobile station detected active, candidate, neighbor and remaining pilot set information, pilot strength measurements message.","A second message type, forward path request-response message, from location system  to mobile switch center , is required to request a mobile station (MS) for signal measurements and hand-off information, with a response message back from the mobile switch center  to the location system , along with various CMRS identification.","A third message type, Reverse path request-response message, from location system  to mobile switch center , to a BS for signal measurements received at the BS and hand-off information, for a given mobile station MIN, along with various CMRS identification. It is preferable for the received signal strength measurements performed at the mobile station along the forward path, and at the base station along the reverse path, to be reported in a variable-length data structure as follows: for each pilot channel offset, include the phase of the earliest arriving usable multipath component pilot PN sequence relative to the zero offset pilot PN sequence of this pilot, termed pilot PN phase or pilot arrival, in units of one-eighth PN chip, instead of units of one PN chip as stated in the standards. Furthermore, in accordance with the standards, the pilot strength shall be included, measured based on at most k usable components, where k is the number of demodulating elements supported by the receiver system. In addition the total number of each detectable multipath components shall be reported. In addition each multipath component, for a given pilot, shall be identified by both its delay component and signal strength, for inclusion in the signal measurements to the location system . Regarding each individual multipath component, signal strength is expressed as is commonly known, by adding the ratios of received pilot-multipath component energy per chip, E, to total received spectral density (noise and signals), iof at most that one multipath component (i.e., k is equal to one).","A fourth message type, an autonomous notification message from the mobile switch center  to the location system  is required, in the event of a mobile station hand-off state change, along with various CMRS identification.","In order to implement additional location functions such as wide area location, wherein location is determined across roaming boundaries, out-of-coverage area conditions or mobile station  turned off, and home base station applications, the L-API  must include access to and receive data from a data store contained in the home location register (HLR) network element type (e.g., HLR , ) associated with the mobile switch center .","A fifth message type is required which provides the location system  with the mobile station MIN, hand-off, along with various CMRS identification information (e.g., old and new state changes, old and new BS identifications, and hand-offs to another CMRS), roaming location and status changes. A typical communications protocol such as Signaling System number 7, running on a V.35 communications channel could be used for implementation, but numerous other protocols (e.g., TCIP\/IP, ROSE, CMISE, etc.) could be used to implement this capability. If the home location register is local to the mobile switch center  then the LC-mobile switch center communications link could be used, otherwise a separate communications link is used between the location system  and the home location register.","A sixth message type, an autonomous notification message type issued from the location system  to the home location register, is required for those location applications that rely on an alert from the home location register whenever a particular mobile station state change occurs, along with various CMRS identification. Consider the case wherein a mobile station  whose location is to be tracked constantly. In such cases a history of locations is maintained in the location system . Should the mobile station  user turn off the power, or exit from the coverage area, then by using previous location values a vector and approximate velocity can be determined. This sixth message type provides a notification message from the home location register to the location system  whenever a previously identified mobile station MIN has a state change. Examples of state changes include cases where the base station  discovers the mobile station  has traveled to another base station, or that the current primary base station  can no longer communicate with the mobile station  (i.e., no power), or that a new registration has occurred. In general this message type should support the notification from the home location register to the location system  of all messaging and data associated with the nine types of registration, in the case of CDMA. Specifically these include power-up, power-down, timer-based, distance-based, zone-based, parameter-change, ordered, implicit and traffic channel registration. The location system  should also be informed of the registration enablement status of each type of registration, which can be provided to the location system  via a redirection of the systems parameters message. It should also be possible (in a seventh message type) for the location system  to initiate an ordered registration through an order message, from the location system  to the mobile switch center . The mobile switch center  then shall route the message to the appropriate base station, and then to the mobile station. The location system  should also be able to receive the results of the message.","In order to implement additional location functions such as providing users with location information and routing instructions to certain locations via the wireless short message text paging service, an L-API  is required between the location system  and the network element type used to implement the short message service. Such network elements may be termed an intelligent peripheral or a service node. A number of existing paging interfaces have been proposed in standards bodies, and one or more modifications can be made to accommodate L-API  content. In any case, the following L-API addition is required: an eighth message type which allows the location system  to send a text message containing location information or instructions to a particular mobile station MIN, and a related message to verify response. Optionally in another, ninth message type, an autonomous message may be provided to alert the location system  under conditions wherein a state change occurs on a previously pending text message. This last message type provides improved quality feedback to the initiating party regarding the acceptance situation of the attempted-to-send page.","Utilizing Multiple CMRS Infrastructure in a Shared Coverage Area","As a consequence in practical deployment situations that base stations are not placed in a uniform manner in a geographical area, and the fact that variable and fixed clutter introduce a variety of signal measurements which can result in the provision of an ambiguous location estimation, a novel aspect of this patent includes the utilization of the inherent ability of the wireless protocol and receiver design to request and receive signal measurements along the forward and reverse air interface communications path with a given mobile station and other commercial mobile radio service providers, in cases where multiple service providers share a common coverage area. Thus in a coverage area shared by two service providers A and B, utilization of received signal measurements from both service provider A and service provider B can be used by the location center as unique, orthogonal information to both resolve ambiguous location estimates and to further improve the location estimate accuracy.","The CDMA air interface, for example, provides a soft hand-off capability for the mobile station to hand-off a voice communication channel to another base station, and even to another CMRS provider, termed a hard hand-off.","Referring to , assume three sectored base stations , , and , in communication with mobile switch center-A , are owned and operated by CMRS provider A. Further, assume three sectored base stations and , in communication with mobile switch center-B , are owned and operated by CMRS provider B, and that the coverage area with CMRS-A and CMRS-B substantially overlap. In order to locate a mobile station  whose subscriber normally does business with CMRS provider A, assume that the receiver of mobile station  can detect signals from base stations , , and , as well as from base stations and , although normal mode use would preclude such measurements from being initiated. Assume further that the resulting location estimate  (), generated from the location center  contains either an ambiguous location estimate value pair, or otherwise cannot render a location estimate with the desired range of accuracy.","From an inspection of the overall base station geometry of base stations owned by CMRS A and CMRS B it is evident that a strong possibility exists that either 1.) the receivers in mobile station  have the possibility to detect the pilot channels associated with base stations and 2.) the receivers in base stations and have the possibility to detect the transmitter signal from mobile station . The location system  contains a data store of both CMRS provider's base station geometries and is in communication with each mobile switch center\u2014A and mobile switch center\u2014B . An application in the location system  sends a control message to the mobile station , instructing the mobile station to tune its searcher receiver to listen for and report back signal measurement data regarding the pilot channel information associated with base stations and , in addition to a request to report of pilot signals relative to base stations , , and . Similarly the application in the location system  sends messages to each of base stations and , with instructions to take signal measurements and report back the resulting information regarding the mobile stations transmitter . Since the signaling information from base stations and are based on a substantially different location geometry, the resultant information is orthogonal and thus can be used by the location center to provide enhanced location estimates.","If appropriate, a variation of the above process includes a location center initiated forced hard hand-off of the mobile station from a primary base station, e.g., associated with CMRS-A, to a new primary base station associated with CMRS-B, e.g., . A forced hand-off will further provide improvements in reducing systemic timing errors which may be inherent among base stations owned by different CMRS. After the appropriate signal measurements have been reported the location system  can revert the hand-off back to the original CMRS. Other location system components shown in  include the L-API  which includes the location applications programming interface  (L-API-MSC) as a communications interface with multiple CMRS mobile switching centers, via physical interfaces and ","In order to provide the most economically efficient and accurate wireless location service capabilities among multiple CMRS providers in a shared coverage area, a common location applications programming interface (L-API ) is highly desirable. A common interface also supports the natural competitive behaviors among wireless consumers and CMRS by providing flexible relationships among consumers who may want to switch service providers, yet retain consistent wireless location services for public safety. This approach minimizes the L-API design and deployment costs among infrastructure vendors and location service providers in a shared coverage area. Based on a L-API between a wireless location center and the mobile switch centers of multiple CMRS, a novel aspect of the present disclosure further includes a method and process that provides account management clearing house and revenue settlement capability with appropriate security management controls. This capability is implemented as wireless location control, accounting and security mediation agent functions to compensate CMRS providers for providing various location-specific network services as described herein.","As wireless location requests are sent to the location center for a given CMRS, operated by a wireless location service provider (WLSP), the location center: 1.) assesses the appropriateness of soliciting additional signal and control measurements from another CMRS' base station in the same coverage area, in order to improve the quality of the location estimate, 2.) accesses, requests and receives signal and control information with another CMRS base station infrastructure, 3.) provides as appropriate a record of compensation entitlement between or among multiple CRMS and WLSPs, and 4.) provides security management controls that protect the privacy needs of wireless customers and the unauthorized sharing of information between or among CMRS. Security controls also include audit trails and controls regarding customer access of their location subscriber profile and the administration of network security processes and related base station parameters and inventory.","Referring to , Location Center-base station access, multiple CMRS, an alternative embodiment is provided to extract the wireless location signal measurement data from each base station associated with each of multiple CMRS. Given base station and are operated by CMRS-A and base station and are operated by CMRS-B, a communication circuit provides connectivity with the location application programming interface\u2014base station (L-API-BS) (not shown). The L-API-BS is in communication with the L-API  in the location center . The communications circuit can be any of several conventional transport facilities, such as a private line circuit, a DS-1 or T-1 carrier circuit, frame relay circuit, microwave circuit, or other data communications circuit.","The advantage of this embodiment is that no modifications are required by the infrastructure vendor in terms of the embedded operations circuit, and related functions and systems which otherwise would be needed to telemeter wireless location signal measurement data from the base station to the location center . The termination equipment (not shown) in communication with the transport facilities, within each base station typically includes a small computer with an in-circuit connection, such as an ASIC clip-on device, with connections to the control processor circuitry with the base station in the receiver section. The small computer provides a conversion of the signals provided on the in-circuit connection to the ASIC chip, for serialization and transmission to the location center via the transport facilities.","Home Base Station Description","The Home Base station (HBS) concept in the PCS wireless network environment allows a users mobile station to be also used as a low cost cordless phone, whenever the mobile station is physically near (generally within 700-1,000 feet) of a Home Base station Device (HBSD). This enables the user to avoid the typically higher cost air time charges associated with traditional wireless service.","The HBSD is similar to ordinary cordless phone transceiver devices in current use today, but is modified to function with a PCS wireless mobile station. Although the HBSD has been typically used at a residential consumers home, the HBSD could also be used in business settings and other environments.","When a mobile station (MS) is near the HBSD as shown in , and the HBSD detects the presence of a mobile station over the cordless phone air interface, the HBSD signals the Home Location Register (HLR) software in the Service Control Point in the AIN network associated with the mobile station and mobile station's home mobile switch center. The home location register redirects mobile station terminating calls from the network away form the mobile station's mobile identification number in the mobile switch center, and to the AIN\/SSP wireline class V switch which connects the wireline number associated with the HBSD. Similarly the HBSD, upon detecting a mobile station call origination attempt, redirects the mobile station signal from a PCS network fixed base station, to the control of the HBSD. The HBSD redirects the mobile station originating call through the wireline network, similar to any other wireline network call.","A reverse scenario occurs whenever the mobile station and HBSD lose communication: the mobile station registers in a wireless PCS network fixed base station, causing redirection of calls to the wireless network. The cordless phone air interface may be of a vendor proprietary design, or it may be a similar design as the CDMA air interface.","In order to perform a location estimate in the HBS concept, a connection is used between the Location Center (LC) and the home location register\/HBS application in the SCP. In addition, a new process, termed a Location Notification Process (LNP) within the home location register\/SCP is used to send a message to the LC, autonomously whenever a state change occurs in the mobile station\u2019 (either via a specific list of mobile identification numbers or all mobile identification numbers) registration: registering either to a fixed Base station in the Wireless PCS network or to a HBSD.","Alternatively the process may respond to an on-demand message from the LC to the LNP within the home location register\/HBS application. In either case a response message from the LNP to the LC provides the information regarding whether or not a mobile station is within range of its, or a designated HBSD. In either case the response message contains a message header information which provides the signal processing subsystem  (equivalently this may be known by signal filtering subsystem) with the ability to determine and distribute the information to the HBS First Order Location Estimate Model.","Location Using Distributed Antennas Description","CDMA distributed antennas are useful particularly in system configurations involving microcells, and potentially indoor environments, such as CDMA PBX (private branch exchange) systems in business offices, and in wireless local loop applications. From a mobile station location perspective, the distributed antenna configuration can provide significant improvements in location error, as compared with an indoor mobile station user with a wireless connection to an outdoor, macrocell Base station. Wireless location can be achieved provided certain methods and procedures (M&Ps) are followed during the installation process. Data related to these M&Ps is then used by various location processes discussed elsewhere in the present disclosure.","First, a general description of CDMA distributed antennas is presented, followed by the M&Ps necessary to support wireless location.","In the CDMA distributed antenna concept, a set of simple antennas, placed apart in a given area, similarly to any other cell placement arrangement for coverage objectives, are fed by a common radio signal. Antennas are usually placed such that their coverage patterns are substantially or completely overlapped in area of coverage. From a wireless location perspective, completely overlapping coverage is preferred (this approach also improves perceived signal quality by the end users).","The importance of understanding and characterizing the aggregate system delay elements is shown in : Distributed Antenna Delay Characterization. For any given Pilot Channel offset \u201cI\u201d, additional delay is introduced by the microwave propagation channel (Point A) and any internal repeater\/amplifier equipment (Point B). Each of four delay elements tthrough tintroduce further delay. A mobile station detecting all four DA antennas' delayed signals would determine various sets of cumulative system propagation delays. Since each delay is essentially fixed in a location, such information can be used to determine the mobile station location within the building.  illustrates the effective system timing among the delay elements , relative to the GPA system time , along each point in the diagram shown in .",{"@attributes":{"id":"p-0257","num":"0400"},"figref":"FIG. 9"},"The CDMA Base station transmitter common output signal is fed through a distribution coaxial cable system, optical fibers or other means, to a string of two or more antennas. Each antenna is connected to the distribution cable via a transmission line tap or delay element, which may or may not provide further broadband gain. The transmission system normally consists of two media channels, one for transmit and one for receive signals.  illustrates an Alternative DA Configuration, using multi-point microwave antennas connected to individual delay elements and their respective radiating antennas.",{"@attributes":{"id":"p-0259","num":"0402"},"figref":"FIG. 11"},"The main concept is to introduce purposeful delay and multipath signals with sufficient delay spread for signal discrimination. Each antenna radiates a signal which is substantially delayed with respect to any other antenna in the area. If two or more paths are available for the mobile station receivers with greater than one eighth microsecond differential path delay (or whatever resolution is available in the CDMA mobile station receivers), then two or more PN receivers in the same mobile station can be employed to separately receive and combine these signals and thus achieve processing gains through path diversity. Antennas may be omni-directional or directional.","Delay elements may be simple delay lines such as lengths of coaxial cabling, or other active or passive delay elements, such that the combination of components provides the needed delay. The transmission line between the CDMA Base station\/PBX and the distributed antennas may be via a pair of dedicated, beam-focused high gain antennas, and\/or a repeater system. Provided sufficient delay exists between the multipath signals from separate distributed antennas exists, each Data Receiver within the mobile station tracks the timing of the received signal it is receiving. This is accomplished by the technique of correlating the received signal by a slightly earlier reference PN and correlating the received signal with a slightly late local reference PN. Further distributed antenna details can be seen from Gilhousen, et al, U.S. Pat. No. 5,280,472, assigned to Qualcomm, Inc.","The total measured delay of both forward and reverse link signals between the BS and the mobile station are thus determined naturally by the CDMA radio receiver designs as a part of the multipath tracking process, and can be made available to a location entity for performing location estimates of the mobile station.","However, the measurements of delay between a particular distributed antenna and the mobile station will include the aggregate delay components of several mechanisms, beyond the BS pilot PN offset delay. In the case of distributed antenna configurations, the simple TOA or TDOA model which is based solely of the speed of light, must now be adjusted to account for the purposefully introduced delay.","The mobile station measures the arrival time T, for each pilot l reported to the BS. The pilot arrival time is the time of occurrence, as measured at the mobile station antenna connection, of the earliest arriving usable multipath of the pilot. The arrival time is measured relative to the mobile station\u2019 time reference in units of PN chips. The mobile station computes the reported pilot PN phase f, as:\n\n=(+64\u00d7PILOT)mod 2,\n","where PILOT_PN is the PN sequence offset of the pilot.","Reference , which illustrates a typical distributed antenna configuration consisting of a repeater\/amplifier and four distributed antennas. The total system delay, Tis:\n\n\n","During the installation phase of the high gain antenna (if required), repeater (if required) and the distributed antennas, if the system delay is measured at each distributed antenna and the values stored in a location database, including each antenna identification, and exact physical location (in three dimensions), then during a location request, all fixed delays will be known, thus the TP value can be determined by subtracting the fixed, known delay values from Ti, the measured time of arrival. The TP value can now be used to determine a TOA and or a TDOA value in a manner similar to the non-distributed antenna case, thus location can be determined based on these TOA\/TDOA ranging values.","The required installation methods and procedures required to support wireless location are illustrated in : Methods and Procedures for DA Installation. By following these methods, the Location Center (LC) will contain a database populated with the necessary data values to perform accurate location estimates within the building containing the distributed antennas. Table B illustrates typically data element types and values required in the DA location estimate model database. Table DA-11 below illustrates how a simple TOA location estimate model can be used to determine wireless location in a DA environment. Based on the known geometry and coverage areas of each DA cell, and the percentage of maximum radius, determined by the above classification, it is possible to construct radius-radius circles of the DA cells. The intersection of the three circles (in this case) provides the location estimate.",{"@attributes":{"id":"p-0269","num":"0412"},"tables":{"@attributes":{"id":"TABLE-US-00003","num":"00003"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":[{"entry":"TABLE DA-11"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"DA Cell Classification and Radius Percentage"},{"entry":{"chemistry":{"@attributes":{"id":"CHEM-US-00001","num":"00001"},"img":{"@attributes":{"id":"EMI-C00001","he":"25.57mm","wi":"75.27mm","file":"US08994591-20150331-C00001.TIF","alt":"embedded image","img-content":"table","img-format":"tif"}}}}},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"In order for the TOA and TDOA location calculations to be determined, it is a necessary condition that during distributed antenna installation, the minimum values of the Delay Elements be set to each exceed the maximum practical (i.e., within the coverage area) TP values be at least 1\/2 of a PN chip duration (about 500 nanoseconds), to easily allow for the CDMA Data Receivers to be able to correlate between the delay element values and the TP delay values. : DA Delay Spread Ranges, illustrates typical maximum ranging variable delay values (e.g., up to 1,960 feet) if 500 nanosecond guard zones (t) are used. If larger ranging values are required, then guard zone delays must be increased proportionally.",{"@attributes":{"id":"p-0271","num":"0414"},"figref":"FIG. 13","sub":["2","3","4"]},"It should also be noted that a maximum upper bound exists for the maximum amount of cumulative system propagation delay which can be tolerated by the CDMA mobile station. The total delay cannot exceed an amount that would interfere with the next pilot PN offset, or substantially delay the scanning time of the search receiver in the mobile station. In any case, 30 to 40 microseconds of total delay is acceptable, and would allow for a relatively large number of distributed antenna components to be included, thus no unusual impacts are required of the system to accommodate location methods.","By purposefully introducing a relatively large amount of delay in the distributed antenna delay elements, relative to the maximum permissible TP delay values, it is possible to utilize the large Delay Element values to uniquely identify the distributed antenna ID, and thus via the distributed antenna database, to determine the antennas' exact location. Knowing the antenna's location and TP value (last stage of propagation delay), TOA and TDOA ranging can be achieved, and thus mobile station location within a distributed antenna configuration, can be determined.",{"@attributes":{"id":"p-0274","num":"0417"},"figref":"FIG. 14"},"Assume that the mobile station detects and telemeters three CDMA finger RF measurements, as shown in the table A below, New Message Type Data Structure Content.",{"@attributes":{"id":"p-0276","num":"0419"},"tables":{"@attributes":{"id":"TABLE-US-00004","num":"00004"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE A"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"New Message Type Data Structure Content."}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"133pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"Signal Strength","Delay Time of Arrival"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"\u221277 dBm","1.68 microseconds"]},{"entry":[{},"\u221266","3.98"]},{"entry":[{},"\u221295","9.16"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}]}}},"Note that the measurements may be averaged over a sample space of 128 individual measurements. Referring now back to , it can be seen that the first finger is associated with the DA cell-1, range 0 to 1.96 microseconds, and DA cell-2, range 2.46 microseconds to 4.42 microseconds (uS), and DA cell-4, range 7.38 to 9.34 microseconds. Since the DA cell antennas are fixed, with known locations, correlation's can be derived and established to relate actual measurements with locations. Any one of several location estimating models may be used, using the radius-radius method, or multiple invocations of different modules may alternatively be used to form a location estimate of the mobile station within the DA environment.","It is now possible to classify the above actual measurements as propagation delayed signals for the DA cells 1, 2, and 4, since each DA cell delay range is known, and sufficient guard zones exist between delay spread ranges to unambiguously classify the measurements, and thus to determine mobile station location. The following table illustrates a typical database containing the classification columns for each DA cell and their corresponding location in an x,y plane.",{"@attributes":{"id":"p-0279","num":"0422"},"tables":{"@attributes":{"id":"TABLE-US-00005","num":"00005"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE B"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"New Message Type Data Structure Content for"},{"entry":"Exemplary DA Location Database Records"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"56pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["DA Cell","Location (X, Y)","DA Cell","Low Range","High Range"]},{"entry":["ID","in feet)","Radius","(microseconds)","(In microseconds)"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"49pt","align":"char","char":"."}},{"@attributes":{"colname":"5","colwidth":"56pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","(0, 0)","1.96","0","1.96"]},{"entry":["2","\u2002(\u221220, 3000)","1.96","2.46","4.42"]},{"entry":["3","(4000, 2800)","1.96","4.92","6.88"]},{"entry":["4","(1600, 2800)","1.96","7.38","9.34"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}]}}},"Translating the actual delay measurements into a percentage of the maximum radius of each cell (i.e., cell 1 radius actual is 88%, cell 2 radius actual is 78%, and cell radius 4 actual is 91%) provides wireless location using familiar radius-radius calculations.","Depending upon the combinations of embodiments, the Location Center and Gateway may contain from one to three interfaces into the digital PCS network, shown as interfaces X, Y, and Z, in , Location and CTIA\/TR45 Network Reference Model. Network interface reference points Um, A, Ai, B, C, D and H are part of the Cellular Telecommunications Industry of America (CTIA)\/Technical Reference 45 standards, and are not discussed further.","Network interface reference point X provides a direct connection to the mobile switch center, used for transferring RF measurement signals from the mobile station and BS to the LC and for transferring location control between the LS and mobile station, and between the LC and BS. This interface can be implemented via any number of data communications circuit configurations and protocols in current use, such as a T-carrier data circuit, with DSU\/CSUs at each end, using an intranet\/internet protocol suite, such as TCP\/IP, RPC messaging, or other middleware solutions, such as Pipes, IBM MQ series, world wide web protocols, such as JAVA\/VRML scripts, hypertext markup language (HTML) links, and may also include various firewall schemes and data encryption mechanisms, etc., in order to communicate asynchronous messaging among the endpoints, and in particular, in reference to the final distribution of the location information to the desired end user.","Network interface reference point Y is used in the embodiment wherein a public switched telephone network interface is required or desired. This interface is a straightforward method to support location applications wherein, for example, a mobile station user dials a telephone number in order to initiate a location request, and could also be used to telemeter RF measurement and location control messages between the LC and the mobile station\/BS. Alternatively a timer-initiated process internal to the LC may be used to start a location request, or via any number of events external to the network. Point Y also has the advantage of not requiring a direct connection to a commercial radio mobile service providers' network elements, thus affording a convenient interface for use by third party location service providers unrelated to the commercial radio mobile service provider.","National Scale Wireless Location","By utilizing specific data items used in the Home Location Register in the Advanced Intelligent Network, it is possible to determine the mobile station location on a national scale, i.e., location within the context of a state, and in which city.","Referring now to , network interface reference point Z is used in the embodiment wherein a gross location must be determined. A gross location is defined as an area associated with a particular mobile switch center coverage area. Mobile switch center coverage areas are typically bounded by a large metropolitan area, such as a city. The Home Location Register (HLR) contains gross location information. The Z interface allows the LC  to query the home location register to determine if the user is in their \u201chome area, or whether the user is roaming to another mobile switch center coverage area, such as another city. IS-41 Cellular Radio Telecommunications intersystem operations communications protocols provide mechanisms that allow a user to roam into authorized areas outside of their \u201chome\u201d area.","If the user is roaming in another area, then the LC  can use that information to initiate location control messages toward the CDMA network currently hosting the mobile station user.  illustrates how a user based in Los Angeles, Calif., for example, may roam to a CDMA system in New York City, and be \u201clocated\u201d within that metropolitan area, through a data communications network and a national Location Center Clearinghouse system.","Signal Processor Subsystem","The signal processing subsystem receives control messages and signal measurements and transmits appropriate control messages to the wireless network via the location, applications programming interface referenced earlier, for wireless location purposes. The signal processing subsystem additionally provides various signal identification, conditioning and pre-processing functions, including buffering, signal type classification, signal filtering, message control and routing functions to the location estimate modules.","There can be several combinations of Delay Spread\/Signal Strength sets of measurements made available to the signal processing subsystem  within the Location Center\/System , shown in . In some cases the mobile station  may be able to detect up to three or four Pilot Channels representing three to four Base Stations, or as few as one Pilot Channel, depending upon the environment. Similarly, possibly more than one BS  can detect a mobile station  transmitter signal, as evidenced by the provision of cell diversity or soft hand-off in the CDMA standards, and the fact that multiple CMRS' base station equipment commonly will overlap coverage areas. For each mobile station  or BS  transmitted signal detected by a receiver group at a station, multiple delayed signals, or \u201cfingers\u201d may be detected and tracked resulting from multipath radio propagation conditions, from a given transmitter.","In typical spread spectrum diversity CDMA receiver design, the \u201cfirst\u201d finger represents the most direct, or least delayed multipath signal. Second or possibly third or fourth fingers may also be detected and tracked, assuming the mobile station contains a sufficient number of data receivers. Although traditional TOA and TDOA methods would discard subsequent fingers related to the same transmitted finger, collection and use of these additional values can prove useful to reduce location ambiguity, and are thus collected by the Signal Processing subsystem in the Location Center .","For each pilot channel detection case, multiple fingers (up to three or four) may be detected and thus reported to the Location system , as shown in , for dense urban and rural settings, respectively. From the mobile receiver's perspective, a number of combinations of measurements could be made available to the Location Center. Table SP-1 illustrates the available combinations for three and four receiver cases, respectively.",{"@attributes":{"id":"p-0291","num":"0434"},"tables":{"@attributes":{"id":"TABLE-US-00006","num":"00006"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"center"}},"thead":{"row":{"entry":"TABLE SP-1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Nominal CDMA Location Measurement Combinations"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"7"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"42pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},{},"No. of","No. of","No. of","No. of"]},{"entry":[{},{},"No. of","Fingers, BS","Fingers, BS","Fingers, BS","Fingers, 4-S"]},{"entry":["No. of","No. of BSs","Fingers","1-S (first","2-S (second","3-S (third","(fourth"]},{"entry":["Receivers","detected","Detected","strongest)","strongest)","strongest)","Strongest"]},{"entry":{"@attributes":{"namest":"1","nameend":"7","align":"center","rowsep":"1"}}},{"entry":["3","1","1","1","0","0","0"]},{"entry":["3","1","2","2","0","0","0"]},{"entry":["3","1","3","3","0","0","0"]},{"entry":["3","2","2","1","1","0","0"]},{"entry":["3","2","3","2","1","0","0"]},{"entry":["3","2","3","1","2","0","0"]},{"entry":["3","3","3","1","1","1","0"]},{"entry":["4","4","4","1","1","1","1"]},{"entry":["4","3","4","1","2","1","0"]},{"entry":["4","3","4","1","2","1","0"]},{"entry":["4","3","4","2","1","1","0"]},{"entry":["4","2","4","3","1","0","0"]},{"entry":["4","2","4","2","2","0","0"]},{"entry":["4","2","4","1","3","0","0"]},{"entry":["4","1","4","4","0","0","0"]},{"entry":{"@attributes":{"namest":"1","nameend":"7","align":"center","rowsep":"1"}}}]}}]}}},"The above Table SP-1 scenario assumes that the mobile station design and data collection structure only permits a 1:1 correspondence to exist between the number of base stations detected and the number of data receivers reporting multipath CDMA fingers.","Table SP-1 illustrates the potential combinations of detected CDMA signals representing multipath fingers and total number of detectable base station pilot signals in a given location within the radio coverage area . Due to the disperse and near-random nature of CDMA radio signals and propagation characteristics, traditional TOA\/TDOA location methods have failed in the past, because the number of signals received in different locations area different. In a particularly small urban area, say less than 500 square feet, the number of RF signals and there multipath components may vary by over 100 percent.",{"@attributes":{"id":"p-0294","num":"0437"},"figref":["FIGS. 18 and 19","FIG. 18","FIG. 19","FIG. 20"]},"Now consider more practical, less ideal cases. Due to the large capital outlay costs associated with providing three or more overlapping base station coverage signals in every possible location, most practical digital PCS deployments result in fewer than three base station pilot channels being reportable in the majority of location areas, thus resulting in a larger, more amorphous location estimate.  illustrate a typical relative error space wherein a mobile station detects only two base station pilot channels, and only one pilot channel, respectively. This consequence requires a family of location estimate location modules or models, each firing whenever suitable data has been presented to a model, thus providing a location estimate to a backend subsystem which resolves ambiguities.","In one embodiment of the present disclosure uses backend hypothesis resolution, by utilizing existing knowledge concerning base station coverage area boundaries (such as via the compilation a RF coverage database\u2014either via RF coverage area simulations or field tests), the location error space is decreased. Negative logic Venn diagrams can be generated which deductively rule out certain location estimate hypotheses.","Base Station Cell site planning tools which utilize antenna gain radiation patterns, environmental clutter, such as buildings, dense forests, terrain heights, etc., can provide reasonable training data to bootstrap the initial operation of the LC.","An example of the types of data typically collected during field tests\/runs is shown in the following database table SP-2 below:",{"@attributes":{"id":"p-0299","num":"0442"},"tables":{"@attributes":{"id":"TABLE-US-00007","num":"00007"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE SP-2"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Typical CDMA Field Test Measurements"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Column",{}]},{"entry":["Position","Mobile Data Test Set: Data Type Logged"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"182pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["1","CDMA Time (absolute, from GPS)"]},{"entry":["2","Vehicle Speed (in mph)"]},{"entry":["3","Vehicle Latitude (in deg. North)"]},{"entry":["4","Vehicle Longitude (in deg. East)"]},{"entry":["5","GPS Source (binary, e.g., GPS or Dead Reckoning)"]},{"entry":["6","GPS Data available indicator (binary states)"]},{"entry":["7","First BS-Mobile Received Power (in dBm, 1 second averages)"]},{"entry":["8","Mobile transmit Gain Adjust (in dBm, 1 second average)"]},{"entry":["9","First BS Mobile Rx Pilot E\/I(dB, 1 second average)"]},{"entry":["10","First BS Mobile received Frame Counts"]},{"entry":[{},"(integers per measurement period)"]},{"entry":["11","Mobile Finger's Average Time Separation"]},{"entry":[{},"(in nano\/microseconds)"]},{"entry":["12","Mobile Fingers' Maximum Time Separation"]},{"entry":[{},"(in nano\/microseconds)"]},{"entry":["13","Mobile Fingers' Number of Pilots locked"]},{"entry":[{},"(per 1 second average)"]},{"entry":["14","Mobile finger Lock Counts"]},{"entry":["15","First BS Received Frame Counts"]},{"entry":["16","First BS Eb\/No set Point (in dB, 1 second average)"]},{"entry":["17","First BS cell Rx Eb\/No per antenna (in dB, 1 second average)"]},{"entry":["18","Hand-off State (relative to the First, or connected-to BS)"]},{"entry":["19","First BS Traffic Channel Gain"]},{"entry":["20","First BS Power Control Subchannel Gain"]},{"entry":["21","First BS Reverse Link full Frame Error Rate, over 500 frames"]},{"entry":["22","Forward Link full Frame Error Rate, over 500 frames"]},{"entry":["23","First BS Pilot Channel Delay Spread (in nanoseconds)"]},{"entry":["24","Second BS-Ranked Pilot Delay Spread (in nanoseconds)"]},{"entry":["25","Second BS-Ranked Pilot Relative Signal Strength (in dB)"]},{"entry":["26","Third BS-Ranked Pilot Delay Spread"]},{"entry":["27","Third BS-Ranked Pilot Relative Signal Strength (in dB)"]},{"entry":["28","Mobile Antenna Identification"]},{"entry":[{},"(in the case of a multi-sectored antenna)"]},{"entry":["29","Vehicle compass orientation (bearing or heading)"]},{"entry":["30","Mobile Station Power Class (an integer, 0-7, indicating max."]},{"entry":[{},"power capabilities of the mobile station transmitter)"]},{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}]}}]}}},"Although the forward link mobile station's received relative signal strength (RRSS) of detected nearby base station transmitter signals can be used directly by the location estimate modules, the base station's reverse link received relative signal strength (RRSS) of the detected mobile station transmitter signal must be modified prior to location estimate model use, since the mobile station transmitter power level changes nearly continuously, and would thus render relative signal strength useless for location purposes.","One adjustment variable and one factor value are required by the signal processing subsystem: 1.) instantaneous relative power level in dBm (IRPL) of the mobile station transmitter, and 2.) the mobile station Power Class. By adding the IRPL to the RRSS, a synthetic relative signal strength (SRSS) of the mobile station  signal detected at the BS  is derived, which can be used by location estimate model analysis, as shown below:\n\nSRSS=RRSS+IRPL (in dBm)\n","SRSS, a corrected indication of the effective path loss in the reverse direction (mobile station to BS), is now comparable with RRSSand can be used to provide a correlation with either distance or shadow fading because it now accounts for the change of the mobile station transmitter's power level. The two signals RRSSand SRSScan now be processed in a variety of ways to achieve a more robust correlation with distance or shadow fading.","Although Rayleigh fading appears as a generally random noise generator, essentially destroying the correlation value of either RRSSor SRSSmeasurements with distance individually, several mathematical operations or signal processing functions can be performed on each measurement to derive a more robust relative signal strength value, overcoming the adverse Rayleigh fading effects. Examples include averaging, taking the strongest value and weighting the strongest value with a greater coefficient than the weaker value, then averaging the results. Regarding input to a neural net, both measurements can be input, along with the MS Power Class, for training and estimating purposes. This signal processing technique takes advantage of the fact that although a Rayleigh fade may often exist in either the forward or reverse path, it is much less probable that a Rayleigh fade also exists in the reverse or forward path, respectively. A shadow fade however, similarly affects the signal strength in both paths.","At this point a CDMA radio signal direction-independent \u201cnet relative signal strength measurement\u201d is derived which is used to establish a correlation with either distance or shadow fading, or both. Although the ambiguity of either shadow fading or distance cannot be determined, other means can be used in conjunction, such as the fingers of the CDMA delay spread measurement, and any other TOA\/TDOA calculations from other geographical points. In the case of a mobile station with a certain amount of shadow fading between its BS  (), the first finger of a CDMA delay spread signal is most likely to be a relatively shorter duration than the case where the mobile station  and BS  are separated by a greater distance, since shadow fading does not materially affect the arrival time delay of the radio signal.","By performing a small modification in the control electronics of the CDMA base station and mobile station receiver circuitry, it is possible to provide the signal processing subsystem  (reference ) within the Location system  () with data that exceed the one-to-one CDMA delay-spread fingers to data receiver correspondence. Such additional information, in the form of additional CDMA fingers (additional multipath) and all associated detectable pilot channels, provides new information which is used to enhance to accuracy of the Location Center's location estimate location estimate modules.","This enhanced capability is provided via a control message, sent from the Location system  to the mobile switch center , and then to the base station(s)  () in communication with, or in close proximity with, mobile stations  to be located. Two types of location measurement request control messages are needed: one to instruct a target mobile station  (i.e., the mobile station to be located) to telemeter its BS pilot channel measurements back to the primary BS  and from there to the mobile switch center  and then to the location system . The second control message is sent from the location system  to the mobile switch center , then to first the primary BS , instructing the primary BS\u2032 searcher receiver to output (i.e., return to the initiating request message source) the detected target mobile station  transmitter CDMA pilot channel offset signal and their corresponding delay spread finger (peak) values and related relative signal strengths.","The control messages are implemented in standard mobile station  and BS  CDMA receivers such that all data results from the search receiver and multiplexed results from the associated data receivers are available for transmission back to the Location Center . Appropriate value ranges are required regarding mobile station  parameters T_ADD, T_DROP, and the ranges and values for the Active, Neighboring and Remaining Pilot sets registers, held within the mobile station  memory. Further mobile station  receiver details have been discussed above.","In the normal case without any specific multiplexing means to provide location measurements, exactly how many CDMA pilot channels and delay spread fingers can or should be measured vary according to the number of data receivers contained in each mobile station .","As a guide, it is preferred that whenever RF characteristics permit, at least three pilot channels and the strongest first three fingers, are collected and processed.","From the BS  perspective, it is preferred that the strongest first four CDMA delay spread fingers and the mobile station power level be collected and sent to the location system , for each of preferably three BSs  which can detect the mobile station .","Table SP-3 illustrates the resulting extended combinations of BS signals (pilot channels) and finger measurements potentially available, based on the above preferred conditions. The philosophy is to collect as much reasonable data as is practical, given the constraints of CDMA receivers, search times, receiver memory storage and available CPU and data transmission bandwidth, in order that sufficient orthogonal information can be processed to minimize location estimate error.",{"@attributes":{"id":"p-0312","num":"0455"},"tables":{"@attributes":{"id":"TABLE-US-00008","num":"00008"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"266pt","align":"center"}},"thead":{"row":{"entry":"TABLE SP-3"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Extended CDMA Location Measurement Combinations"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"7"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"42pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},{},"No. of","No. of","No. of","No. of"]},{"entry":[{},"No. of","No. of","Fingers, BS","Fingers, BS","Fingers, BS","Fingers, 4-S"]},{"entry":["No. of","BSs","Fingers","1-S (first","2-S (second","3-S (third","(fourth"]},{"entry":["Receivers","detected","Detected","strongest)","strongest)","strongest)","Strongest"]},{"entry":{"@attributes":{"namest":"1","nameend":"7","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"7"},"colspec":[{"@attributes":{"colname":"1","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"5","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"42pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["3","1","1","1","0","0","0"]},{"entry":["3","1","2","2","0","0","0"]},{"entry":["3","1","3","3","0","0","0"]},{"entry":["3","2","2","1","1","0","0"]},{"entry":["3","2","3","2","1","0","0"]},{"entry":["3","2","3","1","2","0","0"]},{"entry":["3","2","4","2","2","0","0"]},{"entry":["3","2","5","2","3","0","0"]},{"entry":["3","2","5","3","2","0","0"]},{"entry":["3","2","4","3","1","0","0"]},{"entry":["3","2","4","1","3","0","0"]},{"entry":["4","2","5","4","1","0","0"]},{"entry":["4","2","5","1","4","0","0"]},{"entry":["3","3","3","1","1","1","0"]},{"entry":["3","2","6","3","3","0","0"]},{"entry":["3","3","3","1","1","1","0"]},{"entry":["3","3","4","2","1","1","0"]},{"entry":["3","3","4","1","2","1","0"]},{"entry":["3","3","4","1","1","2","0"]},{"entry":["3","3","5","2","2","1","0"]},{"entry":["3","3","5","2","1","2","0"]},{"entry":["3","3","5","1","2","2","0"]},{"entry":["3","3","6","2","2","2","0"]},{"entry":["3","3","6","3","2","1","0"]},{"entry":["3","3","6","2","3","1","0"]},{"entry":["3","3","6","1","2","3","0"]},{"entry":["3","3","6","1","3","2","0"]},{"entry":["4","4","4","1","1","1","1"]},{"entry":["4","4","5","2","1","1","1"]},{"entry":["4","4","5","1","2","1","1"]},{"entry":["4","4","5","1","1","2","1"]},{"entry":["4","4","5","1","1","1","2"]},{"entry":["4","4","6","2","2","1","1"]},{"entry":["4","4","6","2","1","2","1"]},{"entry":["4","4","6","1","1","2","2"]},{"entry":["4","4","6","1","2","2","1"]},{"entry":["4","4","6","1","2","1","2"]},{"entry":["4","4","6","2","1","1","2"]},{"entry":["4","4","7","3","2","1","1"]},{"entry":["4","4","7","3","1","2","1"]},{"entry":["4","4","7","2","3","1","1"]},{"entry":["4","4","7","2","1","3","1"]},{"entry":["4","4","7","2","1","1","3"]},{"entry":["4","4","7","1","3","2","1"]},{"entry":["4","4","7","1","2","3","1"]},{"entry":["4","4","7","1","1","2","3"]},{"entry":["4","4","7","1","1","3","2"]},{"entry":["4","4","7","3","1","1","2"]},{"entry":["4","4","<13",". . .",". . .",". . .",". . ."]},{"entry":{"@attributes":{"namest":"1","nameend":"7","align":"center","rowsep":"1"}}}]}}]}}},"As can be seen from the table, a much larger combination of measurements is potentially feasible using the extended data collection capability of the CDMA receivers. In the case of the last row shown, additional combinations are also possible using a similar scheme of allocating the number of CDMA fingers detected at the first or strongest BS, followed by the second strongest base station, then the third strongest base station, etc.",{"@attributes":{"id":"p-0314","num":"0457"},"figref":"FIG. 29","b":["20","7","9","17","19","21","23","26","15"]},"Input queue(s)  are required in order to stage the rapid acceptance of a significant amount of RF signal measurement data, used for either location estimate purposes or to accept autonomous location data. Each location request using fixed base stations may, in one embodiment, contain from 1 to 128 radio frequency measurements from the mobile station, which translates to approximately 61.44 kilobytes of signal measurement data to be collected within 10 seconds and 128 measurements from each of possibly four base stations, or 245.76 kilobytes for all base stations, for a total of approximately 640 signal measurements from the five sources, or 307.2 kilobytes to arrive per mobile station location request in 10 seconds. An input queue storage space is assigned at the moment a location request begins, in order to establish a formatted data structure in persistent store. Depending upon the urgency of the time required to render a location estimate, fewer or more signal measurement samples can be taken and stored in the input queue(s)  accordingly.","The signal processing subsystem  supports a variety of wireless network signaling measurement capabilities by detecting the capabilities of the mobile and base station through messaging structures provided by the location application programming interface  in . Detection is accomplished in the signal classifier  () by referencing a mobile station database table within the signal processor database , which provides, given a mobile station identification number, mobile station revision code, other mobile station characteristics. Similarly, a mobile switch center table  provides MSC characteristics and identifications to the signal classifier\/filter . The signal classifier\/filter  adds additional message header information that further classifies the measurement data which allows the digital signal processor and image filter components to select the proper internal processing subcomponents to perform operations on the signal measurement data, for use by the location estimate modules.","Regarding service control point messages autonomously received from the input queue , the signal classifier\/filter  determines via a signal processing database  query that the message is to be associated with a home base station module. Thus appropriate header information is added to the message, thus enabling the message to pass through the digital signal processor  unaffected to the output queue , and then to the router\/distributor . The router\/distributor  then routes the message to the HBS module  shown in . Those skilled in the art will understand that associating location requests from Home Base Station configurations require substantially less data: the mobile identification number and the associated wireline telephone number transmission from the home location register are on the order of less than 32 bytes. Consequentially the home base station message type could be routed without any digital signal processing.","Output queue(s)  are required for similar reasons as input queues : relatively large amounts of data must be held in a specific format for further location processing by the location estimate modules.","The router and distributor component  is responsible to directing specific signal measurement data types and structures to their appropriate modules. For example, the HBS module has no use for digital filtering structures, whereas the TDOA module would not be able to process an HBS response message.","The controller  is responsible for staging the movement of data among the signal processing subsystem  components input queue , digital signal processor , router\/distributor  and the output queue , and to initiate signal measurements within the wireless network, in response from an internet  location request message in , via the location application programming interface .","In addition the controller  receives autonomous messages from the MSC, via the location applications programming interface  () or L-API and the input queue , whenever a 9-1-1 wireless call is originated. The mobile switch center provides this autonomous notification to the location system as follows: By specifying the appropriate mobile switch center operations and maintenance commands to surveil calls based on certain digits dialed such as 9-1-1, the location applications programming interface  (), in communication with the MSC and\/or in , receives an autonomous notification whenever a mobile station user dials 9-1-1. Specifically, a bi-directional authorized communications port is configured, usually at the operations and maintenance subsystem of the MSC and\/or in , or with their associated network element manager system(s), with a data circuit, such as a DS-1, with the location applications programming interface  in . Next, the \u201ccall trace\u201d capability of the mobile switch center is activated for the respective communications port. The exact implementation of the vendor-specific man-machine or Open Systems Interface (OSI) commands(s) and their associated data structures generally vary among MSC vendors, however the trace function is generally available in various forms, and is required in order to comply with Federal Bureau of Investigation authorities for wire tap purposes. After the appropriate surveillance commands are established on the MSC, such 9-1-1 call notifications messages containing the mobile station identification number (MIN) and, in FCC phase 1 E9-1-1 implementations, a pseudo-automatic number identification (a.k.a. pANI) which provides an association with the primary base station in which the 9-1-1 caller is in communication, are communicated. In cases where the pANI is known from the onset, the signal processing subsystem  avoids querying the MSC in question to determine the primary base station identification associated with the 9-1-1 mobile station caller.","After the signal processing controller  receives the first message type, the autonomous notification message from the mobile switch center  to the location system , containing the mobile identification number and optionally the primary base station identification, the controller  queries the base station table  in the signal processor database  to determine the status and availability of any neighboring base stations, including those base stations of other CMRS in the area. The definition of neighboring base stations include not only those within a provisionable \u201chop\u201d based on the cell design reuse factor, but also includes, in the case of CDMA, results from remaining set information autonomously queried to mobile stations, with results stored in the base station table. Remaining set information indicates that mobile stations can detect other base station (sector) pilot channels which may exceed the \u201chop\u201d distance, yet are nevertheless candidate base stations (or sectors) for wireless location purposes. Although cellular and digital cell design may vary, \u201chop\u201d distance is usually one or two cell coverage areas away from the primary base station's cell coverage area.","Having determined a likely set of base stations which may both detect the mobile station's transmitter signal, as well as to determine the set of likely pilot channels (i.e., base stations and their associated physical antenna sectors) detectable by the mobile station in the area surrounding the primary base station (sector), the controller  initiates messages to both the mobile station and appropriate base stations (sectors) to perform signal measurements and to return the results of such measurements to the signal processing system regarding the mobile station to be located. This step may be accomplished via several interface means. In a first case the controller  utilizes, for a given MSC, predetermined storage information in the MSC table  to determine which type of commands, such as man-machine or OSI commands are needed to request such signal measurements for a given MSC or in . The controller generates the mobile and base station signal measurement commands appropriate for the MSC and passes the commands via the input queue  and the locations application programming interface  in , to the appropriate MSC and , using the authorized communications port mentioned earlier. In a second case the controller  communicates directly with the base stations as discussed above and shown in , Location Center-base station access, multiple CMRS. In this second case, an alternative embodiment is provided to directly extract the wireless location signal measurement data from each base station associated with each of the multiple CMRS networks having to interface directly with the MSC for signal measurement extraction.","Upon receipt of the signal measurements, the signal classifier  (e.g., ) examines location application programming interface-provided message header information from the source of the location measurement (for example, from a fixed BS , a mobile station , a distributed antenna system  or message location data related to a home base station), provided by the location applications programming interface (L-API ) via the input queue  and determines whether or not device filters of the digital signal processor  or image filters  are needed, and assesses a relative priority in processing, such as an emergency versus a background location task, in terms of grouping like data associated with a given location request. In the case where multiple signal measurement requests are outstanding for various base stations, some of which may be associated with a different CMRS network, an additional signal classifier function includes sorting and associating the appropriate incoming signal measurements together such that the digital signal processor  processes related measurements in order to build ensemble data sets. Such ensembles allow for a variety of functions such as averaging, outlier removal over a time period, and related filtering functions, and further prevent association errors from occurring in location estimate processing.","Another function of the signal classifier\/low pass filter component  is to filter information that is not useable, or information that could introduce noise or the effect of noise in the location estimate modules. Consequently low pass matching filters are used to match the in-common signal processing components to the characteristics of the incoming signals. Low pass filters match: Mobile Station, base station, CMRS and MSC characteristics, as well as to classify Home Base Station messages.","The signal processing subsystem  in  contains a base station database table  () which captures the maximum number of CDMA delay spread fingers for a given base station, containing information structures as shown in table SP-4 below:",{"@attributes":{"id":"p-0327","num":"0470"},"tables":{"@attributes":{"id":"TABLE-US-00009","num":"00009"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"center"}},"thead":{"row":{"entry":"TABLE SP-4"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Base Station Characteristics"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"49pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["Primary Base","Latitude,","Pilot","BS","Maximum No."]},{"entry":["Station","Longitude,","Channel","Identifier","of CDMA"]},{"entry":["Identification","elevation","Offset","code","Fingers"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"5"},"colspec":[{"@attributes":{"colname":"1","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"char","char":"."}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"49pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["DEN-001","x, y, z","5","CODENABC001","4"]},{"entry":["DEN-002","p, q, r","25","CODENABC002","4"]},{"entry":["DEN-003","s, t, u","20","CODENABC003","3"]},{"entry":["DEN-004","a, b, c","15","CODENABC004","4"]},{"entry":["BLD-005","d, e, f","45","COBLDABC005","4"]},{"entry":{"@attributes":{"namest":"1","nameend":"5","align":"center","rowsep":"1"}}}]}}]}}},"The base station identification code, or CLLI or common language level identification code is useful in identifying or relating a human-labeled name descriptor to the Base Station. Latitude, Longitude and elevation values are used by other subsystems in the location system for calibration and estimation purposes. As base stations and\/or receiver characteristics are added, deleted, or changed with respect to the network used for location purposes, this database table must be modified to reflect the current network configuration.","Just as an upgraded base station may detect additional CDMA delay spread signals, newer or modified mobile stations may detect additional pilot channels or CDMA delay spread fingers. Additionally different makes and models of mobile stations may acquire improved receiver sensitivities, suggesting a greater coverage capability. The table below establishes the relationships among various mobile station equipment suppliers and certain technical data relevant to the present disclosure.","Although not strictly necessary, the MIN can be populated in this table from the PCS Service Provider's Customer Care system during subscriber activation and fulfillment, and could be changed at deactivation, or anytime the end-user changes mobile stations. Alternatively, since the MIN, manufacturer, model number, and software revision level information is available during a telephone call, this information could extracted during the call, and the remaining fields populated dynamically, based on manufacturer's specifications information previously stored in the signal processing subsystem . Default values are used in cases where the MIN is not found, or where certain information must be estimated.",{"@attributes":{"id":"p-0331","num":"0474"},"tables":{"@attributes":{"id":"TABLE-US-00010","num":"00010"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"301pt","align":"center"}},"thead":{"row":{"entry":"TABLE SP-5"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"Mobile Station Characteristics Table"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"8"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"6","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"7","colwidth":"35pt","align":"center"}},{"@attributes":{"colname":"8","colwidth":"28pt","align":"center"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},{},{},{},"Maximum",{},"Rec."]},{"entry":[{},{},{},"Allowed","Maximum","No.","Transmit","Thermal"]},{"entry":["Mobile Station",{},{},"S\/W","No. of","of","Power","Noise"]},{"entry":["Identification",{},"Model","Revision","CDMA","Pilots","Class","Floor"]},{"entry":["(MIN)","Manufacturer","No.","Levels","Fingers","Detectable","(Max)","(dBm)"]},{"entry":{"@attributes":{"namest":"1","nameend":"8","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"8"},"colspec":[{"@attributes":{"colname":"1","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"49pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"28pt","align":"center"}},{"@attributes":{"colname":"4","colwidth":"35pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"6","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"7","colwidth":"35pt","align":"char","char":"."}},{"@attributes":{"colname":"8","colwidth":"28pt","align":"char","char":"."}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["3034561234567","Sony","\u20025","R1.0","3","3","2","\u2212114"]},{"entry":["3034561234568","Qualcomm","25","R2.01","4","4","4","\u2212115"]},{"entry":["3034561234569","Panasonic","20","R1.1","3","3","5","\u2212113"]},{"entry":["3034561234570","Fujutshu","15","R2.5","4","4","0","\u2212116"]},{"entry":["3034561234571","Sony","45","R1.1","3","3","7","\u2212115"]},{"entry":["Default","Default","Default","R1.0","3","3","3","\u2212112"]},{"entry":{"@attributes":{"namest":"1","nameend":"8","align":"center","rowsep":"1"}}}]}}]}}},"A low pass mobile station filter, contained within the signal classifier\/low pass filter  of the signal processing subsystem , uses the above table data to perform the following functions: 1) act as a low pass filter to adjust the nominal assumptions related to the maximum number of CDMA fingers, pilots detectable; and 2) to determine the transmit power class and the receiver thermal noise floor. Given the detected reverse path signal strength, the required value of SRSS, a corrected indication of the effective path loss in the reverse direction (mobile station to BS), can be calculated based on the SP-5 table data contained within the mobile station table , in the signal processing database .","The effects of the maximum Number of CDMA fingers allowed and the maximum number of pilot channels allowed essentially form a low pass filter effect, wherein the least common denominator of characteristics are used to filter the incoming RF signal measurements such that a one for one matching occurs. The effect of the Transmit Power Class and Receiver Thermal Noise floor values is to normalize the characteristics of the incoming RF signals with respect to those RF signals used.",{"@attributes":{"id":"p-0334","num":"0477"},"figref":["FIG. 4","FIG. 4","FIGS. 36","FIG. 2","FIG. 29"],"b":["26","9","7","138","9","7","26","20","146","38","39","40","42","140","15","26","11","11","15","26","20"]},"A location application programming interface, L-API-CCS  to the appropriate CMRS customer care system provides the mechanism to populate and update the mobile station table  within the database . The L-API-CCS  contains its own set of separate input and output queues or similar implementations and security controls to ensure that provisioning data is not sent to the incorrect CMRS. The interface to the customer care system for CMRS-A provides an autonomous or periodic notification and response application layer protocol type, consisting of add, delete, change and verify message functions in order to update the mobile station table  within the signal processing database , via the controller . A similar interface is used to enable provisioning updates to be received from CMRS-B customer care system ","Although the L-API-CCS application message set may be any protocol type which supports the autonomous notification message with positive acknowledgment type, the T1M1.5 group within the American National Standards Institute has defined a good starting point in which the L-API-CCS could be implemented, using the robust OSI TMN X-interface at the service management layer. The object model defined in Standards proposal number T1M1.5\/96-22R9, (&)\u2014, can be extended to support the L-API-CCS information elements as required and further discussed below. Other choices in which the L-API-CCS application message set may be implemented include ASCII, binary, or any encrypted message set encoding using the Internet protocols, such as TCP\/IP, simple network management protocol, http, https, and email protocols.","Referring to the digital signal processor (DSP) , in communication with the signal classifier\/LP filter , the DSP  provides a time series expansion method to convert non-HBS data from a format of an signal measure data ensemble of time-series based radio frequency data measurements, collected as discrete time-slice samples, to a three dimensional matrix location data value image representation. Other techniques further filter the resultant image in order to furnish a less noisy training and actual data sample to the location estimate modules.","Referring now to digital signal and image filter processing, by way of example, a forward-path CDMA mobile station delay spread RF measurement sample is illustrated in , for the mobile station reception of one sample of transmission signal related to BS-1, located at 16th and Stout Streets. In this sample three fingers or groups of RF energy (relative signal strength is indicated along the vertical axis) were detected. A first CDMA finger was found at a delay of about 3.4 microseconds, and relative signal strength of about \u221280 dBm. A second finger was found at a delay of about 5 microseconds, and peak strength of about \u221255 dBm, followed by a third finger at 6.5 microseconds and a strength of about \u221292 dBm. Two other base stations were detected, BS-5 and BS-2, along with their respective three CDMA delay spread fingers.","Refer now to the left image shown in : Delay Spread Profile Image. After 128 samples of data are collected of the delay spread-relative signal strength RF data measurement sample: mobile station RX for BS-1 and grouped into a Quantization matrix, where rows constitute relative signal strength intervals and columns define delay intervals. As each measurement row, column pair (which could be represented as a complex number or Cartesian point pair) is added to their respective values to generate a Z direction of frequency of recurring measurement value pairs or a density recurrence function. By next applying a grid function to each x, y, and z value, a three-dimensional surface grid is generated, which represents a location data value or unique print of that 128-sample measurement.  illustrates the result of image generation when a number of data samples, or an ensemble of signal strength, delay pairs of values are added within a given bin area or matrix, to thus create a type of three-dimensional image, representing a particular RF signaling behavior at a given location.","Refer now to the right image shown in . In the general case where a mobile station is located in an environment with varied clutter patterns, such as terrain undulations, unique man-made structure geometries (thus creating varied multipath signal behaviors), such as a city or suburb, although the first CDMA delay spread finger may be the same value for a fixed distance between the mobile station and BS antennas, as the mobile station moves across such an arc, different finger-data are measured. In the right image for the defined BS antenna sector, location classes, or squares numbered one through seven, are shown across a particular range of line of position (LOP).","A traditional TOA\/TDOA ranging method between a given BS and mobile station only provides a range along the arc, thus introducing ambiguity error. However a unique three dimensional image can be used in this method to specifically identify, with recurring probability, a particular unique location class along the same Line Of Position, as long as the multipath is unique by position but generally repeatable, thus establishing a method of not only ranging, but also of complete latitude, longitude location estimation in a Cartesian space. In other words, the unique shape of the \u201cmountain image\u201d enables a correspondence to a given unique location class along a line of position, thereby eliminating traditional ambiguity error.","Although man-made external sources of interference, Rayleigh fades, adjacent and co-channel interference, and variable clutter, such as moving traffic introduce unpredictability (thus no \u201cmountain image\u201d would ever be exactly alike), three basic types of filtering methods can be used to reduce matching\/comparison error from a training case to a location request case: 1.) select only the strongest signals from the forward path (BS to mobile station) and reverse path (mobile station to BS), 2.) Convolute the forward path  sample image with the reverse path  sample image, and 3.) process all image samples through various digital image filters to discard noise components.","The strongest signal technique has been discussed previously in the data filter section. : Convolution of Forward and Reverse Images, illustrates one method that essentially nulls noise completely, even if strong and recurring, as long as that same noise characteristic does not occur in the opposite path.","The third technique of processing CDMA delay spread profile images through various digital image filters, provides a resultant \u201cimage enhancement\u201d in the sense of providing a more stable pattern recognition paradigm to the neural net location estimate model (e.g., the \u201cN\/N Model\u201d of FIG. () identifies an artificial neural network FOM). For example, image histogram equalization can be used, as illustrated in  (before equalization) and  (after equalization) to rearrange the images' intensity values, or density recurrence values, so that the image's cumulative histogram is approximately linear.","Other methods which can be used to compensate for a concentrated histogram include: 1) Input Cropping, 2) Output Cropping and 3) Gamma Correction. Equalization and input cropping can provide particularly striking benefits to a CDMA delay spread profile image.  illustrate the three dimensional grid images of the before and after input cropping filter example. As shown in , input cropping removes a large percentage of random signal characteristics that are non-recurring.","Other filters and\/or filter combinations can be used to help distinguish between stationary and variable clutter affecting multipath signals. For example, it is desirable to reject multipath fingers associated with variable clutter, since over a period of a few minutes such fingers would not likely recur. Further filtering can be used to remove recurring (at least during the sample period), and possibly strong but narrow \u201cpencils\u201d of RF energy. A narrow pencil image component could be represented by a near perfect reflective surface, such as a nearby metal panel truck stopped at a traffic light.","On the other hand, stationary clutter objects, such as concrete and glass building surfaces, adsorb some radiation before continuing with a reflected ray at some delay. Such stationary clutter-affected CDMA fingers are more likely to pass a 4\u00d74 neighbor Median filter as well as a 40 to 50 percent Input Crop filter, and are thus more suited to neural net pattern recognition.  illustrates five \u201cpencils\u201d of CDMA finger energy that passed a simple 50 percent Input Crop filter. However, as shown in  when subjected to a 4\u00d74 neighbor Median filter and 40 percent clipping, all five pencil-shaped fingers have been deleted.  illustrates the further simplified result of a 50 percent cropping and 4\u00d74 neighbor median filtering. Other filtering methods include custom linear filtering, adaptive (Weiner) filtering, and custom nonlinear filtering.","The DSP  may provide data ensemble results, such as extracting the shortest time delay with a detectable relative signal strength, to the router\/distributor , or alternatively results may be processed via one or more image filters , with subsequent transmission to the router\/distributor . The outer\/distributor  examines the processed message data from the DSP  and stores routing and distribution information in the message header. The router\/distributor  then forwards the data messages to the output queue , for subsequent queuing then transmission to the appropriate location estimators DA module , TOA\/TDOA module  or the HBS module , in .","Home Base Station Module","Upon receiving a message from the Data Capture Gateway or the signal processing subsystem , the HBS location estimate model examines a Home Base Station Table which defines relationships among a wireless MIN, and wireline telephone number, characteristics of the HBSD, and the possibility to use various signal types in order to further define the location within the address area of the fixed location HBSD. The following table, populated by the commercial mobile radio service provider at HBSD installation time, is used by the HBS model to determine location whenever the mobile station  is located within communication range of the HBSD:",{"@attributes":{"id":"p-0350","num":"0493"},"tables":{"@attributes":{"id":"TABLE-US-00011","num":"00011"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"322pt","align":"center"}},"thead":{"row":{"entry":"TABLE HBS-1"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"HBSD Characteristics"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"6"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"center"}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"6","colwidth":"49pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},{},"HBSD location",{},"CDMA"]},{"entry":["Wireline","Wireless",{},"Latitude,",{},"Strength\/Delay"]},{"entry":["MIN","MIN","HBSD Model","Longitude","Fixed HBSD Location","Measurements?"]},{"entry":{"@attributes":{"namest":"1","nameend":"6","align":"center","rowsep":"1"}}}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"6"},"colspec":[{"@attributes":{"colname":"1","colwidth":"42pt","align":"char","char":"."}},{"@attributes":{"colname":"2","colwidth":"42pt","align":"char","char":"."}},{"@attributes":{"colname":"3","colwidth":"63pt","align":"left"}},{"@attributes":{"colname":"4","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"5","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"6","colwidth":"49pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":["3035561234","3035661299","Sony Qx-9000,","52.619488 N,","727 Magnolia Drive,","No"]},{"entry":[{},{},"Rev. 1.1","112.4197601 W","Boulder, CO"]},{"entry":["3035561236","3035661200","Panasonic PF-130,","52.645488 N,","1401 Digit Drive,","Yes"]},{"entry":[{},{},"Rev. 5.0","112.4197601 W","Boulder, CO"]},{"entry":["3035561236","3035661240","Panasonic PF-130,","52.779488 N,","1698 Folsom St.,","No"]},{"entry":[{},{},"Rev. 3.4","112.4197601 W","Boulder, CO."]},{"entry":["3035561284","3035661205","Panasonic PF-180,","51.619488 N,","990 Nutcracker Dr.,","NO"]},{"entry":[{},{},"Rev. 5.0","111.9197601 W","Niwot, CO."]},{"entry":["3035561224","3035661266","Panasonic PF-5000,","52.619558 N,","5606 Bismark Circle,","Yes"]},{"entry":[{},{},"Rev. 1.0","112.4197601 W","Denver, CO"]},{"entry":[". . .",". . .",". . .",{},". . .",". . ."]},{"entry":{"@attributes":{"namest":"1","nameend":"6","align":"center","rowsep":"1"}}}]}}]}}},"In the event RF signals are available for telemetry from the HBSD to the location system, such information may be solicited from the location system to the HBSD, in the form of a request\/response message scheme, using for example, a data-under-voice technique. In such cases the SSP provides a data connection with the location system  via the PSTN. The home base station may interact with the mobile station in the same manner as a cordless telephone transceiver interacts with a cordless telephone, when the mobile station is within an acceptable range.","The HBS module  in  outputs the Latitude and Longitude location estimates to either the PSTN  or to the Internet , depending upon the source of the originating location request.","Distributed Antenna Module","Upon receipt of one or more data ensemble messages from the signal processing subsystem  in , the distributed antenna (DA) module  queries a previously populated distributed antenna database to determine the locations of distributed antennas associated with the measured DA antenna \u201cpilot delays\u201d so that the detected signal measurement delay signal values received from the mobile station receivers and base station receivers can be input to the TOA\/TDOA module. The TOA\/TDOA module then utilizes the radius-radius method, or time difference method, in order to provide location estimates within the building or area containing the distributed antennas.","Daisey Chaining Base Stations","As a practical matter it may be necessary in some network conditions to add base stations in areas to permit improved estimates to be achieved in wireless location. An aspect of the present disclosure includes daisy chaining communication circuits or transport facilities between or among base stations, in order to simplify the installation and operation of such base stations. Base stations normally communicate with the mobile switch center using T-carrier transport facilities, in order to carry voice and data bearer traffic, and to transport bi-directional control signals. However for various economic or other reasons it may not be justifiable to install such transport facilities. At the base station, by essentially originating a plurality of mobile telephone calls using the data communications option, and terminating such calls at the mobile switch center appropriately, the outputs of the base station transport multiplex circuits are re-directed into the data communication circuits normally intended for use by mobile stations in establishing a data circuit communication call to the network. Circuits at the mobile switch center used to terminate these data calls, redirect the communication to those circuits normally used to terminate the T-carrier facilities from the base stations. In this manner, existing wireless channels can be used to provide transport via this daisy-chaining method between certain base stations and the mobile switch center, thus simplifying connectivity in cases where the installation of transport facilities would either be impossible or impractical.","Distance First Order Module (TOA\/TDOA)","Particular distinctions over the current state of the art include utilizing essentially the native electronics, antennas and standards, and opposed to overlay solutions, supervisor functions which control a hybrid set of techniques, including Time Of Arrival (TOA), Time Difference of Arrival (TDOA) in both the forward and reverse paths, pilot signal strengths, power control, mobile stations (mobile station) state conditions, stochastic features of environmental clutter, multipath detection and mitigation, and robustness, supporting a variety of conditions including degraded\/faulty equipment, distributed and SMART antennas, various registration modes, and various call processing conditions such as soft, hard and idle hand-off conditions, location during the idle state, traffic-bearing states, and location during cases of severe multipath, such as that experienced in urban canyon environments, as well as location in suburban and rural cases.","Since each base station is required to emit a constant signal-strength pilot pseudo-noise (PN) sequence on the forward link channel identified uniquely in a network system by a pilot sequence offset and frequency assignment, it is possible to use the pilot channels of active, candidate, neighboring and remaining sets of pilots, associated with neighboring base stations, stored in the mobile station, for TOA and TDOA measurements performed by the mobile station.","Based on the arrival time measurement estimates and the speed of propagation, ranges or range differences between the base stations and the mobile station can be calculated. TOA and\/or TDOA measurements can then be input to either the radius-radius multilateration or the time difference multilateration algorithms.","By utilizing the known base station positions, location of the mobile station can be determined. Since measurements and base station positions can be sent either to the network or the mobile station, location can be determined in either entity.","Since not all measurements can provide accurate location results at all times and conditions, a variety of supervisory logic processes can be invoked to resolve or litigate the problem area.","As those familiar with the EIA\/TIA IS-95 and T1P1\/JTC CDMA standards specifications know, mobile station call processing consists of four states:\n\n","At power-up an IS-95 or T1P1 PCS CDMA compliant mobile station enters Initialization State, as described in IS-95, section 6.6.1. During the System Determination substate, the mobile station refers to its internal memory to acquire preferences for system carrier (A or B), or the preferred carrier at 1.8-2.0 GHz, and for other types of service, including advanced mobile phone service, or AMPS, as well as narrow band advanced mobile phone service, or NAMPS.","A CDMA-preferred mobile station then transfers to the Pilot Acquisition Substate. The mobile station tunes to the CDMA Channel number equal to CDMACHthen sets its Walsh code (always W0) for the Pilot channel where it begins searching for pilot energy, in terms of energy per bit, per spectral density.","Once a sufficiently strong (as defined by the T_ADD threshold parameter) pilot channel has been identified within Tseconds, the mobile station enters the Sync Channel Acquisition Substate, where the mobile station receives a Sync channel Message that includes, among other information, system time and the unique PN offset index for that particular BS. In the Timing Change substate, the mobile station adjusts its internal timing to match the BS's CDMA system time. At the completion of the Timing Change substate, the mobile station is completely synchronized to the CDMA system's BS time.","After satisfactory synchronization the mobile station then enters the stable Idle State, where the paging channel begins to be monitored.","At this point at least two alternatives are possible:\n\n","In cases where Distributed Antennas (DAs), and\/or Home Base Stations (HBS) are used, each location of these devices can be sent to the mobile station. There are at least three format-types possible in conveying this type of location information in the GeoLocation Message. First, a unique identifier can be assigned to each DA\/HBS, such as a fully distinguished name. An example of location information could be: Within the USA, State of Colorado, city of Denver, with Service Provider xyz, BS ID , Distributed Antenna number 8. Or more compactly, the location string is structured as, \u201cUSA.CO.DEN.xyz.129.DA8\u201d. Secondly, an easy-to-understand human style data message can be sent, such as, \u201cYou are near the 30th floor of the Sears Tower building\u201d. Third, data values for Latitude, Longitude, and possibly altitude and accuracy could be sent from the BS or Location Center to the mobile station\/LU. In order to be most easily useful to an end-user, in the first and third cases, a database would be needed within the mobile station or a Personal Digital Assistant device, which performs a translation of numerical data into a form useful for human understanding.","The mobile station thus maintains a list of location pilot offsets, where the list is ranked based on a weighted combination of received signal energy and BS location. The mobile station selects the best candidate BSs for location estimate purposes, which may be slightly different from the Active, candidate and remaining lists.","Additionally the mobile station may send a Data_Burst message back to the BS or Location Center, informing that no other Pilot Channels were detected. This \u201cnegative\u201d Venn diagram information may be useful with various heuristics for location estimate deduction, for example, to note where the mobile station is not located.","It is the difference of system time values (as opposed to their absolute values) that is important. Note that for purposes of location, any communication back to a BS  would require re-synchronizing onto that BS's system time. Although not specified in either IS-95 or T1P1\/JTC's PCS CDMA standards, most mobile station manufacturers build correlators with resolutions of approximately \u215b PN chip, which is about 125 nanoseconds (nS). A location equipped mobile station will provide +\/\u2212125 nS. accuracy, which is about +\/\u2212125 feet.","The mobile station or location entity can process the arrival time estimates in at least two ways. first the mobile station may difference the measurements (preferred) to form time-difference-of-arrivals (TDOA); or second, the mobile station may determine absolute time-of-arrival (TOA) by solving for the clock bias between the mobile station and other CDMA system time reports. TOA requires very well calibrated BS system clocks among each other.","The following procedure illustrates significant capabilities hidden in the CDMA standards, which provide a substantial enabling base with which to provide the measurements and data for location methods disclosed herein.","First the BS sends the Neighbor List Update Message, containing a complete list of the neighboring pilot PN sequence offset indices (i.e., via the NGHBR_PN field) associated with candidate BSs in the area, with which the mobile station could possibly scan for detecting usable earliest arriving neighboring useable BS multipath components. This list should typically be a complete list, as opposed to the presumed candidate subset. If the mobile station is not already in the Traffic\/Conversation State, it could invoke this state by calling a dialable telephone number in the network, e.g., a designed \u201cQuiet Line\u201d This approach also allows a billing record to be generated according to routine wireless telephony practice. If the network is to determine location, then the network pages the mobile station , connecting the mobile station to a Quiet Line\/Voice message upon mobile station answer. Note that it may be desirable to suppress the mobile station ringer sounding for certain location applications. Other methods may also be possible.","During installation, each BS  in a particular area is provisioned with the locations of all possible neighboring BSs in its area. The BSs  use this information to populate a list of all Latitudes and Longitudes which can be sent to the LUs, using the Neighbor List Update message. Second, assuming that the mobile station does not currently have this data or if unknown, then the BS shall send a series of Mobile Station Registered Messages, each message containing the latitude and Longitude values (i.e., the BASE_LAT and BASE_LONG fields) associated with a neighboring BS pilot PN offset sent with the first message. Note that the constants N, Supported Traffic Channel Candidate Active Set size, normally set to 6, and N, Supported Traffic Channel Candidate Set size, normally set to 5, and N, the Minimum Supported Neighbor Set size, normally set to 20, should be sufficient for most location purposes, however these constants could be changed if the need arises.","Third, the BS saves the current T_ADD and T_DROP values in the BS memory, associated with the In-Traffic LU, and sends the In-Traffic System Parameters Message, which includes reduced T_ADD and T_DROP parameter values, useable for location purposes. The value for T_ADD would typically be set to a value near the lower end of the IS-98 specification, possibly below the 80 dB dynamic range requirement, close to (but not including) the thermal noise power level of the LU receiver. Note that if the LU is using restricted battery, e.g., a portable, then the time for keeping T_ADD and T_DROP at a low value for location estimates purposes, should be kept short to delay adverse consequences, such as increased current drain and noise.","Reduced T_ADD and T_DROP values sent to the mobile station will cause the LU to scan all conceivable neighboring BS pilots provided to it by the BS, and to measure the strengths of each received pilot, and to determine the pilot arrival time for each pilot offset. Note that the signal strengths now measured may not be sufficient for carrying traffic, but may be sufficient for location purposes.","Assuming the network is to determine location, then the mobile station reports the arrival time, PILOT_ARRIVAL, for each pilot reported to the base station. According to the standard the arrival time is measured relative to the mobile station's time reference (which was previously determined from the active BS), in units of PN chips (1\/2288) microseconds, or about 814 nanoseconds, as follows:\n\nPILOT\u2212PHASE=(PILOT_ARRIVAL+(64\u00d7PILOT))mod 2,\n","where PILOT_PN is the PN sequence offset index of the pilot associated with the BS pilot indices in the neighbor list.","In order to achieve location accuracy estimates on the order of a few hundred feet (or nanoseconds) a higher resolution than 1 PN chip is required. Although not specified directly in IS-95, most mobile manufacturers use correlators with resolutions of approximately \u215b PN chip, or about 102 nS (suggesting that if no other systemic errors are present, about 102 feet of error is expected). Note that the search window size SRCH_WIN_Afor each pilot may need to be increased if there are substantial delays experienced from the environment. It is desirable for the mobile station to report the second and third arrival time (or the second and third fingers), and their relative signal strengths, corresponding to each detectable Pilot Channel.","If more than one PILOT_ARRIVAL is available then a basic TDOA multilateration algorithm may be invoked, at either the LU, or the network. In the network case, the active BS  must send a Pilot Request Order for Pilot Measurement Request Order (ORDER code 010001), which causes the mobile station  to forward its measurements to the BS (and consequently the network, as appropriate).","At this point a minimally sufficient number of measurements are available to perform a location estimate. Thus the BS should restore the original T_ADD and T_DROP values (previously saved in the BS memory) to the mobile station, via the In-Traffic System Parameters Message.","Additional information may be desirable, such as the active BS' TOA measurement, as well as associated BS measurements of the mobile station's TOA to their BS location. This added information may be sent to the mobile station if the mobile station is to perform location, via the Data Burst Message on the Forward Traffic Channel. Since 26 combinations of data burst types have been reserved for future use in the standard, dedication of several combinations could be used to telemeter location-related data. In cases where duplicate ranging or other information is available, various supervisor techniques mentioned elsewhere in this document, could be used to refine the location estimate.","Once the location estimate has been performed, any number of means could be used to provide the results to the end user.","The IS-95 and J-STD-008 CDMA specifications require that BSs should be synchronized to within +\/\u22123 microseconds of CDMA system time and shall be synchronized to within +\/\u221210 microseconds. The method of the present disclosure assumes the cost of GPS receivers is relatively small, thus time calibration at a more precise calibration level at each location BS is recommended to be used by using the very accurate GPS time parameters. Preferably the absolute error deviation among surrounding or neighboring base stations should be less than 800 nanoseconds, however in most cases this should not be a fixed requirement, but rather a preference. In cases where absolute BS timing is prohibitively expensive, then the \u201cForced Hand-off\u201d method discussed below can be used to overcome the preferred, or strict absolute BS timing requirements.","Three methods have been currently identified. Some of these techniques apply to other air interface types as well.\n\n","Now in the general case where three or more BSs can either determine TDOA and\/or the mobile station can telemeter such data to the location entity within the network, repeat this method for BSand BS, and BSand BS, in order to determine the remaining curves, thus yielding location within a 2D space. In the case of 3D geometry (such as a multi-story building with multi-floor pico BS cells), the process must be repeated a fourth time in order to determine altitude.","MATLAB MathWorks code to implement the above algorithms follows:",{"@attributes":{"id":"p-0387","num":"0539"},"tables":{"@attributes":{"id":"TABLE-US-00012","num":"00012"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"clear;hold off;"},{"entry":"j = sqrt(\u22121);"},{"entry":"step_size = 0.03;"},{"entry":"# Set up BS variables"},{"entry":"\u2002theta = pi\/3*ones(3,1);"},{"entry":"\u2002D = 10*ones(3,1);"},{"entry":"\u2002z(1) = 0;"},{"entry":"\u2002z(2) = D(1);"},{"entry":"\u2002z(3) = D(3)*exp(\u2212j*theta(1));"},{"entry":"# Define the distance parameters"},{"entry":"\u2002d = [0 6.4 \u22126.8]\u2032;"},{"entry":"\u2002location1 = [ ];"},{"entry":"\u2002location2 = [ ];"},{"entry":"\u2002location3 = [ ];"},{"entry":"# Iterate and solve for the location with respect to the first BS (at (0,0) )"},{"entry":"\u2002t2 = \u2212pi:0.05:0.05;"},{"entry":"\u2002for t1 = \u2212pi\/3:0.05:0.05,"},{"entry":"\u2002\u2002t1 = t1+0.001;"},{"entry":"\u2002\u2002r1 = 1.\/(exp(j*t1)\u2212exp(j*t2)).*(D(1)\u2212d(1)*exp(j*t2));"},{"entry":"\u2002\u2002r2 = 1.\/(exp(j*t1)\u2212exp(j*t2)).*(D(1)\u2212d(1)*exp(j*t1));"},{"entry":"\u2002\u2002temp = arg(r1);"},{"entry":"\u2002\u2002index = find(abs(temp) == min(abs(temp)));"},{"entry":"\u2002\u2002location1 = [location1;r1(index)*exp(j*t1)];"},{"entry":"\u2002end;"},{"entry":"\u2002for t1 = \u2212pi\/3:0.05:0.05"},{"entry":"\u2002\u2002t1 = t1+0.001;"},{"entry":"\u2002\u2002r1 = 1.\/(exp(j*t1)\u2212exp(j*t2)).*(D(2)\u2212d(2)*exp(j*t2));"},{"entry":"\u2002\u2002r2 = 1.\/(exp(j*t1)\u2212exp(j*t2)).*(D(2)\u2212d(2)*exp(j*t1));"},{"entry":"\u2002\u2002temp = arg(r1);"},{"entry":"\u2002\u2002index = find(abs(temp) == min(abs(temp)));"},{"entry":"\u2002\u2002location2 = [location2;r1(index)*exp(j*t1)];"},{"entry":"\u2002end;"},{"entry":"\u2002for t1 = \u2212pi\/3:0.05:0.05"},{"entry":"\u2002\u2002t1 = t1+0.001;"},{"entry":"\u2002\u2002r1 = 1.\/(exp(j*t1)\u2212exp(j*t2)).*(D(1)\u2212d(3)*exp(j*t2));"},{"entry":"\u2002\u2002r2 = 1.\/(exp(j*t1)\u2212exp(j*t2)).*(D(1)\u2212d(3)*exp(j*t1));"},{"entry":"\u2002\u2002temp = arg(r1);"},{"entry":"\u2002\u2002index = find(abs(temp) == min(abs(temp)));"},{"entry":"\u2002\u2002location3 = [location3;r1(index)*exp(j*t1)];"},{"entry":"\u2002end;"},{"entry":"\u2002location2 = location2*exp(j*arg(z(3)\u2212z(2))) + z(2);"},{"entry":"\u2002location3 = location3*exp(j*arg(z(1)\u2212z(3))) + z(3);"},{"entry":"\u2002set yrange [\u221210:1];"},{"entry":"\u2002set xrange [\u22121:11];"},{"entry":"\u2002plot([z;z(1)])"},{"entry":"\u2002hold on"},{"entry":"\u2002plot(location1)"},{"entry":"\u2002plot(location2)"},{"entry":"\u2002plot(location3)"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"It is worthwhile to discuss techniques for both obtaining the initial collection of verified location data, as well as how additional location data can be obtained for updating the data in this data base in a straightforward cost-effective manner.","Regarding both the obtaining of the initial collection of verified location data as well as gathering data updates, it is believed that some of this data can be obtained from the initial and continued engineering of the base station infrastructure by the wireless telephony service provider(s) in the radio coverage area. Additional verified location data can be obtained by trained technicians driving and\/or walking certain areas and periodically, at each of a plurality of locations: (a) determining a location estimate (using, for example, GPS if possible and\/or offsets from GPS readings); and (b) using an mobile station  at the location to generate location data communication with the wireless base station infrastructure.","Alternatively, it is a novel aspect of the present disclosure that a straightforward method and system for gathering verified location data has been discovered, wherein a conventional mobile station  can be used without any additional electronics or circuit modifications. One embodiment of this method and system utilizes the personnel of businesses that travel predetermined routes through the radio coverage area (e.g., a delivery and\/or pickup service) to generate such data using a conventional mobile station  while traversing their routes through the radio coverage area. One example of such personnel is the postal workers, and in particular, the mail carriers having predetermined (likely repetitive) routes for mail pickup and\/or delivery at predetermined sites (denoted hereinafter as \u201cmail pickup\/delivery sites\u201d or simply \u201cmail sites\u201d). By having such mail carriers each carry a conventional mobile station  and periodically generate location data communication with the wireless base station infrastructure at mail sites along their routes, additional verified location data can be added to a Location Data Base (not shown) cost effectively.","To describe how this can be performed, a brief description of further features available in a typical mobile station  is needed. At least some modules of mobile station  have the following capabilities:\n\n","Assuming these features, the following steps can be performed for acquiring additional verified location data:\n\n","Regarding step (iii), the location estimate may also include the steps temporarily increasing the mobile station transmitter power level\n\n","Note that a similar or identical procedure to the steps immediately above may be applied with other services\/workers such as courier services, delivery services, meter readers, street sweepers, and bus drivers having predetermined routes.","Additional Modules to Increase Location Hypothesis Accuracy","The following modules may be provided in various embodiments of the present disclosure, and in particular, as part of the location engine . Further modules and description directed to the location center  and its functionality, the location engine , various location enhancing techniques, and various additional embodiments are provided in U.S. Provisional Patent Application having Ser. No. 60\/044,821, filed Apr. 25, 1997, by Dupray, Karr, and LeBlanc from which the present application claims priority, and which is fully incorporated herein by reference.","Path Comparison Module","The Path Comparison Module implements the following strategy: the confidence of a particular location hypothesis is be increased (decreased) if it is (not) predicting a path That lies along a known transportation pathway (and the speed of the target MS is sufficiently high). For instance, if a time series of target MS location hypotheses for a given FOM is predicting a path of the target MS that lies along an interstate highway, the confidence of the currently active location hypothesis for this FOM should, in general, be increased. Thus, at a high level the following steps may be performed:\n\n","The Velocity\/Acceleration Calculation Module computes velocity and\/or acceleration estimates for the target MS using currently active location hypotheses and previous location hypothesis estimates of the target MS. In one embodiment, for each FOM having a currently active location hypothesis (with positive confidences) and a sufficient number of previous (reasonably recent) target MS location hypotheses, a velocity and\/or acceleration may be calculated. In an alternative embodiment, such a velocity and\/or acceleration may be calculated using the currently active location hypotheses and one or more recent \u201cmost likely\u201d locations of the target MS output by the Location Center. If the estimated velocity and\/or acceleration corresponding to a currently active location hypothesis is reasonable for the region, then its confidence value is incremented; if not, then its confidence is decremented. The algorithm may be summarized as follows:\n\n","The Attribute Comparison Module compares attribute values for location hypotheses generated from different FOMs, and determines if the confidence of certain of the currency active location hypotheses should be increased due to a similarity in related values for the attribute. That is, for an attribute A, an attribute value for A derived from a set S of one or more location hypotheses generated by one FOM, FOM[1], is compared with another attribute value for A derived from a set Sof one or more location hypotheses generated by a different FOM, FOM[2] for determining if these attribute values cluster (i.e., are sufficiently close to one another) so that a currently active location hypothesis in S and a currently active location hypothesis in Sshould have their confidences increased. For example, the attribute may be a \u201ctarget MS path data\u201d attribute, wherein a value for the attribute is an estimated target MS path derived from location hypotheses generated by a fixed FOM over some (recent) time period. Alternatively, the attribute might be, for example, one of a velocity and\/or acceleration, wherein a value for the attribute is a velocity and\/or acceleration derived from location hypotheses generated by a fixed FOM over some (recent) time period.","In a general context, the Attribute Comparison Module operates according to the following premise:","(37.1) for each of two or more currently active location hypotheses (with positive confidences) if:",{"@attributes":{"id":"p-0400","num":"0000"},"ul":{"@attributes":{"id":"ul0040","list-style":"none"},"li":{"@attributes":{"id":"ul0040-0001","num":"0000"},"ul":{"@attributes":{"id":"ul0041","list-style":"none"},"li":["(a) each of these currently active location hypotheses, H, was initially generated by a corresponding different FOM;","(b) for a given MS estimate attribute and each such currently active location hypothesis, H, there is a corresponding value for the attribute (e.g., the attribute value might be an MS path estimate, or alternatively an MS estimated velocity, or an MS estimated acceleration) wherein the attribute value is derived without using a FOM different from FOM, and;","(c) the derived attribute values cluster sufficiently well,","then each of these currently active location hypotheses, H, will have their corresponding confidences increased. That is, these confidences will be increased by a confidence adjustment value or delta."]}}}},"Note that the phrase \u201ccluster sufficiently well\u201d above may have a number of technical embodiments, including performing various cluster analysis techniques wherein any clusters (according to some statistic) must satisfy a system set threshold for the members of the cluster being close enough to one another. Further, upon determining the (any) location hypotheses satisfying (37.1), there are various techniques that may be used in determining a change or delta in confidences to be applied. For example, in one embodiment, an initial default confidence delta that may be utilized is: if \u201ccf\u201d denotes the confidence of such a currently active location hypothesis satisfying (37.1), then an increased confidence that still remains in the interval [0, 1.0] may be: cf+[(1\u2212cf)\/(1+cf)], or, cf*[1.0+cf)], n.=>2, or, cf*[a constant having a system tuned parameter as a factor]. That is, the confidence deltas for these examples are: [(1\u2212cf)\/(1+cf)](an additive delta), and, [1.0+cf] (a multiplicative delta), and a constant. Additionally, note that it is within the scope of the present disclosure to also provide such confidence deltas (additive deltas or multiplicative deltas) with factors related to the number of such location hypotheses in the cluster.","Moreover, note that it is an aspect of the present disclosure to provide an adaptive mechanism for automatically determining performance enhancing changes in confidence adjustment values such as the confidence deltas for the present module. That is, such changes are determined by applying an adaptive mechanism, such as a genetic algorithm, to a collection of \u201csystem parameters\u201d (including parameters specifying confidence adjustment values as well as system parameters) in order to enhance performance of an embodiment of the present disclosure. More particularly, such an adaptive mechanism may repeatedly perform the following steps:\n\n","Assuming this module adjusts confidences of currently active location hypotheses according to one or more of the attributes: target MS path data, target MS velocity, and target MS acceleration, the computation for this module may be summarized in the following steps:\n\n","Note that such confidence adjustment values are used later in the calculation of an aggregate confidence adjustment to particular currently active location hypotheses.","Extrapolation Module","The Extrapolation Module works on the following premise: if for a currently active location hypothesis there is sufficient previous related information regarding estimates of the target MS (e.g., from the same FOM or from using a \u201cmost likely\u201d previous target MS estimate output by the Location Center), then an extrapolation may be performed for predicting future target MS locations that can be compared with new location hypotheses. Note that interpolation routines (e.g., conventional algorithms such as Lagrange or Newton polynomials) may be used to determine an equation that approximates a target MS path corresponding to a currently active location hypothesis.","Subsequently, such an extrapolation equation may be used to compute a future target MS location. For further information regarding such interpolation schemes, the following reference is incorporated herein by reference: Mathews, 1992. Englewood Cliffs, N.J.: Prentice Hall.","Accordingly, if a new currently active location hypothesis is received, then the target MS location estimate of the new location hypothesis may be compared with the predicted location. Consequently, a confidence adjustment value can be determined according to how well if the location hypothesis \u201ci\u201d. That is, this confidence adjustment value will be larger as the new MS estimate and the predicted estimate become closer together.","Note that in one embodiment of the present disclosure, such predictions are based solely on previous target MS location estimates output by Location Center. Thus, in such an embodiment, substantially every currently active location hypothesis can be provided with a confidence adjustment value by this module once a sufficient number of previous target MS location estimates have been output. Accordingly, a value, extrapolation_chk(i), that represents how accurately the new currently active location hypothesis (identified here by \u201ci\u201d) matches the predicted location is determined.","Analytical Reasoner Controller","Given one or more currently active location hypotheses for the same target MS input to a controller (denoted the Analytical Reasoner Controller herein), this controller activates, for each such input location hypothesis, the other submodules (denoted hereinafter as \u201cadjustment submodules\u201d) with this location hypothesis. Subsequently, the Analytical Reasoner Controller receives an output confidence adjustment value computed by each adjustment submodule for adjusting the confidence of this location hypothesis. Note that each adjustment submodule determines:\n\n","Subsequently, the controller uses the output from the adjustment submodules to compute an aggregate confidence adjustment for the corresponding location hypothesis. In one particular embodiment of the present disclosure, values for the eight types of confidence adjustment values (described in sections above) are output to the present controller for computing an aggregate confidence adjustment value for adjusting the confidence of the currently active location hypothesis presently being analyzed. As an example of how such confidence adjustment values may be utilized, assuming a currently active location hypothesis is identified by \u201ci\u201d, the outputs from the above described adjustment submodules may be more fully described as:",{"@attributes":{"id":"p-0411","num":"0606"},"tables":{"@attributes":{"id":"TABLE-US-00013","num":"00013"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"322pt","align":"left"}}],"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"2","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["path_match(i)1","if there are sufficient previous (and recent) location hypotheses for the same target MS as \u201ci\u201d that have"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"301pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},{},"been generated by the same FOM that generated \u201ci\u201d, and, the target MS location estimates"]},{"entry":[{},{},"provided by the location hypothesis \u201ci\u201d and the previous location hypotheses follow a known"]},{"entry":[{},{},"transportation pathway."]},{"entry":[{},"0","otherwise."]},{"entry":["vel_ok(i)","1","if the velocity calculated for the icurrently active location hypothesis (assuming adequate"]},{"entry":[{},{},"corresponding path information) is typical for the area (and the current environmental"]},{"entry":[{},{},"characteristics) of this location hypothesis' target MS location estimate;"]},{"entry":[{},"0.2","if the velocity calculated for the icurrently active location hypothesis is near a maximum for"]},{"entry":[{},{},"the area (and the current environmental characteristics) of this location hypothesis' target MS"]},{"entry":[{},{},"location estimate;"]},{"entry":[{},"0","if the velocity calculated is above the maximum."]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"392pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"acc_ok(i) 1 \u2003if the acceleration calculated for the icurrently active location hypothesis (assuming adequate corresponding"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"84pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"308pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"path information) is typical for the area (and the current environmental characteristics) of this"]},{"entry":[{},"location hypothesis' target MS location estimate;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"322pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"0.2 \u2003if the acceleration calculated for the icurrently active location hypothesis is near a maximum for"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"91pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"301pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"the area (and the current environmental characteristics) of this location hypothesis' target MS"]},{"entry":[{},"location estimate;"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"322pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"0 \u2003\u2002\u2009if the acceleration calculated is above the maximum."]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"322pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["\u2003\u2002similar_path(i)1","if the location hypothesis \u201ci\u201d satisfies (37.1) for the target MS path data attribute;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"301pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"0","otherwise."]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"322pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":["velocity_similar(i) 1","if the location hypothesis \u201ci\u201d satisfies (37.1) for the target MS velocity attribute;"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"1","colwidth":"70pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"21pt","align":"left"}},{"@attributes":{"colname":"3","colwidth":"301pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"0","otherwise."]},{"entry":["acceleration_similar(i)","1","\u2003if the location hypothesis \u201ci\u201d satisfies (37.1) for the target MS acceleration attribute;"]},{"entry":[{},{},"\u20030 \u2003\u2002otherwise."]},{"entry":["extrapolation_chk(i)","1","\u2003if the location hypothesis \u201ci\u201d is \u201cnear\u201d a previously predicted MS location for the target MS;"]},{"entry":[{},{},"\u20030 \u2003\u2002otherwise."]},{"entry":{"@attributes":{"namest":"1","nameend":"3","align":"center","rowsep":"1"}}}]}}]}}},"Additionally, for each of the above confidence adjustments, there is a corresponding Location Center system settable parameter whose value may be determined by repeated activation of an Adaptation Engine. Accordingly, for each of the confidence adjustment types, T, above, there is a corresponding system settable parameter, \u201calpha_T\u201d, that is tunable by the Adaptation Engine. Accordingly, the following high level program segment illustrates the aggregate confidence adjustment value computed by the Analytical Reasoner Controller.",{"@attributes":{"id":"p-0413","num":"0608"},"tables":{"@attributes":{"id":"TABLE-US-00014","num":"00014"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"217pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"target_MS_loc_hyps <--- get all currently active location hypotheses,"},{"entry":"H, identifying the present target ;"},{"entry":"\u2003\u2003\u2003for each currently active location hypothesis, hyp(i), from"},{"entry":"\u2003\u2003\u2003target_MS_Ioc_hyps do"},{"entry":"\u2003\u2003\u2003{"},{"entry":"\u2003\u2003\u2003\u2003\u2003for each of the confidence adjustment submodules, CA, do"},{"entry":"\u2003\u2003\u2003\u2003\u2003activate CA with hyp(i) as input;"},{"entry":"\u2003\/* now compute the aggregate confidence adjustment using the output"},{"entry":"\u2003\u2003from the confidence adjustment submodules. *\/"},{"entry":"\u2003\u2003\u2003\u2003aggregate_adjustment(i) <---"},{"entry":"\u2003\u2003\u2003\u2003alpha_path_match * path_match(i)"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003+ alpha_velocity * vel_ok(i)"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003+ alpha_path_similar * path_similar(i)"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003+ alpha_velocity_similar * velocity_similar(i)"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003+ alpha_acceleration_similar* acceleration_similar(i)"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003+ alpha_extrapolation * extrapolation_chk(i);"},{"entry":"\u2003\u2003\u2003\u2003hyp(i).confidence <--- hyp(i).confidence +"},{"entry":"\u2003\u2003\u2003\u2003aggregate_adjustment(i);"},{"entry":"\u2003\u2003\u2003}"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}},"br":{}},"Introduction","A Mobile Base Station (MBS)  may be used to locate a target MS  by analyzing received MS location signals from a plurality of different MBS locations and thereby hone-in on or track the target MS. Thus, an MBS  allows the location system of the present invention to not only locate such MS's more accurately (since, for example, the MBS may provide additional MS location information to the Location Center not otherwise capable of being provided), but also the MBS can be directed to intercept or track the target MS via on-board MS locating capabilities that may be autonomous from the capabilities of the Location Center.","As a consequence of the MBS  being mobile, there are fundamental differences in the operation of an MBS in comparison to other types of BS's. In particular, other types of BS's have fixed locations that are precisely determined and known by the Location Center, whereas a location of an MBS  may be known only approximately and may require repeated and frequent re-estimating. Secondly, other types of BS's have substantially fixed and stable communication with the Location Center (via possibly other BS's) and therefore these BS's are more reliable in their in their ability communicate information related to the location of a target MS with the Location Center. An MBS , on-the-other-hand, may communicate with the fixed location BS network infrastructure and the Location Center via an on-board transceiver that is effectively an MS  integrated into a Location Subsystem built into the (each) MBS . Accordingly, if the MBS  travels through an area having poor infrastructure signal coverage, then the MBS may not be able to communicate reliably with the Location Center (e.g., in rural or mountainous areas having reduced wireless telephony coverage). Thus, each MBS  must be capable of functioning substantially autonomously from the Location Center. This implies that each MBS  must be capable of estimating both its own location as well as the location of a target MS . Indeed, as one skilled in the art will understand, for most MS location strategies, reliable location estimates for BS's are required.","Accordingly, an MBS  must maintain a reliable estimate of its own location for optimal effectiveness in locating a target MS . However, since the location of the MBS  is repeatedly re-estimated, any one MBS location estimate may be less accurate than what would be required for a fixed location BS  without unduly affecting the utility of the MBS since it repeatedly re-estimates its own location.","Additionally, many commercial wireless telephony technologies require all BS's in a network to be very accurately time synchronized both for transmitting MS voice communication as well as for other services such as MS location. Accordingly, the MBS  will also require such time synchronization. However, since an MBS  may not be in constant communication with the fixed location BS network (and indeed may be off-line for substantial periods of time), at least an on-board highly accurate timing device may be necessary. In one embodiment, such a device may be a commercially available ribidium oscillator.","Such MBS  autonomy as discussed above also provides a significant advantage over other types of BS's in that an MBS can be instrumental in locating a target MS  in areas where MS location estimation by the Location Center  is poor. In fact, MBS's may be used in areas (such as wilderness areas) where there may be no other means for reliably and cost effectively locating a target MS  (i.e., there may be insufficient fixed location BS's coverage in an area).","Since the MBS  is (or more precisely, includes a scaled down version of) a BS , it is capable of performing most typical BS  tasks, albeit on a reduced scale. In particular, the base station portion of the MBS  can:\n\n","Further, the MBS  can, if it becomes the primary base station communicating with an MS , request the MS to raise\/lower its power or, more generally, control the communication with the MS. However, since the MBS  will likely have substantially reduced telephony traffic capacity in comparison to a standard infrastructure base station, note that the pilot channel for the MBS is preferably a nonstandard pilot channel in that it should not be identified as a conventional telephony traffic bearing BS  by MS's seeking normal telephony communication. Thus, a target MS  requesting to be located may, depending on its capabilities, either automatically configure itself to scan for certain predetermined MBS pilot channels, or be instructed via the fixed location base station network (equivalently BS infrastructure) to scan for a certain predetermined MBS pilot channel.","Moreover, the MBS  has an additional advantage in that it can substantially increase the reliability of communication with a target MS  in comparison to the Base Station infrastructure by being able to move toward or track the target MS  even if this MS is in (or moves into) a reduced infrastructure BS network coverage area. Furthermore, an MBS  may preferably use a directional or smart antenna to more accurately locate a direction of signals from a target MS . Thus, the sweeping of such a smart antenna (physically or electronically) provides directional information regarding signals received from the target MS . That is, such directional information is determined by the signal propagation delay of signals from the target MS  to the angular sectors of one of more directional antennas on-board the MBS .","Before proceeding to the details of the MBS Location Subsystem, an example of the operation of an MBS  in the context of responding to a 911 emergency is given. In particular, this example describes the high level computational states through which the MBS  transitions, these states also being illustrated in the state transition diagram of . Note that this figure illustrates the primary state transitions between these MBS  states, wherein the solid state transitions are indicative of a typical \u201cideal\u201d progression and the dashed state transitions are the primary state reversions due, for example, to difficulties in locating the target MS .","Accordingly, initially the MBS  may be in an inactive state, wherein the MBS Location Subsystem is effectively available for voice or data communication with the fixed location BS network, but the MS  locating capabilities of the MBS are not active. From the inactive state the MBS (e.g., a police or rescue vehicle) may enter an active state once an","MBS operator has logged onto the MBS Location Subsystem of the MBS, such logging being for authentication, verification and journaling of MBS events. In the active state the MBS may be listed by a 911 emergency center and\/or the Location Center  as eligible for service in responding to a 911 request. From this state, the MBS  may transition to a ready state for use in locating and\/or intercepting a target MS , by performing the following steps: (1a) Performing BS network time synchronization. In one embodiment, when requesting such time synchronization from the BS infrastructure, the MBS  will be at a predetermined or well known location so that the MBS time synchronization may adjust for a known amount of signal propagation delay in the synchronization signal.\n\n","Assuming a 911 signal is transmitted by an MS  (denoted the target MS), this signal is transmitted, via the fixed location BS infrastructure, to the 911 emergency center and the Location Center , and assuming the MBS  is in the ready state, if a corresponding 911 emergency request is transmitted to the MBS (via the BS infrastructure) from the 911 emergency center or the Location Center, then the MBS may transition to a seek state by performing the following steps:\n\n","Subsequently, when the MBS  is in the seek state, the MBS may commence toward the target MS location estimate provided. Note that it is likely that the MBS is not initially in direct signal contact with the target MS. Accordingly, in the seek state the following steps are, for example, performed:\n\n","Assuming that the MBS  and target MS  detect one another (which typically occurs when the two units are within 0.25 to 3 miles of one another), the MBS enters a contact state when the target MS enters a soft hand-off state with the MBS. Accordingly, in the contact state, the following steps are, for example, performed:\n\n","When the target MS  detects that the MBS pilot channel is sufficiently strong, the target MS may switch to using the MBS  as its primary base station. When this occurs, the MBS enters a control state wherein the following steps are, for example, performed:\n\n","Note, there can be more than one MBS  tracking or locating an MS . There can be more than one target MS  to be tracked concurrently and each target MS being tracked may be stationary or moving.","MBS Architecture","An MBS  uses MS signal characteristic data for locating the MS . The MBS  may use such signal characteristic data to facilitate determining whether a given signal from the MS is a \u201cdirect shot\u201d or an multipath signal. That is, the MBS  may attempt to determine when an MS signal is received directly (i.e., no multipath) from the MS  by determining whether the signal strength, and TOA agree in distance estimates for the MS. Note, other signal characteristics may also be used, if there are sufficient electronics and processing available to the MBS ; i.e., determining signal phase and\/or polarity as other indications of receiving a \u201cdirect shot\u201d from an MS .","In one embodiment, the MBS  may have multiple command schedulers. In particular, a scheduler for commands related to communicating with the Location Center , a scheduler for commands related to GPS communication, a scheduler for commands related to the MBS dead reckoning subsystem and a scheduler for communicating with the MS(s) being located. Further, it is assumed that there is sufficient hardware and\/or software to appear to perform commands in different schedules substantially concurrently.","Each MBS  has a plurality of MBS location estimators (or hereinafter also simply referred to as location estimators) for determining the location of the MBS. Each such location estimator computes MBS location information such as MBS location estimates, changes to MBS location estimates, or an MBS location estimator may be an interface for buffering and\/or translating a previously computed MBS location estimate into an appropriate format. In particular, the following MBS location estimators may be provided in the MBS:\n\n","Note that a plurality of MBS location technologies and their corresponding MBS location estimators are utilized due to the fact that there is currently no single location technology available that is both sufficiently fast, accurate and accessible in substantially all terrains to meet the location needs of an MBS . For example, in many terrains GPS technologies may be sufficiently accurate; however, GPS technologies: (a) require a relatively long time to provide an initial location estimate (e.g., 2-10 minutes); (b) when GPS communication is disturbed, it may require an equally long time to provide a new location estimate; (c) clouds, buildings and\/or mountains can easily prevent location estimates from being obtained; (d) in some cases signal reflections can substantially skew a location estimate. As another example, an MBS  may be able to use triangulation or trilateralization technologies to obtain a location estimate; however, this assumes that there is sufficient (fixed location) infrastructure BS coverage in the area the MBS is located. Further, it is well known that the multipath phenomenon can substantially distort such location estimates. Thus, for an MBS  to be highly effective in varied terrains, an MBS is provided with a plurality of location technologies, each supplying an MBS location estimate.","In fact, much of the architecture of the Location Center  could be incorporated into an MBS . For example, in some embodiments of the MBS  the following FOMs may have similar location models incorporated into the MBS:\n\n","However, for those MBS location models requiring communication with the BS infrastructure, an alternative embodiment is to rely on the Location Center  to perform the computations for at least some of these MBS models. That is, since each of the MBS location models mentioned immediately above require communication with the network of fixed location BS's, it may be advantageous to transmit MBS location estimating data to the Location Center  as if the MBS were another MS  for the Location Center to locate, and thereby rely on the location estimation capabilities at the Location Center rather than duplicate such models in the MBS . The advantages of this approach are that:\n\n","Note that in one embodiment, the confidence for a manual entry of location data by an MBS operator is the highest and location estimates using signal characteristic data from LBSs are the next highest. The confidence for (any) GPS location data is, in general, next highest. Lastly, confidence in a Location Center location data is, in general, lowest. However, such prioritization may vary depending on, for instance, the radio coverage area. In an one embodiment of the present invention, it is an aspect of the present invention that for MBS location data received from the GPS and Location Center, their confidences may vary according to the area in which the MBS  resides. That is, if it is known that for a given area, there is a reasonable probability that a GPS signal may suffer multipath distortions and that the Location Center has in the past provided reliable location estimates, then the confidences for these two location sources may be reversed.","In another embodiment of the present invention, if LBS's  are distributed in an area, these LBS's may be used for assessing the accuracy of the Location Center  and GPS by testing location data from these sources against known LBS locations. Thus, by using this technique, a determination can be made as to which of, for example, the GPS and Location Center MBS estimates are more accurate in a given service area. Alternatively, MBS operators may be requested to occasionally manually enter the location of the MBS  when the MBS is stationary for determining the accuracy of various MBS location estimators.","There is an additional important source of location information for the MBS  that is incorporated into an MBS vehicle (such as a police vehicle) that has no comparable attribute for the network of fixed location BS's. That is, the MBS  may use deadreckoning information provided by a deadreckoning MBS location estimator whereby the MBS may obtain MBS deadreckoning location change estimates. Accordingly, the deadreckoning MBS location estimator may include, for example, an on-board gyroscope, a wheel rotation measurement device (e.g., odometer), and optionally an accelerometer. Thus, such a deadreckoning MBS location estimator periodically provides at least MBS distance and directional data related to MBS movements from a most recent MBS location estimate. More precisely, in the absence of any other new MBS location information, the deadreckoning MBS location estimator outputs a series of new measurements, wherein each such measurement is an estimated change (or delta) in the position of the MBS  between a request input timestamp and a closest time prior to the timestamp, wherein a previous deadreckoning terminated. Thus, each deadreckoning location change estimate includes the following fields:\n\n","That is, the \u201clatest timestamp\u201d is the timestamp input with the deadreckoning request and the \u201cearliest timestamp\u201d is the timestamp of the closest time, T, prior to the latest timestamp, wherein a previous deadreckoning output has latest timestamp equal to T.","Further, the frequency of such measurements may be adaptively provided depending on the velocity of the MBS  and\/or the elapsed time since the most recent MBS location update. Accordingly, the architecture of the MBS on-board location system must be such that it can utilize such deadreckoning information for estimating the location of the MBS .","In one embodiment of the MBS location subsystem described in further detail hereinbelow, the outputs from the deadreckoning MBS location estimator are used to synchronize MBS location estimates from different MBS baseline location estimators. That is, since such a deadreckoning output may be requested for substantially any time from the deadreckoning MBS location estimator, such an output can be requested for substantially the same point in time as the occurrence of the signals from which a new MBS baseline location estimate is derived. Accordingly, such a deadreckoning output can be used to update other MBS location estimates not using the new MBS baseline location estimate.","It is assumed that the error with dead reckoning increases with deadreckoning distance. Accordingly, it is an aspect of the embodiment of the MBS location system that when incrementally updating the location of the MBS  using deadreckoning and applying deadreckoning location change estimates to a \u201cmost likely area\u201d in which the MBS  is believed to be, this area is incrementally enlarged as well as shifted. The enlargement of the area is used to account for the inaccuracy in the deadreckoning capability. Note, however, that the deadreckoning MBS location estimator is periodically reset so that the error accumulation in its outputs can be decreased. In particular, such resetting occurs when there is a high probability that the location of the MBS is known. For example, the deadreckoning MBS location estimator may be reset when an MBS operator manually enters an MBS location or verifies an MBS location, or computed MBS location has sufficiently high confidence.","Thus, due to the MBS  having less accurate location information (both about itself and the MS ), and further that deadreckoning information must be utilized in maintaining MBS location estimates, a first embodiment of the MBS location system architecture is somewhat different from the Location Center  system architecture. That is, the architecture of this first embodiment is simpler than that of the architecture of the Location Center . However, it important to note that, at a high level, the architecture of the Location Center may also be applied for providing a second embodiment of the MBS location system, as one skilled in the art will appreciate after reflecting on the architectures and processing provided at an MBS  and the Location Center . For example, an MBS location system architecture may be provided that has one or more First Order Models (as discussed regarding the architecture of the Location Center) whose output is supplied to, for example, a blackboard or expert system for resolving MBS location estimate conflicts, such an architecture being analogous to one embodiment of the Location Center architecture.","Furthermore, it is also an important aspect of the present invention that, at a high level, the MBS location system architecture as described hereinbelow may also be applied to the Location Center . That is, as one skilled in the art will appreciate after reflecting on the architectures and processing provided at an MBS  and the Location Center . For example, in one embodiment of the Location Center , each of the First Order Models of the Location Center may provide its MS location hypothesis outputs to a corresponding \u201clocation track\u201d, analogous to the MBS location tracks described hereinbelow, and subsequently, a most likely MS current location estimate may be developed in a \u201ccurrent location track\u201d using the most recent location estimates in other location tracks as also described hereinbelow. Note, that the ideas and methods discussed here relating to MBS location estimators and MBS location tracks, and, the related programs hereinbelow are sufficiently general so that these ideas and methods may be applied in a number of contexts related to determining the location of a device capable of movement and wherein the location of the device must be maintained in real time. For example, they may be used by a robot in a very cluttered environment (e.g., a warehouse), wherein the robot has access: (a) to a plurality of robot location estimators that may provide the robot with sporadic location information, and (b) to a deadreckoning MBS location estimator.","Each MBS  has a location display where area maps that may be displayed together with location data. In particular, MS location data may be displayed as a nested collection of areas, each smaller nested area being the most likely area within (any) encompassing area for locating a target MS . Note that the MBS controller algorithm below may be adapted to receive Location Center data for displaying the locations of other MBSs  as well as target MSs .","The MBS  may constrain any location estimates to streets on a street map. For example, an estimated MBS location not on a street may be \u201csnapped to\u201d a nearest street location. Note that a nearest street location determiner may use \u201cnormal\u201d orientations of vehicles on streets as a constraint on the nearest street location. Particularly, if an MBS  is moving at typical rates of speed and acceleration, and without abrupt changes direction. For example, if the deadreckoning MBS location estimator indicates that the MBS  is moving in a northern direction, then the street snapped to should be a north-south running street.","MBS Data Structure Remarks","Assuming the location estimators that were previously mentioned above, the discussion here refers substantially to the data structures and their organization as illustrated in .","The location estimates (or hypotheses) for an MBS determining its own location each have an error or range estimate associated with the MBS location estimate. That is, each such MBS location estimate includes a \u201cmost likely MBS point location\u201d within a \u201cmost likely area\u201d. The \u201cmost likely MBS point location\u201d is assumed herein to be the centroid of the \u201cmost likely area\u201d. In one embodiment of the MBS Location Subsystem, a nested series of \u201cmost likely areas\u201d may be provided about a most likely MBS point location. However, to simplify the discussion herein each MBS location estimate is assumed to have a single \u201cmost likely area\u201d. One skilled in the art will understand how to provide such nested \u201cmost likely areas\u201d from the description herein. Additionally, it is assumed that such \u201cmost likely areas\u201d are not grossly oblong; i.e., area cross sectioning lines through the centroid of the area do not have large differences in their lengths. For example, for any such \u201cmost likely area\u201d, A, no two such cross sectioning lines of A may have lengths that vary by more than a factor of 2.","Each MBS location estimate also has a confidence associated with it providing a measurement of the perceived accuracy of the MBS being in the \u201cmost likely area\u201d of the location estimate.","A (MBS) location track is an data structure (or object) having a queue of a predetermined length for maintaining a temporal (timestamp) ordering of location track entries, wherein each such MBS location track entry is an estimate of the location of the MBS at a particular time.","There is an MBS location track for storing MBS location estimation information from each of the MBS baseline location estimators described above, as well as an additional location track, denoted the \u201ccurrent location track\u201d whose location track entries may be derived from the entries in the other location tracks (described further hereinbelow). Further, for each location track, there is a location track head that is the head of the queue for the location track. The location track head is the most recent (and presumably the most accurate) MBS location estimate residing in the location track. Additionally, for notational convenience, for each location track, the time series of MBS location estimations (i.e., location track entries) in the location track will herein be denoted the path for the location track. Such paths are typically the length of the location track queue containing the path. Note that the length of each such queue may be determined by at least the following factors:\n\n","Also note that it is within the scope of the present invention that the location track queue lengths may be a length of one.","Each location track entry includes:\n\n","Further note that each output from an MBS location estimator has a \u201ctype\u201d field that is used for identifying the source of the output.\n\n","For each MBS location track, there are two categories of MBS location track entries that may be inserted into a MBS location track:\n\n","Further, there are two categories of location tracks:\n\n","In order to be able to properly compare the track heads to determine the most likely MBS location estimate it is an aspect of the present invention that the track heads of all location tracks include MBS location estimates that are for the same (latest) timestamp. However, the MBS location information from each MBS baseline location estimator is inherently substantially unpredictable. In fact, the only MBS location information that may be considered predicable is the deadreckoning location change estimates from the deadreckoning MBS location estimator in that these estimates may reliably be obtained whenever there is a query for the most recent estimate in the change of the location for the MBS. Consequently, by using a deadreckoning location change estimate in conjunction with each MBS location estimate from an MBS baseline location estimator, the location track heads may be synchronized according to timestamp. More precisely, for each MBS location estimate, E, from an MBS baseline location estimator, the present invention queries the deadreckoning MBS location estimator for a corresponding most recent change in the location of the MBS . Accordingly, E and the retrieved MBS deadreckoning location change estimate, C, have substantially the same \u201clatest timestamp\u201d. Thus, the location estimate E may be used to create a new baseline track head for the location track having the corresponding type for E, and C may be used to create a corresponding extrapolation entry as the head of each of the other location tracks. Accordingly, since for each MBS location estimate, E, there is a MBS deadreckoning location change estimate, C, having substantially the same \u201clatest timestamp\u201d, E and C will be hereinafter referred as paired.","Assuming the location estimators that were previously mentioned above, the above location track related definitions are illustrated as in .","The following function is a high level description of an embodiment of a controller for an MBS . Additional description of lower level functions invoked by the following controller are provided in APPENDIX A.\n\n","After having determined wireless location from a base technology perspective, several applications are detailed below, which provide the results of the location information to a variety of users in various channels and presentation schemes, for a number of useful reasons and under various conditions. The following applications are addressed: (1.) providing wireless location to the originator or another, using either the digital air interface voice channel or a wireline channel, and an automatic call distributor; (2.) providing wireless location to the originator, or another, using either the digital air interface voice channel or a wireline channel, and a hunt group associated with the central office or a PBS group; (3.) providing wireless location to the originator or another, using either the digital air interface text paging, or short message service communications channel; (4.) providing wireless location to the originator or another, using the Internet, and in one embodiment, using netcasting or \u201cPush\u201d technology; (5.) selective group, multicast individualized directions with optional Conferencing; (6.) rental car inventory control and dispatch; (7.) vocalized directions and tracking; (8.) wireless location and court ruling\/criminal incarceration validation; (9.) flexible delivery of wireless location information to public safety answering points; (10.) trigger-based inventory and tracking; (11.) group, e.g., family, safety and conditional notification; (12.) wireless location-based retail\/merchandising services; (13.) location-based home\/office\/vehicle security management; (13.) infrastructure-supported wireless location using hand-actuated directional finding; (14.) infrastructure-supported intelligent traffic and highway management; (15.) Parametric-driven intelligent agent-based location services. Each of these wireless location applications is discussed in detail below.","Providing Wireless Location Using an ACD Application","Referring to , a user (the initiating caller) desiring the location of a target mobile station , such as a user at a telephone station  which is in communication with a tandem switch  or a user of an mobile station , or any other telephone station user, such as a computer program, dials a publicly dialable telephone number which terminates on the automatic call distributor  (ACD), associated with the location center . If the caller originated the call from a mobile station , then the call is processed via a base station to a mobile switch center . The mobile switch center recognizes that the call is to be routed to the PSTN  via an interoffice trunk interface . The PSTN  completes the call to the ACD , via a trunk group interface . Note that the initiating caller could access the ACD  in any number of ways, including various Inter-LATA Carriers , via the public switched telephone network (PSTN) . The ACD  includes a plurality of telephone network interface cards  which provide telephony channel associated signaling functions, such as pulse dialing and detection, automatic number identification, winking, flash, off-hook voice synthesized answer, dual tone multi frequency (DTMF) detection, system intercept tones (i.e., busy, no-answer, out-of-service), disconnected, call progress, answer Machine detection, text-to-speech and automatic speech recognition. Note that some of these functions may be implemented with associated digital signal processing cards connected to the network cards via an internal bus system. An assigned telephone network interface card  detects the incoming call, provides an off-hook (answer signal) to the calling party, then provides a text to speech (TTS) message, via an assigned text-to-speech card  indicating the nature of the call to the user, collects the automatic number identification information if available (or optionally prompts the caller for this information), then proceeds to collect the mobile identification number (MIN) to be located. MIN collection, which is provided by the initiating caller through keypad signaling tones, can be achieved in several methods. In one case the network card  can request a TTS message via text-to-speech card , which prompts the initiator to key in the MIN number by keypad DTMF signals, or an automatic speech recognition system can be used to collect the MIN digits. After the MIN digits have been collected, a location request message is sent to a location application . The location application , in concert with location application interface  (more particularly, L-API-Loc , see ), in the location system , is in communication with the location engine . Note that the location engine  includes the signal processing subsystem , and one or more location estimate modules, i.e., DA module , TOA\/TDOA module  or HBS module . The location engine  initiates a series of messages, using the location application programming interface (L-API-MSC ) to the mobile switch center . The location application programming interface  then communicates with one or more mobile switch centers , to determine whether or not the mobile station to be located can be located. Conditions affecting the locateability of the mobile station include, for example: the mobile station being powered off, the mobile station not being in communication range, the mobile station roaming state not being known, the mobile station not being provisioned for service, and related conditions. If the mobile station cannot be located then an appropriate error response message is provided to the initiating caller, via e-mail, using the web server  in communications with the Internet  via an Internet access channel  or alternatively the error response message may be sent to a text to speech card , which is in communications with the initiating caller via the telephone interface card  and the ACD , which is in communication via telephony interface circuits  to the PSTN .","Note that in cases where rendering location estimate information is required on the Internet, the web server  can include the provision of a digital certificate key, thus enabling a secure, encrypted communication channel between the location web server  and the receiving client. One such digital encryption key capability is a web server provided by Netscape Communications, Inc. and a digital certificate key provided by Verisign, Inc. both located in the state of California, U.S.A.","The PSTN  completes routing of the response message to the initiating caller via routine telephony principles, as one skilled in the art will understand. Otherwise the mobile station is located using methods described in greater detail elsewhere herein. At a high level, the mobile switch center is in communication with the appropriate base stations , and provides the location system  with the necessary signal and data results to enable a location estimation to be performed by the location engine . Once the location has been determined by the location engine  in terms of Latitude, Longitude and optionally height if known (in the form of a text string), the result is provided by to the initiator by inputting the location text string to a text-to-speech card , which in turn is in communication with the assigned telephone interface card , via the automatic control distributor , for completing the communication path and providing the location response back to the initiating user via the telephone interface  to the PSTN , and from the PSTN  to the initiating user.","Alternatively the location results from the location application  (e.g., ) could be provided to the initiating caller or Internet user via a web server  in communication with the Internet , via an Internet access channel  and a firewall  (e.g., ). In another embodiment, the location results determined by the location application  may be presented in terms of street addresses, neighborhood areas, building names, and related means familiar to human users. The alternative location result can be achieved by previously storing a relationship between location descriptors familiar to humans and Latitude and Longitude range values in a map database  (). During the location request, the location application  accesses the map database , providing it with the Latitude and Longitude information in the form of a primary key which is then used to retrieve the location descriptor familiar to humans. Note that to those skilled in the art, the map database  and associated messaging between the map database  and the location application  can be implemented in any number of techniques. A straightforward approach includes defining a logical and physical data model using a relational database and designer environment, such as \u201cORACLE 2000\u201d for the design and development, using a relational database, such as the \u201cORACLE 7.3\u201d database.","In an alternative embodiment, the location application  may be internal to the location system  (e.g. ), as one skilled in the art will understand.","Providing Wireless Location Via Hunt Groups Application","Referring to , a user\u2014the initiating caller, such as a mobile station desiring the location of a mobile station , signals to the primary base station , in connection with the mobile switch center  via transport facilities . The mobile switch center  is connected to the PSTN , via interoffice trunks . The initiating user dials a publicly dialable telephone number which is then routed through an end office , to a telephone interface card , via a telephone hunt group . The hunt group  provides a telephony connection to the interface card  associated with the location system . The hunt group trunk interface  is provided from an end office telephone switch . Note that the initiating caller could access the telephony interface card , via hunt group trunk interface  in any number of ways, including an InterLATA Carrier , via the public switched telephone network (PSTN) . The hunt group trunk interface  is in communication with a plurality of telephone interface cards . The interface cards  provide telephony channel associated signaling functions, such as pulse dialing and detection, automatic number identification, winking, flash, off-hook voice synthesized answer, dual tone multi frequency (DTMF) detection, system intercept tones (i.e., busy, no-answer, out-of-service), disconnected, call progress, answer machine detection, text-to-speech and automatic speech recognition. An assigned network interface card  detects the incoming call, provides an off-hook (answer signal) to the calling party, then provides a text to speech (TTS) message indicating the nature of the call to the user, collects the automatic number identification information if available (or optionally prompts the caller for this information), then proceeds to collect the mobile identification number (MIN) to be located. MIN collection can be achieved in several methods. In one case the network card  can request a TTS message, generated by a voice synthesizer or text to speech card , which prompts the initiator to key in the MIN number by keypad tone signals, or an automatic speech recognition system can be used to collect the MIN digits. After the MIN digits have been collected, a location request message is sent to an application  in the location system . The application  in location system  initiates a series of messages to the mobile switch center , and optionally to the home location register , to determine whether or not the mobile station  to be located can be located. If the mobile station  cannot be located then an appropriate error response message is provided to the initiating caller, via e-mail, test to speech card , web server  in communications with the public Internet , or similar means. Alternatively the last known location can be provided, along with the time and date stamp of the last location, including an explanation that the current location is not attainable. Otherwise the mobile station  is located using methods described in greater detail elsewhere in this patent. At a high level, the mobile switch center  is in communication with the appropriate base stations and , and provides the location system  with the necessary signal and data results to enable a location estimation to be performed by the location system . Once the location has been determined by the location system  in terms of Latitude, Longitude and optionally height if known (in the form of a text string), the result is provided back to the initiator by inputting the location text string to a text-to-speech card , in communication with the assigned telephone interface card . The interface card  then provides the audible, synthesized message containing the location estimate to the initiating caller. Alternatively the location results could be provided to the initiating caller via a web server  in communication with the Public Internet , using standard client request-response Internet protocols and technology. location system  access to a geographical information system or other mapping system could also be used to further enhance the user understanding of the location on a map or similar graphical display.","Providing Wireless Location Via Text Paging Application","Referring to , a user (the initiating caller) desiring the location of an mobile station , such as a wireless user using mobile station  who has text paging service provisioned, dials a publicly dialable telephone number, carried to the PSTN  which terminates on an end office  based hunt group interface , which in turn is in communication with the location system . The mobile switch center , local tandem  and interLATA Carrier tandem  are in communication with the PSTN , as those skilled in the art will understand. Note that the initiating caller could also be a wireline user with an ordinary telephone station  in communication with a local tandem , connected to the PSTN . The initiating location request user could access the telephony interface cards  via the hunt group . In other embodiments, including various Inter-LATA Carriers , via the public switched telephone network (PSTN) . The hunt group interface  is in communication with a plurality of telephone network interface cards , which are in communication with the location application . The telephone interface cards  provide telephony channel associated signaling functions, such as pulse dialing and detection, automatic number identification, winking, flash, off-hook voice synthesized answer, dual tone multi frequency (DTMF) detection, system intercept tones (i.e., busy, no-answer, out-of-service), disconnected, call progress, answer machine detection, text-to-speech and automatic speech recognition. Note that some of these functions may be implemented with associated digital signal processing cards connected to the network cards via an internal bus system. An assigned telephony interface card  detects the incoming call, provides an off-hook (answer signal) to the calling party, then provides, if appropriate, a text to speech (TTS) message indicating the nature of the call to the user, collects the automatic number identification information if available (or optionally prompts the caller for this information), then proceeds to collect the mobile identification number (MIN) to be located by sending a location request message to an application  in the location system . The mobile station MIN collection, provided through the communications channel established, is sent by the initiating caller through keypad signaling tones. This MIN collection process can be achieved in several methods. In one case the telephony interface card  can request a text-to-speech message, generated by a text-to-speech card , which prompts the initiator to key in the MIN number by keypad tone signals. In another case an automatic speech recognition system can be used to collect the MIN digits. In either case, after the MIN digits have been collected, a location request message is sent to the location system . The location system  initiates a series of messages to the mobile switch center , via the location applications programming interface (L-API-MSC ), and optionally to the home location register , to determine whether or not the mobile station  to be located can in fact be located. Alternatively the last known location can be provided, along with the time and date stamp of the last location, including an explanation that the current location is not attainable. Conditions regarding the locateability of a mobile station include, for example: mobile station  powered off, mobile station not in communication range, mobile station roaming state not known, mobile station  not provisioned for service, and related conditions. If the mobile station  cannot be located then an appropriate error response message is provided to the initiating caller, via the service node (SN)  for short messaging service (SMS). The service node is in communication with the location system  using a common text paging interface . The service node  accepts the location text paging message from the location system  and communicates a request to page the initiating caller via a typical signaling system 7 link for paging purposes, to the mobile switch center . The mobile switch center  forwards the location text page information to the initiating caller via the appropriate base stations, to the initiating mobile station caller. Otherwise the mobile station  is located using methods described in greater detail elsewhere in this patent. At a high level, the mobile switch center  is in communication with the appropriate base stations, and provides the location system  with the necessary signal and data results to enable a location estimation to be performed by the location system . Once the location has been determined by the location system  in terms of Latitude, Longitude and optionally height if known (in the form of a text string). The location result is provided to the initiator by inputting the location text string to the service node  for short messaging service (SMS). The service node  is in communication with the location system  using a common text paging interface . The service node  accepts the location text paging message from the location system  and communicates a request to page the initiating caller via a typical signaling system 7 link  for paging purposes, to the mobile switch center . The mobile switch center  forwards the location text page information to the initiating caller via the appropriate-base stations or (not shown in ), to the initiating caller, via a text-to-speech card , in communication with the assigned telephone interface card .","Providing Wireless Location Using Internet Push Technology Application","Referring to , a user (the initiating user) desiring the location of an mobile station , who has a push technology tuner  associated with the users client workstation , selects the location channel in the area, and further specifies the mobile station(s)  to be located, with whaf frequency should the location estimate be provided, and other related parameters, such as billing information. The user's client workstation  is in communication with the Internet, optionally via an encrypted communications channel (e.g. channel ) using, for example, Netscape's SSL 3 encryption\/decryption technology. A push transmitter , connected to the Internet  via a web server , detects the client workstation  users request. The transmitter  requests location update information for specified mobile identification numbers through a firewall  and a publisher , in communication with a location channel application  in the location system . The location system  initiates location requests for all mobile station mobile identification numbers for which location information has been subscribed to, then provides the location results to the location channel application .","The location system  initiates a series of messages to the mobile switch center , via the location applications programming interface (L-API-MSC ), and optionally to the home location register (HLR) , to determine whether or not the mobile station  or others, to be located can in fact be located. Alternatively the last known location can be provided, along with the time and date stamp of the last location, including an explanation that current location is not attainable. Conditions regarding the locateability of a mobile station  include, for example: mobile station  powered off, mobile station not in communication range, mobile station  roaming state not known, mobile station  not provisioned for service, and related conditions. If the mobile station  cannot be located then an appropriate error response message is provided to the initiating client workstation , via the push technology components location channel application , publisher , firewall , transmitter , web server , public Internet , to the client workstation . A similar communication mechanism is used to provide the client's workstation  with attained location information.","Note that the location channel  could in fact provide a collection of mobile station  mobile identification numbers for location purposes that are grouped by a particular market and\/or customer organization segment. for example, location channel number 1 could provide enhanced wireless 9-1-1 service to specific public safety answering points, channel number 2 could provide periodic wireless location information of a fleet of taxi cabs belonging to a particular company, to their dispatch operator, channel 3 could provide wireless location to a control center of a military organization, channel 4 could provide wireless location information of vehicles carrying hazardous materials, to a control center, and so forth.","The location channel application  provides the location results to the publisher , which provides a method of adding the new location results to the transmitter , via firewall . The firewall , provides protection services between certain systems and the Internet , such as preventing malicious users from accessing critical computing systems.","Selective Group, Multicast, Individualized Directions Conferencing Application","The group multicast help, with individualized directions, is an application wherein for members of a group that are authorized and nearest a distressed caller, these members are given text paging message instructions on how to drive or navigate, to reach the initiating distressed caller. Alternatively optional voice synthesis technology could be used to aid one or more members to have spoken instruction giving directions and\/or instructions for each member, to help them reach the distressed caller.","Referring to , an individual having a mobile station  desires to make a distress call for help, or for some other reason is shown. The distressed caller with mobile station  dials a special telephone number, received by base station , which then sends the originating call setup request to the mobile switch center . The mobile switch center  routes the originating call through the PSTN  to an automatic call distributor (ACD) . The ACD  selects an available telephony interface circuit , which answers the call and provides introductory information to the caller, such as a greeting message, progress of service, etc., using a voice synthesizer circuit card . Note that circuits  and  may be combined as voice response units. The telephony interface circuit  collects the automatic number identification information if available in the call setup message or optionally prompts the caller for this information. This MIN collection process can be achieved in several methods. In one case the network telephony interface card  can request a TTS (text to speech) message, generated by a voice synthesizer card , which prompts the initiator to key in their MIN number by keypad tone signals. In another case an automatic speech recognition system can be used to collect the MIN digits. In either case after the MIN digits have been collected, a location request message is sent to the location system . The location system or location center (LC)  initiates a series of messages to the mobile switch center , via the location applications programming interface (L-API-MSC ), to determine whether or not the mobile station  to be located can in fact be located. If the mobile station  cannot be located then an appropriate error response message is provided to the initiating caller. Otherwise the LC  determines the caller's location via methods discussed elsewhere in this patent. While this event is proceeding an application in the LS  references the initiating callers location subscriber profile database (, ) to determine if the caller allows others to locate him or her, and specifically which individuals are allowed to be informed of the caller's location.","Assuming the caller allows location information to be sent out to a select group, then the list of members mobile station identification numbers (MIN)s are extracted from the profile database (, ), and an application in the LC  initiates a series of messages to the mobile switch center , via the location applications programming interface (L-API-MSC ), to determine the locations of each of the users' mobile station mobile identification numbers associated with the member list. Regarding those mobile station mobile identification numbers whose mobile stations are nearest the distressed caller, each member's mobile station is dialed via a control message sent from an application in the LC  to the telephony interface card . A voice synthesizer card  or text to speech circuit is also patched in the calling circuit path, to announce the purpose of the automated call to each member. The ACD  initiates the call request to each member via the PSTN , which connects to the mobile switch center , that ultimately rings the members mobile station  and  via base stations . An application in the LC  identifies a start and finish location destination location for a member, based on his\/her current location as being the start location, and the finish location being the distressed callers location at mobile station MIN. The application in the LC  initiates a http or similar Internet compatible protocol universal resource locator (URL) request via the web server\/client  to the public Internet , which terminates on a maps, directions web server . One such URL known to the authors is Lucent Technologies' http:\/\/www.mapsOnUs.com, which is provided for public use. The map\/directions server  queries the map base  via a directions algorithm, and returns to the initiating http request, the location web server , with a list of instructions to enable a user to navigate between a start location and end location. Referring to , the information such as shown in the columns labeled \u201cTurn #\u201d, \u201cDirections\u201d, \u201cAnd Go\u201d, and\/or \u201cTotal Miles\u201d, can then be parsed from the http response information. Referring now to , this information can then be sent as a short text message, to the relevant mobile station  or  via the service node , using interface  to the mobile switch center , and relevant base stations , assuming each member mobile station has short message service provisioned. If this is not the case, the service node  will inform the application within the LS , which then initiates an alternative method of sending the start-finish location navigation instructions information via an appropriate voice synthesizer card  and associated telephony interface card . The interface card  initiates an automated call to each appropriate members mobile station  and , via the telephony path including components ACD  in communication with the PSTN , which is in communication with the mobile switch center . The mobile switch center  completes the routing of the automated call to the appropriate mobile station  and  using base stations . The above process is repeated for each nearby member's mobile station, thus allowing all nearby members to be notified that the distressed caller needs help, with navigation instructions to each member, which enables the member to reach the distressed caller. Variations of this application include putting each relevant party in communication with each other via a conference call capability in the ACD , with or without providing location information and\/or start-finish navigation instructions.","Rental Car Inventory, Tracking and Control Application","An application in the location system utilizes periodic wireless location of appropriate rental cars, control circuits and control communications within the rental car, and secured transactions across the Internet, or similar means, in order to provide various tracking and control functions. Such functions allow rental car agencies to remotely control and operate their rental cars in order to reduce operating costs such as storage and maintenance, as well as provide additional conveniences and services to rental car agency customers.","Referring to , a vehicle  containing various sensors and actuators (not shown) used to, for example, lock and unlock car doors, sense door position, keypad depressions, sense the condition of the engine and various subsystems, such as brakes, electrical subsystems, sense the amount of various fluid levels, etc., is in communication with a vehicle-based local area network , which is in turn connected to a mobile station  containing asynchronous data communications capability. The vehicle-based local area network may optionally contain a computer (not shown) for control and interfacing functions. The mobile station  is always in communication, using the radio air interface with at least one base station , and possibly other base stations . The base stations and are in communication with the mobile switch center  via transport facilities . The mobile switch center  is in communication with the location system  and the public switched telephone network  via interoffice trunks . In addition the mobile switch center  is also in communication with the location system  via the location system-mobile switch center physical interface . The physical interface  provides two-way connections to the location applications programming interface (i.e., L-API-MSC ), which is in communication with a location engine , which performs wireless location estimations for the mobile station (, ) which is permanently mounted in the vehicle . The location engine  represents key components within the location system  which together comprise the capability to perform wireless location estimations. The rental car location application  is in communications with the location engine  for purposes of initiating wireless location requests regarding the mobile station , as well as for receiving wireless location responses from the location engine . The application  is in communications with the automatic call distributor  for purposes of initiating and receiving telephone calls to and from the public switch telephone network , via hunt group interface . As one skilled in the art will appreciate, other interfaces (not shown) beyond hunt groups , can alternatively be used, such as ISDN interface circuits, T-carrier and the like. The application  is in communication with a web server and client , which in turn is in communication with the Internet  via an Internet access interface . As those in the art will understand, an Internet access interface is typically provided by an Internet service provider, also there are other methods which could be used to complete the Internet connection. The rental car agency contains a workstation or personal computer  with an Internet access interface  to the Internet . The application  requests of the location engine  to perform a location request periodically regarding the mobile station , with the location response information provided the web server and client, . For each rental car or vehicle containing a mobile station , the location, as well as various information about the rental car or vehicle can be ascertained via the above described infrastructure.","911 Application with Wireless Location of the Caller Reporting an Incident","An application in the location system operates in conjunction with an application in each public safety answering point (PSAP) that together provides various call handling functions to enable the PSAP to perform its work load efficiently and effectively toward unique emergency events unique to a given location. The application pair measures the number of emergency 9-1-1 wireless calls originating from a particular geographical area or location. Upon exceeding a provisional threshold value \u201cX\u201d, the application pair traps the next incoming call from the same location and provides a call screening function via a play announcement and collect digits activity. This activity alerts the originating caller that if their call relates to an incident at a particular location, then they are the \u201cX+1 th\u201d caller who has already notified the PSAP, and that no further caller discussion is required. However, if the caller's intent does not relate to the incident described above, then the caller is requested to press or say \u201cone\u201d, or some similar keypad number, which then is collected and causes the caller to be re-routed to the next available PSAP call taker. Alternatively if the originating caller does not respond within a short time period, then the call is also re-routed to the next available PSAP call taker. The voice announcement may either be synthesized by a text-to-speech card, or an PSAP operator may store a voice message which describes the incident at the above-referenced location.","Visualization Applications Using Wireless Location","An application of the wireless location system disclosed herein can be used to enable geographic visualization applications, wherein one or more geographic areas of interest are presented as visual geographic images or maps with annotations thereon indicative of, e.g., a relative interest a mobile station user may have in such geographic areas. In particular, such geographic areas may be color coded on a map according to an expected interest the user may have in different ones of the areas. For example, a mobile station user may be desirous of finding a parking space in a large parking facility such as at an airport parking facility, municipal parking (on, e.g., downtown streets or parking garages), or a shopping mall. If the parking facility has electronic monitoring for monitoring parking spaces therein, then parking spaces (e.g., for automobiles or other modes of transportation) can be readily identified as being occupied or available via such electronic monitoring so that a mobile station user can view on his\/her mobile station a map of the parking facility with a designated color (e.g., bright green) identifying one or more nearby available parking spaces, and optionally providing a route to one of the parking spaces. Of course, there may be no guarantee that the user will arrive at one of the parking spaces prior to it being taken by someone else. However, if another takes the parking space, then the user can be notified of the parking space's unavailability potentially substantially before travelling to the unavailable parking space. Note that notifications of available parking spaces in real time (or nearly so) can be provided by, e.g., marking a center of each parking space with a distinctive insignia or design that can be readily identified via video input from one or more electronic monitoring devices that view the parking spaces. In particular, when a parking space is available, the insignia or design on the parking space is visible to one of the video monitors, and when an automobile (or other vehicle) is parked in the parking space, the insignia or design on the parking space is at least partially occluded (more preferably, substantially occluded). Accordingly, such video input can be provided to computational equipment for recognizing the predetermined insignia(s) or design(s) painted, taped or otherwise attached to the parking spaces. Such symbol recognition computational devices may be modified versions of bar code readers, or, e.g., techniques as disclosed in U.S. Pat. No. 7,274,823 by Lane, which is fully incorporated herein by reference, wherein symbols embedded in digital video signals are recognized.","Of course, in providing parking space information to the user, both the location of an empty parking space and the users location preferably should be known or determined so that the user may be navigated to an empty parking space. In addition to a service for locating such empty parking spaces for users in, e.g., parking garages, shopping malls, street parking in downtown areas, etc., other services may also be provided which rely on wirelessly locating mobile station users and\/or the resources for such users. In particular, such users may request notifications for assisting in locating other resources such as a nearby restaurant having a reduced (or no) wait time for service, a hotel or motel having a vacancy, a campsite at a campground, a theme park (or other) attraction having a reduced (or no) wait time.","The following high level pseudo-code is a simplified illustration of the processing performed regarding user notification of: (1) available resources that cannot be typically reserved prior to actual use, such as available parking spaces, available campsites, available gaming locations (at a machine or gaming table) in a casino, and\/or (2) resources (e.g., restaurants, theme park attractions, convention presentations) that are determined to require less user time to access than other similar resources.",{"@attributes":{"id":"p-0482","num":"0883"},"tables":{"@attributes":{"id":"TABLE-US-00015","num":"00015"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"336pt","align":"left"}},"thead":{"row":{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"User activates, at his\/her mobile station (e.g., MS 140, or merely MS herein), an application (APP) that provides"},{"entry":"\u2003\u2003notifications of an availability of one or more resources of interest to the user, at one or more geographical"},{"entry":"\u2003\u2003locations of interest to the user;"},{"entry":"If not previously authorized, the user authorizes the application to wirelessly locate the MS;"},{"entry":"Put an identification of the user (or the MS) on a queue of users waiting for one of the resources;"},{"entry":"The application APP periodically commences requesting wireless locations of the MS at a frequency dependent"},{"entry":"\u2003\u2003upon, e.g., an expected or appropriate speed of the MS, and\/or a change in direction of the MS, and an"},{"entry":"\u2003\u2003expected change in the availability of the resources;"},{"entry":"While (an MS wireless location is periodically received) AND"},{"entry":"\u2003\u2003(the MS is in proximity for still seeking an available resource) AND"},{"entry":"\u2003\u2003(there has been no termination of the application APP by the MS user in seeking one of the resources) AND"},{"entry":"\u2003\u2003(a resource has not been allocated to the MS, more particularly, the user thereof)"},{"entry":"DO { \/* However, when (a resource has been allocated to the MS, more particularly, to the user thereof) OR (all"},{"entry":"\u2003\u2003resources become unavailable) independently of the processing of this \u201cWhile\u201d loop, then interrupt \u201cWhile\u201d"},{"entry":"\u2003\u2003loop processing, rollback any resource allocation made in this loop to the user, dequeue the user, and exit"},{"entry":"\u2003\u2003this loop immediately *\/"},{"entry":"\u2003\u2003\u2003\u2003For each most recent wireless location of the MS received DO {"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003AvailResources \u2190 Obtain locations of the currently available resources, wherein these locations"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003are up dated when there is a change in the status of the currently available resources;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\/* the terms \u201cavailable\u201d and \u201cavailability\u201d may be understood as: (1) indicative of an output"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003providing a binary (e.g., yes\/no or true\/false) result, and (2) dependent upon a threshold"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003number of users that can be effectively supported by the resource (e.g., up to a"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003predetermined threshold number of users can be appropriately supported by the resource"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003simultaneously or during a time interval, but the resource degrades, fails, and\/or is not"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003appropriately effective when the number of users for the resource exceeds the"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003predetermined threshold number. *\/"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003If (SIZEOF(AvailResources) is zero) then"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003{\u2003If (there is no active timer running to prevent notification) then {"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003transmit a notification to the MS informing its user that no resources are currently"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003available;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003If (received user input indicates the user wants APP to continue looking for a resource for"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003the user) then"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003Send next user notification only when there is an available and unallocated resource,"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003or, a predetermined elapsed time of a timer (activated here) has expired, e.g., 3"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003minutes;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003}"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003Else Exit While loop;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003} ElseIf (all resources are allocated, but at least one is available) then"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003{\u2003If (there is no active timer running to prevent notification) then {"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003transmit a notification to the MS informing its user that a resource may be available, but all"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003have been allocated;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003If (received user input indicates the user wants APP to continue looking for a resource for"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003the user) then"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003Send next user notification only when there is an available and unallocated resource,"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003or, a predetermined elapsed time of a timer (activated here) has expired, e.g., 3"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003minutes;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003}"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003} ElseIf (the location of the user's MS is near an available and unallocated resource) AND (no other"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003user, that has been seeking a resource longer, is at least as near the available and"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003unallocated resource) then {"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003allocate the resource to the user;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003transmit a notification to the MS informing its user of an available resource, and"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003provide directions to the resource; the notification may include information for"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003navigating the user to the resource; such information may be graphically provided"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003on a map showing the location of the user and\/or the resource;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003dequeue the user, but save user's state in case user needs to be re-queued due to"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003the resource being taken by another before the user gets it;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003delete any active timer for the user;"},{"entry":"\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003\u2003}"},{"entry":"\u2003\u2003\u2003\u2003} ENDDO"},{"entry":"} ENDDO;"},{"entry":"If (the user allocated resource becomes unavailable) AND (the user's MS is not at the resource) AND (the user"},{"entry":"\u2003\u2003has not obtained, reserved, registered at another one of the resources) then {"},{"entry":"\u2003\u2003\u2003\u2003Re-queue the user without resetting the user's resource seek time;"},{"entry":"\u2003\u2003\u2003\u2003GOTO the While loop above;"},{"entry":"}"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]}}}}},"Note that machine instructions for embodying variations of the above pseudo-code may be used for routing users to available gaming machines in a casino, routing user's to available attractions in an amusement or theme park, and\/or routing user's to the most sparely populated ski lifts at a ski resort. The present disclosure has been presented for purposes of illustration and description. Further, the description herein is not intended to limit the present disclosure to the form disclosed herein. Consequently, variation and modification commiserate with the above teachings, within the skill and knowledge of the relevant art, are within the scope of the present disclosure. The present disclosure is further intended to explain the best mode presently known of practicing the invention as recited in the claims, and to enable others skilled in the art to utilize the present disclosure, or other embodiments derived therefrom, e.g., with the various modifications required by their particular application or uses of the present disclosure. \n\n\n\n\n\n\n\n\n\n\n\n\n"],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0101","num":"0244"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0102","num":"0245"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0103","num":"0246"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0104","num":"0247"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0105","num":"0248"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0106","num":"0249"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0107","num":"0250"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0108","num":"0251"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0109","num":"0252"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0110","num":"0253"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0111","num":"0254"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0112","num":"0255"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0113","num":"0256"},"figref":"FIG. 13"},{"@attributes":{"id":"p-0114","num":"0257"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0115","num":"0258"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0116","num":"0259"},"figref":"FIG. 16"},{"@attributes":{"id":"p-0117","num":"0260"},"figref":"FIG. 17"},{"@attributes":{"id":"p-0118","num":"0261"},"figref":"FIG. 18"},{"@attributes":{"id":"p-0119","num":"0262"},"figref":"FIG. 19"},{"@attributes":{"id":"p-0120","num":"0263"},"figref":"FIG. 20"},{"@attributes":{"id":"p-0121","num":"0264"},"figref":"FIG. 21"},{"@attributes":{"id":"p-0122","num":"0265"},"figref":"FIG. 22"},{"@attributes":{"id":"p-0123","num":"0266"},"figref":"FIG. 23"},{"@attributes":{"id":"p-0124","num":"0267"},"figref":"FIG. 24"},{"@attributes":{"id":"p-0125","num":"0268"},"figref":"FIG. 25"},{"@attributes":{"id":"p-0126","num":"0269"},"figref":"FIG. 26"},{"@attributes":{"id":"p-0127","num":"0270"},"figref":"FIG. 27"},{"@attributes":{"id":"p-0128","num":"0271"},"figref":"FIG. 28"},{"@attributes":{"id":"p-0129","num":"0272"},"figref":"FIG. 29","b":"20"},{"@attributes":{"id":"p-0130","num":"0273"},"figref":"FIG. 30"},{"@attributes":{"id":"p-0131","num":"0274"},"figref":"FIG. 31"},{"@attributes":{"id":"p-0132","num":"0275"},"figref":"FIG. 32"},{"@attributes":{"id":"p-0133","num":"0276"},"figref":"FIG. 33"},{"@attributes":{"id":"p-0134","num":"0277"},"figref":"FIG. 34"},{"@attributes":{"id":"p-0135","num":"0278"},"figref":"FIG. 35"},{"@attributes":{"id":"p-0136","num":"0279"},"figref":"FIG. 36"},{"@attributes":{"id":"p-0137","num":"0280"},"figref":"FIG. 37"},{"@attributes":{"id":"p-0138","num":"0281"},"figref":"FIG. 38"},{"@attributes":{"id":"p-0139","num":"0282"},"figref":"FIG. 39"},{"@attributes":{"id":"p-0140","num":"0283"},"figref":"FIG. 40"},{"@attributes":{"id":"p-0141","num":"0284"},"figref":"FIG. 41"},{"@attributes":{"id":"p-0142","num":"0285"},"figref":"FIG. 42"},{"@attributes":{"id":"p-0143","num":"0286"},"figref":"FIG. 43"},{"@attributes":{"id":"p-0144","num":"0287"},"figref":"FIG. 44"},"FIGS. (), () and () is a high level diagram of an embodiment of the Location Center .",{"@attributes":{"id":"p-0146","num":"0289"},"figref":"FIG. 46"},{"@attributes":{"id":"p-0147","num":"0290"},"figref":"FIG. 47"},{"@attributes":{"id":"p-0148","num":"0291"},"figref":"FIG. 48"},{"@attributes":{"id":"p-0149","num":"0292"},"figref":"FIGS. 49","b":["49","1","49","2","49","3","49","4","142"]}]},"DETDESC":[{},{}]}
