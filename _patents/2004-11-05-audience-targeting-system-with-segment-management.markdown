---
title: Audience targeting system with segment management
abstract: Systems, methods and apparatus for delivering content to an audience member over a computer network. A console allows a user to define audience segments that are organized in hierarchical fashion. The segments are then calculated by collecting profile data for audience members and determining whether members have attributes that a defined by the audience segments. The hierarchical definition of segments allows audience segments to be logically combined and facilitates efficient recalculation of audience segments. Profile synchronization provides an authoritative identifier that is used to reconcile the potential issuance of multiple identifiers for a given audience member.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08150732&OS=08150732&RS=08150732
owner: Tacoda LLC
number: 08150732
owner_city: New York
owner_country: US
publication_date: 20041105
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION OF THE INVENTION"],"p":["This application is a continuation-in-part of U.S. patent application Ser. No. 10\/669,791, filed on Sep. 25, 2003, and entitled \u201cSystem and Method for Segmenting and Targeting Audience Members,\u201d which claims the benefit under 35 USC \u00a7119 of Provisional Patent Application No. 60\/491,521, filed on Aug. 1, 2003. The entire contents of these Applications are hereby incorporated by reference.","This application is also related to U.S. patent application Ser. No. 10\/981,758, filed on Nov. 5, 2004, and entitled \u201cAudience Targeting System with Profile Synchronization\u201d.","1. Field of the Invention","This invention relates generally to audience targeting and more particularly to segment management and profile synchronization in an audience targeting environment.","2. Description of the Related Art","Targeted marketing has long been known as an effective method for reaching consumers. When the consumer receives only relevant content (advertisements, etc.) from a provider, the consumer is more likely to patronize the particular provider, make purchases, and provide additional personal information that may assist in refining the provider's \u201cview\u201d of the consumer. As such, targeted marketing can lead to a more focused and robust interaction with the consumer. This, correspondingly, can lead to a more rewarding interaction for the provider by generating increased revenue.","In order to effectively target a consumer, it may be desirable for marketing systems to react to consumer information received from a variety of online and offline sources. These sources may include databases and servers, as well as multiple web properties within a network of affiliated websites. Moreover, the consumer information may be collected from a variety of sources in diverse formats. It may also be desirable for marketing systems to interact with the systems that actually deliver the content to the user. In short, an effective marketing system may appreciate the characteristics and preferences of a specific user regardless of the number or type of channels through which contact with the user is made.","Some known systems, however, are only adapted to receive information from a single source (e.g., registration information provided by the consumer). Other systems may receive information from multiple sources, but are unable to usefully combine information relating to the same consumer and communicate it to the necessary content delivery system. Thus, it may be desirable to have a system and method for delivering content that integrates with and aggregates data from various sources, including the underlying systems that deliver content to the consumer.","Known systems for delivering targeted content to consumers are focused on reaching the greatest quantity of consumers, without considering the value of interacting with each particular consumer. For example, some systems may deliver \u201ctargeted\u201d content to each member of a group of consumers based on the fact that each subscribes to the same magazine. These systems, however, do not consider that only a portion of the group may make on-line purchases, for example, in addition to subscribing to the magazine. This failure to recognize and differentiate \u201cvaluable\u201d consumers can lead to lost revenue for the content provider. In addition, the delivery of content to a significant volume of low-value consumers may expend valuable system resources. Accordingly, it may be desirable to have a means of delivering the appropriate content to the appropriate user in order to maximize the value of the relationship between the provider and the consumer.","Another problem with content delivery systems is that the information upon which targeting is based may rapidly become stale. An audience member deemed to have particular characteristics may no longer have such characteristics by the time content is delivered. New potential audience members may also become available after determination of a targeted group. The volatility of audience member characteristics and the high volume of information to be processed both present difficulties to systems that seek to target well tailored audiences.","Still another problem with content delivery systems, particularly those that seek to collect information and deliver content to particular audience members over the Internet, is the potential for faulty identification of audience members. For example, some systems may use cookies to attempt to uniquely identify an audience member. This presents potential problems because a given person may use several computers and thereby generate several cookies. Software and browser maintenance activities may also prompt the deletion of cookies. Furthermore, there may be computers that are commonly used by numerous uses. Each of these factors may prompt the proliferation of unnecessary and sometimes erroneous profiles.","What is needed is an audience targeting system that organizes profile data in a fashion that is more user friendly and facilitates improved calculation and recalculation of audience members to target, as well as techniques for reconciling the proliferation of unnecessary and\/or erroneous profiles.","According to one aspect, the present invention provides an audience targeting system and corresponding methods and computer program products for managing audience segments. In one embodiment, a hierarchical architecture for defining and managing audience segments is provided. The hierarchical architecture facilitates efficient calculation of the membership of audience segments. Tables that identify lists of audience members belonging to particular segments may be maintained. These membership lists may be logically combined to determine the membership of dependent (e.g., child) audience segments. The membership in audience segments may also be efficiently recalculated by determining audience members who respectively enter and exit audience segments, with calculation for segments propagating through the hierarchical architecture.","According to another aspect, the present invention provides profile synchronization. In one embodiment, a profile identifier is a system based identifier that uniquely identifies an audience member. An authoritative identifier (e.g., a registration identifier) is also sought and maintained in association with a profiled audience member. An authoritative identifier may be identified in connection with some collected profile data. Maintenance of associations between authoritative identifiers and profile identifiers allows such collected profile data to be properly associated with a particular audience member despite the absence of a profile identifier in the collected data. Maintenance of associations between profile identifiers and external (e.g., cookie) identifiers also allows determination that multiple such identifiers correspond to a particular audience member.","The present invention can be embodied in various forms, including business processes, computer implemented methods, computer program products, computer systems and networks, user interfaces, application programming interfaces, and the like.","In the following description, for purposes of explanation, numerous details are set forth, such as flowcharts and system configurations, in order to provide an understanding of one or more embodiments of the present invention. However, it is and will be apparent to one skilled in the art that these specific details are not required in order to practice the present invention.","One embodiment of the system  for delivering content to an audience member is shown in . The system  includes a first server  which hosts an extractor program . The first server  is operatively connected to one or more offline databases , and one or more external content servers . The offline databases  and external content servers  are also operatively connected to one or more web servers . The web servers  may provide website pages to an audience member computer  in a conventional manner. The web servers  are also operatively connected to a targeting engine program  resident on a second server . The first and second servers  and  may be operatively connected to a third server  which contains a database  (referred to as the data warehouse) for storing audience member profile data. In some embodiments of the present invention, the same server may act as the first, second, and\/or third servers , , and . A control console  may be operatively connected to the third server .",{"@attributes":{"id":"p-0033","num":"0032"},"figref":"FIG. 2","b":["110","132","152"]},"With continued reference to , data collection and profile generation may involve the offline databases , the extractor program , and the data warehouse . Initial profile information about individual audience members may be collected from available databases, such as a registration database  and a subscription database  by the extractor . Registration and subscription databases  and  may include audience member profile data collected as a result of the audience member registering with, or subscribing to, any type of service, including but not limited to an Internet, magazine, newspaper, newsletter, cable, telephone, or wireless service, for example. These registration and subscription databases may include a wide variety of profile information such as name, gender, age, birth date, home and work addresses, telephone numbers, credit and charge card information, marital status, income level, number and age of children, employment history, hobbies, recent purchases, educational status, interests, preferences, and the like, for example.","The extractor  is a program that is used to parse and identify audience member profile data from within a set of data. The extractor  may be constructed using Java, Perl, C++, C#, SQL, or any other similar programming language. The extractor  may be resident on a server , or multiple servers. The extractor  may be governed by a set of extraction rules that determine the source(s) and format(s) of profile data that may be used to create a profile for an audience member, and the categories of profile data to be collected. The extraction rules may include a series of text rules (using matching utilities such as string matching or regular expressions) that are used to transform data in one form into a more standardized form while removing unneeded data. The extraction rules may include, for example, a statement such as \u201cif string contains \u2018A\u2019 then output result \u2018B\u2019.\u201d","The extractor  is operatively connected to a database  referred to as the data warehouse . The data warehouse  may be provided on a second server , and may be used to store the profile and segment affinity data relating to audience members. The extractor  may routinely update the profile and segment affinity data in the data warehouse . As new or modified profile data becomes available from the offline databases , the extractor  may modify the profile data for an audience member. The extractor  may also receive profile data directly from the audience member computer  and\/or the targeting engine  that indicates the website pages visited, the web searches conducted, and the emails received by the audience member.",{"@attributes":{"id":"p-0037","num":"0036"},"figref":["FIG. 3","FIG. 3"],"b":["122","210","140","122"]},"The extraction rules determine the profile data that is collected. In step , the profile data extracted from the offline sources may be stored in the data warehouse. As there may be a need to determine the profile data that is associated with a particular audience member, the extractor may assign a unique identifier to the profile data in step . The unique identifier may be a string of numeric, alphabetic, alphanumeric, or other characters that may be used to identify one audience member.","In step , the unique identifier may be used to identify content visited by the audience member. The unique identifier may be so used by including it in a domain cookie associated with each website page visited by the audience member. Each of these domain cookies may be stored on the computer associated with the audience member, and may be used to identify each particular website page visited by the audience member as being associated with the unique identifier. In step , the extractor may determine the domain cookies that are stored on the audience member's computer. Because these domain cookies include the unique identifier that identifies the particular audience member, the extractor may use these cookies to modify the profile data for a particular audience member to reflect that the audience member visited the website pages associated with the cookies. By combining the profile data obtained from the offline databases with the profile data updates that occur as a result of the audience member visiting website pages, a complete set of profile data may be collected for an audience member, reflecting both offline and online behavior and characteristics for the audience member.","Tracking the online history of an audience member requires that the system be able to uniquely identify audience members. This tracking may be accomplished by combining a unique identifier for each audience member with website pages in the network that the audience member has visited.","A method of providing the unique identifier in each of the domain cookies associated with a number of related website pages is illustrated in . Each of the domain cookies associated with the website pages visited by the audience member may be modified to include the unique identifier by designating one of the related website page domains as the primary website domain. A primary domain cookie with the unique identifier is established for the primary website domain. Usually, a network will already have a domain that can be used for this purpose. If not, one of the domains in the network may be designated as the primary domain.","With reference to , an audience member browser  initiates the process in step  by requesting a website page from a site within the network, www.domain1.com . Responsive to the website page request directed to www.domain1.com , a page is returned to the browser  with an image tag which may reference the targeting engine  at te.domain1.com in step . In step , an image request is sent from the browser  to the targeting engine . If a unique identifier is not included in the request, in step  a redirect is sent to the browser  to the targeting engine  now referenced as te.primarydomain.com. The redirect includes a reference to the original targeting engine reference in step , te.domain1.com. For example, the redirect may be http:\/\/te.primarydomain.com\/blank.gif?te.domain1.com. In step , the browser  may send this redirect request to te.primarydomain.com. Responsive to this request, in step  a primarydomain.com cookie containing a unique identifier for the audience member is assigned to the browser . In step , a second redirect is made of the browser  to te.domain1.com, that may include the same unique identifier as set in the primary domain cookie. For example, the redirect may be http:\/te.domain1.com\/blank.gif?tid=7dha6wlk9927sha. In step , the redirect request is returned with the originally requested image and a domain1.com cookie with the same unique identifier as the primarydomain.com cookie.","After the process illustrated in  is completed, an audience member visit to another website in the network, such as www.domain2.com, may result in a request for an image at te.domain2.com. If the Targeting Engine  does not detect a domain2.com cookie with a unique identifier following the image request, the Targeting Engine  may redirect a request to primarydomain.com for a cookie. Responsive to this request to primarydomain.com, the primarydomain.com cookie is read and a redirect is sent back to the browser  containing the unique identifier contained in the primary domain.com cookie. The unique identifier in the primarydomain.com cookie is the same as previously set. The requested image may then be sent to the browser  along with the domain2.com cookie which may have the same unique identifier as the primarydomain.com cookie. This process of providing a domain cookie with the unique identifier is carried out each time the audience member visits a new website page for the first time so long as the new website is related to the other websites in the network from the viewpoint of the Targeting Engine.","The Targeting Engine  may be a standalone web server, running on Apache, and using a MySQL database on a shared server, although the Targeting Engine  may be variously realized using alternative software and separate servers for Apache and the database. The Targeting Engine  may direct the setting of an additional cookie that may contain one or more segment identifiers. These cookies may then be used by other servers, such as, for example, an ad server, an email server, a streaming media server, and\/or a web content server, to deliver targeted content to a particular audience member based upon one or more segments in the cookie.","With renewed reference to , the audience segmentation and analysis stage may be carried out by the data warehouse . The data warehouse  may assign a particular audience member to one or more segments based upon common profile characteristics. A segment of audience members may be defined as a group of audience members to which the system user (such as an advertiser) desires to send the same content. For example, returning to the example discussed above, a segment of audience members may be defined as all audience members that the system user selects to receive a particular golf advertisement. The selection of the audience members for receipt of this advertisement may be based on one or more audience member characteristics in the profile data.","A method of associating an audience member with a segment is illustrated in . In step , the profile data attribute values of audience members who will qualify for inclusion in the segment may be defined by a set of segment rules. The segment rules may be selected using the console . Any of number and\/or range of profile data attribute values may be used to govern qualification for a segment. In step , the data warehouse  may search the profile data to determine the audience members that qualify for the audience segment. This search may be carried out at the request of the system user, and if desired, on a routine basis, such as daily. In this manner, membership in the audience segment may be maintained up to date. In step , the data warehouse  may store segment affinity data to indicate the audience members that are included in a particular segment. It is appreciated that the segment affinity data may indicate that an audience member is in more than one segment. The segment affinity data is defined by a set of rules based upon the behavior and characteristics in the audience profile. Once a set of rules that define the segment affinity data are identified, a segment identifier is assigned to that particular set of rules. This segment identifier is then sent to the Targeting Engine , along with the audience unique identifier assigned previously by the Targeting Engine . In step , when the Targeting Engine  is notified that an audience member has requested a website page in the network, the Targeting Engine stores a segment-targeting cookie on the audience member's computer. The segment-targeting cookie includes the segment identifier that identifies the segments that the audience member is included in. The method of storing the segment-targeting cookie on an audience member computer is described in further detail below in connection with .","Profile data for audience members may also be manually analyzed to build segments. With renewed reference to , the server or servers that host the Targeting Engine  and the data warehouse  may be operatively connected to the console . The console  may be used to designate the offline databases used to initially populate the data warehouse with profile information, to set the rules for collecting profile information, and to create and view reports showing audience member profile data, audience member segment affinity data, and audience member Internet activity.","A method of delivering targeted content to an audience member based on the segment affinity data is illustrated in . With reference to , an audience member requests a website page in the network of related websites in step . The Targeting Engine is notified of the website page request in step . Responsive to the audience members request for a website page, in step  the Targeting Engine determines whether or not a domain cookie, associated with the requested website page, includes a unique identifier for the audience member. If a unique identifier is not identified, the Targeting Engine will provide a website domain cookie with a unique identifier as described above in connection with . Once a website domain cookie is provided with a unique identifier, in step  the Targeting Engine may determine whether or not a segment-targeting cookie is already associated with the audience member in the data warehouse. The segment-targeting cookie may include a segment identifier that indicates the segment(s) to which the audience member belongs. If segment affinity data is stored in the data warehouse for the audience member, then a segment-targeting cookie is created and stored in the audience member computer with the appropriate segment identifier in step . In step , content may be delivered to the audience member based on the segment identifier in the segment-targeting cookie stored in the audience member computer.","If no segment-targeting cookie is identified in step , the Targeting Engine may query the data warehouse for any segment affinity data associated with the audience member. If no segment affinity data is stored for the audience member, a default segment-targeting cookie may be stored in the audience member computer. The default segment-targeting cookie may automatically expire after some fixed period of time, such as one day for example.","Once a segment-targeting cookie is stored on the audience member computer, the Targeting Engine may periodically update it with new segment affinity data for the audience member. Updating may occur automatically at fixed intervals, and\/or in response to modifications to the profile data for the audience member.","A wide variety of content may be provided to the audience member as a result of the segment-targeting cookie being stored on the audience member computer. With renewed reference to , content may include, but is not limited to website page advertisements, pop-up advertisements, emails, or the like.","The system  of the present invention is adapted to segment and target audience members for delivering content to an audience member across a plurality of digital mediums. The digital mediums may be heterogeneous, and may include, but are not limited to, a website network, a cable system, a non-web based internet network, a wireless communications system, such as a cellular phone or RF network, and\/or any digital medium in which the means for interfacing the audience member with the digital content is uniquely addressable. It is contemplated that the digital medium may include other consumer technologies not yet developed.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":"FIG. 7","b":["400","400","480","400","450","480","450","460","460","450","460","430","400","460","10","440","10"]},"The digital cable network  may further include a cable company website provided by a web server  and accessible by the audience member via the Internet. The audience member may access the website  to request a service, such as, for example, ordering a movie, placing a repair order, and changing the level of cable service. The audience member may access the website  by providing the audience member's cable network identifier.","The system of  may be operated as follows for delivering content to an audience member across a plurality of digital mediums. The audience member may visit a website provided by a web server . The web server  may receive a request for content from the audience member, and provide website pages to an audience member computer  in a conventional manner. The website  may be owned by, or affiliated with, the owner of the cable network  and the website . The audience member may visit other sites related to the website  within a network. If necessary, a unique audience member identifier related to the website network is assigned to the audience member, and profile data is collected and stored, substantially as described above in connection with . The audience member may be associated with an audience segment defined by a set of segment rules substantially as described above in connection with .","The audience member may visit the website  to request a service from the cable company, at the same time providing the audience member's unique identifier within the cable network . The programming processor  may read the audience member's web network identifier, and associate the audience member's cable network identifier with this identifier. The programming processor  may then access the system  through the bridge , and accesses the segment affinity data relating to the particular audience member using the web network identifier. Based on the audience segment affinity data, the programming processor  defines the programming rules for the audience segment within the cable network . The appropriate digital signal is then sent to the cable head-end , and the head-end  delivers the audience member targeted content via the set-top box  and the audience member's home television. The preferences and behavior of the audience member within the network  may also be used to update the member's profile within the system . In this manner, the audience member's preference and behavioral data is synchronized across a plurality of mediums into a common profile, and the content delivered to the audience member via those mediums may be customized based upon the characteristics of the profile.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 8","b":["800","810","820","830","850"]},"The audience targeting system  and its components are illustrated collectively for ease of discussion. As described previously, the various components and corresponding functionality may be provided individually and separately if desired, such as by different servers that are assigned to the functionality of one or more of the components.","The functionality of the audience targeting system  is preferably provided by software that may be executed on any conventional processing system, such as those previously named or others. In that regard, the audience targeting system  may in turn be a component of a computer system containing a processor and memory. Although one modular breakdown is shown, it should be understood that the described functionality may be provided by greater, fewer and\/or differently named components. Although a software embodiment is described, the audience targeting system  may also be provided as hardware or firmware, or any combination of software, hardware, and\/or firmware.","As previously described, audience segments may be variously calculated, such as on a periodic basis. One model for accommodating audience segment calculation is a batch processing model. For example, at 24 hour intervals the Audience Targeting System  may prompt a recalculation of all necessary audience segments based upon previously extracted data as well as any newly extracted data that had been discovered since the previous batch process. While this model is useful for many applications and for certain types of extractable data (e.g., data from registration sources, surveys and 3party data), it is not always the best model to implement. One issue with the batch processing model is that it can become computationally expensive, particularly where audience segments are recalculated based upon not only previously extracted data, but the newly extracted data. Another issue is that certain data sources may contain data that should be acted on more frequently than dictated by the batch processing interval.","The example of the Audience Targeting System  illustrated in  accommodates what is referred to as a continuous processing model. Various aspects of the present invention are useful for supporting continuous processing (although it should be noted that these aspects are also useful for any processing model, not just continuous processing). According to one aspect, techniques and a corresponding infrastructure support the regular mining and sending of data to the Extractor . This may be referred to as \u201cdock and shuttle\u201d data extraction support and is described further in connection with  below. Another aspect is provision of the segment manager  and its corresponding implementation of the segment management architecture that is described further in connection with  below. Additional aspects include recalculation of audience segments based upon incremental data, and processing data tables to manage and produce audience segments as described further in connection with . Each of these aspects may be practiced individually or may be variously combined in a particular embodiment as desired.","Still referring to , the Audience Targeting System  accommodates the collection and coordination of data across multiple sites, as well as the targeting of audience members. In that regard, a user that wants to target a particular audience defines audience segments of interest. The audience segments correlate to user profile data that may comprise both characteristic and behavioral data. The characteristic data is often found in registration data and includes attributes such as age, gender, ZIP code, and household income. On the other hand, behaviors may include attributes such as which sections were viewed on a site (e.g., sports, entertainment, health), which advertisements were seen (e.g., mortgage rates, allergy medication), referrers (e.g., AOL, Yahoo), the time of visiting the site (point in time, or range), and the frequency of visits to the site. Audience segments may be defined based upon such user profile data. In turn, the audience segments form the basis for the information that is extracted for analysis, reporting and targeting audience members in relevant segments.","Audience targeting in accordance with the present invention is not limited to web applications. For example profile data might include behavioral attributes such as programs viewed, time viewed, etc., and characteristic attributes such as subscriber IDs or the like in applications involving a television set top box.","The TE  provides the means for assigning and coordinating unique identifiers corresponding to individual audience members. As previously described, when an audience member logs onto a page for the first time, the TE  places a cookie on their browser, which contains a unique identifier. Whenever that audience member returns to the site, the unique identifier is sent back to the TE . Based upon the unique identifier, the Audience Targeting System can set a segment cookie, which can be used for the delivery of targeted content such as ads, e-mails, etc. to the audience members computer or other relevant device. The TE  may also create logs of this activity. The unique identifier may be referred to as a profile identifier (PRID).","Another example of an extractor  is further described with reference to , which respectively are a block diagram illustrating an embodiment of an extractor  and a schematic diagram that exemplifies a model for extracting profile data. Although particular terms such as dock and shuttle are used because they are helpful in conceptually illustrating this aspect of the present invention, it is noted that various alternative terminology may be used for elements that perform the same functions.","The Extractor  includes a shuttle , dock  and extraction module . The functionality of the so-configured Extractor  is best understood with concurrent reference to , which also refers to other elements. The shuttle  may be code that resides on the data source. Its purpose is to mine local data locally and send it to the extractor (more specifically, the dock  on the extractor). In one embodiment, the shuttle  accomplishes this by assembling boxes. The dock  receives boxes and, when sufficient boxes are available (or a timeout occurs) creates a pallet  out of the boxes. The extractor works on those pallets . In order to accomplish this reliably, it is useful for the shuttle  to know where the source data resides. For the previously mentioned batch processing embodiments, it is also useful for the shuttle to handle the situation where log files \u201croll\u201d and are archived by the customer. In this regard, the shuttle  interfaces with log data such as that provided by conventional log file generating elements (e.g., Apache).","A data agent may also be employed to assist in the gathering of information from website visitors. This may be provided in the form of code that is added to those pages in connection with which data collection is sought. The code may have header and function call portions that respectively identify the functions and variables that it needs to operate and ensure that all variables have been collected. The data agent may be configured to produce log lines suitable for receipt and processing by the TE. Examples of parameters include the version of the data agent, the page referrer, the page URL, time information, and the PRID. As will be described below in connection with profile synchronization, a REGID parameter may be provided as well. In addition to association with PRID as described, a cookie may delineate a unique REGID for an audience member in the same fashion. Another \u201ccookie list\u201d (CLIST) parameter may be used to identify the list of cookies that should be captured.","The dock  is the receiving area on the Extractor that manages the ordering and processing of pallets. Data from the shuttle  may be grouped into what is referred to as boxes. Generally, a box contains a single event, but in some cases (e.g. OAS logs) a single record may contain several events. An event may be a time tagged user action on a source server. Examples of events may include a web page view, an ad impression, etc. A pallet  may be a collection of boxes, and is typically a collection of data mined from the data source and packaged for delivery to the extractor dock .","Various data sources may be supported by this model, but in one embodiment web log data is the data source. The shuttle  may be a persistent C++ application that processes data from a log file or pipe. Upon startup, the shuttle  finds the current log file (or pipe) and opens it for reading. In addition, the shuttle  establishes a connection to the dock  in order to be able to deliver pallets  to the extraction module  for processing.","The shuttle  may be configured to process data in a persistent loop until an unrecoverable error or external termination signal occurs. During the processing loop, the shuttle  reads up to a configurable number of available items (log lines) from the source and packages them into a box. If there are more items available than the maximum number of items, or if the total size of the items are greater than the maximum box size, the extra lines are written into an overflow buffer and will be inserted first into the next box created.","Once the box has been created, the shuttle  sends the box to the dock , along with an indication of the size of the box for validation purposes. The extraction module  acknowledges and validates the box and responds with an acceptance signal before the shuttle  will drop the existing box and repeat the processing loop.","More than one shuttle  can connect to a given dock to allow for multiple machines which all serve the same data source (e.g., multiple web servers responding to a single domain via a load balancer). Data from different shuttles  in a given dock is sorted into bays. These bays contain the unprocessed data for a given data source from a given shuttle.","The extraction module  is preferably configured to handle each data source type, and may include sub-modules for each different data source type (e.g., one for each of OAS, W3C, IIS, etc.).","Finally, the extraction module  is responsible for processing data as pallets from the dock  and creating the output that gets sent to the data warehouse  for final import processing. Basically, the extraction module  component performs extraction as described in connection with the previously described embodiment of the Extractor (from ). The processed data may be referred to as profile data. In one embodiment, the profile data may be organized and thus provided as fact tables that are described further below.","The segment management aspect is now further described with reference to , which illustrates the segment manager  to include a segment organization module  that includes a console management module , a segment generation module  that includes a new segment calculation module  and a segment recalculation module , and a reporting module .","The segment manager  accommodates the definition and management of segments corresponding to audience members based upon characteristic and behavioral information. The segments are organized according to a hierarchical logical tree based architecture that allows scalable segment management and accommodates incremental recalculation of segments.","The segment organization module  facilitates user-definition of audience segments according to this architecture. It operates in conjunction with the console manager  which provide interfaces that allow users to define and configure segments according to the same logical architecture. These interfaces may be in the form of panels that illustrate segments and combinations of segments to produce new segments which will be further understood upon explanation of the architecture below.","The segment generation module  generates segments comprising appropriate audience members based upon the so-defined audience segments. The new segment calculation module  calculates new segments, and the segment recalculation module  calculates existing segments, in particular taking incremental data and recalculating such segments, thus avoiding the need to fully calculate the segment as though it were new each time new data arrives.","The segment generation module  may be configured to process segments continuously (e.g., as a Windows service). For each pass, the segment generation module  reads a table in the database warehouse  that catalogs segments, to determine which segments it should process on that pass. A type identifier associated with the segments may indicate whether the segments are to be calculated anew, and thus passed to the segment calculation module , or incremental, and thus passed to the segment recalculation module .","Finally, the reporting module  communicates with the segment organization  and segment generation module  and produces customizable reports. The designer is free to structure the reporting options as desired. One example of a report is a \u201cKnown Audience Inside\/Outside\u201d report, which reports on the behavior of an audience segment in the sections outside the section behavior that defines the segment. For example, An Inside\/Outside report on viewers of the News section would show the audience members behavior inside news and compare that to all other sections of the site. This may be used to target valuable behavior on other parts of the site. Another example of a report is a \u201cReach and Frequency Report\u201d, which reports on the reach (total audience) and frequency (number of times seen) for one or more ad campaigns. The reporting module  may implement conventional reporting tools including but not limited to Crystal Reports as provided by Business Objects SA, San Jose Calif.",{"@attributes":{"id":"p-0081","num":"0080"},"figref":"FIGS. 11A-B","b":"1000","i":["a","b"]},"Profile data may also be organized as \u201cfacts\u201d that have one or more attributes. For example an \u201cAge\u201d fact may have one attribute\u2014Age. However, an \u201cID\u201d fact may have several attributes such as the PRID or a registration identifier (REGID) that uniquely identifies registration at the site. A \u201cSection\u201d fact may contain attributes for the Section, top level Section (that is, if Section is \/News\/International\/Politics, Top Level Section would be \/News), second level section (\/News\/International), site (site that section belongs to) and full path (Site+Section).","Profile data and the individual attributes comprising the profile data may be categorized as being (1) Characteristics (e.g., Age, Gender, Household Income); (2) Behaviors (e.g., Page Views, Ad Clicks); (3) PRID; or (4) Business Unit ID, which describes the site that a behavior occurred on.","The attributes may also be said to have dimensions or values that may be defined in tables for ease of computation. Moreover, attributes may be further defined based upon whether they are single or multi-valued. For example, Age, Gender, HHI are characteristics for which an audience member will only have a single value (e.g., an audience member cannot be both Male and Female). Conversely, behaviors have multiple values per audience member and some characteristics (e.g., e-mail newsletters subscriptions) also have multiple values.","The hierarchical architecture facilitates efficient calculation of the membership of audience segments. Lists of audience members belonging to particular segments may be maintained. These membership lists may be logically combined to determine the membership of dependent (e.g., child) audience segments.","As indicated, the segment management architecture includes a series of attribute segments, namely Section , Gender , and Household Income (HHI)  as provided in this example. Base segments have attributes with particular values that correlate to relevant attribute segments -. Base segments for any number of attributes could be provided (e.g., different behaviors different sections; different gender, different HHI). The illustrated segments are \u201cVisited News\u201d , \u201cMale\u201d , and \u201cHHI>$100K\u201d . Each of these may be considered as separate and distinct segments. However, these segments may also be logically combined to create new segments that depend from them. For example, the segment \u201cMales who have Visited News\u201d  comprises a logical combination of the Males  and Visited News Last  segments. Still further, a third level in the hierarchy of segments may be defined as \u201cMales who have Visited News with HHI>$100K\u201d , which comprises a logical combination of the previously described segment  with base segment  (HHI>$100K). In this fashion, the system may variously organize segments, and this same organization can be used as the basis for guiding the user through the definition of segments via the console manager . Notably, there may be instances where a user defines a complex segment directly, wherein the system automatically generates the base and any intervening segments accordingly, to facilitate calculation and recalculation of segments.","For ease of illustration, a logical \u201cAND\u201d operation has been described, which basically provides the intersection of two parent segments. The segment manager  supports various additional logical operations or set expressions, including \u201cEXISTS\u201d, which inserts entries from one parent; \u201cOR\u201d, which inserts entries from the union of two parents; as well as \u201cexclusive AND\u201d, and \u201cexclusive OR\u201d. Attribute expressions may also be used, such as one which inserts entries from a given parent segment that match specified criteria.","In addition to providing improved organization of segments, the segment management architecture facilitates proper maintenance of a segment population where incremental profile data is processed, without requiring a full calculation of the segment. That is, introduction of the new information to the existing segment is accommodated through limited processing involving the new information, in lieu of calculating the segment based upon application of its definition to the cumulative set of data. To accommodate this, entry and exit rules are implemented. An \u201centry\u201d corresponds to an introduction of audience members to a particular segment based upon the incremental data, and an \u201cexit\u201d corresponds to a removal of audience members from a segment. Entries are basically audience members found to currently meet the criteria, but whom are not yet associated with the previously calculated segment. Exits are the opposite\u2014they are audience members found to no longer meet the criteria.",{"@attributes":{"id":"p-0089","num":"0088"},"figref":"FIG. 10B","b":["1032","1000","1004","1012","1012","1012","1012","1012"],"i":"b"},"For ease of discussion, focus is made on incremental profile data as it relates to Gender, but the principle of exit and entry can apply to any segment including but not limited to Visited News, HHI and others.","Incremental profile data based recalculation also propagates through the hierarchy. This may be variously arranged, again depending upon exit and entry rules, which in turn depends upon the logical relationships of the segments. For a dependent (child) segment resulting from an AND operation such as Males who Visited News , this may comprise repeating application of the above-described entry and exit membership lists for \u201cMale\u201d to the segment Males who Visited News  in a similar fashion. That is, the entry membership list for Males would be added to the Males who Visited News  segment, and the exit membership list removed. Alternatively, base segments Male  and Visited News  could be recalculated with their respective entry and exit membership lists, and then Males who Visited News  could be calculated based upon the intersection of the updated versions of Male  and Visited News .","If desired, recalculation of a dependent segment could also be based upon a calculation based upon the updated parent segments. Specifically, the entry and exit  functionality could be applied to the base segments, which could then be used to",{"@attributes":{"id":"p-0093","num":"0092"},"figref":["FIG. 11A","FIGS. 10A-B"],"b":["1100","1102"],"i":["a","d "]},"As described attributes may involve characteristics such as age and gender as well as behaviors such as the number of times that the audience member has visited a particular section (News, Sports, etc.). At times, an attribute may be determined by looking at multiple pieces of information. Thus, while gender may be a simple determination of whether gender=\u201cmale\u201d, an attribute that includes frequency information such as how many times an audience member visited a particular section may involve counting the number of entries in a fact table for the audience member. This counting may also be constrained to those entries falling within a particular time period.","Various alternatives may be used to provide the functionality of the fact tables, including different organization of the information. For example, the system may alternatively construct a table that provides a listing of attributes for a user identified by a unique PRID. This would result in a number of fact tables respectively corresponding to unique audience members identified by their PRIDs.","As previously described, the Segment Manager accesses the information stored in the data warehouse and maintains segment definitions, such as those input by the user seeking certain audience segments. A given segment is calculated by determining which audience members have the attribute for the given segment. According to this aspect of the present invention, the association of audience member identifiers to attributes and hierarchical logical tree based segment architecture accommodate very efficient calculation (and recalculation) of segments.","A first level of processing  may be used to calculate base segments. This is done by identifying the attribute for a base segment and then determining the audience members (or more particularly the listing of PRIDs) that have that attribute. Presume that segment . is the \u201cVisited News\u201d segment (see ). In this instance, the Segment Manager examines the fact tables and collect the PRIDs for those fact tables that contain this attribute. As indicated in segment table , this may result in a determination that PRIDs , , , , and  have the given attribute. The listing of PRIDs in a segment table may also be referred to as the \u201cmembership list\u201d for the given attribute\/segment. Again, there may be millions of members in a segment, the limited listings are used for ease of illustration.","The segments may also be identified by identifiers (SEGIDs) in lieu of the words and phrases that identify them. Thus associating identifiers SEGIDwith the noted PRIDs efficiently identifies the audience members with the attribute for computational purposes. Each segment may be organized in this fashion.","Continuing with the example, segment . may correlate to the attribute \u201cMale\u201d. Audience member PRIDis identified as male, and is listed in the segment table for segment ., but PRID, identified as female, is not. The table for segment . (HHI>$100K) includes both of those PRIDs. Again, segment tables for each of the segments may be provided, for x base level segments (-).","A next level of segments may then be calculated  from the base segments. This aspect of the present invention accommodates efficient determination of further levels of segments through application of various Boolean operations to the existing segment tables. For example, Segment . may have been defined as \u201cVisited News\u201d AND \u201cMale\u201d. This is accommodated by determining the intersection of the PRIDs in those two segment tables (). As illustrated, the segment table for segment . thus includes PRID, PRID, and PRIDsince those identifiers appeared in both of the two base segment tables. Table thus lists audience member identifiers for the males who have visited News. Once again, any number of segments may be calculated  at this level, denoted as tables for segments . through .y (-).","Still further calculation  accommodates determination of the next level of segments. Segment . (\u201cMales who have visited News with HHI>$100K\u201d) correlates to a combination of Segment . (Males who have visited News) and Segment . (HHI>$100K). Again, the logical AND implements the intersection of the relevant segment tables, which results in listing PRIDand PRIDas belonging to segment ., per segment table . Any number of z segments may be calculated  (segment tables -).","The segment tables are the membership lists for their respective segments, and may be updated accordingly responsive to segment recalculation upon receipt of incremental profile data as previously described.  illustrates how the segment tables are updated responsive to recalculation based upon receipt of incremental data. Here, entry and exit is accommodated by tables containing membership lists, or entry tables and exit tables. As previously described incremental profile data (denoted respectively as fact tables \u2032-\u2032) is received, and entry and exit tables are built based upon such data.  illustrates how the information in the entry and exit tables is useful for recalculating segments. Suppose that the entry table for the \u201cMales\u201d Segment . includes PRIDand the exit table for the same segment includes PRID. Application of the exit table would prompt PRIDto be removed from \u201cMales\u201d Segment . (as denoted by cross-hatching). Application of the entry table would cause PRIDto be added to the segment (as denoted \u201centry\u201d). The membership of dependent segments is also updated according to the previously described logic. That is, because PRIDis no longer a member of Males Segment ., it is also removed from dependent segment Males who have Visited News .. Continuing to the next level of dependency PRIDis removed from Segment ., but PRIDis not added because Segment . is an AND combination of Segments . and ., and PRIDis absent from Segment ..","Note that different logical combinations will prompt different application of entry and exit upon recalculation. Segment . is a logical AND of Segments . and .; if it were a logical OR combination of those segments, then PRIDwould not be removed unless it was also removed from Segment ..","Another aspect of the present invention provides profile synchronization. People may access various computers throughout the day and week, such as a home computer, office computer, mall kiosk, or the like.","As described above, PRIDs are unique identifiers that are used to identify and gather data regarding unique audience members. In that regard, when a new visitor (e.g., a woman using her office computer) to a web site is encountered, they are associated with the next available PRID (e.g., PRID). Cookies implemented in conjunction with the visitor's browser then include the particular PRIDand are used to collect profile data for that visitor. Later on, the same person may use her home computer to visit the web site. Presuming that the home computer has not been used to access the site, there will not be recognition that she is the same person, and a new unique PRID (PRID) will be generated and associated with her behavior and characteristics from that computer. There will thus be two separate sets of profile data that actually correspond, unbeknownst to the Audience Targeting System, to the same person.","Further, the person may use another computer (e.g., mall kiosk) that accesses the web site, and yet another unique PRIDmay be issued. This is problematic in two ways. First, it creates a third separate PRID for activity corresponding to the same person. Also, the mall kiosk (or even home and office computers) may be used by multiple people. Even though multiple different people are using the computer and engaging in various behavior, it will all be tracked as PRID.","Still another problem is potential deletion of cookies. Continuing with this example, if this audience member deletes cookies on her office computer, then correlation with PRIDis lost and she will be perceived as a new visitor on the next web site visit, prompting issuance of PRIDin association with her office computer. This is problematic because the segments associated with PRIDwill not reflect information previously gathered in connection with PRID. Also, PRIDwill essentially become a defunct PRID, but will still be wastefully processed by the system.",{"@attributes":{"id":"p-0108","num":"0107"},"figref":"FIG. 12","b":["1200","1260"]},"Before turning to a more detailed discussion of profile synchronization, it is noted that in embodiments of audience targeting that do not implement profile synchronization, the XID may essentially equate with the PRID for the purpose of audience member profile management. It is also noted that although cookie based XIDs are described, other external identifiers such as those that correlate to usage of a non-web device may also be implemented.","The Audience Targeting System  includes a TE , Extractor , Segment Manager  and Data Warehouse . These elements are analogous to the commonly named elements in the previously described Audience Targeting System (, ) and need not be repeated with regard to the profile synchronization aspect.","As with the previously described system, the Audience Targeting System  and its components are illustrated collectively, but may be provided individually and separately if desired. The functionality of the Profile Synchronization module  is preferably provided by software that may be executed on any conventional processing system. In that regard, the audience targeting system  (or any sub-module) may in turn be a component of a computer system containing a processor and memory. Although one modular breakdown is shown, it should be understood that the described functionality may be provided by greater, fewer and\/or differently named components. Although a software embodiment is described, the functionality may also be provided as hardware or firmware, or any combination of software, hardware, and\/or firmware.","The Profile Synchronization module  includes an ID Management module , an Authoritative ID Recognition module , and an ID Storage module  that in turn stores profile identifiers (PRIDs) , REGIDs , and XIDs .","Profile synchronization entails a recognition that audience members, and the potential multiple identifiers that they may become associated with, may be associated with an authoritative identifier (ID). The Authoritative ID is in turn used to manage the multiple identifiers as well as the profile data associated with the audience member. In one embodiment, the Authoritative ID is associated to registration (e.g., login credentials, REGID) for the user web site. For example, the web site may be The New York Times web site, which might require registration and login for usage of certain elements of the site.","The Profile Synchronization module  implements PRIDs to uniquely identify audience members even as they generate multiple XIDs. In that regard, PRIDs may be regarded as system level, or more particularly Audience Targeting System  level unique identifiers, and XIDs as audience member machine level based unique identifiers.","To accommodate the profile synchronization functionality, the ID Storage module  stores the various ID information, including PRIDs , REGIDs , and XIDs . The ID Management module  organizes the issuance of and relationships between the various ID information. It accommodates this by associating the PRID for a particular user as uniquely identifying them on the system. This information may be stored along with other characteristics information such as the first date that the audience member was recognized by the system. Tables and the like may also be used to associate the audience member's PRID to the XIDs that are correlated to that audience member using profile synchronization, as well as to the REGID to accommodate recognition of audience members in conjunction with the Authoritative ID Recognition module , which determines the presence of authoritative identification and communicates with the ID management module  to ensure proper issuance of corresponding unique IDs.","The functionality of the Profile Synchronization module  is further described with reference to the flow diagram of , which illustrates an example of a process  for profile synchronization.","In support of the profile synchronization functionality, a new unique XID is associated  with a first time visitor to the web site. If registration is applicable for the session, then the REGID is associated as well. These functions are provided during regular browsing of pages and facilitated by the data agent as described above. Also in the described fashion, the data warehouse is populated with profile data corresponding to audience members. Unique REGIDs are thus also associated to respective sets of profile data along with the unique XIDs.","The profile data may be retrieved  from the data warehouse in the previously described fahion. In embodiments using fact tables, this means that entries identifying both the XID and the REGID will be provided in association with the listed attributes. The fact table includes at least an XID, denoted particularly as XIDin this example. A first determination  is made as to whether a REGID is also included in the fact table. As described, the REGID is used as the authoritative ID. In its absence, the system seeks to process the data by attempting to associate the fact table with a PRID. As described, a list of XIDs is maintained in association with each PRID. This information is examined to see whether the particular XID (denoted XID) is found. If found, it is mapped to at least one PRID. It may be possible that an XID is mapped to multiple PRIDs. In that case the system may choose a random PRID, the first one found, or use any algorithm to select one. It should be noted that fact tables may be variously organized to provide this functionality. In one example of this the different attributes (Section, Age, Gender, Referrer, etc.) may each have a different table where a particular value is associated to a particular profile via the PRID.","With profile synchronization, the PRID uniquely identifies audience members for the purpose of segmenting. Accordingly, when it is determined  that a particular PRID is associated with the particular XID, segments are calculated  associating the attributes in the fact table to that particular PRID. If a PRID is not determined  to be associated with XID, then a new PRIDis issued . In conjunction with that, XIDis mapped to PRID, and segments are calculated accordingly.","If it is determined  that a REGID is present in the fact table, such is construed as the authoritative ID. This may be the first instance that the system sees a particular REGID, in which case a PRID is assigned (denoted PRID) and mapped to the REGID ().","If it is determined  that there is already a PRID associated with the particular REGID (i.e., not the first instance of seeing REGID), then the particular PRID (the unique PRID number for that audience member) is associated to the fact table attributes and corresponding segments. Additionally, if such is not already the case, XIDis included  in the list of XID numbers that the system has associated to the particular PRID.","If desired, the segment manager may also segregate segments for an audience member using the XID list. For example, a particular audience member may have two XIDs associated to their unique PRID. One XID may correspond to his home computer and another XID may correspond to his work computer. Although the system will (through connection to the authoritative ID as described above) conclude that he is the same person and that all of the activities from both computers could be commonly segmented under the unique PRID, the listing of XIDs in association with that PRID allows the system to generate separate segments if desired. This may in fact be desirable to certain users of the Audience Targeting System since in some instances an audience member may have separate home and office personas in terms of computer usage and desired ad exposure.","Thus embodiments of the present invention produce and provide segment management and profile synchronization in an audience targeting environment. Although the present invention has been described in considerable detail with reference to certain embodiments thereof, the invention may be variously embodied without departing from the spirit or scope of the invention. Therefore, the following claims should not be limited to the description of the embodiments contained herein in any way."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["These and other more detailed and specific features of the present invention are more fully disclosed in the following specification, reference being had to the accompanying drawings, in which:",{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIGS. 9A-B","b":"900"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":"FIGS. 10A-B"},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIGS. 11A-B"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 12"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 13"}]},"DETDESC":[{},{}]}
