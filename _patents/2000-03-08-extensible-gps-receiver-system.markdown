---
title: Extensible GPS receiver system
abstract: An extensible Global Positioning System (GPS) receiver system is described. The receiver system isolates user application processing from time critical GPS acquisition and tracking processing in order to insure that GPS acquisition and tracking processing is timely performed. Thus user application processing can be developed without concern of conflict with GPS acquisition and tracking processing.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=07003112&OS=07003112&RS=07003112
owner: Trimble Navigation Limited
number: 07003112
owner_city: Sunnyvale
owner_country: US
publication_date: 20000308
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"p":["This application is a continuation of application Ser. No. 08\/969,632, now U.S. Pat. No. 6,072,431 filed Nov. 13, 1997.","1. Field of the Invention","The present invention relates to a mechanism for processing positioning signals such as those received from the Global Positioning System (GPS).","2. Art Background","The global positioning system (GPS) has become extremely popular for a number of applications. GPS receivers are now incorporated into a variety of systems including consumer electronic systems in which the location information or time information provided by GPS supplements the other information provided by the system. Thus, more and more industries are realizing the advantages that GPS can provide.","Typically, when a customer, such as an original equipment manufacturer (OEM) develops a particular application of GPS, the GPS manufacturer generates the application code in accordance with the customer's specification. The GPS manufacturer designs and codes the user application of GPS, as the processing performed by the GPS receiver has strict timing and processing requirements that cannot be disturbed by other processing such as the user application processing. Unless carefully written, the execution of customer code can conflict with the GPS processing code. In addition, there is the danger of the user code overriding sections of memory containing the GPS processing code or GPS data used in processing. Thus, the GPS manufacturer cognizant of these restrictions carefully develops the user application code for a particular customer. This is a time consuming and costly process. It is therefore desirable to develop a system that insulates the GPS processing portion and data from the user application portion such that the user application portion has access to the positioning data generated by the GPS processing portion without the concern that the user application portion will corrupt the GPS processing portion and data of the receiver.","The apparatus and method of the present invention provides a processing system in which the processor is coupled to a Global Positioning System (GPS) receiver circuitry that receives positioning signals and, in accordance with well known GPS processing techniques, generates the positioning data for access by a user application process executing on the same processor. A firewall is established between the user application process and the GPS process. The firewall prevents the user application process from conflicting with time critical processing by the GPS process and further prevents the user application process from overriding the memory areas allocated to the GPS process.","In the following description, for purposes of explanation, numerous details are set forth in order to provide a thorough understanding of the present invention. However, it will be apparent to one skilled in the art that these specific details are not required in order to practice the present invention. In other instances well known electrical structures and circuits are shown in block diagram form in order not to obscure the present invention unnecessarily.","The system of the present invention provides a user configurable Global Position System (GPS) receiver system in which the user application processing does not interfere with time critical positioning processing. A simplified block diagram is shown in . The system and methods of the present invention are described below with reference to a GPS receiver. However, it is contemplated that the present invention can be implemented in a variety of positioning system receivers including GLONASS, Loran-C and Pseudo-lite receivers.","Referring to , a GPS antenna and corresponding receiver circuitry  is connected to processor  via bus . The processor  interacts with the GPS hardware such as the correlators, voltage control oscillator (VCO's) and the like, located in receiver  to acquire and track GPS signals transmitted by satellites. Thus, GPS receiver  receives GPS signals from satellites under the control of processor  acquires and tracks the satellites in order to receive the positioning signals. The processor  further processes the positioning signals to generate positioning data. Typically, the positioning data includes a time, angular and distance measurements. The specific data generated can vary according to implementation and is well known in the art. Furthermore, the control functions performed by the processor to acquire and track signals are well known in the art and will not be discussed further herein.","As is well known in the art, positioning signal processing is time critical in nature. Therefore, delays in processing the positioning signals can cause significant error in the computations. Processor  not only performs position signal processing, but also performs user application processing. The code and data for the user application as well as the positioning signal code and data are preferably stored in memory , which is coupled to processor  via bus . It is contemplated that memory  may also be coupled to processor  through a separate bus (not shown). In addition, the system includes a variety of I\/O devices, such as GPS antenna\/receiver , a display  and at least one user input device input device , such as a keyboard or mouse. The use of these I\/O devices is programmable according to the user application.",{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 2"},"Although not limited as such, in the present embodiment it is preferred that a real-time operating system  is used to address the time critical nature of the satellite signal processing. The operating system  is connected to the code  used to control the input\/output devices including the GPS receiver. One example of a real-time operating system is the Vx Works\u00ae embedded operating system marketed by WindRiver Systems. The processor processes the satellite signals in accordance with the GPS process . Thus, GPS process  interacts in the real-time manner with the real-time operating system  to receive positioning signals through I\/O control  and controls the GPS receiver circuitry through I\/O control  to accurately acquire and track the satellite signals.","As noted above it is desirable to enable the user to configure the system for the user's particular application. Therefore, in order to provide this capability, a firewall  is established between the GPS process , real-time operating system , and the user application .","In the present embodiment a virtual machine is used  to provide a level of protection from a user application program interfering with the data utilized in the GPS process . For example, the virtual machine  prohibits the user application process  from specifically accessing or corrupting a particular memory location not previously allocated to that application as the virtual machine acquires the application to address a particular memory location using a virtual address. In addition, the application process must have the privilege of accessing that particular address. Thus, virtual machine  provides one level of the firewall .","A virtual machine is a software computer that executes programs that have been compiled into byte code. As noted above, the virtual machine separates the hardware and system software from the application software. Thus, system independent applications can be developed in any language that has a compiler that generates the virtual machine byte code. Applications once complied with byte code can be downloaded and executed as any processor that executes a virtual machine. One such virtual machine, is the Java Virtual Machine, by Sunsoft, Mountain View, Calif.","The firewall  further is required to prohibit the user application  from interfering with the time critical processing of the GPS process . In order to protect against this potential problem, the user application processes, as executed by virtual machine , are set to a priority that is lower than the priority of the GPS process . For example, this is done by setting the priority of the GPS process to the highest priority in the operating system . Thus, any other process, such as the user application process will run at a lower priority, thus insuring that the GPS process  executes in a timely manner.","Continuing reference with , in the present embodiment, an application programming interface (API)  is provided to simplify the user task of developing the user application. The API  preferably includes a number of functions that are accessible by the user application. In the present embodiment, the system is programmed using object oriented technology, such as C++; alternately the Java language can be used. and illustrate the Java objects for getting information to perform routing processes. \u2013illustrate objects used to acquire time information from GPS signals. is illustrative of GPSfix objects that can be used to get location information, i.e., a \u201cfix\u201d. In the present embodiment, it is preferred that the GPSfix classes are constructed as class hardwarefix or simfix, wherein class hardwarefix, when initialized, includes communication between the class and the hardware. Furthermore, the object created receives data from the GPS hardware receiver. Simfix is a class of superclass GPSfix that users can instantiate to obtain a simulated GPS fix. When the class is initialized (e.g., the first time it is used), a simulator is started that propagates meaningful positions over time. Furthermore, the class includes methods to deal with simulation, e.g., defining regions and dynamics of simulated data. Simfix is used to provide an applications developer with a realistic model of GPS data.","It is readily apparent that a system developer can provide a variety of objects to address potential user applications. Thus, the user in this embodiment is further isolated from the operating system  through the API . The resulting system provides a system readily adaptable by a variety of users for a variety of applications without the concern of interference of the time critical GPS processing.","The invention has been described in conjunction with the preferred embodiment. It is evident that numerous, alternatives, modifications, variations, and uses will be apparent to those skilled in the art in light of the foregoing description."],"BRFSUM":[{},{}],"heading":["BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The objects, features and advantages of the present invention will be apparent to one skilled in the art from the following detailed description in which:",{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIGS. 3","i":["a ","b "],"b":"3"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIGS. 4","i":["a","b","c","d","e","f ","g "],"b":["4","4","4","4","4","4"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIGS. 5","i":["a ","b "],"b":"5"}]},"DETDESC":[{},{}]}
