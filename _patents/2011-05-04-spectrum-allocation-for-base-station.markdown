---
title: Spectrum allocation for base station
abstract: Embodiments include processes, systems, and devices that allow a white space base station to request available frequency ranges for white space transmission in a local area. A white space finder service models a primary user device's transmission signal propagation area using terrain data associated with the local area of the primary user device. The white space finder service also determines, based on the location of the white space base station and the modeled propagation area, one or more locally available, non-interfering frequency ranges and provides them to the white space base station. The white space base station compares the provided frequency ranges to policies and selects one or more of the available frequencies that accommodate the policies. The white space base station also maps the transmission frequency ranges to virtual frequency ranges for transmission by a software-defined radio employing spectrum virtualization.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08929933&OS=08929933&RS=08929933
owner: Microsoft Corporation
number: 08929933
owner_city: Redmond
owner_country: US
publication_date: 20110504
---

{"@attributes":{"id":"description"},"BRFSUM":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","BRIEF SUMMARY","DETAILED DESCRIPTION","CONCLUSION"],"p":["This application is a 35 U.S.C. 371 National Stage Application of International Application No. PCT\/CN2011\/073647, filed May 4, 2011, the entire contents of which are incorporated herein by reference.","White space frequency bands are frequency bands allocated to television (TV) broadcasting service and to wireless microphone service, but not used in a local geographic area. Recent Federal Communication Commission (FCC) rules allow unlicensed access to white space frequency bands in the United States as long as such access does not interfere with TV and wireless microphone transmission (i.e., \u201cincumbent\u201d or \u201cprimary user\u201d access to the frequency bands). Non-U.S. jurisdictions may also in the future implement similar provisions for access to television frequency bands. Available white space frequency bands may have variable bandwidths, and they may be non-contiguous and location-specific. These aspects make white space transmission networks different from conventional wireless transmission networks. Conventional wireless solutions utilize hardware chips for data transmission. Such hardware chips are limited to certain physical layer and media access control protocols, as well as certain transmission frequency bands. Hard-coded protocols cannot utilize non-contiguous frequency bands. Furthermore, supporting both long and short-distance white space transmission requires either multi-protocol chips or multiple hard-coded chips.","This Summary is provided in order to introduce simplified concepts of resource download policy generation, which are further described below in the Detailed Description. This summary is not intended to identify essential features of the claimed subject matter, nor is it intended for use in determining the scope of the claimed subject matter.","In embodiments, a spectrum manager of a white space base station requests and receives one or more available frequency bands for transmission in the local area of the white space base station. The spectrum manager compares the available frequency bands to one or more policies, such as regulatory policies or technical requirements, and selects some or all of the available frequency bands that match the policies. The spectrum manager also maps the available frequency bands to one or more virtual frequency bands, such as for use by a software-defined radio employing spectrum virtualization. A spectrum virtualization module of the white space base station maps a virtual baseband presented to a physical layer of a wireless protocol to a physical baseband associated with the selected physical frequency bands. Data modulated by the physical layer of the wireless protocol according to a virtual frequency band is transmitted on the selected physical frequency band.","A white space finder service receives requests for available frequency bands and utilizes terrain data to model an area over which transmissions of one or more primary user transmission devices are likely to propagate. Based on the modeled propagation areas as well as locations and channels employed by primary user transmission devices, the white space finder service selects one or more frequency bands that are non-interfering with primary users and available in the local area of the white space base station.","Overview","As discussed above, the availability of white space frequency bands is location-specific. The present disclosure therefore includes processes, systems, and devices for allocating white space frequency bands for white space base stations based at least on the location of the white space base station, regulatory policies, and\/or transmission requirements of the white space base station. Also, as mentioned above, white space frequency ranges may be non-contiguous and variable. Thus, embodiments utilize a software-defined radio for more flexible white space transmissions. Some embodiments may utilize Microsoft\u00ae Research Software Radio (SORA) platform to implement the software-defined radio.","In one aspect of the present disclosure, a white space finder service provides data to white space base stations regarding available white space frequency bands that may be utilized without causing interference with primary users (such as television transmitters or licensed wireless microphones). The white space finder service may be a web-based service able to provide location-specific information about spectrum availability to white space base stations. Information regarding the locations of primary user transmitters that are near the white space base station is combined with terrain data to determine a geographic area that wireless transmissions of one or more primary user transmitters are likely to propagate. Based on the determined geographic propagation areas, as well as the location of the white space base station, the white space finder service determines available white space frequency bands for use by the white space base station. The propagation area and interference determinations may be modeled, in various embodiments, using one of various propagation models such as the Longley-Rice radio signal propagation model. The white space finder service selects white space frequency ranges that are not likely to interfere with primary users.","Without utilizing terrain data and propagation models to determine the signal propagation area of the primary users, a relatively conservative estimate of the propagation area would have to be made in order to be reasonably certain that white space base station transmissions do not interfere with primary users. Using propagation modeling may increase the sizes of the geographical areas within which white space devices are able to utilize white space frequency bands without sacrificing the non-interference requirement of white space frequency transmission. This may increase the availability of white space frequency transmissions generally.","In another aspect of the present disclosure, a spectrum manager of a white space base station determines one or more physical transmission frequency bands of white space spectrum to use for transmissions. The spectrum manager receives information about one or more locally available, non-interfering white space frequency transmission bands from a white space finder service. The spectrum manager determines which of the one or more physical transmission frequency bands are to be used for transmission based on regulatory policies, technical requirements of the transmission, and characteristics of the available transmission bands.","Regulatory policies include FCC or other regulatory agency regulations. Non-limiting examples of regulatory policies include time of day, duration of availability, guard band requirements, transmission power level limits, and other types of policies. Technical requirements for transmission may be specific to a wireless transmission protocol that is utilized for the transmission. Non-limiting examples of technical requirements include bandwidth requirements, transmission power requirements, duplex transmission, simplex transmission, and so forth. The spectrum manager may compare the available physical frequency bands to the technical requirements and select one or more of the available physical frequency bands that allow the transmissions to comply with the policy requirements.","In another aspect of the present disclosure, the spectrum manager maps one or more physical transmission bands (selected for white space transmission) to one or more \u201cvirtual\u201d transmission bands that are utilized by a wireless transmission protocol of the white space base station. For example, the white space base station may employ conventional wireless transmission protocols (such as Wi-Fi\u00ae, protocols within the 802.11 suite of protocols, code division multiple access (CDMA) based protocols, carrier sense multiple access (CSMA) based protocols, time division multiple access (TDMA) based protocols, and others), or combinations thereof. Such conventional wireless transmission protocols may not support variable or non-contiguous frequency transmissions, and such conventional wireless transmission protocols may have requirements for transmissions on specific frequency bands that differ from the selected white space frequency bands. Some embodiments may therefore utilize a communications module to generate modulated baseband signals on \u201cvirtual\u201d frequency bands (i.e., virtual baseband signals) that correspond to the frequency bands according to the conventional wireless transmission protocols. Various embodiments may also utilize a spectrum virtualization layer, as is described elsewhere within this Detailed Description, to shape the virtual baseband signals into physical baseband signals for radio transmission according to the selected physical frequency bands in the white space spectrum. The spectrum manager, upon selection of the available physical transmission frequency bands, maps the physical transmission frequency bands to the virtual frequency bands. The spectrum virtualization layer enforces the mapping.","To support the mapping of a virtual frequency band to a physical transmission band that is a different size, the spectrum virtualization layer uses a virtual clock so that the wireless protocol can be used to transmit at a slower or faster rate than is associated with the fixed frequency band specified by the wireless protocol. To support mapping of a virtual frequency band to an equal-sized physical spectrum band, a virtual clock is used in some but not all embodiments. To support the mapping of a virtual frequency band to non-contiguous physical transmission bands, the spectrum virtualization layer employs splitters to split up signals for transmission, and mixers to combine received signals during reception.","Embodiments also include wireless clients configured to communicate with a wireless base station, such as a white space base station. Wireless clients may also include a spectrum virtualization layer that behaves in a same or similar way as the spectrum virtualization layer in a base station. A spectrum manager of a wireless client may be configured to map virtual transmission frequency bands to one or more physical transmission frequency bands, and the spectrum virtualization layer of the wireless client may be configured to enforce this mapping.","Although various embodiments may be described herein as being related to \u201cwhite space\u201d transmissions, \u201cwhite space\u201d networks, \u201cwhite space\u201d base stations, and \u201cwhite space\u201d clients, embodiments of the present disclosure are not limited to white space environments. Rather, embodiments include transmissions, networks, base stations, environments, and clients that are usable and\/or compatible with any of various Dynamic Spectrum Access (DSA) networks. Embodiments refer to \u201cwhite space\u201d networking for the sake of discussion, and such references should not be taken in a limiting way.","The processes, systems, and devices described herein may be implemented in a number of ways. Example implementations are provided below with reference to the following figures.","Example Environment for Frequency Allocation",{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 1","b":["100","100","102","104","102"]},"In addition, white space finder service  may also be implemented on various suitable computing device types that are capable of implementing a white space finder service. Suitable computing device or devices may include, or be part of, one or more personal computers, servers, server farms, datacenters, combinations of these, or any other computing device(s) capable of storing and executing all or part of a white space finder service.","Communication network  may include one or more of the Internet, wide area networks, local area networks, personal area networks, a combination of these, and others, any or all of which may be wired and\/or wireless. White space base station  and white space finder service  may be coupled to communication network  using various communication connections and protocols.","In the illustrative example of , white space base station  includes user mode software services , kernel software services , and radio hardware . User mode software services  include a spectrum manager  having an availability module . The availability module  is configured to request and receive data regarding locally available, non-interfering white space frequency bands from white space finder service  or radio hardware . The spectrum manager  includes policy module  which has one or more policies, such as regulatory policies and technical requirements for wireless transmission by the white space base station. Some or all of such policies may or may not be received from white space finder service , or another service. Non-limiting examples of regulatory policies include guard bands requirements, power mask requirements, times that white space frequency bands are available, acceptable transmission power level ranges, and so forth. The technical requirements may include requirements specified by one or more wireless protocols employed by the white space base station . Non-limiting examples of such wireless protocol specification requirements include single or multicarrier modulation requirements, power transmission level requirements, duplex\/simplex transmission requirements, variable upload\/download transmission requirements, and so forth.","Decision module \u2014also in spectrum manager \u2014is configured to compare the one or more available physical transmission frequency bands received by availability module  to the policies of policy module , and to select ones of the one or more physical transmission frequency bands suitable for transmission according to the policies. In one non-limiting example, policy module  may include a technical requirement for 1 megahertz bandwidth and a regulatory policy requirement to include a 100 kilohertz guard band. Decision module  may select one or more of the available physical transmission frequency bands to meet those policy requirements. Decision module  may select two or more non-contiguous available physical transmission frequency bands to meet the policy requirements.","User mode software services  may include base station service  configured to provide a general base station service to wireless clients such as a geo-location service and web caching, access connection manager  configured to control user access rights and connectivity, and security manager  configured to provide security services of white space base station  such as access control lists, authentication, wireless encryption, and so forth.","Kernel software services  includes communication module , configured to provide a software radio service. Communication module  includes spectrum virtualization module  configured to provide spectrum virtualization services to one or more wireless transmission protocols -M. Wireless transmission protocols -M may include media access control (MAC) layers and physical layers (PHY) for use with wireless transmission protocols -M.","Radio hardware  may be implemented as a white-space radio front-end board, or other radio hardware. Such hardware may be for example a WBX from Ettus Research LLC. Radio hardware  may include one or more radio transceivers -N and sensing hardware . One or more radio transceivers -N may include radio-front ends which may include analog radio transmission and reception circuitry, antenna(s), analog-to-digital converter (ADC) circuitry, and digital-to-analog converter (DAC) circuitry. Sensing hardware  may be configured to probe and\/or sense the availability of one or more physical transmission frequency bands according to embodiments. In some embodiments, availability module  is configured to query sensing hardware  for available frequency bands. Sensing hardware  may be a radio transceiver similar to one or more radio transceivers -N. In alternate embodiments, a single radio transceiver is configured to act as both a transceiver and a sensing hardware. Various aspects of radio hardware  may be reconfigurable to transmit on various frequencies, such as frequencies that cover TV spectrum bands.","Spectrum virtualization module  is configured to perform digital modulation. In conventional wireless transmission, digital modulation maps a binary sequence (i.e., a bit stream) to a segment of digital waveform samples, called symbols. At a receiver, the symbols are demodulated to retrieve the embedded binary information. Baseband signals are not suitable to transmit directly; thus an RF front-end is configured to convert the digital baseband samples into high-frequency analog radio signals for transmission. The receiving RF front-end selects the desired radio frequency signals, down-converts the signals, and digitizes them to digital baseband signals.","With reference to the Open Systems Interconnection model (OSI model), PHY layers are analogous to layer 1 protocols and MAC layers are analogous to layer 2 protocols. The spectrum virtualization module can be thought of as implementing a spectrum virtualization layer at layer \u201c0.5\u201d of the OSI model.","One or more wireless transmission protocols -M may be conventional protocols. As noted above, conventional wireless transmission protocols may be incompatible with white space frequency bands and may be incompatible with variable or non-contiguous frequency bands. The PHY layers of one or more wireless transmission protocols -M modulate baseband signals for transmission on a fixed wireless frequency band, which may be different from the selected white space frequency bands. Spectrum virtualization module  treats these fixed wireless frequency bands as \u201cvirtual\u201d frequency bands, and the baseband signals modulated by the PHY layers as \u201cvirtual\u201d baseband signals, since white space base station  does not actually transmit on the fixed wireless frequencies of the PHY layers. Spectrum virtualization module  instead reshapes the virtual baseband signals that have been modulated according to the virtual frequency bands into physical baseband signals for transmission over the physical white space transmission bands.","Spectrum virtualization module  can be thought of as presenting a \u201cvirtual baseband\u201d to one or more wireless transmission protocols -M. During transmission, spectrum virtualization module  intercepts the virtual baseband signals and performs real-time reshaping of the virtual baseband signals so that the virtual baseband of the PHY layers maps to the physical transmission frequency bands. During reception, spectrum virtualization module  intercepts the received physical baseband signals and performs inverse reshaping to create virtual baseband signals for passing to the PHY layers. In various embodiments, spectrum virtualization module  enforces the spectrum mapping provided by spectrum manager  and allows white space base station  to utilize conventional PHY designs without modifications to the PHY standards.","As noted above, availability module  may request a list of available physical transmission frequency bands. This request may be sent to white space finder service  via communication network . White space finder service  includes reception module  configured to receive the request. The request may be accompanied by a location of white space base station . Propagation module , in white space finder service , is configured to determine, based on a location of a primary spectrum user (such as a television signal transmitter or a licensed wireless microphone user) that is near white space base station  and terrain data of a physical area near that location, a geographic area over which transmissions from the primary spectrum user are likely to propagate. Interference determination module  is configured to determine, based on the propagation area and the location of white space base station , whether transmissions of white space base station  will potentially interfere with transmissions of the one or more primary user devices. Based on the results of the interference determination, send module  is configured to send one or more locally available, non-interfering physical transmission frequency bands to white space base station  that are available for white space base station  to use. Alternatively, send module  may provide data indicative of physical transmission frequency bands that are not available for use by white space base station . Send module  may also send one or more policies, such as regulatory policies, for use by decision module  in selecting frequency bands for transmission. Send module  may also send additional information, such as recommendations for which spectrum band is most beneficially used at the base station.","Some embodiments may allow primary users to volunteer their spectrum for use in white space transmissions. Such primary users can add their spectrum to the white space finder database. Revocation module  is configured to receive, from a primary user, a revocation of a voluntarily provided spectrum and to send the revocation to white space base station . Upon receiving a revocation of a frequency band that is in use, decision module  is configured to select new ones of the physical frequency bands for transmission.","Propagation module  and interference determination module  together determine one or more physical transmission frequency bands usable by white space base station  for non-interfering transmissions. The propagation area and interference determinations may be modeled, in embodiments, using one of various propagation models such as the Longley-Rice radio signal propagation model.","Geographic area inset  shows a location of white space base station  (marked \u201cBS\u201d in geographic area inset ) along with the locations of primary user transmission devices (denoted \u201cTR\u201d in ) and various physical features such as hills, buildings, and a lake. The shaded area  shows an area over which transmissions from TR  are likely to propagate. Interference determination module  is configured to determine what frequencies that white space base station  may transmit on to avoid interfering with the primary users TR. In the illustrative example shown in geographic area inset , white space base station  is within the propagation area , but outside of another transmission propagation area associated with TR . Thus, interference determination module  may determine that white space base station  is allowed to transmit using a frequency utilized by TR , but not using a frequency utilized by TR . This potentially prevents white space base station  from interfering with transmissions by TR \u2014even though white space base station  is within the modeled propagation area \u2014because TR  and white space base station  would utilize different frequencies. This also potentially prevents white space base station  from interfering with TR \u2014even though white space base station  uses the same frequency band as TR \u2014because white space base station  is outside of the modeled propagation area associated with TR . Propagation module  may determine propagation area  based on terrain data, such as the existence of the lake and the hill. For example, the hill may shield transmissions from TR  and therefore decrease the size of propagation area , for example.","Example White Space Base Station",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 2","b":["200","200"]},"In one example configuration, white space base station  comprises one or more processors  and memory . White space base station  may also contain communication connection(s)  that allow communications with various devices such as for example white space finder service , such as is described in . The white space base station  may also include one or more input devices , such as a keyboard, mouse, pen, voice input device, touch input device, etc., and one or more output devices , such as a display, speakers, printer, etc. coupled communicatively to the processor(s)  and memory .","White space base station  includes radio hardware . Radio hardware  may be implemented as a white-space radio front-end board, or other radio hardware. Radio hardware  includes one or more radio transceivers , which include radio frequency (RF) front-ends  and antennae . Radio hardware  may be communicatively coupled to processor(s)  and to memory . Sensing hardware  includes sensing RF front-end  and sensing antenna . Sensing hardware  may be configured to probe for and\/or sense available physical frequency bands, such as by looking for TV signals. Sensing RF front-end  and sensing antenna  may be the same or different from RF front-ends  and antennae .","The memory  may store program instructions that are loadable and executable on the processor(s) , as well as data generated during execution of, and\/or usable in conjunction with, these programs. In the illustrated example, memory  stores an operation system , user mode software services , and kernel  (which may be part of operating system ). The operating system  provides basic system functionality of white space base station  and, among other things, provides for operation of the other programs and modules of white space base station . User mode software services  include a spectrum manager , a base station service  configured to provide wireless transmission service to wireless clients such a geo-location service and web caching, access connection manager  configured to control user access rights and connectivity, and security manager  configured to provide security services of white space base station  such as access control lists, authentication, wireless encryption, and so forth.","Kernel  includes a communication module . Communication module  includes a spectrum virtualization module  configured to interface with radio hardware  to transmit radio signals to one or more client devices. Spectrum virtualization module  is also configured to interface with one or more wireless transmission protocols -M, each including a MAC-M layer and PHY-M layer. As described with reference to , for example, spectrum virtualization layer  is configured to present a virtual baseband to the PHY layers of wireless transmission protocols -M, shape outgoing virtual baseband signals to physical baseband signals for transmission on radio hardware  and to inverse shape incoming physical baseband signals for handling by the PHY layers. This allows conventional PHY protocols to be used for white space transmission without modification.","Spectrum manager  includes an availability module  configured to request and receive information regarding available white space physical transmission frequency bands. Availability module  may be configured to query one or both of sensing hardware  and\/or a white space finder service for the available frequency bands. Spectrum manager  also includes policy module  that contains one or more policies such as regulatory policies or transmission requirements. Non-limiting examples of regulatory policies include guard bands requirements, power mask requirements, times that white space frequency bands are available, acceptable transmission power level ranges, and so forth.","The transmission requirements in policy module  may include requirements designated by various standards, protocols, specifications and so forth. Non-limiting examples of wireless protocol specification transmission requirements include bandwidth requirements, single or multicarrier modulation requirements, power transmission level requirements, duplex\/simplex transmission requirements, variable upload\/download transmission requirements, and so forth.","Spectrum manager  also includes decision module  that may be configured to compare the available physical transmission frequency bands with the policies (such as regulatory policies and\/or transmission requirements) in policy module  in order to select appropriate ones of the locally-available, non-interfering physical transmission frequency bands that will allow white space base station  to conform to the policies. Decision module  is also configured to map the selected ones of the available physical transmission frequency bands to the virtual frequency bands employed by spectrum virtualization module  and wireless transmission protocols . Decision module  is configured to make the selection based on a comparison of the policies to the available physical transmission frequency bands. For example, decision module  may consider bandwidth requirements of the wireless transmission protocols  and guard band requirements of the regulatory policies in selecting ones of the available physical transmission frequency bands for transmission by white space base station .","Decision module  is configured, in embodiments, to map multiple ones of the selected physical frequency bands to a single virtual spectrum band. This may occur, for example, where no single frequency band is available to meet the bandwidth or other requirements of one or more of the wireless transmission protocols -M. The multiple ones of the selected physical frequency bands may be non-contiguous physical frequency bands. Decision module  may also map a single physical frequency band to one or more virtual frequency bands. Decision module  may be configured to map virtual frequency bands associated with multiple ones of wireless transmission protocols -M to one or more physical transmission frequency bands. This allows white space base station  to support multiple simultaneous white space transmissions, to multiple white space clients, utilizing different ones of wireless transmission protocols -M. One or more of radio transceivers  may be utilized to perform the multiple simultaneous transmissions. Some embodiments may have different numbers of radio transceivers  and wireless transmission protocols . Or stated another way, N (the number of radio transceivers) does not necessarily equal M (the number of wireless transmission protocols supported by communication module ).","As noted above, availability module  may forward the location of white space base station  to a service, such as a white space finder service. The location of white space base station  may be determined by location hardware , which may be operatively coupled to processor(s)  and memory . Non-limiting examples of location hardware  include global positioning system (GPS) receivers, cellular telephone receivers, or others. Alternatively, availability module  may be configured to forward manually configured location information. Such manually configured location information may include coordinates such as longitude and latitude or other coordinate types, an address where white space base station is deployed, or other location information. In other alternative embodiments, availability module  may be configured to send an identifier of white space base station , such as an IP address, a unique identification number, a MAC address, or other to a white space finder service. The white space finder service may be configured to determine the location of the white space base station  based on the unique identifier, such as for example where the location of white space base station  has been previously provided to the white space finder service.","Although white space base station  has been described as employing white space networking, base stations according to embodiments may also employ other DSA networking types.","Example White Space Finder Service",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 3","b":["300","300","300"]},"In one example configuration, white space finder service comprises one or more processors  and memory . White space finder service  may also contain communication connection(s)  that allow communications with various devices such as for example a white space base station. The white space finder service  may also include one or more input devices , such as a keyboard, mouse, pen, voice input device, touch input device, etc., and one or more output devices , such as a display, speakers, printer, etc. coupled communicatively to the processor(s)  and memory .","The memory  may store program instructions that are loadable and executable on the processor(s) , as well as data generated during execution of, and\/or usable in conjunction with, these programs. In the illustrated example, memory  stores an operating system  to provide basic system functionality of white space finder service  and, among other things, provides for operation of the other programs and modules of white space finder service .","Memory  includes a reception module  configured to receive, from one or more white space base stations, location information of the white space base stations along with requests for available physical frequency bands for wireless transmission by the white space base stations. Propagation module  is configured to determine one or more geographic areas over which wireless transmissions by one or more primary users are likely to propagate. This determination is based at least on terrain data  associated with the locations of one or more primary users (such as television transmitters or licensed wireless microphone users) that are near a white space base station. Interference determination module  is configured to determine, based on the location of the white space base station and the modeled geographic propagation areas, one or more locally available, non-interfering transmission frequency ranges that will allow the white space base station to transmit non-interfering signals in its local area. For example, if the white space base station is within a modeled transmission propagation area of a particular primary user, interference determination module  may determine that the white space base station would interfere with that particular primary user if the white space base station were to transmit on the same frequency as that particular primary user. Interference determination module  is configured to select non-interfering transmission frequency ranges from frequency channel data . The propagation area and interference determinations may be modeled, in embodiments, using one of various propagation models such as the Longley-Rice radio signal propagation model. Send module  is configured to transmit, to the secondary wireless device, data indicative of the one or more available transmission frequency ranges. Such data may be frequency ranges, center frequencies and bandwidths, channel identifiers, and so forth.","Embodiments may support voluntary provision of spectrum by primary users for use in white space transmissions. Volunteer module  is configured to receive voluntary donations of spectrum from donors and to make that spectrum available to white space finder service , such as by adding the volunteered spectrum to frequency channel data . Such spectrum may be television transmission spectrum, or other spectrum. Revocation module  is configured to receive revocations of voluntarily provided spectrum, and to forward revocations of the one or more physical transmission frequency bands to the white space base station.","Although white space finder service  has been described as providing available \u201cwhite space\u201d frequency bands, finder services according to embodiments may also provide lists of frequency bands usable by other DSA networking types.","Use of Location Information","As noted above, location information of a white space base station, such as white space base station  illustrated in , or white space base station  illustrated in , may be used to determine one or more frequency ranges for white space transmissions. Maintaining private information is important. Therefore, some embodiments take appropriate steps to ensure that an individual cannot be identified from his or her location information. For example, any personally identifying information such as names, usernames, passwords, social security numbers, account numbers, and so forth may be omitted from the request for available white space sent by white space base stations. Furthermore, white space finder services\u2014such as white space finder service  illustrated in  and white space finder service  illustrated in FIG. \u2014may be kept in a secure location and protected against unauthorized access using appropriate measures such as encryption and network access controls. Location information may also be routinely purged. Moreover, users may be provided with notice that their location information is being transmitted, along with information on how their location information will be used. Furthermore, users may be allowed to provide either opt-in or opt-out consent. With opt-in consent, the user takes an affirmative action before his or her location information is used or transmitted. With opt-out consent, the user takes an affirmative action to prevent the use or transmission of his or her location data before that data is collected, transmitted, or used.","Example Process for Frequency Selection by a White Space Base Station",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 4","FIG. 4","FIG. 1","FIG. 2","FIG. 4"],"b":["100","200"]},"The exemplary processes are illustrated as a collection of blocks in a logical flow graph representing a sequence of operations that can be implemented in hardware, software, firmware, or a combination thereof. The order in which the processes are described is not intended to be construed as a limitation, and any number of the described process blocks can be combined in any order to implement the process, or alternate processes according to various embodiments of the present disclosure. Additionally, individual blocks may be omitted from the process without departing from the spirit and scope of the subject matter described herein. In the context of software, the blocks represent one or more computer instructions that, when executed by one or more processors, perform the recited operations.","Referring back to , process  includes receipt, by a white space device, of one or more non-interfering physical transmission frequency ranges that are available at a location of the white space device, block . The white space base station may compare the available physical transmission frequency ranges to one or more policies, block . Such policies may include requirements of a wireless transmission protocol or regulatory requirements associated with the physical transmission frequency ranges. Non-limiting examples of policies include guard band requirements, power mask requirements, one or more of bandwidth requirements of the wireless transmission protocol, requirements for single or multicarrier modulation, power transmission masks, duplex or simplex transmission requirements, variable upload and download bandwidth requirements, and so forth. The white space base station selects some or all of the available physical transmission frequency ranges based on the comparison, block . The white space base station maps the selected physical transmission frequency ranges to one or more virtual transmission frequency ranges of the wireless transmission protocol, block .","During transmission, a PHY layer associated with a wireless transmission protocol may modulate a data stream on a virtual baseband according to a virtual frequency range of the wireless transmission protocol, block . The virtual frequency range may be one of several frequency ranges set or established by the wireless transmission protocol for wireless transmissions according to the wireless transmission protocol.","A spectrum virtualization module of the white space base station may shape the virtual baseband signals according to the selected physical transmission frequency ranges to create physical baseband signals, block . Radio hardware of the white space base station may transmit radio frequency signals according to the physical baseband signals, block . Such transmission may include Digital-to-Analog Conversion (DAC) of the physical baseband signals to analog signals for transmission by the radio hardware.","During reception of white space transmissions from a white space client device, the radio hardware may receive radio frequency signals on the selected physical transmission frequency ranges, block . The radio hardware may perform Analog-to-Digital Conversion (ADC) of the received radio frequency signals to generate physical baseband signals, block . The spectrum virtualization module of the white space base station inverse shapes the received physical baseband signals into virtual baseband signals, according to the virtual frequency ranges, block . The virtual baseband signals are then demodulated by the wireless transmission protocol PHY layer, block . The PHY layer extracts the underlying digital information and passes the digital information to higher-level layers of the protocol stack.","Ongoing transmission and reception may proceed in this fashion until a revocation of one or more of the selected physical transmission frequency ranges is received, block . Once a revocation is received, an availability module of a spectrum manager of the white space device requests and receives a new list of available physical transmission frequency ranges, block . Alternatively, the decision module of the white space device may select another of the previously received list of available physical transmission frequency ranges that have not been revoked, block .","By selecting and mapping the physical transmission frequency ranges to the virtual frequency ranges, the white space devices adhere to the non-interference principal of white space transmission. In various embodiments, the white space finder service provides a list of available and non-interfering space frequency ranges for use by the white space base station, as is described in the following section.","Example Process for Location-Specific Determination of Non-Interfering Frequencies by a White Space Finder Service",{"@attributes":{"id":"p-0072","num":"0071"},"figref":["FIG. 5","FIG. 5","FIG. 1","FIG. 3","FIG. 5"],"b":["100","200"]},"The exemplary processes are illustrated as a collection of blocks in a logical flow graph representing a sequence of operations that can be implemented in hardware, software, firmware, or a combination thereof. The order in which the processes are described is not intended to be construed as a limitation, and any number of the described process blocks can be combined in any order to implement the process, or alternate processes according to various embodiments of the present disclosure. Additionally, individual blocks may be omitted from the process without departing from the spirit and scope of the subject matter described herein. In the context of software, the blocks represent one or more computer instructions that, when executed by one or more processors, perform the recited operations.","Referring back to , process  includes receipt of messages indicating voluntary donations of spectrum to be made available in one or more areas covered by the white space finder service, block . A reception module receives from a white space base station a request for available physical transmission frequency ranges, block . The request may be accompanied by location information of the white space base station, block . Alternatively, an identifier of the white space base station may accompany the request and the white space finder service may retrieve previously stored information about the location of the white space base station based on the identifier, which may be in the form of latitude and longitude, global positioning system coordinates, street addresses, or other location information. The identifier may include an IP address, a unique identification number, an email address, or MAC address, or other identifying information.","The white space finder service may retrieve terrain data associated with the location of the white space base station, block . The white space finder service determines, based on propagation modeling and locations of one or more primary users (such as television signal transmitters), a geographic area over which the primary users' transmissions are likely to propagate, block . The white space finder service will determine, based on the location of the white space base station, whether the white space base station transmissions would potentially interfere with the primary user transmission devices, block . For example, if the white space base station is located within the propagation area for a particular primary user, then the white space finder may determine that the white space base station may interfere with the particular primary user if the white space base station were to transmit on the same frequency as the particular primary user. One or more non-interfering physical transmission frequency ranges are determined and sent to the white space base station, block . For example, if the white space base station is located within a propagation area of a particular primary user, then the white space finder may determine that it is permissible for the white space base station to transmit on other frequencies besides the frequency ranges that the particular primary user transmits on.","As noted above, white space finder service may be configured to accept voluntary provision of spectrum by holders, licensees, or owners of such spectrum for use in white space transmissions in one or more geographical areas. Such voluntary provision may be limited, such as for example to certain times of day, certain durations, certain dates, and so forth. The white space finder service may therefore determine whether a limit, such as time expiration, has passed, block . If so, a revocation of the physical transmission frequency ranges is sent to the white space base station, block .","Also, the holder, licensee, or owner of the spectrum may revoke the use of the spectrum in one or more geographical areas, block , thereby prompting the white space finder service to transmit a revocation to the white space base station.","Although process  has been described as providing available \u201cwhite space\u201d frequency bands, embodiments may also provide lists of frequency bands usable by other DSA networking types.","Terrain Data and Propagation Modeling Illustration",{"@attributes":{"id":"p-0079","num":"0078"},"figref":["FIG. 6","FIG. 6","FIG. 6"]},"Referring to , terrain map  illustrates a local geographic area near white space base station . As noted above, a white space finder service may receive location information regarding the location of white space base station  and utilize terrain data to determine whether the white space base station's transmission signals might potentially interfere with primary users. In the illustrative example shown in , the terrain data may indicate the presence of hill , woods , and buildings . Based on these and other terrain features, a propagation module of the white space finder service may determine propagation areas over which transmission signals from various primary user devices are likely to propagate. Hill , woods , and buildings  may shorten the distance of transmission signals in certain directions.","Various primary user transmission devices - are present on terrain map , and are near to white space base station . One of them, primary user transmission device , is shown along with propagation area , which is the geographic area that transmissions from primary user transmission device  are likely to propagate, based for example on the presence of hill , woods , and buildings , and as determined using propagation modeling. Thus, the white space finder service may select a physical transmission frequency range that is not used by primary user transmission device  for white space transmission by white space base station . Thus, even though white space base station  is within propagation area , transmissions by white space base station  may be determined to be non-interfering with primary user transmission device  because the two utilize different frequency ranges. At the same time, white space base station  may be provided with frequency ranges that are also used by primary user transmission device , , and\/or  (or other frequency ranges utilized by none of the primary user transmission devices). White space base station  may be determined to be sufficiently unlikely to interfere with transmissions from primary user transmission devices , , and \u2014even if white space base station  utilizes the same transmission frequencies as those devices\u2014because white space base station  is not within the modeled transmission propagation areas of those devices.","Spectrum Virtualization Environment",{"@attributes":{"id":"p-0082","num":"0081"},"figref":["FIG. 7","FIG. 1","FIG. 2"],"b":["700","702","704","706","702","102","200","702","702"]},"Wireless client  and wireless client  may be implemented on various suitable computing device types that are capable of implementing a wireless client. Suitable computing device or devices may include, or be part of, one or more personal computers, servers, server farms, datacenters, combinations of these, or any other computing device(s) capable of storing and executing all or part of a wireless client. Various portions of wireless clients  and  may be implemented as hardware logic, such as an application specific integrated circuit (ASIC) or as one of various programmable or reprogrammable processor types such as a field programmable gate array (FPGA).","Base station  includes memory  and one or more processors . The memory  may store program instructions that are loadable and executable on the processor(s) , as well as data generated during execution of, and\/or usable in conjunction with, these programs. Base station  also includes radio hardware , which may include a radio frequency (RF) front-end and antennae.","Memory  includes wireless protocols -A and -B. Wireless protocol -A includes MAC-A and PHY-A, and wireless protocol -B includes MAC-B and PHY-B. Non-limiting examples of wireless protocols -A and -B include Wi-Fi\u00ae, protocols within the 802.11 suite of protocols, and ZigBee.","Memory  also includes spectrum virtualization module , configured to implement a spectrum virtualization layer. Spectrum virtualization module  is configured to, among other things, map virtual frequency bands to physical frequency bands, and to interface between radio hardware  and wireless protocols -A and -B.","Wireless client  includes memory  and one or more processors . The memory  may store program instructions that are loadable and executable on the processor(s) , as well as data generated during execution of, and\/or usable in conjunction with, these programs. Wireless client  also includes radio hardware , which may include a radio frequency (RF) front-end and antennae.","Memory  includes wireless protocol -A, for communication with base station . Memory  also includes spectrum virtualization module , configured to implement a spectrum virtualization layer. Spectrum virtualization module  is configured to, among other things, map virtual frequency bands to physical frequency bands, and to interface between radio hardware  and wireless protocol -A.","Wireless client  includes memory  and one or more processors . The memory  may store program instructions that are loadable and executable on the processor(s) , as well as data generated during execution of, and\/or usable in conjunction with, these programs. Wireless client  also includes radio hardware , which may include a radio frequency (RF) front-end and antennae.","Memory  includes wireless protocol -B, for communication with base station . Memory  also includes spectrum virtualization module , configured to implement a spectrum virtualization layer. Spectrum virtualization module  is configured to, among other things, map virtual frequency bands to physical frequency, and to interface between radio hardware  and wireless protocol -B.","As opposed to a conventional wireless system\u2014where PHY layers interface directly with an RF front-end\u2014embodiments of the present disclosure employ spectrum virtualization modules (such as spectrum virtualization modules , , and  in ) to create an intermediate interface between the PHY layers and a RF front-end. This interface can be thought of as level 0.5 of the Open Systems Interconnections (OSI) model, directly below layer  (the Physical Layer, abbreviated \u201cPHY\u201d herein\u201c). Reference to the OSI model, and to various layers within the OSI model, are not meant to imply that embodiments are compatible only with wired or wireless transmission protocols that conform to the OSI model. Rather, the OSI model and its various layers are referenced herein for the sake of discussion.","When transmitting to wireless client , spectrum virtualization module  of base station  is configured to accept virtual baseband signals modulated by wireless protocol -A, shape the virtual baseband modulated signals, and map them to a physical baseband according to a spectrum map. Spectrum virtualization module  is configured to pass the shaped and mapped modulated signals to radio hardware  for transmission as analog signals on the physical frequency spectrum to wireless client .","Radio hardware  of wireless client  is configured to select the physical frequency spectrum, receive the transmitted analog signals, digitize them, and pass them to spectrum virtualization module . Spectrum virtualization module  is configured to inverse shape and map the physical baseband modulated signals into virtual baseband modulated signals. Wireless protocol -A of wireless client  accepts the inverse shaped modulated virtual baseband signals, demodulates them, and extracts the digital data contained within for processing by higher-level layers of the protocol stack.","Wireless client  is configured to perform functions that are similar to the functions that wireless client  is configured to perform. But wireless client  employs wireless protocol -B rather than wireless protocol -A. In alternate embodiments, different wireless clients could utilize the same wireless protocols, and different wireless clients could utilize the same physical transmission bands as one another.","Spectrum Virtualization Overview","Various embodiments of the present disclosure \u201cvirtualize\u201d a non-variant spectrum band out of the dynamic changing physical spectrum allocation in dynamic spectrum access (DSA) networks. (White space networks are examples of DSA networks). Embodiments of the present disclosure support various wireless PHY protocols without the need to change the design of those various wireless PHY protocols. Embodiments accomplish this by using a spectrum virtualization layer situated logically below the wireless PHY layer to perform baseband processing on the baseband signals that are output by the PHY layer. The spectrum virtualization layer intercepts and rewrites digital signals that pass between the baseband presented by the PHY layer and the radio frequency (RF) front-end hardware\u2014in both send and receives directions\u2014to hide the dynamically changing spectrum allocation of the DSA network and to create the effect of a fixed spectrum from the perspective of the PHY protocol.","Next, a conventional radio transceiver and conventional wireless protocol PHY layer will be described. That description will be followed by a description of how spectrum virtualization layers according to embodiments that interface with the PHY layer and the radio transceiver.","A conventional radio transceiver includes a radio frequency (RF) front-end and a baseband processing unit. In conventional radio designs, baseband processing is generally performed in the digital domain with digital signal samples, and the RF front-end mainly contains analog radio circuitry. Thus, analog-to-digital conversion (ADC) and digital-to-analog conversion (DAC) form the nature of the interface between the conventional baseband unit and the RF front-end. The conventional baseband unit performs digital baseband modulation on information bits to create digital baseband waveforms, and vice versa. Digital modulation maps a binary sequence to segments of digital waveform samples. These segments are called symbols. At the receiver side, the symbols are demodulated to retrieve the embedded binary information. The RF front-end converts the digital baseband signals (the symbols) into analog radio signals and transmits them. During reception, the RF front-end selects the radio frequency signal, down-converts the signals, and digitizes the signals to form digital baseband samples.","Different conventional wireless PHY protocols use different modulation techniques. Generally speaking, baseband modulation can be classified into single carrier modulation (SCM) and multi-carrier modulation (MCM). ZigBee, 802.11b and Wideband Code Division Multiple Access (WCDMA) are examples of single carrier systems. Various high-speed wireless systems such as 802.11a\/g and Long Term Evolution (LTE) use multi-carrier modulation. In addition to being classifiable by their modulation techniques, conventional wireless PHY protocols can also be classified by how they handle multi-path fading. For example, rake-receiver is commonly used for SCM signals that have been spread. But protocols that utilize MCM often rely on cyclic-prefixes (CP) to remove the impact of multi-path fading. The fundamental tradeoffs in various conventional wireless PHY design choices\u2014such as MCM versus SCM, and Rake-receiver versus CP\u2014make it unlikely that a single PHY layer protocol could be adopted for all wireless applications.","A spectrum virtualization layer, according to various embodiments of the present disclosure, is one way to support multiple conventional PHY layers in a DSA network in order to maintain flexibility for various wireless transmission bands. The interworking between a spectrum virtualization layer according to embodiments and a radio frequency front-end will now be described.",{"@attributes":{"id":"p-0100","num":"0099"},"figref":["FIG. 8","FIG. 7","FIG. 7"],"b":["800","802","804","802","804","806","802","804","802","702","704","706","802","808","804","810","802","812","804","814"]},"Referring to sender , SVL  maps a virtual baseband associated with a \u201cvirtual\u201d frequency band or spectrum to one or more physical basebands (shown as \u201cphys b-band\u201d in ) that are associated with a physical frequency band or spectrum. The virtual frequency band may be a fixed spectrum (or one of several fixed spectrums) designated by PHY , while the physical baseband may be according to one of several dynamically allocated frequency bands, such as in a white space network or, more generally, a DSA network. SVL  is configured to map and shape virtual baseband signals to one or more physical baseband signals. RF front-end  is configured to convert the digital physical baseband signals to analog signals, and to transmit them on one or more antennae (not shown).","RF front-end  of receiver  is configured to receive the analog signals transmitted by RF front-end , and to convert them into digital samples to form one or more physical basebands. SVL  is configured to map and inverse shape the physical baseband signals to virtual baseband signals, before passing them along to PHY  of receiver . PHY  of receiver  demodulates the virtual baseband signals and extracts the underlying digital data sent by sender . In this way, SVL  presents PHY  of sender  with a virtual baseband according to a fixed frequency (which may be specified by PHY ), and SVL  presents PHY  of receiver  with a virtual baseband, according to the same fixed frequency. Thus PHY  of sender  and PHY  of receiver  communicate with one another as if sender  and receiver  were transmitting on the fixed frequency. But SVLs  and  make it possible to transmit using one or more physical frequency bands that have been allocated dynamically for the transmission. The dynamically allocated physical frequency bands may be different from the fixed frequency employed by PHY .","Both sender  and receiver  may be capable of sending and receiving. They are referred to as \u201csender\u201d and \u201creceiver\u201d in  for the sake of description. Thus, transmissions can be sent from receiver , via SVL  and RF front-end , to sender  via RF front-end  and SVL .","A spectrum virtualization layer (such as SVL  and SVL  of ) may be configured to create a bridge between PHY protocols and the dynamic baseband in a DSA network (such as a white space network). PHY protocols are usually designed for a fixed frequency transmission, and DSA networks may have a time and space-varying spectrum configuration. The dynamic baseband in a DSA network may also be wider or narrower than the fixed frequency baseband of the PHY protocols. The SVL allows the fixed frequency band of the PHY protocols to be mapped to a narrower or wider frequency band.","Another function of the spectrum virtualization layer is to decouple the connection between the PHY protocol and the RF front-end, and to add a layer of indirection. The virtual baseband and the physical baseband differ in the sense that one is fixed and specified by PHY protocol design, and the other is dynamic and determined by a DSA allocation method (such as for example by the processes employed by white space finder services and spectrum managers in accordance with various embodiments of the present disclosure). At the sender side, the PHY protocol generates digital waveforms as if it were connected to an RF front-end. The SVL layer intercepts these samples and reshapes them into a different waveform shapes so that, when the RF front-end transmits the transformed waveform shapes, the resultant radio signals match the dynamic spectrum allocation of the DSA or white space network. At the receiver side, the SVL performs the inverse reshaping operation on the physical baseband samples to recover the original digital waveform shapes for the PHY layer. As shown in the example of , a relatively wide virtual baseband is reshaped into two relatively narrow physical basebands during transmission. During reception (such as by receiver ), the SVL inverse reshapes the two relatively narrow physical basebands into the one relatively wide virtual baseband.","Spectrum Virtualization Architecture",{"@attributes":{"id":"p-0106","num":"0105"},"figref":["FIG. 9","FIG. 1","FIG. 2","FIG. 7","FIG. 7"],"b":["900","900","900","900","102","200","702","900","704","706"]},"SVL  provides a virtual baseband to one or more PHY  and is configured to dynamically translate the signals between a virtual baseband and a physical baseband provided by one or more RF front-ends . The width of the virtual baseband is specified by one or more PHY , such as for example during an initialization stage. The one or more PHY  may be part of a wireless transmission protocol that also specifies a media access control (MAC) layer, as shown in .","SVL  maintains a spectrum map  showing the mapping between the virtual baseband and the physical spectrum bands. The mapping contained in spectrum map  is flexible. For example, spectrum map  may map the virtual baseband to a physical spectrum band having the same width (e.g., the mapping of virtual spectrum band VS to an equal-sized physical band). Alternatively, spectrum map  may map the virtual baseband to a narrower contiguous physical band, or several non-contiguous physical bands (e.g., the mapping of virtual spectrum bands VS and VS to differently sized physical bands). In other embodiments, spectrum map  may map the virtual baseband to a broader contiguous physical band, or sever non-contiguous physical bands that together are larger than the virtual baseband.","Spectrum allocation is controlled by spectrum manager . Spectrum manager  may be the same as or different than spectrum manager  in  and\/or spectrum manager  in . Spectrum manager  is configured to monitor the current spectrum usage (e.g., by sensing or querying a database such as a white space finder service), to allocate available physical spectrum bands for one of PHY  based on various policies, and to update the spectrum map  in SVL .","The one or more reshapers  are configured to translate signals from baseband to physical bands, and vice versa. The one or more reshapers are configured to perform signal translation without reference to the modulation scheme employed by the one or more PHY . In embodiments, one or more reshapers  are configured to employ digital signal processing algorithms that operate on general baseband waveforms.","The one or more reshapers  may be transparent to one or more PHY . For example, although the reshaping operation may change the baseband waveform in some way, the one or more PHY  may treat this distortion as if it were due to normal wireless channel fading. This allows the one or more PHY  to model the distortion caused by the reshaping operation by an equivalent multipath fading channel, and to handle any distortion caused by the reshaping operation using equalization mechanisms already available to the one or more PHY .","After reshaping, baseband signals are converted to physical baseband signals. Physical baseband signals from multiple ones of PHY  may be mixed (added) together by mixers  before they are sent to RF front-ends .","When receiving, the incoming signals are passed to splitters , which contain a matched filter for the one or more PHY  based on spectrum map . The filtered physical band signals are fed to the reshapers , which are configured to perform inverse reshaping operations to recover the virtual baseband signals. Virtual baseband signals are sent to the one or more PHY . The PHY  are configured to demodulate the virtual baseband signals and to obtain the underlying binary information.","Conceptually, SVL  virtualizes the RF front-ends  for each of the one or more PHY . SVL  is configured to flexibly map different ones of PHY  to different ones of RF front-ends . Also, SVL  is configured to multiplex several ones of PHY  onto a single one of RF front-ends . RF front-end virtualization allows multiple ones of PHY  to share a common one of RF front-ends . RF front-end virtualization may therefore reduce the bandwidth resources needed for multi-radio integration, thereby requiring less space and energy, and possibly resulting in lower-cost mobile devices.",{"@attributes":{"id":"p-0115","num":"0114"},"figref":["FIG. 10","FIG. 10","FIG. 10"],"b":["1002","1","2","3","1002","1","2","1002","1","1","1002","10","2","3","2"]},"Spectrum Virtualization Layer Interfaces","Spectrum virtualization layers according to various embodiments define interfaces.  is a flow diagram showing an example process  for interface calls to a spectrum virtualization layer. The process of  may, but may not, be implemented in, or in conjunction with, the communication module  in , communication module  of , transmission  of , environment  of , architecture  of , and\/or SVL  and PHY layers shown in .","Some portions of the processes shown in  may be implemented by computer-executable instructions. Generally, computer-executable instructions can include routines, programs, objects, components, data structures, procedures, modules, functions, and the like that perform particular functions or that implement particular abstract data types. The processes can also be practiced in a distributed computing environment where functions are performed by remote processing devices that are linked through a communication network. In a distributed computing environment, computer-executable instructions may be located in local and\/or remote computer storage media, including memory storage devices.","The exemplary processes are illustrated as a collection of blocks in a logical flow graph representing a sequence of operations that can be implemented in hardware, software, firmware, or a combination thereof. The order in which the processes are described is not intended to be construed as a limitation, and any number of the described process blocks can be combined in any order to implement the process, or alternate processes according to various embodiments of the present disclosure. Additionally, individual blocks may be omitted from the process without departing from the spirit and scope of the subject matter described herein. In the context of software, the blocks represent one or more computer instructions that, when executed by one or more processors, perform the recited operations.","Referring back to , a wireless PHY protocol registers with the SVL before it sends and receives signal samples, block . During registration, the wireless PHY protocol defines a virtual spectrum band, a desired bandwidth for the baseband, and one or more over-sample parameters. The over-sample parameters, together with the desired bandwidth, determine the sampling rate of the baseband. The sampling rate may be at least twice the bandwidth, in order to satisfy Nyquist criteria. It is possible for a wireless PHY to specify an over-sampling rate greater than two, which may provide better performance but incur greater computational cost. This greater computational cost results from the additional samples that are processed in a given interval when over-sampling is used. The wireless PHY will also, during registration, define a number of sub-carriers used in multi-carrier modulation. For single carrier modulation, this number will be equal to one.","Another parameter specified during registration describes the sorts of reshape operations to be performed on the virtual baseband signals of the PHY. This parameter will work together with the spectrum manager to determine mapping between the virtual baseband and the physical spectrum bands. Some non-limiting examples include parameters that indicate that the baseband signals are not to be shrunk to a physical baseband that is narrower than the specification, parameters that indicate that baseband signals are not to be split into non-contiguous physical bands, and parameters that indicate additional guard-band sizes that are to be used.","The SVL forwards the registration request to the spectrum manager, block . If accepted, the spectrum manager allocates a portion of physical spectrum and updates the map entries in the spectrum map, block . The SVL may return a handle to the PHY that identifies the registered virtual baseband.","A wireless PHY submits a call to output virtual baseband signals to the SVL, block . As part of the call, the wireless PHY provides an identification of the virtual baseband, which prompts a look-up to the spectrum map for the physical spectrum. The wireless PHY provides sample and length parameters that specify a pointer to the digital samples to be output, and the number of digital samples to be output, respectively.","The wireless PHY submits a call to receive baseband signals, block . During this call, the wireless PHY provides an identification of the virtual baseband, a pointer to the sample buffer location, and the number of digital samples to be received. The SVL returns the samples identified by those parameters and passes them to the wireless PHY, block .","Spectrum Map","As noted above, a spectrum map is employed to determine the mapping between the physical spectrum bands and the virtual spectrum bands. For each PHY, the table defines a virtual spectrum B(f,w) and the associated (mapped) physical spectrum band B(f,w), where f is the center frequency and w is the bandwidth. A virtual spectrum band may be associated with (mapped to) multiple bands B(f, w), B(f, w) . . . B(f, w) in embodiments where a virtual spectrum range is mapped to multiple physical spectrum ranges. A map table of the spectrum map contains the processing information associated with the PHY layers. Non-limiting examples of processing information includes a reshaper identifier, a filter identifier (identifying a splitter), a radio identifier (identifying a radio, such as for example in embodiments employing more than one radio in a device), and a time scale factor (for use in timing virtualization as discussed below). The spectrum map may be established and maintained by a spectrum manager. Once a registration request has been accepted by the spectrum manager (as described elsewhere within this Detailed Description), the spectrum manager assigns a PHY identifier to the registered PHY and adds a new entry to the map table. As discussed elsewhere within this Detailed Description, a spectrum virtualization layer enforces the map table.","Timing Virtualization","When an SVL maps a virtual baseband to a physical band with a narrower width, it takes more time to transfer baseband signals than a PHY protocol would expect. For example, if an 802.11a PHY with a 20 MHz virtual baseband is mapped to a 10 MHZ physical baseband, it may take the SVL 8 \u03bcs to send a symbol instead of the 4 \u03bcs as expected by the PHY. These changes in timing may impact the operation of the wireless protocols if the wireless protocols rely on absolute time information. For example, Network Allocation Vector (NAV) and ACK timeout would expire pre-maturely if the transmitting time of PHY signal is extended. Embodiments therefore employ timing virtualization.",{"@attributes":{"id":"p-0126","num":"0125"},"figref":["FIG. 12","FIG. 12","FIG. 1","FIG. 2","FIG. 8","FIG. 7","FIG. 9","FIG. 10","FIG. 12"],"b":["1100","1200","128","240","800","700","900","1002"]},"The exemplary processes are illustrated as a collection of blocks in a logical flow graph representing a sequence of operations that can be implemented in hardware, software, firmware, or a combination thereof. The order in which the processes are described is not intended to be construed as a limitation, and any number of the described process blocks can be combined in any order to implement the process, or alternate processes according to various embodiments of the present disclosure. Additionally, individual blocks may be omitted from the process without departing from the spirit and scope of the subject matter described herein. In the context of software, the blocks represent one or more computer instructions that, when executed by one or more processors, perform the recited operations.","Referring back to , in process , an SVL employing timing virtualization presents a virtual clock to the wireless protocol (PHY), block . The ticking rate of the virtual clock is adaptive according to the actual allocated physical spectrum bands. In one non-limiting example, if bis the aggregated bandwidth of allocated physical bands, and bis the width of virtual baseband, then the SVL adjusts the ticking rate by a factor of b\/b.","During transmission, the PHY protocol modulates a data stream on a virtual baseband according to the virtual transmission frequency range, utilizing the virtual clock ticking rate, block . The virtual clock ticking rate can be thought of as slowing time down for the PHY protocol, thereby allowing the PHY protocol to be used with the narrower physical baseband without modification of the PHY protocol. In other embodiments, the virtual clock ticking rate may be faster than normal, in order to allow the virtual spectrum band to be mapped to a relatively larger physical spectrum band in order to speed up transmissions without modification of the PHY protocol.","During transmission, the SVL shapes the virtual baseband signal into physical baseband signals according to the physical transmission frequency range, block . The SVL passes the modulated physical baseband signals to the radio front-end for transmission on the physical transmission frequency ranges, block .","During reception, the RF front-end receives RF signals on the physical transmission frequency ranges, block . The RF front-end digitizes the received analog signals and generates physical baseband signals to be sent to the SVL, block .","The SVL inverse shapes the received physical baseband signals into virtual baseband signals, and sends them to the PHY protocol according to the virtual clock tick rate, block . The PHY protocol demodulates the signal, and extracts the underlying digital data, block .","Timing virtualization may require MAC and other high layer protocols to be modified in order to get timing information only from the virtual clock. Many MAC implementations have common clock application programming interfaces (APIs) that refer to a single clock source. Therefore, embodiments re-implement these clock API functions. For wireless protocols that have not been modified to support timing virtualization, a policy can be set to ensure that its physical frequency band can be implemented in order to avoid the problem altogether. Such a policy would cause the SVL to allocate enough physical bands to ensure that signal timing does not need to change.","RF Front-End Multiplexing","Spectrum virtualization according to various embodiments may support the multiplexing of multiple PHY onto a single wideband RF front-end. An SVL may ensure that the width of the wideband RF front-end accommodates the width of physical bands allocated to the multiple PHY. The SVL includes mixers and splitters to support multiple PHY multiplexing.","A mixer may sit in the transmitting chain, and be configured to collect the physical baseband signals of the multiple PHY (after reshaping), scale the signals' amplitudes according to individual ones of the PHYs' power masks, and then add (mix) the physical baseband signals together prior to sending them to a DAC in the RF front-end. A splitter contains a set of band-pass filters that match a physical band that has been allocated to the multiple PHYs. For PHYs that have been mapped to noncontiguous physical bands, filters for all the noncontiguous bands are combined by the mixer to form a single band-selective filter. The splitter applies a matched band-selective filter for each PHY, and the filtered signal samples are fed to the corresponding reshaper that has been mapped to the respective PHY.","If a base station or wireless client device has only one RF front-end, and that one RF front-end is half-duplex, multiplexing multiple PHY may include careful scheduling, since a half-duplex RF front-end can only transmit or receive at any one time. Thus, the SVL may schedule the signals for multiple PHYs to be transmitted simultaneously, and the SVL may schedule the signals for multiple PHYs to be received simultaneously. To accommodate these scheduling requirements, SVLs according to embodiments include buffers to temporarily hold baseband samples when the RF front-end is receiving. The SVL defers the transmissions until the receiving is done (i.e. upon detection of no signal power on the receive chain of the RF front-end). The SVL can hide the resulting buffering latency from the PHY layers by subtracting the latency from the virtual time, such as by reducing a tick rate of a virtual clock.","A full-duplex mode can be achieved with a full-duplex RF front-end, or by attaching two half-duplex RF front-ends to the SVL. In embodiments, the sending and receiving bands may be orthogonal and one or more analog notch (band-stop) filters may be applied by the SVL to filter out self-transmitted signals in order to prevent the receiving chain from being saturated.","Computer-Readable Media","Depending on the configuration and type of computing device used, memory  of white space base station  in , memory  of white space finder service  in , memory  of base station  in , and\/or memories  and  of wireless clients  and  in  may include volatile memory (such as random access memory (RAM)) and\/or non-volatile memory (such as read-only memory (ROM), flash memory, etc.). Memories , , , , and\/or  may also include additional removable storage and\/or non-removable storage including, but not limited to, flash memory, magnetic storage, optical storage, and\/or tape storage that may provide non-volatile storage of computer readable instructions, data structures, program modules, and other data for white space base station , white space finder service , base station , and\/or wireless clients  and .","Memories , , , , and  are examples of computer-readable media. Computer-readable media includes at least two types of computer-readable media, namely computer storage media and communications media.","Computer storage media includes volatile and non-volatile, removable and non-removable media implemented in any process or technology for storage of information such as computer-readable instructions, data structures, program modules, or other data. Computer storage media includes, but is not limited to, phase change memory (PRAM), static random-access memory (SRAM), dynamic random-access memory (DRAM), other types of random-access memory (RAM), read-only memory (ROM), electrically erasable programmable read-only memory (EEPROM), flash memory or other memory technology, compact disk read-only memory (CD-ROM), digital versatile disks (DVD) or other optical storage, magnetic cassettes, magnetic tape, magnetic disk storage or other magnetic storage devices, or any other non-transmission medium that can be used to store information for access by a computing device.","In contrast, communication media may embody computer-readable instructions, data structures, program modules, or other data in a modulated data signal, such as a carrier wave, or other transmission mechanism. As defined herein, computer storage media does not include communication media.","Although the disclosure uses language specific to structural features and\/or methodological acts, the invention is not limited to the specific features or acts described. Rather, the specific features and acts are disclosed as illustrative forms of implementing the invention."],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":["The Detailed Description is set forth with reference to the accompanying figures. In the figures, the left-most digit(s) of a reference number identifies the figure in which the reference number first appears. The use of the same reference numbers in different figures indicates similar or identical items.",{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0010","num":"0009"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0011","num":"0010"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 5"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 12"}]},"DETDESC":[{},{}]}
