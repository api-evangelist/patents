---
title: Avalanche photodiode operating voltage selection algorithm
abstract: An accurate and rapid method for characterizing the performance of an APD and setting its operating voltage Vop to an optimal value uses an on-board LED or other pulsed light source to measure APD responses at different operating voltages Vop. An estimated breakdown voltage Vb is determined by comparing the measured responses, and the Vop is adjusted to a new value at a fixed offset from the estimated Vb. The fixed offset is selected according to ambient light conditions, including the presence or absence of light background noise, and whether the sun is partially or fully in the field of view. The method is iterated until convergence, or until a maximum number of iterations is reached. In embodiments, a plurality of APD's having a common Vop can be adjusted, and the Vop is never set below a minimum value VopBW necessary to meet timing requirements for a missile guidance system.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08653434&OS=08653434&RS=08653434
owner: BAE Systems Information and Electronic Systems Integration Inc.
number: 08653434
owner_city: Nashua
owner_country: US
publication_date: 20110408
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATIONS","STATEMENT OF GOVERNMENT INTEREST","FIELD OF THE INVENTION","BACKGROUND OF THE INVENTION","SUMMARY OF THE INVENTION","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Application No. 61\/321,969, filed Apr. 8, 2010, herein incorporated by reference in its entirety for all purposes.","The invention was made with United States Government support under Contract No. W31P4Q-06-C-0330 awarded by the Navy. The United States Government has certain rights in this invention.","The invention relates to methods for setting the operating voltage (Vop) of an avalanche photodiode (APD), and more particularly to automated methods for setting the APD operating voltage in any application where the performance of the system depends strongly on the signal-to-noise performance (S\/N) and\/or the Responsivity-to-Noise ratio (R\/N) of the APD.","An avalanche photodiode (APD) is a highly sensitive semiconductor electronic device that exploits the photoelectric effect to convert light to electricity. APD's can be thought of as photo-detectors that provide a built-in first stage of gain through avalanche multiplication. From a functional standpoint, APD's can be regarded as the semiconductor analog to photomultipliers.","Upon application of a reverse bias \u201coperating voltage\u201d (Vop), APD's show an internal current gain effect due to impact ionization (avalanche effect). In general, the higher the reverse voltage, the higher the gain. A \u201ctrans-impedance amplifier\u201d (TIA) can then be used to convert this current effect to a voltage effect.","APD's are frequently used in LASER range finders, which transmit pulses of LASER light and then detect the light echo which is reflected from a remote object. By measuring the time delay between pulse transmission and echo detection, the distance to the reflecting object can be calculated. APD's are also used in missile guidance systems, and in many other applications where the performance of the system depends strongly on the signal-to-noise performance (S\/N) and\/or the Responsivity-to-Noise ratio (R\/N) of the APD's.","The performance of an APD-based system typically depends on the performance of the APD itself. In the absence of ambient light \u201cnoise\u201d and impinging sunlight, optimal performance will be achieved when the Vop is adjusted such that the total APD noise is equal to the amplifier noise. In the absence of ambient light, the optimal Vop will be close to the maximum, or \u201cbreakdown\u201d voltage (Vb) of the APD. In the presence of background light noise and\/or sunlight, optimal performance will result when the Vop is set to a lower value. There is a lower voltage limit VopBW at which the APD might not meet the timing (bandwidth) required to evaluate the laser pulses.","APD's experience significant performance changes as a function of temperature, including changes to Vb and VopBW. In addition, the system level manufacturing process typically adds additional variation from one part to the next. These variations in APD characteristics can result in extreme performance variations unless compensating adjustments are made to the operating voltage of the APD (Vop). Therefore, optimal performance can only be achieved if the electronic performance of the APD is characterized and the Vop is adjusted accordingly. Depending on the operating conditions, it may be necessary to repeat this Vop adjustment as the temperature changes, and\/or as background light \u201cnoise\u201d and impinging sun conditions change. If the Vop of a plurality of APD's is provided by a common power supply, it is necessary to characterize each of the APD's and set the Vop to a value which will be optimal for the entire group.","APD's are sometimes used in missile guidance systems, such as the guidance system of the APKWS missile. In such cases, it can be necessary to periodically characterize and adjust the Vop for all onboard APD's during the flight of the missile, as light and temperature conditions change. In addition, it can be necessary to perform the characterizations and adjustments quickly, since frequent measurements are required and the missile travels very rapidly. In particular, the APKWS includes seven APD's, each of which must\/be characterized before the Vop can be adjusted. A typical requirement is that an entire set of APD's must be characterized and the Vop adjusted in less than 300 ms.","Vop characterization methods typically require multiple sequential background-noise measurements so as to determine an acceptable Vop voltage. These algorithms have typically been loosely tied to the APD manufacturer's specifications, and have not always met the specified bandwidth requirement. For systems that include a plurality of APD's sharing a common Vop, these algorithms have typically required a detailed systems analysis to evaluate how the Vop should be set. In particular, these methods typically require that the breakdown voltages of each of the APD's be determined so as to find the optimal Vop solution. As a result, such characterization and adjustment methods can be time consuming and are not always optimal.","What is needed, therefore, is a method for rapidly and accurately determining the performance characteristics of one or more avalanche photo diodes (APD's), and selecting an optimal operating voltage (Vop) for the APD's.","The method of the present invention uses at least one on-board LED to characterize the performance of at least one APD, for example during initialization of the APD and\/or periodically during use of the APD. This approach eliminates the need for additional testing of the APD during the manufacturing process, and allows the APD performance to be quickly and frequently optimized by adjusting the APD bias voltage.","The method of the present invention exposes the APD to a pulsed light source, which in various embodiments is an LED. The method then applies an iterative procedure that characterizes each APD by adjusting its bias voltage Vop and evaluating the resulting change in its response to the repeatable, amplitude pulsed light source. The data thus acquired is evaluated with reference to environmental factors such as the ambient light level, whether the sun is in the field of view, and the ambient temperature, and the optimal operating voltage (Vop) for the APD(s) is determined.","Specifically, the method of the invention includes comparing APD responses obtained at a current Vop and at a previous Vop, estimating the breakdown voltage(s) (Vb) according to the comparison, and then setting the Vop to a new value which is at a fixed offset below the lowest estimated Vb. The fixed offset is selected according to operating conditions, such as the presence or absence of ambient light \u201cnoise\u201d and\/or impinging sunlight. This procedure is repeated iteratively, each time comparing the response at the updated Vop with the response at the previous Vop, until a convergence criterion is met or a maximum number of iterations is reached. In some embodiments, the convergence criterion is a change in Vop of less than 5 Volts, and\/or the maximum number of iterations is 5.","The driving factor in the method of the present invention is optimization of the Signal-to-Noise ratio (R\/N) and\/or Responsivity-to-Noise ratio (R\/N) across all included APD's.","The present invention is a method for optimizing the operating voltage Vop of an avalanche photo-diode (APD). The method includes setting Vop to a first value which is less than an initially estimated breakdown voltage for the APD, determining a first response of the APD to an on-board light source at the first Vop value, setting Vop to an updated value which is less than the initially estimated breakdown voltage and different from the previous value of Vop, determining an updated response of the APD to the on-board light source, determining an updated estimated breakdown voltage according to the updated value of Vop, the updated response, the immediately previous value of Vop, and the immediately previous response, setting Vop to an offset value which is offset below the updated estimated breakdown voltage by a fixed offset amount, and repeating the steps of determining an updated response, determining an updated estimated breakdown voltage, and setting the Vop to an offset value, until at least one of a convergence criterion is met and a maximum number of repetitions is reached, each estimated breakdown voltage being determined according to a most recently set value of Vop, a most recent response, an immediately previous value of Vop, and an immediately previous response.","In embodiments, determining the updated estimated breakdown voltage Vb includes applying the formula\n\n=(2*2\u221211)\/(21)\n\nwhere Vop is the immediately previous value of Vop, R is the response of the APD for Vop=Vop, Vop is the updated value of Vop, and R is the response of the APD for Vop=Vop.\n","In some embodiments, the initially estimated breakdown voltage is estimated according to an ambient temperature and typical characteristics applicable to an APD type to which the APD belongs.","In other embodiments, the method further includes determining a field of view illumination status, and the fixed offset amount is determined according to the field of view illumination status.","In various embodiments the field of view illumination status is selected from among a group of status conditions, the group of status conditions including night, day, sun not in field of view, day, sun partially in field of view, and day, sun fully in field of view. In some of these embodiments the fixed offset amount for a field of view illumination status of \u201cnight\u201d is about approximately 40 volts. In other of these embodiments the fixed offset amount for a field of view illumination status of \u201cday, sun not in field of view\u201d is about approximately 80 volts. In still other of these embodiments the fixed offset amount for a field of view illumination status of \u201cday, sun partially in field of view\u201d is an amount which sets Vop to a minimum value VopBW below which the response of the APD might not meet a timing (bandwidth) required to evaluate laser pulses. And in yet other of these embodiments the fixed offset amount for a field of view illumination status of \u201cday, sun fully in field of view\u201d is an amount which sets Vop to a minimum value VopBW below which the response of the APD might not meet a timing (bandwidth) required to evaluate laser pulses.","In various embodiments the convergence criterion is that the difference between the updated value of Vop and the immediately previous value of Vop is less than or equal to 5 Volts in one embodiment. And in some embodiments the maximum number of repetitions is 5 repetitions.","In certain embodiments the fixed offset is adjusted if necessary so as to ensure that Vop is not set below a minimum value VopBW necessary to meet timing requirements of the APD.","In some embodiments the on-board light source is an LED.","In various embodiments a common Vop is provided to each APD in a group containing a plurality of APD's, and the method further includes determining responses of each of the APD's in the group to the on-board light source and setting the Vop to a value which is optimal for performance of the group of APD's. In some of these embodiments determining responses of each of the APD's in the group to the on-board light source includes determining responses of each of the APD's to the same on-board light source. In other of these embodiments the group includes exactly seven APD's.","In still other of these embodiments setting the Vop to a value which is optimal for performance of the group of APD's includes determining a most sensitive APD in the group, the most sensitive APD in the group being that APD in the group which has the lowest breakdown voltage in comparison to the other APD's in the group, optimizing Vop to find an optimal value VopMS for the most sensitive APD in the group, and setting Vop to a value which is offset from VopMS by a predetermined most-sensitive offset amount. and in some of these embodiments setting Vop to a value which is offset from VopMS includes setting Vop to a value which is greater than a minimum value VopBW below which the updated response of the APD to the on-board light source cannot be determined within a specified maximum time period.","And in various embodiments the on-board light source is a pulsed light source.","The features and advantages described herein are not all-inclusive and, in particular, many additional features and advantages will be apparent to one of ordinary skill in the art in view of the drawings, specification, and claims. Moreover, it should be noted that the language used in the specification has been principally selected for readability and instructional purposes, and not to limit the scope of the inventive subject matter.","The present invention is a method for characterizing the performance of at least one avalanche photo-diode, or \u201cAPD,\u201d and determining therefrom an optimal operating voltage (Vop). The method of the present invention uses at least one on-board light source, which in some embodiments is an LED, and in some embodiments is a pulsed light source, to characterize the APD, for example during initialization of the APD and\/or periodically during use of the APD. This approach eliminates the need for additional testing of the APD during the manufacturing process, and allows the APD performance to be quickly optimized by adjusting the APD bias voltage.","APD's are frequently used in LASER range finders, missile guidance systems, and many other applications which require high APD signal-to-noise ratio and\/or responsitivity-to-noise ratio.  illustrates a typical configuration for the light detecting portion of APD-based missile guidance system. LASER light reflected from an external object is focused by a lens  onto an APD , which detects the light and responds with an amplified current output. A trans-impedance amplifier, or \u201cTIA\u201d , converts the output current from the APD  into a voltage which is proportional to the amount of light energy impacting the APD . The output from the TIA  is then amplified by a variable gain amplifier, or \u201cVGA\u201d  and converted to a digital result by an analog-to-digital converter .","The VGA  is typically AC-coupled to the TIA , so that any DC offset from the TIA  is not detected. An excess of light, for example due to bright overall sunlight and\/or due to the sun being at least partly in the field of view, will typically cause the TIA  to have a large DC offset, and may even cause the TIA  to saturate. Due to the AC coupling of the TIA  to the VGA , this saturation may not be readily detected. Therefore, it is highly important that the Vop of the APD  be adjusted to a value that is appropriate for the ambient light conditions.","An embodiment of the present invention which includes seven APD's is illustrated in the flow diagram of . The embodiment begins  by setting the Vop to an initial value which is less than an initially estimated minimum breakdown voltage Vb. In some embodiments, the initially estimated minimum breakdown voltage is determined according to the ambient temperature and the manufacturer's specifications for the particular type of APD . APD responses are then collected  from all seven APD's using a pulsed LED included in the system. In similar embodiments, other types of pulsed light sources are used. The Vop is set to a value which is a fixed offset below the initially estimated Vb . In the embodiment of , the fixed value is 50 Volts. Then readings are once again collected for all seven APD's using the LED .","The two sets of APD response data are then compared, and a revised Vb is calculated  according to the formula\n\n=(1*1\u22122*2)\/(1\u22122),\u2003\u2003(1)\n\nwhere R is the response measured for the first voltage setting Vop, and R is the response measured for the second voltage setting Vop.\n","Finally, the Vob is set to a value equal to a fixed offset less than the newly estimated Vb , where the fixed offset in the embodiment of  is 40 Volts, and the method is iterated - until the calculated Vop changes by less than 5 volts , or until a maximum of 5 iterations is reached, or both (depending on the embodiment). In similar embodiments, other convergence criteria and\/or other maximum numbers of iterations apply.","In the embodiment of , the Vop is set to an offset of 40 volts below the estimated breakdown voltage Vb. In various embodiments, this offset of 40 volts is applied under \u201cnight\u201d conditions, where there is no sunlight and little background light \u201cnoise.\u201d Table 1 lists offset voltages used in embodiments under various light conditions, where VopBW is the minimum Vop which will meet the timing (bandwidth) requirement for characterizing and adjusting the operating voltage (Vop) of the APD(s). In embodiments, VopBW is estimated according to the ambient temperature and to data supplied by the manufacturer and\/or other data which is applicable to the general type of APD which is being calibrated.",{"@attributes":{"id":"p-0040","num":"0039"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0"},"tgroup":{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"3"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"133pt","align":"left"}},{"@attributes":{"colname":"2","colwidth":"56pt","align":"left"}}],"thead":{"row":[{"entry":[{},"TABLE 1"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]},{"entry":[{},"Mode","Vop"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"No Sun Background (Night)","Vb - 40"]},{"entry":[{},"Normal Sun Background (Day)","Vb - 80"]},{"entry":[{},"Partial Sun In FOV","VopBW"]},{"entry":[{},"Full Sun In FOV","VopBW"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"2","align":"center","rowsep":"1"}}]}]}}}}},{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 3","FIG. 2","FIG. 4","FIG. 2"],"b":["300","302","304","306","400","402","404","406"]},"The foregoing description of the embodiments of the invention has been presented for the purposes of illustration and description. It is not intended to be exhaustive or to limit the invention to the precise form disclosed. Many modifications and variations are possible in light of this disclosure. It is intended that the scope of the invention be limited not by this detailed description, but rather by the claims appended hereto."],"GOVINT":[{},{}],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0031","num":"0030"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0032","num":"0031"},"figref":["FIG. 4","FIG. 3"]}]},"DETDESC":[{},{}]}
