---
title: Real-time visualization of user consumption of media items
abstract: A computer implemented method for displaying real-time computer mediated user consumption data, comprising: accessing consumption data corresponding to real-time computer mediated user consumption behavior; parsing the consumption data to identify one or more events comprising one or more instances of consumption data and wherein each event is associated with a user; adding the events to an event stack comprising a predetermined stack limit; and storing the consumption data for each event in a data structure configured to correlate related consumption data and provide a temporal context to the stored consumption data wherein addition of graphical symbols to a visualization display is responsive to the arrangement of the consumption data in the data structure.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08332406&OS=08332406&RS=08332406
owner: Apple Inc.
number: 08332406
owner_city: Cupertino
owner_country: US
publication_date: 20091002
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["RELATED APPLICATION DATA","CROSS REFERENCE TO COMPUTER PROGRAM LISTING IN APPENDIX","COPYRIGHT NOTICE","BACKGROUND","SUMMARY","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Application Ser. No. 61\/102,199, filed Oct. 2, 2008, which is incorporated by reference in its entirety herein.","A portion of the present disclosure is contained in a computer program listing in Appendix A. The contents of the Appendix A are incorporated herein by reference.","The contents of this file are subject to copyright protection. The copyright owner has no objection to the reproduction by anyone of the patent document or the appendix as it appears in the Patent and Trademark Office patent files or records, but does not waive any other copyrights by virtue of this patent application.","\u00a9 2008-2009 Strands, Inc. A portion of the disclosure of this patent document contains material which is subject to copyright protection. The copyright owner has no objection to the facsimile reproduction by anyone of the patent document or the patent disclosure, as it appears in the Patent and Trademark Office patent file or records, but otherwise reserves all copyright rights whatsoever. 37 CFR \u00a71.71(d).","1. Technical Field","The present disclosed technology relates to systems for tracking user consumption and more particularly to methods for tracking and visualizing real-time computer mediated user consumption.","2. Description of the Related Art","Computer mediated social networking systems provide users with access to network forums for sharing and accessing information about products and services used by others in the network. This information can be gathered and made accessible to users in the network in various ways.","Briefly, disclosed herein is a system for visualizing in real-time computer mediated user consumption of products and services. The system is configured to display information about products and services in such a way as to show connections between users and the products and services they consume. The system provides insight into how products and services are related while providing a temporal context for such information.","For clarity, the embodiments described herein relate to a system for visualizing real-time user access and consumption of media files containing music, video and\/or other electronic media, referred to hereinafter as \u2018media items.\u2019 However, the embodiments provided herein are for illustrative purposes only and claimed subject matter is not limited to the embodiments described. For instance, the disclosed system and associated devices may also model and\/or display real-time visualization of user consumption of other goods and\/or services. The consumable in such other embodiments may be participation in online games, online purchases of consumer products, social networking activities, news feeds and\/or buying\/selling financial instruments online and claimed subject matter is not limited in this regard.","The embodiments described herein relate to a system comprising a computer display visualization tool hereinafter referred to as an \u2018applet.\u2019 The applet implements real-time consumption data management and real-time visualization of user media item consumption activity. In one embodiment, the system accesses user media item consumption data from one or more databases via an Application Programming Interface (API), parses and stores the consumption data in data structures. The consumption data management system and method of storing the consumption data in the data structures is configured to reveal associations between consumers, consumed products and\/or services, or combinations thereof. The applet displays a visualization of the media item consumption data by accessing the data structures and displaying the stored consumption data to show associations between media items, users and\/or consumption events, or combinations thereof.","In one embodiment, the applet parses the media item consumption data, extracts artist information, and renders artists as \u2018nodes\u2019 in the visualization display. The visualization of music media consumption appears as graphical representations of the music artists, preferably using currently available album art. The nodes are rendered using a \u201cforce directed placement\u201d algorithm which spreads them out to avoid overlapping. The nodes are also configured such that a user may click and drag the nodes to change their position in the applet window. In one embodiment, information about the artist, song, and\/or the user who listened to the song is available by \u2018hovering\u2019 a cursor over the artist node.","In addition to the \u2018spreading\u2019 behavior of the artist nodes, the nodes also \u2018attract\u2019 one another if they are determined to be correlated such as when two artists' tracks co-occur in a given user's playstream. This attraction behavior may cluster associated nodes together in the display and make associations between nodes more clear. Additionally, an association between nodes is indicated with a line connecting the two nodes. Thus, attraction between associated nodes serves to minimize connector line overlap in the display.","These and other features and advantages will become apparent from the following detailed description of illustrative embodiments thereof, which is to be read in connection with the accompanying drawings.","Digital Processor and Associated Memory","The disclosed technology in some embodiments may be implemented by a digital computing system. By the term digital computing system we mean any system that includes at least one digital processor and associated memory, wherein the digital processor can execute instructions or \u201ccode\u201d stored in that memory. (The memory may store data as well.) A digital processor includes but is not limited to a microprocessor, multi-core processor, DSP (digital signal processor), vocoder, processor array, network processor, etc. A digital processor may be part of a larger device such as a laptop or desktop computer, a PDA, cell phone, iPhone PDA, Blackberry\u00ae PDA\/phone, or indeed virtually any electronic device.","The associated memory, further explained below, may be integrated together with the processor, for example RAM or FLASH memory disposed within an integrated circuit microprocessor or the like. In other examples, the memory comprises an independent device, such as an external disk drive, storage array, or portable FLASH key fob. In such cases, the memory becomes \u201cassociated\u201d with the digital processor when the two are operatively coupled together, or in communication with each other, for example by an I\/O port, network connection, etc. such that the processor can read a file stored on the memory. Associated memory may be \u201cread only\u201d by design (ROM) or by virtue of permission settings, or not. Other examples include but are not limited to WORM, EPROM, EEPROM, FLASH, etc. Those technologies often are implemented in solid state semiconductor devices. Other memories may comprise moving parts, such a conventional rotating disk drive. All such memories are \u201cmachine readable\u201d in that they are readable by a suitable digital processor as further explained below for the benefit of the USPTO.","Storage of Computer Programs","As explained above, the present disclosed technology preferably is implemented or embodied in computer software (also known as a \u201ccomputer program\u201d or \u201ccode\u201d; we use these terms interchangeably). Programs, or code, are most useful when stored in a digital memory that can be read by a digital processor. We use the term \u201ccomputer-readable storage medium\u201d (or alternatively, \u201cmachine-readable storage medium\u201d) to include all of the foregoing types of memory, as well as new technologies that may arise in the future, as long as they are capable of storing digital information in the nature of a computer program or other data, at least temporarily, in such a manner that the stored information can be \u201cread\u201d by an appropriate digital processor. By the term \u201ccomputer-readable\u201d we do not intend to limit the phrase to the historical usage of \u201ccomputer\u201d to imply a complete mainframe, mini-computer, desktop or even laptop computer. Rather, we use the term to mean that the storage medium is readable by a digital processor or any digital computing system. Such media may be any available media that is locally and\/or remotely accessible by a computer or processor, and it includes both volatile and non-volatile media, removable and non-removable media.","Computer Program Product","Where a program has been stored in a computer-readable storage medium, we may refer to that storage medium as a computer program product. For example, a portable digital storage medium may be used as a convenient means to store and transport (deliver, buy, sell, license) a computer program. This was often done in the past for retail point-of-sale delivery of packaged (\u201cshrink wrapped\u201d) programs. Examples of such storage media include without limitation CD-ROM and the like. Such a CD-ROM, containing a stored computer program, is an example of a computer program product.",{"@attributes":{"id":"p-0035","num":"0034"},"figref":"FIG. 1"},"In one embodiment, the real-time user consumption network visualization may be implemented on a computer as a ShockWave Flash (SWF) applet using Javascript, Personal Home Page (PHP) or other appropriate web technologies. In another embodiment, it may be written in a language called haXe. HaXe is a web-based language that can target a wide variety of web platforms including SWF, Javascript, PHP from a single syntax and compiler.","In one embodiment, user terminals ,  and  are in communication with database server  via network . Server  may store media files that may be accessed by users via terminals ,  and  via network . Server  may store events comprising computer mediated real-time user consumption data. In one embodiment, the consumption data is associated with users accessing media files.","For instance, the media files may be music files and consumption data may be instances of user downloads or plays. Server , additionally, may record and\/or store the name of the artist, album title, album art, track and\/or user ID each time a music track is accessed from server .","User terminal  may access the data stored in a database server  via network . The consumption data concerning the media files may be visualized in a display  on user terminal . The real-time consumption data may be updated periodically by accessing server  and new consumption data may be parsed, stored and arranged in a data structure and then added to the visualization in display  according to the arrangement in the data structure.","User terminals , ,  and  may comprise any of a variety of electronic communication devices including personal computers and\/or mobile telephones. Network  may be any of a variety of networks including the Internet and\/or an Enterprise Network Intranet. Claimed subject matter is not limited in this regard.",{"@attributes":{"id":"p-0041","num":"0040"},"figref":["FIG. 2","FIG. 1"],"b":["116","116","202","206","210","212","204","208","204","202","206","206","202"]},{"@attributes":{"id":"p-0042","num":"0041"},"figref":["FIG. 3","FIG. 1"],"b":["300","116"]},"At operation , real-time media item consumption data is accessed and parsed to select play events related to user's listening behavior. In the current embodiment, the events are \u201cplay\u201d events. However, in certain embodiments, the consumption data may be parsed to select events comprising data corresponding to a variety of other predetermined consumption behaviors.","In some embodiments, consumption data comprises, for each event an artist's name, album name, track title and\/or a media item consumption event such as whether the media item was: purchased, played, replayed', tagged and\/or skipped. Consumption data may be accessed at pre-determined intervals or access may be triggered by another mechanism such as when a new real-time media item consumption event occurs or if artist information is updated.","In one embodiment, the play events are assigned an incremental ID and each event is associated with a user. Incremental IDs may be assigned by a server or may be assigned on the client side. At operation , the play events are analyzed to determine whether they are new play events based on the incremental IDs. The highest IDs indicate the latest information accessed. The current play event IDs are compared to previously stored play event IDs and if a current play event ID is less than or equal to any of the previously stored play event IDs then the current play event is ignored. New play events are stored in an event stack having a predetermined stack limit and then arranged in a data structure wherein the data structure shows correlations between consumption data items and includes a temporal aspect. An embodiment of real-time user consumption data analysis of play events is discussed in further detail below with respect to .","At operation , if a new play event has been accessed, media item consumption data corresponding to the new play event is analyzed to determine whether the media item consumption data (e.g., artist name or track title) is valid. Data validation may be done by comparing new media item consumption data with a database containing media item data and\/or by verifying that the entries themselves are valid. Media item validation is explained in further detail below.","At operation , the media item data corresponding to the most recent play events are compared to the current media item data represented in visualization display . At operation , if the most recently accessed media item data is not represented in the current visualization display , then the new media item data is added to update the visualization display .","At operation , the play events are analyzed to determine whether new relationships between represented media item data have formed. Referring back to  briefly, the consumption data corresponding to the play events may indicate that a particular user who previously played a song by INDRAS (node ) played a song by Cascada (node ) immediately after playing the song by INDRAS (node ).","At operation , if display  does not already show an edge between nodes  and  to represent this new relationship then a line or edge  is generated to represent the correlation between play events for artists INDRAS and Cascada with respect to the particular user. However, if the line or edge  was already shown in display  then a new line will not be generated. Rather, user information would simply be updated without changing the display .","At operation , old play event data is pruned. First an oldest event in the event stack it identified and then counters associated with the media item consumption data corresponding to the oldest event are decremented in the data structure. This pruning helps keep the visualization display uncluttered. Using this pruning method, relevant data is updated and outdated or obsolete data is removed from the data stack and at a certain point the media item consumption data is removed from the data structure as well. The data pruning process is described in greater detail below.",{"@attributes":{"id":"p-0051","num":"0050"},"figref":"FIG. 4","b":["116","106","402","116","402","116"]},"Force-directed placement involves specifying current vertex stress levels as a set of forces acting upon the vertex. These forces are generally attractive forces (Hooke's Law) generated from directly connected nodes, and repellant forces (Coulomb's Law) generated from all other nodes.",{"@attributes":{"id":"p-0053","num":"0052"},"figref":["FIG. 5","FIG. 4","FIG. 5"],"b":["116","402","402","402","402"]},{"@attributes":{"id":"p-0054","num":"0053"},"figref":"FIG. 6","b":["116","604","402","604","402","116","106","402","604","116","402","402"]},"In one embodiment, when an edge  connects two nodes , a spring force algorithm directs the placement of the connected nodes with respect to each other in display . At an update interval, the positions of the nodes  changes depending on the cumulative force acting on each of nodes  to account for new media consumption data accessed from server  and newly generated edges  appearing between some of nodes .","The positions of all nodes  are continually updated until the overall level of stress plateaus or reaches a predetermined threshold. Additionally, a given degree of \u2018damping\u2019 is applied. This force is essentially a form of friction that helps to ensure that the network rapidly achieves a steady state.",{"@attributes":{"id":"p-0057","num":"0056"},"figref":"FIG. 7","b":["700","402","702","704","116","706","402","708","402","402","402","402","402","710","604","402","712"]},{"@attributes":{"id":"p-0058","num":"0057"},"figref":"FIG. 8","b":["116","802","802","808","809","802"]},{"@attributes":{"id":"p-0059","num":"0058"},"figref":["FIG. 9","FIG. 7"],"b":["116","902","909","914","910","902","914","116"]},{"@attributes":{"id":"p-0060","num":"0059"},"figref":["FIG. 10","FIG. 10"],"b":["1002","1002","1002","1002"]},"Additionally, hovering the cursor over node  brings up an extended information pop-up graphic  that displays the user's name or ID to play a track by the artist corresponding to node . The last played track is also displayed in pop-up graphic .",{"@attributes":{"id":"p-0062","num":"0061"},"figref":"FIG. 11","b":["1108","1102","1102","1108","1102"]},"Additionally, in one embodiment, another pop-up graphic  appears next to icon  in the lower left corner of the applet window when node  is selected by clicking node  with the cursor (not shown). The pop-up graphic  displays additional information about the user(s) and artist corresponding to the artist node  selected. Pop-up graphic  includes information about the recent users who have played the artist associated with the selected node , and which songs by the artist have been recently played. Additional information on the users and artist may be accessed via hyper-links provided in pop-up graphic .",{"@attributes":{"id":"p-0064","num":"0063"},"figref":["FIG. 12","FIG. 13"],"b":["116","3","1203"]},"In , nodes  and  are connected via edge  because User A played a track by the artists represented by nodes  and  consecutively. Similarly, nodes  and  are connected via edge  because User B played a track by each represented artist associated with nodes  and  consecutively. Node  is part of another small network of related artist nodes. Node  indicates that User C played a track by Artist .","In  depicts display  with respect to  after additional tracks are played. Nodes  and  are now connected because User A played a track by Artist  (node ) after playing a track by Artist  (node ). Similarly, nodes  and  are now connected because User C played a track by Artist  (node ) after playing a track by Artist  (node ). All of the artist nodes in display  change position according to the force-directed algorithm described above with the addition of new edges ( and ) between nodes, created in response to the various user's media consumption.",{"@attributes":{"id":"p-0067","num":"0066"},"figref":"FIG. 14","b":"1400"},"At operation  a server stores media item consumption events such as a user's playlists or purchase history.","At operation , an applet accesses information from the server on a continuous basis by polling at regular intervals and deciding which information to keep in the stack using predetermined stack parameters to control the amount of information used by the applet. Alternatively, the server may push information to the applet device. In one embodiment, using a stack of play events may minimize requests for too much information at once from the server and keeps the browser applet from using too much memory in a user's browser.","In one embodiment, upon startup, the applet retrieves a listening history XML document from the server (e.g., requesting the last 20 play events). An example XML document is provided below in Table 1 showing two play events. In Table 1, the first play event starts at line, \u201c<PlayEventList xmlns=\u201chttp:\/\/www.mystrands.com\/xml\/2007-05-16\u201c>\u201d and ends at line\u201d<\/PlayEvent>\u201d the second play event starts at line, \u201c<PlayEvent UserAlias=\u201ctvguest\u201d TrackId=\u201c11800217\u201d PlayedId=\u201c18707321\u201d UserId=\u201c90905\u201d>\u201d and ends at the next line, \u201c<\/PlayEvent>.\u201d As can be seen in Table 1, entries within the play event boundaries comprise data corresponding to media item consumption.",{"@attributes":{"id":"p-0071","num":"0070"},"tables":{"@attributes":{"id":"TABLE-US-00001","num":"00001"},"table":{"@attributes":{"frame":"none","colsep":"0","rowsep":"0","pgwide":"1"},"tgroup":[{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"center"}},"thead":{"row":[{"entry":"TABLE 1"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}},{"entry":"XML DOCUMENT"},{"entry":{"@attributes":{"namest":"1","nameend":"1","align":"center","rowsep":"1"}}}]},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":{}}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"<?xml version=\u201c1.0\u201d encoding=\u201cUTF-8\u201d ?>"},{"entry":"- <PlayEventList xmlns=\u201chttp:\/\/www.mystrands.com\/xml\/2007-05-16\u201d>"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"- <PlayEvent UserAlias=\u201ctvguest\u201d TrackId=\u201c7120248\u201d PlayedId=\u201c18707322\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"UserId=\u201c90905\u201d>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<BeginTime>1254503737000<\/BeginTime>"]},{"entry":[{},"<EndTime>1254503773000<\/EndTime>"]},{"entry":[{},"<CurrentServerTime>1254503801007<\/CurrentServerTime>"]},{"entry":[{},"<SourceType>0<\/SourceType>"]},{"entry":[{},"<Country>--<\/Country>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"- <User UserId=\u201c90905\u201d>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<Email>tvguest@mystrands.com<\/Email>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<Alias>tvguest<\/Alias>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<isVenue>0<\/isVenue>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<ShareProfile>true<\/ShareProfile>"]},{"entry":[{},"<City \/>"]},{"entry":[{},"<State \/>"]},{"entry":[{},"<Country>AD<\/Country>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<Gender>0<\/Gender>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<Age>37<\/Age>"]},{"entry":[{},"<PostalCode>08036<\/PostalCode>"]},{"entry":[{},"<PhoneNumber \/>"]},{"entry":[{},"<Birthdate>Mon Mar 27 00:00:00 PST 1972<\/Birthdate>"]},{"entry":[{},"<Photo>http:\/\/www.mystrands.com\/photos\/normal\/avatar-4.jpg<\/Photo>"]},{"entry":[{},"<ThumbnailPhoto>http:\/\/www.mystrands.com\/photos\/thumb\/avatar-"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"4.jpg<\/ThumbnailPhoto>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<URI>http:\/\/www.mystrands.com\/action\/MyStrands?target=\/tvguest<\/URI>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/User>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"- <SimpleTrack AlbumId=\u201c544027\u201d TrackId=\u201c7120248\u201d ArtistId=\u201c88022\u201d"},{"entry":"Catalog=\u201cMusicStrands\u201d SourceId=\u201c3\u201d>"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<ArtistName>Vasco Rossi<\/ArtistName>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<AlbumName>Rewind<\/AlbumName>"]},{"entry":[{},"<TrackName>Albachiara<\/TrackName>"]},{"entry":[{},"<URI>http:\/\/www.mystrands.com\/track\/7120248<\/URI>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<RmClipURI>http:\/\/www.mystrands.com\/clip\/7120248\/RM\/7w2d1nb4q10dbz0q"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"t2v455t<\/RmClipURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<RmMobileClipURI>http:\/\/sg1.allmusic.com\/cg\/smp.dll?link=7w2d1nb4q10dbz"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"0qt2v455t&r=64.ra<\/RmMobileClipURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<WmaClipURI>http:\/\/www.mystrands.com\/clip\/7120248\/WMA\/7w2d1nb4q10db"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"z0qt2v455t<\/WmaClipURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<CoverURI>http:\/\/www.mystrands.com\/coverm\/3\/pop\/cov200\/dre800\/e833\/e83"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"337pzrq8.jpg<\/CoverURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<SmallCoverURI>http:\/\/www.mystrands.com\/covermt\/3\/pop\/cov75\/dre800\/e83"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"3\/e83337pzrq8.jpg<\/SmallCoverURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<Genre>Rock<\/Genre>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<downloadable \/>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<UserPurchaseURI>http:\/\/www.mystrands.com\/track\/7120248\/getit<\/UserPurc"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"haseURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/SimpleTrack>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/PlayEvent>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":"- <PlayEvent UserAlias=\u201ctvguest\u201d TrackId=\u201c11800217\u201d PlayedId=\u201c18707321\u201d"},{"entry":"UserId=\u201c90905\u201d>"}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<BeginTime>1254503724000<\/BeginTime>"]},{"entry":[{},"<EndTime>1254503760000<\/EndTime>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<CurrentServerTime>1254503801007<\/CurrentServerTime>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<SourceType>0<\/SourceType>"]},{"entry":[{},"<Country>--<\/Country>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"- <User UserId=\u201c90905\u201d>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<Email>tvguest@mystrands.com<\/Email>"]},{"entry":[{},"<Alias>tvguest<\/Alias>"]},{"entry":[{},"<isVenue>0<\/isVenue>"]},{"entry":[{},"<ShareProfile>true<\/ShareProfile>"]},{"entry":[{},"<City \/>"]},{"entry":[{},"<State \/>"]},{"entry":[{},"<Country>AD<\/Country>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<Gender>0<\/Gender>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<Age>37<\/Age>"]},{"entry":[{},"<PostalCode>08036<\/PostalCode>"]},{"entry":[{},"<PhoneNumber \/>"]},{"entry":[{},"<Birthdate>Mon Mar 27 00:00:00 PST 1972<\/Birthdate>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"42pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"238pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<Photo>http:\/\/www.mystrands.com\/photos\/normal\/avatar-4.jpg<\/Photo>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<ThumbnailPhoto>http:\/\/www.mystrands.com\/photos\/thumb\/avatar-"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"4.jpg<\/ThumbnailPhoto>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<URI>http:\/\/www.mystrands.com\/action\/MyStrands?target=\/tvguest<\/URI>"]},{"entry":[{},"<\/User>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"- <SimpleTrack AlbumId=\u201c1292725\u201d TrackId=\u201c11800217\u201d ArtistId=\u201c88022\u201d"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"Catalog-\u201cMusicStrands\u201d SourceId=\u201c3\u201d>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<ArtistName>Vasco Rossi<\/ArtistName>"]},{"entry":[{},"<AlbumName>Tracks<\/AlbumName>"]},{"entry":[{},"<TrackName>Siamo Soli<\/TrackName>"]},{"entry":[{},"<URI>http:\/\/www.mystrands.com\/track\/11800217<\/URI>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<RmClipURI>http:\/\/www.mystrands.com\/clip\/11800217\/RM\/blic6zuc08fhr6f592"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"omlp0<\/RmClipURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<RmMobileClipURI>http:\/\/sg1.allmusic.com\/cg\/smp.dll?link=blic6zuc08fhr6f59"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"2omlp0&r=64.ra<\/RmMobileClipURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<WmaClipURI>http:\/\/www.mystrands.com\/clip\/11800217\/WMA\/blic6zuc08fhr6f"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"592omlp0<\/WmaClipURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<CoverURI>http:\/\/www.mystrands.com\/coverm\/3\/pop\/cov200\/drf700\/f742\/f742"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"35qz9oa.jpg<\/CoverURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<SmallCoverURI>http:\/\/www.mystrands.com\/covermt\/3\/pop\/cov75\/drf700\/f742\/"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"f74235qz9oa.jpg<\/SmallCoverURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<Genre>Rock<\/Genre>"]},{"entry":[{},"<downloadable \/>"]}]}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"28pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"252pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<UserPurchaseURI>http:\/\/www.mystrands.com\/track\/11800217\/getit<\/UserPur"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"1"},"colspec":{"@attributes":{"colname":"1","colwidth":"280pt","align":"left"}},"tbody":{"@attributes":{"valign":"top"},"row":{"entry":"chaseURI>"}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"56pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"224pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":{"entry":[{},"<\/SimpleTrack>"]}}},{"@attributes":{"align":"left","colsep":"0","rowsep":"0","cols":"2"},"colspec":[{"@attributes":{"colname":"offset","colwidth":"14pt","align":"left"}},{"@attributes":{"colname":"1","colwidth":"266pt","align":"left"}}],"tbody":{"@attributes":{"valign":"top"},"row":[{"entry":[{},"<\/PlayEvent>"]},{"entry":[{},{"@attributes":{"namest":"offset","nameend":"1","align":"center","rowsep":"1"}}]}]}}]}}},"The XML document is parsed and individual media item consumption events are retrieved. The media item consumption events in the current embodiment are listening or \u201cplay events.\u201d However, consumption events may be any recognizable computer mediated event wherein a user accesses a media item or other product or service and claimed subject matter is not limited in this regard.","The listening history document may provide one or more user's playlists or other media item consumption data segmented into play events. Each play event has a corresponding ID. This ID auto-increments, so the highest ID retrieved from a document indicates the latest information retrieved from the server. This number is then saved. If subsequent ID's retrieved from the server are less than or equal to this value, they are ignored. The server may assign the IDs when storing the listening history or the applet may assign IDs based on information in the listening history.","In one embodiment, the applet then checks each play event in the XML document. The applet determines whether the play event has valid information for the artist name and\/or other consumption data. In the event the artist name is invalid the applet skips the event.","For example, if the artist name entries are \u2018n\/a\u2019, \u2018various artists\u2019, or \u2018various\u2019 they are skipped. In one embodiment, the artist name is trimmed to remove extra whitespace, as well as removing any information contained in parentheses or brackets. This information typically gives track-specific information on artist collaborators, remixes, etc. and may be added and stored in other embodiments. After validation the play event is then added to an event stack.","In one embodiment, the event stack may be set or limited to a predetermined threshold number of play events (e.g., 200 play events). If the stack goes over the threshold, then the oldest events on the stack are removed.","At operation  the media item consumption data associated with the play events is stored in a selected data structure operable to provide a temporal context for the media item consumption data and to indicate correlations between media item consumption data. In one embodiment, the data structure may comprise hash tables which are a very efficient way to correlate events by various attribute. However, other embodiments of data structures may be used and claimed subject matter is not limited in this regard.","In the current embodiment, the applet maintains hash tables (hereinafter \u2018hash\u2019 or \u2018hashes\u2019) for artists, users and tracks that have been played. Anytime a new play event is created, corresponding user and track ID hashes are created\/initialized or incremented. These hashes are essentially a tally of all the different events corresponding to a given user or track, and is useful for debugging purposes, as well as for handling data removal\/pruning events. The applet generates artist nodes in a display and determines relationships between artists by analyzing the play events. In one embodiment, the play events contain the following media consumption data: user information (who played the track), track information (what track was played) and artist information (who recorded the track). Yet another \u2018user-last-artist\u2019 hash table keeps track of the last artist played by a given user, and is used to trigger the creation of an edge between two artists. In one embodiment, edges are drawn according to known methods and edge data is maintained in a separate hash structure.","For example, if a user \u201cA\u201d plays \u201cBeat it\u201d by \u201cMichael Jackson\u201d the hashes are:","user_hash=>{\u201cA\u201d: 1}","track_hash=>{\u201cbeat it\u201d: 1}","artist_hash=>{\u201cmichael jackson\u201d:1}","At operation , artist nodes corresponding to play events are displayed. In one embodiment, if a node contains a valid artist, then the applet determines whether that artist has already been played. Each artist is essentially a \u2018movieclip\u2019 object with the ID of the given artist. So, the applet checks the artist hash (e.g., a log of artists with play activity currently maintained by the applet) to find an artist with the given ID. If the artist does not exist, the applet creates a new artist movieclip object and adds it to the applet canvas (applet window). It will update this object with the current album art (if available), as well as update information about the last played track for that artist.","In the current embodiment, if user \u201cA\u201d plays \u201cBeat it\u201d by \u201cMichael Jackson\u201d and Michael Jackson is a new artist in the artist hash, then the applet will display a new node representing \u201cMichael Jackson.\u201d In one embodiment, the applet randomly positions the new node in the applet canvas.","At operation , the applet periodically generates or updates artist information using the information stored in the selected data structure.","In one embodiment, if the artist node already exists, the applet increments a corresponding \u2018event count\u2019 counter corresponding to that artist node, updates the track information for the node, and then updates the corresponding hashes for associated tracks and users by either incrementing the respective hash counters for the users and tracks and\/or by creating new hash entries for new users and tracks.","The user-last-artist hash is also checked for the current user. If the hash contains a different artist than the current artist (and that artist is still on the display canvas), then an edge is created between the two artists and the user-last-artist hash is updated to the current artist.","For instance, in the current embodiment if there is already a Michael Jackson node displayed by the applet, then when a new play event occurs additional information can be added to the existing node.","When a new play event occurs associated with an already existing Michael Jackson node, the user ID associated with the recent play event, the track played, track meta-data, and a link to the an audio sample of the new track may be added or associated with the node. The new media play event may be user \u201cB\u201d played the track \u201cThriller\u201d by Michael Jackson. Accordingly, updating will result in the following new set of hashes:","user_hash=>{\u201cA\u201d: 1, \u201cB\u201d: 1}","track_hash=>{\u201cbeat it\u201d: 1, \u201cthriller\u201d: 1}","artist_hash=>{\u201cmichael jackson\u201d: 2}","At operation , relationship information between artists may be periodically generated and\/or updated using information accessed and stored in the data structure. Such updates may be executed at predetermined intervals, periodically and\/or in response to some triggering event such as recognition of a new play event.","Continuing with the example above, an update may indicate, user \u201cA\u201d played the track \u201cJumping Jack Flash\u201d by the Rolling Stones. The updated hashes in this update are:","user_hash=>{\u201cA\u201d: 2, \u201cB\u201d: 1}","track_hash=>{\u201cbeat it\u201d: 1, \u201cthriller\u201d: 1, \u201cjumpin jack flash\u201d: 1}","artist_hash=>{\u201cmichael jackson\u201d:2, \u201crolling stones\u201d:1}","Here, if the display canvas does not contain a Rolling Stones node, a new artist node is created and displayed for the Rolling Stones. Additionally, because user \u201cA\u201d played a Michael Jackson track and then the Rolling Stones track consecutively, an edge is added in the display canvas connecting Michael Jackson and the Rolling Stones to show the correlation between them.","In one embodiment, an edge may be added using the following last_artist hash:","user_la_hash=>{\u201cA\u201d:\u201cmichael jackson\u201d, \u201cB\u201d:\u201cmichael jackson\u201d}","which keeps track of what the \u201clast artist\u201d was for each user.","Using this last_artist hash the applet links the two artists Michael Jackson and the Rolling Stones in the real-time user consumption visualization display. Afterwards, the hash for user \u201cA\u201d is updated to:","user_la_hash=>{\u201cA\u201d: \u201crolling stones\u201d, \u201cA\u201d: \u201cmichael jackon\u201d}","In one embodiment, a graph edge canvas is created underneath the current node canvas. The current position of the corresponding node ID's are resolved, and a line is drawn between them.","At operation , the system prunes old or stale data and cycles back to operation . Accordingly, the visualization display adds nodes until it reaches some limit (e.g, 100 nodes) and then begins to remove old data.","The applet determines which hashes contain the oldest information by identifying the oldest event in the event stack and removing it from the event stack as well as decrementing counters in the hashes associated with consumption data corresponding to the oldest event. Identifying the oldest event can be done by a variety of methods, such as, for instance a first in first out (FIFO) method. In one embodiment, the event stack is a simply a queue of events. New events get put on the \u201ctop\u201d of the stack. If the stack gets too big, then the event on the \u201cbottom\u201d of the stack is the oldest and in some embodiments is selected for removal.","The applet removes the oldest event and updates the hashes on the basis of the track\/artist\/user ID associated with the event. In one embodiment, the applet decrements the counters by a predetermined amount for the stored data associated with the oldest event such as user, track, and artist hashes. If any of the counters for the decremented hashes goes to zero, then it is inferred that the information related to that zero hash's user\/track\/artist is stale as well and the visualization no longer needs the related information. In this instance, the applet deletes the old entry that decremented to zero as well as all the related information (such as audio samples of tracks, album art, user profile, web page links, etc.).","When the oldest event is deleted from the event stack, action may be taken by the applet to update the hashes and remove old data. For instance, if when decrementing the track hash counter for the track ID corresponding to the oldest it goes to zero, then the applet deletes the track ID from the hash. However, if when decrementing the user hash counter for the user ID corresponding to the oldest event it goes to zero, then the applet deletes it as well as the user-last-artist hash entry. If when decrementing the artist hash counter for the artist ID corresponding to the oldest event it goes to zero, then the applet goes through and resolves its list of neighbors into a list of edge ID's (by sorting them, then looking them up in the edge hash). Then, the applet removes each of the edge id's from the graph, and then removes the artist node from the graph.","In one embodiment, visualization of such data enables users to see emergent, strongly related artists (or in other embodiments related products or services). Sometimes the relationships are \u201cidiosyncratic\u201d, such as a person who plays tracks by \u201cMetallica\u201d right after playing tracks by \u201cBrittney Spears.\u201d However, usually the connections between media item consumption events (or other computer mediated consumption items) are meaningful and users can draw inferences about the media items, products or services based on the determined connections between the products\/service\/media items.",{"@attributes":{"id":"p-0098","num":"0097"},"figref":"FIG. 15","b":"1500"},"The process begins at operation , where the applet determines which event is the oldest event in an event stack.","At operation , the applet decrements counter(s) in a data structure corresponding to information related to the oldest event by a predetermined amount (e.g., 1).","At operation , the applet determines if any counter decrements to zero. At operation , if a counter decrements to zero, the applet removes the corresponding related information from the data structure and visualization. When a counter decrements to zero, the applet may infer that the entry in the data structure and any related entry is stale and no longer needed for accurate real-time visualization of user consumption behavior. This method of removing information allows the graph to be deleted fluidly in real-time. However, other methods of removing old or unwanted information may be employed and claimed subject matter is not limited in this regard. For instance, in another embodiment, a user may manually remove nodes from the visualization applet for instance, by pressing a key to delete a currently selected node.",{"@attributes":{"id":"p-0102","num":"0101"},"figref":"FIG. 16","b":"1600"},"At operation , the system accesses real-time user consumption event data. In one embodiment, the real-time user consumption data may be retrieved from a server that stores data related to media item listening events. The real-time user consumption data may be associated with user consumption behaviors such as purchase, play, skip, artist, track, user send\/receive, sign, download and\/or trade. In other embodiments, any product or service available via a network may be the subject of the real-time user consumption data where accessing the product or service produces an event recognizable by a computer.","At operation , the system adds real-time user consumption event data to a selected data structure for storing and correlating subjects of the real-time user consumption event data.","At operation , the system determines the real-time user consumption event data is new and creates a new node to display unrepresented subjects of the new real-time user consumption event data or adds information to an existing node if the new real-time user consumption event data does not define a new node. At operation , the system determines if the new event data correlates two or more nodes. If there is a new correlation between two nodes a new edge is generated.","A correlation between nodes may be determined based on a variety of correlation techniques. For instance, in the current embodiment each node keeps track of neighboring nodes directly through their own unique \u201cneighbor\u201d correlation data structure (e.g., a neighbor hash). In one embodiment, neighbors are nodes that are connected by one or more edges. The \u201cneighbor\u201d correlation data structure tracks consecutive plays of various artist tracks by various users. A correlation edge is generated when tracks by different artists are played consecutively.","At operation , if the correlation between nodes exists then the system draws an edge graphic between correlated nodes. In one embodiment, the edges are rendered as primitive lines using a Flash drawing API.","At operation , the system assigns a new edge an ID number equal to respective concatenated node IDs. Since the network model is undirected, the node ID's are sorted numerically first, then concatenated and delimited and thus a unique edge ID can be assigned to each new edge. For example, concatenated node IDs for node ID#1=ABC, node ID#2=DEF would be unique edge ID ABC-DEF. In one embodiment, node IDs are sorted before concatenating, to enable assignment of a unique ID per edge between two arbitrary nodes regardless of ordering.","At operation , the system adds edges to the data structure for incrementing. In one embodiment, the edge ID's are loaded into a hash, which is also incremented and decremented like the user and track hashes described above with reference to .","In one embodiment, a function iterates over all the edge ID's in the edge data structure (e.g., an edge hash). At the start of a next render loop, the graph edge canvas is cleared. Then the process repeats returning to operation .","It will be obvious to those having skill in the art that many changes may be made to the details of the above-described embodiments without departing from the underlying principles of the disclosed technology. The scope of the present disclosed technology should, therefore, be determined only by the following claims."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF DRAWINGS","p":[{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIG. 1"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 2"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 3"},{"@attributes":{"id":"p-0019","num":"0018"},"figref":"FIG. 4"},{"@attributes":{"id":"p-0020","num":"0019"},"figref":["FIG. 5","FIG. 4"]},{"@attributes":{"id":"p-0021","num":"0020"},"figref":"FIG. 6"},{"@attributes":{"id":"p-0022","num":"0021"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0023","num":"0022"},"figref":"FIG. 8"},{"@attributes":{"id":"p-0024","num":"0023"},"figref":"FIG. 9"},{"@attributes":{"id":"p-0025","num":"0024"},"figref":"FIG. 10"},{"@attributes":{"id":"p-0026","num":"0025"},"figref":"FIG. 11"},{"@attributes":{"id":"p-0027","num":"0026"},"figref":["FIG. 12","FIG. 13"]},{"@attributes":{"id":"p-0028","num":"0027"},"figref":"FIG. 14"},{"@attributes":{"id":"p-0029","num":"0028"},"figref":"FIG. 15"},{"@attributes":{"id":"p-0030","num":"0029"},"figref":"FIG. 16"}]},"DETDESC":[{},{}]}
