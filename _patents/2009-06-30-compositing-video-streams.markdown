---
title: Compositing video streams
abstract: Methods and apparatus for compositing multiple video streams onto a background image having at least one object while keeping at least one of a proper perspective, order, and substantial alignment to the object of the multiple video streams based on the rules of a common layout. The background is defined as a meeting space that fills in gaps between the multiple video streams with appropriate structure of the object. The background creates the context of the meeting space.
url: http://patft.uspto.gov/netacgi/nph-Parser?Sect1=PTO2&Sect2=HITOFF&p=1&u=%2Fnetahtml%2FPTO%2Fsearch-adv.htm&r=1&f=G&l=50&d=PALL&S1=08432431&OS=08432431&RS=08432431
owner: Hewlett-Packard Development Company, L.P.
number: 08432431
owner_city: Houston
owner_country: US
publication_date: 20090630
---

{"@attributes":{"id":"description"},"RELAPP":[{},{}],"heading":["CROSS REFERENCE TO RELATED APPLICATIONS","BACKGROUND","DETAILED DESCRIPTION"],"p":["This application claims the benefit of U.S. Provisional Application No. 61\/076,941, filed Jun. 30, 2008. Furthermore, this application is related to International Application No. PCT\/US2008\/058006, filed Mar. 24, 2008, which claims the benefit of U.S. Provisional Application No. 61\/037,321, filed Mar. 17, 2008, both of which are incorporated by reference herein.","Video conferencing is an established method of simulated face-to-face collaboration between remotely located participants. A video image of a remote environment is broadcast onto a local display, allowing a local user to see and talk to one or more remotely located participants.","Social interaction during face-to-face collaboration is an important part of the way people work. There is a need to allow people to have effective social interaction in a simulated face-to-face meeting over distance. Key aspects of this are nonverbal communication between members of the group and a sense of being co-present in the same location even though some participants are at a remote location and only seen via video. Many systems have been developed that try to enable this. However, key problems have prevented them from being successful or widely used.","For instance, social nonverbal communication refers to the multiple ways humans gather information about what others are thinking and feeling and communicating using body language, facial expressions, position in a group and the activities performed. Many researchers from cognitive to perceptual scientists have studied the means by which humans have the ability to look at a group of people and see their activities and expressions and from these, develop powerful feelings of what the people in the group are thinking and feeling. The environment is a key part of enabling people to \u201cread\u201d other people. Many video conferencing systems fail to take this environment factor into account in their implementation. Therefore, there is a need to preserve these cognitive and perceptual clues during video conferencing sessions.","For the reasons stated above, and for other reasons that will become apparent to those skilled in the art upon reading and understanding the present specification, there is a need in the art for alternative video conferencing methods.","In the following detailed description of the present embodiments, reference is made to the accompanying drawings that form a part hereof, and in which is shown by way of illustration specific embodiments of the disclosure which may be practiced. These embodiments are described in sufficient detail to enable those skilled in the art to practice the subject matter of the disclosure, and it is to be understood that other embodiments may be utilized and that process or mechanical changes may be made without departing from the scope of the present disclosure. The following detailed description is, therefore, not to be taken in a limiting sense, and the scope of the present disclosure is defined by the appended claims and equivalents thereof.","Various embodiments described herein facilitate a unified meeting space view for improving social collaboration. Such embodiments enable a local endpoint to create a view of multiple remote endpoints by blending their video streams into a meeting space that provides context for the social communication. The meeting space is coordinated between participants to encourage accurate social communication.","Various terms are used within this description to describe various embodiments of the invention. For the purposes of helping to clarify the meaning of the terms, the following definitions are presented and are expanded upon when used within the specification.","An \u201cendpoint\u201d is defined as any videoconferencing location. In this specification, that can be a participant in an event.","An \u201cevent\u201d is meant to be understood broadly as including any designated time and virtual meeting place providing systems a framework to exchange information. An event allows at least one node to transmit and receive media information. According to one exemplary embodiment, the event exists separate and distinct from all nodes participating in collaboration. Further, an event may exist while nodes are exchanging information and may also exist while no nodes are participating.","A \u201cmeeting topology\u201d is a specific arrangement of meeting attendees\/locations as combined via a service into a logical, unified \u2018virtual\u2019 space. Relative locations and spatial relationships of participants (room\/table shape, and locations within), common meeting background elements (table, wall, etc.), nominal view distances, and view angles are all dependent on this arrangement. For example, a first location can be \u2018placed\u2019 to the right of a second location, and to the left of a third location, and directly across from a fourth location to make a combined virtual space of a circular table arrangement (see ). A location can be a meeting endpoint or a sub-set of a meeting endpoint.","A \u201cvirtual meeting layout service\u201d is a central software service provided on a network that accomplishes the above topologies formation in the computer implemented process of forming and executing the meeting and changes to the meeting.","A \u201cmultipoint video meeting\u201d is a video conference meeting where more than two locations joined into a single meeting.","\u201cSource-side compositing\u201d refers to video image combinations and manipulations from the camera-side, created and sent from an endpoint with its outgoing video stream to provide an appropriate view of that endpoint location as determined via rules for a meeting topology.","\u201cReceive-side compositing\u201d refers to video image combinations and manipulations that are created at the receiving endpoint to provide a specific view of incoming streams that is determined via rules for a meeting topology.","A \u201cmeeting background\u201d is an element or combination of visual elements based on objects or spatial references, used to perceptually anchor video participants into an implied meeting topology.","\u201cVirtual Collaboration\u201d is defined as a meeting where at least some of the participants of a meeting are at remote sites and are interconnected via video and audio media streams over a network.","\u201cBlended Space\u201d is defined such that it combines a local physical environment of one set of attendees with respective apparent spaces of other sets of attendees that are transmitted from two or more remote environments to create a geometrically consistent shared space for the collaboration event that maintains natural collaboration cues such as eye contact and directional gaze awareness. That is, the other attendees' remote environments are represented in the local physical environment of the local attendees in a fashion that is geometrically consistent with the local physical environment. By maintaining the geometric consistency, the resulting blended space extends the local physical environment naturally and consistently with the way the remote environments may be similarly extended with their own blended spaces. In this manner, each blended space for each set of attendees experiences natural collaboration cues such as sufficient eye contact and sufficient directional awareness of where other event attendees are looking at (e.g. gaze awareness). Each blended space thus provides dimensional consistency for all sets of attendees an apparent shared space that is sufficiently similar for all sets of attendees whether in local or remote locations.","A \u201ccentral management system\u201d is defined as a host computer including any number of hardware, software, firmware components, or any combination thereof. As used in the present specification, the central management system may be a part of or hosted by one or more computing devices including, but in no way limited to, servers, personal computers, personal digital assistants, or any other processor containing apparatus such as codes, switches, and routers, to name a few. Various subsystems and modules of the central management system may perform differing functions or roles and together remain a single unit, program, device, or system.","A \u201clocal management system\u201d is defined as is defined as a client computer including any number of hardware, software, firmware components, or any combination thereof. As used in the present specification, the local management system may be a part of or hosted by one or more computing devices including, but in no way limited to, servers, personal computers, personal digital assistants, or any other processor containing apparatus such as codes, switches, and routers, to name a few. Various subsystems and modules of the local management system may perform differing functions or roles and together remain a single unit, program, device, or system.","A \u201ccommon layout\u201d is a spatial arrangement of meeting participants, defined by its topology, that is shared between the joined video conference endpoints. This common layout can be thought of as meeting space \u2018themes\u2019 like meeting room, auditorium, conference space, etc.","A \u201clocal layout\u201d is the specific view that any location will have of the video conference meeting, from their perspective as appropriate for their position within the common layout and meeting topology.","An \u201cevent management client\u201d is an originator of an event management request. It may be a human driven event such as with a user interface or a machine request from another host or client, such as a concierge system running an event management application. Hosts or clients at various endpoints may change their manner of participation in an event. Accordingly, the \u201cevent management client,\u201d whether human or machine driven, allows for requesting to start and\/or update events in the virtual collaboration event.","In-person collaborative meetings typically take place in some kind of environment suitable for the type of meeting. The environment may be described by a meeting topology which defines a common layout theme implemented by the various endpoints to create a virtual meeting space. A small meeting might be virtualized in a simple room around a small table. Larger formal meetings might be virtualized in a conference room. Presentations to an audience might be virtualized in an auditorium. The environment is important because it provides a continuous geometrically consistent space where a participant can see other people who are participants in the virtual meeting space. In such a meeting topology, the participant can see positions of other people relative to each other and to themselves that preserves the geometric consistency of the meeting topology. Further, they can also see objects within the environment. These simple activities enable social nonverbal communication and a sense of closeness to other people which are the primary reasons for gathering together. It is desired that such relationships be maintained independent of the respective local event environments, be they a full conference room, a modular system, or a personal terminal, just to name a few examples.","For instance, one needs to know where other people are and whom they are looking at. One needs to see other people in correct size and shape and to see what objects in the environment they may be referring to. In conventional virtual collaboration where participants of a meeting are at remote sites, key non-verbal factors of how some people read other people are generally not available. With conventional multipoint video conferencing, a collection of video windows are placed on a data-like display. That is, participants are seen as inhabiting separate video windows on a display and are not integrated into a single geometrically consistent environment. This separate video window display means that one cannot accurately interpret other participant's facial expressions when they are directed at different participants in the meeting group. One may see them but can not be sure whom the other participants are looking at. The other participants in a meeting are typically displayed at different sizes and magnifications and at different heights and locations, respectively, depending on where a particular video window is placed on the data-like display. These artificially segmented video windows strengthen a feeling of separateness between the meeting participants and thus do not create a sense of a geometrically consistent shared or \u201cblended\u201d space where the participants are gathered.","For various embodiments, a meeting space is partly defined by means of a background image. This background may contain objects like tables or stages common to a meeting environment. The background image may further have information and items displayed such as lighting, chairs, walls and places for information like names, collaboration data and places, and time-of-day. This background image may defined by pixels, e.g., a fixed set of image data, or it may be defined logically, e.g., defining elements by size, placement, color, shading, etc. Video streams from a network are brought in to a local site and composited correctly into this meeting topology environment. Alternatively, the video streams are composited fully or partially at a host site and then further composited or directly displayed for viewing. The methods described herein include coordination between information in this virtual meeting space and information in the various video streams. For example, if the meeting is around a table, the meeting space may show that table in the background image and the video streams might have correctly sized table sections as well for aligning with the background table. In some cases, remote video streams may have trouble creating valid streams which meets the meeting topology requirements. The methods described herein may further provide for \u201cadding information to,\u201d or \u201cremoving information from,\u201d such video streams that lack the required proper structure.","In various embodiments, information in video streams is coordinated via a \u201cvirtual meeting layout service\u201d to create a compelling multipoint video meeting environment that preserves social non-verbal communication. Methods of coordinating the meeting space are established via rules for compositing correct information at the source-side endpoint and\/or a receive-side endpoint.","Most conventional multipoint video conference applications separate participant display video as a desktop window amongst others on a display. These participant windows are arranged in some uncoordinated or predetermined fashion but there has been no effort made to blend the video into a geometrically consistent environment desktop image theme.","For example, one conventional video conferencing application can create an arrangement of windows on the desktop for various types of information. For instance, a video stream of a single participant may be displayed in a single window at the upper left of a video display. A panorama image from one room may be displayed in another window at the bottom of the video display, etc. Accordingly, video streams from different sites are displayed separately.","In other examples, other conventional video conferencing applications can create a perspective method of arranging multipoint video streams. The desktop is made into a black background where video streams are placed in windows shown in perspective to create an illusion that the video is part of a curved or faceted space. However, such perspective methods do not address several problems. There is no relationship between the size of the video and the relative dimensions of the desktop. Video windows are displayed in a generic size rather than a size appropriate for the content of the stream. These perspective methods have one background and are not able to change the background depending on meeting type. The background and arrangement is the same for all meetings and there is no coordination of the location of participants so a person's relative position in a group is not maintained across all participants. Therefore, they are not geometrically consistent nor do they share a common blended space.","The methods and apparatus described herein address problems with these existing systems by creating proper meeting backgrounds coordinated to the specific meeting type and the geometric and relative positioning of participants via compositing participant video streams onto these backgrounds in a way that preserves scale and shape and position relative to other video streams from other endpoints and meeting elements, like tables.","A meeting topology is defined via a geometrically consistent participant location with a common layout for the environment that is shared consistently amongst the various endpoints within the virtual meeting. This common layout includes the relative orientation of seating positions and endpoints in the layout. This common layout can be illustrated as an explicit map as depicted in . Alternatively, the common layout could be defined by a mathematical relationship such as in commonly assigned U.S. patent application Ser. No. 11\/559,348, filed Nov. 13, 2006 and entitled \u201cBlended Space for Aligning Video Streams\u201d is incorporated by reference herein.  shows a circular layout of endpoints, assigning relative positions around a table . In this common layout, endpoint  would have endpoint  on its left, endpoint  directly across and endpoint  on its right. Consistent with the common layout, endpoint  might then display images from endpoints ,  and  from left to right. Note that this layout is not restricted by actual physical locations of the various endpoints, but is concerned with their relative placement within a virtual meeting space. Similarly, endpoint  might then display images from endpoints ,  and  from left to right, and so on for the remaining endpoints. For such a meeting type, each endpoint might display the images from other endpoints composited onto a background depicting a table, as described in more detail herein.",{"@attributes":{"id":"p-0046","num":"0045"},"figref":"FIG. 1B","b":["101","102","113","102","113","101","109","113","102","104"]},{"@attributes":{"id":"p-0047","num":"0046"},"figref":"FIG. 1C","b":["100","101","102","109"]},"Regardless of the number of endpoints or the chosen meeting type, the various embodiments make use of a common layout of a meeting topology common to each endpoint. The common layout will define the respective geometries of the video streams and the relative placement of participants in a composited image for each endpoint and the respective background image to be used for each endpoint according to the meeting topology in order to construct the overall virtual meeting space. However, as noted above, e.g., with respect to an auditorium meeting type, a background image need not be the same for each endpoint, but is merely defined for each endpoint according to the common layout in the meeting topology.","For one embodiment, the common layout is defined at a central management system, e.g., a hosting service, coordinating the video conference among the endpoints. The local management system of each endpoint coordinates with the central management system to determine at least a) what type of meeting is being held, b) what video stream is desired from that local endpoint, and c) what video streams will be received from remote endpoints, and d) what background will be used. This background image may have information and items displayed such as lighting, tables, chairs, walls and places for information like names, collaboration data and places, and time-of-day. As such, each background image may be different for each endpoint but remain consistent for the common layout within the meeting toplogy. For another embodiment, one of the endpoints includes the function of the central management system in addition to being a video source and endpoint client.","For one embodiment, the local client endpoints provide video streams (source-side compositing) consistent with geometric and content rules established by the common layout of the meeting topology. For example, geometric rules include but are not limited to field of capture, zoom magnification, camera angle, and aspect ratio. Content rules may include rules that deal with items like tables and chairs and backgrounds of proper color for the meeting topology established by the common layout. Alternatively, in receive-side compositing, the video streams may be edited by the central management system or by the remote receiving endpoints to meet the rules of the common layout.","In cases where the local client endpoint cannot create a valid stream for the meeting topology rules directly from the image captured with its camera, the local client endpoint also may have the opportunity to edit the video stream. This video stream editing can include scaling to the desired image dimensions, cropping to remove undesired elements, or padding to fill the image to the desired dimensions, including the possibility of adding the background.","Following creation of the desired video streams for the meeting topology rules from the participating endpoints, the video streams of each local endpoint are composited onto a respective meeting space background for the desired video streams appropriate to the meeting topology rules. The meeting space background fills in gaps between images with appropriate structure and creates the context for the meeting space.","For some embodiments, the field of capture, i.e., the geometry of the captured image, for a local endpoint is defined by the common layout in the meeting topology rules. For example, the common layout may define that each local endpoint has a field of capture to place four seating locations in the image. Creating video streams from standard fields of capture can be accomplished physically via Pan-Tilt-Zoom-Focus controls on cameras or digitally via digital cropping or other manipulation from larger images. Multiple fields can be captured from a single local space endpoint and used as separate modules within the common layout. Common layouts can account for local endpoints with multiple fields by treating them as separate local endpoints within the meeting topology, for example.","Each local endpoint participating in a virtual video conference would have its own view of the event. For some embodiments, each local endpoint will have a different view, i.e., local layout, corresponding to its positioning as defined in the common layout within the meeting topology.","The local layout is a system for establishing locations for displaying video streams that conform to these rules. The following various embodiments will be described using the examples of a meeting space around a circular table. The extension to other meeting space geometries such as an auditorium or classroom will be apparent from such examples.",{"@attributes":{"id":"p-0056","num":"0055"},"figref":["FIG. 2A","FIG. 1A","FIG. 2A"],"b":["204","204","202","203","204","202","202","203"]},{"@attributes":{"id":"p-0057","num":"0056"},"figref":["FIG. 2B","FIG. 2A","FIG. 1A","FIG. 1A"],"b":["206","206","206","206","102","103","104","206","206","206","206","206","200","200","202","201","203","204"],"i":["a","c ","a","c ","a","c "]},{"@attributes":{"id":"p-0058","num":"0057"},"figref":["FIG. 2C","FIG. 2C"],"b":["206","206","204","200","206","202","206","204","206","204","202","206","202","200","202"],"i":["a","c "]},"While the video streams of  were shown to have differing geometries dependent upon their placement within the composited background image of , to maintain the relative positioning of endpoints for each receiving endpoint might involve creating multiple video streams from each endpoint. For example, referring to the common layout of , the video stream from endpoint  would have the geometry of video stream when viewed from endpoint , video stream when viewed from endpoint , and video stream when viewed from endpoint . While this composited image could be achieved by using multiple cameras, each configured to capture the appropriate video stream geometry, or through non-rectangular cropping of a single video stream, an alternative may be to display the video streams  in perspective to align the edges of their tables  with the edges of the table image .  is a representation of a composited background image where video streams -each conform to a single geometry, e.g., the geometry of video stream , but video streams and are displayed in perspective to align the edges of their tables  with the edges of the table image .","Note that while the edges of the tables  are substantially aligned with the edges of the table image  of  or D, there is no requirement of absolute alignment. The intention is merely to facilitate the perception of a single meeting space. To reduce any distraction from absolute alignment, the edges of the table image  may be softened as a rule. FIG. A is a representation of a background image  showing the table image  having softened edges. The background image  further includes elements  and  at the upper and lower portions of the background image , respectively. The elements  and , shown to fade from darker to lighter as a rule, may serve to focus attention of the video streams of the endpoints.  shows the video streams -composited onto the background image  of .","While , D and B depict video streams  having the same image dimensions, captured video streams from some endpoints may not be capable of providing the correct dimensions, or there may be undesirable elements contained within the content of the video stream.  is a representation of video streams -received from one or more endpoints for compositing within a background image in accordance with an embodiment. The video stream depicted in  is shown to have only two participants, leaving empty chairs in the image as undesired content. The video streams -are further depicted to include a wall seam  within their images. To remove the empty chairs from the video stream , the image might be cropped as depicted by dashed line . Cropping of video stream might produce video stream  as shown in . Note that the cropping of video stream not only removes the empty chairs, but also the wall seam  in this example. It is noted that the video stream  may also represent the video stream of an endpoint that is not capable of producing an image of the desired dimensions. For example, for an endpoint configured for two participants instead of four participants, its field of capture may not extend far enough to capture its two participants at the same scale as a field of capture of an endpoint configured for four participants.","The video streams ,  and of  may be composited onto a background image  as-is, such as depicted in . As shown in , the background element  has an edge  aligned with the wall seams  of video streams and . Such alignment carries the feel of this architectural artifact, i.e., the wall seams , through the composited image. However, the video stream  lacks capture of the wall seam  from its endpoint. If this wall seam is desired, matting or other manipulation may be employed to add desired elements from a cropped video stream, or simply to replace desired elements to a video stream that is geometrically smaller than desired.",{"@attributes":{"id":"p-0063","num":"0062"},"figref":["FIG. 5A","FIG. 1A","FIG. 5A","FIG. 3B","FIG. 5B","FIG. 5C","FIG. 5D","FIG. 5C","FIG. 4C"],"b":["218","218","220","222","218","206","2","206","1","218","206","206","2","206","206","206","2","206","204","206","212","206","206","220","206","2","216","208"],"i":["b","b","a","b","c ","a","b","c ","a ","c","b"]},"In addition to video streams from the participating endpoints, the composited image may further include the addition of content such as informational elements or identifying information.  depicts one example of a background image  including a table image , three video streams -, and a white board , all composited within the single composite image.  depicts another example, where the white board  is placed in the same space with the video streams  showing remote participants.  depicts an example of identifying information -being included in the composite image to identify the originating location corresponding to the video streams -, respectively. Alternatively, the identifying information -might be used to identify departments, teams or companies participating in the video conference. Other examples of informational elements or identifying information will be apparent to those involved in video conferencing.",{"@attributes":{"id":"p-0065","num":"0064"},"figref":"FIG. 7"},"At , a common layout for a meeting topology is defined for participants of the video conference corresponding to a selected meeting type. The common layout is consistent across each participating endpoint for its location within the meeting topology and defines the geometry of the virtual meeting space. However, as noted above, e.g., with respect to the common layouts of , different endpoints may be different roles within the meeting space.","At , one or more background images conforming to the common layout are defined. The background image for each participating endpoint depicts a view of a meeting space of the selected meeting type from a point of view of that participating endpoint. The common layout defines the type of background image to be used for each participating endpoint, generally conforming to the geometry of the common layout. Multiple background images may be available for each common layout as noted above. Similarly, the background image need not be consistent for each endpoint, but is determined by the meeting topology for the global meeting type based on the role each endpoint plays in the global meeting type. For example, in a classroom meeting type, one endpoint acting as the instructor may utilize a different background image than remaining endpoints acting as students, but each conforms to the geometry of the common layout from the perspective of the participant's role in that meeting.","At , geometric rules are defined for video streams to be received from the endpoints participating in the video conference. These rules conform to the common layout and the selected background image to permit compositing of the video streams with the background image to facilitate the perception of a virtual meeting space for the type of meeting defined by the common layout. Implementation of the geometric rules for the video streams may be carried out by the source endpoint, e.g., capturing an image having the desired geometry or capturing an image and editing that image to obtain the desired geometry, prior to transmission of that video stream. As noted above, correction may include cropping, matting or other manipulation of the image to obtain the desired geometry. Alternatively, a central management system, or even a receiving endpoint, may correct a received video stream that does not conform to the common layout rules to obtain the desired geometry. For example, the central management system may obtain a video stream from one of the endpoints that is incapable of providing the desired geometry. The central management system may then correct that non-conforming video stream to obtain the desired geometry. This corrected video stream is then provided to one or more other endpoints. In another example, the receiving endpoint may correct that non-conforming video stream before compositing it within the background image.","At , locations are defined, for each participating endpoint, within its background image for placement of video streams from the other participating endpoints. These locations are determined by the relative positions of the endpoints within the common layout as well as the geometries of the video streams and the background image.","At , video streams from one or more remote endpoints are composited onto the background image of a local endpoint. The video streams having the desired geometries are composited onto the background image such that edges of one or more elements of each video stream align with an edge of a corresponding one or more elements of the background image to facilitate the perception of a single virtual meeting space shared by the participants of each endpoint. In addition, additional images or content may be composited onto the background image, such as informational elements or identifying information.",{"@attributes":{"id":"p-0071","num":"0070"},"figref":"FIG. 8","b":["880","880","101","104","101","104","884","101","104","880","880","882","883","101","104","883","882","882","101","104","882","883","882"]},"The local management system  may be part of an endpoint, such as a client computer associated with each endpoint, or it may be a separate component, such as a server computer. The central management system  acts as a host computer and may be part of an endpoint or separate from all endpoints, e.g., the central management system  may be a function of a server computer on the network . The local management system  may contain a single computer having one or more processors to provide both client and server capabilities.","For instance, a client endpoint may have a local management system  operating on a computer system within a virtual meeting. Optionally, the client endpoint may provide a host service for another client endpoint in a virtual collaboration event. The computer includes computer readable memory configured to allow the computer to implement a compositing function for the local layout of the virtual collaboration event. The computer receives information from a host central management system  to setup rules for a common layout of multiple video streams received at the computer. A composited image is created by compositing the multiple video streams onto a background that includes an object while keeping at least one of a proper perspective, order, and substantial alignment to the object of the multiple video streams based on the rules of the common layout. The background is a meeting space that fills in gaps between the multiple video streams with appropriate structure of the object. The background helps to create the context of the meeting space for the participants of the virtual collaboration event. The composited image is displayed on a display within the client endpoint or sent to a remote client if the client endpoint is acting as a host service.","The client computer may also request the rules for the common layout from the host for a given meeting type and a given number of participants. If the client computer does not perform the request, it is done by another client computer in the event or other event management client.","The client computer may also mat received video streams to replace or add desired elements so that the video streams meet the rules for the common layout. The client computer may also generate at least one video stream based on the rules of the common layout by using at least one of the techniques of camera positioning, zoom, angle, perspective, field of capture, or aspect ratio. The client computer may also do post-capture editing of the received or generated video streams with matting to replace or add desired elements to allow them to conform to the common layout. In addition, the background of the common layout may contain multiple objects for the video streams to align to. The objects may have at least one edge that is softened or there may be elements of the objects that fade from darker to lighter.","The central management system acts as a host to provide a virtual meeting common layout service for the virtual collaboration event. When doing so, a request from a client is received to organize a unified meeting space event, e.g., an event that takes place in a unified meeting space, based on at least one of an event type, a list of event endpoints, and endpoint capabilities. The host determines the background rules for a background containing an alignment object for each of the one or more of the event endpoints to substantially align video streams to. The determined background rules are sent to each event endpoint as rules for a common layout of the unified meeting space event.","The host may also determine rules for video stream management between the event endpoints or with the host and the endpoints based on the organized unified meeting space. The host may send the determined rules for the video stream alignment as part of the rules for the common layout. The host may also receive video streams from one or more event endpoints to create at least one composited stream based on the rules for the common layout. If the host is acting also as a client endpoint, it may display the composited stream on its local display. If the host is providing a compositing service to another event endpoint it may send the composited stream to that event endpoint for its display at that location.","The host may also receive a video stream from at least one endpoint and mat it the received video stream to replace or add desired elements consistent with the rules for the common layout. The host may then send the matted video stream to another event endpoint for display.","The background may contain multiple objects to align the video streams to. The alignment objects may have one or more edges that are softened and\/or other elements that fade from darker to lighter.","The central management system may be configured to act as a host with an application programming interface (API) to provide the various functions required to setup and configure the unified meeting space for the event by communicating over a network to client endpoints and possibly other event management clients. The API is configured to receive requests from the client and to provide responses to the requests back to the respective client. The requests from the clients can cause the host to perform one or more of the following actions:\n\n","Additionally, the host API may be configured to edit video streams for participating endpoints that do not conform to the geometric rules. Also, the API may be configured to composite video streams from one or more of the endpoints onto a background image conforming to the common layout. The API can also be configured to define one or more background images to have softened edges of one or more elements or to have one or more elements that fade from darker to lighter.","The various embodiments described have advantages over other existing solutions. Source-side compositing can be used to correct image size and content before transmitting a video stream. This makes is easy for the receiving endpoints to arrange the source-side composited video streams into a final composited panoramic multipoint image on an appropriate background image.","Receive-side compositing at an endpoint allows streams of many sizes to be arranged against a background that improves the sense of environment and connectedness. Coordination of these compositing operations via central management allows all participants in the meeting to have consistent views and arrangements which better simulates a common meeting environment.","As such, there may be at least two compositing levels:\n\n","In one embodiment, one can do (1) above at the source-side combining multiple video streams with a local background image. This type 1 compositing is used to \u201ccorrect\u201d an image for size mismatch with that required by the event. The advantage for doing type 1 compositing at the host or at a service provided by a host is that video streams can be adjusted to suit receive clients endpoints that are unable to process the video streams themselves to meet the common layout. For example, some conventional video conferencing terminals or rooms are not currently able to crop or resize images. Therefore, one endpoint may need to create a valid video stream for display directly to a non-compliant common layout endpoint's display.","In one embodiment, the type (2) compositing is done at the client endpoint side. Streams from multiple endpoints are received by each client endpoint. Each client endpoint then composites these streams into a common layout defined for the event. The arrangement of the common layout and type of background is coordinated with the meeting central management system where ever that is on the network.","There are different levels of operations for the event endpoints to implement or request a host service to provide that can be defined for video streams which all need information (common layout rules) about the common layout event.","For Individual video stream operations, the event endpoint or host can operate on video streams to meet the common layout rules by:\n\n","For Multiple stream operations, the event endpoint or host can operate on video streams to meet the common layout rules by:\n\n","These operations can occur at a source (host) or a receive (client) endpoint or at some process on a computer acting as a host service. Generally, there is an ordering to the operation where they generally flow from a) to f) as noted above.","In one embodiment, host and clients are coordinated to allocate the operations a)-f) above. For instance, in one embodiment a video conference endpoint largely performs a-c at the host and d-f at the client. In another embodiment all steps are performed in one host or client: In another embodiment, operations a)-d) are done on an endpoint client and operations e)-f) are done based on common layout rules form the central management server. Operations b)-c) can be performed at a host service or endpoint client. For example, an older video telepresence conferencing endpoint may only be able to supply non-compliant video streams according to the common layout rules. The host service or client can repair the streams in operations b) and c) prior to operations d)-f)."],"BRFSUM":[{},{}],"brief-description-of-drawings":[{},{}],"description-of-drawings":{"heading":"BRIEF DESCRIPTION OF THE DRAWINGS","p":[{"@attributes":{"id":"p-0007","num":"0006"},"figref":"FIGS. 1A-1C"},{"@attributes":{"id":"p-0008","num":"0007"},"figref":"FIG. 2A"},{"@attributes":{"id":"p-0009","num":"0008"},"figref":["FIG. 2B","FIG. 2A"]},{"@attributes":{"id":"p-0010","num":"0009"},"figref":["FIG. 2C","FIG. 2A"]},{"@attributes":{"id":"p-0011","num":"0010"},"figref":["FIG. 2D","FIG. 2A"]},{"@attributes":{"id":"p-0012","num":"0011"},"figref":"FIG. 3A"},{"@attributes":{"id":"p-0013","num":"0012"},"figref":["FIG. 3B","FIG. 3A"]},{"@attributes":{"id":"p-0014","num":"0013"},"figref":"FIGS. 4A-4C"},{"@attributes":{"id":"p-0015","num":"0014"},"figref":"FIGS. 5A-5D"},{"@attributes":{"id":"p-0016","num":"0015"},"figref":"FIGS. 6A-6C"},{"@attributes":{"id":"p-0017","num":"0016"},"figref":"FIG. 7"},{"@attributes":{"id":"p-0018","num":"0017"},"figref":"FIG. 8"}]},"DETDESC":[{},{}]}
